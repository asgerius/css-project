[{"tags": ["android", "android-fragments", "kotlin", "font-awesome", "android-fonts"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545866201, "post_id": 53938047, "comment_id": 94716254, "body": "Are you sure that you have <code>assets&#47;fonts&#47;fontawesome5-free-regular.otf</code> in your project? Do you get the same box-with-cross if you skip the <code>iconFont</code> and just display things like <code>R.string.fa_icon_sign_out</code> with the default font?"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545866719, "post_id": 53938047, "comment_id": 94716362, "body": "@CommonsWare Yes to both questions"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545867848, "post_id": 53938047, "comment_id": 94716539, "body": "With <code>iconFont</code> set to the FontAwesome font, try setting a <code>TextView</code> to something human-readable, such as &quot;MacaronLover&quot;. If you see &quot;MacaronLover&quot; when you run the app, that suggests that <code>Typeface.createFromAsset()</code> either is not finding the font asset or doesn&#39;t like the font, and so it is falling back to the default. In that case, see if LogCat has any messages that seem relevant, and add an instrumented test to confirm that you do have <code>assets&#47;fonts&#47;fontawesome5-free-regular.otf</code> (if you don&#39;t have such a test already)."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545867925, "post_id": 53938047, "comment_id": 94716554, "body": "Note that my &quot;MacaronLover&quot; test assumes that FontAwesome uses the full ASCII set for glyphs -- if it uses real letters there, then that test won&#39;t work."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545868727, "post_id": 53938047, "comment_id": 94716676, "body": "&quot;MacaronLover&quot; appeared when I set the TextView to that, but I noticed that after opening the font file, the full alphabet and numerals appear rather than boxes or question marks. Strange. See attached screenshot. I also get an error in the debugger &#39;icon = Unresolved reference: icon&#39;"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545869375, "post_id": 53938047, "comment_id": 94716779, "body": "OK, it&#39;s possible that FontAwesome leaves the basic ASCII stuff alone. Basically, I&#39;m trying to determine if the FontAwesome font is even being used by your app, or if it is falling back to the default. That may be difficult to tell with plain letters and numbers. FWIW, <a href=\"https://github.com/FortAwesome/Font-Awesome/issues/13903\" rel=\"nofollow noreferrer\">this issue</a> suggests that the FontAwesome folks aren&#39;t really supporting using FontAwesome in an Android app."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545869559, "post_id": 53938047, "comment_id": 94716802, "body": "Page not found, lol"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545869617, "post_id": 53938047, "comment_id": 94716809, "body": "Sorry, try the link now."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1545923747, "post_id": 53938047, "comment_id": 94732681, "body": "What an absolute shame and disgrace for FontAwesome. Now I have to go through the process of creating 2 different coloured versions (black &amp; white) of every XML drawable icon I want. FontAwesome handled this perfectly."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 1, "creation_date": 1545926417, "post_id": 53938047, "comment_id": 94733759, "body": "@MacaronLover you can always <b>Tint</b> the drawable, no need to create two versions"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545927038, "post_id": 53938047, "comment_id": 94734027, "body": "@OmarMainegra is there a recommended color (like black) that I should set to the drawable first before applying any tinting?"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545927534, "post_id": 53938047, "comment_id": 94734251, "body": "I would say, make the default color the one you use the most, and tint the others, or maybe tint every <code>ImageView</code> with the corresponding color (it&#39;s more explicit and less error prone)"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545868097, "creation_date": 1545865297, "last_edit_date": 1545868097, "question_id": 53938047, "link": "https://stackoverflow.com/questions/53938047/fontawesome-5-icons-wont-appear-properly-in-programmatically-created-fragment", "title": "FontAwesome 5+ icons Won&#39;t Appear Properly in Programmatically Created Fragment", "body": "<p>I'm trying to use the latest version of the FontAwesome typeface for a <code>TextView</code> in a <code>LinearLayout</code> that I created programmatically, but instead a box is shown containing a cross. I tried both <code>FontManager.getTypeface(activity!!.baseContext, FontManager.FONTAWESOME)</code> and <code>FontManager.getTypeface(activity!!.applicationContext, FontManager.FONTAWESOME)</code> but neither of these worked. I'm even using the latest <code>.otf</code> file provided by FontAwesone. I really don't understand what I've done wrong, because I followed all the instructions on the FontAwesome website. Is there a problem because the layout is created dynamically or something else?</p>\n\n<p><strong>FontManager object</strong></p>\n\n<pre><code>object FontManager {\n    private const val ROOT = \"fonts/\"\n    internal const val FONTAWESOME = ROOT + \"fontawesome5-free-regular.otf\"\n\n    internal fun getTypeface(context: Context, font: String): Typeface {\n        return Typeface.createFromAsset(context.assets, font)\n    }\n}\n</code></pre>\n\n<p><strong>Fragment class</strong></p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val mainRelativeLayout = RelativeLayout(activity)\n\n        // Layout Parameters for relative layout items\n        val rlpCVPrimary = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVPrimaryIcon = RelativeLayout.LayoutParams(LinearLayout.LayoutParams\n                .WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVPrimaryText = RelativeLayout.LayoutParams(LinearLayout.LayoutParams\n                .WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVTitle = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpCVSecondary = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVSecondaryIcon = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n        val rlpTVSecondaryText = RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,\n                FrameLayout.LayoutParams.WRAP_CONTENT)\n\n        // Accessing FontAwesome font\n        val iconFont = FontManager.getTypeface(activity!!.applicationContext, FontManager.FONTAWESOME)\n\n        //\n        val r = context!!.resources\n        val fourDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 4f, r.displayMetrics).toInt()\n        val tenDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10f, r.displayMetrics).toInt()\n        val thirtyDp = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 30f, r.displayMetrics).toInt()\n\n        // Creating RelativeLayouts for root layout\n        val cvRLPrimary = RelativeLayout(context)\n        val cvRLSecondary = RelativeLayout(context)\n\n        // Creating CardViews\n        val cvPrimary = context?.let { CardView(it) }\n        when {\n            cvPrimary != null -&gt; {\n                cvPrimary.radius = fourDp.toFloat()\n                cvPrimary.setContentPadding(tenDp,tenDp,tenDp,tenDp)\n                cvPrimary.useCompatPadding = true\n                cvPrimary.cardElevation = fourDp.toFloat()\n                cvPrimary.layoutParams = rlpCVPrimary\n            }\n        }\n        rlpCVPrimary.setMargins(0, 0, 0, thirtyDp)\n\n        val cvSecondary = context?.let { CardView(it) }\n        when {\n            cvSecondary != null -&gt; {\n                cvSecondary.radius = fourDp.toFloat()\n                cvSecondary.setContentPadding(tenDp,tenDp,tenDp,tenDp)\n                cvSecondary.useCompatPadding = true\n                cvSecondary.cardElevation = fourDp.toFloat()\n                cvSecondary.layoutParams = rlpCVSecondary\n            }\n        }\n        rlpCVSecondary.setMargins(0, 0, 0, thirtyDp)\n\n        /*\n         * Creating Primary CardView items\n         */\n        // 'tvPrimaryIcon' TextView\n        val tvPrimaryIcon = TextView(context)\n        tvPrimaryIcon.text = getString(R.string.fa_icon_sign_in)\n        tvPrimaryIcon.typeface = iconFont\n        tvPrimaryIcon.layoutParams = rlpCVPrimary\n        tvPrimaryIcon.setMargins(0, 0, tenDp, 0)\n        TextViewCompat.setTextAppearance(tvPrimaryIcon, android.R.style.TextAppearance_Medium)\n\n        // 'tvPrimaryText' TextView\n        val tvPrimaryText = TextView(context)\n        tvPrimaryText.text = getString(R.string\n                .primary_title)\n        TextViewCompat.setTextAppearance(tvPrimaryText, android.R.style.TextAppearance_Medium)\n\n\n        // 'tvTitle' TextView\n        val tvTitle = TextView(context)\n        tvTitle.text = getString(R.string.hello_world)\n        tvTitle.gravity = Gravity.CENTER\n        TextViewCompat.setTextAppearance(tvTitle, android.R.style.TextAppearance_Medium)\n        rlpTVTitle.setMargins(0, tenDp, 0, tenDp)\n\n        /*\n         * Creating Secondary CardView items\n         */\n        // 'tvSecondaryIcon' TextView\n        val tvIconExit = TextView(context)\n        tvIconExit.text = getString(R.string.fa_icon_sign_out)\n        tvIconExit.typeface = iconFont\n        TextViewCompat.setTextAppearance(tvIconExit, android.R.style.TextAppearance_Medium)\n        rlpTVIconExit.setMargins(0, 0, tenDp, 0)\n\n        // 'tvSecondaryText' TextView\n        val tvSecondaryText = TextView(context)\n        tvSecondaryText.text = getString(R.string.secondary_title)\n        TextViewCompat.setTextAppearance(tvSecondaryText, android.R.style.TextAppearance_Medium)\n\n\n        // Set IDs for text views\n        mainRelativeLayout.id = View.generateViewId()\n        cvPrimary!!.id = View.generateViewId()\n        tvPrimaryIcon.id = View.generateViewId()\n        tvPrimaryText.id = View.generateViewId()\n        tvTitle.id = View.generateViewId()\n        cvSecondary!!.id = View.generateViewId()\n        tvSecondaryIcon.id = View.generateViewId()\n        tvSecondaryText.id = View.generateViewId()\n\n        // Set Layout Parameters for text views\n        tvPrimaryIcon.layoutParams = rlpTVPrimaryIcon\n        tvPrimaryText.layoutParams = rlpTVPrimaryText\n        tvTitle.layoutParams = rlpTVTitle\n        tvSecondaryIcon.layoutParams = rlpTVSecondaryIcon\n        tvSecondaryText.layoutParams = rlpTVSecondaryText\n\n        // Set RelativeLayout rules for views\n        rlpTVPrimaryText.addRule(RelativeLayout.END_OF, tvPrimaryIcon.id)\n        rlpTVTitle.addRule(RelativeLayout.BELOW, cvPrimary.id)\n        rlpCVSecondary.addRule(RelativeLayout.BELOW, tvTitle.id)\n        rlpTVSecondaryText.addRule(RelativeLayout.END_OF, tvSecondaryIcon.id)\n\n        // Adding items to root layout\n        mainRelativeLayout.addView(cvPrimary)\n        cvPrimary.addView(cvRLPrimary)\n        cvRLPrimary.addView(tvPrimaryIcon)\n        cvRLPrimary.addView(tvPrimaryText)\n        mainRelativeLayout.addView(tvTitle)\n        mainRelativeLayout.addView(cvSecondary)\n        cvSecondary.addView(cvRLSecondary)\n        cvRLSecondary.addView(tvSecondaryIcon)  \n        cvRLSecondary.addView(tvSecondaryText)\n\n        return mainRelativeLayout\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/20481.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/20481.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5634211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ddc96bd5d612cea8b4c07cff885da3?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Walsh", "link": "https://stackoverflow.com/users/5634211/andrew-walsh"}, "edited": false, "score": 0, "creation_date": 1545857038, "post_id": 53936809, "comment_id": 94713928, "body": "Thanks, that was definitely the issue!"}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 2, "last_activity_date": 1545856047, "creation_date": 1545856047, "answer_id": 53936809, "question_id": 53936754, "link": "https://stackoverflow.com/questions/53936754/fetching-android-id-with-kotlin-for-a-webapp/53936809#53936809", "title": "Fetching Android ID with Kotlin for a webapp", "body": "<p>You've imported <code>android.provider.Settings.Secure</code>, not <code>android.provider.Settings</code>.</p>\n\n<p>Either change your import to <code>android.provider.Settings</code> or use <code>Secure.ANDROID_ID</code> instead of <code>Settings.Secure.ANDROID_ID</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 5634211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ddc96bd5d612cea8b4c07cff885da3?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Walsh", "link": "https://stackoverflow.com/users/5634211/andrew-walsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "accepted_answer_id": 53936809, "answer_count": 1, "score": 0, "last_activity_date": 1546020880, "creation_date": 1545855709, "last_edit_date": 1546020880, "question_id": 53936754, "link": "https://stackoverflow.com/questions/53936754/fetching-android-id-with-kotlin-for-a-webapp", "title": "Fetching Android ID with Kotlin for a webapp", "body": "<p>I can only find guides for javascript implementations of what I am trying to do. I need to pull some sort of unique ID and send it to my web app for Auth verification.</p>\n\n<p>The error I am receiving is </p>\n\n<pre><code>in MainActivity.kt: (22, 29): Unresolved reference: Settings\n</code></pre>\n\n<p>This is my MainActivity.kt</p>\n\n<pre><code>import android.provider.Settings.Secure;\n\nclass MainActivity : AppCompatActivity() {\n\n    private val androidId = Settings.Secure.getString(\n    contentResolver,\n    Settings.Secure.ANDROID_ID\n    )\n}\n</code></pre>\n\n<p>For now I just want to be able to tack on the device_id as a php variable for my web app. Something like below:</p>\n\n<pre><code>private val url = \"https://test.local?id=\" + androidId\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10836251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6705814b4cc4167960ee7d14b12fb9?s=128&d=identicon&r=PG&f=1", "display_name": "Dossanov", "link": "https://stackoverflow.com/users/10836251/dossanov"}, "edited": false, "score": 0, "creation_date": 1545992591, "post_id": 53939875, "comment_id": 94751633, "body": "how i get parent parent toolbar name?"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1545886039, "creation_date": 1545886039, "answer_id": 53939875, "question_id": 53935722, "link": "https://stackoverflow.com/questions/53935722/how-i-get-parent-parent-toolbar-name/53939875#53939875", "title": "How i get parent parent toolbar name", "body": "<p>You can get/set toolbar Tile like this way</p>\n\n<pre><code>var title=(context as YourActivity).supportActionBar?.title             //getter\n(context as YourActivity).supportActionBar?.title =\"my new title\"      //setter\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10836251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd6705814b4cc4167960ee7d14b12fb9?s=128&d=identicon&r=PG&f=1", "display_name": "Dossanov", "link": "https://stackoverflow.com/users/10836251/dossanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545992520, "creation_date": 1545848973, "last_edit_date": 1545992520, "question_id": 53935722, "link": "https://stackoverflow.com/questions/53935722/how-i-get-parent-parent-toolbar-name", "title": "How i get parent parent toolbar name", "body": "<p>In my android app, in AdapterActivity i get toolbar name from MainActivity with intent</p>\n\n<p>in AdapterActivity I have list, with click will open DetailActivity.class\nFor DetailActivity i send data in Adapter method is onCreateViewHolder</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(parent.context).inflate(R.layout.row_item_sozder, parent, false)\n    val holder = ViewHolder(view)\n    view.setOnClickListener {\n        val intent = Intent(parent.context, DetailActivity::class.java)\n        intent.putExtra(\"TILEK\", alphabets[holder.adapterPosition].kaz)\n        parent.context.startActivity(intent)\n    }\n    return holder\n\n}\n</code></pre>\n\n<p>How can i sent toolbar name for DetailActivity from MainActivity's intent</p>\n"}, {"tags": ["kotlin", "micronaut"], "comments": [{"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1545846890, "post_id": 53935300, "comment_id": 94710904, "body": "Can you show all of your Micronaut related dependencies?"}, {"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1545847432, "post_id": 53935300, "comment_id": 94711049, "body": "Are you doing that <code>configurations.compile.collect</code> thing for your <code>jar</code> config because you don&#39;t want to use the shadow plugin?"}, {"owner": {"reputation": 43, "user_id": 3325710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44075a043ed8f37b17c46909bba59d18?s=128&d=identicon&r=PG", "display_name": "Italux", "link": "https://stackoverflow.com/users/3325710/italux"}, "reply_to_user": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1545849532, "post_id": 53935300, "comment_id": 94711751, "body": "@JeffScottBrown Yes, I start using <code>configurations.compile.collect</code> and after I figure out the shadow plugin. About the dependencies, all are declared on <code>dependencies.gradle</code>"}, {"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1545881795, "post_id": 53935300, "comment_id": 94718514, "body": "Without seeing the project, it will be difficult to say what is wrong."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 3325710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44075a043ed8f37b17c46909bba59d18?s=128&d=identicon&r=PG", "display_name": "Italux", "link": "https://stackoverflow.com/users/3325710/italux"}, "edited": false, "score": 0, "creation_date": 1545853091, "post_id": 53935425, "comment_id": 94712830, "body": "<code>compile &quot;io.micronaut:micronaut-http-server-netty&quot;</code> is defined on <code>dependencies.gradle</code> but even there I still facing the error. What is the best way to use shadowJar?"}, {"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "reply_to_user": {"reputation": 43, "user_id": 3325710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44075a043ed8f37b17c46909bba59d18?s=128&d=identicon&r=PG", "display_name": "Italux", "link": "https://stackoverflow.com/users/3325710/italux"}, "edited": false, "score": 0, "creation_date": 1545881735, "post_id": 53935425, "comment_id": 94718502, "body": "&quot;What is the best way to use shadowJar?&quot; - It depends on what you want to do with it.  The default generated configuration that is created by <code>mn create-app someappname</code> works for most needs."}, {"owner": {"reputation": 3657, "user_id": 523725, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d9018c516ed0a5ea4aaf4ffbeb9dd2fe?s=128&d=identicon&r=PG", "display_name": "Lobo", "link": "https://stackoverflow.com/users/523725/lobo"}, "edited": false, "score": 0, "creation_date": 1551169993, "post_id": 53935425, "comment_id": 96531694, "body": "Is there any solution for this? I have the same problem"}, {"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "edited": false, "score": 0, "creation_date": 1551188606, "post_id": 53935425, "comment_id": 96542717, "body": "&quot;Is there any solution for this?&quot; - Yes, but the solution will depend on the specifics of what is configured wrong in the project.  If you can share a sample project which demonstrates the issue, I can show you how to fix the problem in that project."}, {"owner": {"reputation": 652, "user_id": 1029247, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dlF8s.jpg?s=128&g=1", "display_name": "thisdotnull", "link": "https://stackoverflow.com/users/1029247/thisdotnull"}, "edited": false, "score": 0, "creation_date": 1572999941, "post_id": 53935425, "comment_id": 103735423, "body": "@JeffScottBrown can you please help here - <a href=\"https://stackoverflow.com/questions/58720932/how-to-create-micronauts-fat-jar-without-shadow-plugin\" title=\"how to create micronauts fat jar without shadow plugin\">stackoverflow.com/questions/58720932/&hellip;</a>"}, {"owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "reply_to_user": {"reputation": 652, "user_id": 1029247, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dlF8s.jpg?s=128&g=1", "display_name": "thisdotnull", "link": "https://stackoverflow.com/users/1029247/thisdotnull"}, "edited": false, "score": 0, "creation_date": 1573008391, "post_id": 53935425, "comment_id": 103737134, "body": "@bernard The question you linked there is really a separate question than the one here."}, {"owner": {"reputation": 652, "user_id": 1029247, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dlF8s.jpg?s=128&g=1", "display_name": "thisdotnull", "link": "https://stackoverflow.com/users/1029247/thisdotnull"}, "edited": false, "score": 0, "creation_date": 1573059083, "post_id": 53935425, "comment_id": 103760123, "body": "Yes definitely it is. I am just trying to get more eyes on that question."}], "tags": [], "owner": {"reputation": 21901, "user_id": 3533584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6683339fd1680ef0de6cbcadaa49fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Scott Brown", "link": "https://stackoverflow.com/users/3533584/jeff-scott-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1545847121, "creation_date": 1545847121, "answer_id": 53935425, "question_id": 53935300, "link": "https://stackoverflow.com/questions/53935300/io-micronaut-runtime-micronaut-no-embedded-container-found/53935425#53935425", "title": "io.micronaut.runtime.Micronaut - No embedded container found", "body": "<p>It is difficult to say for sure without seeing the project but one thing that could cause that issue would be not having a dependency on <code>io.micronaut:micronaut-http-server-netty</code>.  A newly created app will have something like this in <code>build.gradle</code>...</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:${kotlinVersion}\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:${kotlinVersion}\"\n    compile \"io.micronaut:micronaut-runtime\"\n    compile \"io.micronaut:micronaut-http-client\"\n\n    // Make Sure You Have This...\n    compile \"io.micronaut:micronaut-http-server-netty\"\n\n    kapt \"io.micronaut:micronaut-inject-java\"\n    kapt \"io.micronaut:micronaut-validation\"\n    kaptTest \"io.micronaut:micronaut-inject-java\"\n    runtime \"ch.qos.logback:logback-classic:1.2.3\"\n    runtime \"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.4.1\"\n    testCompile \"org.junit.jupiter:junit-jupiter-api:5.1.0\"\n    testCompile \"org.jetbrains.spek:spek-api:1.1.5\"\n    testRuntime \"org.junit.jupiter:junit-jupiter-engine:5.1.0\"\n    testRuntime \"org.jetbrains.spek:spek-junit-platform-engine:1.1.5\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 652, "user_id": 1029247, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/dlF8s.jpg?s=128&g=1", "display_name": "thisdotnull", "link": "https://stackoverflow.com/users/1029247/thisdotnull"}, "edited": false, "score": 0, "creation_date": 1572999900, "post_id": 55800680, "comment_id": 103735411, "body": "I am facing the same issue. I am trying to replace &#39;shadowJar()` with <code>jar</code> task of <code>java</code> plugin. <code>jar</code> task is merging all service files in <code>META-INF&#47;services</code> directory which is same as <code>shadowJar</code> task but it is still not working. What am I missing?"}], "tags": [], "owner": {"reputation": 608, "user_id": 1388080, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4e885e3613ecf1894879416d56f87c02?s=128&d=identicon&r=PG", "display_name": "peppered", "link": "https://stackoverflow.com/users/1388080/peppered"}, "is_accepted": false, "score": 0, "last_activity_date": 1555964817, "creation_date": 1555964817, "answer_id": 55800680, "question_id": 53935300, "link": "https://stackoverflow.com/questions/53935300/io-micronaut-runtime-micronaut-no-embedded-container-found/55800680#55800680", "title": "io.micronaut.runtime.Micronaut - No embedded container found", "body": "<p>I had a similar issue:</p>\n\n<ol>\n<li>I was able to run code from IDE, but failed to run Docker container with the app</li>\n<li>And had <code>compile 'io.micronaut:micronaut-http-server-netty:1.1.0'</code> in my <code>build.gradle</code>.</li>\n</ol>\n\n<p>Also I was using <code>shadowJar</code> plugin and there was the issue. Adding:</p>\n\n<pre><code>shadowJar {\n    mergeServiceFiles()\n}\n</code></pre>\n\n<p>solved the problem. It transforms entries in <code>META-INF/services</code> resources into a single resource. My shadowed <code>jar</code> file contained a lot of entries in this folder.</p>\n"}], "owner": {"reputation": 43, "user_id": 3325710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44075a043ed8f37b17c46909bba59d18?s=128&d=identicon&r=PG", "display_name": "Italux", "link": "https://stackoverflow.com/users/3325710/italux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1106, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555964817, "creation_date": 1545846135, "question_id": 53935300, "link": "https://stackoverflow.com/questions/53935300/io-micronaut-runtime-micronaut-no-embedded-container-found", "title": "io.micronaut.runtime.Micronaut - No embedded container found", "body": "<p>I'm trying to build a Kotlin application but, even with successfully build, I face with the error bellow. What I'm doing wrong?</p>\n\n<pre><code>\u25b6 java -jar build/libs/app-0.1.jar\n22:10:02.122 [main] INFO  io.micronaut.runtime.Micronaut - No embedded container found. Running as CLI application\n</code></pre>\n\n<p>Here is my build status:</p>\n\n<pre><code>\u25b6 ./gradlew assemble\n\nBUILD SUCCESSFUL in 3s\n14 actionable tasks: 1 executed, 13 up-to-date\n</code></pre>\n\n<p>That is the part of my gradle.build file:</p>\n\n<pre><code>apply from: \"dependencies.gradle\"\napply from: \"protobuf.gradle\"\n\nversion \"0.1\"\ngroup \"app\"\nmainClassName = \"app.Application\"\n\ndependencies {\n    compile \"ch.qos.logback:logback-classic:1.2.3\"\n}\n\njar {\n    manifest {\n        attributes \"Main-Class\": mainClassName\n    }\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 4810766, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/2898ad4ddf755f00e22140f460b9bba2?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/4810766/carlos"}, "edited": false, "score": 0, "creation_date": 1572574507, "post_id": 53947965, "comment_id": 103611225, "body": "Did you find the solution? I&#39;m having the same problem. Thank you"}, {"owner": {"reputation": 2207, "user_id": 6251577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a134274d88afcaf5d78bc94fbfdb655c?s=128&d=identicon&r=PG&f=1", "display_name": "Kuva", "link": "https://stackoverflow.com/users/6251577/kuva"}, "reply_to_user": {"reputation": 385, "user_id": 4810766, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/2898ad4ddf755f00e22140f460b9bba2?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/4810766/carlos"}, "edited": false, "score": 0, "creation_date": 1573999983, "post_id": 53947965, "comment_id": 104066077, "body": "There is no reason to hide the status bar on a device with cutout, cause this space will be just unsued. Don&#39;t hide the status bar or use all available space with LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES flag"}], "tags": [], "owner": {"reputation": 2207, "user_id": 6251577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a134274d88afcaf5d78bc94fbfdb655c?s=128&d=identicon&r=PG&f=1", "display_name": "Kuva", "link": "https://stackoverflow.com/users/6251577/kuva"}, "is_accepted": false, "score": 0, "last_activity_date": 1545927736, "creation_date": 1545927736, "answer_id": 53947965, "question_id": 53934350, "link": "https://stackoverflow.com/questions/53934350/android-how-to-correctly-hide-status-bar-programatically-on-device-with-display/53947965#53947965", "title": "Android. How to correctly hide status bar programatically on device with display cutout", "body": "<p>I've managed to solve the problem #2. Here's code from Activity.onTochEvent:</p>\n\n<pre><code>public boolean onTouchEvent(MotionEvent event) {\n    if (mWindow.shouldCloseOnTouch(this, event)) {\n        finish();\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>So window decides to finish a current activity. I don't know why this code even exists, but I have overridden this method in my base activity, so it always returns false and everything seems to be fine. </p>\n\n<p>Still have problems with problem #1 though.</p>\n"}], "owner": {"reputation": 2207, "user_id": 6251577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a134274d88afcaf5d78bc94fbfdb655c?s=128&d=identicon&r=PG&f=1", "display_name": "Kuva", "link": "https://stackoverflow.com/users/6251577/kuva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1545927736, "creation_date": 1545840449, "last_edit_date": 1545844549, "question_id": 53934350, "link": "https://stackoverflow.com/questions/53934350/android-how-to-correctly-hide-status-bar-programatically-on-device-with-display", "title": "Android. How to correctly hide status bar programatically on device with display cutout", "body": "<p>I have a viewPager in my app with 2 fragments. And when you swipe to one of them I want to hide the status bar. Here's this code: </p>\n\n<pre><code>val hideFlag: Int =\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\n            View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN or\n            View.SYSTEM_UI_FLAG_FULLSCREEN or\n            View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n\nactivity?.window?.decorView?.systemUiVisibility = hideFlag\n</code></pre>\n\n<p>Everything worked pretty well on normal devices, but there are several problems on devices with display cutout.</p>\n\n<p>1) When status bar shows or hides the whole UI does some re-layout and jumps</p>\n\n<p>2) If the status bar is hidden and you make a swipe from the top of the screen your app will just crash with no logs and no dialog about the error.</p>\n\n<p>Any thoughts? Thanks</p>\n"}, {"tags": ["android", "string", "kotlin", "android-ndk", "unsatisfiedlinkerror"], "comments": [{"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 1, "creation_date": 1545840159, "post_id": 53934063, "comment_id": 94708731, "body": "In my memory, a JNI function signature is something like <code>JNIEXPORT &lt;return_type&gt; JNICALL &lt;function_name&gt;(&lt;param_list&gt;)</code>. I&#39;m not sure if the <code>JNIEXPORT</code> and <code>JNICALL</code>&#39;s missing here caused the problem. (I don&#39;t know their meaning either.)"}, {"owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545840330, "post_id": 53934063, "comment_id": 94708808, "body": "@GenoChen thank you! I appreciate your comment, I will start taking a look with your information. IF you have another idea later it will be Welcome! Have a nice day!"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545840670, "post_id": 53934063, "comment_id": 94708906, "body": "After carefully read your question again... You mean, it is OK when you start the app the first time, but crash when you swap to other app and return to it? Then maybe my comment is wrong... Maybe the loaded library is &quot;deconstructed&quot; when swapping to other app? Then maybe the question is how did you load that library?"}, {"owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545841119, "post_id": 53934063, "comment_id": 94709027, "body": "I already updated my question with this information! :) @GenoChen"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545844625, "post_id": 53934063, "comment_id": 94710198, "body": "I tried writing an MCVE, then found... Where is your <code>System.loadLibrary()</code>?"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 1, "creation_date": 1545844702, "post_id": 53934063, "comment_id": 94710226, "body": "A <code>@JvmStatic external fun</code> is not enough for Java-C interop, a <code>System.loadLibrary()</code> is needed."}, {"owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545844931, "post_id": 53934063, "comment_id": 94710313, "body": "@GenoChen Yes! I just found out it! because I was loading the System.loadLibrary() at the SplashActivity who extend from BaseActivity but Its better if BaseActivity do the System.loadLibrary() . I fixed it. I will update it with the fix that works for me!"}], "answers": [{"comments": [{"owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "edited": false, "score": 0, "creation_date": 1545845298, "post_id": 53935150, "comment_id": 94710438, "body": "Thank you !! I will give you the credit of it. I found it couple minutes before but you helping me a lot! Have a nice day !!  Happy coding!"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "reply_to_user": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "edited": false, "score": 0, "creation_date": 1545845339, "post_id": 53935150, "comment_id": 94710451, "body": "@Cristofer Good luck :-)"}], "tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": true, "score": 4, "last_activity_date": 1545845317, "last_edit_date": 1545845317, "creation_date": 1545845202, "answer_id": 53935150, "question_id": 53934063, "link": "https://stackoverflow.com/questions/53934063/java-lang-unsatisfiedlinkerror-no-implementation-found-ndk-kotlin-fixed/53935150#53935150", "title": "java.lang.UnsatisfiedLinkError: No implementation found (NDK, Kotlin) - Fixed", "body": "<p>A <code>System.loadLibrary()</code> (maybe inside <code>init {}</code> block in <code>companion object {}</code> block) is necessary for Java runtime to find where the native library (which contains the \"core\" of the function) is. Just a <code>@JvmStatic external fun</code> (which is just a \"surface\" or \"interface\") is not enough.</p>\n\n<p>If you called these external function <strong>before</strong> loading that library, you will get such an exception.</p>\n\n<p>A correct way maybe (direct copy from the template of a new Android Studio project):</p>\n\n<pre><code>class MainActivity : Activity()\n{\n\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Example of a call to a native method\n        sample_text.text = stringFromJNI()\n    }\n\n    /**\n     * A native method that is implemented by the 'native-lib' native library,\n     * which is packaged with this application.\n     */\n    external fun stringFromJNI(): String\n\n    companion object\n    {\n\n        // Used to load the 'native-lib' library on application startup.\n        init\n        {\n            System.loadLibrary(\"native-lib\")\n        }\n    }\n}\n</code></pre>\n\n<p>Moving the <code>external fun</code> inside <code>companion object {}</code> like the original question is OK.</p>\n"}], "owner": {"reputation": 720, "user_id": 5987537, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wzxo5dwGTEI/AAAAAAAAAAI/AAAAAAAAACk/7b9PzcA2R3M/photo.jpg?sz=128", "display_name": "Cristofer", "link": "https://stackoverflow.com/users/5987537/cristofer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3498, "favorite_count": 1, "accepted_answer_id": 53935150, "answer_count": 1, "score": 2, "last_activity_date": 1545845317, "creation_date": 1545838656, "last_edit_date": 1545845191, "question_id": 53934063, "link": "https://stackoverflow.com/questions/53934063/java-lang-unsatisfiedlinkerror-no-implementation-found-ndk-kotlin-fixed", "title": "java.lang.UnsatisfiedLinkError: No implementation found (NDK, Kotlin) - Fixed", "body": "<p>The file that I have in C using the NDK is the following, I have reviewed the package name in Kotlin and the one in class C (NDK) and I do not see any difference:</p>\n\n<pre><code> jstring Java_com_test1_app1_ui_BaseActivity_getLocalKeyOld(JNIEnv* env, jobject obj, jstring id) {\n    const char *nativeString = (*env)-&gt;GetStringUTFChars(env, id, 0);\n\n    char* deviceIdEncode = base64encode(nativeString);\n    int lenght = strlen(deviceIdEncode);\n\n    jstring result;\n    if(lenght &lt; 16) {\n        result = (*env)-&gt;NewStringUTF(env,\"+-0wef2ccfeqa0-+\");\n    } else if(lenght &gt; 16) {\n        char subbuff[17];\n        memcpy( subbuff, &amp;deviceIdEncode[0], 16 );\n        subbuff[16] = '\\0';\n        result = (*env)-&gt;NewStringUTF(env,subbuff);\n    } else {\n        result = (*env)-&gt;NewStringUTF(env,deviceIdEncode);\n    }\n    return result;\n}\n\n\njstring Java_com_test1_app1_ui_BaseActivity_getLocalKey(JNIEnv* env, jobject obj, jstring id) {\n    const char *nativeString = (*env)-&gt;GetStringUTFChars(env, id, 0);\n\n    char* deviceIdEncode = base64encodeNew(nativeString);\n    int lenght = strlen(deviceIdEncode);\n\n    jstring result;\n    if(lenght &lt; 16) {\n        result = (*env)-&gt;NewStringUTF(env,\"+-0wef2ccfeqa0-+\");\n    } else if(lenght &gt; 16) {\n        char subbuff[17];\n        memcpy( subbuff, &amp;deviceIdEncode[0], 16 );\n        subbuff[16] = '\\0';\n        result = (*env)-&gt;NewStringUTF(env,subbuff);\n    } else {\n        result = (*env)-&gt;NewStringUTF(env,deviceIdEncode);\n    }\n    return result;\n}\n</code></pre>\n\n<p>My Kotlin class package is package <strong>com.test1.app1.ui</strong></p>\n\n<p>I load the lib library using those lines:</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n\n    companion object {\n        @JvmStatic\n        external fun getLocalKey(id: String): String\n\n        @JvmStatic\n        external fun getLocalKeyOld(id: String): String\n    }\n</code></pre>\n\n<p>I am using NDK and Kotlin. The app starts well, but when I put it in Background, open others apps and try to go to my app it crashes. I can get just the next information : </p>\n\n<pre><code>E/zygote: No implementation found for java.lang.String com.test1.app1.ui.BaseActivity.getLocalKey(java.lang.String) \n    (tried Java_com_test1_app1_ui_BaseActivity_getLocalKey and Java_com_test1_app1_ui_BaseActivity_getLocalKey__Ljava_lang_String_2)\n\n\n\n\n    Process: com.testLab.app1, PID: 31409\n        java.lang.UnsatisfiedLinkError: No implementation found \n        for java.lang.String com.test1.app1.ui.BaseActivity.getLocalKey(java.lang.String) (tried Java_com_test1_app1_ui_BaseActivity_getLocalKey and Java_com_test1_app1_ui_BaseActivity_getLocalKey__Ljava_lang_String_2)\n            at com_test1_app1_ui_BaseActivity.getLocalKey(Native Method)\n            at com.test1.app1.ui.BaseActivity$Companion.getLocalKey(BaseActivity.kt:1)\n            at com.test1.app1.services.Utils.decryptLocal(Utils.kt:620)\n            at com.test1.app1.services.Utils.getUserPhone(Utils.kt:352)\n            at com.test1.app1.ui.login.LoginActivity.initActivity(LoginActivity.kt:77)\n            at com.test1.app1.ui.login.WelcomeActivity.onCreate(WelcomeActivity.kt:24)\n            at android.app.Activity.performCreate(Activity.java:7032)\n            at android.app.Activity.performCreate(Activity.java:7023)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1236)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2814)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2943)\n            at android.app.ActivityThread.-wrap11(Unknown Source:0)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1630)\n            at android.os.Handler.dispatchMessage(Handler.java:106)\n            at android.os.Looper.loop(Looper.java:164)\n            at android.app.ActivityThread.main(ActivityThread.java:6626)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:811)\n</code></pre>\n\n<p><strong>FIX</strong> (It worked for me) </p>\n\n<p>I notify that I was calling System.loadLibrary(\"nameofyourCFile\") at the SplashActivity (SplashActivity extends BaseActivity) but the rest of activities does not load the C file because when I was going to background and coming back the SplashActivity was not launch again, so my library was not being loaded from anywhere. I put the System.loadLibrary() inside of my BaseActivity and it works! </p>\n\n<p>P.S. Thank you Mr. <strong>@GenoChen</strong> for you help and time!</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1545882262, "post_id": 53933832, "comment_id": 94718589, "body": "Yes, you are correct. I think its better to clean up the data model with default values."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": false, "score": 1, "last_activity_date": 1545837279, "creation_date": 1545837279, "answer_id": 53933832, "question_id": 53933695, "link": "https://stackoverflow.com/questions/53933695/best-practice-for-handling-null-types-in-classes-when-mapping-classes-together/53933832#53933832", "title": "Best practice for handling null types in classes when mapping classes together", "body": "<p>If you declare all the properties as <code>nullable</code> that's not much better than <code>Java</code>, even when you access them with the null safety operator. If your JSON properties have <code>null</code> value, that means that in your business logic they don't always have a value, and is your responsibility to handle that, by fallback to a default value (i.e. <code>emptyList()</code> or <code>\"\"</code>), or maybe something more complicated like redirecting to a sign in screen. </p>\n"}, {"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 1, "creation_date": 1545882267, "post_id": 53934638, "comment_id": 94718590, "body": "Yes, you are correct. I think its better to clean up the data model with default values."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1545842064, "creation_date": 1545842064, "answer_id": 53934638, "question_id": 53933695, "link": "https://stackoverflow.com/questions/53933695/best-practice-for-handling-null-types-in-classes-when-mapping-classes-together/53934638#53934638", "title": "Best practice for handling null types in classes when mapping classes together", "body": "<p>First of all there are no safe null types in Kotlin. A variable is either nullable or not.</p>\n\n<p>If the API delivers null values, either by absence or by setting them explicitely null, your data classes should reflect that in the way that those variables are nullable (question mark <code>?</code> right after the data type).</p>\n\n<p>The moment you map those data classes to your entities (domain model) you should handle the null case properly. Since it is a valid case, that the API serves null values, which you expect, you should handle that case by assigning a default value.</p>\n\n<p>Using the elvis operator is just a way to deal with nullable types elegantely, but if you use it, remains your choice.</p>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 53934638, "answer_count": 2, "score": 0, "last_activity_date": 1545842134, "creation_date": 1545836449, "last_edit_date": 1545842134, "question_id": 53933695, "link": "https://stackoverflow.com/questions/53933695/best-practice-for-handling-null-types-in-classes-when-mapping-classes-together", "title": "Best practice for handling null types in classes when mapping classes together", "body": "<p>I am using Kotlin 1.30. I have the following entity classes that will be populated from the API. And some of the properties could be null from the API so I have declared them using the safe null type.</p>\n\n<p>However, I will map this entity class to my domain model class. And just wondering what is the best way to handle the null types? </p>\n\n<p>I have 2 ideas on how to do this when I map the classes.</p>\n\n<ol>\n<li>declare all the equivalent properties as safe null types</li>\n<li>use the elivs operator to return either a empty string or a emptylist</li>\n</ol>\n\n<p>In the following snippet I am using the elvis operator. Just wondering what is the best practice for this?</p>\n\n<pre><code>class LoginResponseDomainMapperImp : LoginResponseDomainMapper {\n    override fun map(entity: LoginResponseEntity): LoginResponse {\n        return LoginResponse(\n            entity.token ?: \"\",\n            mapUsers(entity.user),\n            mapEnterprises(entity.enterprises ?: emptyList()),\n            mapVendors(entity.vendors ?: emptyList()))\n    }\n\n    private fun mapUsers(userEntity: UserEntity?): User {\n        return User(\n            userEntity?.id,\n            userEntity?.email,\n            userEntity?.firstName,\n            userEntity?.lastName,\n            userEntity?.phone,\n            userEntity?.address,\n            userEntity?.dob,\n            userEntity?.customer,\n            userEntity?.enterpriseIds ?: emptyList(),\n            userEntity?.vendorIds ?: emptyList())\n    }\n\n    private fun mapEnterprises(enterprisesEntity: List&lt;EnterprisesEntity&gt;): List&lt;Enterprises&gt; {\n        val enterpriseList = mutableListOf&lt;Enterprises&gt;()\n\n        enterprisesEntity.forEach {\n            val enterprise = Enterprises(\n                it.id,\n                it.enterpriseName,\n                it.typeLabel,\n                it.country,\n                it.imageId,\n                it.managers,\n                it.members,\n                it.stripe,\n                it.locations)\n\n            enterpriseList.add(enterprise)\n        }\n\n        return enterpriseList.toList()\n    }\n\n    private fun mapVendors(vendorsEntity: List&lt;VendorsEntity&gt;): List&lt;Vendors&gt; {\n        val vendorList = mutableListOf&lt;Vendors&gt;()\n\n        vendorsEntity.forEach {\n            val vendor = Vendors(\n                it.id,\n                it.vendorName,\n                it.typeLabel,\n                it.userRole,\n                it.latitude,\n                it.longitude,\n                it.partner,\n                it.country,\n                it.imageId,\n                it.stripe)\n\n            vendorList.add(vendor)\n        }\n\n        return vendorList.toList()\n    }\n}\n</code></pre>\n\n<p>Entity class that will populate from the API, so any of these could be null</p>\n\n<pre><code>data class LoginResponseEntity(\n    @SerializedName(\"token\") val token: String?,\n    @SerializedName(\"user\") val user: UserEntity?,\n    @SerializedName(\"enterprises\") val enterprises: List&lt;EnterprisesEntity&gt;?,\n    @SerializedName(\"vendors\") val vendors: List&lt;VendorsEntity&gt;?)\n\ndata class UserEntity(\n    @SerializedName(\"id\") val id: String?,\n    @SerializedName(\"email\") val email: String?,\n    @SerializedName(\"first_name\") val firstName: String?,\n    @SerializedName(\"last_name\") val lastName: String?,\n    @SerializedName(\"phone\") val phone: String?,\n    @SerializedName(\"address\") val address: String?,\n    @SerializedName(\"dob\") val dob: String?,\n    @SerializedName(\"customer\") val customer: String?,\n    @SerializedName(\"enterprise_ids\") val enterpriseIds: List&lt;String&gt;?,\n    @SerializedName(\"vendor_ids\") val vendorIds: List&lt;String&gt;?)\n\ndata class EnterprisesEntity(\n    @SerializedName(\"id\") val id: String?,\n    @SerializedName(\"enterprise_name\") val enterpriseName: String?,\n    @SerializedName(\"type_label\") val typeLabel: String?,\n    @SerializedName(\"referral_code\") val referralCode: String?,\n    @SerializedName(\"country\") val country: String?,\n    @SerializedName(\"image_id\") val imageId: String?,\n    @SerializedName(\"managers\") val managers: List&lt;String&gt;?,\n    @SerializedName(\"members\") val members: List&lt;String&gt;?,\n    @SerializedName(\"stripe\") val stripe: Boolean,\n    @SerializedName(\"locations\") val locations: List&lt;String&gt;?)\n\ndata class VendorsEntity(\n    @SerializedName(\"id\") val id: String?,\n    @SerializedName(\"vendor_name\") val vendorName: String?,\n    @SerializedName(\"type_label\") val typeLabel: String?,\n    @SerializedName(\"user_role\") val userRole: String?,\n    @SerializedName(\"latitude\") val latitude: Float,\n    @SerializedName(\"longitude\") val longitude: Float,\n    @SerializedName(\"partner\") val partner: Boolean,\n    @SerializedName(\"country\") val country: String?,\n    @SerializedName(\"image_id\") val imageId: String?,\n    @SerializedName(\"stripe\") val stripe: Boolean)\n</code></pre>\n\n<p>Data model class in the domain, Its it better to declare them all safe null types?</p>\n\n<pre><code>data class LoginResponse(\n    val token: String,\n    val user: User?,\n    val enterprises: List&lt;Enterprises&gt;,\n    val vendors: List&lt;Vendors&gt;)\n\ndata class User(\n    val id: String?,\n    val email: String?,\n    val firstName: String?,\n    val lastName: String?,\n    val phone: String?,\n    val address: String?,\n    val dob: String?,\n    val customer: String?,\n    val enterpriseIds: List&lt;String&gt;,\n    val vendorIds: List&lt;String&gt;)\n\ndata class Enterprises(\n    val id: String,\n    val enterpriseName: String,\n    val typeLabel: String,\n    val country: String,\n    val imageId: String,\n    val managers: List&lt;String&gt;,\n    val members: List&lt;String&gt;,\n    val stripe: Boolean,\n    val locations: List&lt;String&gt;)\n\ndata class Vendors(\n    val id: String,\n    val vendorName: String,\n    val typeLabel: String?,\n    val userRole: String,\n    val latitude: Float,\n    val longitude: Float,\n    val partner: Boolean,\n    val country: String?,\n    val imageId: String,\n    val stripe: Boolean)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "segmentation-fault"], "comments": [{"owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1545836588, "post_id": 53933669, "comment_id": 94707608, "body": "You try to <a href=\"https://i.stack.imgur.com/C902z.jpg\" rel=\"nofollow noreferrer\">disable Instant Run</a> and rebuild your app"}, {"owner": {"reputation": 169, "user_id": 4342369, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3bea9c64c589957318629f8f7922813b?s=128&d=identicon&r=PG&f=1", "display_name": "Pavle Pavlov", "link": "https://stackoverflow.com/users/4342369/pavle-pavlov"}, "reply_to_user": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1545836655, "post_id": 53933669, "comment_id": 94707632, "body": "Made that mistake earlier in my dev days. Instant run is always disabled!"}], "owner": {"reputation": 169, "user_id": 4342369, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3bea9c64c589957318629f8f7922813b?s=128&d=identicon&r=PG&f=1", "display_name": "Pavle Pavlov", "link": "https://stackoverflow.com/users/4342369/pavle-pavlov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545837010, "creation_date": 1545836282, "last_edit_date": 1545837010, "question_id": 53933669, "link": "https://stackoverflow.com/questions/53933669/random-signal-11-sigsegv", "title": "Random signal 11 (SIGSEGV)", "body": "<p>For few days now i got SIGSEGV errors at random points in my app. It crashed when i do nothing.</p>\n\n<p>I started taking apart code to see which line was causing this segmentation, and was most shocked when i found out that it was: ( drum roll, please )</p>\n\n<p><code>Activity.setResult(Activity.OK,intent)</code></p>\n\n<p>WHAT? This still doesn't make ANY sense to me at all! In the line below i will show you my code before and after and can anyone tell me WHY the SIGSEGV was happening?</p>\n\n<p><strong>Before</strong></p>\n\n<p>CommentActivity:</p>\n\n<pre><code>val comments = ArrayList&lt;Comment&gt;()\ncomments.add(comment)\n/*Set the results*/\nval intent = Intent()\nintent.putExtra(\"comment_result\", Utils.General.serializeToJson(comments))\nthis.setResult(Activity.RESULT_OK, intent)\nthis.finish()\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent intent) {\n    switch (requestCode) {\n        //catch data from CommentActivity\n        case (INTENT_COMMENT): {\n            if (resultCode == RESULT_OK) {\n                String comments = intent.getExtras().getString(\"comment_result\");\n                if (comments != null &amp;&amp; !comments.isEmpty()) {\n                    /*Save the instance to the database and expect the database observable to call the upload thread*/\n                    Type type = new TypeToken&lt;ArrayList&lt;Comment&gt;&gt;() {}.getType();\n                    ArrayList&lt;Comment&gt; list = Utils.General.Companion.deserializeFromJson(comments, type);\n                    /*Save the instance to the database and expect the database observable to call the upload thread*/\n                    DataSource.INSTANCE.saveComments(list);\n                } else {\n                    showToast(getResources().getString(R.string.picture_lost), Toast.LENGTH_SHORT);\n                }\n            }\n            break;\n        }\n</code></pre>\n\n<p>==== This crashed in MainActivity after between 10secs and 1 minute =====</p>\n\n<p><strong>After - No Crash</strong></p>\n\n<p>CommentActivity:</p>\n\n<pre><code>/*Set the results*/\nDataSource.saveComments(comments)\nthis.finish()\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1545846560, "post_id": 53932816, "comment_id": 94710818, "body": "can you point line where your are getting the error?"}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1545847414, "post_id": 53932816, "comment_id": 94711039, "body": "<code>if (cancelableDialog) {             rootDialogLayout.setOnClickListener { post{ dismiss() } }         }</code> . try adding this code to <code>onStart()</code> instead of <code>onCreate()</code>  add post Command so that the dismiss will be called when all mainThread queue is done this might fix the error.if it work&#39;s i will post it as an answer"}], "owner": {"reputation": 27, "user_id": 9857842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48af1dec13c91bca72e46b6306c8e04a?s=128&d=identicon&r=PG&f=1", "display_name": "Edgarjon Komilov", "link": "https://stackoverflow.com/users/9857842/edgarjon-komilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545859887, "creation_date": 1545831246, "last_edit_date": 1545859887, "question_id": 53932816, "link": "https://stackoverflow.com/questions/53932816/java-lang-illegalargumentexception-view-decorviewff5fb5dmainactivity-not-att", "title": "java.lang.IllegalArgumentException: View=DecorView@ff5fb5d[MainActivity] not attached to window manager", "body": "<p>I am developing a new app and when I logged in using email and password it is crashing giving an error below</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException:\n  View=DecorView@ff5fb5d[MainActivity] not attached to window manager\n          at android.view.WindowManagerGlobal.findViewLocked(WindowManagerGlobal.java:479)\n          at android.view.WindowManagerGlobal.removeView(WindowManagerGlobal.java:388)\n          at android.view.WindowManagerImpl.removeViewImmediate(WindowManagerImpl.java:128)\n          at android.app.Dialog.dismissDialog(Dialog.java:610)\n          at android.app.Dialog.dismiss(Dialog.java:593)\n          at com.empowered.healo.ui.views.CustomAlertDialog.access$dismiss$s-1404601997(CustomAlertDialog.kt:23)\n          at com.empowered.healo.ui.views.CustomAlertDialog$dismiss$$inlined$let$lambda$1.onAnimationEnd(CustomAlertDialog.kt:107)\n          at android.animation.ValueAnimator.endAnimation(ValueAnimator.java:1149)\n          at android.animation.ValueAnimator.doAnimationFrame(ValueAnimator.java:1309)\n          at android.animation.AnimationHandler.doAnimationFrame(AnimationHandler.java:146)\n          at android.animation.AnimationHandler.-wrap2(AnimationHandler.java)\n          at android.animation.AnimationHandler$1.doFrame(AnimationHandler.java:54)\n          at android.view.Choreographer$CallbackRecord.run(Choreographer.java:925)\n          at android.view.Choreographer.doCallbacks(Choreographer.java:702)\n          at android.view.Choreographer.doFrame(Choreographer.java:635)\n          at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:913)\n          at android.os.Handler.handleCallback(Handler.java:751)\n          at android.os.Handler.dispatchMessage(Handler.java:95)\n          at android.os.Looper.loop(Looper.java:154)\n  android.app.ActivityThread.main(ActivityThread.java:6682)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1410)</p>\n</blockquote>\n\n<p>I have followed this link</p>\n\n<p><a href=\"https://stackoverflow.com/questions/22924825/view-not-attached-to-window-manager-crash\">View not attached to window manager crash</a></p>\n\n<p>below my CustomAlertDialog.kt</p>\n\n<pre><code>class CustomAlertDialog(context: Context) : AlertDialog(context, R.style.AppTheme_FullScreenDialogStyle), CustomAlertDialogBuilder.CustomDialogInterface {\n    var dismissListener: CustomAlertDialogBuilder.OnDismissListener? = null\n    private var cancelableDialog = true\n    var alertDialogInfo = CustomAlertDialogBuilder.AlertDialogInfo()\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.custom_dialog)\n        if (cancelableDialog) {\n            rootDialogLayout.setOnClickListener { dismiss() }\n        }\n\n        btnPositive.visibility = if (alertDialogInfo.positiveText != null) View.VISIBLE else View.GONE\n        btnPositive.text = alertDialogInfo.positiveText\n\n        btnNegative.visibility = if (alertDialogInfo.negativeText != null) View.VISIBLE else View.GONE\n        btnNegative.text = alertDialogInfo.negativeText\n\n        btnNeutral.visibility = if (alertDialogInfo.neutralText != null) View.VISIBLE else View.GONE\n        btnNeutral.text = alertDialogInfo.neutralText\n\n        dialogTitle.visibility = if (alertDialogInfo.titleText != null) View.VISIBLE else View.GONE\n        dialogTitle.text = alertDialogInfo.titleText\n\n        alertDialogInfo.textColor?.let {\n            btnPositive.setTextColor(it)\n            btnNegative.setTextColor(it)\n            btnNeutral.setTextColor(it)\n            message?.setTextColor(it)\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n                buttonsControl?.dividerDrawable?.colorFilter = PorterDuffColorFilter(it, PorterDuff.Mode.MULTIPLY)\n            }\n        }\n\n        message?.text = this.alertDialogInfo.message\n\n        alertDialogInfo.background?.let {\n            backgroundImage.setImageResource(it)\n        }\n        btnPositive.setOnClickListener { alertDialogInfo.onPositiveClickListener?.onClick(this) }\n        btnNeutral.setOnClickListener { alertDialogInfo.onNeutralClickListener?.onClick(this) }\n        btnNegative.setOnClickListener { alertDialogInfo.onNegativeClickListener?.onClick(this) }\n    }\n\n    override fun setCancelable(flag: Boolean) {\n        super.setCancelable(flag)\n        cancelableDialog = flag\n    }\n\n\n    override fun onStart() {\n        super.onStart()\n        val animationSet = AnimatorSet()\n        val decorView = this\n                .window\n                .decorView\n        decorView.setBackgroundColor(Color.TRANSPARENT)\n        backgroundImage?.let {\n            val titleAnimation = ObjectAnimator.ofFloat(dialogTitle, View.TRANSLATION_Y, -50.dp.toFloat(), 0f)\n            val imageAnimation = ObjectAnimator.ofFloat(it, View.SCALE_X, 0f, 1f)\n            val startAnimation = ObjectAnimator.ofFloat(decorView, View.ALPHA, 0f, 1f)\n            animationSet.playTogether(titleAnimation, imageAnimation, startAnimation)\n        }\n\n        animationSet.duration = 350\n        animationSet.interpolator = LinearInterpolator()\n        animationSet.start()\n\n    }\n\n    override fun dismiss() {\n        val animationSet = AnimatorSet()\n        val decorView = this\n                .window\n                .decorView\n\n        backgroundImage?.let {\n            val imageAnimation = ObjectAnimator.ofFloat(it, View.SCALE_X, 1f, 0f)\n            val titleAnimation = ObjectAnimator.ofFloat(dialogTitle, View.TRANSLATION_Y, 0f, -50.dp.toFloat())\n            val endAnimation = ObjectAnimator.ofFloat(decorView, View.ALPHA, 1.0f, 0.0f)\n\n            val listeners = object : AnimationListener() {\n                override fun onAnimationEnd(animation: Animator?) {\n                    super@CustomAlertDialog.dismiss()\n                    dismissListener?.onDismiss()\n                }\n            }\n            imageAnimation.addListener(listeners)\n            animationSet.playTogether(titleAnimation, endAnimation, imageAnimation)\n        }\n\n        animationSet.duration = 350\n        animationSet.interpolator = LinearInterpolator()\n        animationSet.start()\n    }\n\n    override fun dismiss(callDismissListener: Boolean) {\n        if (!callDismissListener)\n            setOnDismissListener { }\n        dismiss()\n    }\n\n    override fun dismiss(onDismissListener: CustomAlertDialogBuilder.OnDismissListener) {\n        dismissListener = onDismissListener\n        dismiss()\n    } }\n</code></pre>\n"}, {"tags": ["ubuntu", "kotlin", "kotlin-native"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 3, "creation_date": 1545826508, "post_id": 53931912, "comment_id": 94704282, "body": "As the error message says, <code>&#47;snap&#47;bin</code> is not in your <code>PATH</code>. What is unclear?"}, {"owner": {"reputation": 30, "user_id": 9952440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b71e142c7b26f23df7b6a91a185b443?s=128&d=identicon&r=PG&f=1", "display_name": "john collin", "link": "https://stackoverflow.com/users/9952440/john-collin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1545826564, "post_id": 53931912, "comment_id": 94704300, "body": "but in my default path is included."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1545826605, "post_id": 53931912, "comment_id": 94704317, "body": "No, it is not ."}, {"owner": {"reputation": 30, "user_id": 9952440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b71e142c7b26f23df7b6a91a185b443?s=128&d=identicon&r=PG&f=1", "display_name": "john collin", "link": "https://stackoverflow.com/users/9952440/john-collin"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1545826725, "post_id": 53931912, "comment_id": 94704356, "body": "then how to add my new path in path environment"}], "answers": [{"tags": [], "owner": {"reputation": 3369, "user_id": 1694043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MH6Ps.jpg?s=128&g=1", "display_name": "Freek de Bruijn", "link": "https://stackoverflow.com/users/1694043/freek-de-bruijn"}, "is_accepted": false, "score": 0, "last_activity_date": 1545843277, "creation_date": 1545843277, "answer_id": 53934833, "question_id": 53931912, "link": "https://stackoverflow.com/questions/53931912/how-to-start-kotlin-in-ubuntu-using-snap/53934833#53934833", "title": "How to start Kotlin in Ubuntu using snap", "body": "<p>It looks like your path contains \"/home/bhaskar/snap/bin\", but the system is looking in the \"/snap/bin\" directory. (So it is searching from the root directory and not from you home directory \"/home/bhaskar\").</p>\n\n<p>You can find several ways to edit your path over here: <a href=\"https://askubuntu.com/questions/60218/how-to-add-a-directory-to-the-path\">https://askubuntu.com/questions/60218/how-to-add-a-directory-to-the-path</a></p>\n"}], "owner": {"reputation": 30, "user_id": 9952440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b71e142c7b26f23df7b6a91a185b443?s=128&d=identicon&r=PG&f=1", "display_name": "john collin", "link": "https://stackoverflow.com/users/9952440/john-collin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1545845240, "creation_date": 1545826102, "last_edit_date": 1545845240, "question_id": 53931912, "link": "https://stackoverflow.com/questions/53931912/how-to-start-kotlin-in-ubuntu-using-snap", "title": "How to start Kotlin in Ubuntu using snap", "body": "<p>**i install kotlin through snap in ubuntu 18 but when i write kotlin on terminal i get this error like </p>\n\n<pre><code>bhaskar@bhaskar-ThinkPad-L430://usr/local/bin$ kotlin\nCommand 'kotlin' is available in '/snap/bin/kotlin'\nThe command could not be located because '/snap/bin' is not included in the PATH environment variable.\nkotlin: command not found**\n</code></pre>\n\n<p>when i see by path by  snap is included in $PATH:</p>\n\n<pre><code> bhaskar@bhaskar-ThinkPad-L430://usr/local/bin$ $PATH\nbash: /home/bhaskar/bin:/home/bhaskar/.local/bin:/usr/local/sbin: /usr/local/bin:/home/bhaskar/snap/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games: No such file or directory\n</code></pre>\n\n<p>so help me, thanks for your support .</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "item-decoration"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545826055, "post_id": 53931807, "comment_id": 94704120, "body": "Try to set this - In your Adapter inside <code>onCreateViewHolder</code>  in <code>inflate()</code> change last argument to <code>true</code> which is <code>attachToRoot</code>. Post your Adapter code if not fix ."}, {"owner": {"reputation": 27, "user_id": 9857842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48af1dec13c91bca72e46b6306c8e04a?s=128&d=identicon&r=PG&f=1", "display_name": "Edgarjon Komilov", "link": "https://stackoverflow.com/users/9857842/edgarjon-komilov"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545826328, "post_id": 53931807, "comment_id": 94704213, "body": "@Adm I did not understand where exactly"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545826469, "post_id": 53931807, "comment_id": 94704265, "body": "Add code for <code>FavoriteExerciseAdapter</code>"}, {"owner": {"reputation": 27, "user_id": 9857842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48af1dec13c91bca72e46b6306c8e04a?s=128&d=identicon&r=PG&f=1", "display_name": "Edgarjon Komilov", "link": "https://stackoverflow.com/users/9857842/edgarjon-komilov"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1545827289, "post_id": 53931807, "comment_id": 94704578, "body": "@Adm I have added adapter code can you check it"}], "owner": {"reputation": 27, "user_id": 9857842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48af1dec13c91bca72e46b6306c8e04a?s=128&d=identicon&r=PG&f=1", "display_name": "Edgarjon Komilov", "link": "https://stackoverflow.com/users/9857842/edgarjon-komilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545827254, "creation_date": 1545825515, "last_edit_date": 1545827254, "question_id": 53931807, "link": "https://stackoverflow.com/questions/53931807/java-lang-classcastexception-android-widget-framelayoutlayoutparams", "title": "java.lang.ClassCastException android.widget.FrameLayout$LayoutParams", "body": "<p>I am developing a new app and app crashes and getting following error from Logcat</p>\n\n<blockquote>\n  <p>Fatal Exception: java.lang.ClassCastException\n  android.widget.FrameLayout$LayoutParams cannot be cast to\n  android.support.v7.widget.RecyclerView$LayoutParams\n  android.support.v7.widget.RecyclerView.getChildViewHolderInt\n  (RecyclerView.java:4609)\n  android.support.v7.widget.RecyclerView.getChildAdapterPosition\n  (RecyclerView.java:4628)\n  com.empowered.healo.ui.screens.favourite.FavouriteExercisesFragment$initList$1.getItemOffsets\n  (FavouriteExercisesFragment.kt:69)\n  android.support.v7.widget.RecyclerView$ItemDecoration.getItemOffsets\n  (RecyclerView.java:10521) com.android.internal.os.ZygoteInit.main\n  (ZygoteInit.java:1374)</p>\n</blockquote>\n\n<p>below my FavoriteExercisesFragment.java file</p>\n\n<pre><code>class FavouriteExercisesFragment : BaseMvpFragment(), FavoriteExerciseView {\n\n\n\n    val adapter: FavoriteExerciseAdapter by lazy {\n        FavoriteExerciseAdapter(context!!)\n    }\n    val presenter: FavoriteExercisePresenter = FavoriteExercisePresenter(this)\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        rootView = inflater.inflate(R.layout.fragment_favorite_ex, container, false)\n        return rootView\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            super.onViewCreated(view, savedInstanceState)\n        }\n        initToolbar()\n        initList()\n        presenter.getFavoriteExercise()\n    }\n\n    private fun initList() {\n        rvExercise.layoutManager = LinearLayoutManager(context)\n        rvExercise.adapter = adapter\n        val helper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(ItemTouchHelper.UP or ItemTouchHelper.DOWN, ItemTouchHelper.RIGHT) {\n            override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n                adapter.onItemMove(viewHolder.adapterPosition, target.adapterPosition)\n                return true\n            }\n\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n                val position = viewHolder.adapterPosition\n                val item = adapter.data[position]\n                adapter.onItemDismiss(viewHolder.adapterPosition)\n                presenter.deleteFromFavorite(item, position)\n                showEmptyData(adapter.data.isEmpty())\n\n            }\n        })\n\n        rvExercise.addItemDecoration(object : RecyclerView.ItemDecoration() {\n            override fun getItemOffsets(outRect: Rect, itemPosition: Int, parent: RecyclerView) {\n                super.getItemOffsets(outRect,itemPosition, parent)\n                val position = parent.getChildPosition(view!!)\n                if (position == 0) {\n                    outRect.top = 58.dp\n                } else {\n                    outRect.top = 0\n                }\n\n            }\n        })\n        helper.attachToRecyclerView(rvExercise)\n        adapter.helper = helper\n        adapter.actions = object : FavoriteExerciseAdapter.AdapterAction {\n            override fun playExercise(exercise: Exercise) {\n                val file = exercise.files.firstOrNull { it.mainFile }\n                val uri = file?.getFile() ?: \"\"\n\n                context?.startActivityFromCenter(VideoActivity.newInstance(context, uri), rootView, VideoActivity.REQUEST_CODE)\n            }\n        }\n    }\n    private fun initToolbar() {\n        toolbar.setOnNavigateIconClickListener { router.exit() }\n        toolbar.setOnToolIconClickListener { openNavDrawer() }\n    }\n\n    override fun setFavoriteExercises(exercises: ArrayList&lt;Exercise&gt;) {\n        showEmptyData(exercises.isEmpty())\n        adapter.addData(exercises)\n    }\n\n    override fun showDeleteMessage(item: Exercise, position: Int) {\n        val snack = Snackbar.make(rootView, R.string.message_remove_from_favorite, Snackbar.LENGTH_LONG)\n        snack.setAction(R.string.action_undo) {\n            presenter.addToFavorite(item)\n            adapter.addItemOnPosition(item, position)\n            showEmptyData(adapter.data.isEmpty())\n        }\n        snack.show()\n    }\n\n    private fun showEmptyData(show: Boolean) {\n        tvEmpty.visibility = if (show) View.VISIBLE else View.GONE\n        emptyIcon.visibility = if (show) View.VISIBLE else View.GONE\n    }\n}\n</code></pre>\n\n<p>below FavoriteExerciseAdapter.kt </p>\n\n<p>class FavoriteExerciseAdapter(val context: Context) : RecyclerView.Adapter() {</p>\n\n<pre><code>var data: ArrayList&lt;Exercise&gt; = ArrayList()\nvar actions: AdapterAction? = null\nvar helper: ItemTouchHelper? = null\n\noverride fun onCreateViewHolder(p0: ViewGroup, viewType: Int): FavoriteViewHolder =\n        FavoriteViewHolder(LayoutInflater.from(context).inflate(R.layout.item_favorite_exercises, p0, true))\n\noverride fun onBindViewHolder(holder: FavoriteViewHolder, position: Int) {\n    val item = data[position]\n    val preview = item.files.firstOrNull { !it.mainFile }\n    if (preview != null)\n        Glide.with(holder.itemView)\n                .load(preview.getFile())\n                .into(holder.mainImage)\n    else holder.mainImage.setImageResource(0)\n    holder.tvName.text = item.title?.getText\n    holder.play.setOnClickListener {\n        actions?.playExercise(item)\n    }\n    holder.drag.setOnTouchListener { _, event -&gt;\n        if (event.action == MotionEvent.ACTION_DOWN) {\n            helper?.startDrag(holder)\n        }\n        false\n    }\n}\n\noverride fun getItemCount(): Int = data.size\n\nclass FavoriteViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    val mainImage: ImageView = itemView.findViewById(R.id.mainImage)\n    val tvName: TextView = itemView.findViewById(R.id.tvName)\n    val play: ImageView = itemView.findViewById(R.id.icon_play)\n    val drag: View = itemView.findViewById(R.id.drag)\n}\n\nfun addData(data: ArrayList&lt;Exercise&gt;) {\n    this.data = data\n    notifyDataSetChanged()\n}\n\nfun addItemOnPosition(item: Exercise, position: Int) {\n    data.add(position, item)\n    notifyItemInserted(position)\n}\n\nfun onItemDismiss(position: Int) {\n    data.removeAt(position)\n    notifyItemRemoved(position)\n}\n\nfun onItemMove(fromPosition: Int, toPosition: Int): Boolean {\n    if (fromPosition &lt; toPosition) {\n        for (i in fromPosition until toPosition) {\n            Collections.swap(data, i, i + 1)\n        }\n    } else {\n        for (i in fromPosition downTo toPosition + 1) {\n            Collections.swap(data, i, i - 1)\n        }\n    }\n    notifyItemMoved(fromPosition, toPosition)\n    return true\n}\n\ninterface AdapterAction {\n    fun playExercise(exercise: Exercise)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have tried following <a href=\"https://stackoverflow.com/questions/29666598/android-recyclerview-finding-out-first-and-last-view-on-itemdecoration\">Android RecyclerView finding out first and last view on ItemDecoration</a> did not fix problem</p>\n"}, {"tags": ["android", "kotlin", "jwplayer"], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 6800171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d27675b3c5b209a8a0d157a39005980?s=128&d=identicon&r=PG&f=1", "display_name": "Juan J Barrionuevo", "link": "https://stackoverflow.com/users/6800171/juan-j-barrionuevo"}, "is_accepted": false, "score": 0, "last_activity_date": 1578922574, "creation_date": 1578922574, "answer_id": 59717744, "question_id": 53931353, "link": "https://stackoverflow.com/questions/53931353/why-jw-player-wont-be-fullscreen/59717744#59717744", "title": "why jw player wont be fullscreen?", "body": "<p>If you are using Android 9, you will need to update the JWPlayer SDK at least to 3.4.1 (there was fixed).</p>\n\n<p>Here you can find the answer:\n<a href=\"https://stackoverflow.com/questions/54032362/android-jwplayer-fullscreen-not-working-issue\">Android - JWplayer Fullscreen not working issue</a></p>\n"}], "owner": {"reputation": 600, "user_id": 4312860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b605c132d5e3b2c917b0a7b0ac6e11ad?s=128&d=identicon&r=PG", "display_name": "Mehrdad Dolatkhah", "link": "https://stackoverflow.com/users/4312860/mehrdad-dolatkhah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1578922574, "creation_date": 1545823144, "last_edit_date": 1545824479, "question_id": 53931353, "link": "https://stackoverflow.com/questions/53931353/why-jw-player-wont-be-fullscreen", "title": "why jw player wont be fullscreen?", "body": "<p>I have a problem with JW player. when I touch fullscreen button in JW player nothing happen and just arrow state change. and when I rotate phone JW become from vertical to horizontal but won't be fullscreen. I check my another app that worked in JW player previously but now they won't work too. (JW can play video without any problem but can't be in fullscreen in no way).\nmay please help me with this?</p>\n\n<pre><code>override fun onConfigurationChanged(newConfig: Configuration?) {\n        super.onConfigurationChanged(newConfig)\n        if (newConfig?.orientation == Configuration.ORIENTATION_PORTRAIT) {\n            if(jw.fullscreen) {\n                jw.setFullscreen(false, true)\n            }\n        } else if (newConfig?.orientation == Configuration.ORIENTATION_LANDSCAPE) {\n            if(!jw.fullscreen) {\n                jw.setFullscreen(true, true)\n            }\n        }\n    }\n</code></pre>\n\n<p>this is my code that controls change rotation in JW player.</p>\n"}, {"tags": ["android-studio", "data-binding", "kotlin", "compiler-errors"], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 9565242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ae6560468a8e00d0c62d8cd4632629?s=128&d=identicon&r=PG&f=1", "display_name": "flabbet", "link": "https://stackoverflow.com/users/9565242/flabbet"}, "is_accepted": false, "score": 0, "last_activity_date": 1545839061, "creation_date": 1545839061, "answer_id": 53934122, "question_id": 53931238, "link": "https://stackoverflow.com/questions/53931238/fragment-databinding-databindermapperimpl-java-cannot-find-symbol-fragmentcolle/53934122#53934122", "title": "Fragment databinding, DataBinderMapperImpl.java cannot find symbol FragmentCollectionBindingImpl", "body": "<p>Okay, I found solution. My ViewModel constructor had one parameter and I had to create custom ViewModelProviderFactory in order to work. It wasn't Android Studio fault.</p>\n\n<p>Code before:</p>\n\n<pre><code>val viewModel: CollectionViewModel = ViewModelProviders.of(this).get(CollectionViewModel::class.java)\n</code></pre>\n\n<p>Code after:</p>\n\n<pre><code>val viewModel: CollectionViewModel = ViewModelProviders.of(this, CollectionViewModelFactory(activity!!.application)).get(CollectionViewModel::class.java)\n</code></pre>\n\n<p>where </p>\n\n<pre><code>activity!!.application \n</code></pre>\n\n<p>is argument to my ViewModel</p>\n"}, {"comments": [{"owner": {"reputation": 2306, "user_id": 3437608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wif9E.jpg?s=128&g=1", "display_name": "Cullub", "link": "https://stackoverflow.com/users/3437608/cullub"}, "edited": false, "score": 1, "creation_date": 1584507398, "post_id": 59171905, "comment_id": 107454362, "body": "Awesome!  You saved me so much time.  I had just updated a callback function, and forgot to update the XML."}, {"owner": {"reputation": 11466, "user_id": 4700156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/EVkWU.png?s=128&g=1", "display_name": "Rohit Singh", "link": "https://stackoverflow.com/users/4700156/rohit-singh"}, "edited": false, "score": 0, "creation_date": 1616143835, "post_id": 59171905, "comment_id": 117915598, "body": "This is exactly what happened in my case. A spelling mistake in the onClick method of the Button.  Thanks a lot."}, {"owner": {"reputation": 982, "user_id": 570244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7e32aa83ad31238662afd4f91ebe7c2?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/570244/phil"}, "edited": false, "score": 0, "creation_date": 1618969438, "post_id": 59171905, "comment_id": 118761178, "body": "This is the correct solution."}], "tags": [], "owner": {"reputation": 443, "user_id": 8226150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28cfe14a25182efd37cc176f4e05bbd1?s=128&d=identicon&r=PG&f=1", "display_name": "Opeyemi", "link": "https://stackoverflow.com/users/8226150/opeyemi"}, "is_accepted": false, "score": 19, "last_activity_date": 1575448574, "creation_date": 1575448574, "answer_id": 59171905, "question_id": 53931238, "link": "https://stackoverflow.com/questions/53931238/fragment-databinding-databindermapperimpl-java-cannot-find-symbol-fragmentcolle/59171905#59171905", "title": "Fragment databinding, DataBinderMapperImpl.java cannot find symbol FragmentCollectionBindingImpl", "body": "<p>I had the same issue:</p>\n\n<p>The solution eventually was that I misspelled one of the values in my fragments XML file.</p>\n\n<p>Take a look at the android:onclick parameter with an additional () I mistakenly added</p>\n\n<p><strong>WRONG</strong></p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/end_game_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"16dp\"\n        android:text=\"@string/end_game\"\n        android:theme=\"@style/SkipButton\"\n        android:onClick=\"@{() -&gt; gameViewModel.onGameFinished()()}\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guideline\" /&gt;\n</code></pre>\n\n<p><strong>RIGHT</strong></p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/end_game_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"16dp\"\n        android:text=\"@string/end_game\"\n        android:theme=\"@style/SkipButton\"\n        android:onClick=\"@{() -&gt; gameViewModel.onGameFinished()}\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/guideline\" /&gt;\n</code></pre>\n\n<p>I will advise you check through your fragment's XML file for any typo or misspelled variable names and correct them. This solved my issue. \nThese errors only get caught at compile-time and points to the generated databinding files, making it hard to debug.</p>\n"}], "owner": {"reputation": 125, "user_id": 9565242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19ae6560468a8e00d0c62d8cd4632629?s=128&d=identicon&r=PG&f=1", "display_name": "flabbet", "link": "https://stackoverflow.com/users/9565242/flabbet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8101, "favorite_count": 0, "answer_count": 2, "score": 10, "last_activity_date": 1575448574, "creation_date": 1545822511, "last_edit_date": 1545825385, "question_id": 53931238, "link": "https://stackoverflow.com/questions/53931238/fragment-databinding-databindermapperimpl-java-cannot-find-symbol-fragmentcolle", "title": "Fragment databinding, DataBinderMapperImpl.java cannot find symbol FragmentCollectionBindingImpl", "body": "<p>I'm binding data between android fragment and ViewModel in kotlin. Compiler throws </p>\n\n<blockquote>\n  <p>error: cannot find symbolimport >frydzej.yerbet.databinding.FragmentCollectionBindingImpl</p>\n</blockquote>\n\n<p>I have tried to change gradle version to 3.2.1 and databinding compiler version to 3.2.1. But with same result.\nMy Android Studio version is 3.3 RC 3</p>\n\n<p>This is my project gradle buildscript</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.3.11'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.3.0-rc03'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle- \nplugin:$kotlin_version\"\n    classpath 'android.arch.navigation:navigation-safe-args-gradle- \nplugin:1.0.0-alpha09'\n }\n}\n</code></pre>\n\n<p>and app gradle</p>\n\n<pre><code>dataBinding{\n        enabled = true\n    }\n\ndependencies {\n    def lifecycle_version = \"2.0.0\"\n    def room_version = \"2.0.0\"\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.1.0-alpha01'\n    implementation 'com.google.android.material:material:1.1.0-alpha02'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation \"android.arch.navigation:navigation-fragment-ktx:1.0.0-alpha09\"\n    implementation \"android.arch.navigation:navigation-ui-ktx:1.0.0-alpha09\"\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\n    implementation 'com.cuneytayyildiz:onboarder:1.0.3'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation \"androidx.room:room-runtime:$room_version\"\n    kapt \"androidx.room:room-compiler:$room_version\"\n    kapt \"androidx.lifecycle:lifecycle-compiler:$lifecycle_version\"\n    testImplementation 'junit:junit:4.12'\n    debugImplementation 'com.amitshekhar.android:debug-db:1.0.4'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n</code></pre>\n\n<p>fragment_collection.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n&lt;data&gt;\n    &lt;variable name=\"viewModel\" type=\"frydzej.yerbet.viewModels.CollectionViewModel\"/&gt;\n&lt;/data&gt;\n\n&lt;FrameLayout\n        android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"\n        tools:context=\".Views.CollectionFragment\"&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/add_item_fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"end|bottom\"\n            android:src=\"@drawable/ic_add\"\n            android:onClick=\"@{() -&gt; viewModel.addFabClicked()}\"\n            android:layout_margin=\"16dp\"\n            app:fabSize=\"normal\"/&gt;\n&lt;/FrameLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>and the Fragment view code:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val binding: FragmentCollectionBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_collection, container, false)\n    val view: View = binding.root\n    val viewModel: CollectionViewModel = ViewModelProviders.of(this).get(CollectionViewModel::class.java)\n    binding.viewModel = viewModel\n    return view\n}\n</code></pre>\n\n<p>In MainActivity databinding there is either </p>\n\n<blockquote>\n  <p>ActivityMainBinding \n  and \n  ActivityMainBindingImpl, </p>\n</blockquote>\n\n<p>but in CollectionFragment only </p>\n\n<blockquote>\n  <p>FragmentCollectionBinding </p>\n</blockquote>\n\n<p>is created</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 55159, "user_id": 614807, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b1f008009ba21a4675bc5e40cd3326d?s=128&d=identicon&r=PG", "display_name": "Chirag", "link": "https://stackoverflow.com/users/614807/chirag"}, "edited": false, "score": 0, "creation_date": 1545823125, "post_id": 53931153, "comment_id": 94703157, "body": "Please check AlertDialog.Java file, so you can get better idea about it. <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/AlertDialog.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/master/c&zwnj;&#8203;ore/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3389, "user_id": 2700233, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L4CDE.jpg?s=128&g=1", "display_name": "Farouk Touzi", "link": "https://stackoverflow.com/users/2700233/farouk-touzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1545822362, "creation_date": 1545822362, "answer_id": 53931211, "question_id": 53931153, "link": "https://stackoverflow.com/questions/53931153/calling-multiple-methods-on-same-same-object-without-any-references/53931211#53931211", "title": "Calling multiple methods on same same object without any references", "body": "<p>You have to consider the Builder design pattern. Please refer to these very useful links :</p>\n\n<p><a href=\"https://www.javaworld.com/article/2074938/core-java/too-many-parameters-in-java-methods-part-3-builder-pattern.html\" rel=\"nofollow noreferrer\">https://www.javaworld.com/article/2074938/core-java/too-many-parameters-in-java-methods-part-3-builder-pattern.html</a></p>\n\n<p><a href=\"https://medium.com/@ajinkyabadve/builder-design-patterns-in-java-1ffb12648850\" rel=\"nofollow noreferrer\">https://medium.com/@ajinkyabadve/builder-design-patterns-in-java-1ffb12648850</a></p>\n"}, {"comments": [{"owner": {"reputation": 7289, "user_id": 3736955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1647d5d7348d070ae95df49253385ee1?s=128&d=identicon&r=PG", "display_name": "Jemshit Iskenderov", "link": "https://stackoverflow.com/users/3736955/jemshit-iskenderov"}, "edited": false, "score": 0, "creation_date": 1545825931, "post_id": 53931236, "comment_id": 94704082, "body": "I dont think it is obligatory to abstract away interface and implementation in Builder pattern."}], "tags": [], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "is_accepted": false, "score": 1, "last_activity_date": 1545822503, "creation_date": 1545822503, "answer_id": 53931236, "question_id": 53931153, "link": "https://stackoverflow.com/questions/53931153/calling-multiple-methods-on-same-same-object-without-any-references/53931236#53931236", "title": "Calling multiple methods on same same object without any references", "body": "<p>They use <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder</a> pattern</p>\n\n<p>Here is an example in <strong>Java</strong></p>\n\n<pre><code>/**\n * Represents the product created by the builder.\n */\nclass Car {\n    private int wheels;\n    private String color;\n\n    public Car() {\n    }\n\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(final String color) {\n        this.color = color;\n    }\n\n    public int getWheels() {\n        return wheels;\n    }\n\n    public void setWheels(final int wheels) {\n        this.wheels = wheels;\n    }\n\n    @Override\n    public String toString() {\n        return \"Car [wheels = \" + wheels + \", color = \" + color + \"]\";\n    }\n}\n\n/**\n * The builder abstraction.\n */\ninterface CarBuilder {\n    Car build();\n\n    CarBuilder setColor(final String color);\n\n    CarBuilder setWheels(final int wheels);\n}\n\nclass CarBuilderImpl implements CarBuilder {\n    private Car carTmp;\n\n    public CarBuilderImpl() {\n        carTmp = new Car();\n    }\n\n    @Override\n    public Car build() {\n        Car car = new Car();\n        car.setColor(carTmp.getColor());\n        car.setWheels(carTmp.getWheels());\n        return car;\n    }\n\n    @Override\n    public CarBuilder setColor(final String color) {\n        carTmp.setColor(color);\n        return this;\n    }\n\n    @Override\n    public CarBuilder setWheels(final int wheels) {\n        carTmp.setWheels(wheels);\n        return this;\n    }\n}\n\npublic class CarBuildDirector {\n    private CarBuilder builder;\n\n    public CarBuildDirector(final CarBuilder builder) {\n        this.builder = builder;\n    }\n\n    public Car construct() {\n        return builder.setWheels(4)\n                      .setColor(\"Red\")\n                      .build();\n    }\n\n    public static void main(final String[] arguments) {\n        final CarBuilder builder = new CarBuilderImpl();\n\n        final CarBuildDirector carBuildDirector = new CarBuildDirector(builder);\n\n        System.out.println(carBuildDirector.construct());\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1545834500, "creation_date": 1545834500, "answer_id": 53933376, "question_id": 53931153, "link": "https://stackoverflow.com/questions/53931153/calling-multiple-methods-on-same-same-object-without-any-references/53933376#53933376", "title": "Calling multiple methods on same same object without any references", "body": "<p>Since you also tagged Kotlin, there's a good alternative there not available in Java. E.g. if you didn't have <code>AlertDialog.Builder</code>, and methods like <code>setTitle(title)</code> were only defined on <code>AlertDialog</code> (and don't <code>return this</code> so they can't be chained), you could write</p>\n\n<pre><code>val dialog = AlertDialog(...).apply {\n    title = \"some title\" // calls setTitle\n    message = \"some message\"\n}\n</code></pre>\n\n<p>see e.g. <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84</a> or <a href=\"https://kotlinexpertise.com/coping-with-kotlins-scope-functions/\" rel=\"nofollow noreferrer\">https://kotlinexpertise.com/coping-with-kotlins-scope-functions/</a> for a discussion of standard scope functions (<code>apply</code> is just one of them).</p>\n"}], "owner": {"reputation": 69, "user_id": 7696097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53beb4348b92fb09275e3882ecbf6c2c?s=128&d=identicon&r=PG&f=1", "display_name": "ravid rinek", "link": "https://stackoverflow.com/users/7696097/ravid-rinek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 53933376, "answer_count": 3, "score": 0, "last_activity_date": 1545834500, "creation_date": 1545822097, "last_edit_date": 1545822741, "question_id": 53931153, "link": "https://stackoverflow.com/questions/53931153/calling-multiple-methods-on-same-same-object-without-any-references", "title": "Calling multiple methods on same same object without any references", "body": "<p>I've created a costume view,\nand mostly it does not require to have a reference to it,<br>\nwhen instantiate, its enough to call its methods and to set its values all at once.</p>\n\n<p>so my question is:<br>\nhow do I allow calling multiple methods on an object with no reference</p>\n\n<p>e.g</p>\n\n<pre><code>AlertDialog.Builder(view.context)  \n    .setTitle(title)  \n    .setMessage(msg)  \n    .show()\n</code></pre>\n\n<p><strong>HOW DO THEY DO THAT</strong></p>\n"}, {"tags": ["android", "kotlin", "permissions"], "answers": [{"comments": [{"owner": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "edited": false, "score": 0, "creation_date": 1545822066, "post_id": 53931096, "comment_id": 94702768, "body": "Yes, logically speaking the flow is good but how can set my method to return true if user gives permission,"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "edited": false, "score": 2, "creation_date": 1545825241, "post_id": 53931096, "comment_id": 94703852, "body": "At the moment the user sees the prompt, not only has your method long completed, your activity is no longer active. Clearly, the method can&#39;t return the outcome of the user&#39;s interaction with the prompt."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 3, "last_activity_date": 1545821809, "creation_date": 1545821809, "answer_id": 53931096, "question_id": 53931052, "link": "https://stackoverflow.com/questions/53931052/permission-returning-false-even-when-allowed/53931096#53931096", "title": "Permission returning false even when allowed", "body": "<p>Your question perfectly describes the specified behavior. The method <code>requestPermissions</code> orders the system to:</p>\n\n<ol>\n<li>pause your activity</li>\n<li>start a system-provided activity that asks the user for permissions</li>\n<li>resume your activity</li>\n<li>call its <code>onRequestPermissionsResult</code> callback</li>\n</ol>\n\n<p>The call to <code>requestPermissions</code> returns immediately after setting up this procedure on the system side.</p>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "is_accepted": true, "score": 0, "last_activity_date": 1545893289, "creation_date": 1545893289, "answer_id": 53940894, "question_id": 53931052, "link": "https://stackoverflow.com/questions/53931052/permission-returning-false-even-when-allowed/53940894#53940894", "title": "Permission returning false even when allowed", "body": "<p>As described in @Marko answer all I was missing was onRequestPermissionsResult callback, here is the code:</p>\n\n<pre><code> //the is a overridden method\n override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    if(requestCode==1){\n        if(grantResults[0]==PERMISSION_DENIED &amp;&amp; grantResults[1]== PERMISSION_DENIED){\n            AlertDialogBox().createBuilder(this,\"Permission\",\"Camera and Storage permission denied\",\"ok\")\n        }else if(grantResults[1]== PERMISSION_DENIED){\n            AlertDialogBox().createBuilder(this,\"Permission\",\"Storage permission denied\",\"ok\")\n        }else if(grantResults[0]== PERMISSION_DENIED){\n            AlertDialogBox().createBuilder(this,\"Permission\",\"Camera permission denied\",\"ok\")\n        }\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n\n}\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 5787969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nx9Km.jpg?s=128&g=1", "display_name": "Abdul Rahman Shamair", "link": "https://stackoverflow.com/users/5787969/abdul-rahman-shamair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 53940894, "answer_count": 2, "score": 1, "last_activity_date": 1545893289, "creation_date": 1545821570, "question_id": 53931052, "link": "https://stackoverflow.com/questions/53931052/permission-returning-false-even-when-allowed", "title": "Permission returning false even when allowed", "body": "<p>I am checking if my application have access to camera and to write external storage, but the first time when I am asked for permission even after giving them the app still return false, Here is my code   </p>\n\n<pre><code>   private fun getPermission(): Boolean {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        if( (checkSelfPermission(android.Manifest.permission.CAMERA) == PackageManager.PERMISSION_GRANTED )&amp;&amp;\n            checkSelfPermission(android.Manifest.permission.WRITE_EXTERNAL_STORAGE) ==PackageManager.PERMISSION_GRANTED) {\n            return true\n        } else {\n            requestPermissions(listOf(CAMERA, WRITE_EXTERNAL_STORAGE).toTypedArray(), 1)\n\n        }\n    }\nreturn false\n\n}\n</code></pre>\n\n<p>so if, I use this function getPermission it will first time return false (on screen I am allowing my application to access camera and storage ) and on next turn (I go back to home activity and again open this Camera activity) this time I am not asked for permissions and my application starts using camera.</p>\n"}, {"tags": ["android", "kotlin", "bottom-sheet", "material-components", "material-components-android"], "comments": [{"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 0, "creation_date": 1556005044, "post_id": 53930666, "comment_id": 98280432, "body": "<code>@PrateekPhoenix</code> , have you found any solving to this?"}, {"owner": {"reputation": 797, "user_id": 4191000, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-wmnhIXY4cI0/AAAAAAAAAAI/AAAAAAAAAmM/Z4n6AobIsKo/photo.jpg?sz=128", "display_name": "Prateek Phoenix", "link": "https://stackoverflow.com/users/4191000/prateek-phoenix"}, "reply_to_user": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 1, "creation_date": 1556092950, "post_id": 53930666, "comment_id": 98315360, "body": "No not really, we scrapped off that design because it was an issue with the component and there&#39;s not been any update to it since."}], "answers": [{"comments": [{"owner": {"reputation": 797, "user_id": 4191000, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-wmnhIXY4cI0/AAAAAAAAAAI/AAAAAAAAAmM/Z4n6AobIsKo/photo.jpg?sz=128", "display_name": "Prateek Phoenix", "link": "https://stackoverflow.com/users/4191000/prateek-phoenix"}, "edited": false, "score": 0, "creation_date": 1545895434, "post_id": 53940382, "comment_id": 94721671, "body": "Hi Cameron, thank you for your reply....just reported it! Here&#39;s the link - <a href=\"https://issuetracker.google.com/issues/122017052\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/122017052</a>"}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 0, "creation_date": 1556004778, "post_id": 53940382, "comment_id": 98280313, "body": "<code>@CameronKetcham</code> I am facing the same issue, even I have set a fixed height dimension."}], "tags": [], "owner": {"reputation": 7526, "user_id": 518251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715006648eff9b58c9fa75096b775691?s=128&d=identicon&r=PG", "display_name": "Cameron Ketcham", "link": "https://stackoverflow.com/users/518251/cameron-ketcham"}, "is_accepted": false, "score": 0, "last_activity_date": 1545890318, "creation_date": 1545890318, "answer_id": 53940382, "question_id": 53930666, "link": "https://stackoverflow.com/questions/53930666/bottomsheet-is-jumping-on-button-clicks/53940382#53940382", "title": "BottomSheet is jumping on button clicks", "body": "<p>Looks to me like that could be a bug in the <code>BottomSheetBehavior</code>? Seems like the height of the sheet isn't getting saved or restored correctly. After the button is pressed, a layout happens again which changes the height. Could you file a bug at <a href=\"https://issuetracker.google.com/issues/new?component=439535\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/new?component=439535</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 4204340, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-txs746voa00/AAAAAAAAAAI/AAAAAAAAG_8/jKLtn_YTfUY/photo.jpg?sz=128", "display_name": "Maciej Przybylski", "link": "https://stackoverflow.com/users/4204340/maciej-przybylski"}, "is_accepted": false, "score": 2, "last_activity_date": 1570210994, "creation_date": 1570210994, "answer_id": 58241023, "question_id": 53930666, "link": "https://stackoverflow.com/questions/53930666/bottomsheet-is-jumping-on-button-clicks/58241023#58241023", "title": "BottomSheet is jumping on button clicks", "body": "<p>it seems that google engineer gave correct answer</p>\n\n<blockquote>\n  <p>Seems like something is going on because you are setting\n  android:layout_gravity=\"bottom\" on the view with the\n  BottomSheetBehavior. You should remove that line.</p>\n</blockquote>\n\n<p>It helped on my case</p>\n"}], "owner": {"reputation": 797, "user_id": 4191000, "user_type": "registered", "accept_rate": 13, "profile_image": "https://lh6.googleusercontent.com/-wmnhIXY4cI0/AAAAAAAAAAI/AAAAAAAAAmM/Z4n6AobIsKo/photo.jpg?sz=128", "display_name": "Prateek Phoenix", "link": "https://stackoverflow.com/users/4191000/prateek-phoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1570210994, "creation_date": 1545819628, "question_id": 53930666, "link": "https://stackoverflow.com/questions/53930666/bottomsheet-is-jumping-on-button-clicks", "title": "BottomSheet is jumping on button clicks", "body": "<p>I have a <strong>BottomSheet</strong> which houses a product detail card. The problem is, when I click on the <strong>+</strong> or <strong>-</strong> button on the product detail while the bottom sheet is in it's <strong>Expanded</strong> state, <strong>it jumps down</strong>.</p>\n\n<p>When it is down and I click on the buttons it doesn't jump, it only happens when it is in it's Expanded (completely up) state</p>\n\n<p>I have attached a GIF to show what is exactly happening</p>\n\n<p><a href=\"https://i.stack.imgur.com/ECttI.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ECttI.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the code</p>\n\n<p><strong>scan_sheet.xml</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/bottom_sheet\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"wrap_content\"\r\n    android:layout_gravity=\"bottom\"\r\n    android:animateLayoutChanges=\"false\"\r\n    android:background=\"@drawable/bottom_sheet_dialog_fragment\"\r\n    android:orientation=\"vertical\"\r\n    app:behavior_hideable=\"true\"\r\n    app:behavior_peekHeight=\"100dp\"\r\n    app:layout_behavior=\"studio.monotype.storedemo.BottomSheetBehavior\"&gt;\r\n\r\n    &lt;include\r\n        layout=\"@layout/hero_item\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"32dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.5\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\r\n\r\n    &lt;View\r\n        android:id=\"@+id/divider_view\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"4dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"44dp\"\r\n        android:layout_marginEnd=\"24dp\"\r\n        android:background=\"@color/colorPrimary\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/hero_item\" /&gt;\r\n\r\n    &lt;include\r\n        layout=\"@layout/related_view\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginTop=\"24dp\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/divider_view\"\r\n        tools:layout_editor_absoluteX=\"0dp\" /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>ScanActivity.kt</strong> <em>(simplified to show only what is essential)</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class ScanActivity : AppCompatActivity() {\r\n\r\n\r\n    private lateinit var bottomSheet: BottomSheetBehavior&lt;*&gt;\r\n \r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_scan)\r\n\r\n        setupBottomSheet()\r\n        \r\n        showSheet()\r\n    }\r\n\r\n  \r\n\r\n\r\n    private fun setupBottomSheet() {\r\n        bottomSheet = BottomSheetBehavior.from(bottom_sheet)\r\n        bottomSheet.isHideable = true\r\n        bottomSheet.skipCollapsed= true\r\n        bottomSheet.isDraggable = true\r\n        bottomSheet.state = BottomSheetBehavior.STATE_HIDDEN\r\n        bottomSheet.addBottomSheetCallback(object : BottomSheetBehavior.BottomSheetCallback {\r\n            override fun onSlide(bottomSheet: View, slideOffset: Float) {\r\n            }\r\n\r\n            @SuppressLint(\"SwitchIntDef\")\r\n            override fun onStateChanged(sheet: View, newState: Int) {\r\n                when (newState) {\r\n                    BottomSheetBehavior.STATE_HIDDEN -&gt; {\r\n                        codeScanner.startPreview()\r\n                    }\r\n                }\r\n            }\r\n\r\n        })\r\n        \r\n        \r\n         plus_btn.setOnClickListener {\r\n            var qty= qty_tv.text.toString().toInt()\r\n            qty++\r\n            qty_tv.text =qty.toString()\r\n        }\r\n\r\n        minus_btn.setOnClickListener {\r\n            var qty= qty_tv.text.toString().toInt()\r\n            if(qty!=0)\r\n            {\r\n                qty--\r\n            }\r\n            qty_tv.text =qty.toString()\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private fun showSheet() {\r\n        bottomSheet.state = BottomSheetBehavior.STATE_EXPANDED\r\n    }\r\n\r\n   \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-swipe"], "answers": [{"tags": [], "owner": {"reputation": 1146, "user_id": 10211127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b76fcb38d289a2261fc1cd8430ef7d9?s=128&d=identicon&r=PG&f=1", "display_name": "jo jo", "link": "https://stackoverflow.com/users/10211127/jo-jo"}, "is_accepted": true, "score": 0, "last_activity_date": 1545900847, "last_edit_date": 1545900847, "creation_date": 1545819989, "answer_id": 53930735, "question_id": 53930170, "link": "https://stackoverflow.com/questions/53930170/error-parameter-specified-as-non-null-is-null-when-use-swipe-touch-listener-in-r/53930735#53930735", "title": "Error parameter specified as non-null is null when use swipe touch listener in recyclerView - Android", "body": "<p>Resolved my problem, I changed <code>onTouch</code> to:</p>\n\n<pre><code>override fun onTouch(v: View, event: MotionEvent): Boolean {\n    if (event.action == MotionEvent.ACTION_MOVE) {\n        v.performClick()\n        return gestureDetector.onTouchEvent(event)\n    } else {\n        return false\n    }\n}\n</code></pre>\n\n<p>OR:</p>\n\n<pre><code>override fun onFling(e1: MotionEvent,\n                     e2: MotionEvent,\n                     velocityX: Float,\n                     velocityY: Float): Boolean {\n            val result = false\n        if(e1 != null &amp;&amp; e2 != null){\n            try {\n                val diffY = e2.y - e1.y\n                val diffX = e2.x - e1.x\n                if (Math.abs(diffX) &gt; Math.abs(diffY)) {\n                    if (Math.abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD) {\n                        if (diffX &gt; 0) {\n                            //onSwipeRight()\n                        } else {\n                            onSwipeLeft()\n                        }\n                    }\n                } else {\n                    // onTouch(e);\n                }\n            } catch (exception: Exception) {\n                exception.printStackTrace()\n                Crashlytics.logException(exception)\n            }\n          }\n            return result\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "is_accepted": false, "score": 0, "last_activity_date": 1545825139, "last_edit_date": 1545825139, "creation_date": 1545823495, "answer_id": 53931421, "question_id": 53930170, "link": "https://stackoverflow.com/questions/53930170/error-parameter-specified-as-non-null-is-null-when-use-swipe-touch-listener-in-r/53931421#53931421", "title": "Error parameter specified as non-null is null when use swipe touch listener in recyclerView - Android", "body": "<p>No extra class requires for swipe event. As this can be done using ItemouchHelper class.</p>\n\n<pre><code>private void rightAndLeftSwipe() {\n        ItemTouchHelper.SimpleCallback simpleItemTouchCallback = new ItemTouchHelper.SimpleCallback(ItemTouchHelper.UP | ItemTouchHelper.DOWN, ItemTouchHelper.RIGHT | ItemTouchHelper.LEFT) {\n            @Override\n            public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {\n                return false;\n            }\n\n            @Override\n            public void clearView(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {\n                super.clearView(recyclerView, viewHolder);\n            }\n @Override\n            public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\n                int postion = viewHolder.getAdapterPosition();\n\n              /*----------Right swipe -----------*/\n                if (direction == ItemTouchHelper.RIGHT) {\n                  //todo perform your action\n                }\n                /*--------Left swipe--------*/\n                if (direction == ItemTouchHelper.LEFT) {\n                   //perform your action for left swipe\n                }\n            }\n\n        };\n        ItemTouchHelper itemTouchHelper = new ItemTouchHelper(simpleItemTouchCallback);\n        itemTouchHelper.attachToRecyclerView(binding.rvRecycler);\n    }\n</code></pre>\n\n<p>Above code will perform the right and left swipe like tinder application. If you need to a button below when swiping a item, then let me know. </p>\n"}], "owner": {"reputation": 1146, "user_id": 10211127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b76fcb38d289a2261fc1cd8430ef7d9?s=128&d=identicon&r=PG&f=1", "display_name": "jo jo", "link": "https://stackoverflow.com/users/10211127/jo-jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 1, "accepted_answer_id": 53930735, "answer_count": 2, "score": 1, "last_activity_date": 1545900847, "creation_date": 1545817189, "question_id": 53930170, "link": "https://stackoverflow.com/questions/53930170/error-parameter-specified-as-non-null-is-null-when-use-swipe-touch-listener-in-r", "title": "Error parameter specified as non-null is null when use swipe touch listener in recyclerView - Android", "body": "<p>I am using from bellow <code>class</code> for detect <code>swipe</code> in <code>recyclerView</code>:</p>\n\n<pre><code>open class OnSwipeTouchListener(context: Context) : View.OnTouchListener {\n    var context: Context? = context\n\n    private val gestureDetector = GestureDetector(context, GestureListener())\n\n    fun onTouchs(event: MotionEvent): Boolean {\n        return gestureDetector.onTouchEvent(event)\n    }\n\n    private inner class GestureListener : GestureDetector.SimpleOnGestureListener() {\n\n        private val SWIPE_THRESHOLD = 100\n        private val SWIPE_VELOCITY_THRESHOLD = 100\n\n        override fun onDown(e: MotionEvent): Boolean {\n            return true\n        }\n\n        override fun onSingleTapConfirmed(e: MotionEvent): Boolean {\n            onTouchs(e)\n            return true\n        }\n\n\n        override fun onFling(@NonNull e1: MotionEvent,\n                             @NonNull e2: MotionEvent,\n                             @NonNull velocityX: Float,\n                             @NonNull velocityY: Float): Boolean {\n            val result = false\n            try {\n                val diffY = e2.y - e1.y\n                val diffX = e2.x - e1.x\n                if (Math.abs(diffX) &gt; Math.abs(diffY)) {\n                    if (Math.abs(diffX) &gt; SWIPE_THRESHOLD &amp;&amp; Math.abs(velocityX) &gt; SWIPE_VELOCITY_THRESHOLD) {\n                        if (diffX &gt; 0) {\n                            //onSwipeRight()\n                        } else {\n                            onSwipeLeft()\n                        }\n                    }\n                } else {\n                    // onTouch(e);\n                }\n            } catch (exception: Exception) {\n                exception.printStackTrace()\n                Crashlytics.logException(exception)\n            }\n\n            return result\n        }\n    }\n\n    //    @SuppressLint(\"ClickableViewAccessibility\")\n    override fun onTouch(@NonNull v: View, @NonNull event: MotionEvent): Boolean {\n        v.performClick()\n        return gestureDetector.onTouchEvent(event)\n    }\n\n    //open fun onSwipeRight() {}\n\n    open fun onSwipeLeft() {}\n}\n</code></pre>\n\n<p>But when I scrolling to end list get me bellow crash when I arrive to end list:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter e1\n        at xx.xx.xx.tools.OnSwipeTouchListener$GestureListener.onFling(OnSwipeTouchListener.kt)\n        at android.view.GestureDetector.onTouchEvent(GestureDetector.java:667)\n        at xx.xx.xx.tools.OnSwipeTouchListener.onTouch(OnSwipeTouchListener.kt:65)\n</code></pre>\n\n<p>And here is my <code>SwipeController.kt</code>:</p>\n\n<pre><code>internal class SwipeController(private val swipeControllerInter: SwipeControllerInter) : ItemTouchHelper.Callback() {\n    private var swipeBack = false\n\n    interface SwipeControllerInter {\n        fun left()\n\n//        fun right()\n    }\n\n    override fun getMovementFlags(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder): Int {\n        return makeMovementFlags(0, LEFT or RIGHT)\n    }\n\n    override fun onMove(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder, target: RecyclerView.ViewHolder): Boolean {\n        return false\n    }\n\n    override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n\n    }\n\n    override fun convertToAbsoluteDirection(flags: Int, layoutDirection: Int): Int {\n        if (swipeBack) {\n            swipeBack = false\n            return 0\n        }\n        return super.convertToAbsoluteDirection(flags, layoutDirection)\n    }\n\n    override fun onChildDraw(c: Canvas,\n                             recyclerView: RecyclerView,\n                             viewHolder: RecyclerView.ViewHolder,\n                             dX: Float, dY: Float,\n                             actionState: Int, isCurrentlyActive: Boolean) {\n\n        if (actionState == ACTION_STATE_SWIPE) {\n            if (dX &gt; 0) {\n                // then swiping right.\n                //swipeControllerInter.right()\n            } else if (dX &lt; 0) {\n                // then swiping left.\n                swipeControllerInter.left()\n            }\n            // If dX == 0 then at at start position.\n        } else {\n            super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n        }\n\n        if (actionState == ACTION_STATE_SWIPE) {\n            setTouchListener(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n        }\n        super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n    }\n\n    @SuppressLint(\"ClickableViewAccessibility\")\n    private fun setTouchListener(c: Canvas,\n                                 recyclerView: RecyclerView,\n                                 viewHolder: RecyclerView.ViewHolder,\n                                 dX: Float, dY: Float,\n                                 actionState: Int,\n                                 isCurrentlyActive: Boolean) {\n\n        recyclerView.setOnTouchListener { v, event -&gt;\n            swipeBack = event.action == MotionEvent.ACTION_CANCEL || event.action == MotionEvent.ACTION_UP\n            false\n        }\n    }\n}\n</code></pre>\n\n<p>And I am using in my <code>MainFragment.kt</code>:</p>\n\n<pre><code>val swipeController = SwipeController(this)\nval itemTouchhelper = ItemTouchHelper(swipeController)\nitemTouchhelper.attachToRecyclerView(recycler_view)\n\nrecycler_view.setOnTouchListener(object : OnSwipeTouchListener(activity!!) {\n    override fun onSwipeLeft() {\n        val intent = Intent(activity, MainActivityMou::class.java)\n        intent.putExtra(\"ONE\", 1)\n        intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP\n        startActivity(intent)\n        activity!!.finish()\n    }\n})\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "edited": false, "score": 0, "creation_date": 1545886334, "post_id": 53937537, "comment_id": 94719229, "body": "you are answer does not related to my question"}], "tags": [], "owner": {"reputation": 3369, "user_id": 1694043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MH6Ps.jpg?s=128&g=1", "display_name": "Freek de Bruijn", "link": "https://stackoverflow.com/users/1694043/freek-de-bruijn"}, "is_accepted": false, "score": 0, "last_activity_date": 1545916109, "last_edit_date": 1545916109, "creation_date": 1545860993, "answer_id": 53937537, "question_id": 53929979, "link": "https://stackoverflow.com/questions/53929979/kotlin-google-map-api/53937537#53937537", "title": "kotlin google map api", "body": "<p>Your problem is \"l got red line under coordinatesText\". In the code you added to your question, coordinatesText is used twice: in functions onMapReady and onProgressUpdate. Do you get a red line in both functions or only in onMapReady?</p>\n\n<p>The LatLng class has <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/LatLng#public-constructor-summary\" rel=\"nofollow noreferrer\">one constructor</a> that expects two double parameters. It seems like you are giving it a single String parameter (that is equal to the latitude from the JSON position, that you extracted in function onProgressUpdate).</p>\n\n<p>To test this idea, you could try replacing</p>\n\n<pre><code>val sydney = LatLng(coordinatesText)\n</code></pre>\n\n<p>with something like</p>\n\n<pre><code>val sydney = LatLng(-34.0, 151.0)\n</code></pre>\n"}], "owner": {"reputation": 994, "user_id": 8494980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc12bf6f2b6b1278753628f10ee32ff2?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Ghassan", "link": "https://stackoverflow.com/users/8494980/ali-ghassan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545916109, "creation_date": 1545816156, "last_edit_date": 1545861066, "question_id": 53929979, "link": "https://stackoverflow.com/questions/53929979/kotlin-google-map-api", "title": "kotlin google map api", "body": "<p>l am junior in kotlin and i try to show latitude and longitude for specific airport on google map . using Async Task to get data json for latitude and longitude for airport then intent coordinates in google maps . but when l am try to intent the code inside google map code l got red line under coordinatesText intent . </p>\n\n<pre><code>  override fun onMapReady(p0: GoogleMap?) {\n        val sydney = LatLng(coordinatesText)\n        p0!!.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\n        p0.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n    }\n</code></pre>\n\n<p>main activity class </p>\n\n<pre><code>class MainActivity : AppCompatActivity(), OnMapReadyCallback {\n\n\n    lateinit var mapFragment : SupportMapFragment\n    lateinit var googleMap: GoogleMap\n    @SuppressLint(\"MissingPermission\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val url = \"xxxxx/airport.json?code=BGW\"\n        Download().execute(url)\n        mapFragment = supportFragmentManager.findFragmentById(R.id.map) as SupportMapFragment\n\n        mapFragment.getMapAsync(this@MainActivity)\n\n    }\n\n    override fun onMapReady(p0: GoogleMap?) {\n        val sydney = LatLng(coordinatesText)\n        p0!!.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\n        p0.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n    }\n    //    full class for json api\n    inner class Download : AsyncTask&lt;String,String,String&gt;(){\n\n        override fun onPreExecute() {\n        }\n        //        for build connection\n        override fun doInBackground(vararg p0: String?): String{\n\n            try {\n\n                val url = URL(p0[0])\n                val urlConnect = url.openConnection() as HttpURLConnection\n                urlConnect.connectTimeout = 700\n                val inputStream = urlConnect.inputStream\n                val dataJsonAsStr = covertStreamToString(urlConnect.inputStream)\n                publishProgress(dataJsonAsStr)\n\n            }   catch (e: Exception){\n\n            }\n            return \"\"\n        }\n\n        //        for get items from json api\n        override fun onProgressUpdate(vararg values: String?) {\n\n            val json= JSONObject(values[0])\n            val result = json.getJSONObject(\"result\")\n            val response =result.getJSONObject(\"response\")\n            val airport =response.getJSONObject(\"airport\")\n            val pluginData =airport.getJSONObject(\"pluginData\")\n            val details =pluginData.getJSONObject(\"details\")\n            val position =details.getJSONObject(\"position\")\n            val latitude =position.getString(\"latitude\")\n\n            coordinatesText.setText(latitude)\n\n        }\n\n        override fun onPostExecute(result: String?) {\n\n        }\n\n    }\n\n    //    for connection api\n    fun covertStreamToString (inputStream: InputStream): String {\n\n        val bufferReader = BufferedReader(InputStreamReader(inputStream))\n        var line:String\n        var  allString:String=\"\"\n        try {\n            do{\n                line=bufferReader.readLine()\n                if (line!=null)\n                    allString+=line\n            }while (line!=null)\n\n            bufferReader.close()\n        }catch (ex:java.lang.Exception){}\n\n        return allString;\n    }\n\n    //    full class for json api\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "testing", "kotlin", "mockito"], "owner": {"reputation": 713, "user_id": 1278837, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75d86d4e4e19d54a5893e5b386a82c9d?s=128&d=identicon&r=PG", "display_name": "denizt", "link": "https://stackoverflow.com/users/1278837/denizt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1545814311, "creation_date": 1545814311, "question_id": 53929643, "link": "https://stackoverflow.com/questions/53929643/how-to-verify-observed-viewmodel-livedata-inside-my-test", "title": "How to verify observed ViewModel LiveData inside my test?", "body": "<p>I am currently trying to write a test for my ViewModel class. I already managed to write some tests for its LiveData updates, and verified behaviors. </p>\n\n<p>However when I tried to test a method with chained methods, and see if my linked LiveData updated correctly, there is nothing happening. Test gives error stating that there is no invoke happened during test.</p>\n\n<p>Below is how I tried to test the LiveData object</p>\n\n<pre><code>class WorkViewModelTest : AndroidTest() {\n@Mock\nprivate lateinit var sqlQueryUseCase: SqlQueryUseCase\nprivate lateinit var workViewModel: WorkViewModel\nval prefs = PreferencesHelper.defaultPrefs(context())\nval resourceProvider = ResourceProvider(context())\n\n@Before\nfun setup() {\n    workViewModel = WorkViewModel(sqlQueryUseCase, prefs, resourceProvider)\n    workViewModel.toggleProductListState.observeForever {}\n}\n\n@Test\nfun `When invalid barcode text given to function, it returns error message`() {\n    //given\n    val invalidString: String? = null\n    val observer = mock&lt;Observer&lt;String&gt;&gt;()\n    workViewModel.warningMessage.observeForever(observer)\n\n    //when\n    workViewModel.checkProductCode(invalidString)\n\n    //then\n    verify(observer).onChanged(resourceProvider.getStringFromResources(R.string.work_screen_empty_product_code_warning))\n}\n</code></pre>\n\n<p>---> This is the test that fails</p>\n\n<pre><code>@Test\nfun `When user read a barcode and it is not found on remote with ERP System, we should move our state to error`() {\n    //given\n    val barcode = \"123456789\"\n    val observer = mock&lt;Observer&lt;String&gt;&gt;()\n    workViewModel.warningMessage.observeForever(observer)\n\n    given {\n        runBlocking { sqlQueryUseCase.run(any()) }\n    }.willReturn(Either.Right(emptyList())\n\n    //when\n    runBlocking { workViewModel.checkProductCode(barcode) }\n    //then\n    verify(observer).onChanged(resourceProvider.getStringFromResources(R.string.work_screen_data_not_found_for_given_barcode_warning))\n}\n</code></pre>\n\n<p>Here is my ViewModel class, which invokes some use cases and fetch data from remote connection:</p>\n\n<pre><code>class WorkViewModel\n@Inject constructor(\nprivate val sqlQueryUseCase: SqlQueryUseCase,\nprivate val prefs: SharedPreferences,\nprivate val resourceProvider: ResourceProvider\n) : BaseViewModel() {\n\nval productListState: MutableLiveData&lt;Boolean&gt; = MutableLiveData()\nval itemList: MutableLiveData&lt;List&lt;ItemDetailModel&gt;&gt; = MutableLiveData()\nval warningMessage: MutableLiveData&lt;String&gt; = MutableLiveData()\nval productInformation: MutableLiveData&lt;String&gt; = MutableLiveData()\n\nval toggleProductListState = Transformations.map(itemList) {\n    if (it.isEmpty()) {\n        productListState.postValue(false)\n    } else {\n        productListState.postValue(true)\n    }\n}\n\nfun initializeItemList(itemList: List&lt;ItemDetailModel&gt;) {\n    this.itemList.postValue(itemList)\n}\n\nfun checkProductCode(productCode: String?) {\n    if (productCode.isNullOrEmpty()) {\n        warningMessage.postValue(resourceProvider.getStringFromResources(R.string.work_screen_empty_product_code_warning))\n    } else {\n        executeSqlQuery(productCode)\n    }\n}\n\nprivate fun executeSqlQuery(productCode: String) {\n    sqlQueryUseCase(\n        SqlQueryUseCase.Params(\n            String.createAuthToken(PreferencesHelper.getAuthorizationToken(prefs)),\n            RequestBody.create(\n                MediaType.parse(\"application/json\"),\n                QueryCreatorFactory.createQueryCreatorFromErpType(\n                    prefs,\n                    resourceProvider\n                ).getProductInformationFromBarcodeQuery(productCode)!!.toByteArray(Charsets.UTF_8)\n            )\n        )\n    ) {\n        it.either(::handleErrorState, ::handleQueryResult)\n    }\n}\n\nprivate fun handleQueryResult(resultData: List&lt;Any&gt;) {\n    if (resultData.isNotEmpty()) {\n        productInformation.postValue(resultData[0] as String)\n    } else {\n        warningMessage.postValue(resourceProvider.getStringFromResources(R.string.work_screen_data_not_found_for_given_barcode_warning))\n    }\n}\n\nprivate fun handleErrorState(failure: Failure) {\n    if (failure is Failure.ServerError)\n        warningMessage.postValue(failure.errorMessage)\n    else\n        warningMessage.postValue(\"Some other failure\")\n}\n}\n</code></pre>\n\n<p>What I am trying to achieve is, whenever user tries to get information about a product with a barcode, which actually does not stored in system, we will get an empty list as a response, and at that case, ViewModel should post a warning message via warningMessage LiveData.</p>\n\n<p>However with the test I wrote, I cannot see in debug mod that \"handleQueryResult\" function is called at all. I am struggling with that problem, and since I am a bit new with Mockito, I cannot understand what is wrong with my test. Any help is welcomed. Thanks a lot.</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1545813434, "creation_date": 1545813434, "answer_id": 53929503, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53929503#53929503", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>All three code are behave same null check in operation-wise. </p>\n\n<p>?. is used for chain operations.</p>\n\n<pre><code> bob?.department?.head?.name // if any of the properties in it is null it returns null\n</code></pre>\n\n<p>To perform a chain operation only for non-null values, you can use the safe call operator together with let</p>\n\n<pre><code>myVar?.let { \nfoo(it)\n}\n</code></pre>\n\n<p>the above code is good for code style and performance </p>\n\n<p>more details refer  <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null Safety</a></p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 7470032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k9Jf5.jpg?s=128&g=1", "display_name": "I V", "link": "https://stackoverflow.com/users/7470032/i-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1545816896, "creation_date": 1545816896, "answer_id": 53930107, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53930107#53930107", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>The ways 2 and 3 are more idiomatic for Kotlin. Both functions are quite similar. There is little difference with argument passing.</p>\n\n<p>For example, we have a nullable variable:</p>\n\n<pre><code>var canBeNull: String? = null\n</code></pre>\n\n<p>When you working with <code>T.run</code> you work with extension function calling and you pass <code>this</code> in the closure.</p>\n\n<pre><code>    canBeNull?.run {\n        println(length) // `this` could be omitted\n    }\n</code></pre>\n\n<p>When you call <code>T.let</code> you can use it like lambda argument <code>it</code>.</p>\n\n<pre><code>    canBeNull?.let {\n        myString -&gt; println(myString.length) // You could convert `it` to some other name\n    }\n</code></pre>\n\n<p>A good <a href=\"https://medium.com/@elye.project/mastering-kotlin-standard-functions-run-with-let-also-and-apply-9cd334b0ef84\" rel=\"nofollow noreferrer\">article</a> about Kotlin standard functions.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1545817728, "creation_date": 1545817728, "answer_id": 53930287, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53930287#53930287", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>All three are roughly equivalent.</p>\n\n<p>The <code>if</code> case is more like most other languages, and so many developers may find it easier to read.</p>\n\n<p>However, one difference is that the <code>if</code> case will read the value of <code>myVar</code> twice: once for the check, and again when passing it to <code>foo()</code>.  That makes a difference, because if <code>myVar</code> is a property (i.e. something that could potentially be changed by another thread), then the compiler will warn that it could have been set to null <em>after</em> the check.  If that's a problem (e.g. because <code>foo()</code> expects a non-null parameter), then you'll need to use one of the other cases.</p>\n\n<p>For that reason, the <code>let</code> case has become fairly common practice in Kotlin.  (The <code>run</code> case does just about the same thing, but for some reason isn't as popular for this sort of thing.  I don't know why.)</p>\n\n<p>Another way around it is to assign <code>myVar</code> to a temporary value, test that, and then use that.  That's also more like other languages, but it's more verbose; many people prefer the conciseness of the <code>let</code> case \u2014 especially when <code>myVar</code> is actually a complicated expression.</p>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1545818453, "creation_date": 1545818453, "answer_id": 53930405, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53930405#53930405", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>The examples in your question don't show the true reason to decide.</p>\n\n<p>First of all, since you're not using the return value of <code>foo</code>, you should use neither <code>let</code> nor <code>run</code>. Your choice is between <code>also</code> and <code>apply</code>.</p>\n\n<p>Second, since you already have the result you want to null-check in a variable, the difference fades. This is a better motivating example:</p>\n\n<pre><code>complexCall(calculateArg1(), calculateArg2())?.also {\n    results.add(it)\n}\n</code></pre>\n\n<p>as opposed to</p>\n\n<pre><code>val result = complexCall(calculateArg1(), calculateArg2())\nif (result != null) {\n    results.add(result)\n}\n</code></pre>\n\n<p>The second example declares an identifier, <code>result</code>, which is now available to the rest of the lexical scope, even though you're done with it in just one line. </p>\n\n<p>The first example, on the other hand, keeps everything self-contained and when you go on reading the rest of the code, you are 100% confident that you don't have to keep in mind the meaning of <code>result</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 185, "user_id": 5404849, "user_type": "registered", "profile_image": "https://graph.facebook.com/895157390533021/picture?type=large", "display_name": "Waqas Amjad", "link": "https://stackoverflow.com/users/5404849/waqas-amjad"}, "is_accepted": false, "score": 1, "last_activity_date": 1545826831, "creation_date": 1545826831, "answer_id": 53932040, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53932040#53932040", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>!! is to tell the compiler that I am sure the value of the variable is not null, and if it is null throw a null pointer exception (NPE) where as ?. is to tell the compiler that I am not sure if the value of the variable is null or not, if it is null do not throw any null pointer.</p>\n\n<p>Another way of using a nullable property is safe call operator ?.\nThis calls the method if the property is not null or returns null if that property is null without throwing an NPE (null pointer exception).</p>\n\n<pre><code>nullableVariable?.someMethodCall()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1545834381, "post_id": 53932984, "comment_id": 94706931, "body": "please remove duplicate answer"}], "tags": [], "owner": {"reputation": 216, "user_id": 7849042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYkf5.png?s=128&g=1", "display_name": "Zafar Hussain", "link": "https://stackoverflow.com/users/7849042/zafar-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1545832215, "creation_date": 1545832215, "answer_id": 53932984, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53932984#53932984", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>Kotlin have new features with NullPoint-Exception as Compare to Java.</p>\n\n<p>Basically When we do Coding in Java , then we have to Check with !! in every Flied.</p>\n\n<p>But in Kotlin, it is Easy way to Implement First</p>\n\n<p>as Like,</p>\n\n<p>Suppose, in Kotlin</p>\n\n<p>var response:Json?=Null</p>\n\n<p>response:Json?.let {</p>\n\n<p>this part will handle automatic if response is Not Null....then this Block start Executing }?.run {\nThis is Nullable But, where we Can put Warring } So, I am Suggest you Guys to Start Work in Kotlin with this Features Provided by Kotlin.</p>\n\n<p>(Flied)?.let { Not Null Value Comes Under }?.run{ Null Value Code }</p>\n\n<p>This will Handle to NullPoint Exception or Protect You App for Crash</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 0, "last_activity_date": 1545834258, "creation_date": 1545834258, "answer_id": 53933337, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin/53933337#53933337", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p><strong>What you want to achieve</strong></p>\n\n<p>What you want to achieve is that the Kotlin compiler does a <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">smart cast</a> on the variable you are working with.</p>\n\n<p>In all of your three examples, the compiler can do that.</p>\n\n<p>Example:</p>\n\n<pre><code>if(myVar != null) {\n    foo(myVar) // smart cast: the compiler knows, that myVar can never be null here\n}\n</code></pre>\n\n<p><strong>The choice</strong></p>\n\n<p>Which one of the options to use, is really a matter of style. What you should not do is mix it up to often. Use one and stick to it.</p>\n\n<p>You don't need to worry about performance since <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\">let</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\">run</a> are inlined (see <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#inline-functions\" rel=\"nofollow noreferrer\">inline function</a>). This means that their code (body) is copied to the call site at compile time so there is no runtime overhead.</p>\n"}], "owner": {"reputation": 121, "user_id": 8051545, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DMnZCdAwiUE/AAAAAAAAAAI/AAAAAAAAD2w/xIHTUH_xFtQ/photo.jpg?sz=128", "display_name": "Dmitry I. Sokolov", "link": "https://stackoverflow.com/users/8051545/dmitry-i-sokolov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 0, "answer_count": 7, "score": 1, "last_activity_date": 1545834297, "creation_date": 1545813028, "last_edit_date": 1545834297, "question_id": 53929440, "link": "https://stackoverflow.com/questions/53929440/what-is-the-difference-between-not-null-checks-in-kotlin", "title": "What is the difference between not-null checks in Kotlin?", "body": "<p>There are some ways to fulfill a null-checking in Kotlin:</p>\n\n<p>1.</p>\n\n<pre><code>if(myVar != null) {\n    foo(myVar)\n}\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>myVar?.let { \n    foo(it)\n}\n</code></pre>\n\n<p>3.</p>\n\n<pre><code>myVar?.run { \n    foo(this)\n}\n</code></pre>\n\n<p>What are the difference between these ways?</p>\n\n<p>Are there any reasons (performance, best practice, code style etc.) why I should prefer on way over the other?</p>\n"}, {"tags": ["java", "android", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9873556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5MwBOR8kIXM/AAAAAAAAAAI/AAAAAAAAAAc/cKy6OQkLYjs/photo.jpg?sz=128", "display_name": "Rayman", "link": "https://stackoverflow.com/users/9873556/rayman"}, "edited": false, "score": 0, "creation_date": 1545814186, "post_id": 53929404, "comment_id": 94700005, "body": "Thanks a lot..Okay so i should do this like java....I can&#39;t figure out why i exclude some fields , but GSON still convert it"}], "tags": [], "owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "is_accepted": true, "score": 9, "last_activity_date": 1545813451, "last_edit_date": 1545813451, "creation_date": 1545812773, "answer_id": 53929404, "question_id": 53929248, "link": "https://stackoverflow.com/questions/53929248/kotlin-data-class-convert-with-gson-and-the-default-value-was-convert-by-zero/53929404#53929404", "title": "Kotlin data class convert with gson...And the default value was convert by zero or null", "body": "<p>Gson is currently breaking Kotlin type-safety. It can write null to non-null property. That can happen when json that you reading have that field assigned to null.\nFor example if you have data class:</p>\n\n<pre><code>data class A (\n    var nonNullable: String = \"\",\n    var other: Int = 42\n)\n</code></pre>\n\n<p>And following JSON:</p>\n\n<pre><code>{\n    \"nonNullable\": null,\n    \"other\": 91\n}\n</code></pre>\n\n<p>You will have <code>null</code> in <code>nonNullable</code> as result.</p>\n\n<p>To avoid that you can create custom GSON type converter for your class or make <code>nonNullable</code> actually nullable, but provide getter and setter, that will ignore <code>null</code> value:</p>\n\n<pre><code>class A {\n    var nonNullable: String? = \"\"\n        get() = field ?: \"\"\n        set(value) {\n            if (value != null) {\n                field = value\n            }\n        }\n}\n</code></pre>\n\n<p>And same thing with 0 - that means that JSON that you parsing have that field assigned to zero. Or, if that not so - provide us your JSON to make question more clear.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 9873556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5MwBOR8kIXM/AAAAAAAAAAI/AAAAAAAAAAc/cKy6OQkLYjs/photo.jpg?sz=128", "display_name": "Rayman", "link": "https://stackoverflow.com/users/9873556/rayman"}, "edited": false, "score": 0, "creation_date": 1545814946, "post_id": 53929597, "comment_id": 94700211, "body": "Appreciate that. But I had try Transient and Modify to filter the field.. but still not work.."}, {"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "reply_to_user": {"reputation": 61, "user_id": 9873556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5MwBOR8kIXM/AAAAAAAAAAI/AAAAAAAAAAc/cKy6OQkLYjs/photo.jpg?sz=128", "display_name": "Rayman", "link": "https://stackoverflow.com/users/9873556/rayman"}, "edited": false, "score": 0, "creation_date": 1545815145, "post_id": 53929597, "comment_id": 94700280, "body": "How did you test it?"}, {"owner": {"reputation": 61, "user_id": 9873556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5MwBOR8kIXM/AAAAAAAAAAI/AAAAAAAAAAc/cKy6OQkLYjs/photo.jpg?sz=128", "display_name": "Rayman", "link": "https://stackoverflow.com/users/9873556/rayman"}, "edited": false, "score": 0, "creation_date": 1545816944, "post_id": 53929597, "comment_id": 94700954, "body": "just make a request and let the GSON parse the JSON."}], "tags": [], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "is_accepted": false, "score": 0, "last_activity_date": 1545813992, "creation_date": 1545813992, "answer_id": 53929597, "question_id": 53929248, "link": "https://stackoverflow.com/questions/53929248/kotlin-data-class-convert-with-gson-and-the-default-value-was-convert-by-zero/53929597#53929597", "title": "Kotlin data class convert with gson...And the default value was convert by zero or null", "body": "<p>Any fields you don't want serialized in general you should use the \"transient\" modifier. This applies to json serializers too, including gson</p>\n\n<blockquote>\n  <p>@Target([AnnotationTarget.FIELD]) annotation class Transient Marks the\n  JVM backing field of the annotated property as transient, meaning that\n  it is not part of the default serialized form of the object.</p>\n</blockquote>\n\n<p>For more references, take a look at the documentation: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-transient/index.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-transient/index.html</a></p>\n\n<p>Sample: </p>\n\n<pre><code>data class User(@SerializedName(\"user_id\") var id: String = \"-\",\n                @SerializedName(\"full_name\") var name: String = \"\",\n                @Transient var sessionToken: String = \"\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 708, "user_id": 2719243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YQYVa.jpg?s=128&g=1", "display_name": "Vahab Ghadiri", "link": "https://stackoverflow.com/users/2719243/vahab-ghadiri"}, "edited": false, "score": 0, "creation_date": 1609583544, "post_id": 57722332, "comment_id": 115870231, "body": "that&#39;s correct..., but weird!"}], "tags": [], "owner": {"reputation": 151, "user_id": 8126118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1818afe86f22ee0524b702af262c31ee?s=128&d=identicon&r=PG&f=1", "display_name": "Hashem Mousavi", "link": "https://stackoverflow.com/users/8126118/hashem-mousavi"}, "is_accepted": false, "score": 4, "last_activity_date": 1567149847, "creation_date": 1567149847, "answer_id": 57722332, "question_id": 53929248, "link": "https://stackoverflow.com/questions/53929248/kotlin-data-class-convert-with-gson-and-the-default-value-was-convert-by-zero/57722332#57722332", "title": "Kotlin data class convert with gson...And the default value was convert by zero or null", "body": "<p>You should set default values for all fields.\nIf all the fields have the default values, Gson will respect them when the corresponding fields are missing in JSON.</p>\n"}], "owner": {"reputation": 61, "user_id": 9873556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5MwBOR8kIXM/AAAAAAAAAAI/AAAAAAAAAAc/cKy6OQkLYjs/photo.jpg?sz=128", "display_name": "Rayman", "link": "https://stackoverflow.com/users/9873556/rayman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5835, "favorite_count": 3, "accepted_answer_id": 53929404, "answer_count": 3, "score": 5, "last_activity_date": 1567149847, "creation_date": 1545811761, "last_edit_date": 1545814639, "question_id": 53929248, "link": "https://stackoverflow.com/questions/53929248/kotlin-data-class-convert-with-gson-and-the-default-value-was-convert-by-zero", "title": "Kotlin data class convert with gson...And the default value was convert by zero or null", "body": "<p>I use GSON to convert data class which the server comeback.\nand i define the data class like this... \nAnd theres some field i don't want to convert with GSON..\nSo i add the ExclusionStrategy with Annotation. \nThrough the test, i found that AnnotationExclusionStrategy operating normally,And skip the field i don't want to convert.\nI add annotation with the field like uiType and testData,But actually when I print the Object out. I found the field uiType and testData had convert to zero and null..</p>\n\n<p>Then i create a new data class. the uiType and testData had not erase to zero or null.Is go wrong when GSON convert??</p>\n\n<p>if there's any way to solve this problem?</p>\n\n<p>Here's the code.</p>\n\n<p><strong>Data class entity:</strong></p>\n\n<pre><code>data class Product(@SerializedName(\"num_iid\") var productId: Long,\n               @SerializedName(\"title\") var productName: String,\n               @SerializedName(\"item_url\") var productUrl: String,\n               @SerializedName(\"pict_url\") var productPic: String,\n               @SerializedName(\"small_images\") var productPics: ProductImageList,\n               @SerializedName(\"zk_final_price\") var productPrice: String,\n               @SerializedName(\"reserve_price\") var originPrice: String,\n               @SerializedName(\"provcity\") var place: String,\n               @SerializedName(\"volume\") var sellCount: String,\n               @SerializedName(\"user_type\") var sellerType: String,\n               @SerializedName(\"nick\") var sellerName: String,\n               @SerializedName(\"seller_id\") var sellerId: Long\n) : MultiItemEntity {\n\n@Exclude\n@ShoppingCenterConstant.ProductListUiType\nvar uiType = ShoppingCenterConstant.LIST_UI_TYPE_COMMON\n\nvar testData = \"TestData\"\n\noverride fun getItemType(): Int {\n    return ShoppingCenterConstant.LIST_UI_TYPE_COMMON\n}\n\noverride fun toString(): String {\n    return \"Product(productId=$productId, productName='$productName', productUrl='$productUrl', productPic='$productPic', productPics=$productPics, productPrice='$productPrice', originPrice='$originPrice', place='$place', sellCount='$sellCount', sellerType='$sellerType', sellerName='$sellerName', sellerId=$sellerId, uiType=$uiType, testData='$testData')\"\n}\n}\n</code></pre>\n\n<p><strong>GSON AnnotationExclusion:</strong></p>\n\n<pre><code>public class AnnotationExclusion implements ExclusionStrategy {\n\npublic static final String TAG = GsonUtil.TAG;\n\n@Override\npublic boolean shouldSkipField(FieldAttributes f) {\n    boolean isShouldSkip = f.getAnnotation(Exclude.class) != null;\n    return isShouldSkip;\n}\n\n@Override\npublic boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n    boolean isShouldSkip = clazz.getAnnotation(Exclude.class) != null;\n    return isShouldSkip;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>The place i printout:</strong></p>\n\n<pre><code>override fun showData(data: BaseListBean&lt;Product&gt;) {\n    var product = Product(0, \"\", \"\", \"\"\n            , ProductImageList(List(0, { String() })), \"\", \"\", \"\", \"\"\n            , \"\", \"\", 0)\n    LogUtils.info(\"print out new product\uff1a\" + product)\n    mResultListener.onResponse(data)\n}\n</code></pre>\n\n<p><strong>Result with GSON Converter</strong>, <em>and you can see the field uiType and testData had convert to zero or null:</em></p>\n\n<pre><code>Product(productId=552634381786, productName='eoodoo\u65b0\u751f\u513f\u793c\u76d2\u5a74\u513f\u8863\u670d\u79cb\u51ac\u5957\u88c5\u51fa\u751f\u6ee1\u6708\u793c\u7269\u521d\u751f\u6bcd\u5a74\u5b9d\u5b9d\u7528\u54c1', productUrl='http://item.taobao.com/item.htm?id=552634381786', productPic='https://img.alicdn.com/tfscom/i4/2832303009/O1CN013tXM6L1Y6AFHSy7xN_!!0-item_pic.jpg', productPics=com.laka.ergou.mvp.shopping.center.model.bean.ProductImageList@1033f68, productPrice='259.72', originPrice='755.00', place='\u6d59\u6c5f \u676d\u5dde', sellCount='1159', sellerType='1', sellerName='eoodoo\u65d7\u8230\u5e97', sellerId=2832303009, uiType=0, testData='null')\n</code></pre>\n\n<p><strong>Result with create new Object</strong> , <em>this seem fine:</em> </p>\n\n<pre><code>Product(productId=0, productName='', productUrl='', productPic='', productPics=com.laka.ergou.mvp.shopping.center.model.bean.ProductImageList@1c228b, productPrice='', originPrice='', place='', sellCount='', sellerType='', sellerName='', sellerId=0, uiType=1, testData='testData')\n</code></pre>\n\n<p><strong>Here is the JSON i used</strong>\n.But the field like uiType and testData. just the field i define in the code and used in local, these are not the server comeback json field</p>\n\n<pre><code>{\n\"tbk_item_get_response\":{\n    \"results\":{\n        \"n_tbk_item\":[\n            {\n                \"item_url\":\"http://item.taobao.com/item.htm?id=582889134126\",\n                \"nick\":\"\u5b9d\u7ed2\u7f8a\u670d\u9970\u65d7\u8230\u5e97\",\n                \"num_iid\":582889134126,\n                \"pict_url\":\"https://img.alicdn.com/tfscom/i1/1720028843/O1CN01ERqlHz2FC8tL1m2tz_!!0-item_pic.jpg\",\n                \"provcity\":\"\u6d59\u6c5f \u676d\u5dde\",\n                \"reserve_price\":\"1318.00\",\n                \"seller_id\":1720028843,\n                \"small_images\":{\n                    \"string\":[\n                        \"https://img.alicdn.com/tfscom/i4/1720028843/O1CN01xD9JyD2FC8tJMRuk2_!!1720028843.jpg\",\n                        \"https://img.alicdn.com/tfscom/i4/1720028843/O1CN01twbf3O2FC8tLEHVJc_!!1720028843.jpg\",\n                        \"https://img.alicdn.com/tfscom/i4/1720028843/O1CN01zM2clN2FC8tE0LO5q_!!1720028843.jpg\",\n                        \"https://img.alicdn.com/tfscom/i3/1720028843/O1CN01WW6xzz2FC8tKjoitz_!!1720028843.jpg\"\n                    ]\n                },\n                \"title\":\"\u7fbd\u7ed2\u670d\u59732018\u65b0\u6b3e\u5973\u88c5\u51ac\u5b63\u77ed\u6b3e\u97e9\u7248\u65f6\u5c1a\u94f6\u8272\u4eae\u9762\u6ee9\u7f8a\u6bdb\u9886\u52a0\u539a\u5916\u5957\",\n                \"user_type\":1,\n                \"volume\":2138,\n                \"zk_final_price\":\"498.00\"\n            }\n        ]\n    },\n    \"total_results\":19643,\n    \"request_id\":\"kvbqd1jrgqcg\"\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["arrays", "kotlin", "jvm", "byte", "unsigned-integer"], "comments": [{"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545811103, "post_id": 53929025, "comment_id": 94699139, "body": "you can use <code>val uint = bytes[index].toUInt()</code>"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545811284, "post_id": 53929025, "comment_id": 94699188, "body": "@Moinkhan No, that just converts the single byte at <code>index</code>. I need to convert the 4 bytes to a single unsigned integer."}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545815579, "post_id": 53929025, "comment_id": 94700437, "body": "but what&#39;s logic .. all elements should add or what ??"}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545815645, "post_id": 53929025, "comment_id": 94700463, "body": "<code>getUIntAt()</code> also accept the index which does the same"}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545815649, "post_id": 53929025, "comment_id": 94700465, "body": "@Moinkhan There&#39;s no logic. A <code>UInt</code> is a 32 bit signed integer. 32 bits is 4 bytes."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545815701, "post_id": 53929025, "comment_id": 94700482, "body": "@Moinkhan I assume that <code>getUIntAt(index)</code> reads the 4 bytes starting at <code>index</code> and returns a <code>UInt</code> of which the value corresponds to those 4 bytes."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545817122, "post_id": 53929025, "comment_id": 94701022, "body": "@Moinkhan Just verified the behavior on Kotlin Native and confirmed that the behavior is as described in my previous comment. For the byte array in my question, calling <code>bytes.getUIntAt(0)</code> returns <code>16843009</code>, which is correct."}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1545818311, "post_id": 53929025, "comment_id": 94701435, "body": "ok then kotlin JVM does not have any method .. What you can do is use <code>ByteBuffer</code> and create extension function to make it reusable .."}], "answers": [{"tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": true, "score": 9, "last_activity_date": 1545820522, "creation_date": 1545820522, "answer_id": 53930838, "question_id": 53929025, "link": "https://stackoverflow.com/questions/53929025/how-to-get-an-unsigned-integer-from-a-byte-array-in-kotlin-jvm/53930838#53930838", "title": "How to get an unsigned integer from a byte array in Kotlin JVM?", "body": "<p>As mentioned in the comments there is no out of the box solution in the JVM version of Kotlin. An extension function doing the same as the Kotlin/Native function might look like this:</p>\n\n<pre><code>fun ByteArray.getUIntAt(idx: Int) =\n    ((this[idx].toUInt() and 0xFFu) shl 24) or\n            ((this[idx + 1].toUInt() and 0xFFu) shl 16) or\n            ((this[idx + 2].toUInt() and 0xFFu) shl 8) or\n            (this[idx + 3].toUInt() and 0xFFu)\n\nfun main(args: Array&lt;String&gt;) {\n\n    // 16843009\n    println(byteArrayOf(1, 1, 1, 1).getUIntAt(0))\n\n    // 4294967295, which is UInt.MAX_VALUE\n    println(byteArrayOf(-1, -1, -1, -1).getUIntAt(0))\n}\n</code></pre>\n"}], "owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4285, "favorite_count": 0, "accepted_answer_id": 53930838, "answer_count": 1, "score": 4, "last_activity_date": 1545820522, "creation_date": 1545810360, "last_edit_date": 1545810966, "question_id": 53929025, "link": "https://stackoverflow.com/questions/53929025/how-to-get-an-unsigned-integer-from-a-byte-array-in-kotlin-jvm", "title": "How to get an unsigned integer from a byte array in Kotlin JVM?", "body": "<p>Kotlin 1.3 introduced <a href=\"https://kotlinlang.org/docs/reference/whatsnew13.html#unsigned-integers\" rel=\"nofollow noreferrer\">unsigned integer types</a>, but I can't seem to figure out how to get an unsigned integer from a <code>ByteArray</code> in Kotlin JVM.</p>\n\n<p>Kotlin Native has a convenient <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.native/get-u-int-at.html\" rel=\"nofollow noreferrer\"><code>ByteArray.getUIntAt()</code></a> method, but this does not exist for Kotlin JVM.</p>\n\n<pre><code>val bytes: ByteArray = byteArrayOf(1, 1, 1, 1)\nval uint: UInt // = ???\n</code></pre>\n\n<p>What are my options here? Is there a more elegant way than using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\"><code>ByteBuffer</code></a>, or bit-shifting my way out of this?</p>\n"}, {"tags": ["android", "android-studio", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1766, "user_id": 2633909, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/RnCWv.jpg?s=128&g=1", "display_name": "DKV", "link": "https://stackoverflow.com/users/2633909/dkv"}, "edited": false, "score": 0, "creation_date": 1545809552, "post_id": 53928867, "comment_id": 94698693, "body": "is there is toolbar in activity_test?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "reply_to_user": {"reputation": 1766, "user_id": 2633909, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/RnCWv.jpg?s=128&g=1", "display_name": "DKV", "link": "https://stackoverflow.com/users/2633909/dkv"}, "edited": false, "score": 0, "creation_date": 1545809751, "post_id": 53928867, "comment_id": 94698747, "body": "Thanks @DKV for your help. Your comment addressed this issue."}, {"owner": {"reputation": 1766, "user_id": 2633909, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/RnCWv.jpg?s=128&g=1", "display_name": "DKV", "link": "https://stackoverflow.com/users/2633909/dkv"}, "edited": false, "score": 0, "creation_date": 1545809777, "post_id": 53928867, "comment_id": 94698751, "body": "Does it solve the issue?."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "reply_to_user": {"reputation": 1766, "user_id": 2633909, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/RnCWv.jpg?s=128&g=1", "display_name": "DKV", "link": "https://stackoverflow.com/users/2633909/dkv"}, "edited": false, "score": 0, "creation_date": 1545810010, "post_id": 53928867, "comment_id": 94698824, "body": "Yes, @DKV. Thanks for your comment."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545818471, "post_id": 53928867, "comment_id": 94701499, "body": "Is it in your fragment?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "is_accepted": false, "score": 0, "last_activity_date": 1545809973, "creation_date": 1545809973, "answer_id": 53928959, "question_id": 53928867, "link": "https://stackoverflow.com/questions/53928867/bottom-navigation-tool-bar-and-fragment/53928959#53928959", "title": "Bottom Navigation Tool Bar and Fragment", "body": "<p>Below code addressed this issue.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout android:fitsSystemWindows=\"true\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:theme=\"@style/AppTheme\"\n    tools:context=\"test\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    &gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545818433, "post_id": 53929231, "comment_id": 94701481, "body": "This should be comment."}], "tags": [], "owner": {"reputation": 41, "user_id": 10831107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WfCMTcwrXOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaKefhPgUeQw9oC9nyFmCzdjtvBEQ/mo/photo.jpg?sz=128", "display_name": "DevEloper", "link": "https://stackoverflow.com/users/10831107/developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1545811631, "creation_date": 1545811631, "answer_id": 53929231, "question_id": 53928867, "link": "https://stackoverflow.com/questions/53928867/bottom-navigation-tool-bar-and-fragment/53929231#53929231", "title": "Bottom Navigation Tool Bar and Fragment", "body": "<p>you dont need use findViewById in kotlin. you can get id directly.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10708780"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545821462, "creation_date": 1545809473, "last_edit_date": 1545821462, "question_id": 53928867, "link": "https://stackoverflow.com/questions/53928867/bottom-navigation-tool-bar-and-fragment", "title": "Bottom Navigation Tool Bar and Fragment", "body": "<p>I have two bottom navigation in my project. First Bottom Navigation is working and the second bottom navigation is not working and getting <code>ToolBar</code> must not be null error message. I am using <code>kotlin</code> language.  In one <code>BottomNavigationActivity</code>, I have one Activity and two fragments. I have attached the error message below and all the necessary libraries are imported. Any help is appreciated.</p>\n\n<p><strong>Package Imported</strong></p>\n\n<pre><code>import android.os.Bundle\nimport android.support.design.widget.BottomNavigationView\nimport android.support.v4.app.Fragment\nimport android.support.v4.app.FragmentManager\nimport android.support.v7.app.AppCompatActivity\nimport android.support.v7.widget.Toolbar\n</code></pre>\n\n<p><strong>Language Used</strong></p>\n\n<pre><code>Kotlin Language used.\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n        restoreSaveInstanceState(savedInstanceState)\n        setContentView(R.layout.activity_test)\n        toolbar = findViewById(R.id.toolbar)\n        bottomNavigation = findViewById(R.id.bottom_navigation)\n        setSupportActionBar(toolbar)\n        initBottomNavigation()\n        initFragment(savedInstanceState)\n    }\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<pre><code>ToolBar must not be null error message.\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>java.lang.IllegalStateException: findViewById(R.id.toolbar) must not be null\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.lang.IllegalStateException: findViewById(R.id.toolbar) must not be null\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 320, "user_id": 3026622, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xtBKo.jpg?s=128&g=1", "display_name": "Elmira Frhn", "link": "https://stackoverflow.com/users/3026622/elmira-frhn"}, "edited": false, "score": 0, "creation_date": 1545810702, "post_id": 53928863, "comment_id": 94699023, "body": "Did you try this:  <code>SearchView search = (SearchView) item.getActionView();     search.setLayoutParams(new ActionBar.LayoutParams(Gravity.RIGHT)); </code>"}, {"owner": {"reputation": 1, "user_id": 10049488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K4uELlubB5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p38hAMF4DBkbnFblV73BA7wV1EcA/mo/photo.jpg?sz=128", "display_name": "Ranjith Sp", "link": "https://stackoverflow.com/users/10049488/ranjith-sp"}, "reply_to_user": {"reputation": 320, "user_id": 3026622, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xtBKo.jpg?s=128&g=1", "display_name": "Elmira Frhn", "link": "https://stackoverflow.com/users/3026622/elmira-frhn"}, "edited": false, "score": 0, "creation_date": 1545811957, "post_id": 53928863, "comment_id": 94699388, "body": "@ElmiraFrhn I tried it but still issue is not fixed,Thank you for your kind attention"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1545813111, "post_id": 53928863, "comment_id": 94699704, "body": "Have you tried <code>searchView.setLayoutDirection(View.LAYOUT_DIRECTION_RTL)</code>?"}, {"owner": {"reputation": 1, "user_id": 10049488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K4uELlubB5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p38hAMF4DBkbnFblV73BA7wV1EcA/mo/photo.jpg?sz=128", "display_name": "Ranjith Sp", "link": "https://stackoverflow.com/users/10049488/ranjith-sp"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1545817431, "post_id": 53928863, "comment_id": 94701135, "body": "@azizbekian it will results in search view direction always in RTL!"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1545820771, "post_id": 53928863, "comment_id": 94702333, "body": "Why always? Whenever you need to go back rom RTL to LTR then perform <code>searchView.setLayoutDirection(View.LAYOUT_DIRECTION_LTR</code>."}, {"owner": {"reputation": 1, "user_id": 10049488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K4uELlubB5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p38hAMF4DBkbnFblV73BA7wV1EcA/mo/photo.jpg?sz=128", "display_name": "Ranjith Sp", "link": "https://stackoverflow.com/users/10049488/ranjith-sp"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1545821762, "post_id": 53928863, "comment_id": 94702666, "body": "Thanks for your suggestion @azizbekian now edit text inside the search view is changed to RTL but the search icon and close icon is not aligned according to RTL"}], "owner": {"reputation": 1, "user_id": 10049488, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K4uELlubB5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p38hAMF4DBkbnFblV73BA7wV1EcA/mo/photo.jpg?sz=128", "display_name": "Ranjith Sp", "link": "https://stackoverflow.com/users/10049488/ranjith-sp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545821896, "creation_date": 1545809460, "last_edit_date": 1545821896, "question_id": 53928863, "link": "https://stackoverflow.com/questions/53928863/how-to-fix-android-support-v7-widget-searchview-rtl-issue", "title": "How to fix android.support.v7.widget.SearchView RTL issue", "body": "<p>I'm working with app in which user can able to change language at anytime. RTL changes throughout the app after selecting arabic language is working fine except the search view. search icon and close icon inside the search view doesn't changed to rtl.</p>\n\n<p>xml:</p>\n\n<pre><code> &lt;android.support.v7.widget.Toolbar\n        android:id=\"@+id/search_toolbar\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/grey\"\n        app:contentInsetEnd=\"0dp\"\n        app:contentInsetStart=\"0dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n        &lt;android.support.v7.widget.SearchView\n            android:id=\"@+id/search_box_TV\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"46dp\"\n            android:layout_marginStart=\"15dp\"\n            android:layout_marginTop=\"5dp\"\n            android:layout_marginEnd=\"15dp\"\n            android:layout_marginBottom=\"5dp\"\n            android:gravity=\"start\"\n            android:textAlignment=\"viewStart\"\n            android:background=\"@drawable/search_box_shape\"\n            android:focusable=\"false\"\n            app:iconifiedByDefault=\"false\"\n            app:queryBackground=\"@android:color/transparent\"\n            app:queryHint=\"@string/search_product\" /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;  \n</code></pre>\n\n<p>In Fragment:</p>\n\n<pre><code>    activity!!.search_box_TV.gravity = Gravity.START\n\n    val search_src_text = activity!!.search_box_TV.findViewById(android.support.v7.appcompat.R.id.search_src_text) as EditText\n\n\n    search_src_text.layoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT,LinearLayout.LayoutParams.MATCH_PARENT)\n    search_src_text.setGravity(Gravity.START or Gravity.CENTER_VERTICAL)\n    search_src_text.textAlignment = View.TEXT_ALIGNMENT_VIEW_START\n</code></pre>\n\n<p>This is the image link before and after selecting the Arabic language,</p>\n\n<hr>\n\n<p><strong>LTR</strong> \n<a href=\"https://i.stack.imgur.com/BjFyL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BjFyL.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong>RTL</strong>\n<a href=\"https://i.stack.imgur.com/gpXc7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpXc7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Problems:</p>\n\n<ul>\n<li>Search/Back icon and close icon are not on the right side after selecting the arabic language</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1545809155, "post_id": 53928722, "comment_id": 94698585, "body": "<a href=\"https://stackoverflow.com/questions/49383876/function-in-kotlin-data-class-as-argument-leads-to-parceling-error?rq=1\" title=\"function in kotlin data class as argument leads to parceling error\">stackoverflow.com/questions/49383876/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 3026622, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/xtBKo.jpg?s=128&g=1", "display_name": "Elmira Frhn", "link": "https://stackoverflow.com/users/3026622/elmira-frhn"}, "is_accepted": false, "score": 1, "last_activity_date": 1545810543, "creation_date": 1545810543, "answer_id": 53929057, "question_id": 53928722, "link": "https://stackoverflow.com/questions/53928722/kotlin-how-to-parcelize-an-object-variable/53929057#53929057", "title": "Kotlin - How to parcelize an object variable", "body": "<ol>\n<li>Install Parcelable plugin for Kotlin from Preferences-> plugins</li>\n<li>Extend your class from Parcelable </li>\n<li>Right click on the name of your class and choose:  Generate -> Parcelable</li>\n</ol>\n\n<p>It will generate all needed methods.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 5, "last_activity_date": 1545822682, "creation_date": 1545822682, "answer_id": 53931277, "question_id": 53928722, "link": "https://stackoverflow.com/questions/53928722/kotlin-how-to-parcelize-an-object-variable/53931277#53931277", "title": "Kotlin - How to parcelize an object variable", "body": "<p>Make <code>UserDetailUiModel</code> and <code>PersonDetailUiModel</code> <code>Parcelable</code> as well (using <code>@Parcelize</code> or not). </p>\n\n<p>Or make them <code>Serializable</code> and use <a href=\"https://stackoverflow.com/questions/49606163/rawvalue-annotation-is-not-applicable-to-target-value-parameter\"><code>userInfo: @RawValue UserDetailUiModel</code></a> as suggested by the message, but this is a worse alternative.</p>\n"}, {"tags": [], "owner": {"reputation": 216, "user_id": 7849042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYkf5.png?s=128&g=1", "display_name": "Zafar Hussain", "link": "https://stackoverflow.com/users/7849042/zafar-hussain"}, "is_accepted": false, "score": 1, "last_activity_date": 1545833798, "creation_date": 1545833798, "answer_id": 53933257, "question_id": 53928722, "link": "https://stackoverflow.com/questions/53928722/kotlin-how-to-parcelize-an-object-variable/53933257#53933257", "title": "Kotlin - How to parcelize an object variable", "body": "<p>If you really want to Use @Parcable Annotation then you have to Set Your Kotlin version and Make Gradle as given below.\nthen you able to use @Parcable annotation...</p>\n\n<p>Example</p>\n\n<pre><code>@Parcelize\ndata class Student(val id: String, val name: String, val grade: String) : Parcelable\n</code></pre>\n\n<p>-----Kotlin--------\n    <strong>Prerequisites:</strong>\n    Kotlin version 1.1.4 or newer</p>\n\n<p>-------Gradle-----</p>\n\n<pre><code>builde.gradle\n\n\nandroidExtensions {\n    experimental = true\n}\n</code></pre>\n\n<p>My Gradle File.....See as Example--------></p>\n\n<pre><code>   android {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"xxx.xxx.xxx\"\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.1\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10861271"}, "is_accepted": false, "score": 3, "last_activity_date": 1546500052, "creation_date": 1546500052, "answer_id": 54017947, "question_id": 53928722, "link": "https://stackoverflow.com/questions/53928722/kotlin-how-to-parcelize-an-object-variable/54017947#54017947", "title": "Kotlin - How to parcelize an object variable", "body": "<p>Add annotation @Parcelize and extends into Parcelable</p>\n\n<pre><code>@Parcelize\ndata class PersonUiModel (\n    var personNo: String? = null,\n    var personItemNo: String? = null,\n    var packageId: String? = null,\n    var userInfo: UserDetailUiModel? = null,\n    var personInfo: PersonDetailUiModel? = null\n) : Parcelable\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 7056990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8y8a.jpg?s=128&g=1", "display_name": "yoppie97", "link": "https://stackoverflow.com/users/7056990/yoppie97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2964, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1546500052, "creation_date": 1545808682, "question_id": 53928722, "link": "https://stackoverflow.com/questions/53928722/kotlin-how-to-parcelize-an-object-variable", "title": "Kotlin - How to parcelize an object variable", "body": "<p>I have an error : </p>\n\n<blockquote>\n  <p>This is not support directly by 'Parcelize', Annotate the parameter type with @RawValue if you want it to be serialized using 'writeValue'</p>\n</blockquote>\n\n<p>when I implemented @Parcelize</p>\n\n<pre><code>@Parcelize data class PersonUiModel (\n    var personNo: String? = null,\n    var personItemNo: String? = null,\n    var packageId: String? = null,\n    var userInfo: UserDetailUiModel? = null,\n    var personInfo: PersonDetailUiModel? = null\n) : Parcelable, Cloneable {\n\n  override public fun clone(): PersonUiModel {\n    return PersonUiModel(personNo= this.personNo, personItemNo = this.personItemNo,packageId = this.packageId, userInfo = this.userInfo, personInfo = this.personInfo)\n  }\n}\n</code></pre>\n\n<p>Thanks before..</p>\n"}, {"tags": ["android", "kotlin", "coroutine", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545812400, "post_id": 53928862, "comment_id": 94699521, "body": "I didn&#39;t see any documentation mentioning that <code>async-await</code> is an antipattern. Main usage of <code>async-await</code> is to run tasks in parallel in different threads, but also we can run one task in background thread, using <code>async</code>, meantime doing some other stuff and then wait for the result using <code>await.</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1545812539, "post_id": 53928862, "comment_id": 94699564, "body": "That&#39;s another example of parallel decompostion, but you wrote <code>async { call() }.await()</code> and that&#39;s an anti-pattern because: 1) there&#39;s no concurrency, 2) if <code>call()</code> fails, it will cause your top-level <code>launch</code>ed coroutine to be immediately cancelled (you get no chance to do regular exception handling), 3) it&#39;s more heavyweight than <code>withContext()</code>, which reuses the same coroutine."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545813740, "post_id": 53928862, "comment_id": 94699892, "body": "Agree, in this case <code>async-await</code> would be an abuse."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1574358922, "post_id": 53928862, "comment_id": 104214780, "body": "@IgorGanapolsky please make sure you are implementing <code>CoroutineScope</code> interface : <code>class Activity : AppCompatActivity(), CoroutineScope</code>"}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574361957, "post_id": 53928862, "comment_id": 104216219, "body": "@Sergey  We need <code>lifecycleScope</code> api for <b>launch</b> in Activity.  And gradle dependency on <b>androidx.lifecycle:lifecycle-runtime-ktx:</b>"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574366398, "post_id": 53928862, "comment_id": 104218249, "body": "@IgorGanapolsky not necessary, you can just implement <code>CoroutineScope</code> and use <code>launch</code> without any errors. Did you implement  <code>CoroutineScope</code> and do you still see the error?"}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1575381240, "post_id": 53928862, "comment_id": 104541540, "body": "@Sergey Don&#39;t pollute Activity with <code>CoroutineScope</code> inheritance.  Keep to <b>S.O.L.I.D.</b> principles"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1591181112, "post_id": 53928862, "comment_id": 109955492, "body": "@IgorGanapolsky the question was about <code>callGetApi()</code> function in Activity. I answered according to that. SOLID principles and architecture patterns are a matter of another question."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 38, "last_activity_date": 1574429145, "last_edit_date": 1574429145, "creation_date": 1545809455, "answer_id": 53928862, "question_id": 53928668, "link": "https://stackoverflow.com/questions/53928668/suspend-function-callgetapi-should-be-called-only-from-a-coroutine-or-another/53928862#53928862", "title": "Suspend function &#39;callGetApi&#39; should be called only from a coroutine or another suspend function", "body": "<p>Suspend function should be called only from coroutine. That means you need to use a coroutine builder, e.g. <code>launch</code>. For example:</p>\n\n<pre><code>class Activity : AppCompatActivity(), CoroutineScope {\n    private var job: Job = Job()\n\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + job\n\n    override fun onDestroy() {\n        super.onDestroy()\n        job.cancel()\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        launch {\n            val result =  callGetApi()\n            onResult(result) // onResult is called on the main thread\n        }\n    }\n\n    suspend fun callGetApi(): String {...}\n\n    fun onResult(result: String) {...}\n}\n</code></pre>\n\n<p>To use <code>Dispatchers.Main</code> in Android add dependency to the app's <code>build.gradle</code> file:</p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 4, "creation_date": 1545810743, "post_id": 53929058, "comment_id": 94699036, "body": "Yes, this will seem work to for you at first glance, but it goes directly agains the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-global-scope/\" rel=\"nofollow noreferrer\">recommendations in the documentation</a>. Using this style on Android will make your application buggy and cause weird crashes."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1545810771, "post_id": 53929058, "comment_id": 94699046, "body": "As per docs <code>GlobalScope.launch</code> is not recommended to use. The best practice to use local scope to have the possibility to cancel coroutines."}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545810978, "post_id": 53929058, "comment_id": 94699105, "body": "Will it crash even if i mention the thread .. i.e , <code>Dispatchers.Main</code> instead of others like <code>Dispatchers.Default, Dispatchers.IO, Dispatchers.Unconfined</code> @MarkoTopolnik  @Sergey"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1545811115, "post_id": 53929058, "comment_id": 94699142, "body": "It&#39;s a different source of crash. Your activity may die, but the coroutine will live on. It will then complete later on and try to update the dead activity. <code>CoroutineScope</code> is about controlling the lifecycle of a coroutine and making sure it doesn&#39;t keep on executing in the background after the receiver of its results is gone."}, {"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574358644, "post_id": 53929058, "comment_id": 104214658, "body": "This isn&#39;t compatible with Kotlin 1.3.60"}], "tags": [], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "is_accepted": false, "score": 9, "last_activity_date": 1578861320, "last_edit_date": 1578861320, "creation_date": 1545810559, "answer_id": 53929058, "question_id": 53928668, "link": "https://stackoverflow.com/questions/53928668/suspend-function-callgetapi-should-be-called-only-from-a-coroutine-or-another/53929058#53929058", "title": "Suspend function &#39;callGetApi&#39; should be called only from a coroutine or another suspend function", "body": "<p>The above answer worked , but i solved it without inheriting <code>CoroutineScope</code> class by just using .... \n<strong>gradle.build</strong></p>\n\n<pre><code>  dependencies {\n      implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.3'\n  }\n</code></pre>\n\n<p>Activity.kt</p>\n\n<pre><code>  import kotlinx.coroutines.GlobalScope\n  import kotlinx.coroutines.Dispatchers\n\n  GlobalScope.launch (Dispatchers.Main) { callGetApi() }\n</code></pre>\n\n<p><code>Dispatchers.Main</code> is important cause you cannot update the UI in any other thread than main.</p>\n\n<p><em>But its recommended to inherit CoroutineScope to maintain the lifecycle of the activity and <code>onDestroy</code> of the activity to kill the job</em></p>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574359228, "post_id": 57174689, "comment_id": 104214919, "body": "@IgorGanapolsky well did you add the corresponding lib at the bottom of the answer?"}], "tags": [], "owner": {"reputation": 412, "user_id": 11634312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c038cd121c406e2c98b5e4d415d95ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Kipr", "link": "https://stackoverflow.com/users/11634312/kipr"}, "is_accepted": false, "score": 26, "last_activity_date": 1564380532, "last_edit_date": 1564380532, "creation_date": 1563937854, "answer_id": 57174689, "question_id": 53928668, "link": "https://stackoverflow.com/questions/53928668/suspend-function-callgetapi-should-be-called-only-from-a-coroutine-or-another/57174689#57174689", "title": "Suspend function &#39;callGetApi&#39; should be called only from a coroutine or another suspend function", "body": "<p>Looks like the most elegant way to do it as of <strong>July 2019</strong>, is the one described <a href=\"https://www.youtube.com/watch?v=BOHK_w09pVA&amp;t=410s\" rel=\"noreferrer\">here</a>:</p>\n\n<pre><code>import androidx.lifecycle.lifecycleScope\nimport kotlinx.coroutines.launch\n\nclass Activity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super...\n\n        lifecycleScope.launch {\n            val result =  callGetApi()\n            onResult(result) \n        }\n    }\n}\n</code></pre>\n\n<p>Don't forget to add the correponding lib:</p>\n\n<pre><code>implementation \"androidx.lifecycle:lifecycle-runtime-ktx:2.2.0-alpha02\"\n</code></pre>\n"}], "owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24881, "favorite_count": 11, "accepted_answer_id": 53928862, "answer_count": 3, "score": 43, "last_activity_date": 1578861320, "creation_date": 1545808342, "question_id": 53928668, "link": "https://stackoverflow.com/questions/53928668/suspend-function-callgetapi-should-be-called-only-from-a-coroutine-or-another", "title": "Suspend function &#39;callGetApi&#39; should be called only from a coroutine or another suspend function", "body": "<p>I am calling suspended function from onCreate(...)</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    ...\n    ...\n    callGetApi()\n}\n</code></pre>\n\n<p>and the suspended function is:-</p>\n\n<pre><code>suspend fun callGetApi() {....}\n</code></pre>\n\n<p>But the error shows up <em>Suspend function 'callGetApi' should be called only from a coroutine or another suspend function</em></p>\n"}, {"tags": ["android", "kotlin", "here-api", "supportmapfragment"], "answers": [{"comments": [{"owner": {"reputation": 240, "user_id": 1714983, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b40a596d075c56fce769745dad5a36d3?s=128&d=identicon&r=PG", "display_name": "Hicham Bagui", "link": "https://stackoverflow.com/users/1714983/hicham-bagui"}, "edited": false, "score": 0, "creation_date": 1545809580, "post_id": 53928752, "comment_id": 94698704, "body": "i dont think so because look above at my xml"}], "tags": [], "owner": {"reputation": 1632, "user_id": 5241028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UbQzc.png?s=128&g=1", "display_name": "David Leong", "link": "https://stackoverflow.com/users/5241028/david-leong"}, "is_accepted": false, "score": 1, "last_activity_date": 1545808830, "creation_date": 1545808830, "answer_id": 53928752, "question_id": 53928657, "link": "https://stackoverflow.com/questions/53928657/mapping-mapview-cannot-be-cast-to-mapping-supportmapfragment/53928752#53928752", "title": "mapping.MapView cannot be cast to mapping.SupportMapFragment", "body": "<p>How did you get the variable mapfragment ? It seems in your view layout mapfragment is of type MapView, not SupportMapFrgment.</p>\n"}, {"tags": [], "owner": {"reputation": 1502, "user_id": 1342086, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vriLv.png?s=128&g=1", "display_name": "rj2700", "link": "https://stackoverflow.com/users/1342086/rj2700"}, "is_accepted": true, "score": 1, "last_activity_date": 1550602969, "creation_date": 1550602969, "answer_id": 54773251, "question_id": 53928657, "link": "https://stackoverflow.com/questions/53928657/mapping-mapview-cannot-be-cast-to-mapping-supportmapfragment/54773251#54773251", "title": "mapping.MapView cannot be cast to mapping.SupportMapFragment", "body": "<p>I think you're missing the SupportMapFragment object, as @David mentioned. You need to link it, basically.</p>\n\n<p>Take a look at mine, I got mine working in Kotlin using this: </p>\n\n<pre><code>var map: Map? = null\nvar mapRoute: MapRoute? = null\n\n//get mapfragment\nfun getSupportMapFragment(): SupportMapFragment {\n    return getSupportFragmentManager().findFragmentById(R.id.mapfragment) as SupportMapFragment\n}\n\n//initializing the map view with default values\nfun initializeMap() {\n    val mapFragment = getSupportMapFragment()\n    mapFragment.init { error -&gt;\n        if (error == OnEngineInitListener.Error.NONE) {\n            // retrieve a reference of the map from the map fragment\n            map = mapFragment.getMap()\n            // Set the map center coordinate (no animation) - just to initialize map\n            map!!.setCenter(GeoCoordinate(0.0, 0.0, 0.0), Map.Animation.NONE)\n            // Set the map zoom level to the average between min and max (no animation)\n            map!!.setZoomLevel((map!!.getMaxZoomLevel() + map!!.getMinZoomLevel()))\n\n        } else {\n            println(\"ERROR: Cannot initialize Map Fragment\")\n            //Log.e(LOG_TAG, \"Cannot initialize SupportMapFragment ($error)\")\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 1714983, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b40a596d075c56fce769745dad5a36d3?s=128&d=identicon&r=PG", "display_name": "Hicham Bagui", "link": "https://stackoverflow.com/users/1714983/hicham-bagui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 54773251, "answer_count": 2, "score": 1, "last_activity_date": 1550602969, "creation_date": 1545808279, "last_edit_date": 1545843968, "question_id": 53928657, "link": "https://stackoverflow.com/questions/53928657/mapping-mapview-cannot-be-cast-to-mapping-supportmapfragment", "title": "mapping.MapView cannot be cast to mapping.SupportMapFragment", "body": "<p>I just implement here sdk into my project for first test but i cant get anywhere and on here website there is no kotlin support</p>\n\n<pre><code>try{\n            mapfragment!!.init { error -&gt;\n                if (error == OnEngineInitListener.Error.NONE) {\n                    // retrieve a reference of the map from the map fragment\n\n                    var fragmentMap = mapfragment.map\n\n                    map = mapfragment.map\n\n                    // Set the map center to the Vancouver region (no animation)\n                    map!!.setCenter(GeoCoordinate(49.196261, -123.004773, 0.0), Map.Animation.NONE)\n                    // Set the zoom level to the average between min and max\n                    map!!.zoomLevel = (map!!.maxZoomLevel + map!!.minZoomLevel) / 2\n                } else {\n                    println(\"ERROR: Cannot initialize Map Fragment\")\n                }\n            }\n\n        }\n        catch\n            (e: Exception)\n        {\n            Log.e(\"exception\",\"map\",e)\n        }catch\n            (ej: java.lang.Exception)\n        {\n            Log.e(\"exception\",\"map\",ej)\n        }\n</code></pre>\n\n<p>this part <code>mapfragment!!.init</code> is giving me exception </p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.here.android.mpa.mapping.MapView cannot be cast to com.here.android.mpa.mapping.SupportMapFragment</p>\n</blockquote>\n\n<p>this my layout </p>\n\n<pre><code> &lt;fragment\n        class=\"com.here.android.mpa.mapping.SupportMapFragment\"\n        android:id=\"@+id/mapfragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n"}, {"tags": ["android", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 383, "user_id": 5879171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edaa3f0a03a368d7f98735c8d7f01a3a?s=128&d=identicon&r=PG&f=1", "display_name": "DB377", "link": "https://stackoverflow.com/users/5879171/db377"}, "edited": false, "score": 0, "creation_date": 1545803235, "post_id": 53927813, "comment_id": 94697024, "body": "split your string and use only &quot;episode 22&quot; part to find match"}, {"owner": {"reputation": 600, "user_id": 4312860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b605c132d5e3b2c917b0a7b0ac6e11ad?s=128&d=identicon&r=PG", "display_name": "Mehrdad Dolatkhah", "link": "https://stackoverflow.com/users/4312860/mehrdad-dolatkhah"}, "reply_to_user": {"reputation": 383, "user_id": 5879171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edaa3f0a03a368d7f98735c8d7f01a3a?s=128&d=identicon&r=PG&f=1", "display_name": "DB377", "link": "https://stackoverflow.com/users/5879171/db377"}, "edited": false, "score": 0, "creation_date": 1545804793, "post_id": 53927813, "comment_id": 94697387, "body": "dear Dharak Bhatt, this is a single string and split from server"}], "answers": [{"tags": [], "owner": {"reputation": 600, "user_id": 4312860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b605c132d5e3b2c917b0a7b0ac6e11ad?s=128&d=identicon&r=PG", "display_name": "Mehrdad Dolatkhah", "link": "https://stackoverflow.com/users/4312860/mehrdad-dolatkhah"}, "is_accepted": true, "score": 1, "last_activity_date": 1545820915, "creation_date": 1545820915, "answer_id": 53930913, "question_id": 53927813, "link": "https://stackoverflow.com/questions/53927813/how-to-sort-string-that-contains-number-in-kotlin/53930913#53930913", "title": "how to sort string that contains number in kotlin", "body": "<p>I found the solution :)</p>\n\n<p>I must replace the first part with whitespace. then we can get the second part number from string and convert it to int and sort it.</p>\n\n<pre><code> val matcher = pattern.matcher(o1.title?.replace(\"session 1\", \"\"))\n val matcher2 = pattern.matcher(o2.title?.replace(\"session 1\", \"\"))\n</code></pre>\n"}], "owner": {"reputation": 600, "user_id": 4312860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b605c132d5e3b2c917b0a7b0ac6e11ad?s=128&d=identicon&r=PG", "display_name": "Mehrdad Dolatkhah", "link": "https://stackoverflow.com/users/4312860/mehrdad-dolatkhah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 53930913, "answer_count": 1, "score": 1, "last_activity_date": 1545820915, "creation_date": 1545802413, "question_id": 53927813, "link": "https://stackoverflow.com/questions/53927813/how-to-sort-string-that-contains-number-in-kotlin", "title": "how to sort string that contains number in kotlin", "body": "<p>I have a model that contains some field. I wanna sort this model before a show in recycler by sorted title. my title contains number into a string in some part like session 1 - episode 22. I use this algorithm for sort number in string type with two-digits like episode 22. </p>\n\n<pre><code>sortData.toObservable()\n                        .sorted { o1, o2 -&gt;\n                            val pattern = Pattern.compile(\"\\\\d+\")\n                            val matcher = pattern.matcher(o1.title)\n                            val matcher2 = pattern.matcher(o2.title)\n\n                            if (matcher.find()) {\n                                val isFind = matcher2.find()\n                                val o1Num = matcher.group(0).toInt()\n\n                                val o2Num = if (isFind) {\n                                    matcher2.group(0).toInt()\n                                } else {\n                                    o1Num + 1\n                                }\n\n                                return@sorted o1Num - o2Num\n                            } else {\n                                return@sorted o1.title?.compareTo(o2.title ?: \"\") ?: 0\n                            }\n                        }\n                        .toList()\n                        .subscribeBy(\n                                onError = {\n                                    it\n                                },\n                                onSuccess = {\n                                    sortData = it\n                                }\n                        )\n</code></pre>\n\n<p>my problem with this algorithm is when my title contains just simple format like episode 22 and just digits are between 0-99 it's work good but when I have a title that in this format: session 1 - episode 22 and digits are between 0-999 this algorithm won't work and I haven't any sort in my recycler. may please help me for fix this?</p>\n"}, {"tags": ["gradle", "kotlin", "kotlin-dokka"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 1, "creation_date": 1545804079, "post_id": 53926685, "comment_id": 94697229, "body": "refer <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\" title=\"android studio error unsupported modules detected compilation is not supported\">stackoverflow.com/questions/28668252/&hellip;</a>"}, {"owner": {"reputation": 503, "user_id": 9893963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hJRnA.jpg?s=128&g=1", "display_name": "NathanPB", "link": "https://stackoverflow.com/users/9893963/nathanpb"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1545804488, "post_id": 53926685, "comment_id": 94697323, "body": "I already tried everything described on that question you just sent me, the problem persist"}, {"owner": {"reputation": 719, "user_id": 6280369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZ7j2.jpg?s=128&g=1", "display_name": "WiRa", "link": "https://stackoverflow.com/users/6280369/wira"}, "edited": false, "score": 0, "creation_date": 1567682825, "post_id": 53926685, "comment_id": 102040543, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">Android studio Error &quot;Unsupported Modules Detected: Compilation is not supported for following modules&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1330, "user_id": 3853712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ori.png?s=128&g=1", "display_name": "Jim Andreas", "link": "https://stackoverflow.com/users/3853712/jim-andreas"}, "is_accepted": false, "score": 1, "last_activity_date": 1548566573, "creation_date": 1548566573, "answer_id": 54385318, "question_id": 53926685, "link": "https://stackoverflow.com/questions/53926685/gradle-unsupported-modules-detected-on-non-android-project/54385318#54385318", "title": "Gradle: Unsupported Modules Detected on non-Android project", "body": "<p>A suggested fix for Intellij IDEA worked for me - for pure Kotlin work (excludes any Android crossover work):</p>\n\n<p>File -> Settings -> Plugins -> Installed Tab -> uncheck \"Android Support\"</p>\n\n<p>And the log event is gone ...  (h/t Joern Mangels)</p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000404920/comments/360000086479\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000404920/comments/360000086479</a></p>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 3428138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6e1bc6cba38a5c567ba2ef8d7cbf2f?s=128&d=identicon&r=PG", "display_name": "grin", "link": "https://stackoverflow.com/users/3428138/grin"}, "edited": false, "score": 0, "creation_date": 1609072251, "post_id": 61986236, "comment_id": 115740631, "body": "Sounds a bit harsh. Build &#187; Clean project worked for me."}], "tags": [], "owner": {"reputation": 1, "user_id": 5029323, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LdZz69rM6rg/AAAAAAAAAAI/AAAAAAAAADg/TwnybOdkcpA/photo.jpg?sz=128", "display_name": "Ryan Smith", "link": "https://stackoverflow.com/users/5029323/ryan-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1590324688, "creation_date": 1590324688, "answer_id": 61986236, "question_id": 53926685, "link": "https://stackoverflow.com/questions/53926685/gradle-unsupported-modules-detected-on-non-android-project/61986236#61986236", "title": "Gradle: Unsupported Modules Detected on non-Android project", "body": "<p>1- close the project</p>\n\n<p>2- close Android Studio IDE</p>\n\n<p>3- delete the .idea directory</p>\n\n<p>4- delete all .iml files</p>\n\n<p>5- open Android Studio IDE and import the project</p>\n"}], "owner": {"reputation": 503, "user_id": 9893963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hJRnA.jpg?s=128&g=1", "display_name": "NathanPB", "link": "https://stackoverflow.com/users/9893963/nathanpb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5792, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1590324688, "creation_date": 1545787699, "question_id": 53926685, "link": "https://stackoverflow.com/questions/53926685/gradle-unsupported-modules-detected-on-non-android-project", "title": "Gradle: Unsupported Modules Detected on non-Android project", "body": "<p>I'm getting this warn/error on my gradle project:\n<code>Unsupported Modules Detected: Compilation is not supported for following modules: io.github.dogo-Dogo, Dogo_main, Dogo_test. Unfortunately you can't have non-Gradle Java modules and Android-Gradle modules in one project.\n</code></p>\n\n<p>Im not fully familiarized with Gradle, I searched for errors like this and just found these things on Android enviroments, but I'm using just Kotlin and some libs.</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.11'\n    ext.ktor_version = '1.0.1'\n    ext.dokka_version = '0.9.17'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.dokka:dokka-gradle-plugin:0.9.17\"\n    }\n}\n\nplugins {\n    id \"org.jetbrains.dokka\" version '0.9.17'\n}\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: 'application'\napply plugin: 'maven'\n\n\ngroup 'io.github.dogo'\nversion '1.0-SNAPSHOT'\n\n\n\nmainClassName = \"io.github.dogo.core.boot.BootKt\"\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n    jcenter()\n    maven {url 'https://jitpack.io'}\n    maven {\n        name = 'sponge'\n        url = 'https://repo.spongepowered.org/maven'\n    }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-reflect\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n\n    compile \"io.ktor:ktor-server-core:$ktor_version\"\n    compile \"io.ktor:ktor-server-netty:$ktor_version\"\n\n    compile 'net.dv8tion:JDA:3.8.1_447'\n    compile 'org.mongodb:mongodb-driver:3.6.3'\n    compile 'org.spongepowered:configurate-json:3.6'\n    compile 'com.fasterxml.jackson.core:jackson-databind:2.0.1'\n    compile 'com.mashape.unirest:unirest-java:1.3.1'\n\n    compile 'org.slf4j:slf4j-simple:1.6.1'\n    compile 'org.apache.logging.log4j:log4j-core:2.11.1'\n    compile 'org.apache.logging.log4j:log4j-api:2.11.1'\n\n    compile 'org.jetbrains.kotlin:kotlin-script-runtime:1.3.11'\n    compile 'org.jetbrains.kotlin:kotlin-script-util:1.3.11'\n    compile 'org.jetbrains.kotlin:kotlin-compiler-embeddable:1.3.11'\n\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.1'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\njar {\n    manifest {\n        attributes 'Main-Class': 'io.github.dogo.core.boot.BootKt'\n    }\n    from {\n        configurations.compile\n        .findAll { !it.name.endsWith('pom') }\n        .collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n\ndokka {\n    outputFormat = 'html'\n    outputDirectory = \"$buildDir/docs\"\n}\n</code></pre>\n\n<p>Well, how do I fix this error/warning message? I'm not sure about it, but I think it started to appear when I added Dokka (Kotlin documentation tool)</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 0, "last_activity_date": 1545781052, "creation_date": 1545781052, "answer_id": 53926306, "question_id": 53926224, "link": "https://stackoverflow.com/questions/53926224/seekbar-progress-needs-expected-type-boolean/53926306#53926306", "title": "seekbar.progress needs expected type boolean", "body": "<p>The lambda needs to return a boolean value.  <br/>\nChange to:</p>\n\n<pre><code>rollButton.setOnContextClickListener{\n    val rand = Random().nextInt(seekBar.progress)\n    true\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9606325, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8hGG_h4sn-Y/AAAAAAAAAAI/AAAAAAAAAQs/wVZMgc76k-8/photo.jpg?sz=128", "display_name": "BWACpro", "link": "https://stackoverflow.com/users/9606325/bwacpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 53926306, "answer_count": 1, "score": 0, "last_activity_date": 1545781052, "creation_date": 1545779740, "question_id": 53926224, "link": "https://stackoverflow.com/questions/53926224/seekbar-progress-needs-expected-type-boolean", "title": "seekbar.progress needs expected type boolean", "body": "<p>Im new to kotlin and i am trying to follow this tutorial:<a href=\"https://www.youtube.com/watch?v=EOfCEhWq8sg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=EOfCEhWq8sg</a> have a problem where the line</p>\n\n<pre><code>val rand = Random().nextInt(seekBar.progress)\n</code></pre>\n\n<p>gives a error </p>\n\n<blockquote>\n  <p>Expected a value of type boolean</p>\n</blockquote>\n\n<p>Full code:</p>\n\n<pre><code> package pro.bwac.randomizer\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.SeekBar\nimport android.widget.TextView\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val rollButton = findViewById&lt;Button&gt;(R.id.RollButton)\n        val seekBar = findViewById&lt;SeekBar&gt;(R.id.seekBar)\n        val textView = findViewById&lt;TextView&gt;(R.id.preNumberView)\n        val ResultsTextView = findViewById&lt;TextView&gt;(R.id.ResultsTextView)\n\n        rollButton.setOnContextClickListener{\n            val rand = Random().nextInt(seekBar.progress)\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545798521, "post_id": 53926190, "comment_id": 94696214, "body": "I run your code and get the expected output &quot;...\\nkotlin.Unit&quot;. There maybe something you have accidentally ignored."}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545798581, "post_id": 53926190, "comment_id": 94696222, "body": "I put them both inside <code>src&#47;</code>, maybe the same as you say &quot;I put the code in the same directory&quot;, but I am not sure where you put them and whether this will cause a problem."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 10471503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i7XST.png?s=128&g=1", "display_name": "fayerketto", "link": "https://stackoverflow.com/users/10471503/fayerketto"}, "is_accepted": false, "score": 0, "last_activity_date": 1545797480, "creation_date": 1545797480, "answer_id": 53927333, "question_id": 53926190, "link": "https://stackoverflow.com/questions/53926190/error-unresolved-reference-when-trying-to-import-a-package/53927333#53927333", "title": "error: unresolved reference when trying to import a package", "body": "<p>add package name in PersonA.kt</p>\n\n<pre><code>package com.example.appname.util //change the com.example.appname with ur package name\n</code></pre>\n\n<p>and at main.kt</p>\n\n<pre><code>import com.example.appname.util.PersonA\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10832314, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y6OeAw9-JMc/AAAAAAAAAAI/AAAAAAAAAAc/kIX_RirgNBI/photo.jpg?sz=128", "display_name": "Lufost", "link": "https://stackoverflow.com/users/10832314/lufost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545797480, "creation_date": 1545779355, "question_id": 53926190, "link": "https://stackoverflow.com/questions/53926190/error-unresolved-reference-when-trying-to-import-a-package", "title": "error: unresolved reference when trying to import a package", "body": "<p>I'm trying to create package in IntelliJ IDEA and it works, but when i try to run file with terminal it doesn't work.</p>\n\n<p>I got some error message : \"error: unresolved reference: util\".\nI put the code in the same directory, here's ny code :</p>\n\n<p>// PersonA.kt</p>\n\n<pre><code>package util\n\nclass PersonA {\n    fun greet() {\n        println(\"...\")\n    }\n}\n</code></pre>\n\n<p>// main.kt</p>\n\n<pre><code>import util.PersonA\n\nfun main(args: Array&lt;String&gt;){\n   val person = PersonA()\n   val greet = person.greet() \n   println(greet)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 660, "user_id": 9560126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b2850a1786b2de5cc0c40585e56714?s=128&d=identicon&r=PG&f=1", "display_name": "Abedin.Zhuniqi", "link": "https://stackoverflow.com/users/9560126/abedin-zhuniqi"}, "is_accepted": true, "score": 0, "last_activity_date": 1546471390, "last_edit_date": 1546471390, "creation_date": 1545779265, "answer_id": 53926181, "question_id": 53925625, "link": "https://stackoverflow.com/questions/53925625/how-to-set-an-unique-height-for-all-the-items-of-a-recyclerview-grid-that-can-be/53926181#53926181", "title": "How to set an unique height for all the items of a RecyclerView grid that can be easily changed at runtime?", "body": "<p>You can use dimens.xml and there for to define an item with name and height which you want and then only call in the xml at layouts.\nHere you have the link with answer.\n<a href=\"https://stackoverflow.com/a/47321385/9560126\">https://stackoverflow.com/a/47321385/9560126</a></p>\n"}], "owner": {"reputation": 5, "user_id": 5669606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e0cb0cd06c0be3e378fc648f358ac31?s=128&d=identicon&r=PG&f=1", "display_name": "arabum97", "link": "https://stackoverflow.com/users/5669606/arabum97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 53926181, "answer_count": 1, "score": 0, "last_activity_date": 1546471390, "creation_date": 1545771917, "last_edit_date": 1545773263, "question_id": 53925625, "link": "https://stackoverflow.com/questions/53925625/how-to-set-an-unique-height-for-all-the-items-of-a-recyclerview-grid-that-can-be", "title": "How to set an unique height for all the items of a RecyclerView grid that can be easily changed at runtime?", "body": "<p>I have a <code>RecyclerView</code> with a grid layout, every item is a <code>CardView</code> and I want to set an unique height for every card, in particular this height must be modifiable at runtime through a method/property of the adpter and the new value must be applied instantaneously to all items of the grid. How can I achieve this?</p>\n"}, {"tags": ["android", "kotlin", "onbackpressed"], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 2, "last_activity_date": 1545771387, "creation_date": 1545771387, "answer_id": 53925578, "question_id": 53925556, "link": "https://stackoverflow.com/questions/53925556/need-light-in-coding-onbackpressed/53925578#53925578", "title": "Need light in coding onBackPressed", "body": "<p><code>onBackPressed()</code> is a method in the Activity class. The Fragment class has no such method.</p>\n\n<p>You need to implement your backstack logic in the parent Activity.</p>\n"}, {"tags": [], "owner": {"reputation": 744, "user_id": 6599493, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fmQVI.jpg?s=128&g=1", "display_name": "hesam", "link": "https://stackoverflow.com/users/6599493/hesam"}, "is_accepted": false, "score": 2, "last_activity_date": 1545771625, "creation_date": 1545771625, "answer_id": 53925603, "question_id": 53925556, "link": "https://stackoverflow.com/questions/53925556/need-light-in-coding-onbackpressed/53925603#53925603", "title": "Need light in coding onBackPressed", "body": "<p>onBackPressed() is for activity, if you want to back pre fragment by clicking on  back button you can add your fragments to a stack and when user tap on back button fragments pop.\n<a href=\"https://medium.com/@bherbst/managing-the-fragment-back-stack-373e87e4ff62\" rel=\"nofollow noreferrer\">https://medium.com/@bherbst/managing-the-fragment-back-stack-373e87e4ff62</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1571810717, "creation_date": 1545771233, "last_edit_date": 1571810717, "question_id": 53925556, "link": "https://stackoverflow.com/questions/53925556/need-light-in-coding-onbackpressed", "title": "Need light in coding onBackPressed", "body": "<p>I am trying to go back to another fragment, but the android studio keep saying that I cant override <code>onBackPressed()</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.educator.dualsignal\n\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\n\nclass DraftFragment : Fragment() {\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, \n                              savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.draft_layout,null)\n    }\n\n    override fun onBackPressed() {\n        val fm = fragmentManager\n        fm!!.popBackStackImmediate()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "sqlite", "android-sqlite"], "answers": [{"comments": [{"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "edited": false, "score": 0, "creation_date": 1545829536, "post_id": 53928671, "comment_id": 94705312, "body": "Oh. I see where I went wrong now. Ahhh it makes so much sense. Thank you! Case looks inconsistent, but it&#39;s too separate column names vs variables and other similar things. I should really do that better."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "edited": false, "score": 0, "creation_date": 1545894459, "post_id": 53928671, "comment_id": 94721334, "body": "If this solves the problem, you may want to accept the answer."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1545808367, "creation_date": 1545808367, "answer_id": 53928671, "question_id": 53925221, "link": "https://stackoverflow.com/questions/53925221/kotlin-sqlite-database-always-writing-default-values-never-new-ones/53928671#53928671", "title": "kotlin SQLite database always writing default values, never new ones", "body": "<p>Look at what you do in <code>readData</code>:</p>\n\n<pre><code>var score = Scores()\nvar id = result.getString(0).toInt()\nvar AvgTime = result.getString(1).toFloat()\nvar date = result.getString(2).toString()\nlist.add(score)\n</code></pre>\n\n<p><code>id</code>, <code>AvgTime</code>, and <code>date</code> are retrieved but not used in any way, so your code is equivalent to just writing <code>list.add(Scores())</code>. (Side note: there's no reason for them to be <code>var</code>, and why the case inconsistency between <code>AvgTime</code> and the rest?) </p>\n"}], "owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 53928671, "answer_count": 1, "score": -1, "last_activity_date": 1545808367, "creation_date": 1545767388, "last_edit_date": 1545769178, "question_id": 53925221, "link": "https://stackoverflow.com/questions/53925221/kotlin-sqlite-database-always-writing-default-values-never-new-ones", "title": "kotlin SQLite database always writing default values, never new ones", "body": "<p>here is the class I set up for my database. database handler being the inner class.</p>\n\n<pre><code>import android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport android.database.sqlite.SQLiteOpenHelper\nimport android.content.ContentValues\nimport android.util.Log\nimport java.sql.Date\n\nclass Scores {\n    var id : Int = 0\n    var dataBaseName = \"ScoreDatabase\"\n    var averageTime = 0.0f\n    val date = Date(System.currentTimeMillis()).toString()\n\n\n    constructor(averageTime:Float) {\n        this.averageTime = averageTime\n        Log.d(\"Poop\", averageTime.toString())\n    }\n    constructor()\n\n    inner class DataBaseHandler(var context:Context, tableName:String): SQLiteOpenHelper(context, dataBaseName, null,1){\n\n        val TABLE_NAME = tableName\n        val COL_ID = \"id\"\n        val COL_AVG = \"Average_Time\"\n        val COL_DATE = \"Date\"\n\n        override fun onCreate(db: SQLiteDatabase?) {\n            val createTable = \"CREATE TABLE \" + TABLE_NAME +\" (\" +\n                    COL_ID +\" INTEGER PRIMARY KEY AUTOINCREMENT,\" +\n                    COL_AVG + \" VARCHAR(256),\" +\n                    COL_DATE +\" VARCHAR(256)\"\n\n            db?.execSQL(createTable)\n        }\n\n        override fun onUpgrade(db: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        fun insertData(score: Scores){\n            val db = this.writableDatabase\n            var cv = ContentValues()\n            cv.put(COL_AVG,score.averageTime)\n            cv.put(COL_DATE,score.date)\n            var result = db.insert(TABLE_NAME,null,cv)\n            if(result == -1.toLong())\n                Log.d(\"POOP\", \"fail score table in addition\")\n            else\n                Log.d(\"POOP\", \"Success score table in addition\" )\n        }\n\n        fun readData(): MutableList&lt;Scores&gt;{\n            var list: MutableList&lt;Scores&gt; = ArrayList()\n\n            val db = this.readableDatabase\n            val query = \"Select * from $TABLE_NAME\"\n            val result = db.rawQuery(query,null)\n\n            if (result.moveToFirst()){\n                do {\n                    var score = Scores()\n                    var id = result.getString(0).toInt()\n                    var AvgTime = result.getString(1).toFloat()\n                    var date = result.getString(2).toString()\n                    list.add(score)\n                }while (result.moveToNext())\n            }\n            result.close()\n            db.close()\n            return list\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>I tried this where the scores class and the handler were two separate classes, but it generated the same results.</p>\n\n<p>here is how I write to the database (from 4 separate activities. in each activity the tablename is different. in this one for example it is 'additionDataBase')</p>\n\n<pre><code>val scores = Scores(\"%.3f\".format(timeKeeper.averageNumber).toFloat())\nval db = scores.DataBaseHandler(context, \"additionDataBase\")\ndb.insertData(scores)\n</code></pre>\n\n<p>and here is how I read from the database which is in a different activity that shows the <code>averageTime</code> from each table. here is the code for one of them</p>\n\n<pre><code>val context: Context? = activity\n\nval adb = Scores().DataBaseHandler(context!!,\"additionDataBase\")\nval data = adb.readData()\nTextViewAdScore.text = data[0].averageTime.toString() + \"    \" + data[1].date\n</code></pre>\n\n<p>I think I am missing something, but I can't seem to find what it is.</p>\n\n<p>so far, no matter how many times I do this. the output is always 0.0f</p>\n"}, {"tags": ["spring-boot", "authentication", "spring-security", "kotlin", "oauth-2.0"], "comments": [{"owner": {"reputation": 4146, "user_id": 10426557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c481757d70d62f1bb4ba00a3e2e0ff03?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan JOhx", "link": "https://stackoverflow.com/users/10426557/jonathan-johx"}, "edited": false, "score": 0, "creation_date": 1545767815, "post_id": 53925201, "comment_id": 94692043, "body": "did you add application.properties with those values?"}], "answers": [{"comments": [{"owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "edited": false, "score": 1, "creation_date": 1545769357, "post_id": 53925244, "comment_id": 94692345, "body": "Worked for me! Thanks bro!"}], "tags": [], "owner": {"reputation": 4146, "user_id": 10426557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c481757d70d62f1bb4ba00a3e2e0ff03?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan JOhx", "link": "https://stackoverflow.com/users/10426557/jonathan-johx"}, "is_accepted": true, "score": 3, "last_activity_date": 1545767910, "last_edit_date": 1545767910, "creation_date": 1545767581, "answer_id": 53925244, "question_id": 53925201, "link": "https://stackoverflow.com/questions/53925201/could-not-resolve-placeholder-auth0-audience-in-value-auth0-audience/53925244#53925244", "title": "Could not resolve placeholder &#39;auth0.audience&#39; in value &quot;${auth0.audience}&quot;", "body": "<p>Add in your applications.properties :</p>\n\n<pre><code> # this is the identifier of the API that we just created\n auth0.audience=kotlin-jwts\n # replace YOUR-DOMAIN to get something like https://bkrebs.auth0.com/\n auth0.issuer=https://YOUR-DOMAIN.auth0.com/\n</code></pre>\n\n<p>in ./src/main/resources</p>\n"}], "owner": {"reputation": 2086, "user_id": 6733404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vARvedsWAsM/AAAAAAAAAAI/AAAAAAAAAHc/qeiBs7OBaMY/photo.jpg?sz=128", "display_name": "Abner Esc&#243;cio", "link": "https://stackoverflow.com/users/6733404/abner-esc%c3%b3cio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 53925244, "answer_count": 1, "score": 1, "last_activity_date": 1545767910, "creation_date": 1545767121, "question_id": 53925201, "link": "https://stackoverflow.com/questions/53925201/could-not-resolve-placeholder-auth0-audience-in-value-auth0-audience", "title": "Could not resolve placeholder &#39;auth0.audience&#39; in value &quot;${auth0.audience}&quot;", "body": "<p>I'm following this tutorial: <a href=\"https://auth0.com/blog/developing-restful-apis-with-kotlin/\" rel=\"nofollow noreferrer\">developing restful apis with kotlin</a> using Auth0</p>\n\n<p>But, when I run the application the follow error is throw</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'webSecurity': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'auth0.audience' in value \"${auth0.audience}\"\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:380) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1378) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:498) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:846) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:863) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.1.RELEASE.jar:2.1.1.RELEASE]\n    at com.example.demo.DemoApplicationKt.main(DemoApplication.kt:14) [classes/:na]\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'auth0.audience' in value \"${auth0.audience}\"\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:172) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:124) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:237) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:211) ~[spring-core-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:175) ~[spring-context-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:851) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1185) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1164) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.3.RELEASE.jar:5.1.3.RELEASE]\n    ... 17 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:62209', transport: 'socket'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Here is my classes</p>\n\n<p><strong>DemoApplication.kt</strong></p>\n\n<pre><code>package com.example.demo\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\n\n@SpringBootApplication\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n\n<p><strong>WebSecurity.kt</strong></p>\n\n<pre><code>package com.example.demo\n\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter\nimport com.auth0.spring.security.api.JwtWebSecurityConfigurer\nimport org.springframework.beans.factory.annotation.Value\n\n@Configuration\n@EnableWebSecurity\nclass WebSecurity: WebSecurityConfigurerAdapter() {\n    @Value(\"\\${auth0.audience}\") //error is throw here\n    private val audience: String? = null\n\n    @Value(\"\\${auth0.issuer}\")\n    private val issuer: String? = null\n\n    @Throws(Exception::class)\n    override fun configure(http: HttpSecurity) {\n        http.authorizeRequests()\n                .anyRequest().authenticated()\n\n        JwtWebSecurityConfigurer\n                .forRS256(audience, issuer!!)\n                .configure(http)\n    }\n}\n</code></pre>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.3.11'\n        springBootVersion = '2.1.1.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-noarg:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'kotlin-jpa'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa')\n    implementation('org.springframework.boot:spring-boot-starter-mustache')\n    implementation('org.springframework.boot:spring-boot-starter-security')\n    implementation('org.springframework.boot:spring-boot-starter-web')\n    implementation('com.fasterxml.jackson.module:jackson-module-kotlin')\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"com.auth0:auth0:1.9.1\")\n    implementation(\"com.auth0:auth0-spring-security-api:1.1.0\")\n    runtimeOnly('com.h2database:h2')\n    testImplementation('org.springframework.boot:spring-boot-starter-test')\n    testImplementation('org.springframework.security:spring-security-test')\n}\n</code></pre>\n\n<p>Please, help me to solve it. Thanks for any suggestion!</p>\n"}, {"tags": ["android", "function", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10748616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmvlU.png?s=128&g=1", "display_name": "Mr Salsa", "link": "https://stackoverflow.com/users/10748616/mr-salsa"}, "edited": false, "score": 0, "creation_date": 1545783776, "post_id": 53924110, "comment_id": 94694457, "body": "ty for your help ... i did create a kt file ... and i call it from an other activity ... but when i try to use it , show me error (unresolved reference:isConnected) :    if (isConnected){              var intent=Intent(this,ExodyaActivity::class.java)             startActivity(intent)             finish()         }"}, {"owner": {"reputation": 13, "user_id": 10748616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmvlU.png?s=128&g=1", "display_name": "Mr Salsa", "link": "https://stackoverflow.com/users/10748616/mr-salsa"}, "edited": false, "score": 0, "creation_date": 1545784086, "post_id": 53924110, "comment_id": 94694500, "body": "can you plz help in this one too ... and ty"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 13, "user_id": 10748616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmvlU.png?s=128&g=1", "display_name": "Mr Salsa", "link": "https://stackoverflow.com/users/10748616/mr-salsa"}, "edited": false, "score": 0, "creation_date": 1545808921, "post_id": 53924110, "comment_id": 94698505, "body": "In my answer I don&#39;t use <code>isConnected</code> variable. Looking to your question, I see you are using it in <code>checkConnectivity</code> function. Just add it to the function if you want to use it, but I don&#39;t see the reason: the function is already returns status whether network connected or not. The code to add: <code>val isConnected=activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting</code>."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 1, "last_activity_date": 1545759797, "last_edit_date": 1545759797, "creation_date": 1545756682, "answer_id": 53924110, "question_id": 53923910, "link": "https://stackoverflow.com/questions/53923910/how-to-call-this-function-from-other-activities/53924110#53924110", "title": "How to call this function from other activities?", "body": "<ol>\n<li>Create Kotlin file, e.g. named <code>Utils</code>; </li>\n<li><p>Move function to that file, and add <code>Context</code> parameter:</p>\n\n<pre><code>fun checkConnectivity(ctx: Context): Boolean {\n    val cm = ctx.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val activeNetwork =cm.activeNetworkInfo\n    return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting\n} \n</code></pre>\n\n<p>If you intend to use it only in <code>Activity</code> you can create extension function without <code>Context</code> parameter:</p>\n\n<pre><code>fun Activity.checkConnectivity(): Boolean {\n    val cm = getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val activeNetwork =cm.activeNetworkInfo\n    return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting\n}\n</code></pre></li>\n<li><p>Call that function from wherever you want. If you call it from <code>Activity</code> just use code:</p>\n\n<pre><code>checkConnectivity(this@YourActivity)\n</code></pre>\n\n<p>If you created extension function, just call it in <code>Activity</code> without passing any parameters:</p>\n\n<pre><code>checkConnectivity()\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 10748616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmvlU.png?s=128&g=1", "display_name": "Mr Salsa", "link": "https://stackoverflow.com/users/10748616/mr-salsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 53924110, "answer_count": 1, "score": -4, "last_activity_date": 1545759797, "creation_date": 1545754642, "last_edit_date": 1545755664, "question_id": 53923910, "link": "https://stackoverflow.com/questions/53923910/how-to-call-this-function-from-other-activities", "title": "How to call this function from other activities?", "body": "<p>i need help in this kotlin code pls ... i have checkConnctivvity() function and it's working perfectly ... </p>\n\n<pre><code>fun checkConnectivity(){\n\n    val cm=getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val activeNetwork =cm.activeNetworkInfo\n    val isConnected=activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting}\n</code></pre>\n\n<p>1/ i tried different ways to call it from  other activities but i couldn't ... How to solve it plz</p>\n\n<p>2/ i want to add the checkConnectivity() function in webChromeClient  , so each time the progressBarChanged it will verify the connection .. but didn't worked</p>\n\n<pre><code>class ExodyaActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_exodya)\n\n    //Problem1: failed to call the checkConnectivity() from MainActivity\n\n    val myWebview   = ExoWeb\n    var ProgressBar = progressBar\n    var FrameLayout = frameLayout\n    var TextView  = loadPrs\n\n    myWebview.visibility = View.GONE\n    frameLayout.visibility = View.GONE\n    loadLinear.visibility = View.GONE\n\n    //webview\n    myWebview.webViewClient= WebViewClient()\n    myWebview.settings.javaScriptEnabled=true\n    myWebview.loadUrl(\"url\")\n\n    ProgressBar.max = 100\n\n    myWebview.webChromeClient = object : WebChromeClient() {\n        override fun onProgressChanged(view: WebView, progress: Int) {\n\n            // Problem2: checkConnectivity()  didn't work here !!!!\n\n            progressBar.progress = progress\n            if(progress &lt; 90) {\n                loadPrs.text = \" %\" + progress\n                myWebview.visibility = View.GONE\n                frameLayout.visibility = View.VISIBLE\n                loadLinear.visibility = View.VISIBLE\n            }\n            if (progress == 100) {\n\n                FrameLayout.visibility = View.GONE\n                loadLinear.visibility = View.GONE\n                myWebview.visibility = View.VISIBLE\n            }\n        }\n    }\n\n}\n// onBackPressed (back in webview history)\n override fun onBackPressed() {\n     var myWebview   = ExoWeb\n    if (myWebview.canGoBack()) {\n        myWebview.goBack()\n    } else {\n         super.onBackPressed()\n            Toast.makeText(this,\"See You Next Time!\",Toast.LENGTH_SHORT).show()\n             }\n        }\n\n}\n</code></pre>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["kotlin", "tableview", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "edited": false, "score": 0, "creation_date": 1545752079, "post_id": 53923505, "comment_id": 94688956, "body": "Thank you. I will look into using observable properties that is some good advice!"}, {"owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "edited": false, "score": 0, "creation_date": 1545755850, "post_id": 53923505, "comment_id": 94689724, "body": "I&#39;m now using observable properties in the domain objects like you said. Problem is, the Address instance for a Person can be non existent (null). In that case your second option does not work. Any advice?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "edited": false, "score": 0, "creation_date": 1546367938, "post_id": 53923505, "comment_id": 94833108, "body": "In that case you simply need to check for null using the <code>?</code> null safe operator."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1545750545, "creation_date": 1545750545, "answer_id": 53923505, "question_id": 53923189, "link": "https://stackoverflow.com/questions/53923189/how-to-bind-a-property-of-a-property-to-column-in-tornado-tableview/53923505#53923505", "title": "How to bind a property of a property to column in Tornado TableView?", "body": "<p>Yes, that's possible, and you have several options. One is to simply override what is shown in the column:</p>\n\n<pre><code>readonlyColumn(\"Street\", Person::address).cellFormat {\n    text = it.street\n}\n</code></pre>\n\n<p>The other is to supply a function to extract the property. However, since it seems like you've opted to not follow best practices and use observable properties in your domain objects, you need to convert your String value into an observable property when you return it:</p>\n\n<pre><code>column&lt;Person, String&gt;(\"Street\") {\n    SimpleStringProperty(it.value.address.street) \n}\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 10832136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rBzXQ.jpg?s=128&g=1", "display_name": "Kars", "link": "https://stackoverflow.com/users/10832136/kars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 53923505, "answer_count": 1, "score": 1, "last_activity_date": 1545750545, "creation_date": 1545747715, "question_id": 53923189, "link": "https://stackoverflow.com/questions/53923189/how-to-bind-a-property-of-a-property-to-column-in-tornado-tableview", "title": "How to bind a property of a property to column in Tornado TableView?", "body": "<p>I'm trying to bind a property of a property of a class to a column in TornadoFX TableView. It is only letting me bind the property itself, which is an instance of a class. This shows the instance ID of the class (model.Address@2fe90a0b) and not the property that i want to display. Is there a way to bind properties of a property to a column in TableView?</p>\n\n<pre><code>val people = mutableListOf&lt;Person&gt;().observable()\n\ntableview(people) { \n    id=\"ResultTable\"\n    readonlyColumn(\"First Name\",Person::firstName)\n    readonlyColumn(\"Last Name\",Person::lastName)\n    readonlyColumn(\"Email Address\",Person::email)\n    readonlyColumn(\"Street\", Person::address) // this property is a class\n    columnResizePolicy = SmartResize.POLICY\n    isEditable = true\n}\n</code></pre>\n\n<p>I want to bind the property Address.street to the column \"Street\"</p>\n"}, {"tags": ["maven", "kotlin", "continuous-integration", "gitlab"], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 5718403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yP0Mj5naWaI/AAAAAAAAAAI/AAAAAAAAABg/cEkPp45dCUI/photo.jpg?sz=128", "display_name": "Dmitry Sokolov", "link": "https://stackoverflow.com/users/5718403/dmitry-sokolov"}, "is_accepted": true, "score": 3, "last_activity_date": 1545749467, "creation_date": 1545749467, "answer_id": 53923379, "question_id": 53923124, "link": "https://stackoverflow.com/questions/53923124/gitlab-ci-mvn-verify-failed-to-execute-goal/53923379#53923379", "title": "Gitlab CI. mvn verify. Failed to execute goal", "body": "<p>I find a solution:\njust add to pom.xml</p>\n\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M1&lt;/version&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}], "owner": {"reputation": 283, "user_id": 5718403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yP0Mj5naWaI/AAAAAAAAAAI/AAAAAAAAABg/cEkPp45dCUI/photo.jpg?sz=128", "display_name": "Dmitry Sokolov", "link": "https://stackoverflow.com/users/5718403/dmitry-sokolov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 1, "accepted_answer_id": 53923379, "answer_count": 1, "score": 2, "last_activity_date": 1545749467, "creation_date": 1545747162, "question_id": 53923124, "link": "https://stackoverflow.com/questions/53923124/gitlab-ci-mvn-verify-failed-to-execute-goal", "title": "Gitlab CI. mvn verify. Failed to execute goal", "body": "<p>I tried build locally:</p>\n\n<pre><code>mvn -B verify\n</code></pre>\n\n<p>All works fine.</p>\n\n<p>.gitlab-ci.yml :</p>\n\n<pre><code>image: maven:latest\n\nverify-job:\n  script:\n    - mvn -B verify\n</code></pre>\n\n<p>After checked several modules maven. I get error:</p>\n\n<pre><code>[INFO] Tree 1.0-0 ......................................... FAILURE [  7.587 s]\n</code></pre>\n\n<p>... SKIPPED</p>\n\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  01:35 min\n[INFO] Finished at: 2018-12-25T13:51:57Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project Tree: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test failed: The forked VM terminated without saying properly goodbye. VM crash or System.exit called ? -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :Tree\nERROR: Job failed: exit code 1\n</code></pre>\n\n<p>no module uses dependency org.apache.maven.plugins:maven-surefire-plugin\nI checked another answers on SO with the same error, no one is related with CI GitLab integration.\nI can guess it's related to ktlint, but why local builds are successful?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 5994250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/370b663384b8d58905a254ecb1c48029?s=128&d=identicon&r=PG", "display_name": "proninyaroslav", "link": "https://stackoverflow.com/users/5994250/proninyaroslav"}, "is_accepted": true, "score": 1, "last_activity_date": 1547565604, "creation_date": 1547565604, "answer_id": 54201800, "question_id": 53922520, "link": "https://stackoverflow.com/questions/53922520/selectiontracker-startrange-can-only-be-called-from-within-the-same-library-grou/54201800#54201800", "title": "SelectionTracker.startRange can only be called from within the same library group (groupId=androidx.recyclerview)", "body": "<p>Many methods in <code>SelectionTracker</code> are marked as</p>\n\n<pre><code>@hide\n@RestrictTo(LIBRARY_GROUP)\n</code></pre>\n\n<p>including range methods. This means that they are for internal use. At least for now.</p>\n"}], "owner": {"reputation": 2314, "user_id": 4675927, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/285ad1cf46c6c64e7a204b8a9d14cb98?s=128&d=identicon&r=PG", "display_name": "theJian", "link": "https://stackoverflow.com/users/4675927/thejian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 54201800, "answer_count": 1, "score": 0, "last_activity_date": 1547565604, "creation_date": 1545742003, "question_id": 53922520, "link": "https://stackoverflow.com/questions/53922520/selectiontracker-startrange-can-only-be-called-from-within-the-same-library-grou", "title": "SelectionTracker.startRange can only be called from within the same library group (groupId=androidx.recyclerview)", "body": "<p>So I was trying to implement recyclerview list selection with <code>recyclerview-selection</code> library, but I got lint error for this code.</p>\n\n<pre><code>selectionTracker.startRange(0)\nselectionTracker.extendRange(viewAdapter.itemCount)\n</code></pre>\n\n<p>lint error:</p>\n\n<pre><code>SelectionTracker.startRange can only be called from within the same library group (groupId=androidx.recyclerview)\n</code></pre>\n\n<p>I was using the latest version of this library</p>\n\n<pre><code>implementation 'androidx.recyclerview:recyclerview-selection:1.1.0-alpha01'\n</code></pre>\n\n<p>I didn't find documents on the Android developer website so I looked into the source code comments. If I understand it correctly I can implement a select-all feature with the above code, am I right? If it's not what's the correct way to implement it?</p>\n\n<p>What does the lint error means?</p>\n"}, {"tags": ["kotlin", "parallel-processing", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "edited": false, "score": 0, "creation_date": 1545758946, "post_id": 53922432, "comment_id": 94690323, "body": "It was really easy. Seems like I didn&#39;t fully understand async await. Now I do, thanks to you. Thank you very much"}, {"owner": {"reputation": 9451, "user_id": 1342096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xmB1y.gif?s=128&g=1", "display_name": "Min2", "link": "https://stackoverflow.com/users/1342096/min2"}, "edited": false, "score": 0, "creation_date": 1579792359, "post_id": 53922432, "comment_id": 105892390, "body": "hi @Sergey how it would be possible to get control on each job lets suppose I just want to cancel only job1 when all jobs are executing but do not want to disturb or hamper other job execution."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 9451, "user_id": 1342096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xmB1y.gif?s=128&g=1", "display_name": "Min2", "link": "https://stackoverflow.com/users/1342096/min2"}, "edited": false, "score": 1, "creation_date": 1579794969, "post_id": 53922432, "comment_id": 105893935, "body": "hi @Min2, you can try to call <code>d1.cancel()</code> to cancel the job. If it cancels a parent coroutine as well, consider using SupervisorJob or supervisorScope. Also helpful link about structured concurrency: <a href=\"https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#structured-concurrency-with-async\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/coroutines/&hellip;</a>"}, {"owner": {"reputation": 726, "user_id": 1830241, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000095592948/picture?type=large", "display_name": "obey", "link": "https://stackoverflow.com/users/1830241/obey"}, "edited": false, "score": 0, "creation_date": 1607277640, "post_id": 53922432, "comment_id": 115215963, "body": "For some reason when I do this  only the first job runs and second never.. I also don&#39;t really have return values but want to just run 2 jobs within GlobalScope.launch, but 2nd one must come after first is finished. This results in having 2nd task never triggered. Any ideas? Ps. i use async{} since asyncIO doesnt exist"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 9, "last_activity_date": 1545760072, "last_edit_date": 1545760072, "creation_date": 1545741213, "answer_id": 53922432, "question_id": 53921470, "link": "https://stackoverflow.com/questions/53921470/how-to-run-two-jobs-in-parallel-but-wait-for-another-job-to-finish-using-kotlin/53922432#53922432", "title": "How to run two jobs in parallel but wait for another job to finish using kotlin coroutines", "body": "<p>It's pretty straightforward. All you need to do is:</p>\n\n<ol>\n<li>Implement <code>CoroutineScope</code> and create <code>CoroutineContext</code>, or use <code>GlobalScope</code>.</li>\n<li>Using local <code>CoroutineScope</code> or <code>GlobalScope.launch()</code> launch the coroutine.</li>\n<li>In the coroutine use <code>async/await</code> to run/wait asynchronous operations. </li>\n</ol>\n\n<p>You can apply next code to your algorithm (all explanations are in the comments):</p>\n\n<pre><code>class SomeClass : CoroutineScope {\n    private var job: Job = Job()\n\n    // creating local CoroutineContext\n    override val coroutineContext: CoroutineContext\n        get() = Dispatchers.Main + job\n\n    // cancel the Job if it is no longer needed\n    fun onClear() {\n        job.cancel()\n    }\n\n    fun doJob() {\n        // launch coroutine\n        launch {\n            // run Job1, Job2, Job3 in parallel, asyncIO - is an extension function on CoroutineScope\n            val d1 = asyncIO { job1() }\n            val d2 = asyncIO { job2() }\n            val d3 = asyncIO { job3() }\n\n            // waiting for result of Job1\n            val job1Result = d1.await()\n\n            // run Job4\n            val d4 = asyncIO { job4(job1Result) }\n\n            // waiting for result of Job2 and Job4\n            val job2Result = d2.await()\n            val job4Result = d4.await()\n\n            // run Job5\n            val d5 = asyncIO { job5(job2Result, job4Result) }\n\n            // waiting for result of Job3\n            val job3Result = d3.await()\n\n            // run Job6\n            val d6 = asyncIO { job6(job3Result, job4Result) }\n\n            onDone(d5.await(), d6.await())\n        }\n    }\n\n    private fun onDone(job5Result: String, job6Result: String) {\n        // do something with result of Job5 and Job6\n    }\n\n\n    fun job1(): String {\n        return \"Result of job1\"\n    }\n\n    fun job2(): String {\n        return \"Result of job2\"\n    }\n\n    fun job3(): String {\n        return \"Result of job3\"\n    }\n\n    fun job4(job1Result: String): String {\n        return \"Result of job4\"\n    }\n\n    fun job5(job2Result: String, job4Result: String): String {\n        return \"Result of job5\"\n    }\n\n    fun job6(job3Result: String, job4Result: String): String {\n        return \"Result of job6\"\n    }\n\n    // extension function\n    fun &lt;T&gt; CoroutineScope.asyncIO(ioFun: () -&gt; T) = async(Dispatchers.IO) { ioFun() }\n}\n</code></pre>\n"}], "owner": {"reputation": 7885, "user_id": 1120126, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7360fb3904dd91c3069f26d778edd217?s=128&d=identicon&r=PG", "display_name": "osrl", "link": "https://stackoverflow.com/users/1120126/osrl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2978, "favorite_count": 1, "accepted_answer_id": 53922432, "answer_count": 1, "score": 4, "last_activity_date": 1545760072, "creation_date": 1545733670, "question_id": 53921470, "link": "https://stackoverflow.com/questions/53921470/how-to-run-two-jobs-in-parallel-but-wait-for-another-job-to-finish-using-kotlin", "title": "How to run two jobs in parallel but wait for another job to finish using kotlin coroutines", "body": "<p>I have these jobs below: </p>\n\n<ol>\n<li>Inflating a complex calendar view async</li>\n<li>Downloading events A </li>\n<li>Downloading events B</li>\n<li>Adding calendar view to it's parent</li>\n<li>Adding A events to the calendar </li>\n<li>Adding B events to the calendar </li>\n</ol>\n\n<p>I want </p>\n\n<ul>\n<li>1, 2, 3 have to start async, </li>\n<li>4 has to wait for 1</li>\n<li>5 has to wait for 2 and 4</li>\n<li>6 has to wait for 3 and 4</li>\n<li>6 and 5 should not be dependent to each other, can run at different times.</li>\n<li>4 is only dependent to 1, so it can run before 2 or 3 is finished.</li>\n</ul>\n\n<p>I've tried async await but it makes them finish at the same time (as expected). I think this example might be a good way to learn parallel programming concepts, like semaphores mutex or spin locks. But it's too complicated for me to understand.</p>\n\n<p>How should I implement these with using Kotlin coroutines?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-appcompat", "android-preferences"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1545731001, "post_id": 53921023, "comment_id": 94684317, "body": "Where are you using <code>setTheme()</code>?"}, {"owner": {"reputation": 65, "user_id": 4148585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Od3jyq_UCB4/AAAAAAAAAAI/AAAAAAAAAH8/OwVwhgU8fcQ/photo.jpg?sz=128", "display_name": "Yaroslav Shulyak", "link": "https://stackoverflow.com/users/4148585/yaroslav-shulyak"}, "reply_to_user": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1545731819, "post_id": 53921023, "comment_id": 94684509, "body": "When activity is created, before setContentView. In other fragments theme applied as it should be"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1545732274, "post_id": 53921023, "comment_id": 94684590, "body": "Try  to call <code>setTheme()</code> before <code>activity?.recreate()</code>"}, {"owner": {"reputation": 65, "user_id": 4148585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Od3jyq_UCB4/AAAAAAAAAAI/AAAAAAAAAH8/OwVwhgU8fcQ/photo.jpg?sz=128", "display_name": "Yaroslav Shulyak", "link": "https://stackoverflow.com/users/4148585/yaroslav-shulyak"}, "reply_to_user": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1545732528, "post_id": 53921023, "comment_id": 94684636, "body": "Same result, text is black on black background"}], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 4148585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Od3jyq_UCB4/AAAAAAAAAAI/AAAAAAAAAH8/OwVwhgU8fcQ/photo.jpg?sz=128", "display_name": "Yaroslav Shulyak", "link": "https://stackoverflow.com/users/4148585/yaroslav-shulyak"}, "is_accepted": false, "score": 0, "last_activity_date": 1545757211, "creation_date": 1545757211, "answer_id": 53924161, "question_id": 53921023, "link": "https://stackoverflow.com/questions/53921023/preferencefragmentcompat-wont-change-color-when-change-theme-and-recreate-activ/53924161#53924161", "title": "PreferenceFragmentCompat won&#39;t change color when change theme and recreate activity", "body": "<p>It seems it was bug in library. It now fixed in <em>androidx.preference:preference:1.1.0-alpha02</em></p>\n"}], "owner": {"reputation": 65, "user_id": 4148585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Od3jyq_UCB4/AAAAAAAAAAI/AAAAAAAAAH8/OwVwhgU8fcQ/photo.jpg?sz=128", "display_name": "Yaroslav Shulyak", "link": "https://stackoverflow.com/users/4148585/yaroslav-shulyak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 759, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545757211, "creation_date": 1545729952, "last_edit_date": 1545730376, "question_id": 53921023, "link": "https://stackoverflow.com/questions/53921023/preferencefragmentcompat-wont-change-color-when-change-theme-and-recreate-activ", "title": "PreferenceFragmentCompat won&#39;t change color when change theme and recreate activity", "body": "<p>I'm using PreferenceFragmentCompat for preferences and when I change theme preference using ListPreference to a dark theme and recreate activity text stays dark and becomes not visible. If I reopen this fragment text becomes white, but it returns to black color on orientation change</p>\n\n<p><strong>Here is my styles:</strong></p>\n\n<pre><code>     &lt;style name=\"AppThemeLight\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"preferenceTheme\"&gt;@style/preferenceLight&lt;/item&gt;\n\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowActionModeOverlay\"&gt;true&lt;/item&gt;\n\n    &lt;item name=\"android:textColorPrimary\"&gt;@color/primaryText&lt;/item&gt;\n    &lt;item name=\"android:textColorSecondary\"&gt;@color/secondaryText&lt;/item&gt;\n\n&lt;/style&gt;\n\n&lt;style name=\"AppThemeDark\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"preferenceTheme\"&gt;@style/preferenceDark&lt;/item&gt;\n\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowActionModeOverlay\"&gt;true&lt;/item&gt;\n\n    &lt;item name=\"android:windowBackground\"&gt;@color/primaryText&lt;/item&gt;\n\n    &lt;item name=\"android:textColorPrimary\"&gt;@color/primaryTextDark&lt;/item&gt;\n    &lt;item name=\"android:textColorSecondary\"&gt;@color/secondaryText&lt;/item&gt;\n\n&lt;/style&gt;\n\n&lt;style name=\"preferenceLight\" parent=\"PreferenceThemeOverlay.v14.Material\"&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/primaryText&lt;/item&gt;\n    &lt;item name=\"android:textColorPrimary\"&gt;@color/primaryText&lt;/item&gt;\n    &lt;item name=\"android:textColorSecondary\"&gt;@color/secondaryText&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"preferenceDark\" parent=\"PreferenceThemeOverlay.v14.Material\"&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/primaryTextDark&lt;/item&gt;\n    &lt;item name=\"android:textColorPrimary\"&gt;@color/primaryTextDark&lt;/item&gt;\n    &lt;item name=\"android:textColorSecondary\"&gt;@color/secondaryText&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p><strong>and fragment</strong></p>\n\n<pre><code>    class SettingsFragment : PreferenceFragmentCompat(), SharedPreferences.OnSharedPreferenceChangeListener{\n\nprivate lateinit var advertisePreferences: AdvertisePreferences\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    advertisePreferences = AdvertisePreferences(context!!)\n}\n\noverride fun onResume() {\n    super.onResume()\n    (activity as AppCompatActivity).supportActionBar?.title = getString(R.string.settings)\n    preferenceManager.sharedPreferences.registerOnSharedPreferenceChangeListener(this)\n}\n\noverride fun onPause() {\n    super.onPause()\n    preferenceManager.sharedPreferences.unregisterOnSharedPreferenceChangeListener(this)\n}\n\noverride fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n    setPreferencesFromResource(R.xml.app_preferences, rootKey)\n}\n\noverride fun onPreferenceTreeClick(preference: Preference): Boolean {\n\n    when(preference.key){\n\n    }\n\n    return super.onPreferenceTreeClick(preference)\n}\n\noverride fun onSharedPreferenceChanged(sharedPreferences: SharedPreferences, key: String) {\n\n    when(key){\n        getString(R.string.theme_key) -&gt; {\n            activity?.recreate()\n        }\n    }\n}\n\n    }\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebaseui"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1545890988, "post_id": 53920621, "comment_id": 94720271, "body": "Have started listening for changes?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 10831107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WfCMTcwrXOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaKefhPgUeQw9oC9nyFmCzdjtvBEQ/mo/photo.jpg?sz=128", "display_name": "DevEloper", "link": "https://stackoverflow.com/users/10831107/developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1545733604, "creation_date": 1545733604, "answer_id": 53921459, "question_id": 53920621, "link": "https://stackoverflow.com/questions/53920621/recyclerview-not-showing-data-from-firebase-kotlin/53921459#53921459", "title": "RecyclerView not showing data from firebase (Kotlin)", "body": "<p>did you use <strong>itemCount</strong> in adapter? </p>\n\n<pre><code>override fun getItemCount(): Int {\n        return count\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4444209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b94639edd08a925d96cf1349b969e3?s=128&d=identicon&r=PG&f=1", "display_name": "Hartono Pratama", "link": "https://stackoverflow.com/users/4444209/hartono-pratama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545753379, "creation_date": 1545726472, "last_edit_date": 1545753379, "question_id": 53920621, "link": "https://stackoverflow.com/questions/53920621/recyclerview-not-showing-data-from-firebase-kotlin", "title": "RecyclerView not showing data from firebase (Kotlin)", "body": "<p>can anyone help me?\ni try lesson online for android-firebase, but it an old one.\nSo the code change already. I got stuck at <code>onBindViewHolder</code> and <code>onCreateViewHolder</code> because the lesson don't have that.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class UsersAdapter(databaseQuery: DatabaseReference, var context: Context):\r\n    FirebaseRecyclerAdapter&lt;Users, ViewHolder&gt;(\r\n        FirebaseRecyclerOptions.Builder&lt;Users&gt;().setQuery(databaseQuery, Users::class.java).build()\r\n    ) {\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int, model: Users) {\r\n\r\n        var userID = getRef(position).key\r\n\r\n        holder.bindView(model, context)\r\n\r\n        holder.itemView.setOnClickListener {\r\n            //todo create a popup dialog where user can do\r\n            Toast.makeText(context, \"user row click $userID\", Toast.LENGTH_LONG).show()\r\n        }\r\n\r\n\r\n    }\r\n\r\n    override fun onCreateViewHolder(p0: ViewGroup, p1: Int): ViewHolder {\r\n\r\n        var view = LayoutInflater.from(p0.getContext())\r\n            .inflate(R.layout.friendlist_row, p0, false)\r\n\r\n        return ViewHolder(view,context)\r\n\r\n\r\n    }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>above is my <code>adapter</code> for <code>RecycleView</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class ViewHolder(itemView: View, context: Context): RecyclerView.ViewHolder(itemView) {\r\n\r\n  var userNameTxt: String ? = null\r\n  var userStatusTxt: String ? = null\r\n  var userProfilePicLink: String ? = null\r\n\r\n  fun bindView(user: Users, context: Context) {\r\n    var userName = itemView.findViewById &lt; TextView &gt; (R.id.friendlistNameTXID)\r\n    var userStatus = itemView.findViewById &lt; TextView &gt; (R.id.friendlistStatusTXID)\r\n    //        var userProfilePic = itemView.findViewById&lt;CircleImageView&gt;(R.id.friendlistImageIVID)\r\n\r\n    //set the string so we can pass in the intent\r\n    userNameTxt = user.usernickname\r\n    userStatusTxt = user.userstatus\r\n    //        userProfilePicLink = user.thumb_image\r\n\r\n    userName.text = userNameTxt\r\n    userStatus.text = userStatusTxt\r\n\r\n    //        Picasso.get()\r\n    //            .load(userProfilePicLink)\r\n    //            .placeholder(R.drawable.ic_launcher_foreground)\r\n    //            .into(userProfilePic)\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>above is my <code>ViewHolder</code> for <code>myAdapter</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class UsersFragment: Fragment() {\r\n  var mUserDatabase: DatabaseReference ? = null\r\n\r\n  override fun onCreateView(\r\n    inflater: LayoutInflater, container: ViewGroup ? ,\r\n    savedInstanceState : Bundle ?\r\n  ): View ? {\r\n    // Inflate the layout for this fragment\r\n    return inflater.inflate(R.layout.fragment_user, container, false)\r\n  }\r\n\r\n\r\n  override fun onViewCreated(view: View, savedInstanceState: Bundle ? ) {\r\n    super.onViewCreated(view, savedInstanceState)\r\n\r\n    var linearLayoutManager = LinearLayoutManager(context, LinearLayoutManager.VERTICAL, false)\r\n    mUserDatabase = FirebaseDatabase.getInstance().reference.child(\"Users\")\r\n\r\n    friendlistRVID.setHasFixedSize(true)\r\n    friendlistRVID.layoutManager = linearLayoutManager\r\n    friendlistRVID.adapter = UsersAdapter(mUserDatabase!!, context!!)\r\n\r\n  }\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and above is the <code>fragment</code> that I use that has <code>RecycleView</code> inside it</p>\n\n<p>It would't show anything and no error too. Thank you in advance</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 0, "creation_date": 1545725242, "post_id": 53920445, "comment_id": 94683195, "body": "This looks not triggering the click"}], "tags": [], "owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1545724658, "creation_date": 1545724658, "answer_id": 53920445, "question_id": 53920406, "link": "https://stackoverflow.com/questions/53920406/how-to-implement-onitemclick-and-onlongitemclick-in-recycleview-for-kotlin-in-an/53920445#53920445", "title": "How to implement onItemClick and onLongItemClick in RecycleView for Kotlin in android", "body": "<p>Change your view holder. Also, if you need to get index, use <code>adapterPosition</code> variable.</p>\n\n<pre><code>inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    // Holds the TextView that will add each animal to\n    val tvAnimalType = itemView.txtTitle!!\n    val rootView = itemView.eventListRootId!!\n\n    init {\n        itemView.setOnClickListener {\n            Toast.makeText(context, \"OnClick\", Toast.LENGTH_LONG).show()\n        }\n        // OnLongClick and etc.\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 0, "creation_date": 1545725597, "post_id": 53920463, "comment_id": 94683248, "body": "This looks not triggering the click"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "reply_to_user": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 0, "creation_date": 1545725824, "post_id": 53920463, "comment_id": 94683287, "body": "@Devrath does your <code>RecyclerView</code> above other view&#39;s?"}, {"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 0, "creation_date": 1545726090, "post_id": 53920463, "comment_id": 94683351, "body": "The problem is i have added the click event to root view Id. Adding it to its child did the trick in the xml"}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 0, "last_activity_date": 1545724917, "creation_date": 1545724917, "answer_id": 53920463, "question_id": 53920406, "link": "https://stackoverflow.com/questions/53920406/how-to-implement-onitemclick-and-onlongitemclick-in-recycleview-for-kotlin-in-an/53920463#53920463", "title": "How to implement onItemClick and onLongItemClick in RecycleView for Kotlin in android", "body": "<p>If you need to handle root view click events apply it dirrectly</p>\n\n<pre><code>class ViewHolder (view: View) : RecyclerView.ViewHolder(view) {\n    // Holds the TextView that will add each animal to\n    val tvAnimalType = view.txtTitle!!\n\n    view.setOnClickListener {\n        Toast.makeText(view.context, \"OnClick\", Toast.LENGTH_LONG).show()\n    }\n    view.setOnLongClickListener {\n        Toast.makeText(view.context, \"OnLongClick\", Toast.LENGTH_LONG).show()\n        true\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "edited": false, "score": 1, "creation_date": 1545726134, "post_id": 53920582, "comment_id": 94683361, "body": "The problem is i have added the click event to root view Id. Adding it to its child did the trick in the xml"}], "tags": [], "owner": {"reputation": 41, "user_id": 10831107, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WfCMTcwrXOc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaKefhPgUeQw9oC9nyFmCzdjtvBEQ/mo/photo.jpg?sz=128", "display_name": "DevEloper", "link": "https://stackoverflow.com/users/10831107/developer"}, "is_accepted": true, "score": 1, "last_activity_date": 1545726028, "creation_date": 1545726028, "answer_id": 53920582, "question_id": 53920406, "link": "https://stackoverflow.com/questions/53920406/how-to-implement-onitemclick-and-onlongitemclick-in-recycleview-for-kotlin-in-an/53920582#53920582", "title": "How to implement onItemClick and onLongItemClick in RecycleView for Kotlin in android", "body": "<p>You dont need anything else</p>\n\n<pre><code>  override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n            holder?.tvAnimalType?.text = items.get(position).getName()\n\n            holder?.rootView.setOnClickListener{\n              // code here\n            }\n            holder?.rootView.setOnLongClickListener {\n               //code here\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 53920582, "answer_count": 3, "score": 0, "last_activity_date": 1545726865, "creation_date": 1545724279, "last_edit_date": 1545726865, "question_id": 53920406, "link": "https://stackoverflow.com/questions/53920406/how-to-implement-onitemclick-and-onlongitemclick-in-recycleview-for-kotlin-in-an", "title": "How to implement onItemClick and onLongItemClick in RecycleView for Kotlin in android", "body": "<ul>\n<li>I have used Kotlin for implementing click listeners</li>\n<li>How to properly use it, currently click is not detecting, I am not able to detect click using below code.</li>\n</ul>\n\n<hr>\n\n<pre><code>  class AdptEvents (val items: MutableList&lt;TestModel&gt;, val context: Context) : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n\n        override fun onCreateViewHolder(parent: ViewGroup, p1: Int): ViewHolder {\n            return ViewHolder(LayoutInflater.from(context).inflate(R.layout.row_event, parent, false))\n        }\n\n        override fun getItemCount(): Int {\n            return items.size\n        }\n\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n            holder?.tvAnimalType?.text = items.get(position).getName()\n\n            holder?.rootView.setOnClickListener{\n                clickEventRow(items,position)\n                true\n            }\n            holder?.rootView.setOnLongClickListener {\n                clickEventRow(items,position)\n                true\n            }\n        }\n\n        private fun clickEventRow( items: MutableList&lt;TestModel&gt;, position: Int ) {\n            Toast.makeText(context,items[position].getName(),Toast.LENGTH_LONG).show()\n        }\n\n    }\n\n    class ViewHolder (view: View) : RecyclerView.ViewHolder(view) {\n        // Holds the TextView that will add each animal to\n        val tvAnimalType = view.txtTitle!!\n        val rootView = view.eventListRootId!!\n    }\n</code></pre>\n"}, {"tags": ["java", "docker", "kotlin", "udp", "ktor"], "comments": [{"owner": {"reputation": 262, "user_id": 2451543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8dc15e5b8b6a52475213fc15d059929?s=128&d=identicon&r=PG", "display_name": "Eelco", "link": "https://stackoverflow.com/users/2451543/eelco"}, "edited": false, "score": 0, "creation_date": 1559032167, "post_id": 53920392, "comment_id": 99281629, "body": "Try listening to 0.0.0.0 (any interface) instead of localhost."}], "owner": {"reputation": 11, "user_id": 10185438, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gSBP-OkbRMg/AAAAAAAAAAI/AAAAAAAAAzU/uA6NZIJiK3Q/photo.jpg?sz=128", "display_name": "CayzerOK ", "link": "https://stackoverflow.com/users/10185438/cayzerok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1545735149, "creation_date": 1545724132, "last_edit_date": 1592644375, "question_id": 53920392, "link": "https://stackoverflow.com/questions/53920392/kotlin-ktor-udp-server-docker-issue", "title": "Kotlin ktor UDP server + docker issue", "body": "<p>I have Ktor-based ultra-simple udp server:</p>\n<pre><code>fun main() = runBlocking {\n    val server = aSocket(ActorSelectorManager(Dispatchers.IO))\n                                  .udp()\n                                  .bind(InetSocketAddress(&quot;localhost&quot;,9090))\n    while (true) {\n        println(server.incoming.receive().packet.readText())\n    }\n}\n</code></pre>\n<p>And I don't have problems with it on host/my-pc, but it just not working on docker. It's running, but it don`t receive UDP-packets.</p>\n<p>That's my Dockerfile:</p>\n<blockquote>\n<p>FROM phusion/baseimage</p>\n<p>MAINTAINER cayzerok@gmail.com</p>\n<p>EXPOSE 9090/udp</p>\n<p>RUN apt-get update &amp;&amp; apt-get install -y default-jre-headless</p>\n<p>VOLUME /data</p>\n<p>COPY *.jar /app/server.jar</p>\n<p>RUN apt-get clean &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/*</p>\n<p>CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/server.jar&quot;]</p>\n</blockquote>\n<p>And that's my &quot;docker run&quot; command:</p>\n<blockquote>\n<p>docker run -p 9090:9090/udp cayzerok/sample</p>\n</blockquote>\n<p>What am I doing wrong? Reason must be in the server, I tested a client with docker-udp-listener.</p>\n<p>Thanks for attention!</p>\n"}, {"tags": ["swing", "gradle", "kotlin"], "owner": {"reputation": 63, "user_id": 10665858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a92383da69892fb84bb6c89aad2bbc?s=128&d=identicon&r=PG&f=1", "display_name": "Antony", "link": "https://stackoverflow.com/users/10665858/antony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545722583, "creation_date": 1545722583, "question_id": 53920218, "link": "https://stackoverflow.com/questions/53920218/build-swing-program-using-gradle-with-kotlin-plugin-need-include-runtime", "title": "Build swing program using gradle with kotlin plugin, need -include-runtime", "body": "<p>How to put -include-runtime in build.gradle for kotlin swing program.</p>\n\n<p>Background:</p>\n\n<pre><code>- buntu 18.04 64-bit\n- OpenJDK 11.0.1\n- kotlin 1.3.10\n- gradle 5.0\n- Swing example borrowed from http://zetcode.com/kotlin/swing/\n</code></pre>\n\n<p>Compile:</p>\n\n<pre><code>kotlinc KotlinSwingSimpleEx.kt -include-runtime -d swing.jar\n</code></pre>\n\n<p>Run and Worked:</p>\n\n<pre><code>java -jar swing.jar\n</code></pre>\n\n<p>Run and Worked:</p>\n\n<pre><code>kotlin -classpath swing.jar com.zetcode.KotlinSwingSimpleExKt\n</code></pre>\n\n<p>However, the followings not work:</p>\n\n<pre><code>\"gradle build\" or \"gradle compileKotlin\"\n</code></pre>\n\n<p>Run, but not work:</p>\n\n<pre><code>java -jar build/libs/swing.jar\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>no main manifest attribute, in build/libs/swing.jar\n</code></pre>\n\n<p>Run with kotlin got the same error.</p>\n\n<p>Try the followings, but not work (forgot where they come from) (could build, but same error):</p>\n\n<p>Case1: add to build.gradle (something like the following, but not sure)</p>\n\n<pre><code>compileKotlin {\n  compileOptions.includeRuntime = true\n}\n</code></pre>\n\n<p>Case 2: add to build.gradle (something like the following, but not sure)</p>\n\n<pre><code>compileOptions {\n  freeCompilerArgs = ['-include-runtime']\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>// build.gradle\napply plugin: \"kotlin\"\n\n  buildscript {\n    ext.kotlin_version = '1.3.11'\n\n    repositories {\n    mavenCentral()\n  }\n\ndependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n  }\n}\n\nrepositories {\n  mavenCentral()\n}\n\ndependencies {\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>A window should be shown. Please help.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 90, "user_id": 5261601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uGzCu.jpg?s=128&g=1", "display_name": "A. Wahab", "link": "https://stackoverflow.com/users/5261601/a-wahab"}, "edited": false, "score": 1, "creation_date": 1545728312, "post_id": 53919984, "comment_id": 94683770, "body": "You have to create a single instance of Media Player and use is the application when you want to change the get media player instance and check it if the player already plays a song then stop the previous one and start the new one.  You can achieve this technique by creating a singleton class which has an object on the Media Player as a data member."}], "answers": [{"tags": [], "owner": {"reputation": 5654, "user_id": 2939690, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/71797fe963333d41de913eb798916eae?s=128&d=identicon&r=PG", "display_name": "vuhung3990", "link": "https://stackoverflow.com/users/2939690/vuhung3990"}, "is_accepted": false, "score": 0, "last_activity_date": 1545732658, "creation_date": 1545732658, "answer_id": 53921342, "question_id": 53919984, "link": "https://stackoverflow.com/questions/53919984/how-do-i-prevent-playing-multiple-songs-at-the-same-time-in-my-music-player-app/53921342#53921342", "title": "How do i prevent playing multiple songs at the same time in my music player app?", "body": "<p>just reset state of mediaplayer then play another song, here is an example:</p>\n\n<pre><code>  /**\n   * release media player\n   */\n  private fun reset() {\n    stopUpdatePosition()\n    mediaPlayer?.isPlaying?.run { mediaPlayer?.stop() }\n    mediaPlayer?.reset()\n    mediaPlayer = null\n  }\n\n  private fun play(source: String) {\n      mediaPlayer = MediaPlayer()\n      mediaPlayer?.run {\n      isLooping = isRepeatOne\n      setOnPreparedListener(this@AudioPlayerService)\n      setOnCompletionListener(this@AudioPlayerService)\n\n      // must prepare in another thread\n      setDataSource(source)\n      prepareAsync()\n    }\n  }\n\n  reset()\n  // source ~ http://xxxx.mp3\n  play(source)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 10498665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p-mjXhPUpns/AAAAAAAAAAI/AAAAAAAAADo/ExYEBmfGWGY/photo.jpg?sz=128", "display_name": "saketha yellanki", "link": "https://stackoverflow.com/users/10498665/saketha-yellanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 519, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1545732658, "creation_date": 1545720336, "question_id": 53919984, "link": "https://stackoverflow.com/questions/53919984/how-do-i-prevent-playing-multiple-songs-at-the-same-time-in-my-music-player-app", "title": "How do i prevent playing multiple songs at the same time in my music player app?", "body": "<p>I am trying to build a music player app and I face problem when I try to play another song when a song is already playing.\nI want my app to stop playing the already running song and start the new song.\nI fetch the details of songs as a bundle from the adapter class into my songPlayingFragment. I tried implementing pause(),stop(),and release() methods. But none of them worked. I believed that I implemented them in the wrong section of code. \nThis is my code without implementing any of the above mentioned methods.\nSolution to this would be of great help. Thankyou.</p>\n\n<p>Code of song playing fragment</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    audioManager = myActivity?.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n    favouriteContent = EchoDatabase(myActivity)\n\n    currentSongHelper = CurrentSongHelper()\n    currentSongHelper?.isPlaying = true\n    currentSongHelper?.isLoop = false\n    currentSongHelper?.isShuffle = false\n\n    var path:String?=null\n    var songTitle:String?=null\n    var songArtist:String?=null\n    var songId:Long = 0\n\n    try\n    {\n       path = arguments?.getString(\"path\")\n       songTitle = arguments?.getString(\"songTitle\")\n       songArtist = arguments?.getString(\"songArtist\")\n       songId = arguments?.getInt(\"songId\")?.toLong() as Long\n       currentPosition = arguments?.getInt(\"songPosition\") as Int\n       fetchSongs = arguments?.getParcelableArrayList(\"songData\")\n\n        currentSongHelper?.songPath = path\n        currentSongHelper?.songTitle = songTitle\n        currentSongHelper?.songArtist = songArtist\n        currentSongHelper?.songId = songId\n        currentSongHelper?.currentPosition = currentPosition\n\n        updateTextViews(currentSongHelper?.songTitle as String,currentSongHelper?.songArtist as String)\n    }\n    catch (e:Exception)\n    {e.printStackTrace()}\n    mediaPlayer = MediaPlayer()\n    mediaPlayer?.setAudioStreamType(AudioManager.STREAM_MUSIC)\n    try\n    {\n        mediaPlayer?.setDataSource(myActivity, Uri.parse(path))\n        mediaPlayer?.prepare()\n    }\n    catch(e:Exception)\n    {e.printStackTrace()}\n\n    mediaPlayer?.start()\n    processInformation(mediaPlayer as MediaPlayer)\n\n\n\n    if(currentSongHelper?.isPlaying as Boolean)\n    {\n        playPauseButton?.setBackgroundResource(R.drawable.pause_icon)\n    }\n    else\n    {\n        playPauseButton?.setBackgroundResource(R.drawable.play_icon)\n    }\n    mediaPlayer?.setOnCompletionListener {\n        songOnComplete()\n    }\n</code></pre>\n\n<p>and my Adapter class</p>\n\n<pre><code>package com.musicplayer.echo.adapters\n</code></pre>\n\n<p>class MainScreenAdapter(arrayList:ArrayList, _context : Context): RecyclerView.Adapter()\n{</p>\n\n<pre><code>var songDetails:ArrayList&lt;Songs&gt;?=null\nvar mContext: Context?=null\n\ninit\n{\n    this.songDetails = arrayList\n    this.mContext = _context\n}\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder\n{\n     val itemView = LayoutInflater.from(parent?.context)\n             .inflate(R.layout.row_custom_mainscreen,parent,false)\n\n    return MyViewHolder(itemView)\n}\n\noverride fun getItemCount(): Int\n{\n    if(songDetails==null)\n        return 0\n    else\n        return (songDetails as ArrayList&lt;Songs&gt;).size\n}\n\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int)\n{\n     val songObject = songDetails?.get(position)\n     holder.trackTitle?.text = songObject?.songTitle\n     holder.trackArtist?.text = songObject?.songArtist\n     holder.contentHolder?.setOnClickListener({\n\n         val songPlayingFragment = SongPlayingFragment()\n         var args = Bundle()\n         args.putString(\"songArtist\",songObject?.songArtist)\n         args.putString(\"songTitle\",songObject?.songTitle)\n         args.putString(\"path\",songObject?.songData)\n         args.putInt(\"songId\",songObject?.songId?.toInt() as Int)\n         args.putInt(\"songPosition\",position)\n         args.putParcelableArrayList(\"songData\",songDetails)\n         songPlayingFragment.arguments = args\n         (mContext as FragmentActivity).supportFragmentManager\n                 .beginTransaction()\n                 .replace(R.id.details_fragment, songPlayingFragment)\n                 .commit()\n     })\n}\nclass MyViewHolder(view: View) : RecyclerView.ViewHolder(view)\n{\n    var trackTitle : TextView?=null\n    var trackArtist : TextView?=null\n    var contentHolder : RelativeLayout?=null\n\n    init\n    {\n        trackTitle = view.findViewById(R.id.trackTitle)\n        trackArtist = view.findViewById(R.id.trackArtist)\n        contentHolder = view.findViewById(R.id.contentRow)\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "android", "list", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545720098, "post_id": 53919875, "comment_id": 94682282, "body": "Probably you should set the <code>truncated</code> property to the empty string, to avoid the <code>...</code> in the end of the <code>substring</code>"}, {"owner": {"reputation": 2685, "user_id": 2341815, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/637ab45a810d6286bfa97ff77b505eaa?s=128&d=identicon&r=PG", "display_name": "Ruwanka Madhushan", "link": "https://stackoverflow.com/users/2341815/ruwanka-madhushan"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545720173, "post_id": 53919875, "comment_id": 94682296, "body": "yes you are correct. will update the answer. thank you"}, {"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "edited": false, "score": 0, "creation_date": 1545728725, "post_id": 53919875, "comment_id": 94683851, "body": "limit = 10 will limit the size of array or limit the length of the result (which is a string) ?"}, {"owner": {"reputation": 2685, "user_id": 2341815, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/637ab45a810d6286bfa97ff77b505eaa?s=128&d=identicon&r=PG", "display_name": "Ruwanka Madhushan", "link": "https://stackoverflow.com/users/2341815/ruwanka-madhushan"}, "edited": false, "score": 0, "creation_date": 1545733126, "post_id": 53919875, "comment_id": 94684739, "body": "It stops after 10 items joined. Is that what you wanted?"}, {"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "edited": false, "score": 0, "creation_date": 1545752534, "post_id": 53919875, "comment_id": 94689063, "body": "I want it stops whenever joined string reaches the MAX_LENGTH (for instance, 50 characters)"}], "tags": [], "owner": {"reputation": 2685, "user_id": 2341815, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/637ab45a810d6286bfa97ff77b505eaa?s=128&d=identicon&r=PG", "display_name": "Ruwanka Madhushan", "link": "https://stackoverflow.com/users/2341815/ruwanka-madhushan"}, "is_accepted": false, "score": 2, "last_activity_date": 1545876924, "last_edit_date": 1545876924, "creation_date": 1545718964, "answer_id": 53919875, "question_id": 53919771, "link": "https://stackoverflow.com/questions/53919771/add-condition-for-limitation-of-jointostring-in-kotlin/53919875#53919875", "title": "Add condition for limitation of joinToString in Kotlin", "body": "<p>use <code>limit</code> parameter in <code>joinToString</code></p>\n\n<pre><code>val substring = texts.filter { it.isNotBlank() }\n                .joinToString(separator = \" \", limit = 10, truncated = \"\")\n                .substring(0)\n</code></pre>\n\n<p>Note <code>truncated</code> parameter to avoid <code>...</code> suffix.</p>\n\n<p>Since original answer looking for <code>MAX_LENGTH</code> as final string length above solution won't work. Ideal one is <code>takeWhile</code> as in accepted answer. But it required to rely on external variables. I'd rather use functional approach if I could, but seems like there isn't one. So basically we need reduce operation with predicate, So slightly altered version of <code>reduce</code> would work</p>\n\n<pre><code>public inline fun &lt;S, T : S&gt; Iterable&lt;T&gt;.reduceWithPredicate(operation: (acc: S, T) -&gt; S, predicate: (S) -&gt; Boolean): S {\n        val iterator = this.iterator()\n        if (!iterator.hasNext()) throw UnsupportedOperationException(\"Empty collection can't be reduced.\")\n        var accumulator: S = iterator.next()\n        while (iterator.hasNext() &amp;&amp; predicate(accumulator)) {\n            accumulator = operation(accumulator, iterator.next())\n        }\n        return accumulator\n    }\n</code></pre>\n\n<p>Since we are dealing with string concatenation and trying to limit by its length, we have to use <code>substring</code> to get exact length but above inline function eleminates joining all elements and doesn't require intermediate list as in <code>takeWhile</code>. Also bit altered version of <code>takeWhile</code> would work</p>\n\n<pre><code>val joinedString = texts.filter { it.isNotBlank() }\n                .reduceWithPredicate({ s1, s2 -&gt; \"$s1 $s2\" }, { it.length &lt; 100 })\n                .substring(100)\nassertTrue { joinedString.length &lt; 100 }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "edited": false, "score": 0, "creation_date": 1545753067, "post_id": 53922131, "comment_id": 94689164, "body": "This is what I need. Thank you"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 2, "last_activity_date": 1545738760, "creation_date": 1545738760, "answer_id": 53922131, "question_id": 53919771, "link": "https://stackoverflow.com/questions/53919771/add-condition-for-limitation-of-jointostring-in-kotlin/53922131#53922131", "title": "Add condition for limitation of joinToString in Kotlin", "body": "<p>First use <code>takeWhile</code> to limit the total length and then <code>join</code>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val texts = listOf(\"It is a\",\n            \"long established fact that a reader will be distracted,\",\n            \"by the readable content of a page when looking at its layout.\",\n            \"The point of using Lorem Ipsum is that it has a more-or-less normal\",\n            \"distribution of letters, as opposed to using, making it look like readable English.\",\n            \" Many desktop publishing packages and web page,\",\n            \"editors now use Lorem Ipsum as their default model text, and a search,\",\n            \"for \\'lorem ipsum\\' will uncover many web sites still in their infancy\",\n            \"Various versions have evolved over the years\")\n\n    val limit = 130\n    var sum = 0\n    val str = texts.takeWhile { sum += it.length + 1;  sum &lt;= limit }.joinToString(\" \")\n\n    println(str)\n    println(str.length)\n}\n</code></pre>\n\n<p>will print</p>\n\n<pre><code>It is a long established fact that a reader will be distracted, by the readable content of a page when looking at its layout.\n125\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1044, "favorite_count": 0, "accepted_answer_id": 53922131, "answer_count": 2, "score": 2, "last_activity_date": 1545876924, "creation_date": 1545718050, "question_id": 53919771, "link": "https://stackoverflow.com/questions/53919771/add-condition-for-limitation-of-jointostring-in-kotlin", "title": "Add condition for limitation of joinToString in Kotlin", "body": "<p>I have a list of string like this: </p>\n\n<pre><code>val texts = listOf(\"It is a\",\n                \"long established fact that a reader will be distracted,\",\n                \"by the readable content of a page when looking at its layout.\",\n                \"The point of using Lorem Ipsum is that it has a more-or-less normal\",\n                \"distribution of letters, as opposed to using, making it look like readable English.\",\n                \" Many desktop publishing packages and web page,\",\n                \"editors now use Lorem Ipsum as their default model text, and a search,\",\n                \"for \\'lorem ipsum\\' will uncover many web sites still in their infancy\",\n                \"Various versions have evolved over the years\", ...)\n</code></pre>\n\n<p>I want to add a separator <strong>\" \"</strong> between them and limit the length of the result.</p>\n\n<p>By using <code>joinToString</code> and <code>subString</code>, I can achieve the result.</p>\n\n<pre><code>texts.filter { it.isNotBlank() }\n                .joinToString(separator = \" \")\n                .substring()\n</code></pre>\n\n<p>The question is: I want to use <code>joinToString</code> only and break the iterator whenever it reaches the <strong>MAX_LENGTH</strong> so it doesn't have to do any \"joins\" and <code>subString</code> after that.</p>\n\n<p>How could I do that?</p>\n"}, {"tags": ["java", "android", "animation", "kotlin", "gradient"], "comments": [{"owner": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 1, "creation_date": 1545715276, "post_id": 53919547, "comment_id": 94681541, "body": "On Android? Have an example of what you want to achieve? Otherwise it&#39;s just a wish list. <i>&quot;I have wasted my lots of time&quot;</i> - Then maybe you should provide some more insight into what you have &quot;tried&quot;, so we don&#39;t waste more of it"}, {"owner": {"reputation": 107, "user_id": 9734994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LFfKBpfnwfs/AAAAAAAAAAI/AAAAAAAAAAc/5sUduBiLJ0E/photo.jpg?sz=128", "display_name": "Riddhi Shankar", "link": "https://stackoverflow.com/users/9734994/riddhi-shankar"}, "reply_to_user": {"reputation": 321906, "user_id": 992484, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/K1mTV.jpg?s=128&g=1", "display_name": "MadProgrammer", "link": "https://stackoverflow.com/users/992484/madprogrammer"}, "edited": false, "score": 0, "creation_date": 1545715539, "post_id": 53919547, "comment_id": 94681572, "body": "Yes, In android, I have applied gradient color to an arc. All I want is arc color should be changed with animation in when OnDraw method of view is called   Please see for animation ,<code>https:&#47;&#47;freakycoder.com&#47;android-notes-55-animated-gradient-&zwnj;&#8203;background-instagram&zwnj;&#8203;-app-login-screen-d8&zwnj;&#8203;d8c363000a</code>  but i dont know how to implement this animation when we draw arc."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 1, "creation_date": 1545716577, "post_id": 53919547, "comment_id": 94681701, "body": "You need to use <i>Path</i> and make calculation as per speed becomes high or low if you&#39;r using custom view with canvas."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545720446, "post_id": 53919547, "comment_id": 94682357, "body": "If possible then share your code!"}, {"owner": {"reputation": 107, "user_id": 9734994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LFfKBpfnwfs/AAAAAAAAAAI/AAAAAAAAAAc/5sUduBiLJ0E/photo.jpg?sz=128", "display_name": "Riddhi Shankar", "link": "https://stackoverflow.com/users/9734994/riddhi-shankar"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545731927, "post_id": 53919547, "comment_id": 94684525, "body": "@Piyush I have added my code now, can you please check it."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545732922, "post_id": 53919547, "comment_id": 94684713, "body": "Do you want to something like <a href=\"https://github.com/vitorhugods/AvatarView\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://github.com/yuriy-budiyev/circular-progress-bar\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://android-arsenal.com/details/1/758\" rel=\"nofollow noreferrer\">this</a>?"}, {"owner": {"reputation": 107, "user_id": 9734994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LFfKBpfnwfs/AAAAAAAAAAI/AAAAAAAAAAc/5sUduBiLJ0E/photo.jpg?sz=128", "display_name": "Riddhi Shankar", "link": "https://stackoverflow.com/users/9734994/riddhi-shankar"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545733341, "post_id": 53919547, "comment_id": 94684781, "body": "@Piyush please check attached images"}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545739016, "post_id": 53919547, "comment_id": 94686124, "body": "So does it work proper? Do you just need animation?"}, {"owner": {"reputation": 107, "user_id": 9734994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LFfKBpfnwfs/AAAAAAAAAAI/AAAAAAAAAAc/5sUduBiLJ0E/photo.jpg?sz=128", "display_name": "Riddhi Shankar", "link": "https://stackoverflow.com/users/9734994/riddhi-shankar"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545740834, "post_id": 53919547, "comment_id": 94686548, "body": "Yes,working fine .. I just want animation. I have used the Swip gradient, the color should be changed smoothly like the link I have sent above from gray to blue gradient or gray to orange gradient @Piyush"}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545894906, "post_id": 53919547, "comment_id": 94721516, "body": "Have you solved this?"}, {"owner": {"reputation": 107, "user_id": 9734994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LFfKBpfnwfs/AAAAAAAAAAI/AAAAAAAAAAc/5sUduBiLJ0E/photo.jpg?sz=128", "display_name": "Riddhi Shankar", "link": "https://stackoverflow.com/users/9734994/riddhi-shankar"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1545896381, "post_id": 53919547, "comment_id": 94721968, "body": "@Piyush not yet, please help me if you can!"}], "owner": {"reputation": 107, "user_id": 9734994, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LFfKBpfnwfs/AAAAAAAAAAI/AAAAAAAAAAc/5sUduBiLJ0E/photo.jpg?sz=128", "display_name": "Riddhi Shankar", "link": "https://stackoverflow.com/users/9734994/riddhi-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1546439474, "creation_date": 1545715134, "last_edit_date": 1546439474, "question_id": 53919547, "link": "https://stackoverflow.com/questions/53919547/i-want-to-draw-arc-with-color-filled-with-animated-gradient", "title": "I want to draw arc with color filled with animated gradient", "body": "<p>I'm drawing multiple arcs on canvas in a circular way, It's like speedometer(but not speedometer) , arc color changed with gradient color when speed reaches to high or low or average, But I want that, gradient color should be changed with animation, like if arc is in black color, when speed becomes high, arc should be changed to red gradient with smooth gradient animation.</p>\n\n<p>I have wasted my lots of time.\nplease help me to solve it out.</p>\n\n<p>Thanks in advance.</p>\n\n<p>This is <code>onDraw()</code> method code:  </p>\n\n<pre><code>override fun onDraw(canvas: Canvas) {\n    val unitMinTempValue = Utils.getUnitCircleDegreeFromThermos(minTempValue.toFloat()).toFloat()\n    val unitMaxTempValue = Utils.getUnitCircleDegreeFromThermos(maxTempValue.toFloat()).toFloat()\n    val unitMinFixTempValue = Utils.getUnitCircleDegreeFromThermos(Const.minFixTemp.toFloat()).toFloat()\n    val unitMaxFixTempValue = Utils.getUnitCircleDegreeFromThermos(Const.maxFixTemp.toFloat()).toFloat()\n\n    matrixGradient = Matrix()\n    matrixGradient?.postRotate(15f)\n\n    canvas.drawArc(mRect!!, unitMinFixTempValue - 2.5f, unitMaxFixTempValue - unitMinFixTempValue + 4.5f, false, mPaintDefault!!)\n\n    if (isEnable) {\n\n        when (mode) {\n            Const.mode_heat_cool -&gt; {\n                canvas.drawArc(mRect!!, unitMinTempValue - 2.5f, unitMaxTempValue - unitMinTempValue + 4.5f, false, mPaintBlack!!)\n\n                when (currentTempValue) {\n                    in 43..(minTempValue - 1) -&gt; {\n                        positions = floatArrayOf(unitMinFixTempValue / 390, unitMinTempValue / 390)\n                        setGradientPosition(Const.orange, positions)\n                        canvas.drawArc(mRect!!, unitMinFixTempValue - 2.5f, unitMinTempValue - unitMinFixTempValue + 4.5f, false, mPaintOrange!!)\n                    }\n                    in minTempValue..(maxTempValue) -&gt; {\n\n                        canvas.drawArc(mRect!!, unitMinTempValue - 2.5f, unitMaxTempValue - unitMinTempValue + 4.5f, false, mPaintBlack!!)\n                    }\n                    in maxTempValue..97 -&gt; {\n\n                        positions = floatArrayOf(unitMaxTempValue / 390f, 1f)\n                        setGradientPosition(Const.blue,position) canvas.drawArc(mRect!!, unitMaxTempValue - 2.5f, unitMaxFixTempValue - unitMaxTempValue + 4.5f, false, mPaintBlue!!)\n                    }\n                }\n\n            }\n\n\n        }\n    }\n}\n\nprivate fun getRect(): RectF {\n\n    centerX = measuredWidth / 2\n    centerY = measuredHeight / 2\n    radius = Math.min(centerX, centerY)\n\n    val startTop = STROKE_WIDTH / 2\n\n    val endBottom = 2 * radius - startTop\n\n    return RectF(startTop.toFloat(), startTop.toFloat(), endBottom.toFloat(), endBottom.toFloat())\n\n}\n\nprivate fun setGradientPosition(type: String, positions: FloatArray) {\n\n    if (type == \"blue\") {\n        colorsBlue?.let {\n            val gradientBlue = SweepGradient(measuredWidth.toFloat() / 2, measuredHeight.toFloat() / 2, it, positions)\n            gradientBlue.setLocalMatrix(matrixGradient)\n            mPaintBlue?.shader = gradientBlue\n        }\n\n\n    } else {\n        colorsOrange?.let {\n            val gradientOrange = SweepGradient(measuredWidth.toFloat() / 2, measuredHeight.toFloat() / 2, it, positions)\n            gradientOrange.setLocalMatrix(matrixGradient)\n            mPaintOrange?.shader = gradientOrange\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eVjbr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eVjbr.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/4GLWw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4GLWw.png\" alt=\"enter image description here\"></a></p>\n\n<p>when red pin moved, draw arc with different angle with different color</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1545713490, "post_id": 53919399, "comment_id": 94681314, "body": "Could you try <code>eventList.clear()</code> and then <code>eventList.addAll(it.personName.getmData())</code> ?"}, {"owner": {"reputation": 782, "user_id": 2031246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGkY.jpg?s=128&g=1", "display_name": "John Le", "link": "https://stackoverflow.com/users/2031246/john-le"}, "edited": false, "score": 0, "creation_date": 1545713971, "post_id": 53919399, "comment_id": 94681373, "body": "Redman answered your question :D. The main reason is that the one(in Activity) and the one(in Apdapter) didn&#39;t keep the same reference of the list"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "edited": false, "score": 0, "creation_date": 1574222822, "post_id": 53919399, "comment_id": 104150851, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/16165728/android-notifydatasetchanged-not-working\">Android: notifyDataSetChanged(); not working</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1545714330, "last_edit_date": 1545714330, "creation_date": 1545713759, "answer_id": 53919446, "question_id": 53919399, "link": "https://stackoverflow.com/questions/53919399/notifydatasetchanged-is-not-working-in-kotlin/53919446#53919446", "title": "notifyDatasetChanged() is not working in Kotlin", "body": "<p>Recyclerview <code>notifyDatasetChanged()</code> will work only until you don't change the reference of the list . But in your receiver you might be changing reference to the list </p>\n\n<pre><code>private fun setRxJavaRecievers() {\n\n    personDisposable = RxBus.listen(RxEvent.RxEventList::class.java).subscribe {\n        eventList = it.personName.getmData()\n        event_list.adapter!!.notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>so instead  do </p>\n\n<pre><code> private fun setRxJavaRecievers() {\n\n    personDisposable = RxBus.listen(RxEvent.RxEventList::class.java).subscribe {\n        eventList.clear()\n        eventList.addAll(it.personName.getmData())\n        event_list.adapter!!.notifyDataSetChanged()\n    }\n}\n</code></pre>\n\n<p>or set the adapter again to make it work</p>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7237, "favorite_count": 0, "accepted_answer_id": 53919446, "answer_count": 1, "score": 2, "last_activity_date": 1545735971, "creation_date": 1545713070, "last_edit_date": 1545735971, "question_id": 53919399, "link": "https://stackoverflow.com/questions/53919399/notifydatasetchanged-is-not-working-in-kotlin", "title": "notifyDatasetChanged() is not working in Kotlin", "body": "<ul>\n<li><code>notifyDatasetChanged()</code> is not working, But instead of\n<code>notifydatasetChanged()</code>, if i pass the <code>eventList</code> with data to\nadapter directly after initializing <code>recyclerview</code> list loads fine.</li>\n<li>How to resolve this</li>\n</ul>\n\n<hr>\n\n<p><strong>ActEvents.kt</strong></p>\n\n<pre><code>class ActEvents : AppCompatActivity(){\n\n    // Initializing an empty ArrayList to be filled with animals\n    var eventList: MutableList&lt;TestModel&gt; = ArrayList()\n\n    @set:Inject var retrofit: Retrofit? = null\n\n    private lateinit var personDisposable: Disposable\n\n    /******************* Life Cycle Methods *************************/\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        initOnCreate()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        initOnDestroy()\n    }\n\n    override fun onSupportNavigateUp(): Boolean {\n        onBackPressed()\n        return true\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        initOnCreateOptionsMenu(menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean { return initOnOptionsItemSelected(item) }\n    /******************* Life Cycle Methods *************************/\n\n\n    /******************** Subscribers *******************************/\n    private fun setRxJavaRecievers() {\n\n        personDisposable = RxBus.listen(RxEvent.RxEventList::class.java).subscribe {\n            eventList = it.personName.getmData()\n            event_list.adapter!!.notifyDataSetChanged()\n        }\n    }\n    /******************** Subscribers *******************************/\n\n    /******************* Init Methods *******************************/\n    /** Init On Create **/\n    private fun initOnCreate() {\n        //Set up the UI\n        setContentView(R.layout.act_events)\n        //Inject Dagger Component\n        (application as CaringApp).netComponent.inject(this)\n        //Set up toolbar\n        setToolbar()\n        //Set up the recycler view\n        initRecyclerView()\n        //Set Rx java receivers\n        setRxJavaRecievers()\n\n    }\n\n\n\n    /** Init On Destroy **/\n    private fun initOnDestroy() {\n        //Un Register disposable\n        if (!personDisposable.isDisposed) personDisposable.dispose()\n    }\n\n\n    /** Initialize recyclerView **/\n    private fun initRecyclerView() {\n        val mLayoutManager = LinearLayoutManager(applicationContext)\n        event_list.layoutManager = mLayoutManager\n        event_list.itemAnimator = DefaultItemAnimator()\n        event_list.adapter = AdptEvents(eventList,this)\n    }\n\n\n    /******************* Init Methods *******************************/\n\n}\n</code></pre>\n\n<p><strong>AdptEvents.kt</strong></p>\n\n<pre><code>class AdptEvents (val items: MutableList&lt;TestModel&gt;, val context: Context) : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, p1: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(context).inflate(R.layout.row_event, parent, false))\n    }\n\n    override fun getItemCount(): Int {\n        return items.size\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.tvAnimalType.text = items[position].getName()\n    }\n\n}\n\nclass ViewHolder (view: View) : RecyclerView.ViewHolder(view) {\n    // Holds the TextView that will add each animal to\n    val tvAnimalType = view.txtTitle!!\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-jetpack", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 2372, "user_id": 7954210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cmlwe.gif?s=128&g=1", "display_name": "Mouaad Abdelghafour AITALI", "link": "https://stackoverflow.com/users/7954210/mouaad-abdelghafour-aitali"}, "edited": false, "score": 0, "creation_date": 1545693231, "post_id": 53918194, "comment_id": 94679299, "body": "can you please more,what do you mean by &quot; I want when user go to FragmentA add TabLayout to AppBarLayout &quot;"}, {"owner": {"reputation": 55, "user_id": 8191360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d081885a1b43181155f7510db3cdda0?s=128&d=identicon&r=PG", "display_name": "Mohamed Hamdan", "link": "https://stackoverflow.com/users/8191360/mohamed-hamdan"}, "reply_to_user": {"reputation": 2372, "user_id": 7954210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cmlwe.gif?s=128&g=1", "display_name": "Mouaad Abdelghafour AITALI", "link": "https://stackoverflow.com/users/7954210/mouaad-abdelghafour-aitali"}, "edited": false, "score": 0, "creation_date": 1545694379, "post_id": 53918194, "comment_id": 94679440, "body": "I mean I have main fragment FragmentA this fragment contains one button and there is no TabLayout in the AppBarLayout I need when user clicks on button move destination from FragmentA to FragmentB and show TabLayout in AppBarLayout like YouTube app @pic"}, {"owner": {"reputation": 2372, "user_id": 7954210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cmlwe.gif?s=128&g=1", "display_name": "Mouaad Abdelghafour AITALI", "link": "https://stackoverflow.com/users/7954210/mouaad-abdelghafour-aitali"}, "edited": false, "score": 0, "creation_date": 1545694832, "post_id": 53918194, "comment_id": 94679490, "body": "try to create a TabLayout in your Main Activity and hide it in FragmentA when you switch to FragmentB visible it"}, {"owner": {"reputation": 55, "user_id": 8191360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d081885a1b43181155f7510db3cdda0?s=128&d=identicon&r=PG", "display_name": "Mohamed Hamdan", "link": "https://stackoverflow.com/users/8191360/mohamed-hamdan"}, "reply_to_user": {"reputation": 2372, "user_id": 7954210, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cmlwe.gif?s=128&g=1", "display_name": "Mouaad Abdelghafour AITALI", "link": "https://stackoverflow.com/users/7954210/mouaad-abdelghafour-aitali"}, "edited": false, "score": 0, "creation_date": 1545752250, "post_id": 53918194, "comment_id": 94688996, "body": "@pic this is just an example i need also to add CollapsingToolbarLayout and other views based on fragment so i can&#39;t add multiple views and show/hide, i need do this with clean way"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 4917907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3_ORmetGvxk/AAAAAAAAAAI/AAAAAAAAC5U/vYMWFVYpqPo/photo.jpg?sz=128", "display_name": "Ronan", "link": "https://stackoverflow.com/users/4917907/ronan"}, "edited": false, "score": 0, "creation_date": 1548694757, "post_id": 54406807, "comment_id": 95624451, "body": "This is only my second SO answer, it can likely be improved, comments and corrections are appreciated. Specifically, I&#39;m not certain onActivityCreated is the best lifecycle step to call the interface, or if the Object.equals is useful for a boolean comparison in Kotlin."}], "tags": [], "owner": {"reputation": 159, "user_id": 4917907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3_ORmetGvxk/AAAAAAAAAAI/AAAAAAAAC5U/vYMWFVYpqPo/photo.jpg?sz=128", "display_name": "Ronan", "link": "https://stackoverflow.com/users/4917907/ronan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548694995, "last_edit_date": 1548694995, "creation_date": 1548694632, "answer_id": 54406807, "question_id": 53918194, "link": "https://stackoverflow.com/questions/53918194/how-to-change-appbarlayout-content-based-on-navigation-library-destination/54406807#54406807", "title": "How to change AppBarLayout content based on Navigation library destination", "body": "<p>Here is a proposed solution that aims to limit the coupling of the fragment and the activity to the minimum.</p>\n\n<p>The TabLayout is shown or hidden based on a Boolean LiveData object, hosted in a ViewModel shared by the activity and each fragment destination.<br>\nEach destination is responsible for setting the appropriate boolean value to the LiveData object, and the activity observes the LiveData object to show or hide the TabLayout.</p>\n\n<p>To be able to use the TabLayout, the fragment declares an interface which the Activity must implement, and which contains a single method used to get a reference to the TabLayout.</p>\n\n<p>Here are corresponding code samples, in Kotlin.</p>\n\n<p><strong>MainActivityViewModel</strong></p>\n\n<pre><code>class MainActivityViewModel internal constructor() : ViewModel() {\n\n    val tabLayoutDestination = MutableLiveData&lt;Boolean&gt;()\n\n    fun setTabLayoutDestination(newValue : Boolean) {\n        //If the new value is the same, do not trigger an update\n        if (Objects.equals(tabLayoutDestination.value, newValue)) return\n        tabLayoutDestination.value = newValue\n    }\n}\n</code></pre>\n\n<p><strong>ExampleFragment</strong></p>\n\n<pre><code>class ExampleFragment : Fragment() {\n\n    private lateinit var viewPager: ViewPager\n    private lateinit var activityViewModel : MainActivityViewModel\n    private var tabLayout: TabLayout? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        ...\n        val binding = FragmentExampleBinding.inflate(inflater, container, false)\n        val context = context ?: return binding.root\n\n        //Get the activity's ViewModel and specify that this destination requires a TabLayout\n        val mainViewModelFactory = InjectorUtils.provideMainActivityViewModelFactory()\n        activityViewModel = ViewModelProviders.of(activity!!, mainViewModelFactory)\n                .get(MainActivityViewModel::class.java)\n        activityViewModel.setTabLayoutDestination(true)\n\n        viewPager = binding.viewpager\n\n        return binding.root\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        //If the parent activity implements the interface, get a reference to its TabLayout\n        val parentActivity = if(activity is TabLayoutHost) activity as TabLayoutHost else return\n        tabLayout = parentActivity.getTabLayoutReference()\n\n        //Setup the TabLayout and ViewPager\n        tabLayout?.setupWithViewPager(viewPager)\n        viewPager.addOnPageChangeListener(TabLayout.TabLayoutOnPageChangeListener(tabLayout))\n    }\n\n    //The interface which must be implemented by the parent activity\n    interface TabLayoutHost {\n        fun getTabLayoutReference() : TabLayout\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity(), ExampleFragment.TabLayoutHost {\n\n    private lateinit var activityViewModel : MainActivityViewModel\n    private lateinit var tabLayout: TabLayout\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val binding: ActivityMainBinding = DataBindingUtil.setContentView(this,\n                R.layout.activity_main)\n\n        //Get the viewmodel\n        val mainViewModelFactory = InjectorUtils.provideMainActivityViewModelFactory()\n        activityViewModel = ViewModelProviders.of(this, mainViewModelFactory)\n                .get(MainActivityViewModel::class.java)\n\n        //Get a reference to the TabLayout\n        TabLayout = binding.tabLayout\n\n        //Subscribe to the boolean livedata, to be able to make \n        //the appropriate UI changes according to the fragment displayed\n        activityViewModel.tabLayoutDestination.observe(this, Observer { \n                if(it == true ) updateUiForTabLayoutDestination() \n                else updateUiForOtherDestination() \n        })\n    }\n\n    override fun getTabLayoutReference() = tabLayout\n\n    private fun updateUiForTabLayoutDestination() {\n        tabLayout.visibility = View.VISIBLE\n    }\n\n    private fun updateUiForOtherDestination() {\n        tabLayout.visibility = View.GONE\n    }\n}\n</code></pre>\n\n<p>Those samples make use of several jetpack components (LiveData, ViewModel and Binding), and were derived from the <a href=\"https://github.com/googlesamples/android-sunflower\" rel=\"nofollow noreferrer\">sunflower sample app</a> provided by Google.</p>\n\n<p>The LiveData solution was inspired by <a href=\"https://stackoverflow.com/a/50734424/4917907\">this answer</a>.</p>\n\n<p>The example given here is for a TabLayout, but I've successfully applied it for other views (a progress bar and a fixed table header) by getting a reference to the whole AppBarLayout and calling findViewById to retrieve each view.</p>\n"}], "owner": {"reputation": 55, "user_id": 8191360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d081885a1b43181155f7510db3cdda0?s=128&d=identicon&r=PG", "display_name": "Mohamed Hamdan", "link": "https://stackoverflow.com/users/8191360/mohamed-hamdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 556, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548694995, "creation_date": 1545691868, "last_edit_date": 1545752767, "question_id": 53918194, "link": "https://stackoverflow.com/questions/53918194/how-to-change-appbarlayout-content-based-on-navigation-library-destination", "title": "How to change AppBarLayout content based on Navigation library destination", "body": "<p>I need to change my AppBarLayout based on Navigation component destination for example I have FragmentA and FragmentB I want when user go to FragmentA add TabLayout to AppBarLayout like YouTube application</p>\n\n<p><img src=\"https://i.ibb.co/zNKfgTr/Screenshot-20181225-004200-You-Tube.jpg\" alt=\"Example\"></p>\n\n<p>I have tried to add TabLayout to the activity and hide/show it based on navigation destination, But I found it useless because I need to access Activity and after that I need to findViewById and set ViewPager but I need to do that with new android Navigation component and clean code</p>\n\n<p>This is how i implementing Navigation component</p>\n\n<pre><code>    bnvActivityMainNavigation.setupWithNavController(navController)\n    setupWithNavController(vnActivityMain, navController)\n    setupActionBarWithNavController(navController)\n    setupActionBarWithNavController(navController, dlActivityMainRoot)\n    toolbar?.setNavigationOnClickListener { onSupportNavigateUp() }\n</code></pre>\n\n<p>There is any suggestions??</p>\n"}, {"tags": ["java", "kotlin", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545691923, "post_id": 53918156, "comment_id": 94679153, "body": "Why don&#39;t <code>flatMap</code> the <code>Single</code> to the other <code>Observable</code>?"}, {"owner": {"reputation": 65, "user_id": 9310431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LjYAPEK1EnA/AAAAAAAAAAI/AAAAAAAALUM/fR8OqexdKgE/photo.jpg?sz=128", "display_name": "carlos sanchez", "link": "https://stackoverflow.com/users/9310431/carlos-sanchez"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545692374, "post_id": 53918156, "comment_id": 94679204, "body": "Because maybe in some cases the someSingle will use two elemens of the dataStream, maybe will use the data given by &quot;hello&quot; but also needs to use the data given from &quot;world&quot; and need the both data to generate the <code>Single.just(&quot;hello world&quot;)</code> . How i would do that?"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545693156, "post_id": 53918156, "comment_id": 94679289, "body": "It not clear in your question what you&#39;re trying to archive, Even though your code is equivalent to <code>val someSingle = dataStream.filter { it == &quot;somethingiwant&quot; }.map {...}.singleOrError()</code>"}, {"owner": {"reputation": 65, "user_id": 9310431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LjYAPEK1EnA/AAAAAAAAAAI/AAAAAAAALUM/fR8OqexdKgE/photo.jpg?sz=128", "display_name": "carlos sanchez", "link": "https://stackoverflow.com/users/9310431/carlos-sanchez"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545693803, "post_id": 53918156, "comment_id": 94679369, "body": "Yes, but in your answer in the <b>map</b>  i will only have the the scope of the element <b>&quot;somethingiwant&quot;</b> if i do something like: <code>someSingle = dataStream.filter { it == &quot;hello&quot; || it == &quot;world&quot; }.map {...}.singleOrError() </code> i would only have the scoope of the hello and world in separate scopes i need to have the two elements in the same scope, something like a zip. but idk how to archive that."}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545709858, "post_id": 53918156, "comment_id": 94680925, "body": "That&#39;s not what you are asking in your question, Then indeed you can use zip operator <code>val someSingle = Observables.zip(dataStream.filter { it == &quot;hello&quot; }, dataStream.filter { it == &quot;world&quot; })         .map { (a, b) -&gt;&quot;$a $b&quot; }         .singleOrError()</code>"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545709937, "post_id": 53918156, "comment_id": 94680934, "body": "My advice is, avoid subscribing to an <code>Observable</code> inside another, most of the time yo can get the same result by composing them"}, {"owner": {"reputation": 65, "user_id": 9310431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LjYAPEK1EnA/AAAAAAAAAAI/AAAAAAAALUM/fR8OqexdKgE/photo.jpg?sz=128", "display_name": "carlos sanchez", "link": "https://stackoverflow.com/users/9310431/carlos-sanchez"}, "reply_to_user": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "edited": false, "score": 0, "creation_date": 1545755323, "post_id": 53918156, "comment_id": 94689612, "body": "Thanks for your time and your answer. <code>Observables.zip(dataStream.filter { it == &quot;hello&quot; }, dataStream.filter { it == &quot;world&quot; }) .map { (a, b) -&gt;&quot;$a $b&quot; } .singleOrError()</code> works for me. You are right, is much better opperate over the observable instead doing another subscription. I was thinking i couldn&#39;t operate over the observable."}], "owner": {"reputation": 65, "user_id": 9310431, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LjYAPEK1EnA/AAAAAAAAAAI/AAAAAAAALUM/fR8OqexdKgE/photo.jpg?sz=128", "display_name": "carlos sanchez", "link": "https://stackoverflow.com/users/9310431/carlos-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545691669, "creation_date": 1545691333, "last_edit_date": 1545691669, "question_id": 53918156, "link": "https://stackoverflow.com/questions/53918156/how-to-subscribe-an-observable-who-needs-another-hot-subscription-rxjava", "title": "How to subscribe an observable who needs another hot subscription - RxJava", "body": "<p>I  need to subscribe to an observable who needs another observable to subscribe. Something like: </p>\n\n<pre><code>val someSingle = Single.create&lt;Response&gt;{singleEmmiter -&gt;\n        dataStream.subscribe {elementInDataStream-&gt;\n            if(elementInDataStream == \"somethingiwant\"){\n                .\n                .\n                .\n                val someresponse = //someCode\n                singleEmmiter.onSuccess(someResponse)\n            }\n        }\n    }\n</code></pre>\n\n<p>I have to something like that because in the dataStream i can have anything and maybe i can use more than one element of the dataStream object (so i think i cannot do opperations like filter on the dataStream).\nWhere the dataStream is an instance of <strong>ConnectableObservable (Hot observable)</strong></p>\n\n<pre><code>val dataStream = listOf(\"hello\",\"world\", \"somethingiwant\").toObservable().publish()\n</code></pre>\n\n<p>Then i have something like: </p>\n\n<pre><code>someSingle.blockingGet()\ndataStream.connect()\n</code></pre>\n\n<p>This code will never end because someSingle is generating blocking wait and is wating for some elemement in the dataStream but the dataStream is not sending any element yet. Generating an infinit block.</p>\n\n<p>If i change the code like this: </p>\n\n<pre><code>dataStream.connect()   \nsomeSingle.blockingGet()\n</code></pre>\n\n<p>It generates a concurrency problem because maybe the element \n<strong>\"somethingiwant\"</strong> was already published on the hot observable so my block will never end.</p>\n\n<p>Maybe some solution is to use <strong>ReplaySubject</strong> instead of <strong>ConnectableObservable</strong> but i think is not an optimal solution. </p>\n\n<p><strong>Note: I need to use a blocking get because the response that i want from the blocking get is the controller response.</strong></p>\n"}, {"tags": ["android", "kotlin", "android-viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "edited": false, "score": 0, "creation_date": 1545689125, "post_id": 53917877, "comment_id": 94678797, "body": "Thanks @CommonsWare"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 23, "last_activity_date": 1545687732, "creation_date": 1545687732, "answer_id": 53917877, "question_id": 53917868, "link": "https://stackoverflow.com/questions/53917868/property-getter-or-setter-expected-in-kotlin-viewmodel-class/53917877#53917877", "title": "property getter or setter expected in Kotlin ViewModel class", "body": "<p>Most likely, replace:</p>\n\n<pre><code>val person: ObservableField&lt;Person&gt;()\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>val person = ObservableField&lt;Person&gt;()\n</code></pre>\n\n<p>This sets up <code>person</code> to be initialized with the <code>ObservableField&lt;Person&gt;</code> that you are creating.</p>\n"}, {"tags": [], "owner": {"reputation": 2792, "user_id": 4853835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pDbHU.jpg?s=128&g=1", "display_name": "ygngy", "link": "https://stackoverflow.com/users/4853835/ygngy"}, "is_accepted": false, "score": 4, "last_activity_date": 1545739147, "last_edit_date": 1545739147, "creation_date": 1545689027, "answer_id": 53917988, "question_id": 53917868, "link": "https://stackoverflow.com/questions/53917868/property-getter-or-setter-expected-in-kotlin-viewmodel-class/53917988#53917988", "title": "property getter or setter expected in Kotlin ViewModel class", "body": "<p>looking at your code:</p>\n\n<pre><code>val person: ObservableField&lt;Person&gt;()\n</code></pre>\n\n<p>you have a simple <strong>syntax error</strong> the <strong>parentheses after type!</strong> remove them or change colon to assign sign:</p>\n\n<pre><code>val person: ObservableField&lt;Person&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val person = ObservableField&lt;Person&gt;()\n</code></pre>\n"}], "owner": {"reputation": 8398, "user_id": 1315447, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6YH8k.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1315447/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2576, "favorite_count": 1, "accepted_answer_id": 53917877, "answer_count": 2, "score": 6, "last_activity_date": 1545739147, "creation_date": 1545687623, "question_id": 53917868, "link": "https://stackoverflow.com/questions/53917868/property-getter-or-setter-expected-in-kotlin-viewmodel-class", "title": "property getter or setter expected in Kotlin ViewModel class", "body": "<p>I have following ViewModel class :</p>\n\n<pre><code>class PersonViewModel(\n        context: Application,\n        private val dataSource: MoviesRemoteDataSource)\n    : AndroidViewModel(context) {\n\n    internal val compositeDisposable = CompositeDisposable()\n    val person: ObservableField&lt;Person&gt;()\n    private val isVisible = ObservableBoolean(false)\n\n    fun showPerson(personId: String) {\n        val personSubscription = dataSource.getPerson(personId)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ person -&gt;\n                    isVisible.set(true)\n                    this.person.set(person)\n                }\n                ) { throwable -&gt; Timber.e(throwable) }\n\n        compositeDisposable.add(personSubscription)\n    }\n}\n</code></pre>\n\n<p>And this is Person class : </p>\n\n<pre><code>class Person(\n        @SerializedName(\"birthday\")\n        var birthDay: String?,\n        @SerializedName(\"deathday\")\n        var deathDay: String?,\n        var id: Int,\n        @SerializedName(\"also_known_as\")\n        var alsoKnowAs: List&lt;String&gt;,\n        var biography: String,\n        @SerializedName(\"place_of_birth\")\n        var placeOfBirth: String?)\n</code></pre>\n\n<p>It shows an error on this line in ViewModel:</p>\n\n<pre><code>val person: ObservableField&lt;Person&gt;()\n</code></pre>\n\n<p>It says : <code>property getter or setter expected</code></p>\n\n<p>I appreciate for your help.</p>\n"}, {"tags": ["kotlin", "spring-webflux", "spring-restdocs"], "answers": [{"tags": [], "owner": {"reputation": 3290, "user_id": 4916898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdueC.jpg?s=128&g=1", "display_name": "Arnaud Develay", "link": "https://stackoverflow.com/users/4916898/arnaud-develay"}, "is_accepted": true, "score": 3, "last_activity_date": 1546006122, "creation_date": 1546006122, "answer_id": 53959827, "question_id": 53917809, "link": "https://stackoverflow.com/questions/53917809/adding-path-to-base-url-in-spring-rest-docs/53959827#53959827", "title": "Adding path to base url in Spring Rest Docs?", "body": "<p>To document another URI than the one called to generate documentation, you have to write your own <code>OperationPreprocessor</code>. There are some predefined like <code>Preprocessors.modifyUris</code> but it does not allow to modify the request path.</p>\n\n<p>Check below the webTestClient configuration and the <code>URIUpdaterOperationRequest</code> class. Code is available on GitHub: <a href=\"https://github.com/Query-Interface/SO-Answers/blob/master/java/spring/rest-docs-modify-uripath/src/test/java/com/example/demo/DemoApplicationTests.java\" rel=\"nofollow noreferrer\">https://github.com/Query-Interface/SO-Answers/blob/master/java/spring/rest-docs-modify-uripath/src/test/java/com/example/demo/DemoApplicationTests.java</a></p>\n\n<pre><code>public void init() throws Exception {\n    final URIUpdaterPreprocessor preprocessor = new URIUpdaterPreprocessor();\n    webTestClient = webTestClient.mutate()\n        .filter((documentationConfiguration(this.restDocumentation)\n                .operationPreprocessors()\n                    .withRequestDefaults(preprocessor)\n                    .withResponseDefaults(prettyPrint()))\n                )\n        .build();\n}\n\nprivate static final class URIUpdaterPreprocessor\n    implements OperationPreprocessor {\n\n    @Override\n    public OperationRequest preprocess(OperationRequest request) {\n        return new URIUpdaterOperationRequest(request);\n    }\n\n    @Override\n    public OperationResponse preprocess(OperationResponse response) {\n        return response;\n    }\n\n}\n\nprivate static final class URIUpdaterOperationRequest\n    implements OperationRequest {\n\n    private OperationRequest delegate;\n\n    public URIUpdaterOperationRequest(OperationRequest request) {\n        delegate = request;\n    }\n\n    public byte[] getContent() {\n        return delegate.getContent();\n    }\n\n    public String getContentAsString() {\n        return delegate.getContentAsString();\n    }\n\n    public HttpHeaders getHeaders() {\n        return delegate.getHeaders();\n    }\n\n    public HttpMethod getMethod() {\n        return delegate.getMethod();\n    }\n\n    public Parameters getParameters() {\n        return delegate.getParameters();\n    }\n\n    public Collection&lt;OperationRequestPart&gt; getParts() {\n        return delegate.getParts();\n    }\n\n    public URI getUri() {\n        URI sourceUri = delegate.getUri();\n        UriComponentsBuilder builder = UriComponentsBuilder.fromUri(sourceUri);\n        return builder\n            .host(sourceUri.getHost())\n            .replacePath(\"/service/foo\"+sourceUri.getPath())\n            .build().toUri();\n    }\n\n    public Collection&lt;RequestCookie&gt; getCookies() {\n        return delegate.getCookies();\n    }\n}\n</code></pre>\n\n<p>I think another possibilty is to update the mustache templates so as to add a prefix before all request path references. The default templates are <a href=\"https://github.com/spring-projects/spring-restdocs/tree/v2.0.3.RELEASE/spring-restdocs-core/src/main/resources/org/springframework/restdocs/templates\" rel=\"nofollow noreferrer\">located here on github</a>.</p>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 1, "accepted_answer_id": 53959827, "answer_count": 1, "score": 3, "last_activity_date": 1546006122, "creation_date": 1545687040, "last_edit_date": 1545918802, "question_id": 53917809, "link": "https://stackoverflow.com/questions/53917809/adding-path-to-base-url-in-spring-rest-docs", "title": "Adding path to base url in Spring Rest Docs?", "body": "<p>I have following configuration to use with Rest Docs:</p>\n\n<pre><code>webTestClient = buildWebClient().mutate()\n  .filter(documentationConfiguration(restDocumentation))\n  .baseUrl(\"https://api.my-domain.com/\")\n  .build()\n</code></pre>\n\n<p>In my case I use path prefix to my service - <code>service/foo</code> since I use k8s ingress and my service is served on path offset.</p>\n\n<p>Is there a way to insert such prefix without modifying production code?</p>\n\n<p>Related documentation fragment:</p>\n\n<p><a href=\"https://docs.spring.io/spring-restdocs/docs/current/reference/html5/#configuration-uris-webtestclient\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-restdocs/docs/current/reference/html5/#configuration-uris-webtestclient</a></p>\n"}, {"tags": ["reactjs", "webpack", "kotlin", "sass", "create-react-kotlin-app"], "comments": [{"owner": {"reputation": 214, "user_id": 579083, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/07d5e23491c039f98790156811659c4a?s=128&d=identicon&r=PG", "display_name": "gabereal", "link": "https://stackoverflow.com/users/579083/gabereal"}, "edited": false, "score": 0, "creation_date": 1603485583, "post_id": 53917489, "comment_id": 114062904, "body": "Did you ever get this to work?"}], "owner": {"reputation": 241, "user_id": 7669443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40784e4d68eaf128cdce1b9acfc99e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Harlan Lacson", "link": "https://stackoverflow.com/users/7669443/victor-harlan-lacson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 0, "score": 8, "last_activity_date": 1545685352, "creation_date": 1545683725, "question_id": 53917489, "link": "https://stackoverflow.com/questions/53917489/how-to-use-sass-scss-in-create-react-kotlin-app", "title": "How to use sass/scss in create-react-kotlin-app", "body": "<p>I'm trying use scss in a kotlin-react application using create-react-kotlin-app in node for easy bootstrapping, but I'm stuck with setting the configuration to make it work</p>\n\n<p>I already ejected, so I can manually edit the webpack config. I already added the following to dev config and the corresponding equivalent to prod.</p>\n\n<pre><code>  {\n    test: /\\.scss$/,\n    use: [\n      require.resolve('style-loader'),\n      {\n        loader: require.resolve('sass-loader'),\n        options: {\n          importLoaders: 1,\n        },\n      },\n      {\n        loader: require.resolve('postcss-loader'),\n        options: {\n          ident: 'postcss', // https://webpack.js.org/guides/migrating/#complex-options\n          plugins: () =&gt; [\n            require('postcss-flexbugs-fixes'),\n            autoprefixer({\n              browsers: [\n                '&gt;1%',\n                'last 4 versions',\n                'Firefox ESR',\n                'not ie &lt; 9', // React doesn't support IE8 anyway\n              ],\n              flexbox: 'no-2009',\n            }),\n          ],\n        },\n      },\n    ],\n  },\n</code></pre>\n\n<p>modified package.json with and run npm install</p>\n\n<pre><code>\"babel\": {\n \"presets\": [\n   \"react-app\"\n ],\n \"plugins\": [\n   [\n     \"babel-plugin-react-css-modules\",\n     {\n       \"filetypes\": {\n         \".scss\": {\n           \"syntax\": \"postcss-scss\"\n         }\n       }\n     }\n   ]\n ]\n}\n</code></pre>\n\n<p>and also added to index.kt</p>\n\n<pre><code>requireAll(require.context(\"src\", true, js(\"/\\\\.scss$/\")))\n</code></pre>\n\n<p>the latest config of create-react-app in node already supports scss, so I follow this tutorial <a href=\"https://medium.com/front-end-weekly/how-to-add-sass-or-scss-to-create-react-app-c303dae4b5bc\" rel=\"noreferrer\">https://medium.com/front-end-weekly/how-to-add-sass-or-scss-to-create-react-app-c303dae4b5bc</a> since the ejected result of webpack config in the create-react-kotlin app is almost the same, but still got no luck.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 4045664, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/GYCvB.jpg?s=128&g=1", "display_name": "Baqar Gogia", "link": "https://stackoverflow.com/users/4045664/baqar-gogia"}, "is_accepted": false, "score": 3, "last_activity_date": 1545679526, "creation_date": 1545679526, "answer_id": 53917075, "question_id": 53916788, "link": "https://stackoverflow.com/questions/53916788/kapt3-build-generated-errors/53917075#53917075", "title": "kapt3 build generated errors", "body": "<p>Fixed Update, one of the packages name was \"abstract\" and after generateStubs it was generating \"com.bla.bal.abstract.Class\"  where abstract is language modifier and because of it threw error</p>\n"}, {"tags": [], "owner": {"reputation": 582, "user_id": 5855551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVx9I.jpg?s=128&g=1", "display_name": "Neha Chauhan", "link": "https://stackoverflow.com/users/5855551/neha-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1545821288, "creation_date": 1545821288, "answer_id": 53930985, "question_id": 53916788, "link": "https://stackoverflow.com/questions/53916788/kapt3-build-generated-errors/53930985#53930985", "title": "kapt3 build generated errors", "body": "<pre><code>kapt deps.dagger.android_support_compiler\nkapt deps.dagger.compiler\n</code></pre>\n\n<p>dagger.android_support_compiler = \"com.google.dagger:dagger-android-processor:$versions.dagger\"</p>\n\n<p>Add this >> kapt \"com.google.dagger:dagger-android-processor:$versions.dagger\"</p>\n"}], "owner": {"reputation": 361, "user_id": 4045664, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/GYCvB.jpg?s=128&g=1", "display_name": "Baqar Gogia", "link": "https://stackoverflow.com/users/4045664/baqar-gogia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1545821288, "creation_date": 1545676697, "last_edit_date": 1545677572, "question_id": 53916788, "link": "https://stackoverflow.com/questions/53916788/kapt3-build-generated-errors", "title": "kapt3 build generated errors", "body": "<p><a href=\"https://i.stack.imgur.com/ni8vt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ni8vt.png\" alt=\"enter image description here\"></a></p>\n\n<p>this is how my gradle looks</p>\n\n<pre><code>//Dagger DI\nimplementation 'com.google.dagger:dagger:2.10'\nkapt 'com.google.dagger:dagger-compiler:2.10'\ncompileOnly 'org.glassfish:javax.annotation:10.0-b28'\n\n//Retrofit &amp; OkHttp\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.12' \nimplementation 'com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0'\nimplementation 'com.squareup.retrofit2:retrofit:2.4.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\nimplementation 'com.squareup.okhttp3:okhttp:3.12.1'\nimplementation 'com.google.code.gson:gson:2.8.2'\n</code></pre>\n\n<p>after build it generates retrofit implementation classes with errors, there are too many of them and this is part of this error logs.</p>\n\n<p>this is Dagger component </p>\n\n<pre><code>   @Singleton\n   @Component(modules = [(RetrofitModule::class)])\n   interface AppDependencyComponent {\n\n   }\n</code></pre>\n\n<p>this is RetrofitModule.class</p>\n\n<pre><code>@Module\nclass RetrofitModule {\n\n   @Provides\n   @Singleton\n   fun authenticateService(): AuthenticateService {\n       return RetrofitConfig().authenticateService\n   }\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1545836502, "creation_date": 1545836502, "answer_id": 53933708, "question_id": 53916624, "link": "https://stackoverflow.com/questions/53916624/intellij-idea-removing-the-character-after-on-reformatting-code/53933708#53933708", "title": "IntelliJ IDEA removing the character after on reformatting code", "body": "<p>I am afraid this is just a simple <kbd>Insert</kbd> key that switches the input mode between insert (a thin cursor) and replace (a fat, character sized cursor).</p>\n"}], "owner": {"reputation": 1, "user_id": 10829946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78933bb582d0018a4df24937ee465a4?s=128&d=identicon&r=PG&f=1", "display_name": "Batman Singh", "link": "https://stackoverflow.com/users/10829946/batman-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545836502, "creation_date": 1545675440, "question_id": 53916624, "link": "https://stackoverflow.com/questions/53916624/intellij-idea-removing-the-character-after-on-reformatting-code", "title": "IntelliJ IDEA removing the character after on reformatting code", "body": "<p>IntelliJ removes the character after while reformatting. For example if I misspelled \"Father\" as \"Fathr\" and want to add an \"e\" afterwards, the editor removes the \"r\" on adding \"e\". I'm new to Kotlin and would really appreciate some help.</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545675703, "post_id": 53916377, "comment_id": 94676044, "body": "add please code for <code>handleEntry</code> function."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545722727, "post_id": 53916377, "comment_id": 94682782, "body": "by &quot;join never returns&quot; do you mean the thread is blocked and the app is hung? The <code>main</code> function does not complete?"}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545733223, "post_id": 53916377, "comment_id": 94684756, "body": "Yes. It will wait indefinitely for the job to complete. I checked: The child jobs do complete and get destroyed, until the supervisor does not have any children left. But the job never enters the complete-state itself."}, {"owner": {"reputation": 127, "user_id": 4288004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71a13ea10117773c01ac54bd2ca2a57?s=128&d=identicon&r=PG&f=1", "display_name": "xuiqzy", "link": "https://stackoverflow.com/users/4288004/xuiqzy"}, "edited": false, "score": 0, "creation_date": 1601564421, "post_id": 53916377, "comment_id": 113452689, "body": "Seems like if you <code>cancel</code> the <code>SupervisorJob</code> it cancels all its childern and you <i>can</i> wait for its and its childern completion then with <code>join</code>. But of course you get a maybe unwanted <code>CancellationException</code> in each child job which leads to stopping execution if it calls some <code>suspend</code> function."}], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1545739951, "post_id": 53921874, "comment_id": 94686354, "body": "While this would work, I am pretty sure, this is not the intended solution. The documentation of join explicitly states, that the child jobs must be complete, too. Also, since the supervisor itself has no job assigned, it should switch to the completed state immediately after starting the job. Starting the job happens, both when child jobs are launched and when join() is called. At some point during development, there existed a function called joinChildren(). But its gone now."}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1545741448, "post_id": 53921874, "comment_id": 94686700, "body": "But yeah, since I probably did not understand something completely wrong, I&#39;ll have to do it that way"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 3, "last_activity_date": 1545756173, "last_edit_date": 1545756173, "creation_date": 1545736786, "answer_id": 53921874, "question_id": 53916377, "link": "https://stackoverflow.com/questions/53916377/how-to-join-a-kotlin-supervisorjob/53921874#53921874", "title": "How to join a Kotlin SupervisorJob", "body": "<p>It seems the <code>Job</code> that is used to create <code>CoroutineContext</code> (in your case <code>SupervisorJob</code>) is not intended for waiting child coroutines to finish, so you can't use <code>job.join()</code>. I guess the main intent of that <code>Job</code> is to cancel child coroutines. Changing <code>runBlocking</code> block to the following will work:</p>\n\n<pre><code>runBlocking {\n    job.children.forEach {\n        it.join()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1545749952, "post_id": 53922964, "comment_id": 94688529, "body": "in fact I use the supervisor job, because I launch multiple child jobs from it (handleEntry recursively launches more jobs) and I want them to be able to fail independently without interrupting the whole process."}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1545750208, "post_id": 53922964, "comment_id": 94688588, "body": "But the solution does not work. Instead of blocking indefinitely, the master job waits for handleEntry() to finish and instantly switches to the completed state: join() returns. However, the additional jobs launched within handleEntry (using the scope parameter) are still running."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1545755016, "post_id": 53922964, "comment_id": 94689544, "body": "Are you talking about my code or yours? <code>masterJob</code> doesn&#39;t wait for anything to complete so it never changes state. <code>unitOfWork</code> propagates failure to the other coroutines, that&#39;s true. So your situation is actually not a standard one and therefore the approach with <code>masterJob.children.forEach { it.join() }</code> is the right one."}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1545763054, "post_id": 53922964, "comment_id": 94691049, "body": "Okay, but then what&#39;s the point of adding <code>masterJob</code> to the scope?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 1, "creation_date": 1545770653, "post_id": 53922964, "comment_id": 94692595, "body": "<code>masterJob</code> is a <code>SupervisorJob</code>, which is why it doesn&#39;t propagate the failure of your child coroutines. It is also the collector of all the coroutines started within its scope, so you can <code>join</code> them all."}, {"owner": {"reputation": 127, "user_id": 4288004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71a13ea10117773c01ac54bd2ca2a57?s=128&d=identicon&r=PG&f=1", "display_name": "xuiqzy", "link": "https://stackoverflow.com/users/4288004/xuiqzy"}, "edited": false, "score": 0, "creation_date": 1601562906, "post_id": 53922964, "comment_id": 113451845, "body": "So I have to hold a reference to the <code>masterJob</code> to cancel <i>and</i> join all its children? I cannont do this with the reference to the <code>scope</code> even though I can <code>cancel</code> the scope and all childs of the job are cancelled?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1601642532, "post_id": 53922964, "comment_id": 113476805, "body": "You don&#39;t. The job is there at <code>scope.coroutineContext[Job]!!</code>."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1545745720, "creation_date": 1545745720, "answer_id": 53922964, "question_id": 53916377, "link": "https://stackoverflow.com/questions/53916377/how-to-join-a-kotlin-supervisorjob/53922964#53922964", "title": "How to join a Kotlin SupervisorJob", "body": "<p>You have mixed two roles:</p>\n\n<ol>\n<li>the master job found in the coroutine scope that never completes on its own and is used to control the lifecycle of everything else</li>\n<li>the job corresponding to a unit of work, possibly decomposed into more child jobs</li>\n</ol>\n\n<p>You need both, like this:</p>\n\n<pre><code>val masterJob = SupervisorJob()\nval scope = CoroutineScope(localDispatcher + masterJob)\n\nval unitOfWork = scope.launch { handleEntry(node, scope) }\nrunBlocking { unitOfWork.join() }\n</code></pre>\n\n<p>The above code doesn't really motivate the existence of the master job because you start just one child job from it, but it may make sense in a wider picture, where you have some context from which you launch many jobs, and want to be able to write</p>\n\n<pre><code>masterJob.cancel()\n</code></pre>\n\n<p>to cancel everything before it's done.</p>\n"}], "owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1271, "favorite_count": 0, "accepted_answer_id": 53921874, "answer_count": 2, "score": 3, "last_activity_date": 1545756173, "creation_date": 1545673558, "last_edit_date": 1545691942, "question_id": 53916377, "link": "https://stackoverflow.com/questions/53916377/how-to-join-a-kotlin-supervisorjob", "title": "How to join a Kotlin SupervisorJob", "body": "<p>I am trying to process a tree of data objects. Each tree leaf is supposed to be processed through a function using a coroutine. The whole process should be done using a fixed size threadpool.</p>\n\n<p>So I came up with this:</p>\n\n<pre><code>val node = an instance of WorkspaceEntry (tree structure)\nval localDispatcher = newFixedThreadPoolContext(16)\n\nfun main() {\n    val job = SupervisorJob()\n    val scope = CoroutineScope(localDispatcher + job)\n    handleEntry(node, scope)\n\n    runBlocking {\n        job.join()\n    }\n}\n</code></pre>\n\n<p>The handleEntry method recursively launches a child job in the supervisor for each tree leaf.</p>\n\n<p>The child jobs of the supervisor all complete successfully, but the join never returns. Am I understanding this wrong?</p>\n\n<p>Edit: HandleEntry function</p>\n\n<pre><code>private fun handleEntry(workspaceEntry: WorkspaceEntry, scope: CoroutineScope) {\n    if (workspaceEntry is FileEntry) {\n        scope.launch {\n            FileTypeRegistry.processFile(workspaceEntry.fileBlob)\n        }\n    } else {\n        workspaceEntry.children.forEach { child -&gt; handleEntry(child, scope) }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1545674147, "last_edit_date": 1545674147, "creation_date": 1545672496, "answer_id": 53916247, "question_id": 53915259, "link": "https://stackoverflow.com/questions/53915259/how-to-create-a-default-body-for-a-retrofit-call-directly-in-the-interface/53916247#53916247", "title": "How to create a default body for a Retrofit call directly in the interface?", "body": "<p>Try this</p>\n\n<p><strong>Generic Request:</strong></p>\n\n<pre><code>open class CommonRequest(\n        @Ignore\n        @SerializedName(\"param_one\") val param_one: String = \"j32n4n4jt\",    \n    @Ignore\n        @SerializedName(\"param_two\") val param_two: String = \"j32n4n4jt\"\n)\n</code></pre>\n\n<p><strong>Actual Request:</strong></p>\n\n<pre><code>data class Request(\n        @SerializedName(\"name\") val name: String = \"Andrew\",\n\n) : CommonRequest()\n</code></pre>\n\n<p><strong>Usage:</strong> </p>\n\n<pre><code>interface ExampleAPI {\n        @POST\n        fun makeRequest(@Body request: Request): Call&lt;SomeResponse&gt;\n    }\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 5186579, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2a7d11c4db4dbb01539f9d1c88a2ac40?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Johnson", "link": "https://stackoverflow.com/users/5186579/andrew-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545674147, "creation_date": 1545665585, "question_id": 53915259, "link": "https://stackoverflow.com/questions/53915259/how-to-create-a-default-body-for-a-retrofit-call-directly-in-the-interface", "title": "How to create a default body for a Retrofit call directly in the interface?", "body": "<p>I would like to add a default body to a single Retrofit call inside the interface I made.</p>\n\n<p>Let's say I have a Retrofit interface such as:</p>\n\n<pre><code>import retrofit2.Call\nimport retrofit2.http.*\n\ninterface ExampleAPI {\n\n    @POST\n    fun makeRequest(): Call&lt;SomeResponse&gt;\n}\n</code></pre>\n\n<p>And I would like to add a default body to the request with fields such as:</p>\n\n<pre><code>param_one: j32n4n4jt\nparam_two: k23n45k43t\n</code></pre>\n\n<p>I am aware I can wrap the generated function and inject the body via:</p>\n\n<pre><code>import retrofit2.Call\nimport retrofit2.http.*\n\ninterface ExampleAPI {\n\n    @POST\n    fun makeRequest(@Body body: Map&lt;String, String&gt;): Call&lt;SomeResponse&gt;\n}\n</code></pre>\n\n<p>or I can make a <code>if</code> check in an interceptor.</p>\n\n<p>However, is it possible to implement this directly in the interface, and if so, how?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "dagger-2", "android-multidex"], "owner": {"reputation": 2231, "user_id": 1029518, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/QQCfg.jpg?s=128&g=1", "display_name": "ibogolyubskiy", "link": "https://stackoverflow.com/users/1029518/ibogolyubskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1545666431, "creation_date": 1545665242, "last_edit_date": 1545666431, "question_id": 53915208, "link": "https://stackoverflow.com/questions/53915208/didnt-find-class-com-example-android-app-on-path-dexpathlist-on-android-4", "title": "Didn&#39;t find class &quot;com.example.android.App&quot; on path: DexPathList on Android 4", "body": "<p>I have Kotlin MultiDex application using Dagger 2 for DI. Everything almost fine, but I have device with API 17 (Android 4.2.2), and sometimes application crashes immediately after launch with exception</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to instantiate application com.example.android.App: java.lang.ClassNotFoundException: Didn't find class \"com.example.android.App\" on path: DexPathList[[zip file \"/data/app/com.example.android-1.apk\"],nativeLibraryDirectories=[/data/app-lib/com.example.android-1, /vendor/lib, /system/lib]]</p>\n</blockquote>\n\n<p>Typically, this occurs after the Build ->  Project also after File -> Invalidate caches / Restart but not always. Usually Rebuild project helps but I would like to completely fix these situations. </p>\n\n<p>Please tell me what could be the problem?</p>\n\n<p>My build.gradle (not full):</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'io.fabric'\napply plugin: 'io.sentry.android.gradle'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.example.android\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 58\n        versionName \"1.0\"\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    applicationVariants.all { variant -&gt;\n        variant.outputs.all { output -&gt;\n            outputFileName = \"example.apk\"\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    //Kotlin\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.3.11\"\n\n    // Coroutines\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.0\"\n...\n\n    // LiveData + ViewModel\n    implementation \"android.arch.lifecycle:extensions:1.1.1\"\n\n    implementation \"com.android.support:multidex:1.0.3\"\n    implementation \"com.android.support.constraint:constraint-layout:1.1.3\"\n...\n     // Dagger\n    implementation \"com.google.dagger:dagger:2.19\"\n    implementation \"com.google.dagger:dagger-android-support:2.19\"\n    kapt \"com.google.dagger:dagger-compiler:2.19\"\n    kapt \"com.google.dagger:dagger-android-processor:2.19\"\n...\n}\n</code></pre>\n\n<p>My AndroidManifest.xml (not full):</p>\n\n\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"com.example.android\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\n    &lt;application\n        android:name=\".App\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        tools:ignore=\"AllowBackup,GoogleAppIndexingWarning\"&gt;\n        &lt;activity\n            android:name=\".activities.SplashActivity\"\n            android:screenOrientation=\"portrait\"\n            android:theme=\"@style/Theme.Splash\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>My application class (App.kt, not full)</p>\n\n<pre><code>class App: DaggerApplication() {\n\n    override fun onCreate() {\n        super.onCreate()\n    ...\n    }\n\n    override fun attachBaseContext(base: Context?) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; =\n        DaggerAppComponent.builder().application(this).build()\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1545666350, "post_id": 53915082, "comment_id": 94673730, "body": "Have you tried something like this: <a href=\"https://proandroiddev.com/how-to-unit-test-livedata-and-lifecycle-components-8a0af41c90d9\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>?"}, {"owner": {"reputation": 107, "user_id": 2756785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AhAoB.jpg?s=128&g=1", "display_name": "helmet91", "link": "https://stackoverflow.com/users/2756785/helmet91"}, "reply_to_user": {"reputation": 29068, "user_id": 2910520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AJ8o4.jpg?s=128&g=1", "display_name": "MatPag", "link": "https://stackoverflow.com/users/2910520/matpag"}, "edited": false, "score": 0, "creation_date": 1545667370, "post_id": 53915082, "comment_id": 94674054, "body": "@MatPag Oh thank you for reminding. Yes, I tried that as well, I forgot to include it in the post. I will edit it."}, {"owner": {"reputation": 3169, "user_id": 1900770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a8a6be3c115dba1b54264bbc103ffa?s=128&d=identicon&r=PG", "display_name": "Davide", "link": "https://stackoverflow.com/users/1900770/davide"}, "edited": false, "score": 0, "creation_date": 1563805131, "post_id": 53915082, "comment_id": 100811390, "body": "SettingsRepository should expose liveData objects, it not need a lifecycle.Then use the method <code>observeForever</code> that don&#39;t need lifecycle object"}], "owner": {"reputation": 107, "user_id": 2756785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AhAoB.jpg?s=128&g=1", "display_name": "helmet91", "link": "https://stackoverflow.com/users/2756785/helmet91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1336, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545664339, "creation_date": 1545664339, "question_id": 53915082, "link": "https://stackoverflow.com/questions/53915082/how-to-mock-android-lifecycle-components", "title": "How to mock Android Lifecycle components?", "body": "<p>I am trying to build an Android app following the <a href=\"https://developer.android.com/jetpack/docs/guide\" rel=\"nofollow noreferrer\">recommended design structure</a>.</p>\n\n<p>Let's say, there is a <code>UserRepository</code> for handling the users. However, I would like to have certain settings in the app, for example \"Show profile picture\", \"Sort by\", etc. I would like to store these settings in a Room database, just like the Users.</p>\n\n<p>According to my understanding, the cleanest way is to have a separate <code>UserRepository</code> and a <code>SettingsRepository</code>. And of course, the Settings should have a sort of Model, let's call it <code>SettingsModel</code>, in order to be able to retrieve the Settings as a <code>Map</code> for example. Note, that this is not a <code>ViewModel</code>, it has nothing to do with the UI.</p>\n\n<p>Then, the <code>UserRepository</code> should implement its own business (handling the users), just like in the example linked above. Besides that, it also should have a dependency of that <code>SettingsModel</code>, so that it can easily retrieve the settings, which affect how the Users should be retrieved.</p>\n\n<p>The <code>SettingsModel</code> needs to turn the \"raw database data\" into a map, so that I can reach the settings like this: <code>settings.show_profile_pictures</code> and <code>settings.sort_by</code>, etc.\nTo achieve this, I need to extract the data from the <code>LiveData</code>, which implies, that I need to observe that <code>LiveData</code>, so that I can update the <code>Map</code>, whenever the settings change.</p>\n\n<p>And here comes the problem: the <code>observe()</code> method needs a <code>LifecycleOwner</code>, which I cannot provide in my tests. </p>\n\n<p><strong>1st attempt:</strong> mock with Mockito</p>\n\n<p>It would be an instrumented test, becase that way I have access to an <code>Activity</code>, which is needed to retrieve the DAO.</p>\n\n<p>I am trying to <code>@Inject</code> it with Dagger, but the mocking wasn't successful:</p>\n\n<pre><code>class SettingsRepositoryTest {\n\n    private lateinit var settingsDao: SettingsDao\n\n    @Mock\n    private lateinit var mockLifecycleOwner: LifecycleOwner\n\n    @Before\n    fun createDb(){\n        MockitoAnnotations.initMocks(LifecycleOwner::class.java)\n\n        val appContext = InstrumentationRegistry.getTargetContext()\n\n        val db = Room.inMemoryDatabaseBuilder(appContext, CurrencyConverterDb::class.java).allowMainThreadQueries().build()\n        settingsDao = db.settingsDao()\n\n    }\n\n    @Test\n    fun testSettingsMap() {\n\n        val repo = SettingsRepository(settingsDao, mockLifecycleOwner) // throws the exception here\n\n    }\n}\n</code></pre>\n\n<p>The exception:</p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property mockLifecycleOwner has not been initialized\nat com.helmet91.currencyconverter.repositories.SettingsRepositoryTestInst.testSettingsMap(SettingsRepositoryTestInst.kt:46)\n</code></pre>\n\n<p><strong>2nd attempt:</strong> use Roboelectric to create an <code>AppCompatActivity</code>, which is in fact a <code>LifecycleOwner</code>.</p>\n\n<p>It is not an instrumented test, because Roboelectric doesn't work in the androidTest environment.</p>\n\n<p>The <code>Activity</code> still has to be mocked, however, it throws a <code>NullPointerException</code>. The only way I can think of, is to go through this Exception stack, and mock everything in it, if it's even possible at all. But that sounds insane to me. There has to be a better solution.</p>\n\n<pre><code>class SettingsRepositoryTest {\n\n    private lateinit var settingsDao: SettingsDao\n    private lateinit var activity: AppCompatActivity\n\n    @Before\n    fun createDb(){\n        val built = Robolectric.buildActivity(MainActivity::class.java) // throws the exception here\n        val created = built.create()\n        val controller = created.start()\n        activity = controller.get() as AppCompatActivity\n\n        val db = Room.inMemoryDatabaseBuilder(activity, CurrencyConverterDb::class.java).allowMainThreadQueries().build()\n        settingsDao = db.settingsDao()\n\n    }\n\n    @Test\n    fun testSettingsMap() {\n\n        val repo = SettingsRepository(settingsDao, activity)\n\n        val settingsMap = repo.getSettings()\n\n        val settingsEntity = Settings(1, \"show_flags\", \"1\", \"bool\")\n\n        settingsDao.insert(settingsEntity)\n\n        assertTrue(settingsMap.show_flags)\n    }\n}\n</code></pre>\n\n<p>The exception:</p>\n\n<pre><code>java.lang.NullPointerException\n    at org.robolectric.internal.bytecode.ShadowImpl.extract(ShadowImpl.java:17)\n    at org.robolectric.shadow.api.Shadow.extract(Shadow.java:25)\n    at org.robolectric.Shadows.shadowOf(Shadows.java:1215)\n    at org.robolectric.shadows.CoreShadowsAdapter.getMainLooper(CoreShadowsAdapter.java:23)\n    at org.robolectric.android.controller.ComponentController.&lt;init&gt;(ComponentController.java:29)\n    at org.robolectric.android.controller.ComponentController.&lt;init&gt;(ComponentController.java:21)\n    at org.robolectric.android.controller.ActivityController.&lt;init&gt;(ActivityController.java:33)\n    at org.robolectric.android.controller.ActivityController.of(ActivityController.java:25)\n    at org.robolectric.Robolectric.buildActivity(Robolectric.java:97)\n    at org.robolectric.Robolectric.buildActivity(Robolectric.java:93)\n    at com.helmet91.currencyconverter.repositories.SettingsRepositoryTest.createDb(SettingsRepositoryTest.kt:29)\n</code></pre>\n\n<p>Is it really impossible to test anything, that involves Lifecycle components?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "edited": false, "score": 0, "creation_date": 1545665587, "post_id": 53915145, "comment_id": 94673538, "body": "i already tried the dialogfragment but im using 28 api and it is deprecated. i will take a look into support v4. thanks"}, {"owner": {"reputation": 167, "user_id": 7952738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cq0PC.jpg?s=128&g=1", "display_name": "XieEDeHeiShou", "link": "https://stackoverflow.com/users/7952738/xieedeheishou"}, "reply_to_user": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "edited": false, "score": 0, "creation_date": 1545665681, "post_id": 53915145, "comment_id": 94673563, "body": "That&#39;s why I add android.support.v4.app.DialogFragment behind."}], "tags": [], "owner": {"reputation": 167, "user_id": 7952738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cq0PC.jpg?s=128&g=1", "display_name": "XieEDeHeiShou", "link": "https://stackoverflow.com/users/7952738/xieedeheishou"}, "is_accepted": false, "score": 0, "last_activity_date": 1545664811, "creation_date": 1545664811, "answer_id": 53915145, "question_id": 53915016, "link": "https://stackoverflow.com/questions/53915016/kotlin-alertdialog-im-new-at-android-programming-and-need-some-light/53915145#53915145", "title": "Kotlin alertdialog. Im new at android programming and need some light", "body": "<p>Take a look at <a href=\"https://developer.android.com/reference/android/app/DialogFragment#onCreateDialog(android.os.Bundle)\" rel=\"nofollow noreferrer\">android.app.DialogFragment#onCreateDialog(Bundle)</a> or <a href=\"https://developer.android.com/reference/android/support/v4/app/DialogFragment#onCreateDialog(android.os.Bundle)\" rel=\"nofollow noreferrer\">android.support.v4.app.DialogFragment#onCreateDialog(Bundle)</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10827676, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8E3-U1QLJVk/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYMGhNVxu4kFOWfQPn0B097zTlAuw/mo/photo.jpg?sz=128", "display_name": "Vinicius Barros", "link": "https://stackoverflow.com/users/10827676/vinicius-barros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545664811, "creation_date": 1545663832, "question_id": 53915016, "link": "https://stackoverflow.com/questions/53915016/kotlin-alertdialog-im-new-at-android-programming-and-need-some-light", "title": "Kotlin alertdialog. Im new at android programming and need some light", "body": "<p>im having trouble trying to show an dialog message who confirms the user logout, the greater issue is that im using menu drawner and it calls a fragment but i dont know how to show an dialog message on fragments.</p>\n\n<p>i have been trying this:</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.support.v7.app.AlertDialog\n\n\nclass LogoutFragment : Fragment(){\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, \nsavedInstanceState: Bundle?): View? {\n        val builder = AlertDialog.Builder(this@LogoutFragment)\n\n        builder.setTitle(\"Dual Signal\")\n        builder.setMessage(\"Realmente deseja sair?\")\n\n        builder.setPositiveButton(\"Sair\"){dialog, which -&gt;\n\n        }\n\n        builder.setNegativeButton(\"Voltar\"){dialog,which -&gt;\n\n        }\n        val dialog: AlertDialog = builder.create()\n        val lol = dialog.show()\n\n    return lol\n\n}\n\n}\n</code></pre>\n\n<p>this is my menu drawner</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n&lt;item\n    android:title=\"inbox\"\n    android:id=\"@+id/nav_item_inbox\"\n    android:icon=\"@drawable/inbox\"/&gt;\n\n&lt;item\n    android:title=\"draft\"\n    android:id=\"@+id/nav_item_draft\"\n    android:icon=\"@drawable/draft\"/&gt;\n\n&lt;item\n    android:title=\"sent\"\n    android:id=\"@+id/nav_item_sent\"\n    android:icon=\"@drawable/sent\"/&gt;\n&lt;item\n    android:title=\"Logout\"\n    android:id=\"@+id/nav_logout\"\n    android:icon=\"@drawable/exit\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>this is the main page, who calls the fragments(it have swipe tabs)</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\nlateinit var mDrawerLayout: DrawerLayout\nlateinit var mNavigationView: NavigationView\nlateinit var mFragmentManager: FragmentManager\nlateinit var mFragmentTransaction: FragmentTransaction\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    mDrawerLayout = findViewById&lt;View&gt;(R.id.drawerLayout) as DrawerLayout\n    mNavigationView = findViewById&lt;View&gt;(R.id.navView) as NavigationView\n\n    mFragmentManager = supportFragmentManager\n    mFragmentTransaction = mFragmentManager.beginTransaction()\n    mFragmentTransaction.replace(R.id.containerView, \n TabFragment()).commit()\n\n    mNavigationView.setNavigationItemSelectedListener {\n        menuItem -&gt; mDrawerLayout.closeDrawers()\n\n        if (menuItem.itemId==R.id.nav_item_inbox){\n            val ft = mFragmentManager.beginTransaction()\n            ft.replace(R.id.containerView, TabFragment()).commit()\n        }\n\n        if (menuItem.itemId==R.id.nav_item_sent){\n            val ft = mFragmentManager.beginTransaction()\n            ft.replace(R.id.containerView, SentFragment()).commit()\n        }\n\n        if (menuItem.itemId==R.id.nav_item_draft){\n            val ft = mFragmentManager.beginTransaction()\n            ft.replace(R.id.containerView, DraftFragment()).commit()\n        }\n        false\n    }\n\n    val toolbar = findViewById&lt;View&gt;(R.id.toolbar) as Toolbar\n    val mDrawerToggle = ActionBarDrawerToggle(this,mDrawerLayout,toolbar,\n            R.string.app_name,R.string.app_name)\n\n    mDrawerLayout.setDrawerListener(mDrawerToggle)\n    mDrawerToggle.syncState()\n}\n\n}\n</code></pre>\n"}, {"tags": ["mongodb", "spring-boot", "kotlin", "transactions", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "edited": false, "score": 0, "creation_date": 1546175846, "post_id": 53965504, "comment_id": 94793311, "body": "I&#39;m using Spring mongodb driver and it doesn&#39;t return me back any connections (I guess the driver does it all internally). I do all work via ReactiveMongoTemplate and it doesn&#39;t even have any methods for returning connection or closing it."}], "tags": [], "owner": {"reputation": 199, "user_id": 10000689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wVxQG.jpg?s=128&g=1", "display_name": "Soleil", "link": "https://stackoverflow.com/users/10000689/soleil"}, "is_accepted": false, "score": 0, "last_activity_date": 1546040942, "creation_date": 1546040942, "answer_id": 53965504, "question_id": 53914707, "link": "https://stackoverflow.com/questions/53914707/mongodb-reactive-template-transactions/53965504#53965504", "title": "MongoDB reactive template transactions", "body": "<p>You could check connection <a href=\"https://docs.mongodb.com/manual/reference/connection-string/#connections-connection-options\" rel=\"nofollow noreferrer\">options</a> and accord you <a href=\"http://reactivemongo.org/releases/0.1x/api/reactivemongo/api/MongoConnection.html\" rel=\"nofollow noreferrer\">driver</a></p>\n\n<pre><code>val connection = MongoConnection(List(\"localhost\"))\nval db = connection.database(\"plugin\")\n...\nconnection.askClose()\n</code></pre>\n\n<p>you could search method askClose(), hope you can helpfull </p>\n"}, {"tags": [], "owner": {"reputation": 63390, "user_id": 2683814, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16a4c2fb341c51388d5cdfcf0e956f6c?s=128&d=identicon&r=PG&f=1", "display_name": "s7vr", "link": "https://stackoverflow.com/users/2683814/s7vr"}, "is_accepted": true, "score": 2, "last_activity_date": 1546223653, "creation_date": 1546223653, "answer_id": 53983059, "question_id": 53914707, "link": "https://stackoverflow.com/questions/53914707/mongodb-reactive-template-transactions/53983059#53983059", "title": "MongoDB reactive template transactions", "body": "<p>The client sessions/tranactions are closed properly however it appears the indexes creation in tests are acquiring global lock causes the next transaction lock to fall behind and wait before timing out on the lock request. </p>\n\n<p>Basically you have to manage your index creation so they don\u2019t interfere with transaction from client. </p>\n\n<p>One quick fix would be to increase the lock timeout by running below command in shell. </p>\n\n<p>db.adminCommand( { setParameter: 1, maxTransactionLockRequestTimeoutMillis: 50 } )</p>\n\n<p>In production you can look at the transaction error label \nand retry the operation. </p>\n\n<p>More here <a href=\"https://docs.mongodb.com/manual/core/transactions-production-consideration/#pending-ddl-operations-and-transactions\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/core/transactions-production-consideration/#pending-ddl-operations-and-transactions</a></p>\n"}], "owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1453, "favorite_count": 1, "accepted_answer_id": 53983059, "answer_count": 2, "score": 2, "last_activity_date": 1546223653, "creation_date": 1545661900, "last_edit_date": 1545835236, "question_id": 53914707, "link": "https://stackoverflow.com/questions/53914707/mongodb-reactive-template-transactions", "title": "MongoDB reactive template transactions", "body": "<p>I've been using mongodb for my open source project for more than a year now and recently I decided to try out the transactions. After writing some tests for methods that use transactions I figured out that they throw some strange exceptions and I can't figure out what is the problem. So I have a <a href=\"https://github.com/K1rakishou/photoexchange-backend/blob/2d91c3d32a22e69f03b91f42ef2094f981884ebc/src/main/kotlin/com/kirakishou/photoexchange/database/repository/PhotoInfoRepository.kt#L328\" rel=\"nofollow noreferrer\">method</a> <code>delete</code> that uses custom <code>coroutine context</code> and a <code>mutex</code>:</p>\n\n<pre><code>  open suspend fun delete(photoInfo: PhotoInfo): Boolean {\n    return withContext(coroutineContext) {\n      return@withContext mutex.withLock {\n        return@withLock deletePhotoInternalInTransaction(photoInfo)\n      }\n    }\n  }\n</code></pre>\n\n<p>It then calls a <a href=\"https://github.com/K1rakishou/photoexchange-backend/blob/2d91c3d32a22e69f03b91f42ef2094f981884ebc/src/main/kotlin/com/kirakishou/photoexchange/database/repository/PhotoInfoRepository.kt#L338\" rel=\"nofollow noreferrer\">method</a> that executes some deletion:</p>\n\n<pre><code>  //FIXME: doesn't work in tests\n  //should be called from within locked mutex\n  private suspend fun deletePhotoInternalInTransaction(photoInfo: PhotoInfo): Boolean {\n    check(!photoInfo.isEmpty())\n\n    val transactionMono = template.inTransaction().execute { txTemplate -&gt;\n      return@execute photoInfoDao.deleteById(photoInfo.photoId, txTemplate)\n        .flatMap { favouritedPhotoDao.deleteFavouriteByPhotoName(photoInfo.photoName, txTemplate) }\n        .flatMap { reportedPhotoDao.deleteReportByPhotoName(photoInfo.photoName, txTemplate) }\n        .flatMap { locationMapDao.deleteById(photoInfo.photoId, txTemplate) }\n        .flatMap { galleryPhotoDao.deleteByPhotoName(photoInfo.photoName, txTemplate) }\n    }.next()\n\n    return try {\n      transactionMono.awaitFirst()\n      true\n    } catch (error: Throwable) {\n      logger.error(\"Could not delete photo\", error)\n      false\n    }\n  }\n</code></pre>\n\n<p>Here I have five operations that delete data from five different documents. Here is an example of one of the operations:</p>\n\n<pre><code>open fun deleteById(photoId: Long, template: ReactiveMongoOperations = reactiveTemplate): Mono&lt;Boolean&gt; {\n    val query = Query()\n      .addCriteria(Criteria.where(PhotoInfo.Mongo.Field.PHOTO_ID).`is`(photoId))\n\n    return template.remove(query, PhotoInfo::class.java)\n      .map { deletionResult -&gt; deletionResult.wasAcknowledged() }\n      .doOnError { error -&gt; logger.error(\"DB error\", error) }\n      .onErrorReturn(false)\n  }\n</code></pre>\n\n<p>I want this operation to fail if either of deletions fails so I use a transaction.</p>\n\n<p>Then I have some <a href=\"https://github.com/K1rakishou/photoexchange-backend/blob/2d91c3d32a22e69f03b91f42ef2094f981884ebc/src/test/kotlin/com/kirakishou/photoexchange/handlers/UploadPhotoHandlerTest.kt#L72\" rel=\"nofollow noreferrer\">tests</a> for a handler that uses this <code>delete</code> method:</p>\n\n<pre><code>  @Test\n  fun `photo should not be uploaded if could not enqueue static map downloading request`() {\n    val webClient = getWebTestClient()\n    val userId = \"1234235236\"\n    val token = \"fwerwe\"\n\n    runBlocking {\n      Mockito.`when`(remoteAddressExtractorService.extractRemoteAddress(any())).thenReturn(ipAddress)\n      Mockito.`when`(banListRepository.isBanned(Mockito.anyString())).thenReturn(false)\n      Mockito.`when`(userInfoRepository.accountExists(userId)).thenReturn(true)\n      Mockito.`when`(userInfoRepository.getFirebaseToken(Mockito.anyString())).thenReturn(token)\n      Mockito.`when`(staticMapDownloaderService.enqueue(Mockito.anyLong())).thenReturn(false)\n    }\n\n    kotlin.run {\n      val packet = UploadPhotoPacket(33.4, 55.2, userId, true)\n      val multipartData = createTestMultipartFile(PHOTO1, packet)\n\n      val content = webClient\n        .post()\n        .uri(\"/v1/api/upload\")\n        .contentType(MediaType.MULTIPART_FORM_DATA)\n        .body(BodyInserters.fromMultipartData(multipartData))\n        .exchange()\n        .expectStatus().is5xxServerError\n        .expectBody()\n\n      val response = fromBodyContent&lt;UploadPhotoResponse&gt;(content)\n      assertEquals(ErrorCode.DatabaseError.value, response.errorCode)\n\n      assertEquals(0, findAllFiles().size)\n\n      runBlocking {\n        assertEquals(0, galleryPhotoDao.testFindAll().awaitFirst().size)\n        assertEquals(0, photoInfoDao.testFindAll().awaitFirst().size)\n      }\n    }\n  }\n\n  @Test\n  fun `photo should not be uploaded when resizeAndSavePhotos throws an exception`() {\n    val webClient = getWebTestClient()\n    val userId = \"1234235236\"\n    val token = \"fwerwe\"\n\n    runBlocking {\n      Mockito.`when`(remoteAddressExtractorService.extractRemoteAddress(any())).thenReturn(ipAddress)\n      Mockito.`when`(banListRepository.isBanned(Mockito.anyString())).thenReturn(false)\n      Mockito.`when`(userInfoRepository.accountExists(userId)).thenReturn(true)\n      Mockito.`when`(userInfoRepository.getFirebaseToken(Mockito.anyString())).thenReturn(token)\n      Mockito.`when`(staticMapDownloaderService.enqueue(Mockito.anyLong())).thenReturn(true)\n\n      Mockito.doThrow(IOException(\"BAM\"))\n        .`when`(diskManipulationService).resizeAndSavePhotos(any(), any())\n    }\n\n    kotlin.run {\n      val packet = UploadPhotoPacket(33.4, 55.2, userId, true)\n      val multipartData = createTestMultipartFile(PHOTO1, packet)\n\n      val content = webClient\n        .post()\n        .uri(\"/v1/api/upload\")\n        .contentType(MediaType.MULTIPART_FORM_DATA)\n        .body(BodyInserters.fromMultipartData(multipartData))\n        .exchange()\n        .expectStatus().is5xxServerError\n        .expectBody()\n\n      val response = fromBodyContent&lt;UploadPhotoResponse&gt;(content)\n      assertEquals(ErrorCode.ServerResizeError.value, response.errorCode)\n\n      assertEquals(0, findAllFiles().size)\n\n      runBlocking {\n        assertEquals(0, galleryPhotoDao.testFindAll().awaitFirst().size)\n        assertEquals(0, photoInfoDao.testFindAll().awaitFirst().size)\n      }\n    }\n  }\n\n  @Test\n  fun `photo should not be uploaded when copyDataBuffersToFile throws an exception`() {\n    val webClient = getWebTestClient()\n    val userId = \"1234235236\"\n    val token = \"fwerwe\"\n\n    runBlocking {\n      Mockito.`when`(remoteAddressExtractorService.extractRemoteAddress(any())).thenReturn(ipAddress)\n      Mockito.`when`(banListRepository.isBanned(Mockito.anyString())).thenReturn(false)\n      Mockito.`when`(userInfoRepository.accountExists(userId)).thenReturn(true)\n      Mockito.`when`(userInfoRepository.getFirebaseToken(Mockito.anyString())).thenReturn(token)\n      Mockito.`when`(staticMapDownloaderService.enqueue(Mockito.anyLong())).thenReturn(true)\n\n      Mockito.doThrow(IOException(\"BAM\"))\n        .`when`(diskManipulationService).copyDataBuffersToFile(Mockito.anyList(), any())\n    }\n\n    kotlin.run {\n      val packet = UploadPhotoPacket(33.4, 55.2, userId, true)\n      val multipartData = createTestMultipartFile(PHOTO1, packet)\n\n      val content = webClient\n        .post()\n        .uri(\"/v1/api/upload\")\n        .contentType(MediaType.MULTIPART_FORM_DATA)\n        .body(BodyInserters.fromMultipartData(multipartData))\n        .exchange()\n        .expectStatus().is5xxServerError\n        .expectBody()\n\n      val response = fromBodyContent&lt;UploadPhotoResponse&gt;(content)\n      assertEquals(ErrorCode.ServerDiskError.value, response.errorCode)\n\n      assertEquals(0, findAllFiles().size)\n\n      runBlocking {\n        assertEquals(0, galleryPhotoDao.testFindAll().awaitFirst().size)\n        assertEquals(0, photoInfoDao.testFindAll().awaitFirst().size)\n      }\n    }\n  }\n</code></pre>\n\n<p>Usually the first test passes:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7dkOc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7dkOc.png\" alt=\"enter image description here\"></a></p>\n\n<p>and the following two fail with the following exception:</p>\n\n<pre><code>17:09:01.228 [Thread-17] ERROR com.kirakishou.photoexchange.database.dao.PhotoInfoDao - DB error\norg.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 24 (LockTimeout): 'Unable to acquire lock '{8368122972467948263: Database, 1450593944826866407}' within a max lock request timeout of '5ms' milliseconds.' on server 192.168.99.100:27017. \n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>Caused by: com.mongodb.MongoCommandException: Command failed with error 246 (SnapshotUnavailable): 'Unable to read from a snapshot due to pending collection catalog changes; please retry the operation. Snapshot timestamp is Timestamp(1545661357, 23). Collection minimum is Timestamp(1545661357, 24)' on server 192.168.99.100:27017.\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>17:22:36.951 [Thread-16] WARN  reactor.core.publisher.FluxUsingWhen - Async resource cleanup failed after cancel\ncom.mongodb.MongoCommandException: Command failed with error 251 (NoSuchTransaction): 'Transaction 1 has been aborted.' on server 192.168.99.100:27017. \n</code></pre>\n\n<p>Sometimes two of them pass and the last one fails.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XRgWG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XRgWG.png\" alt=\"enter image description here\"></a></p>\n\n<p>It looks like only the first transaction succeeds and any following will fail and I guess the reason is that I have to manually close it (or the ClientSession). But I can't find any info on how to close transactions/sessions. <a href=\"https://github.com/christophstrobl/mongodb-bookstore/blob/master/src/main/java/com/example/bookstore/reactive/transaction/ReactiveOrderService.java#L57\" rel=\"nofollow noreferrer\">Here</a> is one of the few examples I could find where they use transactions with reactive template and I don't see them doing anything additional to close transaction/session. </p>\n\n<p>Or maybe it's because I'm mocking a method to throw an exception inside the transaction? Maybe it's not being closed in this case?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-wifi", "wifimanager"], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 1, "creation_date": 1545664466, "post_id": 53914982, "comment_id": 94673252, "body": "Thanks, can you help me to remove that &quot;_&quot; word from that line?"}, {"owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "reply_to_user": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 1, "creation_date": 1545665155, "post_id": 53914982, "comment_id": 94673429, "body": "you mean if you have an ssid like this: &quot;example_ssid&quot; you want to display &quot;examplessid&quot; ?"}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 1, "creation_date": 1545665866, "post_id": 53914982, "comment_id": 94673600, "body": "Yes, How can i do it?"}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 1, "creation_date": 1545668828, "post_id": 53914982, "comment_id": 94674442, "body": "Can you help me?"}, {"owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "reply_to_user": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1545671428, "post_id": 53914982, "comment_id": 94675025, "body": "You really need to learn how to search for the answer, cause these are very basic functions. But cause you are a beginner: <code>scanResult.SSID.replace(&quot;_&quot;, &quot;&quot;)</code>   <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/replace.html\" rel=\"nofollow noreferrer\">source</a>"}], "tags": [], "owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "is_accepted": true, "score": 1, "last_activity_date": 1545663661, "creation_date": 1545663661, "answer_id": 53914982, "question_id": 53914592, "link": "https://stackoverflow.com/questions/53914592/how-to-filter-a-specific-ssid-from-scan-result-in-android/53914982#53914982", "title": "How to filter a specific SSID from scan result in android?", "body": "<p>Just change to this:</p>\n\n<pre><code>for (scanResult in results) {\n    if (!scanResult.SSID.contains(\"_\") {\n        arrayList.add(scanResult.SSID)\n        adapter!!.notifyDataSetChanged()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6950834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3jUEQ.jpg?s=128&g=1", "display_name": "Yusuf Ko&#231;ak", "link": "https://stackoverflow.com/users/6950834/yusuf-ko%c3%a7ak"}, "is_accepted": false, "score": 1, "last_activity_date": 1545663935, "creation_date": 1545663935, "answer_id": 53915026, "question_id": 53914592, "link": "https://stackoverflow.com/questions/53914592/how-to-filter-a-specific-ssid-from-scan-result-in-android/53915026#53915026", "title": "How to filter a specific SSID from scan result in android?", "body": "<pre><code>  for (scanResult in results) {\n     if(!scanResult.SSID.matches(\"(.*)_(.*)\")) {\n        arrayList.add(scanResult.SSID)\n        adapter!!.notifyDataSetChanged()\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 53914982, "answer_count": 2, "score": 2, "last_activity_date": 1545663935, "creation_date": 1545661184, "question_id": 53914592, "link": "https://stackoverflow.com/questions/53914592/how-to-filter-a-specific-ssid-from-scan-result-in-android", "title": "How to filter a specific SSID from scan result in android?", "body": "<p>I am new in android development and I am working on an application that scan for all available WI-FI and then show them in a list and its working fine here is the code: </p>\n\n<pre><code>private var wifiManager: WifiManager? = null\nprivate val arrayList = ArrayList&lt;String&gt;()\nprivate var adapter: ArrayAdapter&lt;*&gt;? = null\n\nprivate var wifiReceiver: BroadcastReceiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val results = wifiManager!!.scanResults\n        unregisterReceiver(this)\n\n        for (scanResult in results) {\n            arrayList.add(scanResult.SSID)\n            adapter!!.notifyDataSetChanged()\n\n        }\n    }\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    wifiManager = applicationContext.getSystemService(Context.WIFI_SERVICE) as WifiManager\n    adapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, arrayList)\n\n    val wifi = AlertDialog.Builder(this)\n    wifi.setTitle(\"Wifi scan list\")\n    wifi.setAdapter(adapter) { dialog, which -&gt;\n    }\n    wifi.create()\n    wifi.show()\n\n}\n</code></pre>\n\n<p>But now I want to hide some ssid from wifi scan list that contains \"<code>_</code>\". How can I hide these SSID from wifi scan list?</p>\n"}, {"tags": ["android", "kotlin", "nullpointerexception", "android-dialog"], "answers": [{"comments": [{"owner": {"reputation": 1777, "user_id": 3863447, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/8hHdQ.jpg?s=128&g=1", "display_name": "BekaKK", "link": "https://stackoverflow.com/users/3863447/bekakk"}, "edited": false, "score": 0, "creation_date": 1545661172, "post_id": 53914538, "comment_id": 94672289, "body": "Thank you @Sergey ,can you explain me why? In java,first time I must call method and then show"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 1777, "user_id": 3863447, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/8hHdQ.jpg?s=128&g=1", "display_name": "BekaKK", "link": "https://stackoverflow.com/users/3863447/bekakk"}, "edited": false, "score": 0, "creation_date": 1545661265, "post_id": 53914538, "comment_id": 94672323, "body": "I guess when using Kotlin <code>views</code> are initialized after dialog is created and shown."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 0, "last_activity_date": 1545660929, "creation_date": 1545660929, "answer_id": 53914538, "question_id": 53914355, "link": "https://stackoverflow.com/questions/53914355/view-is-null-inside-custom-dialog-android-kotlin/53914538#53914538", "title": "View is null inside custom Dialog Android Kotlin", "body": "<p>I guess at the point of calling <code>setDate</code> <code>calendarView</code> is not initialized yet. Try to call <code>setDate</code> some time after dialog is shown:</p>\n\n<pre><code>private fun showSPCalendarDialog(view: View) {\n    var spCalendarDialog = SPCalendarDialog(view.context)\n    var birthDate: Long = 0\n\n    spCalendarDialog.setListener(object : SPCalendarDialog.OnSPCalendarListener {\n        override fun onCalendarChangeListener(year: Int, month: Int, dayOfMonth: Int) {\n        }\n    })\n    spCalendarDialog.show()\n    view.postDelayed({ spCalendarDialog.setDate(birthDate) }, 500)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 10763008, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uyun5o3epK4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i0_OTrxxhaEvz7Zt7TJ2ZLN-I9fg/mo/photo.jpg?sz=128", "display_name": "Melvin Otieno", "link": "https://stackoverflow.com/users/10763008/melvin-otieno"}, "is_accepted": false, "score": 0, "last_activity_date": 1545662773, "creation_date": 1545662773, "answer_id": 53914840, "question_id": 53914355, "link": "https://stackoverflow.com/questions/53914355/view-is-null-inside-custom-dialog-android-kotlin/53914840#53914840", "title": "View is null inside custom Dialog Android Kotlin", "body": "<p>You could instead put your code inside onCreateDialog instead of onCreateView. Android recommends using DialogFragment as it is lifecycle aware</p>\n"}], "owner": {"reputation": 1777, "user_id": 3863447, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/8hHdQ.jpg?s=128&g=1", "display_name": "BekaKK", "link": "https://stackoverflow.com/users/3863447/bekakk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 53914538, "answer_count": 2, "score": 0, "last_activity_date": 1560256827, "creation_date": 1545659760, "last_edit_date": 1560256827, "question_id": 53914355, "link": "https://stackoverflow.com/questions/53914355/view-is-null-inside-custom-dialog-android-kotlin", "title": "View is null inside custom Dialog Android Kotlin", "body": "<p>I created custom Dialog in kotlin class.<br>\nHere is a my code:</p>\n\n<pre><code>class SPCalendarDialog(context: Context) : Dialog (context,R.style.DialogTheme) {\n    private var listener: OnSPCalendarListener? = null\n    private var year: Int = 0\n    private var month: Int = 0\n    private var dayOfMonth: Int = 0\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setCancelable(true)\n        setCanceledOnTouchOutside(true)\n        setContentView(R.layout.sp_calendar_dialog)\n        val calendar = Calendar.getInstance()\n        year = calendar.get(Calendar.YEAR)\n        month = calendar.get(Calendar.MONTH)\n        dayOfMonth = calendar.get(Calendar.DAY_OF_MONTH)\n        calendarView.descendantFocusability = DatePicker.FOCUS_BLOCK_DESCENDANTS\n        calendarView.init(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH)) { _, y, m, dM -&gt;\n            year = y\n            month = m\n            dayOfMonth = dM\n        }\n    }\n    fun setDate(date: Long) {\n        val calendar = Calendar.getInstance()\n        if (date != 0L)\n            calendar.timeInMillis = date\n        calendarView.init(calendar.get(Calendar.YEAR), calendar.get(Calendar.MONTH), calendar.get(Calendar.DAY_OF_MONTH)) { _, y, m, dM -&gt;\n            year = y\n            month = m\n            dayOfMonth = dM\n        }\n    }\n    interface OnSPCalendarListener {\n        fun onCalendarChangeListener(year: Int, month: Int, dayOfMonth: Int)\n    }\n    fun setListener(listener: OnSPCalendarListener) {\n        this.listener = listener\n    }\n\n}\n</code></pre>\n\n<p>I call this class like this.</p>\n\n<pre><code>private fun showSPCalendarDialog(view: View) {\n    var spCalendarDialog = SPCalendarDialog(view.context)\n    var birthDate: Long = 0\n\n    spCalendarDialog.setListener(object : SPCalendarDialog.OnSPCalendarListener {\n        override fun onCalendarChangeListener(year: Int, month: Int, dayOfMonth: Int) {\n        }\n    })\n    spCalendarDialog.setDate(birthDate)\n    spCalendarDialog.show()\n}\n</code></pre>\n\n<p>When I try to run my app and show my custom Dialog,inside setDate method,calendarView is null.\nHere is a my xml code</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n\n&lt;androidx.cardview.widget.CardView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"@dimen/dimen_p_30\"\n    android:layout_marginRight=\"@dimen/dimen_p_30\"\n    app:cardBackgroundColor=\"@color/white\"\n    android:layout_centerInParent=\"true\"\n    app:cardCornerRadius=\"@dimen/dimen_p_15\"&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n\n        &lt;DatePicker\n            android:id=\"@+id/calendarView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            android:calendarViewShown=\"false\"\n            android:datePickerMode=\"spinner\"\n            android:descendantFocusability=\"blocksDescendants\" /&gt;\n\n\n        &lt;RelativeLayout\n            android:id=\"@+id/dialog_ok_button\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"@dimen/dimen_p_46\"\n            android:background=\"@color/light_blue\"&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_centerInParent=\"true\"\n                android:fontFamily=\"@font/myriad_geo_mtavruli_bold\"\n                android:text=\"@string/approve\"\n                android:textColor=\"@color/white\"\n                android:textSize=\"@dimen/dimen_p_14\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'm using kotlinx to find views from xml without findById</p>\n\n<pre><code>import kotlinx.android.synthetic.main.sp_calendar_dialog.*\n</code></pre>\n\n<p>can anyone tell me, what am I doing wrong? p.s I'm beginner in Kotlin.\nThanks</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1545659757, "post_id": 53914272, "comment_id": 94671883, "body": "Your code is <code>Util</code> but your error complains about <code>Util2</code>."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 4, "creation_date": 1545660016, "post_id": 53914272, "comment_id": 94671956, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/53058509/kotlin-databinding-pass-static-function-into-layout-xml\">Kotlin DataBinding pass static function into layout xml</a>"}, {"owner": {"reputation": 476, "user_id": 4820070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22a3216370fb32835eb4434d65886943?s=128&d=identicon&r=PG&f=1", "display_name": "Lalit Behera", "link": "https://stackoverflow.com/users/4820070/lalit-behera"}, "edited": false, "score": 0, "creation_date": 1545660071, "post_id": 53914272, "comment_id": 94671973, "body": "I have deleted the duplicate file still it is giving error"}], "answers": [{"tags": [], "owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "is_accepted": false, "score": 0, "last_activity_date": 1545660048, "creation_date": 1545660048, "answer_id": 53914396, "question_id": 53914272, "link": "https://stackoverflow.com/questions/53914272/what-is-the-difference-between-java-static-method-and-kotlin-companion-object/53914396#53914396", "title": "What is the difference between Java static method and Kotlin companion object ? Why it is giving error in Andorid Data Binding?", "body": "<p>The bytecode generated by your Kotlin code is as follows (Kotlin 1.3):</p>\n\n<pre><code>public final class com/example/testapp/Util$Companion {\n  // access flags 0x11\n  public final capitalize(Ljava/lang/String;)Ljava/lang/String;\n</code></pre>\n\n<p>As you can see an inner class <code>Companion</code> is being created, which actually has the method <code>capitalize</code>.</p>\n"}], "owner": {"reputation": 476, "user_id": 4820070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22a3216370fb32835eb4434d65886943?s=128&d=identicon&r=PG&f=1", "display_name": "Lalit Behera", "link": "https://stackoverflow.com/users/4820070/lalit-behera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545660048, "creation_date": 1545659273, "last_edit_date": 1545660040, "question_id": 53914272, "link": "https://stackoverflow.com/questions/53914272/what-is-the-difference-between-java-static-method-and-kotlin-companion-object", "title": "What is the difference between Java static method and Kotlin companion object ? Why it is giving error in Andorid Data Binding?", "body": "<p>Hi Guys I have one scenario, where I am working with Android data binding .\nI am trying to bind one small util method to the view as bellow </p>\n\n<pre><code>//Java Code\n    public class Util {\n            public static String capitalize(String text) {\n                return text.toUpperCase();\n            }\n    }\n</code></pre>\n\n<p>And Xml Layout code as bellow </p>\n\n<pre><code>//layout.xml--Android\n    &lt;data&gt;\n        &lt;import type=\"com.lkb.baseandroidproject.Util\"/&gt;\n    &lt;/data&gt;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{Util.capitalize(user.name)}\"/&gt;\n</code></pre>\n\n<p>It is woking fine, but when I am converting the Java class to kotlin as </p>\n\n<pre><code>class Util {\n    companion object {\n        fun capitalize(text:String): String {\n            return text.toUpperCase()\n        }\n    }\n}\n\n\n &lt;TextView  android:layout_width=\"wrap_content\"\n     android:layout_height=\"wrap_content\"\n     android:text=\"@{Util.Companion.capitalize(user.name)}\"/&gt;\n</code></pre>\n\n<p>It is giving the error </p>\n\n<pre><code>[kapt] An exception occurred: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n****/ data binding error ****msg:cannot find method capitalize(java.lang.String) in class com.lkb.baseandroidproject.Util.Companion file:/Users/leo/code/Android/Android_projects/Android_projects/BaseAndroidProject/app/src/main/res/layout/content_main.xml loc:23:32 - 23:68 ****\\ data binding error ****\n\n    at android.databinding.tool.processing.Scope.assertNoError(Scope.java:112)\n    at android.databinding.annotationprocessor.ProcessDataBinding.doProcess(ProcessDataBinding.java:109)\n    at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:73)\n    at org.jetbrains.kotlin.kapt3.base.ProcessorWrapper.process(annotationProcessing.kt:99)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "augmented-reality", "arcore", "sceneform"], "answers": [{"comments": [{"owner": {"reputation": 1154, "user_id": 101509, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/ifmsx.png?s=128&g=1", "display_name": "flankechen", "link": "https://stackoverflow.com/users/101509/flankechen"}, "edited": false, "score": 0, "creation_date": 1614937638, "post_id": 54063233, "comment_id": 117543434, "body": "what if not just a snapshot, how to capturing a high res image just like native camera app?"}], "tags": [], "owner": {"reputation": 161, "user_id": 6698901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc604fae52e63959deb6383316e6143d?s=128&d=identicon&r=PG&f=1", "display_name": "silidragos", "link": "https://stackoverflow.com/users/6698901/silidragos"}, "is_accepted": false, "score": 3, "last_activity_date": 1578062794, "last_edit_date": 1578062794, "creation_date": 1546789895, "answer_id": 54063233, "question_id": 53913727, "link": "https://stackoverflow.com/questions/53913727/how-can-i-capture-an-image-using-arcore-camera-with-objects/54063233#54063233", "title": "How can I capture an image using ARCore Camera with objects?", "body": "<p>If you simply need a screenshot of the ARCore view you can try using some Android functionality such as <code>PixelCopy.request(view, bitmap, (copyResult)-&gt;{})</code> on the ArSceneView of the ARCore fragment.</p>\n\n<p>Source: <a href=\"https://codelabs.developers.google.com/codelabs/sceneform-intro/index.html?index=..%2F..io2018#15\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/sceneform-intro/index.html?index=..%2F..io2018#15</a></p>\n"}], "owner": {"reputation": 395, "user_id": 8127475, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Rsmsv.jpg?s=128&g=1", "display_name": "Keval Shukla", "link": "https://stackoverflow.com/users/8127475/keval-shukla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2398, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1578062794, "creation_date": 1545655963, "last_edit_date": 1555267999, "question_id": 53913727, "link": "https://stackoverflow.com/questions/53913727/how-can-i-capture-an-image-using-arcore-camera-with-objects", "title": "How can I capture an image using ARCore Camera with objects?", "body": "<p>I am creating an application using ARCore to display some images on blank surface. I want to capture image of that surface where object is display. I have put a capture button on AR camera screen. </p>\n\n<p>Is it possible to capture that view with objects in ARCore camera? </p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "kotlin-native"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1545654072, "post_id": 53913271, "comment_id": 94670156, "body": "First off, you need to start with finding the actual error. There&#39;s a stacktrace somewhere"}, {"owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1545654871, "post_id": 53913271, "comment_id": 94670391, "body": "finished with non-zero exit value 1 isn&#39;t the actual error? Ok added stacktrace"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "edited": false, "score": 0, "creation_date": 1545683156, "post_id": 53916236, "comment_id": 94677681, "body": "How do I tell it to use a 64-bit java jdk ? Because I have it installed"}], "tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1545672383, "creation_date": 1545672383, "answer_id": 53916236, "question_id": 53913271, "link": "https://stackoverflow.com/questions/53913271/attempting-to-use-kotlin-native-with-intellijs-base-project-but-it-wont-compil/53916236#53916236", "title": "Attempting to use Kotlin Native with IntelliJ&#39;s base project but it won&#39;t compile", "body": "<p>JDK must be 64-bit and either Java 8 or 9.</p>\n"}], "owner": {"reputation": 112, "user_id": 4686300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31a3d68166dca0890f7bbeb3bec049c9?s=128&d=identicon&r=PG&f=1", "display_name": "Kishirada", "link": "https://stackoverflow.com/users/4686300/kishirada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1545672383, "creation_date": 1545653379, "last_edit_date": 1545655016, "question_id": 53913271, "link": "https://stackoverflow.com/questions/53913271/attempting-to-use-kotlin-native-with-intellijs-base-project-but-it-wont-compil", "title": "Attempting to use Kotlin Native with IntelliJ&#39;s base project but it won&#39;t compile", "body": "<p>Hi I'm learning about Kotlin Native and as such I wanted to start with getting a project compiled and running, using IntelliJ's provided Kotlin Native files I get the following error: (Using: \"gradle build\")</p>\n\n<pre><code> Execution failed for task ':compileKotlinMingw'.\n &gt; Process 'command 'C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\\java.exe'' finished with non-zero exit value 1\n</code></pre>\n\n<p>How do I get it working?</p>\n\n<p>The build.gradle:</p>\n\n<pre><code>plugins {\nid 'kotlin-multiplatform' version '1.3.10'\n}\nrepositories {\n     mavenCentral()\n}\nkotlin {\n     targets {\n         // For ARM, preset should be changed to presets.iosArm32 or presets.iosArm64\n    // For Linux, preset should be changed to e.g. presets.linuxX64\n    // For MacOS, preset should be changed to e.g. presets.macosX64\n    fromPreset(presets.mingwX64, 'mingw')\n\n    configure([mingw]) {\n        // Comment to generate Kotlin/Native library (KLIB) instead of executable file:\n        compilations.main.outputKinds('EXECUTABLE')\n        // Change to specify fully qualified name of your application's entry point:\n        compilations.main.entryPoint = 'sample.main'\n    }\n}\nsourceSets {\n    // Note: To enable common source sets please comment out 'kotlin.import.noCommonSourceSets' property\n    // in gradle.properties file and re-import your project in IDE.\n    mingwMain {\n    }\n    mingwTest {\n    }\n}\n}\n\ntask runProgram {\ndef buildType = 'release' // Change to 'debug' to run application with debug symbols.\ndependsOn \"link${buildType.capitalize()}ExecutableMingw\"\ndoLast {\n    def programFile = kotlin.targets.mingw.compilations.main.getBinary('EXECUTABLE', buildType)\n    exec {\n        executable programFile\n        args ''\n    }\n}\n}\n</code></pre>\n\n<p>settings.gradle:</p>\n\n<pre><code>pluginManagement {\nresolutionStrategy {\n    eachPlugin {\n        if (requested.id.id == \"kotlin-multiplatform\") {\n            useModule(\"org.jetbrains.kotlin:kotlin-gradle-\nplugin:${requested.version}\")\n            }\n        }\n    }\n}\nrootProject.name = 'native_test'\n</code></pre>\n\n<p>SampleMingw.kt:</p>\n\n<pre><code>package sample\n\nfun hello(): String = \"Hello, Kotlin/Native!\"\n\nfun main(args: Array&lt;String&gt;)\n{\n    println(hello())\n}\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileKotlinMingw'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:110)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:101)\n    at org.gradle.api.internal.tasks.execution.FinalizeInputFilePropertiesTaskExecuter.execute(FinalizeInputFilePropertiesTaskExecuter.java:44)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:91)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:59)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.run(EventFiringTaskExecuter.java:51)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:46)\n    at org.gradle.execution.taskgraph.LocalTaskInfoExecutor.execute(LocalTaskInfoExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:277)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareWorkItemExecutor.execute(DefaultTaskExecutionGraph.java:262)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:135)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.execute(DefaultTaskPlanExecutor.java:200)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.executeWithWork(DefaultTaskPlanExecutor.java:191)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$ExecutorWorker.run(DefaultTaskPlanExecutor.java:130)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\\java.exe'' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:395)\n    at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:37)\n    at org.gradle.api.internal.file.DefaultFileOperations.javaexec(DefaultFileOperations.java:225)\n    at org.gradle.api.internal.project.DefaultProject.javaexec(DefaultProject.java:1102)\n    at org.jetbrains.kotlin.compilerRunner.KonanCliRunner.run(KotlinNativeToolRunner.kt:127)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinNativeCompile.compile(KotlinNativeTasks.kt:296)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:46)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:39)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:26)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:801)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:768)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:120)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:99)\n    ... 31 more\n</code></pre>\n\n<p>Added above stracktrace with gradle build --stacktrace</p>\n"}, {"tags": ["android", "kotlin", "kotlin-reflect"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1545652941, "post_id": 53912965, "comment_id": 94669831, "body": "UPD: added a way to find a real constructor rather than a synthetic one."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 10, "last_activity_date": 1545660039, "last_edit_date": 1545660039, "creation_date": 1545651636, "answer_id": 53912965, "question_id": 53912047, "link": "https://stackoverflow.com/questions/53912047/two-additional-types-in-default-constructor-in-kotlin/53912965#53912965", "title": "Two Additional types in default constructor in Kotlin?", "body": "<p>These two parameters are added to special synthetic members generated by the Kotlin compiler for all functions and constructors with default parameters.</p>\n\n<p>With Java reflection, you can filter out these synthetic functions and constructors by checking <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Member.html#isSynthetic()\" rel=\"noreferrer\"><code>isSynthetic()</code></a> and finding the one that is not.</p>\n\n<p>The integer parameter is a bit mask. When such a function is called from Kotlin, a bit mask is generated and passed as the argument. The bits show which of the default parameters of the function are passed explicit arguments and which should use the default value.</p>\n\n<p>The <code>DefaultConstructorMarker</code> parameter is used to ensure there's no collision of the synthetic constructor (accepting the bit mask) with a different constructor which has a signature with those same arguments and an <code>Int</code> in the end. The argument passed to the marker parameter is not used in any way, and it is always <code>null</code>.</p>\n\n<p>In fact, there are two methods or constructors generated for each function or constructor, respectively, that has at least one default parameter: one with the same signature as declared and no additional parameters, and the other also accepting a bit mask and the marker.</p>\n\n<p>If you inspect the bytecode of such a function, you will find roughly the following, for a function declaration:</p>\n\n<pre><code>fun foo(bar: String, baz: List&lt;String&gt; = emptyList(), qux: Set&lt;String&gt; = emptySet()) = 0\n</code></pre>\n\n<p>The real method in the bytecode is:</p>\n\n<pre><code>// access flags 0x19\n// signature (Ljava/lang/String;Ljava/util/List&lt;Ljava/lang/String;&gt;;Ljava/util/Set&lt;Ljava/lang/String;&gt;;)I\n// declaration: int foo(java.lang.String, java.util.List&lt;java.lang.String&gt;, java.util.Set&lt;java.lang.String&gt;)\npublic final static foo(\n    Ljava/lang/String;\n    Ljava/util/List;\n    Ljava/util/Set;\n)I\n  // annotable parameter count: 3 (visible)\n  // annotable parameter count: 3 (invisible)\n  @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 0\n  @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 1\n  @Lorg/jetbrains/annotations/NotNull;() // invisible, parameter 2\nL0\n  ALOAD 0\n  LDC \"bar\"\n  INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n  ALOAD 1\n  LDC \"baz\"\n  INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n  ALOAD 2\n  LDC \"qux\"\n  INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkParameterIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\nL1\n  LINENUMBER 16 L1\n  ICONST_0\n  IRETURN\nL2\n  LOCALVARIABLE bar Ljava/lang/String; L0 L2 0\n  LOCALVARIABLE baz Ljava/util/List; L0 L2 1\n  LOCALVARIABLE qux Ljava/util/Set; L0 L2 2\n  MAXSTACK = 2\n  MAXLOCALS = 3\n</code></pre>\n\n<p>And the generated wrapper that handles the bit mask and calculates the default values if necessary is a separate method:</p>\n\n<pre><code>// access flags 0x1009\npublic static synthetic foo$default(\n    Ljava/lang/String;\n    Ljava/util/List;\n    Ljava/util/Set;\n    I\n    Ljava/lang/Object;\n)I\n  ILOAD 3\n  ICONST_2\n  IAND\n  IFEQ L0\nL1\n  LINENUMBER 16 L1\n  INVOKESTATIC kotlin/collections/CollectionsKt.emptyList ()Ljava/util/List;\n  ASTORE 1\nL0\n  ILOAD 3\n  ICONST_4\n  IAND\n  IFEQ L2\n  INVOKESTATIC kotlin/collections/SetsKt.emptySet ()Ljava/util/Set;\n  ASTORE 2\nL2\n  ALOAD 0\n  ALOAD 1\n  ALOAD 2\n  INVOKESTATIC FooKt.foo (Ljava/lang/String;Ljava/util/List;Ljava/util/Set;)I\n  IRETURN\n  MAXSTACK = 3\n  MAXLOCALS = 5\n</code></pre>\n\n<p>Note how the latter checks the bit mask (with <code>ILOAD 3</code>, <code>ICONST_x</code>, <code>IAND</code>) and then conditionally (when <code>IFEQ Lx</code> doesn't skip it) evaluates the default arguments.</p>\n\n<p>Constructors are different from ordinary functions in that they can't have a suffix <code>$default</code> in the name, so the marker is necessary to avoid possible signatures conflict.</p>\n"}], "owner": {"reputation": 1070, "user_id": 4165135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a8735315c4062ee5502f8c34551614?s=128&d=identicon&r=PG&f=1", "display_name": "hcknl", "link": "https://stackoverflow.com/users/4165135/hcknl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 53912965, "answer_count": 1, "score": 6, "last_activity_date": 1545660039, "creation_date": 1545646556, "last_edit_date": 1545655282, "question_id": 53912047, "link": "https://stackoverflow.com/questions/53912047/two-additional-types-in-default-constructor-in-kotlin", "title": "Two Additional types in default constructor in Kotlin?", "body": "<p>Since I've been using <strong>kotlin-reflect</strong> to invoke my default and declared one, I see second different constructor.</p>\n\n<p>I have realized that two different fields <strong>int arg3</strong> and <strong>kotlin.jvm.internal.DefaultConstructorMarker arg4</strong> added to my constructor.</p>\n\n<pre><code>data class Model(\n    @SerializedName(\"xyz\") val entity: String?,\n    @SerializedName(\"abc\") val id: Long? = null\n)\nval constructors = clazz.declaredConstructors // how I call the constructors\n</code></pre>\n\n<p>My actual question is why I have these 2 fields and what is the logic behind it ?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 1270978, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a8fef1b880f9159ed448f1f7d2fc03b?s=128&d=identicon&r=PG", "display_name": "tomhier", "link": "https://stackoverflow.com/users/1270978/tomhier"}, "edited": false, "score": 0, "creation_date": 1545658802, "post_id": 53914034, "comment_id": 94671597, "body": "Thnx for this answer, this helps me forward.   What about the verify-part? Does that remain the same, or can I be more specific inside the verify?"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 490, "user_id": 1270978, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a8fef1b880f9159ed448f1f7d2fc03b?s=128&d=identicon&r=PG", "display_name": "tomhier", "link": "https://stackoverflow.com/users/1270978/tomhier"}, "edited": false, "score": 0, "creation_date": 1545659405, "post_id": 53914034, "comment_id": 94671770, "body": "@TomdeVroomen, sure, you can use <code>id.captured</code> to verify its value"}, {"owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "reply_to_user": {"reputation": 490, "user_id": 1270978, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a8fef1b880f9159ed448f1f7d2fc03b?s=128&d=identicon&r=PG", "display_name": "tomhier", "link": "https://stackoverflow.com/users/1270978/tomhier"}, "edited": false, "score": 0, "creation_date": 1545659808, "post_id": 53914034, "comment_id": 94671899, "body": "@TomdeVroomen I updated my answer to show how to use the <code>Slot</code>"}, {"owner": {"reputation": 145, "user_id": 10936956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b2a4139ea422e9fcef4d15e6e815f69?s=128&d=identicon&r=PG&f=1", "display_name": "J. Buehler", "link": "https://stackoverflow.com/users/10936956/j-buehler"}, "edited": false, "score": 1, "creation_date": 1599131517, "post_id": 53914034, "comment_id": 112681929, "body": "Thanks for the solution, that brought me on the right track. However, the example didn&#39;t quite meet my situation because I wanted to capture the lambda itself. Over on Medium there is a <a href=\"https://medium.com/@marco_cattaneo/kotlin-unit-testing-with-mockk-91d52aea2852\" rel=\"nofollow noreferrer\">great article</a> that does exactly that: <code>val captureCallback = slot&lt;() -&gt; UUID&gt;(); every { save(capture(captureCallback)) } answers { ... }</code>"}, {"owner": {"reputation": 807, "user_id": 5449688, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ba8f158fc222ccb7a0fca0981059c3f?s=128&d=identicon&r=PG", "display_name": "shoheikawano", "link": "https://stackoverflow.com/users/5449688/shoheikawano"}, "reply_to_user": {"reputation": 145, "user_id": 10936956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b2a4139ea422e9fcef4d15e6e815f69?s=128&d=identicon&r=PG&f=1", "display_name": "J. Buehler", "link": "https://stackoverflow.com/users/10936956/j-buehler"}, "edited": false, "score": 0, "creation_date": 1609946466, "post_id": 53914034, "comment_id": 115980055, "body": "@J.Buehler I have never used this function before, but it seems to me that for capturing lambda you can use <code>captureLambda()</code> function <a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">mockk.io</a>"}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 6, "last_activity_date": 1545659764, "last_edit_date": 1545659764, "creation_date": 1545657699, "answer_id": 53914034, "question_id": 53911556, "link": "https://stackoverflow.com/questions/53911556/mockk-verify-lambda-argument/53914034#53914034", "title": "mockk verify lambda argument", "body": "<p>You need a Slot for <a href=\"https://mockk.io/#capturing\" rel=\"noreferrer\">capturing the parameters</a>. </p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>val id = slot&lt;UUID&gt;()\nevery { save(any&lt;JsonEntity&gt;()) { capture(id)} } answers { value }\n\n// `id.captured` contains the value passed \n// as a parameter in the lambda expression `idSupplier`\n\nassertEquals(UUID.fromString(\"4195f789-2730-4f99-8b10-e5b9562210c1\"), id.captured)\n</code></pre>\n"}], "owner": {"reputation": 490, "user_id": 1270978, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a8fef1b880f9159ed448f1f7d2fc03b?s=128&d=identicon&r=PG", "display_name": "tomhier", "link": "https://stackoverflow.com/users/1270978/tomhier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4856, "favorite_count": 0, "accepted_answer_id": 53914034, "answer_count": 1, "score": 9, "last_activity_date": 1545659764, "creation_date": 1545643859, "question_id": 53911556, "link": "https://stackoverflow.com/questions/53911556/mockk-verify-lambda-argument", "title": "mockk verify lambda argument", "body": "<p>I'd like to verify the value which was passed in via a lamdba.\nThe func looks like this:</p>\n\n<pre><code>fun save(entity: Any, idSupplier: () -&gt; UUID): JsonEntity {\n    return save(JsonEntity(idSupplier(), entity, entity::class.simpleName!!))\n}\n</code></pre>\n\n<p>Now within my test I'd like to verify the value which has been passed in for the idSupplier. I made a mock to return a value for the save(...) which is called in my own save(..., () -> ...) like this</p>\n\n<pre><code>every { jsonStorage.save(any&lt;JsonEntity&gt;()) } answers { value }\n</code></pre>\n\n<p>Now on verify I have this now</p>\n\n<pre><code>verify(exactly = 1) { jsonStorage.save(event, any()) }\n</code></pre>\n\n<p>Which is working, but I'd like to know the exact value which has been passed, i.e. if the entity's id was 123, I'd like to verify this.</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["android", "kotlin", "android-styles", "android-dialog"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545639711, "post_id": 53910871, "comment_id": 94665856, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11332928/android-dialog-custom-style\">Android dialog custom style</a>"}, {"owner": {"reputation": 1777, "user_id": 3863447, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/8hHdQ.jpg?s=128&g=1", "display_name": "BekaKK", "link": "https://stackoverflow.com/users/3863447/bekakk"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545640283, "post_id": 53910871, "comment_id": 94666002, "body": "As you can see , I try to find solution in Kotlin. In java, I know how to solve this issue  @Sergey"}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 0, "last_activity_date": 1545640766, "creation_date": 1545640766, "answer_id": 53911087, "question_id": 53910871, "link": "https://stackoverflow.com/questions/53910871/add-custom-style-in-android-dialog/53911087#53911087", "title": "Add custom style in Android Dialog", "body": "<p>Try to change calling constructor of <code>Dialog</code>:</p>\n\n<pre><code>class LoadingProgress(context: Context) : Dialog(context, R.style.DialogTheme) { ... }\n</code></pre>\n"}], "owner": {"reputation": 1777, "user_id": 3863447, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/8hHdQ.jpg?s=128&g=1", "display_name": "BekaKK", "link": "https://stackoverflow.com/users/3863447/bekakk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 53911087, "answer_count": 1, "score": 0, "last_activity_date": 1545642822, "creation_date": 1545639442, "last_edit_date": 1545642822, "question_id": 53910871, "link": "https://stackoverflow.com/questions/53910871/add-custom-style-in-android-dialog", "title": "Add custom style in Android Dialog", "body": "<p>I created my custom Dialog class in kotlin. Everything working perfect but right now ,I try to add my custom style. Here is a my style's code </p>\n\n<pre><code> &lt;style name=\"DialogTheme\" parent=\"Theme.AppCompat.Light.Dialog\"&gt;\n\n    &lt;item name=\"android:layout_width\"&gt;fill_parent&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;fill_parent&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@color/transparent_15&lt;/item&gt;\n    &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowIsFloating\"&gt;false&lt;/item&gt;\n\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n    &lt;item name=\"android:backgroundDimEnabled\"&gt;true&lt;/item&gt;\n\n    &lt;item name=\"colorPrimary\"&gt;@color/black&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/black&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/light_blue&lt;/item&gt;\n\n&lt;/style&gt;\n</code></pre>\n\n<p>and there is my my kotlin code</p>\n\n<pre><code>class LoadingProgress(context: Context) : Dialog(context) {\n\n    private var imageView: ImageView? = null\n    private var message: TextView? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setCancelable(false)\n        setCanceledOnTouchOutside(false)\n        setContentView(R.layout.sp_loading_dialog)\n        imageView = findViewById&lt;View&gt;(R.id.loading_image_view) as ImageView?\n        message = findViewById&lt;View&gt;(R.id.loading_message) as TextView?\n\n    }\n\n    override fun show() {\n        super.show()\n        (imageView!!.background as AnimationDrawable).start()\n\n    }\n}\n</code></pre>\n\n<p>In java, I know how to add custom style,but I can't rewrite java code in kotlin. </p>\n\n<p>Here is a my java code'snippet:</p>\n\n<pre><code>public LoadingProgress(@NonNull Context context) {\n    super(context, R.style.DialogTheme);\n}\n</code></pre>\n\n<p>How I can solve this problem? thanks</p>\n"}, {"tags": ["android", "kotlin", "rx-android"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1545635571, "post_id": 53910308, "comment_id": 94664790, "body": "what kind of problem you faced?can you explain?"}, {"owner": {"reputation": 97, "user_id": 8069213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EVfcvwU1gZ4/AAAAAAAAAAI/AAAAAAAAAco/3Clei_ON9Qs/photo.jpg?sz=128", "display_name": "Praful Ranjan", "link": "https://stackoverflow.com/users/8069213/praful-ranjan"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1545635623, "post_id": 53910308, "comment_id": 94664806, "body": "how to use it in new scenario? Like how to replace this -&gt; SampleClass::create"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1545635697, "post_id": 53910308, "comment_id": 94664824, "body": "what new scenario ..which class to be used?"}, {"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1545636515, "post_id": 53910308, "comment_id": 94665020, "body": "can you add code for <code>SampleClass.create()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8069213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EVfcvwU1gZ4/AAAAAAAAAAI/AAAAAAAAAco/3Clei_ON9Qs/photo.jpg?sz=128", "display_name": "Praful Ranjan", "link": "https://stackoverflow.com/users/8069213/praful-ranjan"}, "edited": false, "score": 0, "creation_date": 1545648858, "post_id": 53911971, "comment_id": 94668599, "body": "Thanks for the help :)"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1545648246, "last_edit_date": 1545648246, "creation_date": 1545646150, "answer_id": 53911971, "question_id": 53910308, "link": "https://stackoverflow.com/questions/53910308/how-to-replace-method-reference-in-java-to-normal-constructor-call/53911971#53911971", "title": "How to replace method reference(::) in java to normal constructor call?", "body": "<p>If I understand correctly, you don't need a constructor call, but a constructor reference. The syntax for it <a href=\"https://kotlinlang.org/docs/reference/reflection.html#constructor-references\" rel=\"nofollow noreferrer\">is <code>::SampleClass</code></a>. But this may not trigger SAM conversion, in which case you'll need</p>\n\n<pre><code> Observable.zip(...,\n                { post, comments -&gt; SampleClass(post, comments) })\n</code></pre>\n\n<p>EDIT: The above assumes that <code>zip</code> is called from Kotlin, if you want to call it from Java, see @ebasha's answer.</p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1545648152, "post_id": 53912167, "comment_id": 94668393, "body": "Ah yes, if the call to <code>zip</code> is still in Java and not translated to Kotlin as well, this is the correct answer."}, {"owner": {"reputation": 439, "user_id": 10760802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d2fdb2d0e1c356c8074784225225b5f?s=128&d=identicon&r=PG&f=1", "display_name": "ebasha", "link": "https://stackoverflow.com/users/10760802/ebasha"}, "edited": false, "score": 0, "creation_date": 1545648683, "post_id": 53912167, "comment_id": 94668537, "body": "Glad I could help :)"}, {"owner": {"reputation": 97, "user_id": 8069213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EVfcvwU1gZ4/AAAAAAAAAAI/AAAAAAAAAco/3Clei_ON9Qs/photo.jpg?sz=128", "display_name": "Praful Ranjan", "link": "https://stackoverflow.com/users/8069213/praful-ranjan"}, "edited": false, "score": 3, "creation_date": 1545648783, "post_id": 53912167, "comment_id": 94668568, "body": "Is there is something wrong with my question as someone dislike it. I am new here so If you can help me understanding it if the question is wrong or wrongly formatted."}], "tags": [], "owner": {"reputation": 439, "user_id": 10760802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d2fdb2d0e1c356c8074784225225b5f?s=128&d=identicon&r=PG&f=1", "display_name": "ebasha", "link": "https://stackoverflow.com/users/10760802/ebasha"}, "is_accepted": false, "score": 5, "last_activity_date": 1545647272, "creation_date": 1545647272, "answer_id": 53912167, "question_id": 53910308, "link": "https://stackoverflow.com/questions/53910308/how-to-replace-method-reference-in-java-to-normal-constructor-call/53912167#53912167", "title": "How to replace method reference(::) in java to normal constructor call?", "body": "<p>U can use <code>SampleClass::new</code> to call the constructor.</p>\n"}], "owner": {"reputation": 97, "user_id": 8069213, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EVfcvwU1gZ4/AAAAAAAAAAI/AAAAAAAAAco/3Clei_ON9Qs/photo.jpg?sz=128", "display_name": "Praful Ranjan", "link": "https://stackoverflow.com/users/8069213/praful-ranjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1545648246, "creation_date": 1545635486, "question_id": 53910308, "link": "https://stackoverflow.com/questions/53910308/how-to-replace-method-reference-in-java-to-normal-constructor-call", "title": "How to replace method reference(::) in java to normal constructor call?", "body": "<p>Earlier I have model class in java which uses <code>autovalue</code>. Now, it's converted to Kotlin data class.</p>\n\n<p>Model Class --></p>\n\n<pre><code>public static SampleClass create(\n@NonNull final SamplePost post,\n@NonNull final List&lt;SampleComment&gt; comments) {\nreturn new AutoValue_SampleClass(post, comments);\n}\n</code></pre>\n\n<p>Calling Class --></p>\n\n<pre><code>return Observable.zip(...\n\n                    SampleClass::create);\n          }\n</code></pre>\n\n<p>new data class --></p>\n\n<pre><code>data class SampleClass(val post: DiscussionPost,\n                       val comments: List&lt;SampleComment&gt;) : Parcelable\n</code></pre>\n\n<p>Now how to call it for data class?</p>\n"}, {"tags": ["android", "kotlin", "mockito", "robolectric"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1545634850, "post_id": 53910186, "comment_id": 94664609, "body": "<a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/properties.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1545646685, "post_id": 53910264, "comment_id": 94667941, "body": "I don&#39;t think this is relevant to the question (except for the link at the end)."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1545635477, "last_edit_date": 1545635477, "creation_date": 1545635136, "answer_id": 53910264, "question_id": 53910186, "link": "https://stackoverflow.com/questions/53910186/kotlin-using-getter-for-read-only-variable/53910264#53910264", "title": "Kotlin using getter for read-only variable", "body": "<p><strong>For getter no need to define get() but setter case set is required.</strong></p>\n\n<p>Since Kotlin 1.1, you can omit the property type if it can be inferred from the getter:</p>\n\n<pre><code>val isEmpty get() = this.size == 0  // has type Boolean\n</code></pre>\n\n<p>If you need to change the visibility of an accessor or to annotate it, but don't need to change the default implementation, you can define the accessor without defining its body:</p>\n\n<pre><code>var setterVisibility: String = \"abc\"\nprivate set // the setter is private and has the default implementation\nvar setterVisibility: String = \"abc\"\nprivate set // the setter is private and has the default implementation\n</code></pre>\n\n<p>\u200b\nfor more details refer <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">Properties and Fields</a></p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1545646630, "creation_date": 1545646630, "answer_id": 53912060, "question_id": 53910186, "link": "https://stackoverflow.com/questions/53910186/kotlin-using-getter-for-read-only-variable/53912060#53912060", "title": "Kotlin using getter for read-only variable", "body": "<p>The link given by IntelliJ Amiya in the comment contains all necessary information, but to answer your question in particular:</p>\n\n<p><code>get() = ...</code> will call <code>ApplicationProvider.getApplicationContext&lt;Context&gt;()</code> each time it's accessed; just <code>= ...</code> will call it once and store, and then return the stored value when accessed. Which one you want or whether they are effectively equivalent (because e.g. the body always returns the same value and fast enough) depends on context.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1545652162, "last_edit_date": 1545652162, "creation_date": 1545646771, "answer_id": 53912078, "question_id": 53910186, "link": "https://stackoverflow.com/questions/53910186/kotlin-using-getter-for-read-only-variable/53912078#53912078", "title": "Kotlin using getter for read-only variable", "body": "<p>You are dealing with two different ways to declare properties:</p>\n\n<p><strong>Property with a backing field</strong></p>\n\n<p>If you declare a property <code>context</code> and assign it like this:</p>\n\n<pre><code>private val context: Context = ApplicationProvider.getApplicationContext&lt;Context&gt;()\n</code></pre>\n\n<p>you created a <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">property with backing field</a>.</p>\n\n<p><code>ApplicationProvider.getApplicationContext&lt;Context&gt;()</code> is evaluated once, when the class is instantiated. Since <code>context</code> is immutable (<code>val</code>) each time the same value is returned (which was assigned by the function call).</p>\n\n<p><strong>Property without a backing field</strong></p>\n\n<p>If you declare <code>context</code> like this</p>\n\n<pre><code>private val context: Context get() = ApplicationProvider.getApplicationContext&lt;Context&gt;()\n</code></pre>\n\n<p>you created a property without a backing field. <code>ApplicationProvider.getApplicationContext&lt;Context&gt;()</code>  will be evaluated each time you access <code>context</code>. The value returned by the <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">getter</a> can change depending if the forwarded call of the function returns something different.</p>\n\n<p><strong>What to use?</strong></p>\n\n<p>So, it depends on your use case, but in this particular case I would recommend you to go with the property without a backing field variant for two reasons:</p>\n\n<ol>\n<li>you cannot be sure <code>ApplicationProvider.getApplicationContext&lt;Context&gt;()</code> will always return the same value, at least the documentation does not mention that explicitely</li>\n<li>forwarding the function call won't have a major performance impact</li>\n</ol>\n"}], "owner": {"reputation": 816, "user_id": 7790894, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/64dbd258a08b9a0bd7e5512820a987bd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7790894/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "accepted_answer_id": 53912078, "answer_count": 3, "score": 0, "last_activity_date": 1545652162, "creation_date": 1545634678, "question_id": 53910186, "link": "https://stackoverflow.com/questions/53910186/kotlin-using-getter-for-read-only-variable", "title": "Kotlin using getter for read-only variable", "body": "<p>Is there any reason we use get() for val variable?</p>\n\n<p>I think following code is not necessary</p>\n\n<pre><code>private val context: Context get() = ApplicationProvider.getApplicationContext&lt;Context&gt;()\n</code></pre>\n\n<p>So I changed this to</p>\n\n<pre><code>private val context: Context = ApplicationProvider.getApplicationContext&lt;Context&gt;()\n</code></pre>\n\n<p>What would be difference using get() for read-only variable?</p>\n"}, {"tags": ["java", "android", "kotlin", "floating-point", "double"], "comments": [{"owner": {"reputation": 27437, "user_id": 95954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/iD0qO.png?s=128&g=1", "display_name": "Rudy Velthuis", "link": "https://stackoverflow.com/users/95954/rudy-velthuis"}, "edited": false, "score": 3, "creation_date": 1545637726, "post_id": 53910120, "comment_id": 94665344, "body": "You misunderstand HALF_DOWN. <b>It does not mean: down to half</b>. It means that it will generally round to the nearest value of the desried precision, but <b>if the value to be rounded is exactly halfway between two values</b>, it will always choose to round down (or, in the case of HALF_UP, to always round up, or in the case of HALF_EVEN, to the value that has the lowest <i>significant</i> bit unset)."}], "answers": [{"comments": [{"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1545665005, "post_id": 53910268, "comment_id": 94673393, "body": "For \u2212.75, this produces \u22121, which may not be what was desired."}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1545665584, "post_id": 53910268, "comment_id": 94673536, "body": "@EricPostpischil I never even thought of negative numbers.  In this case, we can just negate the offset amount."}], "tags": [], "owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": true, "score": 2, "last_activity_date": 1545665537, "last_edit_date": 1545665537, "creation_date": 1545635172, "answer_id": 53910268, "question_id": 53910120, "link": "https://stackoverflow.com/questions/53910120/how-to-half-down-floating-value-like-convert-4-8-to-4-5/53910268#53910268", "title": "How to HALF_DOWN floating value like convert 4.8 to 4.5?", "body": "<p>If you don't feel comfortable using <code>BigDecimal</code>'s way of half rounding, you may consider using the following formula:</p>\n\n<pre><code>double val = 4.8d;\ndouble step = val &gt; 0 ? -0.5d : 0.5d;\ndouble valRounded = Math.round(2*val-step) / 2d;\n</code></pre>\n\n<p><code>valRounded</code> will be <code>4.5</code>, as you expect.  Here is a loop showing how the values are half rounded using this formula:</p>\n\n<pre><code>for (double val=4d; val &lt;= 5.1d; val=val+0.1d) {\n    double step = val &gt; 0 ? -0.5d : 0.5d;\n    System.out.println(val + \"-&gt;\" + Math.round(2*val+step)/2d);\n}\n\n4.0-&gt;4.0\n4.1-&gt;4.0\n4.2-&gt;4.0\n4.3-&gt;4.0\n4.4-&gt;4.0\n4.5-&gt;4.5\n4.6-&gt;4.5\n4.7-&gt;4.5\n4.8-&gt;4.5\n4.9-&gt;4.5\n5.0-&gt;5.0\n5.1-&gt;5.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 1, "creation_date": 1545665082, "post_id": 53910603, "comment_id": 94673410, "body": "Converting a <code>double</code> to <code>int</code> may overflow. And this code will not handle negative values correctly."}, {"owner": {"reputation": 416, "user_id": 8930315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ea59ed726581957bfe802e58d58304?s=128&d=identicon&r=PG&f=1", "display_name": "m fauzan abdi", "link": "https://stackoverflow.com/users/8930315/m-fauzan-abdi"}, "reply_to_user": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1545804574, "post_id": 53910603, "comment_id": 94697343, "body": "@EricPostpischil I&#39;ve updated my answer, I never thought about the negative numbers"}, {"owner": {"reputation": 416, "user_id": 8930315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ea59ed726581957bfe802e58d58304?s=128&d=identicon&r=PG&f=1", "display_name": "m fauzan abdi", "link": "https://stackoverflow.com/users/8930315/m-fauzan-abdi"}, "reply_to_user": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1545875523, "post_id": 53910603, "comment_id": 94717595, "body": "haven&#39;t, I think that formula doesn&#39;t cater for negative numbers. I tried with this val = -3.9 and got result -3.5, while it suppose to be -4.0"}, {"owner": {"reputation": 416, "user_id": 8930315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ea59ed726581957bfe802e58d58304?s=128&d=identicon&r=PG&f=1", "display_name": "m fauzan abdi", "link": "https://stackoverflow.com/users/8930315/m-fauzan-abdi"}, "reply_to_user": {"reputation": 139300, "user_id": 298225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef102f4ee36e58d09e0b27cd5393a1d8?s=128&d=identicon&r=PG", "display_name": "Eric Postpischil", "link": "https://stackoverflow.com/users/298225/eric-postpischil"}, "edited": false, "score": 0, "creation_date": 1545879291, "post_id": 53910603, "comment_id": 94718168, "body": "yes, but I see that the question is need to HALF_DOWN, but then on the contrary that formula for negative numbers give round up result. like val -3.1, got result -3.0."}], "tags": [], "owner": {"reputation": 416, "user_id": 8930315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1ea59ed726581957bfe802e58d58304?s=128&d=identicon&r=PG&f=1", "display_name": "m fauzan abdi", "link": "https://stackoverflow.com/users/8930315/m-fauzan-abdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1545804350, "last_edit_date": 1545804350, "creation_date": 1545637449, "answer_id": 53910603, "question_id": 53910120, "link": "https://stackoverflow.com/questions/53910120/how-to-half-down-floating-value-like-convert-4-8-to-4-5/53910603#53910603", "title": "How to HALF_DOWN floating value like convert 4.8 to 4.5?", "body": "<p>as alternative without using Math Api is do rounding manually base on the fraction, <br>\nbigger than half or not, then set the correct value :</p>\n\n<pre><code>private double roundToHalfDown(double val) {\n    double half = 0.5d;\n    BigDecimal bigDecimalVal = new BigDecimal(String.valueOf(val));\n    int intValue = bigDecimalVal.intValue();\n    double fraction = bigDecimalVal.subtract(new BigDecimal(intValue)).doubleValue();\n    if(val &gt; 0) {\n        val = fraction &gt; half ? intValue + half : intValue;\n    } else {    \n        if(fraction == 0) {\n            val = intValue;\n        } else if(fraction &gt; -half) {\n            val = intValue - half;\n        } else {\n            val = intValue - 1;\n        }   \n    }\n    return val;\n}\n\nroundToHalfDown(4.8);\nOutput : 4.5\nroundToHalfDown(4.4);\nOutput : 4.0\n</code></pre>\n\n<p>for the simple solution you may use this formula :</p>\n\n<pre><code>double valRounded = Math.round((val / 0.5d) - 0.5d) / 2d;\n</code></pre>\n\n<p>here is the the output : </p>\n\n<pre><code>val = -3.9 ---&gt; valRounded = -4.0\nval = -3.1 ---&gt; valRounded = -3.5\nval = 4.8 ---&gt; valRounded = 4.5\n</code></pre>\n"}], "owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 53910268, "answer_count": 2, "score": 2, "last_activity_date": 1545804350, "creation_date": 1545634287, "question_id": 53910120, "link": "https://stackoverflow.com/questions/53910120/how-to-half-down-floating-value-like-convert-4-8-to-4-5", "title": "How to HALF_DOWN floating value like convert 4.8 to 4.5?", "body": "<p><strong>For example:</strong> I want to display ratings like 4.5 if values comes from server like 4.8. it is fine if server value is 5 and i have to display ratings 5. </p>\n\n<p><strong><em>What i tried?</em></strong></p>\n\n<p>I tried some native methods like </p>\n\n<pre><code>BigDecimal(libraryItem.ratingScore.toDouble()).setScale(2, RoundingMode.HALF_UP).toFloat()\n</code></pre>\n\n<p>and i tried this also</p>\n\n<pre><code>Math.ceil(number*2)/2;\n</code></pre>\n\n<p>But this is not working as i want</p>\n\n<hr>\n\n<p>So simple question is How to get nearest floating number like 4.5, 3.5, 2.5 etc. if values is like 4.8, 3.6, 2.7. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1545626478, "post_id": 53909185, "comment_id": 94662942, "body": "Post the error log"}, {"owner": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1545629201, "post_id": 53909185, "comment_id": 94663385, "body": "there is some other code in your activity, that goes null when you call this method. paste your activity code"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1545632387, "post_id": 53909185, "comment_id": 94664031, "body": "post your splash activity code"}], "answers": [{"tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 2, "last_activity_date": 1545634362, "creation_date": 1545634362, "answer_id": 53910129, "question_id": 53909185, "link": "https://stackoverflow.com/questions/53909185/npe-on-finishaffinity-android-5-0/53910129#53910129", "title": "NPE on finishAffinity android 5.0", "body": "<blockquote>\n  <p>NullPointerException is thrown when an application attempts to use an\n  object reference that has the null value</p>\n</blockquote>\n\n<p>You can use <strong><code>try-catch</code></strong> block</p>\n\n<pre><code>  try {\n        ActivityCompat.finishAffinity(this@YourActivityName)\n    } catch (e: Exception) {\n        finish()\n    }\n</code></pre>\n\n<p>Note- If same problem coming then share minimum code.</p>\n"}], "owner": {"reputation": 53, "user_id": 10797722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HdpJ8V2MfVM/AAAAAAAAAAI/AAAAAAAAAKQ/DZ0cSpUCdf0/photo.jpg?sz=128", "display_name": "Ade Dyas", "link": "https://stackoverflow.com/users/10797722/ade-dyas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 53910129, "answer_count": 1, "score": 1, "last_activity_date": 1545634362, "creation_date": 1545625747, "last_edit_date": 1545631522, "question_id": 53909185, "link": "https://stackoverflow.com/questions/53909185/npe-on-finishaffinity-android-5-0", "title": "NPE on finishAffinity android 5.0", "body": "<p>I got NPE for code</p>\n\n<pre><code>finishAffinity ()\n</code></pre>\n\n<p>I know that code was only introduced in API 16, but I got <code>npe</code> on API 21\nShould I used </p>\n\n<pre><code>ActivityCompat.finishAffinity(this) ?\n</code></pre>\n\n<p>I code in kotlin</p>\n\n<p><a href=\"https://i.stack.imgur.com/3I2Xv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3I2Xv.jpg\" alt=\"ScreenShot\"></a></p>\n"}, {"tags": ["android", "kotlin", "bitmap"], "owner": {"reputation": 49025, "user_id": 72437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ay0Dg.jpg?s=128&g=1", "display_name": "Cheok Yan Cheng", "link": "https://stackoverflow.com/users/72437/cheok-yan-cheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1545623666, "creation_date": 1545623666, "question_id": 53909032, "link": "https://stackoverflow.com/questions/53909032/optimized-way-to-perform-canvas-draw-on-child-region-of-a-master-bitmap", "title": "Optimized way to perform canvas draw on child region of a master bitmap", "body": "<p>Currently, I have a custom view where it needs to draw itself on a child region, of a master bitmap. </p>\n\n<p>The master bitmap size is larger than the drawing region of custom view. Currently, this is how my code looks like. Although it works, I feel there should be a way to further optimized it.</p>\n\n<pre><code>// Code in a custom View\nprivate fun getBitmap(): Bitmap {\n    val resources = context.resources\n\n    // Creating a larger master bitmap.\n    val screenWidth = resources.getDisplayMetrics().widthPixels;\n    val screenHeight = resources.getDisplayMetrics().heightPixels;\n    val masterBitmap = Bitmap.createBitmap(screenWidth, screenHeight, Bitmap.Config.ARGB_8888)\n    val masterCanvas = Canvas(masterBitmap)\n    masterCanvas.drawColor(Color.WHITE)\n\n    // Creating a smaller child bitmap.\n    val childBitmap = Bitmap.createBitmap(\n            masterBitmap,\n            (screenWidth-width) shr 1,\n            (screenHeight-height) shr 1,\n            width,\n            height\n    )\n\n    // Perform drawing on smaller child bitmap.\n    val childCanvas = Canvas(childBitmap)\n    draw(childCanvas)\n\n    // Copy the smaller child bitmap back to larger master bitmap.\n    masterCanvas.drawBitmap(\n            childBitmap,\n            ((screenWidth-width) shr 1).toFloat(),\n            ((screenHeight-height) shr 1).toFloat(),\n            Paint()\n    )\n}\n</code></pre>\n\n<p>So, the step can be summarized as follow</p>\n\n<ol>\n<li>Creating a larger master bitmap.</li>\n<li>Creating a smaller child bitmap.</li>\n<li>Perform drawing on smaller child bitmap.</li>\n<li>Copy the smaller child bitmap back to larger master bitmap.</li>\n</ol>\n\n<p>I was wondering, is there a way to eliminate <strong>step 4 :  Copy the smaller child bitmap back to larger master bitmap.</strong> ?</p>\n\n<p>Is it possible to create a child bitmap, which its data memory region directly shared the same data memory region of master bitmap? As, <code>Bitmap.createBitmap</code> will create a new instance of Bitmap, with newly allocated memory.</p>\n\n<p>My desired steps are</p>\n\n<ol>\n<li>Creating a larger master bitmap.</li>\n<li>Creating a smaller child bitmap, by mapping directly to larger master bitmap.</li>\n<li>Perform drawing on smaller child bitmap. This will immediately affect larger master bitmap during child bitmap drawing process.</li>\n</ol>\n\n<p>I was wondering, is there any API enables me to <strong>Creating a smaller child bitmap, by mapping directly to larger master bitmap.</strong> ?</p>\n"}, {"tags": ["android", "http", "kotlin", "jwt"], "answers": [{"tags": [], "owner": {"reputation": 1176, "user_id": 1003149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4497650ac1c7f8ad11927b1919685f7?s=128&d=identicon&r=PG", "display_name": "seg", "link": "https://stackoverflow.com/users/1003149/seg"}, "is_accepted": true, "score": 2, "last_activity_date": 1553611186, "last_edit_date": 1553611186, "creation_date": 1545622399, "answer_id": 53908930, "question_id": 53908691, "link": "https://stackoverflow.com/questions/53908691/android-kotlin-make-get-or-put-request-sending-jwt/53908930#53908930", "title": "Android - Kotlin: make GET or PUT request sending JWT", "body": "<p>I would not recommend to do HTTP requests \"manually\". Instead, take a look at the <a href=\"https://github.com/KotlinBy/awesome-kotlin#libraries-frameworks-http-clients\" rel=\"nofollow noreferrer\">HTTP Client libraries</a> available for/in Kotlin. It will make your life much easier. Here's an example using <a href=\"https://github.com/rybalkinsd/kohttp\" rel=\"nofollow noreferrer\">kohttp</a>:</p>\n\n<pre><code>val response: Response = httpGet {\n    host = \"bla.com\"\n    path = \"/yourpath\"\n\n    header {\n        \"Authorization\" to \"YOUR JWT\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 3267158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed2282b9cf41911305f37dd2b17ffd60?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/3267158/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "accepted_answer_id": 53908930, "answer_count": 1, "score": 1, "last_activity_date": 1553611186, "creation_date": 1545619268, "last_edit_date": 1545631708, "question_id": 53908691, "link": "https://stackoverflow.com/questions/53908691/android-kotlin-make-get-or-put-request-sending-jwt", "title": "Android - Kotlin: make GET or PUT request sending JWT", "body": "<p>From my <code>Android/Kotlin</code> app I need to make requests to a backend <code>REST API</code>. I need to send along a <code>JWT</code> for <code>auth</code>. I'm currently using code like this that I shamelessly copied from this <a href=\"https://stackoverflow.com/a/46179139/3267158\">answer</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private fun sendGet() {\n    val url = \"http://www.google.com/\"\n    val obj = URL(url)\n\n    with(obj.openConnection() as HttpURLConnection) {\n        // optional default is GET\n        requestMethod = \"GET\"\n\n\n        println(\"\\nSending 'GET' request to URL : $url\")\n        println(\"Response Code : $responseCode\")\n\n        BufferedReader(InputStreamReader(inputStream)).use {\n            val response = StringBuffer()\n\n            var inputLine = it.readLine()\n            while (inputLine != null) {\n                response.append(inputLine)\n                inputLine = it.readLine()\n            }\n            println(response.toString())\n        }\n    }\n}\n</code></pre>\n\n<p>But I'm not married to this code if there is a better way using facilities readily available in <code>Android/Kotlin</code>.</p>\n\n<p>Can someone show me some simple code that makes an <code>HTTP PUT</code> or <code>GET</code> request and including a <code>JWT</code> in the header.</p>\n"}, {"tags": ["android", "json", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1176, "user_id": 1003149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4497650ac1c7f8ad11927b1919685f7?s=128&d=identicon&r=PG", "display_name": "seg", "link": "https://stackoverflow.com/users/1003149/seg"}, "is_accepted": false, "score": 0, "last_activity_date": 1545623842, "creation_date": 1545623842, "answer_id": 53909043, "question_id": 53908540, "link": "https://stackoverflow.com/questions/53908540/send-a-get-request-with-a-body-using-fuel/53909043#53909043", "title": "Send a GET request with a body using Fuel", "body": "<p>According to <a href=\"https://github.com/kittinunf/Fuel/issues/529\" rel=\"nofollow noreferrer\">this github issue</a>, you need a <code>.dataParts</code> when using <code>upload</code>:</p>\n\n<blockquote>\n  <p>.upload requests are application/form-multipart, which always require\n  DataPart at the moment</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7178091, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-olScgoxKK0w/AAAAAAAAAAI/AAAAAAAAALM/ad_RyeQNkhA/photo.jpg?sz=128", "display_name": "killerdragon129", "link": "https://stackoverflow.com/users/7178091/killerdragon129"}, "is_accepted": true, "score": 1, "last_activity_date": 1545782852, "creation_date": 1545782852, "answer_id": 53926431, "question_id": 53908540, "link": "https://stackoverflow.com/questions/53908540/send-a-get-request-with-a-body-using-fuel/53926431#53926431", "title": "Send a GET request with a body using Fuel", "body": "<p>A dev of the Fuel lib answer me it'll be added on the version 2.0.0</p>\n\n<p><a href=\"https://i.stack.imgur.com/RcDEG.png\" rel=\"nofollow noreferrer\">github answer from Fuel dev</a></p>\n"}], "owner": {"reputation": 21, "user_id": 7178091, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-olScgoxKK0w/AAAAAAAAAAI/AAAAAAAAALM/ad_RyeQNkhA/photo.jpg?sz=128", "display_name": "killerdragon129", "link": "https://stackoverflow.com/users/7178091/killerdragon129"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 53926431, "answer_count": 2, "score": 1, "last_activity_date": 1545782852, "creation_date": 1545617245, "last_edit_date": 1545782660, "question_id": 53908540, "link": "https://stackoverflow.com/questions/53908540/send-a-get-request-with-a-body-using-fuel", "title": "Send a GET request with a body using Fuel", "body": "<p>I need to send a body with a GET request but got: <code>\"Exception : lateinit property sourceCallback has not been initialized\".</code> I'm using Fuel in <strong>kotlin 1.3.10</strong> with <strong><em>Android Studio</em></strong>.</p>\n\n<p>Is there an alternative or something ?</p>\n\n<p>I follow you my function,</p>\n\n<pre><code>private fun getReq (json : JSONObject) {\n\n    thread {\n        FuelManager.instance.basePath = \"https://blih.epitech.eu\"\n        Fuel.upload(\"/repositories\", Method.GET)\n            .body(json.toString().toByteArray())\n            .header(\"Content-Type\" to \"application/json\")\n            .response { request, response, result -&gt;\n                val (bytes, error) = result\n                if (bytes != null) {\n                    println(\"[response bytes] ${String(bytes)}\")\n                }\n                println(error)\n            }\n    }\n    Thread.sleep(1000)\n}\n</code></pre>\n\n<p>Update:</p>\n\n<p>I add <code>.source { _, _ -&gt; File.createTempFile(\"temp\", \".tmp\")}</code> and no longer have a problem with sourceCallback but now got \"Exception : method does not support a request body: GET\". Any solution ?</p>\n"}, {"tags": ["android", "kotlin", "sms"], "comments": [{"owner": {"reputation": 3773, "user_id": 3111083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb85298c8d24eeeb1747416973003726?s=128&d=identicon&r=PG&f=1", "display_name": "sunil sunny", "link": "https://stackoverflow.com/users/3111083/sunil-sunny"}, "edited": false, "score": 0, "creation_date": 1545618462, "post_id": 53908267, "comment_id": 94661904, "body": "Have you set up your server properly ? Check  <a href=\"https://github.com/googlesamples/android-credentials/tree/master/sms-verification/android\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-credentials/tree/master/&hellip;</a> this for full example"}, {"owner": {"reputation": 349, "user_id": 3854855, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/570618d7e6e7c7df13cc940d707223e2?s=128&d=identicon&r=PG&f=1", "display_name": "sadelbrid", "link": "https://stackoverflow.com/users/3854855/sadelbrid"}, "reply_to_user": {"reputation": 3773, "user_id": 3111083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb85298c8d24eeeb1747416973003726?s=128&d=identicon&r=PG&f=1", "display_name": "sunil sunny", "link": "https://stackoverflow.com/users/3111083/sunil-sunny"}, "edited": false, "score": 0, "creation_date": 1545662650, "post_id": 53908267, "comment_id": 94672730, "body": "I don&#39;t have a server setup. I am manually sending the message to my device from a different device. I didn&#39;t read anything that said having a server was necessary for testing. I didn&#39;t read anything that said it mattered where the text originates from."}, {"owner": {"reputation": 349, "user_id": 3854855, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/570618d7e6e7c7df13cc940d707223e2?s=128&d=identicon&r=PG&f=1", "display_name": "sadelbrid", "link": "https://stackoverflow.com/users/3854855/sadelbrid"}, "reply_to_user": {"reputation": 3773, "user_id": 3111083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb85298c8d24eeeb1747416973003726?s=128&d=identicon&r=PG&f=1", "display_name": "sunil sunny", "link": "https://stackoverflow.com/users/3111083/sunil-sunny"}, "edited": false, "score": 0, "creation_date": 1545670738, "post_id": 53908267, "comment_id": 94674851, "body": "I followed all the steps in the link you gave. I added the google-services.json file, added my app to firebase, and made sure my hash code was right. Still no luck"}, {"owner": {"reputation": 3773, "user_id": 3111083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/eb85298c8d24eeeb1747416973003726?s=128&d=identicon&r=PG&f=1", "display_name": "sunil sunny", "link": "https://stackoverflow.com/users/3111083/sunil-sunny"}, "edited": false, "score": 0, "creation_date": 1545862550, "post_id": 53908267, "comment_id": 94715507, "body": "You definitely need a server .If you don&#39;t have one try setting up with firebase. Try this <a href=\"https://firebase.google.com/docs/auth/android/phone-auth\" rel=\"nofollow noreferrer\">firebase.google.com/docs/auth/android/phone-auth</a> . This is the 2nd point from the link you shared &quot;Your app makes a request to your server to verify the user&#39;s phone number&quot;."}, {"owner": {"reputation": 823, "user_id": 5026681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1e3a21a1d9b8f1ea26a4b0bbed8d6b1?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal", "link": "https://stackoverflow.com/users/5026681/kunal"}, "edited": false, "score": 0, "creation_date": 1547545081, "post_id": 53908267, "comment_id": 95219060, "body": "@sadelbrid Have you solved this problem?"}, {"owner": {"reputation": 2060, "user_id": 313870, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/eeb6068005e32b9bc1c57051ac3e2fa5?s=128&d=identicon&r=PG", "display_name": "Demonick", "link": "https://stackoverflow.com/users/313870/demonick"}, "edited": false, "score": 0, "creation_date": 1548155722, "post_id": 53908267, "comment_id": 95433869, "body": "Check this working example: <a href=\"https://stackoverflow.com/questions/53487081/sms-verification-with-android-smsretrieverclient-not-parsing-message/53538498?noredirect=1#comment94428386_53538498\" title=\"sms verification with android smsretrieverclient not parsing message\">stackoverflow.com/questions/53487081/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5038862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AML2NqkulYk/AAAAAAAAAAI/AAAAAAAAAGY/hGchHnjqNoI/photo.jpg?sz=128", "display_name": "ram prasath", "link": "https://stackoverflow.com/users/5038862/ram-prasath"}, "reply_to_user": {"reputation": 349, "user_id": 3854855, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/570618d7e6e7c7df13cc940d707223e2?s=128&d=identicon&r=PG&f=1", "display_name": "sadelbrid", "link": "https://stackoverflow.com/users/3854855/sadelbrid"}, "edited": false, "score": 0, "creation_date": 1545736061, "post_id": 53911816, "comment_id": 94685411, "body": "Then, there is a possibility for issue in configuration, use onConnected method in GoogleApiClient.ConnectionCallbacks. And also ensure that you have generated proper hash message.  Ex : &lt;#&gt; Your code is: 123ABC78 FA+9qCX9VSu"}], "tags": [], "owner": {"reputation": 1, "user_id": 5038862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AML2NqkulYk/AAAAAAAAAAI/AAAAAAAAAGY/hGchHnjqNoI/photo.jpg?sz=128", "display_name": "ram prasath", "link": "https://stackoverflow.com/users/5038862/ram-prasath"}, "is_accepted": false, "score": -1, "last_activity_date": 1545645250, "creation_date": 1545645250, "answer_id": 53911816, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages/53911816#53911816", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>What have you done as far now is perfect, just small thing add the below in your activity also, it worked for me...........</p>\n\n<p>IntentFilter intentFilter = new IntentFilter();</p>\n\n<p>intentFilter.addAction(SmsRetriever.SMS_RETRIEVED_ACTION);</p>\n\n<p>getApplicationContext().registerReceiver(smsBroadcast, intentFilter);</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8905567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Irmy3.jpg?s=128&g=1", "display_name": "Fat Cat", "link": "https://stackoverflow.com/users/8905567/fat-cat"}, "is_accepted": false, "score": 0, "last_activity_date": 1548146901, "creation_date": 1548146901, "answer_id": 54304378, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages/54304378#54304378", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>I did the same way and it was perfectly working for me. \nMost likely that your application hash is wrong.</p>\n"}, {"tags": [], "owner": {"reputation": 2029, "user_id": 4872155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bmeOzeb6Iio/AAAAAAAAAAI/AAAAAAAAAFI/TBOOcY1Q_9s/photo.jpg?sz=128", "display_name": "Wilder Pereira", "link": "https://stackoverflow.com/users/4872155/wilder-pereira"}, "is_accepted": false, "score": 0, "last_activity_date": 1550099836, "creation_date": 1550099836, "answer_id": 54680914, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages/54680914#54680914", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>I faced the same problem recently. </p>\n\n<p>I figured out the problem was that I was using the production Keystore hash for testing in debug mode. </p>\n\n<p>If you're running in debug mode, make sure to use the default keystore used to sign the debug apk.</p>\n\n<p>The default debug keystore location is <code>$HOME/.android/debug.keystore</code></p>\n\n<p>As per the <a href=\"https://developer.android.com/studio/publish/app-signing#debug-mode\" rel=\"nofollow noreferrer\">app-sign documentation</a>:</p>\n\n<blockquote>\n  <p>When running or debugging your project from the IDE, Android Studio\n  automatically signs your app with a debug certificate generated by the\n  Android SDK tools. The first time you run or debug your project in\n  Android Studio, the IDE automatically creates the debug keystore and\n  certificate in $HOME/.android/debug.keystore, and sets the keystore\n  and key passwords.</p>\n</blockquote>\n\n<p>I recently wrote a blog post about this, <a href=\"https://medium.com/@wilderpereira/secure-android-otp-account-verification-with-the-sms-retriever-api-c395c1985fbf\" rel=\"nofollow noreferrer\">check it out for more details</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 1473855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7c9766fe4c4fffd463819ef99c147b9?s=128&d=identicon&r=PG", "display_name": "Kurniawan Prasetyo", "link": "https://stackoverflow.com/users/1473855/kurniawan-prasetyo"}, "is_accepted": false, "score": 8, "last_activity_date": 1551855860, "creation_date": 1551855860, "answer_id": 55017393, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages/55017393#55017393", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>Maybe your message has wrong construction, please check this link: <a href=\"https://developers.google.com/identity/sms-retriever/verify#1_construct_a_verification_message\" rel=\"noreferrer\">SMS Retriever API</a>. At the first point, your text message must be begin with &lt;#> or [#]. And at the 4th point, Your text message must be-\"End with an 11-character hash string that identifies your app\"</p>\n\n<p>I have the same issue and that points is my awareness, solve by adding &lt;#> in begining and hash string at the end.</p>\n"}, {"tags": [], "owner": {"reputation": 1378, "user_id": 10449332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6caa5ef02a216456f07508649ab1562?s=128&d=identicon&r=PG&f=1", "display_name": "deepak raj", "link": "https://stackoverflow.com/users/10449332/deepak-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1553681898, "creation_date": 1553681898, "answer_id": 55374780, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages/55374780#55374780", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>Register the BroadcastReceiver inside SmsRetrievers <strong>addOnSuccessListener</strong> callback method, don't register in <strong>Manifest</strong> file.</p>\n\n<pre><code>val client = SmsRetriever.getClient(this)\n        val retriever = client.startSmsRetriever()\n        retriever.addOnSuccessListener {\n            val listener = object : SMSBroadcastReceiver.Listener {\n                override fun onSMSReceived(otp: String) {\n                    Log.d(\"AppSignatureHelper\",otp)\n                    Toast.makeText(context, otp, Toast.LENGTH_SHORT).show()\n                }\n\n                override fun onTimeOut() {\n                    Log.d(\"AppSignatureHelper\",\"Timed Out.\")\n                }\n            }\n            smsBroadcastReceiver.injectListener(listener)\n            registerReceiver(smsBroadcastReceiver, IntentFilter(SmsRetriever.SMS_RETRIEVED_ACTION))\n        }\n        retriever.addOnFailureListener {\n            Log.d(\"AppSignatureHelper\",\"Problem to start listener\")\n            //Problem to start listener\n        }\n</code></pre>\n\n<p>Listener Interface is.</p>\n\n<pre><code> interface Listener {\n        fun onSMSReceived(otp: String)\n        fun onTimeOut()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 3090156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/skSky.jpg?s=128&g=1", "display_name": "thomasgalliker", "link": "https://stackoverflow.com/users/3090156/thomasgalliker"}, "is_accepted": false, "score": 2, "last_activity_date": 1576575067, "creation_date": 1576575067, "answer_id": 59371215, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages/59371215#59371215", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>Two problems I faced when I was trying to get this to work:</p>\n\n<p>1) The SMS message needs to be well-formatted. You might think 'ok, I got it' but in my case I had more than one line break between the first line of the SMS and the signature hash key. Make sure you strictly follow this pattern:</p>\n\n<pre><code>&lt;#&gt; Your xy verification code is 123456\nFA+9qCX9VSu\n</code></pre>\n\n<p>2) Make sure you're using the right hash key. Android will not call the onReceive method unless your signature hash in the SMS message matches the one from the running app. Why I say this? You will have different hashes on your local debug version and the version deployed in the store. One point to mention here is that google can take over the signing part for you once you upload the apk to google console.</p>\n\n<p>Hope this helps... my two days are wasted now.</p>\n"}], "owner": {"reputation": 349, "user_id": 3854855, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/570618d7e6e7c7df13cc940d707223e2?s=128&d=identicon&r=PG&f=1", "display_name": "sadelbrid", "link": "https://stackoverflow.com/users/3854855/sadelbrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9186, "favorite_count": 2, "answer_count": 6, "score": 7, "last_activity_date": 1576575067, "creation_date": 1545612678, "question_id": 53908267, "link": "https://stackoverflow.com/questions/53908267/google-sms-retriever-api-not-retreiving-sms-messages", "title": "Google SMS Retriever API not retreiving SMS messages", "body": "<p>I'm trying to use Google's SMS Retriever API for Automatic SMS Verification. I have followed the directions <a href=\"https://developers.google.com/identity/sms-retriever/overview\" rel=\"noreferrer\">here</a> but my app is not receiving any SMS messages. Here is what I've done:</p>\n\n<p>I've added the code in my activity to start the SMS retriever client:</p>\n\n<pre><code>    val client = SmsRetriever.getClient(this)\n    val retriever = client.startSmsRetriever()\n    retriever.addOnSuccessListener {\n        Log.i(\"loginActivity\", \"started smsretriever\")\n    }\n\n    retriever.addOnFailureListener {\n        //Problem to start listener\n    }\n</code></pre>\n\n<p>From the logs, I see this starts successfully. Then I add my broadcast receiver with this onReceive:</p>\n\n<pre><code>override fun onReceive(context: Context, intent: Intent) {\n    if (SmsRetriever.SMS_RETRIEVED_ACTION == intent.action) {\n        val extras = intent.extras\n        val status = extras.get(SmsRetriever.EXTRA_STATUS) as Status\n\n        when (status.statusCode) {\n            CommonStatusCodes.SUCCESS -&gt; {\n\n            }\n            CommonStatusCodes.TIMEOUT -&gt; {\n\n            }\n    }\n}\n</code></pre>\n\n<p>This only triggers when a TIMEOUT event is sent 5 minutes after the SMS retriever client starts. It never triggers for SMS messages.</p>\n\n<p>Finally, I've registered the receiver in the Manifest:</p>\n\n<pre><code>&lt;receiver android:name=\".receiver.SMSReceiver\" android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.android.gms.auth.api.phone.SMS_RETRIEVED\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>In terms of the text message, I am sending myself this SMS message: \n\"&lt;#> Your code is: 123456\nverification hash: \"</p>\n\n<p>Any idea what I'm doing wrong?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": false, "score": 0, "last_activity_date": 1545616429, "creation_date": 1545616429, "answer_id": 53908490, "question_id": 53908239, "link": "https://stackoverflow.com/questions/53908239/not-contains-and-and-or-operator-not-properly-working-in-kotlin/53908490#53908490", "title": "&quot;Not Contains&quot; and &quot;and/or&quot; operator not properly working in Kotlin", "body": "<p>Looking over your conditions, I believe the issue is with <code>currentItem !in selectionList</code>.</p>\n\n<pre><code>if((rnd !in selectionList) and (currentItem !in selectionList)) {\n     selectionList.add(rnd)\n     choiceItems.add(getLessonItem(rnd, lessonItems))\n     // possibly update currentItem here.\n}\n</code></pre>\n\n<p>While you're adding things to <code>rnd</code> to <code>selectionList</code>, you're not updating <code>currentItem</code>. <code>currentItem</code> is always <code>0</code>.</p>\n\n<p>I would suggest adding <code>currentItem = rnd</code>, but I believe you should be able to just remove <code>currentItem</code> all together.</p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1545647534, "last_edit_date": 1545647534, "creation_date": 1545647109, "answer_id": 53912135, "question_id": 53908239, "link": "https://stackoverflow.com/questions/53908239/not-contains-and-and-or-operator-not-properly-working-in-kotlin/53912135#53912135", "title": "&quot;Not Contains&quot; and &quot;and/or&quot; operator not properly working in Kotlin", "body": "<blockquote>\n  <p>sometimes I also experience forever loop if currentItem and rnd is\n  equals</p>\n</blockquote>\n\n<p>They don't need to be equal to experience an infinite loop.  <br/>\nWhen the number <code>0</code> is added to the list, then this condition</p>\n\n<pre><code>currentItem !in selectionList\n</code></pre>\n\n<p>is always <code>false</code> making the whole condition</p>\n\n<pre><code>(rnd !in selectionList) and (currentItem !in selectionList)\n</code></pre>\n\n<p>also <code>false</code>, so the loop will be executed infinitely.  <br/><br/>\nIt's not clear why you need <code>currentItem</code>. <br/>\nIf you need it to exclude its value from the numbers added to the list change this:</p>\n\n<pre><code>currentItem !in selectionList\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>currentItem != rnd\n</code></pre>\n\n<blockquote>\n  <p>number that is already existed in my list is still added</p>\n</blockquote>\n\n<p>this is something that you have to debug and find out the case where it happens.  <br/>\nWith the code you provide this seems impossible. <br/><br/>\n<strong>Important note</strong>: don't use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/and.html\" rel=\"nofollow noreferrer\">bitwise operator <code>and</code></a> in logical expressions. <br/> Use <code>&amp;&amp;</code> (logical <code>AND</code> operator). <br/><br/>\n<strong>Edit</strong><br/>\nThe title of your question contains <em>\"and/or\" ....</em> <br/>\nmaybe you tried <code>or</code> instead of <code>and</code> in the condition? <br/>\nIf you did then you could get duplicates in the list.</p>\n"}], "owner": {"reputation": 305, "user_id": 4400667, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/72c32b83b4dc744da698f6f3171ac1e2?s=128&d=identicon&r=PG&f=1", "display_name": "MaChee Neraid", "link": "https://stackoverflow.com/users/4400667/machee-neraid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1545647534, "creation_date": 1545612032, "question_id": 53908239, "link": "https://stackoverflow.com/questions/53908239/not-contains-and-and-or-operator-not-properly-working-in-kotlin", "title": "&quot;Not Contains&quot; and &quot;and/or&quot; operator not properly working in Kotlin", "body": "<p>\"is not in list\" and \"and/or\" operator not working in Kotlin</p>\n\n<p>Hi,</p>\n\n<p>Currently I am doing a shuffle function<br>\nThe app while shuffle a random number.  </p>\n\n<p>If the number is not yet in my list, I will add it<br>\nif already existed, continue my while loop</p>\n\n<pre><code>var currentItem : Int = 0\nvar selectionList : MutableList&lt;Int&gt; = ArrayList()\nvar choiceItems : MutableList&lt;NihongoLessonObject.LessonItems&gt; = ArrayList()    \n\n\n\nfun addingChoiceItems(lessonItems : NihongoLessonObject.JsonFetch) : MutableList&lt;NihongoLessonObject.LessonItems&gt;{\n    while (choiceItems.size &lt; 3) {\n        var rnd = (0..9).random()\n        if((rnd !in selectionList) and (currentItem !in selectionList)) {\n            selectionList.add(rnd)\n            choiceItems.add(getLessonItem(rnd, lessonItems))\n        }\n    }\n    return choiceItems\n}\n</code></pre>\n\n<p>number that is already existed in my list is still added. </p>\n\n<p>sometimes I also experience forever loop if currentItem and rnd is equals.</p>\n"}, {"tags": ["java", "spring", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 5, "last_activity_date": 1545611390, "creation_date": 1545611390, "answer_id": 53908207, "question_id": 53907554, "link": "https://stackoverflow.com/questions/53907554/kotlin-wrong-nullability-inference-without-any-generics/53908207#53908207", "title": "kotlin wrong nullability inference without any generics", "body": "<p>There are no explicit nullability annotations on the parameter of <code>MockMvcResultMatchers.forwardedUrl</code>, so it will default to <code>@NonNullApi</code>, as indicated in the <a href=\"https://github.com/spring-projects/spring-framework/blob/a89e716cc71a8741385a0224b5d7eb7ce009e11a/spring-test/src/main/java/org/springframework/test/web/servlet/result/package-info.java\" rel=\"noreferrer\"><code>package-info.java</code></a>:</p>\n\n<pre><code>/**\n * Contains built-in {@code ResultMatcher} and {@code ResultHandler} implementations.\n * &lt;p&gt;Use {@link org.springframework.test.web.servlet.result.MockMvcResultMatchers}\n * and {@link org.springframework.test.web.servlet.result.MockMvcResultHandlers}\n * to access instances of those implementations.\n */\n@NonNullApi\n@NonNullFields\npackage org.springframework.test.web.servlet.result;\n\nimport org.springframework.lang.NonNullApi;\nimport org.springframework.lang.NonNullFields;\n</code></pre>\n\n<p>There's no way to describe nullability in Java, so by default passing both <code>String</code> and <code>String?</code> into a Java method that accepts a <code>String</code> would work. However, Kotlin compiler honors different flavors of nullability annotations (such as <code>javax.annotation.*</code>, Android's annotations, Spring's annotations) to allow Java code to provide nullability information to Kotlin callers.</p>\n\n<p>How to bypass this? You can't. You're passing an argument of the wrong type \n - <code>String</code> and <code>String?</code> are different types in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": false, "score": -1, "last_activity_date": 1545614529, "creation_date": 1545614529, "answer_id": 53908374, "question_id": 53907554, "link": "https://stackoverflow.com/questions/53907554/kotlin-wrong-nullability-inference-without-any-generics/53908374#53908374", "title": "kotlin wrong nullability inference without any generics", "body": "<p><code>val url : String? = null</code>, then the variable <code>url</code> <strong>is</strong> <code>null</code> with nullable type <code>String?</code> since it is a immutable <code>val</code>. However I think we should ignore the mutability in this question.</p>\n\n<p>To \"nonnull\" it, the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">Elvis opeator</a> can be used:</p>\n\n<pre><code>val matcher: ResultMatcher = MockMvcResultMatchers.forwardedUrl(url ?: \"\")\n</code></pre>\n\n<p>Or replace the \"default\" value into whatever you need.</p>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 53908207, "answer_count": 2, "score": 5, "last_activity_date": 1545614529, "creation_date": 1545603368, "last_edit_date": 1545605946, "question_id": 53907554, "link": "https://stackoverflow.com/questions/53907554/kotlin-wrong-nullability-inference-without-any-generics", "title": "kotlin wrong nullability inference without any generics", "body": "<p>in spring mvc (5.1.3) i'm trying to do:</p>\n\n<pre><code>val url : String? = null\nval matcher: ResultMatcher = MockMvcResultMatchers.forwardedUrl(url)\n</code></pre>\n\n<p>and i get compilation error for the second line.</p>\n\n<p>from intellij (kotlinc-jvm 1.3.11):</p>\n\n<pre><code>Error:(230, 56) Kotlin: Null can not be a value of a non-null type String\n</code></pre>\n\n<p>or from gradle (kotlin 1.2.71):</p>\n\n<pre><code> Type mismatch: inferred type is String? but String was expected\n</code></pre>\n\n<p>the java source code of spring method is:</p>\n\n<pre><code>/**\n * Asserts the request was forwarded to the given URL.\n * &lt;p&gt;This method accepts only exact matches.\n * @param expectedUrl the exact URL expected\n */\npublic static ResultMatcher forwardedUrl(String expectedUrl) {\n    return result -&gt; assertEquals(\"Forwarded URL\", expectedUrl, result.getResponse().getForwardedUrl());\n}\n</code></pre>\n\n<p>intellij displays javadoc:</p>\n\n<pre><code>org.springframework.test.web.servlet.result.MockMvcResultMatchers @NotNull \n@Contract(pure = true) \npublic static org.springframework.test.web.servlet.ResultMatcher forwardedUrl(@Nullable String expectedUrl)\n</code></pre>\n\n<p>so why the compiler still requires non-nullable type and how to bypass that requirement?</p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 326, "user_id": 4304677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-nIkkoSiBR4g/AAAAAAAAAAI/AAAAAAAAAFY/8ZxVCy95KRc/photo.jpg?sz=128", "display_name": "Selim Ajimi", "link": "https://stackoverflow.com/users/4304677/selim-ajimi"}, "edited": false, "score": 0, "creation_date": 1545595739, "post_id": 53906434, "comment_id": 94658144, "body": "Can you provide us with FavoriteTeam"}, {"owner": {"reputation": 17, "user_id": 10630236, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215887088762143/picture?type=large", "display_name": "Eng Kusnandar", "link": "https://stackoverflow.com/users/10630236/eng-kusnandar"}, "reply_to_user": {"reputation": 326, "user_id": 4304677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-nIkkoSiBR4g/AAAAAAAAAAI/AAAAAAAAAFY/8ZxVCy95KRc/photo.jpg?sz=128", "display_name": "Selim Ajimi", "link": "https://stackoverflow.com/users/4304677/selim-ajimi"}, "edited": false, "score": 0, "creation_date": 1545620247, "post_id": 53906434, "comment_id": 94662148, "body": "Solved .. After traced the code"}, {"owner": {"reputation": 326, "user_id": 4304677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-nIkkoSiBR4g/AAAAAAAAAAI/AAAAAAAAAFY/8ZxVCy95KRc/photo.jpg?sz=128", "display_name": "Selim Ajimi", "link": "https://stackoverflow.com/users/4304677/selim-ajimi"}, "edited": false, "score": 0, "creation_date": 1545647345, "post_id": 53906434, "comment_id": 94668134, "body": "so what&#39;s the problem exactly ?"}, {"owner": {"reputation": 17, "user_id": 10630236, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215887088762143/picture?type=large", "display_name": "Eng Kusnandar", "link": "https://stackoverflow.com/users/10630236/eng-kusnandar"}, "reply_to_user": {"reputation": 326, "user_id": 4304677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-nIkkoSiBR4g/AAAAAAAAAAI/AAAAAAAAAFY/8ZxVCy95KRc/photo.jpg?sz=128", "display_name": "Selim Ajimi", "link": "https://stackoverflow.com/users/4304677/selim-ajimi"}, "edited": false, "score": 0, "creation_date": 1545678791, "post_id": 53906434, "comment_id": 94676780, "body": "In FavoriteTeam data class i should.add question mark after string. I.e  val idteam:string?&#39;"}], "owner": {"reputation": 17, "user_id": 10630236, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215887088762143/picture?type=large", "display_name": "Eng Kusnandar", "link": "https://stackoverflow.com/users/10630236/eng-kusnandar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1545608945, "creation_date": 1545592141, "last_edit_date": 1545608945, "question_id": 53906434, "link": "https://stackoverflow.com/questions/53906434/sqlite-failed-to-parse-the-row", "title": "SQLite Failed to Parse The Row", "body": "<p>I tried to add data to SQLite and then read it, but when I run the apps its force closed..</p>\n\n<p>here is part of the logcat which I assume the problem</p>\n\n<blockquote>\n  <p>12-24 01:57:19.462 15349-15349/com.eldarcreative.portalbola E/AndroidRuntime: FATAL EXCEPTION: main\n      Process: com.eldarcreative.portalbola, PID: 15349\n      java.lang.RuntimeException: Unable to start activity ComponentInfo{com.eldarcreative.portalbola/com.eldarcreative.portalbola.Favorit}: org.jetbrains.anko.AnkoException: Class parser for com.eldarcreative.portalbola.Database.FavoriteTeam failed to parse the row:</p>\n</blockquote>\n\n<p>This is my database code</p>\n\n<pre><code>db.createTable(FavoriteTeam.TEAM_TABLE, true,\n        FavoriteTeam.ID to INTEGER + PRIMARY_KEY + AUTOINCREMENT,\n        FavoriteTeam.TEAM_ID to TEXT,\n        FavoriteTeam.STR_TEAM to TEXT,\n        FavoriteTeam.TEAM_BADGE to TEXT,\n        FavoriteTeam.TEAM_MANAGER to TEXT,\n        FavoriteTeam.STADIUM to TEXT,\n        FavoriteTeam.DESCRIPTION to TEXT,\n        FavoriteTeam.TEAM_BANNER to TEXT)\n</code></pre>\n\n<p>here the code where I add the data to database</p>\n\n<pre><code>    private fun addToFavorite() {\n    try {\n        database.use {\n            insert(\n                FavoriteTeam.TEAM_TABLE,\n                    FavoriteTeam.TEAM_ID to id_team,\n                FavoriteTeam.STR_TEAM to txtdetailnama.text,\n                FavoriteTeam.TEAM_BADGE to strTeamBadge,\n                FavoriteTeam.TEAM_MANAGER to txtnamamanager.text,\n                FavoriteTeam.STADIUM to txtnamastadion.text,\n                FavoriteTeam.DESCRIPTION to teamOverview.text,\n                FavoriteTeam.TEAM_BANNER to strTeamBanner\n\n            )\n        }\n\n        toast (\"Data Telah Di Simpan\"  )\n    } catch (e: SQLiteConstraintException) {\n        toast(\"Error: ${e.message}\")\n    }\n}\n</code></pre>\n\n<p>and this code is when I tried to display it</p>\n\n<pre><code>   fun defaultfave(){\n    rvfavorite.layoutManager= GridLayoutManager(this,3)\n    database.use {\n        favoriteams.clear()\n        val hasil1 = select(FavoriteTeam.TEAM_TABLE)\n        val datafav1 = hasil1.parseList(classParser&lt;FavoriteTeam&gt;())\n        favoriteams.addAll(datafav1)\n        rvfavorite.adapter = FavoriteTeamAdapter(favoriteams)\n\n    }\n</code></pre>\n\n<p>FavouriteTeam is :-</p>\n\n<pre><code>@Parcelize\ndata class FavoriteTeam(\n    val id: Long?,\n    val idTeam: String,\n    val str_team : String,\n    val team_manager : String,\n    val stadium:String,\n    val deskription : String,\n    val team_baner:String,\n    val team_badge:String,\n    val urlImage: String\n): Parcelable {\n    companion object {\n        const val TEAM_TABLE: String = \"TEAM_TABLE\"\n        const val ID: String = \"ID_\"\n        const val TEAM_ID: String = \"TEAM_ID\"\n        const val STR_TEAM:String=\"STR_TEAM\"\n        const val TEAM_BADGE: String = \"TEAM_BADGE\"\n        const val TEAM_MANAGER:String =\"TEAM_MANAGER\"\n        const val STADIUM :String =\"STADIUM\"\n        const val DESCRIPTION:String =\"DESCRIPTION\"\n        const val TEAM_BANNER:String=\"TEAM_BANNER\"\n\n    }\n}\n</code></pre>\n\n<p>but it's failed, anyone knew why and how to fix it</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 1096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9l8Zx.png?s=128&g=1", "display_name": "Marcel Blanck", "link": "https://stackoverflow.com/users/1096654/marcel-blanck"}, "edited": false, "score": 0, "creation_date": 1545609353, "post_id": 53906279, "comment_id": 94660697, "body": "Maybe delay delay(0L) or delay(1L) keeps other things responsive but goes on with processing as fast as possible. Make sure to catch CancellationException and return if there is a chance something is able to cancel the coroutine."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1545637310, "post_id": 53906279, "comment_id": 94665239, "body": "A compromise would be to start with <code>1L</code> and increase it (up to some limit) if first checks fail."}], "tags": [], "owner": {"reputation": 737, "user_id": 6275844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f7071f7e0149f02e945420a120a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan 0", "link": "https://stackoverflow.com/users/6275844/dan-0"}, "is_accepted": false, "score": -3, "last_activity_date": 1545591018, "creation_date": 1545591018, "answer_id": 53906279, "question_id": 53906195, "link": "https://stackoverflow.com/questions/53906195/suspend-coroutine-until-condition-is-true/53906279#53906279", "title": "Suspend coroutine until condition is true", "body": "<p>You're in a suspended function, why not something like:</p>\n\n<pre><code>while (!service.isConnected()) {\n    delay(1000)\n}\n</code></pre>\n\n<p>You can put additional timeout conditions into this statement.</p>\n"}, {"comments": [{"owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "edited": false, "score": 0, "creation_date": 1545648072, "post_id": 53910693, "comment_id": 94668367, "body": "Do you mean that by the time <code>suspendUntilConnected()</code> returns, <code>onConnectionSuspended()</code> might have been called ? Is it caused by how <code>Deferred.await()</code> is implemented ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "edited": false, "score": 1, "creation_date": 1545659448, "post_id": 53910693, "comment_id": 94671784, "body": "It has nothing to do with this code. It&#39;s the general fact that, just because at one point you observed a live connection, there&#39;s no guarantee it will be live at the subsequent moment when you actually use it. Whenever you <i>Check, then act</i>, you&#39;re susceptible to this."}, {"owner": {"reputation": 359, "user_id": 3139727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001437400396/picture?type=large", "display_name": "kr15hna", "link": "https://stackoverflow.com/users/3139727/kr15hna"}, "edited": false, "score": 0, "creation_date": 1617154710, "post_id": 53910693, "comment_id": 118222814, "body": "Just to clarify, it is expected that deferredUntilConnected is already completed if onConnectionSuspended gets called right ?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 359, "user_id": 3139727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001437400396/picture?type=large", "display_name": "kr15hna", "link": "https://stackoverflow.com/users/3139727/kr15hna"}, "edited": false, "score": 1, "creation_date": 1617177927, "post_id": 53910693, "comment_id": 118228314, "body": "@kr15hna My assumption is that the connection first has to be established before it can be suspended."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1545659619, "last_edit_date": 1545659619, "creation_date": 1545638160, "answer_id": 53910693, "question_id": 53906195, "link": "https://stackoverflow.com/questions/53906195/suspend-coroutine-until-condition-is-true/53910693#53910693", "title": "Suspend coroutine until condition is true", "body": "<p>Here's how you can implement it:</p>\n\n<pre><code>class ServiceWrapper {\n    @Volatile\n    private var deferredUntilConnected = CompletableDeferred&lt;Unit&gt;()\n\n    private val service = Service(object : ConnectionCallback {\n        override fun onConnected() {\n            deferredUntilConnected.complete(Unit)\n        }\n\n        override fun onConnectionSuspended() {\n            deferredUntilConnected = CompletableDeferred()\n        }\n    })\n\n    private suspend fun suspendUntilConnected() = deferredUntilConnected.await()\n\n    ...\n}\n</code></pre>\n\n<p>A general note: just because the service got connected at a certain point doesn't guarantee it will still be connected by the time you use it.</p>\n"}, {"tags": [], "owner": {"reputation": 2829, "user_id": 2828100, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/538592314/picture?type=large", "display_name": "funct7", "link": "https://stackoverflow.com/users/2828100/funct7"}, "is_accepted": false, "score": 0, "last_activity_date": 1599874355, "creation_date": 1599874355, "answer_id": 63856061, "question_id": 53906195, "link": "https://stackoverflow.com/questions/53906195/suspend-coroutine-until-condition-is-true/63856061#63856061", "title": "Suspend coroutine until condition is true", "body": "<ol>\n<li><code>suspendCoroutine</code> suspends the currently running coroutine, so no need for a pre-suspension.</li>\n</ol>\n<blockquote>\n<p>Obtains the current continuation instance inside suspend functions and suspends the currently running coroutine.</p>\n</blockquote>\n<ol start=\"2\">\n<li>On a different note, I suggest using <code>async</code> and return a <code>Deferred</code>. It's not really the job of the <code>ServiceWrapper</code> to suspend. The caller should take control of when the result is need and therefore, when to suspend if needed.</li>\n</ol>\n<pre><code>class ServiceWrapper {\n\n    ...\n\n    fun performAction(actionName: String): Deferred&lt;ActionResult&gt; = coroutineScope.async {\n        suspendCoroutine { continuation -&gt;\n            service.performAction(actionName, object : ActionCallback() {\n                override fun onSuccess(result: ActionResult) {\n                    continuation.resume(result)\n                }\n\n                override fun onError() {\n                    continuation.resumeWithException(RuntimeException())\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>If for some reason, you have to suspend before <code>suspendCoroutine</code>, I suggest using a <code>CompletableJob</code>. <code>Deferred</code> should return a result. Using <code>Deferred&lt;Unit&gt;</code> seems like an anti-pattern from my point of view.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 359, "user_id": 3139727, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100001437400396/picture?type=large", "display_name": "kr15hna", "link": "https://stackoverflow.com/users/3139727/kr15hna"}, "edited": false, "score": 0, "creation_date": 1617154120, "post_id": 66332000, "comment_id": 118222710, "body": "what if stateFlow.value changes right before calling stateFlow.first such that our condition becomes true, wouldn&#39;t this cause the function to suspend even though condition is true ?"}], "tags": [], "owner": {"reputation": 1570, "user_id": 2997128, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001613502712/picture?type=large", "display_name": "Owen Chen", "link": "https://stackoverflow.com/users/2997128/owen-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1614080912, "last_edit_date": 1614080912, "creation_date": 1614078672, "answer_id": 66332000, "question_id": 53906195, "link": "https://stackoverflow.com/questions/53906195/suspend-coroutine-until-condition-is-true/66332000#66332000", "title": "Suspend coroutine until condition is true", "body": "<p><strong>Another approach with <code>StateFlow</code></strong></p>\n<ol>\n<li>Define some &quot;state&quot; first</li>\n</ol>\n<pre><code>enum class ServiceState {\n    CONNECTED, SUSPENDED, FAILED\n}\n</code></pre>\n<ol start=\"2\">\n<li>Convert the callback-based code to flow</li>\n</ol>\n<pre><code>val connectionState = MutableStateFlow(ServiceState.FAILED)\n\nprivate val service = Service(object : ConnectionCallback {\n    override fun onConnected() {\n        connectionState.value = ServiceState.CONNECTED\n    }\n\n    override fun onConnectionSuspended() {\n        connectionState.value = ServiceState.SUSPENDED\n    }\n\n    override fun onConnectionFailed() {\n        connectionState.value = ServiceState.FAILED\n    }\n})\n</code></pre>\n<ol start=\"3\">\n<li>Copy and paste these utils code</li>\n</ol>\n<pre><code>class ConditionalAwait&lt;T&gt;(\n    private val stateFlow: StateFlow&lt;T&gt;,\n    private val condition: (T) -&gt; Boolean\n) {\n    suspend fun await(): T {\n        val nowValue = stateFlow.value\n        return if (condition(nowValue)) {\n            nowValue\n        } else {\n            stateFlow.first { condition(it) }\n        }\n    }\n}\n\nsuspend fun &lt;T&gt; StateFlow&lt;T&gt;.conditionalAwait(condition: (T) -&gt; Boolean): T =\n    ConditionalAwait(this, condition).await()\n</code></pre>\n<ol start=\"4\">\n<li>USE IT~</li>\n</ol>\n<pre><code>suspend fun performActionWhenConnected() {\n    connectionState.conditionalAwait { it == ServiceState.CONNECTED }\n    // other actions when service is connected\n}\n</code></pre>\n<hr />\n<ol start=\"5\">\n<li>Advanced usage</li>\n</ol>\n<pre><code>suspend fun performActionWhenConnected() {\n    val state = connectionState.conditionalAwait { \n        it == ServiceState.CONNECTED || it == ServiceState.FAILED\n    } // keep suspended when Service.SUSPENDED\n\n    if (state is ServiceState.CONNECTED) {\n        // other actions when service is connected\n    } else {\n        // error handling\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1555, "favorite_count": 1, "accepted_answer_id": 53910693, "answer_count": 4, "score": 5, "last_activity_date": 1614080912, "creation_date": 1545590403, "last_edit_date": 1552906844, "question_id": 53906195, "link": "https://stackoverflow.com/questions/53906195/suspend-coroutine-until-condition-is-true", "title": "Suspend coroutine until condition is true", "body": "<p>I have a use case where I need to connect and disconnect from a class that acts as a service. Actions can be performed on the service only when the service is connected. Clients are notified when the service connects or disconnects by a callback:</p>\n\n<pre><code>class Service {\n\n    constructor(callback: ConnectionCallback) { ... }\n\n    fun connect() {\n        // Call callback.onConnected() some time after this method returns.\n    }\n\n    fun disconnect() {\n        // Call callback.onConnectionSuspended() some time after this method returns.\n    }\n\n    fun isConnected(): Boolean { ... }\n\n    fun performAction(actionName: String, callback: ActionCallback) {\n        // Perform a given action on the service, failing with a fatal exception if called when the service is not connected.\n    }\n\n    interface ConnectionCallback {\n        fun onConnected() // May be called multiple times\n        fun onConnectionSuspended() // May be called multiple times\n        fun onConnectionFailed()\n    }\n}\n</code></pre>\n\n<p>I'd like to write a wrapper for that <code>Service</code> class (that I don't control) using Kotlin Coroutines.\nHere is a skeleton of <code>ServiceWrapper</code>:</p>\n\n<pre><code>class ServiceWrapper {\n    private val service = Service(object : ConnectionCallback { ... })\n\n    fun connect() {\n        service.connect()\n    }\n\n    fun disconnect() {\n        service.disconnect()\n    }\n\n    suspend fun performActionWhenConnected(actionName: String): ActionResult {\n        suspendUntilConnected()\n\n        return suspendCoroutine { continuation -&gt;\n            service.performAction(actionName, object : ActionCallback() {\n                override fun onSuccess(result: ActionResult) {\n                    continuation.resume(result)\n                }\n\n                override fun onError() {\n                    continuation.resumeWithException(RuntimeException())\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How can I implement this <code>suspendUntilConnected()</code> behavior using Coroutines ? Thanks in advance.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 1, "last_activity_date": 1545590287, "creation_date": 1545590287, "answer_id": 53906184, "question_id": 53905712, "link": "https://stackoverflow.com/questions/53905712/map-transformation-to-apply-a-new-path-on-a-list-of-strings-which-are-urls/53906184#53906184", "title": "Map transformation to apply a new path on a list of strings which are urls", "body": "<p>What you've written it is already pretty Kotlinish. You can also use such functions as <code>filter</code>, <code>zip</code>, for example:</p>\n\n<pre><code>val result = newsFeeds.filter { it.newsfeedURL != null &amp;&amp; it.newsfeedURL.toUri().path.isNullOrEmpty()}\n            .map { \"${it.newsfeedURL}/us/json/news\" }\n            .zip(newsFeeds.filter { it.newsfeedURL != null &amp;&amp; !it.newsfeedURL.toUri().path.isNullOrEmpty() })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1545652297, "last_edit_date": 1545652297, "creation_date": 1545649081, "answer_id": 53912505, "question_id": 53905712, "link": "https://stackoverflow.com/questions/53905712/map-transformation-to-apply-a-new-path-on-a-list-of-strings-which-are-urls/53912505#53912505", "title": "Map transformation to apply a new path on a list of strings which are urls", "body": "<p>Your code already looks good. Don't decrease readability for the sake of making it more Kotlinish.</p>\n\n<p>If you still want to see another way, take a look at this:</p>\n\n<p>If you want to avoid redundancy you could map you list of <code>newsFeeds</code> to a list of <code>newsfeedURLs</code> right away. Additionally you can concatenate either a path or an empty string to avoid having to reference <code>url</code> twice.</p>\n\n<pre><code>newsFeeds.mapNotNull(NewsFeed::newsfeedURL).map { url -&gt;\n\n     url.toString() + if (url.toUri()?.path.isNullOrEmpty()) {\n        \"/us/json/news\"\n    } else {\n        \"\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6331, "user_id": 1180728, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/084d4d7d1538d5178043fdaccee79c5a?s=128&d=identicon&r=PG", "display_name": "Blazej SLEBODA", "link": "https://stackoverflow.com/users/1180728/blazej-sleboda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 53912505, "answer_count": 2, "score": 0, "last_activity_date": 1545652297, "creation_date": 1545586315, "question_id": 53905712, "link": "https://stackoverflow.com/questions/53905712/map-transformation-to-apply-a-new-path-on-a-list-of-strings-which-are-urls", "title": "Map transformation to apply a new path on a list of strings which are urls", "body": "<p>I have a list of strings (newsFeeds) which are a links. Some of them have a path component and some of them not. My goal is to apply a custom path component only when a path component is present. My code is below. </p>\n\n<p>How to write it in more Kotlin style?</p>\n\n<pre><code>newsRepository.getAllNewsFeeds().observeForever { newsFeeds -&gt;\n\n    listNewsFeedUrls = newsFeeds.mapNotNull { newsFeed -&gt;\n\n        if (newsFeed.newsfeedURL?.toUri()?.path.isNullOrEmpty()) {\n            newsFeed.newsfeedURL + \"/us/json/news\"\n        } else {\n            newsFeed.newsfeedURL\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545580459, "post_id": 53904362, "comment_id": 94654575, "body": "Be more specific. Show us a specific example where it happens."}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545581336, "post_id": 53904362, "comment_id": 94654761, "body": "@MarkoTopolnik, i&#39;ve added a snippet."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545582801, "post_id": 53904362, "comment_id": 94655100, "body": "Looks like some sort of bug, all four lines talk about the same function."}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545583014, "post_id": 53904362, "comment_id": 94655153, "body": "Yes, I also think that it&#39;s a bug..."}, {"owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1557001174, "post_id": 53904362, "comment_id": 98621920, "body": "@MarkoTopolnik, I&#39;ve removed the coroutines dependency from my build.gradle file. It seems that it was a problem with kotlin version, coroutines version and spring-kotlin plugin. I will try to upgrade my project to the latest Spring Boot version that contains the Kotlin coroutines by default."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 10716053, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-11qRTUfXsJ0/AAAAAAAAAAI/AAAAAAAACJ8/VYFIj26A0X4/photo.jpg?sz=128", "display_name": "Ilya Rodionov", "link": "https://stackoverflow.com/users/10716053/ilya-rodionov"}, "is_accepted": false, "score": 0, "last_activity_date": 1545669926, "creation_date": 1545669926, "answer_id": 53915859, "question_id": 53904362, "link": "https://stackoverflow.com/questions/53904362/kotlin-coroutines-dependency-going-into-overload-resolution-ambiguity/53915859#53915859", "title": "Kotlin Coroutines dependency going into Overload Resolution Ambiguity", "body": "<p>Generally this happens when indexes get stale in IDEA. Try to build with <code>gradle</code> to ensure there is no real clashes. Running <code>File</code> -> <code>Invalidate caches / Restart</code> should help. </p>\n"}], "owner": {"reputation": 2757, "user_id": 6237026, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/844pQ.jpg?s=128&g=1", "display_name": "Dina Bogdan", "link": "https://stackoverflow.com/users/6237026/dina-bogdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1545669926, "creation_date": 1545574947, "last_edit_date": 1545581319, "question_id": 53904362, "link": "https://stackoverflow.com/questions/53904362/kotlin-coroutines-dependency-going-into-overload-resolution-ambiguity", "title": "Kotlin Coroutines dependency going into Overload Resolution Ambiguity", "body": "<p>I'm having a production ready Kotlin code and I want to refactor it from changing all CompletableFuture requests to Coroutines, but when I add the <code>compile('org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.0')</code> dependecy tu build.gradle, all my kotlin.collections imports are going into \"Overload resolution ambiguity\". Does anybody knows how to deal with this problem?</p>\n\n<p>Here is a snippet from my code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GyHKY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GyHKY.png\" alt=\"enter image description here\"></a></p>\n\n<p>TX!</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "error-handling"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545574186, "post_id": 53904268, "comment_id": 94653159, "body": "Could you please provide complete code and error."}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545574460, "post_id": 53904268, "comment_id": 94653221, "body": "The error was generated out of the place of you pasted code. Please post the code that called <code>getSystemService()</code> function, and all <b>every code</b> about the <b>caller</b>."}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545574527, "post_id": 53904268, "comment_id": 94653236, "body": "Could you please read the error log <i>completely</i>, for example the line number info?"}, {"owner": {"reputation": 1, "user_id": 8932061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a05aba27d71de2353b0213f08b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "ErikBK", "link": "https://stackoverflow.com/users/8932061/erikbk"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545576374, "post_id": 53904268, "comment_id": 94653653, "body": "@GenoChen Better ?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545577365, "post_id": 53904268, "comment_id": 94653850, "body": "Could you also provide code for <code>SpotsDialog</code>, the exception is somewhere there: <code>dmax.dialog.SpotsDialog$Builder.build(SpotsDialog.java:62)</code>"}, {"owner": {"reputation": 1, "user_id": 8932061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a05aba27d71de2353b0213f08b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "ErikBK", "link": "https://stackoverflow.com/users/8932061/erikbk"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545577995, "post_id": 53904268, "comment_id": 94654012, "body": "@sergey this one?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545578416, "post_id": 53904268, "comment_id": 94654111, "body": "Did you add code of <code>SpotsDialog</code> to your question? I don&#39;t see it."}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1545580384, "post_id": 53904268, "comment_id": 94654557, "body": "<code>public final class R</code>- this is not the <code>SpotsDialog</code> class."}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1545645407, "post_id": 53904268, "comment_id": 94667554, "body": "@ErikBK No. Due to the log, you should post <code>class SpotsDialog</code>, however you provided <code>R</code> where you say it is a <code>SpotsDialog</code>."}], "answers": [{"tags": [], "owner": {"reputation": 737, "user_id": 6275844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f7071f7e0149f02e945420a120a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan 0", "link": "https://stackoverflow.com/users/6275844/dan-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1545592178, "creation_date": 1545592178, "answer_id": 53906438, "question_id": 53904268, "link": "https://stackoverflow.com/questions/53904268/android-app-returns-error-attempt-to-invoke-virtual-method-java-lang-object-a/53906438#53906438", "title": "Android app returns &quot;Error: Attempt to invoke virtual method &#39;java.lang.Object android.content.Context.getSystemService(java.lang.String)&quot;", "body": "<p>I had to pull up the library for you Dialog builder. It looks like you're not setting the context when you build the <code>SpotsDialog</code>. Make sure in your <code>SpotsDialog.Builder</code> you add a context. Make sure you aren't missing anything else too, example from the library documentation:</p>\n\n<pre><code>val dialog: AlertDialog = SpotsDialog.Builder()\n    .setContext(this)\n    .setMessage(R.string.custom_title)\n    .setCancelable(false)\n    .build()\n</code></pre>\n\n<p>Check the library reference here for more: <a href=\"https://github.com/d-max/spots-dialog\" rel=\"nofollow noreferrer\">https://github.com/d-max/spots-dialog</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8932061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a05aba27d71de2353b0213f08b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "ErikBK", "link": "https://stackoverflow.com/users/8932061/erikbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1545599359, "creation_date": 1545574037, "last_edit_date": 1545599359, "question_id": 53904268, "link": "https://stackoverflow.com/questions/53904268/android-app-returns-error-attempt-to-invoke-virtual-method-java-lang-object-a", "title": "Android app returns &quot;Error: Attempt to invoke virtual method &#39;java.lang.Object android.content.Context.getSystemService(java.lang.String)&quot;", "body": "<p>I know there are similar questions like mine, but after 30 mins of research, I just can't figure it out.</p>\n\n<h2>Here is my error:</h2>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.erikb.vinliste, PID: 12950\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.erikb.vinliste/com.example.erikb.vinliste.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2957)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6944)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.Object android.content.Context.getSystemService(java.lang.String)' on a null object reference\n    at android.app.Dialog.&lt;init&gt;(Dialog.java:209)\n    at android.app.AlertDialog.&lt;init&gt;(AlertDialog.java:201)\n    at android.app.AlertDialog.&lt;init&gt;(AlertDialog.java:197)\n    at dmax.dialog.SpotsDialog.&lt;init&gt;(SpotsDialog.java:79)\n    at dmax.dialog.SpotsDialog.&lt;init&gt;(SpotsDialog.java:18)\n    at dmax.dialog.SpotsDialog$Builder.build(SpotsDialog.java:62)\n    at com.example.erikb.vinliste.MainActivity.onCreate(MainActivity.kt:43)\n    at android.app.Activity.performCreate(Activity.java:7183)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2910)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\u00a0\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n    at android.os.Looper.loop(Looper.java:164)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6944)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\u00a0\n</code></pre>\n\n<h2>And here is my Kotlin mainActivity file:</h2>\n\n<p><strong>Imports:</strong></p>\n\n<pre><code>import android.app.AlertDialog\nimport android.content.Intent\nimport android.content.pm.ActivityInfo\nimport android.graphics.Bitmap\nimport android.net.Uri\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.text.InputFilter\nimport android.widget.Toast\nimport com.example.erikb.vinliste.Helper.RectOverlay\nimport com.google.firebase.ml.vision.FirebaseVision\nimport com.google.firebase.ml.vision.barcode.FirebaseVisionBarcode\nimport com.google.firebase.ml.vision.common.FirebaseVisionImage\nimport com.wonderkiln.camerakit.*\nimport dmax.dialog.SpotsDialog\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.lang.StringBuilder\nimport com.google.firebase.ml.vision.barcode.FirebaseVisionBarcodeDetectorOptions \n</code></pre>\n\n<p><strong>And the rest:</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var waiting_dialog:AlertDialog\n\n\n    override fun onResume() {\n        super.onResume()\n        camera_view.start()\n    }\n\n    override fun onPause() {\n        super.onPause()\n        camera_view.stop()\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        requestedOrientation = (ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)\n\n        waiting_dialog = SpotsDialog.Builder().setMessage(\"Please wait\").setCancelable(false).build()\n\n        btn_detect.setOnClickListener {\n            camera_view.start()\n            camera_view.captureImage()\n            graphic_overlay.clear()\n        }\n\n        camera_view.addCameraKitListener(object:CameraKitEventListener{\n            override fun onVideo(p0: CameraKitVideo?) {\n\n            }\n\n            override fun onEvent(p0: CameraKitEvent?) {\n\n            }\n\n            override fun onImage(p0: CameraKitImage?) {\n                waiting_dialog.show()\n\n                var bitmap:Bitmap = p0!!.bitmap\n                bitmap = Bitmap.createScaledBitmap(bitmap,camera_view.width,camera_view.height,false)\n                camera_view.stop()\n\n                runDetector(bitmap)\n            }\n\n            override fun onError(p0: CameraKitError?) {\n\n            }\n\n        })\n    }\n\n    private fun runDetector(bitmap: Bitmap?) {\n        val image = FirebaseVisionImage.fromBitmap(bitmap!!)\n        val options = FirebaseVisionBarcodeDetectorOptions.Builder()\n            .setBarcodeFormats(\n                FirebaseVisionBarcode.FORMAT_QR_CODE,\n                FirebaseVisionBarcode.FORMAT_CODABAR\n            )\n            .build()\n        val barcodeDetector = FirebaseVision.getInstance().getVisionBarcodeDetector(options)\n\n        barcodeDetector.detectInImage(image)\n            .addOnSuccessListener { result-&gt; processResult(result) }\n            .addOnFailureListener{ e-&gt; Toast.makeText(this,e.message,Toast.LENGTH_SHORT).show()}\n    }\n\n    private fun processResult(result: List&lt;FirebaseVisionBarcode&gt;) {\n        for(item in result) {\n            var bounds = item.boundingBox\n            var raw_value = item.rawValue\n            var value_type = item.valueType\n\n            //Draw rectangle\n            val rect = RectOverlay(graphic_overlay,bounds)\n            graphic_overlay.add(rect)\n\n            //Show info\n            when(value_type)\n            {\n                FirebaseVisionBarcode.TYPE_TEXT -&gt; {\n                    val alertDialog = AlertDialog.Builder(this)\n                    alertDialog.setMessage(raw_value)\n                    alertDialog.setPositiveButton(\"OK\",{dialog, which -&gt; dialog.dismiss()})\n                    val dialog = alertDialog.create()\n                    dialog.show()\n                }\n                FirebaseVisionBarcode.TYPE_URL -&gt; {\n                    val intent = Intent(Intent.ACTION_VIEW, Uri.parse(raw_value))\n                    startActivity(intent)\n                }\n\n                FirebaseVisionBarcode.TYPE_CONTACT_INFO -&gt; {\n\n                    val name = item.contactInfo!!.name!!.formattedName\n                    val address = item.contactInfo!!.addresses[0].addressLines[0]\n                    val email = item.contactInfo!!.emails[0].address\n\n                    val info = StringBuilder(\"Name: \").append(name).append(\"\\n\")\n                        .append(\"Address: \").append(address).append(\"\\n\")\n                        .append(\"Emal: \").append(email).toString()\n\n                    val alertDialog = AlertDialog.Builder(this)\n                    alertDialog.setMessage(info)\n                    alertDialog.setPositiveButton(\"OK\",{dialog, which -&gt; dialog.dismiss()})\n                    val dialog = alertDialog.create()\n                    dialog.show()\n                }\n            }\n        }\n\n        waiting_dialog.dismiss()\n    }\n}\n</code></pre>\n\n<h2>Spotsdialog</h2>\n\n<pre><code>/* AUTO-GENERATED FILE.  DO NOT MODIFY.\n *\n * This class was automatically generated by the\n * gradle plugin from the resource data it found. It\n * should not be modified by hand.\n */\npackage dmax.dialog;\n\npublic final class R {\n    private R() {}\n\n    public static final class attr {\n        private attr() {}\n\n        public static final int DialogSpotColor = 0x7f020000;\n        public static final int DialogSpotCount = 0x7f020001;\n        public static final int DialogTitleAppearance = 0x7f020002;\n        public static final int DialogTitleText = 0x7f020003;\n    }\n    public static final class color {\n        private color() {}\n\n        public static final int spots_dialog_color = 0x7f04005b;\n    }\n    public static final class dimen {\n        private dimen() {}\n\n        public static final int progress_margin = 0x7f05006a;\n        public static final int progress_width = 0x7f05006b;\n        public static final int spot_size = 0x7f05006c;\n        public static final int title_margin = 0x7f05006d;\n        public static final int title_padding = 0x7f05006e;\n    }\n    public static final class drawable {\n        private drawable() {}\n\n        public static final int dmax_spots_spot = 0x7f060068;\n    }\n    public static final class id {\n        private id() {}\n\n        public static final int dmax_spots_progress = 0x7f07003f;\n        public static final int dmax_spots_title = 0x7f070040;\n    }\n    public static final class layout {\n        private layout() {}\n\n        public static final int dmax_spots_dialog = 0x7f09001d;\n    }\n    public static final class style {\n        private style() {}\n\n        public static final int SpotsDialogDefault = 0x7f0c00bc;\n    }\n    public static final class styleable {\n        private styleable() {}\n\n        public static final int[] Dialog = { 0x7f020000, 0x7f020001, 0x7f020002, 0x7f020003 };\n        public static final int Dialog_DialogSpotColor = 0;\n        public static final int Dialog_DialogSpotCount = 1;\n        public static final int Dialog_DialogTitleAppearance = 2;\n        public static final int Dialog_DialogTitleText = 3;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "kotlin", "jhipster", "springfox"], "comments": [{"owner": {"reputation": 3808, "user_id": 4106653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBECP.png?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/4106653/neo"}, "edited": false, "score": 0, "creation_date": 1545606001, "post_id": 53903597, "comment_id": 94660095, "body": "See if adding <code>@ComponentScan({&quot;springfox.documentation.schema&quot;})</code> works until you figure out the proper way to configure this."}, {"owner": {"reputation": 3808, "user_id": 4106653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBECP.png?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/4106653/neo"}, "edited": false, "score": 0, "creation_date": 1545606845, "post_id": 53903597, "comment_id": 94660252, "body": "Looking at the Java doc, you may rather add <code>@Import(springfox.documentation.schema.configuration.ModelsC&zwnj;&#8203;onfiguration)</code> to your SwaggerPluginsAutoConfiguration class."}, {"owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "reply_to_user": {"reputation": 3808, "user_id": 4106653, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBECP.png?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/4106653/neo"}, "edited": false, "score": 0, "creation_date": 1545622744, "post_id": 53903597, "comment_id": 94662433, "body": "@Neo When I add <code>@Import(springfox.documentation.schema.configuration.ModelsC&zwnj;&#8203;onfiguration)</code> I get <code>Classifier &#39;ModelsConfiguration&#39; does not have a companion object, and thus must be initialized here</code>.  The issue I&#39;m having only happens on my existing tests.  The application starts up normally.  Can I do something in the JUnit tests to inject the <code>TypeNameExtractor</code> bean?"}, {"owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "edited": false, "score": 0, "creation_date": 1545625782, "post_id": 53903597, "comment_id": 94662828, "body": "I have updated the question based on my latest findings relating to the <code>swagger</code> profile."}], "owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1995, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1545625718, "creation_date": 1545567837, "last_edit_date": 1545625718, "question_id": 53903597, "link": "https://stackoverflow.com/questions/53903597/no-qualifying-bean-of-type-springfox-documentation-schema-typenameextractor", "title": "No qualifying bean of type &#39;springfox.documentation.schema.TypeNameExtractor&#39;", "body": "<p>I'm trying to implement Swagger using the <a href=\"https://github.com/jhipster/jhipster/tree/master/jhipster-framework/src/main/java/io/github/jhipster/config/apidoc\" rel=\"nofollow noreferrer\">JHipster implementation</a> as reference into my Kotlin application.</p>\n\n<p>However, when I run my tests, I get the following error for most of my tests (these tests work fine if I remove this swagger code):</p>\n\n<pre><code>Caused by:\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'pageableParameterBuilderPlugin' defined in class path resource [com/application/config/apidoc/SwaggerPluginsAutoConfiguration$SpringPagePluginConfiguration.class]: Unsatisfied dependency expressed through method 'pageableParameterBuilderPlugin' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'springfox.documentation.schema.TypeNameExtractor' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n\n<p>My <code>SwaggerPluginsAutoConfiguration</code> class:</p>\n\n<pre><code>@Configuration\n@ConditionalOnWebApplication\n@ConditionalOnBean(Docket::class)\n@AutoConfigureAfter(SwaggerAutoConfiguration::class)\nclass SwaggerPluginsAutoConfiguration {\n\n    @Configuration\n    @ConditionalOnClass(Pageable::class)\n    class SpringPagePluginConfiguration {\n\n        @Bean\n        @ConditionalOnMissingBean\n        fun pageableParameterBuilderPlugin(typeNameExtractor: TypeNameExtractor,\n                                           typeResolver: TypeResolver): PageableParameterBuilderPlugin {\n            return PageableParameterBuilderPlugin(typeNameExtractor, typeResolver)\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>SwaggerAutoConfiguration</code> class:</p>\n\n<pre><code>@Configuration\n@ConditionalOnWebApplication\n@ConditionalOnClass(ApiInfo::class, BeanValidatorPluginsConfiguration::class, Servlet::class, DispatcherServlet::class)\n@Profile(value = [SPRING_PROFILE_SWAGGER])\n@EnableSwagger2\n@Import(BeanValidatorPluginsConfiguration::class)\nclass SwaggerAutoConfiguration(applicationProperties: ApplicationProperties) {\n...\n}\n</code></pre>\n\n<p>If I include the <code>swagger</code> profile in my tests application config file, the tests pass.  However, if the profile isn't present, the tests fail with the error above.  I'm not sure why Spring is trying to configure swagger if the profile isn't set.</p>\n\n<p>How can I set this up, so that the configuration doesn't try to load if the profile isn't specified?</p>\n"}, {"tags": ["kotlin", "mockk"], "comments": [{"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 1, "creation_date": 1545602498, "post_id": 53902932, "comment_id": 94659416, "body": "Please submit feature request to GH issues"}, {"owner": {"reputation": 1772, "user_id": 3202612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/da41e2b7a396f1cb02df21488adc0e41?s=128&d=identicon&r=PG&f=1", "display_name": "Happy", "link": "https://stackoverflow.com/users/3202612/happy"}, "reply_to_user": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 1, "creation_date": 1546079097, "post_id": 53902932, "comment_id": 94774944, "body": "Done here <a href=\"https://github.com/mockk/mockk/issues/209\" rel=\"nofollow noreferrer\">github.com/mockk/mockk/issues/209</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5825, "user_id": 631051, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/88a9701bb32b465a3b8357a2aa092815?s=128&d=identicon&r=PG", "display_name": "Ellen Spertus", "link": "https://stackoverflow.com/users/631051/ellen-spertus"}, "is_accepted": false, "score": 0, "last_activity_date": 1585684437, "creation_date": 1585684437, "answer_id": 60958797, "question_id": 53902932, "link": "https://stackoverflow.com/questions/53902932/can-we-mock-constructor-and-check-its-parameters/60958797#60958797", "title": "Can we mock constructor and check its parameters?", "body": "<p>Unfortunately, it is currently not possible, as shown in the <a href=\"https://github.com/mockk/mockk/issues/209\" rel=\"nofollow noreferrer\">feature request</a> you kindly made.</p>\n"}], "owner": {"reputation": 1772, "user_id": 3202612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/da41e2b7a396f1cb02df21488adc0e41?s=128&d=identicon&r=PG&f=1", "display_name": "Happy", "link": "https://stackoverflow.com/users/3202612/happy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3448, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1585684437, "creation_date": 1545561870, "question_id": 53902932, "link": "https://stackoverflow.com/questions/53902932/can-we-mock-constructor-and-check-its-parameters", "title": "Can we mock constructor and check its parameters?", "body": "<p>With <a href=\"https://github.com/mockk/mockk\" rel=\"noreferrer\">mockk</a>, to mock constructors, we can do something like (<a href=\"https://github.com/mockk/mockk#constructor-mocks\" rel=\"noreferrer\">taken from documentation</a>):</p>\n\n<pre><code>class MockCls {\n  fun add(a: Int, b: Int) = a + b\n}\n\nmockkConstructor(MockCls::class)\n\nevery { anyConstructed&lt;MockCls&gt;().add(1, 2) } returns 4\n\nassertEquals(4, MockCls().add(1, 2)) // note new object is created\n\nverify { anyConstructed&lt;MockCls&gt;().add(1, 2) }\n</code></pre>\n\n<p>I'd like to check on the parameters of my constructor. Something like:</p>\n\n<pre><code>class MockCls(val minValue: Int) {\n  fun add(a: Int, b: Int) = minValue + a + b\n}\n\nmockkConstructor(MockCls::class)\n\nevery { anyConstructed&lt;MockCls&gt;(10).add(1, 2) } returns 14\n\nassertEquals(14, MockCls(10).add(1, 2)) // note new object is created\n\nverify { anyConstructed&lt;MockCls&gt;(10).add(1, 2) } // success\nverify { anyConstructed&lt;MockCls&gt;(5).add(1, 2) } // fail\n</code></pre>\n\n<p>I didn't find any way to check constructor parameters right now.</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "lifecycle", "koin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1550772252, "post_id": 53902144, "comment_id": 96403613, "body": "Apparently you can specify the ViewModelStore, or at least that&#39;s what I&#39;ve heard."}, {"owner": {"reputation": 22313, "user_id": 1739882, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Li4nC.jpg?s=128&g=1", "display_name": "Chintan Soni", "link": "https://stackoverflow.com/users/1739882/chintan-soni"}, "edited": false, "score": 0, "creation_date": 1562754301, "post_id": 53902144, "comment_id": 100473992, "body": "How about initiating one ViewModel at Activity, and fragments also have their own ViewModels, we can make ViewModels talk to each other. What do you say?"}], "answers": [{"tags": [], "owner": {"reputation": 679, "user_id": 9150068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jRp1a.jpg?s=128&g=1", "display_name": "Chenhe", "link": "https://stackoverflow.com/users/9150068/chenhe"}, "is_accepted": false, "score": 4, "last_activity_date": 1563161520, "last_edit_date": 1563161520, "creation_date": 1563160238, "answer_id": 57032842, "question_id": 53902144, "link": "https://stackoverflow.com/questions/53902144/can-i-manage-lifecycle-owner-injecting-viewmodel-with-koin/57032842#57032842", "title": "Can I manage lifecycle owner, injecting viewModel with Koin?", "body": "<p>Since Navigation <code>2.1.0-alpha02</code>:</p>\n\n<blockquote>\n  <p>You can now create ViewModels that are scoped at a navigation graph level via the by navGraphViewModels() property delegate for Kotlin users or by using the getViewModelStore() API added to NavController. </p>\n</blockquote>\n\n<p>You can find the change log <a href=\"https://developer.android.com/jetpack/androidx/releases/navigation#2.1.0-alpha02\" rel=\"nofollow noreferrer\">here</a> and the <a href=\"https://developer.android.com/guide/navigation/navigation-programmatic#share_ui-related_data_between_destinations_with_viewmodel\" rel=\"nofollow noreferrer\">document</a>.</p>\n\n<p>Unfortunately Koin can not support the feature since <code>viewModel()</code> or <code>sharedViewModel()</code> was bond to Activity. But support for nav has already planned in <code>2.1.x</code> and you can track <a href=\"https://github.com/InsertKoinIO/koin/issues/442\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<hr>\n\n<p>For now here's my solution:</p>\n\n<ol>\n<li>Use <code>navGraphViewModels()</code> instead of <code>viewModel()</code> in Koin.</li>\n</ol>\n\n<pre><code>class DetailFr : Fragment() {\n    private val vm: DetailViewModel by navGraphViewModels(R.id.main_nav_graph)\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Make ViwModel implements <code>KoinComponent</code> so that we can use <code>by inject()</code> instead of inject by constructor.</li>\n</ol>\n\n<pre><code>class DetailViewModel : ViewModel(), KoinComponent {\n\n    private val repo: DetailRepository by inject()\n    // othetr objects you need\n}\n</code></pre>\n\n<p>Hopefully this helps</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 4050192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHLTq.jpg?s=128&g=1", "display_name": "Krasavello13", "link": "https://stackoverflow.com/users/4050192/krasavello13"}, "is_accepted": false, "score": 2, "last_activity_date": 1582624404, "creation_date": 1582624404, "answer_id": 60391772, "question_id": 53902144, "link": "https://stackoverflow.com/questions/53902144/can-i-manage-lifecycle-owner-injecting-viewmodel-with-koin/60391772#60391772", "title": "Can I manage lifecycle owner, injecting viewModel with Koin?", "body": "<p>You can do it by using new version of <strong>Koin(2.1.0)</strong> and some magic :)</p>\n\n<p>All you need is add this extension function: </p>\n\n<pre><code>inline fun &lt;reified VM : ViewModel&gt; Fragment.sharedGraphViewModel(\n    @IdRes navGraphId: Int,\n    qualifier: Qualifier? = null,\n    noinline parameters: ParametersDefinition? = null\n) = lazy {\n    val store = findNavController().getViewModelStoreOwner(navGraphId).viewModelStore\n    getKoin().getViewModel(ViewModelParameter(VM::class, qualifier, parameters, null, store, null))\n}\n</code></pre>\n\n<p>And now you can simple get your ViewModel from nested graph by: </p>\n\n<pre><code>private val viewModel: MyViewModel by sharedGraphViewModel(R.id.my_graph)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7641642, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R03O4e4_mNc/AAAAAAAAAAI/AAAAAAAAKR8/NzJX0D4PhQg/photo.jpg?sz=128", "display_name": "Anton Shinkaretsky", "link": "https://stackoverflow.com/users/7641642/anton-shinkaretsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1582624404, "creation_date": 1545552711, "question_id": 53902144, "link": "https://stackoverflow.com/questions/53902144/can-i-manage-lifecycle-owner-injecting-viewmodel-with-koin", "title": "Can I manage lifecycle owner, injecting viewModel with Koin?", "body": "<p>I have single Activity application.</p>\n\n<p>I want to bind viewModel to the parent fragment lifecycle (<code>FlowFragmentLogin</code>), and share it with child fragments (<code>CellFragment</code>, <code>InfoFragment</code>, <code>etc</code>). So that when I move from <code>FlowFragmentLogin</code> to <code>FlowFragmentMain</code>, viewModel <code>onCleared()</code> was called.</p>\n\n<p>But the only way I found is to share viewModel between Activity, and it's Fragments:\n<a href=\"https://insert-koin.io/docs/1.0/documentation/koin-android/index.html\" rel=\"noreferrer\">https://insert-koin.io/docs/1.0/documentation/koin-android/index.html</a></p>\n\n<p>And no control over lifecycle-owners. Wich is unacceptable for me, at least because this viewModel will live until the application's death.</p>\n"}, {"tags": ["android", "junit", "kotlin", "mockito", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545550137, "post_id": 53900118, "comment_id": 94648871, "body": "Could you please provide code of your <code>Presenter</code> and complete code of test class."}, {"owner": {"reputation": 93, "user_id": 4101825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/737c0.jpg?s=128&g=1", "display_name": "kgbier", "link": "https://stackoverflow.com/users/4101825/kgbier"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1545571105, "post_id": 53900118, "comment_id": 94652501, "body": "@Sergey I&#39;ve expanded my code samples as requested, I hope it helps"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 4101825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/737c0.jpg?s=128&g=1", "display_name": "kgbier", "link": "https://stackoverflow.com/users/4101825/kgbier"}, "edited": false, "score": 0, "creation_date": 1545576610, "post_id": 53904244, "comment_id": 94653711, "body": "Re-architecting so the CoroutineScope was able to be mocked with <code>Dispatchers.Unconfined</code> worked as expected. Thanks for your help!"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 5, "last_activity_date": 1545573854, "creation_date": 1545573854, "answer_id": 53904244, "question_id": 53900118, "link": "https://stackoverflow.com/questions/53900118/how-do-i-run-coroutines-as-blocking-for-unit-testing/53904244#53904244", "title": "How do I run coroutines as blocking for unit testing?", "body": "<p>In <code>CoroutinePresenter</code> class you are using <code>Dispatchers.Main</code>. You should be able to change it in the tests. Try to do the following:</p>\n\n<ol>\n<li><p>Add <code>uiContext: CoroutineContext</code> parameter to your presenters' constructor:</p>\n\n<pre><code>abstract class CoroutinePresenter(private val uiContext: CoroutineContext = Dispatchers.Main) : CoroutineScope {\nprivate lateinit var job: Job\n\noverride val coroutineContext: CoroutineContext\n    get() = uiContext + job\n\n//...\n}\n\nclass MainPresenter(private val getInfoUsecase: GetInfoUsecase, \n                    private val uiContext: CoroutineContext = Dispatchers.Main \n) : CoroutinePresenter(uiContext) { ... }\n</code></pre></li>\n<li><p>Change <code>MainPresenterTest</code> class to inject another <code>CoroutineContext</code>:</p>\n\n<pre><code>class MainPresenterTest {\n    private lateinit var presenter: MainPresenter\n\n    @Mock\n    private lateinit var view: MainPresenter.View\n\n    @Mock\n    private lateinit var mockInfoUseCase: GetInfoUsecase\n\n    val expectedInfo = Info()\n\n    @Before\n    fun setUp() {\n        // Mockito has a very convenient way to inject mocks by using the @Mock annotation. To\n        // inject the mocks in the test the initMocks method needs to be called.\n        MockitoAnnotations.initMocks(this)\n\n        presenter = MainPresenter(mockInfoUseCase, Dispatchers.Unconfined) // here another CoroutineContext is injected \n        presenter.inject(view)\n        presenter.onCreate()\n}\n\n    @Test\n    fun onResume_RefreshView() = runBlocking {\n        Mockito.`when`(mockInfoUseCase.getInfo()).thenReturn(expectedInfo)\n\n        presenter.onResume()\n\n        verify(view).showLoading()\n        verify(view).showInfo(expectedInfo)\n        verify(view).hideLoading()\n    }\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 4101825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/737c0.jpg?s=128&g=1", "display_name": "kgbier", "link": "https://stackoverflow.com/users/4101825/kgbier"}, "is_accepted": false, "score": 2, "last_activity_date": 1545611675, "creation_date": 1545611675, "answer_id": 53908217, "question_id": 53900118, "link": "https://stackoverflow.com/questions/53900118/how-do-i-run-coroutines-as-blocking-for-unit-testing/53908217#53908217", "title": "How do I run coroutines as blocking for unit testing?", "body": "<p>@Sergey's answer caused me to read further into <code>Dispatchers.Unconfined</code> and I realised that I was not using <code>Dispatchers.setMain()</code> to its fullest extent. At the time of writing, note this solution is <strong>experimental</strong>.</p>\n\n<p>By removing any mention of:</p>\n\n<pre><code>private val mainThreadSurrogate = newSingleThreadContext(\"Mocked UI thread\") \n</code></pre>\n\n<p>and instead setting the main dispatcher to</p>\n\n<pre><code>Dispatchers.setMain(Dispatchers.Unconfined)\n</code></pre>\n\n<p>This has the same result.</p>\n\n<p>A less idiomatic method but one that may assist anyone as a stop-gap solution is to block until all child coroutine jobs have completed (credit: <a href=\"https://stackoverflow.com/a/53335224/4101825\">https://stackoverflow.com/a/53335224/4101825</a>):</p>\n\n<pre><code>this.coroutineContext[Job]!!.children.forEach { it.join() }\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 4101825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/737c0.jpg?s=128&g=1", "display_name": "kgbier", "link": "https://stackoverflow.com/users/4101825/kgbier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2275, "favorite_count": 0, "accepted_answer_id": 53904244, "answer_count": 2, "score": 7, "last_activity_date": 1545611675, "creation_date": 1545522131, "last_edit_date": 1545580683, "question_id": 53900118, "link": "https://stackoverflow.com/questions/53900118/how-do-i-run-coroutines-as-blocking-for-unit-testing", "title": "How do I run coroutines as blocking for unit testing?", "body": "<p>I've begun writing unit tests for my MVP Android project, but my tests dependent on coroutines intermittently fail (through logging and debugging I've confirmed verify sometimes occurs early, adding <code>delay</code> fixes this of course)</p>\n\n<p>I've tried wrapping with <code>runBlocking</code> and I've discovered <code>Dispatchers.setMain(mainThreadSurrogate)</code> from <code>org.jetbrains.kotlinx:kotlinx-coroutines-test</code>, but trying so many combinations hasn't yielded any success so far.</p>\n\n<pre><code>abstract class CoroutinePresenter : Presenter, CoroutineScope {\n    private lateinit var job: Job\n\n    override val coroutineContext: CoroutineContext\n        get() = job + Dispatchers.Main\n\n    override fun onCreate() {\n        super.onCreate()\n        job = Job()\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        job.cancel()\n    }\n}\n\nclass MainPresenter @Inject constructor(private val getInfoUsecase: GetInfoUsecase) : CoroutinePresenter() {\n    lateinit var view: View\n\n    fun inject(view: View) {\n        this.view = view\n    }\n\n    override fun onResume() {\n        super.onResume()\n\n        refreshInfo()\n    }\n\n    fun refreshInfo() = launch {\n        view.showLoading()\n        view.showInfo(getInfoUsecase.getInfo())\n        view.hideLoading()\n    }\n\n    interface View {\n        fun showLoading()\n        fun hideLoading()\n\n        fun showInfo(info: Info)\n    }\n}\n\nclass MainPresenterTest {\n    private val mainThreadSurrogate = newSingleThreadContext(\"Mocked UI thread\")\n\n    private lateinit var presenter: MainPresenter\n    private lateinit var view: MainPresenter.View\n\n    val expectedInfo = Info()\n\n    @Before\n    fun setUp() {\n        Dispatchers.setMain(mainThreadSurrogate)\n\n        view = mock()\n\n        val mockInfoUseCase = mock&lt;GetInfoUsecase&gt; {\n            on { runBlocking { getInfo() } } doReturn expectedInfo\n        }\n\n        presenter = MainPresenter(mockInfoUseCase)\n        presenter.inject(view)\n        presenter.onCreate()\n    }\n\n    @Test\n    fun onResume_RefreshView() {\n        presenter.onResume()\n\n        verify(view).showLoading()\n        verify(view).showInfo(expectedInfo)\n        verify(view).hideLoading()\n    }\n\n    @After\n    fun tearDown() {\n        Dispatchers.resetMain()\n        mainThreadSurrogate.close()\n    }\n}\n</code></pre>\n\n<p>I believe the <code>runBlocking</code> blocks should be forcing all child <code>coroutineScopes</code> to run on the same thread, forcing them to complete before moving on to verification.</p>\n"}, {"tags": ["android", "lambda", "kotlin", "let"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1545580823, "post_id": 53899913, "comment_id": 94654644, "body": "<code>let</code> is a function whose documentation you can reach using <code>ctrl-j</code>. It says &quot;Calls the specified function block with <code>this</code> value as its argument and returns its result.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 5, "last_activity_date": 1545519649, "creation_date": 1545519649, "answer_id": 53899929, "question_id": 53899913, "link": "https://stackoverflow.com/questions/53899913/what-does-let-mean-in-lambda-expression-for-livedata-observable-kotlin/53899929#53899929", "title": "What does &#39;let&#39; mean in lambda expression for livedata observable Kotlin", "body": "<p><code>let()</code> is a Kotlin \"scope function\". In particular, using <code>let()</code> with the safe call (<code>?.</code>) only executes the lambda supplied to <code>let()</code> if the receiver (<code>value</code>) is not <code>null</code>.</p>\n\n<p>Because of the way the <code>Observer</code> interface is defined, <code>value</code> can be <code>null</code>. So, <code>value -&gt; value?.let { //DO OTHER THINKS WITH 'IT' }</code> basically says \"ignore <code>null</code>, but execute this lambda for all non-<code>null</code> values\".</p>\n"}], "owner": {"reputation": 195, "user_id": 8033973, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8d5af26efd0b5a45a60b392dd7469587?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/8033973/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 53899929, "answer_count": 1, "score": -1, "last_activity_date": 1545519965, "creation_date": 1545519422, "last_edit_date": 1545519965, "question_id": 53899913, "link": "https://stackoverflow.com/questions/53899913/what-does-let-mean-in-lambda-expression-for-livedata-observable-kotlin", "title": "What does &#39;let&#39; mean in lambda expression for livedata observable Kotlin", "body": "<p>I was wondering if someone can explane me the word let in a lambda expression with livedata. Is it just to print the lamda expression? Some people use it to get no null pointer exceptions anymore i guess?</p>\n\n<pre><code>wordViewModel.allWords.observe(this, Observer { value -&gt; \n    value?.let { /*DO SOMETHING WITH VALUE ('IT')*/ }\n})\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-support-library", "androidx", "google-auth-library"], "comments": [{"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 1, "creation_date": 1545752855, "post_id": 53899751, "comment_id": 94689114, "body": "Do you have <code>implementation &#39;androidx.core:core:x.x.x&#39;</code> in <code>build.gradle</code> file?"}, {"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "reply_to_user": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545756592, "post_id": 53899751, "comment_id": 94689867, "body": "I added implementation &#39;androidx.core:core:1.0.1&#39; into the build.gradle, invalidated cache, clean, rebuild, uninstall app, but i&#39;am getting the same error."}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545759692, "post_id": 53899751, "comment_id": 94690468, "body": "If you are not using classes in core packages (<a href=\"https://developer.android.com/kotlin/ktx#core-packages\" rel=\"nofollow noreferrer\">developer.android.com/kotlin/ktx#core-packages</a>), I think the only way (currently) to fix this problem is commenting the dependency of core."}, {"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "reply_to_user": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545760169, "post_id": 53899751, "comment_id": 94690545, "body": "I didn&#39;t have &quot;androidx.core:core:1.0.1&quot; in the first place, i added the line after your suggestion. There is no way to start it with the support lib behaviour?"}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545937055, "post_id": 53899751, "comment_id": 94737739, "body": "I have tested this configuration in a new project. No problem happened. Is it possible to share more code? Post how you create <code>googleApiClient</code>. I have tested using <code>Auth.GOOGLE_SIGN_IN_API</code>."}, {"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "reply_to_user": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545938878, "post_id": 53899751, "comment_id": 94738384, "body": "I added update1"}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545939885, "post_id": 53899751, "comment_id": 94738731, "body": "Nope! Unfortunately <code>choose an account [DialogActivity]</code> opened successfully. I think something causes this problem which is hidden and not included in question information. Is it possible to share your project in a private <a href=\"https://about.gitlab.com/\" rel=\"nofollow noreferrer\">gitlab</a> repository and add me to it?"}, {"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "reply_to_user": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545942740, "post_id": 53899751, "comment_id": 94739600, "body": "Unfortunately i can&#39;t share the entire project, it&#39;s already published and io have a lot of sensible data inside. Instead i can share single parts of code."}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1545943880, "post_id": 53899751, "comment_id": 94739977, "body": "Sure, you can share a sample part of it which has this problem too."}, {"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "reply_to_user": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1546031611, "post_id": 53899751, "comment_id": 94766428, "body": "@aminography Here is my Activity that is supposed to login with google and firebase: <a href=\"https://pastebin.com/mSzM3Fhd\" rel=\"nofollow noreferrer\">FirebaseLoginActivity</a> , i cleaned it a bit. I added the Update 2"}, {"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "reply_to_user": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1546034121, "post_id": 53899751, "comment_id": 94767142, "body": "my <a href=\"https://pastebin.com/t70KRi4j\" rel=\"nofollow noreferrer\">build.gradle</a>"}, {"owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "edited": false, "score": 0, "creation_date": 1546191613, "post_id": 53899751, "comment_id": 94797129, "body": "Sorry, did not help."}, {"owner": {"reputation": 6341, "user_id": 242070, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c1b685ddd4bc74e7d3b8017089702ce6?s=128&d=identicon&r=PG", "display_name": "chrisonline", "link": "https://stackoverflow.com/users/242070/chrisonline"}, "edited": false, "score": 0, "creation_date": 1546782409, "post_id": 53899751, "comment_id": 94957435, "body": "Did you found a solution? I have the same problem."}], "answers": [{"comments": [{"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "edited": false, "score": 0, "creation_date": 1547587095, "post_id": 54206852, "comment_id": 95240544, "body": "hi, i have cleaned, rebuild, invalidated cache, but unfortunately i have the same problem can you share all androix libs that you have into the project?"}, {"owner": {"reputation": 14950, "user_id": 2296787, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1opw3.jpg?s=128&g=1", "display_name": "MBH", "link": "https://stackoverflow.com/users/2296787/mbh"}, "reply_to_user": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "edited": false, "score": 0, "creation_date": 1547705549, "post_id": 54206852, "comment_id": 95284962, "body": "@4bottiglie I have updated the answer as for your request"}], "tags": [], "owner": {"reputation": 14950, "user_id": 2296787, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1opw3.jpg?s=128&g=1", "display_name": "MBH", "link": "https://stackoverflow.com/users/2296787/mbh"}, "is_accepted": false, "score": 0, "last_activity_date": 1547705500, "last_edit_date": 1547705500, "creation_date": 1547586597, "answer_id": 54206852, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl/54206852#54206852", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>I fixed the issue by adding this dependency to my gradle:</p>\n\n<pre><code>implementation 'androidx.arch.core:core-runtime:2.0.1-alpha01'\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Those are the versions i have used:</p>\n\n<ul>\n<li><p>App level gradle <code>compileSdkVersion = 28, buildToolsVersion = \"28.0.3\"</code>:</p>\n\n<pre><code>implementation \"com.google.android.gms:play-services-auth:16.0.1\"\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation 'androidx.vectordrawable:vectordrawable:1.0.1'\nimplementation 'androidx.arch.core:core-runtime:2.0.1-alpha01' \n</code></pre>\n\n<p>All com.android.support libraries are of version: <strong>28.0.0</strong></p></li>\n<li><p>Project level gradle:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.3.0'\nclasspath 'com.google.gms:google-services:4.2.0'\n</code></pre></li>\n</ul>\n\n<p><strong>Note 1</strong>: If you have the below line, try to build without it:</p>\n\n<pre><code>implementation \"androidx.legacy:legacy-support-v4:1.0.0\"\n</code></pre>\n\n<p><strong>Note 2</strong>: If you are building with Android Studio 3.3 (the latest at the time i am writing this answer)\nI got these errors when trying to migrate to androidX:</p>\n\n<blockquote>\n  <p>WARNING: API 'variant.getJavaCompiler()' is obsolete and has been\n  replaced with 'variant.getJavaCompileProvider()'. It will be removed\n  at the end of 2019. For more information, see\n  <a href=\"https://d.android.com/r/tools/task-configuration-avoidance\" rel=\"nofollow noreferrer\">https://d.android.com/r/tools/task-configuration-avoidance</a>. To\n  determine what is calling variant.getJavaCompiler(), use\n  -Pandroid.debug.obsoleteApi=true on the command line to display a stack trace. Affected Modules: app</p>\n</blockquote>\n\n<p>I could not manage to fix it, but just running the project with this error exists works surprisingly.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "is_accepted": false, "score": 1, "last_activity_date": 1547588420, "creation_date": 1547588420, "answer_id": 54207251, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl/54207251#54207251", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>I found an work around until i find a fix or the library is updated:</p>\n\n<pre><code>Task&lt;GoogleSignInAccount&gt; sign = googleSignInClient.silentSignIn();\n\nif(sign.isSuccessful())\n{\n    GoogleSignInAccount resultAccount = sign.getResult();\n    handleGoogleLogin(resultAccount);\n}else\n{\n     Intent signInIntent = googleSignInClient.getSignInIntent();\n     startActivityForResult(signInIntent, GOOGLE_SIGN_IN_CODE);\n}\n</code></pre>\n\n<p>The code try to sign in silently, if the user didn't allow the sign in already, will start the intent. In my case the intent let me choose the account and crashes after tapping on the account. After the first tap, the silent signin will work.</p>\n"}, {"comments": [{"owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "edited": false, "score": 0, "creation_date": 1547671490, "post_id": 54223777, "comment_id": 95275984, "body": "I canfirm: i added androidx.core:core:1.1.0-alpha03, androidx.legacy:legacy-support-v4:1.0.0 and com.google.firebase:firebase-core. I invalidated cache, cleaned, rebuild. I also updated android studio to 3.3 (i don&#39;t know if was required)"}, {"owner": {"reputation": 428, "user_id": 5109951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UFB--BLf8OM/AAAAAAAAAAI/AAAAAAAAAIg/T6jwl5ZEHYE/photo.jpg?sz=128", "display_name": "kot331107", "link": "https://stackoverflow.com/users/5109951/kot331107"}, "reply_to_user": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "edited": false, "score": 0, "creation_date": 1547672815, "post_id": 54223777, "comment_id": 95276576, "body": "@4bottiglie I suppose the bug was mostly connected with migration to AndroidX, not depending on version of AS...but who knows! :)"}], "tags": [], "owner": {"reputation": 428, "user_id": 5109951, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UFB--BLf8OM/AAAAAAAAAAI/AAAAAAAAAIg/T6jwl5ZEHYE/photo.jpg?sz=128", "display_name": "kot331107", "link": "https://stackoverflow.com/users/5109951/kot331107"}, "is_accepted": true, "score": 8, "last_activity_date": 1547665850, "creation_date": 1547665850, "answer_id": 54223777, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl/54223777#54223777", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>the same issue! I've just added the \"core\" dependency and bumped \"appcompat\" to the latest alpha version and it helped. </p>\n\n<pre><code>dependencies {\n\nimplementation \"androidx.core:core:1.1.0-alpha03\"\nimplementation \"androidx.legacy:legacy-support-v4:1.0.0\"\nimplementation \"androidx.annotation:annotation:1.0.1\"\nimplementation \"androidx.recyclerview:recyclerview:1.1.0-alpha01\"\nimplementation \"androidx.appcompat:appcompat:1.1.0-alpha01\"\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation \"androidx.cardview:cardview:1.0.0\"\nimplementation \"com.google.android.material:material:1.1.0-alpha02\"\n\nimplementation \"com.google.firebase:firebase-core:16.0.6\"\nimplementation \"com.google.firebase:firebase-auth:16.1.0\"\nimplementation \"com.google.firebase:firebase-storage:16.0.5\"\nimplementation \"com.google.firebase:firebase-perf:16.2.3\"\nimplementation 'com.firebaseui:firebase-ui-database:4.3.0'\n\nimplementation \"com.google.android.gms:play-services-auth:16.0.1\"\nimplementation \"com.google.android.gms:play-services-location:16.0.0\"\nimplementation \"com.google.android.gms:play-services-maps:16.0.0\"\n...\n}\n</code></pre>\n\n<p><strong>I use:</strong></p>\n\n<pre><code>compileSdkVersion 28\nbuildToolsVersion \"28.0.3\"\n</code></pre>\n\n<p><strong>Top gradle.build:</strong></p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.3.0'\n    classpath 'com.google.gms:google-services:4.2.0'\n    ...\n}\n</code></pre>\n\n<p><strong>gradle.properties:</strong></p>\n\n<pre><code>android.debug.obsoleteApi=true\nandroid.enableR8 = true\nandroid.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>gradle wrapper's gradle version is set to gradle-4.10.1-all.zip. Also I tried to <strong>Invalidate/restart</strong> my AS 3.3. Hope it will help somebody. </p>\n"}, {"comments": [{"owner": {"reputation": 1442, "user_id": 1767142, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8Plq0nbO3v0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rci9ND4cmvUjvoEpwU7rSUAieUA7w/photo.jpg?sz=128", "display_name": "Pioneer", "link": "https://stackoverflow.com/users/1767142/pioneer"}, "edited": false, "score": 0, "creation_date": 1556869391, "post_id": 54979149, "comment_id": 98581428, "body": "This is the perfect solution."}, {"owner": {"reputation": 2224, "user_id": 345810, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/jRHH0.jpg?s=128&g=1", "display_name": "tim4dev", "link": "https://stackoverflow.com/users/345810/tim4dev"}, "edited": false, "score": 0, "creation_date": 1561487544, "post_id": 54979149, "comment_id": 100077662, "body": "implementation &quot;androidx.appcompat:appcompat:1.1.0-beta01&quot;"}, {"owner": {"reputation": 7833, "user_id": 1079990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/roW20.png?s=128&g=1", "display_name": "hannes ach", "link": "https://stackoverflow.com/users/1079990/hannes-ach"}, "edited": false, "score": 1, "creation_date": 1564739653, "post_id": 54979149, "comment_id": 101138366, "body": "implementation &quot;androidx.appcompat:appcompat:1.1.0-rc01&quot;"}], "tags": [], "owner": {"reputation": 311, "user_id": 6436905, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zwmSuYIhDP4/AAAAAAAAAAI/AAAAAAAADlI/JPS-71GI28s/photo.jpg?sz=128", "display_name": "J&#252;rgen Obernolte", "link": "https://stackoverflow.com/users/6436905/j%c3%bcrgen-obernolte"}, "is_accepted": false, "score": 18, "last_activity_date": 1566299474, "last_edit_date": 1566299474, "creation_date": 1551687500, "answer_id": 54979149, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl/54979149#54979149", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>I fixed this issue by using the latest version of the appcompat library:</p>\n\n<pre><code>implementation \"androidx.appcompat:appcompat:1.1.0-rc01\"\n</code></pre>\n\n<p>In previous versions the class <strong>AppCompatActivity</strong> did not implement the <strong>LifecycleOwner</strong> interface thus leading to the errors you observed.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 8642952, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uz0ZTmyh14g/AAAAAAAAAAI/AAAAAAAAIvw/8O0lNQsGRWY/photo.jpg?sz=128", "display_name": "Ankit Rathi", "link": "https://stackoverflow.com/users/8642952/ankit-rathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1555510081, "creation_date": 1555510081, "answer_id": 55729494, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl/55729494#55729494", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>I had same issue. I fixed it by changing following depedency</p>\n\n<pre><code>implementation 'androidx.core:core-ktx:1.1.0-alpha05'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>implementation 'androidx.core:core-ktx:1.0.1'\n</code></pre>\n\n<p>So basically I am using stable release now.</p>\n"}, {"tags": [], "owner": {"reputation": 1523, "user_id": 984500, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/IXh7Z.png?s=128&g=1", "display_name": "greensuisse", "link": "https://stackoverflow.com/users/984500/greensuisse"}, "is_accepted": false, "score": 1, "last_activity_date": 1567987387, "creation_date": 1567987387, "answer_id": 57846584, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl/57846584#57846584", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>Latest update:\nandroid.core:1.2.0-alpha02 still does not have that method in ComponentActivity.getLifeCycle()</p>\n\n<p>I update to latest version of android.core:</p>\n\n<pre><code>dependencies {\n    // ...\n    def core_version = \"1.2.0-alpha04\"\n    implementation \"androidx.core:core:$core_version\"\n    implementation \"androidx.core:core-ktx:$core_version\"\n}\n</code></pre>\n\n<p>The latest version can be found in \n<a href=\"https://developer.android.com/jetpack/androidx/releases/core\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/core</a></p>\n"}], "owner": {"reputation": 396, "user_id": 2953909, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2e9d3b721281b5cf2951c6a3bf9e72ae?s=128&d=identicon&r=PG&f=1", "display_name": "4bottiglie", "link": "https://stackoverflow.com/users/2953909/4bottiglie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3793, "favorite_count": 2, "accepted_answer_id": 54223777, "answer_count": 6, "score": 18, "last_activity_date": 1567987387, "creation_date": 1545517679, "last_edit_date": 1546026929, "question_id": 53899751, "link": "https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl", "title": "Google Auth migrating to androidx: SignInHubActivity does not implement Lifecycle", "body": "<p>After the migration to AndroidX i'am facing this the following issue with the Google Auth lib:</p>\n\n<p>On Android 9 API 28:</p>\n\n<pre><code>java.lang.IncompatibleClassChangeError: Class 'com.google.android.gms.auth.api.signin.internal.SignInHubActivity' does not implement interface 'androidx.lifecycle.LifecycleOwner' in call to 'androidx.lifecycle.Lifecycle androidx.lifecycle.LifecycleOwner.getLifecycle()' (declaration of 'androidx.lifecycle.LiveData' appears in /data/app/fourbottles.bsg.workinghours4b-G1onPKgFFE-l3aqjx0qDJw==/split_lib_dependencies_apk.apk)\n    at androidx.lifecycle.LiveData.observe(LiveData.java:172)\n    at androidx.loader.app.LoaderManagerImpl$LoaderInfo.setCallback(LoaderManagerImpl.java:100)\n    at androidx.loader.app.LoaderManagerImpl.createAndInstallLoader(LoaderManagerImpl.java:400)\n    at androidx.loader.app.LoaderManagerImpl.initLoader(LoaderManagerImpl.java:421)\n    at com.google.android.gms.auth.api.signin.internal.SignInHubActivity.zzn(Unknown Source:80)\n    at com.google.android.gms.auth.api.signin.internal.SignInHubActivity.onActivityResult(Unknown Source:68)\n    at android.app.Activity.dispatchActivityResult(Activity.java:7454)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4353)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4402)\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n\n<p>On Android 5.0.2 API 22</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'androidx.lifecycle.Lifecycle$State androidx.lifecycle.Lifecycle.getCurrentState()' on a null object reference\n    at androidx.lifecycle.LiveData.observe(LiveData.java:172)\n    at androidx.loader.app.LoaderManagerImpl$LoaderInfo.setCallback(LoaderManagerImpl.java:100)\n    at androidx.loader.app.LoaderManagerImpl.createAndInstallLoader(LoaderManagerImpl.java:400)\n    at androidx.loader.app.LoaderManagerImpl.initLoader(LoaderManagerImpl.java:421)\n    at com.google.android.gms.auth.api.signin.internal.SignInHubActivity.zzn(Unknown Source)\n    at com.google.android.gms.auth.api.signin.internal.SignInHubActivity.onActivityResult(Unknown Source)\n    at android.app.Activity.dispatchActivityResult(Activity.java:6139)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:3535)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3582)\u00a0\n    at android.app.ActivityThread.access$1300(ActivityThread.java:144)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1327)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:135)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:5221)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:372)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:899)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:694)\n</code></pre>\n\n<p>I'am using the following lib versions:</p>\n\n<pre><code>implementation 'com.google.android.gms:play-services-gcm:16.0.0'\nimplementation 'com.google.android.gms:play-services-auth:16.0.1'\nimplementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.multidex:multidex:2.0.1'\n</code></pre>\n\n<p>The code is crashing as soon as i start an activity with the intent:</p>\n\n<pre><code>val signInIntent = Auth.GoogleSignInApi.getSignInIntent(googleApiClient)\nstartActivityForResult(signInIntent, LOGIN_WITH_GOOGLE_CODE)\n</code></pre>\n\n<p>I have the following properties into the settings.gradle file:</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>The Google Auth lib doesn't support authentication with AndroidX libs?</p>\n\n<p>Is there a way to start an intent from an androidX lib with the supported lib behaviour?\n\u00a0</p>\n\n<p>I accept answers in both java and kotlin languages.</p>\n\n<p>Update 1: 27.12.2017</p>\n\n<p>Google api client creation:</p>\n\n<pre><code> GoogleSignInOptions googleSignInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.default_web_client_id))\n                .requestEmail()\n                .build();\n\n googleApiClient = new GoogleApiClient.Builder(this)\n                .enableAutoManage(this, this)\n                .addApi(Auth.GOOGLE_SIGN_IN_API, googleSignInOptions)\n                .build();\n</code></pre>\n\n<p>It may be beacuse of <code>enableAutoManage</code> ?</p>\n\n<h2><strong>Update 2: 28.12.2018</strong></h2>\n\n<p>I managed to login with the following piece of code:</p>\n\n<pre><code>Task&lt;GoogleSignInAccount&gt; sign = googleSignInClient.silentSignIn();\nGoogleSignInAccount result = sign.getResult();\n</code></pre>\n\n<p>So i think there is no problem with the credentials or the other configuration files. In this way the user won't be able to choose an account.</p>\n\n<p>I think that Jetifier is failing in same way.</p>\n\n<p>With API 27 i'am getting the same error.</p>\n"}, {"tags": ["random", "kotlin"], "comments": [{"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "edited": false, "score": 2, "creation_date": 1545515884, "post_id": 53899536, "comment_id": 94644638, "body": "Can you generate arbitrary numbers as you have, and then just sort them?"}, {"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "reply_to_user": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "edited": false, "score": 0, "creation_date": 1545515990, "post_id": 53899536, "comment_id": 94644659, "body": "@JeffBowman actually that could work! I didn&#39;t even think of that. Will report back"}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1545517710, "post_id": 53899536, "comment_id": 94644967, "body": "What language is this supposed to be?"}, {"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1545517860, "post_id": 53899536, "comment_id": 94644996, "body": "@matt that is in kotlin (base don Java) for android."}, {"owner": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1545517957, "post_id": 53899536, "comment_id": 94645019, "body": "Thanks. Added that as a tag, as you should have done."}, {"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "reply_to_user": {"reputation": 443227, "user_id": 341994, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fbb4d027695dfdf76bf448b15d7e306a?s=128&d=identicon&r=PG", "display_name": "matt", "link": "https://stackoverflow.com/users/341994/matt"}, "edited": false, "score": 0, "creation_date": 1545518175, "post_id": 53899536, "comment_id": 94645080, "body": "@matt I didn&#39;t think the language mattered. I just wanted an idea of how to do it, that could fit any language i might want to do it in. I just provided my bit of code to show that i tried something. Will make sure i have a language written down next time"}], "answers": [{"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1545521667, "last_edit_date": 1545521667, "creation_date": 1545520827, "answer_id": 53900017, "question_id": 53899536, "link": "https://stackoverflow.com/questions/53899536/generate-random-numbers-where-the-difference-is-always-positive/53900017#53900017", "title": "Generate random numbers where the difference is always positive", "body": "<p>I would use this function to create a random number with a certain number of digits:</p>\n\n<pre><code>fun createRandomNumber(digits: Int) = (10f.pow(digits - 1).toInt() until 10f.pow(digits).toInt()).shuffled().first()\n</code></pre>\n\n<p>you will need this import:</p>\n\n<pre><code>import kotlin.math.pow\n</code></pre>\n\n<p>And then with this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    print(\"how many numbers?: \")\n    val numbers = readLine()!!.toInt()\n    print(\"how many digits?: \")\n    val digits = readLine()!!.toInt()\n\n    val set = mutableSetOf&lt;Int&gt;()\n\n    do {\n        set.add(createRandomNumber(digits))\n    } while (set.size &lt; numbers)\n\n    val array = set.toTypedArray().sortedArrayDescending()\n    array.forEach { println(it) }\n}\n</code></pre>\n\n<p>you get the user's input and create a set of random numbers. <br/>\nWith <code>toTypedArray().sortedArrayDescending()</code> you get the array. </p>\n"}, {"comments": [{"owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "edited": false, "score": 0, "creation_date": 1545672315, "post_id": 53905416, "comment_id": 94675240, "body": "I like your was better"}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 2, "last_activity_date": 1545611538, "last_edit_date": 1545611538, "creation_date": 1545584022, "answer_id": 53905416, "question_id": 53899536, "link": "https://stackoverflow.com/questions/53899536/generate-random-numbers-where-the-difference-is-always-positive/53905416#53905416", "title": "Generate random numbers where the difference is always positive", "body": "<p>Even when @forpas solution is fine, it still runs in <code>O(n log n)</code> because of the final sorting. My solution just generates the increasing intervals where to generate random numbers (for uniformity distribution), and then <code>map</code> each interval to a random number in that range, hence avoiding the need to sort the final list. Complexity is <code>O(n)</code></p>\n\n<p>I chose to use <code>Stream</code> to avoid mutation or explicit recursion, but is not mandatory.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val count = 20L\n    val digits = 5\n\n    val min =  pow(10.0, digits.toDouble() - 1).toLong()\n    val max = min*10 - 1\n    val gap = (max - min)/count + 1\n\n    val numbers =\n        Stream.iterate(Pair(min, min + gap)) { (_, prev) -&gt; Pair(prev, prev + gap) }\n            .map { (start, end) -&gt; Random.nextLong(start, end) }\n            .limit(count)\n            .collect(Collectors.toList()) \n\n    numbers.forEach(::println)\n}\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>11298\n16284\n20841\n26084\n31960\n35538\n37208\n45325\n46970\n52918\n57514\n59769\n67689\n70135\n75338\n78075\n84561\n86652\n91938\n99931\n</code></pre>\n"}], "owner": {"reputation": 298, "user_id": 6774425, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/390ae89542c8c0ff64450e63e31868e0?s=128&d=identicon&r=PG&f=1", "display_name": "sourlemonaid", "link": "https://stackoverflow.com/users/6774425/sourlemonaid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 53905416, "answer_count": 2, "score": 1, "last_activity_date": 1545611538, "creation_date": 1545515463, "last_edit_date": 1545522001, "question_id": 53899536, "link": "https://stackoverflow.com/questions/53899536/generate-random-numbers-where-the-difference-is-always-positive", "title": "Generate random numbers where the difference is always positive", "body": "<p>I am trying to generate some numbers, such that the difference is always positive. the user inputs the number of digits and the amount of rows they want. for example 3 digits 3 rows will produce</p>\n\n<pre><code>971\n888\n121\n</code></pre>\n\n<p>I want to make sure the difference of those is always positive. is there some kind of algorithm I can use. right now i just have my program create numbers, then subtract them and if it comes out negative, it will do it again... and again. It is very slow.</p>\n\n<p>I was thinking of first generating the difference and then adding to it until the amount of desired rows is reached. But i ran into problems if i generates a very large number. </p>\n\n<p>here is the code i use to generate a random number with X digits, just in case it matters</p>\n\n<pre><code>private fun createRandomNumber(digits: Int): Int {\n        val numberArray = IntArray(digits)\n        for (number in 0 until numberArray.size){\n            numberArray[number] = 9\n        }\n        val maxnumber:Int = numberArray.joinToString(\"\").toInt()\n        numberArray[0] = 1\n        for (number in 1 until numberArray.size){\n            numberArray[number] = 0\n        }\n        val minnumber:Int = numberArray.joinToString(\"\").toInt()\n        return (minnumber..maxnumber).random()\n    }\n</code></pre>\n\n<p>based on the suggestion by Jeff Bowman, I began by sorting an array with all the numbers that are generated and it speeds everything up to an acceptable amount!</p>\n"}, {"tags": ["android", "kotlin", "memory-leaks", "shared-element-transition", "sharedelementcallback"], "answers": [{"comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1545516151, "post_id": 53899342, "comment_id": 94644686, "body": "Its probably better not to do this.  If you&#39;re actually low on memory, the framework will destroy the previous activity, which will clear this up for you.  The only case where it may be a problem is if you have a single, very large allocation to make and need to avoid running OOM on it.  This would also break any animation on the back button."}, {"owner": {"reputation": 662, "user_id": 1619467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28a73e736a2c4f3a897786eec1d563?s=128&d=identicon&r=PG", "display_name": "Grzegorz Matyszczak", "link": "https://stackoverflow.com/users/1619467/grzegorz-matyszczak"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1545604917, "post_id": 53899342, "comment_id": 94659885, "body": "@GabeSechan sure, I agree it&#39;s not the best way to fix it. Actually, it&#39;s not breaking any animation on back button since custom SharedElementCallback is set to map correct view for transition."}], "tags": [], "owner": {"reputation": 662, "user_id": 1619467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28a73e736a2c4f3a897786eec1d563?s=128&d=identicon&r=PG", "display_name": "Grzegorz Matyszczak", "link": "https://stackoverflow.com/users/1619467/grzegorz-matyszczak"}, "is_accepted": false, "score": 2, "last_activity_date": 1545604511, "last_edit_date": 1545604511, "creation_date": 1545513220, "answer_id": 53899342, "question_id": 53899341, "link": "https://stackoverflow.com/questions/53899341/memory-leak-in-activity-enter-transition-coordinator-after-shared-element-transi/53899342#53899342", "title": "Memory leak in activity enter transition coordinator after shared element transition", "body": "<p>I discovered that there's a method <code>clearState()</code> in <code>EnterTransitionCoordinator</code>, which should be called in <code>Activity.onStop()</code>. But since the <code>Activity</code> is not yet being stopped, <code>View</code>s from <code>Fragment</code>s are being leaked. As a temporary workaround, I'm clearing that state manually on <code>Fragment.onDestroyView()</code> by calling this method with reflection. Below you can see the code:</p>\n\n<pre><code>/**\n * Works only for API &lt; 28\n * https://developer.android.com/about/versions/pie/restrictions-non-sdk-interfaces\n */\nfun Fragment.clearEnterTransitionState() {\n    try {\n        getActivityTransitionState()\n            ?.getEnterTransitionCoordinator()\n            ?.invokeClearStateMethod()\n    } catch (e: Exception) {\n        // no-op\n    }\n}\n\nprivate fun Fragment.getActivityTransitionState() =\n    Activity::class.java.getField(\"mActivityTransitionState\", requireActivity())\n\nprivate fun Any.getEnterTransitionCoordinator() = javaClass.getField(\"mEnterTransitionCoordinator\", this)\n\nprivate fun Any.invokeClearStateMethod() {\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\n        javaClass.superclass?.invokeClearStateMethod(this)\n    } else {\n        javaClass.invokeClearStateMethod(this)\n    }\n}\n\nprivate fun &lt;T&gt; Class&lt;T&gt;.getField(name: String, target: Any): Any? =\n    getDeclaredField(name).run {\n        isAccessible = true\n        get(target)\n    }\n\nprivate fun &lt;T&gt; Class&lt;T&gt;.invokeClearStateMethod(target: Any) {\n    getDeclaredMethod(\"clearState\").apply {\n        isAccessible = true\n        invoke(target)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 662, "user_id": 1619467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da28a73e736a2c4f3a897786eec1d563?s=128&d=identicon&r=PG", "display_name": "Grzegorz Matyszczak", "link": "https://stackoverflow.com/users/1619467/grzegorz-matyszczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1546426256, "creation_date": 1545513220, "last_edit_date": 1546426256, "question_id": 53899341, "link": "https://stackoverflow.com/questions/53899341/memory-leak-in-activity-enter-transition-coordinator-after-shared-element-transi", "title": "Memory leak in activity enter transition coordinator after shared element transition", "body": "<p>I'm having a problem with memory leak in <code>EnterTransitionCoordinator</code> while using shared element transitions. Below you can see the app structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uqjNl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uqjNl.jpg\" alt=\"App structure\"></a></p>\n\n<p>It has 2 screens, first is an <code>Activity</code> with <code>DrawerLayout</code> and few <code>Fragment</code>s inside. One of them consists a list of photos and clicking specific photo triggers shared element transition to <code>Fragment</code> from <code>ViewPager</code> located in another <code>Activity</code>. I'm using custom <code>SharedElementCallback</code> when exiting and reentering these two <code>Activity</code>s for mapping a correct <code>View</code> for shared element transition. I based my code on this great blog post: <a href=\"https://android.jlelse.eu/dynamic-shared-element-transition-23428f62a2af\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/dynamic-shared-element-transition-23428f62a2af</a></p>\n\n<p>The problem is, that after swiping between <code>ViewPager</code>'s items, <code>Fragment</code>s are being destroyed, but the <code>View</code> used for shared element transition is being kept in <code>Activity</code>'s <code>ActivityTransitionState</code>, specifically in <code>EnterTransitionCoordinator</code>. The same when reentering to <code>Activity</code> with <code>DrawerLayout</code> and then opening another <code>Fragment</code>. References to <code>View</code>s used for shared element transitions are still kept int <code>Activity</code>s even though <code>Fragment</code>s were destroyed, which causes a memory leak. </p>\n\n<p>My question: Is there a good way to avoid this memory leak?</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1545512934, "post_id": 53899284, "comment_id": 94644051, "body": "<a href=\"https://stackoverflow.com/a/3123134/7366707\">This is not <i>really</i> possible without some workarounds</a>; maybe rethinking the design would be a better idea."}, {"owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1545552430, "post_id": 53899284, "comment_id": 94649212, "body": "@Moira Yeah, I already found that post, but I hoped there would be a way by now with Kotlin."}, {"owner": {"reputation": 16518, "user_id": 1515052, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87d59872c339c0c66860831e77d764c0?s=128&d=identicon&r=PG", "display_name": "Simulant", "link": "https://stackoverflow.com/users/1515052/simulant"}, "edited": false, "score": 0, "creation_date": 1545641687, "post_id": 53899284, "comment_id": 94666400, "body": "What problem do you want to solve with that code? Sounds like a Service Provider Interface (SPI) could serve you well. <a href=\"https://docs.oracle.com/javase/tutorial/sound/SPI-intro.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/sound/SPI-intro.html</a>"}, {"owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "reply_to_user": {"reputation": 16518, "user_id": 1515052, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87d59872c339c0c66860831e77d764c0?s=128&d=identicon&r=PG", "display_name": "Simulant", "link": "https://stackoverflow.com/users/1515052/simulant"}, "edited": false, "score": 0, "creation_date": 1545650834, "post_id": 53899284, "comment_id": 94669208, "body": "@Simulant I&#39;m building a console application, where I would like to get the class names and output them as options to the user. To be fair, this is just a practice project"}], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1019, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545512738, "creation_date": 1545512738, "question_id": 53899284, "link": "https://stackoverflow.com/questions/53899284/how-can-i-get-all-implementations-of-an-interface-at-runtime-in-kotlin", "title": "How can I get all implementations of an interface at runtime in Kotlin", "body": "<p>I know I can get all subclasses of a <code>sealed class</code> in Kotlin, but I'm looking for a way to get all implementations of an interface. </p>\n\n<p>So instead of ...</p>\n\n<pre><code>sealed class HotDrinkFactory {\n    abstract fun prepare(amount: Int): HotDrink\n}\n\nclass TeaFactory : HotDrinkFactory() {\n    override fun prepare(amount: Int): HotDrink {\n        ...\n    }\n}\n\nclass CoffeeFactory : HotDrinkFactory() {\n    override fun prepare(amount: Int): HotDrink {\n        ...\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val hotDrinkFactories = HotDrinkFactory::class.sealedSubclasses\n    hotDrinkFactories.forEach { println(it::class.qualifiedName) }\n}\n</code></pre>\n\n<p>... I would like to have </p>\n\n<pre><code>interface HotDrinkFactory {\n    fun prepare(amount: Int): HotDrink\n}\n\nclass TeaFactory : HotDrinkFactory {\n    override fun prepare(amount: Int): HotDrink {\n        ...\n    }\n}\n\nclass CoffeeFactory : HotDrinkFactory {\n    override fun prepare(amount: Int): HotDrink {\n        ...\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val hotDrinkFactories = HotDrinkFactory::class.&lt;&lt;&lt; Something here? &gt;&gt;&gt;\n    hotDrinkFactories.forEach { println(it::class.qualifiedName) }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-intent", "kotlin", "static"], "comments": [{"owner": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 2, "creation_date": 1545511501, "post_id": 53899152, "comment_id": 94643763, "body": "What about a singleton?"}, {"owner": {"reputation": 1564, "user_id": 8377123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e4a6c7142a3db401a0901eb611fb96e?s=128&d=identicon&r=PG&f=1", "display_name": "Slaknation", "link": "https://stackoverflow.com/users/8377123/slaknation"}, "reply_to_user": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1545512524, "post_id": 53899152, "comment_id": 94643979, "body": "Never used a singleton but that looks like a good option."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 3029, "user_id": 10632369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/541566093e9d34a3858f5446d06a7a6e?s=128&d=identicon&r=PG", "display_name": "tomerpacific", "link": "https://stackoverflow.com/users/10632369/tomerpacific"}, "edited": false, "score": 0, "creation_date": 1545515571, "post_id": 53899152, "comment_id": 94644567, "body": "@tomerpacific that only works right/correctly if you save it to <code>onSaveInstanceState</code> in <code>BaseActivity</code> and restore it only once when app starts but <code>savedInstanceState != null</code>"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545515620, "post_id": 53899210, "comment_id": 94644580, "body": "Technically they don&#39;t survive, but you CAN save them to <code>onSaveInstanceState</code> bundle, it&#39;s just that all activities need to do it, and should only be restored <i>once</i> (if app is starting but the first <code>savedInstanceState</code> is <code>!= null</code>)."}], "tags": [], "owner": {"reputation": 1179, "user_id": 4570081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G286h.png?s=128&g=1", "display_name": "Dmytro Ivanov", "link": "https://stackoverflow.com/users/4570081/dmytro-ivanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1545511803, "creation_date": 1545511803, "answer_id": 53899210, "question_id": 53899152, "link": "https://stackoverflow.com/questions/53899152/android-passing-same-variable-between-3-activities/53899210#53899210", "title": "Android: Passing same variable between 3 activities?", "body": "<p>One big issue with this is that static variables don't survive Android low-memory state, but sending intent between survives. Also read here about static variable. <a href=\"https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil\">(Link)</a></p>\n"}, {"comments": [{"owner": {"reputation": 1564, "user_id": 8377123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e4a6c7142a3db401a0901eb611fb96e?s=128&d=identicon&r=PG&f=1", "display_name": "Slaknation", "link": "https://stackoverflow.com/users/8377123/slaknation"}, "edited": false, "score": 0, "creation_date": 1545512505, "post_id": 53899256, "comment_id": 94643975, "body": "What about a singleton? I am beginning to think that a Singleton might be a good option (thanks tomerpacific)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545515593, "post_id": 53899256, "comment_id": 94644572, "body": "that only works right/correctly if you save it to <code>onSaveInstanceState</code> in <code>BaseActivity</code> and restore it only once when app starts but <code>savedInstanceState != null</code>"}, {"owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "edited": false, "score": 0, "creation_date": 1545515847, "post_id": 53899256, "comment_id": 94644625, "body": "You can use it also but the question is, is it not a overkill for Your needs? <a href=\"https://en.wikipedia.org/wiki/Overengineering\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Overengineering</a>"}], "tags": [], "owner": {"reputation": 1159, "user_id": 6329985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26042e2e619f77144b8d947e3d2b671?s=128&d=identicon&r=PG&f=1", "display_name": "DawidJ", "link": "https://stackoverflow.com/users/6329985/dawidj"}, "is_accepted": false, "score": 1, "last_activity_date": 1545512437, "creation_date": 1545512437, "answer_id": 53899256, "question_id": 53899152, "link": "https://stackoverflow.com/questions/53899152/android-passing-same-variable-between-3-activities/53899256#53899256", "title": "Android: Passing same variable between 3 activities?", "body": "<p>You have two options here:</p>\n\n<ol>\n<li>Send it via <code>Intent</code> after implementing <code>Serializable</code> or <code>Parcelable</code> by you data class,</li>\n<li>Save your data object to <code>.txt</code> file and read it when you need it.</li>\n</ol>\n\n<p><code>static</code> it is not created for this kind of things and You shouldn't use it in this case.</p>\n\n<p>In my opinion You should go with first option.</p>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 6275844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f7071f7e0149f02e945420a120a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dan 0", "link": "https://stackoverflow.com/users/6275844/dan-0"}, "is_accepted": true, "score": 1, "last_activity_date": 1545514175, "last_edit_date": 1545514175, "creation_date": 1545513402, "answer_id": 53899358, "question_id": 53899152, "link": "https://stackoverflow.com/questions/53899152/android-passing-same-variable-between-3-activities/53899358#53899358", "title": "Android: Passing same variable between 3 activities?", "body": "<p>It really depends on your use case, but I'd generally recommend against static implementations (to include singletons, see <a href=\"https://stackoverflow.com/questions/137975/what-is-so-bad-about-singletons\">What is so bad about singletons?</a>). They become hard to test adequately over time and can (in short) lead to many other problems depending on implementation.</p>\n\n<p>If it is a relatively simple object where state change is rare, only done in one Activity at a time, and/or irrelevant, implementing a <code>Parcelable</code> and passing that to each <code>Activity</code> via an <code>Intent</code> is probably best.</p>\n\n<p>If this is a complex object or an object that can change dynamically, the preferable solution would be to use a dependency injection platform (such as Koin if you're using  Kotlin) to instantiate the data and provide it as a dependency. Koin is pretty straight forward, a very basic implementation from the Koin website (and missing just a few lines to be complete):</p>\n\n<pre><code>// Injected by constructor\nclass MyViewModel(val repo : MyRepository) : ViewModel()\n\n// declared ViewModel using the viewModel keyword\nval myModule : Module = module {\n  viewModel { MyViewModel(get()) } \n  single { MyRepository() }\n}\n\n// Just get it\nclass MyActivity() : AppCompatActivity() {\n\n  // lazy inject MyViewModel\n  val vm : MyViewModel by viewModel()\n}\n</code></pre>\n\n<p>In this case, your object would be something like <code>MyRepository()</code> in the example. You'd just have to add the <code>startKoin([list of modules])</code> from there. If you wanted <code>MyRepository()</code> in your <code>Activity</code> you'd include it like <code>val myRepo: MyRepository by inject()</code>. I don't know if this is outside the scope of your project though, it all depends on what you're trying to do exactly.</p>\n"}, {"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 0, "last_activity_date": 1545516523, "creation_date": 1545516523, "answer_id": 53899614, "question_id": 53899152, "link": "https://stackoverflow.com/questions/53899152/android-passing-same-variable-between-3-activities/53899614#53899614", "title": "Android: Passing same variable between 3 activities?", "body": "<p>This isn't the best method (although there really isn't a perfect way to do this), but you could instantiate it in a custom Application class.</p>\n\n<pre><code>class App : Application() {\n\n    val yourObject by lazy { YourObject() } //by lazy is useful if the Object needs to hold a Context or something that isn't immediately available\n\n}\n</code></pre>\n\n<p>Add <code>android:name=\".App\"</code> to the <code>application</code> tag in your manifest so your App class is actually used. <code>.App</code> assumes it's in the root of your application package.</p>\n\n<p>Then, from anywhere you have a reference to a Context, you can do something like:</p>\n\n<pre><code>(context.applicationContext as App).yourObject\n</code></pre>\n\n<p>to access the Object.</p>\n"}], "owner": {"reputation": 1564, "user_id": 8377123, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e4a6c7142a3db401a0901eb611fb96e?s=128&d=identicon&r=PG&f=1", "display_name": "Slaknation", "link": "https://stackoverflow.com/users/8377123/slaknation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 53899358, "answer_count": 4, "score": 1, "last_activity_date": 1545516523, "creation_date": 1545511290, "question_id": 53899152, "link": "https://stackoverflow.com/questions/53899152/android-passing-same-variable-between-3-activities", "title": "Android: Passing same variable between 3 activities?", "body": "<p>So I have a (Kotlin) data class that gets instantiated in my startup activity (we'll just call the object <code>dataObj</code>). I have two other activities that need access to the <code>dataObj</code> that was instantiated on startup. I know I could have my data class implement the <code>Serializable</code> interface so that I could pass the object between the three activities using intents. But I also have been thinking that I could use a static variable in the constructor so that I could easily just grab the values for the class. I'm just trying to figure out what is recommended and what is good practice.</p>\n"}, {"tags": ["spring-boot", "gradle", "kotlin", "jmeter", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1545639219, "creation_date": 1545639219, "answer_id": 53910839, "question_id": 53899004, "link": "https://stackoverflow.com/questions/53899004/stackoverflow-error-when-uses-apache-jmeter-core/53910839#53910839", "title": "Stackoverflow error when uses Apache Jmeter Core", "body": "<p>If you <a href=\"https://docs.gradle.org/current/userguide/userguide_single.html#sec:listing_dependencies\" rel=\"nofollow noreferrer\">list your project dependencies</a> you will see that </p>\n\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core/5.0\" rel=\"nofollow noreferrer\"><code>org.apache.jmeter:ApacheJMeter_core:5.0</code></a> has transitive dependency on <a href=\"https://mvnrepository.com/artifact/commons-collections/commons-collections/3.2.2\" rel=\"nofollow noreferrer\"><code>commons-collections:commons-collections:3.2.2</code></a> </li>\n<li>which in its turn clashes with your <a href=\"https://mvnrepository.com/artifact/org.apache.commons/commons-collections4/4.2\" rel=\"nofollow noreferrer\"><code>org.apache.commons:commons-collections4:4.2</code></a></li>\n</ul>\n\n<p>So you're suffering from a form of a <a href=\"https://dzone.com/articles/what-is-jar-hell\" rel=\"nofollow noreferrer\">Jar Hell</a>. You cannot reliably use 2 different versions of a same JAR in one application as the order of loaded classes in the <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">CLASSPATH</a> is a big question mark. Theoretically you can control this using a <a href=\"http://blog.markturansky.com/archives/21\" rel=\"nofollow noreferrer\">custom classloader</a> however it might be an overkill for your project. </p>\n\n<p>The easiest would be just removing your <code>implementation(\"org.apache.commons:commons-collections4:4.2\")</code> dependency and re-write the impacted code to use <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-3.2.2/index.html\" rel=\"nofollow noreferrer\">Commons Collections 3 syntax</a>. </p>\n\n<p>Alternatively you will have to reconsider the way you're using JMeter in your application and go for <a href=\"https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\" rel=\"nofollow noreferrer\">one of the alternative JMeter execution options</a>. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6457056"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1545639219, "creation_date": 1545509831, "question_id": 53899004, "link": "https://stackoverflow.com/questions/53899004/stackoverflow-error-when-uses-apache-jmeter-core", "title": "Stackoverflow error when uses Apache Jmeter Core", "body": "<p>I am new in Gradle. I am using my gradle with kotlin dsl script. When I execute using </p>\n\n<blockquote>\n  <p>gradle bootRun</p>\n</blockquote>\n\n<p>Then it throw StackoverFlow error for log4J</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.StackOverflowError   at\n  java.lang.reflect.InvocationTargetException.(InvocationTargetException.java:72)\n    at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)  at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.apache.logging.log4j.util.StackLocator.getCallerClass(StackLocator.java:110)\n    at\n  org.apache.logging.log4j.util.StackLocator.getCallerClass(StackLocator.java:123)\n    at\n  org.apache.logging.log4j.util.StackLocatorUtil.getCallerClass(StackLocatorUtil.java:55)</p>\n</blockquote>\n\n<p>As Soon as I comment the <strong>implementation( \"org.apache.jmeter:ApacheJMeter_core:5.0\")</strong> from the build script, it doesn't throw any Error, what I should do? Please help.</p>\n\n<h1>Build.Gradle.kts</h1>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\n\nplugins {\n    java\n    kotlin(\"jvm\") version \"1.3.11\"\n    \"kotlin-spring\"\n    id(\"org.springframework.boot\") version \"2.1.1.RELEASE\"\n}\n\ngroup = \"org.kayd\"\nversion = \"1.0-DEV\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n    implementation(kotlin(\"reflect\"))\n    implementation(\"org.apache.commons:commons-collections4:4.2\")\n    implementation(\"org.springframework.boot:spring-boot-starter:2.1.1.RELEASE\")\n    implementation( \"org.apache.jmeter:ApacheJMeter_core:5.0\")\n//    implementation(\"org.apache.jmeter:ApacheJMeter_java:5.0\")\n//    implementation( \"org.apache.jmeter:ApacheJMeter_http:5.0\")\n//    implementation( \"org.antlr:antlr:3.1.3\")\n//    implementation( \"org.json:json:20180813\")\n    testCompile(\"junit\", \"junit\", \"4.12\")\n}\n\nconfigure&lt;JavaPluginConvention&gt; {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n}\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<h1>Main Fun file</h1>\n\n<pre><code>package org.kayd\n\nimport org.springframework.boot.Banner\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.context.properties.EnableConfigurationProperties\nimport org.springframework.boot.runApplication\n\n@EnableConfigurationProperties\n@SpringBootApplication\nopen class StartApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;StartApplication&gt;(*args) {\n        setBannerMode(Banner.Mode.OFF)\n        setLogStartupInfo(true)\n    }\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "edited": false, "score": 2, "creation_date": 1545604654, "post_id": 53902991, "comment_id": 94659839, "body": "Thanks, this works. I still hope though somebody could come up with something resembling the gradle version, otherwise it wouldn&#39;t feel like &quot;natural migration&quot;. :-)"}], "tags": [], "owner": {"reputation": 16575, "user_id": 52954, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49313a97f8c3f50e05b6c7ce6d3e8ecd?s=128&d=identicon&r=PG", "display_name": "LiorH", "link": "https://stackoverflow.com/users/52954/liorh"}, "is_accepted": false, "score": 2, "last_activity_date": 1545562478, "creation_date": 1545562478, "answer_id": 53902991, "question_id": 53898859, "link": "https://stackoverflow.com/questions/53898859/how-to-set-system-properties-on-run-in-kotlin-dsl/53902991#53902991", "title": "How to set system properties on `run` in Kotlin DSL", "body": "<p>I believe kotlin is mistaking the run block for its built-in run method.\nIf you're referring to the application's plugin then you can configure its runtime properties with</p>\n\n<pre><code>application {\n   applicationDefaultJvmArgs = listOf(\"-Dspring.output.ansi.enabled=always\")\n}\n</code></pre>\n\n<p>see more here:</p>\n\n<p><a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/application_plugin.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 1447034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c0fa8ad99f74964aa48d3656d1a3a2?s=128&d=identicon&r=PG", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1447034/douglas"}, "is_accepted": false, "score": 1, "last_activity_date": 1589472046, "creation_date": 1589472046, "answer_id": 61801906, "question_id": 53898859, "link": "https://stackoverflow.com/questions/53898859/how-to-set-system-properties-on-run-in-kotlin-dsl/61801906#61801906", "title": "How to set system properties on `run` in Kotlin DSL", "body": "<p>According to <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html#tasks\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/kotlin_dsl.html#tasks</a></p>\n\n<pre><code>tasks {\n    named&lt;JavaExec&gt;(\"run\") {\n        systemProperty(\"spring.output.ansi.enable\", \"always\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1565, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1589472046, "creation_date": 1545508232, "question_id": 53898859, "link": "https://stackoverflow.com/questions/53898859/how-to-set-system-properties-on-run-in-kotlin-dsl", "title": "How to set system properties on `run` in Kotlin DSL", "body": "<p>What is the equivalent of this in Kotlin DSL:</p>\n\n<pre><code>run {\n    systemProperties[\"spring.output.ansi.enabled\"] = \"always\"\n}\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>run {\n    systemProperties(\"spring.output.ansi.enabled\" to \"always\")\n}\n</code></pre>\n\n<p>But got:</p>\n\n<pre><code>* What went wrong: Script compilation error:\n\nLine 37:     systemProperties(Pair(\"spring.output.ansi.enabled\", \"always\"))\n             ^ Unresolved reference. None of the following candidates is applicable because of receiver type mismatch:\n                 public inline fun JavaExec.systemProperties(vararg properties: Pair&lt;String, Any?&gt;): JavaExec defined in org.gradle.kotlin.dsl\n                 public inline fun Test.systemProperties(vararg properties: Pair&lt;String, Any?&gt;): Test defined in org.gradle.kotlin.dsl\n                 public inline fun JavaForkOptions.systemProperties(vararg properties: Pair&lt;String, Any?&gt;): JavaForkOptions defined in org.gradle.kotlin.dsl\n</code></pre>\n"}, {"tags": ["kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1545501143, "post_id": 53897962, "comment_id": 94641526, "body": "What happens for <code>a, b, a, b</code>? It just stays <code>a, b, a, b</code>? I have a doubt that it&#39;s unlikely that there is a built-in operator that creates a varying number of elements by a predicate. Why not use a for loop?"}, {"owner": {"reputation": 709, "user_id": 7653476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/737731702991665/picture?type=large", "display_name": "Ali Habbash", "link": "https://stackoverflow.com/users/7653476/ali-habbash"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545501376, "post_id": 53897962, "comment_id": 94641576, "body": "It will be the same <code>a, b, a, b</code> because no equal adjacent is found."}, {"owner": {"reputation": 709, "user_id": 7653476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/737731702991665/picture?type=large", "display_name": "Ali Habbash", "link": "https://stackoverflow.com/users/7653476/ali-habbash"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1545501849, "post_id": 53897962, "comment_id": 94641694, "body": "Because the task is preferably to be written in functional style"}], "answers": [{"tags": [], "owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1545513733, "creation_date": 1545513733, "answer_id": 53899385, "question_id": 53897962, "link": "https://stackoverflow.com/questions/53897962/merge-every-two-equal-elements-into-another-one/53899385#53899385", "title": "merge every two equal elements into another one", "body": "<p>Here comes the very <strong>inefficient</strong> but, <strong>desired</strong> solution. As requested, I've used <code>functional programming</code> as much as possible. Hope you'll like it. But, it would be very easy if you use <code>loop</code> or <code>regular expression</code> to solve this problem.\nIn this question functional style is not needed.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val list = listOf(\"a\", \"a\", \"a\", \"a\", \"b\", \"b\", \"b\", \"b\")\n    //val list = listOf(\"a\", \"a\", \"a\", \"b\", \"a\")\n    var temp = false\n    val result = list.zipWithNext().map {\n        if (temp) {\n            temp = false\n            null\n        } else {\n            if (it.first == it.second) {\n                temp = true\n                it.first + it.second\n            } else {\n                it.first\n            }\n        }\n    }.filter { !it.isNullOrBlank() }.toMutableList()\n    if (!temp) {\n        result.add(list.last())\n    }\n\n    print(result)\n}\n</code></pre>\n"}], "owner": {"reputation": 709, "user_id": 7653476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/737731702991665/picture?type=large", "display_name": "Ali Habbash", "link": "https://stackoverflow.com/users/7653476/ali-habbash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "accepted_answer_id": 53899385, "answer_count": 1, "score": -3, "last_activity_date": 1545513733, "creation_date": 1545500447, "last_edit_date": 1545502169, "question_id": 53897962, "link": "https://stackoverflow.com/questions/53897962/merge-every-two-equal-elements-into-another-one", "title": "merge every two equal elements into another one", "body": "<p>How to merge every two equal elements in the list into one element and the merge process is specified by lambda function.</p>\n\n<p>For example if I have a list like this </p>\n\n<p>[\"a\",\"a\",\"b\",\"b\"]</p>\n\n<p>And the merge process is <code>{it.repeat(2)}</code></p>\n\n<p>it should be like this:</p>\n\n<p>[\"aa\",\"bb\"]</p>\n\n<p>but if the list is like this:</p>\n\n<p>[\"a\",\"a\",\"a\"]</p>\n\n<p>It should be converted to </p>\n\n<p>[\"aa\",\"a\"]</p>\n\n<p>Another example is :</p>\n\n<p>[\"a\",\"b\",\"a\",\"b\"]</p>\n\n<p>will be </p>\n\n<p>[\"a\", \"b\",\"a\",\"b\"]</p>\n\n<p>I tried <code>zipWithNext()</code> but I can't figure out what to do next especially when there is more than two repeat of the same letter.</p>\n\n<p>How to implement like this in Kotlin using <strong>functional programming</strong> way of Kotlin.</p>\n"}, {"tags": ["android", "kotlin", "protocol-buffers", "grpc"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1545508213, "post_id": 53897682, "comment_id": 94643144, "body": "AFAIK, javax doesn&#39;t exist on Android."}, {"owner": {"reputation": 3206, "user_id": 6093604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7f17S.jpg?s=128&g=1", "display_name": "Emixam23", "link": "https://stackoverflow.com/users/6093604/emixam23"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1545514921, "post_id": 53897682, "comment_id": 94644472, "body": "What do you mean by javax?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1545516501, "post_id": 53897682, "comment_id": 94644752, "body": "Nvm. I mean the package, which is used in the first annotation. Missed the part where it was generated ^^&quot;"}, {"owner": {"reputation": 3206, "user_id": 6093604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7f17S.jpg?s=128&g=1", "display_name": "Emixam23", "link": "https://stackoverflow.com/users/6093604/emixam23"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1545537262, "post_id": 53897682, "comment_id": 94647495, "body": "Oh ok got it now haha so do you think is there any Android Kotlin implementation for gRPC?"}, {"owner": {"reputation": 549, "user_id": 5839622, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDi0rHoHp2s/AAAAAAAAAAI/AAAAAAAADD8/YShP9MOniew/photo.jpg?sz=128", "display_name": "Kun  Zhang", "link": "https://stackoverflow.com/users/5839622/kun-zhang"}, "edited": false, "score": 0, "creation_date": 1545852859, "post_id": 53897682, "comment_id": 94712775, "body": "I see <code>error: package helloworld.Helloworld does not exist</code> in the errors, and also <code>GreeterGrpc.java</code> being under <code>src&#47;</code> instead of the default <code>build&#47;generated&#47;source&#47;proto</code>. Your <code>build.gradle</code> may be misconfigured. Can you post them?"}, {"owner": {"reputation": 3206, "user_id": 6093604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7f17S.jpg?s=128&g=1", "display_name": "Emixam23", "link": "https://stackoverflow.com/users/6093604/emixam23"}, "edited": false, "score": 0, "creation_date": 1545857727, "post_id": 53897682, "comment_id": 94714118, "body": "Edited based on your comments :)"}, {"owner": {"reputation": 549, "user_id": 5839622, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kDi0rHoHp2s/AAAAAAAAAAI/AAAAAAAADD8/YShP9MOniew/photo.jpg?sz=128", "display_name": "Kun  Zhang", "link": "https://stackoverflow.com/users/5839622/kun-zhang"}, "edited": false, "score": 0, "creation_date": 1545863461, "post_id": 53897682, "comment_id": 94715687, "body": "Try adding <code>compileOnly &quot;javax.annotation:javax.annotation-api:1.2&quot;</code> to your dependencies.  This should resolve the <code>Generated</code> class. Can you list the files under <code>app&#47;src&#47;debug&#47;java&#47;helloworld</code>?"}], "owner": {"reputation": 3206, "user_id": 6093604, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7f17S.jpg?s=128&g=1", "display_name": "Emixam23", "link": "https://stackoverflow.com/users/6093604/emixam23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545857702, "creation_date": 1545498316, "last_edit_date": 1545857702, "question_id": 53897682, "link": "https://stackoverflow.com/questions/53897682/android-grpc-client-from-java-to-kotlin", "title": "Android - gRPC client - From Java to Kotlin", "body": "<p>I am coming today because I can't find the way to use gRPC and protobuf with my Kotlin app in order to exchange with my API.</p>\n\n<p>In fact, I have a Go API and a Android (java) client. My exchange works, everything is fine, but now I would like to try with Kotlin. However, I can't find the way to generate my gRPC client stub...</p>\n\n<p>I followed the different tutorials/blogs:</p>\n\n<ul>\n<li><a href=\"https://grpc.io/blog/kotlin-gradle-projects\" rel=\"nofollow noreferrer\">https://grpc.io/blog/kotlin-gradle-projects</a></li>\n<li><a href=\"https://medium.com/@umesh8346/grpc-in-kotlin-android-d67daa978450\" rel=\"nofollow noreferrer\">https://medium.com/@umesh8346/grpc-in-kotlin-android-d67daa978450</a></li>\n<li><a href=\"https://medium.com/@elye.project/android-protobuf-in-kotlin-a1c33014a4e2\" rel=\"nofollow noreferrer\">https://medium.com/@elye.project/android-protobuf-in-kotlin-a1c33014a4e2</a></li>\n</ul>\n\n<p>However, at the end, nothing is working... Either I have errors or I need updates, or even it generates the file, but then I get error once the file is generated...</p>\n\n<p>With the second link (which is the one that worked more far than the others), I have this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/n8lC0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8lC0.png\" alt=\"enter image description here\"></a></p>\n\n<p>My protobuf file is the following (I just took the easiest one)</p>\n\n<pre><code>// Copyright 2015 gRPC authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nsyntax = \"proto3\";\n\npackage helloworld;\n\n// The greeting service definition.\nservice Greeter {\n  // Sends a greeting\n  rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// The request message containing the user's name.\nmessage HelloRequest {\n  string name = 1;\n}\n\n// The response message containing the greetings\nmessage HelloReply {\n  string message = 1;\n}\n</code></pre>\n\n<p>I followed as well two others links plus one github repo with no success so I hope anyone that has already achieved it can help me :)</p>\n\n<p>Thanks for your help !</p>\n\n<h1>Edit 1 - Based on comments exchanged</h1>\n\n<blockquote>\n  <p>Module</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"eyesapp.co.eyes\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    implementation 'io.grpc:grpc-protobuf:1.13.2'\n    implementation 'io.grpc:grpc-stub:1.13.2'\n}\n\nbuildscript {\n    ext {\n        protobufPluginVersion = '0.8.5'\n        grpcVersion = '1.12.0'\n        protocVersion = '3.2.0'\n    }\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"com.google.protobuf:protobuf-gradle-plugin:$protobufPluginVersion\"\n    }\n\n}\n\napply plugin: 'com.google.protobuf'\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n    implementation \"io.grpc:grpc-netty:$grpcVersion\"\n    implementation \"io.grpc:grpc-protobuf:$grpcVersion\"\n    implementation \"io.grpc:grpc-stub:$grpcVersion\"\n}\n\nprotobuf {\n\n    generatedFilesBaseDir = \"$projectDir/src\"\n\n    protoc {\n        artifact = \"com.google.protobuf:protoc:$protocVersion\"\n    }\n\n    plugins {\n        grpc {\n            artifact = \"io.grpc:protoc-gen-grpc-java:$grpcVersion\"\n        }\n    }\n    generateProtoTasks {\n        all()*.plugins {\n            grpc {\n                outputSubDir = 'java'\n            }\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Project</p>\n</blockquote>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.3.11'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 5, "last_activity_date": 1545492741, "last_edit_date": 1545492741, "creation_date": 1545491406, "answer_id": 53896786, "question_id": 53896627, "link": "https://stackoverflow.com/questions/53896627/how-to-make-a-variable-dependent-on-other/53896786#53896786", "title": "How to make a variable dependent on other?", "body": "<p>You can use property delegate, it fires off every time value of the property changes. Using delegate, you can change <code>lives</code> property dependent on <code>impact</code> new value:</p>\n\n<pre><code>var lives: Int = 0\nvar impact: Int by Delegates.observable(0) { property, oldValue, newValue -&gt;\n    // add your logic here to react on changes of `impact` variable\n    lives = 70 * newValue\n}\n</code></pre>\n\n<p><code>Delegates.observable()</code> is a built-in delegate from Kotlin standard library.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1545649458, "creation_date": 1545649458, "answer_id": 53912587, "question_id": 53896627, "link": "https://stackoverflow.com/questions/53896627/how-to-make-a-variable-dependent-on-other/53912587#53912587", "title": "How to make a variable dependent on other?", "body": "<p>Another way would be to use a property without a backing field for impact:</p>\n\n<pre><code>var lives = 0\nval impact get(): Int {\n    // do something\n    return lives * 5 // impact depends on lives\n}\n</code></pre>\n\n<p>This way you do not change <code>impact</code> reactively, like in Sergey's answer, but rather you get a value dependant on <code>lives</code> if you access <code>impact</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 10823583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EUZub.jpg?s=128&g=1", "display_name": "Alex Earl", "link": "https://stackoverflow.com/users/10823583/alex-earl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 53896786, "answer_count": 2, "score": 0, "last_activity_date": 1545649458, "creation_date": 1545490156, "last_edit_date": 1545649175, "question_id": 53896627, "link": "https://stackoverflow.com/questions/53896627/how-to-make-a-variable-dependent-on-other", "title": "How to make a variable dependent on other?", "body": "<p>I'm trying to relate two variables in kotlin for understanding purposes.</p>\n\n<p>Here's what I'm trying to do.</p>\n\n<p>I want <code>var impact</code> dependent on <code>var lives</code>. as in every occurrence of <code>var lives</code> should contain 70 units of <code>var impact</code>.</p>\n\n<p>Please guide me how to do it.</p>\n"}]