[{"tags": ["android", "serialization", "kotlin", "data-class"], "comments": [{"owner": {"reputation": 951, "user_id": 11161537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aNy16.jpg?s=128&g=1", "display_name": "Ibrahim Ali", "link": "https://stackoverflow.com/users/11161537/ibrahim-ali"}, "edited": false, "score": 0, "creation_date": 1565222078, "post_id": 57403468, "comment_id": 101288572, "body": "Why you want to read <code>Times</code> as a list while it&#39;s an object!"}], "answers": [{"tags": [], "owner": {"reputation": 513, "user_id": 2836202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a51bd1f2be1a9ab93aee8d828e461aef?s=128&d=identicon&r=PG&f=1", "display_name": "user2836202", "link": "https://stackoverflow.com/users/2836202/user2836202"}, "is_accepted": true, "score": 2, "last_activity_date": 1565228791, "creation_date": 1565228791, "answer_id": 57404190, "question_id": 57403468, "link": "https://stackoverflow.com/questions/57403468/convert-data-class-json-object-to-an-list-in-kotlin/57404190#57404190", "title": "Convert data class (JSON object) to an list in kotlin", "body": "<p>I'm sure you can use <code>GSON</code> and a <code>Map&lt;String, Double&gt;</code></p>\n\n<pre><code>data class ConversionRates(val name: String, val times: Map&lt;String, Double&gt;)\n\n...\n\nval conversionRates = GSON.fromJson(jsonString, ConversionRates::class.java)\nval listRates = conversionRates.times.values\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 6223683, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-WxXjUz066ag/AAAAAAAAAAI/AAAAAAAAZes/D6jUAH4DXRE/photo.jpg?sz=128", "display_name": "srisindhu saride", "link": "https://stackoverflow.com/users/6223683/srisindhu-saride"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1101, "favorite_count": 0, "accepted_answer_id": 57404190, "answer_count": 1, "score": 1, "last_activity_date": 1565228791, "creation_date": 1565221215, "question_id": 57403468, "link": "https://stackoverflow.com/questions/57403468/convert-data-class-json-object-to-an-list-in-kotlin", "title": "Convert data class (JSON object) to an list in kotlin", "body": "<p>I have a json object returning from a server which needs to be converted to a list</p>\n\n<pre><code>{\"name\":\"xyz\",\"times\":{\"x1\":12.34,\"x2\":1.9609,\"x3\":4.8042}}\n</code></pre>\n\n<p>In the above json, times is a json object. I convert it to data class as below</p>\n\n<pre><code>@Serializable\ndata class ConversionRates(\n    val x1: String,\n    val time: Times\n)\n@Serializable\ndata class Times(val x1: Double, val x2: Double, val x3: Double)\n\n</code></pre>\n\n<p>But, I want Times as an listOf(String, Double) rather than as an object.</p>\n\n<p>I have tried to use KSerializers but ran out of luck</p>\n"}, {"tags": ["android", "gradle", "kotlin", "websocket", "client"], "answers": [{"comments": [{"owner": {"reputation": 2254, "user_id": 958651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a603ddd79d22c43f8f32f99d5ed4dd1?s=128&d=identicon&r=PG", "display_name": "AllDayAmazing", "link": "https://stackoverflow.com/users/958651/alldayamazing"}, "edited": false, "score": 0, "creation_date": 1593940445, "post_id": 57403422, "comment_id": 110947021, "body": "Also, for anyone coming here, this import statement may not work. See here if you have trouble: <a href=\"https://jitpack.io/#Tinder/Scarlet\" rel=\"nofollow noreferrer\">jitpack.io/#Tinder/Scarlet</a>"}], "tags": [], "owner": {"reputation": 656, "user_id": 5721702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WDGk4.png?s=128&g=1", "display_name": "Huy-Anh Hoang", "link": "https://stackoverflow.com/users/5721702/huy-anh-hoang"}, "is_accepted": true, "score": 2, "last_activity_date": 1565220795, "creation_date": 1565220795, "answer_id": 57403422, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/57403422#57403422", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>Found out how to install the 0.2.x branch:</p>\n\n<p>I used these dependencies:</p>\n\n<pre><code>implementation 'com.github.tinder.scarlet:scarlet:0.2.4'\nimplementation 'com.github.tinder.scarlet:scarlet-protocol-websocket-okhttp:0.2.4'\n</code></pre>\n\n<p>Both work with the current example code at the commit: <a href=\"https://github.com/Tinder/Scarlet/tree/45d97cc6d0de537872af789306765715978efecc\" rel=\"nofollow noreferrer\">https://github.com/Tinder/Scarlet/tree/45d97cc6d0de537872af789306765715978efecc</a></p>\n\n<p>New Connection object:</p>\n\n<pre><code>object Connection {\n    fun connect() {\n        val okHttpClient = OkHttpClient.Builder()\n            .readTimeout(0, TimeUnit.MILLISECONDS)\n            .build()\n\n        val protocol = OkHttpWebSocket(\n            okHttpClient,\n            OkHttpWebSocket.SimpleRequestFactory(\n                { Request.Builder().url(\"ws://...\").build() },\n                { ShutdownReason.GRACEFUL }\n            )\n        )\n\n       val configuration = Scarlet.Configuration()\n\n       val messageService = Scarlet(protocol, configuration).create&lt;MessageService&gt;()\n\n\n        messageService.observeWebSocketEvent()\n            .observeOn(Schedulers.io())\n            .subscribe({\n                Timber.d(\"connected to web socket\")\n            })\n\n        messageService.observeText()\n            .subscribe({ text -&gt;\n                Timber.d(\"Web socket message: $text\")\n            })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 3560841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uuhEe.jpg?s=128&g=1", "display_name": "Shift Delete", "link": "https://stackoverflow.com/users/3560841/shift-delete"}, "is_accepted": false, "score": 0, "last_activity_date": 1568807125, "last_edit_date": 1568807125, "creation_date": 1567268087, "answer_id": 57739689, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/57739689#57739689", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>You are using \"com.github.tinder.scarlet\" that is the previous groupId for scarlet lib.</p>\n\n<p>Now scarlet lib moved to maven central and you should use \"com.tinder.scarlet\" as groupId.</p>\n\n<p>The \"com.github.tinder.scarlet\" is grouped for under development scarlet packages so you shouldn't use it cause it's not stable.\nThe \"com.github.tinder.scarlet:scarlet:0.2.4\" is under development yet so dont use it.</p>\n\n<p>You can find other artifacts for scarlet lib in <a href=\"https://search.maven.org/search?q=g:com.tinder.scarlet\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 6804455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc67122710481d8591a48119633f9643?s=128&d=identicon&r=PG&f=1", "display_name": "aamitarya", "link": "https://stackoverflow.com/users/6804455/aamitarya"}, "is_accepted": false, "score": 0, "last_activity_date": 1569313428, "creation_date": 1569313428, "answer_id": 58076018, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/58076018#58076018", "title": "Duplicate dependencies when installing Scarlet", "body": "<pre><code>Duplicate class com.tinder.scarlet.Deserialization found in modules \nscarlet-core-0.1.9.jar (com.github.tinder.scarlet:scarlet-core:0.1.9) \nand scarlet-core-0.1.9.jar (com.tinder.scarlet:scarlet-core:0.1.9)\n</code></pre>\n\n<p>This is happening because of one dependency is from <code>com.tinder.scarlet</code> and another dependency is from <code>com.github.tinder.scarlet</code>. </p>\n\n<p><code>com.tinder.scarlet</code> - is their release version</p>\n\n<p><code>com.github.tinder.scarlet</code> - they are saying <code>We are working on a new version of Scarlet that supports other persistent connection protocols: ServerSentEvent, Socket IO, STOMP, and MQTT. It can be found on the 0.2.x branch</code></p>\n\n<p>I tried a lot to resolve it by excluding it from dependency in gradle file but it didn't work. </p>\n\n<p>So, finally what I did was, <code>implementation 'com.tinder.scarlet:scarlet:0.1.9'</code> in gradle file and copy-pasted their files present in <code>websocket</code>, <code>rxFactory</code> and <code>gsonFactory</code> in my project. \nI know it's not the recommended way, but it completed my job.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 9914488, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JHd8Q44zvzY/AAAAAAAAAAI/AAAAAAAAAFs/Lh3CraQODs4/photo.jpg?sz=128", "display_name": "Samuel Lu&#237;s", "link": "https://stackoverflow.com/users/9914488/samuel-lu%c3%ads"}, "is_accepted": false, "score": 0, "last_activity_date": 1569492166, "creation_date": 1569492166, "answer_id": 58114333, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/58114333#58114333", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>I have used the version 2 and it is working. Import this on your gradle :) </p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/io.netty.versions.properties'\n    exclude 'META-INF/INDEX.LIST'\n}\n\nimplementation 'com.github.tinder.scarlet:scarlet:0.2.4'\nimplementation 'com.github.tinder.scarlet:scarlet-protocol-websocket-okhttp:0.2.4'\nimplementation \"com.github.tinder.scarlet:scarlet-stream-adapter-rxjava2:0.2.4\"\nimplementation \"com.github.tinder.scarlet:scarlet-message-adapter-moshi:0.2.4\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 7756799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a901f90fc34788634fa19c3854ffc9?s=128&d=identicon&r=PG&f=1", "display_name": "memresubasi", "link": "https://stackoverflow.com/users/7756799/memresubasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1579164959, "creation_date": 1579164959, "answer_id": 59765985, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/59765985#59765985", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>By defining the dependencies like in this <a href=\"https://github.com/Tinder/Scarlet/issues/96\" rel=\"nofollow noreferrer\">github issue</a> I got it to work without errors:</p>\n\n<pre><code>implementation \"com.tinder.scarlet:scarlet:$libVersions.scarlet\"\nimplementation \"com.tinder.scarlet:websocket-okhttp:$libVersions.scarlet\"\nimplementation \"com.tinder.scarlet:lifecycle-android:$libVersions.scarlet\"\nimplementation \"com.tinder.scarlet:message-adapter-gson:$libVersions.scarlet\"\nimplementation \"com.tinder.scarlet:stream-adapter rxjava2:$libVersions.scarlet\"\n\nlibVersions = [\n        scarlet: '0.1.9'\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 11868159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0d3e4f2fe4bc7a6951acbb3ced2d1c?s=128&d=identicon&r=PG&f=1", "display_name": "doersweb", "link": "https://stackoverflow.com/users/11868159/doersweb"}, "is_accepted": false, "score": 0, "last_activity_date": 1580808719, "creation_date": 1580808719, "answer_id": 60054362, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/60054362#60054362", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>I used these dependencies and it worked flawlessly</p>\n\n<pre><code>implementation group: 'com.tinder.scarlet', name: 'scarlet', version: '0.1.10'\nimplementation group: 'com.tinder.scarlet', name: 'message-adapter-moshi', version: '0.1.10'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 288, "user_id": 5433148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/779cdbd602723487220f383d4d9b73c2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel P&#237;na", "link": "https://stackoverflow.com/users/5433148/daniel-p%c3%adna"}, "is_accepted": false, "score": 1, "last_activity_date": 1581415735, "creation_date": 1581415735, "answer_id": 60166411, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet/60166411#60166411", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>You should use:</p>\n\n<pre><code>implementation \"com.tinder.scarlet:scarlet:0.1.9\"\nimplementation \"com.tinder.scarlet:websocket-okhttp:0.1.9\"\n</code></pre>\n\n<p>without scarlet- prefix</p>\n"}], "owner": {"reputation": 656, "user_id": 5721702, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WDGk4.png?s=128&g=1", "display_name": "Huy-Anh Hoang", "link": "https://stackoverflow.com/users/5721702/huy-anh-hoang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 1, "accepted_answer_id": 57403422, "answer_count": 7, "score": 4, "last_activity_date": 1581415735, "creation_date": 1565218970, "question_id": 57403233, "link": "https://stackoverflow.com/questions/57403233/duplicate-dependencies-when-installing-scarlet", "title": "Duplicate dependencies when installing Scarlet", "body": "<p>In order to get the websocket module I install these two dependencies:</p>\n\n<pre><code> implementation 'com.tinder.scarlet:scarlet:0.1.9'\n implementation \"com.github.tinder.scarlet:scarlet-websocket-okhttp:0.1.9\"\n</code></pre>\n\n<p>But when I build my app, I get this error:</p>\n\n<pre><code>Duplicate class com.tinder.scarlet.Deserialization found in modules scarlet-core-0.1.9.jar (com.github.tinder.scarlet:scarlet-core:0.1.9) and scarlet-core-0.1.9.jar (com.tinder.scarlet:scarlet-core:0.1.9)\n... bunch of other duplicates\n</code></pre>\n\n<p>If I remove either one, then I can't use the packages because I need both dependencies.</p>\n\n<p>This is my connection class:</p>\n\n<pre><code>object Connection {\n    fun connect() {\n        val okHttpClient = OkHttpClient.Builder()\n            .readTimeout(0, TimeUnit.MILLISECONDS)\n            .build()\n\n\n        val scarletInstance = Scarlet.Builder()\n            .webSocketFactory(okHttpClient.newWebSocketFactory(\"ws://url..\"))\n            .build()\n\n        val messageService = scarletInstance.create&lt;MessageService&gt;()\n\n        messageService.observeWebSocketEvent()\n            .filter { it is WebSocket.Event.OnConnectionOpened&lt;*&gt; }\n            .subscribe({\n                Timber.d(\"connected to web socket\")\n            })\n\n        messageService.observeText()\n            .subscribe({ text -&gt;\n                Timber.d(\"Web socket message: $text\")\n            })\n    }\n}\n</code></pre>\n\n<p>The core dependency contains <code>com.tinder.scarlet.Scarlet</code> classes, and the websocket dependency contains <code>com.tinder.scarlet.websocket.okhttp.newWebSocketFactory</code> classes, and I can't have one without the other.</p>\n"}, {"tags": ["design-patterns", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1565219981, "post_id": 57403191, "comment_id": 101288145, "body": "Consider static factory methods, would look rather clean."}], "answers": [{"comments": [{"owner": {"reputation": 8810, "user_id": 311420, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gti2M.jpg?s=128&g=1", "display_name": "Raymond Chenon", "link": "https://stackoverflow.com/users/311420/raymond-chenon"}, "edited": false, "score": 0, "creation_date": 1565256037, "post_id": 57403930, "comment_id": 101298817, "body": "Thanks for your detailed explanation. So the class <code>CreationParams</code> and childs contains the constructor params without being a <code>data class</code>. EDIT: childs of  <code>CreationParams</code> can be data class. But  <code>CreationParams</code> cannot be  a data class."}, {"owner": {"reputation": 1269, "user_id": 3294286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/o9tJ2.jpg?s=128&g=1", "display_name": "Sebastian D&#39;Agostino", "link": "https://stackoverflow.com/users/3294286/sebastian-dagostino"}, "reply_to_user": {"reputation": 8810, "user_id": 311420, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gti2M.jpg?s=128&g=1", "display_name": "Raymond Chenon", "link": "https://stackoverflow.com/users/311420/raymond-chenon"}, "edited": false, "score": 0, "creation_date": 1565265659, "post_id": 57403930, "comment_id": 101304189, "body": "Yes, you are right, the children can be data classes"}, {"owner": {"reputation": 863, "user_id": 5363011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqqla.jpg?s=128&g=1", "display_name": "George Leung", "link": "https://stackoverflow.com/users/5363011/george-leung"}, "edited": false, "score": 0, "creation_date": 1565285917, "post_id": 57403930, "comment_id": 101315681, "body": "The Kotlin way to express multiple possibilities is to use sealed classes rather than abstract classes with enums."}, {"owner": {"reputation": 1269, "user_id": 3294286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/o9tJ2.jpg?s=128&g=1", "display_name": "Sebastian D&#39;Agostino", "link": "https://stackoverflow.com/users/3294286/sebastian-dagostino"}, "edited": false, "score": 0, "creation_date": 1565293851, "post_id": 57403930, "comment_id": 101318882, "body": "Yes George, but there is no flexibility in the parameters for each class to be constructed. On the question, Raymond has different classes with different parameters."}, {"owner": {"reputation": 863, "user_id": 5363011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqqla.jpg?s=128&g=1", "display_name": "George Leung", "link": "https://stackoverflow.com/users/5363011/george-leung"}, "edited": false, "score": 0, "creation_date": 1565321126, "post_id": 57403930, "comment_id": 101325151, "body": "@SebaD&#39;Agostino, I added an elaboration of my comment in my answer."}, {"owner": {"reputation": 1269, "user_id": 3294286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/o9tJ2.jpg?s=128&g=1", "display_name": "Sebastian D&#39;Agostino", "link": "https://stackoverflow.com/users/3294286/sebastian-dagostino"}, "edited": false, "score": 0, "creation_date": 1565349800, "post_id": 57403930, "comment_id": 101335870, "body": "It looks better now George. I also use this a lot, so I have to try it."}], "tags": [], "owner": {"reputation": 1269, "user_id": 3294286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/o9tJ2.jpg?s=128&g=1", "display_name": "Sebastian D&#39;Agostino", "link": "https://stackoverflow.com/users/3294286/sebastian-dagostino"}, "is_accepted": false, "score": 2, "last_activity_date": 1565225835, "creation_date": 1565225835, "answer_id": 57403930, "question_id": 57403191, "link": "https://stackoverflow.com/questions/57403191/kotlin-pattern-construction-with-different-parameters/57403930#57403930", "title": "Kotlin pattern construction with different parameters", "body": "<p>You probably might want to use a <em>strategy pattern</em> in combination with good old <em>polymorfism</em></p>\n\n<p>First, you can add an abstract class to your concrete classes</p>\n\n<pre><code>abstract class PhotosProvider\n\nclass PhotosProviderFacebook(val params: CreationParamsFacebook): PhotosProvider()\n\nclass PhotosProviderLocal(val params: CreationParamsLocal): PhotosProvider()\n</code></pre>\n\n<p>Then, you can do the same for the parameters, that may change depending on the class (I used Strings instead of your classes for simplicity and to make it compile)</p>\n\n<pre><code>abstract class CreationParams\n\nclass CreationParamsFacebook(val refActivity: String): CreationParams()\n\nclass CreationParamsLocal(val context: String, val loaderManager: String): CreationParams()\n</code></pre>\n\n<p>Now, I code the strategy pattern for each creation method (see how I can safely cast to the correct parameters for each class with <em>as</em>)</p>\n\n<pre><code>abstract class PhotosProviderCreationStrategy {\n    abstract fun create(params: CreationParams) : PhotosProvider\n}\n\nclass PhotosProviderFacebookCreationStrategy: PhotosProviderCreationStrategy() {\n    override fun create(params: CreationParams): PhotosProvider {\n        return PhotosProviderFacebook(params as CreationParamsFacebook)\n    }\n}\n\nclass PhotosProviderLocalCreationStrategy: PhotosProviderCreationStrategy() {\n    override fun create(params: CreationParams): PhotosProvider {\n        return PhotosProviderLocal(params as CreationParamsLocal)\n    }\n}\n</code></pre>\n\n<p>Finally, in order to redirect to the correct strategy I use a map with a specific type. You may also create an abstration that includes the type and the abstract params (which can be easily be converted with <em>Jackson</em> if you receive the date from a web service)</p>\n\n<pre><code>enum class CreationType {\n    FACEBOOK_PROVIDER, LOCAL_PROVIDER\n}\n\nclass PhotosProviderCreator(\n    private val strategies: HashMap&lt;CreationType, PhotosProviderCreationStrategy&gt; = hashMapOf(\n        CreationType.FACEBOOK_PROVIDER to PhotosProviderFacebookCreationStrategy(),\n        CreationType.LOCAL_PROVIDER to PhotosProviderLocalCreationStrategy())\n) {\n    fun create(creationType: CreationType, creationParams: CreationParams): PhotosProvider {\n        return strategies[creationType]?.create(creationParams)?: \n        throw RuntimeException(\"Strategy not found for type: $creationType\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 863, "user_id": 5363011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqqla.jpg?s=128&g=1", "display_name": "George Leung", "link": "https://stackoverflow.com/users/5363011/george-leung"}, "is_accepted": false, "score": 2, "last_activity_date": 1565322209, "last_edit_date": 1565322209, "creation_date": 1565248851, "answer_id": 57407212, "question_id": 57403191, "link": "https://stackoverflow.com/questions/57403191/kotlin-pattern-construction-with-different-parameters/57407212#57407212", "title": "Kotlin pattern construction with different parameters", "body": "<p>This question reminds me <a href=\"https://fsharpforfunandprofit.com/fppatterns/\" rel=\"nofollow noreferrer\">a talk</a> on how the GoF design patterns are implemented in a functional language.</p>\n\n<p>Yes, the answer is \"with functions\".</p>\n\n<hr>\n\n<p>In the coroutines library, there is the type <code>Channel</code> and the function <code>Channel</code>.</p>\n\n<pre><code>public fun &lt;E&gt; Channel(capacity: Int = RENDEZVOUS): Channel&lt;E&gt; =\n    when (capacity) {\n        RENDEZVOUS -&gt; RendezvousChannel()\n        UNLIMITED -&gt; LinkedListChannel()\n        CONFLATED -&gt; ConflatedChannel()\n        else -&gt; ArrayChannel(capacity)\n    }\n</code></pre>\n\n<p>In Kotlin, object construction does not need the <code>new</code> keyword. So the invocations of this function looks just like using a constructor. Constructors for different <code>XyzChannel</code>s are called in the body of the <code>Channel</code> function.</p>\n\n<hr>\n\n<p>You said \"I want to create instances of different classes depending on a single parameter\", and the above function does exactly the same thing. It may not be a good idea for <em>your</em> function to start with a uppercase letter though.</p>\n\n<hr>\n\n<p>But the question remains, how does one pass different types of parameters to the function? The answer is to wrap them using subclasses of a same superclass.</p>\n\n<p>This will be similar to the other answer, but utilizes one great feature of Kotlin \u2013 <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">sealed types</a>.<sup>1</sup></p>\n\n<pre><code>sealed class CreationParams\nclass PhotosProviderFacebookParams(val refActivity: WeakReference&lt;Activity&gt;) : CreationParams()\nclass PhotosProviderLocal(val context: Context, val loaderManager: LoaderManager) : CreationParams()\n\nfun create(params: CreationParams) = when (params) {\n    is CreationParamsFacebook -&gt; PhotosProviderFacebook(params.refActivity)\n    is CreationParamsLocal -&gt; PhotosProviderLocal(params.contex, params.loadManager)\n}\n</code></pre>\n\n<p>Since the class is <code>sealed</code>, the compiler can check for exhaustiveness, there is no need for an extra <code>enum</code>.<sup>2</sup>\nThere is also no manual type casting. The compiler <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">does it for you</a>.</p>\n\n<hr>\n\n<ol>\n<li>The <code>sealed</code> types comes from the sum types of the <a href=\"https://en.wikipedia.org/wiki/Algebraic_data_type\" rel=\"nofollow noreferrer\">algebraic data type</a>, an idea that comes from the 70s. It is rather sad to see it became mainstream only recently.</li>\n<li>Interestingly, in Swift, the same concept is <a href=\"https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html#ID148\" rel=\"nofollow noreferrer\">just enum</a>.</li>\n</ol>\n"}], "owner": {"reputation": 8810, "user_id": 311420, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gti2M.jpg?s=128&g=1", "display_name": "Raymond Chenon", "link": "https://stackoverflow.com/users/311420/raymond-chenon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1565322209, "creation_date": 1565218446, "question_id": 57403191, "link": "https://stackoverflow.com/questions/57403191/kotlin-pattern-construction-with-different-parameters", "title": "Kotlin pattern construction with different parameters", "body": "<p>Here is my dilemma. </p>\n\n<p>1) I want to create instances of different classes depending on a single parameter --> <strong>Solution : Factory Pattern</strong>. The nice thing about Factory is zero parameter constructor.</p>\n\n<p>2) Each of these classes have different constructors. \nFor example</p>\n\n<pre><code>class PhotosProviderFacebook(val refActivity: WeakReference&lt;Activity&gt;)\n\nclass PhotosProviderLocal(val context: Context, val loaderManager: LoaderManager) \n\n</code></pre>\n\n<p>I thought about <strong>Builder Pattern</strong>. <a href=\"https://www.baeldung.com/kotlin-builder-pattern\" rel=\"nofollow noreferrer\">See how Builder pattern is done in Kotlin</a> </p>\n\n<p><strong>Is there a design pattern that respect these constraints ?</strong></p>\n\n<p>1) First build an instance depending on a parameter. Possibly without passing yet the constructor inputs.</p>\n\n<p>2) Pass parameters in constructor</p>\n\n<p>Factory + Builder are just an idea. Maybe there is a simpler way.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1565215164, "post_id": 57402751, "comment_id": 101287070, "body": "<a href=\"https://stackoverflow.com/questions/51011574/why-each-secondary-constructor-needs-to-delegate-to-the-primary-constructor-in-k\" title=\"why each secondary constructor needs to delegate to the primary constructor in k\">stackoverflow.com/questions/51011574/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565215332, "post_id": 57402751, "comment_id": 101287108, "body": "So... what don&#39;t you understand in the exlanations on the linked page?"}, {"owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "edited": false, "score": 0, "creation_date": 1565215880, "post_id": 57402751, "comment_id": 101287261, "body": "When u create Person A, do you have to pass a another Person B object to the Person A constructor.  What does parent.children.add(this) do ? Can you give me one example how the object is created."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1565216266, "post_id": 57402751, "comment_id": 101287346, "body": "If you call the secondary constructor, yes, since it expects a Person as argument. <code>parent.children.add(this)</code> adds the current object, being constructed (this) to the children of the parent person passed as argument. Example: <code>val francis = Person(&quot;Francis Ford Coppola&quot;) val sofia = Person(name = &quot;Sofia Coppola&quot;, parent = francis)</code>. After that, franciis&#39;s children list contains sofia."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565216809, "post_id": 57402751, "comment_id": 101287486, "body": "That&#39;s because you&#39;re trying to use the first version of Person, which doesn&#39;t have a primary constructor with a name. Use the second one."}, {"owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "edited": false, "score": 0, "creation_date": 1565216898, "post_id": 57402751, "comment_id": 101287508, "body": "Thanks... I understood"}, {"owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "edited": false, "score": 0, "creation_date": 1565217390, "post_id": 57402751, "comment_id": 101287616, "body": "Also <code>&quot;Francis Ford Coppola&quot;</code> doesn&#39;t mean anything, because there is no property in the class that stores that. right ? What does <code>: this(name)</code>  in the constructor represents ? that syntax means its returning that right ?"}, {"owner": {"reputation": 545, "user_id": 8929501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104153528697183/picture?type=large", "display_name": "Matt Berteaux", "link": "https://stackoverflow.com/users/8929501/matt-berteaux"}, "edited": false, "score": 0, "creation_date": 1565222874, "post_id": 57402751, "comment_id": 101288744, "body": "@Fone In kotlin, constructor params become member properties. So, in this case &quot;Francis Ford Coppola&quot; gets set to the <code>name</code> property. The <code>: this(name)</code> means that the secondary constructor calls the primary constructor and passes in the name param."}, {"owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "reply_to_user": {"reputation": 545, "user_id": 8929501, "user_type": "registered", "profile_image": "https://graph.facebook.com/10104153528697183/picture?type=large", "display_name": "Matt Berteaux", "link": "https://stackoverflow.com/users/8929501/matt-berteaux"}, "edited": false, "score": 0, "creation_date": 1565241239, "post_id": 57402751, "comment_id": 101292172, "body": "@MattBerteaux Thank u :) Primary constructors are called before secondary constructors right ?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565246232, "post_id": 57402751, "comment_id": 101293907, "body": "@Fone: <code>val name: String</code>: that defines a primary constructor argument named <code>name</code>, and since it&#39;s prefixed with <code>val</code>, it also defines an immutable property named <code>name</code>. And as explained in the documentation you linked to, <code>this(name)</code> means that the secondary constructor, which also takes an argument named <code>name</code>, calls the primary constructor with that argument."}], "answers": [{"tags": [], "owner": {"reputation": 720, "user_id": 10117056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/092a193074df16e4cad3b363f491220a?s=128&d=identicon&r=PG", "display_name": "Commander Tvis", "link": "https://stackoverflow.com/users/10117056/commander-tvis"}, "is_accepted": false, "score": 0, "last_activity_date": 1588706967, "creation_date": 1588706967, "answer_id": 61621428, "question_id": 57402751, "link": "https://stackoverflow.com/questions/57402751/understanding-secondary-constructor-in-kotlin/61621428#61621428", "title": "Understanding secondary constructor in Kotlin", "body": "<p><code>: this(...)</code> call means call to another constructor, so each object was constructed with the primary constructor too. </p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Person /* a */ (val name: String) {\n    var children: MutableList&lt;Person&gt; = mutableListOf&lt;Person&gt;();\n    /* b */ constructor(name: String, parent: Person) : this(name) {\n        parent.children.add(this)\n    }\n}\n</code></pre>\n\n<p>In this example, there is primary constructor after <code>a</code>, and secondary one after <code>b</code>, so there are two ways to instantiate this class. </p>\n\n<ol>\n<li>Call the primary constructor: <code>Person(\"abc\")</code>. </li>\n<li>Call the secondary constructor: <code>Person(\"abc\", Person(\"dfg\"))</code>, and it is guaranteed that both primary and secondary constructor will be called.</li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1588706967, "creation_date": 1565214875, "question_id": 57402751, "link": "https://stackoverflow.com/questions/57402751/understanding-secondary-constructor-in-kotlin", "title": "Understanding secondary constructor in Kotlin", "body": "<p>I don't understand the use of <code>this</code> and how the object is created or constructor is called and what's happening in the below code.</p>\n\n<pre><code>class Person {\n    var children: MutableList&lt;Person&gt; = mutableListOf&lt;Person&gt;();\n    constructor(parent: Person) {\n        parent.children.add(this)\n    }\n}\n\nclass Person(val name: String) {\n    var children: MutableList&lt;Person&gt; = mutableListOf&lt;Person&gt;();\n    constructor(name: String, parent: Person) : this(name) {\n        parent.children.add(this)\n    }\n}\n</code></pre>\n\n<p>source : <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565214174, "post_id": 57402632, "comment_id": 101286797, "body": "Use a shared <code>ViewModel</code>. One fragment tells the <code>ViewModel</code> to update some data, and it updates a <code>LiveData</code> with that. The other fragment observes the <code>LiveData</code> and reacts to the changed data."}, {"owner": {"reputation": 91, "user_id": 11231427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tZJepX0ZVrE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reByRhfSjfqe2-j0JAc_o72JElJ_Q/mo/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/11231427/karl"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565214471, "post_id": 57402632, "comment_id": 101286880, "body": "Could you give me an example of it?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1565214828, "post_id": 57402632, "comment_id": 101286994, "body": "google it. Android docs have examples of exactly this"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565215039, "post_id": 57402632, "comment_id": 101287039, "body": "<a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel#sharing\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>"}, {"owner": {"reputation": 91, "user_id": 11231427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tZJepX0ZVrE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reByRhfSjfqe2-j0JAc_o72JElJ_Q/mo/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/11231427/karl"}, "edited": false, "score": 0, "creation_date": 1565215046, "post_id": 57402632, "comment_id": 101287041, "body": "I&#39;m new to this programming language and I have a hard time doing so."}, {"owner": {"reputation": 1715, "user_id": 2968988, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iPgh3.png?s=128&g=1", "display_name": "Mohamed Nageh", "link": "https://stackoverflow.com/users/2968988/mohamed-nageh"}, "edited": false, "score": 0, "creation_date": 1565216804, "post_id": 57402632, "comment_id": 101287485, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13700798/basic-communication-between-two-fragments\">Basic Communication between two fragments</a>"}, {"owner": {"reputation": 91, "user_id": 11231427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tZJepX0ZVrE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reByRhfSjfqe2-j0JAc_o72JElJ_Q/mo/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/11231427/karl"}, "edited": false, "score": 0, "creation_date": 1565241016, "post_id": 57402632, "comment_id": 101292099, "body": "Yeah but this is Java?"}], "owner": {"reputation": 91, "user_id": 11231427, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tZJepX0ZVrE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reByRhfSjfqe2-j0JAc_o72JElJ_Q/mo/photo.jpg?sz=128", "display_name": "Karl", "link": "https://stackoverflow.com/users/11231427/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565246429, "creation_date": 1565214080, "last_edit_date": 1565246429, "question_id": 57402632, "link": "https://stackoverflow.com/questions/57402632/sending-values-between-fragments-in-kotlin", "title": "Sending values between Fragments in KOTLIN", "body": "<p>I'm making an app which contains 2 Fragments at the moment, one has EditText and a button, the other one has TextView. I want to send my text to another Fragment but I can't succeed doing so. I have tried other threads regarding this but I still couldn't solve my problem, so any help would be appreciated!</p>\n\n<p>This is my first fragment function:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle1?): View? {\n        val v= inflater.inflate(R.layout.fragment_start, container, false)\n\n\n\n        playButton = v.findViewById(R.id.playButton)\n       firstPlayerInput = v.findViewById(R.id.firstPlayerInput)\n       secondPlayerInput = v.findViewById(R.id.secondPlayerInput)\n        playButton.setOnClickListener {\n            nickname = firstPlayerInput.text.toString()\n            nickname2 = secondPlayerInput.text.toString()\n            Toast.makeText(activity, \"First Player: $nickname Second Player: $nickname2\", Toast.LENGTH_SHORT).show()\n            val nick = firstPlayerInput.text.toString()\n            val fr = Fragment()\n            val fm = fragmentManager\n            val ft = fm!!.beginTransaction()\n            val args = Bundle1()\n            args.putString(\"nick\", nick)\n            fr.arguments = args\n            ft.replace(R.id.firstPlayerInput, fr)\n            ft.commit()\n        }\n\n       playButton.setOnClickListener(\n           Navigation.createNavigateOnClickListener(R.id.action_startFragment_to_fragment_one)\n       )\n\n</code></pre>\n\n<p>and some code from the other one:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val v=  inflater.inflate(R.layout.fragment_one, container, false)\n\n        val strtext = arguments!!.getString(\"nick\")\n\n        Toast.makeText(activity, strtext, Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>and the XML file which stores EditText:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".StartFragment\"&gt;\n\n    &lt;EditText\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textPersonName\"\n            android:ems=\"10\"\n            android:id=\"@+id/firstPlayerInput\" android:layout_alignParentBottom=\"true\" android:layout_marginBottom=\"451dp\"\n            android:layout_alignParentEnd=\"true\" android:layout_marginEnd=\"98dp\"\n            android:hint=\"@string/enter_your_name\"/&gt;\n    &lt;Button\n            android:layout_width=\"159dp\"\n            android:layout_height=\"60dp\"\n            android:id=\"@+id/playButton\"\n            android:layout_marginTop=\"373dp\"\n            android:layout_alignParentTop=\"true\" android:layout_alignParentEnd=\"true\" android:layout_marginEnd=\"121dp\"\n            android:layout_alignParentStart=\"true\" android:layout_marginStart=\"130dp\"\n            android:textColor=\"#FFFFFF\"\n            android:textSize=\"20sp\"\n            android:text=\"@string/playgame\"\n            android:background=\"@drawable/buttonshape\"\n            android:shadowColor=\"#A8A8A8\"\n            android:shadowDx=\"0\"\n            android:shadowDy=\"0\"\n            android:shadowRadius=\"5\"\n    /&gt;\n    &lt;EditText\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textPersonName\"\n            android:ems=\"10\"\n            android:id=\"@+id/secondPlayerInput\" android:layout_alignParentBottom=\"true\" android:layout_marginBottom=\"381dp\"\n            android:layout_alignParentEnd=\"true\" android:layout_marginEnd=\"97dp\"\n            android:hint=\"@string/enter_partner_name\"/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>I get a kotlin.KotlinNullPointerException.\nI need help with a Kotlin CODE, so please do not post threads with JAVA solutions!!!</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11898446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2-Nl7pGirJU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebtyaiozg5ZtwuTuYRH-_Iq2a8uA/photo.jpg?sz=128", "display_name": "magistry", "link": "https://stackoverflow.com/users/11898446/magistry"}, "edited": false, "score": 0, "creation_date": 1565213328, "post_id": 57402456, "comment_id": 101286522, "body": "hm... i was thinking about updating, but i dont know how?"}, {"owner": {"reputation": 190, "user_id": 11601720, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wb_OsFhvaFg/AAAAAAAAAAI/AAAAAAAAABk/4xb09dPhuJ4/photo.jpg?sz=128", "display_name": "Hasnain Sabir", "link": "https://stackoverflow.com/users/11601720/hasnain-sabir"}, "reply_to_user": {"reputation": 3, "user_id": 11898446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2-Nl7pGirJU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebtyaiozg5ZtwuTuYRH-_Iq2a8uA/photo.jpg?sz=128", "display_name": "magistry", "link": "https://stackoverflow.com/users/11898446/magistry"}, "edited": false, "score": 0, "creation_date": 1565214024, "post_id": 57402456, "comment_id": 101286756, "body": "if you android studio is open then click on top right HELP and at the last you can see check updates OR  go for configure and see the option for check updates"}, {"owner": {"reputation": 3, "user_id": 11898446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2-Nl7pGirJU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebtyaiozg5ZtwuTuYRH-_Iq2a8uA/photo.jpg?sz=128", "display_name": "magistry", "link": "https://stackoverflow.com/users/11898446/magistry"}, "edited": false, "score": 0, "creation_date": 1565214511, "post_id": 57402456, "comment_id": 101286892, "body": "alright, thanks. Ill try this tomorrow and give an update. Thanks for answering!"}, {"owner": {"reputation": 3, "user_id": 11898446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2-Nl7pGirJU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebtyaiozg5ZtwuTuYRH-_Iq2a8uA/photo.jpg?sz=128", "display_name": "magistry", "link": "https://stackoverflow.com/users/11898446/magistry"}, "edited": false, "score": 0, "creation_date": 1565252816, "post_id": 57402456, "comment_id": 101297057, "body": "thanks, I updated Android Studio and it fixed the problem, thanks so much!"}], "tags": [], "owner": {"reputation": 190, "user_id": 11601720, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wb_OsFhvaFg/AAAAAAAAAAI/AAAAAAAAABk/4xb09dPhuJ4/photo.jpg?sz=128", "display_name": "Hasnain Sabir", "link": "https://stackoverflow.com/users/11601720/hasnain-sabir"}, "is_accepted": true, "score": 0, "last_activity_date": 1565212919, "creation_date": 1565212919, "answer_id": 57402456, "question_id": 57402117, "link": "https://stackoverflow.com/questions/57402117/android-studio-visual-xml-editor-not-working/57402456#57402456", "title": "Android Studio Visual xml Editor not working", "body": "<ol>\n<li>check android studio updates </li>\n<li>do invalidate caches and restart\n\n<ol start=\"3\">\n<li>or check the missing is there missing library of design</li>\n</ol></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 11898446, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2-Nl7pGirJU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebtyaiozg5ZtwuTuYRH-_Iq2a8uA/photo.jpg?sz=128", "display_name": "magistry", "link": "https://stackoverflow.com/users/11898446/magistry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57402456, "answer_count": 1, "score": 0, "last_activity_date": 1565214981, "creation_date": 1565210950, "last_edit_date": 1565214981, "question_id": 57402117, "link": "https://stackoverflow.com/questions/57402117/android-studio-visual-xml-editor-not-working", "title": "Android Studio Visual xml Editor not working", "body": "<p>The visual xml editor in Android Studio is not working, it only displays all grey with the text \"android...CoordinatorLayout\" on top of it. I had this happen before and fixed it by adding \"Base.\" to the <code>parent=\"Base.Theme.AppCompat.Light.DarkActionBar\"</code> in styles.xml. However, this time it didn't fix my problem. Also, the preview/ visual editor isn't working in all my older projects too. I haven't opened AS for a few months now, so I suppose there has been an update or something as my usual fix doesn't seem to work anymore.</p>\n\n<p>What I've tried:</p>\n\n<ol>\n<li>Adding \"Base.\"</li>\n<li>Changing the theme, which only made the top Navigation Bar visible and nothing else.</li>\n<li>Restarting.</li>\n<li>Creating new projects and activities</li>\n<li>changing the build gradle which messed everything up</li>\n</ol>\n"}, {"tags": ["android-studio", "kotlin", "android-geofence"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1565245343, "creation_date": 1565245343, "answer_id": 57406307, "question_id": 57402064, "link": "https://stackoverflow.com/questions/57402064/how-to-properly-initialize-geofence-list-in-kotlin/57406307#57406307", "title": "How to properly initialize geofence list in Kotlin", "body": "<p><code>geofencelist?.add(geofence)</code> does nothing if you haven't set <code>geofencelist</code> to something non-null, that's the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">point of <code>?.</code></a>. </p>\n\n<p>It certainly doesn't seem like you should be doing something tricky, since list initialization is trivial; just</p>\n\n<pre><code>val geofencelist = mutableListOf&lt;Geofence&gt;\n</code></pre>\n\n<p>then <code>geofencelist.add(geofence)</code> where you had <code>?.add</code>. </p>\n"}], "owner": {"reputation": 3, "user_id": 11234901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f528e89c01b40cb912e4e7e4690f374b?s=128&d=identicon&r=PG&f=1", "display_name": "Ryaniii", "link": "https://stackoverflow.com/users/11234901/ryaniii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 57406307, "answer_count": 1, "score": 0, "last_activity_date": 1565245343, "creation_date": 1565210615, "last_edit_date": 1565211002, "question_id": 57402064, "link": "https://stackoverflow.com/questions/57402064/how-to-properly-initialize-geofence-list-in-kotlin", "title": "How to properly initialize geofence list in Kotlin", "body": "<p>I'm trying to get geofences working on Android Studio. When debugging, I receive \"No geofence has been added to this request.\"</p>\n\n<p>the code below worked for someone else. I have also tried \n<code>lateinit var geofencelist : ArrrayList&lt;Geofence&gt;</code> however the error message returns geofencelist not properly initialized. </p>\n\n<pre><code>&gt; lateinit var geofencelist : MutableList&lt;Geofence&gt;\n</code></pre>\n\n<p>have tried MutableList as well as lateinit and in style below</p>\n\n<pre><code>&gt; private var geofencelist : ArrayList&lt;Geofence&gt;? = null \n&gt; \n&gt; //geofence builder successful geofencelist?.add(geofence) \n&gt; \n&gt; Log.e(\"D\", geofencelist?.count().toString())\n</code></pre>\n\n<p>output received:</p>\n\n<blockquote>\n  <p>E/D: null Caused by: java.lang.IllegalArgumentException: No geofence\n  has been added to this request.</p>\n</blockquote>\n\n<p>TYIA</p>\n"}, {"tags": ["android", "kotlin", "android-date", "java-time"], "comments": [{"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1565261276, "post_id": 57402045, "comment_id": 101301814, "body": "I tried to use, but I changed to DateTimeFormatterBuilder and I didn&#39;t change val name. Sorry for that."}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1565263662, "post_id": 57403299, "comment_id": 101303112, "body": "The second one works very well! Thank you so much! Do you know how to add to the names of day and month time from timestamp? For example: Thursday August 10:00?"}, {"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1565264072, "post_id": 57403299, "comment_id": 101303361, "body": "Ok, I used LocalTime and it works. Thank you one more time!"}, {"owner": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "reply_to_user": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1565264134, "post_id": 57403299, "comment_id": 101303393, "body": "@beginner992 no problem :)"}], "tags": [], "owner": {"reputation": 1118, "user_id": 11555903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KT4Ri.jpg?s=128&g=1", "display_name": "Ben Shmuel", "link": "https://stackoverflow.com/users/11555903/ben-shmuel"}, "is_accepted": true, "score": 5, "last_activity_date": 1592472025, "last_edit_date": 1592472025, "creation_date": 1565219652, "answer_id": 57403299, "question_id": 57402045, "link": "https://stackoverflow.com/questions/57402045/how-to-format-in-kotlin-date-in-string-or-timestamp-to-my-preferred-format/57403299#57403299", "title": "How to format in Kotlin date in string or timestamp to my preferred format?", "body": "<p><strong><em>First API format:</em></strong></p>\n\n<pre><code>val firstApiFormat = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\")\nval date = LocalDate.parse(\"2019-08-07 09:00:00\" , firstApiFormat)\n\nLog.d(\"parseTesting\", date.dayOfWeek.toString()) // prints Wednesday\nLog.d(\"parseTesting\", date.month.toString()) // prints August\n</code></pre>\n\n<p><strong><em>Second API format:</em></strong></p>\n\n<pre><code>val secondApiFormat = DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss'Z'\")\nval timestamp = 1565209665.toLong() // timestamp in Long\n\n\nval timestampAsDateString = java.time.format.DateTimeFormatter.ISO_INSTANT\n            .format(java.time.Instant.ofEpochSecond(timestamp))\n\nLog.d(\"parseTesting\", timestampAsDateString) // prints 2019-08-07T20:27:45Z\n\n\nval date = LocalDate.parse(timestampAsDateString, secondApiFormat)\n\nLog.d(\"parseTesting\", date.dayOfWeek.toString()) // prints Wednesday\nLog.d(\"parseTesting\", date.month.toString()) // prints August\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1565246893, "post_id": 57405294, "comment_id": 101294205, "body": "Please not. When the questioner is already using Joda-Time (or perhaps java.time), suggesting <code>SimpleDateFormat</code> and <code>Calendar</code> is very bad advice. Those classes are poorly designed, which was why Joda-Time was developed, and they are also long outdated."}], "tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 2, "last_activity_date": 1566199651, "last_edit_date": 1566199651, "creation_date": 1565239196, "answer_id": 57405294, "question_id": 57402045, "link": "https://stackoverflow.com/questions/57402045/how-to-format-in-kotlin-date-in-string-or-timestamp-to-my-preferred-format/57405294#57405294", "title": "How to format in Kotlin date in string or timestamp to my preferred format?", "body": "<p>Try this code to get dayOfWeek and month name </p>\n\n<p><strong>Code</strong></p>\n\n<p><strong>To String Date</strong></p>\n\n<p><strong>Method</strong> </p>\n\n<pre><code>fun getAbbreviatedFromDateTime(dateTime: String, dateFormat: String, field: String): String? {\n    val input = SimpleDateFormat(dateFormat)\n    val output = SimpleDateFormat(field)\n    try {\n        val getAbbreviate = input.parse(dateTime)    // parse input\n        return output.format(getAbbreviate)    // format output\n    } catch (e: ParseException) {\n        e.printStackTrace()\n    }\n\n    return null\n}\n</code></pre>\n\n<p><strong>*How to use</strong></p>\n\n<pre><code>val monthName=getAbbreviatedFromDateTime(\"2019-08-07 09:00:00\",\"yyyy-MM-dd HH:mm:ss\",\"MMMM\")\n    println(\"monthName--\"+monthName)\n\n    val dayOfWeek=getAbbreviatedFromDateTime(\"2019-08-07 09:00:00\",\"yyyy-MM-dd HH:mm:ss\",\"EEEE\")\n    println(\"dayOfWeek--\"+dayOfWeek)\n</code></pre>\n\n<p><strong>To Timemillis</strong></p>\n\n<p><strong>Methods</strong></p>\n\n<pre><code> fun convertStringToCalendar( timeMillis: Long) {\n    //get calendar instance\n    val calendarDate = Calendar.getInstance()\n    calendarDate.timeInMillis = timeMillis\n    val month=getAbbreviatedFromDateTime(calendarDate,\"MMMM\");\n    val day=getAbbreviatedFromDateTime(calendarDate,\"EEEE\");\n    Log.d(\"parseTesting\", month)// prints August\n    Log.d(\"parseTesting\",day)// prints Wednesday\n}\n\n\nfun getAbbreviatedFromDateTime(dateTime: Calendar, field: String): String? {\n    val output = SimpleDateFormat(field)\n    try {\n        return output.format(dateTime.time)    // format output\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return null\n}\n</code></pre>\n\n<p><strong>Use</strong></p>\n\n<pre><code> val timestamp = \"1565209665\".toLong()\n\n    convertStringToCalendar(timestamp)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1565246927, "post_id": 57405512, "comment_id": 101294224, "body": "Please not. When the questioner is already using Joda-Time (or perhaps java.time), suggesting <code>SimpleDateFormat</code> and <code>Calendar</code> is very bad advice. Those classes are poorly designed, which was why Joda-Time was developed, and they are also long outdated."}, {"owner": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1565247708, "post_id": 57405512, "comment_id": 101294600, "body": "The questioner used <a href=\"https://developer.android.com/reference/java/time/format/DateTimeFormatterBuilder\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder</a> class, not <code>Joda-Time</code> &amp; DateTimeFormatterBuilder is added in Added in API level 26 &amp; that&#39;s why I gave <code>SimpleDateFormat</code> example"}], "tags": [], "owner": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "is_accepted": false, "score": 2, "last_activity_date": 1565242512, "last_edit_date": 1565242512, "creation_date": 1565240841, "answer_id": 57405512, "question_id": 57402045, "link": "https://stackoverflow.com/questions/57402045/how-to-format-in-kotlin-date-in-string-or-timestamp-to-my-preferred-format/57405512#57405512", "title": "How to format in Kotlin date in string or timestamp to my preferred format?", "body": "<p>Try this</p>\n\n<pre><code>val stringDate=\"2019-08-07 09:00:00\"\n\nval dateFormat_yyyyMMddHHmmss = SimpleDateFormat(\n    \"yyyy-MM-dd HH:mm:ss\", Locale.ENGLISH\n)\nval date = dateFormat_yyyyMMddHHmmss.parse(stringDate)\nval calendar = Calendar.getInstance()\ncalendar.setTime(date)\n\nval dayOfWeekString = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.ENGLISH)\n</code></pre>\n\n<p>Output:</p>\n\n<p><code>dayOfWeekString : wednesday</code></p>\n\n<pre><code>val timeInMillis = 1565242471228\nval calendar = Calendar.getInstance()\ncalendar.setTimeInMillis(timeInMillis)\n\nval dayOfWeekString = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.ENGLISH)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11875855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4rsWW.jpg?s=128&g=1", "display_name": "Jaaveeth", "link": "https://stackoverflow.com/users/11875855/jaaveeth"}, "is_accepted": false, "score": 2, "last_activity_date": 1581328213, "last_edit_date": 1581328213, "creation_date": 1581318383, "answer_id": 60145551, "question_id": 57402045, "link": "https://stackoverflow.com/questions/57402045/how-to-format-in-kotlin-date-in-string-or-timestamp-to-my-preferred-format/60145551#60145551", "title": "How to format in Kotlin date in string or timestamp to my preferred format?", "body": "<pre class=\"lang-java prettyprint-override\"><code>val parsedDate: String? = if(monthOfYear &lt; 10 &amp;&amp; dayOfMonth &gt; 10){\n                            \"${dayOfMonth}/0${monthOfYear + 1}/${year}\"\n\n                        } else if(dayOfMonth &lt; 10 &amp;&amp; monthOfYear &gt; 10) {\n                            \"0${dayOfMonth}/${monthOfYear + 1}/${year}\"\n\n                        } else if(dayOfMonth &lt; 10 &amp;&amp; monthOfYear &lt; 10){\n                            \"0${dayOfMonth}/0${monthOfYear + 1}/${year}\"\n                        }else{\n                            \"0${dayOfMonth}/${monthOfYear + 1}/${year}\"\n\n                        }\n\n                        date?.text = parsedDate\n</code></pre>\n\n<p>I tried different things but in Date picker this works for me in <code>kotlin</code></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3053736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rptv0.jpg?s=128&g=1", "display_name": "thorkingdom", "link": "https://stackoverflow.com/users/3053736/thorkingdom"}, "is_accepted": false, "score": 0, "last_activity_date": 1603355933, "creation_date": 1603355933, "answer_id": 64478414, "question_id": 57402045, "link": "https://stackoverflow.com/questions/57402045/how-to-format-in-kotlin-date-in-string-or-timestamp-to-my-preferred-format/64478414#64478414", "title": "How to format in Kotlin date in string or timestamp to my preferred format?", "body": "<p>This is really simple</p>\n<p>val dateFormated = SimpleDateFormat(&quot;dd/MM/yyyy&quot;).format(trans.created_date.toDate())</p>\n<p>I hope this works for everybody, thanks to <a href=\"https://www.datetimeformatter.com/how-to-format-date-time-in-kotlin/\" rel=\"nofollow noreferrer\">https://www.datetimeformatter.com/how-to-format-date-time-in-kotlin/</a></p>\n"}], "owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14161, "favorite_count": 5, "accepted_answer_id": 57403299, "answer_count": 5, "score": 6, "last_activity_date": 1603355933, "creation_date": 1565210505, "last_edit_date": 1565353204, "question_id": 57402045, "link": "https://stackoverflow.com/questions/57402045/how-to-format-in-kotlin-date-in-string-or-timestamp-to-my-preferred-format", "title": "How to format in Kotlin date in string or timestamp to my preferred format?", "body": "<p>I'm getting date data from weather API in two versions. The first one is just string like this: <strong>2019-08-07 09:00:00</strong> and like this: <strong>1565209665</strong>. How change it to the just name of the day or day and month?\nFor example: Monday, August.</p>\n\n<p>I tried something like this in few configurations but it works only in full version. If I cat something then it throws an error:</p>\n\n<pre><code>    var date = list.get(position).dt_txt\n    val formatter = DateTimeFormatterBuilder()\n        .appendPattern(\"yyyy-MM-dd HH:mm:ss\").toFormatter()\n    formatter.parse(date)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "sharedpreferences"], "answers": [{"comments": [{"owner": {"reputation": 1082, "user_id": 11634814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1334e536709045fed83457b1348af58f?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/11634814/evan"}, "edited": false, "score": 0, "creation_date": 1565209408, "post_id": 57401768, "comment_id": 101285168, "body": "Damn you&#39;re fast! :) Used the static boolean idea like you suggested, works like a charm, thanks so much! I&#39;ll accept it as soon as stack exchange lets me (gotta wait a few mins)!"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 1082, "user_id": 11634814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1334e536709045fed83457b1348af58f?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/11634814/evan"}, "edited": false, "score": 0, "creation_date": 1565209483, "post_id": 57401768, "comment_id": 101285200, "body": "no worries :D I moved the order of my suggestions around, so that the better one (shared prefs, in my opinion) is at the top :D the static one should be your second option"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "reply_to_user": {"reputation": 1082, "user_id": 11634814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1334e536709045fed83457b1348af58f?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/11634814/evan"}, "edited": false, "score": 0, "creation_date": 1565211139, "post_id": 57401768, "comment_id": 101285829, "body": "i&#39;ve never made a game in android before :D are you making progress ?"}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 2, "last_activity_date": 1565209572, "last_edit_date": 1565209572, "creation_date": 1565209095, "answer_id": 57401768, "question_id": 57401688, "link": "https://stackoverflow.com/questions/57401688/how-to-check-if-an-app-is-being-opened-android-studio/57401768#57401768", "title": "How to check if an app is being opened - Android Studio", "body": "<p>Store a boolean in <code>sharedPreferences</code> and check if it exists or if it's false/true in the create of the activity, such as storing a value for <code>\"hasLoaded\"</code> with a value of either <code>true</code> or <code>false</code>. check this value in <code>onCreate</code> and then do your logic accordingly.</p>\n\n<p>OR alternatively, </p>\n\n<p>create a static variable in your mainActivity for <code>hasLoaded</code>, then in onCreate, do everything you want to do and then change it to true.</p>\n\n<pre><code>static boolean hasLoaded = false;\n\nif(!hasLoaded){\n//all your logic here\nhasLoaded = true;\n}\n</code></pre>\n\n<p><strong>note:</strong>\nstoring it in <code>sharedPrefs</code> will ensure that your initialization will only happen ONCE for all usages of the app, while storing it in a static variable will make sure it only happens once PER RUN of the app</p>\n"}], "owner": {"reputation": 1082, "user_id": 11634814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1334e536709045fed83457b1348af58f?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/11634814/evan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 57401768, "answer_count": 1, "score": 0, "last_activity_date": 1565227852, "creation_date": 1565208710, "last_edit_date": 1565227852, "question_id": 57401688, "link": "https://stackoverflow.com/questions/57401688/how-to-check-if-an-app-is-being-opened-android-studio", "title": "How to check if an app is being opened - Android Studio", "body": "<p>I'm making a game and am saving data for the player using sharedPreferences. The way I have it set up right now, every time the main application (the first page) is loaded, the old data it held before is loaded. So, imagine a player has 100$, and they exit the app. Upon opening the app again, this data will be loaded and everything seems fine.</p>\n\n<p>The problem, however, is that if a player's money is changed in ANOTHER activity, the way I have it set up right now is that any time a player navigates back to the main activity, the data is loaded. So if the player has $100 on the main activity, this info is saved every few seconds on the main activity. If the player spends 50$ on a second activity, when they return to the main activity, since the last saved data the main activity has is $100, it will load the $100. </p>\n\n<p>This is a problem, and a way to fix it is to ONLY LOAD THE DATA WHEN THE APP IS OPENED. So like I don't want to load the data every time the player navigates to the main activity, but only when they open the app. I need a simple if() boolean statement to do this, but I'm not sure what the statement I need is.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "kotlin-native", "kotlin-interop"], "answers": [{"tags": [], "owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "is_accepted": false, "score": 1, "last_activity_date": 1565260147, "creation_date": 1565260147, "answer_id": 57410517, "question_id": 57401685, "link": "https://stackoverflow.com/questions/57401685/kotlin-native-how-to-convert-carraypointer-to-array/57410517#57410517", "title": "Kotlin/Native: How to convert cArrayPointer to Array", "body": "<p>I'd recommend to make it somehow like this:</p>\n\n<pre><code>val myArray: Array&lt;Int&gt; = memScoped {\n        val length = 5      //cause I don't know how to get C-array size\n        val cArray = allocArray&lt;IntVar&gt;(length)\n        (0 until length).map { cArray[it] }.toTypedArray()\n}\n</code></pre>\n\n<p>As one can see in the documentation, CArrayPointer is nothing but a typealias of CPointer. So, I suppose there can't be anadditional functionality, like one you desire.</p>\n"}], "owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1565260147, "creation_date": 1565208693, "question_id": 57401685, "link": "https://stackoverflow.com/questions/57401685/kotlin-native-how-to-convert-carraypointer-to-array", "title": "Kotlin/Native: How to convert cArrayPointer to Array", "body": "<p>How can I convert <code>cArrayPointer</code> to a simple Array/List when using c-interop?</p>\n\n<pre><code>val myArray: Array&lt;Int&gt; = memScoped {\n    val cArray = allocArray&lt;IntVar&gt;(5)\n    fill(cArray)\n    cArray.toSimpleArray()     &lt;--- There is no such function\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "answers": [{"tags": [], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "is_accepted": true, "score": 0, "last_activity_date": 1565210440, "creation_date": 1565210440, "answer_id": 57402032, "question_id": 57401430, "link": "https://stackoverflow.com/questions/57401430/dagger2-kotlin-lateinit-property-appcomponent-has-not-been-initialized/57402032#57402032", "title": "Dagger2 + Kotlin: lateinit property appComponent has not been initialized", "body": "<p>I created a instance of <code>TranslateProvider</code> in:             <code>.translateModule(TranslateModule(TranslateProvider()))</code></p>\n\n<p>When constructor of <code>TranslateProvider</code> called <code>appComponent</code>, but appComponent was not initialized that time.\nJust move it go to out of TranslateModule constructor look like:</p>\n\n<p>Before:</p>\n\n<pre><code>@Module\nclass TranslateModule(private val translateProvider: TranslateProvider) {\n\n    @Provides\n    fun getTranslateProvider(): TranslateProvider {\n        return translateProvider\n    }\n\n}\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>@Module\nclass TranslateModule {\n\n    @Provides\n    fun getTranslateProvider(): TranslateProvider {\n        return TranslateProvider()\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 0, "accepted_answer_id": 57402032, "answer_count": 1, "score": 0, "last_activity_date": 1565210440, "creation_date": 1565207368, "last_edit_date": 1565208754, "question_id": 57401430, "link": "https://stackoverflow.com/questions/57401430/dagger2-kotlin-lateinit-property-appcomponent-has-not-been-initialized", "title": "Dagger2 + Kotlin: lateinit property appComponent has not been initialized", "body": "<p>I'm using Dagger2 to inject class dependent like bellow.</p>\n\n<p>This is a component for Dagger2, AppComponent.kt:</p>\n\n<pre><code>    @Component(modules = [ContextModule::class, SuggestModule::class, RetrofitModule::class,\n    TranslateModule::class, DatabaseModule::class, ViewModelModule::class, FragmentModule::class])\ninterface AppComponent {\n    @Singleton\n    fun inject(fragment: TranslateFragment)\n    @Singleton\n    fun inject(fragment: FavouriteFragment)\n    @Singleton fun inject(fragment: TensesFragment)\n    @Singleton\n    fun inject(activity: TensesActivity)\n    @Singleton\n    fun inject(activity: MainActivity)\n\n    @Singleton\n    fun inject(translateViewModel: TranslateViewModel)\n    @Singleton\n    fun inject(favouriteViewModel: FavouriteViewModel)\n\n    @Singleton\n    fun inject(translateProvider: TranslateProvider)\n}\n</code></pre>\n\n<p>This is App class extended Application class, where i built my component , App.kt</p>\n\n<pre><code>class App : Application() {\n\n    companion object{\n        lateinit var appComponent: AppComponent\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        appComponent = DaggerAppComponent.builder()\n            .contextModule(ContextModule(this))\n            .suggestModule(SuggestModule(this))\n            .retrofitModule(RetrofitModule())\n            .translateModule(TranslateModule(TranslateProvider()))\n            .databaseModule(DatabaseModule(DatabaseManager(this)))\n            .viewModelModule(ViewModelModule())\n            .fragmentModule(FragmentModule())\n            .build()\n    }\n}\n</code></pre>\n\n<p>First, i injected TranslateFragment into MainActivity, MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity {\n\n    constructor(){\n        App.appComponent.inject(this)\n    }\n\n    @Inject\n    lateinit var translateFragment: TranslateFragment\n}\n</code></pre>\n\n<p>Second, i injected TranslateViewModel into TranslateFragment, TranslateFragment.kt</p>\n\n<pre><code>class TranslateFragment : Fragment {\n\n    @Inject\n    constructor() {\n        App.appComponent.inject(this)\n    }\n\n    @Inject\n    lateinit var translateViewModel: TranslateViewModel\n}\n</code></pre>\n\n<p>Third, i injected TranslateProvider into TranslateViewModel,  TranslateViewModel.kt</p>\n\n<pre><code>class TranslateViewModel : BaseObservable {\n\n    @Inject\n    constructor() {\n        App.appComponent.inject(this)\n    }\n\n    @Inject\n    lateinit var translateProvider: TranslateProvider\n}\n</code></pre>\n\n<p>End, i injected RetrofitProvider into TranslateProvider,  TranslateProvider.kt</p>\n\n<pre><code>class TranslateProvider {\n\n    @Inject\n    constructor() {\n        App.appComponent.inject(this)\n    }\n\n    @Inject\n    lateinit var retrofitProvider: RetrofitProvider\n}\n</code></pre>\n\n<p>But i received a error at TranslateProvider.kt:</p>\n\n<blockquote>\n  <p>kotlin.UninitializedPropertyAccessException: lateinit property\n  appComponent has not been initialized</p>\n</blockquote>\n\n<p>I'm not understand, please help me.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "charts", "bar-chart", "mpandroidchart"], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "is_accepted": false, "score": 0, "last_activity_date": 1565349612, "creation_date": 1565349612, "answer_id": 57428968, "question_id": 57401293, "link": "https://stackoverflow.com/questions/57401293/barchart-is-not-showing-provided-data/57428968#57428968", "title": "BarChart is not showing provided data", "body": "<p>Ok the problem was that I needed to click on the BarChart to get a the values. If you encounter this problem just add these lines into your code</p>\n\n<pre><code> barChart.invalidate()\n barChart.refreshDrawableState()\n</code></pre>\n\n<p>Hope this helps someone</p>\n"}], "owner": {"reputation": 355, "user_id": 4675657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202720484172988/picture?type=large", "display_name": "Apuna12", "link": "https://stackoverflow.com/users/4675657/apuna12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565349612, "creation_date": 1565206789, "last_edit_date": 1565248683, "question_id": 57401293, "link": "https://stackoverflow.com/questions/57401293/barchart-is-not-showing-provided-data", "title": "BarChart is not showing provided data", "body": "<p>I am making an app which will show some statistics. I choose to make a Barchart with help of MPAndroidChart library. I have data from database. I will provide all inputs below</p>\n\n<p>I was trying to follow this <a href=\"https://www.youtube.com/watch?v=naPRHNfzDk8\" rel=\"nofollow noreferrer\">LINK</a> with my values, but it seems that there is a problem somewhere.</p>\n\n<p><strong>Main Activity</strong></p>\n\n<pre><code>        var popUpMenu: PopupMenu = PopupMenu(this, imageButton)\n\n        popUpMenu.menuInflater.inflate(R.menu.array, popUpMenu.menu)\n        popUpMenu.setOnMenuItemClickListener {\n            textViewStatName.setText(it.title.toString())\n            textViewStatNameLabel.setText(it.title.toString())\n            val itemId= it.itemId\n            if(itemId == R.id.menu_item_1) {\n\n            }\n            else if(itemId == R.id.menu_item_2) {\n                val request: String = dbMethods.getStatistics(2)\n                val barChart: BarChart = findViewById(R.id.barChart)\n                var arrayList: ArrayList&lt;BarEntry&gt; = ArrayList()\n                var typedArrayList = request.split(\",\").toTypedArray()\n                typedArrayList = typedArrayList.dropLast(1).toTypedArray()\n                var items = arrayOf&lt;Array&lt;String&gt;&gt;()\n                var xAxisValues = ArrayList&lt;String&gt;()\n\n                for (i in 0 until typedArrayList.size)\n                {\n                    items  += typedArrayList[i].split(\"-\").toTypedArray()\n                    arrayList.add(BarEntry(i.toFloat(), items[i][1].toFloat()))\n                    xAxisValues.add(items[i][0])\n                }\n\n                var bds: BarDataSet = BarDataSet(arrayList, \"First attempt\")\n                bds.setColor(Color.RED)\n                //var ibds: ArrayList&lt;IBarDataSet&gt; = ArrayList()\n                //ibds.add(bds)\n\n                var barData: BarData = BarData(bds) //ibds\n                barChart.data = barData\n                barChart.xAxis.textColor = Color.WHITE\n                barChart.axisLeft.textColor = Color.WHITE\n                barChart.axisRight.textColor = Color.WHITE\n                barChart.legend.textColor = Color.WHITE\n                barChart.data.setValueTextColor(Color.WHITE)\n                barChart.description.text = \"Description\"\n                barChart.isEnabled = true\n            }\n            else if(itemId == R.id.menu_item_3)\n            {\n\n            }\n            else if(itemId == R.id.menu_item_4)\n            {\n\n            }\n            true\n        }\n        popUpMenu.show()\n</code></pre>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;com.github.mikephil.charting.charts.BarChart\n        android:id=\"@+id/barChart\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginTop=\"16dp\"\n        android:layout_marginBottom=\"44dp\"\n        android:background=\"@color/colorDarkBlue\"\n        app:layout_constrainedHeight=\"true\"\n        app:layout_constrainedWidth=\"true\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"@+id/statFromSpinner\"\n        app:layout_constraintStart_toStartOf=\"@+id/n\u00e1zovStatistikyLABEL\"\n        app:layout_constraintTop_toBottomOf=\"@+id/n\u00e1zovStatistikyLABEL\"&gt;&lt;/com.github.mikephil.charting.charts.BarChart&gt;\n</code></pre>\n\n<p>Basicly it works like this:</p>\n\n<ul>\n<li>I click on the item in popup menu</li>\n<li>Barchart should query a DB</li>\n<li>Data should be displayed</li>\n</ul>\n\n<p><strong>arrayList</strong> has three rows <strong>{[0,8],[1,15],[2,16]}</strong></p>\n\n<p>Non of the values seems to be null after debugging, but the chart has message <strong>No chart data available</strong></p>\n\n<p>Am I doing something wrong here?</p>\n"}, {"tags": ["inheritance", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565206925, "post_id": 57401235, "comment_id": 101284203, "body": "<a href=\"https://kotlinlang.org/docs/reference/nested-classes.html#anonymous-inner-classes\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 4400, "user_id": 681444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf4662e1bc928723d74099d0b51df24?s=128&d=identicon&r=PG&f=1", "display_name": "racraman", "link": "https://stackoverflow.com/users/681444/racraman"}, "edited": false, "score": 0, "creation_date": 1565208703, "post_id": 57401235, "comment_id": 101284892, "body": "The answer to this one has an example : <a href=\"https://stackoverflow.com/questions/37672023/how-to-create-an-instance-of-anonymous-interface-in-kotlin\" title=\"how to create an instance of anonymous interface in kotlin\">stackoverflow.com/questions/37672023/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1565209380, "creation_date": 1565209380, "answer_id": 57401830, "question_id": 57401235, "link": "https://stackoverflow.com/questions/57401235/kotlin-how-to-create-anonymous-class-that-implements-an-interface-with-2-methods/57401830#57401830", "title": "Kotlin how to create anonymous class that implements an interface with 2 methods?", "body": "<p>If <code>foo</code> looks like this:</p>\n\n<pre><code>fun foo(human: Human) {\n    // ...\n}\n</code></pre>\n\n<p>You can invoke it like this, using an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a>:</p>\n\n<pre><code>foo(object: Human {\n    override fun think() {\n        // ...\n    }\n\n    override fun talk() {\n        //...\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 2932, "user_id": 7212809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VlOyJEUeeSc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jExBae7iJ2ALFtcMj_6BCoHGTMgw/mo/photo.jpg?sz=128", "display_name": "nz_21", "link": "https://stackoverflow.com/users/7212809/nz-21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57401830, "answer_count": 1, "score": -2, "last_activity_date": 1565209380, "creation_date": 1565206518, "question_id": 57401235, "link": "https://stackoverflow.com/questions/57401235/kotlin-how-to-create-anonymous-class-that-implements-an-interface-with-2-methods", "title": "Kotlin how to create anonymous class that implements an interface with 2 methods?", "body": "<p>I have an interface with two methods:</p>\n\n<pre><code>interface Human {\n   fun talk()\n   fun think()\n}\n\n</code></pre>\n\n<p>I  want to pass an anonymous instance of this interface into a method. </p>\n\n<p>How do I do this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565203796, "post_id": 57400590, "comment_id": 101282827, "body": "How..I tried SimpleDateFormat(&quot;HH:mm&quot;).Date(date.toLong)?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565203820, "post_id": 57400590, "comment_id": 101282839, "body": "But it showing Date as error"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565203892, "post_id": 57400590, "comment_id": 101282875, "body": "<a href=\"https://stackoverflow.com/questions/16084474/convert-time-value-to-format-hhmm-am-pm-using-android\" title=\"convert time value to format hhmm am pm using android\">stackoverflow.com/questions/16084474/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204234, "post_id": 57400590, "comment_id": 101283061, "body": "Thanks for the link.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204256, "post_id": 57400590, "comment_id": 101283068, "body": "I will try this and then let you know if its worked.."}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565205089, "post_id": 57400590, "comment_id": 101283443, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16084474/convert-time-value-to-format-hhmm-am-pm-using-android\">Convert time value to format \u201chh:mm Am/Pm\u201d using Android</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1565263752, "post_id": 57400821, "comment_id": 101303170, "body": "Wow you are great ...It resolved my problem..Thanks:)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1565264724, "post_id": 57400821, "comment_id": 101303684, "body": "But how to change to date when that day passes..?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1565265667, "post_id": 57400821, "comment_id": 101304198, "body": "You mean we have to save dates in a database and then check it from that ..?"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565265684, "post_id": 57400821, "comment_id": 101304207, "body": "thanks. all you have to do is, when you inflate each item in to your list, check that the date of that item is older than today, if it is older than today, show the full date, otherwise use my answer here"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1565265944, "post_id": 57400821, "comment_id": 101304349, "body": "you mean I need to set this in the list adapter of the inbox..?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1565266856, "post_id": 57400821, "comment_id": 101304854, "body": "I have posted my full code now. I get your point but do not understand how to apply this in my code..Can you show me in the code..?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565267325, "post_id": 57400821, "comment_id": 101305143, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197684/discussion-between-aisha-and-a-local-nobody\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "is_accepted": true, "score": 0, "last_activity_date": 1565205050, "last_edit_date": 1565205050, "creation_date": 1565204569, "answer_id": 57400821, "question_id": 57400590, "link": "https://stackoverflow.com/questions/57400590/is-there-any-getter-options-of-time-date-etc-associated-with-date-class-in-kot/57400821#57400821", "title": "Is there any getter options of time,date etc associated with Date() class in kotlin/android..?", "body": "<p>to answer your question, you need something like this : </p>\n\n<pre><code>    val date = Date()\n    val formatter = SimpleDateFormat(\"hh:mm a\")\n    val displayTime = formatter .format(date)\n</code></pre>\n\n<p>this gives you : <code>09:00 PM</code></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 11891879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJ2R9.jpg?s=128&g=1", "display_name": "Oy3", "link": "https://stackoverflow.com/users/11891879/oy3"}, "is_accepted": false, "score": -1, "last_activity_date": 1565205965, "creation_date": 1565205965, "answer_id": 57401114, "question_id": 57400590, "link": "https://stackoverflow.com/questions/57400590/is-there-any-getter-options-of-time-date-etc-associated-with-date-class-in-kot/57401114#57401114", "title": "Is there any getter options of time,date etc associated with Date() class in kotlin/android..?", "body": "<p>Try this:</p>\n\n<pre><code>val dateString = it.getString(timestamp)\nval dateFormat = SimpleDateFormat(\"HH:mm a\")\ndateFormat.timeZone = TimeZone.getTimeZone(\"GMT\") //Your timezone if necessary\nval date = dateFormat.format(dateString)\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 57400821, "answer_count": 2, "score": -2, "last_activity_date": 1565266735, "creation_date": 1565203555, "last_edit_date": 1565266735, "question_id": 57400590, "link": "https://stackoverflow.com/questions/57400590/is-there-any-getter-options-of-time-date-etc-associated-with-date-class-in-kot", "title": "Is there any getter options of time,date etc associated with Date() class in kotlin/android..?", "body": "<p>I want to know if there any getter options to get time,date etc associated with Date() built-in class in kotlin..?\nIf yes then which are the options and how to use them..?</p>\n\n<p>I have searched a lot but found nothing..I have provided my code below..</p>\n\n<p><strong>Inbox Activity</strong></p>\n\n<pre><code> private fun refreshSmsInbox() {\n\n            try {\n\n\n                val smsList = ArrayList&lt;SmsData&gt;()\n                val cursor = contentResolver.query(Uri.parse(\"content://sms/inbox\"),null,null,null,null)\n                cursor?.let{\n                    if(it!!.moveToFirst()){\n                        val nameID = it.getColumnIndex(\"address\")\n                        val messageID = it.getColumnIndex(\"body\")\n                        //val dateID = it.getColumnIndex(\"date\")\n                       val timestamp = it.getColumnIndexOrThrow(\"date\")\n\n\n                        do{\n                            val dateString = it.getString(timestamp)\n                            val date : Date = Date(dateString.toLong())\n                            val formatter = SimpleDateFormat(\"hh:mm a\")\n                            val displayTime = formatter .format(date)\n\n\n                          val sms = SmsData(getContactName(this,it.getString(nameID!!.toInt()).toString()),it.getString(messageID),displayTime)\n\n                            smsList.add(sms)\n\n                        }while (it.moveToNext())\n                    }\n                    it.close()\n                }\n                val  adapter = ListAdapter(this, smsList)\n                sms_list_view.adapter = adapter\n\n\n    } catch (ex: Exception) {\n                if (this != null) {\n                    Toast.makeText(this, ex.localizedMessage, Toast.LENGTH_SHORT).show()\n                }\n            }\n\n    }\n</code></pre>\n\n<p><strong>List Adapter</strong></p>\n\n<pre><code>class ListAdapter (val context: Context, val list : ArrayList&lt;SmsData&gt;): BaseAdapter(){\n    @SuppressLint(\"ViewHolder\", \"SimpleDateFormat\")\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n        val view = LayoutInflater.from(context).inflate(R.layout.rowlayout,parent,false)\n\n        /*view.clickable.setOnClickListener {\n            val intent = Intent(this, MainActivity1::class.java)\n\n            startActivity(intent)\n        }*/\n        list[position].senderName?.let{\n            view.sender.text = it.substring(0,1).toUpperCase()\n        }\n\n        view.sms_sender.text = list[position].senderName\n\n        view.sms_message.text = list[position].message\n\n        view.sms_date.text = list[position].date.toString()\n\n        view.clickable.setOnClickListener { View -&gt;\n\n            val intent = Intent(context,MainActivity1::class.java)\n            intent.putExtra(\"address\",list[position].senderName)\n                    context.startActivity(intent)\n        }\n\n        return  view\n\n\n    }\n</code></pre>\n\n<p><strong>Model class</strong></p>\n\n<p><code>data class SmsData(val senderName: String?, val message: String, val date: Date){\n}</code></p>\n\n<p><strong>Expected:</strong></p>\n\n<p>Time 11:45 am/pm\n<strong>Actual:</strong></p>\n\n<p>Mon 12 jul 2019 GMT +05:00</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204117, "post_id": 57400577, "comment_id": 101282994, "body": "maybe remove the double bang ?"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204162, "post_id": 57400577, "comment_id": 101283019, "body": "tried that, made no difference. That was me just trying things anyway"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204198, "post_id": 57400577, "comment_id": 101283044, "body": "if <code>HashMap&lt;String,String&gt;</code> is your value, shouldn&#39;t both be using a double bang ? i&#39;m entirely guessing here, i have no clue sadly"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204315, "post_id": 57400577, "comment_id": 101283101, "body": "Yes but the <code>!!</code> was me trying to see if that fixed the error, I shouldnt even need it but the error looked like it was saying it was <code>String?</code> when its not"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204481, "post_id": 57400577, "comment_id": 101283191, "body": "it looks like it&#39;s not picking up that your <code>it</code> is a hashmap, or there&#39;s a different way of getting values from it now, have you tried just calling in <code>it.get</code> and passing a key instead?"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204621, "post_id": 57400577, "comment_id": 101283251, "body": "yup tried that too, same error"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204662, "post_id": 57400577, "comment_id": 101283269, "body": "very interesting, will definitely upvote, hope you find an answer !"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565204726, "post_id": 57400577, "comment_id": 101283296, "body": "hmm however <code>it.getValue(&quot;key&quot;)</code> seems to be ok"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1565209802, "post_id": 57400577, "comment_id": 101285325, "body": "@tyczj pls show how you instantiate the map"}, {"owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1565210121, "post_id": 57400577, "comment_id": 101285480, "body": "@WilliMentzel added, also looks like other people are having this issue, I linked a bug report"}, {"owner": {"reputation": 13166, "user_id": 204480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VVtft.jpg?s=128&g=1", "display_name": "James Wald", "link": "https://stackoverflow.com/users/204480/james-wald"}, "edited": false, "score": 0, "creation_date": 1565224715, "post_id": 57400577, "comment_id": 101289104, "body": "I posted an answer with a workaround that downgrades your Android SDK android-29 package back to revision 1. <a href=\"https://stackoverflow.com/a/57403743/204480\">stackoverflow.com/a/57403743/204480</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11898351, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9267370849cf3054fdaef11fc876a412?s=128&d=identicon&r=PG", "display_name": "Shane Thompson", "link": "https://stackoverflow.com/users/11898351/shane-thompson"}, "is_accepted": false, "score": -1, "last_activity_date": 1565208488, "creation_date": 1565208488, "answer_id": 57401649, "question_id": 57400577, "link": "https://stackoverflow.com/questions/57400577/overload-resolution-ambiguity-hashmap-get-kotlin/57401649#57401649", "title": "Overload resolution ambiguity HashMap.get kotlin", "body": "<p>I ran into the same problem, For now as a workaround I am using the Kotlin extension function getOrElse, which allows you to provide a default value if the map does not contain the given key.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10230476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72e48c5b3af8c29a2b754a1b081d62d2?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Dunscombe", "link": "https://stackoverflow.com/users/10230476/justin-dunscombe"}, "is_accepted": false, "score": 3, "last_activity_date": 1565210966, "creation_date": 1565210966, "answer_id": 57402118, "question_id": 57400577, "link": "https://stackoverflow.com/questions/57400577/overload-resolution-ambiguity-hashmap-get-kotlin/57402118#57402118", "title": "Overload resolution ambiguity HashMap.get kotlin", "body": "<p>I ran into the same problem and found a workaround for HashMap and ArrayList:\nYou can instantiate the map as</p>\n\n<pre><code>val map: MutableMap&lt;String, String&gt; = HashMap()\n</code></pre>\n\n<p>For ArrayList</p>\n\n<pre><code>val list: MutableList&lt;String&gt; = ArrayList()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1525, "user_id": 3636806, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f5aee89c11a5184ae26918f1969a439d?s=128&d=identicon&r=PG", "display_name": "EAK TEAM", "link": "https://stackoverflow.com/users/3636806/eak-team"}, "edited": false, "score": 0, "creation_date": 1565226476, "post_id": 57403743, "comment_id": 101289419, "body": "No need to downgrade the SDK version, as another workaround we can use :   val map: MutableMap&lt;String, String&gt; = HashMap() // instead of val map = HashMap&lt;String, String&gt;() val list: MutableList&lt;String&gt; = ArrayList() // instead of val list = ArrayList&lt;String, String&gt;()"}, {"owner": {"reputation": 13166, "user_id": 204480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VVtft.jpg?s=128&g=1", "display_name": "James Wald", "link": "https://stackoverflow.com/users/204480/james-wald"}, "reply_to_user": {"reputation": 1525, "user_id": 3636806, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f5aee89c11a5184ae26918f1969a439d?s=128&d=identicon&r=PG", "display_name": "EAK TEAM", "link": "https://stackoverflow.com/users/3636806/eak-team"}, "edited": false, "score": 0, "creation_date": 1565226775, "post_id": 57403743, "comment_id": 101289469, "body": "That&#39;s not going to work for those of us with apps that have more than a few files."}, {"owner": {"reputation": 1525, "user_id": 3636806, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f5aee89c11a5184ae26918f1969a439d?s=128&d=identicon&r=PG", "display_name": "EAK TEAM", "link": "https://stackoverflow.com/users/3636806/eak-team"}, "edited": false, "score": 0, "creation_date": 1565227006, "post_id": 57403743, "comment_id": 101289511, "body": "java.util.ArrayList &amp; java.util.HashMap are mutable, this will not change anything, and i think it&#39;s better to use kotlin collections"}, {"owner": {"reputation": 1525, "user_id": 3636806, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f5aee89c11a5184ae26918f1969a439d?s=128&d=identicon&r=PG", "display_name": "EAK TEAM", "link": "https://stackoverflow.com/users/3636806/eak-team"}, "edited": false, "score": 0, "creation_date": 1565228127, "post_id": 57403743, "comment_id": 101289685, "body": "my app project have more than 400 files/classes. You can change to kotlin collections by using find&amp;replace with regex pattern to change everything about that. You should try it :)"}], "tags": [], "owner": {"reputation": 13166, "user_id": 204480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VVtft.jpg?s=128&g=1", "display_name": "James Wald", "link": "https://stackoverflow.com/users/204480/james-wald"}, "is_accepted": false, "score": 7, "last_activity_date": 1565230139, "last_edit_date": 1565230139, "creation_date": 1565223857, "answer_id": 57403743, "question_id": 57400577, "link": "https://stackoverflow.com/questions/57400577/overload-resolution-ambiguity-hashmap-get-kotlin/57403743#57403743", "title": "Overload resolution ambiguity HashMap.get kotlin", "body": "<p>It was a bug with the latest Android SDK 29 release until Google rolled back the update. See <a href=\"https://issuetracker.google.com/issues/139041608\" rel=\"noreferrer\">https://issuetracker.google.com/issues/139041608</a>.</p>\n\n<p>If you were unfortunate enough to install <code>platforms;android-29</code> revision 2 before they rolled it back, you'll have to downgrade back to revision 1. You can do this by first uninstalling the package using the <code>$ANDROID_HOME/tools/bin/sdkmanager</code> tool.</p>\n\n<pre><code>sdkmanager --uninstall \"platforms;android-29\"\n</code></pre>\n\n<p>Then remove revision 2 from the cache by removing the <code>\"platforms;android-29\"</code> element containing <code>&lt;major&gt;2&lt;/major&gt;</code> from <code>$HOME/.android/cache/sdkbin-1_b735609c-repository2-1_xml</code>:</p>\n\n<pre><code>&lt;remotePackage path=\"platforms;android-29\"&gt;\n  &lt;!--Generated from bid:5747142, branch:qt-release--&gt;\n  &lt;type-details xsi:type=\"sdk:platformDetailsType\"&gt;\n    &lt;api-level&gt;29&lt;/api-level&gt;\n    &lt;codename&gt;&lt;/codename&gt;\n    &lt;layoutlib api=\"15\"/&gt;\n  &lt;/type-details&gt;\n  &lt;revision&gt;\n    &lt;major&gt;2&lt;/major&gt;\n  &lt;/revision&gt;\n  &lt;display-name&gt;Android SDK Platform 29&lt;/display-name&gt;\n  &lt;uses-license ref=\"android-sdk-license\"/&gt;\n  &lt;channelRef ref=\"channel-0\"/&gt;\n  &lt;archives&gt;\n    &lt;archive&gt;\n      &lt;!--Built on: Tue Jul 23 11:56:59 2019.--&gt;\n      &lt;complete&gt;\n        &lt;size&gt;78259143&lt;/size&gt;\n        &lt;checksum&gt;c8b1361cc03309a8113de92f93471524fa0c36f7&lt;/checksum&gt;\n        &lt;url&gt;platform-29_r02.zip&lt;/url&gt;\n      &lt;/complete&gt;\n    &lt;/archive&gt;\n  &lt;/archives&gt;\n&lt;/remotePackage&gt;\n</code></pre>\n\n<p>Keep the other <code>\"platforms;android-29\"</code> element with <code>&lt;major&gt;1&lt;/major&gt;</code> and then re-install the package:</p>\n\n<pre><code>sdkmanager --install \"platforms;android-29\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "is_accepted": true, "score": 2, "last_activity_date": 1565233424, "creation_date": 1565233424, "answer_id": 57404625, "question_id": 57400577, "link": "https://stackoverflow.com/questions/57400577/overload-resolution-ambiguity-hashmap-get-kotlin/57404625#57404625", "title": "Overload resolution ambiguity HashMap.get kotlin", "body": "<p>As per the <a href=\"https://issuetracker.google.com/issues/139041608#comment14\" rel=\"nofollow noreferrer\">bug report</a> in the issue tracker, google has reverted <code>r2</code> back to <code>r1</code></p>\n\n<blockquote>\n  <p>API 29 r2 has been rolled back from Studio SDK Manager for now until\n  the root cause is identified and fixed.</p>\n</blockquote>\n\n<p>So just uninstall/reinstall Q from the adk manager and you should be back on r1</p>\n"}], "owner": {"reputation": 66307, "user_id": 599346, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be66588cfacdbed6f5b7581e4eec4c95?s=128&d=identicon&r=PG", "display_name": "tyczj", "link": "https://stackoverflow.com/users/599346/tyczj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 873, "favorite_count": 1, "accepted_answer_id": 57404625, "answer_count": 4, "score": 10, "last_activity_date": 1565233424, "creation_date": 1565203517, "last_edit_date": 1565210081, "question_id": 57400577, "link": "https://stackoverflow.com/questions/57400577/overload-resolution-ambiguity-hashmap-get-kotlin", "title": "Overload resolution ambiguity HashMap.get kotlin", "body": "<p>I just updated the Android Q SDK to revision 2 in android studio and now I get an error with getting values from a hashmap</p>\n\n<p><a href=\"https://i.stack.imgur.com/4PnVH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4PnVH.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>it</code> is <code>HashMap&lt;String,String&gt;</code> and this code was fine until I did the update in android studio to Q revision 2.</p>\n\n<p>This is where my HashMap comes from</p>\n\n<pre><code>val map = HashMap&lt;String,String&gt;()\nmap[\"owner\"] = shipment.owner\nmap[\"current\"] = signedInUser\nshipmentOwnedLiveData.postValue(map)\n</code></pre>\n\n<p>I found a question similar to <a href=\"https://stackoverflow.com/questions/38779666/how-to-fix-overload-resolution-ambiguity-in-kotlin-no-lambda\">this</a> but non-android related and its a few years old</p>\n\n<p>Anyone know what the issue is or how to fix it?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Seems like it also broke ArrayLists too as calling <code>.contains</code> or <code>.remove</code> on a collection also throws an ambiguity error.</p>\n\n<p>it looks like there are duplicate methods for all of these </p>\n\n<p><strong>Edit 2:</strong></p>\n\n<p>Looks like I am not the only person with this issue</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/139041608#comment3\" rel=\"noreferrer\">https://issuetracker.google.com/issues/139041608#comment3</a></p>\n"}, {"tags": ["android", "vb.net", "kotlin", "md5"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565201721, "post_id": 57399934, "comment_id": 101281886, "body": "maybe this helps ? <a href=\"https://stackoverflow.com/questions/9066835/java-sha-1-hash-an-unsigned-byte/9067096\" title=\"java sha 1 hash an unsigned byte\">stackoverflow.com/questions/9066835/&hellip;</a>"}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1565201776, "post_id": 57399934, "comment_id": 101281915, "body": "There are no unsigned variables in Java.  But it shouldn&#39;t matter, because there&#39;s no difference in the binary implementation of a singed vs unsigned number-  just the interpretation.  Are you sure that they&#39;re both using the same hashing algorithm?  I believe there are variations on md5"}], "owner": {"reputation": 110, "user_id": 2263545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6e62208a7c58883c925d10b0c9216aeb?s=128&d=identicon&r=PG", "display_name": "bradyGilley", "link": "https://stackoverflow.com/users/2263545/bradygilley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565200711, "creation_date": 1565200711, "question_id": 57399934, "link": "https://stackoverflow.com/questions/57399934/how-do-i-perform-a-md5-hash-of-an-unsigned-byte-array-in-android", "title": "How do I perform a MD5 hash of an unsigned byte array in android?", "body": "<p>I am trying to replicate the password validation done by our VB.NET web application in android. </p>\n\n<p>The main issue is that the VB.NET authentication uses unsigned byte arrays and java uses signed byte arrays. I have added a Kotlin class which can use unsigned byte arrays but the MD5 hash function parameter is a signed byte array and my end result is a different hash than is produced by my VB.NET web application.</p>\n\n<p>Kotlin:</p>\n\n<pre><code>val unsignedByteArray =\"plainText\".toByteArray(StandardCharsets.UTF_8).toUByteArray()\nval md = MessageDigest.getInstance(\"MD5\")\nmd.update(unsignedByteArray.toByteArray())\n</code></pre>\n\n<p>VB.NET</p>\n\n<pre><code>Dim hash As HashAlgorithm\nhash = New MD5CryptoServiceProvider()\nDim hashBytes() As Byte = hash.ComputeHash(plainTextWithSaltBytes)\n</code></pre>\n\n<p>I need to exactly duplicate the hashing process of the VB.NET web application in order to produce the same hash. My issue is MessageDigest.update() only takes a signedbyte array, while the VB.NET version takes an unsigned byte array, and thus produce different values. </p>\n\n<p>Is there a way I can do a MD5 hash on an unsigned byte array in android?</p>\n"}, {"tags": ["datetime", "kotlin", "jsondate"], "comments": [{"owner": {"reputation": 601, "user_id": 3012708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49621ea16e89711bf6bd54271743208c?s=128&d=identicon&r=PG&f=1", "display_name": "user3012708", "link": "https://stackoverflow.com/users/3012708/user3012708"}, "reply_to_user": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1565256939, "post_id": 57399896, "comment_id": 101299376, "body": "So, nothing has changed in 5 years?"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1565261080, "post_id": 57399896, "comment_id": 101301728, "body": "Yes, a lot has happened the last 5 years. Joda-Time has gone into maintenance mode and has been replaced by java.time, the modern Java date and time API. I still believe that any new or modern answer should be posted with one of the original questions and linked from here. So people reading the old questions know too."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1565262216, "post_id": 57399896, "comment_id": 101302272, "body": "Use <a href=\"https://stackoverflow.com/a/52535423/5772882\">my answer here</a>. It\u2019s not a year old. :-) Or <a href=\"https://stackoverflow.com/a/49474519/5772882\">this one</a> or perhaps even better <a href=\"https://stackoverflow.com/a/40946731/5772882\">this one here</a>."}, {"owner": {"reputation": 601, "user_id": 3012708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49621ea16e89711bf6bd54271743208c?s=128&d=identicon&r=PG&f=1", "display_name": "user3012708", "link": "https://stackoverflow.com/users/3012708/user3012708"}, "edited": false, "score": 1, "creation_date": 1565270792, "post_id": 57399896, "comment_id": 101307522, "body": "Looks good, thanks! Closing as duplicate."}], "owner": {"reputation": 601, "user_id": 3012708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49621ea16e89711bf6bd54271743208c?s=128&d=identicon&r=PG&f=1", "display_name": "user3012708", "link": "https://stackoverflow.com/users/3012708/user3012708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 559, "favorite_count": 0, "closed_date": 1565270862, "answer_count": 0, "score": 0, "last_activity_date": 1565200949, "creation_date": 1565200548, "last_edit_date": 1565200949, "question_id": 57399896, "link": "https://stackoverflow.com/questions/57399896/kotlin-any-built-in-support-for-ms-json-date-format", "closed_reason": "Duplicate", "title": "Kotlin - any built-in support for MS JSON Date format?", "body": "<p>We have a json string such as :</p>\n\n<pre><code>{\"StartDateTime\":\"\\/Date(1325134800000-0500)\\/\"}\n</code></pre>\n\n<p>Is there a built-in way to convert this to a datetime in Kotlin? As far as i've seen i need to either run substring-type code against it, and pick out the timestamp &amp; offset and make the datetime myself.</p>\n\n<p>Surely there's a built in way to do this? Or is the format just too weird?</p>\n\n<p>Here's how we're doing it now, based on info, <a href=\"https://www.hanselman.com/blog/OnTheNightmareThatIsJSONDatesPlusJSONNETAndASPNETWebAPI.aspx\" rel=\"nofollow noreferrer\">here</a> :</p>\n\n<pre><code>val DATE_REGEX = Regex(\"Date\\\\((\\\\d+)([+-])(\\\\d{2})(\\\\d{2})\\\\)\")\nobject AspDateUtil {\n    /**\n     * @param dateString ASP style date string\n     * @throws NumberFormatException\n     */\n    fun convertDate(dateString: String): DateTime {\n        val regexResult = DATE_REGEX.find(dateString)\n        fun getGroupValue(index: Int): String {\n            return regexResult?.groups?.get(index)?.value ?: \"\"\n        }\n        val timestamp = getGroupValue(1).toLong()\n        val plusMinus = getGroupValue(2)\n        val hoursOffset = if (plusMinus == \"-\") getGroupValue(3).toInt().unaryMinus() else getGroupValue(3).toInt()\n        val minutesOffset = getGroupValue(4).toInt()\n        return DateTime(timestamp,\n                DateTimeZone.forOffsetHoursMinutes(hoursOffset, minutesOffset))\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1565255538, "post_id": 57398973, "comment_id": 101298533, "body": "Show us a screenshot of your console."}, {"owner": {"reputation": 11, "user_id": 11897259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3QRTROVlu60/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reG5-_hDndl5B0BEdRAWaIrCbL4-Q/photo.jpg?sz=128", "display_name": "Bhavana Yaduvanshi", "link": "https://stackoverflow.com/users/11897259/bhavana-yaduvanshi"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1565278005, "post_id": 57398973, "comment_id": 101311919, "body": "Hi @AlexMamo , I have added the screenshot of console in the original question body."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11897259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3QRTROVlu60/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reG5-_hDndl5B0BEdRAWaIrCbL4-Q/photo.jpg?sz=128", "display_name": "Bhavana Yaduvanshi", "link": "https://stackoverflow.com/users/11897259/bhavana-yaduvanshi"}, "edited": false, "score": 0, "creation_date": 1565231905, "post_id": 57402545, "comment_id": 101290336, "body": "Thank you for your answer.  I tried to get the document path:  val docRef = db.collection(&quot;obituaries&quot;).document(doc_id);  var path = docRef.path; Log.i(&quot;ObituaryDetailFragment&quot;,&quot;Path reference is $path&quot;);       The result is: I/ObituaryDetailFragment: Path reference is obituaries/LEEGemjH9kmMRoQ0LGvc      When I copy and paste this path in firebase console... still it shows an empty document.  Also, there is no reference to the User in this path.  Can you please show another way to get the correct path?"}, {"owner": {"reputation": 11, "user_id": 11897259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3QRTROVlu60/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reG5-_hDndl5B0BEdRAWaIrCbL4-Q/photo.jpg?sz=128", "display_name": "Bhavana Yaduvanshi", "link": "https://stackoverflow.com/users/11897259/bhavana-yaduvanshi"}, "edited": false, "score": 0, "creation_date": 1565338788, "post_id": 57402545, "comment_id": 101330378, "body": "can you please give an example of how to override the file path in firestore using the unique id"}], "tags": [], "owner": {"reputation": 190, "user_id": 11601720, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wb_OsFhvaFg/AAAAAAAAAAI/AAAAAAAAABk/4xb09dPhuJ4/photo.jpg?sz=128", "display_name": "Hasnain Sabir", "link": "https://stackoverflow.com/users/11601720/hasnain-sabir"}, "is_accepted": false, "score": -1, "last_activity_date": 1565213503, "creation_date": 1565213503, "answer_id": 57402545, "question_id": 57398973, "link": "https://stackoverflow.com/questions/57398973/documents-not-shown-in-firestore-console/57402545#57402545", "title": "Documents not shown in Firestore console", "body": "<p>sir check your code you can override the file path in firestore use unique id or nuber to store all users directory</p>\n"}], "owner": {"reputation": 11, "user_id": 11897259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3QRTROVlu60/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reG5-_hDndl5B0BEdRAWaIrCbL4-Q/photo.jpg?sz=128", "display_name": "Bhavana Yaduvanshi", "link": "https://stackoverflow.com/users/11897259/bhavana-yaduvanshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 913, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1565278253, "creation_date": 1565196226, "last_edit_date": 1565278253, "question_id": 57398973, "link": "https://stackoverflow.com/questions/57398973/documents-not-shown-in-firestore-console", "title": "Documents not shown in Firestore console", "body": "<p>I have linked a Firebase project to my Android application. In the application, I have created an instance of Firestore which I use to add document from a data class (id to the document is allotted by Firestore itself) to the collection whose name is specified by me. It does gets stored somewhere in Firestore because I am also able to retrieve the documents I added, using get() method from the database through the application.</p>\n\n<p>The problem is when I open the Firestore database console, it shows nothing, no collection and no documents as can be seen in the image below. The \"obituaries\" collection you can see in the screenshot, was created manually by me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RrmEH.png\" rel=\"nofollow noreferrer\">Screenshot of Firebase Console</a></p>\n\n<p>I have done everything as per the Firebase documentation, from setting up an instance of Firestore to adding and retrieving documents to and fro database, but of no avail.</p>\n\n<p>I found a glimpse of the solution today but do not exactly know how can I use this knowledge to see my documents in the Firestore console. I use Firebase Authentication also in the application. Earlier, I was using only one user account to add and get documents. But today, I uploaded some documents using another user account. When I try to get those documents, only the documents uploaded by this user were retrieved. The documents added by the earlier user were not retrieved. Same thing happened, when I logged back in using previous user account, here also on retrieving the documents added by the new user were not retrieved. </p>\n\n<p>That means, the collection is being created under the respective users by Firestore. </p>\n\n<p>The code to add new document to the \"obituaries\" collection is given below:    </p>\n\n<pre><code>private fun postObituary(obituary: ObituaryClass) = runBlocking{\n    val db = FirebaseFirestore.getInstance()\n    try {launch{\n            db.collection(\"obituaries\").add(obituary)\n        }\n    }\n    catch (e: Exception){\n        Log.i(\"PostObituaryFragment\", \"Error adding document\", e)\n    }\n}\n</code></pre>\n\n<p>I have two questions:\n1. How do I see this collection in Firebase console?\n2. How do I retrieve the documents uploaded by other users (not the user who is currently logged in) in my app?</p>\n"}, {"tags": ["android", "kotlin", "connection"], "comments": [{"owner": {"reputation": 587, "user_id": 8607640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rI8zw.jpg?s=128&g=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/8607640/psycho"}, "edited": false, "score": 0, "creation_date": 1565196775, "post_id": 57398706, "comment_id": 101279712, "body": "have you tried removing applicationContext? and just calling getSystemService ?"}, {"owner": {"reputation": 339, "user_id": 10268205, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xbm1toPXxH4/AAAAAAAAAAI/AAAAAAAAAF8/WWFKJSxpN0M/photo.jpg?sz=128", "display_name": "Yudistiro Septian Dwi Saputro", "link": "https://stackoverflow.com/users/10268205/yudistiro-septian-dwi-saputro"}, "reply_to_user": {"reputation": 587, "user_id": 8607640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rI8zw.jpg?s=128&g=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/8607640/psycho"}, "edited": false, "score": 0, "creation_date": 1565235587, "post_id": 57398706, "comment_id": 101290970, "body": "I already did that, but i get some error"}, {"owner": {"reputation": 587, "user_id": 8607640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rI8zw.jpg?s=128&g=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/8607640/psycho"}, "edited": false, "score": 0, "creation_date": 1565247675, "post_id": 57398706, "comment_id": 101294583, "body": "add that error to your question please"}], "owner": {"reputation": 339, "user_id": 10268205, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xbm1toPXxH4/AAAAAAAAAAI/AAAAAAAAAF8/WWFKJSxpN0M/photo.jpg?sz=128", "display_name": "Yudistiro Septian Dwi Saputro", "link": "https://stackoverflow.com/users/10268205/yudistiro-septian-dwi-saputro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565195105, "creation_date": 1565195105, "question_id": 57398706, "link": "https://stackoverflow.com/questions/57398706/activenetworkinfo-must-not-be-null", "title": "activeNetworkInfo must not be null", "body": "<p>I Make function to check internet connection in Base Activity so i can call this function in all my activity with simple code, but when i call this function, i get error \"cm.activeNetworkInfo must not be null\"</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n\n    lateinit var snackbar:Snackbar\n\n    // call this method to show Snackbar in Activity\n    fun showMessage(message: String?) {\n        message?.let {\n            snackbar = Snackbar.make(\n                findViewById&lt;View&gt;(android.R.id.content),\n                message, Snackbar.LENGTH_SHORT\n            )\n            snackbar.show()\n        }\n    }\n\n    fun checkConnection() : Boolean {\n        val cm =  applicationContext.getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\n        val activeNetwork: NetworkInfo = cm.activeNetworkInfo\n       return activeNetwork.isConnected\n\n    }\n\n    override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\n        return when (keyCode) {\n            KeyEvent.KEYCODE_HOME -&gt; { true }\n            KeyEvent.KEYCODE_APP_SWITCH -&gt; { true }\n            else -&gt; { super.onKeyDown(keyCode, event) }\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>this is an error I got\n<a href=\"https://i.stack.imgur.com/O0KTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O0KTE.png\" alt=\"error cm connection\"></a></p>\n"}, {"tags": ["android", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565195482, "post_id": 57398681, "comment_id": 101279094, "body": "Please edit your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including the actual code and the complete stack trace."}, {"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "edited": false, "score": 0, "creation_date": 1565206811, "post_id": 57398681, "comment_id": 101284157, "body": "try moving the default values into your constructor"}], "answers": [{"comments": [{"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1565207714, "post_id": 57401410, "comment_id": 101284522, "body": "then I will not be able to use this class as an entity in Room, it requires an empty constructor and Boolean will not default to false in the constructor unless you assign the default value to it, Room will complain with the compile error as described here <a href=\"https://stackoverflow.com/questions/44485631/room-persistence-errorentities-and-pojos-must-have-a-usable-public-constructor\" title=\"room persistence errorentities and pojos must have a usable public constructor\">stackoverflow.com/questions/44485631/&hellip;</a>"}, {"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1565207796, "post_id": 57401410, "comment_id": 101284556, "body": "for the nullable Strings I just added the defaults and didn&#39;t refactor yet"}, {"owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "reply_to_user": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1565290493, "post_id": 57401410, "comment_id": 101317561, "body": "@Rainmaker Just add an empty constructor. I updated the example"}], "tags": [], "owner": {"reputation": 4851, "user_id": 1404407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QW982.png?s=128&g=1", "display_name": "Cory Roy", "link": "https://stackoverflow.com/users/1404407/cory-roy"}, "is_accepted": false, "score": 0, "last_activity_date": 1565290458, "last_edit_date": 1565290458, "creation_date": 1565207285, "answer_id": 57401410, "question_id": 57398681, "link": "https://stackoverflow.com/questions/57398681/android-parcelable-dont-support-default-values-app-crash/57401410#57401410", "title": "Android Parcelable don&#39;t support default values App Crash", "body": "<p>Move your defaults to the constructor, they are mostly useless anyway. Boolean defaults to false and doubles to zero. Only the strings need something.  </p>\n\n<p>Also, why make the strings nullable if you assign a default value anyway.</p>\n\n<pre><code>@Entity\ndata class ProductData(\n//primary key here\n@ ColumnInfo val alcoholRestriction: Boolean,\n@Ignore val averageWeight: Double,\n@Ignore val hotFoodRestriction: Boolean,\n@Ignore val maxOrderValue: Double,\n@Ignore val minOrderValue: Double,\n@Ignore val orderIncrement: Double,\n@ColumnInfo var productId: String,\n@Ignore val stdUomCd: String?,\n@Ignore val uomQty: String?\n) : Parcelable {\nconstructor(parcel: Parcel) : this(\n    parcel.readByte() != 0.toByte() ?: false,\n    parcel.readDouble() ?: 0.0,\n    parcel.readByte() != 0.toByte() ?: false,\n    parcel.readDouble() ?: 0.0,\n    parcel.readDouble() ?: 0.0,\n    parcel.readDouble() ?: 0.0,\n    parcel.readString() ?: \"\", \n    parcel.readString() ?: \"\",\n    parcel.readString() ?: \"\"\n)\n\nconstructor() : this(\n   false, \n   0.0,\n   false,\n   0.0,\n   0.0,\n   0.0,\n   \"\",\n   \"\",\n   \"\")\n\noverride fun writeToParcel(parcel: Parcel, flags: Int) {\n    parcel.writeByte(if (alcoholRestriction) 1 else 0)\n    parcel.writeDouble(averageWeight)\n    parcel.writeByte(if (hotFoodRestriction) 1 else 0)\n    parcel.writeDouble(maxOrderValue)\n    parcel.writeDouble(minOrderValue)\n    parcel.writeDouble(orderIncrement)\n    parcel.writeString(productId)\n    parcel.writeString(stdUomCd)\n    parcel.writeString(uomQty)\n}\n</code></pre>\n"}], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 927, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565290458, "creation_date": 1565195016, "last_edit_date": 1565207811, "question_id": 57398681, "link": "https://stackoverflow.com/questions/57398681/android-parcelable-dont-support-default-values-app-crash", "title": "Android Parcelable don&#39;t support default values App Crash", "body": "<p>I have used autogeneration for <code>Parcelable</code> implementation in a Kotlin <code>data</code> class. The same class is used as an <code>Entity</code> in <code>Room</code> so I have default values for every constructor params to provide an empty constructor to <code>Room</code>. When I try to pass this item as <code>Parcelable</code> the app crashes with <code>UnsupportedOperationException</code> and this message</p>\n\n<blockquote>\n  <p>Parcelables don't support default values</p>\n</blockquote>\n\n<p>The work around for now I have , I just serialize the object with <code>Gson</code> and pass it as <code>String</code> but I would like to know if there is proper way to handle default values in Kotlin and <code>Parcelable</code>. </p>\n\n<p>Here is the class </p>\n\n<pre><code>@Entity\ndata class ProductData(\n    //primary key here\n    @ ColumnInfo val alcoholRestriction: Boolean = false,\n    @Ignore val averageWeight: Double = 0.0,\n    @Ignore val hotFoodRestriction: Boolean = false,\n    @Ignore val maxOrderValue: Double = 0.0,\n    @Ignore val minOrderValue: Double = 0.0,\n    @Ignore val orderIncrement: Double = 0.0,\n    @ColumnInfo var productId: String = \"\",\n    @Ignore val stdUomCd: String = \"\",\n    @Ignore val uomQty: String = \"\"\n) : Parcelable {\n    constructor(parcel: Parcel) : this(\n        parcel.readByte() != 0.toByte(),\n        parcel.readDouble(),\n        parcel.readByte() != 0.toByte(),\n        parcel.readDouble(),\n        parcel.readDouble(),\n        parcel.readDouble(),\n        parcel.readString(),\n        parcel.readString(),\n        parcel.readString()\n    )\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeByte(if (alcoholRestriction) 1 else 0)\n        parcel.writeDouble(averageWeight)\n        parcel.writeByte(if (hotFoodRestriction) 1 else 0)\n        parcel.writeDouble(maxOrderValue)\n        parcel.writeDouble(minOrderValue)\n        parcel.writeDouble(orderIncrement)\n        parcel.writeString(productId)\n        parcel.writeString(stdUomCd)\n        parcel.writeString(uomQty)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;ProductData&gt; {\n        override fun createFromParcel(parcel: Parcel): ProductData {\n            return ProductData(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;ProductData?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n\n\n}\n</code></pre>\n\n<p>Trying to pass is in a bundle and the crash happens on this line.</p>\n\n<pre><code>findNavController().navigate(\n            Uri.parse(\"android-app://androidx.navigation/productDetails/$item\"))\n</code></pre>\n\n<p>it is set in the nav graph as custom Parcelable variable</p>\n"}, {"tags": ["java", "kotlin", "line-api"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1565197607, "creation_date": 1565197607, "answer_id": 57399282, "question_id": 57398575, "link": "https://stackoverflow.com/questions/57398575/consumer-cant-find-in-kotlin/57399282#57399282", "title": "Consumer can&#39;t find in Kotlin", "body": "<p>If you change the declaration of <code>handleHeavyContent</code> to this, it will work I guess:</p>\n\n<pre><code>private fun handleHeavyContent(\n    replyToken: String, messageId: String,\n    messageConsumer: (MessageContentResponse) -&gt; Unit\n)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10985020, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C0Hh3F1oa0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMZ9-wAWZvBPSeVRWyuyQC7QRA6Qw/mo/photo.jpg?sz=128", "display_name": "HE XUAN-WEI", "link": "https://stackoverflow.com/users/10985020/he-xuan-wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565369771, "creation_date": 1565194590, "last_edit_date": 1565369771, "question_id": 57398575, "link": "https://stackoverflow.com/questions/57398575/consumer-cant-find-in-kotlin", "title": "Consumer can&#39;t find in Kotlin", "body": "<p>I want to convert <a href=\"https://github.com/line/line-bot-sdk-java/blob/master/sample-spring-boot-kitchensink/src/main/java/com/example/bot/spring/KitchenSinkController.java\" rel=\"nofollow noreferrer\">this Java example</a> to kotlin.</p>\n\n<p>But...</p>\n\n<blockquote>\n  <p>{responseBody -> .....} Type mismatch.</p>\n</blockquote>\n\n<pre><code>fun handleAudioMessageEvent(event: MessageEvent&lt;AudioMessageContent&gt;) {\n    handleHeavyContent(\n        event.replyToken,\n        event.message.id\n    ) { responseBody -&gt;\n        val provider = event.message.contentProvider\n        val mp4: DownloadedContent\n        if (provider.isExternal) {\n            mp4 = DownloadedContent(null, provider.originalContentUrl)\n        } else {\n            mp4 = saveContent(\"mp4\", responseBody)\n        }\n        reply(event.replyToken, AudioMessage(mp4.uri, 100))\n    }\n}\n.\n.\n.\nprivate fun handleHeavyContent(\n    replyToken: String, messageId: String,\n    messageConsumer: Consumer&lt;MessageContentResponse&gt;\n) {\n    val response: MessageContentResponse\n    try {\n        response = lineMessagingClient?.getMessageContent(messageId)\n            ?.get()!!\n    } catch (e: InterruptedException) {\n        reply(replyToken, TextMessage(\"Cannot get image: \" + e.message))\n        throw RuntimeException(e)\n    } catch (e: ExecutionException) {\n        reply(replyToken, TextMessage(\"Cannot get image: \" + e.message))\n        throw RuntimeException(e)\n    }\n\n    messageConsumer.accept(response)\n}\n</code></pre>\n\n<blockquote>\n  <p>Type mismatch.</p>\n  \n  <p>Required:\n  Consumer</p>\n  \n  <p>Found:\n  (???) -> Unit</p>\n</blockquote>\n"}, {"tags": ["android", "maven", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 66, "user_id": 8896681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e999e4029c3c1e4397a171d7682e8d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Matti Schnurbusch", "link": "https://stackoverflow.com/users/8896681/matti-schnurbusch"}, "edited": false, "score": 0, "creation_date": 1572959425, "post_id": 57398031, "comment_id": 103717540, "body": "With the latest update of Android Studio this problem was fixed within the IDE."}], "owner": {"reputation": 66, "user_id": 8896681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e999e4029c3c1e4397a171d7682e8d7f?s=128&d=identicon&r=PG&f=1", "display_name": "Matti Schnurbusch", "link": "https://stackoverflow.com/users/8896681/matti-schnurbusch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565192528, "creation_date": 1565192528, "question_id": 57398031, "link": "https://stackoverflow.com/questions/57398031/kotlin-multiplatform-library-aar-wont-show-sources-when-added-as-dependency-in-a", "title": "Kotlin multiplatform library aar wont show sources when added as Dependency in Android Studio", "body": "<p>I'm trying to publish a Kotlin Multiplatform library including sources using the maven-publish plugin. This is generally working but when I want to have a look at the code of the dependency inside my Android Studio project I can't see the sources but instead will see decompiled Kotlin code.</p>\n\n<p>I tried several approaches of adding a sources.jar to the generated aar file already. Right now I'm following this approach: <a href=\"https://stackoverflow.com/a/28704799\">https://stackoverflow.com/a/28704799</a>.\nBut I still can't see the sources(gradle clean cache and restart included).</p>\n\n<p>Library build.gradle:</p>\n\n<pre><code>apply plugin: 'maven-publish'\n\ntask sourceJar(type: Jar) {\n    from android.sourceSets.main.java.srcDirs\n    classifier \"sources\"\n}\n\npublishing {\n    publications {\n        bar(MavenPublication) {\n            groupId 'com.foo'\n            artifactId 'bar'\n            version '0.1'\n            artifact(sourceJar)\n            artifact(\"$buildDir/outputs/aar/bar-release.aar\")\n        }\n    }\n    repositories {\n        maven {\n            url \"$buildDir/repo\"\n        }\n    }\n}\n</code></pre>\n\n<p>I also tried using different sourceSets like specifying one by name since the content of android.sourceSets.main.java.srcDirs is leading to a path where no sources are inside.</p>\n\n<p>The library is included in the app project like this:</p>\n\n<pre><code>dependencies {\n  implementation 'com.foo:bar:0.1'\n}\n</code></pre>\n\n<p>Looking at the local maven repository I can even see the bar-release-sources.jar but it seems like it's not part of the aar?</p>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565193076, "post_id": 57398012, "comment_id": 101277889, "body": "But did you apply <code>apply plugin: &#39;kotlin-kapt&#39;</code>?"}, {"owner": {"reputation": 302, "user_id": 2536851, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/66e89a241fdabad37a54185e76660ed3?s=128&d=identicon&r=PG", "display_name": "user2536851", "link": "https://stackoverflow.com/users/2536851/user2536851"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565193255, "post_id": 57398012, "comment_id": 101277982, "body": "yes, it is added to the <code>build.gradle</code> file of the module. The project is multi module. So its in all the required modules"}, {"owner": {"reputation": 302, "user_id": 2536851, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/66e89a241fdabad37a54185e76660ed3?s=128&d=identicon&r=PG", "display_name": "user2536851", "link": "https://stackoverflow.com/users/2536851/user2536851"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565256429, "post_id": 57398012, "comment_id": 101299044, "body": "Would there be a problem as ViewModelFactory &amp; ViewModelKey are written in Java? This is since I have previous dagger code in Java"}], "owner": {"reputation": 302, "user_id": 2536851, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/66e89a241fdabad37a54185e76660ed3?s=128&d=identicon&r=PG", "display_name": "user2536851", "link": "https://stackoverflow.com/users/2536851/user2536851"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565193100, "creation_date": 1565192465, "last_edit_date": 1565193100, "question_id": 57398012, "link": "https://stackoverflow.com/questions/57398012/what-is-the-correct-way-to-use-inject-dependencies-dagger-in-a-project-with-both", "title": "What is the correct way to use Inject dependencies Dagger in a project with both Java &amp; Kotlin?", "body": "<p>I am using Dagger for dependency injection. The project includes both Java &amp; Kotlin. Dependency injection in Java works fine, now I am creating code in Kotlin and receive errors are cropping up. I am using <code>kapt</code> for the <code>annotationProcessor</code></p>\n\n<p>I am injecting the dependency in the Fragment. I am trying to inject the ViewModelFactory(It works when I don't use dependency injection in Kotlin).</p>\n\n<p><code>@Inject\n    lateinit var factoryViewModel: ViewModelFactory</code></p>\n\n<p>The above code results in error</p>\n\n<p><code>error: cannot access NotNull class file for org.jetbrains.annotations.NotNull not found Consult the following stack trace for details.</code></p>\n\n<p>If I try:</p>\n\n<p><code>@Inject\n     var factoryViewModel: ViewModelFactory?=null</code></p>\n\n<p>I get the error</p>\n\n<pre><code>error: Dagger does not support injection into private fields\nprivate com.package.id.ViewModelFactory factoryViewModel;\n</code></pre>\n\n<p>The ViewModelFactory is bound in ViewModelModule</p>\n\n<pre><code>@Module\npublic abstract class ViewModelModule {\n@Binds\npublic abstract ViewModelProvider.Factory \nbindViewModelFactory(ViewModelFactory factory);\n...\n}\n</code></pre>\n\n<p>The app component which is instantiated in the Application class is </p>\n\n<pre><code>@Singleton\n@Component(modules = {\n    AppModule.class,\n    AndroidSupportInjectionModule.class,\n    ActivityBuilder.class,\n    ViewModelModule.class\n})\n\npublic interface AppComponent {\n\n@Component.Builder\ninterface Builder {\n    @BindsInstance Builder application(MyApplication application);\n    Builder appModule(AppModule appModule);\n    AppComponent build();\n}\n\nvoid inject(MyApplication application);\n\n}      \n\n                                                   `\n</code></pre>\n\n<p>The Activity &amp; Fragment classes are defined below.</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v7.widget.Toolbar\nimport dagger.android.AndroidInjection\nimport dagger.android.DispatchingAndroidInjector\nimport dagger.android.support.HasSupportFragmentInjector\nimport javax.inject.Inject\n\nclass ConnectedActivity : AppCompatActivity(),HasSupportFragmentInjector {\n\n@Inject\nlateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\noverride fun supportFragmentInjector(): DispatchingAndroidInjector&lt;Fragment&gt; {\n    return dispatchingAndroidInjector\n}\n\n\nprivate fun configureDagger() {\n    AndroidInjection.inject(this)\n}\noverride fun onCreate(savedInstanceState: Bundle?) {\n    configureDagger()\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.layout)\n    if (savedInstanceState == null) {\n        supportFragmentManager.beginTransaction()\n                .replace(R.id.fragment, ConnectedFragment.newInstance())\n                .commitNow()\n    }\n}\n\n}\n\nclass ConnectedFragment : Fragment() {\n\n\ncompanion object {\n    fun newInstance() = ConnectedFragment()\n}\n@Inject\nvar factoryViewModel: ViewModelFactory?=null\nlateinit var connectedViewModel: ConnectedViewModel\n\nprivate fun configureDagger() {\n    AndroidSupportInjection.inject(this)\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    this.configureDagger()\n    super.onCreate(savedInstanceState)\n\n}\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View {\n    var rootView:View = inflater.inflate(R.layout.connected_fragment, container, false)\n    connectedViewModel = ViewModelProviders.of(this,factoryViewModel).get(ConnectedViewModel::class.java)\n\n    return rootView\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n}\n\n\n}\n</code></pre>\n\n<p>Any advice on how to inject it correctly.</p>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1565194951, "post_id": 57397738, "comment_id": 101278800, "body": "Assuming the substring isn&#39;t fixed, you can first use the regex to find each match, and then use <code>indexOf()</code> to find the index of each match. You can pass a <code>startIndex</code> argument to <code>indexOf()</code> to make sure that you are starting your search deeper and deeper into the string."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 1, "creation_date": 1565197171, "post_id": 57397738, "comment_id": 101279888, "body": "@BenP. There is a much simpler solution."}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1565197008, "creation_date": 1565197008, "answer_id": 57399141, "question_id": 57397738, "link": "https://stackoverflow.com/questions/57397738/find-position-of-every-ocurrence-of-a-pattern-in-kotlin/57399141#57399141", "title": "Find position of every ocurrence of a pattern in Kotlin", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find-all.html\" rel=\"nofollow noreferrer\"><code>Regex.findAll</code> returns a <code>Sequence&lt;MatchResult&gt;</code></a>, and <code>MatchResult</code> has <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-match-result/range.html\" rel=\"nofollow noreferrer\"><code>range</code></a>, so </p>\n\n<pre><code>Regex(yourPattern).findAll(someString).map { it.range.start }\n</code></pre>\n\n<p>will return the sequence of starting indices.</p>\n"}], "owner": {"reputation": 33, "user_id": 6558151, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154897341004881/picture?type=large", "display_name": "Frede Veloz", "link": "https://stackoverflow.com/users/6558151/frede-veloz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 57399141, "answer_count": 1, "score": -2, "last_activity_date": 1565197008, "creation_date": 1565191474, "question_id": 57397738, "link": "https://stackoverflow.com/questions/57397738/find-position-of-every-ocurrence-of-a-pattern-in-kotlin", "title": "Find position of every ocurrence of a pattern in Kotlin", "body": "<p>I have this large chunk of text in Kotlin. I created a regex pattern to find some substrings within it. Using the findAll function I found every instance that matched the regex pattern. However, I want the exact integer position of every matched instance within the original text. Is there a way to get that directly?</p>\n"}, {"tags": ["kotlin", "android-room"], "comments": [{"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565202673, "post_id": 57397457, "comment_id": 101282281, "body": "Did you updated your database version? can you please edit the post with the log errors?"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565207075, "post_id": 57397457, "comment_id": 101284260, "body": "@Shermano I&#39;ve just updated the post with the database and log errors."}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565281855, "post_id": 57397457, "comment_id": 101313914, "body": "can you just change version to 2 on Database class and check if works? The logs that you posted doesn&#39;t seem to be related with the actual error"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565282384, "post_id": 57397457, "comment_id": 101314148, "body": "@Shermano thanks I tried that but it still isn&#39;t working properly. I don&#39;t have any errors now but I can&#39;t get the second column to display. I think I am missing some code for the second column to work. I have edited the post to give more details."}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565283319, "post_id": 57397457, "comment_id": 101314553, "body": "Your code seems to be all right, you inserted new values and the new column is not returning  on getAlphabetizedPb() ?"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565283460, "post_id": 57397457, "comment_id": 101314611, "body": "@Shermano No unfortunately it&#39;s only showing the one column"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565283567, "post_id": 57397457, "comment_id": 101314669, "body": "thats odd you&#39;re debuggin or you&#39;re showing on screen? if you&#39;re showing pls post this code as well"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565283767, "post_id": 57397457, "comment_id": 101314745, "body": "Sorry I&#39;m not sure what you mean."}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565283814, "post_id": 57397457, "comment_id": 101314771, "body": "How you&#39;re checking that the other column is not showing?"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565284017, "post_id": 57397457, "comment_id": 101314866, "body": "@Shermano on the emulator and it works fine without any errors but it just isn&#39;t showing the second column."}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565284127, "post_id": 57397457, "comment_id": 101314910, "body": "can you edit with the code that is showing the values of getAlphabetizedPbs() ?"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565284652, "post_id": 57397457, "comment_id": 101315133, "body": "I have tried to edit pbDao but it didn&#39;t work. Do I need to update the dao for the second column?"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565291613, "post_id": 57397457, "comment_id": 101318009, "body": "No you don&#39;t, i would like to see where on the code these values are showing in the screen"}, {"owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "reply_to_user": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565292328, "post_id": 57397457, "comment_id": 101318285, "body": "@Shermano I have added the db to the post which shows the values on the screen (except the values for the second column)."}], "owner": {"reputation": 1087, "user_id": 10677384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20cd17ae012ab8e45dfdd92db0c537cf?s=128&d=identicon&r=PG&f=1", "display_name": "SK7", "link": "https://stackoverflow.com/users/10677384/sk7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1565292199, "creation_date": 1565190515, "last_edit_date": 1565292199, "question_id": 57397457, "link": "https://stackoverflow.com/questions/57397457/room-adding-an-extra-column", "title": "Room: Adding an extra column", "body": "<p>I am creating an application using Room/Kotlin and would like to add an additional column but I am unable to get the second column to show. The application works on the emulator but will not show the data correctly i.e. pb and then the value for the that pb. It will only show the first column.</p>\n\n<p>Dao</p>\n\n<pre><code>@Dao\ninterface PbDao {\n\n\n    @Query(\"SELECT * from pb_table ORDER BY pb ASC\")\n    fun getAlphabetizedPbs(): LiveData&lt;List&lt;Pb&gt;&gt;\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    suspend fun insert(pb: Pb)\n\n    @Query(\"DELETE FROM pb_table\")\n    suspend fun deleteAll()\n}\n</code></pre>\n\n<p>Pb</p>\n\n<pre><code>@Entity(tableName = \"pb_table\")\n\ndata class Pb(\n    @PrimaryKey//(autoGenerate = true) var uid:Int = 0,\n    @ColumnInfo(name = \"pb\") val pb: String = \"\",\n    @ColumnInfo(name = \"pb_value\") val pb_value: Double = 0.0)\n\n</code></pre>\n\n<p>db</p>\n\n<pre><code>@Database(entities = [Pb::class], version = 1, exportSchema = false)\nabstract class PersonalBestDatabase : RoomDatabase() {\n\n    abstract fun pbDao(): PbDao\n\n    companion object {\n        @Volatile\n        private var INSTANCE: PersonalBestDatabase? = null\n\n        fun getDatabase(\n            context: Context,\n            scope: CoroutineScope\n        ): PersonalBestDatabase {\n            // if the INSTANCE is not null, then return it,\n            // if it is, then create the database\n            return INSTANCE ?: synchronized(this) {\n                val instance = Room.databaseBuilder(\n                    context.applicationContext,\n                    PersonalBestDatabase::class.java,\n                    \"pb_database\"\n                )\n                    .fallbackToDestructiveMigration()\n                    .addCallback(PbDatabaseCallback(scope))\n                    .build()\n                INSTANCE = instance\n                instance\n            }\n        }\n\n        private class PbDatabaseCallback(\n            private val scope: CoroutineScope\n        ) : RoomDatabase.Callback() {\n            override fun onOpen(db: SupportSQLiteDatabase) {\n                super.onOpen(db)\n\n                INSTANCE?.let { database -&gt;\n                    scope.launch {\n                        populateDatabase(database.pbDao())\n                    }\n                }\n            }\n        }\n        suspend fun populateDatabase(pbDao: PbDao) {\n            pbDao.deleteAll()\n\n            var pb = Pb(\"Squat\", 120.0)\n            pbDao.insert(pb)\n\n            pb = Pb(\"Bench Press\", 65.0)\n            pbDao.insert(pb)\n\n            pb = Pb(\"Deadlift\", 142.5)\n            pbDao.insert(pb)\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1565190451, "creation_date": 1565190451, "answer_id": 57397441, "question_id": 57397323, "link": "https://stackoverflow.com/questions/57397323/cant-call-function-with-vararg-param-and-not-vararg-params-from-java/57397441#57397441", "title": "Can&#39;t call function with vararg param and not vararg params from java", "body": "<p>It seems that Kotlin uses Arrays to represent varargs. </p>\n\n<pre><code> TransportService.INSTANCE.getOperationsList(\n   new OperationType[]{ OperationType.PAYMENT, OperationType.PAYOUT }, \n   operationStatusList\n );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1565190981, "creation_date": 1565190981, "answer_id": 57397589, "question_id": 57397323, "link": "https://stackoverflow.com/questions/57397323/cant-call-function-with-vararg-param-and-not-vararg-params-from-java/57397589#57397589", "title": "Can&#39;t call function with vararg param and not vararg params from java", "body": "<p>I think in <code>Kotlin</code> <code>vararg</code> parameter should be the last one, in order to achieve wanted semantics :</p>\n\n<pre><code>fun getOperationsList(operationStatusList: List&lt;OperationStatus&gt;,\n                      vararg typesList: OperationType) {\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 57397441, "answer_count": 2, "score": 0, "last_activity_date": 1565190981, "creation_date": 1565190134, "question_id": 57397323, "link": "https://stackoverflow.com/questions/57397323/cant-call-function-with-vararg-param-and-not-vararg-params-from-java", "title": "Can&#39;t call function with vararg param and not vararg params from java", "body": "<p>in my android project I use java and kotlin  code:</p>\n\n<p>In Kotlin code:</p>\n\n<pre><code>fun getOperationsList(vararg typesList: OperationType, operationStatusList: List&lt;OperationStatus&gt;) {\n...\n}\n</code></pre>\n\n<p>Here java code:</p>\n\n<pre><code>List&lt;OperationStatus&gt; operationStatusList = new ArrayList&lt;&gt;();\n        operationStatusList.add(OperationStatus.EXECUTED);\n    TransportService.INSTANCE.getOperationsList(OperationType.PAYMENT, OperationType.PAYOUT, operationStatusList);\n</code></pre>\n\n<p>But I get compile error in java code:</p>\n\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac\nGradle may disable incremental compilation as the following annotation processors are not incremental: jetified-androidannotations-4.6.0.jar (org.androidannotations:androidannotations:4.6.0).\nConsider setting the experimental feature flag android.enableSeparateAnnotationProcessing=true in the gradle.properties file to run annotation processing in a separate task and make compilation incremental.\nwarning: A class activity declared in the AndroidManifest.xml cannot be found in the compile path: [com.soundcloud.android.crop.CropImageActivity]\nfragment\\navigation\\ReportsFragment.java:122: error: method getOperationsList in class TransportService cannot be applied to given types;\n        TransportService.INSTANCE.getOperationsList(OperationType.PAYMENT, OperationType.PAYOUT, operationStatusList);\n                                 ^\n  required: OperationType[],List&lt;? extends OperationStatus&gt;\n  found: OperationType,OperationType,List&lt;OperationStatus&gt;\n  reason: actual and formal argument lists differ in length\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n1 error\n1 warning\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\n\nFAILURE: Build failed with an exception.\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-scrollview"], "comments": [{"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1565202082, "post_id": 57397097, "comment_id": 101282037, "body": "please edit your questions and provide flow with names of the views you use. Now it is not clear which view where suppose to be"}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1565225278, "post_id": 57397097, "comment_id": 101289182, "body": "@BorisRuzanov I added the Main Activity structure and fragment to the question"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565207309, "creation_date": 1565189340, "last_edit_date": 1565207309, "question_id": 57397097, "link": "https://stackoverflow.com/questions/57397097/when-i-replace-a-fragment-the-scroll-is-not-to-the-top", "title": "When I replace a fragment the scroll is not to the top", "body": "<p>I have an frame in an activity which received fragments based on button clicks at the bottom menu of the activity. </p>\n\n<p>The Fragment I I have in question is structured like below. If I click off of the fragment when i'm at the scrolltop to another and then back to this one it stays at the top but if I scroll 1/2 way down the fragment and then leave and come back it is like 10% scrolled from the top. an odd behavior i'm not sure how to rectify.</p>\n\n<blockquote>\n  <p>Main Activity ->>viewpager1(frameLayout)->fragment1->frag1_constraint(ScrollView)</p>\n</blockquote>\n\n<p><strong>Fragment 1 Layout</strong>\n<a href=\"https://i.stack.imgur.com/LiymF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LiymF.png\" alt=\"Fragment 1 Layout\"></a></p>\n\n<p><strong>Main Activity Layout</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WtRv7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WtRv7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "retrofit", "unicode-string"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "edited": false, "score": 0, "creation_date": 1565253102, "post_id": 57398676, "comment_id": 101297211, "body": "I understand, but can i replace such symbols by gson or retrofit. I don&#39;t want to change text setters for each TextView"}], "tags": [], "owner": {"reputation": 54, "user_id": 3529206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f379015de1a4484171d5b0904b5dc26?s=128&d=identicon&r=PG&f=1", "display_name": "bcsepany", "link": "https://stackoverflow.com/users/3529206/bcsepany"}, "is_accepted": true, "score": 0, "last_activity_date": 1565195006, "creation_date": 1565195006, "answer_id": 57398676, "question_id": 57396852, "link": "https://stackoverflow.com/questions/57396852/retrofit-auto-parse-html-unicode/57398676#57398676", "title": "Retrofit auto parse html unicode", "body": "<p>The cause of this issue is already in your title: <code>&amp;#39;</code> is a HTML code and not Unicode. </p>\n\n<p>So the JSON parsing is correct and you need additional processing to handle HTML content. For example if you want to show it in a TextView you can use the following:</p>\n\n<pre><code>// extension function to handle different api levels \nfun TextView.setHtml(htmlContent: String) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= 24) {\n        this.text = Html.fromHtml(htmlContent, Html.FROM_HTML_MODE_COMPACT)\n    } else {\n        @Suppress(\"DEPRECATION\")\n        this.text = Html.fromHtml(htmlContent)\n    }\n}\n\n// set view content from JSON \ntext_view.setHtml(\"test: &amp;#39;\")\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 11896645, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SitVQ27VJkU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ren-ZmtUSvnbfu7BTfjTd5PURK6bg/photo.jpg?sz=128", "display_name": "Mindgamer", "link": "https://stackoverflow.com/users/11896645/mindgamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 57398676, "answer_count": 1, "score": 0, "last_activity_date": 1565612603, "creation_date": 1565188514, "last_edit_date": 1565612603, "question_id": 57396852, "link": "https://stackoverflow.com/questions/57396852/retrofit-auto-parse-html-unicode", "title": "Retrofit auto parse html unicode", "body": "<p>I have a problem. I have a json. I'm trying to parse symbols like <code>&amp;#39;</code> and <code>\\u00e7</code>. Symbol <code>\\u00e7</code> successfully parses, but symbol <code>&amp;#39;</code> remains unchanged. Here's my retrofit builder. </p>\n\n<pre><code>Retrofit.Builder()\n        .addConverterFactory(GsonConverterFactory.create())\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .baseUrl(RatersApi.BASE_URL)\n        .client(get())\n        .build()\n        .create(RatersApi::class.java)\n</code></pre>\n\n<p>and ok http builder which called from <code>get()</code> function</p>\n\n<pre><code>OkHttpClient.Builder()\n        .addInterceptor(HttpLoggingInterceptor()\n            .apply { level = HttpLoggingInterceptor.Level.BODY }\n        )\n        .addInterceptor(HeaderInterceptor())\n        .build()\n</code></pre>\n\n<p><strong>ANSWER</strong></p>\n\n<p>Ok. I didn't find correct solution, so i wrote my own interceptor which transform strings from html. Just inject this into your <code>okhttp</code> builder Here it is:</p>\n\n<pre><code>class HtmlStringInterceptor: Interceptor {\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val response = chain.proceed(chain.request())\n\n        val contentType = response.body?.contentType()\n        val bodyString = if (android.os.Build.VERSION.SDK_INT &gt;= 24) {\n            Html.fromHtml(response.body?.string(), Html.FROM_HTML_MODE_COMPACT).toString()\n        } else {\n            Html.fromHtml(response.body?.string()).toString()\n        }\n\n        val body = bodyString.toResponseBody(contentType)\n        return response.newBuilder().body(body).build()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "edited": false, "score": 0, "creation_date": 1565184060, "post_id": 57395438, "comment_id": 101272511, "body": "its same with Serialize  ?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "edited": false, "score": 0, "creation_date": 1565184189, "post_id": 57395438, "comment_id": 101272604, "body": "No, it same as implementing Parcelable just code is auto generated"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 1, "creation_date": 1565184289, "post_id": 57395438, "comment_id": 101272667, "body": "Yep, we are using it in production. It works great"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565184323, "post_id": 57395438, "comment_id": 101272697, "body": "where did you see it&#39;s not in experimental anymore ? really like it, want to use it out of experimental :D"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1565184422, "post_id": 57395438, "comment_id": 101272766, "body": "Documentation does not say that it is experimental anymore."}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "edited": false, "score": 0, "creation_date": 1565184525, "post_id": 57395438, "comment_id": 101272832, "body": "Just Lint error does not look reliable, but it does work and compile"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565184791, "post_id": 57395438, "comment_id": 101273033, "body": "im legit asking where i can see that, need to show the rest of my team"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565184871, "post_id": 57395438, "comment_id": 101273100, "body": "@a_local_nobody Just read documentation on IDE, Ctrl+Q"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1565185443, "post_id": 57395438, "comment_id": 101273461, "body": "oh sweet, thanks :D"}], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565183897, "creation_date": 1565183897, "question_id": 57395438, "link": "https://stackoverflow.com/questions/57395438/kotlin-annotation-parcelize-reliability", "title": "Kotlin annotation @Parcelize reliability", "body": "<p>I heard about <code>Kotlin</code> <code>@Parcelize</code> annotation long time ago, but it still was experimental and now it is not, IDE still complains about implementing <code>Parcel</code> members, but it seems to work. </p>\n\n<p>Does anyone using it? is it safe? It seems to work, but is it ready for production?</p>\n\n<pre><code>@Parcelize\nopen class MenuCategory(\n        var id: String? = \"\",\n        var title: String? = \"\"\n) : Parcelable\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 1, "creation_date": 1565189829, "post_id": 57395136, "comment_id": 101276122, "body": "An other option might be using <code>Nothing?</code> or <code>Void?</code> as type and completing it with <code>Result.success(null)</code>. Though thats up to preference and using Unit is cleaner imo"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 4, "last_activity_date": 1565182921, "creation_date": 1565182921, "answer_id": 57395136, "question_id": 57395009, "link": "https://stackoverflow.com/questions/57395009/kotlin-result-type-with-generics-and-void-nothing-return-type/57395136#57395136", "title": "Kotlin Result type with generics and Void/Nothing return type", "body": "<p>You have to use <code>Result&lt;Unit&gt;</code>. Then you can call <code>complete</code> like this:</p>\n\n<pre><code>complete(Result.success(Unit))\n</code></pre>\n"}], "owner": {"reputation": 2038, "user_id": 279813, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/dfc947ac3cfe628594b637c3c7e7cffd?s=128&d=identicon&r=PG", "display_name": "UrK", "link": "https://stackoverflow.com/users/279813/urk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 0, "accepted_answer_id": 57395136, "answer_count": 1, "score": 2, "last_activity_date": 1565182921, "creation_date": 1565182525, "question_id": 57395009, "link": "https://stackoverflow.com/questions/57395009/kotlin-result-type-with-generics-and-void-nothing-return-type", "title": "Kotlin Result type with generics and Void/Nothing return type", "body": "<p>I am trying to use Kotlin's <code>[Result][1]</code> type. Though in case of success it does not return any value. I cannot get it to work for returning the value. The following line gives me trouble: <code>complete(Result.success())</code>. It doest not compile. I tried with both <code>Result&lt;Void&gt;</code> and <code>Result&lt;Nothing&gt;</code> but cannot make it work.</p>\n\n<p>Any suggestions about how to make it work?</p>\n\n<pre><code>package me.test.app\n\nimport android.util.Log\n\nclass Test {\n\n    fun foo(complete: (Result&lt;Nothing&gt;) -&gt; Unit) {\n        if (Math.random() &gt; 0.5) {\n            complete(Result.success())\n        } else {\n            complete(Result.failure(Throwable(\"too low\")))\n        }\n    }\n\n    fun bar() {\n        foo { result -&gt;\n            result.fold({\n                Log.i(\"APP\", \"Success\")\n            })\n            {\n                Log.i(\"APP\", \"Failure\")\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-notifications"], "comments": [{"owner": {"reputation": 3006, "user_id": 1860415, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7d86e23958e2e777e71f48071b8a2856?s=128&d=identicon&r=PG", "display_name": "arao6", "link": "https://stackoverflow.com/users/1860415/arao6"}, "edited": false, "score": 0, "creation_date": 1574979038, "post_id": 57394758, "comment_id": 104426581, "body": "Did you figure this out?"}, {"owner": {"reputation": 246, "user_id": 10777220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea601949efa706cbeb1d0097f021afe6?s=128&d=identicon&r=PG&f=1", "display_name": "itsam", "link": "https://stackoverflow.com/users/10777220/itsam"}, "reply_to_user": {"reputation": 3006, "user_id": 1860415, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7d86e23958e2e777e71f48071b8a2856?s=128&d=identicon&r=PG", "display_name": "arao6", "link": "https://stackoverflow.com/users/1860415/arao6"}, "edited": false, "score": 0, "creation_date": 1576143742, "post_id": 57394758, "comment_id": 104806111, "body": "No, also, now it makes less sense to play ringtone from background, as Android Q implements a much stricter approach to background processing. But I&#39;m actively searching for alternative approaches."}], "owner": {"reputation": 246, "user_id": 10777220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea601949efa706cbeb1d0097f021afe6?s=128&d=identicon&r=PG&f=1", "display_name": "itsam", "link": "https://stackoverflow.com/users/10777220/itsam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565181682, "creation_date": 1565181682, "question_id": 57394758, "link": "https://stackoverflow.com/questions/57394758/play-ringtone-along-with-notification", "title": "Play ringtone along with notification", "body": "<p>So, the purpose is to show notification but instead of the default notification sound, ringtone should be played.</p>\n\n<p>I'm using API 28 for testing. I've tried this code but it still plays the default notification sound.</p>\n\n<pre><code>        val intent = Intent(this, MainActivity::class.java).apply {\n            flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\n        }\n\n      val pendingIntent: PendingIntent = PendingIntent.getActivity(this, 2, intent, 0)\n        val builder = NotificationCompat.Builder(this, channel)\n            .setSmallIcon(icon)\n            .setContentTitle(\"Attention request\")\n            .setContentText(dtext)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setCategory(NotificationCompat.CATEGORY_CALL)\n            .setSound(RingtoneManager.getDefaultUri(RingtoneManager.TYPE_RINGTONE))\n            .setContentIntent(pendingIntent)\n            .setAutoCancel(true)\n\n        with(NotificationManagerCompat.from(this)) {\n            notify(2, builder.build())\n        }\n</code></pre>\n\n<p>Also, ringtone should stop playing if user either clicks on notification or dismisses it.</p>\n"}, {"tags": ["java", "android", "kotlin", "bluetooth-lowenergy", "wifi"], "answers": [{"comments": [{"owner": {"reputation": 7991, "user_id": 2215147, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/aecaa95e6ca4a3563a255de206b5e987?s=128&d=identicon&r=PG&f=1", "display_name": "Youssif Saeed", "link": "https://stackoverflow.com/users/2215147/youssif-saeed"}, "edited": false, "score": 1, "creation_date": 1565250756, "post_id": 57399112, "comment_id": 101296033, "body": "To add to that, the closest thing that <i>allowed</i> you to do that were BLE beacons (<a href=\"https://developers.google.com/nearby/notifications/overview\" rel=\"nofollow noreferrer\">developers.google.com/nearby/notifications/overview</a>). However, even this was disabled due to spammy and irrelevant content. More information can be found here (<a href=\"https://android-developers.googleblog.com/2018/10/discontinuing-support-for-android.html\" rel=\"nofollow noreferrer\">android-developers.googleblog.com/2018/10/&hellip;</a>)."}], "tags": [], "owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "is_accepted": false, "score": 2, "last_activity_date": 1565196849, "creation_date": 1565196849, "answer_id": 57399112, "question_id": 57394021, "link": "https://stackoverflow.com/questions/57394021/send-notifications-to-nearby-mobile-devices-through-bluetooth-low-energyi-e-vi/57399112#57399112", "title": "Send notifications to nearby Mobile Devices through Bluetooth Low Energy(i.e. via beacons) with no app installed on their device", "body": "<p>I don't think that will ever be possible since Google would never allow automatic notifications broadcasted by untrusted devices without user consent.</p>\n"}], "owner": {"reputation": 21, "user_id": 11895597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62342715cba30fc4bc4355cd346cb7e4?s=128&d=identicon&r=PG&f=1", "display_name": "VIjay", "link": "https://stackoverflow.com/users/11895597/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565196849, "creation_date": 1565179207, "last_edit_date": 1565179515, "question_id": 57394021, "link": "https://stackoverflow.com/questions/57394021/send-notifications-to-nearby-mobile-devices-through-bluetooth-low-energyi-e-vi", "title": "Send notifications to nearby Mobile Devices through Bluetooth Low Energy(i.e. via beacons) with no app installed on their device", "body": "<p>I am trying to send notification to mobile devices without any application installed in <strong>their</strong> phone. Their devices may or may not be connected to the BLE device. Is there a way to make this happen?</p>\n\n<p>I have tried to do the same thing with WiFi. No luck there. Any suggestion appreciated.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "edited": false, "score": 0, "creation_date": 1565178818, "post_id": 57393785, "comment_id": 101269332, "body": "you have to add again and again the type many times you want, once a query parameter is added, it will add only once"}], "answers": [{"comments": [{"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565182092, "post_id": 57394287, "comment_id": 101271184, "body": "But I need vararg, because sometimes I pass types, but sometimes not."}, {"owner": {"reputation": 1441, "user_id": 1595442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7170ac78ee85ba42fe8a883edc2320d?s=128&d=identicon&r=PG", "display_name": "faranjit", "link": "https://stackoverflow.com/users/1595442/faranjit"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565182519, "post_id": 57394287, "comment_id": 101271489, "body": "Ok, the main difference here is name of the list, <code>typeList -&gt; types</code>. You can try same way with vararg."}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565184802, "post_id": 57394287, "comment_id": 101273045, "body": "I try this:  &quot;@GET(&quot;/operations&quot;)     fun getOperationsList(         vararg @Query(&quot;type&quot;) types: List&lt;@JvmSuppressWildcards OperationType&gt;,         @Query(&quot;status&quot;) statusList: List&lt;@JvmSuppressWildcards OperationStatus&gt;,         @Query(&quot;from&quot;) from: Date, @Query(&quot;to&quot;) to: Date     ): Call&lt;List&lt;Operation&gt;&gt;&quot; , but it not help - same result"}, {"owner": {"reputation": 1441, "user_id": 1595442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7170ac78ee85ba42fe8a883edc2320d?s=128&d=identicon&r=PG", "display_name": "faranjit", "link": "https://stackoverflow.com/users/1595442/faranjit"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565185004, "post_id": 57394287, "comment_id": 101273181, "body": "Note: You said <b>But I need vararg, because sometimes I pass types, but sometimes not.</b>. To do this <code>vararg</code> is not required at all. You can simply pass null when you dont want to pass types arguments. So you can delete <code>vararg</code>."}], "tags": [], "owner": {"reputation": 1441, "user_id": 1595442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7170ac78ee85ba42fe8a883edc2320d?s=128&d=identicon&r=PG", "display_name": "faranjit", "link": "https://stackoverflow.com/users/1595442/faranjit"}, "is_accepted": false, "score": 0, "last_activity_date": 1565180118, "creation_date": 1565180118, "answer_id": 57394287, "question_id": 57393785, "link": "https://stackoverflow.com/questions/57393785/kotlin-vararg-change-query-param-values/57394287#57394287", "title": "Kotlin - vararg -&gt; change query param values", "body": "<p>Try this:</p>\n\n<pre><code>@GET(\"/operations\")\nfun getOperationsList(\n    @Query(\"type\") types: List&lt;@JvmSuppressWildcards OperationType&gt;,\n    @Query(\"status\") statusList: List&lt;@JvmSuppressWildcards OperationStatus&gt;,\n    @Query(\"from\") from: Date, @Query(\"to\") to: Date\n): Call&lt;List&lt;Operation&gt;&gt;\n</code></pre>\n\n<p>For another examples: <a href=\"https://github.com/square/retrofit/blob/parent-1.9.0/retrofit/src/test/java/retrofit/RequestBuilderTest.java#L1092-L1138\" rel=\"nofollow noreferrer\">github</a>, <a href=\"https://github.com/square/retrofit/issues/1226\" rel=\"nofollow noreferrer\">issue</a></p>\n"}, {"comments": [{"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565185437, "post_id": 57395806, "comment_id": 101273458, "body": "I can&#39;t use single object. Because para, &quot;types&quot; in url many times. Like this: .../operations?type=value1&amp;type=value2..."}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565185557, "post_id": 57395806, "comment_id": 101273525, "body": "@Alexei But that&#39;s how the <code>vararg</code> syntax works. <code>vararg types: OperationTypes</code> means that <code>types</code> is an array of <code>OperationTypes</code>."}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1565187441, "post_id": 57395806, "comment_id": 101274730, "body": "@Alexei I&#39;ve edited my answer with some more explanation."}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 1, "last_activity_date": 1565187404, "last_edit_date": 1565187404, "creation_date": 1565185067, "answer_id": 57395806, "question_id": 57393785, "link": "https://stackoverflow.com/questions/57393785/kotlin-vararg-change-query-param-values/57395806#57395806", "title": "Kotlin - vararg -&gt; change query param values", "body": "<p>When you use <code>vararg</code> you must set the variable's type to the type of a single object, not a whole collection. Change the <code>typeList</code> type to <code>OperationTypes</code>:</p>\n\n<pre><code>@GET(\"/operations\")\nfun getOperationsList(\n    @Query(\"types\") vararg types: OperationTypes,\n    @Query(\"status\") statusList: List&lt;@JvmSuppressWildcards OperationStatus&gt;,\n    @Query(\"from\") from: Date, @Query(\"to\") to: Date\n): Call&lt;List&lt;Operation&gt;&gt;\n</code></pre>\n\n<hr>\n\n<p>Let me explain how <code>vararg</code> works on those examples:</p>\n\n<p>1)</p>\n\n<pre><code>fun getOperationsList(vararg types: OperationTypes)\n</code></pre>\n\n<p>In this case the <code>getOperationsList</code> method accepts multiple arguments of type <code>OperationTypes</code>. Inside its body, the <code>types</code> variable would actually be the type of <code>Array&lt;OperationTypes&gt;</code>.</p>\n\n<p>You can call the <code>getOperationsList</code> like that (I assumed the <code>OperationTypes</code> is an enum class):</p>\n\n<pre><code>getOperationsList(OperationTypes.PAYMENT, OperationTypes.PAYOUT)\n\n// or using the spread operator\nval types = listOf(OperationTypes.PAYMENT, OperationTypes.PAYOUT)\ngetOperationsList(*types.toTypedArray())\n</code></pre>\n\n<p>and inside the method the <code>types</code>' value will be eqivalent to:</p>\n\n<pre><code>types = arrayOf(OperationTypes.PAYMENT, OperationTypes.PAYOUT)\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>fun getOperationsList(vararg types: List&lt;OperationTypes&gt;)\n</code></pre>\n\n<p>In this scenario, the <code>getOperationsList</code> expects its arguments to be multiple <em>lists</em> of <code>OperationTypes</code> objects. Inside it the <code>types</code> variable is the type of <code>Array&lt;List&lt;OperationsTypes&gt;&gt;</code>. </p>\n\n<p>The function can be called:</p>\n\n<pre><code>getOperationsList(listOf(OperationTypes.PAYMENT, OperationTypes.PAYOUT), listOf(OperationTypes.OTHER_TYPE))\n</code></pre>\n\n<p>and the <code>types</code>' value inside will be equivalent to:</p>\n\n<pre><code>types = arrayOf(listOf(OperationTypes.PAYMENT, OperationTypes.PAYOUT), listOf(OperationTypes.OTHER_TYPE))\n</code></pre>\n\n<p>That's why your current implementation is not working as you want.</p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565188211, "creation_date": 1565178533, "last_edit_date": 1565188211, "question_id": 57393785, "link": "https://stackoverflow.com/questions/57393785/kotlin-vararg-change-query-param-values", "title": "Kotlin - vararg -&gt; change query param values", "body": "<p>in my android app I use Retrofit 2</p>\n\n<pre><code>def RETROFIT_VERSION = '2.6.0'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    api 'com.squareup.okhttp3:logging-interceptor:3.8.0'\n    api \"com.squareup.retrofit2:converter-gson:$RETROFIT_VERSION\"\n    api \"com.squareup.retrofit2:retrofit:$RETROFIT_VERSION\"\n</code></pre>\n\n<p>here my service:</p>\n\n<pre><code>public enum OperationType {\n      PAYMENT,   PAYOUT,  TRANSFER\n\n}\n\n\n\nimport retrofit2.Call\nimport retrofit2.http.*\nimport java.util.*\n\n@GET(\"/operations\")\n    fun getOperationsList(\n        @Query(\"types\") typeList: List&lt;@JvmSuppressWildcards OperationType&gt;,\n        @Query(\"status\") statusList: List&lt;@JvmSuppressWildcards OperationStatus&gt;,\n        @Query(\"from\") from: Date, @Query(\"to\") to: Date\n    ): Call&lt;List&lt;Operation&gt;&gt;\n</code></pre>\n\n<p>here use:</p>\n\n<pre><code>val call = restClient.getOperationsList(\n            typesList,\n            statusList = operationStatusList,\n            from = from,\n            to = to\n        )\n</code></pre>\n\n<p>and here result:</p>\n\n<pre><code> D/OkHttp  (24112): --&gt; GET http://my_ip:8081/operations?types=payment&amp;types=payout&amp;status=executed&amp;from=2019-08-07T00%3A00%3A00&amp;to=2019-08-07T23%3A59%3A59 http/1.1\n</code></pre>\n\n<p>As you can see the param \"<code>type</code>\" pass 2 times. Nice.</p>\n\n<p>Now I use <strong>vararg</strong>  parameter like this:</p>\n\n<pre><code>@GET(\"/operations\")\n    fun getOperationsList(\n        vararg @Query(\"types\") typeList: List&lt;@JvmSuppressWildcards OperationType&gt;,\n        @Query(\"status\") statusList: List&lt;@JvmSuppressWildcards OperationStatus&gt;,\n        @Query(\"from\") from: Date, @Query(\"to\") to: Date\n    ): Call&lt;List&lt;Operation&gt;&gt;\n</code></pre>\n\n<p>and now here result:</p>\n\n<pre><code>D/OkHttp  (25017): --&gt; GET http://my_ip:8081/operations?types=%5Bpayment%2C%20payout%5D&amp;status=executed&amp;from=2019-08-07T00%3A00%3A00&amp;to=2019-08-07T23%3A59%3A59 http/1.1\n</code></pre>\n\n<p>as you can see, the param \"<strong>type</strong>\" now pass in different way. If I decode url I get</p>\n\n<pre><code>http://my_ip:8081/operations?types=[payment, payout]&amp;status=executed&amp;from=2019-08-07T00:00:00&amp;to=2019-08-07T23:59:59 http/1.1\n</code></pre>\n\n<p>I need to pass param \"<strong>type</strong>\" only this way \"<strong>type=value&amp;type=value2...</strong>\" like this:</p>\n\n<pre><code>D/OkHttp  (24112): --&gt; GET http://my_ip:8081/operations?types=payment&amp;types=payout&amp;status=executed&amp;from=2019-08-07T00%3A00%3A00&amp;to=2019-08-07T23%3A59%3A59 http/1.1\n</code></pre>\n\n<p>How I can fix this?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "code-inspection"], "comments": [{"owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "edited": false, "score": 0, "creation_date": 1565181580, "post_id": 57393448, "comment_id": 101270876, "body": "What are your PC specifications ?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11895579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cfbd87f2a54fafb9035c21b9104afdd?s=128&d=identicon&r=PG&f=1", "display_name": "Viraj Parikh", "link": "https://stackoverflow.com/users/11895579/viraj-parikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1566025832, "last_edit_date": 1566025832, "creation_date": 1565179352, "answer_id": 57394068, "question_id": 57393448, "link": "https://stackoverflow.com/questions/57393448/android-studio-and-kotlin-code-inspection-is-unusable-when-there-are-multiple-er/57394068#57394068", "title": "Android Studio and Kotlin code inspection is unusable when there are multiple errors in file", "body": "<p>It might not be an issue with Kotlin.\nEnsure that both the Kotlin plugin and Android Studio plugins are up to date.\nThe IDE can hang if it does not have enough memory allocated.\nTo change the memory allocation, go to <strong>Edit -> Edit Custom VM option</strong> and update the memory allocation as shown in the image below. This might help.</p>\n\n<p><img src=\"https://i.stack.imgur.com/QDo64.png\" alt=\"Visual of Menu Item\"></p>\n\n<p>If you need additional assistance finding this setting, please refer to the <a href=\"https://developer.android.com/studio/intro/studio-config\" rel=\"nofollow noreferrer\">official Android Studio Configuration guide</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 9419215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86553597db9f34ed4e1b3caa1fdaae3d?s=128&d=identicon&r=PG", "display_name": "ust", "link": "https://stackoverflow.com/users/9419215/ust"}, "is_accepted": false, "score": 0, "last_activity_date": 1565179841, "creation_date": 1565179841, "answer_id": 57394202, "question_id": 57393448, "link": "https://stackoverflow.com/questions/57393448/android-studio-and-kotlin-code-inspection-is-unusable-when-there-are-multiple-er/57394202#57394202", "title": "Android Studio and Kotlin code inspection is unusable when there are multiple errors in file", "body": "<p>Did you update your kotlin version?</p>\n\n<p>I passed over a similar problem because of updating some implements or kotlin,google-services version etc. in the middle of a project!</p>\n\n<p>After i returned the previous version; it is fixed...</p>\n\n<p><strong>So</strong> try using previous version for example <code>kotlin_version = '1.3.40'</code> in the project's build.gradle.</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.40'\n    ...\n    ...\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    ...\n\n</code></pre>\n"}], "owner": {"reputation": 2823, "user_id": 1202206, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/367196e4e5f8a29446fb381b4048eda6?s=128&d=identicon&r=PG", "display_name": "pedja", "link": "https://stackoverflow.com/users/1202206/pedja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1566025832, "creation_date": 1565177517, "last_edit_date": 1565182573, "question_id": 57393448, "link": "https://stackoverflow.com/questions/57393448/android-studio-and-kotlin-code-inspection-is-unusable-when-there-are-multiple-er", "title": "Android Studio and Kotlin code inspection is unusable when there are multiple errors in file", "body": "<p>In Kotlin files when I have multiple errors, Android Studio becomes unusable.<br>\nWhen I make any change everything freezes for a few seconds, when I disable code inspection then it works normally. </p>\n\n<p>This does not happen with java</p>\n\n<p>Is this an issue with my pc or Kotlin or android studio, and is there any kind of a solution</p>\n"}, {"tags": ["android", "kotlin", "layout", "data-binding"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 5022108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dx6KI.jpg?s=128&g=1", "display_name": "cndjonno", "link": "https://stackoverflow.com/users/5022108/cndjonno"}, "is_accepted": false, "score": 0, "last_activity_date": 1566938114, "creation_date": 1566938114, "answer_id": 57681902, "question_id": 57393379, "link": "https://stackoverflow.com/questions/57393379/databinding-background-drawable-update-based-on-focus/57681902#57681902", "title": "DataBinding background drawable update based on focus", "body": "<p>Yes you can, just keep in mind that you have to account for when you lose focus. It could be due to the back button, switching input fields or hitting enter on the keyboard. Since you do not know what the user will do you can account for that as discussed <a href=\"https://stackoverflow.com/questions/8063439/android-edittext-finished-typing-event\">here</a> based on your use case..</p>\n\n<p><strong>In your layout</strong></p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=\"@+id/layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@{viewModel.hasFocus ? @drawable/background_focused : @drawable/background_unfocused}\"&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=\"@+id/edit_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center_vertical\"\n        android:inputType=\"text\"\n        android:hint=\"@string/hint_placeholder\"\n        android:background=\"@android:color/transparent\"\n        android:onClick=\"@{() -&gt; viewModel.setFocus(true)}\"/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n\n<p>A lambda is used to call the appropriate background based on the viewmodel data while onClick determines if it is in focus.</p>\n\n<p><strong>In you viewmodel (Kotlin)</strong></p>\n\n<pre><code>val hasFocus = MutableLiveData&lt;Boolean&gt;().apply{postValue(false)}\n\nfun setFocus(value: Boolean){\n       hasFocus.value = value\n}\n</code></pre>\n"}], "owner": {"reputation": 2090, "user_id": 4970126, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/673e18f1dee3a6671ae10f07f6cc1c53?s=128&d=identicon&r=PG&f=1", "display_name": "BVtp", "link": "https://stackoverflow.com/users/4970126/bvtp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566938114, "creation_date": 1565177280, "question_id": 57393379, "link": "https://stackoverflow.com/questions/57393379/databinding-background-drawable-update-based-on-focus", "title": "DataBinding background drawable update based on focus", "body": "<p>I have a TextInputEditText inside a TextInputLayout. \nI want to change the TextInputLayout's background based on whether the EditText has focus or not. \nI can easily accomplish that by observing the edittext's focus from the activity and then update the background accordingly.\nBut it seems such a waste to update the element from the activity if I'm already using Data Binding. \nIs there a way to reference the TextInputLayout's background from the focus change callback inside the EditText?</p>\n\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=\"@+id/layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/input_field_unselected_background\"&gt;\n\n    &lt;com.google.android.material.textfield.TextInputEditText\n        android:id=\"@+id/edit_text\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center_vertical\"\n        android:inputType=\"text\"\n        android:hint=\"@string/hint_placeholder\"\n        android:background=\"@android:color/transparent\"/&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1565176542, "post_id": 57393108, "comment_id": 101268037, "body": "Why not just <code>val request = chain.request().newBuilder()             .addQueryParameter(&quot;apiKey&quot;, API_KEY)             .build()</code> ? Why two builders?"}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565176810, "post_id": 57393108, "comment_id": 101268200, "body": "Umm.. it&#39;s not working as you suggested."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565178145, "post_id": 57393108, "comment_id": 101268980, "body": "I have only added headers through an interceptor, not query parameters. It is possible that Retrofit simply ignores any pre-established query parameters. You might check the Retrofit issue tracker to see if there has been any discussion about this sort of thing."}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565178211, "post_id": 57393108, "comment_id": 101269024, "body": "@CommonsWare So how should I add this <code>apikey</code> in every request?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565178438, "post_id": 57393108, "comment_id": 101269154, "body": "You might check the Retrofit issue tracker to see if there has been any discussion about this sort of thing. I have only ever added query parameters via <code>@Query</code> annotations, such as the <code>s</code> parameter from your code."}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1565178637, "post_id": 57393108, "comment_id": 101269237, "body": "<code>val request = chain.request().newBuilder() .addQueryParameter(&quot;apiKey&quot;, API_KEY) .build()</code> is showing error on <code>.addQueryParameter</code>"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1565178923, "post_id": 57393108, "comment_id": 101269392, "body": "Ah, I see where I went wrong -- your first builder is an <code>HttpUrl.Builder</code>, not a <code>Request.Builder</code>. My apologies for that mistake. That reinforces my guess that Retrofit is simply ignoring any query parameters supplied on the request URL."}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565179297, "post_id": 57393108, "comment_id": 101269610, "body": "It&#39;s fine! @CommonsWare"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565190515, "post_id": 57393108, "comment_id": 101276524, "body": "@VarunRaj I copied your code and that&#39;s what my local web server got: <code>127.0.0.1 - - [07&#47;Aug&#47;2019 16:07:12] &quot;GET &#47;?s=man&amp;apiKey=123456</code>, so it seems like both query arguments are correctly retained. FYI I&#39;m using Retrofit v2.6.1"}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565196052, "post_id": 57393108, "comment_id": 101279381, "body": "@user2340612 did you try logging out in your android app?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565200761, "post_id": 57393108, "comment_id": 101281511, "body": "@VarunRaj not really, I created a simple program targeting the JVM and in debug I could see that both the query arguments were retained, as confirmed by the local web server"}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565200934, "post_id": 57393108, "comment_id": 101281588, "body": "@user2340612 Well in the app I made when doing this <code>Log.e(&quot;url&quot;, call.request().url().toString())</code> inside the <code>onResponse</code> function I&#39;m getting the URL posted above."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565201445, "post_id": 57393108, "comment_id": 101281778, "body": "@VarunRaj what version of retrofit/okhttp are you using? Maybe it was a bug in a previous version"}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565202625, "post_id": 57393108, "comment_id": 101282263, "body": "@user2340612 this line <code>implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;</code>"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1565251002, "post_id": 57393108, "comment_id": 101296164, "body": "@VarunRaj I tried also with that version and it&#39;s still working for me. I didn&#39;t try it on Android as it&#39;s not set up on my machine, but on JVM I couldn&#39;t reproduce your problem"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1565370016, "post_id": 57393108, "comment_id": 101346595, "body": "What are you seeing/experiencing that makes you say the parameter is not added?"}], "answers": [{"comments": [{"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1565434868, "post_id": 57439323, "comment_id": 101359430, "body": "It worked when I updated the version. But still, when I log out the URL it&#39;s showing the same URL."}], "tags": [], "owner": {"reputation": 927, "user_id": 4608592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dNk4IS8-VAE/AAAAAAAAAAI/AAAAAAAAQcQ/mDI1ZKog4Zg/photo.jpg?sz=128", "display_name": "Brandon McAnsh", "link": "https://stackoverflow.com/users/4608592/brandon-mcansh"}, "is_accepted": false, "score": 1, "last_activity_date": 1565411331, "creation_date": 1565411331, "answer_id": 57439323, "question_id": 57393108, "link": "https://stackoverflow.com/questions/57393108/retrofit-interceptor-not-adding-query-param-to-url/57439323#57439323", "title": "Retrofit Interceptor not adding query param to URL", "body": "<p>First create a new httpUrl instance from the existing request adding your query parameter and value:</p>\n\n<p><code>var request = chain.request()</code></p>\n\n<p><code>val httpUrl = request.url().newBuilder().addQueryParameter(\"token\", authToken).build()</code></p>\n\n<p>Then update the request:</p>\n\n<p><code>request = request.newBuilder().url(httpUrl).build()</code></p>\n\n<p>and proceed with it:</p>\n\n<p><code>return chain.proceed(request)</code></p>\n\n<ul>\n<li>When you recall the request from the chain (the one you proceed with after manipulation) you are getting the unmodified request again.</li>\n</ul>\n"}], "owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565411331, "creation_date": 1565176401, "last_edit_date": 1565368435, "question_id": 57393108, "link": "https://stackoverflow.com/questions/57393108/retrofit-interceptor-not-adding-query-param-to-url", "title": "Retrofit Interceptor not adding query param to URL", "body": "<p>I'm trying to add apikey in the URL using custom <code>interceptor</code> but it's not adding the params in the URL so response body is null.</p>\n\n<p><strong>CustomInterceptor</strong></p>\n\n<pre><code>class CustomInterceptor : Interceptor {\n\n    override fun intercept(chain: Interceptor.Chain): Response {\n\n        val url = chain.request().url().newBuilder()\n            .addQueryParameter(\"apiKey\", API_KEY)\n            .build()\n\n        val request = chain.request().newBuilder()\n            .url(url)\n            .build()\n\n        return chain.proceed(request)\n    }\n}\n</code></pre>\n\n<p><strong>Client</strong></p>\n\n<pre><code>class Client {\n\n    companion object {\n\n        const val API_KEY = \"123123\"\n        private const val apiUrl = \"https://www.omdbapi.com/\"\n\n        fun &lt;T&gt; create(service: Class&lt;T&gt;): T {\n            val client = OkHttpClient.Builder()\n                .addInterceptor(CustomInterceptor())\n                .build()\n\n            return Retrofit.Builder()\n                .baseUrl(apiUrl)\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(client)\n                .build()\n                .create(service)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>IMovie</strong></p>\n\n<pre><code>interface IMovie {\n\n    @GET(\"/\")\n    fun searchMovie(@Query(\"s\") query: String): Call&lt;SearchResult&gt;\n}\n</code></pre>\n\n<p>After sending the request the response body is null and this is the</p>\n\n<p><em>Actual URL:- <a href=\"https://www.omdbapi.com/?s=Man_\" rel=\"nofollow noreferrer\">https://www.omdbapi.com/?s=Man</em></a></p>\n\n<p><em>Expected URL:- <a href=\"https://www.omdbapi.com/?s=Man&amp;apikey=123123_\" rel=\"nofollow noreferrer\">https://www.omdbapi.com/?s=Man&amp;apikey=123123</em></a></p>\n"}, {"tags": ["maven", "kotlin", "maven-plugin", "static-analysis", "detekt"], "comments": [{"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1565181862, "post_id": 57392821, "comment_id": 101271031, "body": "The given dependency to jcommander version 1.74 does simply not exist cause the most recent version is 1.71..."}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1565181931, "post_id": 57392821, "comment_id": 101271072, "body": "@khmarbaise but I am not using that plugin anywhere in my POM. I dont know why it is also showing that."}, {"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 1, "creation_date": 1565182816, "post_id": 57392821, "comment_id": 101271713, "body": "It is one of your dependencies...it&#39;s coming transitively via the <code>detekt-cli</code> and it has a simply a wrong version: <a href=\"https://search.maven.org/artifact/io.gitlab.arturbosch.detekt/detekt-cli/1.0.0-RC14/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/io.gitlab.arturbosch.detekt/&hellip;</a>"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1565184304, "post_id": 57392821, "comment_id": 101272679, "body": "@khmarbaise sorry to ask you but could you please tell me what I am doing wrong? I checked above link but did not understand which plugin/dependency i need to put.."}, {"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1565197925, "post_id": 57392821, "comment_id": 101280263, "body": "If you are using companies nexus it works you have written...does it define the same version of the artifacts?"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1565244110, "post_id": 57392821, "comment_id": 101293057, "body": "@khmarbaise..yeah..same version i had..but then i followed your link and somehow it works..i will add solution here..Thanks for the link"}, {"owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "reply_to_user": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1565266828, "post_id": 57392821, "comment_id": 101304841, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197683/discussion-between-ruchir-naphade-and-khmarbaise\">continue this discussion in chat</a>."}], "owner": {"reputation": 300, "user_id": 9043093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcfed184e0a3979dd2898968dca98330?s=128&d=identicon&r=PG&f=1", "display_name": "Radiant", "link": "https://stackoverflow.com/users/9043093/radiant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565176109, "creation_date": 1565175436, "last_edit_date": 1565176109, "question_id": 57392821, "link": "https://stackoverflow.com/questions/57392821/detekt-plugin-not-able-to-download-from-maven-central", "title": "Detekt plugin not able to download from Maven central", "body": "<p>I am working with Kotlin and want to do static analysis using Detekt plugin. My problem is, when I want to download it from Maven central repository, it is giving me below error. But when I use company's repository (Nexus), it does not give me any error and downloads it smoothly. I don't understand this. </p>\n\n<p>Can someone tell me why this is happening? I want to use this plugin and have not found out any other alternative.</p>\n\n<p>Below is my error :</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.8:run (detekt) on project agathe: Execution detekt of goal org.apache.maven.plugins:maven-antrun-plugin:1.8:run failed: Plugin org.apache.maven.plugins:maven-antrun-plugin:1.8 or one of its dependencies could not be resolved: Could not find artifact com.beust:jcommander:jar:1.74 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\n</code></pre>\n\n<p>Kindly find my POM file below.</p>\n\n<pre><code>&lt;properties&gt;\n    .. \n    &lt;sonar.kotlin.detekt.reportPaths&gt;${project.build.directory}/detekt.xml&lt;/sonar.kotlin.detekt.reportPaths&gt;\n    ..\n&lt;/properties&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- This can be run separately with mvn antrun:run@detekt --&gt;\n                    &lt;id&gt;detekt&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;target name=\"detekt\"&gt;\n                            &lt;java taskname=\"detekt\" dir=\"${basedir}\"\n                                  fork=\"true\"\n                                  failonerror=\"false\"\n                                  classname=\"io.gitlab.arturbosch.detekt.cli.Main\"\n                                  classpathref=\"maven.plugin.classpath\"&gt;\n                                &lt;arg value=\"--input\"/&gt;\n                                &lt;arg value=\"${basedir}/src\"/&gt;\n                                &lt;arg value=\"--filters\"/&gt;\n                                &lt;arg value=\".*/target/.*,.*/resources/.*\"/&gt;\n                                &lt;arg value=\"--report\"/&gt;\n                                &lt;arg value=\"xml:${project.build.directory}/detekt.xml\"/&gt;\n                            &lt;/java&gt;\n                        &lt;/target&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;run&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.gitlab.arturbosch.detekt&lt;/groupId&gt;\n                    &lt;artifactId&gt;detekt-cli&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0-RC14&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "amazon-sqs", "micronaut", "aws-java-sdk", "micronaut-aws"], "comments": [{"owner": {"reputation": 486, "user_id": 4972364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764fc400bb98d09c56dd829c622e4985?s=128&d=identicon&r=PG&f=1", "display_name": "Rodel", "link": "https://stackoverflow.com/users/4972364/rodel"}, "edited": false, "score": 1, "creation_date": 1566364213, "post_id": 57392715, "comment_id": 101627670, "body": "When there&#39;s an exception, don&#39;t delete the SQS messages and copy it to the DLQ, just leave the messages in the original SQS queue and receive it again and again until AWS moved it to DLQ."}, {"owner": {"reputation": 4099, "user_id": 1686291, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73690bab2009bb60aaa8526b1038649f?s=128&d=identicon&r=PG&f=1", "display_name": "Not a bug", "link": "https://stackoverflow.com/users/1686291/not-a-bug"}, "reply_to_user": {"reputation": 486, "user_id": 4972364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764fc400bb98d09c56dd829c622e4985?s=128&d=identicon&r=PG&f=1", "display_name": "Rodel", "link": "https://stackoverflow.com/users/4972364/rodel"}, "edited": false, "score": 0, "creation_date": 1566366570, "post_id": 57392715, "comment_id": 101628347, "body": "That&#39;s exactly what I want to avoid. In case of any functional bug, I know every time the receiver will fail. So I want to move it to DLQ and remove it from the original queue to avoid unnecessary handling. Two reasons, to reduce cost and unblock the queue."}, {"owner": {"reputation": 486, "user_id": 4972364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764fc400bb98d09c56dd829c622e4985?s=128&d=identicon&r=PG&f=1", "display_name": "Rodel", "link": "https://stackoverflow.com/users/4972364/rodel"}, "edited": false, "score": 1, "creation_date": 1566367260, "post_id": 57392715, "comment_id": 101628573, "body": "You can set the received count to 1 so that it will immediately moved to DLQ and increase your &quot;Default Visibility Timeout&quot; of the original SQS queue, set it until the next cycle run. This will lessen the cost and avoid blocking the queue."}, {"owner": {"reputation": 4099, "user_id": 1686291, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73690bab2009bb60aaa8526b1038649f?s=128&d=identicon&r=PG&f=1", "display_name": "Not a bug", "link": "https://stackoverflow.com/users/1686291/not-a-bug"}, "reply_to_user": {"reputation": 486, "user_id": 4972364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764fc400bb98d09c56dd829c622e4985?s=128&d=identicon&r=PG&f=1", "display_name": "Rodel", "link": "https://stackoverflow.com/users/4972364/rodel"}, "edited": false, "score": 0, "creation_date": 1566367404, "post_id": 57392715, "comment_id": 101628627, "body": "I still want the max receive count to be 3 and have retry enabled in case of any glitch and not a functional bug :)"}, {"owner": {"reputation": 486, "user_id": 4972364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764fc400bb98d09c56dd829c622e4985?s=128&d=identicon&r=PG&f=1", "display_name": "Rodel", "link": "https://stackoverflow.com/users/4972364/rodel"}, "edited": false, "score": 0, "creation_date": 1566367598, "post_id": 57392715, "comment_id": 101628700, "body": "But you&#39;re moving it just after you received the exception so receive count is not a deciding factor to move to DLQ, right? Just add operational log when you received exception for you to check if it is functional bug or not. And how about setting the &quot;Default Visibility Timeout&quot; to a longer time, so that SQS message will not block other messages?"}, {"owner": {"reputation": 486, "user_id": 4972364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764fc400bb98d09c56dd829c622e4985?s=128&d=identicon&r=PG&f=1", "display_name": "Rodel", "link": "https://stackoverflow.com/users/4972364/rodel"}, "edited": false, "score": 1, "creation_date": 1566368158, "post_id": 57392715, "comment_id": 101628905, "body": "And also remember that send and delete will cost you two api requests :)"}], "owner": {"reputation": 4099, "user_id": 1686291, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/73690bab2009bb60aaa8526b1038649f?s=128&d=identicon&r=PG&f=1", "display_name": "Not a bug", "link": "https://stackoverflow.com/users/1686291/not-a-bug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565274935, "creation_date": 1565175045, "last_edit_date": 1565274935, "question_id": 57392715, "link": "https://stackoverflow.com/questions/57392715/aws-move-message-to-dead-letter-queue-while-preserving-meta-information", "title": "AWS: Move message to Dead letter queue while preserving meta information", "body": "<p>I am trying to move the message to dead letter queue in AWS if there is an exception while handling the message.</p>\n\n<p>Now I am deleting the original message and sending it to DLQ explicitly. However, while doing this I am losing the message meta information like Original message-id, Total receive count, first sent time stamp etc.</p>\n\n<p>Below is the code snippet for the same.</p>\n\n<pre><code>@Inject\n@Named(\"demo-queue\")\nprivate SimpleQueueService sqsService;\n\n@Inject\n@Named(\"dlq\")\nprivate SimpleQueueService dlqService;\n\n.\n.\n.\n\nList&lt;Message&gt; messages = sqsService.receiveMessages(10, 30, 20);\n\nmessages.forEach(\n        m -&gt; dlqService.sendMessage(m.getBody(),\n                attr -&gt; {\n                    new SendMessageRequest()\n                        .withMessageAttributes(m.getMessageAttributes())\n                        .withMessageBody(m.getBody());\n                    })\n            );\n\nmessages.forEach(message -&gt; sqsService.deleteMessage(message.getReceiptHandle()));\n</code></pre>\n\n<p>After reaching max receive count when AWS moves the message from the original queue to DLQ it preserves all mentioned attributes. Is there any way we can achieve the same using aws-sdk?</p>\n\n<p>I am using the Agorapulse library with Micronaut to send/receive messages from SQS.</p>\n"}, {"tags": ["kotlin", "language-design"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1565175126, "post_id": 57392668, "comment_id": 101267237, "body": "I think the biggest problem is, that <code>Number</code> is an abstract class and therefore allows custom implementations to be passed... how would you add a <code>BogusNumber</code> to any other <code>Number</code>?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1565175617, "post_id": 57392668, "comment_id": 101267501, "body": "by the way... please check <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/java.math.-big-decimal/plus.html\" rel=\"nofollow noreferrer\"><code>BigDecimal#plus</code></a> ... for me it makes sense to not have all overloaded variants there... don&#39;t want that inaccuracy of adding float/doubles, etc. there ;-)"}, {"owner": {"reputation": 1012, "user_id": 2448440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e087e22595668ec941533856e078bad?s=128&d=identicon&r=PG", "display_name": "Qw3ry", "link": "https://stackoverflow.com/users/2448440/qw3ry"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1565175878, "post_id": 57392668, "comment_id": 101267675, "body": "With <code>BogusNumber</code>: You could provide a default implementation with <code>toDouble()</code>. But even if you omit <code>plus</code>, at least a <code>compareTo</code> would be <i>so</i> useful"}, {"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 3, "creation_date": 1565175957, "post_id": 57392668, "comment_id": 101267699, "body": "Have a look at <code>java.lang.Number</code> too. Kotlin&#39;s Number is not much different."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1565176217, "post_id": 57392668, "comment_id": 101267861, "body": "@Qw3ry the problem is, that if you would support such a <code>compareTo</code>, you could only support the types that you know about at that time... and everyone else might be fooled, because they think it is supported but it isn&#39;t really... note also that <code>toDouble()</code> might not be the best choice... think of <code>BigDecimal</code> again... you do  not want to play (compare/add/etc.) with <code>Double</code> while operating on a <code>BigDecimal</code>. You can, but you usually don&#39;t want to..."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1565176740, "post_id": 57392668, "comment_id": 101268163, "body": "Note also... if you really find it that useful, just add your own <code>fun Number.compareTo</code> extension function ;-) but then... just be aware that it might not always work the way you expect (in the end... <code>Number</code> is not  derived from <code>Comparable</code>, but other numbers are... and extension functions lose against existing functions...)"}, {"owner": {"reputation": 1012, "user_id": 2448440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e087e22595668ec941533856e078bad?s=128&d=identicon&r=PG", "display_name": "Qw3ry", "link": "https://stackoverflow.com/users/2448440/qw3ry"}, "edited": false, "score": 0, "creation_date": 1565177406, "post_id": 57392668, "comment_id": 101268546, "body": "Okay, I guess I got your point. Also related: <a href=\"https://stackoverflow.com/questions/480632/why-doesnt-java-lang-number-implement-comparable\" title=\"why doesnt java lang number implement comparable\">stackoverflow.com/questions/480632/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1012, "user_id": 2448440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e087e22595668ec941533856e078bad?s=128&d=identicon&r=PG", "display_name": "Qw3ry", "link": "https://stackoverflow.com/users/2448440/qw3ry"}, "is_accepted": false, "score": 0, "last_activity_date": 1616506391, "creation_date": 1616506391, "answer_id": 66764236, "question_id": 57392668, "link": "https://stackoverflow.com/questions/57392668/why-is-kotlins-number-class-missing-operators/66764236#66764236", "title": "Why is Kotlin&#39;s Number-class missing operators?", "body": "<p>The problem is the implementation of the <code>compareTo</code> method. While it sounds reasonable and easy to add it in the first place, the devil lies in the details:</p>\n<p>How would you compare instances of arbitrary <code>Number</code> classes to each other? Kotlin could implement the compare method using <code>toDouble()</code>; however this has problems with equality/precision: How do you compare a <code>BigDecimal</code> to a <code>Double</code>? Using <code>toDouble()</code> on the <code>BigDecimal</code> might lose precision, and two (actually different) <code>BigDecimal</code>s might be considered equal using this method.\nThe mess gets even worse when you start to assume one or both types were supplied by libraries, where you cannot make assumptions on precision etc.</p>\n<p>In Java, the <a href=\"https://stackoverflow.com/a/481404/2448440\"><code>Number</code> type is not <code>Comparable</code> either</a>.\nFurthermore, <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4414323\" rel=\"nofollow noreferrer\">some <code>Number</code> values like <code>NaN</code> might not be comparable at all</a>.</p>\n<p>If you need a <code>Number</code> to be comparable, you can easily implement your own <code>compareTo</code>-method as extension function. This has some additional limitations though, as most <code>Number</code> subtypes implement <code>Comparable</code>, and the extension function will lose against that implementation.</p>\n<p>Credit for this answer goes to <a href=\"https://stackoverflow.com/users/6202869\">Roland</a>, I only extended his comments (see on the question) into an answer.</p>\n"}], "owner": {"reputation": 1012, "user_id": 2448440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e087e22595668ec941533856e078bad?s=128&d=identicon&r=PG", "display_name": "Qw3ry", "link": "https://stackoverflow.com/users/2448440/qw3ry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1616506391, "creation_date": 1565174916, "question_id": 57392668, "link": "https://stackoverflow.com/questions/57392668/why-is-kotlins-number-class-missing-operators", "title": "Why is Kotlin&#39;s Number-class missing operators?", "body": "<p>In Kotlin, the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-number/index.html\" rel=\"nofollow noreferrer\"><code>Number</code></a> type sounds quite useful: A type to use whenever I need something numeric.</p>\n\n<p>When actually using it, however, I quickly noticed it is pretty useless: I cannot use any operators on these numbers. As soon as I need to do something with them, I need to explicitly convert them (even for comparing).</p>\n\n<p>Why did the language designers choose to not include operators in the <code>Number</code> specification?</p>\n\n<p>Thinking on this, I noticed it could be tricky to implement <code>Number.plus(n: Number): Number</code>, because <code>n</code> might be of a different type than <code>this</code>.<br>\nOn the other hand, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-float/plus.html\" rel=\"nofollow noreferrer\">such implementations do exist</a> in all <code>Number</code> subtypes I checked. And of course they are necessary if I want to type <code>1 + 1.2</code>, which calls <code>Int.plus(d: Double): Double</code></p>\n\n<p>The result for me is that I have to call <code>.toDouble()</code> every time I use a number. This makes the code hard to read (compare <code>a.toDouble() &lt; b.toDouble()</code> with <code>a &lt; b</code>).</p>\n\n<p>Is there any technical reason why operators where omitted from <code>Number</code>?</p>\n"}, {"tags": ["android", "database", "kotlin", "realm"], "comments": [{"owner": {"reputation": 843, "user_id": 4792879, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9qa1rLU-iL4/AAAAAAAAAAI/AAAAAAAAAIk/VCcaAMtp5xk/photo.jpg?sz=128", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/4792879/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1565174894, "post_id": 57392508, "comment_id": 101267099, "body": "does the data exist in the db?"}, {"owner": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "edited": false, "score": 0, "creation_date": 1565174981, "post_id": 57392508, "comment_id": 101267151, "body": "Have you seen your model class data when you are inserting in DB."}, {"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "reply_to_user": {"reputation": 843, "user_id": 4792879, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9qa1rLU-iL4/AAAAAAAAAAI/AAAAAAAAAIk/VCcaAMtp5xk/photo.jpg?sz=128", "display_name": "Nikhil Gupta", "link": "https://stackoverflow.com/users/4792879/nikhil-gupta"}, "edited": false, "score": 0, "creation_date": 1565175149, "post_id": 57392508, "comment_id": 101267251, "body": "@NikhilGupta object is insered in DB"}, {"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "reply_to_user": {"reputation": 634, "user_id": 4273971, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yD7-VAHCPj0/AAAAAAAAAAI/AAAAAAAAAHs/ViQcsoD7ehI/photo.jpg?sz=128", "display_name": "kundan kamal", "link": "https://stackoverflow.com/users/4273971/kundan-kamal"}, "edited": false, "score": 0, "creation_date": 1565175192, "post_id": 57392508, "comment_id": 101267273, "body": "@kundankamal yes and the &quot;long&quot; field is populated"}, {"owner": {"reputation": 1897, "user_id": 1243048, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/92xOo.png?s=128&g=1", "display_name": "Maelig", "link": "https://stackoverflow.com/users/1243048/maelig"}, "edited": false, "score": 0, "creation_date": 1565270981, "post_id": 57392508, "comment_id": 101307642, "body": "are you sure about <code>.contains(&quot;id&quot;, object.id)</code> ? It should be with <code>equalTo</code> and a <code>find</code> instead of <code>findAll</code> no ? `Can you provide class declaration and how you deserialize and insert data plz ?"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565174754, "creation_date": 1565174376, "last_edit_date": 1565174754, "question_id": 57392508, "link": "https://stackoverflow.com/questions/57392508/some-fields-from-realm-object-are-null-when-try-to-get-object-from-db", "title": "Some fields from realm object are null when try to get object from DB", "body": "<p>Some fields like \"long\" from geoLocation object is null when try to get object from DB.\nHere is the real object.</p>\n\n<pre><code>Object{\nid:\"232342346823482348\"\nfields: [{\n   location:{\n             city:\"\",\n             houseNo:\"\",\n             state:\"\",\n             geoLocation: { \n                          lat=\"23.000000\", \n                          long=\"54.00000\"\n             }\n   }\n}]\n}\n</code></pre>\n\n<p>And where i try to get object from DB.</p>\n\n<pre><code>   override fun insertOrUpdateObject(object: Object) {\n        realm.executeTransaction {\n            realm.where(Object::class.java).contains(\"id\", object.id).findAll()\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "androidx"], "comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1565173594, "post_id": 57392015, "comment_id": 101266416, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21199398/sqlite-alter-a-tables-column-type\">SQLite - alter a table&#39;s column type?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "is_accepted": true, "score": 11, "last_activity_date": 1565175413, "last_edit_date": 1565175413, "creation_date": 1565174692, "answer_id": 57392599, "question_id": 57392015, "link": "https://stackoverflow.com/questions/57392015/how-to-migrate-not-null-table-column-into-null-in-android-room-database/57392599#57392599", "title": "How to Migrate Not Null table column into Null in Android Room database", "body": "<p>You need to run a migration since SQLite doesn't allow column constraint modification.</p>\n\n<p>For that migration you need to create a new temp table and copy all your previous data to it, then delete the old table and rename the temp one to the needed table name.</p>\n\n<p>If you have a scheme directory, you can find your exact creation SQL query which you should copy on your migration (I just figured it out from a scheme of mine and could not be 100% correct):</p>\n\n<pre><code>val MIGRATION_1_2: Migration = object : Migration(1, 2) {\n    override fun migrate(database: SupportSQLiteDatabase) {\n        // Create the new table\n        database.execSQL(\n            \"CREATE TABLE IF NOT EXISTS VehicleDetailsEntityTmp (vehicleId TEXT NOT NULL, updatedOn TEXT, updatedBy TEXT,vehicleClientId INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL )\"\n        )\n\n        // Copy the data\n        database.execSQL(\n            \"INSERT INTO VehicleDetailsEntityTmp (vehicleId, updatedOn, updatedBy ,vehicleClientId) SELECT vehicleId, updatedOn, updatedBy ,vehicleClientId FROM VehicleDetailsEntity \")\n\n        // Remove the old table\n        database.execSQL(\"DROP TABLE VehicleDetailsEntity\")\n\n        // Change the table name to the correct one\n        database.execSQL(\"ALTER TABLE VehicleDetailsEntityTmp RENAME TO VehicleDetailsEntity\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11351462, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--eh26aixUng/AAAAAAAAAAI/AAAAAAAAAC8/blU7EjOtLNk/photo.jpg?sz=128", "display_name": "Naveen Nagarajan", "link": "https://stackoverflow.com/users/11351462/naveen-nagarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2331, "favorite_count": 0, "accepted_answer_id": 57392599, "answer_count": 1, "score": 2, "last_activity_date": 1565175413, "creation_date": 1565172729, "question_id": 57392015, "link": "https://stackoverflow.com/questions/57392015/how-to-migrate-not-null-table-column-into-null-in-android-room-database", "title": "How to Migrate Not Null table column into Null in Android Room database", "body": "<p>I'm new to android room library. I need to migrate a Not Null column to Null,\nBut room migration only allow ADD or RENAME in ALTER table query. How do execute a column migration query?</p>\n\n<pre><code>@Entity(tableName = \"vehicle_detail\")\ndata class VehicleDetailsEntity(\n    @PrimaryKey(autoGenerate = true)\n    val vehicleClientId: Long = 0,\n    val vehicleId: String,\n    val updatedOn: Date,\n    val updatedBy: String\n)\n</code></pre>\n\n<p>I need to change table structure into</p>\n\n<pre><code>@Entity(tableName = \"vehicle_detail\")\ndata class VehicleDetailsEntity(\n    @PrimaryKey(autoGenerate = true)\n    val vehicleClientId: Long = 0,\n    val vehicleId: String,\n    val updatedOn: Date?,\n    val updatedBy: String?\n)\n</code></pre>\n\n<p>java.lang.IllegalStateException: Room cannot verify the data integrity. Looks like you've changed schema but forgot to update the version number. You can simply fix this by increasing the version number.</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager"], "comments": [{"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1565190444, "post_id": 57391921, "comment_id": 101276498, "body": "One of the reasons for <code>BadParcelableException</code> to be thrown is when <code>...a custom Parcelable object is passed to another process that doesn&#39;t have the same Parcelable class in its ClassLoader</code>. Is it possible for your app to run in different processes?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1565190600, "post_id": 57391921, "comment_id": 101276562, "body": "by different processes you mean?"}], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565172413, "creation_date": 1565172413, "question_id": 57391921, "link": "https://stackoverflow.com/questions/57391921/save-and-restore-instance-of-custom-view", "title": "Save and Restore instance of custom View", "body": "<p>There is plenty of similar questions, but still can not find an answer. </p>\n\n<p>I have custom view which has dynamic height and I want to save it. Looks simple, and working when testing on all devices, but getting errors from <code>Crashlytics</code>...</p>\n\n<p>here is the code of saved instance:</p>\n\n<pre><code>    internal class SavedState : BaseSavedState {\n        var height = 0\n\n        constructor(source: Parcel) : super(source) {\n            height = source.readInt()\n        }\n\n        constructor(superState: Parcelable) : super(superState)\n\n        override fun writeToParcel(out: Parcel, flags: Int) {\n            super.writeToParcel(out, flags)\n            out.writeInt(height)\n        }\n\n        companion object {\n            @JvmField\n            val CREATOR = object : Parcelable.Creator&lt;SavedState&gt; {\n                override fun createFromParcel(source: Parcel): SavedState {\n                    return SavedState(source)\n                }\n\n                override fun newArray(size: Int): Array&lt;SavedState?&gt; {\n                    return arrayOfNulls(size)\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Saving and restoring:</p>\n\n<pre><code>  override fun onSaveInstanceState(): Parcelable {\n        val savedState = SavedState(super.onSaveInstanceState()!!)\n        savedState.height = height\n        return savedState\n    }\n\n    override fun onRestoreInstanceState(state: Parcelable?) {\n        if (state is SavedState) {\n            super.onRestoreInstanceState(state.superState)\n            layoutParams.height = state.height\n        } else {\n            super.onRestoreInstanceState(state)\n        }\n    }\n</code></pre>\n\n<p>And error:</p>\n\n<pre><code>Caused by android.os.BadParcelableException\nClassNotFoundException when unmarshalling: androidx.viewpager.widget.ViewPager$SavedState\nandroid.os.Parcel.readParcelableCreator (Parcel.java:2295)\nandroid.view.View$BaseSavedState.&lt;init&gt; (View.java:20570)\ncom.app.utils.view.DynamicHeightViewPager$SavedState.&lt;init&gt; (DynamicHeightViewPager.kt:54)\ncom.app.utils.view.DynamicHeightViewPager$SavedState$Companion$CREATOR$1.createFromParcel (DynamicHeightViewPager.kt:69)\ncom.app.utils.view.DynamicHeightViewPager$SavedState$Companion$CREATOR$1.createFromParcel (DynamicHeightViewPager.kt:67)\nandroid.os.Parcel.readParcelable (Parcel.java:2252)\n</code></pre>\n\n<p>And getting similar error on other view.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["serialization", "kotlin", "android-json", "jsonserializer", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "is_accepted": false, "score": 0, "last_activity_date": 1565170310, "creation_date": 1565170310, "answer_id": 57391231, "question_id": 57390587, "link": "https://stackoverflow.com/questions/57390587/serializing-a-map-with-custom-mapadapter-in-moshi/57391231#57391231", "title": "Serializing a Map with custom MapAdapter in moshi", "body": "<p>After few more trials and errors I found that this is working fine</p>\n\n<pre><code>                    writer.name(elementKeyAdapter.toJsonValue(it.key).toString())\n                    elementValueAdapter.toJson(writer, it.value)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>writer.name(elementKeyAdapter.toJsonValue(it.key).toString())\n                        .value(elementValueAdapter.toJson(it.value))\n</code></pre>\n\n<p>I am still unsure about the reasoning behind it though. Thanks!</p>\n"}], "owner": {"reputation": 4729, "user_id": 1107755, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/4IHql.jpg?s=128&g=1", "display_name": "Abhishek Bansal", "link": "https://stackoverflow.com/users/1107755/abhishek-bansal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565170310, "creation_date": 1565168275, "question_id": 57390587, "link": "https://stackoverflow.com/questions/57390587/serializing-a-map-with-custom-mapadapter-in-moshi", "title": "Serializing a Map with custom MapAdapter in moshi", "body": "<p>I am trying to write a custom <code>MapAdapter</code> in <a href=\"https://github.com/square/moshi/\" rel=\"nofollow noreferrer\">moshi</a> My requirement is to ignore any bad elements in the map. I have successfully written deserialization method(<code>fromJson()</code>), however, I am facing trouble with <code>toJson</code>. here is my <code>toJson()</code> method.</p>\n\n<pre><code>override fun toJson(writer: JsonWriter, value: Map&lt;Any?, Any?&gt;?) {\n            if (value == null) {\n                writer.nullValue()\n            } else {\n                writer.beginObject()\n                value.forEach {\n                    writer.name(elementKeyAdapter.toJsonValue(it.key).toString())\n                        .value(elementValueAdapter.toJson(it.value))\n                }\n                writer.endObject()\n            }\n        }\n\n</code></pre>\n\n<p>problem with this code is that it always is writing values in map as string in final Json. For example consider this code</p>\n\n<pre><code>enum class VehicleType2 {\n    @Json(name =\"type1\")\n    TYPE1,\n\n    @Json(name =\"type2\")\n    TYPE2,\n\n    @Json(name =\"type3\")\n    TYPE3,\n\n    @Json(name =\"type4\")\n    TYPE4,\n}\n\n</code></pre>\n\n<p>and</p>\n\n<pre><code>        val map = mutableMapOf&lt;VehicleType2, Int&gt;()\n        map[VehicleType2.TYPE1] = 1\n        map[VehicleType2.TYPE2] = 2\n        val adapter: JsonAdapter&lt;Map&lt;VehicleType2, Int&gt;&gt; =\n            moshi.adapter(Types.newParameterizedType(Map::class.java, VehicleType2::class.java, Integer::class.java))\n        Log.i(\"test\", adapter.toJson(map))\n</code></pre>\n\n<p>this results in following Json</p>\n\n<pre><code>{\"type1\":\"1\",\"type2\":\"2\"}\n</code></pre>\n\n<p>notice how <code>1</code> and <code>2</code> are <code>strings</code> and not <code>integers</code>. I have tried many permutations bit no success so far.</p>\n\n<p>Here is <a href=\"https://github.com/abhishekBansal/MoshiTest/tree/bad_elements_map_adapter\" rel=\"nofollow noreferrer\">more complete sample</a> which reproduces this issue.</p>\n"}, {"tags": ["java", "kotlin", "line-api"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10985020, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C0Hh3F1oa0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMZ9-wAWZvBPSeVRWyuyQC7QRA6Qw/mo/photo.jpg?sz=128", "display_name": "HE XUAN-WEI", "link": "https://stackoverflow.com/users/10985020/he-xuan-wei"}, "edited": false, "score": 0, "creation_date": 1565194696, "post_id": 57389733, "comment_id": 101278674, "body": "Sorry, my description is not good enough, I tried to post this question again and close this page."}, {"owner": {"reputation": 15, "user_id": 10985020, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C0Hh3F1oa0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMZ9-wAWZvBPSeVRWyuyQC7QRA6Qw/mo/photo.jpg?sz=128", "display_name": "HE XUAN-WEI", "link": "https://stackoverflow.com/users/10985020/he-xuan-wei"}, "edited": false, "score": 0, "creation_date": 1565194724, "post_id": 57389733, "comment_id": 101278690, "body": "<a href=\"https://stackoverflow.com/questions/57398575/consumer-cant-find-in-kotlin\" title=\"consumer cant find in kotlin\">stackoverflow.com/questions/57398575/&hellip;</a>"}], "tags": [], "owner": {"reputation": 375, "user_id": 3764602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mR1jm.jpg?s=128&g=1", "display_name": "mmdreza baqalpour", "link": "https://stackoverflow.com/users/3764602/mmdreza-baqalpour"}, "is_accepted": false, "score": 0, "last_activity_date": 1565165300, "creation_date": 1565165300, "answer_id": 57389733, "question_id": 57389591, "link": "https://stackoverflow.com/questions/57389591/how-use-lambda-handleheavycontent-in-kotlin/57389733#57389733", "title": "How use Lambda handleHeavyContent() in Kotlin", "body": "<p>Hey I had the same problem so after some searches finally I came up with some ways to define a lambda in a function.\nIn your case I would do something like this</p>\n\n<pre><code>fun handleHeavyContent(\n    event.replyToken,\n    event.message.id,\n    response : (ResponseBody) -&gt; Unit){\n     //do your code and get the response body and pass it to the variable\n     // get the body from a function or object and then use it like this\n     val body : ResponseBody //initialize it here\n     response(body)\n    }\n</code></pre>\n\n<p>Hope this helps you</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 10985020, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C0Hh3F1oa0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMZ9-wAWZvBPSeVRWyuyQC7QRA6Qw/mo/photo.jpg?sz=128", "display_name": "HE XUAN-WEI", "link": "https://stackoverflow.com/users/10985020/he-xuan-wei"}, "edited": false, "score": 0, "creation_date": 1565194700, "post_id": 57391416, "comment_id": 101278678, "body": "Sorry, my description is not good enough, I tried to post this question again and close this page."}, {"owner": {"reputation": 15, "user_id": 10985020, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C0Hh3F1oa0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMZ9-wAWZvBPSeVRWyuyQC7QRA6Qw/mo/photo.jpg?sz=128", "display_name": "HE XUAN-WEI", "link": "https://stackoverflow.com/users/10985020/he-xuan-wei"}, "edited": false, "score": 0, "creation_date": 1565194730, "post_id": 57391416, "comment_id": 101278694, "body": "<a href=\"https://stackoverflow.com/questions/57398575/consumer-cant-find-in-kotlin\" title=\"consumer cant find in kotlin\">stackoverflow.com/questions/57398575/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "is_accepted": false, "score": 0, "last_activity_date": 1565170966, "creation_date": 1565170966, "answer_id": 57391416, "question_id": 57389591, "link": "https://stackoverflow.com/questions/57389591/how-use-lambda-handleheavycontent-in-kotlin/57391416#57391416", "title": "How use Lambda handleHeavyContent() in Kotlin", "body": "<p>Example fun with Unit and lamba use: </p>\n\n<pre><code>\nfun x(\n    val a: Int,\n    val b: (param: Int) -&gt; Unit\n) {\n    // any code\n    b.invoke(a)\n}\n\n\nx(1) { param -&gt;\n   println(param) // -&gt; gives 1\n}\n</code></pre>\n\n<p>Your function, after refactoring, must be missing parameter for lamba</p>\n"}], "owner": {"reputation": 15, "user_id": 10985020, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5C0Hh3F1oa0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMZ9-wAWZvBPSeVRWyuyQC7QRA6Qw/mo/photo.jpg?sz=128", "display_name": "HE XUAN-WEI", "link": "https://stackoverflow.com/users/10985020/he-xuan-wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565170966, "creation_date": 1565164738, "last_edit_date": 1565165947, "question_id": 57389591, "link": "https://stackoverflow.com/questions/57389591/how-use-lambda-handleheavycontent-in-kotlin", "title": "How use Lambda handleHeavyContent() in Kotlin", "body": "<p>Sample code: <a href=\"https://github.com/line/line-bot-sdk-java/blob/master/sample-spring-boot-kitchensink/src/main/java/com/example/bot/spring/KitchenSinkController.java\" rel=\"nofollow noreferrer\">https://github.com/line/line-bot-sdk-java/blob/master/sample-spring-boot-kitchensink/src/main/java/com/example/bot/spring/KitchenSinkController.java</a></p>\n\n<p>I try convert to Kotlin.</p>\n\n<p>But responseBody is Type mismatch.</p>\n\n<pre><code>    handleHeavyContent(\n        event.replyToken,\n        event.message.id\n        ) {responseBody -&gt;\n    }\n</code></pre>\n\n<p>Required:\nConsumer</p>\n\n<p>Found: (???) -> Unit</p>\n"}, {"tags": ["spring-boot", "kotlin", "project-reactor"], "comments": [{"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 1, "creation_date": 1565166674, "post_id": 57389281, "comment_id": 101262592, "body": "If you really have no choice but to use<code>findAll()</code> for whatever reason, then I don&#39;t think you can do any better - but that seems unlikely to me. What type is <code>service</code>? If it&#39;s some kind of data repository, then it&#39;s almost certainly going to be more efficient to implement a <code>findByIds()</code> method or similar and do your filtering at the data level, rather than pulling it all into a <code>Flux</code> and filtering afterwards. (Side point, I&#39;m not sure where the title comes into this - we don&#39;t seem to be dealing with <code>Mono</code> here at all, unless I&#39;m missing something?)"}, {"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "reply_to_user": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 0, "creation_date": 1565168524, "post_id": 57389281, "comment_id": 101263646, "body": "@MichaelBerry Thanks for your comment. I have a method <code>findById(...)</code>. This returns <code>Mono&lt;Test&gt;</code>. I was hoping to iterate over the the <code>Array&lt;String&gt;</code> and getting a &quot;List&quot; of <code>Mono</code> and then changing it to <code>Flux</code>. I guess the approach mentioned by you makes more sense - creating a method in the <code>Repository</code> that returns a <code>Flux&lt;Test&gt;</code> objects."}, {"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "edited": false, "score": 1, "creation_date": 1565168931, "post_id": 57389281, "comment_id": 101263872, "body": "If you want to go that way and have an array of <code>Mono</code>s from multiple <code>findById()</code> calls then you can just do <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concat-org.reactivestreams.Publisher...-\" rel=\"nofollow noreferrer\">Flux.concat()</a>, passing that array in as the varargs argument. But yes, definitely better to implement a <code>findByIds()</code> method on your data layer if possible."}], "answers": [{"comments": [{"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 0, "creation_date": 1565245422, "post_id": 57392498, "comment_id": 101293540, "body": "Would concatinating a <code>Mono[]</code> or <code>List&lt;Mono&gt;</code> be blocking? The idea of the whole exercise was to use <b>Reactive</b> paradigm?"}, {"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "reply_to_user": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 1, "creation_date": 1565251503, "post_id": 57392498, "comment_id": 101296397, "body": "@Prashant It&#39;ll just subscribe to each mono in turn - it&#39;s not blocking at all. (I&#39;d give a clear warning if it was, because as you say, that defeats the point of using reactor in the first place.)"}, {"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 1, "creation_date": 1565251719, "post_id": 57392498, "comment_id": 101296508, "body": "Nice! Thanks Michael for your help. It looks like I will have to spend some more time going through the documentation."}, {"owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "reply_to_user": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 1, "creation_date": 1565252079, "post_id": 57392498, "comment_id": 101296697, "body": "@Prashant No problem. Reactor is generally very clear when something blocks - it&#39;ll often have <code>block</code> in its method name, and (in all cases I can find) always mentions it in the methods Javadoc, usually in bold! If it doesn&#39;t, you can safely assume it won&#39;t block."}], "tags": [], "owner": {"reputation": 60558, "user_id": 551406, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/asxye.jpg?s=128&g=1", "display_name": "Michael Berry", "link": "https://stackoverflow.com/users/551406/michael-berry"}, "is_accepted": true, "score": 1, "last_activity_date": 1565174351, "creation_date": 1565174351, "answer_id": 57392498, "question_id": 57389281, "link": "https://stackoverflow.com/questions/57389281/converting-a-stream-of-mono-to-flux/57392498#57392498", "title": "Converting a stream of Mono to Flux", "body": "<p>By far the <em>best</em> method here would be to add a <code>findByIds(...)</code> method to your data layer, so it can just return the values you need in a single query / request. That's almost certainly going to be much more efficient than manipulating the data afterwards.</p>\n\n<p>If you can't do that, then you have two options:</p>\n\n<ul>\n<li>Call <code>findById()</code> in a loop to obtain a <code>List&lt;Mono&gt;</code> or <code>Mono[]</code>, then just use the static <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#concat-java.lang.Iterable-\" rel=\"nofollow noreferrer\"><code>Flux.concat()</code></a> method to turn that into a <code>Flux</code>;</li>\n<li>Call <code>findAll()</code> and then filter as you're doing in your question.</li>\n</ul>\n\n<p>If you have to use one of the above, which is more efficient depends on your scenario - in the case where there's loads of IDs being passed in, and the complete set returned by <code>findAll()</code> is relatively small, then calling <code>findAll()</code> and filtering would probably be best.</p>\n\n<p>If on the other hand, there's relatively few IDs being passed in, and the complete set of data is huge, then you're better calling <code>findById()</code> in a loop.</p>\n\n<p>To reiterate however - both of the above approaches are inferior to handling this on the data layer.</p>\n"}], "owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 57392498, "answer_count": 1, "score": 1, "last_activity_date": 1565174351, "creation_date": 1565163641, "question_id": 57389281, "link": "https://stackoverflow.com/questions/57389281/converting-a-stream-of-mono-to-flux", "title": "Converting a stream of Mono to Flux", "body": "<p>I have a REST controller method that receives a list of IDs via path variable:</p>\n\n<pre><code>@GetMapping(\"/api/test/{ids}\")\nfun findAllByIds(@PathVariable ids: Array&lt;String&gt;) = ...\n</code></pre>\n\n<p>From the repository, I would like to send a <code>Flux</code> of the matching objects based on the ids. What is the base way to do this. I can do a filter based operation on <code>findAll()</code> or is there a better way of handling this?</p>\n\n<pre><code>@GetMapping(\"/api/test/{ids}\")\nfun findAllByIds(@PathVariable ids: Array&lt;String&gt;) = service.findAll()\n    .filter { ids.contains(testObject.id) }\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 419, "user_id": 7684768, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-4MZXw5eRzS4/AAAAAAAAAAI/AAAAAAAAAFU/3HT7VCRnHi0/photo.jpg?sz=128", "display_name": "Natty", "link": "https://stackoverflow.com/users/7684768/natty"}, "edited": false, "score": 0, "creation_date": 1565163412, "post_id": 57388840, "comment_id": 101261071, "body": "you should edit your question to add the code you are trying to execute so that we can understand better what you are talking about. Check <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">this link</a>"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 11068616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e74685ff5e7f8c19861717ccffadbb?s=128&d=identicon&r=PG&f=1", "display_name": "JetBrains", "link": "https://stackoverflow.com/users/11068616/jetbrains"}, "edited": false, "score": 0, "creation_date": 1565173276, "post_id": 57391510, "comment_id": 101266243, "body": "I&#39;ve created with Spring Initializr a new Spring Boot Project with Project SDK 11 (java version 11.0.3). And then I&#39;ve chosen Java Version 11. I have the latest Kotlin Version. Thank you for the antwort"}], "tags": [], "owner": {"reputation": 419, "user_id": 7684768, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-4MZXw5eRzS4/AAAAAAAAAAI/AAAAAAAAAFU/3HT7VCRnHi0/photo.jpg?sz=128", "display_name": "Natty", "link": "https://stackoverflow.com/users/7684768/natty"}, "is_accepted": false, "score": 3, "last_activity_date": 1565171612, "last_edit_date": 1565171612, "creation_date": 1565171267, "answer_id": 57391510, "question_id": 57388840, "link": "https://stackoverflow.com/questions/57388840/how-can-i-fix-unresolved-reference-java-in-spring-boot-kotlin-project/57391510#57391510", "title": "How can I fix &quot;Unresolved reference: java&quot; in Spring Boot Kotlin project?", "body": "<p>According to some research, this error can appear in this conditions :</p>\n\n<ul>\n<li>You created a Kotlin2Js project instead of Kotlin JVM (<a href=\"https://discuss.kotlinlang.org/t/kotlin-unresolved-reference-java/6734/3\" rel=\"nofollow noreferrer\">source</a>), try to recreate your project by selecting the right project type</li>\n</ul>\n\n<p>or</p>\n\n<ul>\n<li>You are using a Kotlin version that does not support JDK 11 (<a href=\"https://www.reddit.com/r/Kotlin/comments/6dsmon/unresolved_reference_for_all_classes_from_the/\" rel=\"nofollow noreferrer\">source</a>), install JDK 8 instead and reconfigure your JAVA_HOME environment variable</li>\n</ul>\n\n<p>It may as well be an error in your <code>build.gradle</code> file, copy/paste it in your question if the solutions above doesn't work</p>\n"}, {"tags": [], "owner": {"reputation": 307, "user_id": 11068616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e74685ff5e7f8c19861717ccffadbb?s=128&d=identicon&r=PG&f=1", "display_name": "JetBrains", "link": "https://stackoverflow.com/users/11068616/jetbrains"}, "is_accepted": true, "score": -1, "last_activity_date": 1565339583, "creation_date": 1565339583, "answer_id": 57426265, "question_id": 57388840, "link": "https://stackoverflow.com/questions/57388840/how-can-i-fix-unresolved-reference-java-in-spring-boot-kotlin-project/57426265#57426265", "title": "How can I fix &quot;Unresolved reference: java&quot; in Spring Boot Kotlin project?", "body": "<p>The problem was that JDK was not correct found from IntelliJ </p>\n\n<p><strong>I solved the problem so:</strong></p>\n\n<ol>\n<li>File -> Project Structure -> SDKs -> \"+\"</li>\n<li>Find the path to your SDK where it is installed</li>\n<li>New Project</li>\n<li>Copy/Paste</li>\n<li>Rebuild</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 1, "last_activity_date": 1597705503, "creation_date": 1597705503, "answer_id": 63459728, "question_id": 57388840, "link": "https://stackoverflow.com/questions/57388840/how-can-i-fix-unresolved-reference-java-in-spring-boot-kotlin-project/63459728#63459728", "title": "How can I fix &quot;Unresolved reference: java&quot; in Spring Boot Kotlin project?", "body": "<p>To get a more specific error you should first clean the autogenerated files</p>\n<pre><code>$ ./gradlew clean\n</code></pre>\n<hr />\n<p>In a modularized Spring project using Kotlin DSL the <code>unresolved reference</code> error could occur because the submodules are bootable.</p>\n<h2>build.gradle.kts (Project)</h2>\n<pre><code>...\n\nsubprojects {\n\n    ...\n\n    tasks.getByName&lt;BootJar&gt;(&quot;bootJar&quot;) {\n        enabled = false\n    }\n\n    tasks.getByName&lt;Jar&gt;(&quot;jar&quot;) {\n        enabled = true\n    }\n\n}\n</code></pre>\n<p>GL</p>\n"}], "owner": {"reputation": 307, "user_id": 11068616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e74685ff5e7f8c19861717ccffadbb?s=128&d=identicon&r=PG&f=1", "display_name": "JetBrains", "link": "https://stackoverflow.com/users/11068616/jetbrains"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6615, "favorite_count": 0, "accepted_answer_id": 57426265, "answer_count": 3, "score": 3, "last_activity_date": 1597705503, "creation_date": 1565162020, "last_edit_date": 1565173457, "question_id": 57388840, "link": "https://stackoverflow.com/questions/57388840/how-can-i-fix-unresolved-reference-java-in-spring-boot-kotlin-project", "title": "How can I fix &quot;Unresolved reference: java&quot; in Spring Boot Kotlin project?", "body": "<p>I have created Spring Boot project with</p>\n\n<ul>\n<li>SDK 11. Java Version 11.0.3</li>\n<li>Kotlin as language</li>\n<li>Gradle</li>\n</ul>\n\n<p>I'm following this Tutorial:\n<a href=\"https://scotch.io/@grahamcox82/how-to-build-a-simple-rest-api-with-kotlin-and-spring-boot\" rel=\"nofollow noreferrer\">https://scotch.io/@grahamcox82/how-to-build-a-simple-rest-api-with-kotlin-and-spring-boot</a></p>\n\n<p>I'm trying to </p>\n\n<pre><code>import java.time.Instant\n</code></pre>\n\n<p>in my Kotlin data class</p>\n\n<p>And have an error</p>\n\n<blockquote>\n  <p>Unresolved reference: java</p>\n</blockquote>\n\n<p><strong>build.gradle.kts file:</strong></p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(\"org.springframework.boot\") version \"2.1.6.RELEASE\"\n    id(\"io.spring.dependency-management\") version \"1.0.7.RELEASE\"\n    kotlin(\"jvm\") version \"1.2.71\"\n    kotlin(\"plugin.spring\") version \"1.2.71\"\n}\n\ngroup = \"com.smight\"\nversion = \"0.0.1\"\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\nval developmentOnly by configurations.creating\nconfigurations {\n    runtimeClasspath {\n        extendsFrom(developmentOnly)\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(\"org.springframework.boot:spring-boot-starter-data-mongodb\")\n    implementation(\"org.springframework.boot:spring-boot-starter-webflux\")\n    implementation(\"com.fasterxml.jackson.module:jackson-module-kotlin\")\n    implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    developmentOnly(\"org.springframework.boot:spring-boot-devtools\")\n    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\n    testImplementation(\"io.projectreactor:reactor-test\")\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        jvmTarget = \"1.8\"\n    }\n}\n\n</code></pre>\n\n<p>Maybe I should install java library? How can I check this?\nCan anyone help please?</p>\n"}, {"tags": ["kotlin", "kdoc"], "comments": [{"owner": {"reputation": 451, "user_id": 3811394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cda424634dbce919c5f536793e32e3?s=128&d=identicon&r=PG&f=1", "display_name": "Trickzter", "link": "https://stackoverflow.com/users/3811394/trickzter"}, "reply_to_user": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "edited": false, "score": 0, "creation_date": 1565257577, "post_id": 57388451, "comment_id": 101299710, "body": "I didn&#39;t find this one! +1 for that thank you."}], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 3811394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cda424634dbce919c5f536793e32e3?s=128&d=identicon&r=PG&f=1", "display_name": "Trickzter", "link": "https://stackoverflow.com/users/3811394/trickzter"}, "edited": false, "score": 0, "creation_date": 1565165710, "post_id": 57388957, "comment_id": 101262114, "body": "Yea but it is also based on JavaDoc&#39;s syntax as you can see here: <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/kotlin-doc.html</a> At <a href=\"https://stackoverflow.com/questions/11426959/javadoc-displaying-value-on-an-inner-class-constant-using-value\" title=\"javadoc displaying value on an inner class constant using value\">stackoverflow.com/questions/11426959/&hellip;</a> is an example using the &#39;@value&#39; annotation, but the docs says kotlin doesn&#39;t support this. So I thought there may be another way to achieve what &#39;@value&#39; does."}, {"owner": {"reputation": 100, "user_id": 5703965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fad14cf3867b87277f1b5046695ee6?s=128&d=identicon&r=PG&f=1", "display_name": "qwaler", "link": "https://stackoverflow.com/users/5703965/qwaler"}, "reply_to_user": {"reputation": 451, "user_id": 3811394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cda424634dbce919c5f536793e32e3?s=128&d=identicon&r=PG&f=1", "display_name": "Trickzter", "link": "https://stackoverflow.com/users/3811394/trickzter"}, "edited": false, "score": 1, "creation_date": 1565176192, "post_id": 57388957, "comment_id": 101267844, "body": "Without html postprocessing I do not thing this is possible right now."}], "tags": [], "owner": {"reputation": 100, "user_id": 5703965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fad14cf3867b87277f1b5046695ee6?s=128&d=identicon&r=PG&f=1", "display_name": "qwaler", "link": "https://stackoverflow.com/users/5703965/qwaler"}, "is_accepted": false, "score": 0, "last_activity_date": 1565162470, "creation_date": 1565162470, "answer_id": 57388957, "question_id": 57388451, "link": "https://stackoverflow.com/questions/57388451/kotlin-static-field-value-in-method-documentation/57388957#57388957", "title": "Kotlin static field value in method documentation?", "body": "<p>There is nothing like this, because KDoc is based on markup language. Instead of this, using brackets allows you to link between properties of class. See more here: <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html#inline-markup\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/kotlin-doc.html#inline-markup</a></p>\n"}], "owner": {"reputation": 451, "user_id": 3811394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cda424634dbce919c5f536793e32e3?s=128&d=identicon&r=PG&f=1", "display_name": "Trickzter", "link": "https://stackoverflow.com/users/3811394/trickzter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "closed_date": 1565257931, "answer_count": 1, "score": 3, "last_activity_date": 1565162470, "creation_date": 1565160541, "last_edit_date": 1565162200, "question_id": 57388451, "link": "https://stackoverflow.com/questions/57388451/kotlin-static-field-value-in-method-documentation", "closed_reason": "Duplicate", "title": "Kotlin static field value in method documentation?", "body": "<p>I was wondering if there is a possibility to include the value of a static field of a class into the documentation of a class method.</p>\n\n<p>We can link class members and parameters via square brackets:</p>\n\n<pre><code>/**\n * Sets the title of the notification dialog using [title]\n *\n * The maximum title length allowed is [MAX_TITLE_LENGTH]\n */\nfun setTitle(title: String): NotificationDialog.Builder {\n    if(title.length &lt;= MAX_TITLE_LENGTH)\n        mTitle = title\n    else\n        mTitle = title.substring(0, MAX_TITLE_LENGTH)\n\n    return this\n}\n</code></pre>\n\n<p><strong>Goal</strong></p>\n\n<p>But I would like to have the value of <code>MAX_TITLE_LENGTH</code> in the method documentation and not a link to its name.</p>\n\n<p>For the sake of completeness here is my class definition:</p>\n\n<pre><code>class Builder(val context: Context) {\n    private var mTitle = \"\"\n\n    /**\n     * Sets the title of the notification dialog using [title]\n     *\n     * The maximum title length allowed is [MAX_TITLE_LENGTH]\n     */\n    fun setTitle(title: String): NotificationDialog.Builder {\n        if(title.length &lt;= MAX_TITLE_LENGTH)\n            mTitle = title\n        else\n            mTitle = title.substring(0, MAX_TITLE_LENGTH)\n\n        return this\n    }\n\n    fun build(): NotificationDialog {\n        return NotificationDialog(context, mTitle)\n    }\n\n    companion object {\n        private const val MAX_TITLE_LENGTH = 20\n    }\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "google-drive-api", "google-drive-android-api"], "answers": [{"comments": [{"owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "edited": false, "score": 0, "creation_date": 1566257663, "post_id": 57408469, "comment_id": 101591617, "body": "Thanks but, it is not helpful for me. There are some kinds of time attributes &quot;viewedByMeTime, createdTime, modifiedTime, modifiedByMeTime, sharedTime, ...&quot;. I used them but my list doesn&#39;t same with google drive web screen."}, {"owner": {"reputation": 354, "user_id": 9160410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wetke.jpg?s=128&g=1", "display_name": "Godwin", "link": "https://stackoverflow.com/users/9160410/godwin"}, "edited": false, "score": 0, "creation_date": 1590691901, "post_id": 57408469, "comment_id": 109784160, "body": "you doesn&#39;t need to pass param , by default <a href=\"https://www.googleapis.com/drive/v3/files\" rel=\"nofollow noreferrer\">googleapis.com/drive/v3/files</a> returns recent files"}], "tags": [], "owner": {"reputation": 2283, "user_id": 7500904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oeut.png?s=128&g=1", "display_name": "Jescanellas", "link": "https://stackoverflow.com/users/7500904/jescanellas"}, "is_accepted": false, "score": 0, "last_activity_date": 1565253533, "creation_date": 1565253533, "answer_id": 57408469, "question_id": 57387455, "link": "https://stackoverflow.com/questions/57387455/how-to-get-the-same-result-of-recent-on-google-drive-using-the-api/57408469#57408469", "title": "How to get the same result of &#39;Recent&#39; on Google Drive using the API?", "body": "<p>Try using the next parameters:</p>\n\n<ul>\n<li><strong>OrderBy:</strong> lastviewedByMeDate desc <code>//Use \"desc\", otherwise default lastviewedByMeDate will show you the oldest files first</code></li>\n<li><strong>q:</strong> trashed = false and mimeType != 'application/vnd.google-apps.folder' <code>//So you also avoid files in trash and folders</code></li>\n</ul>\n\n<p>More info about search queries <a href=\"https://developers.google.com/drive/api/v2/search-files#query_search_examples\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I can't give you a coded example as I'm not into <code>kotlin</code>, but I hope this helps!</p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566258079, "creation_date": 1565155431, "last_edit_date": 1566258079, "question_id": 57387455, "link": "https://stackoverflow.com/questions/57387455/how-to-get-the-same-result-of-recent-on-google-drive-using-the-api", "title": "How to get the same result of &#39;Recent&#39; on Google Drive using the API?", "body": "<p>I am developing an android app using the Google Drive API.</p>\n\n<p>Generally, I can get the files using the query API.</p>\n\n<p>What I want to do now is make the same screen with 'Google Drive - Recent'.</p>\n\n<p>But it looks like that there is no API for 'Recent' in <a href=\"https://developers.google.com/drive/api/v3/reference/files/list\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v3/reference/files/list</a></p>\n\n<p>So I am trying...</p>\n\n<ol>\n<li>Get the all list except for Folder type.</li>\n<li>Sort using the time field.</li>\n</ol>\n\n<p>But the result doesn't same with the Web (Google Drive 'Recent').</p>\n\n<p>My sorting logic is here:</p>\n\n<pre><code>fun sort(files: MutableList&lt;com.google.api.services.drive.model.File&gt;) {\n    files.sortBy {\n        val createdTime = it.createdTime?.value ?: 0\n        val modifiedByMeTime = it.modifiedByMeTime?.value ?: 0\n        val modifiedTime = it.modifiedTime?.value ?: 0\n        val viewedByMeTime = it.viewedByMeTime?.value ?: 0\n        val sharedWithMeTime = it.sharedWithMeTime?.value ?: 0\n\n        maxOf(createdTime, modifiedByMeTime, modifiedTime, viewedByMeTime, sharedWithMeTime)\n    }\n}\n</code></pre>\n\n<p>How can I get the same result with web Google Drive 'Recent'?</p>\n\n<p>One more thing...</p>\n\n<p>My target customer is using \"Shared Drive\".\nIn this case, it is more complicated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6MoQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6MoQU.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are \"never\" items on the bottom of the list.\nAnd the file list doesn't show the \"date time\".\nBut in my app, it shows the date.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gkkBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gkkBg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't know how to use the API to get the same \"Recent list\".</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-recyclerview", "android-espresso"], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 6875716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqr0O.jpg?s=128&g=1", "display_name": "Tariqul Islam", "link": "https://stackoverflow.com/users/6875716/tariqul-islam"}, "is_accepted": false, "score": 0, "last_activity_date": 1565160599, "creation_date": 1565160599, "answer_id": 57388463, "question_id": 57387393, "link": "https://stackoverflow.com/questions/57387393/how-to-test-recyclerview-using-espresso-with-test-data-no-from-api-or-database/57388463#57388463", "title": "How to test recyclerview using espresso with test data, no from api or database", "body": "<p>By Espresso you can access your activity. Suppose your <code>recyclerView</code> and <code>adapter</code> are initialized. And let you set adapter in your recyclerView at early stage may be <code>onCreate()</code> or <code>onResume()</code> . But yet you have no item in <code>adapter</code> mean <code>recyclerView</code> item count 0.</p>\n\n<p>So think in your Espresso test. You can access your <code>recyclerView</code> by using </p>\n\n<pre><code>RecyclerView recyclerView = (RecyclerView) mActivityRule.getActivity().findViewById(R.id.our_recycler_view);\n</code></pre>\n\n<p>I think you know about <code>activityRule</code>. Now you get adapter from your recyclerView . <code>recyclerView.getAdapter();</code></p>\n\n<p><strong>Create a list of fake/dummy item</strong> and add your adapter. Wait some millisecond and start operation on your <code>recyclerView</code></p>\n"}], "owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565160599, "creation_date": 1565155063, "question_id": 57387393, "link": "https://stackoverflow.com/questions/57387393/how-to-test-recyclerview-using-espresso-with-test-data-no-from-api-or-database", "title": "How to test recyclerview using espresso with test data, no from api or database", "body": "<p>I am writing a test on recyclerview using espresso, As activity is launched it fetches data from database / API and then assert but in actual scenario I should test recyclerview with test data, I am not able to find any Blog/Post/Documentation where I can test my recyclerview with <strong>Test Data</strong>.</p>\n\n<p>its been so long since users using espresso  but still couldn't find useful something useful for testing recyclerview with test data.</p>\n\n<p>I am using mvvm, dagger2 and jetpack in kotlin. </p>\n\n<p>Please help me If there is any Blog, Post or Documentation which I can follow.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "edited": false, "score": 0, "creation_date": 1565161780, "post_id": 57387343, "comment_id": 101260308, "body": "Please check <code>val image : Image</code> Image class is Parcelable or not. If not, then make it Parcelable"}, {"owner": {"reputation": 1280, "user_id": 4286151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf8ba2c9b6a2b96af1b5ffddf4d02715?s=128&d=identicon&r=PG&f=1", "display_name": "BalaramNayak", "link": "https://stackoverflow.com/users/4286151/balaramnayak"}, "reply_to_user": {"reputation": 4826, "user_id": 1679754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Llrhb.jpg?s=128&g=1", "display_name": "Jignesh mayani", "link": "https://stackoverflow.com/users/1679754/jignesh-mayani"}, "edited": false, "score": 0, "creation_date": 1565163056, "post_id": 57387343, "comment_id": 101260902, "body": "Yes it is parcelable.    @Parcelize data class Image(val path:String,val new_name:String):Parcelable{     fun getImageUrl():String{         //<a href=\"http://sankhep.com/beta/admin/uploads/posts/post_1222811848.png\" rel=\"nofollow noreferrer\">sankhep.com/beta/admin/uploads/posts/post_1222811848.png</a>       return Constants.BASE_URL+Constants.STAGE+&quot;admin/&quot;+path+new_name     } }"}], "owner": {"reputation": 1280, "user_id": 4286151, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bf8ba2c9b6a2b96af1b5ffddf4d02715?s=128&d=identicon&r=PG&f=1", "display_name": "BalaramNayak", "link": "https://stackoverflow.com/users/4286151/balaramnayak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565161061, "creation_date": 1565154800, "last_edit_date": 1565161061, "question_id": 57387343, "link": "https://stackoverflow.com/questions/57387343/java-lang-runtimeexception-parcel-android-os-parcel38699c6-unmarshalling-unkn", "title": "java.lang.RuntimeException: Parcel android.os.Parcel@38699c6: Unmarshalling unknown type code 1279544898 at offset 12472", "body": "<p>I am getting this crash, not in every device but I can see those crash in crashlytics.</p>\n\n<pre><code>Fatal Exception: java.lang.RuntimeException\n</code></pre>\n\n<p>Unable to start activity ComponentInfo{com.sankhep.news/com.sample.news.view.MainActivity}: java.lang.RuntimeException: Parcel android.os.Parcel@38699c6: Unmarshalling unknown type code 1279544898 at offset 12472</p>\n\n<p>Here is my onCreate Method of Main Activity</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    //window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n    category=intent.getParcelableExtra(Constants.EXTRA_CATEGORY)\n    postId=intent.getIntExtra(Constants.EXTRA_FEED_ID,-1)\n}\n</code></pre>\n\n<p>I m using kotlin and Parcelize for parcelable implementation</p>\n\n<p>here is my Parcelable class</p>\n\n<pre><code>@Parcelize\nclass Category(val name:String,\n               val categoryid:Int,\n               val image: Image\n               ):Parcelable {\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "data-binding", "android-livedata"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3473590"}, "edited": false, "score": 0, "creation_date": 1565671862, "post_id": 57389376, "comment_id": 101414952, "body": "As i said it works the other way, so it means these settings are already done. Thank you for your kind answer"}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "edited": false, "score": 0, "creation_date": 1565678089, "post_id": 57389376, "comment_id": 101416846, "body": "@sajad Could you add the whole initialization code of your activity, view model and layout xml to the question? The binding should work, I even created a minimal sample app, and it works fine."}], "tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 4, "last_activity_date": 1565163980, "creation_date": 1565163980, "answer_id": 57389376, "question_id": 57387203, "link": "https://stackoverflow.com/questions/57387203/android-data-binding-does-not-observe-kotlins-livedata-builder/57389376#57389376", "title": "Android data binding does not observe kotlin&#39;s liveData builder", "body": "<p>Did you set lifecycle owner of the binding? The binding initialization should look like: </p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    val binding = DataBindingUtil.setContentView&lt;MyActivityBinding&gt;(this, R.layout.my_activity)\n    binding.setLifecycleOwner(this)\n    binding.viewModel = viewModel.get()\n    ...\n}\n</code></pre>\n\n<p>Fore more details, see: <a href=\"https://developer.android.com/topic/libraries/data-binding/architecture#livedata\" rel=\"nofollow noreferrer\">Use LiveData to notify the UI about data changes</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3473590"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565163980, "creation_date": 1565153879, "question_id": 57387203, "link": "https://stackoverflow.com/questions/57387203/android-data-binding-does-not-observe-kotlins-livedata-builder", "title": "Android data binding does not observe kotlin&#39;s liveData builder", "body": "<p>Android data binding does not observe kotlin's liveData builder</p>\n\n<p>the following code will create a LiveData and it's supposed to be observed by data binding in <code>XML</code> but it doesn't work</p>\n\n<pre><code>val text =\n        liveData(Dispatchers.Default) {\n            emit(\"Hello\")\n}\n</code></pre>\n\n<p>on the other hand if it's gets observed in <code>Kotlin</code> it works fine</p>\n\n<pre><code>  vm.text.observe(lifeCycleOwner,{\n            binding.texti.text = it\n        })\n</code></pre>\n\n<p>the xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:id=\"@+id/texti\"\n                android:text=\"@{viewModel.text}\"\n           /&gt;\n</code></pre>\n\n<p>and if i change the definition of live data to:</p>\n\n<pre><code>val text = MutableLiveData(\"Hello\")\n</code></pre>\n\n<p>data binding automatically observes and sets the text</p>\n\n<p>Am i doing it wrong or it's a bug?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1565164563, "post_id": 57387170, "comment_id": 101261595, "body": "Check <b><a href=\"https://stackoverflow.com/questions/50741958/how-to-paginate-firestore-with-android\">this</a></b> out."}], "answers": [{"tags": [], "owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "is_accepted": true, "score": 0, "last_activity_date": 1565173101, "creation_date": 1565173101, "answer_id": 57392131, "question_id": 57387170, "link": "https://stackoverflow.com/questions/57387170/why-i-always-get-empty-documents-when-using-pagination-in-firestore/57392131#57392131", "title": "why I always get empty documents when using pagination in Firestore", "body": "<p>I finally find the problem,</p>\n\n<p>in <code>.startAfter(lastDocument)</code></p>\n\n<p>that <code>lastDocument</code> still in nullable type (DocumentSnapshot?), it shouldn't.</p>\n"}], "owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57392131, "answer_count": 1, "score": 0, "last_activity_date": 1565173101, "creation_date": 1565153640, "question_id": 57387170, "link": "https://stackoverflow.com/questions/57387170/why-i-always-get-empty-documents-when-using-pagination-in-firestore", "title": "why I always get empty documents when using pagination in Firestore", "body": "<p>I am trying to use pagination by using document snapshot to define the query cursor.</p>\n\n<p>when to fragment is opened for the first time, in onCreateView I use the code below to get 7 events from firestore</p>\n\n<pre><code>fun getAllSearchedEventsFromTheBeginning(startDate: Date, endDate: Date, selectedCity: String, selectedEventType: String, limit: Long, completion: (errorMessage:String?, events: ArrayList&lt;Event&gt;?, lastDocument: DocumentSnapshot?) -&gt; Unit) {\n\n        // not only free events, paid events are also included\n\n        FirestoreCollectionReference.event.getReference()\n            .whereEqualTo(FIRESTORE_EVENT_FIELD_CITY,selectedCity)\n            .whereEqualTo(FIRESTORE_EVENT_FIELD_EVENT_TYPE, selectedEventType)\n            .whereEqualTo(FIRESTORE_EVENT_FIELD_HAS_BEEN_APPROVED,true)\n            .whereGreaterThan(FIRESTORE_EVENT_FIELD_DATE_START_TIME,startDate)\n            .whereLessThan(FIRESTORE_EVENT_FIELD_DATE_START_TIME,endDate)\n            .orderBy(FIRESTORE_EVENT_FIELD_DATE_START_TIME, Query.Direction.ASCENDING)\n            .limit(limit)\n            .get()\n            .addOnSuccessListener { snapshot -&gt;\n\n                val lastDocument = snapshot.documents[snapshot.size() - 1]\n\n                val eventDocuments = snapshot.documents\n\n                val eventArray = ArrayList&lt;Event&gt;()\n\n                for (document in eventDocuments) {\n                    val eventData = document.data\n                    val event = Event(dataEvent = eventData)\n                    eventArray.add(event)\n                }\n\n                completion(null,eventArray, lastDocument)\n\n            }.addOnFailureListener {\n                completion(it.localizedMessage,null,null)\n            }\n\n    }\n</code></pre>\n\n<p>I am using lamda expression, to send the lastVisible document, and that lastVisible document will be used as the starting point for my next query</p>\n\n<p>after reaching the bottom of my recycler view, then I use the code below to get the next 7 documents from firestore</p>\n\n<pre><code>fun getAllSearchedEventsAfterLastDocument(startDate: Date, endDate: Date, selectedCity: String, selectedEventType: String, limit: Long, lastDocument: DocumentSnapshot?, completion: (errorMessage:String?, events: ArrayList&lt;Event&gt;?, lastDocument: DocumentSnapshot?) -&gt; Unit) {\n\n        // not only free events, paid events are also included\n\n        FirestoreCollectionReference.event.getReference()\n            .whereEqualTo(FIRESTORE_EVENT_FIELD_CITY,selectedCity)\n            .whereEqualTo(FIRESTORE_EVENT_FIELD_EVENT_TYPE, selectedEventType)\n            .whereEqualTo(FIRESTORE_EVENT_FIELD_HAS_BEEN_APPROVED,true)\n            .whereGreaterThan(FIRESTORE_EVENT_FIELD_DATE_START_TIME,startDate)\n            .whereLessThan(FIRESTORE_EVENT_FIELD_DATE_START_TIME,endDate)\n            .orderBy(FIRESTORE_EVENT_FIELD_DATE_START_TIME, Query.Direction.ASCENDING)\n            .limit(limit)\n            .startAfter(lastDocument)\n            .get()\n            .addOnSuccessListener { snapshot -&gt;\n\n                val eventDocuments = snapshot.documents\n\n                if (eventDocuments.isEmpty()) {\n\n                    completion(\"Event is empty\",null, null)\n\n                } else {\n\n                    val lastDocument = snapshot.documents.last()\n\n                    val eventArray = ArrayList&lt;Event&gt;()\n\n                    for (document in eventDocuments) {\n                        val eventData = document.data\n                        val event = Event(dataEvent = eventData)\n                        eventArray.add(event)\n                    }\n\n                    completion(null,eventArray, lastDocument)\n                }\n\n\n\n\n\n            }.addOnFailureListener {\n                completion(it.localizedMessage,null,null)\n            }\n\n    }\n</code></pre>\n\n<p>I am sure that I send the same parameters to both of those function,\nand the last documents is also correct, it exactly the same as the last document that appears in my recycler view.</p>\n\n<p>but I always get empty documents if called that second function <code>getAllSearchedEventsAfterLastDocument</code></p>\n\n<p>and this line below always triggered in <code>getAllSearchedEventsAfterLastDocument</code>.</p>\n\n<pre><code>if (eventDocuments.isEmpty()) {\n    completion(\"Event is empty\",null, null)\n}\n</code></pre>\n\n<p>please help me, I am confused.</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1565153074, "post_id": 57387050, "comment_id": 101257440, "body": "can use <code>setEnabled</code> and <code>setFocusable</code> to false will work for you"}, {"owner": {"reputation": 1886, "user_id": 7040366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbDPC.png?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7040366/jake"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1565153617, "post_id": 57387050, "comment_id": 101257569, "body": "I replaced <code>smsMessageInput.setTextColor(...)</code> with <code>smsMessageInput.isFocusable = false</code> and added <code>smsMessageInput.isFocusable = true</code> below <code>smsMessageInput.isEnabled = true</code> however 1) isFocusable isn&#39;t enabling again. I can&#39;t focus on the input, and 2) the text color isn&#39;t changed to the disabled grey color."}, {"owner": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1565153931, "post_id": 57387050, "comment_id": 101257655, "body": "try this link and will work definitely, <a href=\"https://stackoverflow.com/questions/5879250/how-to-disable-edittext-in-android\" title=\"how to disable edittext in android\">stackoverflow.com/questions/5879250/&hellip;</a>"}, {"owner": {"reputation": 1886, "user_id": 7040366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbDPC.png?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7040366/jake"}, "reply_to_user": {"reputation": 1178, "user_id": 4390987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b1jl_2Fvhes/AAAAAAAAAAI/AAAAAAAAABI/6chiwaZsrr8/photo.jpg?sz=128", "display_name": "\u0950 Rakesh Kumar", "link": "https://stackoverflow.com/users/4390987/%e0%a5%90-rakesh-kumar"}, "edited": false, "score": 0, "creation_date": 1565154352, "post_id": 57387050, "comment_id": 101257759, "body": "OK that partially helped. I was able to re-enable the focus again by using <code>smsMessageInput.isFocusableInTouchMode = true</code> instead of <code>smsMessageInput.isFocusable = true</code>. The issue I still have though is that it&#39;s not disabling and unfocusing the input until AFTER <code>client.newCall(...)</code> runs. There&#39;s just a big lag on the screen (it basically freezes) and nothing happens until the text is cleared. The user doesn&#39;t see that the input has been disabled at all."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 9419215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86553597db9f34ed4e1b3caa1fdaae3d?s=128&d=identicon&r=PG", "display_name": "ust", "link": "https://stackoverflow.com/users/9419215/ust"}, "is_accepted": true, "score": 0, "last_activity_date": 1565184952, "creation_date": 1565184952, "answer_id": 57395775, "question_id": 57387050, "link": "https://stackoverflow.com/questions/57387050/android-kotlin-disable-edittext-but-dont-hide-keyboard/57395775#57395775", "title": "Android Kotlin - disable EditText but DON&#39;T hide keyboard", "body": "<p>I am using <code>isFocusable</code> instead of <code>isEnabled</code> for a similar purpose.</p>\n\n<pre><code>smsMessageInput.isFocusable = false\n</code></pre>\n\n<p>But anyway to show soft keyboard:</p>\n\n<pre><code>val inputMethodManager = getSystemService(Activity.INPUT_METHOD_SERVICE) as InputMethodManager\ninputMethodManager.toggleSoftInput(InputMethodManager.SHOW_FORCED, InputMethodManager.HIDE_IMPLICIT_ONLY)\n</code></pre>\n\n<p>And you can <code>requestFocus()</code> in time you want.</p>\n"}], "owner": {"reputation": 1886, "user_id": 7040366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbDPC.png?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7040366/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 1, "accepted_answer_id": 57395775, "answer_count": 1, "score": 0, "last_activity_date": 1565184952, "creation_date": 1565152701, "last_edit_date": 1565153202, "question_id": 57387050, "link": "https://stackoverflow.com/questions/57387050/android-kotlin-disable-edittext-but-dont-hide-keyboard", "title": "Android Kotlin - disable EditText but DON&#39;T hide keyboard", "body": "<p>I have an EditText component for entering the text that will be sent via a POST request to a backend server. As it takes time to process the POST request and wait for a response, I want to disable the EditText input until the request is completed (and if successful, it then clears the text) for UX purposes.</p>\n\n<p>I'm currently using </p>\n\n<pre><code>val smsMessageInput = findViewById&lt;EditText&gt;(R.id.smsMessageInput)\nsmsMessageInput.isEnabled = false\n</code></pre>\n\n<p>However this causes the keyboard to disappear, which isn't what I want to occur. How do I disable the input so the user can't enter text without hiding the keyboard?</p>\n\n<p>I've also tried changing the text colour before the API call runs, however, this doesn't seem to work until AFTER the API call has completed. Here's the code:</p>\n\n<pre><code>smsMessageInput.setTextColor(ContextCompat.getColor(this, R.color.colorLowEmphasis))\n</code></pre>\n\n<p>Ideally, I would like to change the text colour of the EditText to a low-emphasis colour (the typical light-grey disabled colour that is widely used for disabled inputs on websites) and prevent the user from entering text in the EditText component.</p>\n\n<p>Here's the full code I've tried without success:</p>\n\n<pre><code>    fun sendSms(smsToInput: EditText, smsMessageInput: EditText) {\n        smsMessageInput.setTextColor(ContextCompat.getColor(this, R.color.colorLowEmphasis_Dark))\n        smsMessageInput.isEnabled = false\n\n        val formBody = FormBody.Builder()\n            .add(\"to\", smsToInput.text.toString())\n            .add(\"message\", smsMessageInput.text.toString())\n            .build()\n        val request = Request.Builder()\n            .url(\"https://MYURL.com/POST_ROUTE\")\n            .post(formBody)\n            .build()\n\n        client.newCall(request).execute().use { response -&gt;\n            if (!response.isSuccessful) throw IOException(\"Unexpected code $response\")\n            val body = response.body?.string()\n            smsMessageInput.isEnabled = true\n            smsMessageInput.text.clear()\n            println(body)\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-multiplatform", "kotlin-native"], "comments": [{"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "edited": false, "score": 0, "creation_date": 1565165886, "post_id": 57386670, "comment_id": 101262199, "body": "Why are you calling <code>.toString()</code> when your v3 is already String type?"}, {"owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "edited": false, "score": 0, "creation_date": 1565171709, "post_id": 57386670, "comment_id": 101265352, "body": "And also I think you&#39;re using <code>@CName</code> annotation wrong way, as far as it is created for the top-level functions, not for the class members. Example of <code>@CName</code>s usage can be found <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/backend.native/tests/produce_dynamic/simple/\" rel=\"nofollow noreferrer\">here</a>"}], "owner": {"reputation": 11, "user_id": 8335155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbcfd121a23c44ced7d09c6ea2f2b05f?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Chen", "link": "https://stackoverflow.com/users/8335155/vincent-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565166432, "creation_date": 1565149334, "last_edit_date": 1565166432, "question_id": 57386670, "link": "https://stackoverflow.com/questions/57386670/how-to-return-kotlin-native-string", "title": "How to Return Kotlin/Native String?", "body": "<p>I Build a Kotlin/Native Project<br>\n<br>\nMy androidMain code is</p>\n\n<pre><code>class MyTest {\n    @CName(\"Java_sample_MyTest_callMe\")\n    fun callMe(): Int {\n        return 99\n    }\n\n    @CName(\"Java_sample_MyTest_callHello\")\n    fun callHello(): String {\n        return \"MyBook\"\n    }\n}\n</code></pre>\n\n<p>Then My App Code is</p>\n\n<pre><code>class MyTest {\n    companion object {\n        init {\n            System.loadLibrary(\"AndroidNative64\")\n        }\n    }\n\n    external fun callMe(): Int\n    external fun callHello(): String\n}\n</code></pre>\n\n<p>and Call it</p>\n\n<pre><code>// OK\nval v2 = \"\" + MyTest().callMe()\nLog.d(\"TAG\", v2)\n\n// Error\nval v3 = MyTest().callHello()\nLog.d(\"TAG\", v3)\n</code></pre>\n\n<p>Error Message is</p>\n\n<pre><code>invalid reference returned from java.lang.String sample.MyTest.callHello()\n</code></pre>\n\n<p>How to fix it<br>\nThanks You Very Much</p>\n"}, {"tags": ["android", "android-studio", "http", "kotlin"], "comments": [{"owner": {"reputation": 140, "user_id": 10934959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nKcI.png?s=128&g=1", "display_name": "Sagar Poshiya", "link": "https://stackoverflow.com/users/10934959/sagar-poshiya"}, "edited": false, "score": 0, "creation_date": 1565149251, "post_id": 57386643, "comment_id": 101256637, "body": "<a href=\"https://stackoverflow.com/a/26176707/10934959\">stackoverflow.com/a/26176707/10934959</a>"}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 1, "creation_date": 1565149300, "post_id": 57386643, "comment_id": 101256649, "body": "Actually the answer to this depends on the server implementation. Ask your backend dev for Login API."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11822953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04336b3b0f689451bab7e30e527cc476?s=128&d=identicon&r=PG&f=1", "display_name": "adamcampbell", "link": "https://stackoverflow.com/users/11822953/adamcampbell"}, "edited": false, "score": 0, "creation_date": 1565232341, "post_id": 57387052, "comment_id": 101290420, "body": "Thank you! One more question, is there any major disadvantages of using such libraries?"}, {"owner": {"reputation": 5, "user_id": 4385092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-avJtUVdZ5u0/AAAAAAAAAAI/AAAAAAAAAEo/MoivTFMPRdk/photo.jpg?sz=128", "display_name": "Majid Golmoradi", "link": "https://stackoverflow.com/users/4385092/majid-golmoradi"}, "reply_to_user": {"reputation": 23, "user_id": 11822953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04336b3b0f689451bab7e30e527cc476?s=128&d=identicon&r=PG&f=1", "display_name": "adamcampbell", "link": "https://stackoverflow.com/users/11822953/adamcampbell"}, "edited": false, "score": 0, "creation_date": 1565783402, "post_id": 57387052, "comment_id": 101457875, "body": "libraries like these are trend,use it ,Use these, they have no particular harm"}], "tags": [], "owner": {"reputation": 5, "user_id": 4385092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-avJtUVdZ5u0/AAAAAAAAAAI/AAAAAAAAAEo/MoivTFMPRdk/photo.jpg?sz=128", "display_name": "Majid Golmoradi", "link": "https://stackoverflow.com/users/4385092/majid-golmoradi"}, "is_accepted": false, "score": 0, "last_activity_date": 1565152711, "creation_date": 1565152711, "answer_id": 57387052, "question_id": 57386643, "link": "https://stackoverflow.com/questions/57386643/kotlin-how-to-perform-a-http-post-request-for-login-authentication/57387052#57387052", "title": "Kotlin: how to perform a HTTP post request for login authentication", "body": "<p>that's simple and you can do it in many ways,\nOne of the simple way is use this library:\n<a href=\"https://github.com/amitshekhariitbhu/Fast-Android-Networking\" rel=\"nofollow noreferrer\">https://github.com/amitshekhariitbhu/Fast-Android-Networking</a> see Making a POST Request</p>\n\n<p>or use Retrofit</p>\n"}], "owner": {"reputation": 23, "user_id": 11822953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04336b3b0f689451bab7e30e527cc476?s=128&d=identicon&r=PG&f=1", "display_name": "adamcampbell", "link": "https://stackoverflow.com/users/11822953/adamcampbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2230, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565152711, "creation_date": 1565149103, "question_id": 57386643, "link": "https://stackoverflow.com/questions/57386643/kotlin-how-to-perform-a-http-post-request-for-login-authentication", "title": "Kotlin: how to perform a HTTP post request for login authentication", "body": "<p>I am trying to set up a login page for my android studio app, using Kotlin, but I need to send the login details to my url. </p>\n\n<p>How can I use a HTTP post request to send a username and password to a given url?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 1, "creation_date": 1565152425, "post_id": 57386536, "comment_id": 101257318, "body": "Short answer: no. Extended Answer: <a href=\"https://stackoverflow.com/a/33610615/2224047\">stackoverflow.com/a/33610615/2224047</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 1, "last_activity_date": 1565157659, "creation_date": 1565157659, "answer_id": 57387822, "question_id": 57386536, "link": "https://stackoverflow.com/questions/57386536/how-to-convert-lambda-function-in-java-to-kotlin-when-there-is-one-method-in-int/57387822#57387822", "title": "How to convert lambda function in java to kotlin when there is one method in interface?", "body": "<p>You can move your <code>Listener</code> interface to Java file so <code>setListener(Listener { this.onDataAdded(it) })</code> will work. </p>\n\n<p>Or you can use a function instead of the listener like this:</p>\n\n<pre><code>typealias Listener = (TestActivity.TestData) -&gt; Unit\n\nclass TestActivity {\n    private var mListener: Listener? = null\n\n    private fun init() {\n        setListener(this::onDataAdded)\n    }\n\n    private fun onDataAdded(testData: TestData) {\n\n    }\n\n    fun setListener(listener: Listener) {\n        this.mListener = listener\n    }\n\n    inner class TestData {\n        var data: String? = null\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 150, "user_id": 6104745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/bde863516e2611b20b23370ef70b7286?s=128&d=identicon&r=PG&f=1", "display_name": "shinta", "link": "https://stackoverflow.com/users/6104745/shinta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 57387822, "answer_count": 1, "score": 0, "last_activity_date": 1565157659, "creation_date": 1565148096, "question_id": 57386536, "link": "https://stackoverflow.com/questions/57386536/how-to-convert-lambda-function-in-java-to-kotlin-when-there-is-one-method-in-int", "title": "How to convert lambda function in java to kotlin when there is one method in interface?", "body": "<p>I want to set a listener in kotlin. Is there a way we can set it just similar to java lambda function (this::methodName)?</p>\n\n<p>i tried converting it to kotlin automatically but it gives me error InterfaceListener does not have constructors</p>\n\n<pre><code>public class TestActivity {\n\n    private Listener mListener;\n\n    private void init(){\n        setListener(this::onDataAdded);\n    }\n\n    private void onDataAdded(TestData testData) {\n\n    }\n\n    public void setListener(Listener listener) {\n        this.mListener = listener;\n    }\n\n    interface Listener{\n        void onDataAdded(TestData testData);\n    }\n\n    class TestData {\n        String data;\n    }\n\n}\n</code></pre>\n\n<p>java to kotlin IDE converstion\nerror message InterfaceListener does not have constructors</p>\n\n<pre><code>class TestActivity {\n\n    private var mListener: Listener? = null\n\n    private fun init() {\n        setListener(Listener { this.onDataAdded(it) })\n    }\n\n    private fun onDataAdded(testData: TestData) {\n\n    }\n\n    fun setListener(listener: Listener) {\n        this.mListener = listener\n    }\n\n    internal interface Listener {\n        fun onDataAdded(testData: TestData)\n    }\n\n    internal inner class TestData {\n        var data: String? = null\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "for-loop", "kotlin", "iteration", "bluetooth-lowenergy"], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 2, "last_activity_date": 1565128220, "creation_date": 1565128220, "answer_id": 57384463, "question_id": 57384363, "link": "https://stackoverflow.com/questions/57384363/iterate-over-characters-of-string-in-kotlin/57384463#57384463", "title": "iterate over characters of string in kotlin", "body": "<p>Presumably, there are a couple off-by-one errors in your code.</p>\n\n<p>You may find <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/chunked.html\" rel=\"nofollow noreferrer\"><code>chunked</code></a> extension function useful here:</p>\n\n<pre><code>fun verifySensor(template: String) {\n\n    template.chunked(20).forEach { subTemplate -&gt;\n        writeToService(subTemplate.toByteArray())\n    }\n\n    writeToService(\"VERIFY\".toByteArray())\n\n}\n</code></pre>\n\n<p>Note that if your template string contains non-ascii characters, the encoded substring of 20 characters may be longer than 20 bytes. If that is a problem for your service, then you should convert string to bytes first, and send those bytes in chunks then.</p>\n"}, {"tags": [], "owner": {"reputation": 1441, "user_id": 1595442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7170ac78ee85ba42fe8a883edc2320d?s=128&d=identicon&r=PG", "display_name": "faranjit", "link": "https://stackoverflow.com/users/1595442/faranjit"}, "is_accepted": false, "score": 0, "last_activity_date": 1565128362, "creation_date": 1565128362, "answer_id": 57384482, "question_id": 57384363, "link": "https://stackoverflow.com/questions/57384363/iterate-over-characters-of-string-in-kotlin/57384482#57384482", "title": "iterate over characters of string in kotlin", "body": "<p>I think it can be wrong <code>val iterationTimes = template.length / 20</code>. For example;</p>\n\n<p><code>20 / 21 returns 1</code> but you should iterate 2 times. So maybe you can increase <code>iterationTimes</code> like <code>val iterationTimes = template.length / 20 + 1</code></p>\n"}, {"tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": false, "score": 1, "last_activity_date": 1565128763, "creation_date": 1565128763, "answer_id": 57384550, "question_id": 57384363, "link": "https://stackoverflow.com/questions/57384363/iterate-over-characters-of-string-in-kotlin/57384550#57384550", "title": "iterate over characters of string in kotlin", "body": "<p><strong>First</strong>, this division:</p>\n\n<pre><code>val iterationTimes = template.length / 20\n</code></pre>\n\n<p>is an integer division, so if the length of the string is not a multiple of 20 then the result will be the integer part of the division (for <code>length = 90</code> the result is <code>4</code>) and the calculated iterations will leave out the last part of the string (the remainder of the division <code>length / 20</code>). <br/><br/>\n<strong>Second</strong>, when you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/until.html\" rel=\"nofollow noreferrer\"><code>until</code></a> to define a range, like this loop:</p>\n\n<pre><code>for (value in 1 until iterationTimes)\n</code></pre>\n\n<p>you should know that the upper limit is excluded.<br/>\nSo the iterations stop when <code>value</code> reaches <code>iterationTimes - 1</code> and you miss the last iteration.<br/></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 11891879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJ2R9.jpg?s=128&g=1", "display_name": "Oy3", "link": "https://stackoverflow.com/users/11891879/oy3"}, "is_accepted": false, "score": 0, "last_activity_date": 1565794978, "creation_date": 1565794978, "answer_id": 57497343, "question_id": 57384363, "link": "https://stackoverflow.com/questions/57384363/iterate-over-characters-of-string-in-kotlin/57497343#57497343", "title": "iterate over characters of string in kotlin", "body": "<p>So this worked for me</p>\n\n<pre><code>fun verifySensor(template: String) {\n\n    val raw = template.decodeHex().toByteArray()\n\n\n    var index = 0\n    while (index &lt; raw.size) {\n        val chunkSize: IntRange = if (index + 19 &gt; raw.lastIndex) {\n            IntRange(index, raw.lastIndex)\n        } else {\n            IntRange(index, index + 19)\n        }\n\n        val chunkList = raw.slice(chunkSize)\n\n        val chunk = chunkList.toByteArray()\n        Thread.sleep(350)\n        index += 20\n\n        writeToService(chunk)\n    }\n    Thread.sleep(350)\n    writeToService(\"VERIFY\".toByteArray())\n}\n</code></pre>\n\n<p>Here :: </p>\n\n<pre><code>val raw = template.decodeHex().toByteArray()\n</code></pre>\n\n<p>I used Okio library <a href=\"https://github.com/square/okio\" rel=\"nofollow noreferrer\">https://github.com/square/okio</a> to decode the strings of Hex </p>\n\n<pre><code>implementation \"com.squareup.okio:okio:2.3.0\"\n</code></pre>\n\n<p>I faced problems when trying to send the chunk of bytes, most of the bytes weren't sending to the service.\nSo, i had to sleep the thread for 350 milliseconds for each chunk of bytes to send completely.</p>\n"}], "owner": {"reputation": 53, "user_id": 11891879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kJ2R9.jpg?s=128&g=1", "display_name": "Oy3", "link": "https://stackoverflow.com/users/11891879/oy3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4258, "favorite_count": 0, "accepted_answer_id": 57384463, "answer_count": 4, "score": 2, "last_activity_date": 1565794978, "creation_date": 1565127625, "question_id": 57384363, "link": "https://stackoverflow.com/questions/57384363/iterate-over-characters-of-string-in-kotlin", "title": "iterate over characters of string in kotlin", "body": "<p>I'm trying write a loop that will break down a template of strings and send it 20 bytes per iteration in kotlin.</p>\n\n<pre><code>fun verifySensor(template: String) {\n\n    var previousValue = 0\n\n    val iterationTimes = template.length / 20\n\n    for (value in 1 until iterationTimes) {\n        val templateByte = if (value == iterationTimes) {\n            template.substring(previousValue until template.length - 1).toByteArray()\n        } else {\n            val subTemplate = template.substring(previousValue until (20 * value))\n            subTemplate.toByteArray()\n        }\n\n        //Write the bytes to the sensor here\n        writeToService(templateByte)\n        previousValue += 20\n\n        Log.i(TAG, \"template &gt;&gt;&gt; :: ${templateByte.toString(Charsets.UTF_8)}\")\n\n\n    }\n    writeToService(\"VERIFY\".toByteArray())\n\n\n    Log.i(TAG, \"Writing finger template in Byte\")\n\n}\n</code></pre>\n\n<p>I'm getting an output of >></p>\n\n<p>040c62008efa8675463a\nf40785d3877b854870d8\nb61b85d342f747ffd1f3\n86648a877410fa2b887e\n074b6ec8d16c887c9578\ne6f8358586bac3f70bff\n41a587c04af9d9ef394d\n88132cebfe17d6c2881a\nc19979fefae2889102ca\nf3cf8ac48889c8f86b68\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n000000000000725a7353\n95257462355224a396f2\n0f000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000</p>\n\n<p>But i'm expecting >></p>\n\n<p>040c62008efa8675463a\nf40785d3877b854870d8\nb61b85d342f747ffd1f3\n86648a877410fa2b887e\n074b6ec8d16c887c9578\ne6f8358586bac3f70bff\n41a587c04af9d9ef394d\n88132cebfe17d6c2881a\nc19979fefae2889102ca\nf3cf8ac48889c8f86b68\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n000000000000725a7353\n95257462355224a396f2\n0f000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n00000000000000000000\n000000000000733d</p>\n\n<p>The last two lines of the expected output is being omitted </p>\n\n<p>\"00000000000000000000\n000000000000733d\"</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-data-jpa", "spring-rest"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 8121862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc529f662769d227fe96635b194ec709?s=128&d=identicon&r=PG", "display_name": "Jim ReesPotter", "link": "https://stackoverflow.com/users/8121862/jim-reespotter"}, "edited": false, "score": 0, "creation_date": 1565208045, "post_id": 57384474, "comment_id": 101284654, "body": "I think you are right. I just didn&#39;t want to have to make the changes to the Image class. Would this still work if Image implemented 2 interfaces both declaring &#39;name&#39;?"}, {"owner": {"reputation": 527, "user_id": 10997589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd205da5c101d996111d97005f3e1e76?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/10997589/joe"}, "reply_to_user": {"reputation": 307, "user_id": 8121862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc529f662769d227fe96635b194ec709?s=128&d=identicon&r=PG", "display_name": "Jim ReesPotter", "link": "https://stackoverflow.com/users/8121862/jim-reespotter"}, "edited": false, "score": 0, "creation_date": 1565299538, "post_id": 57384474, "comment_id": 101320883, "body": "should work fine as long as they both declare name w/ the same type"}], "tags": [], "owner": {"reputation": 527, "user_id": 10997589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd205da5c101d996111d97005f3e1e76?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/10997589/joe"}, "is_accepted": true, "score": 7, "last_activity_date": 1565128293, "creation_date": 1565128293, "answer_id": 57384474, "question_id": 57384255, "link": "https://stackoverflow.com/questions/57384255/interfaces-exposing-properties-and-kotlin-data-classes/57384474#57384474", "title": "Interfaces exposing properties and Kotlin data classes", "body": "<p>Here's how I'd define these in kotlin, just using a <code>name</code> property (no need for a <code>getName()</code> method) and being sure to use the <code>override</code> keyword:</p>\n\n<pre><code>interface HasName {\n   val name: String\n}\n\ndata class Image(override val name: String, val url: URL): HasName\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 8121862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc529f662769d227fe96635b194ec709?s=128&d=identicon&r=PG", "display_name": "Jim ReesPotter", "link": "https://stackoverflow.com/users/8121862/jim-reespotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 57384474, "answer_count": 1, "score": 0, "last_activity_date": 1565128293, "creation_date": 1565127036, "last_edit_date": 1592644375, "question_id": 57384255, "link": "https://stackoverflow.com/questions/57384255/interfaces-exposing-properties-and-kotlin-data-classes", "title": "Interfaces exposing properties and Kotlin data classes", "body": "<p>I've got a data class in Kotlin:</p>\n<pre><code>data class Image (val name: String, val url: URL) {}\n</code></pre>\n<p>I want to serve a list of these Images via REST (Spring Boot, JPA), but I just want certain properties (in this example just the names, not the URLs) to be served. From what I have read I need to use a projection - define an interface with just a 'getName' function:</p>\n<pre><code>interface HasName {\n  fun getName () : String\n}\n</code></pre>\n<p>..then set the data class to implement this, and get the RestController to serve HasNames rather than Images:</p>\n<pre><code>@GetMapping(&quot;/images&quot;)\nfun getImages () : List &lt;HasName&gt; {\n  return imageService.getImages()\n}\n</code></pre>\n<p>(or that's what I'd do in Java anyway).</p>\n<p>However, if I do this in Kotlin:</p>\n<pre><code>data class Image (val name: String, val url: URL) : HasName {}  \n</code></pre>\n<p>I get an error:</p>\n<blockquote>\n<p>Accidental override: The following declarations have the same JVM signature (getUrl()Ljava/net/URL;):</p>\n<p>public final fun <code>&lt;</code>get-url<code>&gt;</code>(): URL defined in com.figmentsignage.server.data.campaign.Image\npublic abstract fun getUrl(): URL defined in com.figmentsignage.server.data.campaign.Image</p>\n</blockquote>\n<p>Is there an easy way around this? I can give the method a different name and redefine it in the Image class, but that's a bit messy. Or I can define the 'name' variable in the interface and override it in the Image, again messy. I ideally want to change the Image class as little as possible.</p>\n"}, {"tags": ["android-studio", "kotlin", "android-progressbar"], "comments": [{"owner": {"reputation": 1987, "user_id": 7540393, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yVoRD.jpg?s=128&g=1", "display_name": "Arthur Attout", "link": "https://stackoverflow.com/users/7540393/arthur-attout"}, "edited": false, "score": 0, "creation_date": 1565126566, "post_id": 57384137, "comment_id": 101252421, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10000400/mediaplayer-progressbar\">MediaPlayer, ProgressBar</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11563547"}, "edited": false, "score": 0, "creation_date": 1565127023, "post_id": 57384137, "comment_id": 101252558, "body": "It would be helpful to explain what you expect the progress bar to do and how it&#39;s failing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11563547"}, "edited": false, "score": 0, "creation_date": 1565127025, "post_id": 57384137, "comment_id": 101252559, "body": "It would be helpful to explain what you expect the progress bar to do and how it&#39;s failing."}], "owner": {"reputation": 1, "user_id": 11861576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f3bd599c3d810a170aa6197a324bca?s=128&d=identicon&r=PG", "display_name": "404_devNotFound", "link": "https://stackoverflow.com/users/11861576/404-devnotfound"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565126339, "creation_date": 1565126339, "question_id": 57384137, "link": "https://stackoverflow.com/questions/57384137/how-would-you-hook-up-a-progressbar-to-a-song", "title": "How would you hook up a progressBar to a song?", "body": "<p>My progressBar should be hooked up to a song, where it shows its progression when it is playing. It has occurred to me that I really don't know how to achieve this, thus my code may look ridiculous to some of you. </p>\n\n<pre><code>//Find  view By Id for PROGRESS / SEEK BAR,Button\n        val progressBar = findViewById&lt;ProgressBar&gt;(R.id.myLastBar) as ProgressBar\n        val btn = findViewById&lt;Button&gt;(R.id.playMyLastBreath) as Button\n        if(progressBar != null) {\n           // progressBar.visibility = View.GONE\n        }\n\n            //On Click for Button\n            btn.setOnClickListener {\n\n                //Set button clickable false to stop multiple clicks at a time\n                btn.isClickable = false\n\n                //Thread to change status of progress bar\n                var status = 0   //Initial status of progress bar\n\n                Thread(Runnable {\n\n                    while (status &lt; 100) {\n\n                        status += 1\n\n                        //if error occurs, then it will handle in try-catch block.\n\n                        try {\n\n                            Thread.sleep(30)\n                            progressBar.setProgress(status)\n                        } catch (e: Exception) {\n\n                            Log.e(\"Error\", e.message)\n                        }\n\n                    }\n\n                    //Set button clickable true after progress complete\n                    btn.isClickable = true\n\n                }).start()\n\n            }\n</code></pre>\n"}, {"tags": ["kotlin", "coroutine", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "is_accepted": true, "score": 2, "last_activity_date": 1565206036, "last_edit_date": 1565206036, "creation_date": 1565205493, "answer_id": 57401008, "question_id": 57383849, "link": "https://stackoverflow.com/questions/57383849/using-groupby-groupingby-aggregate-to-sum-into-smaller-buckets-in-parallel/57401008#57401008", "title": "Using groupBy/groupingBy/aggregate to sum into smaller buckets in parallel?", "body": "<p>So after <code>groupingBy</code> we have a <code>Grouping</code> object, which we can use to aggregate values. It's important to notice the grouping itself has not been done yet, we basically have a description how to group the values and an iterator of the original array. From here we have a few options:</p>\n\n<ol>\n<li>Create a <a href=\"https://kotlinlang.org/docs/reference/coroutines/channels.html\" rel=\"nofollow noreferrer\">Channel</a> from the iterator and launch a few worker coroutines to consume it in parallel. Channels support fan-out, so every item in the source is processed by one worker only. The problem here is all the workers need to update different items in the resulting array, so synchronization is required and that's where it gets tricky and likely inefficient.</li>\n<li>To avoid multiple workers to write to the same item, we need to tell each of them what items to process. That mean either each of the worker should process all the items, picking only suitable or we should precalculate the groups in advance and feed the workers with the groups. Both approaches have pretty much the same performance as the serial algorithm, so do not make any sense.</li>\n</ol>\n\n<p>So to parallelize it efficiently we want to avoid having a shared mutable state, because it requires synchronization. Obviously we don't want to precalculate the groups also. </p>\n\n<p>My suggestion here is to come from another side - instead of mapping original array to sampled one, let's map sampled array to the original. So we say </p>\n\n<p><a href=\"https://i.stack.imgur.com/VuqaO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VuqaO.png\" alt=\"formula to calculate pixel\"></a></p>\n\n<p>This approaches makes each value to be calculated independently by one worker, so no synchronization needed. Now we can implement it like this:</p>\n\n<pre><code>suspend fun sample() {\n   val asyncFactor = 8\n   val src = Image(bufferArray, width)\n   val dst = Image(src.width / SCALE, src.height / SCALE)\n\n   val chunkSize = dst.sizeBytes / asyncFactor \n   val jobs = Array(asyncFactor) { idx -&gt;\n       async(Dispatchers.Default) {\n           val chunkStartIdx = chunkSize * idx\n           val chunkEndIdxExclusive = min(chunkStartIdx + chunkSize, dst.sizeBytes)\n           calculateSampledImageForIndexes(src, dst, chunkStartIdx, chunkEndIdxExclusive, SCALE)\n       }\n   }\n   awaitAll(*jobs)\n}\n\nprivate fun calculateSampledImageForIndexes(src: Image, dst: Image, startIdx: Int, exclusiveEndIdx: Int, scaleFactor: Int) {\n    for (i in startIdx until exclusiveEndIdx) {\n        val destX = i % dst.width\n        val destY = i / dst.width\n\n        val srcX = destX * scaleFactor\n        val srcY = destY * scaleFactor\n\n        var sum = 0\n        for (xi in 0 until scaleFactor) {\n            for (yi in 0 until scaleFactor) {\n                sum += src[srcX + xi, srcY + yi]\n            }\n        }\n        dst[destX, destY] = sum / (scaleFactor * scaleFactor)\n    }\n}\n</code></pre>\n\n<p>Where <code>Image</code> is a convenient wrapper around the image data buffer:</p>\n\n<pre><code>class Image(val buffer: ByteArray, val width: Int) {\n    val height = buffer.size / width\n\n    val sizeBytes get() = buffer.size\n\n    constructor(w: Int, h: Int) : this(ByteArray(w * h), w)\n\n    operator fun get(x: Int, y: Int): Byte = buffer[clampX(x) * width + clampY(y)]\n\n    operator fun set(x: Int, y: Int, value: Int) {\n        buffer[x * width + y] = (value and 0xFF).toByte()\n    }\n\n    private fun clampX(x: Int) = max(min(x, width), 0)\n    private fun clampY(y: Int) = max(min(y, height), 0)\n}\n</code></pre>\n\n<p>Also, with this approach you can easily implement many <a href=\"https://en.wikipedia.org/wiki/Kernel_(image_processing)\" rel=\"nofollow noreferrer\">image processing</a> functions, which based on convolution operation, like blur and edge detection.  </p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 1, "accepted_answer_id": 57401008, "answer_count": 1, "score": 3, "last_activity_date": 1565206036, "creation_date": 1565124790, "question_id": 57383849, "link": "https://stackoverflow.com/questions/57383849/using-groupby-groupingby-aggregate-to-sum-into-smaller-buckets-in-parallel", "title": "Using groupBy/groupingBy/aggregate to sum into smaller buckets in parallel?", "body": "<p>I've got a collection of \"stuff\", and I'd like to sum it into smaller buckets.  (In my particular case, I'm downsampling a luma channel of an image by 8x.)</p>\n\n<p>I'd like it to be as fast as possible on your average multi-core android device, which I think means coroutine-per-bucket.  (because there isn't any reason to play with IntAdders if I don't have to)</p>\n\n<p>The naive linear solution: </p>\n\n<pre><code>val SCALE = 8\nimage.planes[0].buffer.toByteArray().forEachIndexed { index, byte -&gt;\n    val x1 = index % image.width\n    val y1 = index / image.width\n    val x2 = x1 / SCALE\n    val y2 = y1 / SCALE\n    val quadIdx = y2 * (image.width / SCALE) + x2\n    summedQuadLum[quadIdx] += (byte.toInt() and 0xFF)\n}\n</code></pre>\n\n<p>That isn't great - needs to pre-declare the <code>summedQuadLum</code> collection, and doesn't have any chance of parallel work.</p>\n\n<p>I'd love to use <code>groupBy</code>, or <code>groupingBy</code>? or <code>aggregate</code>?) but those all seem to use the values to determine the new keys, and I need to use the <strong>key</strong> to determine the new keys.  I think the least overhead is <code>withIndex</code> which could be done as</p>\n\n<pre><code>val thumbSums = bufferArray.withIndex().groupingBy { (idx, _) -&gt;\n    val x1 = idx % previewImageDimension.width\n    val y1 = idx / previewImageDimension.width\n    val x2 = x1 / SCALE\n    val y2 = y1 / SCALE\n    y2 * (previewImageDimension.width / SCALE) + x2\n}.aggregate { _, acc: Int?, (_, lum), _ -&gt;\n    (acc ?: 0) + (lum.toInt() and 0xFF)\n}.values.toIntArray()\n</code></pre>\n\n<p>Much better, it is <strong>really</strong> close - if I could figure out how to sum each bucket in a coroutine, I think it would be as good as can be expected.</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 370, "user_id": 1937296, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f6cf4a63f00c435624aa8068ff8582e?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1937296/dennis"}, "edited": false, "score": 0, "creation_date": 1565122391, "post_id": 57383126, "comment_id": 101250994, "body": "Sorry for the comment. The default data seem to be created because I see in the RecyclerView, but if I look inside the database it&#39;s empty. The second time that I run the application I see the data in database"}, {"owner": {"reputation": 370, "user_id": 1937296, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f6cf4a63f00c435624aa8068ff8582e?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1937296/dennis"}, "edited": false, "score": 0, "creation_date": 1565122737, "post_id": 57383126, "comment_id": 101251101, "body": "I think that the first time that I run the application the data are written (because the second time that I run, opening the database I see the Id = 2 instead of 1) but maybe it&#39;s a problem of database refreshing."}], "owner": {"reputation": 370, "user_id": 1937296, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5f6cf4a63f00c435624aa8068ff8582e?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1937296/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1565121367, "creation_date": 1565121367, "question_id": 57383126, "link": "https://stackoverflow.com/questions/57383126/how-load-some-default-data-to-a-database", "title": "How load some default data to a database", "body": "<p>I followed this tutorial <a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view-kotlin/#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/android-room-with-a-view-kotlin/#0</a> to create a Sqlite DB using Room and couroutines. Everything work fine, but I'm not able (and I don't understand why) to create a default data in my application. Here below my code</p>\n\n<pre><code>@Database(entities = [Challenge::class, ChallengeDay::class], version = 1)\nabstract class MyDB: RoomDatabase() {\n\n    abstract fun challengeDao(): ChallengeDao\n    abstract fun challengeDayDao(): ChallengeDayDao\n\n    companion object {\n\n        @Volatile\n        private var INSTANCE: MyDB? = null\n\n        fun getDatabase(ctx: Context, scope: CoroutineScope): MyDB {\n            return INSTANCE ?: synchronized(this) {\n                val instance = Room.databaseBuilder(ctx.applicationContext, MyDB::class.java, \"MY_DATABASE\").addCallback(MyDBCallback(scope)).build()\n\n                INSTANCE = instance\n\n                instance\n            }\n        }\n\n        private class MyDBCallback(private val scope: CoroutineScope): RoomDatabase.Callback() {\n            override fun onOpen(db: SupportSQLiteDatabase) {\n                super.onOpen(db)\n                INSTANCE?.let { database -&gt;\n                    scope.launch(Dispatchers.IO) {\n                        populateDatabase(database.challengeDao(), database.challengeDayDao())\n                    }\n                }\n            }\n        }\n\n        suspend fun populateDatabase(challengeDao: ChallengeDao, challengeDayDao: ChallengeDayDao) {\n\n            val standardChallenge = Challenge(name = \"Standard challenge\", standard = true)\n            val id = challengeDao.insert(standardChallenge)\n\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 1, done = false, challengeId = id, seconds = 20))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 2, done = false, challengeId = id, seconds = 20))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 3, done = false, challengeId = id, seconds = 30))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 4, done = false, challengeId = id, seconds = 30))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 5, done = false, challengeId = id, seconds = 20))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 6, done = false, challengeId = id, seconds = null))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 7, done = false, challengeId = id, seconds = 45))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 8, done = false, challengeId = id, seconds = 45))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 9, done = false, challengeId = id, seconds = 60))\n            challengeDayDao.insert(ChallengeDay(numberOfDay = 10, done = false, challengeId = id, seconds = 60))\n        }\n    }\n}\n</code></pre>\n\n<p>I call the function <code>getDatabase</code> from the <code>ViewModel</code> class like this</p>\n\n<pre><code>class ChallengeViewModel(application: Application): AndroidViewModel(application) {\n\n    private val challengeRepository: ChallengeRepository\n\n    val challenges: LiveData&lt;List&lt;Challenge&gt;&gt;\n\n    init {\n        val challengeDao = MyDB.getDatabase(application, viewModelScope).challengeDao()\n        challengeRepository = ChallengeRepository(challengeDao)\n\n        challenges = challengeRepository.allChallenges\n    }\n}\n</code></pre>\n\n<p>I noticed that the first time I run the app, the database will be created but it's empty. If I stop the application and then I re-run the database will be populated with default data. </p>\n\n<p>Another doubt. When I write the default data in my db how I can avoid to call <code>populateDatabase</code> every time that the app is run?</p>\n\n<p>Thanks to all.</p>\n"}, {"tags": ["java", "android", "encryption", "kotlin", "aes-gcm"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565118241, "post_id": 57382238, "comment_id": 101249219, "body": "I can&#39;t reproduce. Printing the value of <code>read</code> immediately after the call to cipher.update() prints 512. Writing in chunks to a ByteArrayOutputStream and printing the length of baos.toByteArray() also shows an increasing size at each iteration. I had to remove the IvParameterSpec though, because it causes a java.security.InvalidAlgorithmParameterException."}, {"owner": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565118534, "post_id": 57382238, "comment_id": 101249347, "body": "Interesting... maybe I should have clarified this is on Android if that might make a difference to how it&#39;s implemented. Will update my question to reflect that."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1565119840, "post_id": 57382238, "comment_id": 101249900, "body": "This is a &quot;feature&quot; of GCM mode. On decryption the plaintext is &quot;embargoed&quot; until <code>doFinal</code> is called and the tag can be verified. The reason for this is simple: if <code>update()</code> handed you back plaintext as soon as it was produced and at the end the tag failed to verify, the plaintext you were handed would be invalid. <code>doFinal()</code> would have no way to recall the defective plaintext, and you would have no way to recall the nuclear missile you just launched based on that defective plaintext."}, {"owner": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1565119885, "post_id": 57382238, "comment_id": 101249916, "body": "Unfortunately, this is the choice of library designers. See the comment of Maarten under this <a href=\"https://stackoverflow.com/a/54056229/1820553\">answer</a>. You can divide and chain your data if you want to."}, {"owner": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "reply_to_user": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1565120146, "post_id": 57382238, "comment_id": 101250045, "body": "@JamesKPolk I understand that when decrypting, but in this case I am looking to encrypt the file, in which case there is no need to verify the tag (since I am generating it!)"}, {"owner": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "reply_to_user": {"reputation": 3791, "user_id": 1820553, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NZb6uZzo4Gg/AAAAAAAAAAI/AAAAAAAAAo0/xTr6RvgMTRw/photo.jpg?sz=128", "display_name": "kelalaka", "link": "https://stackoverflow.com/users/1820553/kelalaka"}, "edited": false, "score": 0, "creation_date": 1565120332, "post_id": 57382238, "comment_id": 101250126, "body": "@kelalaka I was worried this might be the case, thanks this is a useful comment chain"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1565120833, "post_id": 57382238, "comment_id": 101250333, "body": "For encrypt mode no data need be cached at all."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1565121539, "post_id": 57382238, "comment_id": 101250668, "body": "Just confirmed this on an Android emulator. Seems like a bug to me. I&#39;ll try to trace this at little farther."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1565122628, "post_id": 57382238, "comment_id": 101251065, "body": "I believe <a href=\"https://github.com/google/conscrypt/blob/master/common/src/main/java/org/conscrypt/OpenSSLAeadCipher.java\" rel=\"nofollow noreferrer\">this</a> is the relevant source code, in particular the <code>updateInternal()</code> method. You can see it always returns 0. I&#39;m not sure why, but I have a guess, namely that they are trying to shoehorn both GCM and CCM modes through one interface."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 1, "creation_date": 1565124006, "post_id": 57382238, "comment_id": 101251533, "body": "I&#39;m going to go ahead and open an issue at <a href=\"https://github.com/google/conscrypt/issues\" rel=\"nofollow noreferrer\">conscrypt issues</a>. Almost certainly it will be ignored though. In the meantime, I suspect that a different provider such as bouncycastle will produce the expected results. However, total throughput will probably still be faster for the default Conscrypt provider because it uses native code. It&#39;s a tradeoff you have to decide on."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "edited": false, "score": 0, "creation_date": 1565132340, "post_id": 57384337, "comment_id": 101253880, "body": "Thanks for looking into this in so much detail. Regarding CCM, that is my mistake, it turns out Cipher chooses the built in BC provider on Android when specifying CCM, and I can&#39;t seem to replicate this behaviour in that case now. I will consider using GCM with BouncyCastle, or possibly CTR+HMAC with Conscrypt which does provide output from <code>update()</code>"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1565132558, "post_id": 57384337, "comment_id": 101253913, "body": "&#39;Limitation&#39;? Bug?"}, {"owner": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "edited": false, "score": 0, "creation_date": 1565132779, "post_id": 57384337, "comment_id": 101253965, "body": "Interestingly, Android complains that the built in BC no longer supports AES/GCM if I explicitly call <code>Cipher.getInstance(&quot;AES&#47;GCM&#47;NoPadding&quot;, &quot;BC&quot;)</code>, but I can coerce it into using BC if I don&#39;t specify the provider in <code>getInstance</code> but change the nonce size to something other than 12 (not that I want to do that)."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1565133242, "post_id": 57384337, "comment_id": 101254040, "body": "@user207421: It returns the correct result and complies with Javadocs, it just does so in a most unsatisfying way."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "reply_to_user": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "edited": false, "score": 1, "creation_date": 1565133448, "post_id": 57384337, "comment_id": 101254079, "body": "@Will: IIRC the BC provider is no longer supported by Android except for some backward compatibility, but you can add the BC jars to your Android project dependencies. Make sure you do <code>Security.removeProvider(&quot;BC&quot;); Security.addProvider(new BouncyCastleProvider());</code> before trying to use it."}], "tags": [], "owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "is_accepted": true, "score": 5, "last_activity_date": 1565132399, "last_edit_date": 1565132399, "creation_date": 1565127440, "answer_id": 57384337, "question_id": 57382238, "link": "https://stackoverflow.com/questions/57382238/java-cipher-update-does-not-write-to-buffer-when-using-aes-gcm-android-9/57384337#57384337", "title": "Java Cipher.update does not write to buffer when using AES/GCM (Android 9)", "body": "<p>This is caused by a limitation in the Conscrypt provider that Android now uses by default. Here is an example of code that I'm running <em>not</em> an Android but rather on my Mac that explicitly uses the Conscrypt provider, and next uses the Bouncycastle (BC) provider to show the difference. Therefore a work around is to add the BC provider to your Android project and specify it explicitly when calling <code>Cipher.getInstance()</code>. There is a tradeoff, of course. While the BC provider will return ciphertext to you for every call to <code>update()</code> the overall throughput will probably be substantially less since Conscrypt uses native libraries and BC is pure Java.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.conscrypt.Conscrypt;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.GCMParameterSpec;\nimport java.security.GeneralSecurityException;\nimport java.security.Provider;\nimport java.security.SecureRandom;\nimport java.security.Security;\n\npublic class ConscryptIssue1 {\n\n    private final static Provider CONSCRYPT = Conscrypt.newProvider();\n    private final static Provider BC = new BouncyCastleProvider();\n\n    public static void main(String[] args) throws GeneralSecurityException {\n        Security.addProvider(CONSCRYPT);\n        doExample();\n    }\n\n    private static void doExample() throws GeneralSecurityException {\n        final SecureRandom secureRandom = new SecureRandom();\n        {\n            // first, try with Conscrypt\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(\"AES\");\n            keyGenerator.init(256, secureRandom);\n            SecretKey aesKey = keyGenerator.generateKey();\n            byte[] plaintext = new byte[10000]; // plaintext is all zeros\n            byte[] nonce = new byte[12];\n            secureRandom.nextBytes(nonce);\n            Cipher c = Cipher.getInstance(\"AES/GCM/NoPadding\", CONSCRYPT);// specify the provider explicitly\n            GCMParameterSpec spec = new GCMParameterSpec(128, nonce);// tag length is specified in bits.\n            c.init(Cipher.ENCRYPT_MODE, aesKey, spec);\n            byte[] outBuf = new byte[c.getOutputSize(512)];\n            int numProduced = c.update(plaintext, 0, 512, outBuf, 0);\n            System.out.println(numProduced);\n            final int finalProduced = c.doFinal(outBuf, numProduced);\n            System.out.println(finalProduced);\n        }\n\n        {\n            // Next, try with Bouncycastle\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(\"AES\");\n            keyGenerator.init(256, secureRandom);\n            SecretKey aesKey = keyGenerator.generateKey();\n            byte[] plaintext = new byte[10000]; // plaintext is all zeros\n            byte[] nonce = new byte[12];\n            secureRandom.nextBytes(nonce);\n            Cipher c = Cipher.getInstance(\"AES/GCM/NoPadding\", BC);// specify the provider explicitly\n            GCMParameterSpec spec = new GCMParameterSpec(128, nonce);// tag length is specified in bits.\n            c.init(Cipher.ENCRYPT_MODE, aesKey, spec);\n            byte[] outBuf = new byte[c.getOutputSize(512)];\n            int numProduced = c.update(plaintext, 0, 512, outBuf, 0);\n            System.out.println(numProduced);\n            final int finalProduced = c.doFinal(outBuf, numProduced);\n            System.out.println(finalProduced);\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9220098, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212830036579948/picture?type=large", "display_name": "Will", "link": "https://stackoverflow.com/users/9220098/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 57384337, "answer_count": 1, "score": 2, "last_activity_date": 1565132399, "creation_date": 1565117211, "last_edit_date": 1565118626, "question_id": 57382238, "link": "https://stackoverflow.com/questions/57382238/java-cipher-update-does-not-write-to-buffer-when-using-aes-gcm-android-9", "title": "Java Cipher.update does not write to buffer when using AES/GCM (Android 9)", "body": "<p>I'm trying to use javax.crypto.Cipher on Android to encrypt a stream of data in chunks using AES-GCM. As I understand, one can use Cipher.update multiple times for a multi-part encryption operation, and finalize with Cipher.doFinal. However when using the AES/GCM/NoPadding transformation, Cipher.update refuses to output data to the provided buffer, and returns 0 bytes written. The buffer builds up inside the Cipher until I call .doFinal. This also appears to happen with CCM (and I assume other authenticated modes), but works for other modes like CBC.</p>\n\n<p>I figured GCM can compute the authentication tag while encrypting, so I'm not sure why I'm not allowed to consume the buffer in the Cipher.</p>\n\n<p>I've made an example with just one call to .update: (kotlin)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>val secretKey = KeyGenerator.getInstance(\"AES\").run {\n    init(256)\n    generateKey()\n}\n\nval iv = ByteArray(12)\nSecureRandom().nextBytes(iv)\n\nval cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, IvParameterSpec(iv))\n\n// Pretend this is some file I want to read and encrypt\nval inputBuffer = Random.nextBytes(1024000)\n\nval outputBuffer = ByteArray(cipher.getOutputSize(512))\n\nval read = cipher.update(inputBuffer, 0, 512, outputBuffer, 0)\n//   ^  at this point, read = 0 and outputBuffer is [0, 0, 0, ...]\n// Future calls to cipher.update and cipher.getOutputSize indicate that\n// the internal buffer is growing. But I would like to consume it through\n// outputBuffer\n\n// ...\n\ncipher.doFinal(outputBuffer, 0)\n// Now outputBuffer is populated\n</code></pre>\n\n<p>What I would like to do is stream a large file from disk, encrypt it and send it over the network chunk by chunk, without having to load the entire file data into memory. I've tried to use CipherInputStream but it suffers from the same problem.</p>\n\n<p>Is this possible with AES/GCM?</p>\n"}, {"tags": ["java", "swing", "kotlin", "task", "event-dispatch-thread"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 2757937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1589966600/picture?type=large", "display_name": "Marek Teuchner", "link": "https://stackoverflow.com/users/2757937/marek-teuchner"}, "edited": false, "score": 0, "creation_date": 1565117844, "post_id": 57382177, "comment_id": 101249053, "body": "Oh, actually i just noticed, that updating the document on background thread will cause the JTextPane to update! thank you :)"}], "tags": [], "owner": {"reputation": 255, "user_id": 9789673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4415c51dc61139db3d58205415935d4f?s=128&d=identicon&r=PG&f=1", "display_name": "randypaq13", "link": "https://stackoverflow.com/users/9789673/randypaq13"}, "is_accepted": false, "score": 2, "last_activity_date": 1565123622, "last_edit_date": 1565123622, "creation_date": 1565116871, "answer_id": 57382177, "question_id": 57382012, "link": "https://stackoverflow.com/questions/57382012/swing-waiting-for-rendering-to-finish/57382177#57382177", "title": "Swing - waiting for rendering to finish", "body": "<p>You can take a look at Swing workers here: <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/index.html?javax/swing/SwingWorker.html</a> This will allow you to have more control over async tasks in swing. </p>\n\n<p>Separate question: Why not set worker window visibility and load the document in one thread? Like this: </p>\n\n<pre><code>val worker = WorkerWindow(this, \"Drawing text...\") // JDialog\n\nSwingUtilities.invokeLater {\n    worker.isVisible = true\n    textPane.document = logcat.document // Long UI operation\n    worker.dispose()\n}\n</code></pre>\n\n<p>Seems easier...</p>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 2757937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1589966600/picture?type=large", "display_name": "Marek Teuchner", "link": "https://stackoverflow.com/users/2757937/marek-teuchner"}, "is_accepted": false, "score": 0, "last_activity_date": 1565117928, "creation_date": 1565117928, "answer_id": 57382391, "question_id": 57382012, "link": "https://stackoverflow.com/questions/57382012/swing-waiting-for-rendering-to-finish/57382391#57382391", "title": "Swing - waiting for rendering to finish", "body": "<p>I finally figured it out!</p>\n\n<pre><code>val worker = WorkerWindow(this, \"Drawing text...\")\nThread {\n    textPane.document = logcat.document\n    SwingUtilities.invokeLater {\n        worker.dispose()\n    }\n}.start()\nSwingUtilities.invokeLater {\n    worker.isVisible = true\n}\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 2757937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1589966600/picture?type=large", "display_name": "Marek Teuchner", "link": "https://stackoverflow.com/users/2757937/marek-teuchner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1565123622, "creation_date": 1565116088, "question_id": 57382012, "link": "https://stackoverflow.com/questions/57382012/swing-waiting-for-rendering-to-finish", "title": "Swing - waiting for rendering to finish", "body": "<p>I have a little problem. I am trying to display very large text in JTextPane (~ 10 MB). I want to show a worker dialog (with animated gif as an indefinite progress bar) until the text is rendered by JTextPane. </p>\n\n<p>So far, I came with this (kotlin):</p>\n\n<pre><code>val worker = WorkerWindow(this, \"Drawing text...\") // JDialog\nSwingUtilities.invokeLater {\n    worker.isVisible = true\n}\nSwingUtilities.invokeLater {\n    textPane.document = logcat.document // Long UI operation\n    worker.dispose()\n}\n</code></pre>\n\n<p>Sadly, the dialog is dismissed immediately, before the rendering of document finishes. Is there any sort of callback, i can use when EDT finishes an operation or something?</p>\n\n<p><a href=\"https://i.stack.imgur.com/peSBJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peSBJ.png\" alt=\"Worker dialog\"></a></p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 640, "user_id": 7966313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXcL5.jpg?s=128&g=1", "display_name": "Enzo Lizama", "link": "https://stackoverflow.com/users/7966313/enzo-lizama"}, "edited": false, "score": 0, "creation_date": 1565116326, "post_id": 57381920, "comment_id": 101248423, "body": "Could you update your question with the function when you push data to firebase, just to confirm do you initialize firebase in your entry class for the app ?"}, {"owner": {"reputation": 343, "user_id": 6309078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206510142131999/picture?type=large", "display_name": "pasha", "link": "https://stackoverflow.com/users/6309078/pasha"}, "reply_to_user": {"reputation": 640, "user_id": 7966313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXcL5.jpg?s=128&g=1", "display_name": "Enzo Lizama", "link": "https://stackoverflow.com/users/7966313/enzo-lizama"}, "edited": false, "score": 0, "creation_date": 1565116814, "post_id": 57381920, "comment_id": 101248622, "body": "I do initialize firebase in my entry class. I&#39;m trying to figure out how to push the data. All my other database fields are working flawlessly by using setValue() but it won&#39;t work for adding a new value to list. I&#39;ve added my github link for reference"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565117584, "post_id": 57381920, "comment_id": 101248934, "body": "I didn&#39;t got your problem, are you trying to convert the node Item into a list, is that correct? or the problem is saving your Item class?"}, {"owner": {"reputation": 343, "user_id": 6309078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206510142131999/picture?type=large", "display_name": "pasha", "link": "https://stackoverflow.com/users/6309078/pasha"}, "edited": false, "score": 0, "creation_date": 1565118283, "post_id": 57381920, "comment_id": 101249244, "body": "I&#39;m trying to get my list from the database"}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 6309078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206510142131999/picture?type=large", "display_name": "pasha", "link": "https://stackoverflow.com/users/6309078/pasha"}, "is_accepted": true, "score": 1, "last_activity_date": 1565119308, "creation_date": 1565119308, "answer_id": 57382705, "question_id": 57381920, "link": "https://stackoverflow.com/questions/57381920/adding-value-to-a-list-in-firebase-database/57382705#57382705", "title": "Adding value to a list in Firebase Database", "body": "<p>So I worked using the newdata push</p>\n\n<pre><code>val item = User.Item(firstName,expiry,userId,null,null)\nval newData=mDatabaseReference!!.child(userId).child(\"items\").push()\nnewData.setValue(item)\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 6309078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206510142131999/picture?type=large", "display_name": "pasha", "link": "https://stackoverflow.com/users/6309078/pasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "accepted_answer_id": 57382705, "answer_count": 1, "score": 0, "last_activity_date": 1565130786, "creation_date": 1565115678, "last_edit_date": 1565130786, "question_id": 57381920, "link": "https://stackoverflow.com/questions/57381920/adding-value-to-a-list-in-firebase-database", "title": "Adding value to a list in Firebase Database", "body": "<p>I'm working on a Kotlin app. It requires me to create my custom data type (User.Item) that represents an item. I'm using a mutable list to work with it. However, I can't add to the list. I'm using Firebase Database  </p>\n\n<p>I've tried various Firebase tutorials but they don't seem to be giving me what I need. </p>\n\n<pre><code>val item = User.Item(firstName,expiry,userId,null,null)\nmDatabaseReference!!.child(userId).child(\"items\")\n\n//User.Item\ndata class Item(\n        var name: String?=\"\",\n        var expiry: String?=null,\n        var donator: String?=null,\n        var pickupGuy: String?=null,\n        var location: Location?=null\n    )\n\n//User.user\ndata class user(var name: String? = \"\",\n                    var password: String? = \"\",\n                    var email: String? = \"\",\n                    var phoneNumber: String?=\"\",\n                    var uid: String? = \"\",\n                    var volunteer: Boolean?=false,\n                    var items: List&lt;Item&gt;?= emptyList()\n\n    )\n\n</code></pre>\n\n<p>mDatabaseReference!!.child(userId).child(\"items\") gives me a data reference. I would like it to be a list that I can manipulate. I've tried updateChildren(), setting it to a list and then pushing and then using that as a new value but nothing works.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yuaHq.png\" alt=\"Picture of my database\"></p>\n\n<p>The adding is done in AddItemActivity on line 94-95\nGithub link: <a href=\"https://github.com/dl1683/ShareEats\" rel=\"nofollow noreferrer\">https://github.com/dl1683/ShareEats</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565113078, "post_id": 57381269, "comment_id": 101247082, "body": "Use <code>@Query</code> instead of <code>@Path</code>."}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565113180, "post_id": 57381269, "comment_id": 101247132, "body": "Then I have a parameter to send to that address which is not true  I want to change that address myself"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565113498, "post_id": 57381269, "comment_id": 101247257, "body": "<code>source</code> and <code>apiKey</code> is the parameter you want to get from server?"}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565113771, "post_id": 57381269, "comment_id": 101247379, "body": "Yes. I looked at Retrofit&#39;s own description. It&#39;s written the same way, but it doesn&#39;t work. <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a>"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565113877, "post_id": 57381269, "comment_id": 101247428, "body": "That&#39;s different. The link you sent me is to create a dynamic url. But yours is sending two parameters to server side. Check my answer."}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565114217, "post_id": 57381269, "comment_id": 101247573, "body": "I try this. It does not work"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565115587, "post_id": 57381269, "comment_id": 101248114, "body": "What you mean by does not work? Still getting same error?"}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565172501, "post_id": 57381269, "comment_id": 101265816, "body": "No, but when I send the parameters with the <b><code>@Query</code></b> or <b><code>@Field</code></b> command, it returns the Status 200 but doesn&#39;t have any data inside it. Here is the API instruction that you need to submit to the Request Source Address to get different sources. Now the code I wrote is okay, but I don&#39;t know why it doesn&#39;t work"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565186647, "post_id": 57381269, "comment_id": 101274221, "body": "Status 200 mean you have successfully get the response from server. Did you see response in log?"}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1565284816, "post_id": 57381269, "comment_id": 101315201, "body": "Yes I did but this body was null"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "edited": false, "score": 0, "creation_date": 1565113307, "post_id": 57381372, "comment_id": 101247181, "body": "Then I have a parameter to send to that address which is not true  I want to change that address myself"}, {"owner": {"reputation": 745, "user_id": 5293867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZYLGf.png?s=128&g=1", "display_name": "Koushik Mondal", "link": "https://stackoverflow.com/users/5293867/koushik-mondal"}, "reply_to_user": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "edited": false, "score": 0, "creation_date": 1565113556, "post_id": 57381372, "comment_id": 101247284, "body": "Which parameter? you can send req body or fields also with query if needed."}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "edited": false, "score": 0, "creation_date": 1565113991, "post_id": 57381372, "comment_id": 101247483, "body": "For example, the address should change as follows: <code>top-headlines? sources = bbc-news &amp; apiKey = ***</code>"}, {"owner": {"reputation": 745, "user_id": 5293867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZYLGf.png?s=128&g=1", "display_name": "Koushik Mondal", "link": "https://stackoverflow.com/users/5293867/koushik-mondal"}, "reply_to_user": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "edited": false, "score": 0, "creation_date": 1565114189, "post_id": 57381372, "comment_id": 101247560, "body": "So, this answer will work as you can call this API with different &quot;sources&quot;."}, {"owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "edited": false, "score": 0, "creation_date": 1565114570, "post_id": 57381372, "comment_id": 101247715, "body": "Thanks for helping you. I also tried this one you sent. It doesn&#39;t work"}], "tags": [], "owner": {"reputation": 745, "user_id": 5293867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZYLGf.png?s=128&g=1", "display_name": "Koushik Mondal", "link": "https://stackoverflow.com/users/5293867/koushik-mondal"}, "is_accepted": true, "score": 0, "last_activity_date": 1565113108, "creation_date": 1565113108, "answer_id": 57381372, "question_id": 57381269, "link": "https://stackoverflow.com/questions/57381269/i-want-to-request-a-variable-address/57381372#57381372", "title": "I want to request a variable address", "body": "<p>Try this it will work. You should add Query instead of Path.</p>\n\n<pre><code>@GET(\"top-headlines\")\n     fun getnewssource(@Query(\"sources\") sourceID:String,\n                       @Query(\"apiKey\") apiKey:String):Call&lt;ModelsResponse&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10860442, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RRAFf7DTm1Y/AAAAAAAAAAI/AAAAAAAAACk/54VU74act_w/photo.jpg?sz=128", "display_name": "Mahan", "link": "https://stackoverflow.com/users/10860442/mahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57381372, "answer_count": 1, "score": 0, "last_activity_date": 1568228261, "creation_date": 1565112633, "last_edit_date": 1568228261, "question_id": 57381269, "link": "https://stackoverflow.com/questions/57381269/i-want-to-request-a-variable-address", "title": "I want to request a variable address", "body": "<p><strong>I wrote the following command in my own program but it was wrong</strong></p>\n\n<pre><code>    @GET(\"top-headlines?sources=\"+\"{source}\"+\"&amp;apiKey=***\")\n    fun getnewssource(@Path(\"source\") sourceID:String):Call&lt;ModelsResponse&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>    java.lang.IllegalArgumentException: URL query string \"sources={source}&amp;apiKey=***\" must not have replace block. For dynamic query parameters use @Query.\n</code></pre>\n\n<p><strong>I want to send a different source address every time</strong></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1565128648, "post_id": 57381383, "comment_id": 101253062, "body": "Also you can only simplify to a lambda on interfaces that are defined in Java, as all the Android framework classes are."}], "tags": [], "owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "is_accepted": true, "score": 1, "last_activity_date": 1565113162, "creation_date": 1565113162, "answer_id": 57381383, "question_id": 57380879, "link": "https://stackoverflow.com/questions/57380879/how-to-determine-which-method-its-overriding-in-kotlin/57381383#57381383", "title": "How to determine which method its overriding in Kotlin?", "body": "<p><code>OnClickListener</code> only have the onClick method. Therefore Kotlin will use a lambda expression to simplify it. The normal code to the <code>OnClickListener</code> is as given below.</p>\n\n<pre><code>setOnClickListener(object : View.OnClickListener {\n    override fun onClick(v: View?) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n})\n</code></pre>\n\n<p>But if you have more than one method, this won't be the case. For example <code>setOnQueryTextListener</code> on a SearchView you need to override the two functions separetely.</p>\n\n<pre><code>setOnQueryTextListener(object : SearchView.OnQueryTextListener {\n    override fun onQueryTextSubmit(query: String?): Boolean {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onQueryTextChange(newText: String?): Boolean {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n})\n</code></pre>\n\n<p>You can find more about Lambda functions from this <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">doc</a></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "edited": false, "score": 0, "creation_date": 1565119829, "post_id": 57381568, "comment_id": 101249895, "body": "Does it: means interface ?"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 0, "creation_date": 1565120601, "post_id": 57381568, "comment_id": 101250251, "body": "No, it is the implicity name of a single parameter, check this out: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html?_ga=2.256457611.1413388231.1565120517-87732984.1554836457#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "is_accepted": false, "score": 1, "last_activity_date": 1565136733, "last_edit_date": 1565136733, "creation_date": 1565114008, "answer_id": 57381568, "question_id": 57380879, "link": "https://stackoverflow.com/questions/57380879/how-to-determine-which-method-its-overriding-in-kotlin/57381568#57381568", "title": "How to determine which method its overriding in Kotlin?", "body": "<p>One thing to note is that lambda expression like this is only possible when the lambda takes one function. To see what this is just to pay attention when creating your lambda.</p>\n\n<p>We see here that when we create the onClick its expected parameter is View.OnClickListener. So an OnClick with a receiver of View.\n<a href=\"https://i.stack.imgur.com/QfVH5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QfVH5.png\" alt=\"Decalring onClickListener\"></a>\nSo we can give it that.\n<a href=\"https://i.stack.imgur.com/TpYLT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TpYLT.png\" alt=\"OnClickListener\"></a>\nAs we can see it was expecting one interface wich has one function, OnClickListener. \n<a href=\"https://i.stack.imgur.com/P6vGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P6vGJ.png\" alt=\"SAM-Redundant\"></a>\nWe can simplify this due to the fact that we are only expecting one interface function on our receiver \"view\" so it is implicit.\n<a href=\"https://i.stack.imgur.com/Jugod.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jugod.png\" alt=\"Simplified on click.\"></a> </p>\n\n<p>As stated before, we can only have a lambda like this with a single function, so if we look into our onClickListener we can see a single interface which has a single method so the lambda is implicit:</p>\n\n<p><a href=\"https://i.stack.imgur.com/07vyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/07vyP.png\" alt=\"onClick\"></a></p>\n"}], "owner": {"reputation": 21, "user_id": 11890892, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_mk8MfnTKp8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcE4eQq5HPQ1GLqG0zA9A0DXFQvsw/photo.jpg?sz=128", "display_name": "Fone", "link": "https://stackoverflow.com/users/11890892/fone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57381383, "answer_count": 2, "score": 0, "last_activity_date": 1565136733, "creation_date": 1565110883, "last_edit_date": 1565111209, "question_id": 57380879, "link": "https://stackoverflow.com/questions/57380879/how-to-determine-which-method-its-overriding-in-kotlin", "title": "How to determine which method its overriding in Kotlin?", "body": "<p>In the following code, I'm confused as to how do you know its <code>onClick</code> method of <code>OnClickListener</code> its overriding ?</p>\n\n<pre><code>fab.setOnClickListener { view -&gt;\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n\n\n        }\n</code></pre>\n"}, {"tags": ["android", "debugging", "kotlin", "breakpoints"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11861269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5da83c09cbcd777392f63bb1d745b1a?s=128&d=identicon&r=PG&f=1", "display_name": "litmuskr", "link": "https://stackoverflow.com/users/11861269/litmuskr"}, "edited": false, "score": 0, "creation_date": 1565279829, "post_id": 57395462, "comment_id": 101312929, "body": "Thanks for your answer Mustansar. but it doesn&#39;t seem to relate to my problem. All my application threads slow down when I add a watchpoint or breakpoint to any property in my project."}], "tags": [], "owner": {"reputation": 2458, "user_id": 3027124, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/FAY1V.jpg?s=128&g=1", "display_name": "Mustansar Saeed", "link": "https://stackoverflow.com/users/3027124/mustansar-saeed"}, "is_accepted": false, "score": 0, "last_activity_date": 1565183949, "creation_date": 1565183949, "answer_id": 57395462, "question_id": 57380609, "link": "https://stackoverflow.com/questions/57380609/how-to-solve-bad-performance-on-runtime-debugging-of-kotlin/57395462#57395462", "title": "How to solve bad performance on runtime debugging of kotlin", "body": "<p>Slowness of debugging depends on how many variables you have added in Watches. Try to remove those watches. I experienced slowness why I added <code>arraylists</code> and <code>hasmaps</code> in watches.</p>\n"}], "owner": {"reputation": 1, "user_id": 11861269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5da83c09cbcd777392f63bb1d745b1a?s=128&d=identicon&r=PG&f=1", "display_name": "litmuskr", "link": "https://stackoverflow.com/users/11861269/litmuskr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565183949, "creation_date": 1565109827, "question_id": 57380609, "link": "https://stackoverflow.com/questions/57380609/how-to-solve-bad-performance-on-runtime-debugging-of-kotlin", "title": "How to solve bad performance on runtime debugging of kotlin", "body": "<p>Many times I face the issues when I set breakpoints into properties which are included some class in kotlin. </p>\n\n<p>All Debuggee processes are getting slower than I set the breakpoint into getter/setter methods in java. </p>\n\n<p>I think this is very annoying problem for runtime debugging.</p>\n\n<p>Is there any solution for me?</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565109617, "post_id": 57380443, "comment_id": 101245567, "body": "Use region.name to get EU_CENTRAL_1, and use region.getName() to get eu-central-1"}, {"owner": {"reputation": 1221, "user_id": 1654255, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e031d46886850846ad20c7f03afb6db3?s=128&d=identicon&r=PG&f=1", "display_name": "AplusKminus", "link": "https://stackoverflow.com/users/1654255/apluskminus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565109827, "post_id": 57380443, "comment_id": 101245658, "body": "I know. I stated that in my question. The point is, these are the same in Kotlin. Please read the question carefully. - Anyway, it&#39;s not about aws, it&#39;s about java-kotlin interoperability."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565109954, "post_id": 57380443, "comment_id": 101245710, "body": "Well, I just tested creating an enum with a public getName() method in Java, and doing just what I advise in my comment, and it works fine. Have you actually tested it? I <b>have</b> read the question carefully, and you never use getName() in the Kotlin code of your question."}, {"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1565110588, "post_id": 57380443, "comment_id": 101245995, "body": "What made you think that <code>getName()</code> overrides <code>name()</code>?"}, {"owner": {"reputation": 1221, "user_id": 1654255, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e031d46886850846ad20c7f03afb6db3?s=128&d=identicon&r=PG&f=1", "display_name": "AplusKminus", "link": "https://stackoverflow.com/users/1654255/apluskminus"}, "edited": false, "score": 0, "creation_date": 1565110849, "post_id": 57380443, "comment_id": 101246105, "body": "It does not override it per-se, that is why I put it in quotes, it overrides in it in the sense, that the kotlin compiler interprets any <code>getFoo()</code> method as an implicit <code>.foo</code> property. Therefore <code>name</code> can resolve to <code>getName()</code> if the latter exists. In this case both <code>name()</code> and <code>getName()</code> exist. I would expect it to resolve to the latter (as IntelliJ suggests) but it resolves to the former."}, {"owner": {"reputation": 1221, "user_id": 1654255, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e031d46886850846ad20c7f03afb6db3?s=128&d=identicon&r=PG&f=1", "display_name": "AplusKminus", "link": "https://stackoverflow.com/users/1654255/apluskminus"}, "edited": false, "score": 0, "creation_date": 1565111212, "post_id": 57380443, "comment_id": 101246263, "body": "See the official documentation for this: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1565122194, "post_id": 57380443, "comment_id": 101250942, "body": "&quot;Therefore name can resolve to getName() if the latter exists. In this case both name() and getName() exist. I would expect it to resolve to the latter (as IntelliJ suggests) but it resolves to the former.&quot; <code>name</code> here gets inherited from <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-enum/name.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/-enum/name.html</a>, so IntelliJ has a bug."}, {"owner": {"reputation": 81986, "user_id": 15880, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7618ff7a4952a494b8f41bd0df646790?s=128&d=identicon&r=PG", "display_name": "Powerlord", "link": "https://stackoverflow.com/users/15880/powerlord"}, "edited": false, "score": 1, "creation_date": 1565166185, "post_id": 57380443, "comment_id": 101262360, "body": "That doc page really should mention that you can&#39;t use a Java getter as a property if a method with the name of that property already exists."}], "answers": [{"comments": [{"owner": {"reputation": 1221, "user_id": 1654255, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e031d46886850846ad20c7f03afb6db3?s=128&d=identicon&r=PG&f=1", "display_name": "AplusKminus", "link": "https://stackoverflow.com/users/1654255/apluskminus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1565111418, "post_id": 57380920, "comment_id": 101246340, "body": "I am sorry that I responded in the way I did. I believe your comment is easy to mistake for someone that skimmed the question and thought it was &quot;hurr durr, how do I get eu-central-1 string?&quot; as you only reference the AWS part, but do not mention the fact that .getName() can still be called directly. (I witnessed something like this too often on the internet. Sorry for judging too quickly.)"}], "tags": [], "owner": {"reputation": 1221, "user_id": 1654255, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e031d46886850846ad20c7f03afb6db3?s=128&d=identicon&r=PG&f=1", "display_name": "AplusKminus", "link": "https://stackoverflow.com/users/1654255/apluskminus"}, "is_accepted": true, "score": 0, "last_activity_date": 1565111066, "creation_date": 1565111066, "answer_id": 57380920, "question_id": 57380443, "link": "https://stackoverflow.com/questions/57380443/how-can-i-access-enums-overridden-name-method-from-kotlin/57380920#57380920", "title": "How can I access enum&#39;s &quot;overridden&quot; name() method from kotlin?", "body": "<p>As suggested from the comments:</p>\n\n<pre><code>// Kotlin\nRegions.EU_CENTRAL_1.name\n</code></pre>\n\n<p>in Kotlin resolves to</p>\n\n<pre><code>// Java\nRegions.EU_CENTRAL_1.name()\n</code></pre>\n\n<p>in Java, while </p>\n\n<pre><code>// Kotlin\nRegions.EU_CENTRAL_1.getName()\n</code></pre>\n\n<p>can be used to access the function <code>getName()</code> of the <code>Regions</code> enumeration.</p>\n\n<p>This in turn leads to the question: What are the specific kotlin compiler java method name to property resolution rules?</p>\n"}], "owner": {"reputation": 1221, "user_id": 1654255, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e031d46886850846ad20c7f03afb6db3?s=128&d=identicon&r=PG&f=1", "display_name": "AplusKminus", "link": "https://stackoverflow.com/users/1654255/apluskminus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 57380920, "answer_count": 1, "score": 2, "last_activity_date": 1565164300, "creation_date": 1565109118, "last_edit_date": 1565164300, "question_id": 57380443, "link": "https://stackoverflow.com/questions/57380443/how-can-i-access-enums-overridden-name-method-from-kotlin", "title": "How can I access enum&#39;s &quot;overridden&quot; name() method from kotlin?", "body": "<p>Take for example the <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/regions/Regions.html\" rel=\"nofollow noreferrer\"><code>Regions</code></a> enum from AWS 1.11 java sdk. This class contains a <code>String getName()</code> method. When developing with the AWS SDK in Kotlin, this method is provided as</p>\n\n<pre><code>Regions.EU_CENTRAL_1.name\n</code></pre>\n\n<p>The IntelliJ auto completion popup even says <em>(from getName())</em> to let you know that <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getters-and-setters\" rel=\"nofollow noreferrer\">the compiler treats the getter like a property</a>.</p>\n\n<p>The problem becomes apparent when you notice that</p>\n\n<pre><code>new AmazonS3ClientBuilder\n    .standard()\n    .withRegion(Regions.EU_CENTRAL_1.getName())\n    .build()\n</code></pre>\n\n<p>works in Java, while the equivalent</p>\n\n<pre><code>AmazonS3ClientBuilder\n    .standard()\n    .withRegion(Regions.EU_CENTRAL_1.name)\n    .build()\n</code></pre>\n\n<p>does not work in Kotlin. Printing the following with Java shows why this is the case:</p>\n\n<pre><code>System.out.println(Regions.EU_CENTRAL_1.getName()); // prints \"eu-central-1\"\nSystem.out.println(Regions.EU_CENTRAL_1.name()); // prints \"EU_CENTRAL_1\"\n</code></pre>\n\n<p><strong>How do I access a <code>.getName()</code> method on a Java enum from Kotlin, as Kotlin prefers the <code>.name()</code> method instead?</strong></p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10336224, "user_type": "registered", "profile_image": "https://graph.facebook.com/2276746819021724/picture?type=large", "display_name": "Murillo Pereira da Silva", "link": "https://stackoverflow.com/users/10336224/murillo-pereira-da-silva"}, "edited": false, "score": 0, "creation_date": 1565113538, "post_id": 57380909, "comment_id": 101247274, "body": "hey, I tried your solutions, but none worked :(  when i do the second solution, i got the follow error:  For-loop range must have an &#39;iterator()&#39; method"}, {"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "reply_to_user": {"reputation": 41, "user_id": 10336224, "user_type": "registered", "profile_image": "https://graph.facebook.com/2276746819021724/picture?type=large", "display_name": "Murillo Pereira da Silva", "link": "https://stackoverflow.com/users/10336224/murillo-pereira-da-silva"}, "edited": false, "score": 1, "creation_date": 1565113948, "post_id": 57380909, "comment_id": 101247461, "body": "now I realised what are you trying to do, it&#39;s because Data isn&#39;t really a list, can you clarify why you need to do this? what you want to achieve?"}, {"owner": {"reputation": 41, "user_id": 10336224, "user_type": "registered", "profile_image": "https://graph.facebook.com/2276746819021724/picture?type=large", "display_name": "Murillo Pereira da Silva", "link": "https://stackoverflow.com/users/10336224/murillo-pereira-da-silva"}, "edited": false, "score": 0, "creation_date": 1565195949, "post_id": 57380909, "comment_id": 101279329, "body": "i wanna do a foreach inside the class Data(that has another classes as parameters(wanna get data inside this parameters))"}], "tags": [], "owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "is_accepted": false, "score": 0, "last_activity_date": 1565111025, "creation_date": 1565111025, "answer_id": 57380909, "question_id": 57380289, "link": "https://stackoverflow.com/questions/57380289/how-to-iterate-over-class-components-with-kotlin/57380909#57380909", "title": "How to iterate over class components with Kotlin", "body": "<p>Try something like this:</p>\n\n<pre><code>for (dataChampion in data.orEmpty()) { \n    //do something\n }\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code> data?.let {\n    for (dataChampion in it) {\n\n    }\n}\n</code></pre>\n\n<p>My guess is that you're trying to iterate through a nullable type of data, hope this works for you. Best of luck on your League of Legends app :)</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 10336224, "user_type": "registered", "profile_image": "https://graph.facebook.com/2276746819021724/picture?type=large", "display_name": "Murillo Pereira da Silva", "link": "https://stackoverflow.com/users/10336224/murillo-pereira-da-silva"}, "edited": false, "score": 0, "creation_date": 1565196851, "post_id": 57383212, "comment_id": 101279753, "body": "sup man, i&#39;m tring you solution but, for now i just can get the name of the parameters, but not the data(what i need)  what im trying to do:    for (data in ChampionsList::class.memberProperties.iterator()){                      Log.d(&quot;abacaxi&quot;, data.get(t).toString()) &lt;-- here i can se the data, but how can i use it ?                     Log.d(&quot;abacaxi&quot;, &quot;test&quot;)                  }"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 41, "user_id": 10336224, "user_type": "registered", "profile_image": "https://graph.facebook.com/2276746819021724/picture?type=large", "display_name": "Murillo Pereira da Silva", "link": "https://stackoverflow.com/users/10336224/murillo-pereira-da-silva"}, "edited": false, "score": 0, "creation_date": 1565197321, "post_id": 57383212, "comment_id": 101279961, "body": "I don&#39;t understand what you are asking. Calling methods on <code>data</code> such as <code>data.get(t)</code> <i>is</i> how you use it."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1565122028, "last_edit_date": 1565122028, "creation_date": 1565121706, "answer_id": 57383212, "question_id": 57380289, "link": "https://stackoverflow.com/questions/57380289/how-to-iterate-over-class-components-with-kotlin/57383212#57383212", "title": "How to iterate over class components with Kotlin", "body": "<pre><code>for(data in ChampionList::class.memberProperties){\n    //access data here, but got an unresolved reference for member properties\n}\n</code></pre>\n\n<p>is the correct way (if you don't have any properties declared inside the class and don't care about the order), but you need to </p>\n\n<ol>\n<li><p>Add the <code>kotlin-reflect</code> dependency as described <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">here</a> (for Gradle) if you don't have it yet:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-reflect\"\n</code></pre></li>\n<li><p>Add <code>import kotlin.reflect.full.memberProperties</code>;</p></li>\n<li><p>If you do care about order or about not including properties inside the class, play with <code>ChampionList::class.primaryConstructor.valueParameters</code> instead.</p></li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 10336224, "user_type": "registered", "profile_image": "https://graph.facebook.com/2276746819021724/picture?type=large", "display_name": "Murillo Pereira da Silva", "link": "https://stackoverflow.com/users/10336224/murillo-pereira-da-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1736, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1565122028, "creation_date": 1565108485, "last_edit_date": 1565115626, "question_id": 57380289, "link": "https://stackoverflow.com/questions/57380289/how-to-iterate-over-class-components-with-kotlin", "title": "How to iterate over class components with Kotlin", "body": "<p>I'm facing this problem and I already did some search about but I didn't find the answer.</p>\n\n<p>What I wanna do?</p>\n\n<p>I'm using retrofit to get some data from an API, I can get the data, but I wanna do a ForEach inside the class to find the property that I need.</p>\n\n<pre><code>    data class ChampionList(\n            @SerializedName(\"version\")\n        val version : String,\n        @SerializedName(\"data\")\n        val data : Data) &lt;------ wanna do the foreach in this property  \n</code></pre>\n\n<p>and I wanna do it, or something like this:  (Here I got the following error = for-loop range must have an 'iterator()' method)</p>\n\n<pre><code>      for(dataChampion in ChampionList.Data){\n            //do something\n    }\n</code></pre>\n\n<p>when I was searching, I found something about Kotlin reflection, but I didn't understand :(</p>\n\n<p>another thing that I found but it didn't work was to use this:</p>\n\n<pre><code> for(data in ChampionList::class.memberProperties){\n   //access data here, but got an unresolved reference for member properties\n}\n\nclasses:\n\n\n    data class ChampionList(\n        @SerializedName(\"version\")\n        val version : String,\n        @SerializedName(\"data\")\n        val data : Data)\n\n\n\n    data class Data (\n        @SerializedName(\"Aatrox\") val aatrox : Aatrox,\n        @SerializedName(\"Ahri\") val ahri : Ahri,\n        @SerializedName(\"Akali\") val akali : Akali,\n        @SerializedName(\"Alistar\") val alistar : Alistar,\n        @SerializedName(\"Amumu\") val amumu : Amumu,\n        @SerializedName(\"Anivia\") val anivia : Anivia\n    }\n\n\n    data class Aatrox(\n\n        @SerializedName(\"version\") val version: String,\n        @SerializedName(\"id\") val id: String,\n        @SerializedName(\"key\") val key: Int,\n        @SerializedName(\"name\") val name: String,\n        @SerializedName(\"title\") val title: String,\n        @SerializedName(\"blurb\") val blurb: String,\n        @SerializedName(\"info\") val info: Info,\n        @SerializedName(\"image\") val image: Image,\n        @SerializedName(\"tags\") val tags: List&lt;String&gt;,\n        @SerializedName(\"partype\") val partype: String,\n        @SerializedName(\"stats\") val stats: Stats\n    )\n</code></pre>\n\n<p>all other classes like Ahri, Akali, Alistar, Amumu, and Anivia are the same that Aatrox</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1565107415, "post_id": 57379984, "comment_id": 101244561, "body": "Your app must be crashing on back pressed and restarts itself, Goto Logcat, in the app dropdown selection, you might find your app package with <b>[DEAD]</b> at the end"}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "reply_to_user": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1565107507, "post_id": 57379984, "comment_id": 101244603, "body": "and what about when i logout? when i logout it shows the login activity again, but when i press back it returns to home activity instead of closing the app"}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "reply_to_user": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1565107655, "post_id": 57379984, "comment_id": 101244682, "body": "Also, I have checked Logcat now, it doesn&#39;t show the dead thing"}, {"owner": {"reputation": 791, "user_id": 9636642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8196e73f73d285bc2244f796b7a5f082?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/9636642/vivek-singh"}, "edited": false, "score": 0, "creation_date": 1565108389, "post_id": 57379984, "comment_id": 101245004, "body": "What do you mean by this statement &quot;when i press back button on the phone, the home activity returns to home activity&quot;"}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "edited": false, "score": 0, "creation_date": 1565108540, "post_id": 57379984, "comment_id": 101245061, "body": "its just as you read, I login, the home activity is shown, i press back button, the animation of the back is show, the home activity goes down, to show.... the home activity!!"}, {"owner": {"reputation": 791, "user_id": 9636642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8196e73f73d285bc2244f796b7a5f082?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/9636642/vivek-singh"}, "edited": false, "score": 0, "creation_date": 1565108766, "post_id": 57379984, "comment_id": 101245184, "body": "Which activity is your launcher activity?"}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "edited": false, "score": 0, "creation_date": 1565108827, "post_id": 57379984, "comment_id": 101245209, "body": "heres a link to a video of whats happening: <a href=\"https://webm.red/Nfsx.webm\" rel=\"nofollow noreferrer\">webm.red/Nfsx.webm</a>"}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "edited": false, "score": 0, "creation_date": 1565108845, "post_id": 57379984, "comment_id": 101245220, "body": "the launcher activity is the login activity"}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "edited": false, "score": 0, "creation_date": 1565109174, "post_id": 57379984, "comment_id": 101245379, "body": "Also, this is the logout bug <a href=\"https://webm.red/lusA.webm\" rel=\"nofollow noreferrer\">webm.red/lusA.webm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 791, "user_id": 9636642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8196e73f73d285bc2244f796b7a5f082?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/9636642/vivek-singh"}, "edited": false, "score": 0, "creation_date": 1565147750, "post_id": 57381400, "comment_id": 101256386, "body": "Please accept your answer, it will help future visitors."}, {"owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "reply_to_user": {"reputation": 791, "user_id": 9636642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8196e73f73d285bc2244f796b7a5f082?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/9636642/vivek-singh"}, "edited": false, "score": 1, "creation_date": 1565280354, "post_id": 57381400, "comment_id": 101313194, "body": "i tried, but stack overflow showed me a message that i couldn&#39;t accept it until 2 days passed, thats why i didn&#39;t accepted it before"}], "tags": [], "owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "is_accepted": true, "score": 1, "last_activity_date": 1565113269, "creation_date": 1565113269, "answer_id": 57381400, "question_id": 57379984, "link": "https://stackoverflow.com/questions/57379984/the-app-keeps-returning-to-previous-activity-even-when-i-finished-it/57381400#57381400", "title": "The app keeps returning to previous activity even when i finished it", "body": "<p>I found the solution, apparently, the app kept making instances of my home activity, so i added this in AndroidManifest.xml:</p>\n\n<pre><code> &lt;activity\n            android:name=\".HomeActivity\"\n            android:label=\"@string/title_activity_home\"\n            android:theme=\"@style/AppTheme.NoActionBar\"\n            android:launchMode=\"singleInstance\"&gt;\n    &lt;/activity&gt;\n</code></pre>\n\n<p>the singleInstance line resolved my issue</p>\n"}], "owner": {"reputation": 76, "user_id": 11678250, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A2PsEQDz5c8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3ret2jGW6QN3_nq6G7ciZ2kPeE0pvw/mo/photo.jpg?sz=128", "display_name": "Arturo Calvo", "link": "https://stackoverflow.com/users/11678250/arturo-calvo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 3, "accepted_answer_id": 57381400, "answer_count": 1, "score": 1, "last_activity_date": 1565113269, "creation_date": 1565107294, "last_edit_date": 1565110084, "question_id": 57379984, "link": "https://stackoverflow.com/questions/57379984/the-app-keeps-returning-to-previous-activity-even-when-i-finished-it", "title": "The app keeps returning to previous activity even when i finished it", "body": "<p>The navigation isn't working for some reason</p>\n\n<p>I have an app with 2 activities, 1 is the login activity, and the other is the home activity, when i login, i show the home activity, but the problem is that when i press back button on the phone, the home activity returns to home activity, the other problem, is that when i logout, i finish the home activity and show the login activity again, but for some reason when i press back button, it returns to home activity, i have tried \"finish()\" i have tried intent flags, and nothing seems to work, i'll leave my code below:</p>\n\n<p>Login function</p>\n\n<pre><code>fun login(){\n    //AsyncLogin().execute()\n    val manager = DataManager()\n    var login = LoginModel()\n    login.idSucursal = sucursalTextfield.text.toString()\n    login.password = passwordTextfield.text.toString()\n    val loginContext = this\n    manager.login(login, this){\n        val result = it\n        if(result.messageType == 1){\n            val intent = Intent(this, HomeActivity::class.java)\n            startActivity(intent)\n            this.progressHud.dismiss()\n            this.finish()\n\n            System.out.println(\"Se Guardo el login\")\n        }else{\n            //Mostrar alerta\n            alert(result.message) {\n                title = \"Aviso\"\n                positiveButton(\"Aceptar\"){}\n            }.show().apply {\n                getButton(AlertDialog.BUTTON_POSITIVE)?.let { it.setBackgroundColor(Color.WHITE) }\n                getButton(AlertDialog.BUTTON_POSITIVE)?.let { it.setTextColor(Color.parseColor(\"#ff33b5e5\")) }\n            }\n            this.progressHud.dismiss()\n        }\n    }\n}\n</code></pre>\n\n<p>Logout Function in Home Activity</p>\n\n<pre><code>try {\n                SharedData.SharedInstance.realmInstance.beginTransaction()\n                SharedData.SharedInstance.realmInstance.deleteAll()\n                SharedData.SharedInstance.realmInstance.commitTransaction()\n                val intent = Intent(this, LoginActivity::class.java)\n                startActivity(intent)\n                this.finish()\n            }catch(e:Exception){\n                System.out.println(e.localizedMessage)\n            }\n</code></pre>\n"}, {"tags": ["kotlin", "android-room", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 5281, "user_id": 512998, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/63bf366e28e07ad0e0734f0339acf2b0?s=128&d=identicon&r=PG", "display_name": "You Qi", "link": "https://stackoverflow.com/users/512998/you-qi"}, "edited": false, "score": 1, "creation_date": 1565120248, "post_id": 57378627, "comment_id": 101250085, "body": "I&#39;m presuming since it&#39;s <code>LiveData</code>, a single execution of <code>accountDao.readAccount()</code> should be sufficient?"}, {"owner": {"reputation": 1554, "user_id": 3537158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/abkoa.png?s=128&g=1", "display_name": "haroldolivieri", "link": "https://stackoverflow.com/users/3537158/haroldolivieri"}, "edited": false, "score": 0, "creation_date": 1603709391, "post_id": 57378627, "comment_id": 114112005, "body": "it depends if you&#39;d want an updated value for every call or a cached return"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 13, "last_activity_date": 1565103063, "last_edit_date": 1565103063, "creation_date": 1565102575, "answer_id": 57378627, "question_id": 57378493, "link": "https://stackoverflow.com/questions/57378493/difference-between-get-and-by-lazy/57378627#57378627", "title": "Difference between get() and by lazy", "body": "<p>The difference is in how many times the function body (<code>accountDao.readAccount()</code>) will be executed.</p>\n\n<p>The <code>lazy</code> delegate will execute the lambda one single time the first time it is accessed and remember the result. If it is called again, that cached result is returned.</p>\n\n<p>On the other hand, defining the getter (<code>get()</code>) will execute the function body every time, returning a new result every time.</p>\n\n<p>For example, let's suppose we have a class called <code>Foo</code> with both a getter and a lazy value:</p>\n\n<pre><code>class Foo {\n    val getterVal: String\n        get() = System.nanoTime().toString()\n\n    val lazyVal: String by lazy { System.nanoTime().toString() }\n}\n</code></pre>\n\n<p>And then use it:</p>\n\n<pre><code>fun main() {\n    with(Foo()) {\n        repeat(2) {\n            println(\"Getter: $getterVal\")\n            println(\"Lazy:   $lazyVal\")\n        }\n    }\n}\n</code></pre>\n\n<p>For me, this prints:</p>\n\n<pre><code>Getter: 1288398235509938\nLazy:   1288398235835179\nGetter: 1288398235900254\nLazy:   1288398235835179\n</code></pre>\n\n<p>And we can see that the getter returns a newly calculated value each time, and the lazy version returns the same cached value.</p>\n"}, {"tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 1, "last_activity_date": 1565256619, "last_edit_date": 1565256619, "creation_date": 1565173751, "answer_id": 57392320, "question_id": 57378493, "link": "https://stackoverflow.com/questions/57378493/difference-between-get-and-by-lazy/57392320#57392320", "title": "Difference between get() and by lazy", "body": "<p>In addition to Todd's answer:</p>\n\n<p>Yes, there is a difference for <code>LiveData</code> objects as well. Every call of <code>accountDao.readAccount()</code> will result in a <em>different</em> <code>LiveData</code> object. And it does matter, despite the fact that all of the returned <code>LiveData</code> will get updated on every change in the <code>Account</code> entity. Let me explain on these examples:</p>\n\n<ul>\n<li><code>by lazy</code></li>\n</ul>\n\n<p>As Todd mentioned, the block inside the <code>lazy</code> delegate will be executed once, at the first time that the <code>account</code> property is accessed, the result will be cached and returned on every next access. So in this case a single one <code>LiveData&lt;Account&gt;</code> object is created. The bytecode generated by Kotlin to achieve this is equivalent to this in Java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Activity {\n\n    private Lazy account$delegate\n\n    public LiveData&lt;Account&gt; getAccount() {\n        return account$delegate.getValue();\n    }\n}\n</code></pre>\n\n<ul>\n<li><code>get()</code></li>\n</ul>\n\n<p>By creating a custom <code>account</code> property's getter and calling <code>accountDao.readAccount()</code> inside, you will end up with different <code>LiveData&lt;Account&gt;</code> objects on every access of the <code>account</code> property. Once more, bytecode generated for this case in Kotlin in Java is more or less this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Activity {\n\n    public LiveData&lt;Account&gt; getAccount() {\n        return accountDao.readAccount();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>So you can see, using a lazy property results in generating a backing field for this property, while using a custom getter creates a wrapper method for the <code>accountDao.readAccount()</code> call.</p>\n\n<p>It's up to your needs which approach you should use. I'd say that if you have to obtain the <code>LiveData</code> only once, you should go with <code>get()</code>, because a backing field is needless in that case. However if you're going to access the <code>LiveData</code> in multiple places in your code, maybe a better approach would be to use <code>by lazy</code> and create it just once.</p>\n"}], "owner": {"reputation": 5281, "user_id": 512998, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/63bf366e28e07ad0e0734f0339acf2b0?s=128&d=identicon&r=PG", "display_name": "You Qi", "link": "https://stackoverflow.com/users/512998/you-qi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 1, "accepted_answer_id": 57378627, "answer_count": 2, "score": 5, "last_activity_date": 1565256619, "creation_date": 1565102169, "question_id": 57378493, "link": "https://stackoverflow.com/questions/57378493/difference-between-get-and-by-lazy", "title": "Difference between get() and by lazy", "body": "<p>Having a room Dao as below,</p>\n\n<pre><code>@Dao\npublic abstract class AccountDao {\n    @Query(\"SELECT * FROM Account LIMIT 0,1\")\n    public abstract Account readAccount();\n}\n</code></pre>\n\n<p>is there any differences between <code>get()</code> and <code>by lazy</code> in the sample below?</p>\n\n<pre><code>open val account: LiveData&lt;Account&gt;\n        get() = accountDao.readAccount()\n</code></pre>\n\n<pre><code>open val account: LiveData&lt;Account&gt; by lazy { accountDao.readAccount() }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1565102255, "post_id": 57377932, "comment_id": 101241578, "body": "Which version of Room are you using?"}, {"owner": {"reputation": 4302, "user_id": 1281180, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/XssiM.jpg?s=128&g=1", "display_name": "blackkara", "link": "https://stackoverflow.com/users/1281180/blackkara"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1565102529, "post_id": 57377932, "comment_id": 101241739, "body": "It was <code>2.1.0-alpha07</code> when pull the project then changed to latest <code>2.2.0-alpha01</code>, but same weirdness"}, {"owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "edited": false, "score": 0, "creation_date": 1565111341, "post_id": 57377932, "comment_id": 101246318, "body": "Try using <code>val</code> instead of <code>var</code>."}, {"owner": {"reputation": 4302, "user_id": 1281180, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/XssiM.jpg?s=128&g=1", "display_name": "blackkara", "link": "https://stackoverflow.com/users/1281180/blackkara"}, "reply_to_user": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "edited": false, "score": 0, "creation_date": 1565184428, "post_id": 57377932, "comment_id": 101272772, "body": "@BirjuVachhani didn&#39;t solved unfortunately"}], "answers": [{"tags": [], "owner": {"reputation": 4302, "user_id": 1281180, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/XssiM.jpg?s=128&g=1", "display_name": "blackkara", "link": "https://stackoverflow.com/users/1281180/blackkara"}, "is_accepted": true, "score": 1, "last_activity_date": 1565303598, "creation_date": 1565303598, "answer_id": 57421440, "question_id": 57377932, "link": "https://stackoverflow.com/questions/57377932/how-to-deal-with-cannot-find-getter-for-field-errors/57421440#57421440", "title": "How To Deal With &#39;Cannot Find Getter For Field&#39; Errors?", "body": "<p>My machine language was Turkish. I can't believe this, but changing the language to English solved the problem.</p>\n\n<p>Note: I never want to misguide ones having same problem. In my case that's OK</p>\n"}], "owner": {"reputation": 4302, "user_id": 1281180, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/XssiM.jpg?s=128&g=1", "display_name": "blackkara", "link": "https://stackoverflow.com/users/1281180/blackkara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 57421440, "answer_count": 1, "score": 1, "last_activity_date": 1565303598, "creation_date": 1565100346, "last_edit_date": 1565211548, "question_id": 57377932, "link": "https://stackoverflow.com/questions/57377932/how-to-deal-with-cannot-find-getter-for-field-errors", "title": "How To Deal With &#39;Cannot Find Getter For Field&#39; Errors?", "body": "<p>I just pulled my previously android projects but now both giving this cannot find getter for field error.</p>\n\n<p>Such as InstagramSharing.kt</p>\n\n<pre><code>@Entity\ndata class InstagramSharing(\n    @PrimaryKey var instagramSharingId: String,\n    ...\n)\n</code></pre>\n\n<p>And when build(InstagramSharing.java)</p>\n\n<pre><code>@androidx.room.Entity()\n@kotlin.Metadata(...)\npublic final class InstagramSharing {\n    @org.jetbrains.annotations.NotNull()\n    @androidx.room.PrimaryKey()\n    private java.lang.String instagramSharingId;\n\n    @org.jetbrains.annotations.NotNull()\n    public final java.lang.String getInstagramSharingId() {\n        return null;\n    }\n\n    public final void setInstagramSharingId(@org.jetbrains.annotations.NotNull()\n    java.lang.String p0) {\n    }\n}\n</code></pre>\n\n<p>But interestingly outputs \n<code>error: Cannot find getter for field. private java.lang.String instagramSharingId;</code></p>\n\n<p>Is there anyway to overcome this weirdo problem? </p>\n\n<hr>\n\n<p>EDIT</p>\n\n<p>After deeply analyzing, appeared that I-i characters causing this error. E.g in below model, while <code>progress</code> and <code>selected</code> fields not causing errors, <code>instagramItemId</code>, <code>instagramSharingId</code> fields caused.</p>\n\n<pre><code>@Entity\ndata class InstagramItemProgress(\n    @PrimaryKey\n    var instagramItemId: String,\n    var instagramSharingId: String,\n    var progress: String,\n    var selected: Boolean\n)\n</code></pre>\n\n<p><code>error: Cannot find getter for field. private java.lang.String instagramItemId;</code></p>\n\n<p><code>error: Cannot find getter for field. private java.lang.String instagramSharingId;</code></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "item-decoration"], "comments": [{"owner": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1565102033, "post_id": 57377913, "comment_id": 101241445, "body": "I don&#39;t know Kotlin(I use Java), but I don&#39;t think you can set the divider for the first item only."}, {"owner": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "reply_to_user": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1565102083, "post_id": 57377913, "comment_id": 101241475, "body": "@GauravMall I have <code>header</code> for each group by date"}, {"owner": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1565102251, "post_id": 57377913, "comment_id": 101241576, "body": "Oh okay I see, will see If I can help!"}, {"owner": {"reputation": 13924, "user_id": 344487, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/121250664bfcadc67069fda58195234b?s=128&d=identicon&r=PG", "display_name": "Fred", "link": "https://stackoverflow.com/users/344487/fred"}, "edited": false, "score": 0, "creation_date": 1565102290, "post_id": 57377913, "comment_id": 101241600, "body": "Did you try inside <code>getItemOffsets</code> to use <code>parent.adapter.getItemViewType(parent.getChildAdapterPositio&zwnj;&#8203;n(view))</code>? This maybe works - haven&#39;t tried myself."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1565104052, "post_id": 57377913, "comment_id": 101242596, "body": "@GauravMall you certainly can."}, {"owner": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "reply_to_user": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1565104093, "post_id": 57377913, "comment_id": 101242620, "body": "@MartinMarconcini What do you mean?"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1565104148, "post_id": 57377913, "comment_id": 101242646, "body": "@GauravMall &quot; but I don&#39;t think you can set the divider for the first item only&quot; -&gt; you can set the divider for any row you want, but the logic to do so, is not straightforward."}, {"owner": {"reputation": 2086, "user_id": 10045660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xAX4t.jpg?s=128&g=1", "display_name": "Gaurav Mall", "link": "https://stackoverflow.com/users/10045660/gaurav-mall"}, "edited": false, "score": 0, "creation_date": 1565104216, "post_id": 57377913, "comment_id": 101242687, "body": "I was talking about his implementation, it&#39;s not possible with his code to set only to the first item. That&#39;s how I had understood the question."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1565104306, "post_id": 57377913, "comment_id": 101242734, "body": "And I&#39;m telling you it <i>is possible</i>. If his code worked, it&#39;s just a matter of not setting the divider if the position is not 0 (which would be, technically, the 1st item). It&#39;s ok."}], "answers": [{"tags": [], "owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "is_accepted": false, "score": -1, "last_activity_date": 1565104191, "creation_date": 1565104191, "answer_id": 57379071, "question_id": 57377913, "link": "https://stackoverflow.com/questions/57377913/how-to-set-itemdecoration-only-for-certain-viewtype/57379071#57379071", "title": "How to set ItemDecoration only for certain ViewType?", "body": "<p>Override your item decoration's <code>onDraw</code> and only perform the draw when the item \nbeing decorated is in a position you consider ok. </p>\n\n<p>Instead of creating another example, I'll just point you to a working sample that doesn't do <em>exactly</em> what you want, but should certainly point you in the right direction: how to selectively draw dividers.</p>\n\n<p><a href=\"https://stackoverflow.com/a/46216274/2684\">https://stackoverflow.com/a/46216274/2684</a></p>\n"}, {"comments": [{"owner": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565121386, "post_id": 57383027, "comment_id": 101250601, "body": "I don&#39;t know what you mean. I&#39;m beginner."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565125098, "post_id": 57383027, "comment_id": 101251938, "body": "Which part do you need clarification about, first or second paragraph?"}, {"owner": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565127274, "post_id": 57383027, "comment_id": 101252632, "body": "Examples from the Internet of creating ItemDecoration always have an implementation and somewhere else a call to the add method. Why do I choose headlines in different classes? Method getItemOffsets looks at existing type and decides whether he needs the divider. As I understand it,  do not recommend doing the divider out ItemDecoration. But if do, how to draw a line in the layout? Do you see update post?"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565128142, "post_id": 57383027, "comment_id": 101252885, "body": "It&#39;s just poor architecture for a view object to be deciding which other views it should be combined with. Internet examples where ItemDecorations are made to do this are a hack. getItemOffsets is supposed to return the item offsets. It is a hack to return invalid offsets or place them where it will still draw them but you just can&#39;t see them. In my opinion, since we can simply use the existing Adapter methods as they are intended to achieve the correct result, that is the cleanest way to do it."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565128186, "post_id": 57383027, "comment_id": 101252899, "body": "Are you already inflating a layout for your header view in your Adapter?"}, {"owner": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565164726, "post_id": 57383027, "comment_id": 101261667, "body": "The adapter now calls one of the two Viewholders. Title and content. The header layout is so far only a TextView. On GIF in post, red color for visibility bug. The code is the same as in the post. Only the setDrawable method is called to set the red color."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565181464, "post_id": 57383027, "comment_id": 101270803, "body": "So instead of TextView, you can use a FrameLayout that has both a TextView and a plain View. You can set the background of the View to use your Drawable. It looks like you want it to be an underline, so you can set this view&#39;s layout gravity to bottom and set its layout width to <code>match_parent</code>. It&#39;s layout height is however thick you want the line to be."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "edited": false, "score": 0, "creation_date": 1565181528, "post_id": 57383027, "comment_id": 101270841, "body": "In my case, I use an &quot;overline&quot;, not an underline, so I hide the divider on the top-most header. I do this in <code>onBindView</code> in the adapter right where you set the text for the header. You can set the <code>visibility</code> parameter of the divider View to <code>View.VISIBLE</code> or <code>VIEW.GONE</code>. What I do is in the Adapter&#39;s <code>onBindView</code> when it is setting the"}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 2, "last_activity_date": 1565120876, "creation_date": 1565120876, "answer_id": 57383027, "question_id": 57377913, "link": "https://stackoverflow.com/questions/57377913/how-to-set-itemdecoration-only-for-certain-viewtype/57383027#57383027", "title": "How to set ItemDecoration only for certain ViewType?", "body": "<p>In my opinion, trying to do this from within the Decoration implementation is messy. Now the decoration has to know about the data set, so you've got a view directly accessing the adapter to access the data. And you're determining which positions are headers in multiple different classes. Spaghetti and repetition.</p>\n\n<p>Ideally, the adapter class would be handling the application of Decorations so you could do it selectively, but since it doesn't, I think the best way to do it for the time being is to put the divider in your header layout, and in <code>onBindView</code> you can turn off its visibility if the position is 0 (the topmost header).</p>\n"}, {"tags": [], "owner": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "is_accepted": true, "score": -1, "last_activity_date": 1565182295, "last_edit_date": 1565182295, "creation_date": 1565181813, "answer_id": 57394805, "question_id": 57377913, "link": "https://stackoverflow.com/questions/57377913/how-to-set-itemdecoration-only-for-certain-viewtype/57394805#57394805", "title": "How to set ItemDecoration only for certain ViewType?", "body": "<h1>Problem</h1>\n\n<p>My mistake consists of the conviction to use <code>ItemDecoration</code> in order to set custom dividers for different <code>ViewType</code>. I have developed a clear belief that such a custom dividers should do only <code>ItemDecoration</code>.</p>\n\n<p>According <code>image gif</code> from my question, it's gives a bug. I couldn't find a solution. The other posts on <code>StackOverflow</code> is offering to <code>override</code> the methods: <code>getItemOffsets()</code> and <code>onDraw()</code>. I tried to implement at least four case. And they all ended up with a drawing bug (similar to gif from my question).</p>\n\n<h1>Search</h1>\n\n<p>I don't know what causes these drawing errors. Thanks to <a href=\"https://stackoverflow.com/a/57383027/5894542\">Tenfour04's</a> answer and comments. I changed my keywords for searching and found simple solution.</p>\n\n<p>By the way, the design of my application adopts some features of the design of applications from <code>Google</code>. I decompiled the apk of one of those apps. And found the resources that make the separator exactly as described in the solution. In this regard, I can consider this decision the <code>best practices from Google</code>.</p>\n\n<h2>Solution</h2>\n\n<p>I have two <code>ViewType</code>. Each with its own layout. The solution is to add a separator to the header layout.</p>\n\n<p>Because the <code>ViewTypeHeader</code> only appears if there are nested elements, in my case I don't need to add conditions with <code>Visible</code> for the last or first element.</p>\n\n<p><strong>layout\\ViewTypeHeader.xml</strong></p>\n\n<pre><code>&lt;LinearLayout ...&gt;\n\n    &lt;TextView ... /&gt;\n\n    &lt;!-- This --&gt;\n    &lt;View style=\"@style/DividerStyle\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>values/styles.xml</strong></p>\n\n<pre><code>&lt;style name=\"DividerStyle\"&gt;\n    &lt;item name=\"android:layout_width\"&gt;match_parent&lt;/item&gt;\n    &lt;item name=\"android:layout_height\"&gt;@dimen/dividerHeight&lt;/item&gt;\n    &lt;item name=\"android:background\"&gt;@android:color/black&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<h1>Conclusion</h1>\n\n<p>If there are several <code>ViewType</code> - forget about <code>ItemDecoration</code>. Save a lot of time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NnEu6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NnEu6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10695948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e27acd2f583259939d37ec550f16ade?s=128&d=identicon&r=PG&f=1", "display_name": "Hasaan Ahmed", "link": "https://stackoverflow.com/users/10695948/hasaan-ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1600733979, "creation_date": 1600733979, "answer_id": 64001455, "question_id": 57377913, "link": "https://stackoverflow.com/questions/57377913/how-to-set-itemdecoration-only-for-certain-viewtype/64001455#64001455", "title": "How to set ItemDecoration only for certain ViewType?", "body": "<p>Here's how you can show or hide divider based on view type or position. Include it in your activity/fragment.</p>\n<pre><code>recyclerView.addItemDecoration(new DividerItemDecoration(this, linearLayoutManager.getOrientation()) {\n            @Override\n            public void onDraw(Canvas c, RecyclerView parent, RecyclerView.State state) {\n                Drawable d = getDrawable();\n                for (int i = 0; i &lt; parent.getChildCount(); i++) {\n                    View view = parent.getChildAt(i);\n                    int position = parent.getChildAdapterPosition(view);\n                    int viewType = parent.getAdapter().getItemViewType(position);\n                    \n                    // Draw divider only for view type 2 (can also put position here to remove for certain positions)\n                    if(viewType == 2) {\n                        RecyclerView.LayoutParams params = (RecyclerView.LayoutParams) view.getLayoutParams();\n                        int top = view.getBottom() + params.bottomMargin;\n                        int bottom = top + d.getIntrinsicHeight();\n                        d.setBounds(0, top, parent.getRight(), bottom);\n                        d.draw(c);\n                    }\n                }\n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 639, "user_id": 5894542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfNAp.jpg?s=128&g=1", "display_name": "Viewed", "link": "https://stackoverflow.com/users/5894542/viewed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1904, "favorite_count": 1, "accepted_answer_id": 57394805, "answer_count": 4, "score": 1, "last_activity_date": 1600733979, "creation_date": 1565100273, "last_edit_date": 1565121917, "question_id": 57377913, "link": "https://stackoverflow.com/questions/57377913/how-to-set-itemdecoration-only-for-certain-viewtype", "title": "How to set ItemDecoration only for certain ViewType?", "body": "<p>I want to draw a default <code>ItemDecoration</code> only for <code>Header Type</code> into <code>RecycleView</code>. But <code>divider</code> is shown for each <code>ViewType</code>.</p>\n\n<p><strong>Custom decoration:</strong></p>\n\n<pre><code>class DividerDecoration(context: Context, orientation: Int)\n    : DividerItemDecoration(context, orientation){\n\n    override fun getItemOffsets(outRect: Rect, view: View, parent: RecyclerView, state: RecyclerView.State) {\n        val position = parent.getChildAdapterPosition(view)\n        val viewType = parent.adapter!!.getItemViewType(position)\n        if (viewType == ITEM_VIEW_TYPE_HEADER){\n            super.getItemOffsets(outRect, view, parent, state)\n        } else {\n            outRect.setEmpty()\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Set:</strong></p>\n\n<pre><code>val itemDecoration = DividerDecoration(binding.recyclerView.context, \n                                       DividerItemDecoration.VERTICAL)\nbinding.recyclerView.addItemDecoration(itemDecoration)\n</code></pre>\n\n<p>Any suggestions to why does this happen?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The code above is work. But with a bug. After starting the application, the divider appears in all elements, and then only the right ones. Why is this happening?</p>\n\n<p><a href=\"https://i.stack.imgur.com/sp1nz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sp1nz.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "spinner"], "comments": [{"owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "edited": false, "score": 0, "creation_date": 1565100508, "post_id": 57377321, "comment_id": 101240390, "body": "Please post your complete logcat which says what&#39;s the error is"}, {"owner": {"reputation": 23, "user_id": 11658694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQgFD.jpg?s=128&g=1", "display_name": "Purusann", "link": "https://stackoverflow.com/users/11658694/purusann"}, "reply_to_user": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "edited": false, "score": 0, "creation_date": 1565102844, "post_id": 57377321, "comment_id": 101241901, "body": "@sanoJ Here you go"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11658694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQgFD.jpg?s=128&g=1", "display_name": "Purusann", "link": "https://stackoverflow.com/users/11658694/purusann"}, "edited": false, "score": 0, "creation_date": 1565154634, "post_id": 57378844, "comment_id": 101257817, "body": "Done with it, Thx!!"}], "tags": [], "owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "is_accepted": true, "score": 1, "last_activity_date": 1565105336, "last_edit_date": 1565105336, "creation_date": 1565103318, "answer_id": 57378844, "question_id": 57377321, "link": "https://stackoverflow.com/questions/57377321/i-have-problem-with-spinneradapter-in-fragment/57378844#57378844", "title": "I have problem with spinneradapter in fragment", "body": "<p>You don't need to declare new variables for the Spinners as you are using kotlin synthetic properties. Just remove</p>\n\n<pre><code>private val financialSpinner = financialNameSpinner\nprivate val debtSpinner = debtCategorySpinner\nprivate val rateSpinner = rateTypeSpinner\n</code></pre>\n\n<p>and replace <code>financialSpinner</code> with <code>financialNameSpinner</code>, <code>debtSpinner</code> with <code>debtCategorySpinner</code> and <code>rateSpinner</code> with <code>rateTypeSpinner</code> in your code.</p>\n\n<p>You can find more about Kotlin Android Extension from the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<p><strong>Fix for the warning</strong></p>\n\n<p>You're getting this warning because the <code>ArrayAdapter.createFromResource</code> requires a Context object while <code>context</code>(From getContext) returns a nullable Context object. What you can do is convert the nullable object to a non-null object using <code>!!</code></p>\n\n<pre><code>ArrayAdapter.createFromResource(context!!, R.array.financialNameList, android.R.layout.simple_spinner_item)\n</code></pre>\n\n<p>Read this <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"nofollow noreferrer\">doc</a> to find out more about Null Safety in Kotlin</p>\n"}], "owner": {"reputation": 23, "user_id": 11658694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQgFD.jpg?s=128&g=1", "display_name": "Purusann", "link": "https://stackoverflow.com/users/11658694/purusann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 57378844, "answer_count": 1, "score": 0, "last_activity_date": 1565105336, "creation_date": 1565098511, "last_edit_date": 1565103115, "question_id": 57377321, "link": "https://stackoverflow.com/questions/57377321/i-have-problem-with-spinneradapter-in-fragment", "title": "I have problem with spinneradapter in fragment", "body": "<p>I'm working android app with kotlin. I'm set the selected value wtih 3 spinners in AddDebtFragment and 3 String arrays in resources file. but when i try to navigate from my HomeFragment to this fragment, the application is terminated and it shows problem on Logcat in the fragment</p>\n\n<p>and Here is my spinners in fragment_add_debt.xml</p>\n\n<pre><code>&lt;Spinner\n    android:id=\"@+id/debtCategorySpinner\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    style=\"@style/SpinnerStyle\"\n    android:spinnerMode=\"dialog\" \n    android:entries=\"@array/debtCategoryList\"/&gt;\n\n&lt;Spinner\n    android:id=\"@+id/financialNameSpinner\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:spinnerMode=\"dialog\"\n    style=\"@style/SpinnerStyle\"\n    android:entries=\"@array/financialNameList\"/&gt;\n&lt;Spinner\n        android:id=\"@+id/rateTypeSpinner\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        style=\"@style/SpinnerStyle\"\n        android:spinnerMode=\"dialog\"\n        android:entries=\"@array/rateTypeList\"/&gt;\n</code></pre>\n\n<p>The string-array in resource file</p>\n\n<pre><code>&lt;string-array name=\"financialNameList\"&gt;\n        &lt;item&gt;Bangkok Bank&lt;/item&gt;\n        &lt;item&gt;Kasikorn Bank&lt;/item&gt;\n        &lt;item&gt;Krung Thai Bank&lt;/item&gt;\n        &lt;item&gt;The Siam Commercial Bank&lt;/item&gt;\n        &lt;item&gt;TMB Bank&lt;/item&gt;\n        &lt;item&gt;Bank of Ayudhya&lt;/item&gt;\n    &lt;/string-array&gt;\n\n    &lt;string-array name=\"debtCategoryList\"&gt;\n        &lt;item&gt;Personal Loan&lt;/item&gt;\n        &lt;item&gt;Vehicle Loan&lt;/item&gt;\n        &lt;item&gt;Indonesia&lt;/item&gt;\n        &lt;item&gt;Mortgage&lt;/item&gt;\n        &lt;item&gt;Student Loan&lt;/item&gt;\n        &lt;item&gt;Credit Card&lt;/item&gt;\n    &lt;/string-array&gt;\n\n    &lt;string-array name=\"rateTypeList\"&gt;\n        &lt;item&gt;Effective Rate&lt;/item&gt;\n        &lt;item&gt;Flat Rate&lt;/item&gt;\n        &lt;item&gt;Fixed Rate&lt;/item&gt;\n        &lt;item&gt;MRR&lt;/item&gt;\n        &lt;item&gt;MOR&lt;/item&gt;\n        &lt;item&gt;MLR&lt;/item&gt;\n        &lt;item&gt;Student Rate&lt;/item&gt;\n        &lt;item&gt;Credit Card&lt;/item&gt;\n        &lt;item&gt;Ceiling&lt;/item&gt;\n        &lt;item&gt;Default&lt;/item&gt;\n    &lt;/string-array&gt;\n</code></pre>\n\n<p>AddDebtFragment</p>\n\n<pre><code>import android.os.Bundle\nimport android.util.Log\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.AdapterView\nimport android.widget.ArrayAdapter\nimport com.example.debtrearragement.R\nimport kotlinx.android.synthetic.main.fragment_add_debt.*\nclass AddDebtFragment : Fragment(), AdapterView.OnItemSelectedListener {\n\n    private val financialSpinner = financialNameSpinner\n    private val debtSpinner = debtCategorySpinner\n    private val rateSpinner = rateTypeSpinner\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_add_debt, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        ArrayAdapter.createFromResource(context, R.array.financialNameList, android.R.layout.simple_spinner_item)\n            .also { adapter -&gt;\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n            financialSpinner.adapter\n            financialSpinner.onItemSelectedListener\n        }\n\n        ArrayAdapter.createFromResource(this.context, R.array.debtCategoryList, android.R.layout.simple_spinner_dropdown_item)\n            .also { adapter -&gt;\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n            debtSpinner.adapter\n            debtSpinner.onItemSelectedListener\n        }\n\n        ArrayAdapter.createFromResource(this.context, R.array.rateTypeList, android.R.layout.simple_spinner_dropdown_item)\n            .also { adapter -&gt;\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n            rateSpinner.adapter\n            rateSpinner.onItemSelectedListener\n        }\n\n    }\n\n    override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n\n    }\n    override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View,position: Int, id: Long) {\n\n    }\n}\n</code></pre>\n\n<p>Edit : 1 - Here is Logcat</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.debtrearragement, PID: 29305\n    java.lang.IllegalStateException: financialSpinner must not be null\n        at com.example.debtrearragement.view.ui.debt.AddDebtFragment.onViewCreated(AddDebtFragment.kt:34)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManagerImpl.java:892)\n        at androidx.fragment.app.FragmentManagerImpl.addAddedFragments(FragmentManagerImpl.java:2097)\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManagerImpl.java:1871)\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManagerImpl.java:1827)\n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManagerImpl.java:1727)\n        at androidx.fragment.app.FragmentManagerImpl$2.run(FragmentManagerImpl.java:150)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\nI/Process: Sending signal. PID: 29305 SIG: 9\nApplication terminated.\n</code></pre>\n\n<p>Edit : 2 - and i just see it shows on complier too.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sflef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sflef.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "exception", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 3, "creation_date": 1565098013, "post_id": 57376847, "comment_id": 101238736, "body": "Could it be that you have a wrong import statement in place? Note that there also exists a <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/ConstraintViolationException.html\" rel=\"nofollow noreferrer\"><code>javax.validation.ConstraintViolationException</code></a>..."}, {"owner": {"reputation": 45, "user_id": 6570039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b3383e1bd770ee5da08a6c0ac3a496?s=128&d=identicon&r=PG&f=1", "display_name": "Programming123", "link": "https://stackoverflow.com/users/6570039/programming123"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1565099438, "post_id": 57376847, "comment_id": 101239716, "body": "Yes! Thanks, there are two imports with the same name"}], "owner": {"reputation": 45, "user_id": 6570039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22b3383e1bd770ee5da08a6c0ac3a496?s=128&d=identicon&r=PG&f=1", "display_name": "Programming123", "link": "https://stackoverflow.com/users/6570039/programming123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565103444, "creation_date": 1565096998, "last_edit_date": 1565103444, "question_id": 57376847, "link": "https://stackoverflow.com/questions/57376847/trying-to-get-nested-exception-from-exception-cause", "title": "Trying to get nested exception from exception.cause", "body": "<p>I have a try-catch block as follows:</p>\n\n<pre><code>try {\n\n  code that may throw an exception\n\n} catch (e: DataIntegrityException) {\n\n  val cause = e.cause\n\n  //prints \"Is the cause a ConstraintViolationException: false\"\n  println(\"Is the cause a ConstraintViolationException: \" (cause is ConstraintViolationException))\n\n  //prints org.hibernate.exception.ConstraintViolationException\n  println(cause)\n\n  //Here I want to do something with a ConstraintViolationException.\n\n}\n</code></pre>\n\n<p>The DataIntegrityException that I catch has a nested ConstraintViolationException that I need to have to use <code>cause.constraintViolations</code>. </p>\n\n<p>I have tried catching the ConstraintViolationException directly but since it's within the DataIntegrityViolation the catch isn't triggered. </p>\n\n<p>I'm quite confused why <code>(cause is ConstraintViolationException)</code> evaluates to <code>false</code> when the <code>println(cause)</code> suggests that it is a ConstraintViolationException?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1441, "user_id": 1595442, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7170ac78ee85ba42fe8a883edc2320d?s=128&d=identicon&r=PG", "display_name": "faranjit", "link": "https://stackoverflow.com/users/1595442/faranjit"}, "is_accepted": true, "score": 2, "last_activity_date": 1565096897, "creation_date": 1565096897, "answer_id": 57376823, "question_id": 57376703, "link": "https://stackoverflow.com/questions/57376703/kotlin-android-imageview-in-listview/57376823#57376823", "title": "Kotlin Android - ImageView in ListView", "body": "<pre><code>&lt;TextView android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      android:background=\"#FFFFFF\"\n      android:textSize=\"16sp\"\n      android:paddingTop=\"35dp\"\n      android:fontFamily=\"@font/familiar_pro_bold\"\n      android:textColor=\"#212121\"\n      android:id=\"@+id/listText\"\n      android:drawableRight=\"@drawable/view_full_item\"/&gt;\n</code></pre>\n\n<p>Also you can add some padding with <code>android:drawablePadding=xdp</code></p>\n"}], "owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 57376823, "answer_count": 1, "score": -1, "last_activity_date": 1565096897, "creation_date": 1565096473, "question_id": 57376703, "link": "https://stackoverflow.com/questions/57376703/kotlin-android-imageview-in-listview", "title": "Kotlin Android - ImageView in ListView", "body": "<p>I'm using an ArrayAdapter to populate my listView:</p>\n\n<pre><code>val adapter = ArrayAdapter(applicationContext, R.layout.listview_text, emailAddresses)\nlistView.adapter = adapter\n</code></pre>\n\n<p>and this layout for custom textView:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;TextView android:layout_width=\"wrap_content\"\n          android:layout_height=\"wrap_content\"\n          xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:background=\"#FFFFFF\"\n          android:textSize=\"16sp\"\n          android:paddingTop=\"35dp\"\n          android:fontFamily=\"@font/familiar_pro_bold\"\n          android:textColor=\"#212121\"\n          android:id=\"@+id/listText\"/&gt;\n</code></pre>\n\n<p>Now, I want to display an icon (as a \"view full item\") at right of each items (which are added by user).</p>\n\n<p>I want to avoid hundred of lines of code just for an image, what can I do?</p>\n"}, {"tags": ["android", "kotlin", "countdowntimer"], "comments": [{"owner": {"reputation": 340, "user_id": 4948527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-l5oy9kjWzuE/AAAAAAAAAAI/AAAAAAAAANw/a7ceeWp0J8I/photo.jpg?sz=128", "display_name": "Iqbal Rizky", "link": "https://stackoverflow.com/users/4948527/iqbal-rizky"}, "edited": false, "score": 0, "creation_date": 1565123066, "post_id": 57376212, "comment_id": 101251220, "body": "is this timer call by activity or fragment? is possible activity/fragment state to background and recreate another instance so background timer still run?"}], "answers": [{"comments": [{"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1565125478, "post_id": 57376319, "comment_id": 101252067, "body": "You might want to point out that setting the reference to &quot;null&quot; does not stop the timer, since it holds a reference on itself until it is finished. <code>cancel()</code> will do fine."}, {"owner": {"reputation": 2587, "user_id": 2196176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhZPn.png?s=128&g=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/2196176/sunny"}, "reply_to_user": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1565153234, "post_id": 57376319, "comment_id": 101257476, "body": "@greeble31 Yes, after <code>cancel()</code> if he wants to destroy the object. Then I will suggest assigning null to the variable."}], "tags": [], "owner": {"reputation": 2587, "user_id": 2196176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhZPn.png?s=128&g=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/2196176/sunny"}, "is_accepted": false, "score": 0, "last_activity_date": 1565095239, "creation_date": 1565095239, "answer_id": 57376319, "question_id": 57376212, "link": "https://stackoverflow.com/questions/57376212/how-to-destroy-an-instance-of-countdowntimer/57376319#57376319", "title": "How to destroy an instance of CountdownTimer?", "body": "<p>Yes, you need to cancel the <code>countdowntimer</code>. <a href=\"https://developer.android.com/reference/android/os/CountDownTimer\" rel=\"nofollow noreferrer\">Countdowntimer</a> has four methods </p>\n\n<ul>\n<li><p>cancel()</p></li>\n<li><p>onFinish()</p></li>\n<li><p>onTick(long millisUntilFinished)</p></li>\n<li><p>start()</p></li>\n</ul>\n\n<p>if you want to destroy the instance just assign the null value to the variable. But it's not the recommended approach.</p>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565105052, "creation_date": 1565094892, "last_edit_date": 1565105052, "question_id": 57376212, "link": "https://stackoverflow.com/questions/57376212/how-to-destroy-an-instance-of-countdowntimer", "title": "How to destroy an instance of CountdownTimer?", "body": "<p>I am needing to destroy an instance of a CountdownTimer in my code. I have tried <code>timer.cancel()</code> but this just pauses the timer. I don't see a <code>timer.destroy()</code> or anything similar. </p>\n\n<p>Here is how my timer is instantiated:</p>\n\n<pre><code>timer = object : CountDownTimer(COUNTDOWN_TIME, ONE_SECOND - 500) {\n\n            override fun onTick(millisUntilFinished: Long) {\n                    currentTime?.let {\n                            _currentTime.value = millisUntilFinished / ONE_SECOND\n                    }\n            }\n\n            override fun onFinish() {\n                _currentTime.value = DONE          \n            }\n        }\n\ntimer.start()\n\n</code></pre>\n\n<p>The _currentTime is a LiveData object to keep track of time across fragments.</p>\n"}, {"tags": ["android", "google-maps", "android-studio", "kotlin", "google-maps-android-api-2"], "comments": [{"owner": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 1, "creation_date": 1565093545, "post_id": 57375771, "comment_id": 101235974, "body": "Which keystore you use to generate SHA1 key? Debug KeyStore or Release Debug keystore?"}, {"owner": {"reputation": 3264, "user_id": 1563038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuzZB.jpg?s=128&g=1", "display_name": "Naveen Tamrakar", "link": "https://stackoverflow.com/users/1563038/naveen-tamrakar"}, "edited": false, "score": 0, "creation_date": 1565093870, "post_id": 57375771, "comment_id": 101236193, "body": "please check SHA1 on SignApk that added in google console"}, {"owner": {"reputation": 1, "user_id": 11889347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ee1368a26f4f38a735a360bda584f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mi14chal", "link": "https://stackoverflow.com/users/11889347/mi14chal"}, "reply_to_user": {"reputation": 3264, "user_id": 1563038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CuzZB.jpg?s=128&g=1", "display_name": "Naveen Tamrakar", "link": "https://stackoverflow.com/users/1563038/naveen-tamrakar"}, "edited": false, "score": 0, "creation_date": 1565094438, "post_id": 57375771, "comment_id": 101236514, "body": "@NaveenTamrakar SHA1 matches in google console."}, {"owner": {"reputation": 1, "user_id": 11889347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ee1368a26f4f38a735a360bda584f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mi14chal", "link": "https://stackoverflow.com/users/11889347/mi14chal"}, "reply_to_user": {"reputation": 1679, "user_id": 2042002, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fdb6380b08222d91342aee5af292c75a?s=128&d=identicon&r=PG&f=1", "display_name": "Sanwal Singh", "link": "https://stackoverflow.com/users/2042002/sanwal-singh"}, "edited": false, "score": 0, "creation_date": 1565094441, "post_id": 57375771, "comment_id": 101236515, "body": "@Shane I created release certificate and use it to get release API key and then I created signed release apk with that certificate."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11889347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ee1368a26f4f38a735a360bda584f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mi14chal", "link": "https://stackoverflow.com/users/11889347/mi14chal"}, "is_accepted": true, "score": -1, "last_activity_date": 1565191013, "creation_date": 1565191013, "answer_id": 57397595, "question_id": 57375771, "link": "https://stackoverflow.com/questions/57375771/android-google-maps-works-on-emulator-but-not-on-real-device/57397595#57397595", "title": "Android Google Maps works on emulator but not on real device", "body": "<p>I found the solution. Now fingerprint of release certificate is useless. To get map working you need to go to Google Play Console -> choose app -> Release management -> App signing and use fingerprint from App signing certificate.</p>\n"}], "owner": {"reputation": 1, "user_id": 11889347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ee1368a26f4f38a735a360bda584f0?s=128&d=identicon&r=PG&f=1", "display_name": "Mi14chal", "link": "https://stackoverflow.com/users/11889347/mi14chal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 57397595, "answer_count": 1, "score": 0, "last_activity_date": 1565191013, "creation_date": 1565093389, "question_id": 57375771, "link": "https://stackoverflow.com/questions/57375771/android-google-maps-works-on-emulator-but-not-on-real-device", "title": "Android Google Maps works on emulator but not on real device", "body": "<p>I try to get working signed release apk to work on real device. I have created release certificate with release API key which I put in my release google_maps_api.xml file. In manifest I have:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;meta-data\n    android:name=\"com.google.android.geo.API_KEY\"\n    android:value=\"@string/google_maps_key\"/&gt;\n</code></pre>\n\n<p>When I generated signed release apk and install it and run in emulator maps loads and works but when I try to do the same on real device maps does not even load.</p>\n"}, {"tags": ["java", "android", "kotlin", "masking", "input-mask"], "answers": [{"tags": [], "owner": {"reputation": 106, "user_id": 3756295, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000351485275/picture?type=large", "display_name": "taflanidi", "link": "https://stackoverflow.com/users/3756295/taflanidi"}, "is_accepted": false, "score": 0, "last_activity_date": 1566062021, "creation_date": 1566062021, "answer_id": 57538380, "question_id": 57374589, "link": "https://stackoverflow.com/questions/57374589/dynamic-mask-for-edittext-using-textwatcher-for-blood-pressue-unit/57538380#57538380", "title": "Dynamic mask for EditText using TextWatcher (for Blood Pressue unit)", "body": "<p>What you're trying to implement, if done properly, would eventually require you to use a state machine as in <a href=\"https://www.gamedev.net/articles/programming/general-and-gameplay-programming/finite-state-machines-and-regular-expressions-r3176\" rel=\"nofollow noreferrer\">regular expressions</a>.</p>\n\n<p>From a cursory glance, your solution is missing some key points, like handling situations when cursor is not at the end of the string; thus, your solution won't properly handle pasting from the clipboard, too.</p>\n\n<p>Next, you've got to use the <code>::afterTextChanged</code> method with its <code>Editable</code> variable in order to make changes within your <code>EditText</code> \"on the fly\", simultaneously with user typing.</p>\n\n<p>I'd rather encourage you to incorporate an established solution, and there're quite a few. I see you already have Kotlin runtime in your project, thus you'll be able to pull in libraries like <a href=\"https://github.com/RedMadRobot/input-mask-android\" rel=\"nofollow noreferrer\">RedMadRobot/input-mask-android</a>. The library allows to switch between formats depending on user input, and I've got to mention that I'm a maintainer of it, so feel free to ask any questions regarding its usage.</p>\n\n<p>Other honourable mentions:</p>\n\n<ul>\n<li><a href=\"https://github.com/pinball83/Masked-Edittext\" rel=\"nofollow noreferrer\">pinball83/Masked-Edittext</a> </li>\n<li><a href=\"https://github.com/santalu/mask-edittext\" rel=\"nofollow noreferrer\">santalu/mask-edittext</a></li>\n<li><a href=\"https://github.com/egslava/edittext-mask\" rel=\"nofollow noreferrer\">egslava/edittext-mask</a></li>\n<li><a href=\"https://github.com/TinkoffCreditSystems/decoro\" rel=\"nofollow noreferrer\">TinkoffCreditSystems/decoro</a></li>\n<li><a href=\"https://github.com/PaXLiCh/FormattEditText\" rel=\"nofollow noreferrer\">PaXLiCh/FormattEditText</a></li>\n</ul>\n\n<p>\u2014 though I'm not sure any of these would actually handle your particular case with values of different length. </p>\n"}], "owner": {"reputation": 2126, "user_id": 5231773, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/0qGyu.png?s=128&g=1", "display_name": "LearnPainLess", "link": "https://stackoverflow.com/users/5231773/learnpainless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566062021, "creation_date": 1565089488, "last_edit_date": 1565113477, "question_id": 57374589, "link": "https://stackoverflow.com/questions/57374589/dynamic-mask-for-edittext-using-textwatcher-for-blood-pressue-unit", "title": "Dynamic mask for EditText using TextWatcher (for Blood Pressue unit)", "body": "<p>I want to mask <code>EditText</code> for Blood Pressure unit, for example (###/###).</p>\n\n<p>value can be <code>2digits/2digits</code> or <code>3digits/3digits</code> or <code>3digits/2digits</code> or <code>2digits/3digits</code></p>\n\n<p>Currently I'm using below code which is working fine for <code>2digits/2digits</code> or <code>3digits/3digits</code> or <code>3digits/2digits</code> not working for <code>2digits/3digits</code>.</p>\n\n<p><strong>here is my code:</strong></p>\n\n<pre><code>import android.text.Editable\nimport android.text.TextUtils\nimport android.text.TextWatcher\nimport android.widget.EditText\nimport com.google.android.material.textfield.TextInputLayout\n\nobject EditTextBPMask {\n    private const val mask22 = \"##/##\"\n    private const val mask32 = \"###/##\"\n    private const val mask33 = \"###/###\"\n\n    fun unmask(s: String): String {\n        return s.replace(\"[^0-9]*\".toRegex(), \"\")\n    }\n\n    fun insert(editText: EditText): TextWatcher {\n        return object : TextWatcher {\n            var isUpdating: Boolean = false\n            var old = \"\"\n\n            override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n                val str = unmask(s.toString())\n                val mask: String\n                val defaultMask = getDefaultMask(str)\n                mask = when (str.length) {\n                    6 -&gt; mask33\n                    5 -&gt; mask32\n                    else -&gt; defaultMask\n                }\n\n                var mascara = \"\"\n                if (isUpdating) {\n                    old = str\n                    isUpdating = false\n                    return\n                }\n                var i = 0\n                for (m in mask.toCharArray()) {\n                    if (m != '#' &amp;&amp; str.length &gt; old.length || m != '#' &amp;&amp; str.length &lt; old.length &amp;&amp; str.length != i) {\n                        mascara += m\n                        continue\n                    }\n\n                    try {\n                        mascara += str[i]\n                    } catch (e: Exception) {\n                        break\n                    }\n\n                    i++\n                }\n                isUpdating = true\n                editText.setText(mascara)\n                editText.setSelection(mascara.length)\n                /*if (isValid(editText)) {\n                    editText.error = null\n                }\n                else {\n                    editText.error = \"Incorrect value!\"\n                }*/\n            }\n\n            override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {}\n            override fun afterTextChanged(s: Editable) {}\n        }\n    }\n\n    private fun getDefaultMask(str: String): String {\n        var defaultMask = mask22\n        if (str.length &gt; 6) {\n            defaultMask = mask33\n        }\n        return defaultMask\n    }\n\n    fun isValid(editText: EditText): Boolean {\n        return if (!TextUtils.isEmpty(editText.text.toString())) {\n            unmask(editText.text.toString()).length &gt; 3\n        }\n        else {\n            false\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "listview", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "edited": false, "score": 0, "creation_date": 1565089045, "post_id": 57374439, "comment_id": 101233480, "body": "please add some more code how you are sharing the data"}, {"owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "edited": false, "score": 0, "creation_date": 1565089382, "post_id": 57374439, "comment_id": 101233658, "body": "I think your problem here is that you call the adapter.notifyDataSetChanged() before you even add the adapter to the list view."}, {"owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "edited": false, "score": 0, "creation_date": 1565089466, "post_id": 57374439, "comment_id": 101233718, "body": "Already tried putting adapter.notifyDataSetChanged() after adding adapter to the list view, is not working"}, {"owner": {"reputation": 945, "user_id": 9598793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exhZA.jpg?s=128&g=1", "display_name": "Ali Ahsan", "link": "https://stackoverflow.com/users/9598793/ali-ahsan"}, "edited": false, "score": 0, "creation_date": 1565089615, "post_id": 57374439, "comment_id": 101233809, "body": "where you are adding new item to list?"}, {"owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "edited": false, "score": 0, "creation_date": 1565089686, "post_id": 57374439, "comment_id": 101233842, "body": "On fab click in MainActivity. It opens an AlertDialog to add items. It works, the problems is that ListView is not refreshing when EmailFragment is opened"}, {"owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "edited": false, "score": 0, "creation_date": 1565089919, "post_id": 57374439, "comment_id": 101233973, "body": "Make the adapter global and initialize it in the onCreate(). Then call adapter.notifyDataSetChanged() in the Alert Dialog after the items are added."}, {"owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "reply_to_user": {"reputation": 945, "user_id": 9598793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/exhZA.jpg?s=128&g=1", "display_name": "Ali Ahsan", "link": "https://stackoverflow.com/users/9598793/ali-ahsan"}, "edited": false, "score": 0, "creation_date": 1565089996, "post_id": 57374439, "comment_id": 101234015, "body": "@AliAhsan already added"}, {"owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "reply_to_user": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "edited": false, "score": 0, "creation_date": 1565090315, "post_id": 57374439, "comment_id": 101234173, "body": "@lukas can&#39;t make the adapter global"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565091784, "post_id": 57374439, "comment_id": 101234926, "body": "Consider looking into Android Architecture Components, ViewModel, LiveData, Jetpack, RecyclerView and ListAdapter."}], "answers": [{"tags": [], "owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "is_accepted": false, "score": -1, "last_activity_date": 1565089136, "creation_date": 1565089136, "answer_id": 57374514, "question_id": 57374439, "link": "https://stackoverflow.com/questions/57374439/kotlin-android-refresh-listview-from-fragment-when-an-item-is-added-by-main-ac/57374514#57374514", "title": "Kotlin Android - Refresh ListView from Fragment when an item is added by Main Activity", "body": "<p>Just simply call</p>\n\n<pre><code>adapter.notifyDataSetChanged()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 479, "user_id": 5123074, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/10207113291499434/picture?type=large", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0412\u043e\u043b\u043e\u0448\u0438\u043d\u043e\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5123074/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%92%d0%be%d0%bb%d0%be%d1%88%d0%b8%d0%bd%d0%be%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "is_accepted": false, "score": 1, "last_activity_date": 1565089197, "creation_date": 1565089197, "answer_id": 57374532, "question_id": 57374439, "link": "https://stackoverflow.com/questions/57374439/kotlin-android-refresh-listview-from-fragment-when-an-item-is-added-by-main-ac/57374532#57374532", "title": "Kotlin Android - Refresh ListView from Fragment when an item is added by Main Activity", "body": "<p>Use LiveData, LiveData will observe the changes and automatically refresh adapter</p>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565173722, "post_id": 57376592, "comment_id": 101266482, "body": "That&#39;s no solution, that&#39;s a hack. It will most likely mess with your back navigation, too."}, {"owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565173840, "post_id": 57376592, "comment_id": 101266548, "body": "I know, this is why I written &quot;or something similiar&quot;. Anyway, I&#39;ll write directly &quot;Workaround&quot; instead of &quot;Solution&quot;"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1565179217, "post_id": 57376592, "comment_id": 101269557, "body": "Honestly, you might still want to test your app for <a href=\"https://stackoverflow.com/questions/49046773/singleton-object-becomes-null-after-app-is-resumed/49107399#49107399\" title=\"singleton object becomes null after app is resumed\">stackoverflow.com/questions/49046773/&hellip;</a>"}], "tags": [], "owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1599830062, "last_edit_date": 1599830062, "creation_date": 1565096152, "answer_id": 57376592, "question_id": 57374439, "link": "https://stackoverflow.com/questions/57374439/kotlin-android-refresh-listview-from-fragment-when-an-item-is-added-by-main-ac/57376592#57376592", "title": "Kotlin Android - Refresh ListView from Fragment when an item is added by Main Activity", "body": "<h2>WORKAROUND</h2>\n<p>Finally, I went to a hack to &quot;resolve&quot; my problem.\nJust reload the fragment.</p>\n<p>MainActivity:</p>\n<pre><code>val emailFragment = EmailFragment.newInstance()\n                openFragment(emailFragment)\n</code></pre>\n<p>openFragment:</p>\n<pre><code>private fun openFragment(fragment: Fragment) {\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.setCustomAnimations(android.R.anim.fade_in, android.R.anim.fade_out)\n    transaction.replace(R.id.container, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n</code></pre>\n"}], "owner": {"reputation": 454, "user_id": 11730727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hy8mT.png?s=128&g=1", "display_name": "Arfmann", "link": "https://stackoverflow.com/users/11730727/arfmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "accepted_answer_id": 57376592, "answer_count": 3, "score": 2, "last_activity_date": 1599830062, "creation_date": 1565088868, "last_edit_date": 1565089819, "question_id": 57374439, "link": "https://stackoverflow.com/questions/57374439/kotlin-android-refresh-listview-from-fragment-when-an-item-is-added-by-main-ac", "title": "Kotlin Android - Refresh ListView from Fragment when an item is added by Main Activity", "body": "<p>I have a <code>BottomNavigationView</code> with 2 sub menu, Home and Email, and a fab to add items to Email.</p>\n\n<p>I'm using the <code>fragment</code> <code>EmailFragment</code> to handle sub menu click. Now, in EmailFragment I have a ListView. The fab in <code>BottomNavigationMenu</code> is able to add items to <code>EmailFragment</code> <code>ListView</code> from <code>MainActivity</code> and it works fine. The problem is, I see new ListView items only when I reopen <code>EmailFragment</code> with its layout.</p>\n\n<p>I want that when I add items to this ListView appear without reopening fragment.</p>\n\n<p>This is how I add items in MainActivity:</p>\n\n<pre><code> positiveButton.setOnClickListener{\n\n                if(dialogView.email_textInput.text!!.isEmpty() || dialogView.email_password_textInput.text!!.isEmpty()) {\n                    Toast.makeText(this, resources.getString(R.string.empty_fields), Toast.LENGTH_LONG).show()\n                }\n\n                else{\n\n                    emailAddresses.add(dialogView.email_textInput.text!!.toString())\n\n\n                    adapter.notifyDataSetChanged()\n\n                    saveData()\n\n                }\n            }\n</code></pre>\n\n<p>This is how I save data from MainActivity:</p>\n\n<pre><code>private fun saveData() {\n    val sharedPreferences = getSharedPreferences(\"shared preferences\", MODE_PRIVATE)\n    val editor = sharedPreferences.edit()\n    val gson = Gson()\n    val json = gson.toJson(emailAddresses) //convert ArrayList to JSON (shared preferences can't handle ArrayList)\n    editor.putString(\"emailAddresses\", json) //save the new JSON with values\n    editor.apply() //apply new changes\n}\n</code></pre>\n\n<p>This is how I get data from EmailFragment:</p>\n\n<pre><code>private fun loadData() {\n    val sharedPreferences = this.activity!!.getSharedPreferences(\"shared preferences\", MODE_PRIVATE)\n    val gson = Gson()\n    val json = sharedPreferences.getString(\"emailAddresses\", null)\n    val type = object : TypeToken&lt;ArrayList&lt;String&gt;&gt;() {\n    }.type\n\n    when (json) {\n        null -&gt; emailAddresses = ArrayList() //if json is null, so empty, values is just an empty ArrayList\n        else -&gt; emailAddresses = gson.fromJson(json, type) //got JSON values and convert them back to ArrayList\n\n    }\n}\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n\n): View? {\n\n    loadData()\n\n    val adapter = ArrayAdapter(this.activity!!.applicationContext, R.layout.listview_text, emailAddresses)\n    adapter.notifyDataSetChanged()\n\n    val mainView = inflater.inflate(R.layout.fragment_email, container, false)\n\n    mainView.email_listView.adapter = adapter\n\n    return mainView\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-recyclerview", "android-volley"], "answers": [{"comments": [{"owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "edited": false, "score": 0, "creation_date": 1565090079, "post_id": 57374157, "comment_id": 101234063, "body": "Thanks @fjc, you pointed out the problem really accurately, I used singleton class and it did the trick"}], "tags": [], "owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "is_accepted": false, "score": 5, "last_activity_date": 1565087853, "creation_date": 1565087853, "answer_id": 57374157, "question_id": 57374109, "link": "https://stackoverflow.com/questions/57374109/volley-request-inside-recyclerview-adapter/57374157#57374157", "title": "Volley request inside recyclerview adapter", "body": "<p>Your recycler view will fire your adapter's <code>onBindViewHolder</code> every time an element is supposed to be displayed that was not bound to a view before (or that was un-bound). </p>\n\n<p>When you scroll fast, binds and unbinds will happen fast. Each bind generates an HTTP request, which is a relatively expensive IO operation that consumes memory.</p>\n\n<p>This is a recipe for disaster. Do not send HTTP requests based on a regular user interaction like this. If someone keeps scrolling up and down, the app is guaranteed to run out of memory.</p>\n\n<p>Instead, think of a better strategy. Possibly pre-load data asynchronously, or at least cache data once loaded.</p>\n"}, {"tags": [], "owner": {"reputation": 8653, "user_id": 2299040, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Zjrmw.jpg?s=128&g=1", "display_name": "Sahil Manchanda", "link": "https://stackoverflow.com/users/2299040/sahil-manchanda"}, "is_accepted": true, "score": 1, "last_activity_date": 1565090009, "last_edit_date": 1565090009, "creation_date": 1565089627, "answer_id": 57374621, "question_id": 57374109, "link": "https://stackoverflow.com/questions/57374109/volley-request-inside-recyclerview-adapter/57374621#57374621", "title": "Volley request inside recyclerview adapter", "body": "<p>@fjc pointed out correct the HTTP request is resource intensive. If you look at your <code>populateViews</code> function's first line </p>\n\n<pre><code>val requestQueue = Volley.newRequestQueue(context)\n</code></pre>\n\n<p>This is the main reason of OOM. You are creating multiple request queue for each image request which is therefore occupying all the resources thus result in OOM. In order to overcome that you need to use a single requestqueue for all of your application. it is also recommended by Google to use a Singleton class for handling the requestqueue.<a href=\"https://developer.android.com/training/volley/requestqueue.html#singleton\" rel=\"nofollow noreferrer\">DOC</a></p>\n\n<blockquote>\n  <p>if your application makes constant use of the network, it's probably\n  most efficient to set up a single instance of RequestQueue that will\n  last the lifetime of your app. You can achieve this in various ways.\n  The recommended approach is to implement a singleton class that\n  encapsulates RequestQueue and other Volley functionality. Another\n  approach is to subclass Application and set up the RequestQueue in\n  Application.onCreate(). But this approach is discouraged; a static\n  singleton can provide the same functionality in a more modular way.</p>\n</blockquote>\n\n<p>A quick way to solve your problem is to copy the following class in your project</p>\n\n<pre><code>class MySingleton constructor(context: Context) {\n    companion object {\n        @Volatile\n        private var INSTANCE: MySingleton? = null\n        fun getInstance(context: Context) =\n            INSTANCE ?: synchronized(this) {\n                INSTANCE ?: MySingleton(context).also {\n                    INSTANCE = it\n                }\n            }\n    }\n    val imageLoader: ImageLoader by lazy {\n        ImageLoader(requestQueue,\n                object : ImageLoader.ImageCache {\n                    private val cache = LruCache&lt;String, Bitmap&gt;(20)\n                    override fun getBitmap(url: String): Bitmap {\n                        return cache.get(url)\n                    }\n                    override fun putBitmap(url: String, bitmap: Bitmap) {\n                        cache.put(url, bitmap)\n                    }\n                })\n    }\n    val requestQueue: RequestQueue by lazy {\n        // applicationContext is key, it keeps you from leaking the\n        // Activity or BroadcastReceiver if someone passes one in.\n        Volley.newRequestQueue(context.applicationContext)\n    }\n    fun &lt;T&gt; addToRequestQueue(req: Request&lt;T&gt;) {\n        requestQueue.add(req)\n    }\n}\n</code></pre>\n\n<p>Replace the first line of your populateViews function with </p>\n\n<pre><code>val requestQueue = MySingleton.getInstance(context).requestQueue\n</code></pre>\n\n<p>This should solve your problem</p>\n\n<p>Another way is to use <a href=\"https://github.com/google/volley/blob/master/src/main/java/com/android/volley/toolbox/NetworkImageView.java\" rel=\"nofollow noreferrer\">NetworkImageView</a> from Volley's ToolBox</p>\n\n<p>How to use\nReplace your ImageView with NetworkImageView</p>\n\n<pre><code>&lt;com.android.volley.toolbox.NetworkImageView\n            android:id=\"@+id/imgGrid\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:adjustViewBounds=\"true\"\n            android:scaleType=\"centerInside\"\n            /&gt;\n</code></pre>\n\n<p>and load the image using</p>\n\n<pre><code>holder.imgGrid.setImageUrl(list[position].wallpaper_image_url,MySingleton.getInstance(context).imageLoader);\n</code></pre>\n"}], "owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "accepted_answer_id": 57374621, "answer_count": 2, "score": 0, "last_activity_date": 1565090009, "creation_date": 1565087685, "question_id": 57374109, "link": "https://stackoverflow.com/questions/57374109/volley-request-inside-recyclerview-adapter", "title": "Volley request inside recyclerview adapter", "body": "<p>I am using Volley image request inside recyclerview adapter.\nRequest appears to work fine until a fast scroll is done, whenever I scroll the recyclerview fast up or down, the app crashes with following error :</p>\n\n<pre><code> java.lang.OutOfMemoryError: Could not allocate JNI Env: Failed anonymous mmap(0x0, 8192, 0x3, 0x22, -1, 0): Permission denied. See process maps in the log.\n    at java.lang.Thread.nativeCreate(Native Method)\n    at java.lang.Thread.start(Thread.java:883)\n    at com.android.volley.RequestQueue.start(RequestQueue.java:134)\n    at com.android.volley.toolbox.Volley.newRequestQueue(Volley.java:91)\n    at com.android.volley.toolbox.Volley.newRequestQueue(Volley.java:67)\n    at com.android.volley.toolbox.Volley.newRequestQueue(Volley.java:102)\n    at com.squadtechs.hdwallpapercollection.main_activity.fragment.WallpaperAdapter.populateViews(WallpaperAdapter.kt:60)\n    at com.squadtechs.hdwallpapercollection.main_activity.fragment.WallpaperAdapter.onBindViewHolder(WallpaperAdapter.kt:38)\n    at com.squadtechs.hdwallpapercollection.main_activity.fragment.WallpaperAdapter.onBindViewHolder(WallpaperAdapter.kt:21)\n</code></pre>\n\n<p>Following is my <code>onBindViewHolder()</code> code:</p>\n\n<pre><code>   override fun onBindViewHolder(holder: WallpaperHolder, position: Int) {\n    populateViews(holder, position)\n}\n\nprivate fun populateViews(holder: WallpaperHolder, position: Int) {\n    val requestQueue = Volley.newRequestQueue(context)\n    val imageRequest = ImageRequest(\n        list[position].wallpaper_image_url,\n        Response.Listener { response -&gt;\n            holder.imgGrid.scaleType = ImageView.ScaleType.CENTER\n            holder.imgGrid.setImageBitmap(response)\n            holder.progress.visibility = View.GONE\n        },\n        1024,\n        860,\n        ImageView.ScaleType.CENTER,\n        null,\n        Response.ErrorListener { error -&gt;\n            Toast.makeText(context, \"Error loading Image\", Toast.LENGTH_LONG).show()\n            holder.progress.visibility = View.GONE\n        }).setRetryPolicy(\n        DefaultRetryPolicy(\n            20000,\n            DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n            DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\n        )\n    )\n    requestQueue.add(imageRequest)\n    holder.txtCategory.visibility = View.GONE\n}\n</code></pre>\n\n<p>According to log, error is thrown at line where request queue is declared, i.e <code>val requestQueue = Volley.newRequestQueue(context)</code></p>\n\n<p><strong>Remember: the app works fine when scroled normally but crashes when scrolled fast</strong></p>\n"}, {"tags": ["android", "kotlin", "mvvm", "retrofit2", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 344, "user_id": 6764161, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-BScG2eXod70/AAAAAAAAAAI/AAAAAAAACLg/n8o7u0LM2HU/photo.jpg?sz=128", "display_name": "KhanStan99", "link": "https://stackoverflow.com/users/6764161/khanstan99"}, "is_accepted": true, "score": 1, "last_activity_date": 1565155462, "creation_date": 1565155462, "answer_id": 57387456, "question_id": 57373945, "link": "https://stackoverflow.com/questions/57373945/how-to-have-multiple-base-url-in-retrofit2-using-kotlin-and-kodein-structure/57387456#57387456", "title": "How to have multiple base URL in retrofit2 using Kotlin and Kodein structure", "body": "<p>I think i found a work around to achive this. There are two solutions...</p>\n\n<p><strong>First Solution:</strong></p>\n\n<ul>\n<li>You can create a new interface for other microservice (base url) and use it just like the first one. Now there are some pros and cons for this.</li>\n</ul>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li>Both the interfaces will be independent of each other.</li>\n<li>You can use either of the interface or both in same activity as you need.</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>If there is another microservice poped up , you have to create one more interface for that. \ud83d\ude3f</li>\n<li>If you even have to 2 microservice and you have to run same application on <code>development</code> and <code>qa</code> server providing an option for testers and developers to switch between qa and dev servers at run time the you need to have 4 interfaces and 2 extra for <code>production</code> that means 6 interfaces, It will become very had to manage it.</li>\n</ul>\n\n<p><strong>Second Solution:</strong></p>\n\n<ul>\n<li>You can use <code>@URL</code> annotation provided by retrofit2. Now if you do this there will be no base_url, you have to pass the URL and microservice name in a common function which will return you a full URL based on what server users/testers are on (dev/qa or prod).</li>\n</ul>\n\n<p><strong>Pros:</strong></p>\n\n<ul>\n<li>No extra interfaces, Only one will work out.</li>\n<li>Easy management of all the API calls because of the common function.</li>\n</ul>\n\n<p><strong>Cons:</strong></p>\n\n<ul>\n<li>You have to call the common funtion in <code>@URL</code> annotation in each and every API call.</li>\n<li>I dont see any more. \ud83d\ude0a</li>\n</ul>\n"}], "owner": {"reputation": 344, "user_id": 6764161, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh5.googleusercontent.com/-BScG2eXod70/AAAAAAAAAAI/AAAAAAAACLg/n8o7u0LM2HU/photo.jpg?sz=128", "display_name": "KhanStan99", "link": "https://stackoverflow.com/users/6764161/khanstan99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 57387456, "answer_count": 1, "score": 1, "last_activity_date": 1565155462, "creation_date": 1565087146, "last_edit_date": 1565095619, "question_id": 57373945, "link": "https://stackoverflow.com/questions/57373945/how-to-have-multiple-base-url-in-retrofit2-using-kotlin-and-kodein-structure", "title": "How to have multiple base URL in retrofit2 using Kotlin and Kodein structure", "body": "<p>I have followed <a href=\"https://www.youtube.com/watch?v=67bdklHmXA8&amp;list=PLk7v1Z2rk4hjVaZ8DZKe8iT9RIM9OUrwp\" rel=\"nofollow noreferrer\">THIS</a> tutorial for MVVM and Retrofit2 with Kodein structure/framework. I wanted to know, Using this same framework/structure how can i have multiple base URLs in a single App.</p>\n\n<p>Below is the code of \"MyApi\" interface which have an interceptor class as parameter.</p>\n\n<pre><code>companion object {\n    operator fun invoke(\n        networkConnectionInterceptor: NetworkConnectionInterceptor\n    ): MyApi {\n\n        val okkHttpclient = OkHttpClient.Builder()\n            .addInterceptor(networkConnectionInterceptor)\n            .readTimeout(20, TimeUnit.SECONDS)\n            .build()\n\n        return Retrofit.Builder()\n            .client(okkHttpclient)\n            .baseUrl(\"http://my-base-url\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n            .create(MyApi::class.java)\n    }\n}\n</code></pre>\n\n<p>And here is how Iam initializing MyApi interface in Application class:</p>\n\n<pre><code>    bind() from singleton { PreferenceProvider(instance()) }\n    bind() from singleton { NetworkConnectionInterceptor(instance(), instance()) }\n    bind() from singleton { MyApi(instance()) }\n</code></pre>\n\n<p>Here instance() in MyApi is obviously NetworkConnectionInterceptor.</p>\n\n<p>I have seen a lot of examples on stackoverflow and medium but i didnt got any help.</p>\n"}, {"tags": ["android", "kotlin", "google-places-api"], "answers": [{"comments": [{"owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "edited": false, "score": 0, "creation_date": 1565087471, "post_id": 57373978, "comment_id": 101232701, "body": "used a Filterable inside a recyclerview adapter and called filter on change in the edittext"}], "tags": [], "owner": {"reputation": 5225, "user_id": 3582305, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/NDgTv.png?s=128&g=1", "display_name": "Kushan", "link": "https://stackoverflow.com/users/3582305/kushan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565087240, "creation_date": 1565087240, "answer_id": 57373978, "question_id": 57373782, "link": "https://stackoverflow.com/questions/57373782/how-to-fetch-properly-place-id-given-the-name-of-a-city-trying-to-reduce-cost-o/57373978#57373978", "title": "How to fetch properly Place ID given the name of a city. Trying to reduce cost of billing", "body": "<p>Not too sure about the sdk approach as i haven't used it, i have used the REST api apporach previously to do this</p>\n\n<p><a href=\"https://maps.googleapis.com/maps/api/place/autocomplete/json?input=\" rel=\"nofollow noreferrer\">https://maps.googleapis.com/maps/api/place/autocomplete/json?input=</a>&amp;key=</p>\n\n<p>Reducing cost will be tricky. Here's what i have resorted to in past projects to reduce this cost as best as i could:</p>\n\n<p>1) the query will take place once every 2 characters are typed (you can change 2 to 3 or 4 or whatever is best for your project)</p>\n\n<p>2) Save the results ie: place id and query in the local sqlite db. Before every actual autocomplete query, check if there is a matching result in the local db, if so, show those, else if no matching results are saved, then and only then perform the query. </p>\n\n<p>A combination of these two should reduce your costs quite a bit as per my experience. Unfortunately i am only aware of these two solutions right now</p>\n"}], "owner": {"reputation": 6818, "user_id": 1282166, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Hd0XQ.jpg?s=128&g=1", "display_name": "Shudy", "link": "https://stackoverflow.com/users/1282166/shudy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1565087240, "creation_date": 1565086460, "question_id": 57373782, "link": "https://stackoverflow.com/questions/57373782/how-to-fetch-properly-place-id-given-the-name-of-a-city-trying-to-reduce-cost-o", "title": "How to fetch properly Place ID given the name of a city. Trying to reduce cost of billing", "body": "<p>At this moment we are able to retrieve the city ID given the name of it. But I'm trying to reduce the cost of the billing. And taking a look to the code we are doing like this:</p>\n\n<pre><code>var token = AutocompleteSessionToken.newInstance();\n            Places.initialize(context, &lt;API_KEY&gt;)\n            var placesClient = Places.createClient(context)\n\n            val request = FindAutocompletePredictionsRequest.builder()\n                .setLocationBias(RectangularBounds.newInstance(UtilsPlaces.generateGlobalWorldBounds()))\n                .setTypeFilter(TypeFilter.CITIES)\n                .setSessionToken(token)\n                .setQuery(&lt;CITY_NAME&gt;)\n                .build()\n\n            placesClient.findAutocompletePredictions(request).addOnSuccessListener { response -&gt;\n                var prediction = response.autocompletePredictions[0]\n                placeAddress.placeId = prediction.placeId\n\n               &lt;Do stuff with the place id retrieved&gt;\n            }\n                .addOnFailureListener {\n                    &lt;Do stuff in case of failure&gt;\n                }\n</code></pre>\n\n<p>So my question is.. is the good way to retrieve the id? Or exist  a better way?</p>\n\n<p>I saw we can get information (BASIC SKU is what we need) doing <code>fetchPlace()</code> but If I try to do like this:</p>\n\n<pre><code>val placeFields = asList(Place.Field.ID)\nval fetchPlaceRequest = FetchPlaceRequest.newInstance(&lt;CITY_NAME&gt;, placeFields)\nplacesClient.fetchPlace(fetchPlaceRequest)\n    .addOnSuccessListener { response -&gt;\n        &lt;Do stuff with the place id retrieved&gt;\n     }\n    .addOnFailureListener {\n        &lt;Do stuff in case of failure&gt;\n     }\n</code></pre>\n\n<p>But all the time falls in the Failure listener. I suppose I can't fetch the place using the city name instead of the ID.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1565083621, "post_id": 57372876, "comment_id": 101230646, "body": "Do you have the <code>WRITE_EXTERNAL_STORAGE</code> permission?"}, {"owner": {"reputation": 47, "user_id": 5525069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc70102b2496544c264cc560af6afb?s=128&d=identicon&r=PG&f=1", "display_name": "farzad chatrsimab", "link": "https://stackoverflow.com/users/5525069/farzad-chatrsimab"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1565167352, "post_id": 57372876, "comment_id": 101262983, "body": "Hi, thanks for writing in, yes I have necessary permissions."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5525069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc70102b2496544c264cc560af6afb?s=128&d=identicon&r=PG&f=1", "display_name": "farzad chatrsimab", "link": "https://stackoverflow.com/users/5525069/farzad-chatrsimab"}, "edited": false, "score": 0, "creation_date": 1565169799, "post_id": 57374453, "comment_id": 101264328, "body": "Thanks, currently i&#39;m creating a file with the given URI and calling the canWrite() method on it before altering the file. Would that be enough? or I need to use FLAG_SUPPORTS_WRITE flag either."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 47, "user_id": 5525069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc70102b2496544c264cc560af6afb?s=128&d=identicon&r=PG&f=1", "display_name": "farzad chatrsimab", "link": "https://stackoverflow.com/users/5525069/farzad-chatrsimab"}, "edited": false, "score": 0, "creation_date": 1565175310, "post_id": 57374453, "comment_id": 101267347, "body": "@farzadchatrsimab: The problem with <code>canWrite()</code> is that it returns <code>true</code> if you can delete the content, but cannot open an <code>OutputStream</code> on it. IMHO, <code>canWrite()</code> really behaves more like <code>canWriteOrDelete()</code>. If you can live with that behavior, <code>DocumentFile</code> is fine."}, {"owner": {"reputation": 47, "user_id": 5525069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc70102b2496544c264cc560af6afb?s=128&d=identicon&r=PG&f=1", "display_name": "farzad chatrsimab", "link": "https://stackoverflow.com/users/5525069/farzad-chatrsimab"}, "edited": false, "score": 0, "creation_date": 1565255069, "post_id": 57374453, "comment_id": 101298286, "body": "Got it, can you just walk me through using FLAG_SUPPORTS_WRITE? How can I use it properly?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 47, "user_id": 5525069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc70102b2496544c264cc560af6afb?s=128&d=identicon&r=PG&f=1", "display_name": "farzad chatrsimab", "link": "https://stackoverflow.com/users/5525069/farzad-chatrsimab"}, "edited": false, "score": 0, "creation_date": 1565264526, "post_id": 57374453, "comment_id": 101303588, "body": "@farzadchatrsimab: The &quot;simplest&quot; thing to do is to grab the <code>canWrite()</code> implementation from <a href=\"https://androidx.tech/artifacts/documentfile/documentfile/1.0.1-source/androidx/documentfile/provider/DocumentsContractApi19.java.html\" rel=\"nofollow noreferrer\">the file used for API Level 19 and higher</a>. You will need some other utility functions on that class (e.g., <code>getRawType()</code>, <code>queryForInt()</code>). Then, get rid of the <code>&#47;&#47; Deletable documents considered writable</code> block, so your modified version does not pay attention to <code>FLAG_SUPPORTS_DELETE</code>."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 2, "last_activity_date": 1565109589, "last_edit_date": 1565109589, "creation_date": 1565088919, "answer_id": 57374453, "question_id": 57372876, "link": "https://stackoverflow.com/questions/57372876/file-is-read-only-while-picking-from-android-storage-access-framework/57374453#57374453", "title": "File is read-only while picking from android storage access framework", "body": "<p>A <code>DocumentsProvider</code> does not have to grant read-write access to its content. In particular, <code>MediaDocumentsProvider</code> does not.</p>\n\n<p>Unfortunately, <a href=\"https://issuetracker.google.com/issues/133539340\" rel=\"nofollow noreferrer\">we do not have a way to limit the user to read-write content</a>. So, you are going to need to gracefully handle this error and suggest to the user that they pick from a different documents provider.</p>\n\n<p>Or, to detect the problem more positively, you would need to check the document's flags to see if <code>FLAG_SUPPORTS_WRITE</code> is among them.</p>\n\n<p>I <a href=\"https://commonsware.com/blog/2019/08/06/ACTION_OPEN_DOCUMENT-may-not-be-read-write.html\" rel=\"nofollow noreferrer\">blogged</a> a bit more about this situation.</p>\n"}], "owner": {"reputation": 47, "user_id": 5525069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bc70102b2496544c264cc560af6afb?s=128&d=identicon&r=PG&f=1", "display_name": "farzad chatrsimab", "link": "https://stackoverflow.com/users/5525069/farzad-chatrsimab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 57374453, "answer_count": 1, "score": 0, "last_activity_date": 1565167887, "creation_date": 1565083432, "last_edit_date": 1565167887, "question_id": 57372876, "link": "https://stackoverflow.com/questions/57372876/file-is-read-only-while-picking-from-android-storage-access-framework", "title": "File is read-only while picking from android storage access framework", "body": "<p>I'm trying to append a text to a file using the URI which i receive from an intent. When I pick the file directly from the storage, everything works perfectly fine. Nevertheless, the problem occurs when I pick the file from categorized selectors like Pictures, Videos, Musics and etc... It throws an IllegalArgumentException and says that the file is read-only.</p>\n\n<pre><code>private fun alterDocument(uri: Uri) {\n\n    try {\n\n        val subject = subjectField.editText!!.text.toString()\n        val message = messageField.editText!!.text.toString()\n        contentResolver.openFileDescriptor(uri, \"wa\")?.use { it -&gt;\n            // use{} lets the document provider know you're done by automatically closing the stream\n            FileOutputStream(it.fileDescriptor).use {\n                it.write(\"\\n\".toByteArray())\n                it.write(\n                    generateJSON(subject, message).toByteArray()\n                )\n            }\n        }\n\n    } catch (e: FileNotFoundException) {\n        e.printStackTrace()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n\n}\n</code></pre>\n\n<p>Does anyone knows any way to solve this problem? Thanks in advance.</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 4398, "user_id": 1143482, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/zBqdL.png?s=128&g=1", "display_name": "jpganz18", "link": "https://stackoverflow.com/users/1143482/jpganz18"}, "edited": false, "score": 0, "creation_date": 1565084973, "post_id": 57372751, "comment_id": 101231380, "body": "hard to know it but... can you try doing something like this? tasks.withType(KotlinCompile::class.java).all {         kotlinOptions.jvmTarget = &quot;1.8&quot;     }"}], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 11068616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e74685ff5e7f8c19861717ccffadbb?s=128&d=identicon&r=PG&f=1", "display_name": "JetBrains", "link": "https://stackoverflow.com/users/11068616/jetbrains"}, "is_accepted": true, "score": 0, "last_activity_date": 1565086918, "creation_date": 1565086918, "answer_id": 57373884, "question_id": 57372751, "link": "https://stackoverflow.com/questions/57372751/how-to-fix-type-mismatch-required-java-lang-string-found-kotlin-string/57373884#57373884", "title": "How to fix &quot;Type mismatch. Required: java.lang.String Found: kotlin.String&quot;", "body": "<p>I've fixed it so:</p>\n\n<p>Rename the <strong>settings.gradle.kts</strong> File to <strong>settings.gradle</strong></p>\n"}], "owner": {"reputation": 307, "user_id": 11068616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e74685ff5e7f8c19861717ccffadbb?s=128&d=identicon&r=PG&f=1", "display_name": "JetBrains", "link": "https://stackoverflow.com/users/11068616/jetbrains"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 57373884, "answer_count": 1, "score": 2, "last_activity_date": 1565086918, "creation_date": 1565082979, "question_id": 57372751, "link": "https://stackoverflow.com/questions/57372751/how-to-fix-type-mismatch-required-java-lang-string-found-kotlin-string", "title": "How to fix &quot;Type mismatch. Required: java.lang.String Found: kotlin.String&quot;", "body": "<p>I'm following this <a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/spring-boot-kotlin/</a> tutorial to run Spring Boot Application with Kotlin. But I have a problem in File \"settings.gradle.kts\". </p>\n\n<p>The problem: </p>\n\n<p>Type mismatch.\nRequired: java.lang.String\nFound: kotlin.String</p>\n\n<p>By </p>\n\n<pre><code>rootProject.name = \"api-gateway\"\n</code></pre>\n\n<p>In build.gradle.kts I have written this:</p>\n\n<pre><code>tasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        jvmTarget = \"1.8\"\n    }\n</code></pre>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["android", "file", "kotlin", "path", "android-api-levels"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565089080, "post_id": 57372213, "comment_id": 101233494, "body": "If you put a <code>&#47;</code> on the front of the value you are passing to <code>Paths.get()</code>, that <i>is</i> an absolute path."}, {"owner": {"reputation": 1, "user_id": 11823005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--wPfCmNq9Rw/AAAAAAAAAAI/AAAAAAAACfg/yaOEximAxHo/photo.jpg?sz=128", "display_name": "Asmoday WR", "link": "https://stackoverflow.com/users/11823005/asmoday-wr"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565090820, "post_id": 57372213, "comment_id": 101234414, "body": "Unfortunately, <code>Paths.get()</code>has minimal API 26 as well."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1565091372, "post_id": 57372213, "comment_id": 101234701, "body": "No, my point is that <i>you already have the absolute path</i>, and so <code>Paths.get()</code> is unnecessary."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1565096297, "post_id": 57372213, "comment_id": 101237610, "body": "True. <code>&#47;storage&#47;emulated&#47;0&#47;...&#47;</code> is absolute."}, {"owner": {"reputation": 1, "user_id": 11823005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--wPfCmNq9Rw/AAAAAAAAAAI/AAAAAAAACfg/yaOEximAxHo/photo.jpg?sz=128", "display_name": "Asmoday WR", "link": "https://stackoverflow.com/users/11823005/asmoday-wr"}, "edited": false, "score": 0, "creation_date": 1565098743, "post_id": 57372213, "comment_id": 101239241, "body": "Oh, okay. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11823005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--wPfCmNq9Rw/AAAAAAAAAAI/AAAAAAAACfg/yaOEximAxHo/photo.jpg?sz=128", "display_name": "Asmoday WR", "link": "https://stackoverflow.com/users/11823005/asmoday-wr"}, "edited": false, "score": 0, "creation_date": 1565086613, "post_id": 57372347, "comment_id": 101232294, "body": "File.getAbsolutePath() is not working for me. I can&#39;t explain why, but it is stuck at sending the email. I think the output is different than from the code before."}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "reply_to_user": {"reputation": 1, "user_id": 11823005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--wPfCmNq9Rw/AAAAAAAAAAI/AAAAAAAACfg/yaOEximAxHo/photo.jpg?sz=128", "display_name": "Asmoday WR", "link": "https://stackoverflow.com/users/11823005/asmoday-wr"}, "edited": false, "score": 0, "creation_date": 1565096341, "post_id": 57372347, "comment_id": 101237640, "body": "What you pass to <code>Paths.get()</code> is already hard-coded absolute. Use <code>Environment</code> and <code>File.getAbsolutePath()</code> to get what you want. I works :)"}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 1, "last_activity_date": 1565081674, "creation_date": 1565081674, "answer_id": 57372347, "question_id": 57372213, "link": "https://stackoverflow.com/questions/57372213/how-to-use-toabsolutepath-and-paths-get-from-java-nio-with-lower-api/57372347#57372347", "title": "How to use toAbsolutePath and Paths.get from java.nio with lower API", "body": "<p><code>File.getAbsolutePath()</code> is available since API-1.</p>\n\n<p>You should probably use <code>Environment</code> class also, see <a href=\"https://stackoverflow.com/questions/46610819/how-to-get-absolute-path-of-internal-storage-in-android\">How to get absolute path of Internal Storage in Android</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11823005, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--wPfCmNq9Rw/AAAAAAAAAAI/AAAAAAAACfg/yaOEximAxHo/photo.jpg?sz=128", "display_name": "Asmoday WR", "link": "https://stackoverflow.com/users/11823005/asmoday-wr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1565081674, "creation_date": 1565081242, "last_edit_date": 1565081548, "question_id": 57372213, "link": "https://stackoverflow.com/questions/57372213/how-to-use-toabsolutepath-and-paths-get-from-java-nio-with-lower-api", "title": "How to use toAbsolutePath and Paths.get from java.nio with lower API", "body": "<p>I have an app that needs to send multiple image attachments in an email. To send the images, I need an absolute path. For this, I use functions <code>.toAbsolutePath</code> and <code>Paths.get</code> from <code>java.nio</code>. Both of these functions only work with <code>API 26</code> and higher. They seem to me like really basic functions, so I don't know why they don't support lower APIs. Is there any way to make them work with lower <code>APIs</code>?</p>\n\n<pre><code>realPath1 = Paths.get(\"storage/emulated/0/Android/data/com.example.abbmalfunctionreport/cache/$image1\").toAbsolutePath()\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-animation"], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "is_accepted": true, "score": 0, "last_activity_date": 1565081072, "creation_date": 1565081072, "answer_id": 57372159, "question_id": 57372158, "link": "https://stackoverflow.com/questions/57372158/visibility-change-behavior-is-different-after-oreo/57372159#57372159", "title": "Visibility change behavior is different after Oreo", "body": "<p>So I created my custom view and after lots of debugging, I found that I needed to override the <code>setAlpha</code> method :</p>\n\n<pre><code>class CustomViewAnimation(context: Context, attributeSet: AttributeSet) : ConstraintLayout(context, attributeSet) {\n\n    private fun callToSuper(alpha: Float) {\n        super.setAlpha(alpha)\n    }\n\n    override fun setAlpha(alpha: Float) {\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O)\n            super.setAlpha(alpha)\n        else {\n            if (this.visibility == View.GONE)\n                super.setAlpha(0f)\n            else if (this.visibility == View.VISIBLE &amp;&amp; alpha != 1f)\n                super.setAlpha(0f)\n            else if (this.visibility == View.VISIBLE &amp;&amp; alpha == 1f)\n                this.animate()\n                    .alpha(1f)\n                    .setListener(object : Animator.AnimatorListener {\n                        override fun onAnimationRepeat(animation: Animator?) {}\n\n                        override fun onAnimationEnd(animation: Animator?) {\n                            callToSuper(1f)\n                        }\n\n                        override fun onAnimationCancel(animation: Animator?) {}\n\n                        override fun onAnimationStart(animation: Animator?) {}\n                    })\n        }\n    }\n}\n</code></pre>\n\n<p>You also have to do the other part of the animation in your code where you want to change the visibility :</p>\n\n<pre><code>if (view.visibility == View.VISIBLE) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        view.animate()\n            .alpha(0.0f)\n            .setListener(object : Animator.AnimatorListener {\n                override fun onAnimationRepeat(animation: Animator?) {}\n\n                    override fun onAnimationEnd(animation: Animator?) {\n                        view.alpha = 0.0f\n                        view.visibility = View.GONE\n                    }\n\n                        override fun onAnimationCancel(animation: Animator?) {}\n\n                        override fun onAnimationStart(animation: Animator?) {}\n                })\n        } else\n            view.visibility = View.GONE\n    } else\n        view.visibility = View.VISIBLE\n</code></pre>\n\n<p>This may not be the best way due to the lots of conditions, but again, I haven't found anything else and this works very well.</p>\n"}], "owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57372159, "answer_count": 1, "score": 1, "last_activity_date": 1565081072, "creation_date": 1565081072, "question_id": 57372158, "link": "https://stackoverflow.com/questions/57372158/visibility-change-behavior-is-different-after-oreo", "title": "Visibility change behavior is different after Oreo", "body": "<p>I've recently found that depending on your android sdk, when changing visibility of a view, it behaves differently.</p>\n\n<p>Before Oreo, when setting from <code>VISIBLE</code> to <code>GONE</code>, the view first fade from 1 to 0 in terms of alpha, then the place that the view used collapse.</p>\n\n<p>For Oreo and later (I suppose I haven't tested on Android Q), when setting from <code>VISIBLE</code> to <code>GONE</code>, the view collapse while fading, doing clipping with other views, since the alpha hasn't been set to zero yet.</p>\n\n<p>I haven't found anything on this particular case, only that I had to do myself back the animation on some post by customizing my views.</p>\n\n<p>I will answer myself below.</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 3188, "user_id": 7372771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sESuU.png?s=128&g=1", "display_name": "akshay_shahane", "link": "https://stackoverflow.com/users/7372771/akshay-shahane"}, "edited": false, "score": 0, "creation_date": 1565081216, "post_id": 57372134, "comment_id": 101229354, "body": "With mockito you can mock network call"}, {"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1565081255, "post_id": 57372134, "comment_id": 101229376, "body": "Write tests or , You can use some online sites to get static json data ex: <a href=\"https://jsonblob.com/\" rel=\"nofollow noreferrer\">jsonblob.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "is_accepted": false, "score": 0, "last_activity_date": 1565090718, "creation_date": 1565090718, "answer_id": 57374950, "question_id": 57372134, "link": "https://stackoverflow.com/questions/57372134/how-to-test-api-requests-and-fill-classes-with-fake-data/57374950#57374950", "title": "How to test api requests and fill classes with fake data?", "body": "<p>You can download the software Postman to test api endpoints: <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">https://www.getpostman.com/</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5978197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IowQXu3eWjc/AAAAAAAAAAI/AAAAAAAAAIc/gR6ex2alnL4/photo.jpg?sz=128", "display_name": "\u0411\u0435\u043a\u0442\u0443\u0440\u0442\u0443\u0440\u0441\u0443\u043d \u041a\u0443\u0440\u043c\u0430\u043d\u0431\u0435\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/5978197/%d0%91%d0%b5%d0%ba%d1%82%d1%83%d1%80%d1%82%d1%83%d1%80%d1%81%d1%83%d0%bd-%d0%9a%d1%83%d1%80%d0%bc%d0%b0%d0%bd%d0%b1%d0%b5%d0%ba%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1565090718, "creation_date": 1565080988, "question_id": 57372134, "link": "https://stackoverflow.com/questions/57372134/how-to-test-api-requests-and-fill-classes-with-fake-data", "title": "How to test api requests and fill classes with fake data?", "body": "<p>I can not find a solution to this problem on the Internet. Or is my code so bad?</p>\n\n<p>Interface</p>\n\n<pre><code>interface GetWeatherService {\n    @GET(\"/data/2.5/forecast?\")\n    fun getAllWeather(@Query(\"q\")cityName: String, @Query(\"APPID\")app_id: String, @Query(\"units\")units: String=\"imperial\"): Call&lt;ListWeather&gt;\n\n    @GET(\"/data/2.5/weather?\")\n    fun getCurrentWeather(@Query(\"q\")cityName: String, @Query(\"APPID\")app_id: String, @Query(\"units\")units: String=\"imperial\"): Call&lt;MainWeather&gt;\n\n    @GET(\"/data/2.5/weather?\")\n    fun getWeatherDataFromLocation(@Query(\"lat\")lat: String, @Query(\"lon\")lon: String, @Query(\"APPID\") app_id: String): Call&lt;DataFromLocation&gt;\n\n}\n</code></pre>\n\n<p>Client</p>\n\n<pre><code>object RetrofitClientInstance {\n    private var retrofit: Retrofit? = null\n    private var BASE_URL = \"https://api.openweathermap.org/\"\n\n    val retrofitInstance: Retrofit?\n        get(){\n            if(retrofit == null){\n                retrofit = retrofit2.Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n            }\n            return retrofit\n        }\n}\n</code></pre>\n\n<p>MainActivity()</p>\n\n<pre><code>class MainActivity: AppCompatActivity {\n  fun getDataFromApi(cityName: String) {\n\n        val service = RetrofitClientInstance.retrofitInstance!!.create(GetWeatherService::class.java)\n\n        // Service 1\n\n        service.getCurrentWeather(cityName, APP_ID).enqueue(object: Callback&lt;MainWeather&gt;{\n            override fun onFailure(call: Call&lt;MainWeather&gt;, t: Throwable) {\n\n            }\n\n            override fun onResponse(call: Call&lt;MainWeather&gt;, response: Response&lt;MainWeather&gt;) {\n                val weather = response.body()\n                val currentWeather = CurrentWeather(\n                    weather!!.main.temp,\n                    weather.weather[0].description,\n                    weather.name,\n                    weather.weather[0].main\n                )\n                updateCurrentWeatherUI(currentWeather)\n            }\n        })\n\n        service.getAllWeather(cityName, APP_ID).enqueue(object: Callback&lt;ListWeather&gt;{\n            override fun onFailure(call: Call&lt;ListWeather&gt;, t: Throwable) {\n            }\n\n            override fun onResponse(call: Call&lt;ListWeather&gt;, response: Response&lt;ListWeather&gt;) {\n                val weather = response.body()!!.list\n\n                for(item in weather){\n                    val weatherList = NextFiveDayWeather(\n                        item.dt,\n                        item.main.temp,\n                        item.weather[0].description\n                    )\n                    weatherArray.add(weatherList)\n                    updateUI(weatherArray)\n\n                }\n            }\n        })\n\n    }\n}\n</code></pre>\n\n<p>Data class</p>\n\n<pre><code>data class MainWeather (\n    var dt: Long,\n    var main: MainDTO,\n    var weather: List&lt;WeatherDTO&gt;,\n    var dt_txt: String,\n    var name: String\n)\n\ndata class WeatherDTO (var main: String, var description: String, var icon: String)\n\ndata class ListWeather (@SerializedName(\"list\") var list: List&lt;MainWeather&gt;)\n</code></pre>\n\n<p>I can\u2019t test the request to api and I can\u2019t fill the classes with fake data?\nTell me please, what should I do?\nWhat should I study? And if you are not difficult can give advice for the future?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1565080966, "post_id": 57372069, "comment_id": 101229219, "body": "we don&#39;t need to use findViewById  if you are using kotlin synthetic , but that does not mean you can&#39;t use it ."}], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1565080905, "creation_date": 1565080905, "answer_id": 57372111, "question_id": 57372069, "link": "https://stackoverflow.com/questions/57372069/how-to-get-access-to-root-view-in-kotlin/57372111#57372111", "title": "How to get access to root view in kotlin?", "body": "<p>Just place an id on the root and than access it just like you access other <code>Views</code>. Example: </p>\n\n<pre><code>&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        **android:id=\"@+id/mRootView\"**\n        android:background=\"#000000\"\n        tools:context=\".MainActivity\"&gt;\n</code></pre>\n\n<p>And than in MainActivity (or WhateverActivity/Fragment): </p>\n\n<pre><code>val rootView = mRootView\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 355, "user_id": 6039495, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/585d23caba3426fd6a72b34a4dbfe272?s=128&d=identicon&r=PG&f=1", "display_name": "DM developing", "link": "https://stackoverflow.com/users/6039495/dm-developing"}, "edited": false, "score": 0, "creation_date": 1565081270, "post_id": 57372128, "comment_id": 101229387, "body": "Hi Prihtvi, thanx for your quick response. Why I am unable to use window in Fragment? Or I am missing some import?"}, {"owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "reply_to_user": {"reputation": 355, "user_id": 6039495, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/585d23caba3426fd6a72b34a4dbfe272?s=128&d=identicon&r=PG&f=1", "display_name": "DM developing", "link": "https://stackoverflow.com/users/6039495/dm-developing"}, "edited": false, "score": 1, "creation_date": 1565081369, "post_id": 57372128, "comment_id": 101229443, "body": "In the case of Fragment use <code>requireActivity().window</code>. <code>window</code> is part of activity so you need to get the activity instance first"}], "tags": [], "owner": {"reputation": 2424, "user_id": 6744566, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-g0XIGRZM7Z4/AAAAAAAAAAI/AAAAAAAAACU/NT6IsxgWGVs/photo.jpg?sz=128", "display_name": "Prithvi Bhola", "link": "https://stackoverflow.com/users/6744566/prithvi-bhola"}, "is_accepted": true, "score": 1, "last_activity_date": 1565080971, "creation_date": 1565080971, "answer_id": 57372128, "question_id": 57372069, "link": "https://stackoverflow.com/questions/57372069/how-to-get-access-to-root-view-in-kotlin/57372128#57372128", "title": "How to get access to root view in kotlin?", "body": "<p>You can also access <code>rootView</code> like this</p>\n\n<pre><code>View rootView = getWindow().getDecorView().getRootView();\n</code></pre>\n\n<p>So in <code>koltin</code></p>\n\n<pre><code>val rootView = window.decorView.rootView\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 6039495, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/585d23caba3426fd6a72b34a4dbfe272?s=128&d=identicon&r=PG&f=1", "display_name": "DM developing", "link": "https://stackoverflow.com/users/6039495/dm-developing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 969, "favorite_count": 0, "accepted_answer_id": 57372128, "answer_count": 2, "score": -1, "last_activity_date": 1565080971, "creation_date": 1565080748, "last_edit_date": 1565080793, "question_id": 57372069, "link": "https://stackoverflow.com/questions/57372069/how-to-get-access-to-root-view-in-kotlin", "title": "How to get access to root view in kotlin?", "body": "<p>How can I get the access to root view like in Java, for example:</p>\n\n<p>I know using kotlin extensions we do not need to use findViewById anymore, but I do not know how to handle it. Thank you for any help.</p>\n\n<pre><code>final ViewGroup viewGroup =\n                (ViewGroup) ((ViewGroup)findViewById(android.R.id.content)).getChildAt(0);\n        if (viewGroup instanceof ConstraintLayout) {\n         // some logic code\n}\n</code></pre>\n"}, {"tags": ["java", "maven", "gradle", "kotlin", "jcenter"], "comments": [{"owner": {"reputation": 13013, "user_id": 2382650, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c7d1f30701e93afd6b330bb1f7479a6c?s=128&d=identicon&r=PG", "display_name": "Francisco Mateo", "link": "https://stackoverflow.com/users/2382650/francisco-mateo"}, "edited": false, "score": 1, "creation_date": 1565089608, "post_id": 57371945, "comment_id": 101233805, "body": "Gradle has a dedicated guide for declaring customer repositories. <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/declaring_repositories.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 395, "user_id": 9571426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nIxgdTzfEEA/AAAAAAAAAAI/AAAAAAAAACk/szkGlkuYGWk/photo.jpg?sz=128", "display_name": "Serhii Zadorozhnyi", "link": "https://stackoverflow.com/users/9571426/serhii-zadorozhnyi"}, "reply_to_user": {"reputation": 13013, "user_id": 2382650, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c7d1f30701e93afd6b330bb1f7479a6c?s=128&d=identicon&r=PG", "display_name": "Francisco Mateo", "link": "https://stackoverflow.com/users/2382650/francisco-mateo"}, "edited": false, "score": 3, "creation_date": 1565171553, "post_id": 57371945, "comment_id": 101265272, "body": "<a href=\"https://stackoverflow.com/questions/57373192/how-to-add-github-package-registry-package-as-a-gradle-dependency/57373631#57373631\" title=\"how to add github package registry package as a gradle dependency\">stackoverflow.com/questions/57373192/&hellip;</a>"}, {"owner": {"reputation": 395, "user_id": 9571426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nIxgdTzfEEA/AAAAAAAAAAI/AAAAAAAAACk/szkGlkuYGWk/photo.jpg?sz=128", "display_name": "Serhii Zadorozhnyi", "link": "https://stackoverflow.com/users/9571426/serhii-zadorozhnyi"}, "reply_to_user": {"reputation": 13013, "user_id": 2382650, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c7d1f30701e93afd6b330bb1f7479a6c?s=128&d=identicon&r=PG", "display_name": "Francisco Mateo", "link": "https://stackoverflow.com/users/2382650/francisco-mateo"}, "edited": false, "score": 0, "creation_date": 1572862348, "post_id": 57371945, "comment_id": 103679953, "body": "<a href=\"https://stackoverflow.com/questions/57373192/how-to-add-github-package-registry-package-as-a-gradle-dependency/57373631#57373631\" title=\"how to add github package registry package as a gradle dependency\">stackoverflow.com/questions/57373192/&hellip;</a>"}], "owner": {"reputation": 395, "user_id": 9571426, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nIxgdTzfEEA/AAAAAAAAAAI/AAAAAAAAACk/szkGlkuYGWk/photo.jpg?sz=128", "display_name": "Serhii Zadorozhnyi", "link": "https://stackoverflow.com/users/9571426/serhii-zadorozhnyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 665, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1565080319, "creation_date": 1565080319, "question_id": 57371945, "link": "https://stackoverflow.com/questions/57371945/how-to-access-private-github-package-registry-via-gradle", "title": "How to access private Github package registry via Gradle", "body": "<p>Can't access private GitHub package registry</p>\n\n<p>Checked info on \"jcenter\" how to make custom dependency, but there nothing about private dependency</p>\n\n<p>build.gradle:</p>\n\n<pre><code>repositories{\n jcenter(){\n   url \"my_custom_package_githubRepository\"\n }\n}\n\ndependencies{\n  compile 'my_custom_dependency'\n}\n</code></pre>\n\n<p>Expect how to get access to private GitHub package registry</p>\n"}, {"tags": ["android", "kotlin", "local", "firebase-mlkit"], "comments": [{"owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "edited": false, "score": 0, "creation_date": 1565080775, "post_id": 57371789, "comment_id": 101229127, "body": "Try to have both inputFormat and outputFormat as <code>FirebaseModelDataType.FLOAT32</code>"}, {"owner": {"reputation": 71, "user_id": 4903281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206803392151845/picture?type=large", "display_name": "Khalil Hamani", "link": "https://stackoverflow.com/users/4903281/khalil-hamani"}, "reply_to_user": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "edited": false, "score": 0, "creation_date": 1565084821, "post_id": 57371789, "comment_id": 101231291, "body": "Yes thanks, that was the problem. The thing is that&#39;s what I did at first, but then I changed it to <code>FirebaseModelDataType.INT32</code> then set it back to <code>FirebaseModelDataType.FLOAT32</code> and now it works, not sure where was the problem the first time."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4903281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206803392151845/picture?type=large", "display_name": "Khalil Hamani", "link": "https://stackoverflow.com/users/4903281/khalil-hamani"}, "is_accepted": true, "score": 0, "last_activity_date": 1565081679, "creation_date": 1565081679, "answer_id": 57372348, "question_id": 57371789, "link": "https://stackoverflow.com/questions/57371789/custom-model-mlkit-firebasemlexception-internal-error-has-occured-when-exec/57372348#57372348", "title": "Custom model [MLKit] - FirebaseMLException: Internal error has occured when executing Firebase ML tastks", "body": "<p>I found where was the problem, in face MLKit waits an array of probabilities as output, and that means a set of <code>float</code> values in a <code>[0.0, 1.0]</code> range. That means that this snippet (containing a wrong line) :</p>\n\n<pre><code>.setOutputFormat(\n    0,\n    FirebaseModelDataType.INT32, // Wrong line\n    intArrayOf(1, 143)\n)\n</code></pre>\n\n<p>Should be replaced with this one :</p>\n\n<pre><code>.setOutputFormat(\n    0,\n    FirebaseModelDataType.FLOAT32, // &lt;== Expected array type is a float\n    intArrayOf(1, 143)\n)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4903281, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206803392151845/picture?type=large", "display_name": "Khalil Hamani", "link": "https://stackoverflow.com/users/4903281/khalil-hamani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 57372348, "answer_count": 1, "score": 0, "last_activity_date": 1565081679, "creation_date": 1565079696, "last_edit_date": 1565080221, "question_id": 57371789, "link": "https://stackoverflow.com/questions/57371789/custom-model-mlkit-firebasemlexception-internal-error-has-occured-when-exec", "title": "Custom model [MLKit] - FirebaseMLException: Internal error has occured when executing Firebase ML tastks", "body": "<p>I want to use a custom ML model in Android using MLKit, and neither using the local or the remote model works. I'm focusing here on the local one since I have a FirebaseMLException.</p>\n\n<p>I've tried to follow step by step the <a href=\"https://firebase.google.com/docs/ml-kit/android/use-custom-models\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n\n<p>I believe the error is in the input/output format but I can't figure out what it is. Having <code>143</code> classes labeled by integers. Here's how I've built my input/output :</p>\n\n<pre><code>inputOutputOptions = FirebaseModelInputOutputOptions.Builder()\n            .setInputFormat(\n                0,\n                FirebaseModelDataType.FLOAT32,\n                intArrayOf(\n                    DIM_BATCH_SIZE,\n                    DIM_IMG_SIZE_X,\n                    DIM_IMG_SIZE_Y,\n                    DIM_PIXEL_SIZE\n                )\n            )\n            .setOutputFormat(\n                0,\n                FirebaseModelDataType.INT32,\n                intArrayOf(1, 143)\n            )\n            .build()\n</code></pre>\n\n<p>Find below the hole stacktrace :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>W/System.err: com.google.firebase.ml.common.FirebaseMLException: Internal error has occurred when executing Firebase ML tasks\nW/System.err:     at com.google.firebase.ml.common.internal.zze.zza(com.google.firebase:firebase-ml-common@@20.0.1:38)\n        at com.google.firebase.ml.common.internal.zzh.run(Unknown Source:4)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:873)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\n        at com.google.android.gms.internal.firebase_ml.zzf.dispatchMessage(com.google.firebase:firebase-ml-common@@20.0.1:6)\nW/System.err:     at android.os.Looper.loop(Looper.java:193)\n        at android.os.HandlerThread.run(HandlerThread.java:65)\nW/System.err: Caused by: java.lang.IllegalArgumentException: Cannot convert between a TensorFlowLite tensor with type FLOAT32 and a Java object of type [[I (which is compatible with the TensorFlowLite type INT32).\nW/System.err:     at org.tensorflow.lite.Tensor.throwExceptionIfTypeIsIncompatible(Tensor.java:233)\nW/System.err:     at org.tensorflow.lite.Tensor.copyTo(Tensor.java:116)\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:157)\nW/System.err:     at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:250)\n        at com.google.android.gms.internal.firebase_ml.zzpz.runForMultipleInputsOutputs(com.google.firebase:firebase-ml-model-interpreter@@20.0.1:4)\nW/System.err:     at com.google.android.gms.internal.firebase_ml.zzpu.zza(com.google.firebase:firebase-ml-model-interpreter@@20.0.1:85)\nW/System.err:     at com.google.android.gms.internal.firebase_ml.zzpu.zza(com.google.firebase:firebase-ml-model-interpreter@@20.0.1:145)\n        at com.google.firebase.ml.common.internal.zzi.zza(com.google.firebase:firebase-ml-common@@20.0.1:33)\n        at com.google.firebase.ml.common.internal.zzk.call(Unknown Source:8)\nW/System.err:     at com.google.firebase.ml.common.internal.zze.zza(com.google.firebase:firebase-ml-common@@20.0.1:32)\n        ... 6 more\n</code></pre>\n\n<p>I don't know how to interpret this line :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Cannot convert between a TensorFlowLite tensor with type FLOAT32 and a Java object of type [[I (which is compatible with the TensorFlowLite type INT32)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1565080673, "post_id": 57371554, "comment_id": 101229056, "body": "actually he can use <code>async</code> but that is not the right <code>async</code> he is using. notice that the <code>async</code> returns a <code>Deferred&lt;T&gt;</code> while the <code>launch</code> brings back a <code>JOB</code>"}, {"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1565080718, "post_id": 57371554, "comment_id": 101229095, "body": "This seems like a good solution, I guess I&#39;m trying to be too generic. I wanted to create a function that you could call anywhere within your kotlin, android, codebase that will run whatever operation on the background thread and propagate the result to the UI thread without writing too much code."}, {"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1565081164, "post_id": 57371554, "comment_id": 101229336, "body": "I was actually using something like the code specified in the above answer, it just broke the flow of the function defined in the question. I also saw that <code>Dispatchers.IO</code> seems to run on shared background threads when used with <code>withContext</code>."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1565096786, "post_id": 57371554, "comment_id": 101237931, "body": "Yes, you should use Dispatchers.IO to execute a blocking operation and Dispatchers.Default for a CPU-heavy computation. These transfer your coroutine to a background thread. You can keep going on Dispatchers.Main for suspending operations like async IO or awaiting an event."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1565078772, "creation_date": 1565078772, "answer_id": 57371554, "question_id": 57371273, "link": "https://stackoverflow.com/questions/57371273/kotlin-coroutine-await-on-ui-thread/57371554#57371554", "title": "Kotlin coroutine await on UI thread", "body": "<p>With coroutines you shouldn't need any of <code>async</code> and <code>awaitOnGuiThread</code>. You should use the following idiom:</p>\n\n<pre><code>launch(Dispatchers.Main) {\n    val result = withContext(Dispatchers.IO) {\n        executeSomeCodeToGetResult()\n    }\n    ... just keep using the result\n}\n</code></pre>\n\n<p>At least this is a rough first approximation. Kotlin's coroutine system wants you to also explicitly deal with failures and cancellation. This topic goes by the name of <a href=\"https://medium.com/androiddevelopers/coroutines-on-android-part-ii-getting-started-3bff117176dd\" rel=\"nofollow noreferrer\">structured concurrency</a>. The best place to start is the <code>ViewModel</code> because it has <a href=\"https://medium.com/androiddevelopers/easy-coroutines-in-android-viewmodelscope-25bffb605471\" rel=\"nofollow noreferrer\">built-in support</a> for structured concurrency.</p>\n"}], "owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 57371554, "answer_count": 1, "score": 2, "last_activity_date": 1565078772, "creation_date": 1565077668, "question_id": 57371273, "link": "https://stackoverflow.com/questions/57371273/kotlin-coroutine-await-on-ui-thread", "title": "Kotlin coroutine await on UI thread", "body": "<p>At the moment in my codebase, using <code>Kotlin</code>, I have an extension function that works in the following manner.</p>\n\n<pre><code>async {\n    executeSomeCodeToGetResult()\n}.awaitOnUiThread { result -&gt;\n    useResultOnUiThread(result)\n}\n</code></pre>\n\n<p>The <code>async</code> function loads a runnable onto an <code>ExecutorService</code> which returns a <code>Future&lt;T&gt;</code> result. <code>awaitOnUiThread</code> is an extension function on the <code>Future&lt;T&gt;</code> object that sends <code>T</code> as an argument to the input function.</p>\n\n<p>I was wondering if there is a way using <code>Kotlin</code> <code>coroutines</code> to achieve a similar result?</p>\n\n<p>I did implement something like this but I didn't get very good performance results. Maybe I'm doing something wrong running the <code>await()</code> function on the <code>GlobalScope</code>?</p>\n\n<pre><code>private const val threadPoolSize = 4\n\n@ObsoleteCoroutinesApi\nval scope = CoroutineScope(newFixedThreadPoolContext(threadPoolSize, \"async-runner\"))\n\n@ObsoleteCoroutinesApi\nfun &lt;T&gt; async(function: () -&gt; T): Deferred&lt;T&gt; {\n    return scope.async { function() }\n}\n\nfun &lt;T&gt; Deferred&lt;T&gt;.awaitOnUiThread(function: (T) -&gt; Unit) {\n    val deferred = this\n    GlobalScope.launch {\n        val result: T = deferred.await()\n        Handler(Looper.getMainLooper()).post {\n            function(result)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "gson"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1565075723, "post_id": 57370650, "comment_id": 101226667, "body": "try to set default value"}, {"owner": {"reputation": 4366, "user_id": 1039477, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a85306bbc9601affec6f6a40dc4288cc?s=128&d=identicon&r=PG", "display_name": "dor506", "link": "https://stackoverflow.com/users/1039477/dor506"}, "reply_to_user": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1565076114, "post_id": 57370650, "comment_id": 101226864, "body": "@AlexandrKolesnik I don&#39;t want a default value. I just want it to fail."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 2, "creation_date": 1565076221, "post_id": 57370650, "comment_id": 101226905, "body": "My suggestion would be to try another deserialization library, for instance one that is actually written with Kotlin support in mind (Moshi, Jackson). EDIT: I actually use Jackson and I think that behavior you request is default there. Anyway, I&#39;d give a shot to moshi, it&#39;s pretty new and I think it was written in Kotlin (or at least with an extensive Kotlin support), but don&#39;t know anything about the behavior you want."}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 2, "last_activity_date": 1565076960, "creation_date": 1565076960, "answer_id": 57371078, "question_id": 57370650, "link": "https://stackoverflow.com/questions/57370650/kotlin-force-failing-deserialization-from-json-to-class-when-a-non-null-prope/57371078#57371078", "title": "Kotlin - force failing deserialization from json to class, when a non null property not exits in the json?", "body": "<p>You can use <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a> library for parsing json</p>\n\n<pre><code>import com.squareup.moshi.Json\nimport com.squareup.moshi.JsonClass\nimport com.squareup.moshi.Moshi\n\nfun main() {\n    val json = \"\"\"\n{\n    \"Nullablefield\": 3\n}        \n    \"\"\".trimIndent()\n    val moshi = Moshi.Builder().build()\n    val adapter = moshi.adapter(Test::class.java)\n    val test = adapter.fromJson(json)//will crash\n    println(test)\n}\n\n@JsonClass(generateAdapter = true)\ndata class Test(\n    @Json(name = \"Nullablefield\")\n    val nullable: Int?,\n    @Json(name = \"NonNullableField\")\n    val nonNullable: Int\n)\n</code></pre>\n"}], "owner": {"reputation": 4366, "user_id": 1039477, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a85306bbc9601affec6f6a40dc4288cc?s=128&d=identicon&r=PG", "display_name": "dor506", "link": "https://stackoverflow.com/users/1039477/dor506"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 57371078, "answer_count": 1, "score": 1, "last_activity_date": 1565076960, "creation_date": 1565075178, "last_edit_date": 1565076331, "question_id": 57370650, "link": "https://stackoverflow.com/questions/57370650/kotlin-force-failing-deserialization-from-json-to-class-when-a-non-null-prope", "title": "Kotlin - force failing deserialization from json to class, when a non null property not exits in the json?", "body": "<p>Assuming we have this class:</p>\n\n<pre><code>  class Test(@SerializedName(\"Nullablefield\")\n             val nullable: Int?,\n             @SerializedName(\"NonNullableField\")\n             val nonNullable: Int)\n</code></pre>\n\n<p>And we recive this json:</p>\n\n<pre><code>{\n    \"Nullablefield\": 3\n}\n</code></pre>\n\n<p>As you can see, NonNullableField is missing in the json,</p>\n\n<p>When using Gson().fromJson method the property becomes null (even though the property is defined as non null one)</p>\n\n<p>I read about gson using unsafe approach while doing this.</p>\n\n<p>Is there a way to make the deserialization process fail in this case, with Gson or any other library?</p>\n\n<p>I do not want to solve it by assigning a default value to the field.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 487, "user_id": 10235119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d83812db68034ed33c21b1a5a553bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Sim", "link": "https://stackoverflow.com/users/10235119/wilson-sim"}, "edited": false, "score": 0, "creation_date": 1565073943, "post_id": 57370214, "comment_id": 101225791, "body": "Why do you have Java and Kotlin in the same file??"}, {"owner": {"reputation": 119, "user_id": 7596203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCnlu.jpg?s=128&g=1", "display_name": "Bheem", "link": "https://stackoverflow.com/users/7596203/bheem"}, "reply_to_user": {"reputation": 487, "user_id": 10235119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d83812db68034ed33c21b1a5a553bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Wilson Sim", "link": "https://stackoverflow.com/users/10235119/wilson-sim"}, "edited": false, "score": 0, "creation_date": 1565075496, "post_id": 57370214, "comment_id": 101226551, "body": "They are not in the same file. I have made some changes. Please check."}], "owner": {"reputation": 119, "user_id": 7596203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCnlu.jpg?s=128&g=1", "display_name": "Bheem", "link": "https://stackoverflow.com/users/7596203/bheem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1565160348, "creation_date": 1565073479, "last_edit_date": 1565160348, "question_id": 57370214, "link": "https://stackoverflow.com/questions/57370214/view-freezes-when-returning-to-onresume-on-android-6-0-tab", "title": "View freezes when returning to OnResume on Android 6.0 Tab", "body": "<p>This issue occurs only on Android 6.0 Tablet.  </p>\n\n<p>I use <code>fileObserver</code> to get the saved Image Path and display that image in my app and Firebase ML kit to check the readability of the text present in that image. </p>\n\n<p>I first open the third party app to capture image for my app and as soon as I click a picture, a background thread is spawned and a progress bar with text messaage is shown in the UI. </p>\n\n<p>Once firebase ML kit finishes it's job, the result whether the document is readable or not is then saved in an object.</p>\n\n<p>Now as soon as I close the third party app and return to my app(<code>onResume()</code>), the code executes to set the image on ImageView and hide progressbar, but UI is freezed with progress bar and the UI updates only when I click anywhere on the screen. </p>\n\n<pre><code>public class DocFragment extends Fragment{\n   private FileObserver observer = new FileObserver(LENS_DIR_PATH) {\n        @Override\n        public void onEvent(int event, @Nullable String path) {\n             if (event == CLOSE_WRITE) {\n                  String attachedImagePath = LENS_DIR_PATH + path;\n//                Log.v(TAG, \"File was saved: \" + LENS_DIR_PATH + path);\n\n                  processDoc(attachedImagePath);\n             }\n        }\n  };\n\n  @Override\n  public void onStop() {\n\n        super.onStop();\n        observer.startWatching();\n\n  }\n\n   @Override\n   public void onResume() {\n\n        super.onResume();\n        observer.stopWatching();\n\n    }\n}\n</code></pre>\n\n<pre><code>    class DocProvider {\n\n        fun processDoc(path: String) {\n            Executors.newSingleThreadExecutor().execute {\n                semaphore.acquire()\n              activity.runOnUiThread {\n                  showProgressBar()\n              }\n            }\n            // Image processing and updating the result after showing Progress Bar \n            updateResult()\n        }\n\n        private fun updateResult() {\n            docResult.updateResult()\n            semaphore.release()\n        }\n}\n</code></pre>\n"}, {"tags": ["mongodb", "kotlin", "spring-data", "reactor"], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 5703965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1fad14cf3867b87277f1b5046695ee6?s=128&d=identicon&r=PG&f=1", "display_name": "qwaler", "link": "https://stackoverflow.com/users/5703965/qwaler"}, "is_accepted": false, "score": 0, "last_activity_date": 1565075394, "creation_date": 1565075394, "answer_id": 57370696, "question_id": 57369683, "link": "https://stackoverflow.com/questions/57369683/springboot-reactivemongotemplate-updating-document-partially/57370696#57370696", "title": "SpringBoot ReactiveMongoTemplate updating document partially", "body": "<p>I guess you should consider this problem as a general problem of patching an object in Java/Kotlin. I found an article about this: <a href=\"https://cassiomolin.com/2019/06/10/using-http-patch-in-spring/#json-merge-patch\" rel=\"nofollow noreferrer\">https://cassiomolin.com/2019/06/10/using-http-patch-in-spring/#json-merge-patch</a>. Even if you won't update partially an object, there should not be such a big impact on performance of your application.</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 11032246, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2Gr-PwljKpY/AAAAAAAAAAI/AAAAAAAAABY/9N6sTwZIxak/photo.jpg?sz=128", "display_name": "KyooSik Lee", "link": "https://stackoverflow.com/users/11032246/kyoosik-lee"}, "is_accepted": true, "score": 0, "last_activity_date": 1565939953, "creation_date": 1565939953, "answer_id": 57520415, "question_id": 57369683, "link": "https://stackoverflow.com/questions/57369683/springboot-reactivemongotemplate-updating-document-partially/57520415#57520415", "title": "SpringBoot ReactiveMongoTemplate updating document partially", "body": "<p>I figured out how to partially update my data.</p>\n\n<p>First I changed the body request to string. (using <code>bodyToMono(String::class.java</code>)</p>\n\n<p>Then I changed the changed JSON string to JSONObject(<code>org.json</code>).</p>\n\n<p>And for each of its <code>JSONObject</code>'s key I created <code>Update</code> that will be the partial data to update my entity.</p>\n\n<p>Following is how I implemented this.</p>\n\n<pre><code>override fun updateUser(id: Long, request: Mono&lt;String&gt;): Mono&lt;UpdateResult&gt; {\n    val update = Update()\n    return request.map { JSONObject(it) }\n            .map {\n                it.keys().forEach { key -&gt; update.set(key, it[key]) }\n                update\n            }\n            .flatMap { it -&gt; userRepository.updateById(id, it) }\n\n}\n</code></pre>\n\n<p>Please share more idea if you have more 'cleaner' way to do this. Thank you</p>\n"}], "owner": {"reputation": 77, "user_id": 11032246, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2Gr-PwljKpY/AAAAAAAAAAI/AAAAAAAAABY/9N6sTwZIxak/photo.jpg?sz=128", "display_name": "KyooSik Lee", "link": "https://stackoverflow.com/users/11032246/kyoosik-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 57520415, "answer_count": 2, "score": 1, "last_activity_date": 1565939953, "creation_date": 1565070833, "last_edit_date": 1565075466, "question_id": 57369683, "link": "https://stackoverflow.com/questions/57369683/springboot-reactivemongotemplate-updating-document-partially", "title": "SpringBoot ReactiveMongoTemplate updating document partially", "body": "<p>I am working on a kotlin reactive spring-boot mongodb project. I'm trying to update a document but it does not work well.</p>\n\n<p>My problem is pretty similar to the following question in stackoverflow.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52463918/spring-reactive-mongodb-template-update-document-partially-with-objects\">Spring reactive mongodb template update document partially with objects</a></p>\n\n<p>So I have a document in mongo</p>\n\n<pre><code>{\n  \"id\": 1,\n  \"name\": \"MYNAME\",\n  \"email\": \"MYEMAIL\",\n  \"encryptedPassword\": \"12345\",\n  ...........................\n}\n</code></pre>\n\n<p>And when I call PATCH on the uri <code>localhost:8080/user/1</code> with the one of following header</p>\n\n<pre><code>{\n  \"name\": \"NEW NAME\"\n}\n</code></pre>\n\n<pre><code>{\n  \"email\": \"NEW EMAIL\"\n}\n</code></pre>\n\n<p>I want to update my document with received fields only.</p>\n\n<p>My handler code</p>\n\n<pre><code>fun update(serverRequest: ServerRequest) =\n        userService\n                .updateUser(serverRequest.pathVariable(\"id\").toLong(), serverRequest.bodyToMono())\n                .flatMap {\n                    ok().build()\n                }\n</code></pre>\n\n<p>My Service Implement code</p>\n\n<pre><code>override fun updateUser(id: Long, request: Mono&lt;User&gt;): Mono&lt;UpdateResult&gt; {\n    val changes = request.map { it -&gt; PropertyUtils.describe(it) }\n    val updateFields: Update = Update()\n    changes.subscribe {\n        for (entry in it.entries) {\n            updateFields.set(entry.key, entry.value)\n        }\n    }\n    return userRepository.updateById(id, updateFields)\n}\n</code></pre>\n\n<p>My repository code</p>\n\n<pre><code>    fun updateById(id: Long, partial: Update) = template.updateFirst(Query(where(\"id\").isEqualTo(id)), partial, User::class.java)\n\n</code></pre>\n\n<p>My user code</p>\n\n<pre><code>@Document\ndata class User(\n        @Id\n        val id: Long = 0,\n        var name: String = \"\",\n        val email: String = \"\",\n        val encryptedPassword: \"\"\n)\n</code></pre>\n\n<p>I have followed the advice that <a href=\"https://stackoverflow.com/questions/52463918\">Spring reactive mongodb template update document partially with objects</a> gave.</p>\n\n<p>My code do updates, but it updates to the initial constructor of my <code>User</code> class.</p>\n\n<p>Could anyone help with this?</p>\n"}, {"tags": ["android", "kotlin", "android-gallery"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10717789, "user_type": "registered", "profile_image": "https://graph.facebook.com/2124537060900799/picture?type=large", "display_name": "Annt Phyo Thwin", "link": "https://stackoverflow.com/users/10717789/annt-phyo-thwin"}, "is_accepted": false, "score": -1, "last_activity_date": 1565071691, "creation_date": 1565071691, "answer_id": 57369840, "question_id": 57369672, "link": "https://stackoverflow.com/questions/57369672/android-gallery-photo-picker-like-in-messenger-app/57369840#57369840", "title": "Android Gallery photo picker like in Messenger app", "body": "<p>You can do it yourself with a bottomsheet dialog or you can just use this library\n<a href=\"https://github.com/kroegerama/bottomsheet-imagepicker\" rel=\"nofollow noreferrer\">https://github.com/kroegerama/bottomsheet-imagepicker</a></p>\n"}, {"tags": [], "owner": {"reputation": 673, "user_id": 6580761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFDjY.jpg?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/6580761/lukas"}, "is_accepted": false, "score": -1, "last_activity_date": 1565091214, "creation_date": 1565091214, "answer_id": 57375113, "question_id": 57369672, "link": "https://stackoverflow.com/questions/57369672/android-gallery-photo-picker-like-in-messenger-app/57375113#57375113", "title": "Android Gallery photo picker like in Messenger app", "body": "<p><a href=\"https://github.com/sangcomz/FishBun\" rel=\"nofollow noreferrer\">FishBun</a> is a flexible library to create a gallery in your application. </p>\n\n<p>It also supports various visual styles and allows fine-tuning for details.</p>\n\n<p>Just implement this in your build.gradle file</p>\n\n<pre><code>repositories {\njcenter()\n}\n\ndependencies {\n// Under the Android Plugin 3.0.0. \ncompile 'com.sangcomz:FishBun:0.10.0'\n\ncompile 'com.squareup.picasso:picasso:2.71828'\nor\ncompile 'com.github.bumptech.glide:glide:4.9.0'\n\n// Android plugin 3.0.0 or higher.\nimplementation 'com.sangcomz:FishBun:0.11.0'\n\nimplementation 'com.squareup.picasso:picasso:2.71828'\nor\nimplementation 'com.github.bumptech.glide:glide:4.9.0'\n\n} \n</code></pre>\n\n<p>and to allow the following permissions in your Manifest:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>To create a basic gallery use the following code:</p>\n\n<pre><code>FishBun.with(WithActivityActivity.this)\n    .setImageAdapter(new GlideAdapter())\n    .startAlbum();\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565345301, "creation_date": 1565070772, "last_edit_date": 1565345301, "question_id": 57369672, "link": "https://stackoverflow.com/questions/57369672/android-gallery-photo-picker-like-in-messenger-app", "title": "Android Gallery photo picker like in Messenger app", "body": "<p>I want to implement gallery photo picker similar to what Messenger is using.</p>\n\n<p>That means I dont want to open fullscreen gallery but only small window at the bottom of the screen with photos in grid. Is this possible with native support or it is completely custom design?</p>\n\n<p>I'm using standard intent to access gallery. But someone consider standard gallery access which behaves and looks like in Messenger app.</p>\n\n<p>Gallery Intent: </p>\n\n<pre><code>private fun openGallery() {\n        val intent = Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n        a.startActivityForResult(intent, REQUEST_GALLERY_CODE)\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit", "coroutine"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1565076589, "post_id": 57368423, "comment_id": 101227104, "body": "You should make the API call on the <code>ViewModel</code> and use the repository just to hold the comand to do it"}, {"owner": {"reputation": 93, "user_id": 9727811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "freedom chuks", "link": "https://stackoverflow.com/users/9727811/freedom-chuks"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1565079197, "post_id": 57368423, "comment_id": 101228332, "body": "I think that wat am doing can you help with practical example pls"}], "owner": {"reputation": 93, "user_id": 9727811, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "freedom chuks", "link": "https://stackoverflow.com/users/9727811/freedom-chuks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1897, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1565061108, "creation_date": 1565061108, "question_id": 57368423, "link": "https://stackoverflow.com/questions/57368423/how-to-handle-error-with-retrofit-and-coroutines-suspend", "title": "How to handle error with retrofit and coroutines suspend", "body": "<p>i built my app with rxjava and needed to convert to coroutines for the background work i need help to see an actual example using retrofit 2.6.0 and coroutines and a proper error handling methods thanks in advance</p>\n\n<p>i tried creating a generic error handler for retrofit and a wrapper for network resource states of Loading Authenticated Error</p>\n\n<pre><code>class AuthRepository @Inject constructor(val authApi: AuthApi) {\n\n    suspend fun Loginauth(email:String,password:String)= liveData {\n        emit(AuthResource.loading(null))\n        try{\n            val response=authApi.login(email,password)\n            if (response.isSuccessful){\n                emit(AuthResource.authenticated(response.body()))\n            }\n            emit(AuthResource.error(response.message(),null))\n        }catch (e:Throwable){\n            Log.d(\"any\",\"error occured ${e.message}\")\n         emit(AuthResource.error(e.message!!,null))\n        }catch (e:HttpException){\n            Log.d(\"any\",\"error http error${e.message}\")\n            emit(AuthResource.error(e.message!!,null))\n        }\n\n\n    }\n\n\n\n}\n</code></pre>\n\n<p>My ViewModelClass</p>\n\n<pre><code>       screenState.value= AuthResource.loading(null)\n        viewModelScope.launch {\n            val source=authRepository.Loginauth(email!!,password!!)\n            screenState.addSource(source){\n             AuthResource.authenticated(it)\n                screenState.removeSource(source)\n                if (it.status == AuthResource.AuthStatus.ERROR){\n                    screenState.removeSource(source)\n                    AuthResource.error(it.message!!,null)\n                }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1565058190, "post_id": 57368066, "comment_id": 101221939, "body": "That is not the issue.  It is expecting a <code>LocationListener!</code> and apparently whatever it&#39;s getting passed is not that.  I have edited my question"}, {"owner": {"reputation": 13823, "user_id": 1843848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8p265.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/1843848/leo"}, "reply_to_user": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1565058264, "post_id": 57368066, "comment_id": 101221947, "body": "@cpgreen2 I was just adding more details to the answer"}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1565058375, "post_id": 57368066, "comment_id": 101221967, "body": "What did you mean about using the wrong LocationListener?  There is only one other one, and it does not have a constructor"}, {"owner": {"reputation": 13823, "user_id": 1843848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8p265.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/1843848/leo"}, "reply_to_user": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 1, "creation_date": 1565064063, "post_id": 57368066, "comment_id": 101222969, "body": "@cpgreen2 you shouldn&#39;t have any issues if you implement the correct <code>LocationListener</code> from the <code>android.location</code> package"}, {"owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "edited": false, "score": 0, "creation_date": 1565066579, "post_id": 57368066, "comment_id": 101223503, "body": "Okay that&#39;s what I thought, I&#39;m doing that, but in a different place.  Thank you!"}], "tags": [], "owner": {"reputation": 13823, "user_id": 1843848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/8p265.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/1843848/leo"}, "is_accepted": false, "score": 0, "last_activity_date": 1565063358, "last_edit_date": 1565063358, "creation_date": 1565057765, "answer_id": 57368066, "question_id": 57368036, "link": "https://stackoverflow.com/questions/57368036/requestlocationupdates-cannot-be-called-with-the-arguments-supplied/57368066#57368066", "title": "requestLocationUpdates() cannot be called with the arguments supplied", "body": "<p>You are using the wrong <code>LocationListener</code>. Because you're not using the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/FusedLocationProviderClient\" rel=\"nofollow noreferrer\"><code>FusedLocationProviderClient</code></a> you should be using the <a href=\"https://developer.android.com/reference/android/location/LocationListener.html\" rel=\"nofollow noreferrer\"><code>android.location.LocationListener</code></a> instead and implement all methods.</p>\n\n<pre><code>private val locationListener = object : android.location.LocationListener {\n    override fun onProviderEnabled(provider: String?) {}\n\n    override fun onProviderDisabled(provider: String?) {}\n\n    override fun onStatusChanged(provider: String?, status: Int, extras: Bundle?) {\n        Log.d(\"status = $status\")\n    }\n\n    override fun onLocationChanged(location: Location?) {\n        latitude = location?.latitude\n        longitude = location?.longitude\n    }\n}\n</code></pre>\n\n<p>I'd suggest you to use the fused location provider instead of the android location service because it is simpler to implement. In fact, it is exactly what Google recommends. See the developer guides below...</p>\n\n<p><a href=\"https://developer.android.com/training/location/receive-location-updates\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/receive-location-updates</a></p>\n"}], "owner": {"reputation": 589, "user_id": 9654570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd6d5a86a1ebf377a09d814cba9d82f?s=128&d=identicon&r=PG&f=1", "display_name": "cpgreen2", "link": "https://stackoverflow.com/users/9654570/cpgreen2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 585, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565074229, "creation_date": 1565057500, "last_edit_date": 1565058245, "question_id": 57368036, "link": "https://stackoverflow.com/questions/57368036/requestlocationupdates-cannot-be-called-with-the-arguments-supplied", "title": "requestLocationUpdates() cannot be called with the arguments supplied", "body": "<p>I am getting the error <code>None of the following functions can be called with the arguments supplied</code> when trying to call <code>requestLocationUpdates()</code> using Kotlin.  I've gotten this issue before in other places and have been able to fix it, but I'm not able to in this case.  I'm relatively new to the language and don't fully understand the issue here.</p>\n\n<p>The issue is with the LocationListener that is passed in.  It is expecting a <code>LocationListener!</code>, but apparently that isn't what it's getting.</p>\n\n<p>Here is the snippet of code:</p>\n\n<pre><code>    private var locationManager: LocationManager? = null\n    private var latitude: Double? = null\n    private var longitude: Double? = null\n    //private val locationListener: com.google.android.gms.location.LocationListener\n\n    private val locationListener: com.google.android.gms.location.LocationListener = object : com.google.android.gms.location.LocationListener {\n        override fun onLocationChanged(location: Location) {\n            latitude = location.latitude\n            longitude = location.longitude\n        }\n    }\n\n    init {\n        // Initialize Places.\n        Places.initialize(activity, BuildConfig.googlePlacesAPI_KEY)\n        Places.createClient(activity)\n\n        locationManager = activity.getSystemService(Context.LOCATION_SERVICE) as LocationManager?\n\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 1000, 50f, locationListener)\n\n        if (locationManager!!.isProviderEnabled(LocationManager.GPS_PROVIDER)) {\n            getLocation(activity)\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "android-room"], "comments": [{"owner": {"reputation": 2040, "user_id": 898018, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2b11453115f1e1ac9105c596642b7d34?s=128&d=identicon&r=PG", "display_name": "Hayk Melkonyan", "link": "https://stackoverflow.com/users/898018/hayk-melkonyan"}, "edited": false, "score": 0, "creation_date": 1565074261, "post_id": 57368004, "comment_id": 101225941, "body": "question is not clear, I cannot understand where is concrete problem. try to read this topic. <a href=\"https://medium.com/mindorks/room-kotlin-android-architecture-components-71cad5a1bb35\" rel=\"nofollow noreferrer\">medium.com/mindorks/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 11097716, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3foPF.jpg?s=128&g=1", "display_name": "Bolu", "link": "https://stackoverflow.com/users/11097716/bolu"}, "is_accepted": false, "score": 0, "last_activity_date": 1565074411, "creation_date": 1565074411, "answer_id": 57370463, "question_id": 57368004, "link": "https://stackoverflow.com/questions/57368004/what-is-the-best-way-to-get-specific-entity-from-room-database/57370463#57370463", "title": "What is the best way to get specific entity from room database", "body": "<p>I looked at your question and i think the issue is you trying to get the value of live data which usually returns null. I had a similar issue and i solved it but returning the actual entity from the DAO and reading it in the IO thread in the viewmodel</p>\n\n<p>DAO: </p>\n\n<pre><code> @Query(\"select * from groups WHERE groupid =:groupId \")\nfun getGroup(groupId:String): Group\n</code></pre>\n\n<p>Repository:</p>\n\n<pre><code>   override suspend fun getGroup(groupId: String): Group {\n  return   runBlocking {\n        groupDao.getGroup(groupId)\n    }\n}\n</code></pre>\n\n<p>ViewModel:</p>\n\n<pre><code>  fun getGroup(groupID:String):Group{\n    return runBlocking {\n        async(Dispatchers.IO) {\n            groupsRepository.getGroup(groupID)\n        }.await()\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7618722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019e1b2785047b5d98e5377dc94dbe8f?s=128&d=identicon&r=PG&f=1", "display_name": "Migaloco", "link": "https://stackoverflow.com/users/7618722/migaloco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565074411, "creation_date": 1565057163, "question_id": 57368004, "link": "https://stackoverflow.com/questions/57368004/what-is-the-best-way-to-get-specific-entity-from-room-database", "title": "What is the best way to get specific entity from room database", "body": "<p>I was doing a project a while back where the user could choose a route/course and see its information on a separate page but got a problem regarding the extraction of the information of a specific entity stored in my Room database. I didn't end up finding the solution for the problem so I just changed my approach altogether and passed the necessary information through the intent that starts the activity instead of just getting the information by searching the database.</p>\n\n<p>I've already tried to ask about the problem here <a href=\"https://stackoverflow.com/questions/56918707/how-to-get-a-specific-entity-in-room\">How to get a specific Entity in Room</a> but no one seems to see where the problem is so I'm changing the question. </p>\n\n<p>What I want to know now is what is the best way to get a specific entity from Room database in Kotlin.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565044171, "post_id": 57366771, "comment_id": 101219673, "body": "Alright. But how do I get context in the first place in Kotlin?"}, {"owner": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565044186, "post_id": 57366771, "comment_id": 101219675, "body": "And saving it in a variable."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565044269, "post_id": 57366771, "comment_id": 101219690, "body": "<code>context</code> is already a property made available to you (Kotlin rewrites <code>getContext()</code> as <code>context</code>), so you don&#39;t need to save it as a variable or do anything. You&#39;ll probably want to use <code>requireContext()</code> though if you want a non-null Context instance."}, {"owner": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565045444, "post_id": 57366771, "comment_id": 101219913, "body": "Now, I&#39;m getting this error: <b>Constructor of inner class can be called only with receiver of containing class</b>"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565045540, "post_id": 57366771, "comment_id": 101219931, "body": "You can&#39;t create an inner class from outside of the outer class. That&#39;s true for both Kotlin and Java."}, {"owner": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565046941, "post_id": 57366771, "comment_id": 101220159, "body": "Thanks @ianhanniballake !"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 2, "last_activity_date": 1565044027, "creation_date": 1565044027, "answer_id": 57366771, "question_id": 57366751, "link": "https://stackoverflow.com/questions/57366751/using-context-of-a-fragment-within-its-innerclass-in-kotlin/57366771#57366771", "title": "Using context of a fragment within its innerclass in Kotlin", "body": "<p>In Kotlin, a class must be explicitly declared <code>inner class</code> in order to use fields / methods from the outer class.</p>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "edited": false, "score": 0, "creation_date": 1565046971, "post_id": 57366895, "comment_id": 101220163, "body": "Thanks @eldhose !"}], "tags": [], "owner": {"reputation": 13392, "user_id": 1618885, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/35fdec24c7618278e30196cc89e65e6a?s=128&d=identicon&r=PG", "display_name": "Eldhose M Babu", "link": "https://stackoverflow.com/users/1618885/eldhose-m-babu"}, "is_accepted": false, "score": 3, "last_activity_date": 1565045196, "creation_date": 1565045196, "answer_id": 57366895, "question_id": 57366751, "link": "https://stackoverflow.com/questions/57366751/using-context-of-a-fragment-within-its-innerclass-in-kotlin/57366895#57366895", "title": "Using context of a fragment within its innerclass in Kotlin", "body": "<p>Adding this answer to make it clear for you. The answer is same as what @ianhanniballake posted above.</p>\n\n<p>Please find the complete code snippet below : If you this this answers your question, please mark @ianhanniballake post as the answer.</p>\n\n<pre><code>class FileSelectFragment : BaseFragment() {\n\ninner class Test(){\n\n    private fun testMethod(){\n        context.getString(R.string.app_name);    //java\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 191, "user_id": 10936389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JEu8xcda3Xw/AAAAAAAAAAI/AAAAAAAAAP0/lMLSXqWn0HE/photo.jpg?sz=128", "display_name": "Adeel Zafar", "link": "https://stackoverflow.com/users/10936389/adeel-zafar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 57366771, "answer_count": 2, "score": 1, "last_activity_date": 1565046169, "creation_date": 1565043914, "last_edit_date": 1565046169, "question_id": 57366751, "link": "https://stackoverflow.com/questions/57366751/using-context-of-a-fragment-within-its-innerclass-in-kotlin", "title": "Using context of a fragment within its innerclass in Kotlin", "body": "<p>I have a fragment <code>SelectFileFragment</code> that has a innerclass<code>Test</code>. \nI need to use the context i.e. the activity that started the fragment <code>SelectFileFragment</code> in its innerclass<code>Test</code>.</p>\n\n<p>I'm new to Kotlin so I want to know how I can get the context and then use in the inner class.</p>\n\n<pre><code>//there will be a few lines of code in java representing what i'm trying to achieve.\n\nclass FileSelectFragment : BaseFragment() {\n\npublic Context context;      //java\n\n\noverride fun onCreateView{\n....\ncontext = getActivity();   //java\n....\n\n}\nclass Test(){\n\nprivate fun testMethod(){\n\ncontext.getString(...);    //java\n\n}\n\n}\n\n}\n</code></pre>\n"}]