[{"tags": ["android", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 13, "user_id": 10112046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ee0dfac2e374063feb81622daa148a?s=128&d=identicon&r=PG&f=1", "display_name": "iam", "link": "https://stackoverflow.com/users/10112046/iam"}, "edited": false, "score": 2, "creation_date": 1564631434, "post_id": 57300037, "comment_id": 101096438, "body": "solved, add this <code>val token = result.credential as OAuthCredential</code>"}, {"owner": {"reputation": 1527, "user_id": 3649894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4074181c04268447f2d8c5b691e584?s=128&d=identicon&r=PG&f=1", "display_name": "kobowo", "link": "https://stackoverflow.com/users/3649894/kobowo"}, "edited": false, "score": 0, "creation_date": 1573758525, "post_id": 57300037, "comment_id": 103998849, "body": "This works! I had the same problem just now for Microsoft login, casting the Credential property to OAuthCredential works to expose the property."}], "owner": {"reputation": 13, "user_id": 10112046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ee0dfac2e374063feb81622daa148a?s=128&d=identicon&r=PG&f=1", "display_name": "iam", "link": "https://stackoverflow.com/users/10112046/iam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564616146, "creation_date": 1564615780, "last_edit_date": 1564616146, "question_id": 57300037, "link": "https://stackoverflow.com/questions/57300037/how-to-get-access-token-in-firebase-login-with-provider", "title": "How to get access token in firebase login with provider", "body": "<p>I'm setting up login on my app with firebase, i'm choose Github provider for my login provider. I try to debug and access data from debug variable but can't access from code. here my code:</p>\n\n<pre><code>var firebaseAuth = FirebaseAuth.getInstance()\nvar provider: OAuthProvider.Builder = OAuthProvider.newBuilder(\"github.com\")\n\n// login handler\n        btn_login.setOnClickListener {\n            firebaseAuth.startActivityForSignInWithProvider(this, provider.build())\n                .addOnSuccessListener{ result: AuthResult -&gt;\n                    System.out.println(result.credential)\n                }\n                .addOnFailureListener {\n                        exception -&gt; print(exception)\n                }\n        }\n</code></pre>\n\n<p>and System.out:</p>\n\n<pre><code>I/System.out: com.google.firebase.auth.FirebaseAuthWebException: The web operation was canceled by the user.com.google.firebase.auth.zzg@588c9c4\n</code></pre>\n\n<p>From debug I found where the access token is, but I can't access it.</p>\n\n<pre><code>((result as zzh).zzc as zzg).accessToken\n//399kdkkda0XXXXX\n</code></pre>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1564635480, "post_id": 57299871, "comment_id": 101097279, "body": "post some code and some screenshots"}, {"owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1564676646, "post_id": 57299871, "comment_id": 101118687, "body": "I can&#39;t post the exact code as it is from my company, I&#39;ll post something similar to it"}], "answers": [{"tags": [], "owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "is_accepted": false, "score": 2, "last_activity_date": 1564815243, "creation_date": 1564815243, "answer_id": 57336158, "question_id": 57299871, "link": "https://stackoverflow.com/questions/57299871/adding-holes-to-a-polygon-removes-its-fill-color/57336158#57336158", "title": "Adding holes to a polygon removes it&#39;s fill color", "body": "<p>The problem appears to lie in the position of your holes. <a href=\"https://developers.google.com/maps/documentation/android-sdk/shapes#create_a_hollow_polygon\" rel=\"nofollow noreferrer\">Google's documentation</a> on Polygons says the following:</p>\n\n<blockquote>\n  <p>If the hole intersects the outline of the polygon, the polygon will be\n  rendered without any fill.</p>\n</blockquote>\n\n<p>And the <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/Polygon\" rel=\"nofollow noreferrer\">Polygon's reference</a> states:</p>\n\n<blockquote>\n  <p>Holes</p>\n  \n  <p>A hole must be fully contained within the outline. Multiple holes can\n  be specified, however overlapping holes are not supported.</p>\n  \n  <p>Fill Color</p>\n  \n  <p>The default value is transparent (0x00000000). If the polygon geometry\n  is not specified correctly (see above for Outline and Holes), then no\n  fill will be drawn.</p>\n</blockquote>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 456, "user_id": 4664987, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/n0Q7w.jpg?s=128&g=1", "display_name": "Alfredo Bejarano", "link": "https://stackoverflow.com/users/4664987/alfredo-bejarano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1576312668, "creation_date": 1564614320, "last_edit_date": 1576312668, "question_id": 57299871, "link": "https://stackoverflow.com/questions/57299871/adding-holes-to-a-polygon-removes-its-fill-color", "title": "Adding holes to a polygon removes it&#39;s fill color", "body": "<p>I created a Polygon that fills an entire Google Map.</p>\n\n<p>After I add a couple of holes, the map works fine. The map gets shaded with the polygon fill color and the holes gets rendered.</p>\n\n<p>But, after adding a 3rd hole, the holes still display the stroke of the Polygon, but the polygon fill color becomes transparent.</p>\n\n<p>My holes list size is 63 but it can vary.</p>\n\n<p>Is there any limit of holes that a polygon can have? or how can I draw a polygon with multiple holes in it? all the holes are contained within the map.</p>\n\n<p>EDIT 1</p>\n\n<p>I can't add the exact code snippet as it is from my job, but this is something similar as what im doing.</p>\n\n<pre><code>fun GoogleMap.render(geoJSONS: List&lt;JSONObject&gt;) {\n    val wholeMapPolygon = PolygonOptions().add(\n        LatLng(-89.999999999999, -180.0),\n        LatLng(89.99999999999, -180.0),\n        LatLng(89.99999999999, 179.99999999),\n        LatLng(-89.99999999999, 179.99999999),\n        LatLng(-89.99999999999, 0.0)\n    ).strokeColor(Color.BLACK)\n     .fillColor(Color.WHITE)\n\n    val layers = createGeoJSONLayers(this, geoJSONS)\n    val holes = getPolygonsFromGeoJsonLayers()\n\n    for(hole in holes) {\n        wholeMapPolygon.addHole(hole) // Here, adding more that 3 makes the wholeMapPolygon fill color dissapear.\n    }\n\n    addPolygon(wholeMapPolygon)\n}\n\n/**\n* In this function, some other functions get called to extract each list of coordinates for each layer polygon.\n**/\nprivate fun getPolygonsFromGeoJsonLayers(layers: List&lt;GeoJsonLayer&gt;): List&lt;List&lt;LatLng&gt;&gt; {\n   val holes = mutableListOf&lt;List&lt;LatLng&gt;&gt;()\n   for(layer in layers) {\n      val polygonFeatures = getGeoJsonLayerPolygonFeatures()\n      for(polygonFeature in polygonFeatures) {\n         holes.addAll(getCoordinatesFromFeature(polygonFeature))\n      }\n   }\n   return holes\n}\n\nprivate fun getGeoJsonLayerPolygonFeatures(features: List&lt;GeoJsonFeature&gt;): List&lt;GeoJsonFeature&gt; = features.filter { feature -&gt;\n   feature.geometry.geometryType == \"Polygon\"\n}\n\nprivate fun getCoordinatesFromFeature(feature: GeoJSONFeature): List&lt;LatLng&gt; {\n    val coordinates = mutableListOf&lt;LatLng&gt;()\n    (geometry as? GeoJsonPolygon)?.coordinates?.filter {\n        it.isNotEmpty()\n    }?.forEach {\n        coordinates.addAll(it)\n    }\n    return coordinates\n}\n\nprivate fun createGeoJSONLayers(map: GoogleMap, data: List&lt;JSONObject&gt;) = data?.map { jsonObject -&gt;\n   GeoJsonLayer(map, jsonObject)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-edittext"], "answers": [{"comments": [{"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564665369, "post_id": 57300888, "comment_id": 101112083, "body": "setContentView is being called because the app detects that there was a config change (i.e. the language) when it comes back into the foreground. The issue is that EditText isn&#39;t getting updated even when calling editTxt.setText()"}, {"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "reply_to_user": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564666687, "post_id": 57300888, "comment_id": 101112901, "body": "Can you confirm that your code is entering the block where you call <b>.setText()</b>? i.e using a Toast"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564670169, "post_id": 57300888, "comment_id": 101115126, "body": "Yes, it&#39;s entering. But I think I&#39;ve figured it out. Your override example led me to the answer. The issue is based on the bundle being saved. I think Android is caching the state of the app so that it&#39;s in the same state when it comes out of the background. What I had to do is set the text again in onResume and it worked."}, {"owner": {"reputation": 50, "user_id": 10429457, "user_type": "registered", "profile_image": "https://graph.facebook.com/2041894419195394/picture?type=large", "display_name": "Tobi", "link": "https://stackoverflow.com/users/10429457/tobi"}, "edited": false, "score": 0, "creation_date": 1614075389, "post_id": 57300888, "comment_id": 117267496, "body": "Thank you so much for this! I had the same behaviour and I was struggling for hours."}], "tags": [], "owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "is_accepted": false, "score": 1, "last_activity_date": 1564624365, "creation_date": 1564624365, "answer_id": 57300888, "question_id": 57299715, "link": "https://stackoverflow.com/questions/57299715/why-edittext-is-not-updating-after-changing-language-in-settings/57300888#57300888", "title": "Why EditText is not updating after changing language in settings?", "body": "<p>If your app is in foreground during language changes your UI may need reloading onResume so expected resources can be loaded. \nYou can save the default language in preference and check for value changes onActivityResume and if true then reload UI. </p>\n\n<p>Something like </p>\n\n<pre><code>override fun onResume() { \n    super.onResume()\n    ...\n    if (localeHasChanged)\n      setContentView(R.layout.xxx) //force UI reload\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "is_accepted": false, "score": 1, "last_activity_date": 1564670560, "creation_date": 1564670560, "answer_id": 57311563, "question_id": 57299715, "link": "https://stackoverflow.com/questions/57299715/why-edittext-is-not-updating-after-changing-language-in-settings/57311563#57311563", "title": "Why EditText is not updating after changing language in settings?", "body": "<p>Thanks to Giddy Naya's answer for giving me a hint on what is going on. Android saves the state of the app when it goes in the background so that it's the same when it comes back to the foreground. It's so strange, because even a editTxt.setText() doesn't work and gets overridden by Android. So what I had to do is set the new state of app (i.e. update the text) in the onResume function:</p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n\n    if(textList.isNotEmpty()) {\n       val txt = textList[currentIndex]\n       editTxt.setText(txt)\n    }\n}\n</code></pre>\n\n<p>If you're new to Android, this feature can make debugging quite a pain, since you're trying to set a new state in onCreate and it doesn't change.</p>\n\n<p>I'm still not sure why setting a TextView works in onCreate() but setting an EditText does not.</p>\n"}], "owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1564670560, "creation_date": 1564613017, "last_edit_date": 1564614758, "question_id": 57299715, "link": "https://stackoverflow.com/questions/57299715/why-edittext-is-not-updating-after-changing-language-in-settings", "title": "Why EditText is not updating after changing language in settings?", "body": "<p>I'm creating an app where I need to quickly test some different languages. I've got 3 string resource files, values/strings.xml, values-es/strings.xml, and values-fr/strings.xml. Each of the files have their respective translated strings.</p>\n\n<p>When I launch the app, I'm preloading some text into a TextView (Locale.getDefault().displayLanguage) and text that I pull in from an array in the xml file and assign one string to an EditText:</p>\n\n<pre><code>&lt;string-array name=\"some_text\"&gt;\n    &lt;item&gt;Overall, how severe were your flu symptoms today?  Please select one response only.&lt;/item&gt;\n    &lt;item&gt;No flu symptoms today&lt;/item&gt;\n    &lt;item&gt;Mild&lt;/item&gt;\n    &lt;item&gt;Moderate&lt;/item&gt;\n    &lt;item&gt;Severe&lt;/item&gt;\n    &lt;item&gt;Very Severe&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p>I set the text of the language label like this:</p>\n\n<pre><code> languageTxt = findViewById(R.id .language_text)\n languageTxt.text = Locale.getDefault().displayLanguage\n</code></pre>\n\n<p>Then load the strings in the array and set one of them to the EditText like this:</p>\n\n<pre><code>textList = resources.getStringArray(R.array.some_text)\neditTxt = findViewById(R.id.edit_text)\nif(textList.isNotEmpty()) {\n    val txt = textList[currentIndex] //currentIndex = 0\n    editTxt.setText(txt)\n}\n</code></pre>\n\n<p>textList, languageTxt, and editTxt are declared private like:</p>\n\n<pre><code>private lateinit var textList: Array&lt;String&gt;\nprivate lateinit var languageTxt: TextView\nprivate lateinit var editTxt: EditText\n</code></pre>\n\n<p>The first run through onCreate, everything works fine. If the language is set to Spanish, both languageTxt and editTxt are in Spanish as expected. Then if I go to settings and change the language to French, when I bring my app back to the foreground, the languageTxt says French (well spelled in French). Then I watch in the debugger, the textList loading the text, and it's all the French strings like I expected. The problem I'm seeing is when I set editText, the control isn't updating to display the French string. It's still in Spanish. I can clearly see that the text is in French, but calling setText() doesn't seem to be working. I've tried clearing the exitTxt first, setting it to null, empty, etc, nothing seems to work. Does anyone know what's going on here? I've been scratching my head for a couple hours. Ugh</p>\n"}, {"tags": ["spring", "spring-boot", "spring-mvc", "kotlin", "spring-data-jpa"], "answers": [{"tags": [], "owner": {"reputation": 1718, "user_id": 11809808, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xGaYWYEMtIc/AAAAAAAAAAI/AAAAAAAAMF0/C0tWnMhZTHo/photo.jpg?sz=128", "display_name": "Ryan Payne", "link": "https://stackoverflow.com/users/11809808/ryan-payne"}, "is_accepted": true, "score": 2, "last_activity_date": 1590506712, "last_edit_date": 1590506712, "creation_date": 1564606253, "answer_id": 57298659, "question_id": 57298658, "link": "https://stackoverflow.com/questions/57298658/how-do-i-create-a-url-slug-extension/57298659#57298659", "title": "How do I create a URL slug extension?", "body": "<p>In your <code>Extensions.kt</code> file, add the following code:</p>\n\n<pre><code>fun String.toSlug() = toLowerCase()\n        .replace(\"\\n\", \" \")\n        .replace(\"[^a-z\\\\d\\\\s]\".toRegex(), \" \")\n        .split(\" \")\n        .joinToString(\"-\")\n        .replace(\"-+\".toRegex(), \"-\")\n</code></pre>\n\n<p>Then use the extension in your entity file:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\nclass Article(\n    var title: String,\n    var slug: String = title.toSlug())\n</code></pre>\n\n<p>Additionally, if you don't want the slug to be mutable, add it as a calculated property:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\nclass Article(\n        var title: String) {\n    val slug get() = title.toSlug()\n}\n</code></pre>\n\n<h2>References</h2>\n\n<p>I learned about the slug extension from <a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/#_creating_your_own_extensions\" rel=\"nofollow noreferrer\">Building web applications with Spring Boot and Kotlin</a> (written by <a href=\"https://github.com/sdeleuze\" rel=\"nofollow noreferrer\">S\u00e9bastien Deleuze</a>). See the <a href=\"https://github.com/spring-guides/tut-spring-boot-kotlin/blob/master/src/main/kotlin/com/example/blog/Extensions.kt#L28\" rel=\"nofollow noreferrer\">Extensions.kt lines 28 - 33</a> for full context.</p>\n\n<p>Also, thanks to <a href=\"https://github.com/djleeds\" rel=\"nofollow noreferrer\">Dave Leeds</a> for recommending the calculated property option. Checkout his Kotlin blog <a href=\"https://typealias.com/\" rel=\"nofollow noreferrer\">Dave Leeds on Kotlin</a> for in-depth concepts and guides.</p>\n"}, {"tags": [], "owner": {"reputation": 8810, "user_id": 311420, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gti2M.jpg?s=128&g=1", "display_name": "Raymond Chenon", "link": "https://stackoverflow.com/users/311420/raymond-chenon"}, "is_accepted": false, "score": 1, "last_activity_date": 1571266580, "creation_date": 1571266580, "answer_id": 58422689, "question_id": 57298658, "link": "https://stackoverflow.com/questions/57298658/how-do-i-create-a-url-slug-extension/58422689#58422689", "title": "How do I create a URL slug extension?", "body": "<p>Another way with all explanations</p>\n\n<pre><code>import java.text.Normalizer\n\nfun String.slugify(): String = Normalizer\n                .normalize(this, Normalizer.Form.NFD)\n                .replace(\"[^\\\\w\\\\s-]\".toRegex(), \"\") // Remove all non-word, non-space or non-dash characters\n                .replace('-', ' ') // Replace dashes with spaces\n                .trim() // Trim leading/trailing whitespace (including what used to be leading/trailing dashes)\n                .replace(\"\\\\s+\".toRegex(), \"-\") // Replace whitespace (including newlines and repetitions) with single dashes\n                .toLowerCase() // Lowercase the final results\n\n</code></pre>\n\n<p>I created a gist <a href=\"https://gist.github.com/raychenon/8fac7e5fb41364694f00e6ce8b8c32a8\" rel=\"nofollow noreferrer\">https://gist.github.com/raychenon/8fac7e5fb41364694f00e6ce8b8c32a8</a></p>\n"}], "owner": {"reputation": 1718, "user_id": 11809808, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xGaYWYEMtIc/AAAAAAAAAAI/AAAAAAAAMF0/C0tWnMhZTHo/photo.jpg?sz=128", "display_name": "Ryan Payne", "link": "https://stackoverflow.com/users/11809808/ryan-payne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 57298659, "answer_count": 2, "score": 1, "last_activity_date": 1590506712, "creation_date": 1564606253, "last_edit_date": 1587071152, "question_id": 57298658, "link": "https://stackoverflow.com/questions/57298658/how-do-i-create-a-url-slug-extension", "title": "How do I create a URL slug extension?", "body": "<p>I'm creating a blog application using <a href=\"https://spring.io/projects/spring-boot\" rel=\"nofollow noreferrer\">Spring</a> and <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a>. For each article, I need to programmatically generate a slug. For example, if the article title is \"How the Chihuahua Crossed the Road\", the slug should be \"how-the-chihuahua-crossed-the-road\".</p>\n\n<p>For context, my entity file (truncated) looks something like:</p>\n\n<pre><code>@Entity\nclass Article(\n    var title: String,\n    var slug: String = I_WANT_THIS_TO_BE_A_SLUG_FROM_THE_TITLE)\n</code></pre>\n\n<p>How do I accomplish this with a Kotlin extension?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 1, "creation_date": 1564609419, "post_id": 57298590, "comment_id": 101092307, "body": "This is actually a really good question."}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 1, "creation_date": 1564612504, "post_id": 57298590, "comment_id": 101093085, "body": "Your code is perfectly fine so I suggest do not overthink that much. I find code that is casted to its actual subclass is <i>smelly</i> and unmaintainable so it&#39;s not likely that you will do it."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 1, "creation_date": 1564614284, "post_id": 57298590, "comment_id": 101093412, "body": "I don&#39;t see a question here? When someone attempts reflection or an unsafe cast to perform unintended operations you are in no way obliged to ensure it works properly."}], "answers": [{"tags": [], "owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "is_accepted": false, "score": 0, "last_activity_date": 1564611467, "last_edit_date": 1564611467, "creation_date": 1564611160, "answer_id": 57299480, "question_id": 57298590, "link": "https://stackoverflow.com/questions/57298590/mutablelivedata-is-exposed-by-casting-livedata-from-viewmodel/57299480#57299480", "title": "MutableLiveData is exposed by casting LiveData from ViewModel", "body": "<p><code>MutableLiveData</code> is supposed to be used when you need to modify LiveData outside of your viewmodel. If you don't want it to get exposed from ViewModel, you must use LiveData.</p>\n\n<p>If you look at <code>LiveData</code> class, you will notice that <strong>LiveData is an Abstract class</strong>, which means you have to extend it before you can use it. For cases such as yours, you would extend LiveData class. In that child class, you would for example call api and and update the value using private methods. So basically your LiveData class will be responsible for loading and updating the data.\nCheck out this link for an example:</p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/architecture/livedata#extend_livedata\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/architecture/livedata#extend_livedata</a></p>\n\n<p>This is how to properly use <code>LiveData</code> class as per documentation:</p>\n\n<pre><code>public class StockLiveData extends LiveData&lt;BigDecimal&gt; {\n    private StockManager stockManager;\n\n    private SimplePriceListener listener = new SimplePriceListener() {\n        @Override\n        public void onPriceChanged(BigDecimal price) {\n            setValue(price);\n        }\n    };\n\n    public StockLiveData(String symbol) {\n        stockManager = new StockManager(symbol);\n    }\n\n    @Override\n    protected void onActive() {\n        stockManager.requestPriceUpdates(listener);\n    }\n\n    @Override\n    protected void onInactive() {\n        stockManager.removeUpdates(listener);\n    }\n}\n</code></pre>\n\n<p>To sum up, Use MutableLiveData when you want to modify data outside of LiveData/ViewModel. For all other cases, provide your own implementation of LiveData.</p>\n"}], "owner": {"reputation": 51, "user_id": 11648020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SDIkkuU9xKI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcQhfoNGheyIzLA78C41rnGSl4qbg/mo/photo.jpg?sz=128", "display_name": "Ghassen Ben Hamida", "link": "https://stackoverflow.com/users/11648020/ghassen-ben-hamida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 589, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1564636071, "creation_date": 1564605907, "last_edit_date": 1564636071, "question_id": 57298590, "link": "https://stackoverflow.com/questions/57298590/mutablelivedata-is-exposed-by-casting-livedata-from-viewmodel", "title": "MutableLiveData is exposed by casting LiveData from ViewModel", "body": "<p>I used the code showen below to not expose the MutableLiveData in the main activity </p>\n\n<pre><code>class CalculatorViewModel : ViewModel(){\n private val operation = MutableLiveData&lt;String&gt;()\n    val stringOperation :LiveData&lt;String&gt;\n        get() = operation\n}\n</code></pre>\n\n<p>but I figured out a way to access the value of  MutableLiveData via the LiveData getter and even change it and this is my code to do it:</p>\n\n<pre><code>(viewModel.stringOperation as MutableLiveData).value = \"\"\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1564601635, "post_id": 57297115, "comment_id": 101089562, "body": "You can&#39;t do that without it being a suspend function."}, {"owner": {"reputation": 3198, "user_id": 5498155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jLzfw.jpg?s=128&g=1", "display_name": "Sebastian Schneider", "link": "https://stackoverflow.com/users/5498155/sebastian-schneider"}, "reply_to_user": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "edited": false, "score": 0, "creation_date": 1564602408, "post_id": 57297115, "comment_id": 101089881, "body": "@Francesc is it somehow possible to create a local supend function which handles this? I can&#39;t modify <code>subFunction</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1564603218, "creation_date": 1564603218, "answer_id": 57298057, "question_id": 57297115, "link": "https://stackoverflow.com/questions/57297115/suspend-kotlin-coroutine-async-subfunction/57298057#57298057", "title": "Suspend kotlin coroutine async subfunction", "body": "<p>Not very nice but working solution with channels:</p>\n\n<pre><code>    GlobalScope.launch {\n        val channel = Channel&lt;Int&gt;()\n        if (condition) {\n            // the subFunction has a Unit&lt;Int&gt; as return type\n            subFunction() { result -&gt;\n                GlobalScope.launch {\n                    channel.send(result)\n                    channel.close()\n                }\n            }\n        }\n        for (i in channel) {\n            println(i)\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3198, "user_id": 5498155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jLzfw.jpg?s=128&g=1", "display_name": "Sebastian Schneider", "link": "https://stackoverflow.com/users/5498155/sebastian-schneider"}, "edited": false, "score": 0, "creation_date": 1564605184, "post_id": 57298130, "comment_id": 101090864, "body": "Thanks, if I&#39;m correct you can also just inline the <code>subFunctionSuspend</code>. but it works!"}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1564603584, "creation_date": 1564603584, "answer_id": 57298130, "question_id": 57297115, "link": "https://stackoverflow.com/questions/57297115/suspend-kotlin-coroutine-async-subfunction/57298130#57298130", "title": "Suspend kotlin coroutine async subfunction", "body": "<p>You can do this, converting your callback to a suspend function</p>\n\n<pre><code>GlobalScope.launch {\n    var value: Int = 0\n    if (condition) {\n        // the subFunction has a Unit&lt;Int&gt; as return type\n        value = subFunctionSuspend()\n    }\n    Log.v(\"LOGTAG\", value.toString())\n}\n\nsuspend fun subFunctionSuspend() = suspendCoroutine { cont -&gt;\n    subFunction() { result -&gt;\n        cont.resume(result)\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 3198, "user_id": 5498155, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jLzfw.jpg?s=128&g=1", "display_name": "Sebastian Schneider", "link": "https://stackoverflow.com/users/5498155/sebastian-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 57298130, "answer_count": 2, "score": 3, "last_activity_date": 1564603584, "creation_date": 1564598581, "last_edit_date": 1564602443, "question_id": 57297115, "link": "https://stackoverflow.com/questions/57297115/suspend-kotlin-coroutine-async-subfunction", "title": "Suspend kotlin coroutine async subfunction", "body": "<p>I have an async <code>CoroutineScope</code> in which could be (by condition) a call to a subfunction which returns its result in an async <code>Unit</code></p>\n\n<p>How can I wait for the returned result and return it outside of the async <code>Unit</code>. Therefore <em>await</em> the call to the <code>Unit</code> by the subfunction.</p>\n\n<p>Example:</p>\n\n<pre><code>GlobalScope.launch {\n    var value: Int = 0\n    if (condition) {\n        // the subFunction has a Unit&lt;Int&gt; as return type\n        subFunction() { result -&gt;\n            value = result\n        }\n    }\n    Log.v(\"LOGTAG\", value.toString())\n}\n</code></pre>\n\n<p>How can I wait for the <code>subFunction</code> to finish executing before continuing the code, or directly assign the result value to the variable?</p>\n\n<p><code>subFunction</code> <strong>must not</strong> be a <code>suspend</code> function, however it could be embedded into a helper function.</p>\n\n<p><em>(the code has to run in an Android enviroment)</em></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 1, "creation_date": 1564598644, "post_id": 57296893, "comment_id": 101088312, "body": "for what it&#39;s worth, it&#39;s the same for java :D just a note for future :)"}], "answers": [{"comments": [{"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564598352, "post_id": 57296975, "comment_id": 101088166, "body": "Wow, talk about confusing! I wish that people would document their code/instructions more clearly. On the other hand, I&#39;m new to Android, so I could be considered quite the noob. ;)"}, {"owner": {"reputation": 317, "user_id": 3392276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gk9Qg.jpg?s=128&g=1", "display_name": "drilonrecica", "link": "https://stackoverflow.com/users/3392276/drilonrecica"}, "reply_to_user": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564598543, "post_id": 57296975, "comment_id": 101088265, "body": "If you need more help feel free to ask. If this answer helped please accept it ;)"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564599105, "post_id": 57296975, "comment_id": 101088521, "body": "So now after doing that, I&#39;m seeing the error: &quot; Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:  &quot; One of the class paths is the library&#39;s LocaleAwareCompatActivity, and the other is AppCompatActivity. I put the download link in the gradle file at the module level: implementation &#39;com.zeugmasolutions.localehelper:locale-helper-android:1.0.&zwnj;&#8203;2&#39;  What else do I need to do?"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564599406, "post_id": 57296975, "comment_id": 101088652, "body": "I also did a gradle file sync to see if that would help, but it did not. I know the files were downloaded because I can navigate to them with cmd+click"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564599657, "post_id": 57296975, "comment_id": 101088755, "body": "Never mind! I searched and found the solution. I had to select the magic command &quot;Invalidate Cache/Restart...&quot;. Damn, Android dev is clunky as hell!"}, {"owner": {"reputation": 317, "user_id": 3392276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gk9Qg.jpg?s=128&g=1", "display_name": "drilonrecica", "link": "https://stackoverflow.com/users/3392276/drilonrecica"}, "reply_to_user": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564599700, "post_id": 57296975, "comment_id": 101088772, "body": "Nice to hear :)"}, {"owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "edited": false, "score": 0, "creation_date": 1564600732, "post_id": 57296975, "comment_id": 101089192, "body": "Oops, spoke too soon. Still the same problem. It was indexing in the background and thought it was fixed. ;( I must be leaving out some type of configuration when setting up a library like this."}], "tags": [], "owner": {"reputation": 317, "user_id": 3392276, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gk9Qg.jpg?s=128&g=1", "display_name": "drilonrecica", "link": "https://stackoverflow.com/users/3392276/drilonrecica"}, "is_accepted": true, "score": 1, "last_activity_date": 1564597951, "creation_date": 1564597951, "answer_id": 57296975, "question_id": 57296893, "link": "https://stackoverflow.com/questions/57296893/where-is-the-main-app-class-in-an-android-kotlin-project/57296975#57296975", "title": "Where is the main app class in an Android kotlin project?", "body": "<p>You have to create a new App class like this:</p>\n\n<pre><code>class App : LocaleAwareApp() {\n}\n</code></pre>\n\n<p>and in AndroidManifest add this line inside the application tag:</p>\n\n<pre><code>android:name=\".App\"\n</code></pre>\n\n<p>After that you create a BaseActivityClass:</p>\n\n<pre><code>open class BaseActivity : LocaleAwareCompatActivity() {  \n}\n</code></pre>\n\n<p>and your MainActivity and every other activity you create should inherit from this BaseActivity like this:</p>\n\n<pre><code>class MainActivity: BaseActivity() {\n}\n</code></pre>\n\n<p>For more customization you should look into <a href=\"https://github.com/zeugma-solutions/locale-helper-android\" rel=\"nofollow noreferrer\">https://github.com/zeugma-solutions/locale-helper-android</a></p>\n"}, {"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 0, "last_activity_date": 1564597966, "creation_date": 1564597966, "answer_id": 57296983, "question_id": 57296893, "link": "https://stackoverflow.com/questions/57296893/where-is-the-main-app-class-in-an-android-kotlin-project/57296983#57296983", "title": "Where is the main app class in an Android kotlin project?", "body": "<p>Assuming that you mean <a href=\"https://github.com/zeugma-solutions/locale-helper-android\" rel=\"nofollow noreferrer\">this library</a>, <code>LocaleAwareApplication</code> is a class in the library. You would <a href=\"https://github.com/zeugma-solutions/locale-helper-android/blob/v1.0.1/app/src/main/java/com/zeugmasolutions/localeexample/Application.kt\" rel=\"nofollow noreferrer\">create a subclass of it in your project</a>:</p>\n\n<pre><code>class MyAwesomeApplication : LocaleAwareApplication() {\n}\n</code></pre>\n\n<p>Then, in your manifest, in the <code>&lt;application&gt;</code> tag, add an <code>android:name</code> attribute that points to your subclass:</p>\n\n<pre><code>&lt;application android:name=\".MyAwesomeApplication\"\n  // other attributes go here\n&gt;\n</code></pre>\n\n<p>I do not know why the <code>README</code> has the wrong class name (<code>LocaleAwareApp</code> instead of <code>LocaleAwareApplication</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 4283585, "user_type": "registered", "profile_image": "https://graph.facebook.com/661732756/picture?type=large", "display_name": "Ivan Tomi\u0107", "link": "https://stackoverflow.com/users/4283585/ivan-tomi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1564597979, "creation_date": 1564597979, "answer_id": 57296985, "question_id": 57296893, "link": "https://stackoverflow.com/questions/57296893/where-is-the-main-app-class-in-an-android-kotlin-project/57296985#57296985", "title": "Where is the main app class in an Android kotlin project?", "body": "<p>App (I assume you mean Application) and Activity classes are part of the std android library, so you don't have to \"have them\". Extending them means you have to write your own implementation with \"extends Activity\" and \"extends Application\" in class prototype.\nmore info here: <a href=\"https://medium.com/@balakrishnanpt/android-application-class-a8a1d64c82d1\" rel=\"nofollow noreferrer\">https://medium.com/@balakrishnanpt/android-application-class-a8a1d64c82d1</a></p>\n\n<p>hope that helps</p>\n"}], "owner": {"reputation": 3485, "user_id": 455466, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fc2a4aa192c88f4dd9ba870175f9e093?s=128&d=identicon&r=PG", "display_name": "u84six", "link": "https://stackoverflow.com/users/455466/u84six"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 57296975, "answer_count": 3, "score": 0, "last_activity_date": 1564597979, "creation_date": 1564597632, "question_id": 57296893, "link": "https://stackoverflow.com/questions/57296893/where-is-the-main-app-class-in-an-android-kotlin-project", "title": "Where is the main app class in an Android kotlin project?", "body": "<p>I'm new to Android app dev, and I'm trying to use a library (LocaleHelper) that says to extend my App class:</p>\n\n<pre><code>class App : LocaleAwareApp() {\n}\n</code></pre>\n\n<p>And to extend my base activity class:</p>\n\n<pre><code>open class BaseActivity : LocaleAwareCompatActivity() {  \n}\n</code></pre>\n\n<p>but I don't have either of these in my Android Kotlin project. All I see for source code generated is the MainActivity class.</p>\n\n<p>I'm using Android Studio 3.4.2 with min sdk set to 22. Is there a different way to integrate this library?</p>\n"}, {"tags": ["arrays", "string", "kotlin", "split"], "comments": [{"owner": {"reputation": 1556, "user_id": 10433739, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SseFTbME50A/AAAAAAAAAAI/AAAAAAAAAAw/X-bo6dqWWHc/photo.jpg?sz=128", "display_name": "Benjamin Urquhart", "link": "https://stackoverflow.com/users/10433739/benjamin-urquhart"}, "edited": false, "score": 0, "creation_date": 1564598610, "post_id": 57296770, "comment_id": 101088298, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"nofollow noreferrer\">Yes</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": false, "score": 0, "last_activity_date": 1564597309, "creation_date": 1564597309, "answer_id": 57296823, "question_id": 57296770, "link": "https://stackoverflow.com/questions/57296770/is-there-a-kotlin-function-to-split-a-string-into-an-array/57296823#57296823", "title": "Is there a Kotlin function to split a string into an array?", "body": "<p>You can split the string based on the <code>space</code> char using <code>split</code> which returns a <code>List</code> then call <code>toTypedArray</code> to produce an <code>array</code> from that list.</p>\n\n<pre><code>val arr = \"xyx yxy xyx\".split(\" \").toTypedArray();\n</code></pre>\n\n<p>Here's an online <a href=\"https://play.kotlinlang.org/#eyJ2ZXJzaW9uIjoiMS4zLjQxIiwicGxhdGZvcm0iOiJqYXZhIiwiYXJncyI6IiIsImpzQ29kZSI6IiIsIm5vbmVNYXJrZXJzIjp0cnVlLCJ0aGVtZSI6ImlkZWEiLCJjb2RlIjoiLyoqXG4gKiBZb3UgY2FuIGVkaXQsIHJ1biwgYW5kIHNoYXJlIHRoaXMgY29kZS4gXG4gKiBwbGF5LmtvdGxpbmxhbmcub3JnIFxuICovXG5pbXBvcnQgamF2YS51dGlsLkFycmF5c1xuZnVuIG1haW4oKSB7XG4gICAgdmFsIGFyciA9IFwieHl4IHl4eSB4eXhcIi5zcGxpdChcIiBcIikudG9UeXBlZEFycmF5KCk7XG4gICAgcHJpbnRsbihBcnJheXMudG9TdHJpbmcoYXJyKSk7XG59In0=\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1564603659, "post_id": 57296906, "comment_id": 101090320, "body": "Though if you&#39;re going to construct a string, calling <code>plus()</code> is a very inefficient way of doing it.  (It will create ever-longer temporary copies.)  Far better to append everything to a StringBuilder, and then convert that to a String at the end."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1564603729, "post_id": 57296906, "comment_id": 101090354, "body": "@gidds I aggree with you. My answer is not about the efficiency of the method but why <i>it does not work</i> as the OP says."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1564603974, "post_id": 57296906, "comment_id": 101090447, "body": "Oh, I wasn&#39;t criticising your answer, which is good!  I was just adding a further point about the code (as it&#39;s something people tend to get wrong)."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 1, "last_activity_date": 1564597677, "creation_date": 1564597677, "answer_id": 57296906, "question_id": 57296770, "link": "https://stackoverflow.com/questions/57296770/is-there-a-kotlin-function-to-split-a-string-into-an-array/57296906#57296906", "title": "Is there a Kotlin function to split a string into an array?", "body": "<p>In Kotlin strings are immutable, so don't expect this:</p>\n\n<pre><code>tasks.plus(\",\").plus(\"Hey\")\n</code></pre>\n\n<p>to append anything to <code>tasks</code>.<br/>\nThe operator function <code>plus()</code> returns the string that you want to append but does not also append it.<br/>\nYou must do it like this:</p>\n\n<pre><code>tasks = tasks.plus(\",\").plus(\"Hey\")\ntasks = tasks.plus(\",\").plus(\"Hey\")\ntasks = tasks.plus(\",\").plus(\"Hey\")\ntasks = tasks.plus(\",\").plus(\"Hey\")\n</code></pre>\n\n<p>and then with:</p>\n\n<pre><code>val array = tasks.split(\",\").toTypedArray()\narray.forEach { println(it) }\n</code></pre>\n\n<p>the result that will be printed is:</p>\n\n<pre><code>&lt;empty line here because of the 1st comma&gt;\nHey\nHey\nHey\nHey\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "is_accepted": false, "score": 0, "last_activity_date": 1564609616, "last_edit_date": 1564609616, "creation_date": 1564597967, "answer_id": 57296984, "question_id": 57296770, "link": "https://stackoverflow.com/questions/57296770/is-there-a-kotlin-function-to-split-a-string-into-an-array/57296984#57296984", "title": "Is there a Kotlin function to split a string into an array?", "body": "<p><code>tasks</code> in your code remains empty, the following works as expected:</p>\n\n<pre><code>var tasks = \"\"\n\ntasks = tasks.plus(\",\").plus(\"Hey\")\n.plus(\",\").plus(\"Hey\")\n.plus(\",\").plus(\"Hey\")\n.plus(\",\").plus(\"Hey\")\n\nval array = tasks.split(\",\").toTypedArray()\n</code></pre>\n\n<p>You can actually have have <code>tasks</code> as <code>val</code> like so:</p>\n\n<pre><code>val tasks = \",\".plus(\"Hey\")\n.plus(\",\").plus(\"Hey\")\n.plus(\",\").plus(\"Hey\")\n.plus(\",\").plus(\"Hey\")\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>val tasks = \",Hey,Hey,Hey,Hey\"\n</code></pre>\n\n<p>and also</p>\n\n<pre><code>\",Hey,Hey,Hey,Hey\".split(\",\").forEach { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11035429, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CDzYAipzrRI/AAAAAAAAAAI/AAAAAAAACTU/6i7wpdmy7gs/photo.jpg?sz=128", "display_name": "Broccoli Soup", "link": "https://stackoverflow.com/users/11035429/broccoli-soup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 57296906, "answer_count": 3, "score": 0, "last_activity_date": 1564609616, "creation_date": 1564597039, "question_id": 57296770, "link": "https://stackoverflow.com/questions/57296770/is-there-a-kotlin-function-to-split-a-string-into-an-array", "title": "Is there a Kotlin function to split a string into an array?", "body": "<p>I have tried str.split(,).toTypedArray(), but it doesn\u2019t make an array.</p>\n\n<pre><code>var tasks = \"\"\n\ntasks.plus(\",\").plus(\"Hey\")\ntasks.plus(\",\").plus(\"Hey\")\ntasks.plus(\",\").plus(\"Hey\")\ntasks.plus(\",\").plus(\"Hey\")\n\nval array = tasks.split(\",\").toTypedArray()\n\narray.forEach {println(it)}\n</code></pre>\n\n<p>the output returns nothing so far.</p>\n\n<p>Is there a way to split the string where the input is:</p>\n\n<p><code>\"xyx yxy xyx\"</code>\n and get an output:\n<code>[\"xyx\",\"yxy\",\"xyx\"]</code></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 9245451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96e968813f7c5dc5d6ea1bbd74fba9b?s=128&d=identicon&r=PG&f=1", "display_name": "Anvit Sharma", "link": "https://stackoverflow.com/users/9245451/anvit-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1564655352, "creation_date": 1564655352, "answer_id": 57306989, "question_id": 57296583, "link": "https://stackoverflow.com/questions/57296583/deleted-file-is-still-showing-in-my-app-after-clearing-storage-also/57306989#57306989", "title": "Deleted file is still showing in my app after clearing storage also", "body": "<p>I got the answer it was very frustrating. \nThere is a media database which hold all the information regarding the media file so when I delete the file it is deleted but still have record in media database and content resolver takes the data from media database hence it is there in the app.\nSo if we restart the phone then the deleted file is gone from the list so every time we have to delete the file we have to delete it from database record also.</p>\n\n<p>Still looking for how to delete from media database.</p>\n"}, {"tags": [], "owner": {"reputation": 1431, "user_id": 2941375, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/58b1e0322aa7c40bdc1b2b9b8324521f?s=128&d=identicon&r=PG&f=1", "display_name": "Om Infowave Developers", "link": "https://stackoverflow.com/users/2941375/om-infowave-developers"}, "is_accepted": true, "score": 2, "last_activity_date": 1564656369, "creation_date": 1564656369, "answer_id": 57307287, "question_id": 57296583, "link": "https://stackoverflow.com/questions/57296583/deleted-file-is-still-showing-in-my-app-after-clearing-storage-also/57307287#57307287", "title": "Deleted file is still showing in my app after clearing storage also", "body": "<pre><code>File file = new File(uriOfFile);\nboolean deleted = file.delete();\n\n//delete file from Media Database\nscanaddedFile(file);\n\nprivate void scanaddedFile(String path) {\ntry {\n    MediaScannerConnection.scanFile(context, new String[] { path },\n            null, new MediaScannerConnection.OnScanCompletedListener() {\n                public void onScanCompleted(String path, Uri uri) {\n                    Log.i(\"ExternalStorage\", \"Scanned \" + path + \":\");\n                    Log.i(\"ExternalStorage\", \"-&gt; uri=\" + uri);\n                    context.getContentResolver()\n                            .delete(uri, null, null);\n                }\n            });\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9245451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e96e968813f7c5dc5d6ea1bbd74fba9b?s=128&d=identicon&r=PG&f=1", "display_name": "Anvit Sharma", "link": "https://stackoverflow.com/users/9245451/anvit-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 57307287, "answer_count": 2, "score": 0, "last_activity_date": 1564656369, "creation_date": 1564596130, "question_id": 57296583, "link": "https://stackoverflow.com/questions/57296583/deleted-file-is-still-showing-in-my-app-after-clearing-storage-also", "title": "Deleted file is still showing in my app after clearing storage also", "body": "<p>I am extracting audio files and showing in the recyclerview.\nI have given delete option after pressing delete button the file is removed from the list and from the file manager but when I reopen the app the audio file appears again at the same place in recycler view but it doesn't play.</p>\n\n<p>But when I recheck the file manager the file is not there and then I cleared the cache and storage but file is still there.\nSo I reinstall the app but that file is still there but you cannot play it.</p>\n\n<p>And if you delete the file directly from file manager the file doesn't appear in the app instantly. </p>\n\n<pre><code>val uri = Uri.parse(getSongsList?.get(item.groupId)?.songData)\n\n          val fdelete = File(uri.path)\n          if (fdelete.exists()) {\n              Log.e(\"v\", \"fscsg\")\n\n              if (fdelete.delete()) {\n                  Log.e(\"vdv\", \"fg\")\n                  System.out.println(\"file Deleted :${uri.path}\")\n              } else {\n                  Log.e(\"vd\", \"fgcs\")\n\n                  System.out.println(\"file not Deleted :${uri.path}\")\n              }\n          }\n          Log.i(\"ld\", getSongsList?.get(0)?.songTitle + \" \" + item.groupId)\n\n          getSongsList?.removeAt(item.groupId)\n          _mainScreenAdapter?.notifyDataSetChanged()\n</code></pre>\n\n<p>So how it could be possible that when file is not there in the storage still it is appearing in the app.</p>\n"}, {"tags": ["kotlin", "vert.x"], "answers": [{"tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 0, "last_activity_date": 1564878060, "creation_date": 1564878060, "answer_id": 57342949, "question_id": 57296433, "link": "https://stackoverflow.com/questions/57296433/run-gradle-vert-x-in-the-command-line/57342949#57342949", "title": "Run gradle vert.x in the command line", "body": "<p>Take a look at <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">Gradle Application plugin</a> or <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Gradle Shadow plguin</a>. Your issue is caused by incomplete class path when running a single JAR file. <code>from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }</code> seems to be not working.</p>\n"}], "owner": {"reputation": 1501, "user_id": 1638556, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/foluQ.jpg?s=128&g=1", "display_name": "svprdga", "link": "https://stackoverflow.com/users/1638556/svprdga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 57342949, "answer_count": 1, "score": 1, "last_activity_date": 1564878060, "creation_date": 1564595503, "question_id": 57296433, "link": "https://stackoverflow.com/questions/57296433/run-gradle-vert-x-in-the-command-line", "title": "Run gradle vert.x in the command line", "body": "<p>I have this sample project: <a href=\"https://github.com/svprdga/web-reactive-frameworks-comparison/tree/master/vertx-ktorm\" rel=\"nofollow noreferrer\">https://github.com/svprdga/web-reactive-frameworks-comparison/tree/master/vertx-ktorm</a></p>\n\n<p>I want to run it from the CLI, but I can't.\nI am trying to create the jar file, but when I run it, it prompts: </p>\n\n<pre><code>BUILD SUCCESSFUL in 0s\n1 actionable task: 1 executed\n\n&gt; Task :compileKotlin\nw: /home/svprdga/code/backend/web-reactive-frameworks-comparison/vertx-ktorm/src/main/kotlin/com/svprdga/vertxktorm/verticle/MainVerticle.kt: (18, 38): 'send(String!, Any!, ((AsyncResult&lt;Message&lt;T!&gt;!&gt;!) -&gt; Unit)!): EventBus!' is deprecated. Deprecated in Java\n\nBUILD SUCCESSFUL in 0s\n4 actionable tasks: 4 executed\nException in thread \"main\" java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n        at com.svprdga.vertxktorm.Application$Companion.main(VertxKtorm.kt)\n    at com.svprdga.vertxktorm.Application.main(VertxKtorm.kt)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 2 more\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["java", "oop", "object", "kotlin"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1564594998, "post_id": 57296152, "comment_id": 101086730, "body": "I think you will have better luck if you can break your question down into multiple smaller questions each focusing on one area of confusion."}], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1564595408, "creation_date": 1564595408, "answer_id": 57296412, "question_id": 57296152, "link": "https://stackoverflow.com/questions/57296152/is-everything-in-kotlin-an-object/57296412#57296412", "title": "Is everything in Kotlin an object?", "body": "<blockquote>\n  <p>The output is 5. But I think it should be 15</p>\n</blockquote>\n\n<p>We can walk through what's going on in this sample.</p>\n\n<pre><code>var x = 5\n</code></pre>\n\n<p>Create an <code>Int</code> object holding the value 5. Create a variable <code>x</code>, and make <code>x</code> point to this new <code>Int</code> object.</p>\n\n<pre><code>var y = x\n</code></pre>\n\n<p>Create a variable <code>y</code>, and make <code>y</code> point to whatever <code>x</code> is currently pointing to (the <code>Int</code> object).</p>\n\n<p>(Note that it is <em>not</em> the case that <code>x</code> and <code>y</code> are two names for the same pointer. Rather, <code>x</code> and <code>y</code> are totally distinct but both happen to point at the same thing.)</p>\n\n<pre><code>x = 15\n</code></pre>\n\n<p>Create an <code>Int</code> object holding the value 5. Make the <code>x</code> variable point to this new <code>Int</code> object.</p>\n\n<p>(This is the key point in the flow. When we assign <code>x = 15</code>, we are changing where <code>x</code> points, but we aren't affecting <code>y</code> at all. <code>y</code> still points to the same thing it used to (the <code>Int</code> holding 5)).</p>\n\n<pre><code>println(\"Hello, world!!! $y\")\n</code></pre>\n\n<p>Display something to the user. To determine what to substitue for <code>$y</code>, follow the pointer and see what it's pointing to. <code>y</code> was only ever assigned a value one time, so it still points to the first thing it ever pointed to (the <code>Int</code> holding 5).</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 10708446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cO7W4.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/10708446/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1564596042, "creation_date": 1564596042, "answer_id": 57296563, "question_id": 57296152, "link": "https://stackoverflow.com/questions/57296152/is-everything-in-kotlin-an-object/57296563#57296563", "title": "Is everything in Kotlin an object?", "body": "<p>To answer your first question, Everything to you the developer is an object or behaves like an object but at runtime for efficiency sake compiles down to primitive type.</p>\n\n<p>for the last one :</p>\n\n<pre><code>x = 5 //and let's say int 5 memory location is A235\n</code></pre>\n\n<p>so</p>\n\n<pre><code>y = x is synonymous to y = A235\n</code></pre>\n\n<p>then </p>\n\n<pre><code>x = 15\n</code></pre>\n\n<p>but y is still pointing to memory location A235 value</p>\n"}, {"tags": [], "owner": {"reputation": 2040, "user_id": 898018, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2b11453115f1e1ac9105c596642b7d34?s=128&d=identicon&r=PG", "display_name": "Hayk Melkonyan", "link": "https://stackoverflow.com/users/898018/hayk-melkonyan"}, "is_accepted": false, "score": 3, "last_activity_date": 1564598199, "creation_date": 1564598199, "answer_id": 57297027, "question_id": 57296152, "link": "https://stackoverflow.com/questions/57296152/is-everything-in-kotlin-an-object/57297027#57297027", "title": "Is everything in Kotlin an object?", "body": "<p>lets think they are objects and not primitives</p>\n\n<pre><code>var x = 10\n</code></pre>\n\n<p>assign reference of <code>10</code> to <code>x</code></p>\n\n<pre><code>var y = x\n</code></pre>\n\n<p>assign reference of <code>x</code> to <code>y</code></p>\n\n<pre><code>x = 5\n</code></pre>\n\n<p>assign reference of <code>5</code> to <code>x</code> \nso reference of <code>x</code> changed but <code>y</code> keeps reference of <code>10</code></p>\n\n<p>in another way </p>\n\n<p>if you can do something like this</p>\n\n<pre><code>x.changeSomeOfMyProperties()\n</code></pre>\n\n<p>then changes will be applied to <code>x</code> and <code>y</code> but, because they are primitives you cannot do that kind of thing.\nprimitives are classes in kotlin, so it is difficult to understand how they work, \nyou can check Primitives.kt</p>\n"}, {"comments": [{"owner": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "edited": false, "score": 0, "creation_date": 1564631066, "post_id": 57300132, "comment_id": 101096374, "body": "Thanks, but what does it mean, another HashCode? Is there an advantage of that?"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "reply_to_user": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "edited": false, "score": 1, "creation_date": 1564682253, "post_id": 57300132, "comment_id": 101121095, "body": "@TorbenG identity hash code returns hash based on memory address. If hash code is the same that means we referenced the exact same object. If it&#39;s not that means we got different objects."}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1564616500, "creation_date": 1564616500, "answer_id": 57300132, "question_id": 57296152, "link": "https://stackoverflow.com/questions/57296152/is-everything-in-kotlin-an-object/57300132#57300132", "title": "Is everything in Kotlin an object?", "body": "<p>All primitives are represented as their respective JVM types unless you specifically access them as or force them to be an object.</p>\n\n<p>For sake of showing what I mean, let's use <code>System.identityHashCode(Object)</code> function. Also using Int value > 127 to prevent object caching.</p>\n\n<p>Case 1: <strong>primitives</strong></p>\n\n<pre><code>fun main(){\n    var x = 128\n    var y = x\n    println(\"x: $x, ${System.identityHashCode(x)}\")\n    println(\"x: $x, ${System.identityHashCode(x)}\")\n    println(\"y: $y, ${System.identityHashCode(y)}\")\n\n    x = 200\n    println(\"x: $x, ${System.identityHashCode(x)}\")\n}\n\n/// output\nx: 128, 746292446\nx: 128, 1072591677\ny: 128, 1523554304\nx: 200, 1175962212\n</code></pre>\n\n<p>What we get here: <code>x</code> is a primitive <code>int</code> and is stored as such. when <code>y = x</code>, that means <code>y</code> is assigned same primitive value as <code>x</code>. There are no <code>Objects</code> allocated yet.</p>\n\n<p>When we use <code>System.identityHashCode(Object)</code> we get different hashes, even when we print <code>x</code> twice in a row. That's because <code>Int</code> wrapper objects are created on the spot where <code>Object</code> representation is needed.</p>\n\n<p>Case 2: <strong>object representation</strong></p>\n\n<pre><code>fun main() {\n    var x : Any = 128  // this is the only line that changed\n    var y = x\n    println(\"x: $x, ${System.identityHashCode(x)}\")\n    println(\"x: $x, ${System.identityHashCode(x)}\")\n    println(\"y: $y, ${System.identityHashCode(y)}\")\n\n    x = 200\n    println(\"x: $x, ${System.identityHashCode(x)}\")\n}\n\n/// output\nx: 128, 746292446\nx: 128, 746292446\ny: 128, 746292446\nx: 200, 1072591677\n</code></pre>\n\n<p>Here we force <code>x</code> to be represented as an <code>Object</code> by declaring field type as non-primitive. When we assign <code>x</code> to <code>y</code> that object reference is copied and we can see that by <code>identityHashCode</code> returning same hash in all prints.</p>\n"}, {"tags": [], "owner": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1564746023, "creation_date": 1564746023, "answer_id": 57325793, "question_id": 57296152, "link": "https://stackoverflow.com/questions/57296152/is-everything-in-kotlin-an-object/57325793#57325793", "title": "Is everything in Kotlin an object?", "body": "<p>But what is the difference to Java here? I think Java does the same with the primitive Variables like x and y. When we assign y to x in Java and we will change x after that, y has still the old value. Because it is a copy and not a reference.</p>\n\n<p>So the only difference between Kotlin and Java is I can call functions on primitive datatypes and give them properties like with objects?</p>\n"}], "owner": {"reputation": 622, "user_id": 4843155, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-UDOzw4iOdUE/AAAAAAAAAAI/AAAAAAAAADw/CiJCP9PE_zg/photo.jpg?sz=128", "display_name": "Torben G", "link": "https://stackoverflow.com/users/4843155/torben-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "answer_count": 5, "score": 5, "last_activity_date": 1564746023, "creation_date": 1564594167, "question_id": 57296152, "link": "https://stackoverflow.com/questions/57296152/is-everything-in-kotlin-an-object", "title": "Is everything in Kotlin an object?", "body": "<p>I have read this in several places. But don\u2019t really understand the meaning. You can read this short documentation on kotlinlang:</p>\n\n<p>\u201cIn Kotlin, everything is an object in the sense that we can call member functions and properties on any variable. Some of the types can have a special internal representation - for example, numbers, characters and booleans can be represented as primitive values at runtime - but to the user they look like ordinary classes.\u201c</p>\n\n<p>What is a special internal representation? What does it mean, can be represented as primitive values at runtime? </p>\n\n<p>Is it only the possibility to call conversion functions like toInt()? And the Extension Functions? </p>\n\n<p>Elsewhere I have read the following statement:</p>\n\n<p>\u201cFor primitive data types from java, kotlin has specialized array types like ByteArray\u201d. Does it mean that I can only create an Array in Kotlin with functions like intArrayOf(1, 2, 3) or IntArray(5)?</p>\n\n<p>Another statement that I find confusing from the book Head First Kotlin: </p>\n\n<p>\u201cWhen you declare a variable using code like: </p>\n\n<pre><code>var x = 5 \n</code></pre>\n\n<p>the value you\u2019re assigning to the variable is used to create a new object\u201d.</p>\n\n<p>\u201cWhen an object is assigned to a variable, the object itself doesn\u2019t go into the variable. A reference to the object goes into the variable instead:\u201d</p>\n\n<p><a href=\"https://i.stack.imgur.com/bQri5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bQri5.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the following code snippet does the same which I get with Java.</p>\n\n<pre><code>fun main() {\n    var x = 5\n    var y = x\n    x = 15\n    println(\"Hello, world!!! $y\")\n}\n</code></pre>\n\n<p>The output is 5. But I think it should be 15, because it is an object and a reference to it. Maybe I am a little bit stupid to understand Kotlin. \nThat is my understanding of variables and references and the administration of memory in programming languages like Java (or Kotlin).</p>\n\n<p><a href=\"https://i.stack.imgur.com/hW0Nc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hW0Nc.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "hibernate", "kotlin", "liquibase", "liquibase-hibernate"], "comments": [{"owner": {"reputation": 130, "user_id": 1117552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28abba5ec92c35ec3fa82805c21ac770?s=128&d=identicon&r=PG", "display_name": "Philipp Nowak", "link": "https://stackoverflow.com/users/1117552/philipp-nowak"}, "edited": false, "score": 0, "creation_date": 1568215579, "post_id": 57295547, "comment_id": 102206119, "body": "Had a similar issue, with an entity implementing an interface from a library. Solution was to include the library with <code>liquibaseRuntime</code> scope in Gradle. It needs the superclass in the classpath to be able to load the class."}], "owner": {"reputation": 1035, "user_id": 1761022, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QEA23.jpg?s=128&g=1", "display_name": "Sloth Armstrong", "link": "https://stackoverflow.com/users/1761022/sloth-armstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 518, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1564667401, "creation_date": 1564591508, "last_edit_date": 1564667401, "question_id": 57295547, "link": "https://stackoverflow.com/questions/57295547/liquibase-diff-unexpected-error-running-liquibase-unable-to-load-class-com-co", "title": "Liquibase diff: Unexpected error running Liquibase: Unable to load class [com.company.product.model.persist.Address]", "body": "<p>I am trying to use the <code>liquibase-hibernate</code> plugin to facilitate db migrations in my Kotlin project. My <code>build.gradle.kts</code> file is configured as follows:</p>\n\n<pre><code>plugins {\n    [...]\n    id(\"org.liquibase.gradle\") version \"2.0.1\"\n    [...]\n}\n</code></pre>\n\n<pre><code>dependencies {\n    [...]\n    liquibaseRuntime(\"org.liquibase:liquibase-core:3.6.2\")\n    liquibaseRuntime(\"org.liquibase.ext:liquibase-hibernate5:3.6\")\n    liquibaseRuntime(\"org.postgresql:postgresql\")\n    liquibaseRuntime(\"org.springframework.boot:spring-boot:2.1.6.RELEASE\")\n    liquibaseRuntime(\"org.springframework:spring-orm:5.1.8.RELEASE\")\n    liquibaseRuntime(\"ch.qos.logback:logback-classic:1.2.3\")\n\n    liquibaseRuntime(sourceSets.getByName(\"main\").output)\n    [...]\n}\n</code></pre>\n\n<pre><code>liquibase {\n    activities.register(\"main\") {\n        this.arguments = mapOf(\n                \"changeLogFile\" to \"src/main/resources/db/changelog/db.changelog-master.yaml\",\n                \"referenceUrl\" to \"hibernate:spring:com.company.product.model.persist?dialect=org.hibernate.dialect.PostgreSQL9Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&amp;hibernate.enhanced_id=true\",\n                \"url\" to \"jdbc:postgresql://localhost:5432/postgres\",\n                \"username\" to \"&lt;username&gt;\",\n                \"password\" to \"&lt;password&gt;\",\n                \"driver\" to \"org.postgresql.Driver\"\n        )\n    }\n    runList = \"main\"\n}\n</code></pre>\n\n<p>I also have an <code>Address.kt</code> file as follows:</p>\n\n<pre><code>package com.company.product.model.persist\n\nimport com.company.product.model.AbstractJpaPersistable\nimport javax.persistence.CascadeType\nimport javax.persistence.Entity\nimport javax.persistence.FetchType\n\n@Entity\nclass Address(\n        val street: String,\n        val zipCode: String,\n        val city: String\n) : AbstractJpaPersistable&lt;Long&gt;()\n</code></pre>\n\n<p>The issue I am running into is when running the <code>liquibase diff</code> command I am getting the following error:</p>\n\n<blockquote>\n  <p>Unexpected error running Liquibase: Unable to load class [com.company.product.model.persist.Address]</p>\n</blockquote>\n\n<p>I have verified that in <code>build/classes/kotlin/main/com/company/product/model/persist</code> there is a compiled <code>Address</code> class file.</p>\n\n<p>I have tried every configuration combination I can think of with no luck. I even tried pointing the <code>liquibaseRuntime</code> to <code>files(\"src/main\")</code> as documented by various users on <code>liquibase-hibernate</code>'s GitHub page with no luck. Any help is appreciated. Thanks!</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>This line is the issue: <code>: AbstractJpaPersistable&lt;Long&gt;()</code>.</p>\n\n<p>If I figure out why this is I will post back. In the meantime, here is the code:</p>\n\n<pre><code>package com.company.product.model\n\nimport org.springframework.data.domain.Persistable\nimport org.springframework.data.util.ProxyUtils\nimport java.io.Serializable\nimport javax.persistence.GeneratedValue\nimport javax.persistence.Id\nimport javax.persistence.MappedSuperclass\nimport javax.persistence.Transient\n\n/**\n * Abstract base class for entities. Allows parameterization of id type, chooses auto-generation and implements\n * [equals] and [hashCode] based on that id.\n *\n * This class was inspired by [org.springframework.data.jpa.domain.AbstractPersistable], which is part of the Spring Data project.\n */\n@MappedSuperclass\nabstract class AbstractJpaPersistable&lt;T : Serializable&gt; : Persistable&lt;T&gt; {\n\n    companion object {\n        private val serialVersionUID = -5554308939380869754L\n    }\n\n    @Id\n    @GeneratedValue\n    private var id: T? = null\n\n    override fun getId(): T? {\n        return id\n    }\n\n    /**\n     * Must be [Transient] in order to ensure that no JPA provider complains because of a missing setter.\n     *\n     * @see org.springframework.data.domain.Persistable.isNew\n     */\n    @Transient\n    override fun isNew() = null == getId()\n\n    override fun toString() = \"Entity of type ${this.javaClass.name} with id: $id\"\n\n    override fun equals(other: Any?): Boolean {\n        other ?: return false\n\n        if (this === other) return true\n\n        if (javaClass != ProxyUtils.getUserClass(other)) return false\n\n        other as AbstractJpaPersistable&lt;*&gt;\n\n        return if (null == this.getId()) false else this.getId() == other.getId()\n    }\n\n    override fun hashCode(): Int {\n        return 31\n    }\n}\n</code></pre>\n"}, {"tags": ["validation", "kotlin", "arrow-kt"], "answers": [{"tags": [], "owner": {"reputation": 1893, "user_id": 571787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff564544d0c3b13a07bcaced0a9ec8d?s=128&d=identicon&r=PG", "display_name": "BobG", "link": "https://stackoverflow.com/users/571787/bobg"}, "is_accepted": false, "score": 1, "last_activity_date": 1566850459, "creation_date": 1566850459, "answer_id": 57664394, "question_id": 57294629, "link": "https://stackoverflow.com/questions/57294629/kotlin-arrow-kt-missing-flatmap-on-validated-and-validatednel/57664394#57664394", "title": "Kotlin arrow-kt missing flatMap on Validated and ValidatedNel", "body": "<p>Validation only requires <code>Applicative</code> and <code>Monoid</code>; it does not require <code>Monad</code>.  Or, plainly speaking: things that validate data can occur in any order (<code>Applicative</code>) and multiple validations accumulate errors, usually by concatenating lists of errors (<code>Monoid</code>).  Validations are usually not dependent on each other or require a specific sequence of computations (<code>Monad</code>).</p>\n\n<p>Dependent validations are probably better expressed as an <code>Either</code> chain then converted to a <code>Validation</code> after the chain completes.</p>\n\n<p>The Scala Cats library has a good explanation here: <a href=\"https://typelevel.org/cats/datatypes/validated.html\" rel=\"nofollow noreferrer\">https://typelevel.org/cats/datatypes/validated.html</a></p>\n"}], "owner": {"reputation": 10239, "user_id": 273456, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/elCxp.jpg?s=128&g=1", "display_name": "Zordid", "link": "https://stackoverflow.com/users/273456/zordid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566850459, "creation_date": 1564588114, "question_id": 57294629, "link": "https://stackoverflow.com/questions/57294629/kotlin-arrow-kt-missing-flatmap-on-validated-and-validatednel", "title": "Kotlin arrow-kt missing flatMap on Validated and ValidatedNel", "body": "<p>I am really struggeling with the Validated types of the arrow library.</p>\n\n<p>What I don't get is: why is there no <code>flatMap</code> or <code>flatten</code> when working with Validated?</p>\n\n<p>I am coming from the \"Either world\" where this is no issue at all. But I need multiple errors combined, so my core validation type is <code>ValidatedNel&lt;Error, Data&gt;</code> in the end.</p>\n\n<p>In my code example, I have a function that produces an Either - I use these low-level steps to either create an element I need or an error.</p>\n\n<p>But to do a correct validation with all accumulated errors combined, I sooner or later need <code>ValidatedNel</code> types.</p>\n\n<pre><code>fun readData(): Either&lt;Error, DataA&gt; = ...\nfun DataA.validate(): ValidatedNel&lt;Error, DataB&gt; = ...\n\n[...]\n// here I need to fold to get my one Error to a Nel and to process the data to another type - this looks so ugly!\nval validated = readData().fold( { it.invalidNel() }, DataA::validate)\n</code></pre>\n\n<p>What I instead would like to have is:</p>\n\n<pre><code>fun readData(): ValidatedNel&lt;Error, DataA&gt; = ...\n\n// ...\nval validated = readData.flatMap(DataA::validate)\n</code></pre>\n\n<p>I simply don't understand why the Validation types do not support a simple operation like flatMap.</p>\n\n<p>Does anybody know what to do?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "okhttp", "interceptor"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8988931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215135928494462/picture?type=large", "display_name": "Thibault Charriere", "link": "https://stackoverflow.com/users/8988931/thibault-charriere"}, "edited": false, "score": 0, "creation_date": 1564653627, "post_id": 57295198, "comment_id": 101105511, "body": "You were right, it was rebuilding a new response with Okhttp with chain.proceed() inside the interceptor that worked rather than using another retrofit call that apparently didn&#39;t close it&#39;s own response."}], "tags": [], "owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "is_accepted": true, "score": 5, "last_activity_date": 1564590027, "creation_date": 1564590027, "answer_id": 57295198, "question_id": 57294403, "link": "https://stackoverflow.com/questions/57294403/is-there-a-problem-doing-another-api-call-inside-interceptor-in-android/57295198#57295198", "title": "Is there a problem doing another API call inside interceptor in Android?", "body": "<p>You can make the refresh token call inside the network interceptor like this</p>\n\n<pre><code>if (response.code() == 403) {\n            try {\n                val body = RequestBody.create(contentType, \"\")\n\n                val authRequest = request.newBuilder()\n                        .setDefaultHeaders()\n                        .addHeader(\"Authorization\", \"Your token\")\n                        .url(refreshtokenurl)\n                        .post(body)\n                        .build()\n                val tokenRefreshResponse = chain.proceed(authRequest)\n                if (tokenRefreshResponse.code() == 401 || tokenRefreshResponse.code() == 403) {\n                   //error in refreshing token\n                } else if (tokenRefreshResponse.code() == 200) {\n                   //save the new token and refresh token in preference and continue with the earlier request\n                    currentRequestResponse = chain.proceed(currentRequest.newBuilder()\n                                .setDefaultHeaders()\n                                .addHeader(your header)\n                                .build())\n                }\n            } catch (e: Exception) {\n\n            }\n\n        }\n\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8988931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215135928494462/picture?type=large", "display_name": "Thibault Charriere", "link": "https://stackoverflow.com/users/8988931/thibault-charriere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1189, "favorite_count": 0, "accepted_answer_id": 57295198, "answer_count": 1, "score": 4, "last_activity_date": 1564590027, "creation_date": 1564587308, "question_id": 57294403, "link": "https://stackoverflow.com/questions/57294403/is-there-a-problem-doing-another-api-call-inside-interceptor-in-android", "title": "Is there a problem doing another API call inside interceptor in Android?", "body": "<p>I have an issue where I am trying to refresh an access token inside my interceptor. I have read it is better to use an Authenticator for this issue, but the way my API works is that I get a 403 error for an unauthorized access token (not my design but gotta work with it). </p>\n\n<p>So I am trying to call the API endpoint to get a new access token inside my interceptor but it seems like the second API call creates an OKHTTP Response without closing it.</p>\n\n<pre><code>override fun intercept(chain: Interceptor.Chain?): Response {\n\n        var currentRequest = chain!!.request()\n        val currentRequestResponse = chain.proceed( currentRequest )\n\n        if ( currentRequestResponse.code() &gt;= HTTP_ERROR_CODE &amp;&amp; isNotLoginRequest( chain ) ) {\n\n            try {\n\n                // we check the response code, if there is 403 code we need to relog the user\n                // before executing the request\n                // try to reconnect the user with synchronous request\n\n\n                val userManager = UserManager.getInstance()\n\n                val clientId = getQueryParameter(UserService.CLIENT_ID_QUERY_KEY, currentRequest)\n                val redirectUri = getQueryParameter(UserService.REDIRECT_URI_QUERY_KEY, currentRequest)\n                val clientSecret = getQueryParameter(UserService.CLIENT_SECRET_QUERY_KEY, currentRequest)\n\n                // we get a new access token with a synchronous request\n                val accessToken = userManager.refreshToken(clientId, clientSecret, redirectUri)\n\n                currentRequest = rebuildRequestWithNewToken( accessToken, currentRequest )\n\n                return chain.proceed( currentRequest )\n\n            } catch (e: Throwable) {\n\n                e.printStackTrace()\n            }\n        }\n\n        return currentRequestResponse\n    }\n</code></pre>\n\n<p>I believe the problem comes from the userManager.refreshToken which is the API call to get the new access token.</p>\n\n<p>Here is the error I receive:</p>\n\n<p>java.lang.IllegalStateException: cannot make a new request because the previous response is still open: please call response.close()</p>\n"}, {"tags": ["android", "api", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564587429, "post_id": 57294241, "comment_id": 101083110, "body": "please post your <code>Weather</code> class"}, {"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564587910, "post_id": 57294241, "comment_id": 101083399, "body": "I just pasted for you."}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564587961, "post_id": 57294241, "comment_id": 101083421, "body": "show the response from the server please"}, {"owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "edited": false, "score": 0, "creation_date": 1564588417, "post_id": 57294241, "comment_id": 101083665, "body": "I pasted response from logs. You can check."}], "owner": {"reputation": 395, "user_id": 11056400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c73774b3f3d6bafa2c9e5150a671c71?s=128&d=identicon&r=PG&f=1", "display_name": "beginner992", "link": "https://stackoverflow.com/users/11056400/beginner992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564606817, "creation_date": 1564586842, "last_edit_date": 1564606817, "question_id": 57294241, "link": "https://stackoverflow.com/questions/57294241/openweathermap-api-and-the-null-weather-object", "title": "OpenWeatherMap API and the null Weather object", "body": "<p>I'm doing the weather app in Kotlin and I decided to use OpenWeatherMap API. I have problem with Weather object in my CurrentWeather class which is still null. I generated classes by library for Kotlin in Android Studio and Weather was a List. But there was a problem in logs - wrong type. So I changed type to the ArrayList and then type is ok, but in logs I see null for Weather. \nI've already used this in Java app and after change List to ArrayList API worked. I also checked API in Postman and there Weather works, so this is not an API error. What I'm doing wrong?</p>\n\n<p>EDIT:</p>\n\n<p>Ok, I know few new things. This is not a problem api. There is problem with storing an ArrayList in Room database. I found working Weather data inside profiler logs. I have to find way, how to save this kind of data in Room storage.\nCurrentWeather:</p>\n\n<pre><code>const val CURRENT_WEATHER_ID = 0\n\n@Entity(tableName = \"current_weather\")\ndata class CurrentWeather(\n@SerializedName(\"base\")\nval base: String,\n@Embedded(prefix = \"clouds_\")\nval clouds: Clouds,\n@SerializedName(\"cod\")\nval cod: Int,\n@Embedded(prefix = \"coord_\")\nval coord: Coord,\n@SerializedName(\"dt\")\nval dt: Int,\n@SerializedName(\"id\")\nval id: Int,\n@Embedded(prefix = \"main_\")\nval main: Main,\n@SerializedName(\"name\")\nval name: String,\n@Embedded(prefix = \"sys_\")\nval sys: Sys,\n@SerializedName(\"visibility\")\nval visibility: Int,\n@Expose\n@Embedded(prefix = \"weather_\")\nval weather: ArrayList&lt;Weather&gt;?,\n@Embedded(prefix = \"wind_\")\nval wind: Wind\n\n\n) {\n@PrimaryKey(autoGenerate = false)\nvar idKey: Int = CURRENT_WEATHER_ID\n}\n</code></pre>\n\n<p>Weather:</p>\n\n<pre><code>data class Weather(\n@SerializedName(\"description\")\nval description: String,\n@SerializedName(\"icon\")\nval icon: String,\n@SerializedName(\"id\")\nval id: Int,\n@SerializedName(\"main\")\nval main: String\n)\n</code></pre>\n\n<p>API: </p>\n\n<pre><code>{\n  \"coord\": {\"lon\": -122.08,\"lat\": 37.39},\n  \"weather\": [\n{\n  \"id\": 800,\n  \"main\": \"Clear\",\n  \"description\": \"clear sky\",\n  \"icon\": \"01d\"\n}\n],\n\"base\": \"stations\",\n\"main\": {\n\"temp\": 296.71,\n\"pressure\": 1013,\n\"humidity\": 53,\n\"temp_min\": 294.82,\n\"temp_max\": 298.71\n },\n \"visibility\": 16093,\n \"wind\": {\n \"speed\": 1.5,\n \"deg\": 350\n },\n \"clouds\": {\n \"all\": 1\n },\n \"dt\": 1560350645,\n \"sys\": {\n \"type\": 1,\n \"id\": 5122,\n \"message\": 0.0139,\n \"country\": \"US\",\n \"sunrise\": 1560343627,\n \"sunset\": 1560396563\n},\n\"timezone\": -25200,\n\"id\": 420006353,\n\"name\": \"Mountain View\",\n\"cod\": 200\n}\n</code></pre>\n\n<p>Response in logs:</p>\n\n<pre><code>CurrentWeather(base=stations, clouds=Clouds(all=20), cod=200,coord=Coord(lat=34.05, lon=-118.24), dt=1564585552, id=5368361, main=Main(humidity=88, pressure=1015, temp=19.91, tempMax=21.67, tempMin=18.33), name=Los Angeles, sys=Sys(country=US, id=3514, message=0.0119, sunrise=1564578205, sunset=1564628107, type=1), visibility=8047, weather=null, wind=Wind(deg=160.0, speed=2.1))\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 1190, "user_id": 2196138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B0JAG.jpg?s=128&g=1", "display_name": "Elli White", "link": "https://stackoverflow.com/users/2196138/elli-white"}, "edited": false, "score": 0, "creation_date": 1564586863, "post_id": 57293940, "comment_id": 101082790, "body": "Have you tried removing <code>kapt</code> line from your build.gradle? Should only be there if you are using Kotlin in your app."}, {"owner": {"reputation": 1658, "user_id": 1944894, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9a75cc029867db975cce492af8fb199?s=128&d=identicon&r=PG", "display_name": "Nidhin", "link": "https://stackoverflow.com/users/1944894/nidhin"}, "reply_to_user": {"reputation": 1190, "user_id": 2196138, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B0JAG.jpg?s=128&g=1", "display_name": "Elli White", "link": "https://stackoverflow.com/users/2196138/elli-white"}, "edited": false, "score": 0, "creation_date": 1564637612, "post_id": 57293940, "comment_id": 101097847, "body": "I am using Kotlin also in my project.I tried without kapt but I am getting error android - Room + cannot find implementation DB + DB_Impl does not exist  at runtime."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11928256, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0hVcuaFTamM/AAAAAAAAAAI/AAAAAAAAKIk/STanv5_Ku5s/photo.jpg?sz=128", "display_name": "Oliver Scott", "link": "https://stackoverflow.com/users/11928256/oliver-scott"}, "is_accepted": false, "score": 1, "last_activity_date": 1565798793, "creation_date": 1565798793, "answer_id": 57498364, "question_id": 57293940, "link": "https://stackoverflow.com/questions/57293940/error-kapt-java-lang-illegalargumentexception-androidx-room-columninfo-doe/57498364#57498364", "title": "Error : [kapt] java.lang.IllegalArgumentException: @androidx.room.ColumnInfo does not define an element defaultValue()", "body": "<p>your versions mismatch. defaultValue was introduced in 2.2.0 (<a href=\"https://developer.android.com/jetpack/androidx/releases/room#2.2.0-alpha01\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/room#2.2.0-alpha01</a>)</p>\n\n<pre><code>implementation 'androidx.room:room-runtime:2.2.0-alpha01'\nannotationProcessor 'androidx.room:room-compiler:2.2.0-alpha01'\nkapt \"androidx.room:room-compiler:2.2.0-alpha01\"\n</code></pre>\n"}], "owner": {"reputation": 1658, "user_id": 1944894, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/f9a75cc029867db975cce492af8fb199?s=128&d=identicon&r=PG", "display_name": "Nidhin", "link": "https://stackoverflow.com/users/1944894/nidhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565798793, "creation_date": 1564585797, "question_id": 57293940, "link": "https://stackoverflow.com/questions/57293940/error-kapt-java-lang-illegalargumentexception-androidx-room-columninfo-doe", "title": "Error : [kapt] java.lang.IllegalArgumentException: @androidx.room.ColumnInfo does not define an element defaultValue()", "body": "<p>My gradle contain these dependencies</p>\n\n<pre><code>implementation 'androidx.room:room-runtime:2.1.0'\nannotationProcessor 'androidx.room:room-compiler:2.1.0'\nkapt \"androidx.room:room-compiler:2.2.0-alpha01\"\n</code></pre>\n\n<p>And My model class is</p>\n\n<pre><code>    @Entity(tableName = \"SubjectDetail\")\n    public class SubjectDetail implements Parcelable {\n\n        @PrimaryKey\n        @SerializedName(\"id\")\n        @ColumnInfo(name = \"id\")\n        @Expose\n        private int id=0;\n\n        @ColumnInfo(name = \"medium\")\n        @SerializedName(\"medium\")\n        @Expose\n        private String medium=\"\";\n\n        @ColumnInfo(name = \"class\")\n        @SerializedName(\"class\")\n        @Expose\n        private String standard=\"\";\n\n        @ColumnInfo(name = \"subject\")\n        @SerializedName(\"subject\")\n        @Expose\n        private String subject=\"\";\n\n        @ColumnInfo(name = \"part1\")\n        @SerializedName(\"part1\")\n        @Expose\n        private String part1=\"\";\n\n        @ColumnInfo(name = \"partt2\")\n        @SerializedName(\"partt2\")\n        @Expose\n        private String partt2=\"\";\n\n        @ColumnInfo(name = \"part3\")\n        @SerializedName(\"part3\")\n        @Expose\n        private String part3=\"\";\n\n        @ColumnInfo(name = \"downloadurl1\")\n        @SerializedName(\"downloadurl1\")\n        @Expose\n        private String downloadurl1=\"\";\n\n        @ColumnInfo(name = \"downloadurl2\")\n        @SerializedName(\"downloadurl2\")\n        @Expose\n        private String downloadurl2=\"\";\n\n        @ColumnInfo(name = \"downloadurl3\")\n        @SerializedName(\"downloadurl3\")\n        @Expose\n        private String downloadurl3=\"\";\n\n        @SerializedName(\"created_at\")\n        @Expose\n        @ColumnInfo(name = \"createdAt\")\n        private String createdAt;\n\n        @SerializedName(\"updated_at\")\n        @Expose\n        @ColumnInfo(name = \"updatedAt\")\n        private String updatedAt;\n\n\n}\n</code></pre>\n\n<p>Log details</p>\n\n<blockquote>\n  <p>Task :app:kaptProductionDebugKotlin FAILED e: [kapt] An exception\n  occurred: java.lang.IllegalArgumentException:\n  @androidx.room.ColumnInfo does not define an element defaultValue()\n    at\n  com.google.auto.common.AnnotationMirrors.getAnnotationElementAndValue(AnnotationMirrors.java:134)\n    at\n  com.google.auto.common.AnnotationMirrors.getAnnotationValue(AnnotationMirrors.java:114)\n    at androidx.room.ext.Element_extKt.box(element_ext.kt:120)  at\n  androidx.room.ext.Element_extKt.toAnnotationBox(element_ext.kt:166)\n    at\n  androidx.room.processor.FieldProcessor.process(FieldProcessor.kt:42)\n    at\n  androidx.room.processor.PojoProcessor.doProcess(PojoProcessor.kt:171)\n    at\n  androidx.room.processor.PojoProcessor.access$doProcess(PojoProcessor.kt:76)\n    at\n  androidx.room.processor.PojoProcessor$process$1.invoke(PojoProcessor.kt:129)\n    at\n  androidx.room.processor.PojoProcessor$process$1.invoke(PojoProcessor.kt:76)\n    at androidx.room.processor.cache.Cache$Bucket.get(Cache.kt:49)  at\n  androidx.room.processor.PojoProcessor.process(PojoProcessor.kt:126)\n    at\n  androidx.room.processor.TableEntityProcessor.doProcess(TableEntityProcessor.kt:93)\n    at\n  androidx.room.processor.TableEntityProcessor.access$doProcess(TableEntityProcessor.kt:47)\n    at\n  androidx.room.processor.TableEntityProcessor$process$1.invoke(TableEntityProcessor.kt:56)\n    at\n  androidx.room.processor.TableEntityProcessor$process$1.invoke(TableEntityProcessor.kt:47)\n    at androidx.room.processor.cache.Cache$Bucket.get(Cache.kt:49)  at\n  androidx.room.processor.TableEntityProcessor.process(TableEntityProcessor.kt:55)\n    at\n  androidx.room.processor.DatabaseProcessor.processEntities(DatabaseProcessor.kt:286)\n    at\n  androidx.room.processor.DatabaseProcessor.doProcess(DatabaseProcessor.kt:66)\n    at\n  androidx.room.processor.DatabaseProcessor.process(DatabaseProcessor.kt:57)\n    at</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "mobile", "webview"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1564584559, "post_id": 57293430, "comment_id": 101081395, "body": "Error is still the same: <b>Error: The file name must end with .xml</b>  Nonsence..."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1564584752, "post_id": 57293430, "comment_id": 101081545, "body": "Where are you getting the error? Is this a compile error? Is it a runtime error? If it is a runtime error, where is the error appearing (in the <code>WebView</code>? in Logcat? somewhere else?)?"}, {"owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "edited": false, "score": 0, "creation_date": 1564584949, "post_id": 57293430, "comment_id": 101081682, "body": "Fixed :) Just had to close / open android studio &lt;3"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 0, "last_activity_date": 1564584221, "creation_date": 1564584221, "answer_id": 57293430, "question_id": 57293287, "link": "https://stackoverflow.com/questions/57293287/cannot-load-html-file-into-webview/57293430#57293430", "title": "Cannot load html file into Webview", "body": "<p>Remove the trailing <code>s</code> in <code>android_assets</code>:</p>\n\n<pre><code>myWebView.loadUrl(\"file:///android_asset/myhtml.html\")\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 11829277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7118318530de68e4934039e544e2390?s=128&d=identicon&r=PG&f=1", "display_name": "CallMePedro", "link": "https://stackoverflow.com/users/11829277/callmepedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564584221, "creation_date": 1564583802, "last_edit_date": 1564584108, "question_id": 57293287, "link": "https://stackoverflow.com/questions/57293287/cannot-load-html-file-into-webview", "title": "Cannot load html file into Webview", "body": "<p>I cannot load my own <code>HTML</code> file into <code>webView</code>. I put my index.html file in the assets folder and trying to load it like this:</p>\n\n<blockquote>\n  <p>myWebView.loadUrl(\"file:///android_assets/myhtml.html\")</p>\n</blockquote>\n\n<p>Then it gives me an error: The file name must end with .xml</p>\n"}, {"tags": ["android", "maven", "gradle", "kotlin"], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1564583576, "creation_date": 1564583576, "question_id": 57293226, "link": "https://stackoverflow.com/questions/57293226/how-to-write-a-custom-mavenartifactrepositorycontainer", "title": "How to write a custom mavenArtifactRepositoryContainer?", "body": "<p>In my Android project I am maintaining the URL to a local Maven server in a few places in <code>build.gradle</code> files:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>buildscript {\n    repositories {\n        maven { url \"https://example.com/nexus/content/groups/com.example.android.public/\" }\n    }\n}\n</code></pre>\n\n<p>I also maintain dependencies in a Kotlin class within the <code>buildSrc</code> folder:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>object Plugins {\n    private object Versions {\n        const val android = \"3.4.2\"\n    }\n    const val android = \"com.android.tools.build:gradle:${Versions.android}\"\n}\n</code></pre>\n\n<p>Is there a way I can define a <code>mavenCompany</code> variable in the <code>buildSrc</code> Kotlin file and invoke it from the <code>build.gradle</code> file(s) in my modules? Basically, I want the same as <code>mavenLocal()</code>. One of the related files is <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/ArtifactRepositoryContainer.html\" rel=\"nofollow noreferrer\"><code>org.gradle.api.artifacts.ArtifactRepositoryContainer</code></a> which defines a few constants:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface ArtifactRepositoryContainer extends \n                                    NamedDomainObjectList&lt;ArtifactRepository&gt;, \n                                    Configurable&lt;ArtifactRepositoryContainer&gt; {\n    String DEFAULT_MAVEN_CENTRAL_REPO_NAME = \"MavenRepo\";\n    String DEFAULT_MAVEN_LOCAL_REPO_NAME = \"MavenLocal\";\n    String MAVEN_CENTRAL_URL = \"https://repo.maven.apache.org/maven2/\";\n    String GOOGLE_URL = \"https://dl.google.com/dl/android/maven2/\";\n</code></pre>\n\n<p>I could not figure out how to write my own.</p>\n"}, {"tags": ["android", "performance", "kotlin", "notifications"], "comments": [{"owner": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564583153, "post_id": 57292988, "comment_id": 101080463, "body": "Use firebase Messaging Service with timed schedule"}, {"owner": {"reputation": 401, "user_id": 11053269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SM_ks3UHo9c/AAAAAAAAAAI/AAAAAAAAHb8/5Jo1Z1UW5rE/photo.jpg?sz=128", "display_name": "Luke Redmore", "link": "https://stackoverflow.com/users/11053269/luke-redmore"}, "reply_to_user": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564583318, "post_id": 57292988, "comment_id": 101080575, "body": "That only supports one message body, right? Sorry, I clarified that the content needs to be different everyday."}, {"owner": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564583546, "post_id": 57292988, "comment_id": 101080731, "body": "You can send up to 15000 Messages per Minute each with up to 100 Receivers. If you want to have 1 Message create multiple Notifications you can use a Payload instead of a Message and create Notifications out of the given payload, but using 50 Alarmmanagers to make Notifications is a bad idea"}], "owner": {"reputation": 401, "user_id": 11053269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SM_ks3UHo9c/AAAAAAAAAAI/AAAAAAAAHb8/5Jo1Z1UW5rE/photo.jpg?sz=128", "display_name": "Luke Redmore", "link": "https://stackoverflow.com/users/11053269/luke-redmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564583270, "creation_date": 1564582779, "last_edit_date": 1564583270, "question_id": 57292988, "link": "https://stackoverflow.com/questions/57292988/will-setting-about-50-alarmmanagers-at-once-have-a-negative-effect-on-battery-li", "title": "Will setting about 50 AlarmManagers at once have a negative effect on battery life?", "body": "<p>So I need to send a notification with different content every day at the same time. We don't really have the resources to make them push, so they are queued locally like this:</p>\n\n<pre><code>for (date in allDateStrings) { //Formatted as MM/dd/yyyy, up to 50 values\n    val sampleNotificationContent = \"This notification is shown on $date\"\n\n    //WHEN\n    val dateWithTimeFormatter = SimpleDateFormat(\"MM/dd/yyyy HH:mm\")\n    val dateWithTime = dateWithTimeFormatter.parse(\"$date 07:00\")\n    val timeInMillisUntilNotifShouldDeliver = dateWithTime.time\n\n    //REQUEST\n    val notificationIntent = Intent(\"android.media.action.DISPLAY_NOTIFICATION\")        \n    notificationIntent.addCategory(\"android.intent.category.DEFAULT\")\n    notificationIntent.putExtra(\"body\", sampleNotificationContent)\n    notificationIntent.putExtra(\"requestCode\", date.replace(\"/\", \"\").toInt())\n\n    //BROADCAST\n    val broadcast = PendingIntent.getBroadcast(context, requestCode, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT)\n    if (timeInMillisUntilNotifShouldDeliver &gt; Calendar.getInstance().time.time) {\n        val alarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        alarmManager.setExact(AlarmManager.RTC_WAKEUP, timeInMillisUntilNotifShouldDeliver, broadcast)\n    }\n}\n</code></pre>\n\n<p>Up to 50 are queued at once, since we don't expect a large portion of users to actually open the app any more frequently than once every 50 days. The broadcasts are handled by a subclass of BroadcastReceiver and display successfully. Is there a better way to do this? I feel like I'm wasting a lot of battery with dozens of alarms being set at once. Do you think this would have a noticeable impact on performance or is it a non-issue?</p>\n"}, {"tags": ["java", "jpa", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 98, "user_id": 6786577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/593a06626434776fa56afd50d779ee50?s=128&d=identicon&r=PG&f=1", "display_name": "user6786577", "link": "https://stackoverflow.com/users/6786577/user6786577"}, "is_accepted": true, "score": 4, "last_activity_date": 1565858807, "creation_date": 1565858807, "answer_id": 57507102, "question_id": 57292973, "link": "https://stackoverflow.com/questions/57292973/create-jpa-specification-object-in-kotlin/57507102#57507102", "title": "Create JPA Specification object in Kotlin", "body": "<p>in the last line you shoul write something like</p>\n\n<pre><code>return Specification{ root, cq, cb -&gt; cb.equal(root.get(\"name\"), name) }\n</code></pre>\n\n<p>Best,\nPhilipp</p>\n"}], "owner": {"reputation": 748, "user_id": 8815160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6a3a80f07f1a3b8cd2b75e2c9a540ef9?s=128&d=identicon&r=PG&f=1", "display_name": "J. Adam", "link": "https://stackoverflow.com/users/8815160/j-adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 0, "accepted_answer_id": 57507102, "answer_count": 1, "score": 0, "last_activity_date": 1565858807, "creation_date": 1564582755, "last_edit_date": 1564584702, "question_id": 57292973, "link": "https://stackoverflow.com/questions/57292973/create-jpa-specification-object-in-kotlin", "title": "Create JPA Specification object in Kotlin", "body": "<p>I want to filter on a specific name by using JPA Specifications.</p>\n\n<p>My Repository extends from JpaSpecificationExecutor&lt;>.</p>\n\n<p>I can't figur out how to make a Specification Object. I got the following code:</p>\n\n<pre><code>@Service\nclass FlightService(private val flightRepository: FlightRepository,\n                   private val em: EntityManager) {\n\nfun hasName(name: String): Specification&lt;Flight&gt; {\n    val cb = em.criteriaBuilder\n    val cq = cb.createQuery(Flight::class.java)\n    val root : Root&lt;Flight&gt; = cq.from(Flight::class.java)\n    return { root, cq, cb -&gt; cb.equal(root.get(\"name\"), name) }\n}\n</code></pre>\n\n<p>Any idea what i'm doing here wrong? I need this specification object for the findAll method.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext", "kotlin.notimplementederror"], "comments": [{"owner": {"reputation": 93, "user_id": 995276, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/071ce6e1ab0753809068a91393c89799?s=128&d=identicon&r=PG", "display_name": "MBDevelop", "link": "https://stackoverflow.com/users/995276/mbdevelop"}, "edited": false, "score": 0, "creation_date": 1564587981, "post_id": 57292932, "comment_id": 101083431, "body": "<a href=\"https://stackoverflow.com/a/50503854/995276\">Try to look at this post in stackoverflow</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "is_accepted": true, "score": 2, "last_activity_date": 1564602349, "last_edit_date": 1564602349, "creation_date": 1564597548, "answer_id": 57296875, "question_id": 57292932, "link": "https://stackoverflow.com/questions/57292932/kotlin-notimplementederror-an-operation-is-not-implemented-with-addtextchangedl/57296875#57296875", "title": "kotlin.NotImplementedError: An operation is not implemented with addTextChangedListenerher on EditText", "body": "<p>Remove <code>TODO(\"not implemented\")</code> leaving <code>beforeTextChanged() { }</code> with an empty body if you're not going to use the callback.</p>\n"}], "owner": {"reputation": 791, "user_id": 10047954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rhq2U.png?s=128&g=1", "display_name": "hewa jalal", "link": "https://stackoverflow.com/users/10047954/hewa-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 57296875, "answer_count": 1, "score": 3, "last_activity_date": 1564602349, "creation_date": 1564582659, "last_edit_date": 1564602201, "question_id": 57292932, "link": "https://stackoverflow.com/questions/57292932/kotlin-notimplementederror-an-operation-is-not-implemented-with-addtextchangedl", "title": "kotlin.NotImplementedError: An operation is not implemented with addTextChangedListenerher on EditText", "body": "<p>When I call <code>addTextChangedListener(textWacther)</code> on my <code>EditText</code> and try to run the app, it just closes when something entered in that field. \nIsn't my way of enabling the button back correct?</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nlateinit var num1TextE: EditText\nlateinit var resultText: TextView\nlateinit var plusBtn: Button\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    num1TextE = findViewById(R.id.firstNum_TextE)\n    plusBtn = findViewById(R.id.plus_btn)\n    resultText = findViewById(R.id.result_TextV)\n    resultText.visibility = View.GONE\n\n    plusBtn.isClickable= false\n    plusBtn.isEnabled = false\n    num1TextE.addTextChangedListener(textWatcher)\n\n    plusBtn.setOnClickListener {\n        var num1 = num1TextE.text.toString().toInt()\n        var num2 = num2TextE.text.toString().toInt()\n        resultText.visibility = View.VISIBLE\n        resultText.text = \"Result is ${num1 + num2}\"\n   }\n}\n\nvar textWatcher = object : TextWatcher {\n    override fun afterTextChanged(p0: Editable?) {\n\n    }\n\n    override fun beforeTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onTextChanged(p0: CharSequence?, p1: Int, p2: Int, p3: Int) {\n        var test: String = num1TextE.text.toString()\n        if(! test.isEmpty()) {\n            plusBtn.isClickable = true\n            plusBtn.isEnabled = true\n        }\n       }\n    }\n}\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>2019-07-31 17:02:01.633 3078-3078/com.example.mycalculator E/InputEventSender: Exception dispatching finished signal.\n2019-07-31 17:02:01.633 3078-3078/com.example.mycalculator E/MessageQueue-JNI: Exception in MessageQueue callback: handleReceiveCallback\n2019-07-31 17:02:01.637 3078-3078/com.example.mycalculator E/MessageQueue-JNI: kotlin.NotImplementedError: An operation is not implemented: not implemented\n    at com.example.mycalculator.MainActivity$textWatcher$1.beforeTextChanged(MainActivity.kt:101)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-location", "android-maps-v2"], "comments": [{"owner": {"reputation": 758, "user_id": 7726613, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9331bc8e3c6ca3a0e7b86d09a77503db?s=128&d=identicon&r=PG&f=1", "display_name": "DennisN", "link": "https://stackoverflow.com/users/7726613/dennisn"}, "edited": false, "score": 0, "creation_date": 1564579542, "post_id": 57291710, "comment_id": 101078031, "body": "Did you revoke the location permission for your app or did you just turn off the location setting?"}, {"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 2, "creation_date": 1564579553, "post_id": 57291710, "comment_id": 101078037, "body": "Permission doesn&#39;t mean location is on.  It means you have the ability to use location.  The location subsystem can still be off.  If you didn&#39;t have permission, then even if location was on you wouldn&#39;t be able to get it.  These are two separate concepts."}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1564579899, "post_id": 57291710, "comment_id": 101078252, "body": "And how to check in realtime if user turned off location? Because GoogleMap showed me some dialog window if I do that (not permission dialog). But I need inform user about it"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564580958, "post_id": 57291710, "comment_id": 101078978, "body": "I hope you will find this helpful <a href=\"https://stackoverflow.com/questions/2021176/how-can-i-check-the-current-status-of-the-gps-receiver\" title=\"how can i check the current status of the gps receiver\">stackoverflow.com/questions/2021176/&hellip;</a>"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564579046, "creation_date": 1564579046, "question_id": 57291710, "link": "https://stackoverflow.com/questions/57291710/location-permission-is-true-if-i-turn-off-location-in-my-settings", "title": "Location permission is true if I turn off location in my settings", "body": "<p>I have app where I'm using <code>GoogleMaps</code>. Normally if you run app for a first time or you will not allow location permission, it will show you dialog and warning message. But if I turn off location in my settings for every app on phone, it will check location permission and location permission was granted. Shouldn't this location permission turned off when I turn off global location in my settings?</p>\n\n<p>Function checking if user has location permission:</p>\n\n<pre><code>val hasLocationPermission get() =\n        ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED\n</code></pre>\n"}, {"tags": ["android", "kotlin", "scrollview"], "owner": {"reputation": 71, "user_id": 11662407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d89ca765926c34d8ef9bab279353f36?s=128&d=identicon&r=PG&f=1", "display_name": "coding.cat3", "link": "https://stackoverflow.com/users/11662407/coding-cat3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1564577020, "creation_date": 1564576954, "last_edit_date": 1564577020, "question_id": 57291016, "link": "https://stackoverflow.com/questions/57291016/attempt-to-invoke-virtual-method-void-android-view-velocitytracker-clear-on", "title": "Attempt to invoke virtual method &#39;void android.view.VelocityTracker.clear()&#39; on a null object reference", "body": "<pre><code>Fatal Exception: java.lang.NullPointerException\nAttempt to invoke virtual method 'void android.view.VelocityTracker.clear()' on a null object reference\n</code></pre>\n\n<p>I've searched throughout the code , not using velocity tracker anywhere</p>\n\n<pre><code>Fatal Exception: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.VelocityTracker.clear()' on a null object reference \nat android.widget.ScrollView.onTouchEvent + 695(ScrollView.java:695)\nat android.view.View.dispatchTouchEvent + 11777(View.java:11777)\nat android.view.ViewGroup.dispatchTransformedTouchEvent +2962(ViewGroup.java:2962)\nat android.view.ViewGroup.dispatchTouchEvent + 2643(ViewGroup.java:2643)\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564771631, "post_id": 57290753, "comment_id": 101153849, "body": "look at my answer here, please consider giving it an upvote if it ends up helping you out : <a href=\"https://stackoverflow.com/questions/57330766/how-to-get-data-from-any-asynchronous-operation-in-android/57330767#57330767\" title=\"how to get data from any asynchronous operation in android\">stackoverflow.com/questions/57330766/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 0, "creation_date": 1564586467, "post_id": 57291004, "comment_id": 101082594, "body": "Thank you very much for those awesome informations, can you please form a code in kotlin for me to solve this problem ? i tried yours but i think i did not understand it well please help me"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 1, "creation_date": 1564586730, "post_id": 57291004, "comment_id": 101082719, "body": "I cannot code for you. You should make your own attempt given the information in the answer and ask another question if something else comes up. I can give you another example in <a href=\"https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin/51595202\">Kotlin</a>. It is for Cloud Firestore but same rules apply to Firebase realtime database."}, {"owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 0, "creation_date": 1564587938, "post_id": 57291004, "comment_id": 101083408, "body": "i will not approve you answer till you an explanation code like you did with the others,  i want that the solution will have a good effective for all future users"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 2, "creation_date": 1564588275, "post_id": 57291004, "comment_id": 101083582, "body": "Stack Overflow it&#39;s <b>not</b> a code writing service. As I already said, you should make your own attempt to solve this. As I invest some time and effort to write you an answer you should also take some time to solve your own problem. And if you&#39;ll think that my answer helped you, you can accept it."}, {"owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 0, "creation_date": 1564593885, "post_id": 57291004, "comment_id": 101086235, "body": "i&#39;m sorry, i don&#39;t want to be rude with you...i tried your code but i still have the same problem i can&#39;t use the returned from readData() outer...i want to use it an if expression but out of the readData fun..i will add the code to my question as i understood from you"}, {"owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 0, "creation_date": 1564594150, "post_id": 57291004, "comment_id": 101086343, "body": "check it now please!"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "edited": false, "score": 0, "creation_date": 1564610019, "post_id": 57291004, "comment_id": 101092483, "body": "There is no way you can use it outside. Everything should be read inside."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 1, "last_activity_date": 1564576918, "creation_date": 1564576918, "answer_id": 57291004, "question_id": 57290753, "link": "https://stackoverflow.com/questions/57290753/how-to-get-data-from-firebase-using-kotlin/57291004#57291004", "title": "How to get Data from Firebase using Kotlin?", "body": "<p>The following line of code does not giving your anything because it is placed outside the callback:</p>\n\n<pre><code>Log.i(\"************************* myFirstDayReg\", myFirstDay)\n</code></pre>\n\n<p>By the time this line is called, the data isn't finished loaded from the database. Remember, Firebase APIs are asynchronous, meaning that <code>onDataChange()</code> method returns immediately after it's invoked, but the result that you get from the database comes some time later. There are no guarantees about how long it will take. So it may take from a few hundred milliseconds to a few seconds before the data is available. Because that method returns immediately, the value of your <code>myFirstDay</code> variable you're trying to use it outside the <code>onDataChange()</code> method, will not have been populated from the callback yet.</p>\n\n<p>Basically, you're trying to use the value of <code>myFirstDay</code> synchronously from an API that's asynchronous. That's not a good idea. You should handle the APIs asynchronously as intended.</p>\n\n<p>A quick solve for this problem would be to use <code>myFirstDay</code> only inside the callback, otherwise I recommend you see the last part of my anwser from this <strong><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">post</a></strong> in which I have explained how it can be done using a custom callback. You can also take a look at this <strong><a href=\"https://www.youtube.com/watch?v=OvDZVV5CbQg\" rel=\"nofollow noreferrer\">video</a></strong> for a better understanding.</p>\n"}, {"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1564909255, "post_id": 57331950, "comment_id": 101178406, "body": "This is <b>not</b> how you deal with asynchronous programming. I don&#39;t recommend this solution to future visitors at all. What will you do if the operation for getting data will take more than 5 seconds?"}], "tags": [], "owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "is_accepted": true, "score": -1, "last_activity_date": 1564771489, "creation_date": 1564771489, "answer_id": 57331950, "question_id": 57290753, "link": "https://stackoverflow.com/questions/57290753/how-to-get-data-from-firebase-using-kotlin/57331950#57331950", "title": "How to get Data from Firebase using Kotlin?", "body": "<p>According to what my friend Alex says, i made my code inside a handler for just 5 seconds and now everything is working fine:</p>\n\n<pre><code>Handler().postDelayed({\n   // Your Code\n },5000)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 10980547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a22c040c280eb1801973d356edd3977?s=128&d=identicon&r=PG&f=1", "display_name": "WIKOSO", "link": "https://stackoverflow.com/users/10980547/wikoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "closed_date": 1564909432, "accepted_answer_id": 57331950, "answer_count": 2, "score": 0, "last_activity_date": 1564771489, "creation_date": 1564576124, "last_edit_date": 1564594124, "question_id": 57290753, "link": "https://stackoverflow.com/questions/57290753/how-to-get-data-from-firebase-using-kotlin", "closed_reason": "Duplicate", "title": "How to get Data from Firebase using Kotlin?", "body": "<p>I'm trying to get an information ('firstDate') saved in firebase using this code:</p>\n\n<pre><code>if(currentUser != null){\n    val ref = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().currentUser!!.uid)\n\n    val menuListener = object : ValueEventListener {\n        override fun onCancelled(databaseError: DatabaseError) {\n            // handle error\n        }\n        @SuppressLint(\"SetTextI18n\", \"LongLogTag\")\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            user = dataSnapshot.getValue(User::class.java)\n            Log.i(\"************************* before Assignement\", myFirstDay)\n            myFirstDay = user?.firstDate\n            Log.i(\"************************* after Assignement\", myFirstDay)\n        }\n    }\n    ref.addValueEventListener(menuListener)\n}\ngetFirstDayReg()\n\nLog.i(\"************************* myFirstDayReg\", myFirstDay)\n</code></pre>\n\n<p><strong>The problem:</strong>\nanything before ref.addValueEventListener(menuListener) returns the correct answer but this one : </p>\n\n<pre><code>    Log.i(\"************************* myFirstDayReg\", myFirstDay)\n</code></pre>\n\n<p>It does not giving me anything (no return / nothing at all )</p>\n\n<blockquote>\n  <p>Please help to get the value user?.firstDate and assigned in\n  <code>myFirstDay</code> because I need to use it later on my code.</p>\n</blockquote>\n\n<p>According to Mr. Alex answer i made this code but i still have the same problem nothing changed</p>\n\n<pre><code>interface MyCallback {\n    fun onCallback(value: String)\n}\nfun readData(myCallback: MyCallback){\n        if(currentUser != null){\n            val ref = FirebaseDatabase.getInstance().getReference(\"Users\").child(FirebaseAuth.getInstance().currentUser!!.uid)\n\n        val menuListener = object : ValueEventListener {\n            override fun onCancelled(databaseError: DatabaseError) {\n                // handle error\n            }\n            @SuppressLint(\"SetTextI18n\", \"LongLogTag\")\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                user = dataSnapshot.getValue(User::class.java)\n                Log.i(\"************************* before Assignement\", user?.firstDate!!)\n                myFirstDay = user?.firstDate!!\n                myCallback.onCallback(user?.firstDate!!)\n\n            }\n        }\n        ref.addListenerForSingleValueEvent(menuListener)\n    }\n}\n\nreadData(object: MyCallback {\n    override fun onCallback(value: String) {\n        Log.d(\"TAGTAGTAGTAGTAGTAGTAG\", user?.firstDate)\n    }\n})\n</code></pre>\n"}, {"tags": ["java", "api", "kotlin", "java-8", "frameworks"], "comments": [{"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1564738743, "post_id": 57290146, "comment_id": 101137925, "body": "Repeatability and dependency handling are the most important reasons for using gradle or maven. Or any other build automation tool for that matter."}], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1564593444, "post_id": 57294224, "comment_id": 101086077, "body": "But the question specifically said \u201cwithout any build tool like Maven\u201d."}, {"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1564595095, "post_id": 57294224, "comment_id": 101086767, "body": "@gidds Depends how he means without Maven. I suppose he just can&#39;t / doesn&#39;t want to add Maven to his old project. I am suggesting creation of a new empty Maven project for the sole purpose of downloading the dependencies."}], "tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 0, "last_activity_date": 1564586805, "creation_date": 1564586805, "answer_id": 57294224, "question_id": 57290146, "link": "https://stackoverflow.com/questions/57290146/installing-a-framework-without-maven-or-gradle/57294224#57294224", "title": "Installing a framework without maven or gradle", "body": "<p>Well you could create a Maven project and use it to download the dependencies for you.</p>\n\n<p><a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\">Maven dependency plugin</a> might be useful. With it you could just call:</p>\n\n<pre><code>mvn dependency:copy-dependencies\n</code></pre>\n\n<p>and it will download all your dependencies into <code>target/dependency</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1564593919, "creation_date": 1564593919, "answer_id": 57296105, "question_id": 57290146, "link": "https://stackoverflow.com/questions/57290146/installing-a-framework-without-maven-or-gradle/57296105#57296105", "title": "Installing a framework without maven or gradle", "body": "<p>I don't think there's a way, I'm afraid.\u00a0\u00a0Dependency management is the exact problem that build tools like Maven and Gradle were created to solve!</p>\n\n<p>The framework supplier <em>could</em> provide a \u2018fat\u2019 jar including all the dependencies; but I'm not aware of any that do, as everyone uses Maven or Gradle (or SBT or Ivy or Grape or Leiningen or Buildr).</p>\n\n<p>I think the only real alternative is to do it manually \u2014 which, as you've discovered, can be a horrible and lengthy task if the dependency tree is big.\u00a0 (And would need redoing with every update.)</p>\n\n<p>So I'd suggest biting the bullet and using Maven if you can.</p>\n"}], "owner": {"reputation": 111, "user_id": 3697574, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0a8f57bd954a751d8a37fc5125c5f94b?s=128&d=identicon&r=PG&f=1", "display_name": "user3697574", "link": "https://stackoverflow.com/users/3697574/user3697574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1564593919, "creation_date": 1564574033, "last_edit_date": 1564575668, "question_id": 57290146, "link": "https://stackoverflow.com/questions/57290146/installing-a-framework-without-maven-or-gradle", "title": "Installing a framework without maven or gradle", "body": "<p>I try to install Javalin framework for creating an API on my Java project. (old java 8 project without maven, gradle, etc). I would like to install the framework with adding the jars to my build path.\nBut If I add the main jar file then it needs another dependencies jar , then another one another one another one.. etc.</p>\n\n<p>Is there any simple way to add this to my project and all it's dependencies without any build tool like Maven,etc?</p>\n\n<p>I have tried adding it manually , but each jar has many dependencies that it is almost impossible(?)</p>\n"}, {"tags": ["android", "kotlin", "in-app-update", "google-play-core"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1564581025, "post_id": 57290049, "comment_id": 101079026, "body": "The documentation of <a href=\"https://developer.android.com/reference/android/content/IntentSender.SendIntentException\" rel=\"nofollow noreferrer\"><code>IntentSender.SendIntentException</code></a> says: &quot;<i>Exception thrown when trying to send through a PendingIntent that has been canceled or is otherwise no longer able to execute the request</i>&quot;. I&#39;m not familiar enough with Android to be of much help, but maybe that documentation can help point you in the right direction."}, {"owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1564581228, "post_id": 57290049, "comment_id": 101079190, "body": "Yeah but its internal exception of Activity class which even can&#39;t be handled due to which app crashes. It shouldn&#39;t have appeared in first place."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1564582694, "post_id": 57290049, "comment_id": 101080164, "body": "According to <a href=\"https://developer.android.com/guide/app-bundle/in-app-updates#start_update\" rel=\"nofollow noreferrer\">this documentation</a>, you can only use an instance of <code>AppUpdateInfo</code> one time. Try using a new instance for the retry (if you aren&#39;t already)."}, {"owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1564653524, "post_id": 57290049, "comment_id": 101105458, "body": "@Slaw@Slaw AppUpdateInfo gets initialized if following case:  appUpdateManager?.appUpdateInfo?.addOnSuccessListener {             if (it.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE &amp;&amp;                     it.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {                 appUpdateInfo = it                 updateAvailable.value = true             } else {                 updateAvailable.value = false             }         }"}, {"owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1564653878, "post_id": 57290049, "comment_id": 101105648, "body": "I have updated the question.. please check.."}, {"owner": {"reputation": 672, "user_id": 4148323, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-G7s1F5hNxOc/AAAAAAAAAAI/AAAAAAAAARw/KVliLqS-m4w/photo.jpg?sz=128", "display_name": "Anukool srivastav", "link": "https://stackoverflow.com/users/4148323/anukool-srivastav"}, "edited": false, "score": 0, "creation_date": 1600232116, "post_id": 57290049, "comment_id": 113018578, "body": "@AskQ, Did you find out solution to re-create AppUpdateInfo"}, {"owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "edited": false, "score": 0, "creation_date": 1601547672, "post_id": 57290049, "comment_id": 113444529, "body": "call this line.. it will newly initiate appUpdateInfo again.. appUpdateManager?.appUpdateInfo?.addOnSuccessListener { appUpdateInfo -&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 8345451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r622c9I-XoM/AAAAAAAAAAI/AAAAAAAANe4/GElaI1-RFug/photo.jpg?sz=128", "display_name": "Divya Gupta", "link": "https://stackoverflow.com/users/8345451/divya-gupta"}, "edited": false, "score": 2, "creation_date": 1580887292, "post_id": 58397029, "comment_id": 106241015, "body": "@Slaw Can you share some code snippet so that it becomes more clear?"}, {"owner": {"reputation": 672, "user_id": 4148323, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-G7s1F5hNxOc/AAAAAAAAAAI/AAAAAAAAARw/KVliLqS-m4w/photo.jpg?sz=128", "display_name": "Anukool srivastav", "link": "https://stackoverflow.com/users/4148323/anukool-srivastav"}, "edited": false, "score": 0, "creation_date": 1600231991, "post_id": 58397029, "comment_id": 113018551, "body": "Hi, Gettigi the same crash logs in FIrease. Can you share code to handle this."}, {"owner": {"reputation": 1576, "user_id": 7585388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9JERZH0Qt2Y/AAAAAAAAAAI/AAAAAAAAABk/Bt4PzATPweQ/photo.jpg?sz=128", "display_name": "Hari Shankar S", "link": "https://stackoverflow.com/users/7585388/hari-shankar-s"}, "edited": false, "score": 0, "creation_date": 1601381950, "post_id": 58397029, "comment_id": 113385021, "body": "can you share more detail or any eg plz?"}], "tags": [], "owner": {"reputation": 384, "user_id": 3329413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979d65a869336117b6633a3271e51de2?s=128&d=identicon&r=PG&f=1", "display_name": "marp", "link": "https://stackoverflow.com/users/3329413/marp"}, "is_accepted": true, "score": 7, "last_activity_date": 1571149833, "creation_date": 1571149833, "answer_id": 58397029, "question_id": 57290049, "link": "https://stackoverflow.com/questions/57290049/java-lang-reflect-invocationtargetexception-while-inappupdate-android-if-retries/58397029#58397029", "title": "java.lang.reflect.InvocationTargetException while inappupdate android if retries", "body": "<p>The problem is that you are trying to trigger <code>startUpdateFlowForResult</code> with the same <code>AppUpdateInfo</code> twice.</p>\n\n<p>As @Slaw suggested, after a failed or canceled update you need to do <code>appUpdateManager.appUpdateInfo.addOnSuccessListener</code> again in order to have another instance of <code>AppUpdateInfo</code> to make second call to <code>startUpdateFlowForResult</code></p>\n"}], "owner": {"reputation": 3539, "user_id": 4903889, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/VHe5d.jpg?s=128&g=1", "display_name": "AskQ", "link": "https://stackoverflow.com/users/4903889/askq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 1, "accepted_answer_id": 58397029, "answer_count": 1, "score": 5, "last_activity_date": 1605703557, "creation_date": 1564573696, "last_edit_date": 1605703557, "question_id": 57290049, "link": "https://stackoverflow.com/questions/57290049/java-lang-reflect-invocationtargetexception-while-inappupdate-android-if-retries", "title": "java.lang.reflect.InvocationTargetException while inappupdate android if retries", "body": "<p>Steps to reproduce this error:</p>\n\n<ol>\n<li>Click update button &amp; it opens update app dialog since it's <code>AppUpdateType.FLEXIBLE</code>.</li>\n<li>Click <code>No, thanks</code> </li>\n<li>Try update again. App crashes with following error:</li>\n</ol>\n\n<p>I'm getting this exception while updating the app via inappupdate on following line.</p>\n\n<pre><code>appUpdateManager?.startUpdateFlowForResult(it, AppUpdateType.FLEXIBLE, activity, REQUEST_CODE_FLEXI_UPDATE) //it == AppUpdateInfo object\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:451)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408) \nCaused by: android.content.IntentSender$SendIntentException\n        at android.app.Activity.startIntentSenderForResultInner(Activity.java:4878)\n        at android.app.Activity.startIntentSenderForResult(Activity.java:4847)\n        at androidx.fragment.app.FragmentActivity.startIntentSenderForResult(FragmentActivity.java:796)\n        at android.app.Activity.startIntentSenderForResult(Activity.java:4814)\n        at androidx.fragment.app.FragmentActivity.startIntentSenderForResult(FragmentActivity.java:781)\n        at com.google.android.play.core.appupdate.b.startUpdateFlowForResult(Unknown Source:22)\n        at newProfile.NewProfileFragment.startForInAppUpdate(NewProfileFragment.kt:752)\n        at newProfile.NewProfileFragment.access$startForInAppUpdate(NewProfileFragment.kt:60)\n        at newProfile.NewProfileFragment$setupAppUpdate$3.onClick(NewProfileFragment.kt:682)\n        at android.view.View.performClick(View.java:6935)\n        at android.widget.TextView.performClick(TextView.java:12752)\n        at android.view.View$PerformClick.run(View.java:26214)\n        at android.os.Handler.handleCallback(Handler.java:790)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:164)\n</code></pre>\n\n<p>Details:</p>\n\n<p>Android version: 8.0<br/>\nPhone: Samsung J7</p>\n\n<p><strong>Update</strong></p>\n\n<blockquote>\n  <p>As per documentation, <code>startUpdateFlowForResult</code> should only called for once <code>AppUpdateInfo</code> instance. For calling again, you must create <code>AppUpdateInfo</code> instance.</p>\n</blockquote>\n\n<p>but since its instance depends on below condition, how to make sure its instance newly gets created before calling <code>startUpdateFlowForResult</code></p>\n\n<pre><code> appUpdateManager?.appUpdateInfo?.addOnSuccessListener {\n            if (it.updateAvailability() == UpdateAvailability.UPDATE_AVAILABLE &amp;&amp;\n                    it.isUpdateTypeAllowed(AppUpdateType.FLEXIBLE)) {\n                appUpdateInfo = it\n                updateAvailable.value = true\n            } else {\n                updateAvailable.value = false\n            }\n        }\n</code></pre>\n\n<p>Also how to get <strong>progress</strong> value of app being downloaded, couldn't find it in documentation. In my case, onActivityResult keeps calling but which key gives progress value?</p>\n\n<p>Also facing another issue with different use case: <a href=\"https://stackoverflow.com/questions/57285370/android-inappupdate-not-available-after-skipping-installation?noredirect=1&amp;lq=1\">inappupdate not available after skipping installation</a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-sqlite"], "comments": [{"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564581543, "post_id": 57288786, "comment_id": 101079392, "body": "To help you we need to know on which step data lost. First make sure that you received data from database in correct way if not the problem is on receiving data. If it works fine make sure you are sending correct list to adapter and make sure if while binding adapter receive correct data. If everything correct something wrong on 3rd step on showing result. First of all you need to separate all steps to figure out where the problem is"}, {"owner": {"reputation": 1, "user_id": 11843806, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g8L9ld-8G48/AAAAAAAAAAI/AAAAAAAABI8/jN_1E_otnqY/photo.jpg?sz=128", "display_name": "Mirza Tahir Baig", "link": "https://stackoverflow.com/users/11843806/mirza-tahir-baig"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564755422, "post_id": 57288786, "comment_id": 101146611, "body": "Got It! Thank you so much sir. Problem is solved"}], "owner": {"reputation": 1, "user_id": 11843806, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g8L9ld-8G48/AAAAAAAAAAI/AAAAAAAABI8/jN_1E_otnqY/photo.jpg?sz=128", "display_name": "Mirza Tahir Baig", "link": "https://stackoverflow.com/users/11843806/mirza-tahir-baig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564569659, "creation_date": 1564569300, "last_edit_date": 1564569659, "question_id": 57288786, "link": "https://stackoverflow.com/questions/57288786/recyclerview-not-displaying-sqlite-product-data-in-fragment-using-kotlin", "title": "recyclerview not displaying sqlite product data in fragment using kotlin?", "body": "<p>i am new in android development. i am facing problem in viewing products. with the same code i am getting the customer information.</p>\n\n<p>The problem is that its not showing anything... the fragment is blank when i open it although the data is present... Any idea why its now showing any data? Im not getting any error just that the data isnt showing</p>\n\n<p>Code</p>\n\n<pre><code>public class UsageSettings2 extends Fragment {\nMainData mDatabaseHelper;\nRecyclerView mRecyclerView;\nUserDataHelper mHelper;\nprivate List&lt;UsageHelper&gt; usage = new ArrayList&lt;&gt;();\nprivate LinearLayoutManager linearLayoutManager;\nprivate UsageAdapter mAdapter;\nSQLiteDatabase db;\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View rootView =  inflater.inflate(R.layout.settings_usage2, container, false);\n\n    final MainData myDBHlpr = new MainData(getActivity());\n    db = myDBHlpr.getWritableDatabase();\n\n    mRecyclerView = (RecyclerView) rootView.findViewById(R.id.usagelist);\n        //Add the data first\n        linearLayoutManager = new LinearLayoutManager(getActivity());\n        //and then create a object and pass the lis\n        mAdapter = new UsageAdapter(usage);\n\n    mRecyclerView.setLayoutManager(linearLayoutManager);\n    mRecyclerView.setAdapter(mAdapter);\n    mAdapter.notifyDataSetChanged();\n\n    Cursor csr = myDBHlpr.getAllQuestions2(getActivity());\n    while (csr.moveToNext()) {\n\n        String name = csr.getString(csr.getColumnIndex(\"Name\"));\n        int sent = csr.getInt(csr.getColumnIndex(\"MessagesSent\"));\n        int recieved = csr.getInt(csr.getColumnIndex(\"MessagesRecieved\"));\n        int total = csr.getInt(csr.getColumnIndex(\"Messages\"));\n        String time = csr.getString(csr.getColumnIndex(\"TimeSpent\"));\n\n        new UsageHelper(name,sent,recieved,total,time);\n\n\n        int profile_counts = myDBHlpr.getProfilesCount2();\n        Log.d(\"FFF\", String.valueOf(profile_counts));\n\n\n    }\n\n\n\n        return rootView;\n    }\n}\nAdapter\n\npublic class UsageAdapter extends RecyclerView.Adapter&lt;UsageAdapter.UsageViewHolder&gt;{\n\nprivate List&lt;UsageHelper&gt; mUsageHelper;\n\npublic UsageAdapter(List&lt;UsageHelper&gt; UsageAdapter) {\n    this.mUsageHelper = UsageAdapter;\n}\n\npublic class UsageViewHolder extends RecyclerView.ViewHolder{\n    public TextView mName;\n    public TextView mSent;\n    public TextView mRecieved;\n    public TextView mTotal;\n    public TextView mTime;\n\n    public UsageViewHolder(View view) {\n        super(view);\n        mName = (TextView)view.findViewById(R.id.name);\n        mSent = (TextView)view.findViewById(R.id.sent);\n        mRecieved = (TextView)view.findViewById(R.id.recieved);\n        mTotal = (TextView)view.findViewById(R.id.total);\n        mTime = (TextView)view.findViewById(R.id.time);\n    }\n}\n</code></pre>\n\n<p>this the code for the product\nCode for productrecyclerview </p>\n\n<pre><code>package com.abc.test1.Adapters\n\nimport android.content.Context\nimport android.content.Intent\nimport android.os.Build\nimport android.support.annotation.RequiresApi\nimport android.support.v4.content.ContextCompat\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.LinearLayout\nimport android.widget.TextView\nimport com.abc.test1.Addproduct\nimport com.abc.test1.R\nimport com.abc.test1.Models.Product\nimport java.util.ArrayList\n\nclass ProductRecyclerAdapter(productsList: List&lt;Product&gt;, internal var context: Context) : RecyclerView.Adapter&lt;ProductRecyclerAdapter.TaskViewHolder&gt;() {\n\n    private var productsList: List&lt;Product&gt; = ArrayList()\n    init {\n        this.productsList = productsList\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TaskViewHolder {\n        val view = LayoutInflater.from(context).inflate(R.layout.list_products, parent, false)\n        return TaskViewHolder(view)\n    }\n\n    @RequiresApi(Build.VERSION_CODES.JELLY_BEAN)\n    override fun onBindViewHolder(holder: TaskViewHolder, position: Int) {\n        val products = productsList[position]\n        holder.pname.text = products.pname\n        holder.pprice.text = products.pprice\n        holder.ppc.text = products.ppc\n        holder.list_products.background = ContextCompat.getDrawable(this.context, R.color.colorSuccess)\n        holder.itemView.setOnClickListener {\n            val i = Intent(context, Addproduct::class.java)\n            i.putExtra(\"Mode\" , \"E\")\n            i.putExtra(\"Id\", products.id)\n            i.flags = Intent.FLAG_ACTIVITY_NEW_TASK\n            context.startActivity(i)\n        }\n    }\n\n    override fun getItemCount(): Int {\n        return productsList.size\n    }\n\n    inner class TaskViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        var pname: TextView = view.findViewById(R.id.pName) as TextView\n        var pprice: TextView = view.findViewById(R.id.pPrice) as TextView\n        var ppc: TextView = view.findViewById(R.id.pPc) as TextView\n        var list_products: LinearLayout = view.findViewById(R.id.list_Products) as LinearLayout\n    }\n\n}\n</code></pre>\n\n<p>code for dbhelper</p>\n\n<pre><code>package com.abc.test1.DBHandler\n\nimport android.content.ContentValues\nimport android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport android.database.sqlite.SQLiteOpenHelper\nimport android.util.Log\nimport com.abc.test1.Models.Client\nimport com.abc.test1.Models.Product\nimport java.util.*\n\nclass DatabaseHandler(context: Context?) : SQLiteOpenHelper(context, DatabaseHandler.DB_NAME, null, DatabaseHandler.DB_VERSION) {\n\n    override fun onCreate(db: SQLiteDatabase) {\n        val CREATE_TABLE1 = \"CREATE TABLE $TABLE_NAME1 ($CID INTEGER PRIMARY KEY, $CNAME TEXT,$CADDRESS TEXT,$SALESMAN TEXT);\"\n        db.execSQL(CREATE_TABLE1)\n        val CREATE_TABLE2 = \"CREATE TABLE $TABLE_NAME2 ($PID INTEGER PRIMARY KEY, $PNAME TEXT,$PPRICE INT,$PPC TEXT);\"\n        db.execSQL(CREATE_TABLE2)\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        val DROP_TABLE1 = \"DROP TABLE IF EXISTS $TABLE_NAME1\"\n        db.execSQL(DROP_TABLE1)\n        val DROP_TABLE2 = \"DROP TABLE IF EXISTS $TABLE_NAME2\"\n        db.execSQL(DROP_TABLE2)\n        onCreate(db)\n    }\n\n    fun addClient(client: Client): Boolean {\n        val db = this.writableDatabase\n        val values = ContentValues()\n        values.put(CNAME, client.cname)\n        values.put(CADDRESS, client.caddress)\n        values.put(SALESMAN, client.saleman)\n        val _success = db.insert(TABLE_NAME1, null, values)\n        db.close()\n        Log.v(\"InsertedId\", \"$_success\")\n        return (Integer.parseInt(\"$_success\") != -1)\n    }\n\n    fun getClient(_id: Int): Client {\n        val clients = Client()\n        val db = writableDatabase\n        val selectQuery = \"SELECT  * FROM $TABLE_NAME1 WHERE $CID = $_id\"\n        val cursor = db.rawQuery(selectQuery, null)\n\n        cursor?.moveToFirst()\n        clients.id = Integer.parseInt(cursor.getString(cursor.getColumnIndex(CID)))\n        clients.cname = cursor.getString(cursor.getColumnIndex(CNAME))\n        clients.caddress = cursor.getString(cursor.getColumnIndex(CADDRESS))\n        clients.saleman = cursor.getString(cursor.getColumnIndex(SALESMAN))\n        cursor.close()\n        return clients\n    }\n\n    fun client(): List&lt;Client&gt; {\n        val clientList = ArrayList&lt;Client&gt;()\n        val db = writableDatabase\n        val selectQuery = \"SELECT  * FROM $TABLE_NAME1\"\n        val cursor = db.rawQuery(selectQuery, null)\n        if (cursor != null) {\n            if (cursor.moveToFirst()) {\n                do {\n                    val clients = Client()\n                    clients.id = Integer.parseInt(cursor.getString(cursor.getColumnIndex(CID)))\n                    clients.cname = cursor.getString(cursor.getColumnIndex(CNAME))\n                    clients.caddress = cursor.getString(cursor.getColumnIndex(CADDRESS))\n                    clients.saleman = cursor.getString(cursor.getColumnIndex(SALESMAN))\n                    clientList.add(clients)\n                } while (cursor.moveToNext())\n            }\n        }\n        cursor.close()\n        return clientList\n    }\n\n    fun updateClient(clients: Client): Boolean {\n        val db = this.writableDatabase\n        val values = ContentValues()\n        values.put(CNAME, clients.cname)\n        values.put(CADDRESS, clients.caddress)\n        values.put(SALESMAN, clients.saleman)\n        val _success = db.update(TABLE_NAME1, values, \"$CID=?\", arrayOf(clients.id.toString())).toLong()\n        db.close()\n        return Integer.parseInt(\"$_success\") != -1\n    }\n\n    fun deleteClient(_id: Int): Boolean {\n        val db = this.writableDatabase\n        val _success = db.delete(TABLE_NAME1, \"$CID=?\", arrayOf(_id.toString())).toLong()\n        db.close()\n        return Integer.parseInt(\"$_success\") != -1\n    }\n\n    fun deleteAllClient(): Boolean {\n        val db = this.writableDatabase\n        val _success = db.delete(TABLE_NAME1, null, null).toLong()\n        db.close()\n        return Integer.parseInt(\"$_success\") != -1\n    }\n    fun addProduct(product: Product): Boolean {\n        val values = ContentValues()\n        values.put(PNAME, product.pname)\n        values.put(PPRICE, product.pprice)\n        values.put(PPC, product.ppc)\n        val _success = this.writableDatabase.insert(TABLE_NAME2, null, values)\n        Log.v(\"InsertedId\", \"$_success\")\n        return (Integer.parseInt(\"$_success\") != -1)\n    }\n\n    fun getProduct(_id: Int): Product {\n        val products = Product()\n        val db = writableDatabase\n        val selectQuery = \"SELECT  * FROM $TABLE_NAME2 WHERE $PID = $_id\"\n        val cursor = db.rawQuery(selectQuery, null)\n\n        cursor?.moveToFirst()\n        products.id = Integer.parseInt(cursor.getString(cursor.getColumnIndex(PID)))\n        products.pname = cursor.getString(cursor.getColumnIndex(PNAME))\n        products.pprice = cursor.getString(cursor.getColumnIndex(PPRICE))\n        products.ppc = cursor.getString(cursor.getColumnIndex(PPC))\n        cursor.close()\n        return products\n    }\n\n    fun product(): List&lt;Product&gt; {\n        val productList = ArrayList&lt;Product&gt;()\n        val db = writableDatabase\n        val selectQuery = \"SELECT  * FROM $TABLE_NAME2\"\n        val cursor = db.rawQuery(selectQuery, null)\n        if (cursor != null) {\n            if (cursor.moveToFirst()) {\n                do {\n                    val products = Product()\n                    products.id = Integer.parseInt(cursor.getString(cursor.getColumnIndex(PID)))\n                    products.pname = cursor.getString(cursor.getColumnIndex(PNAME))\n                    products.pprice = cursor.getString(cursor.getColumnIndex(PPRICE))\n                    products.ppc = cursor.getString(cursor.getColumnIndex(PPC))\n                    productList.add(products)\n                } while (cursor.moveToNext())\n            }\n        }\n        cursor.close()\n        return productList\n    }\n\n    fun updateProduct(products: Product): Boolean {\n        val db = this.writableDatabase\n        val values = ContentValues()\n        values.put(PNAME, products.pname)\n        values.put(PNAME, products.pprice)\n        values.put(PNAME, products.ppc)\n        val _success = db.update(TABLE_NAME2, values, \"$PID=?\", arrayOf(products.id.toString())).toLong()\n        db.close()\n        return Integer.parseInt(\"$_success\") != -1\n    }\n\n    fun deleteProduct(_id: Int): Boolean {\n        val db = this.writableDatabase\n        val _success = db.delete(TABLE_NAME2, \"$PID=?\", arrayOf(_id.toString())).toLong()\n        db.close()\n        return Integer.parseInt(\"$_success\") != -1\n    }\n\n    fun deleteAllProducts(): Boolean {\n        val db = this.writableDatabase\n        val _success = db.delete(TABLE_NAME2, null, null).toLong()\n        db.close()\n        return Integer.parseInt(\"$_success\") != -1\n    }\n    companion object {\n        private val DB_VERSION = 1\n        private val DB_NAME = \"Invoicedb\"\n        private val TABLE_NAME1 = \"Clients\"\n        private val CID = \"Id\"\n        private val CNAME = \"CName\"\n        private val CADDRESS = \"CAddress\"\n        private val SALESMAN = \"Salesman\"\n        private val TABLE_NAME2 = \"Products\"\n        private val PID = \"Id\"\n        private val PNAME = \"PName\"\n        private val PPRICE = \"PPrice\"\n        private val PPC = \"Ppc\"\n    }\n}\n</code></pre>\n\n<p>For adding product am using a new Activity\nAddproduct</p>\n\n<pre><code>package com.abc.test1\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.v4.app.FragmentTransaction\nimport android.view.View\nimport android.support.v7.app.AlertDialog\nimport android.view.MenuItem\nimport com.abc.test1.Models.Product\nimport com.abc.test1.DBHandler.DatabaseHandler\nimport kotlinx.android.synthetic.main.activity_addproduct.*\nimport kotlinx.android.synthetic.main.list_products.*\n\nclass Addproduct : AppCompatActivity() {\n    var dbHandler: DatabaseHandler? = null\n    var isEditMode = false\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_addproduct)\n        initDB()\n        initOperations()\n    }\n    private fun initDB() {\n        dbHandler = DatabaseHandler(this)\n        btn_delete_product.visibility = View.INVISIBLE\n        if (intent != null &amp;&amp; intent.getStringExtra(\"Mode\") == \"E\") {\n            isEditMode = true\n            val products: Product = dbHandler!!.getProduct(intent.getIntExtra(\"Id\",0))\n            product_name.setText(products.pname)\n            product_price.setText(products.pprice)\n            ppc.setText(products.ppc)\n            btn_delete_product.visibility = View.VISIBLE\n        }\n    }\n\n    private fun initOperations() {\n        if (!isEditMode)\n            else\n            btn_save_product.text = \"UPDATE\"\n        btn_save_product.setOnClickListener {\n            var success: Boolean\n            if (!isEditMode) {\n                val products: Product = Product()\n                products.pname = product_name.text.toString()\n                products.pprice = pPrice.text.toString()\n                products.ppc = ppc.text.toString()\n                success = dbHandler?.addProduct(products) as Boolean\n            } else {\n                val products: Product = Product()\n                btn_save_product.text = getString(R.string.update)\n                products.id = intent.getIntExtra(\"Id\", 0)\n                products.pname = product_name.text.toString()\n                products.pprice = pPrice.text.toString()\n                products.ppc = ppc.text.toString()\n                success = dbHandler?.updateProduct(products) as Boolean\n            }\n\n            if (success)\n                finish()\n        }\n\n        btn_delete_product.setOnClickListener {\n            val dialog = AlertDialog.Builder(this).setTitle(\"Info\").setMessage(\"Click 'YES' Delete the Task.\")\n                .setPositiveButton(\"YES\") { dialog, _ -&gt;\n                    val success = dbHandler?.deleteProduct(intent.getIntExtra(\"Id\", 0)) as Boolean\n                    if (success)\n                        finish()\n                    dialog.dismiss()\n                }\n                .setNegativeButton(\"NO\") { dialog, _ -&gt;\n                    dialog.dismiss()\n                }\n            dialog.show()\n        }\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        val id = item.itemId\n        if (id == android.R.id.home) {\n            finish()\n            return true\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}\n</code></pre>\n\n<p>Product fragment</p>\n\n<pre><code>package com.abc.test1\n\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.app.AlertDialog\nimport android.support.design.widget.FloatingActionButton\nimport android.support.v4.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport android.view.MenuItem\nimport com.abc.test1.Models.Product\nimport com.abc.test1.DBHandler.DatabaseHandler\nimport com.abc.test1.Adapters.ProductRecyclerAdapter\nimport kotlinx.android.synthetic.main.fragment_product.*\n\n\n/**\n * A simple [Fragment] subclass.\n *\n */\nclass ProductFragment : Fragment() {\n    var productRecyclerAdapter: ProductRecyclerAdapter? = null\n    var fab: FloatingActionButton? = null\n    var recyclerView: RecyclerView? = null\n    var dbHandler: DatabaseHandler? = null\n    var listProducts: List&lt;Product&gt; = ArrayList&lt;Product&gt;()\n    var linearLayoutManager: LinearLayoutManager? = null\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n        initOperations()\n        initViews()\n\n    }\n\n    fun initDB() {\n        dbHandler = DatabaseHandler(this@ProductFragment.context)\n        listProducts = (dbHandler as DatabaseHandler).product()\n        context?.let {\n            productRecyclerAdapter = this@ProductFragment.context?.let { it1 -&gt; ProductRecyclerAdapter(productsList = listProducts, context = it1)\n                }\n            (recyclerView as RecyclerView).adapter = productRecyclerAdapter\n        }\n    }\n\n    fun initViews() {\n        val view = view\n        fab = view?.findViewById(R.id.fabProduct) as FloatingActionButton\n        recyclerView = view.findViewById(R.id.recycler_view1) as RecyclerView\n        productRecyclerAdapter = this@ProductFragment.context?.let { it1 -&gt; ProductRecyclerAdapter(productsList = listProducts, context = it1) }\n        linearLayoutManager = this@ProductFragment.context ?.let{ it1 -&gt; LinearLayoutManager(it1) }\n        (recyclerView as RecyclerView).layoutManager = linearLayoutManager\n}\n    fun initOperations() {\n        fabProduct?.setOnClickListener {\n            val i = Intent(this@ProductFragment.context, Addproduct::class.java)\n            i.putExtra(\"Mode\", \"A\")\n            startActivity(i)\n        }\n    }\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        val id = item.itemId\n        if (id == R.id.action_delete) {\n            val dialog = android.app.AlertDialog.Builder(this@ProductFragment.context).setTitle(\"Info\").setMessage(\"Click 'YES' Delete All Tasks\")\n                .setPositiveButton(\"YES\") { dialog, _ -&gt;\n                    dbHandler!!.deleteAllClient()\n                    initDB()\n                    dialog.dismiss()\n                }\n                .setNegativeButton(\"NO\") { dialog, _ -&gt;\n                    dialog.dismiss()\n                }\n            dialog.show()\n            return true\n        }\n        return super.onOptionsItemSelected(item)\n    }\n\n    override fun onResume() {\n        super.onResume()\n        initDB()\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_product, container, false)\n    }\n\n\n}\n</code></pre>\n\n<p>Layouts\nlist_products</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorAccent\"\n        android:id=\"@+id/list_Products\"\n        android:orientation=\"vertical\"\n        android:layout_margin=\"2dp\"&gt;\n\n    &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"5dp\"\n            android:background=\"@android:color/white\"\n            android:orientation=\"vertical\"\n            android:layout_marginStart=\"5dp\"&gt;\n\n        &lt;TextView\n                android:id=\"@+id/pName\"\n                android:fontFamily=\"sans-serif-smallcaps\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:paddingLeft=\"5dp\"\n                android:paddingRight=\"5dp\"\n                android:paddingTop=\"5dp\"\n                android:text=\"@string/product_name\"\n                android:textSize=\"24sp\"\n                android:textStyle=\"bold\"\n                android:textColor=\"#000\"\n                tools:targetApi=\"jelly_bean\"/&gt;\n\n        &lt;TextView\n                android:id=\"@+id/pPrice\"\n                android:fontFamily=\"sans-serif-smallcaps\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"5dp\"\n                android:textColor=\"#000\"\n                android:text=\"@string/price\"\n                android:textSize=\"20sp\"\n                tools:targetApi=\"jelly_bean\"/&gt;\n        &lt;TextView\n                android:id=\"@+id/pPc\"\n                android:fontFamily=\"sans-serif-smallcaps\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:padding=\"5dp\"\n                android:textColor=\"#000\"\n                android:text=\"@string/ppc\"\n                android:textSize=\"20sp\"\n                tools:targetApi=\"jelly_bean\"/&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>productmain</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                    xmlns:tools=\"http://schemas.android.com/tools\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n                    tools:context=\".ClientFragment\"\n                    tools:showIn=\"@layout/activity_main\"&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:id=\"@+id/recycler_view1\"/&gt;\n\n    &lt;/LinearLayout&gt;\nProduct Fragment\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.design.widget.CoordinatorLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ProductFragment\"&gt;\n    &lt;include layout=\"@layout/product_main\"/&gt;\n\n    &lt;android.support.design.widget.FloatingActionButton\n            android:id=\"@+id/fabProduct\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|end\"\n            android:src=\"@drawable/ic_add_black_24dp\"\n            android:tint=\"@android:color/white\"/&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "oop", "kotlin", "properties", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 5958730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72vXv.jpg?s=128&g=1", "display_name": "Mahmoud Omara", "link": "https://stackoverflow.com/users/5958730/mahmoud-omara"}, "edited": false, "score": 0, "creation_date": 1564572978, "post_id": 57288666, "comment_id": 101074194, "body": "i tried using the field identifier but that&#39;s when i get an error that says property must be initialized"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 399, "user_id": 5958730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72vXv.jpg?s=128&g=1", "display_name": "Mahmoud Omara", "link": "https://stackoverflow.com/users/5958730/mahmoud-omara"}, "edited": false, "score": 0, "creation_date": 1564573441, "post_id": 57288666, "comment_id": 101074462, "body": "@MahmoudOmara Well it&#39;s hard to guess what you are trying to achieve based on the out-of-context example, but I&#39;m assuming you want to initialize the nullable <code>image</code> property somewhere later in the code. Maybe you should change the <code>val image</code> declaration to <code>var image</code> and then initialize the property  inside the <code>x</code> class with <code>null</code>: <code>override var image: ImageType?  = null</code>."}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 5, "last_activity_date": 1564568902, "creation_date": 1564568902, "answer_id": 57288666, "question_id": 57288479, "link": "https://stackoverflow.com/questions/57288479/override-a-val-in-data-class/57288666#57288666", "title": "Override a val in data class", "body": "<p>You are recursively accessing the property using the actual property's name in your custom getter. Kotlin provides the <code>field</code> identifier which should be used to reference the property's value in its accessors:</p>\n\n<pre><code>val image\n    get() = field ?: anotherImage\n\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 5958730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/72vXv.jpg?s=128&g=1", "display_name": "Mahmoud Omara", "link": "https://stackoverflow.com/users/5958730/mahmoud-omara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564568902, "creation_date": 1564568299, "last_edit_date": 1564568845, "question_id": 57288479, "link": "https://stackoverflow.com/questions/57288479/override-a-val-in-data-class", "title": "Override a val in data class", "body": "<p>I got an error of java.lang.StackOverflowError: stack size 8MB when I tried this bit of code and the app crashed exactly 1 time and now it doesn't crash again, I would like to find out if this would cause any problems in the future before committing to this code</p>\n\n<p>Below are examples of the interface/data class used in this part</p>\n\n<pre><code>interface y{\n    val image\n}\n\ndata class x(val anotherImage): y{\n    override val image\n        get() = image ?: anotherImage\n}\n</code></pre>\n\n<p>What I want here is to have the val image contain the URL of an image, sometimes the back-end returns it in image and other times in anotherImage and that's why I wrote that bit of code, the use of an interface here is for another problem irrelevant to this issue</p>\n"}, {"tags": ["php", "android", "kotlin", "multipartform-data", "image-uploading"], "comments": [{"owner": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564575116, "post_id": 57288438, "comment_id": 101075382, "body": "I guess your SQL Statement is false. try to enter the Statement into phpMyAdmin and see if it works. My guess would be this part is wrong &quot;trans_id=$trans_id&quot;"}, {"owner": {"reputation": 1, "user_id": 11637885, "user_type": "registered", "profile_image": "https://graph.facebook.com/2106960246081945/picture?type=large", "display_name": "Hendri Korasi Simbolon", "link": "https://stackoverflow.com/users/11637885/hendri-korasi-simbolon"}, "reply_to_user": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564582273, "post_id": 57288438, "comment_id": 101079886, "body": "I have tried the php server into Postman and there are no problems, the data trans_id and user_id also enter my mysql"}], "owner": {"reputation": 1, "user_id": 11637885, "user_type": "registered", "profile_image": "https://graph.facebook.com/2106960246081945/picture?type=large", "display_name": "Hendri Korasi Simbolon", "link": "https://stackoverflow.com/users/11637885/hendri-korasi-simbolon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564568176, "creation_date": 1564568176, "question_id": 57288438, "link": "https://stackoverflow.com/questions/57288438/why-arent-my-parameters-entered-into-the-database-kotlin-php", "title": "Why aren&#39;t my parameters entered into the database? (Kotlin-PHP)", "body": "<p>I have a php server with a post method with 3 parameters where the first parameter is used for user_id, the second for the transaction id (trans_id) and the last for the photo file. as follows :</p>\n\n<pre><code>include_once \"conn.php\";\n//Getting the server ip\n$server_ip = gethostbyname(gethostname());\n//creating the upload url\n$upload_url = 'http://'.$server_ip.'/ecommerce/assets/images/user/';\n\n//response array\n$response = array();\n  $username = $_POST['user'];\n    $trans_id = $_POST['trans_id'];\n  //getting file info from the request\n  $fileinfo = pathinfo($_FILES['image']['name']);\n  //getting the file extension\n  $extension = '.'.$fileinfo['extension'];\n  $file_url = $username.time();\n  $file_path = 'assets/images/komplain/' . $file_url . $extension;\n  $uploadPath = 'assets/images/komplain/';\n  $result = array(\"success\" =&gt; $_FILES[\"image\"][\"name\"]);\n  try{\n                //saving the file$sourceProperties = getimagesize($fileName);\n          $fileName = $_FILES['image']['tmp_name'];\n          $sourceProperties = getimagesize($fileName);\n           $fileExt = pathinfo($_FILES['image']['name'], PATHINFO_EXTENSION);\n          $uploadImageType = $sourceProperties[2];\n          $sourceImageWidth = $sourceProperties[0];\n          $sourceImageHeight = $sourceProperties[1];\n          switch ($uploadImageType) {\n             case IMAGETYPE_JPEG:\n                 $resourceType = imagecreatefromjpeg($fileName);\n                 $imageLayer = resizeImage($resourceType,$sourceImageWidth,$sourceImageHeight);\n                 imagejpeg($imageLayer,$uploadPath.$file_url.\"_thumb\".'.'. $fileExt);\n                 break;\n\n             case IMAGETYPE_GIF:\n                 $resourceType = imagecreatefromgif($fileName);\n                 $imageLayer = resizeImage($resourceType,$sourceImageWidth,$sourceImageHeight);\n                 imagegif($imageLayer,$uploadPath.$file_url.\"_thumb\".'.'. $fileExt);\n                 break;\n\n             case IMAGETYPE_PNG:\n                 $resourceType = imagecreatefrompng($fileName);\n                 $imageLayer = resizeImage($resourceType,$sourceImageWidth,$sourceImageHeight);\n                 imagepng($imageLayer,$uploadPath.$file_url.\"_thumb\".'.'. $fileExt);\n                 break;\n\n             default:\n                 $imageProcess = 0;\n                 break;\n         }\n\n          // File successfully uploaded\n                //adding the path and name to database\n                if(move_uploaded_file($_FILES['image']['tmp_name'],$file_path)){\n            $sql =  \"UPDATE komplain SET foto='$file_url', foto_type='$extension' WHERE user = '$username' AND trans_id=$trans_id\";\n            mysqli_query($conn,$sql);\n            $response['message'] = 'File uploaded successfully!';\n                $response['status'] = 'success';\n                $response['file_path'] = $upload_url.\"/ecommerce\". $file_url . $extension;\n                }\n            //if some error occurred\n  }catch(Exception $e){\n          $response['status'] = 'fail';\n              $response['message'] = $e-&gt;getMessage();\n  }\necho mysqli_error($conn);\necho json_encode($response, JSON_PRETTY_PRINT);\n\nfunction resizeImage($resourceType,$image_width,$image_height) {\n    $resizeWidth = 250;\n    $resizeHeight = 250;\n    $imageLayer = imagecreatetruecolor($resizeWidth,$resizeHeight);\n    imagecopyresampled($imageLayer,$resourceType,0,0,0,0,$resizeWidth,$resizeHeight, $image_width,$image_height);\n    return $imageLayer;\n}\n</code></pre>\n\n<p>Then I use kotlin as a client and use the MultipartUploadRequest method to upload to the server. as follows :</p>\n\n<pre><code>btn_send.setOnClickListener{  uploadMultipart() }\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n\n        if (requestCode == IMAGE_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n            uri = data.getData();\n            try {\n                bitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), uri)\n                img.setImageBitmap(bitmap)\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n        }\n\n    }\n\n    fun getPath(uri: Uri): String {\n        var cursor = getContentResolver().query(uri, null, null, null, null)\n        cursor.moveToFirst()\n        var document_id = cursor.getString(0)\n        document_id = document_id.substring(document_id.lastIndexOf(\":\") + 1)\n        cursor.close()\n\n        cursor = getContentResolver().query(\n            android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n            null,\n            MediaStore.Images.Media._ID + \" = ? \",\n            arrayOf&lt;String&gt;(document_id),\n            null\n        )\n        cursor.moveToFirst()\n        val path = cursor.getString(cursor.getColumnIndex(MediaStore.Images.Media.DATA))\n        cursor.close()\n\n        return path\n    }\n\n    fun uploadMultipart() {\n        //getting the actual path of the image\n        val path = getPath(uri!!)\n        //Uploading code\n        try {\n            val uploadId = UUID.randomUUID().toString()\n\n            //Creating a multi part request\n            MultipartUploadRequest(this, uploadId, UPLOAD_URL)\n                .addFileToUpload(path, \"image\") //Adding file\n                .addParameter(\"user\", MCart.user_id) //Adding text parameter to the request\n                .addParameter(\"trans_id\", trans.toString()) //Adding text parameter to the request\n                .setNotificationConfig(UploadNotificationConfig())\n                .setMaxRetries(2)\n                .startUpload() //Starting the upload\n        } catch (exc: Exception) {\n            Toast.makeText(this, exc.message, Toast.LENGTH_SHORT).show()\n        }\n\n    }\n</code></pre>\n\n<blockquote>\n  <p>The problem that I get is, I only get the image file that was\n  successfully uploaded in the server folder without any records in my\n  mysql. I have entered trans_id and user_id that I have created in\n  (.addParameter) but I do not get anything in mysql (database)</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1564567902, "post_id": 57288246, "comment_id": 101071344, "body": "Try with <code>@JvmStatic</code> above <code>@BindingAdapter</code> annotation &amp; check again."}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1564569081, "post_id": 57288246, "comment_id": 101072020, "body": "I cannot add <code>@JvmStatic</code> to a function, but I already tried to create object with <code>@JvmStatic</code> method, and class with companion object, but the error still there."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1564569273, "post_id": 57288246, "comment_id": 101072116, "body": "May be because it&#39;s <b>extension function</b>, it doesn&#39;t work for <code>@BindingAdapter</code>."}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1564569453, "post_id": 57288246, "comment_id": 101072201, "body": "No, I tried basic function, but nothing changes. Inside an Activity file it works."}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "reply_to_user": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1564570322, "post_id": 57288246, "comment_id": 101072684, "body": "I just forgot to add package declaration to the adapter file :) but thank you anyway."}], "answers": [{"tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1564570116, "creation_date": 1564570116, "answer_id": 57289029, "question_id": 57288246, "link": "https://stackoverflow.com/questions/57288246/android-databinding-error-cannot-find-symbol-of-my-custom-bindingadapter/57289029#57289029", "title": "Android databinding error: cannot find symbol of my custom @BindingAdapter", "body": "<p>Finally I found the error reason. I just forgot to add package declaration to the top of <code>TextViewAdapter.kt</code> file.</p>\n"}], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 57289029, "answer_count": 1, "score": 0, "last_activity_date": 1564570116, "creation_date": 1564567545, "question_id": 57288246, "link": "https://stackoverflow.com/questions/57288246/android-databinding-error-cannot-find-symbol-of-my-custom-bindingadapter", "title": "Android databinding error: cannot find symbol of my custom @BindingAdapter", "body": "<p>I'm trying to add an app global custom <code>@BindingAdapter</code>. I created <code>TextViewBinding.kt</code> file, and put it to the separate package <code>com.my.app.binding.TextViewBinding</code>. When I compile the app, I get the error</p>\n\n<blockquote>\n  <p>error: cannot find symbol\n              TextViewAdapterKt.setTypeface(this.titleTextView, viewedJavaLangStringNormalJavaLangStringBold);</p>\n</blockquote>\n\n<p>If I put the adapter function into an Activity, there are no errors. But, because it's app global adapter, I don't want it to belong to any particular view. So, where I should place the adapter function to get rid of the error?</p>\n\n<p><strong>TextViewAdapter.kt</strong></p>\n\n<pre><code>@BindingAdapter(\"typeface\")\nfun TextView.setTypeface(style: String) {\n    when (style) {\n        \"bold\" -&gt; setTypeface(null, Typeface.BOLD)\n        else -&gt; setTypeface(null, Typeface.NORMAL)\n    }\n}\n</code></pre>\n\n<p><strong>my_list_item.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;TextView app:typeface='@{viewed ? \"normal\" : bold\"}' ... /&gt;\n...\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-dokka", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "is_accepted": false, "score": 2, "last_activity_date": 1565004486, "creation_date": 1565004486, "answer_id": 57357666, "question_id": 57287624, "link": "https://stackoverflow.com/questions/57287624/reference-value-of-constant-with-kdoc/57357666#57357666", "title": "Reference value of constant with KDoc", "body": "<p>Currently, <code>{@value}</code> tags are not supported by KDoc.</p>\n\n<p>The closest issue requesting this is <a href=\"https://github.com/Kotlin/dokka/issues/488\" rel=\"nofollow noreferrer\">#488</a>, so you can up-vote and/or comment on it.</p>\n"}], "owner": {"reputation": 695, "user_id": 4126219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/39e32e884a3a4c7bbf8a5726012ca573?s=128&d=identicon&r=PG&f=1", "display_name": "user3420815", "link": "https://stackoverflow.com/users/4126219/user3420815"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1565004486, "creation_date": 1564565611, "question_id": 57287624, "link": "https://stackoverflow.com/questions/57287624/reference-value-of-constant-with-kdoc", "title": "Reference value of constant with KDoc", "body": "<p>I have a <code>object</code> like the following in my project</p>\n\n<pre><code>object UrlUtils {\n\n    private const val PARAM = \"whatever\"\n\n    /**\n     * Method that appends the [PARAM] parameter to the url\n     */\n    fun appendParameter(url: String) {\n        // ...\n    }\n\n}\n</code></pre>\n\n<p>As you can see a I wanna reference the value of the <code>PARAM</code> field in the KDoc comment of the <code>appendParameter</code> method however when looking at the comment I don't see the actual value but only the name of the field.</p>\n\n<blockquote>\n  <p>Method that appends the PARAM parameter to the url</p>\n</blockquote>\n\n<p>What I want:</p>\n\n<blockquote>\n  <p>Method that appends the whatever parameter to the url</p>\n</blockquote>\n\n<p>In Javadoc this works by using <code>{@value PARAM}</code> but there seems to be nothing similar in KDoc. Even the automatic code-converter keeps the old Javadoc.</p>\n\n<p>So my question: Am I missing something or is KDoc/Dokka missing this feature?</p>\n"}, {"tags": ["android", "sqlite", "csv", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 1, "creation_date": 1564595491, "post_id": 57287425, "comment_id": 101086940, "body": "You say that you &quot;do not know where to start&quot;, but at least show that you could open a file and iterate through the lines of the CSV and that you can open the sqlite database connection. If you cannot do those things, it is best to research those separately before asking about. Otherwise this is essentially asking for someone to write all the code for you."}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1564628425, "post_id": 57287425, "comment_id": 101095928, "body": "The code looks like C#, not Kotlin.  That&#39;s a big hurdle to helping you.  Besides, if you cannot identify the error messages or a more specific reason why the code doesn&#39;t work, then it is difficult to help.  You say that it is because your CSV has many rows, but the code loops through all lines of the input file, so that should not be the problem.  Please provide actual code which you have tried and exactly why it is not working, including error messages and a description of what happens."}, {"owner": {"reputation": 13, "user_id": 9869265, "user_type": "registered", "profile_image": "https://graph.facebook.com/2193968744177737/picture?type=large", "display_name": "Zin Min Oo", "link": "https://stackoverflow.com/users/9869265/zin-min-oo"}, "reply_to_user": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1564651121, "post_id": 57287425, "comment_id": 101104105, "body": "Just added the kotlin code that I really tried and it cannot open csv file . @CPerkins"}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1564679285, "post_id": 57287425, "comment_id": 101119852, "body": "I&#39;m guessing this is a file permission problem, but the precise error is not visible in the image.  The logcat probably doesn&#39;t have details because the code is catching the exception and displaying it in the dialog... but it does not show enough detail.  See <a href=\"https://stackoverflow.com/questions/36750664/no-such-file-or-directory-error-on-filereader-android\" title=\"no such file or directory error on filereader android\">stackoverflow.com/questions/36750664/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 9869265, "user_type": "registered", "profile_image": "https://graph.facebook.com/2193968744177737/picture?type=large", "display_name": "Zin Min Oo", "link": "https://stackoverflow.com/users/9869265/zin-min-oo"}, "reply_to_user": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1564718951, "post_id": 57287425, "comment_id": 101130399, "body": "Thanks for your help. Now I use &quot;InputStreamReader&quot; instead of &quot;FileReader&quot; according to the post that you provided, debug some errors and everything is fine now :) @CPerkins"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 9869265, "user_type": "registered", "profile_image": "https://graph.facebook.com/2193968744177737/picture?type=large", "display_name": "Zin Min Oo", "link": "https://stackoverflow.com/users/9869265/zin-min-oo"}, "is_accepted": true, "score": 0, "last_activity_date": 1564735738, "last_edit_date": 1564735738, "creation_date": 1564719354, "answer_id": 57319862, "question_id": 57287425, "link": "https://stackoverflow.com/questions/57287425/is-there-any-way-to-import-csv-file-into-sqlite-database-using-kotlin/57319862#57319862", "title": "Is there any way to import CSV file into SQLite Database using Kotlin?", "body": "<p>Changed the use of \"Read Text Class\" from \"FileReader\" to \"InputStreamReader\".</p>\n\n<pre><code>class MainActivity : ListActivity() {\n\ninternal lateinit var lbl: TextView\ninternal lateinit var db: DataBaseHelper\ninternal lateinit var btnimport: Button\ninternal lateinit var lv: ListView\ninternal lateinit var myList: ArrayList&lt;HashMap&lt;String, String&gt;&gt;\nval requestcode = 1\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    db = DataBaseHelper(this)\n    lbl = TextView(this)\n    lbl = findViewById&lt;TextView&gt;(R.id.txtresulttext)\n    val mas = findViewById&lt;Button&gt;(R.id.btnupload)\n    lv = getListView()\n\n\n\n    mas.setOnClickListener  {\n        val fileintent = Intent(Intent.ACTION_GET_CONTENT)\n        fileintent.type = \"text/csv\"\n        try {\n            startActivityForResult(fileintent, requestcode)\n        } catch (e: ActivityNotFoundException) {\n            lbl.text = \"No activity can handle picking a file. Showing alternatives.\"\n        }\n    }\n    myList = db.getAllProducts()\n    if (myList.size != 0) {\n        val lv = getListView()\n        var array = arrayOf(\"Company\", \"Product\", \"Price\")\n        val adapter = SimpleAdapter(this,myList,\n            R.layout.v, array,intArrayOf(R.id.txtproductcompany, R.id.txtproductname, R.id.txtproductprice))\n        setListAdapter(adapter)\n        lbl.text = \"\"\n    }\n\n}\n\noverride fun  onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    if (data == null)\n        return\n        if (requestCode &lt;= requestcode){\n        val filepath = data.data!!.path\n            println(filepath)\n            val inputStream = FileInputStream(filepath)//String? to InputString\n            println(inputStream)\n            val db = db.getWritableDatabase()\n        val tableName = \"table1\"\n        db.execSQL(\"delete from $tableName\")\n        try {\n            println(\"gg\")\n            if (resultCode == Activity.RESULT_OK) {\n                try {\n                    val file = InputStreamReader(inputStream)//use InputStreamReader\n\n                    val buffer = BufferedReader(file)\n                    val contentValues = ContentValues()\n                    db.beginTransaction()\n                    while (true){\n                        val line = buffer.readLine()\n                        if(line==null) break\n                        val str = line.split(\",\".toRegex(), 3)\n                            .toTypedArray()  \n\n                        val Company = str[0].toString()\n                        val Product = str[1].toString()\n                        val Price = str[2].toString()\n\n                        contentValues.put(\"Company\", Company)\n                        contentValues.put(\"Product\", Product)\n                        contentValues.put(\"Price\", Price)\n                        db.insert(tableName, null, contentValues)\n\n                        lbl.text = \"Successfully Updated Database.\"\n                    }\n\n                    db.setTransactionSuccessful()\n                    db.endTransaction()\n                } catch (e: IOException) {\n                    if (db.inTransaction())\n                        db.endTransaction()\n                    val d = Dialog(this)\n                    d.setTitle(e.message.toString() + \"first\")\n                    d.show()\n                }\n\n            } else {\n                if (db.inTransaction())\n                    db.endTransaction()\n                val d = Dialog(this)\n                d.setTitle(\"Only CSV files allowed\")\n                d.show()\n            }\n        } catch (ex: Exception) {\n            if (db.inTransaction())\n                db.endTransaction()\n\n            val d = Dialog(this)\n            d.setTitle(ex.message.toString() + \"second\")\n            d.show()\n        }\n\n    }\n    myList = db.getAllProducts()\n    if (myList.size != 0) {\n        val lv = getListView()\n        var array = arrayOf(\"Company\", \"Product\", \"Price\")\n        val adapter = SimpleAdapter(this,myList,\n            R.layout.v, array,intArrayOf(R.id.txtproductcompany, R.id.txtproductname, R.id.txtproductprice))\n        setListAdapter(adapter)\n        lbl.text = \"Data Imported\"\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9869265, "user_type": "registered", "profile_image": "https://graph.facebook.com/2193968744177737/picture?type=large", "display_name": "Zin Min Oo", "link": "https://stackoverflow.com/users/9869265/zin-min-oo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 57319862, "answer_count": 1, "score": 0, "last_activity_date": 1564735738, "creation_date": 1564564995, "last_edit_date": 1564651054, "question_id": 57287425, "link": "https://stackoverflow.com/questions/57287425/is-there-any-way-to-import-csv-file-into-sqlite-database-using-kotlin", "title": "Is there any way to import CSV file into SQLite Database using Kotlin?", "body": "<p>I need to import a csv file into sqlite database as a table. There are a lot of data in this csv file. I would like to know if there is a way to import such a lot of data programmatically in Kotlin way. I would appreciate any answer and comment.</p>\n\n<p>{Edited}\nI tried to open a csv file but it shows \"open failed\" however there is no error showing in logcat. I have no idea where I did mistake. This is the code I tried.</p>\n\n<p>DatabaseHelper Class</p>\n\n<pre><code>class DataBaseHelper(val context: Context) : SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VERSION) {\n\ncompanion object{\n\n    private val DATABASE_NAME = \"CSV2SQL\"\n    private val DATABASE_VERSION = 1\n\n    private val TABLE_NAME = \"table1\"\n    private val COL_ID = \"Id\"\n    private val COL_COMPANY = \"Company\"\n    private val COL_PRODUCT = \"Product\"\n    private val COL_PRICE = \"Price\"\n}\n    override fun onCreate(db: SQLiteDatabase) {\n        val CREATE_PRODUCTS_TABLE = (\"CREATE TABLE \" +\n                TABLE_NAME + \"(\"\n                + COL_ID + \" INTEGER PRIMARY KEY,\" +\n                COL_COMPANY + \" TEXT\" +\n                COL_PRODUCT + \"TEXT\" +\n                COL_PRICE + \"TEXT\" +\")\")\n        db.execSQL(CREATE_PRODUCTS_TABLE)\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + TABLE_NAME)\n        onCreate(db)\n    }\n\n    fun getAllProducts(): java.util.ArrayList&lt;HashMap&lt;String, String&gt;&gt; {\n        val proList: java.util.ArrayList&lt;HashMap&lt;String, String&gt;&gt;\n        proList = java.util.ArrayList()\n        val selectQuery = \"SELECT  * FROM $TABLE_NAME\"\n        val db = this.writableDatabase\n        val cursor = db.rawQuery(selectQuery, null)\n        if (cursor.moveToFirst()) {\n            do {\n                //Id, Company,Name,Price\n                val map = HashMap&lt;String, String&gt;()\n                map[\"Id\"] = cursor.getString(0)\n                map[\"Company\"] = cursor.getString(1)\n                map[\"Name\"] = cursor.getString(2)\n                map[\"Price\"] = cursor.getString(3)\n                proList.add(map)\n            } while (cursor.moveToNext())\n        }\n\n        return proList\n    }\n\n\n\n  }\n</code></pre>\n\n<p>MainActivity Class</p>\n\n<pre><code> class MainActivity : ListActivity() {\n\n    internal lateinit var lbl: TextView\n    internal var db = DataBaseHelper(this)\n    internal lateinit var btnimport: Button\n    internal lateinit var lv: ListView\n    internal lateinit var myList: ArrayList&lt;HashMap&lt;String, String&gt;&gt;\n    val requestcode = 1\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val txt = findViewById&lt;TextView&gt;(R.id.txtresulttext)\n        val mas = findViewById&lt;Button&gt;(R.id.btnupload)\n        lv = getListView()\n\n        mas.setOnClickListener  {\n            val fileintent = Intent(Intent.ACTION_GET_CONTENT)\n            fileintent.type = \"gagt/sdf\"\n            try {\n                startActivityForResult(fileintent, requestcode)\n            } catch (e: ActivityNotFoundException) {\n                lbl.text = \"No activity can handle picking a file. Showing alternatives.\"\n            }\n        }\n        myList = db.getAllProducts()\n        if (myList.size != 0) {\n            val lv = getListView()\n            var array = arrayOf(\"Company\", \"Name\", \"Price\")\n            val adapter = SimpleAdapter(this,myList,\n                R.layout.v, array,intArrayOf(R.id.txtproductcompany, R.id.txtproductname, R.id.txtproductprice))\n            setListAdapter(adapter)\n            lbl.text = \"\"\n        }\n\n    }\n\n    override fun  onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (data == null)\n            return\n            if (requestCode &lt;= requestcode){\n\n            val filepath = data.data!!.path\n            val db = db.getWritableDatabase()\n            val tableName = \"table1\"\n            db.execSQL(\"delete from $tableName\")\n            try {\n                if (resultCode == Activity.RESULT_OK) {\n                    try {\n//                        db = DBHelper(applicationContext)\n                        val file = FileReader(filepath!!)\n\n                        val buffer = BufferedReader(file)\n                        val contentValues = ContentValues()\n                        var line = \"\"\n                        db.beginTransaction()\n\n                        while ({ line = buffer.readLine(); line }() != null) {\n\n                            val str = line.split(\",\".toRegex(), 3)\n                                .toTypedArray()  // defining 3 columns with null or blank field //values acceptance\n                            //Id, Company,Name,Price\n                            val company = str[0]\n                            val Name = str[1]\n                            val Price = str[2]\n\n\n                            contentValues.put(\"Company\", company)\n                            contentValues.put(\"Name\", Name)\n                            contentValues.put(\"Price\", Price)\n                            db.insert(tableName, null, contentValues)\n                            lbl.text = \"Successfully Updated Database.\"\n                        }\n                        db.setTransactionSuccessful()\n                        db.endTransaction()\n                    } catch (e: IOException) {\n                        if (db.inTransaction())\n                            db.endTransaction()\n                        val d = Dialog(this)\n                        d.setTitle(e.message.toString() + \"first\")\n                        d.show()\n                        // db.endTransaction();\n                    }\n\n                } else {\n                    if (db.inTransaction())\n                        db.endTransaction()\n                    val d = Dialog(this)\n                    d.setTitle(\"Only CSV files allowed\")\n                    d.show()\n                }\n            } catch (ex: Exception) {\n                if (db.inTransaction())\n                    db.endTransaction()\n\n                val d = Dialog(this)\n                d.setTitle(ex.message.toString() + \"second\")\n                d.show()\n                // db.endTransaction();\n            }\n\n        }\n        myList = db.getAllProducts()\n        if (myList.size != 0) {\n            val lv = getListView()\n            var array = arrayOf(\"Company\", \"Name\", \"Price\")\n            val adapter = SimpleAdapter(this,myList,\n                R.layout.v, array,intArrayOf(R.id.txtproductcompany, R.id.txtproductname, R.id.txtproductprice))\n            setListAdapter(adapter)\n            lbl.text = \"Data Imported\"\n        }\n    }\n</code></pre>\n\n<p>This is the error message,\n<a href=\"https://i.stack.imgur.com/cJhFF.png\" rel=\"nofollow noreferrer\">Open Failed</a></p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564585885, "post_id": 57288868, "comment_id": 101082255, "body": "But a Map isn&#39;t like an Observable pattern? When i map a class is supposed it&#39;s part of intern graph so then I should have to &quot;observe&quot; this  this class from somewhere right? Like transform this map to a class again"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 2, "creation_date": 1564586074, "post_id": 57288868, "comment_id": 101082363, "body": "<code>Map</code>s are data structures, not patterns."}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564586358, "post_id": 57288868, "comment_id": 101082520, "body": "But they are part of an internal graph of Android right? Isn&#39;t like a normal object."}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564586421, "post_id": 57288868, "comment_id": 101082559, "body": "I&#39;m a little bit confused with <code>Map</code> and i don&#39;t understand why i should map my <code>Repository</code>."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564586423, "post_id": 57288868, "comment_id": 101082564, "body": "<code>Maps</code> have nothing to do with android. <code>Maps</code> are basic Java language or Kotlin. Of course you can use to store data on <code>Map</code>s even when working on Android"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564586454, "post_id": 57288868, "comment_id": 101082585, "body": "Dagger stores your Repository in a map"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564586507, "post_id": 57288868, "comment_id": 101082624, "body": "And from where i get this mapped <code>Repository</code> ? From the @Inject maybe?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 2, "creation_date": 1564586718, "post_id": 57288868, "comment_id": 101082716, "body": "You don&#39;t get the map, you just instruct dagger to put them in a map. After that the right dependenies come from  <code>@Inject</code> yes."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 4, "creation_date": 1564586814, "post_id": 57288868, "comment_id": 101082763, "body": "Think of it like this, you give me 5 bank accounts and foreach one the password. I&#39;m dagger, i put your acconts and paswwords in a map. when you request account number 1, i ask for the password, if it is correct I give it to you."}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564586962, "post_id": 57288868, "comment_id": 101082838, "body": "Ohh perfect! Thank you again!"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 4, "last_activity_date": 1564569568, "creation_date": 1564569568, "answer_id": 57288868, "question_id": 57287180, "link": "https://stackoverflow.com/questions/57287180/how-intomap-binds-exactly-works-with-dagger/57288868#57288868", "title": "How @IntoMap @Binds exactly works with Dagger?", "body": "<p><code>@Binds</code> is similar to <code>@Provides</code>, only it is used to provide interfaces, abstract classes or in your case classes that are extended. So there is no need there for any configuration, and <code>@Provides</code> call would be not necessary. </p>\n\n<p>While the <code>@IntoMap</code> is used as a command to <code>put</code> your keys into a map where the key is provided by <code>@ClassKey</code> or <code>@ViewModelKey</code> in your case and the value is provided by <code>@Binds</code>.</p>\n\n<p>Please also check the documentation, because my explanation is for your case specific. But that's the basic. From the Daggers Javadoc: </p>\n\n<p><strong><code>@Binds</code></strong></p>\n\n<blockquote>\n  <p>Annotates abstract methods of a Module that delegate bindings. For\n  example, to bind Random to SecureRandom a module could declare the\n  following: @Binds abstract Random bindRandom(SecureRandom\n  secureRandom); @Binds methods are a drop-in replacement for Provides\n  methods that simply return an injected parameter. Prefer @Binds\n  because the generated implementation is likely to be more efficient.</p>\n</blockquote>\n\n<p><strong><code>@IntoMap</code></strong></p>\n\n<blockquote>\n  <p>The method's return type forms the type argument for the value of a\n  Map>, and the combination of the annotated key and the\n  returned value is contributed to the map as a key/value pair. The\n  Map> produced from the accumulation of values will be\n  immutable.</p>\n</blockquote>\n"}], "owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1752, "favorite_count": 1, "accepted_answer_id": 57288868, "answer_count": 1, "score": 2, "last_activity_date": 1564569568, "creation_date": 1564564315, "question_id": 57287180, "link": "https://stackoverflow.com/questions/57287180/how-intomap-binds-exactly-works-with-dagger", "title": "How @IntoMap @Binds exactly works with Dagger?", "body": "<p>I'm using <code>Dagger</code> and i want to <code>@inject</code> a <code>Repository</code> to my <code>ViewModel</code> so i create an abstract module where I <code>Map</code> the repository class:</p>\n\n<p>My abstract module:</p>\n\n<pre><code>@Module\nabstract class RepositoryModule{\n\n    @Binds\n    @IntoMap\n    @ClassKey(RepositoryStatus::class)\n    abstract fun provideRepositoryStatus(repositoryStatus: RepositoryStatus): RepositoryStatus\n}\n</code></pre>\n\n<p>My <code>ViewModel</code> module where i include the <code>RespositoryModule</code>:</p>\n\n<pre><code>@Module(includes = [\n    RepositoryModule::class\n])\nabstract class ViewModelModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(MainViewModel::class)\n    abstract fun bindsMainViewModel(viewModel: MainViewModel): ViewModel\n}\n</code></pre>\n\n<p>I don't know how exactly works this, how is supposed that Dagger knows I have a map and i bind it with my <code>ViewModel</code>? because i never user the method. And I have a map include in a graph so it can't be used i think unless i call it.</p>\n"}, {"tags": ["java", "kotlin", "kotlin-dsl"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1564562407, "post_id": 57286535, "comment_id": 101068073, "body": "try change val myObject to var"}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "reply_to_user": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1564562819, "post_id": 57286535, "comment_id": 101068326, "body": "I tried that, but it made no difference. Thanks for the reply."}], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1564563007, "post_id": 57286628, "comment_id": 101068435, "body": "Hmmm. That limits the usability of the DSL. I think it means I will use some reflection to discover the classes and make sure they&#39;re loaded. Thanks for explaining what happens."}, {"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1564567898, "post_id": 57286628, "comment_id": 101071339, "body": "Reflection was not the tool for the job. Instead I&#39;ve used the ServiceLoader. Yes, that required wrapping the DSL in a new class that implements an interfase. So sad...."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1564562552, "creation_date": 1564562552, "answer_id": 57286628, "question_id": 57286535, "link": "https://stackoverflow.com/questions/57286535/kotlin-property-not-initialized-but-why/57286628#57286628", "title": "Kotlin property not initialized, but why?", "body": "<p>You need to refer to <em>something</em> defined in same the file as <code>val myObject</code>, directly or indirectly, from your test. Otherwise its generated class won't get loaded. E.g.</p>\n\n<pre><code>@Test\npublic void testMyObjectLoaded() {\n    your.package.FileNameKt.getMyObject();\n    Assert.assertEquals(1, Dsl.Companion.getStored().size);\n}\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 57286628, "answer_count": 1, "score": 0, "last_activity_date": 1566632848, "creation_date": 1564562216, "last_edit_date": 1566632848, "question_id": 57286535, "link": "https://stackoverflow.com/questions/57286535/kotlin-property-not-initialized-but-why", "title": "Kotlin property not initialized, but why?", "body": "<p>We're writing an internal DSL in Kotlin. Then we use it from our Java code. We see that the objects defined in the DSL are not yet available. Hence the question: Why is the package property not initialized?</p>\n\n<p>Simplified the situation is thus:</p>\n\n<pre><code>val myObject = dsl {\n    ...\n}\n</code></pre>\n\n<p>And the DSL:</p>\n\n<pre><code>class Dsl() {\n    companion object {\n        val stored = mutableListOf&lt;Dsl&gt;()\n\n        fun add(added: Dsl) {\n            stored += added\n        }\n    }\n}\n\nfun dsl(init: Dsl.() -&gt; Unit) {\n    val dsl = Dsl()\n    dsl.init()\n    Dsl.add(dsl) // Intentional side effect to simplify DSL definition\n}\n</code></pre>\n\n<p>Using the DSL from Java:</p>\n\n<pre><code>public class ExpectMyObject {\n    @Test\n    public void testMyObjectLoaded() {\n        Assert.assertEquals(1, Dsl.Companion.getStored().size)\n    }\n}\n</code></pre>\n\n<p>I expected the package property to be initialized when starting the JVM. But the test fails. What am I overlooking?</p>\n"}, {"tags": ["java", "android", "json", "kotlin"], "comments": [{"owner": {"reputation": 1236, "user_id": 10597533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e1DQL.png?s=128&g=1", "display_name": "Sergei Mikhailovskii", "link": "https://stackoverflow.com/users/10597533/sergei-mikhailovskii"}, "edited": false, "score": 0, "creation_date": 1564560330, "post_id": 57285891, "comment_id": 101066951, "body": "maybe it&#39;s better to create a pojo model and use Gson library? Or you don&#39;t have such opportunity?"}, {"owner": {"reputation": 168, "user_id": 7335183, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10202803887574250/picture?type=large", "display_name": "Nikola C", "link": "https://stackoverflow.com/users/7335183/nikola-c"}, "edited": false, "score": 0, "creation_date": 1564560412, "post_id": 57285891, "comment_id": 101066985, "body": "Try using <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retroft</a>, it is much faster and easier."}, {"owner": {"reputation": 1481, "user_id": 2527204, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4758e1eb44d4420af041c1495e3f6a31?s=128&d=identicon&r=PG", "display_name": "Marlon", "link": "https://stackoverflow.com/users/2527204/marlon"}, "reply_to_user": {"reputation": 1236, "user_id": 10597533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e1DQL.png?s=128&g=1", "display_name": "Sergei Mikhailovskii", "link": "https://stackoverflow.com/users/10597533/sergei-mikhailovskii"}, "edited": false, "score": 0, "creation_date": 1564560810, "post_id": 57285891, "comment_id": 101067197, "body": "@SergeiMikhailovskii this is just a simple unit test reading from a local json text file. Yes that is possible but I want to know why this code is not working."}], "answers": [{"comments": [{"owner": {"reputation": 1481, "user_id": 2527204, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4758e1eb44d4420af041c1495e3f6a31?s=128&d=identicon&r=PG", "display_name": "Marlon", "link": "https://stackoverflow.com/users/2527204/marlon"}, "edited": false, "score": 1, "creation_date": 1564560980, "post_id": 57286156, "comment_id": 101067287, "body": "Already did that, you can see in my code I have tried many different ways to convert it to an object, all of them return null."}, {"owner": {"reputation": 584, "user_id": 9093586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPojE.jpg?s=128&g=1", "display_name": "Marat Zangiev", "link": "https://stackoverflow.com/users/9093586/marat-zangiev"}, "reply_to_user": {"reputation": 1481, "user_id": 2527204, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4758e1eb44d4420af041c1495e3f6a31?s=128&d=identicon&r=PG", "display_name": "Marlon", "link": "https://stackoverflow.com/users/2527204/marlon"}, "edited": false, "score": 0, "creation_date": 1564561078, "post_id": 57286156, "comment_id": 101067349, "body": "Show how you load your string"}], "tags": [], "owner": {"reputation": 584, "user_id": 9093586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPojE.jpg?s=128&g=1", "display_name": "Marat Zangiev", "link": "https://stackoverflow.com/users/9093586/marat-zangiev"}, "is_accepted": false, "score": 1, "last_activity_date": 1564560853, "creation_date": 1564560853, "answer_id": 57286156, "question_id": 57285891, "link": "https://stackoverflow.com/questions/57285891/convert-string-to-jsonobject-in-kotlin-returns-null/57286156#57286156", "title": "Convert String to JsonObject in kotlin returns null", "body": "<ol>\n<li>There is no need to <code>substring</code> your JSON string. Put it inside <code>JSONObject</code> and it will work fine.</li>\n<li>If you need to get neasted objects use <code>getJSONObject</code> or <code>getJSONArray</code> methods</li>\n<li>Show your <code>content</code> string in code (or how do you load it)</li>\n</ol>\n\n<p><strong>Your edited code</strong></p>\n\n<pre><code>val content = \"the string above\"\n\nvar obj = JSONObject(content)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7182, "user_id": 1050058, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/g7x7D.jpg?s=128&g=1", "display_name": "Trung Nguyen", "link": "https://stackoverflow.com/users/1050058/trung-nguyen"}, "is_accepted": false, "score": 1, "last_activity_date": 1564563705, "creation_date": 1564563705, "answer_id": 57286971, "question_id": 57285891, "link": "https://stackoverflow.com/questions/57285891/convert-string-to-jsonobject-in-kotlin-returns-null/57286971#57286971", "title": "Convert String to JsonObject in kotlin returns null", "body": "<p>I run this funtion to parse your string and it's ok. Your string is valid. Can you specify how do you init <code>val content</code></p>\n\n<pre><code> fun parseJson() {\n    var stringJson = \"{\\\"sessions\\\": [{\\\"locations\\\": [{\\\"lat\\\": \\\"14.2294625\\\",\\\"lng\\\": \\\"121.1509005\\\",\\\"time\\\": 1560262643000,\\\"speed\\\": 0,\\\"speedLimit\\\": 0},{\\\"lat\\\": \\\"14.2294576\\\",\\\"lng\\\": \\\"121.1509498\\\",\\\"time\\\": 1560262713000,\\\"speed\\\": 0,\\\"speedLimit\\\": 0},{\\\"lat\\\": \\\"14.2294576\\\",\\\"lng\\\": \\\"121.1509498\\\",\\\"time\\\": 1560262714000,\\\"speed\\\": 0,\\\"speedLimit\\\": 0}],\\\"name\\\": \\\"1.5645220491E12\\\"}  ]}\"\n\n    var obj = JSONObject(stringJson)\n    System.out.println(\"obj1: $obj\")\n    var sessionArray: JSONArray = obj.optJSONArray(\"sessions\")\n    System.out.println(\"obj1: $sessionArray\")\n    var firstObject = sessionArray[0]\n    System.out.println(\"obj1: $firstObject\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 608, "user_id": 3122668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yl3mO.png?s=128&g=1", "display_name": "capo11", "link": "https://stackoverflow.com/users/3122668/capo11"}, "edited": false, "score": 0, "creation_date": 1608806512, "post_id": 65323864, "comment_id": 115689860, "body": "It works for me!!"}], "tags": [], "owner": {"reputation": 36, "user_id": 14013106, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjphWjTtmyVwZ8H1PVqIPI_AUiM1sUd5vS6DrP5Hw=k-s128", "display_name": "Evgeny Ezhov", "link": "https://stackoverflow.com/users/14013106/evgeny-ezhov"}, "is_accepted": false, "score": 1, "last_activity_date": 1608123825, "creation_date": 1608123825, "answer_id": 65323864, "question_id": 57285891, "link": "https://stackoverflow.com/questions/57285891/convert-string-to-jsonobject-in-kotlin-returns-null/65323864#65323864", "title": "Convert String to JsonObject in kotlin returns null", "body": "<p>Since you are running your code with Junit, it running on the SDK on your computer. This SDK doesn't provide everything, some are just some skeleton class providing signature of method and documentation but not the code. So you can't execute directly.</p>\n<p>Try to add the library in testing</p>\n<pre><code>testImplementation 'org.json:json:your_version'\n</code></pre>\n<p>See the version here :</p>\n<p><a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">http://mvnrepository.com/artifact/org.json/json</a></p>\n<p>This is based on the answer on this post: <a href=\"https://stackoverflow.com/questions/37389154/jsonobject-returns-a-non-null-value-of-null-after-instantiating-with-string\">JSONObject returns a non null value of &quot;null&quot; after instantiating with string</a></p>\n"}], "owner": {"reputation": 1481, "user_id": 2527204, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/4758e1eb44d4420af041c1495e3f6a31?s=128&d=identicon&r=PG", "display_name": "Marlon", "link": "https://stackoverflow.com/users/2527204/marlon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9805, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1608123825, "creation_date": 1564559914, "last_edit_date": 1593272624, "question_id": 57285891, "link": "https://stackoverflow.com/questions/57285891/convert-string-to-jsonobject-in-kotlin-returns-null", "title": "Convert String to JsonObject in kotlin returns null", "body": "<p><strong>Edit Found Solution:</strong></p>\n<p><strong>Found the error in my code. I'm running this on a unit test and Android doesn't use JSON objects on unit tests because it's part of android. That's why it was returning null.</strong></p>\n<p>Question:</p>\n<p>I'm tying to convert my String back to a JsonObject using JSONObject(&quot;string&quot;)</p>\n<p>Here is a sample of my String:</p>\n<pre><code>{\n  &quot;sessions&quot;: [\n    {\n      &quot;locations&quot;: [\n        {\n          &quot;lat&quot;: &quot;14.2294625&quot;,\n          &quot;lng&quot;: &quot;121.1509005&quot;,\n          &quot;time&quot;: 1560262643000,\n          &quot;speed&quot;: 0,\n          &quot;speedLimit&quot;: 0\n        },\n        {\n          &quot;lat&quot;: &quot;14.2294576&quot;,\n          &quot;lng&quot;: &quot;121.1509498&quot;,\n          &quot;time&quot;: 1560262713000,\n          &quot;speed&quot;: 0,\n          &quot;speedLimit&quot;: 0\n        },\n        {\n          &quot;lat&quot;: &quot;14.2294576&quot;,\n          &quot;lng&quot;: &quot;121.1509498&quot;,\n          &quot;time&quot;: 1560262714000,\n          &quot;speed&quot;: 0,\n          &quot;speedLimit&quot;: 0\n        }\n      ],\n      &quot;name&quot;: &quot;1.5645220491E12&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Its returning null on my JsonObjects:</p>\n<pre><code>content = &quot;the string above&quot;\n\nvar obj = JSONObject(content.substring(content.indexOf(&quot;{&quot;), content.lastIndexOf(&quot;}&quot;) + 1))\nSystem.out.println(&quot;obj1: &quot; + obj.toString())\n\nobj = JSONObject(content)\nSystem.out.println(&quot;obj1: &quot; + obj.toString())\n\nvar obj1 = JSONArray(content)\nSystem.out.println(&quot;obj1: &quot; + obj1.toString())\n\nobj1 = JSONArray(content.substring(content.indexOf(&quot;{&quot;), content.lastIndexOf(&quot;}&quot;) + 1))\nSystem.out.println(&quot;obj2: &quot; + obj1.toString())\n</code></pre>\n<p>All the outputs of this are null. Any way to know what error happens so I can adjust my json string?</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "dagger-2"], "comments": [{"owner": {"reputation": 196, "user_id": 10300876, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PeqEsz4QivY/AAAAAAAAAAI/AAAAAAAAASo/LGu679VduPg/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0430\u0442\u043e\u043b\u0438\u0439 \u0421\u043f\u0438\u0442\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/10300876/%d0%90%d0%bd%d0%b0%d1%82%d0%be%d0%bb%d0%b8%d0%b9-%d0%a1%d0%bf%d0%b8%d1%82%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 1, "creation_date": 1564559911, "post_id": 57285604, "comment_id": 101066739, "body": "See this answer <a href=\"https://stackoverflow.com/a/50834600/10300876\">stackoverflow.com/a/50834600/10300876</a>"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "reply_to_user": {"reputation": 196, "user_id": 10300876, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PeqEsz4QivY/AAAAAAAAAAI/AAAAAAAAASo/LGu679VduPg/photo.jpg?sz=128", "display_name": "\u0410\u043d\u0430\u0442\u043e\u043b\u0438\u0439 \u0421\u043f\u0438\u0442\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/10300876/%d0%90%d0%bd%d0%b0%d1%82%d0%be%d0%bb%d0%b8%d0%b9-%d0%a1%d0%bf%d0%b8%d1%82%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1564560117, "post_id": 57285604, "comment_id": 101066850, "body": "Thanks I just solve the problem!"}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564559741, "post_id": 57285645, "comment_id": 101066643, "body": "Thanks for the print stack trace info! It hasn&#39;t occurred to me. I just upload the stacktrace."}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564568625, "post_id": 57285645, "comment_id": 101071770, "body": "I posted a new question in my feed :)"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564568723, "post_id": 57285645, "comment_id": 101071826, "body": "where is it , i don&#39;t see it. you might wanna aska another question though. this one is resolved"}, {"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564569106, "post_id": 57285645, "comment_id": 101072033, "body": "Yes is another question: <a href=\"https://stackoverflow.com/questions/57287180/how-intomap-binds-exactly-works-with-dagger\" title=\"how intomap binds exactly works with dagger\">stackoverflow.com/questions/57287180/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 1, "last_activity_date": 1564561784, "last_edit_date": 1564561784, "creation_date": 1564558950, "answer_id": 57285645, "question_id": 57285604, "link": "https://stackoverflow.com/questions/57285604/onerror-at-observe-an-observable-on-retrofit/57285645#57285645", "title": "OnError at observe an Observable on Retrofit", "body": "<p>In case of that error you might wanna check your <code>BASE_URL</code> <strong>NOT</strong> to be without <code>https</code></p>\n\n<p>Also make sure to print the error your method is giving. You should be able to call it like this from the <code>onError</code> method: </p>\n\n<pre><code>override fun onError(e: Throwable) {\n           e.printStackTrace()\n        }\n</code></pre>\n"}], "owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57285645, "answer_count": 1, "score": 0, "last_activity_date": 1564561784, "creation_date": 1564558781, "last_edit_date": 1564559671, "question_id": 57285604, "link": "https://stackoverflow.com/questions/57285604/onerror-at-observe-an-observable-on-retrofit", "title": "OnError at observe an Observable on Retrofit", "body": "<p>I'm trying to observe a <code>String</code> from my <code>API</code> but i don't know why it jumps all time to <code>onError</code> method when i subscribe to it even though it creates my Retrofit Builder well. </p>\n\n<p>My <code>NetworkModule</code>:</p>\n\n<pre><code>@Module\nclass NetworkModule{\n\n    /**\n     * Provides the Post service implementation.\n     * @param retrofit the Retrofit object used to instantiate the service\n     * @return the Post service implementation.\n     */\n    @Provides\n    fun provideUserAuth(): ApiSMS{\n        return Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build()\n            .create(ApiSMS::class.java)\n    }\n}\n</code></pre>\n\n<p>My <code>ApiCall</code>:</p>\n\n<pre><code>interface ApiSMS {\n\n    @get:POST(\"/api/auth/sign_in\")\n    val getAuthentication: Observable&lt;Credentials&gt;\n\n    @get:GET(\"/api/status\")\n    val getStatus: Observable&lt;String&gt;\n}\n</code></pre>\n\n<p>My <code>ViewModel</code> from where i observe. When i call <code>getStatus</code> creates my Retrofit instance but only goes on the <code>onSubscribe</code> and then <code>onError</code>:</p>\n\n<pre><code>//Get Api Status\nfun getStatus() {\n    apiSMS.getStatus\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(getObserver())\n}\n\nprivate fun getObserver(): Observer&lt;String&gt; {\n    return object : Observer&lt;String&gt; {\n        override fun onComplete() {\n            Log.d(\"test\", \"onComplete\")\n        }\n\n        override fun onSubscribe(d: Disposable) {\n            Log.d(\"test\", \"onSubscribe\")\n            disposable = d\n        }\n\n        override fun onNext(t: String) {\n            Log.d(\"test\", \"onNext\")\n            Log.d(\"test\", t)\n        }\n\n        override fun onError(e: Throwable) {\n            Log.d(\"test\", \"onError\")\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>onError</code> stack trace:</p>\n\n<pre><code>2019-07-31 09:48:59.911 12063-12063/es.devinet.eptv W/System.err: java.net.UnknownServiceException: CLEARTEXT communication to (MY URL PRIVATE) not permitted by network security policy\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:147)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n2019-07-31 09:48:59.912 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at okhttp3.RealCall.execute(RealCall.java:92)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at retrofit2.OkHttpCall.execute(OkHttpCall.java:186)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at retrofit2.adapter.rxjava2.CallExecuteObservable.subscribeActual(CallExecuteObservable.java:45)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at io.reactivex.Observable.subscribe(Observable.java:12267)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(BodyObservable.java:34)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at io.reactivex.Observable.subscribe(Observable.java:12267)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n2019-07-31 09:48:59.913 12063-12063/es.devinet.eptv W/System.err:     at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n2019-07-31 09:48:59.914 12063-12063/es.devinet.eptv W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n2019-07-31 09:48:59.914 12063-12063/es.devinet.eptv W/System.err:     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n2019-07-31 09:48:59.914 12063-12063/es.devinet.eptv W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n2019-07-31 09:48:59.914 12063-12063/es.devinet.eptv W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n2019-07-31 09:48:59.914 12063-12063/es.devinet.eptv W/System.err:     at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "swipe"], "comments": [{"owner": {"reputation": 1003, "user_id": 2119723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XDfPi.png?s=128&g=1", "display_name": "MD Naseem Ashraf", "link": "https://stackoverflow.com/users/2119723/md-naseem-ashraf"}, "edited": false, "score": 0, "creation_date": 1564555945, "post_id": 57284739, "comment_id": 101064742, "body": "Welcome to Stack Overflow, Anuj. I&#39;d suggest adding a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCVE</a> so that your issue can be found and fixed quickly by others on SO. Also, adding screenshots can be helpful to the question."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11265942, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2MQsxShGAo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdsFn8TxVrW-EkCLnXugItN71jqyQ/mo/photo.jpg?sz=128", "display_name": "Anuj Itarsia", "link": "https://stackoverflow.com/users/11265942/anuj-itarsia"}, "edited": false, "score": 0, "creation_date": 1564558204, "post_id": 57284834, "comment_id": 101065860, "body": "thanks for replay. but this solution is not worked."}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 0, "last_activity_date": 1564555905, "creation_date": 1564555905, "answer_id": 57284834, "question_id": 57284739, "link": "https://stackoverflow.com/questions/57284739/after-viewholder-swiped-view-doesnt-restore-layout/57284834#57284834", "title": "After viewholder swiped view doesn&#39;t restore layout", "body": "<p>remove it from your list that adapter is using and also notify adapter with <code>notifyItemRemoved(position);</code></p>\n"}], "owner": {"reputation": 31, "user_id": 11265942, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2MQsxShGAo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdsFn8TxVrW-EkCLnXugItN71jqyQ/mo/photo.jpg?sz=128", "display_name": "Anuj Itarsia", "link": "https://stackoverflow.com/users/11265942/anuj-itarsia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564558097, "creation_date": 1564555487, "last_edit_date": 1564558097, "question_id": 57284739, "link": "https://stackoverflow.com/questions/57284739/after-viewholder-swiped-view-doesnt-restore-layout", "title": "After viewholder swiped view doesn&#39;t restore layout", "body": "<p>I am making a view holder swipe for like. but when I am swipe view its get 2 view holder swiped.</p>\n\n<pre><code>\n                llBillView = viewHolder?.itemView?.findViewById(R.id.llBillBG)!!\n                val clAdd = viewHolder.itemView.findViewById&lt;RelativeLayout&gt;(R.id.ll)\n                clAdd.visibility = View.VISIBLE\n\n                if (!isSwiped) {\n                    val translationX = Math.min(-dX, (llBillView.width / 4).toFloat())\n                    llBillView.translationX = -translationX\n                    // Logger.i(\"child draw inside $dX\")\n                }\n                isSwiped = false\n\n            }```\n\nI want to swipe only 1 view holder at a time. thanks in advance.\n</code></pre>\n"}, {"tags": ["android", "kotlin", "deprecated", "networkinfo"], "comments": [{"owner": {"reputation": 718, "user_id": 9290612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpYvK.jpg?s=128&g=1", "display_name": "A.R.B.N", "link": "https://stackoverflow.com/users/9290612/a-r-b-n"}, "reply_to_user": {"reputation": 464, "user_id": 8614703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c1a944591b12be65b3f5d3c35771d?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Sabeh", "link": "https://stackoverflow.com/users/8614703/ahmad-sabeh"}, "edited": false, "score": 0, "creation_date": 1564556414, "post_id": 57284582, "comment_id": 101064949, "body": "@AhmadSabeh , MayRestinPeace: the problem is not TYPE..."}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1609077454, "post_id": 57284582, "comment_id": 115741915, "body": "<a href=\"https://github.com/quicklearner4991/Check-Internet-Connectivity-Android\" rel=\"nofollow noreferrer\">github.com/quicklearner4991/Check-Internet-Connectivity-Andr&zwnj;&#8203;oid</a>"}, {"owner": {"reputation": 718, "user_id": 9290612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpYvK.jpg?s=128&g=1", "display_name": "A.R.B.N", "link": "https://stackoverflow.com/users/9290612/a-r-b-n"}, "reply_to_user": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1609157651, "post_id": 57284582, "comment_id": 115761081, "body": "@Quicklearner , Thanks but already solved."}], "answers": [{"comments": [{"owner": {"reputation": 3880, "user_id": 11411002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93aac89c00c36d873533f87b373658d8?s=128&d=identicon&r=PG&f=1", "display_name": "SwiftiSwift", "link": "https://stackoverflow.com/users/11411002/swiftiswift"}, "edited": false, "score": 2, "creation_date": 1588695462, "post_id": 57284789, "comment_id": 108995058, "body": "Works like a charm!"}, {"owner": {"reputation": 71, "user_id": 12507036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be68021b9099005558ce4247a8a7ece1?s=128&d=identicon&r=PG&f=1", "display_name": "ytilliette", "link": "https://stackoverflow.com/users/12507036/ytilliette"}, "edited": false, "score": 0, "creation_date": 1605123009, "post_id": 57284789, "comment_id": 114558217, "body": "works great, thank you. one comment on the Kotlin version, you can cast the connectivity manager as nullable <code>ConnectivityManager?</code> and check for <code>null</code> to avoid NPE"}, {"owner": {"reputation": 2015, "user_id": 2862860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HpN7E.jpg?s=128&g=1", "display_name": "Ali shatergholi", "link": "https://stackoverflow.com/users/2862860/ali-shatergholi"}, "reply_to_user": {"reputation": 71, "user_id": 12507036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be68021b9099005558ce4247a8a7ece1?s=128&d=identicon&r=PG&f=1", "display_name": "ytilliette", "link": "https://stackoverflow.com/users/12507036/ytilliette"}, "edited": false, "score": 0, "creation_date": 1605198261, "post_id": 57284789, "comment_id": 114583361, "body": "@ytilliette thanks"}], "tags": [], "owner": {"reputation": 2015, "user_id": 2862860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HpN7E.jpg?s=128&g=1", "display_name": "Ali shatergholi", "link": "https://stackoverflow.com/users/2862860/ali-shatergholi"}, "is_accepted": true, "score": 29, "last_activity_date": 1605198211, "last_edit_date": 1605198211, "creation_date": 1564555686, "answer_id": 57284789, "question_id": 57284582, "link": "https://stackoverflow.com/questions/57284582/networkinfo-has-been-deprecated-by-api-29/57284789#57284789", "title": "NetworkInfo has been deprecated by API 29", "body": "<p>It's deprecated base on <a href=\"https://developer.android.com/reference/android/net/NetworkInfo\" rel=\"noreferrer\">Google Document</a></p>\n<ul>\n<li>getActiveNetworkInfo is deprecated on API 29.</li>\n<li>getAllNetworkInfo is deprecated on API 23.</li>\n</ul>\n<p>So, If you want to find the Network Connection status, you can use this code.</p>\n<p>kotlin :</p>\n<pre><code> private fun isNetworkAvailable(context: Context): Boolean {\n    val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        val nw      = connectivityManager.activeNetwork ?: return false\n        val actNw = connectivityManager.getNetworkCapabilities(nw) ?: return false\n        return when {\n            actNw.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\n            actNw.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\n            //for other device how are able to connect with Ethernet\n            actNw.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\n            //for check internet over Bluetooth\n            actNw.hasTransport(NetworkCapabilities.TRANSPORT_BLUETOOTH) -&gt; true\n            else -&gt; false\n        }\n    } else {\n        return connectivityManager.activeNetworkInfo?.isConnected ?: false\n    }\n}\n</code></pre>\n<p>Java :</p>\n<pre><code>private Boolean isNetworkAvailable(Application application) {\n    ConnectivityManager connectivityManager = (ConnectivityManager) application.getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        Network nw = connectivityManager.getActiveNetwork();\n        if (nw == null) return false;\n        NetworkCapabilities actNw = connectivityManager.getNetworkCapabilities(nw);\n        return actNw != null &amp;&amp; (actNw.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || actNw.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || actNw.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) || actNw.hasTransport(NetworkCapabilities.TRANSPORT_BLUETOOTH));\n    } else {\n        NetworkInfo nwInfo = connectivityManager.getActiveNetworkInfo();\n        return nwInfo != null &amp;&amp; nwInfo.isConnected();\n    }\n}\n</code></pre>\n<p>you can see all <a href=\"https://developer.android.com/reference/android/net/NetworkCapabilities\" rel=\"noreferrer\">NetworkCapability</a> here.</p>\n"}], "owner": {"reputation": 718, "user_id": 9290612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fpYvK.jpg?s=128&g=1", "display_name": "A.R.B.N", "link": "https://stackoverflow.com/users/9290612/a-r-b-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11437, "favorite_count": 6, "closed_date": 1564556518, "accepted_answer_id": 57284789, "answer_count": 1, "score": 3, "last_activity_date": 1605198211, "creation_date": 1564554708, "last_edit_date": 1564760038, "question_id": 57284582, "link": "https://stackoverflow.com/questions/57284582/networkinfo-has-been-deprecated-by-api-29", "closed_reason": "Duplicate", "title": "NetworkInfo has been deprecated by API 29", "body": "<p>I wanted to check the network connection. So, I used <code>ConnectivityManager.activateNetworkInfo.isConnected</code></p>\n\n<p>unfortunately, that's deprecated in API 29.</p>\n\n<pre><code>private fun isOnline(): Boolean {\n    val connectivityManager = appContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val networkInfo = connectivityManager.activeNetworkInfo\n    return networkInfo != null &amp;&amp; networkInfo.isConnected\n}\n</code></pre>\n\n<p>and you can see depreciation message here </p>\n\n<p><a href=\"https://i.stack.imgur.com/IyVof.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IyVof.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "mobile", "ide", "device"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1564560092, "post_id": 57284538, "comment_id": 101066838, "body": "I&#39;d like to know of one, too!  (For Android, anyway.  Also, any way to run my existing command-line Java programs...)"}, {"owner": {"reputation": 77, "user_id": 1022566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47b8697f8fbe831823b07f981b6f81?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey.Efimov", "link": "https://stackoverflow.com/users/1022566/alexey-efimov"}, "edited": false, "score": 0, "creation_date": 1564567023, "post_id": 57284538, "comment_id": 101070805, "body": "Dcoder seems to be nice on android. But still it is not really comfortable to code on mobile device unless you have separate keyboard. But if you do, it is much better to have small laptop which is comparable by means of size with ipad with keyboard"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1564581190, "post_id": 57284538, "comment_id": 101079159, "body": "<a href=\"https://igg.me/at/geminipda\" rel=\"nofollow noreferrer\">Some</a> Android phones <a href=\"https://igg.me/at/gogocosmo\" rel=\"nofollow noreferrer\">do</a> have a rather good keyboard built in\u2026  But with all that computing power, surely there must be a way to write code on the device <i>itself</i>, without using up time and data sending it all to AWS?  (For example, you can run the old Jikes Java compiler; but I can&#39;t see how to run the Java .class files it generates.)"}, {"owner": {"reputation": 149, "user_id": 14095630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ea92043f4ea6481110c53a73d1778c3?s=128&d=identicon&r=PG&f=1", "display_name": "Yamirui", "link": "https://stackoverflow.com/users/14095630/yamirui"}, "edited": false, "score": 0, "creation_date": 1599308311, "post_id": 57284538, "comment_id": 112738285, "body": "On android you could try using termux and chroot into ubuntu or other distro. After that, it should be mostly free reign, I don&#39;t think there&#39;s anything more usable than (n)vim and its kotlin plugins (that way you will never need mouse-like movements, only keyboard), in it, though. You could theoretically install whole DE and then just use IntelliJ... There&#39;s no reason why XFCE or i3 wouldn&#39;t work, not sure about IntelliJ on ARM though."}], "owner": {"reputation": 13, "user_id": 11787092, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mr3qqGzn8fg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reO1T8uZzIOhaHOQmIv_OsskVVwxg/photo.jpg?sz=128", "display_name": "james jackson", "link": "https://stackoverflow.com/users/11787092/james-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1599307719, "creation_date": 1564554466, "question_id": 57284538, "link": "https://stackoverflow.com/questions/57284538/ide-for-kotlin-that-i-can-run-on-my-mobile-device", "title": "Ide for kotlin that I can run on my mobile device", "body": "<p>I'm looking for an IDE that I can run on my mobile device that supports kotlin anyone have any ideas?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564555731, "post_id": 57284493, "comment_id": 101064649, "body": "have you handled permissions for reading external storage ?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1564555964, "post_id": 57284493, "comment_id": 101064746, "body": "Why do you need a path? You already have a <code>Uri</code> that points right to it. Furthermore, you can&#39;t send file <code>Uri</code>s externally anymore on newer Android versions. <a href=\"https://stackoverflow.com/q/38200282\">stackoverflow.com/q/38200282</a>"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1564556548, "post_id": 57284493, "comment_id": 101065012, "body": "you likely don&#39;t need the path. Why you want to get it?"}, {"owner": {"reputation": 127, "user_id": 9160203, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tOSl4hCnNlA/AAAAAAAAAAI/AAAAAAAAABY/nMV8Z_XfaUI/photo.jpg?sz=128", "display_name": "Baban Jadhav", "link": "https://stackoverflow.com/users/9160203/baban-jadhav"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564565216, "post_id": 57284493, "comment_id": 101069684, "body": "@a_local_nobody : Yes, I did this"}, {"owner": {"reputation": 127, "user_id": 9160203, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tOSl4hCnNlA/AAAAAAAAAAI/AAAAAAAAABY/nMV8Z_XfaUI/photo.jpg?sz=128", "display_name": "Baban Jadhav", "link": "https://stackoverflow.com/users/9160203/baban-jadhav"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1564565394, "post_id": 57284493, "comment_id": 101069793, "body": "@MikeM. : I have already applied the solution given by you. But, not getting the path. I need the path to upload on AWS (S3 bucket) server."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1564618900, "post_id": 57284493, "comment_id": 101094291, "body": "I didn&#39;t link that post to suggest it as a solution. I just linked it for the explanation, since it didn&#39;t seem as though you&#39;d done any research on that error yet. Anyway, a <code>Uri</code> is not a file. It might point to a file, but it also might not. If the AWS thing absolutely has to have a file, then the safest thing for you to do would be to use <code>ContentResolver#openInputStream()</code> with the <code>Uri</code> to copy the document to a local file, then pass that file to the AWS API. Otherwise, if you can hand AWS a <code>Uri</code> instead, it&#39;d be much better to just give it the one you got originally."}], "owner": {"reputation": 127, "user_id": 9160203, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tOSl4hCnNlA/AAAAAAAAAAI/AAAAAAAAABY/nMV8Z_XfaUI/photo.jpg?sz=128", "display_name": "Baban Jadhav", "link": "https://stackoverflow.com/users/9160203/baban-jadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1564554297, "creation_date": 1564554297, "question_id": 57284493, "link": "https://stackoverflow.com/questions/57284493/how-to-get-file-path-from-documentpdf-doc-docx-uri", "title": "How to get file path from document(pdf, doc, docx) URI?", "body": "<p>I have picked the documents(PDF, DOC, DOCX) from the file manager and trying to get the path from Uri. But, I am getting an exception as\n(FileUriExposedException:  exposed beyond app through Intent.getData())</p>\n\n<p>I have used below code for getting file path from URI.</p>\n\n<pre><code> fun getPathDOC(context: Context, uri: Uri): String? {\n                    var uri = uri\n                    val needToCheckUri = Build.VERSION.SDK_INT &gt;= 19\n                    var selection: String? = null\n                    var selectionArgs: Array&lt;String&gt;? = null\n\n                    // Uri is different in versions after KITKAT (Android 4.4), we need to\n                    // deal with different Uris.\n\n                    if (needToCheckUri &amp;&amp; DocumentsContract.isDocumentUri(context.applicationContext, uri)) {\n                        if (isExternalStorageDocument(uri)) {\n                            val docId = DocumentsContract.getDocumentId(uri)\n                            val split = docId.split(\":\".toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n                            return Environment.getExternalStorageDirectory().toString() + \"/\" + split[1]\n\n                        } else if (isDownloadsDocument(uri)) {\n                            val id = DocumentsContract.getDocumentId(uri)\n\n                            if (id != null &amp;&amp; id.startsWith(\"raw:\")) {\n                                return id.substring(4)\n                            }\n\n                            val contentUriPrefixesToTry = arrayOf(\n                                \"content://downloads/public_downloads\",\n                                \"content://downloads/my_downloads\",\n                                \"content://downloads/all_downloads\"\n                            )\n\n                            for (contentUriPrefix in contentUriPrefixesToTry) {\n                                val contentUri =\n                                    ContentUris.withAppendedId(Uri.parse(contentUriPrefix), java.lang.Long.valueOf(id!!))\n                                try {\n                                    val path = getDataColumn(context, contentUri, null, null)\n                                    if (path != null) {\n                                        return path\n                                    }\n                                } catch (e: Exception) {\n                                }\n\n                            }\n\n                        } else if (isMediaDocument(uri)) {\n\n                            val docId = DocumentsContract.getDocumentId(uri)\n                            val split = docId.split(\":\".toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n                            val type = split[0]\n                            if (\"image\" == type) {\n                                uri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n                            } else if (\"video\" == type) {\n                                uri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI\n                            } else if (\"audio\" == type) {\n                                uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\n                            }\n                            selection = \"_id=?\"\n                            selectionArgs = arrayOf(split[1])\n                        }\n                    }\n                    if (\"content\".equals(uri.scheme!!, ignoreCase = true)) {\n                        val projection = arrayOf(MediaStore.Images.Media.DATA)\n                        var cursor: Cursor? = null\n                        try {\n                            cursor = context.contentResolver.query(uri, projection, selection, selectionArgs, null)\n                            val column_index = cursor!!.getColumnIndexOrThrow(MediaStore.Images.Media.DATA)\n                            if (cursor.moveToFirst()) {\n                                return cursor.getString(column_index)\n                            }\n                        } catch (e: Exception) {\n                            println(e)\n                        }\n\n                    } else if (\"file\".equals(uri.scheme!!, ignoreCase = true)) {\n                        return uri.path\n                    }\n                    return null\n                }\n</code></pre>\n\n<p>I have tried :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36109507/how-to-get-the-file-path-from-a-uri-that-points-to-a-pdf-document\">How to get the file path from a URI that points to a PDF document?</a></p>\n\n<p><a href=\"https://www.dev2qa.com/how-to-get-real-file-path-from-android-uri/\" rel=\"nofollow noreferrer\">https://www.dev2qa.com/how-to-get-real-file-path-from-android-uri/</a></p>\n\n<p>My above code is working on some devices and giving an error in some devices kindly help me on this.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1564550023, "post_id": 57283595, "comment_id": 101062466, "body": "Making it invisible instead of putting it behind something else may be more efficient."}, {"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1564550222, "post_id": 57283595, "comment_id": 101062529, "body": "You can add a <code>BottomSheetCallback</code> to your <code>BottomSheet</code> and then set the alpha for your view that needs to be hidden based on the position of your <code>BottomSheet</code>, something else you could do is change the view position in stead of setting the alpha."}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1564550417, "post_id": 57283595, "comment_id": 101062583, "body": "use stubviews for different layout"}], "answers": [{"comments": [{"owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "edited": false, "score": 0, "creation_date": 1564555208, "post_id": 57283764, "comment_id": 101064410, "body": "I dont need to hide the whole view. Just the bottom part"}], "tags": [], "owner": {"reputation": 430, "user_id": 7272120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48bd46f9440d9352005f672cb6837f32?s=128&d=identicon&r=PG&f=1", "display_name": "J.Dragon", "link": "https://stackoverflow.com/users/7272120/j-dragon"}, "is_accepted": false, "score": 0, "last_activity_date": 1564550745, "creation_date": 1564550745, "answer_id": 57283764, "question_id": 57283595, "link": "https://stackoverflow.com/questions/57283595/how-to-hide-a-layout-behind-another-component-within-xml/57283764#57283764", "title": "How to hide a layout behind another component within xml?", "body": "<p>use in xml</p>\n\n<pre><code>android:visibility=\"gone\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>android:visibility=\"invisible\"\n</code></pre>\n\n<p>also use in java(activity) code</p>\n\n<pre><code>view.setVisibility(View.INVISIBLE);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>view.setVisibility(View.GONE);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 8499951, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gwcTkeiygFQ/AAAAAAAAAAI/AAAAAAAAABA/B5yjkYJ_Jfk/photo.jpg?sz=128", "display_name": "Rakshith Shetty", "link": "https://stackoverflow.com/users/8499951/rakshith-shetty"}, "is_accepted": false, "score": 0, "last_activity_date": 1564556370, "creation_date": 1564556370, "answer_id": 57284949, "question_id": 57283595, "link": "https://stackoverflow.com/questions/57283595/how-to-hide-a-layout-behind-another-component-within-xml/57284949#57284949", "title": "How to hide a layout behind another component within xml?", "body": "<p>To bring any <code>View</code> to top, You have to call\n<code>yourView.bringToFront()</code></p>\n"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1564556370, "creation_date": 1564549846, "last_edit_date": 1564555216, "question_id": 57283595, "link": "https://stackoverflow.com/questions/57283595/how-to-hide-a-layout-behind-another-component-within-xml", "title": "How to hide a layout behind another component within xml?", "body": "<p>I would like to hide a layout behind another component in my <code>activity_main.xml</code>. I am using a bottom sheet and would only like to view the top portion. The bottom should be hidden behind my toolbar. Is there a function or property that will push the layout behind the component? </p>\n\n<p><code>main_activity.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/top_app_bar\"\n        android:name=\"com.ds.base.fragments.TopAppBarFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"?attr/actionBarSize\"\n        app:layout_constraintBottom_toTopOf=\"@+id/include\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.5\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_chainStyle=\"spread\" /&gt;\n\n    &lt;include\n        android:id=\"@+id/include\"\n        android:layout_height=\"0dp\"\n        android:layout_width=\"match_parent\"\n        layout=\"@layout/content_main\"\n        app:layout_constraintBottom_toTopOf=\"@+id/main_bottom_app_bar\"\n        app:layout_constraintStart_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/top_app_bar\"/&gt;\n\n    &lt;fragment\n        android:id=\"@+id/main_bottom_app_bar\"\n        android:name=\"com.ds.base.fragments.BottomAppBarFragment\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"90dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/include\"&gt;\n\n    &lt;/fragment&gt;\n\n\n    &lt;include\n        android:id=\"@+id/time_remaining_layout\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"wrap_content\"\n        layout=\"@layout/time_remaining_bottom_sheet\"\n        app:layout_constraintTop_toTopOf=\"@id/main_bottom_app_bar\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/YDVGX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDVGX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "generics", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1564551018, "post_id": 57283453, "comment_id": 101062776, "body": "So <code>T1</code>, <code>T2</code>, ..., <code>T12</code> all have to be different types?"}, {"owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "edited": false, "score": 0, "creation_date": 1564559320, "post_id": 57283453, "comment_id": 101066448, "body": "It think it&#39;s not possible. Could you add your CombinedLiveData code, then it would be easier to understand how you what to use this T1 combined type."}, {"owner": {"reputation": 343, "user_id": 4854670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7od50.jpg?s=128&g=1", "display_name": "mrahimygk", "link": "https://stackoverflow.com/users/4854670/mrahimygk"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1564582986, "post_id": 57283453, "comment_id": 101080350, "body": "@Sanlok-Lee usually yes, but if there could be a solution even for same <code>T</code>s I would make a use of it."}], "owner": {"reputation": 343, "user_id": 4854670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7od50.jpg?s=128&g=1", "display_name": "mrahimygk", "link": "https://stackoverflow.com/users/4854670/mrahimygk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1564583190, "creation_date": 1564549035, "last_edit_date": 1564583190, "question_id": 57283453, "link": "https://stackoverflow.com/questions/57283453/java-generics-passing-multiple-types-to-diamond", "title": "Java Generics: passing multiple types to diamond", "body": "<p>In android there is a class called <code>MediatorLiveData&lt;T&gt;</code> which acts as a ... mediator for LiveData. </p>\n\n<p>There are situations like when we need to validate multiple live data objects and get a boolean value from them; we make a <code>CombinedLiveData&lt;T,U,S&gt;</code> and extend <code>MediatorLiveData&lt;S&gt;</code> so we can pass a higer-order function which accepts <code>t:T, u:U</code> and returns an <code>S</code>. </p>\n\n<p>Imagine when we have to pass unlimited amount of <code>T</code>s to this class and return a value of <code>S</code>: We have to make a <code>CLD_12&lt;T1,T2,...T12,S&gt;</code> and another one for 13 inputs, very frustrating. </p>\n\n<p>So I am asking if there is a way to say <code>CLD&lt;T1..., S&gt; : MLD&lt;S&gt;()</code> or another way make this happen.</p>\n\n<h3>edit: adding the code</h3>\n\n<pre><code>class CombinedLiveData2&lt;T, K, S&gt;(\nsource1: LiveData&lt;T&gt;,\nsource2: LiveData&lt;K&gt;,\nprivate val combine: (data1: T?, data2: K?) -&gt; S\n) : MediatorLiveData&lt;S&gt;() {\n\nprivate var data1: T? = null\nprivate var data2: K? = null\n\ninit {\n    super.addSource(source1) {\n        data1 = it\n        value = combine(data1, data2)\n    }\n    super.addSource(source2) {\n        data2 = it\n        value = combine(data1, data2)\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "c#", "android", "kotlin", "xamarin.android"], "comments": [{"owner": {"reputation": 7502, "user_id": 6717445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcOO7.jpg?s=128&g=1", "display_name": "Cherry Bu - MSFT", "link": "https://stackoverflow.com/users/6717445/cherry-bu-msft"}, "edited": false, "score": 0, "creation_date": 1564639138, "post_id": 57283343, "comment_id": 101098307, "body": ",It seems that the <a href=\"https://github.com/xabre/xamarin-bluetooth-le\" rel=\"nofollow noreferrer\">Bluetooth LE plugin for Xamarin</a> can help you to scan"}], "owner": {"reputation": 67, "user_id": 5434799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f288360cad71ed6038072d67a1b0dbd?s=128&d=identicon&r=PG&f=1", "display_name": "Asad", "link": "https://stackoverflow.com/users/5434799/asad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1564548323, "creation_date": 1564548323, "question_id": 57283343, "link": "https://stackoverflow.com/questions/57283343/ble-scans-not-received-after-turning-the-bluetooth-off-and-turning-it-back-on", "title": "Ble scans not received after turning the bluetooth off and turning it back on", "body": "<p>When the Bluetooth is turned On, I start ble scanning using <code>BluetoothLeScanner.StartScan (IList&lt;ScanFilter&gt; filters, ScanSettings settings, PendingIntent callbackIntent);</code> and I start receiving scans through a Broadcast receiver as expected.</p>\n\n<p>Now, if I turn off the bluetooth on the phone, I stop receiving scans as expected but if I turn the bluetooth back on again I don't receive any scans.</p>\n\n<p>Only after I have called <code>BluetoothLeScanner.StartScan</code> again, I start receiving scans again.</p>\n\n<p>So it seems as if when the bluetooth is turned off and on, the state (the devices is scanning currently) is probably either never saved and restored, or the save or restore fails.</p>\n\n<p>If, as per the design, we have to call <code>BluetoothLeScanner.StartScan</code> every single time the bluetooth turns on, we never get to know that bluetooth turned on when the app is not running, because the required implicit intent can no longer (Oreo+) be received through manifest declared broadcast receivers.</p>\n\n<p>Do I necessarily have to call <code>BluetoothLeScanner.StartScan</code> every single time the bluetooth turns on? or am I missing on something?</p>\n\n<p>Tried <code>BluetoothLeScanner.StartScan (IList&lt;ScanFilter&gt; filters, ScanSettings settings, PendingIntent callbackIntent);</code> to start scan.</p>\n"}, {"tags": ["firebase", "kotlin", "firebase-mlkit"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1564556718, "post_id": 57283267, "comment_id": 101065104, "body": "Or maybe better don&#39;t swallow the exception in the first place."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1564547894, "creation_date": 1564547894, "answer_id": 57283267, "question_id": 57283119, "link": "https://stackoverflow.com/questions/57283119/how-to-fix-variable-image-must-be-initialized/57283267#57283267", "title": "How to fix &quot;Variable &#39;image&#39; must be initialized&quot;", "body": "<p>You have two codepaths, one where image is initialized, and another where it is not:</p>\n\n<pre><code>        try {\n            image = FirebaseVisionImage.fromFilePath(this, result.uri)\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n</code></pre>\n\n<p>If your code goes through the second code path where <code>FirebaseVisionImage.fromFilePath</code> throws an exception, your code will continue without image being initialized.  In that situation, the code afterward will fail when it tries to use an uninitalized <code>image</code>.</p>\n\n<p>All you have to do is move the code that works with <code>image</code> <em>inside</em> the <code>try</code> block where <code>image</code> is known to have a value, not <em>after</em> it where it is not certain that <code>image</code> has a value.</p>\n"}], "owner": {"reputation": 11, "user_id": 11843155, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yMDT53idtDA/AAAAAAAAAAI/AAAAAAAAmlk/e_EGf4VFaUs/photo.jpg?sz=128", "display_name": "Koyodee", "link": "https://stackoverflow.com/users/11843155/koyodee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1564547965, "creation_date": 1564546770, "last_edit_date": 1564547965, "question_id": 57283119, "link": "https://stackoverflow.com/questions/57283119/how-to-fix-variable-image-must-be-initialized", "title": "How to fix &quot;Variable &#39;image&#39; must be initialized&quot;", "body": "<p>I'm setting up TextRecognition with Firebase, and the \"image\" variable is giving me a \"Variable 'image' must be initialized\" error. </p>\n\n<p>I've followed the tutorial and haven't had any issues until now. </p>\n\n<pre><code>            val image: FirebaseVisionImage\n            try {\n                image = FirebaseVisionImage.fromFilePath(this, result.uri)\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n\n\n            val detector = FirebaseVision.getInstance()\n                .onDeviceTextRecognizer\n               //This is what's giving me an error \\/\n            val myResult = detector.processImage(image)\n                .addOnSuccessListener { firebaseVisionText -&gt;\n                    // Task completed successfully\n                    // ...\n                }\n                .addOnFailureListener {\n                    // Task failed with an exception\n                    // ...\n                }\n</code></pre>\n\n<p>I expect my app to not crash when this runs.</p>\n"}, {"tags": ["android", "kotlin", "entity-relationship"], "comments": [{"owner": {"reputation": 1458, "user_id": 11746212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69fe33bc21a8570b9e9c0fce89a681fa?s=128&d=identicon&r=PG&f=1", "display_name": "IronMan", "link": "https://stackoverflow.com/users/11746212/ironman"}, "edited": false, "score": 1, "creation_date": 1564535375, "post_id": 57281803, "comment_id": 101059734, "body": "Perhaps use <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u60/jdk/file/tip/src/share/classes/java/lang/Math.java#l872\" rel=\"nofollow noreferrer\"><code>Math.multiplyExact</code></a>"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "reply_to_user": {"reputation": 1458, "user_id": 11746212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69fe33bc21a8570b9e9c0fce89a681fa?s=128&d=identicon&r=PG&f=1", "display_name": "IronMan", "link": "https://stackoverflow.com/users/11746212/ironman"}, "edited": false, "score": 0, "creation_date": 1564535459, "post_id": 57281803, "comment_id": 101059749, "body": "Yes, I know it, but I would not want to throw an exception. I would like to avoid it."}], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 1, "creation_date": 1564539432, "post_id": 57282105, "comment_id": 101060424, "body": "Unfortunately, <code>Long</code> type doesn&#39;t work like <code>Double</code>. The result of a calculation does not give <code>infinity</code>, it simply operates inside the size in bytes and gives a result that seems somewhat unusual.  For instance, in <a href=\"https://play.kotlinlang.org\" rel=\"nofollow noreferrer\">Kotlin Playground</a> if you add <code>Long.MAX_VALUE</code> with <code>2L</code> the result is <code>-Long.MAX_VALUE</code>!"}], "tags": [], "owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "is_accepted": false, "score": 1, "last_activity_date": 1564549072, "last_edit_date": 1564549072, "creation_date": 1564537872, "answer_id": 57282105, "question_id": 57281803, "link": "https://stackoverflow.com/questions/57281803/what-it-is-the-best-general-way-for-testing-overflow-in-long-operations/57282105#57282105", "title": "What it is the best general way for testing overflow in Long operations?", "body": "<p>You should know that Long DataType has a fixed number of bytes <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Oracle Docs</a></p>\n\n<blockquote>\n  <p>The long data type is a 64-bit signed two's complement\n  integer. It has a minimum value of -9,223,372,036,854,775,808 and a\n  maximum value of 9,223,372,036,854,775,807 (inclusive). Use this data\n  type when you need a range of values wider than those provided by int.</p>\n</blockquote>\n\n<pre><code>//if it is not within the range then its an overflow (infinity/undefined)\nif(a*b &lt; Long.MIN_VALUE || a*b &gt; Long.MAX_VALUE)\n    println(\"Overflow\")\nelse\n    println(\"Ok\")\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Truly and unfortunately the above method is not reliable. See below table from a run test on android studio with JDK 8</p>\n\n<pre><code>##### Overflow Test #########\n\nLong.MAX_VALUE     =  9223372036854775807\nLong.MIN_VALUE     = -9223372036854775808\n\nLong.MAX_VALUE - 2 = 9223372036854775805              \nLong.MAX_VALUE - 1 = 9223372036854775806              \nLong.MAX_VALUE - 0 = 9223372036854775807              \nLong.MAX_VALUE + 0 = 9223372036854775807              \nLong.MAX_VALUE + 1 = -9223372036854775808             \nLong.MAX_VALUE + 2 = -9223372036854775807             \nLong.MAX_VALUE * 2 = -2                               \nLong.MAX_VALUE / 2 = 4611686018427387903              \nLong.MIN_VALUE - 2 = 9223372036854775806              \nLong.MIN_VALUE - 1 = 9223372036854775807              \nLong.MIN_VALUE - 0 = -9223372036854775808             \nLong.MIN_VALUE + 0 = -9223372036854775808             \nLong.MIN_VALUE + 1 = -9223372036854775807             \nLong.MIN_VALUE + 2 = -9223372036854775806             \nLong.MIN_VALUE * 2 = 0                                \nLong.MIN_VALUE / 2 = -4611686018427387904             \nLong.MIN_VALUE + Long.MAX_VALUE = -1                  \nLong.MAX_VALUE - Long.MIN_VALUE = -1                  \nLong.MAX_VALUE * Long.MIN_VALUE = -9223372036854775808\nLong.MAX_VALUE / Long.MIN_VALUE = 0                   \nLong.MIN_VALUE / Long.MAX_VALUE = -1                  \nLong.MAX_VALUE + Long.MAX_VALUE = -2                  \nLong.MIN_VALUE + Long.MIN_VALUE = 0                   \nDouble.MAX_VALUE = 1.7976931348623157E308             \nDouble.MAX_VALUE * 2 = Infinity              \nDouble.MAX_VALUE + Double.MAX_VALUE = Infinity        \nLong.MAX_VALUE * Double.MAX_VALUE = Infinity\nDouble.MAX_VALUE &gt; Long.MAX_VALUE = true\nDouble.MIN_VALUE &lt; Long.MIN_VALUE = true         \n</code></pre>\n\n<p>Looking at the log you would notice anytime <code>Long.MAX_VALUE</code> reaches its peak instead of hitting Infinity like <code>Double.MAX_VALUE</code>, the bit is switched and its next value becomes <code>Long.MIN_VALUE</code> and it goes on and on like that.</p>\n\n<p>So now we see why the above method isn't reliable. Hence we can assume that in java <code>Long is a DataType with zero Infinity</code>.</p>\n\n<p>Method modified introducing floating point constants in-between</p>\n\n<pre><code>//using floating points forces larger memory allocation\n//this prevents bit switch after crossing max or min value of Long\nif(a * 1.0 * b &lt; Long.MIN_VALUE || a * 1.0 * b &gt; Long.MAX_VALUE)\n   println(\"Either a Double or Long Overflow\")\nelse\n   println(\"Ok\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1564571113, "post_id": 57285401, "comment_id": 101073122, "body": "I agree with everything you say, but my test still works. If you take your first expression without <code>BigDecimal</code> ( <code>Long.MAX_VALUE.toDouble() - Long.MAX_VALUE==0.0</code>), it gives true.  So my strategy still works, even if the internal representation is different.  And it doesn&#39;t matter if the <code>doubleVar-longVar</code> test is really <code>doubleVar - longVar.toDouble()</code>. A long overflow calculation  ends up being very different from a proper double calculation.  However, you are right, it&#39;s more ellegant encapsulate the check wiht exact functions."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 1, "creation_date": 1564572862, "post_id": 57285401, "comment_id": 101074119, "body": "See the edit for demonstration that your test fails (at least for addition)."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1564573338, "last_edit_date": 1564573338, "creation_date": 1564558025, "answer_id": 57285401, "question_id": 57281803, "link": "https://stackoverflow.com/questions/57281803/what-it-is-the-best-general-way-for-testing-overflow-in-long-operations/57285401#57285401", "title": "What it is the best general way for testing overflow in Long operations?", "body": "<blockquote>\n  <p>Within the universe of Long the difference between a number and its Double is always 0</p>\n</blockquote>\n\n<p>No, not really. </p>\n\n<pre><code>println(Long.MAX_VALUE)\nprintln(BigDecimal(Long.MAX_VALUE.toDouble()))\n</code></pre>\n\n<p>prints </p>\n\n<pre><code>9223372036854775807\n9223372036854775808\n</code></pre>\n\n<p>You tried to check this:</p>\n\n<pre><code>var l2= Long.MAX_VALUE\nvar d2 =l2.toDouble()\nif (d2-l2==0.0) println(\"MaxLong\")\n</code></pre>\n\n<p>But the problem is that arithmetic operations on JVM (and in most languages, really) can only work on values of the same type, so the compiler inserts <code>toDouble()</code> and you really calculate <code>d2 - l2.toDouble()</code>.</p>\n\n<p>If you want a simple test, you can do</p>\n\n<pre><code>val product = a*b\nif ((b != 0 &amp;&amp; product/b != a) || (a == Long.MIN_VALUE &amp;&amp; b == -1)) {\n    println(\"Overflow\")\n} else {\n    // can use product here\n    println(\"OK\")\n}\n</code></pre>\n\n<p>but really, using <code>multiplyExact</code> instead of doing it manually makes more sense. Or use Kotlin's nullable types and define</p>\n\n<pre><code>fun multiplyExact(x: Long, y: Long): Long? = \n    try { java.math.multiplyExact(x, y) } catch (e: ArithmeticException) { null }\n</code></pre>\n\n<p>EDIT: to demonstrate a fault in your test, consider addition (I am pretty sure it's wrong for multiplication as well, but it's harder to find suitable numbers):</p>\n\n<pre><code>val largeNumber = Long.MAX_VALUE - 600\nval smallNumber = 100L\n// prints true, even though there's no overflow\nprintln((largeNumber.toDouble() + smallNumber.toDouble()) - (largeNumber + smallNumber) != 0.0)\n</code></pre>\n\n<p>The reason is that <code>largeNumber.toDouble() + smallNumber.toDouble() == largeNumber.toDouble()</code> while <code>(largeNumber + smallNumber).toDouble() == Long.MAX_VALUE.toDouble()</code>.</p>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 57285401, "answer_count": 2, "score": 2, "last_activity_date": 1564585602, "creation_date": 1564534822, "last_edit_date": 1564585602, "question_id": 57281803, "link": "https://stackoverflow.com/questions/57281803/what-it-is-the-best-general-way-for-testing-overflow-in-long-operations", "title": "What it is the best general way for testing overflow in Long operations?", "body": "<p>In <em>Kotlin</em>, as in <em>Java</em>, there is no <strong>overflow error</strong> in arithmetic operations. I know that there are special <em>Java</em> operations that test <em>overflow</em> and throw exceptions that need to be handled.</p>\n\n<p>I would want a simpler way. So I thought of a model, which is not so efficient, but it is very simple and effective. </p>\n\n<p>Suppose someone wants to test a 2 long numbers multiplication: <code>a * b</code></p>\n\n<p>I use </p>\n\n<pre><code>if ( a.doDouble()* b.toDouble()  - a*b != 0.0 )\n   println(\"Overflow\")\nelse\n   println(\"Ok\")\n</code></pre>\n\n<p>The justification is simple. Within the universe of <code>Long</code> the difference between a number and its <code>Double</code> is always <code>0</code>, even at extreme values, when the <code>Double</code> does not reach all precision. In this case, adding or subtracting a small number does not even change the equality test:.</p>\n\n<pre><code>   var l1= -Long.MAX_VALUE\n   var d1 = l1.toDouble()\n   if (d1-l1==0.0) println(\"-MaxLong\")\n   if (d1+100-l1==0.0) println(\"it still -MaxLong\")\n   var l2= Long.MAX_VALUE\n   var d2 =l2.toDouble()\n   if (d2-l2==0.0) println(\"MaxLong\")\n   if (d2+100-l2==0.0) println(\"it still MaxLong\")\n</code></pre>\n\n<p>This generates the output:</p>\n\n<pre><code>-MaxLong\nit still -MaxLong\nMaxLong\nit still MaxLong\n</code></pre>\n\n<p>Is it correct or I'm missing something? \nEven if it's correct, is there any other solution better than this?</p>\n\n<p><strong>Update 1</strong>: Notice that other  possibility  is testing if <code>Double</code> calculation is greater that <code>longValue.MAXVALUE</code>. However, it fails!</p>\n\n<pre><code>   var n1= Long.MAX_VALUE/2+1 \n   var n2= Long.MAX_VALUE/2+1\n   println((n1.toDouble()+n2.toDouble()) - \n         Long.MAX_VALUE.toDouble()==0.0)\n   println((n1.toDouble()+n2.toDouble()) &gt; Long.MAX_VALUE.toDouble())\n</code></pre>\n\n<p>It prints:</p>\n\n<pre><code>true\nfalse\n</code></pre>\n\n<p><strong>Update 2</strong>: Although my solution seems to work, it doesn't!\n<a href=\"https://stackoverflow.com/users/9204/alexey-romanov\">Alexey Romanov</a>, points me in his accepted answer the following situation:</p>\n\n<pre><code>  val lo1 = Long.MAX_VALUE - 600\n  val lo2 = 100L\n  var do1: Double = lo1.toDouble()\n  var do2:Double = lo2.toDouble()\n  var d= do1+do2\n  var l=lo1+lo2  \n  println(d-l==0.0)  \n</code></pre>\n\n<p>As the result is inside <code>Long</code> range, it should gives <code>true</code>, but it gives <code>false</code>, because <code>Double</code> calculation is not exact! </p>\n\n<p>As he said, the best way is really using special functions like <code>multiplyExact</code> encapsulated in an user function. </p>\n\n<p>Unfortunately, its resources only can be used in <code>Android</code> from API 24 onwards, so it rests the other solution from <a href=\"https://stackoverflow.com/users/9204/alexey-romanov\">Alexey Romanov</a>, that consists in test the inverse operation. </p>\n\n<p>So, for instance, in the multiplication one should do:</p>\n\n<pre><code>   var a = Long.MIN_VALUE \n   var b = -1L\n   var c = a*b\n   if (b!=0 &amp;&amp; c/b != a) \n    println(\"overflow $c\")\n   else\n    println(\"ok $c\")\n</code></pre>\n\n<p>It prints <code>overflow -9223372036854775808</code></p>\n\n<p>Among traditional operations, there are usually concerns with <em>addition</em>, <em>subtraction</em>, and <em>multiplication</em>, which are the object of the functions <code>addExact</code>, <code>subtractExact</code>, <code>multipyExact</code> functions, that are easily emulated using inverse operations, as cited.</p>\n\n<p><em>Negation</em> (<code>inv()</code>) also has the <code>negateExact</code> function to deal with the negation of <code>Long.MIN_VALUE</code>, which is invalid as it has no positive counterpart. Less commented is the <em>division</em>, which has no specialized function in Java to lead with overflow. However it gives problem in a single case: <code>Long.MIN_VALUE / -1</code> is invalid.</p>\n"}, {"tags": ["android", "authentication", "kotlin", "firebase-authentication", "firebaseui"], "answers": [{"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": true, "score": 0, "last_activity_date": 1564605724, "last_edit_date": 1564605724, "creation_date": 1564534944, "answer_id": 57281818, "question_id": 57281788, "link": "https://stackoverflow.com/questions/57281788/firebase-authentication-initializing-multiple-projects-firebaseuiexception-c/57281818#57281818", "title": "Firebase Authentication - Initializing Multiple Projects (FirebaseUiException: Code 10)", "body": "<h1>Solutions</h1>\n\n<h2>Issue 1</h2>\n\n<p>Each package may only be associated with one <code>SHA-1</code> key.\nWhen removing the additional Firebase project and reverting the  <strong>shared</strong> Firebase project to it's original state with the <code>SHA-1</code> key the console provided the following error which revealed an issue.</p>\n\n<blockquote>\n  <p><a href=\"https://support.google.com/firebase/answer/6401008?authuser=0\" rel=\"nofollow noreferrer\">An OAuth2 client already exists for this package name and SHA-1 in another project</a></p>\n</blockquote>\n\n<p>This error message did not show originally, and would be useful to see the first time the same <code>SHA-1</code> key is detected in a Firebase project with the same Android package name.</p>\n\n<h3>Solution</h3>\n\n<p>Remove the <code>SHA-1</code> key from any other Firebase projects with the same package name. When using two Firebase projects in an Android application, they cannot use the same <code>SHA-1</code> key.</p>\n\n<h2>Issue 2</h2>\n\n<p>The default Firebase project was not being generated from the <em>google-services.json</em> in the second newly created project.</p>\n\n<h3>Solution</h3>\n\n<p>Rebuild the project in Android Studio under <em>Build</em> > <em>Rebuild Project</em></p>\n"}], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 57281818, "answer_count": 1, "score": 0, "last_activity_date": 1564605724, "creation_date": 1564534553, "last_edit_date": 1564535715, "question_id": 57281788, "link": "https://stackoverflow.com/questions/57281788/firebase-authentication-initializing-multiple-projects-firebaseuiexception-c", "title": "Firebase Authentication - Initializing Multiple Projects (FirebaseUiException: Code 10)", "body": "<h1>Expected</h1>\n\n<ul>\n<li>Initialize multiple Firebase projects for the <a href=\"https://play.google.com/store/apps/details?id=app.coinverse\" rel=\"nofollow noreferrer\">Coinverse</a> Android app to allow users to download the open sourced <a href=\"https://github.com/AdamSHurwitz/Coinverse\" rel=\"nofollow noreferrer\">GitHub</a> project as outlined in this <a href=\"https://stackoverflow.com/questions/57236063/open-sourcing-android-app-firebase-authentication/57237312#57237312\">StackOverflow answer</a>.</li>\n<li>Allow users to setup their own Firebase project for authentication</li>\n<li>Run the <code>open</code> build variant of the app and login with Firebase <em>AuthUI</em> </li>\n<li>Enable a second pre-set Firebase project for shared Firestore and Cloud Functions</li>\n</ul>\n\n<h1>Observed</h1>\n\n<p><strong>Auth for one Firebase projects works, throws error below when initializing a second project</strong></p>\n\n<pre><code> fun initialize(context: Context) {\n    if (BuildConfig.BUILD_TYPE == open.name)\n        FirebaseApp.initializeApp(\n                context,\n                FirebaseOptions.Builder()\n                        .setApplicationId(APP_ID_OPEN)\n                        .setApiKey(APP_API_KEY_OPEN)\n                        .setDatabaseUrl(DATABASE_URL_OPEN)\n                        .setProjectId(PROJECT_ID_OPEN)\n                        .setStorageBucket(STORAGE_BUCKET_OPEN)\n                        .build(),\n                open.name)\n    Firebase.setAndroidContext(context)\n    initializeRemoteConfig()\n}\n</code></pre>\n\n<p><strong>Auth for anonymous user works when initializing multiple Firebase projects</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/hnAAB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hnAAB.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Error when initializing two Firebase projects and attempting Google sign in.</strong></p>\n\n<blockquote>\n  <p>Sign in fail com.firebase.ui.auth.FirebaseUiException: Code: 10, message: 10: </p>\n</blockquote>\n\n<p><strong>Full Log</strong></p>\n\n<pre><code>2019-07-29 16:34:08.130 12406-12406/app.coinverse.open E/AuthUI: A sign-in error occurred.\ncom.firebase.ui.auth.FirebaseUiException: Code: 10, message: 10: \n    at com.firebase.ui.auth.data.remote.GoogleSignInHandler.onActivityResult(GoogleSignInHandler.java:109)\n    at com.firebase.ui.auth.ui.idp.SingleSignInActivity.onActivityResult(SingleSignInActivity.java:128)\n    at android.app.Activity.dispatchActivityResult(Activity.java:7462)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4391)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4440)\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1816)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2019-07-29 16:34:08.134 12406-12406/app.coinverse.open E/AuthUI: A sign-in error occurred.\ncom.firebase.ui.auth.FirebaseUiException: Code: 10, message: 10: \n    at com.firebase.ui.auth.data.remote.GoogleSignInHandler.onActivityResult(GoogleSignInHandler.java:109)\n    at com.firebase.ui.auth.ui.idp.SingleSignInActivity.onActivityResult(SingleSignInActivity.java:128)\n    at android.app.Activity.dispatchActivityResult(Activity.java:7462)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4391)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4440)\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1816)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2019-07-29 16:34:08.211 12406-12406/app.coinverse.open E/AuthUI: A sign-in error occurred.\ncom.firebase.ui.auth.FirebaseUiException: Code: 10, message: 10: \n    at com.firebase.ui.auth.data.remote.GoogleSignInHandler.onActivityResult(GoogleSignInHandler.java:109)\n    at com.firebase.ui.auth.ui.idp.SingleSignInActivity.onActivityResult(SingleSignInActivity.java:128)\n    at android.app.Activity.dispatchActivityResult(Activity.java:7462)\n    at android.app.ActivityThread.deliverResults(ActivityThread.java:4391)\n    at android.app.ActivityThread.handleSendResult(ActivityThread.java:4440)\n    at android.app.servertransaction.ActivityResultItem.execute(ActivityResultItem.java:49)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1816)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6718)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2019-07-29 16:34:08.261 12406-12406/app.coinverse.open E/SignInDialogFragment: Sign in fail com.firebase.ui.auth.FirebaseUiException: Code: 10, message: 10: \n</code></pre>\n\n<h1>Implementation</h1>\n\n<p><em>MainActivity</em></p>\n\n<pre><code>if (BuildConfig.BUILD_TYPE == open.name) {\n        //Configures user's Firebase project.\n        FirebaseApp.initializeApp(\n                context,\n                FirebaseOptions.Builder()\n                        .setApplicationId(APP_ID_OPEN_PRIVATE)\n                        .setApiKey(APP_API_KEY_OPEN_PRIVATE)\n                        .setDatabaseUrl(DATABASE_URL_OPEN_PRIVATE)\n                        .setProjectId(PROJECT_ID_OPEN_PRIVATE)\n                        .build(),\n                OPEN_PRIVATE)\n        //Configures shared pre-set Firebase project.\n        FirebaseApp.initializeApp(\n                context,\n                FirebaseOptions.Builder()\n                        .setApplicationId(APP_ID_OPEN_SHARED)\n                        .setApiKey(APP_API_KEY_OPEN_SHARED)\n                        .setDatabaseUrl(DATABASE_URL_OPEN_SHARED)\n                        .setProjectId(PROJECT_ID_OPEN)\n                        .setStorageBucket(STORAGE_BUCKET_OPEN_SHARED)\n                        .build(),\n                open.name)\n    }\n    Firebase.setAndroidContext(context)\n    initializeRemoteConfig()\n}\n// If build type is not 'open' configures Firebase Project from google-services.json in 'debug' src set.\n</code></pre>\n\n<p><em>SignInFragment</em></p>\n\n<pre><code>//Returns the relevant Firebase project.\nfun firebaseApp(isOpenPrivateUser: Boolean)=\n    if (BuildConfig.BUILD_TYPE != open.name) FirebaseApp.getInstance()\n    else if (BuildConfig.BUILD_TYPE == open.name &amp;&amp; isOpenPrivateUser)\n            FirebaseApp.getInstance(OPEN_PRIVATE)\n    else FirebaseApp.getInstance(open.name)\n\nconfirm.setOnClickListener {\n    startActivityForResult(\n        AuthUI.getInstance(firebaseApp(true)).createSignInIntentBuilder()\n                .setAvailableProviders(listOf(AuthUI.IdpConfig.GoogleBuilder().build()))\n                .build(),\n            RC_SIGN_IN)\n    }\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == RC_SIGN_IN)\n        if (resultCode == Activity.RESULT_OK) {\n            homeViewModel.setUser(getInstance().currentUser)\n            dismiss()\n        } else {\n            Log.e(LOG_TAG, \"Sign in fail ${IdpResponse.fromResultIntent(data)?.error}\")\n        }\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "lombok"], "owner": {"reputation": 11, "user_id": 4374074, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DfoJQz3bJFg/AAAAAAAAAAI/AAAAAAAACXM/nJXEM5Ezbaw/photo.jpg?sz=128", "display_name": "Hadrien B", "link": "https://stackoverflow.com/users/4374074/hadrien-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564532660, "creation_date": 1564532660, "question_id": 57281614, "link": "https://stackoverflow.com/questions/57281614/compile-kotlin-and-java-with-lombok-using-gradle-5", "title": "Compile Kotlin and Java with Lombok using Gradle 5", "body": "<p>I am having issues compiling my code with Gradle 5.4.1.\nSurprisingly, it started failing after updating to the latest version of IntelliJ and any attempt to return to a working version fail. I am however fairly certain that IntelliJ is not the problem.</p>\n\n<p>The project is a mix of Java(legacy) and Kotlin code, using Lombok for the java code (legacy) as well as QueryDsl globally.</p>\n\n<p>The Kotlin code compiles properly but the Java code fails.</p>\n\n<p>I am posting my gradle build file where I removed most of the dependencies to simplify the reading as well as any bits that did not seem relevant.</p>\n\n<pre><code>\nplugins {\n  id 'java'\n  id 'idea'\n  id 'com.chrisgahlert.gradle-dcompose-plugin' version '0.15.3' \n  id 'com.palantir.docker' version '0.22.1'\n  id 'org.springframework.boot' version '2.0.9.RELEASE'\n\n  id 'org.jetbrains.kotlin.plugin.jpa' version '1.3.41'\n  id 'org.jetbrains.kotlin.jvm' version '1.3.41'\n  id 'org.jetbrains.kotlin.plugin.spring' version '1.3.41'\n  id 'org.jetbrains.kotlin.kapt' version '1.3.41'\n  id 'io.spring.dependency-manageme' version '1.0.7.RELEASE'\n}\n\nrepositories {\n  mavenCentral()\n}\n\nconfigurations {\n  all {\n    exclude group: 'org.apache.tomcat', module: 'tomcat-jdbc'\n    exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n  }\n}\n\ncompileJava {\n  options.annotationProcessorPath = configurations.annotationProcessor\n}\n\n\ndependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-web'\n\n  // QueryDSL\n  compile(\"com.querydsl:querydsl-core:${queryDslVersion}\")\n  annotationProcessor(\"com.querydsl:querydsl-apt:${queryDslVersion}:jpa\")\n  implementation(\"com.querydsl:querydsl-jpa:${queryDslVersion}\")\n  kapt  (\"com.querydsl:querydsl-apt:${queryDslVersion}:jpa\")\n\n  // Lombok\n  compileOnly \"org.projectlombok:lombok:${lombokVersion}\"\n  annotationProcessor \"org.projectlombok:lombok:${lombokVersion}\"\n  implementation(\"org.projectlombok:lombok:${lombokVersion}\")\n\n\n  // Kotlin\n  implementation 'org.jetbrains.kotlin:kotlin-reflect'\n  implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'\n  implementation 'org.jetbrains.kotlin:kotlin-stdlib'\n  compile group: 'org.jetbrains.kotlinx', name: 'kotlinx-coroutines-core', version: '1.2.2'\n\n\n}\n\nsourceSets {\n  main.java.srcDirs += 'src/main/java'\n  main.kotlin.srcDirs += 'src/main/kotlin'\n}\n\ncompileKotlin {\n  kotlinOptions {\n    freeCompilerArgs = ['-Xjsr305=strict']\n    jvmTarget = \"1.8\"\n  }\n}\n\n\n</code></pre>\n\n<p>I will typically get the following error (one of many) clearing indicating that getters/setters have not been generated.</p>\n\n<pre><code>model/entities/Client.java:71: error: cannot find symbol\n      .filter(ex -&gt; ex.getDateEnd() == null)\n                      ^\n  symbol:   method getDateEnd()\n  location: variable ex of type Exercice\n</code></pre>\n\n<p>What am I missing / doing wrong ?\nIs my only option to delombok ? (It would be extremely painful)</p>\n\n<p>Thanks for your help.</p>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "edited": false, "score": 0, "creation_date": 1564549308, "post_id": 57281534, "comment_id": 101062272, "body": "Constraintlayout will handle it automatically for your simple layout."}, {"owner": {"reputation": 87, "user_id": 11861101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef57ca162cb739d8589712ffed391d?s=128&d=identicon&r=PG&f=1", "display_name": "Heitor Ribeiro", "link": "https://stackoverflow.com/users/11861101/heitor-ribeiro"}, "reply_to_user": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "edited": false, "score": 0, "creation_date": 1564567829, "post_id": 57281534, "comment_id": 101071291, "body": "But on my simple app, it&#39;s not working properly"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 11861101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef57ca162cb739d8589712ffed391d?s=128&d=identicon&r=PG&f=1", "display_name": "Heitor Ribeiro", "link": "https://stackoverflow.com/users/11861101/heitor-ribeiro"}, "edited": false, "score": 0, "creation_date": 1564572114, "post_id": 57282293, "comment_id": 101073717, "body": "It does not change normally like a linear layout?"}], "tags": [], "owner": {"reputation": 14, "user_id": 9680038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a2d32f46a934722d282c0c749fb85a?s=128&d=identicon&r=PG&f=1", "display_name": "Nikodem", "link": "https://stackoverflow.com/users/9680038/nikodem"}, "is_accepted": true, "score": -2, "last_activity_date": 1564539998, "last_edit_date": 1564539998, "creation_date": 1564539547, "answer_id": 57282293, "question_id": 57281534, "link": "https://stackoverflow.com/questions/57281534/constraintlayout-not-changing-to-landscape/57282293#57282293", "title": "ConstraintLayout not changing to landscape", "body": "<p>You can just make individual layout for landscape view. That way:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4Adij.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4Adij.png</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/xmIva.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xmIva.png</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/EBzCX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EBzCX.png</a></p>\n"}], "owner": {"reputation": 87, "user_id": 11861101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ef57ca162cb739d8589712ffed391d?s=128&d=identicon&r=PG&f=1", "display_name": "Heitor Ribeiro", "link": "https://stackoverflow.com/users/11861101/heitor-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 57282293, "answer_count": 1, "score": 0, "last_activity_date": 1564547534, "creation_date": 1564531738, "last_edit_date": 1564547534, "question_id": 57281534, "link": "https://stackoverflow.com/questions/57281534/constraintlayout-not-changing-to-landscape", "title": "ConstraintLayout not changing to landscape", "body": "<p>I am a begginer in android. So I created an small android app using ConstraintLayout, just to test. But, everytime I click on the button to change the orientation of the screen on the emulator, it\u00b4s not changing, it continues the same. As far as I remember, with linear layout, the orientation change, but it breaks the layout if you not handle well with it. But with ConstraintLayout, it always continue the same</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".view.MainActivity\"&gt;\n    &lt;ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" tools:srcCompat=\"@tools:sample/avatars[0]\"\n            android:id=\"@+id/imageView\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginLeft=\"120dp\"\n            android:layout_marginStart=\"120dp\" app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"120dp\"\n            android:layout_marginRight=\"120dp\" android:layout_marginTop=\"28dp\"\n            app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintHorizontal_bias=\"0.497\"\n            android:layout_marginBottom=\"497dp\" app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.0\"/&gt;\n\n    &lt;TextView\n            android:text=\"Get Rewarded with this\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:id=\"@+id/textView\" android:layout_marginTop=\"8dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            android:layout_marginEnd=\"32dp\" android:layout_marginRight=\"32dp\"\n            app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginLeft=\"33dp\"\n            android:layout_marginStart=\"33dp\"\n            android:fontFamily=\"sans-serif-light\" android:lineSpacingMultiplier=\"40\"\n            android:lineSpacingExtra=\"40sp\"\n            android:textSize=\"32dp\"`enter code here`\n            android:layout_marginBottom=\"378dp\" app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView\"/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "ktor", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 3783, "user_id": 1273240, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/762e4e2a5c0aea7633847a2775300e16?s=128&d=identicon&r=PG", "display_name": "Kapil G", "link": "https://stackoverflow.com/users/1273240/kapil-g"}, "edited": false, "score": 0, "creation_date": 1564586304, "post_id": 57290529, "comment_id": 101082493, "body": "I tried doing that too but I also want to get the entire reference object on query rather than just the id as then I would have to make a second call to get the data for that id. so thought mapping the entire entity should be easier. But this does work. Thanks."}], "tags": [], "owner": {"reputation": 576, "user_id": 6114420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb2d160c9d8d2878464e6f4710a456be?s=128&d=identicon&r=PG&f=1", "display_name": "F. Caron", "link": "https://stackoverflow.com/users/6114420/f-caron"}, "is_accepted": true, "score": 2, "last_activity_date": 1564578833, "last_edit_date": 1564578833, "creation_date": 1564575289, "answer_id": 57290529, "question_id": 57281338, "link": "https://stackoverflow.com/questions/57281338/kotlin-ktor-exposed-dsl-insert-with-reference/57290529#57290529", "title": "Kotlin ktor exposed DSL insert with reference", "body": "<p>The <code>userId</code> must take an <code>EntityId&lt;String&gt;</code>. So you should pass your userId as <code>it[userId] = EntityId(userId, Users)</code>.</p>\n\n<p>To avoid this, I use plain <code>Table</code> instead of <code>IntIdTable</code> and manually create my primary key. This way I can pass directly the value without wrapping it in an <code>EntityId&lt;&gt;</code>.</p>\n"}], "owner": {"reputation": 3783, "user_id": 1273240, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/762e4e2a5c0aea7633847a2775300e16?s=128&d=identicon&r=PG", "display_name": "Kapil G", "link": "https://stackoverflow.com/users/1273240/kapil-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 954, "favorite_count": 0, "accepted_answer_id": 57290529, "answer_count": 1, "score": 2, "last_activity_date": 1564578833, "creation_date": 1564529756, "last_edit_date": 1564532330, "question_id": 57281338, "link": "https://stackoverflow.com/questions/57281338/kotlin-ktor-exposed-dsl-insert-with-reference", "title": "Kotlin ktor exposed DSL insert with reference", "body": "<p>I am developing a Kotlin with ktor application and I am using exposed as ORM. I have a table with a reference to another table. The relationship is many to one. ex: </p>\n\n<pre><code>object Users : IdTable&lt;String&gt;() {\n   override val id: Column&lt;EntityID&lt;String&gt;&gt; = varchar(\"user_id\", 64).entityId().primaryKey()\n   val email = varchar(\"email\", 128).uniqueIndex()\n   val firstName = varchar(\"first_name\", 64)\n   val lastName = varchar(\"last_name\", 64)\n}\n</code></pre>\n\n<p>&amp; User Attendance table as - </p>\n\n<pre><code>object UserAttendances : IntIdTable() {\n   val userId = reference(\"user_id\", Users).index()\n   val checkInTime = date(\"check_in\")\n   val checkOutTime = date(\"check_out\")\n}\n</code></pre>\n\n<p>Now when I am trying to insert into the attendance table, i am not sure how to map the insert to users. I tried the following - </p>\n\n<pre><code>StaffAttendances.insert {\n    it[date] = DateTime.now()\n    it[checkInTime] = DateTime.now()\n    it[userId] = userId\n}\n</code></pre>\n\n<p>This gives a compilation error that the required type is <code>EntityId&lt;String&gt;</code> but found <code>String</code>. Any help on how i can insert into a reference. This could possibly be because I have String as ID column with UUIDs</p>\n"}, {"tags": ["spring", "kotlin"], "comments": [{"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1564551808, "post_id": 57281186, "comment_id": 101063071, "body": "What is your purpose of having separate loggers per each request?"}, {"owner": {"reputation": 373, "user_id": 1210191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3Y4ww.jpg?s=128&g=1", "display_name": "avillagomez", "link": "https://stackoverflow.com/users/1210191/avillagomez"}, "reply_to_user": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1564592107, "post_id": 57281186, "comment_id": 101085501, "body": "Trying to do a log entry per request, which includes all the information of said request, the way Google Cloud does. The idea is to see the life of each request within a single log entry instead of having multiple entries from multiple classes, each with a piece of information, but not with the whole picture"}], "owner": {"reputation": 373, "user_id": 1210191, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/3Y4ww.jpg?s=128&g=1", "display_name": "avillagomez", "link": "https://stackoverflow.com/users/1210191/avillagomez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564528336, "creation_date": 1564528336, "question_id": 57281186, "link": "https://stackoverflow.com/questions/57281186/how-to-create-a-per-request-variable-in-a-controller-in-kotlin", "title": "How to create a per request variable in a controller in Kotlin", "body": "<p>I'm trying to create a logger object that is unique to every request</p>\n\n<pre><code>@Controller\nclass ConfigController {\n\n    @Autowired\n    lateinit var logger: Logger\n\n    @GetRequest(path = CONFIG_PATH) {...}\n}\n</code></pre>\n\n<p>Logger file:</p>\n\n<pre><code>@RequestScope(proxyMode = ScopedProxyMode.TARGET_CLASS)\n@Component\nclass Logger {\n\n    @Value(\"\\${logger.debug.enabled}\") lateinit var debugLogEnabled : String\n    private var logWriter = LoggerFactory.getLogger(this::class.java)\n    ...\n}\n</code></pre>\n\n<p>However I keep getting this error </p>\n\n<pre><code>2019-07-30 16:08:30.275 [main] ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'configController': Unsatisfied dependency expressed through field 'logger'; \nnested exception is org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'logger' defined in BeanDefinition defined in file [Logger.class]: Initialization of bean failed; \nnested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class Logger: Common causes of this problem include using a final class or a non-visible class; \nnested exception is java.lang.IllegalArgumentException: Cannot subclass final class Logger\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 114, "user_id": 7902532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f87dbc7fbea473c258865df5288708a0?s=128&d=identicon&r=PG", "display_name": "cheemcheem", "link": "https://stackoverflow.com/users/7902532/cheemcheem"}, "edited": false, "score": 3, "creation_date": 1564522987, "post_id": 57280391, "comment_id": 101057102, "body": "get() on a String is 0 indexed as this answer shows: <a href=\"https://stackoverflow.com/a/50298227/7902532\">stackoverflow.com/a/50298227/7902532</a>"}, {"owner": {"reputation": 8455, "user_id": 1349366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1f9a569a1c0af19fbe093e2ed751a7?s=128&d=identicon&r=PG", "display_name": "Aivean", "link": "https://stackoverflow.com/users/1349366/aivean"}, "edited": false, "score": 0, "creation_date": 1564549200, "post_id": 57280391, "comment_id": 101062241, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50297288/how-can-i-access-a-char-in-string-in-at-specific-number\">How can i access a char in string in at specific number?</a>"}, {"owner": {"reputation": 4313, "user_id": 2224047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZ83S.jpg?s=128&g=1", "display_name": "Nikolai  Shevchenko", "link": "https://stackoverflow.com/users/2224047/nikolai-shevchenko"}, "edited": false, "score": 0, "creation_date": 1564554622, "post_id": 57280391, "comment_id": 101064165, "body": "It&#39;s zero-based like any other collection/array structure"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11860444, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tSyn5rnq8ws/AAAAAAAAAAI/AAAAAAAAAAc/ldNtJ5QhGVE/photo.jpg?sz=128", "display_name": "Ck Douglas", "link": "https://stackoverflow.com/users/11860444/ck-douglas"}, "is_accepted": false, "score": 0, "last_activity_date": 1564530048, "last_edit_date": 1564530048, "creation_date": 1564523282, "answer_id": 57280474, "question_id": 57280391, "link": "https://stackoverflow.com/questions/57280391/where-is-kotlin-string-get-index-0-or-1-based-implementation-or-target-defined/57280474#57280474", "title": "Where is Kotlin string get index 0 or 1 based, implementation or target defined documented?", "body": "<p>It is 0-based.</p>\n\n<p>For example:</p>\n\n<pre><code>val str = \"Hello Kotlin Strings\"\nprintln(str.get(4)) //prints o\n</code></pre>\n"}], "owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1564584870, "creation_date": 1564522787, "last_edit_date": 1564584870, "question_id": 57280391, "link": "https://stackoverflow.com/questions/57280391/where-is-kotlin-string-get-index-0-or-1-based-implementation-or-target-defined", "title": "Where is Kotlin string get index 0 or 1 based, implementation or target defined documented?", "body": "<p>I do  not see where <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/get.html#kotlin.String\" rel=\"nofollow noreferrer\">kotlin-stdlib/kotlin/String/get</a> indicates whether it is 0 or 1 based, target or implementation defined. Where is this documented?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2", "rx-kotlin2"], "comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1564592063, "post_id": 57280030, "comment_id": 101085478, "body": "Wouldn&#39;t changing <code>.doOnEach()</code> to a <code>.flatMap()</code> do the job?"}], "answers": [{"tags": [], "owner": {"reputation": 820, "user_id": 4072335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01e60f5fbc56b9ba59dde7a80bc59fc?s=128&d=identicon&r=PG&f=1", "display_name": "Can_of_awe", "link": "https://stackoverflow.com/users/4072335/can-of-awe"}, "is_accepted": true, "score": 0, "last_activity_date": 1564645168, "creation_date": 1564645168, "answer_id": 57304034, "question_id": 57280030, "link": "https://stackoverflow.com/questions/57280030/perform-non-transformative-action-on-each-item-in-observable-before-onnext/57304034#57304034", "title": "Perform non-transformative action on each item in observable before onNext", "body": "<p>You want <code>doOnNext</code>. (You were very close with \"<code>doOnEach</code>\")</p>\n\n<p><code>doOnNext</code> is for side-effects within the stream and does not consume the item.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/28402689/what-is-the-purpose-of-doonnext-in-rxjava\">this question</a> for more details about <code>doOnNext</code>.</p>\n"}], "owner": {"reputation": 7, "user_id": 6382655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d7b3b2e5756e764c37ab0dfc2cf7952?s=128&d=identicon&r=PG&f=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/6382655/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 57304034, "answer_count": 1, "score": 0, "last_activity_date": 1564645168, "creation_date": 1564520761, "question_id": 57280030, "link": "https://stackoverflow.com/questions/57280030/perform-non-transformative-action-on-each-item-in-observable-before-onnext", "title": "Perform non-transformative action on each item in observable before onNext", "body": "<p>I've attached a function can be called from multiple viewModels, I'm trying to store each \"restaurant\" to the DB in a central function before returning this observable to a viewModel. </p>\n\n<p>I'm new to rxandroid and I'm wondering if there is a way to perform a non-transformative and non-consuming action on each item before the final onNext() in subscribe(). </p>\n\n<p>(Something like doOnEach() below):</p>\n\n<pre><code>fun getData() : CompositeDisposable {\n        return apiProvider!!.loadRestaurants()\n            .flatMap { response : RestaurantOuterResponse? -&gt; Observable.fromArray(\n                response!!.restaurants\n            )}\n            .doOnEach() { restaurant : Restaurant -&gt;\n                ADBConnection.storeRestaurant(restaurant)\n            }\n    }\n</code></pre>\n\n<p>Two Solutions I've found so far was to:</p>\n\n<ol>\n<li>Have a function inside RestaurantOuterResponse to save all the values when the list of \"Restaurants\" is extracted in flatMap(). </li>\n<li>Call the ADBConnection.storeRestaurant(restaurant) in onNext() in each individual viewModel.</li>\n</ol>\n\n<p>None of these are great solutions, is what I suggested in the right direction? Or is there a better way?</p>\n"}, {"tags": ["android", "encryption", "kotlin", "aes", "keystore"], "comments": [{"owner": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564521993, "post_id": 57279971, "comment_id": 101056770, "body": "Do you want to store your username and pass encrypted on your device? Or are you asking how you should encrypt them to send them to the Server?"}, {"owner": {"reputation": 25, "user_id": 8215010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgkKY.png?s=128&g=1", "display_name": "AHahn94", "link": "https://stackoverflow.com/users/8215010/ahahn94"}, "reply_to_user": {"reputation": 402, "user_id": 11370078, "user_type": "registered", "profile_image": "https://graph.facebook.com/2345565765508240/picture?type=large", "display_name": "Dominik Wuttke", "link": "https://stackoverflow.com/users/11370078/dominik-wuttke"}, "edited": false, "score": 0, "creation_date": 1564554687, "post_id": 57279971, "comment_id": 101064192, "body": "I want to store username, password and bearer token encrypted on the device."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8215010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgkKY.png?s=128&g=1", "display_name": "AHahn94", "link": "https://stackoverflow.com/users/8215010/ahahn94"}, "edited": false, "score": 0, "creation_date": 1564556206, "post_id": 57282449, "comment_id": 101064847, "body": "Thank you very much for this very detailed answer! I have 2 more questions though:  1. Is the nonce identical with the IV? How should I store the IVs? Would it be secure to Base64-encode the IV and append it to the ciphertext (which I think to have seen in some example code)?  2. The length of the IV is limited to 96bits in AES/GCM/NoPadding. What effect does this have on the length of the key? Can I combine e.g. a 256bit AES key and a 96bit IV/Nonce?  Thanks in advance!"}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "reply_to_user": {"reputation": 25, "user_id": 8215010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgkKY.png?s=128&g=1", "display_name": "AHahn94", "link": "https://stackoverflow.com/users/8215010/ahahn94"}, "edited": false, "score": 0, "creation_date": 1564556745, "post_id": 57282449, "comment_id": 101065119, "body": "@AHahn94 A nonce and an IV are, more or less, the same yes.  A common approach is to prefix the nonce to the ciphertext and <i>then</i> base64 encode, although if you can store simply as bytes, that would be better.  The nonce and the key do not interact at all.  Their sizes <b>relative to each other</b> do not impact the operation (or security) at all."}], "tags": [], "owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "is_accepted": true, "score": 1, "last_activity_date": 1564556878, "last_edit_date": 1564556878, "creation_date": 1564541011, "answer_id": 57282449, "question_id": 57279971, "link": "https://stackoverflow.com/questions/57279971/best-practice-which-aes-settings-to-use-for-android-keystore/57282449#57282449", "title": "Best Practice: Which AES settings to use for Android KeyStore", "body": "<p><strong>TL; DR</strong>: Prefer <code>AES/GCM/NoPadding</code>.  Do not ever use <code>AES/ECB/*</code>.</p>\n\n<hr>\n\n<p>In your situation, you'll want to prefer authenticated symmetric encryption, and the only option that provides this in the list you link is <code>AES/GCM/NoPadding</code>.</p>\n\n<p>The benefit for you here is that, not only is your data encrypted, it is also safe from tampering - if someone or something modifies the stored data, you'll get an exception when you attempt to decrypt it.  The other listed modes do not have this property.  This means that the stored ciphertext could be modified and you wouldn't know - it may or may not still decrypt (I say may or may not as it can throw an exception in other circumstances, like bad padding after modification).</p>\n\n<p>The drawback (and it isn't much of one) is that you <strong>must</strong> ensure you never use the same key and nonce together.  If you do - and an attacker can access or view two different sets of ciphertext - it becomes trivial for them to break and decrypt.  The easiest way around this is to simply <strong>always generate a random nonce</strong>.  You'll be able to encrypt <code>2^96</code> times before you run into any issues!</p>\n\n<p>If you can't or don't want to use <code>AES/GCM/NoPadding</code> for whatever reason, select from <code>AES/CTR/NoPadding</code> or <code>AES/CBC/PKCS7Padding</code>.  Both have their own drawbacks.  You'll need to find a way to prevent tampering yourself (HMACs are usually used).  I tend to prefer <code>AES/CTR/NoPadding</code> as it is very similar (at least to use) to <code>AES/GCM/NoPadding</code>.</p>\n\n<p>Lastly, <strong>do not use anything ECB related</strong>.  <strong>ECB BAD</strong>.</p>\n"}], "owner": {"reputation": 25, "user_id": 8215010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgkKY.png?s=128&g=1", "display_name": "AHahn94", "link": "https://stackoverflow.com/users/8215010/ahahn94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 1, "accepted_answer_id": 57282449, "answer_count": 1, "score": 0, "last_activity_date": 1564556878, "creation_date": 1564520486, "question_id": 57279971, "link": "https://stackoverflow.com/questions/57279971/best-practice-which-aes-settings-to-use-for-android-keystore", "title": "Best Practice: Which AES settings to use for Android KeyStore", "body": "<p>Android KeyStore provides a whole list of available <a href=\"https://developer.android.com/training/articles/keystore#SupportedCiphers\" rel=\"nofollow noreferrer\">ciphers</a>, which leads me to the following question: Which combination would be Best Practice to use in 2019? Every combination seems to have its own set of drawbacks and as someone who is not a security expert, it is realy difficult to decide which one to use.</p>\n\n<p>Some background information:\nI am working on a Kotlin-based Android app which connects to an API. The user must provide a pair of username:password to authenticate to the API, which will then return a hexadecimal bearer token for future authentication. The connection to the API is already TLS-encrypted, so no need for additional encryption here.\nThe problem is storing the informations securely. The username as well as the password and bearer token have to be stored securely. A common solution to this problem seems to be to encrypt the credentials and store them via the Preferences API. As the encryption only happens inside the app and no key-exchange is needed, symmetric-key encryption looks like the way to go.</p>\n"}, {"tags": ["android", "kotlin", "calendar", "android-calendar"], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564573586, "post_id": 57280233, "comment_id": 101074535, "body": "Is there any possible way of doing this without using a library?"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564575901, "post_id": 57280233, "comment_id": 101075790, "body": "yep, but it&#39;s less convenient. I&#39;ve updated my answer"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564578558, "post_id": 57280233, "comment_id": 101077413, "body": "Okay but I still want to know how it can be done this way."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564589653, "post_id": 57280233, "comment_id": 101084316, "body": "I do understand it but I want to see how it is done using the less convenient way as I don\u2019t want to use any libraries in my project."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564591170, "post_id": 57280233, "comment_id": 101085088, "body": "You can use the second part of my answer where I&#39;m using a <code>Calendar</code>. It&#39;s a part of standard Android library so you don&#39;t need external libraries"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564928076, "post_id": 57280233, "comment_id": 101182323, "body": "What about for times in between o&#39;clocks? E.g. 9:25, 9:45, etc."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564932088, "post_id": 57280233, "comment_id": 101183296, "body": "my function <code>inRange</code> is responsible for it. It creates two instances of <code>Calendar</code> and checks is <code>now</code> lays between <code>start</code> hour and <code>end</code> hour. It checks minutes as well"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564938560, "post_id": 57280233, "comment_id": 101184934, "body": "So for 6:25, what do I change the <code>6</code> to?"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1564992719, "post_id": 57280233, "comment_id": 101196390, "body": "I&#39;ve updated <code>inRange</code> function. For 6:25-10:00 you have to call <code>inRange(now, 6, 25, 10, 0)</code>"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 2, "last_activity_date": 1564992642, "last_edit_date": 1564992642, "creation_date": 1564521921, "answer_id": 57280233, "question_id": 57279888, "link": "https://stackoverflow.com/questions/57279888/how-to-show-different-messages-during-certain-time-ranges-during-certain-days/57280233#57280233", "title": "How to show different messages during certain time ranges during certain days", "body": "<p>I would like to suggest you use a <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> library. With it can be written something like this:</p>\n\n<pre><code>    fun main() {\n        val now = LocalDateTime.now()\n        when (now.dayOfWeek) {\n            DayOfWeek.MONDAY,\n            DayOfWeek.TUESDAY,\n            DayOfWeek.WEDNESDAY,\n            DayOfWeek.THURSDAY -&gt; {\n                when {\n                    inRange(now, 6, 10) -&gt; tv.setText(R.string.available)\n                    inRange(now, 10, 12) -&gt; tv.setText(R.string.away)\n                    else -&gt; tv.setText(R.string.unavailable)\n                }\n            }\n            DayOfWeek.FRIDAY -&gt; {\n                //todo\n            }\n            else -&gt; {\n                //todo\n            }\n        }\n    }\n\n    private fun inRange(now: LocalDateTime, start: Int, end: Int): Boolean =\n        now.isAfter(now.withHour(start)) &amp;&amp; now.isBefore(now.withHour(end))\n</code></pre>\n\n<p>you also can use java <code>Calendar</code> class but it not so convenient:</p>\n\n<pre><code>import java.util.*\n\nfun main() {\n    val now = Calendar.getInstance()\n    when (now.get(Calendar.DAY_OF_WEEK)) {\n        Calendar.MONDAY,\n        Calendar.TUESDAY,\n        Calendar.WEDNESDAY,\n        Calendar.THURSDAY -&gt; {\n            when {\n                inRange(now, 6, 10) -&gt; tv.setText(R.string.available)\n                inRange(now, 10, 12) -&gt; tv.setText(R.string.away)\n                else -&gt; tv.setText(R.string.unavailable)\n            }\n        }\n        Calendar.FRIDAY -&gt; {\n            //todo\n        }\n        else -&gt; {\n            //todo\n        }\n    }\n}\n\nprivate fun inRange(now: Calendar, startHour: Int, startMinutes: Int, endHour: Int, endMinutes: Int): Boolean {\n    val startTime: Calendar = now.clone() as Calendar\n    startTime.set(Calendar.HOUR_OF_DAY, startHour)\n    startTime.set(Calendar.MINUTE, startMinutes)\n    val endTime: Calendar = now.clone() as Calendar\n    endTime.set(Calendar.HOUR_OF_DAY, endHour)\n    endTime.set(Calendar.MINUTE, endMinutes)\n    return now.after(startTime) &amp;&amp; now.before(endTime)\n}\n</code></pre>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57280233, "answer_count": 1, "score": -1, "last_activity_date": 1564992642, "creation_date": 1564520101, "last_edit_date": 1564526878, "question_id": 57279888, "link": "https://stackoverflow.com/questions/57279888/how-to-show-different-messages-during-certain-time-ranges-during-certain-days", "title": "How to show different messages during certain time ranges during certain days", "body": "<p>Is it possible to show different text within a <code>TextView</code> during different days of the week during specific time ranges? I'm trying to do this within decision making statements but I'm not sure what to use as multiple days &amp; times are involved.</p>\n\n<ol>\n<li>Monday to Friday, 6am until 9:59am (set text to \"Available\")</li>\n<li>Monday to Friday, 10am until 11:59am (set text to \"Away\")</li>\n<li><p>Friday 12pm until Monday 5:59am (set text to \"Unavailable\")</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    val current = LocalTime.now()\n    val formatter = DateTimeFormatter.ofPattern(\"HH:mm\")\n    val currentTime: String = current.format(formatter)\n    val currentDay: String = LocalDate.now().dayOfWeek.name\n\n    if (currentTime == \"06:00\" &amp;&amp; currentDay == \"MONDAY\") {\n        tv.setText(R.string.available)\n    } else if (currentTime == \"10:00\" &amp;&amp; currentDay == \"MONDAY\") {\n        tv.setText(R.string.away)\n    } else {\n        tv.setText(R.string.unavailable)\n    }\n} else {\n    val date = Date()\n    val formatter = SimpleDateFormat(\"hh:mm\", Locale.getDefault())\n    val currentTime: String = formatter.format(date)\n    val currentDay: String = LocalDate.now().dayOfWeek.name\n\n    if (currentTime == \"06:00\" &amp;&amp; currentDay == \"MONDAY\") {\n        tv.setText(R.string.available)\n    } else if (currentTime == \"10:00\" &amp;&amp; currentDay == \"MONDAY\") {\n        tv.setText(R.string.away)\n    } else {\n        tv.setText(R.string.unavailable)\n    }\n}\n</code></pre></li>\n</ol>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1564558321, "post_id": 57279680, "comment_id": 101065927, "body": "Can you share your <code>build.gradle</code> files? I would like to see how you&#39;re establishing this: <code>app -(depends)-&gt; repository -(depends)-&gt; api</code>"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1564558495, "post_id": 57279680, "comment_id": 101066015, "body": "There was also a <a href=\"https://stackoverflow.com/q/56937717/1837367\">similar question</a> a while back"}], "owner": {"reputation": 1, "user_id": 8980086, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sfDGo2ZI0-I/AAAAAAAAAAI/AAAAAAAAAMI/_f-jhwI2_ko/photo.jpg?sz=128", "display_name": "Gustavo Pereira", "link": "https://stackoverflow.com/users/8980086/gustavo-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564519753, "creation_date": 1564519041, "last_edit_date": 1564519753, "question_id": 57279680, "link": "https://stackoverflow.com/questions/57279680/how-to-provide-dependencies-to-main-app-module-of-nested-modules", "title": "How to provide dependencies to main app module of &quot;nested&quot; modules", "body": "<p>I have a app with 3 different modules: <code>app(main)</code>,<code>api</code> and <code>repository</code>\nMy <code>app</code> module depends on <code>repository</code> module, that depends on <code>api</code> module:</p>\n\n<p><code>app -(depends)-&gt; repository -(depends)-&gt; api</code></p>\n\n<p>I would like to use Dagger2 in all 3 modules to inject dependencies in each other without exposing theses dependencies to the modules that doesn't need to see it.</p>\n\n<p>Basically the <code>api</code> module will provide service related classes to communicate with the API</p>\n\n<p>The <code>repository</code> module will use the <code>api</code> classes to coordinate the call of the resources</p>\n\n<p>The <code>app</code> module will use only the <code>repository</code> classes directly, without knowing anything of the <code>api</code> module</p>\n\n<p>Here are how my dagger modules/components are structured:</p>\n\n<p>ApiModule:</p>\n\n<pre><code>    @Component(modules = [ApiModule::class])\n    interface ApiComponent {\n\n        @Component.Builder\n        interface Builder {\n\n            @BindsInstance\n            fun requestApiModule(apiModule: ApiModule): Builder\n\n            fun build(): ApiComponent\n        }\n    }\n\n    @Module\n    class ApiModule {\n\n        @Provides\n        @Reusable\n        fun provideApiClient(apiConfig: ApiConfig) = ApiClient(apiConfig)\n\n        @Provides\n        @Reusable\n        fun provideConsumerService(appConsumerService: AppConsumerService): ConsumerService = appConsumerService\n\n        @Provides\n        @Reusable\n        fun provideParkingService(appParkingService: AppParkingService): ParkingService = appParkingService\n\n\n    }\n\n</code></pre>\n\n<p>RepositoryModule:</p>\n\n<pre><code>\n    @Component(\n        modules = [RepositoryModule::class],\n        dependencies = [ApiComponent::class]\n    )\n    interface RepositoryComponent {\n\n        @Component.Builder\n        interface Builder {\n\n            @BindsInstance\n            fun requestRepositoryModule(repositoryModule: RepositoryModule): Builder\n\n            fun apiComponent(apiComponent: ApiComponent): Builder\n\n            fun build(): RepositoryComponent\n        }\n    }\n\n    @Module\n    class RepositoryModule {\n\n        @Provides\n        @Reusable\n        fun provideLocalStorage(application: Application) = LocalStorage(application.applicationContext)\n\n        @Provides\n        @Reusable\n        fun provideLocalSession(application: Application) = LocalSession(application.applicationContext)\n\n        @Provides\n        @Reusable\n        fun provideApiConfig(apiRepositoryConfig: ApiRepositoryConfig): ApiConfig = apiRepositoryConfig\n\n        @Provides\n        @Reusable\n        fun provideConsumerRepository(appConsumerRepository: AppConsumerRepository): ConsumerRepository =\n            appConsumerRepository\n\n        @Provides\n        @Reusable\n        fun provideParkingRepository(appParkingRepository: AppParkingRepository): ParkingRepository = appParkingRepository\n\n    }\n\n</code></pre>\n\n<p>AppModule:</p>\n\n<pre><code>    @Singleton\n    @Component(\n        modules = [ActivityModule::class, ViewModelModule::class, AndroidInjectionModule::class],\n        dependencies = [RepositoryComponent::class]\n    )\n    interface ApplicationComponent : AndroidInjector&lt;CustomApplication&gt; {\n\n        override fun inject(customApplication: CustomApplication)\n\n        @Component.Builder\n        interface Builder {\n\n            @BindsInstance\n            fun application(application: Application): Builder\n\n            fun repositoryComponent(repositoryComponent: RepositoryComponent): Builder\n\n            fun build(): ApplicationComponent\n\n        }\n    }\n</code></pre>\n\n<p>After trying to run the project I'm seeing the current errors in the build output</p>\n\n<pre><code>error: cannot access ApiComponent class file for com.spaces.api.module.ApiComponent not found  Consult the following stack trace for details\n</code></pre>\n\n<pre><code>error: [ComponentProcessor:MiscError] dagger.internal.codegen.ComponentProcessor was unable to process this interface because not all of its dependencies could be resolved. Check for compilation errors or a circular dependency with generated code.\n</code></pre>\n"}, {"tags": ["kotlin", "symbols"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1564517977, "post_id": 57279417, "comment_id": 101055447, "body": "<a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/annotations.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 182742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/441ebb2aff0bbfed3949bef6cf573e5a?s=128&d=identicon&r=PG", "display_name": "iokevins", "link": "https://stackoverflow.com/users/182742/iokevins"}, "is_accepted": true, "score": 2, "last_activity_date": 1564521289, "last_edit_date": 1564521289, "creation_date": 1564517992, "answer_id": 57279456, "question_id": 57279417, "link": "https://stackoverflow.com/questions/57279417/what-does-the-at-symbol-mean-in-kotlin/57279456#57279456", "title": "What does the AT symbol mean in KOTLIN", "body": "<p>@:</p>\n\n<ul>\n<li>introduces an annotation</li>\n<li>introduces or references a loop label</li>\n<li>introduces or references a lambda label</li>\n<li>references a 'this' expression from an outer scope</li>\n<li>references an outer superclass</li>\n</ul>\n\n<p>As noted by @jb-nizet, in this case it seems to represent an annotation, which allows a class to monitor the component's lifecycle status.</p>\n\n<p>Via:\n<a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/keyword-reference.html</a></p>\n"}], "owner": {"reputation": 13, "user_id": 8642620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCDH0.jpg?s=128&g=1", "display_name": "NaplesDave", "link": "https://stackoverflow.com/users/8642620/naplesdave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "accepted_answer_id": 57279456, "answer_count": 1, "score": 1, "last_activity_date": 1564561725, "creation_date": 1564517830, "last_edit_date": 1564561725, "question_id": 57279417, "link": "https://stackoverflow.com/questions/57279417/what-does-the-at-symbol-mean-in-kotlin", "title": "What does the AT symbol mean in KOTLIN", "body": "<p>What does the @ symbol mean in this code clip?</p>\n\n<p>Learning</p>\n\n<pre><code>  @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    fun onResume() {\n        log.i(LOG_TAG, \"OnResume\")\n    }\n</code></pre>\n"}, {"tags": ["json", "kotlin", "jackson", "json-deserialization", "jackson-modules"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 1502561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d3f2747c15a49715beeea47c2179588d?s=128&d=identicon&r=PG", "display_name": "Mike Emery", "link": "https://stackoverflow.com/users/1502561/mike-emery"}, "edited": false, "score": 0, "creation_date": 1581635503, "post_id": 57328427, "comment_id": 106513267, "body": "Just ran into this today, was able to use the following, based on this answer: ``` val node: JsonNode = &lt;JsonNode containing list of MyClass&gt; val parsedList = node.map{ mapper.treeToValue&lt;MyClass&gt;(it) } ```"}], "tags": [], "owner": {"reputation": 3527, "user_id": 1039774, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e98163c769e5dc8243bfef700edded42?s=128&d=identicon&r=PG", "display_name": "Devabc", "link": "https://stackoverflow.com/users/1039774/devabc"}, "is_accepted": false, "score": 3, "last_activity_date": 1564755855, "creation_date": 1564755855, "answer_id": 57328427, "question_id": 57279171, "link": "https://stackoverflow.com/questions/57279171/jackson-kotlin-deserialize-jsonnode/57328427#57328427", "title": "Jackson Kotlin - Deserialize JsonNode", "body": "<h1>The problem cause</h1>\n\n<p>Even though <code>ObjectMapper.treeToValue</code> is a Kotlin inline extension function with a reified generic parameter (which means that generics are preserved at runtime), it calls the Java <code>ObjectMapper.treeToValue(TreeNode, Class&lt;T&gt;)</code> method. The value passed as <code>Class&lt;T&gt;</code> will loose generic type information for generic types such as <code>List&lt;Comment&gt;</code>, because of type erasure.</p>\n\n<p>So <code>treeToValue</code> can be used for:</p>\n\n<pre><code>mapper.treeToValue&lt;Comment&gt;(commentNode)\n</code></pre>\n\n<p>but not for:</p>\n\n<pre><code>mapper.treeToValue&lt;List&lt;Comment&gt;&gt;(commentsNode)\n</code></pre>\n\n<p>Also note that <code>ObjectMapper</code> contains multiple methods that have <code>@SuppressWarnings</code> annotations, which causes some problems not to appear at compile-time, but at run-time.</p>\n\n<h1>Solution 1 - use convertValue()</h1>\n\n<p>This is the best solution. It uses the Kotlin extension function <code>ObjectMapper.convertValue</code>.</p>\n\n<pre><code>val commentsNode = mapper.readTree(fullJsonContent).get(0).get(\"Comments\")\nval comments = mapper.convertValue&lt;List&lt;Comment&gt;&gt;(commentsNode)\n</code></pre>\n\n<h1>Solution 2 - use an ObjectReader</h1>\n\n<p>This solution doesn't use <code>jackson-module-kotlin</code> extension functions.</p>\n\n<pre><code>val reader = mapper.readerFor(object : TypeReference&lt;List&lt;Comment&gt;&gt;() {})\nval comments: List&lt;Comment&gt; = reader.readValue(commentsNode)\n</code></pre>\n\n<h1>Solution 3 - deserialize in map</h1>\n\n<p>Because <code>treeToValue</code> (Kotlin extension function) does work for non-generic types, you can first get the nodes as as list of JsonNodes, and then map each JsonNode to a Comment.</p>\n\n<p>But it's cumbersome that you cannot simply return <code>mapper.treeToValue(it)</code>, because that causes type inference compile errors.</p>\n\n<pre><code>val commentsNode = mapper.readTree(fullJsonContent).get(0).get(\"Comments\")\nval comments = commentsNode.elements().asSequence().toList().map {\n    val comment: Comment = mapper.treeToValue(it)\n    comment\n}\n</code></pre>\n"}], "owner": {"reputation": 3527, "user_id": 1039774, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e98163c769e5dc8243bfef700edded42?s=128&d=identicon&r=PG", "display_name": "Devabc", "link": "https://stackoverflow.com/users/1039774/devabc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3493, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1564755855, "creation_date": 1564516671, "last_edit_date": 1564519431, "question_id": 57279171, "link": "https://stackoverflow.com/questions/57279171/jackson-kotlin-deserialize-jsonnode", "title": "Jackson Kotlin - Deserialize JsonNode", "body": "<h1>Problem</h1>\n\n<p>I have JSON content in the form of a string, which I first want to traverse programmatically with Jackson. Then, when I have the node of interest, I want to deserialize it.</p>\n\n<h1>What I have tried</h1>\n\n<p>I have successfully deserialized strings using mapper.readValue, but now I want to perform such an operation on a jsonNode instead of a string.</p>\n\n<h2>Libraries</h2>\n\n<ul>\n<li>jackson-core:2.9.9</li>\n<li>jackson-module-kotlin:2.9.9</li>\n<li>Kotlin 1.3.41</li>\n<li>kotlin-stdlib-jdk8:1.3.41</li>\n</ul>\n\n<h2>Code</h2>\n\n<pre><code>package somepackage\n\nimport com.fasterxml.jackson.databind.JsonNode\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\nimport com.fasterxml.jackson.module.kotlin.readValue\nimport com.fasterxml.jackson.module.kotlin.treeToValue\n\nfun main() {\n    val mapper = ObjectMapper().registerModule(KotlinModule())\n\n    readValueWorksFine(mapper)\n    treeToValueFails(mapper)\n}\n\nfun treeToValueFails(mapper: ObjectMapper) {\n    val fullJsonContent = \"\"\"\n            [{\n                    \"product_id\":123, \n                    \"Comments\":\n                        [{\n                            \"comment_id\": 23, \n                            \"message\": \"Hello World!\"\n                        }]\n            }]        \n        \"\"\".trimIndent()\n\n    // Traverse to get the node of interest\n    val commentsNode: JsonNode = mapper.readTree(fullJsonContent).get(0).get(\"Comments\")\n\n    // Deserialize\n    val comments: List&lt;Comment&gt; = mapper.treeToValue&lt;List&lt;Comment&gt;&gt;(commentsNode)\n\n    // The line below fails. (I would have expected the exception to be thrown in the line above instead.\n    // Exception:\n    // Exception in thread \"main\" java.lang.ClassCastException: class\n    // java.util.LinkedHashMap cannot be cast to class somepackage.Comment (java.util.LinkedHashMap is in module\n    // java.base of loader 'bootstrap'; somepackage.Comment is in unnamed module of loader 'app')\n    for (comment: Comment in comments) { // This line fails\n        println(comment.comment_id)\n        println(comment.message)\n    }\n}\n\nfun readValueWorksFine(mapper: ObjectMapper) {\n    val commentsJsonContent = \"\"\"\n            [{\n                \"comment_id\": 23, \n                \"message\": \"Hello World!\"\n            }]\n        \"\"\".trimIndent()\n\n    val comments1: List&lt;Comment&gt; = mapper.readValue&lt;List&lt;Comment&gt;&gt;(commentsJsonContent)\n    for (comment in comments1) {\n        println(comment)\n    }\n}\n\ndata class Comment(val comment_id: Long, val message: String)\n</code></pre>\n\n<h2>Exception/Output</h2>\n\n<p>The code above results in the following exception/output:</p>\n\n<pre><code>Comment(comment_id=23, message=Hello World!)\nException in thread \"main\" java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class somepackage.Comment (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; somepackage.Comment is in unnamed module of loader 'app')\n    at somepackage.TKt.treeToValueFails(T.kt:39)\n    at somepackage.TKt.main(T.kt:13)\n    at somepackage.TKt.main(T.kt)\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rx-java2", "countdowntimer", "reactivex"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 1, "last_activity_date": 1564519855, "creation_date": 1564519855, "answer_id": 57279842, "question_id": 57279062, "link": "https://stackoverflow.com/questions/57279062/convert-countdowntimer-cancel-feature-to-rxjava/57279842#57279842", "title": "Convert CountDownTimer Cancel feature to RxJava", "body": "<p>You can just use <code>debounce</code> operator. Here is the example:</p>\n\n<pre><code>ledStream\n        .doOnNext{\n            ledSubject.onNext(it)\n        }\n        .debounce(COUNTDOWN_S, TimeUnit.SECONDS)\n        .subscribe{\n            ledSubject.onNext(LedEvent.LedOff)\n        }\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 1553132, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/277dcbb7dfd2df7493cea20b84bc95d5?s=128&d=identicon&r=PG", "display_name": "Seapoe", "link": "https://stackoverflow.com/users/1553132/seapoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57279842, "answer_count": 1, "score": 0, "last_activity_date": 1564519855, "creation_date": 1564516174, "question_id": 57279062, "link": "https://stackoverflow.com/questions/57279062/convert-countdowntimer-cancel-feature-to-rxjava", "title": "Convert CountDownTimer Cancel feature to RxJava", "body": "<p>I have an RxObservable that emits an item. I have an RxObserver that consumes the item, turns something on, waits 30 seconds, then turns that same thing off. If in the middle of that 30 second wait the Observable emits another item, the Observer needs to cancel the timer and restart the previous process. The solution was very simple to implement with a CountDownTimer. Here's a snippet of what I wrote:</p>\n\n<pre><code>.subscribe {\n            ledTimer?.cancel()\n\n            ledTimer = object : CountDownTimer(COUNTDOWN_MS, COUNTDOWN_INTERVAL_MS) {\n\n                override fun onTick(timeRemaining: Long) {\n                    Log.d(\n                        TAG,\n                        \"%d seconds remaining from recent Pcu Event.\".format(timeRemaining / COUNTDOWN_INTERVAL_MS)\n                    )\n                }\n\n                override fun onFinish() {\n                    Log.d(TAG, \"Timer has completed.\")\n                    ledSubject.onNext(LedEvent.LedOff)\n                }\n            }\n            ledSubject.onNext(it)\n            ledTimer?.start()\n        }\n</code></pre>\n\n<p>So as can you see I cancel the timer if it's currently running, create a new object and start it. I need to convert this to use Rx. The part I'm stuck on is the cancel feature of the timer. This is what I came up without the \"interrupt\" feature:</p>\n\n<pre><code>   ledStream\n        .doOnNext{\n            ledSubject.onNext(it)\n        }.flatMap {\n            Observable.timer(COUNTDOWN_S, TimeUnit.SECONDS)\n        }.subscribe{\n            ledSubject.onNext(LedEvent.LedOff)\n        }\n</code></pre>\n\n<p>So it's very nice and concise but when subsequent items are emitted it doesn't reset. I've looked at operators like <a href=\"http://androidahead.com/2017/10/17/rxjava-operators-part-3-combining-observables/\" rel=\"nofollow noreferrer\">switchOnNext</a> but just don't have a good enough grasp on Rx yet. If I could see a simple example with explanation that would be a great help.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2427, "user_id": 3503023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmCQ.jpg?s=128&g=1", "display_name": "Krishna Sharma", "link": "https://stackoverflow.com/users/3503023/krishna-sharma"}, "edited": false, "score": 0, "creation_date": 1564515312, "post_id": 57278532, "comment_id": 101054359, "body": "where is your <code>@drawable&#47;splash</code> ??"}, {"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "reply_to_user": {"reputation": 2427, "user_id": 3503023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmCQ.jpg?s=128&g=1", "display_name": "Krishna Sharma", "link": "https://stackoverflow.com/users/3503023/krishna-sharma"}, "edited": false, "score": 0, "creation_date": 1564515431, "post_id": 57278532, "comment_id": 101054412, "body": "@KrishnaSharma splash.xml, splash_background.xml, and the ib_logo.png image all in the &quot;drawable&quot; folder only not in any other folders."}], "answers": [{"comments": [{"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564514842, "post_id": 57278660, "comment_id": 101054166, "body": "I update the question. I have all files in the &quot;drawable&quot; folder but not in the drawable-xxxx folders. is that what you mean"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564515344, "post_id": 57278660, "comment_id": 101054371, "body": "If you have all files in <code>drawable</code> folder then you are doing it right, let me take a look at it again."}, {"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564515967, "post_id": 57278660, "comment_id": 101054659, "body": "I updated the question for the device information. It is new and good hardware."}, {"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564516456, "post_id": 57278660, "comment_id": 101054861, "body": "I added more from the crash report it may help"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564516545, "post_id": 57278660, "comment_id": 101054900, "body": "@daliaessam where is you <code>@drawable&#47;splash</code> located? is it in mipmap folder or drawable?"}, {"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564517021, "post_id": 57278660, "comment_id": 101055073, "body": "all three files, the two xml and the .png in the &quot;drawable&quot; folder only."}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564517880, "post_id": 57278660, "comment_id": 101055410, "body": "@daliaessam are you using the latest version of build tools and gradle?"}, {"owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "edited": false, "score": 0, "creation_date": 1564518481, "post_id": 57278660, "comment_id": 101055614, "body": "Yes using the latest of everything. as I said all my devices and emulators do not have this problem, only I get this report from some users different devices even newest mobiles."}], "tags": [], "owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "is_accepted": false, "score": 1, "last_activity_date": 1564515787, "last_edit_date": 1564515787, "creation_date": 1564514217, "answer_id": 57278660, "question_id": 57278532, "link": "https://stackoverflow.com/questions/57278532/android-splash-screen-keeps-crashing-on-some-devices-only/57278660#57278660", "title": "Android splash screen keeps crashing on some devices only", "body": "<p><strong>Edit</strong>: \nIf the crashes are from older devices then its because you are using vector drawables.\nVector files need to be referenced with <code>android:srcCompat</code> rather than <code>android:src</code> for backward compatibility.</p>\n\n<p><strong>Old Answer: (May work for some)</strong><br>\nThis could be happening because you have different <code>drawable</code> folders for different Android versions and you did not include your <code>splash_background</code> drawable in your <code>drawable</code> folder. Go to your <code>res</code> folder in your app module, it might look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xbjYT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xbjYT.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Now make sure that your background is in <code>drawable</code> folder as well and you are good to go.</p>\n"}], "owner": {"reputation": 1456, "user_id": 1405646, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6298d27969ef6491bb007b8a5177ff40?s=128&d=identicon&r=PG", "display_name": "daliaessam", "link": "https://stackoverflow.com/users/1405646/daliaessam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564516364, "creation_date": 1564513676, "last_edit_date": 1564516364, "question_id": 57278532, "link": "https://stackoverflow.com/questions/57278532/android-splash-screen-keeps-crashing-on-some-devices-only", "title": "Android splash screen keeps crashing on some devices only", "body": "<p>I am almost new to Android. I add splash screen to the app with code from this site as follows:</p>\n\n<ol>\n<li>creating drawable file for splash</li>\n<li>creating theme in styles for splash</li>\n<li>applying the theme on home screen</li>\n</ol>\n\n<p>styles.xml</p>\n\n<pre><code>    &lt;style name=\"SplashTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n       &lt;item name=\"android:windowBackground\"&gt;@drawable/splash_background&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>splash_background.xml</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:drawable=\"@drawable/splash\"/&gt;\n    &lt;item&gt;\n        &lt;bitmap android:gravity=\"center\" android:src=\"@drawable/ib_logo\" /&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n&lt;/xml&gt;\n</code></pre>\n\n<p>applying the the splash them on home screan in Android Manifest</p>\n\n<pre><code>    &lt;activity android:name=\".main.MainActivity\"\n    android:launchMode=\"singleInstance\"\n    android:theme=\"@style/SplashTheme\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n        &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n    &lt;/intent-filter&gt;\n   &lt;/activity&gt;\n</code></pre>\n\n<p>That works fine on my test devices and even on the versions of the app I install from play store and works on all emulators but I get crash reports from users on different Android versions and different mobile makers with this part of the crash report:</p>\n\n<pre><code>    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mypackage/com.mypackage.main.MainActivity}: android.content.res.Resources$NotFoundException: Drawable com.mypackage:drawable/splash_background with resource ID #0x7f0800d7\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2974)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3059)\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1724)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:7000)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\nCaused by: android.content.res.Resources$NotFoundException: Drawable com.mypackage:drawable/splash_background with resource ID #0x7f0800d7\nCaused by: android.content.res.Resources$NotFoundException: File res/drawable/splash_background.xml from drawable resource ID #0x7f0800d7\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:870)\nat android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:680)\nat android.content.res.Resources.getDrawableForDensity(Resources.java:892)\nat android.content.res.Resources.getDrawable(Resources.java:834)\nat android.content.Context.getDrawable(Context.java:605)\nat androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:454)\nat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:144)\nat androidx.appcompat.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:411)\nat androidx.appcompat.widget.TintTypedArray.getDrawableIfKnown(TintTypedArray.java:86)\nat androidx.appcompat.app.AppCompatDelegateImpl.attachToWindow(AppCompatDelegateImpl.java:637)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureWindow(AppCompatDelegateImpl.java:613)\nat androidx.appcompat.app.AppCompatDelegateImpl.onCreate(AppCompatDelegateImpl.java:340)\nat androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:105)\nat com.mypackage.base.BaseActivity.onCreate(BaseActivity.kt:35)\nat com.mypackage.main.MainActivity.onCreate(MainActivity.kt:56)\nat android.app.Activity.performCreate(Activity.java:7258)\nat android.app.Activity.performCreate(Activity.java:7249)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1221)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2927)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3059)\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1724)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:7000)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference\nat android.graphics.drawable.DrawableInflater.inflateSpr(DrawableInflater.java:253)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:138)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1311)\nat android.graphics.drawable.LayerDrawable.inflateLayers(LayerDrawable.java:284)\nat android.graphics.drawable.LayerDrawable.inflate(LayerDrawable.java:194)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:146)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1281)\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:857)\n... 27 more\nandroid.content.res.Resources$NotFoundException: Drawable com.mypackage:drawable/splash_background with resource ID #0x7f0800d7\nCaused by: android.content.res.Resources$NotFoundException: File res/drawable/splash_background.xml from drawable resource ID #0x7f0800d7\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:870)\nat android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:680)\nat android.content.res.Resources.getDrawableForDensity(Resources.java:892)\nat android.content.res.Resources.getDrawable(Resources.java:834)\nat android.content.Context.getDrawable(Context.java:605)\nat androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:454)\nat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:144)\nat androidx.appcompat.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:411)\nat androidx.appcompat.widget.TintTypedArray.getDrawableIfKnown(TintTypedArray.java:86)\nat androidx.appcompat.app.AppCompatDelegateImpl.attachToWindow(AppCompatDelegateImpl.java:637)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureWindow(AppCompatDelegateImpl.java:613)\nat androidx.appcompat.app.AppCompatDelegateImpl.onCreate(AppCompatDelegateImpl.java:340)\nat androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:105)\nat com.mypackage.base.BaseActivity.onCreate(BaseActivity.kt:35)\nat com.mypackage.main.MainActivity.onCreate(MainActivity.kt:56)\nat android.app.Activity.performCreate(Activity.java:7258)\nat android.app.Activity.performCreate(Activity.java:7249)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1221)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2927)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3059)\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1724)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:7000)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference\nat android.graphics.drawable.DrawableInflater.inflateSpr(DrawableInflater.java:253)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:138)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1311)\nat android.graphics.drawable.LayerDrawable.inflateLayers(LayerDrawable.java:284)\nat android.graphics.drawable.LayerDrawable.inflate(LayerDrawable.java:194)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:146)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1281)\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:857)\n... 27 more\nandroid.content.res.Resources$NotFoundException: File res/drawable/splash_background.xml from drawable resource ID #0x7f0800d7\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:870)\nat android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:680)\nat android.content.res.Resources.getDrawableForDensity(Resources.java:892)\nat android.content.res.Resources.getDrawable(Resources.java:834)\nat android.content.Context.getDrawable(Context.java:605)\nat androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:454)\nat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:144)\nat androidx.appcompat.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:411)\nat androidx.appcompat.widget.TintTypedArray.getDrawableIfKnown(TintTypedArray.java:86)\nat androidx.appcompat.app.AppCompatDelegateImpl.attachToWindow(AppCompatDelegateImpl.java:637)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureWindow(AppCompatDelegateImpl.java:613)\nat androidx.appcompat.app.AppCompatDelegateImpl.onCreate(AppCompatDelegateImpl.java:340)\nat androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:105)\nat com.mypackage.base.BaseActivity.onCreate(BaseActivity.kt:35)\nat com.mypackage.main.MainActivity.onCreate(MainActivity.kt:56)\nat android.app.Activity.performCreate(Activity.java:7258)\nat android.app.Activity.performCreate(Activity.java:7249)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1221)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2927)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3059)\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1724)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:7000)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference\nat android.graphics.drawable.DrawableInflater.inflateSpr(DrawableInflater.java:253)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:138)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1311)\nat android.graphics.drawable.LayerDrawable.inflateLayers(LayerDrawable.java:284)\nat android.graphics.drawable.LayerDrawable.inflate(LayerDrawable.java:194)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:146)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1281)\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:857)\n... 27 more\njava.lang.NullPointerException: Attempt to invoke virtual method 'void java.io.InputStream.close()' on a null object reference\nat android.graphics.drawable.DrawableInflater.inflateSpr(DrawableInflater.java:253)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:138)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1311)\nat android.graphics.drawable.LayerDrawable.inflateLayers(LayerDrawable.java:284)\nat android.graphics.drawable.LayerDrawable.inflate(LayerDrawable.java:194)\nat android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:146)\nat android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1322)\nat android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1281)\nat android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:857)\nat android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:680)\nat android.content.res.Resources.getDrawableForDensity(Resources.java:892)\nat android.content.res.Resources.getDrawable(Resources.java:834)\nat android.content.Context.getDrawable(Context.java:605)\nat androidx.core.content.ContextCompat.getDrawable(ContextCompat.java:454)\nat androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:144)\nat androidx.appcompat.widget.AppCompatDrawableManager.getDrawable(AppCompatDrawableManager.java:411)\nat androidx.appcompat.widget.TintTypedArray.getDrawableIfKnown(TintTypedArray.java:86)\nat androidx.appcompat.app.AppCompatDelegateImpl.attachToWindow(AppCompatDelegateImpl.java:637)\nat androidx.appcompat.app.AppCompatDelegateImpl.ensureWindow(AppCompatDelegateImpl.java:613)\nat androidx.appcompat.app.AppCompatDelegateImpl.onCreate(AppCompatDelegateImpl.java:340)\nat androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:105)\nat com.mypackage.base.BaseActivity.onCreate(BaseActivity.kt:35)\nat com.mypackage.main.MainActivity.onCreate(MainActivity.kt:56)\nat android.app.Activity.performCreate(Activity.java:7258)\nat android.app.Activity.performCreate(Activity.java:7249)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1221)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2927)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3059)\nat android.app.ActivityThread.-wrap11(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1724)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:164)\nat android.app.ActivityThread.main(ActivityThread.java:7000)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:441)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1408)\n</code></pre>\n\n<p>why do I get resource not found for the splash xml file even it exists.</p>\n\n<p>This is the mobile device I got this crash report on:</p>\n\n<pre><code>Samsung Galaxy J7 Core SM-J701F specifications:\n\n    \u2013 5.5 Inch (720 x 1280 pixels (HD)) Super AMOLED capacitive touchscreen, Scratch Resistant (2.5D Curved Glass)\n    \u2013 1.6 GHz Octa Core Exynos (7870) CPU with Mali T830 GPU.\n    \u2013 2 GB RAM and 16 GB internal storage.\n\nOct 16, 2017\nSamsung Galaxy J7 Core SM-J701F Specifications - GSM-specs.com\nhttps://www.gsm-specs.com/specifications/samsung-galaxy-j7-core-sm-j701f/\n</code></pre>\n\n<p>This is my res folder and all files exists in the \"drawable\" folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/x8STW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x8STW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564512768, "post_id": 57278298, "comment_id": 101053252, "body": "What is the problem with your code?  Is there an error message?"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564512841, "post_id": 57278298, "comment_id": 101053285, "body": "oh yes.sorry i will add"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564512937, "post_id": 57278298, "comment_id": 101053339, "body": "@DougStevenson added error message"}], "answers": [{"comments": [{"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564514801, "post_id": 57278584, "comment_id": 101054150, "body": "so it is easier just create regular data java class with getters and setters?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564515029, "post_id": 57278584, "comment_id": 101054242, "body": "Whatever you prefer.  Kotlin will generate an equals method that compares all the fields, while Java will not."}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564515137, "post_id": 57278584, "comment_id": 101054287, "body": "I am just learning kotlin. Now prefer to make sure that everything correct in java and than tranform to kotlin manually. But now I created Java class but got the same issue. Is it possible that something wrong in response?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564515238, "post_id": 57278584, "comment_id": 101054327, "body": "I don&#39;t know - I can&#39;t see your code.  It sounds like you should ask a new question with the new code that doesn&#39;t work the way you expect."}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564515310, "post_id": 57278584, "comment_id": 101054358, "body": "ahhh no. I have checked logs. And still dont understand what is the problem. The response after value exactly what i need which is 100% fit with Java class model. But still got an issue"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564515623, "post_id": 57278584, "comment_id": 101054502, "body": "I added empty constructor to the java model class and it starts working. Thank you for help. Please edit your answer with my final solution"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1564515666, "post_id": 57278584, "comment_id": 101054529, "body": "Please add sample of the empty constructor"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 6, "last_activity_date": 1564513907, "creation_date": 1564513907, "answer_id": 57278584, "question_id": 57278298, "link": "https://stackoverflow.com/questions/57278298/for-some-reason-cant-deserialize-object-from-firebase-response/57278584#57278584", "title": "For some reason cant deserialize object from Firebase response", "body": "<p>The deserializer that comes with the Realtime Database (and also Cloud Firestore) Android SDKs requires that the class you pass to it look like a JavaBean type object.  This means that it must have a default no-arg constuructor, as you can tell from the error message, and also setter methods that map to each database field.</p>\n\n<p>Kotlin data classes don't provide a default no-arg constructor in order to ensure that all of its fields have an initial value.  You can tell Kotlin that it's OK for <strong>all</strong> of the fields not to have an initial value by giving null or some other value as a default value:</p>\n\n<pre><code>data class GameUnit (\n    var background: String = null,\n    var description: String = null,\n    var tag: String = null,\n    var title: String = null,\n    var type: String = null\n)\n</code></pre>\n\n<p>For the above data class, Kotlin will generate a default no-arg constructor for the Firebase SDK to use.  It will also generate setter methods for each var.  Note that each property is <code>var</code> and provides a default null value.</p>\n\n<p>If this is not what you want your data class to look like, you won't be able to use automatic deserialization.  You will have to read each value out of the snapshot, make sure they are each not null, and pass them all to the constructor that Kotlin provides.</p>\n"}], "owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 57278584, "answer_count": 1, "score": 0, "last_activity_date": 1564513954, "creation_date": 1564512645, "last_edit_date": 1564513954, "question_id": 57278298, "link": "https://stackoverflow.com/questions/57278298/for-some-reason-cant-deserialize-object-from-firebase-response", "title": "For some reason cant deserialize object from Firebase response", "body": "<p>Everything looks good. Need help in finding a mistake in code. \nBy the logs that is the snapshot from firebase</p>\n\n<pre><code>DataSnapshot\n        { key = SecondGame,\n                value = {background=https://firebasestorage.googleapis.com/v0/b/fantasygameapp11.appspot.com/o/background_black.jpg?alt=media&amp;token=b3ec1477-6b52-48b4-9296-f57f63f26837, description=SecondGameDescription, tag=https://firebasestorage.googleapis.com/v0/b/fantasygameapp11.appspot.com/o/hot_icon.png?alt=media&amp;token=65516b45-1aca-4cac-9a39-3eddefffe499, \n            title=SecondGame, type=regular} }\n</code></pre>\n\n<p>That is the model</p>\n\n<pre><code>data class GameUnit (val background: String, val description: String, val tag: String, val title: String,  val type: String)\n</code></pre>\n\n<p>Thats the code of the response</p>\n\n<pre><code> mReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            GameUnit post = dataSnapshot.getValue(GameUnit.class);\n        }\n</code></pre>\n\n<p>I know it might be already asked but I need to find the issue first of all. Is it also possible the problem is that model is in Kotlin but firebase response in Java?</p>\n\n<p>Error </p>\n\n<pre><code>com.google.firebase.database.DatabaseException: Class com.model.GameUnit does not define a no-argument constructor. If you are using ProGuard, make sure these constructors are not stripped.\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@17.0.0:552)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(com.google.firebase:firebase-database@@17.0.0:545)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(com.google.firebase:firebase-database@@17.0.0:415)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(com.google.firebase:firebase-database@@17.0.0:214)\n    at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(com.google.firebase:firebase-database@@17.0.0:79)\n    at com.google.firebase.database.DataSnapshot.getValue(com.google.firebase:firebase-database@@17.0.0:212)\n    at com.adultgaming.fantasygameapp.utils.FirebaseManager$1.onDataChange(FirebaseManager.java:47)\n    at com.google.firebase.database.core.ValueEventRegistration.fireEvent(com.google.firebase:firebase-database@@17.0.0:75)\n    at com.google.firebase.database.core.view.DataEvent.fire(com.google.firebase:firebase-database@@17.0.0:63)\n    at com.google.firebase.database.core.view.EventRaiser$1.run(com.google.firebase:firebase-database@@17.0.0:55)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564512446, "post_id": 57278031, "comment_id": 101053120, "body": "I am no kotlin expert but from the looks of it, your <code>loadByIds()</code> function returns a Job because it does the job in background, you will have to add a listener/callback of some sort to get the actual data and then pass it to <code>printAll()</code> function since this function only accepts a Collection."}], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1564515769, "post_id": 57278825, "comment_id": 101054579, "body": "for <code>assignments.postValue(repository.loadAllByIds(userIds))</code> I got compilation error: <code>Required: List&lt;Assignments&gt;!, Found: Unit</code>"}, {"owner": {"reputation": 2427, "user_id": 3503023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmCQ.jpg?s=128&g=1", "display_name": "Krishna Sharma", "link": "https://stackoverflow.com/users/3503023/krishna-sharma"}, "reply_to_user": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1564516141, "post_id": 57278825, "comment_id": 101054716, "body": "my bad, forgotten to share modified repository class ,updated the answer accordingly. Please take a look."}], "tags": [], "owner": {"reputation": 2427, "user_id": 3503023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmCQ.jpg?s=128&g=1", "display_name": "Krishna Sharma", "link": "https://stackoverflow.com/users/3503023/krishna-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1564516110, "last_edit_date": 1564516110, "creation_date": 1564514944, "answer_id": 57278825, "question_id": 57278031, "link": "https://stackoverflow.com/questions/57278031/print-returned-job-from-room/57278825#57278825", "title": "print returned `Job` from Room", "body": "<p>Definitely it won't gonna work and give you the compilation error as you are using coroutines <code>viewModelScope.launch</code> which returns <code>Job</code>.</p>\n\n<p>What would I suggest you to add one more method in view model class which just returns the <code>LiveData</code> </p>\n\n<p><strong>Step 1: Modify your view model class like below</strong> </p>\n\n<pre><code>class AppViewModel(application: Application) : AndroidViewModel(application) {\n    private val assignments = MutableLiveData&lt;List&lt;Assignment&gt;&gt;()\n    @WorkerThread\n    fun loadAllByIds(userIds: IntArray) = viewModelScope.launch(Dispatchers.IO) {\n        assignments.postValue(repository.loadAllByIds(userIds))\n    }\n\n    fun getAssignments(): MutableLiveData&lt;List&lt;Assignment&gt;&gt; {\n        return assignments\n    }\n}\n</code></pre>\n\n<p><strong>Step 2: Then call below methods from fragment/activity.</strong></p>\n\n<p>for example calling from onCreate method </p>\n\n<pre><code>appViewModel.getAssignments().observe(this, Observer { assignments -&gt; \n    printAll(assignments) // You can pass assignments object to your AssignmentsAdapter\n})\nappViewModel.loadAllByIds(intArrayOf(0,1,2))\n</code></pre>\n\n<p><strong>Modified repository class</strong> </p>\n\n<pre><code>class AppRepository(private val assignmentDao: AssignmentDao) {\n    @WorkerThread\n    fun loadAllByIds(userIds: IntArray): List&lt;Assingment&gt; {\n        return assignmentDao.loadAllByIds(userIds)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57278825, "answer_count": 1, "score": 0, "last_activity_date": 1564516110, "creation_date": 1564511443, "question_id": 57278031, "link": "https://stackoverflow.com/questions/57278031/print-returned-job-from-room", "title": "print returned `Job` from Room", "body": "<p>I've a Room database of <code>Assignment</code> and want to get <code>loadAllByIds</code> so I wrote the below codes, in the last one I'm trying to print the returned result but it fails.</p>\n\n<pre><code>@Entity\ndata class Assignment(\n    @PrimaryKey(autoGenerate = true) val uid: Int,\n    @ColumnInfo(name = \"name\") val name: String?,\n    @ColumnInfo(name = \"title\") val title: String? // ,\n)\n</code></pre>\n\n<pre><code>@Dao\ninterface AssignmentDao {\n    @Query(\"SELECT * FROM assignment WHERE uid IN (:userIds)\")\n    fun loadAllByIds(userIds: IntArray): List&lt;Assignment&gt;\n}\n</code></pre>\n\n<p>And </p>\n\n<pre><code>class AppRepository(private val assignmentDao: AssignmentDao) {\n    @WorkerThread\n    fun loadAllByIds(userIds: IntArray) {\n        assignmentDao.loadAllByIds(userIds)\n    }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>class AppViewModel(application: Application) : AndroidViewModel(application) {\n    @WorkerThread\n    fun loadAllByIds(userIds: IntArray) = viewModelScope.launch(Dispatchers.IO) {\n        repository.loadAllByIds(userIds)\n    }\n}\n</code></pre>\n\n<p>And </p>\n\n<pre><code>class AssignmentsAdapter(private val context: Context, private val chaptersList: ArrayList&lt;Assignment&gt;) :\n    RecyclerView.Adapter&lt;AssignmentsAdapter.ViewHolder&gt;() {\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.chapterName.setOnClickListener {\n            printAll(appViewModel.loadAllByIds(intArrayOf(position)))\n        }\n}\n\n    fun printAll(strings: Collection&lt;String&gt;) {\n        for(s in strings) print(\"$s \")\n        println()\n    }\n}\n</code></pre>\n\n<p>For <code>printAll(appViewModel.loadAllByIds(intArrayOf(position)))</code> I get an error:</p>\n\n<blockquote>\n  <p>Required: Collection</p>\n  \n  <p>Found:    Job</p>\n</blockquote>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["android", "kotlin", "mvvm", "coroutine"], "owner": {"reputation": 104, "user_id": 3571610, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100002744670128/picture?type=large", "display_name": "felipe.rce", "link": "https://stackoverflow.com/users/3571610/felipe-rce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1564522923, "creation_date": 1564510370, "last_edit_date": 1564522923, "question_id": 57277727, "link": "https://stackoverflow.com/questions/57277727/coroutine-actor-with-android-mvvm", "title": "Coroutine Actor with Android MVVM", "body": "<p>I need to implement <code>Kotlin Coroutines</code> on MVVM pattern, I try to test this using <code>actors</code> on <code>ViewModel</code>, the problem is that I don't understand how to use it propertly.\nI understand that I need to send calls from the view in actor <code>offer/send</code> method, But how controll it? I need to make each sealed class for each viewmodel?</p>\n\n<p>The actor:</p>\n\n<pre><code>private val gradeActor = viewModelScope.actor&lt;ActorCommand&lt;String&gt;&gt;(Dispatchers.Main) {\n        for (command in channel) {\n            when (command) {\n                is ActorCommand.REGISTER -&gt; {\n\n                    // do\n                }\n            }\n\n\n        }\n    }\n</code></pre>\n\n<p>The sealed class:</p>\n\n<pre><code>sealed class ActorCommand&lt;out T&gt; {\n    class REGISTER&lt;T&gt;(val id: Int, val name: String, val response: SendChannel&lt;T&gt;? = null) : ActorCommand&lt;T&gt;()\n    class REMOVE&lt;T&gt;(val id: Int, val response: SendChannel&lt;T&gt;? = null) : ActorCommand&lt;T&gt;()\n    class QUERY&lt;T&gt;(val response: SendChannel&lt;T&gt;) : ActorCommand&lt;T&gt;()\n}\n</code></pre>\n\n<p>I use this sealed class to send the data (register send the name and ID of my data and the <code>ViewModel</code> call repository with retrofit).</p>\n\n<p>But the \"problem\" is that...\nI use this sealed class to send data and communicate to my <code>ViewModel</code>, but not all my views use this same data, I have views that need to send <code>Double</code>, <code>Objects</code> and many other things... I need to create a sealed class with different methods for each <code>viewmodel/view</code>?\nDon't have another choice?</p>\n\n<p>I think it's not a good practics (maybe I wrong)...\nIt's possible to use 1 sealed class to all?\nOr It's not good use sealed class for this and have another think to do.</p>\n\n<p>Sample:\nFor TwoAfViewModel I use:</p>\n\n<pre><code>sealed class TwoFaCommand {\n    class VERIFY(val code: String, val sessionId: String) : TwoFaCommand()\n    class CONFIRM(val secretKey: String, val manualCode: String, val code: String) : TwoFaCommand()\n    class SAVE(val secretKey: String, val manualCode: String, val code: String) : TwoFaCommand()\n}\n</code></pre>\n\n<p>For LoginViewModel I use:</p>\n\n<pre><code>sealed class LoginCommand {\n    class LOGIN(val email: String, val password: String) : LoginCommand()\n    class LOGIN_VALIDATE(val email: String, val password: String) : LoginCommand()\n    class SAVE_USER_DATA(val email: String, val password: String) : LoginCommand()\n    object USER_IV : LoginCommand()\n}\n</code></pre>\n\n<p>On actor call (LoginViewModel):</p>\n\n<pre><code>private val eventActor = viewModelScope.actor&lt;LoginCommand&gt;(Dispatchers.Main, Channel.RENDEZVOUS) {\n        for (command in channel) {\n            when (command) {\n                is LoginCommand.LOGIN -&gt; {\n                    loadingStateLiveData.postValue(true)\n                    loginLiveData.postValue(loginRepository.getLogin(Login(command.email, command.password)))\n                    loadingStateLiveData.postValue(false)\n                }\n                is LoginCommand.SAVE_USER_DATA -&gt; {\n                    loginSavedRepository.saveUserData(command.email, command.password)\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>It's really necessary to create a sealed class for each viewmodel and channel communication? (Just like I'm doing) </p>\n"}, {"tags": ["java", "kotlin", "benchmarking", "jvm-hotspot", "brainfuck"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 5, "creation_date": 1564508974, "post_id": 57277267, "comment_id": 101051494, "body": "Note that they&#39;re using a <i>fairly</i> naive benchmark, which isn&#39;t a good idea for Java. They have a minor warming procedure, but that doesn&#39;t necessarily warm it properly. Ideally, at the very least, it would run the actual code being timed several times instead of some other arbitrary code. The Kotlin version may be more open to JIT optimizations, and the na&#239;ve benchmarking being used isn&#39;t accounting for that."}], "answers": [{"comments": [{"owner": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "edited": false, "score": 0, "creation_date": 1565889328, "post_id": 57512117, "comment_id": 101495195, "body": "Excellent, but have you tried addressing @Carcigenicate &#39;s concerns about the benchmarking itself?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "edited": false, "score": 0, "creation_date": 1566158121, "post_id": 57512117, "comment_id": 101558904, "body": "I don&#39;t think it would have been appropriate to change the nature of the benchmark. It looked to me like the purpose of this benchmark was to compare idomatic and naitve implementations of this particular task in various languages, so I contributed an idiomatic Kotlin one. Personally, I would not recommend to use the results of such a benchmark for any professional purpose. However, it is a fun toy. I, for one, enjoy toying with problems like this one."}, {"owner": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "edited": false, "score": 1, "creation_date": 1566174965, "post_id": 57512117, "comment_id": 101561457, "body": "I think his concern is not whether the code is idiomatic or not, but that the benchmark is too short (in time) and it&#39;s unclear how much of it gets JIT&#39;ed and whether the JIT compilation itself is an appreciable part of the runtime."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 3, "last_activity_date": 1565883003, "creation_date": 1565883003, "answer_id": 57512117, "question_id": 57277267, "link": "https://stackoverflow.com/questions/57277267/why-is-kotlin-much-faster-than-java-at-interpreting-brainfuck/57512117#57512117", "title": "Why is Kotlin much faster than Java at interpreting Brainfuck?", "body": "<p>Disclaimer: the Kotlin benchmark code is the result of my contribution.</p>\n\n<p>If you compare Java and Kotlin versions of the code you'll notice that they are actually different. Each one uses an idiomatic approach of the corresponding programming language to encode operations.</p>\n\n<ul>\n<li><p>Java version uses <code>enum OpT</code> combined with <code>class Op</code>. To run the brainfuck code it uses an idiomatic Java <code>switch (op.op)</code> on enum to select what to do.</p></li>\n<li><p>Kotlin version uses <code>sealed class Op</code> and an idiomatic Kotlin <code>when (op)</code> on type of the operation that exploits Kotlin's flow-sensitive typing (aka smart-cast) to get nice and readable code.</p></li>\n</ul>\n\n<p>It turns out that idiomatic Kotlin code executes faster on JVM (for no particularly good reason). You can rewrite Java code using the same approach as in Kotlin and you'll get the same performance, however such Java code would look ugly in Java and could not be considered an idiomatic implementation in Java.</p>\n"}], "owner": {"reputation": 9601, "user_id": 1937197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cg7w6.jpg?s=128&g=1", "display_name": "bobcat", "link": "https://stackoverflow.com/users/1937197/bobcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1565883003, "creation_date": 1564508496, "last_edit_date": 1564512002, "question_id": 57277267, "link": "https://stackoverflow.com/questions/57277267/why-is-kotlin-much-faster-than-java-at-interpreting-brainfuck", "title": "Why is Kotlin much faster than Java at interpreting Brainfuck?", "body": "<p>In this <a href=\"https://github.com/kostya/benchmarks\" rel=\"nofollow noreferrer\">Brainfuck v2.0 benchmark</a>, the <a href=\"https://github.com/kostya/benchmarks/blob/master/brainfuck2/bf.java\" rel=\"nofollow noreferrer\">Java version</a> seems to be equivalent to the <a href=\"https://github.com/kostya/benchmarks/blob/master/brainfuck2/bf2.kt\" rel=\"nofollow noreferrer\">Kotlin version</a>, as far as I can tell.</p>\n\n<p>However, it runs twice slower and uses much more memory. Why is that?</p>\n\n<p>I would expect them to have very similar memory and speed characteristics, since both run on the JVM.</p>\n"}, {"tags": ["android", "xml", "android-layout", "kotlin", "colors"], "comments": [{"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564500203, "post_id": 57274990, "comment_id": 101048097, "body": "Your Status Bar color is applied but you are not seeing the effect because the background is as white as the Status Bar icons. See <a href=\"https://stackoverflow.com/a/30075921/8043806\">this post</a>"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "reply_to_user": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564500360, "post_id": 57274990, "comment_id": 101048169, "body": "But i am not able to see status bar icons also"}, {"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564500390, "post_id": 57274990, "comment_id": 101048189, "body": "Use a different color other than white."}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "reply_to_user": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564500961, "post_id": 57274990, "comment_id": 101048507, "body": "Great thanks, but if i want to use same color as background, is there any trick"}, {"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564501040, "post_id": 57274990, "comment_id": 101048546, "body": "You can ask that as a different question."}, {"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564501311, "post_id": 57274990, "comment_id": 101048687, "body": "Or try &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt; when using white"}, {"owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "reply_to_user": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1564776115, "post_id": 57274990, "comment_id": 101155505, "body": "worked.. Thanks"}], "owner": {"reputation": 131, "user_id": 6832549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6339cebeba281a1f707a5d915c850c?s=128&d=identicon&r=PG&f=1", "display_name": "Meenakshi Khandelwal", "link": "https://stackoverflow.com/users/6832549/meenakshi-khandelwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 976, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564499834, "creation_date": 1564499834, "question_id": 57274990, "link": "https://stackoverflow.com/questions/57274990/change-status-bar-color-for-individual-activity-in-android-app", "title": "Change status bar color for individual activity in android app", "body": "<p>I am creating OnBoarding activity after splash activity and before MainActivity. I want to change status bar color for only OnBoarding activity. But its changes the color but its keep hiding status bar itself. I want to show status bar(battery icon, notification icons, network icon etc)</p>\n\n<p>I already followed so many links but none did not work. example <a href=\"https://stackoverflow.com/questions/51142315/status-bar-color-of-main-activity-changes-but-other-activities-status-bar-color\">Status bar color of main activity changes but other activities status bar color remains same</a></p>\n\n<p>Some code i tried but none of theme worked. Added theme attribute in Manifest file for that activity and extended main theme which i used for complete app.</p>\n\n<p>My Main activity style is</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>and my different style which i want to use for a single activity is</p>\n\n<pre><code>&lt;style name=\"Theme.Onboarding\" parent=\"AppTheme\"&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/white&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;style name=\"Theme.Onboarding\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/white&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;style name=\"Theme.Onboarding\" parent=\"android:Theme.Material\"&gt;\n        &lt;item name=\"android:colorPrimary\"&gt;@color/white&lt;/item&gt;\n        &lt;item name=\"android:colorPrimaryDark\"&gt;@color/white&lt;/item&gt;\n        &lt;item name=\"android:statusBarColor\"&gt;@color/white&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n      val window = window\n       window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n       window.statusBarColor = Color.WHITE\n  }\n</code></pre>\n\n<p>All above theme either hiding status bar or not changing color. But i want to show the status bar and change color of that in individual activity</p>\n"}, {"tags": ["spring-boot", "docker", "kotlin", "environment-variables", "spring-bean-dsl"], "comments": [{"owner": {"reputation": 6631, "user_id": 6790948, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/w18wK.png?s=128&g=1", "display_name": "mchawre", "link": "https://stackoverflow.com/users/6790948/mchawre"}, "edited": false, "score": 0, "creation_date": 1564501626, "post_id": 57274743, "comment_id": 101048860, "body": "Have you checked this <a href=\"https://stackoverflow.com/questions/44596007/how-to-read-docker-env-variables-into-java-code\" title=\"how to read docker env variables into java code\">stackoverflow.com/questions/44596007/&hellip;</a>"}, {"owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "edited": false, "score": 1, "creation_date": 1564501862, "post_id": 57274743, "comment_id": 101048990, "body": "try like <code>docker run -e foo=bar image_name</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3026, "user_id": 1492969, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/h8SDu.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1492969/sam"}, "is_accepted": true, "score": 1, "last_activity_date": 1564502480, "creation_date": 1564502480, "answer_id": 57275731, "question_id": 57274743, "link": "https://stackoverflow.com/questions/57274743/environment-variables-from-docker-are-not-passed-to-spring/57275731#57275731", "title": "Environment variables from Docker are not passed to Spring", "body": "<p>You should try with</p>\n\n<pre><code>docker run -env foo=bar your_image:tag\n</code></pre>\n\n<p>And in code,</p>\n\n<pre><code>env.getProperty(\"foo\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10726, "user_id": 4956907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1ypfs.jpg?s=128&g=1", "display_name": "michalk", "link": "https://stackoverflow.com/users/4956907/michalk"}, "is_accepted": false, "score": 1, "last_activity_date": 1564503164, "creation_date": 1564503164, "answer_id": 57275910, "question_id": 57274743, "link": "https://stackoverflow.com/questions/57274743/environment-variables-from-docker-are-not-passed-to-spring/57275910#57275910", "title": "Environment variables from Docker are not passed to Spring", "body": "<p>When you are using :</p>\n\n<pre><code>docker run 123 --env foo=bar \n</code></pre>\n\n<p>You are actually passing command line arguments to the docker container.</p>\n\n<p>If you want to pass environment variables you should use <code>-e</code> (same as --env) option for <code>docker container run</code> command :</p>\n\n<pre><code>docker run -e foo=bar image_name\n</code></pre>\n\n<p>Refer to setting environment variables in <a href=\"https://docs.docker.com/engine/reference/commandline/run/#set-environment-variables--e---env---env-file\" rel=\"nofollow noreferrer\">Docker docs</a>.</p>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 57275731, "answer_count": 2, "score": 0, "last_activity_date": 1564503164, "creation_date": 1564499037, "last_edit_date": 1564499388, "question_id": 57274743, "link": "https://stackoverflow.com/questions/57274743/environment-variables-from-docker-are-not-passed-to-spring", "title": "Environment variables from Docker are not passed to Spring", "body": "<p>I try to dockerize simple java application.</p>\n\n<p>my <code>Dockerfile</code>:</p>\n\n<pre><code>FROM adoptopenjdk/openjdk11:alpine\nCOPY build/libs/*.jar app.jar\nENTRYPOINT java -Djava.security.egd=file:/dev/./urandom -jar /app.jar\nEXPOSE 8080\n</code></pre>\n\n<p>In my bean definition file I try to log properties:</p>\n\n<pre><code>    beans {\n        bean {\n            logger.info { \"System env: \" + env.systemEnvironment }\n            // ...\n        }\n    }\n</code></pre>\n\n<p>but when I call:</p>\n\n<pre><code>docker run 123 --env foo=bar \n</code></pre>\n\n<p>It results in <code>foo</code> not being visible from java.</p>\n\n<p>However if I run my application from Idea and pass environment variables directly it works as a charm.</p>\n\n<p>Am I missing something? How I can make values passed in <code>env</code> available for java?</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-mvvm"], "comments": [{"owner": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1564496674, "post_id": 57273746, "comment_id": 101045916, "body": "I think in mvvm concept, it only support one to one binding ViewModel to UI, but inside of repository you can access many resource from other datasource or DAO. Thats why you need to inject what you need to repository"}, {"owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "reply_to_user": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1564498117, "post_id": 57273746, "comment_id": 101046850, "body": "@NandaZ Thanks for your comment, it gave me idea to implement MainActivityViewModel to pass error messages, but I still don&#39;t know why I cannot receive data on my observers in this case."}, {"owner": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1564498826, "post_id": 57273746, "comment_id": 101047323, "body": "it because you never call this method <code>sendMessage()</code>"}, {"owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "reply_to_user": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1564499094, "post_id": 57273746, "comment_id": 101047489, "body": "@NandaZ this method binded to MessageDialogFragment layout"}, {"owner": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1564499236, "post_id": 57273746, "comment_id": 101047574, "body": "do your log  console can print this line  <code>sendMessage: start</code> ?"}, {"owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "reply_to_user": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1564500151, "post_id": 57273746, "comment_id": 101048066, "body": "@NandaZ, yes, I&#39;m getting both messages, <code>sendMessage: start</code> and <code>sendMessage: blank</code>"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 1, "creation_date": 1564501759, "post_id": 57273746, "comment_id": 101048930, "body": "Can you change <code>SingleLiveEvent</code> to <code>MutableLiveData</code> and see if it works? Also, irrelevant to the problem but, calling observe in <code>onResume</code> is a bad idea. If you go to some other activity or other app and comes back to the activity, it will create duplicate observers."}, {"owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1564502711, "post_id": 57273746, "comment_id": 101049391, "body": "@SanlokLee thanks for advice adout <code>onResume</code>. Tried to change to <code>MutableLiveData</code> - no result"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1564757226, "post_id": 57273746, "comment_id": 101147667, "body": "Honestly none of what LiveData offers was sufficient for my purposes in this regard, that&#39;s why I wrote <a href=\"https://github.com/Zhuinden/event-emitter\" rel=\"nofollow noreferrer\">github.com/Zhuinden/event-emitter</a> which could potentially fix your problem. Though you have so many <code>it</code>s in your code that I lose track."}], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "edited": false, "score": 0, "creation_date": 1564498201, "post_id": 57274248, "comment_id": 101046914, "body": "Thanks, I tried to switch on postValue. No difference."}, {"owner": {"reputation": 584, "user_id": 9093586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPojE.jpg?s=128&g=1", "display_name": "Marat Zangiev", "link": "https://stackoverflow.com/users/9093586/marat-zangiev"}, "reply_to_user": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "edited": false, "score": 0, "creation_date": 1564555683, "post_id": 57274248, "comment_id": 101064623, "body": "I checkout <code>SingleLiveEvent</code> and i think you need to call <code>errorLiveEvent.setValue(BaseCommand.Error(null, &quot;Message cannot be empty&quot;))</code> insted of <code>errorLiveEvent.value = BaseCommand.Error(null, &quot;Message cannot be empty&quot;)</code>"}, {"owner": {"reputation": 584, "user_id": 9093586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPojE.jpg?s=128&g=1", "display_name": "Marat Zangiev", "link": "https://stackoverflow.com/users/9093586/marat-zangiev"}, "reply_to_user": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "edited": false, "score": 0, "creation_date": 1564556772, "post_id": 57274248, "comment_id": 101065133, "body": "changed answer."}], "tags": [], "owner": {"reputation": 584, "user_id": 9093586, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WPojE.jpg?s=128&g=1", "display_name": "Marat Zangiev", "link": "https://stackoverflow.com/users/9093586/marat-zangiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1564556761, "last_edit_date": 1564556761, "creation_date": 1564497526, "answer_id": 57274248, "question_id": 57273746, "link": "https://stackoverflow.com/questions/57273746/handling-error-flow-in-single-activity-mvvm-architecture-observers-isnt-trigge/57274248#57274248", "title": "Handling error flow in single activity MVVM architecture: observers isn&#39;t triggered", "body": "<p>Use <code>errorLiveEvent.setValue(BaseCommand.Error(null, \"Message cannot be empty\"))</code> instead of <code>errorLiveEvent.value = BaseCommand.Error(null, \"Message cannot be empty\")</code></p>\n"}], "owner": {"reputation": 735, "user_id": 5446219, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh6.googleusercontent.com/-KylGHRNqLEA/AAAAAAAAAAI/AAAAAAAAAGk/etLCJuSpme0/photo.jpg?sz=128", "display_name": "Autumn_Cat", "link": "https://stackoverflow.com/users/5446219/autumn-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564556761, "creation_date": 1564495921, "last_edit_date": 1564497091, "question_id": 57273746, "link": "https://stackoverflow.com/questions/57273746/handling-error-flow-in-single-activity-mvvm-architecture-observers-isnt-trigge", "title": "Handling error flow in single activity MVVM architecture: observers isn&#39;t triggered", "body": "<p>I'm using MVVM in single activity application. As possible solution for error flow I decided to use activity as aggregation point for error representation(I considered that activity in this case is the most suitable place for this because it is basic View for any other Views in single activity scenario). I'm using SingleLiveEvent for passing errors(SingleLiveEvent implementation taken from <a href=\"https://github.com/wasabeef/kotlin-mvvm/blob/master/app/src/main/kotlin/jp/wasabeef/util/SingleLiveEvent.kt\" rel=\"nofollow noreferrer\">here</a>). </p>\n\n<p>But in my case I don't receive any error updates from my ViewModels.\nAs example of my flow: </p>\n\n<p><strong>MessageDialogViewModel.kt</strong></p>\n\n<pre><code>class MessageDialogViewModel(application: Application) : AndroidViewModel(application), MessageApi {\n    val TAG: String = \"DialogViewModel: \"\n\n    val message: MutableLiveData&lt;String&gt; = MutableLiveData()\n    val errorLiveEvent: SingleLiveEvent&lt;BaseCommand&gt; = SingleLiveEvent()\n\n\n    override fun sendMessage() {\n        Log.i(TAG, \" sendMessage: start\")\n        if (message.value.isNullOrBlank()) {\n            Log.i(TAG, \" sendMessage: blank\")\n            errorLiveEvent.value = BaseCommand.Error(null, \"Message cannot be empty\")\n        } else {\n            Log.i(TAG, \" sendMessage: ${message.value}\")\n            Repository.getInstance(getApplication()).sendMessage(message.value!!)\n        }\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>     private val loginViewModel: LoginViewModel by lazy {\n            ViewModelProviders.of(this).get(LoginViewModel::class.java)\n        }\n\n        private val mainTaskViewModel: MainTaskViewModel by lazy {\n            ViewModelProviders.of(this).get(MainTaskViewModel::class.java)\n        }\n\n        private val messageDialogViewModel: MessageDialogViewModel by lazy {\n            ViewModelProviders.of(this).get(MessageDialogViewModel::class.java)\n        }\n//////\noverride fun onResume() {\n        super.onResume()\n        //fixme merge observers\n        loginViewModel.singleLiveEvent.observe(this,\n            Observer {\n                when (it) {\n                    is BaseCommand.Success -&gt; {\n                        navigate()\n                    }\n                    is BaseCommand.Error -&gt; showDialog(\n                        errorTitle = it.error?.title,\n                        errorMessage = it.error?.desc\n                    )\n\n\n                }\n            })\n        mainTaskViewModel.errorLiveEvent.observe(this,\n            Observer {\n                when (it) {\n                    is BaseCommand.Success -&gt; {\n\n                    }\n                    is BaseCommand.Error -&gt; {\n                        showToast(it.error)\n                        if (it.error?.code == 500) {\n                            navController.navigate(R.id.action_mainTaskFragment_to_loginFragment)\n                        }\n                    }\n                }\n\n            }\n\n        )\n\n        messageDialogViewModel.errorLiveEvent.observe(this,\n            Observer {\n\n                Log.i(TAG,\"messageDialogViewModel.errorLiveEvent\")\n                when (it) {\n                    is BaseCommand.Success -&gt; {\n\n                    }\n                    is BaseCommand.Error -&gt; {\n                        showToast(null, it.errorMessage)\n                    }\n                }\n            })\n\n    }\n</code></pre>\n\n<p>And in I don't receive anything in my <strong>MainActivity</strong>.\nAny help or suggestion about better architecture solution appreciated. </p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-databinding"], "comments": [{"owner": {"reputation": 1278, "user_id": 3237946, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cd1221b8017dca4ad761876c55d11789?s=128&d=identicon&r=PG&f=1", "display_name": "anatoli", "link": "https://stackoverflow.com/users/3237946/anatoli"}, "edited": false, "score": 0, "creation_date": 1564497195, "post_id": 57273573, "comment_id": 101046252, "body": "take a pic of UI with wrong TextView size. What layout do you use? Could you use <code>android:layout_width=&quot;match_parent&quot;</code> with <code>android:text_align=&quot;end&quot;</code> ?"}, {"owner": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "reply_to_user": {"reputation": 1278, "user_id": 3237946, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cd1221b8017dca4ad761876c55d11789?s=128&d=identicon&r=PG&f=1", "display_name": "anatoli", "link": "https://stackoverflow.com/users/3237946/anatoli"}, "edited": false, "score": 0, "creation_date": 1564560784, "post_id": 57273573, "comment_id": 101067178, "body": "@anatoli I use constraint layout and in the cardview I use linear layout. I&#39;ve also added the pictures in the question"}], "owner": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564563634, "creation_date": 1564495367, "last_edit_date": 1564563634, "question_id": 57273573, "link": "https://stackoverflow.com/questions/57273573/android-data-binding-not-updating-the-view-properly", "title": "Android data binding not updating the view properly", "body": "<p>I'm trying to show country codes and flags in a login fragment that user chose from a dialog including a list of countries and a textview for search. for countries and search, I use a recyclerview and android pagedlist library. I'm using observablefield in ViewModel for data and databinding in XML .the problem is when you search the countries. if the country code is, for example, two digits, and then you change the country with a country that has a three-digit code, the textview only shows 2 digits of country code. it only occurs when you use search\nit's probably because the textview width(which is wrap-content) does not update. I don't know why!!!!</p>\n\n<p>this is the picture for Afghanistan which has a 2 digit code and it works fine\n<a href=\"https://i.stack.imgur.com/d3Nvf.jpg\" rel=\"nofollow noreferrer\">this is the picture</a></p>\n\n<p>but after that, I change the country to Andorra which has a three-digit code(+376) and it only shows the first two digits(+37)\n<a href=\"https://i.stack.imgur.com/zuWRt.jpg\" rel=\"nofollow noreferrer\">this is the picture</a></p>\n\n<p>I've tried using live data instead of an observablefield but it didn't help.\nI've also tried to change the country code without data-binding but it didn't fix the problem.\nthe data updates just fine when I watch it in the debugger but it doesn't show all the digits in the textview.\nif you don't use search it works just fine.</p>\n\n<p>this is the code for flag and country code xml which is in a cardview</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/countryCode\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"8dp\"\n    android:text=\"@{ viewModel.mobileCode }\"\n    android:textColor=\"@color/colorBlack\"\n    android:textSize=\"15sp\"\n    tools:text=\"+1\" /&gt;\n\n&lt;ImageView\n    android:id=\"@+id/countryFlag\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_marginStart=\"16dp\"\n    android:contentDescription=\"@string/country\"\n    android:scaleType=\"centerInside\"\n    android:visibility='@{ viewModel.mobileCode == \"\" ? View.GONE : View.VISIBLE }'\n    app:error=\"@{ @drawable/ic_placeholder_flag }\"\n    app:imageCornerRadius=\"@{ 8 }\"\n    app:imageUrl=\"@{ viewModel.flagUrl }\"\n    app:placeholder=\"@{ @drawable/ic_placeholder_flag }\"\n    tools:srcCompat=\"@drawable/ic_placeholder_flag\" /&gt;\n</code></pre>\n\n<p>this is the code in login fragment which updates the data form the CountiyDialog. showDialog method in CountryDialog takes a lambda </p>\n\n<pre><code>binding.countryFlag.setOnClickListener {\n    CountryDialogFragment.showDialog(fragmentManager!!, true) { country -&gt;\n        viewModel.mobileCode.set(country.phoneCode)\n        viewModel.flagUrl.set(country.imageUrl)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 7, "creation_date": 1564494391, "post_id": 57273201, "comment_id": 101044338, "body": "The error message says plainly that you cannot have multiple varargs parameters in the same function, so what are you actually asking?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1564496059, "post_id": 57273201, "comment_id": 101045495, "body": "@Alexei then pass two lists instead?"}], "answers": [{"tags": [], "owner": {"reputation": 223, "user_id": 5475262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cd6c1705a3191aa673c66c20dc4e5c?s=128&d=identicon&r=PG&f=1", "display_name": "jsvilling", "link": "https://stackoverflow.com/users/5475262/jsvilling"}, "is_accepted": false, "score": 2, "last_activity_date": 1564495610, "creation_date": 1564495610, "answer_id": 57273650, "question_id": 57273201, "link": "https://stackoverflow.com/questions/57273201/multiple-vararg-parameters-are-prohibited/57273650#57273650", "title": "Multiple vararg-parameters are prohibited", "body": "<p>From the <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">Kotlin Documentation</a></p>\n\n<blockquote>\n  <p>Only one parameter may be marked as vararg. If a vararg parameter is not the last one in the list, values for the following parameters can be passed using the named argument syntax, or, if the parameter has a function type, by passing a lambda outside parentheses.</p>\n</blockquote>\n\n<p>As the compiler tells you already, it is not possible to have multiple vararg parameters. You should consider passing the values wrapped in a <code>List</code>, an <code>Array</code>or a similar data strucutre. </p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564495610, "creation_date": 1564494211, "question_id": 57273201, "link": "https://stackoverflow.com/questions/57273201/multiple-vararg-parameters-are-prohibited", "title": "Multiple vararg-parameters are prohibited", "body": "<p>In my Android project:</p>\n\n<p>I need to pass multiple vararg params like this:</p>\n\n<pre><code>fun createTransportResponse(response: Response&lt;*&gt;, vararg throwableArrays: Throwable, vararg errorResponsePair: Pair&lt;Int, String&gt;): TransportResponse {\n            val transportResponse = TransportResponse()\n}\n</code></pre>\n\n<p>But on second vararg param I had compile error:</p>\n\n<pre><code>Multiple vararg-parameters are prohibited\n</code></pre>\n"}, {"tags": ["kotlin", "server-sent-events", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 226, "user_id": 6869836, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDAzh.jpg?s=128&g=1", "display_name": "lehvolk", "link": "https://stackoverflow.com/users/6869836/lehvolk"}, "is_accepted": false, "score": 0, "last_activity_date": 1598602435, "creation_date": 1598602435, "answer_id": 63629954, "question_id": 57273069, "link": "https://stackoverflow.com/questions/57273069/ktor-sse-client-disconnect/63629954#63629954", "title": "Ktor sse client disconnect", "body": "<p>Websocket Ktor implementation has <code>pinger</code> extension which do the same for websockets. So I think it's totally valid has the same for SSE. I thought that it will be better to file a feature request here <a href=\"https://youtrack.jetbrains.com/issues/KTOR\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issues/KTOR</a>.</p>\n<p>As we use SSE in Ktor in production we implemented pinging clients as a background coroutine. It just sends empty event each 30 seconds and if it's fail connection will be closed. It prevents connections leaks in case when user is disconnected but server still holds connection.</p>\n"}], "owner": {"reputation": 63, "user_id": 8151052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc89fd44407abfd69733ac3695faabb5?s=128&d=identicon&r=PG&f=1", "display_name": "Enigmatrix Atheros", "link": "https://stackoverflow.com/users/8151052/enigmatrix-atheros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1598602435, "creation_date": 1564493801, "last_edit_date": 1564498515, "question_id": 57273069, "link": "https://stackoverflow.com/questions/57273069/ktor-sse-client-disconnect", "title": "Ktor sse client disconnect", "body": "<p>Ktor has support for server side events in the sense that I can use the text/server-event content type. It works pretty well, but on client disconnect e.g. Browser window close/manual close call, it will still continue sending events, as it doesn't detect the disconnect until the next event, where it will throw an exception. Is there any way to get a event for client disconnect in a ktor request so that we can stop sending server side events and also cleanup resources? </p>\n"}, {"tags": ["android", "kotlin", "android-camera2"], "comments": [{"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1564515779, "post_id": 57273024, "comment_id": 101054584, "body": "See <a href=\"https://stackoverflow.com/q/38282076/192373#comment86683097_38282076\">stackoverflow.com/q/38282076/192373#comment86683097_38282076</a>"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1564516354, "post_id": 57273024, "comment_id": 101054814, "body": "If you need to post-process the captured image, you can take into account that the jpeg may require rotation according to the <a href=\"https://medium.com/@kenodoggy/solving-image-rotation-on-android-using-camera2-api-7b3ed3518ab6\" rel=\"nofollow noreferrer\">article</a> cited above. But you can pass the image to an ImageView without rotation, by specifying the transform matrix instead."}, {"owner": {"reputation": 11, "user_id": 11255375, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692785954310053/picture?type=large", "display_name": "Timur", "link": "https://stackoverflow.com/users/11255375/timur"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 1, "creation_date": 1564569594, "post_id": 57273024, "comment_id": 101072278, "body": "As a last resort - yes, but I want to understand the cause of the problem."}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1564585793, "post_id": 57273024, "comment_id": 101082212, "body": "The cause of the problem is that <b>cmaera2</b> api does not guarantee that your request of specific Jpeg orientation will be satisfied. <a href=\"https://developer.android.com/reference/android/hardware/camera2/CaptureRequest#JPEG_ORIENTATION\" rel=\"nofollow noreferrer\"><i>Camera devices may either encode this value into the JPEG EXIF header, or rotate the image data to match this orientation.</i></a>"}, {"owner": {"reputation": 2661, "user_id": 3164070, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5woQK.jpg?s=128&g=1", "display_name": "Dave Nottage", "link": "https://stackoverflow.com/users/3164070/dave-nottage"}, "reply_to_user": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "edited": false, "score": 0, "creation_date": 1592093870, "post_id": 57273024, "comment_id": 110301337, "body": "@AlexCohn &quot;camera2 api does not guarantee that your request of specific Jpeg orientation will be satisfied&quot;. Is this documented somewhere?"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "reply_to_user": {"reputation": 2661, "user_id": 3164070, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5woQK.jpg?s=128&g=1", "display_name": "Dave Nottage", "link": "https://stackoverflow.com/users/3164070/dave-nottage"}, "edited": false, "score": 0, "creation_date": 1592123840, "post_id": 57273024, "comment_id": 110307009, "body": "@DaveNottage that&#39;s my interpretation of what you find in the <a href=\"https://developer.android.com/reference/android/hardware/camera2/CaptureRequest#JPEG_ORIENTATION\" rel=\"nofollow noreferrer\">link above</a>."}], "owner": {"reputation": 11, "user_id": 11255375, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692785954310053/picture?type=large", "display_name": "Timur", "link": "https://stackoverflow.com/users/11255375/timur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564494031, "creation_date": 1564493637, "last_edit_date": 1564494031, "question_id": 57273024, "link": "https://stackoverflow.com/questions/57273024/camera2-api-orientation-setting-problems", "title": "Camera2 API: orientation setting problems", "body": "<p>I use Camera2 and ImageReader to get the image, after I display it on the screen. Regardless of the JPEG_ORIENTATION setting, the image is always rotated by -90 degrees.</p>\n\n<p>I tried to change this value manually and using the methods from the documentation and examples. This is what happens on the phone and the emulator with android 9. But on android 5, the orientation changed correctly.</p>\n\n<p>Displaying the image from the camera directly to the screen, as in <a href=\"https://github.com/googlesamples/android-Camera2Basic\" rel=\"nofollow noreferrer\">google sample</a> does not fit, the image must be processed. Bitmap rotation is too slow.</p>\n\n<pre><code> private inner class CameraStateCallback : CameraDevice.StateCallback() {\n        override fun onOpened(camera: CameraDevice) {\n            val builder = camera.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW)\n            val request = builder.apply {\n                addTarget(outputSurface)\n                set(CaptureRequest.JPEG_ORIENTATION, 90)\n                set(CaptureRequest.CONTROL_AE_TARGET_FPS_RANGE, Range(15, 15))\n            }.build()\n            camera.createCaptureSession(mutableListOf(outputSurface), SessionStateCallback(request), null)\n        }\n\n        override fun onDisconnected(camera: CameraDevice) {\n\n        }\n\n        override fun onError(camera: CameraDevice, error: Int) {\n\n        }\n    }\n\nprivate inner class SessionStateCallback(private val request: CaptureRequest) : CameraCaptureSession.StateCallback() {\n        override fun onConfigureFailed(session: CameraCaptureSession) {\n\n        }\n\n        override fun onConfigured(session: CameraCaptureSession) {\n            this@CameraController.session = session\n            session.setRepeatingRequest(request, null, null)\n        }\n    }\n</code></pre>\n\n<pre><code>imageReader = ImageReader.newInstance(1920, 1080, ImageFormat.JPEG, 1)\n</code></pre>\n\n<pre><code>private val imageAvailableListener = {imageReader: ImageReader -&gt;\n        while(true) {\n            val image = imageReader.acquireNextImage() ?: break\n            val bytebuffer = image.planes[0].buffer\n            val buffer = ByteArray(bytebuffer.capacity())\n            bytebuffer.get(buffer)\n            val bmp = BitmapFactory.decodeByteArray(buffer, 0, buffer.size, null)\n            view.showCameraData(bmp)\n            image.close()\n        }\n    }\n</code></pre>\n"}, {"tags": ["dictionary", "kotlin"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 2, "creation_date": 1564493483, "post_id": 57272731, "comment_id": 101043753, "body": "Please provide some code that reproduces this issue"}, {"owner": {"reputation": 405, "user_id": 3412288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Rc1r9.jpg?s=128&g=1", "display_name": "zfChaos", "link": "https://stackoverflow.com/users/3412288/zfchaos"}, "edited": false, "score": 1, "creation_date": 1564494247, "post_id": 57272731, "comment_id": 101044243, "body": "Show your comparator. As <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-sorted-map.html\" rel=\"nofollow noreferrer\">docs</a> say:  <code>Note that if the natural sorting order of keys considers any two keys of this map equal (this could happen if the equality of keys according to Comparable.compareTo is inconsistent with the equality according to Any.equals), only the value associated with the last of them gets into the resulting map.</code>"}, {"owner": {"reputation": 1095, "user_id": 6017529, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/551846158327173/picture?type=large", "display_name": "Olexii Muraviov", "link": "https://stackoverflow.com/users/6017529/olexii-muraviov"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1564497142, "post_id": 57272731, "comment_id": 101046213, "body": "@gpunto I added the code."}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 2, "creation_date": 1564509431, "post_id": 57272731, "comment_id": 101051691, "body": "We need code that we can compile and run to see the issue in action. The code you provided cannot be compiled and run because it misses information, like the <code>MyModel</code> class and how the <code>model</code> list is made.  By only looking at the code you posted, the issue you are experimenting should not happen."}], "owner": {"reputation": 1095, "user_id": 6017529, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/551846158327173/picture?type=large", "display_name": "Olexii Muraviov", "link": "https://stackoverflow.com/users/6017529/olexii-muraviov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565794680, "creation_date": 1564492764, "last_edit_date": 1565794680, "question_id": 57272731, "link": "https://stackoverflow.com/questions/57272731/kotlin-mapstring-listobject-values-are-changed-after-tosortedmap-call", "title": "Kotlin Map&lt;String, List&lt;Object&gt;&gt; values are changed after toSortedMap call", "body": "<p>I got such a map </p>\n\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; \n</code></pre>\n\n<p>when I use </p>\n\n<pre><code>map.toSortedMap(comparator) \n</code></pre>\n\n<p>and comparing values by keys I got sorted map but amount of objects in each value list is also changed (reduced). It's super strange. Under the hood toSortedMap method creates TreeMap with the given comparator, I don't know TreeMap internals but I assume that any map should not change values but only manipulate with the keys. Is this something that is ok for TreeMap or is it a bug in Kotlin library?</p>\n\n<p><b>Edit</b>\nCode I get this issue on: </p>\n\n<pre><code>val categoriesKeys = listOf(\"key1\", \"key2\", etc)\nval categoriesKeysOrdersMap = mapOf(\"key1\" to 0, \"key2\" to 1, etc)\n\nval model = listOf(MyModel(..), MyModel(..), etc)\n\nval categoryKeyToModelsMap = categoriesKeys\n        .asSequence()\n        .map { key -&gt;\n            key to model.filter {\n                it.categories?.contains(key) == true\n            }\n        }\n        .filter { it.second.isNotEmpty() }\n        .toMap()\n        .toSortedMap(compareBy { categoriesKeysOrdersMap[it] })\n</code></pre>\n\n<p>On toMap step I have the map I want but not sorted, but after toSortedMap  my data is messed up. Comparator compares by int value from categoriesKeysOrdersMap using key from category.</p>\n"}, {"tags": ["android", "kotlin", "observable"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 0, "creation_date": 1564492662, "post_id": 57272581, "comment_id": 101043198, "body": "you will get simple list in flatMap or in subscribe, you can access as .blockingGet() or blockingFirst() property, but it is a bad practice"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9648741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "daveDaDude", "link": "https://stackoverflow.com/users/9648741/davedadude"}, "edited": false, "score": 0, "creation_date": 1564492997, "post_id": 57272642, "comment_id": 101043416, "body": "this gives me a Single&lt;(Mutable)List&lt;List&lt;T&gt;!&gt;!&gt;!"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 1, "user_id": 9648741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "daveDaDude", "link": "https://stackoverflow.com/users/9648741/davedadude"}, "edited": false, "score": 0, "creation_date": 1564493598, "post_id": 57272642, "comment_id": 101043828, "body": "Yep, you should wait for async stuff anyways. If you want to wait for it in blocking way, you can use <code>blockingGet()</code>. @gpunto is completely right about <code>flatten()</code>. So final solution will be <code>flowableList.toList().blockingGet().flatten()</code> I guess"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 2, "last_activity_date": 1564493679, "last_edit_date": 1564493679, "creation_date": 1564492541, "answer_id": 57272642, "question_id": 57272581, "link": "https://stackoverflow.com/questions/57272581/flowablelistt-to-listt/57272642#57272642", "title": "Flowable&lt;List&lt;T&gt;&gt; to List&lt;T&gt;", "body": "<p>Just use <code>toList</code> method</p>\n\n<pre><code>val list = flowableList.toList().map { it.flatten() }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9648741, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "daveDaDude", "link": "https://stackoverflow.com/users/9648741/davedadude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565527924, "creation_date": 1564492370, "last_edit_date": 1565527924, "question_id": 57272581, "link": "https://stackoverflow.com/questions/57272581/flowablelistt-to-listt", "title": "Flowable&lt;List&lt;T&gt;&gt; to List&lt;T&gt;", "body": "<p>I want to convert a FlowableList to a List. Any suggestions?</p>\n\n<pre><code>private val flowableList: Flowable&lt;List&lt;T&gt;&gt;\nprivate val list = listOf&lt;T&gt;(flowableList)\n</code></pre>\n"}, {"tags": ["json", "parsing", "kotlin", "retrofit2", "dto"], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 5804482, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fab4d8b952844b7aecc8d4842f6e3ef2?s=128&d=identicon&r=PG", "display_name": "Thomas Cirksena", "link": "https://stackoverflow.com/users/5804482/thomas-cirksena"}, "is_accepted": true, "score": 2, "last_activity_date": 1564492811, "creation_date": 1564492811, "answer_id": 57272744, "question_id": 57272556, "link": "https://stackoverflow.com/questions/57272556/how-to-parse-an-jsonobject-containing-key-value-pairs/57272744#57272744", "title": "How to parse an JSONObject containing key-value-pairs?", "body": "<p>damn... sometimes I'm pretty blind after all...</p>\n\n<p>Just use <code>Map&lt;String,String&gt;</code> :</p>\n\n<pre><code>data class TranslationsDto(\n    val translations: Map&lt;String,String&gt;?,\n    val hash: String?,\n    val length: Int?,\n    val language: String?\n)\n</code></pre>\n"}], "owner": {"reputation": 397, "user_id": 5804482, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fab4d8b952844b7aecc8d4842f6e3ef2?s=128&d=identicon&r=PG", "display_name": "Thomas Cirksena", "link": "https://stackoverflow.com/users/5804482/thomas-cirksena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 348, "favorite_count": 0, "accepted_answer_id": 57272744, "answer_count": 1, "score": 0, "last_activity_date": 1564547371, "creation_date": 1564492307, "last_edit_date": 1564547371, "question_id": 57272556, "link": "https://stackoverflow.com/questions/57272556/how-to-parse-an-jsonobject-containing-key-value-pairs", "title": "How to parse an JSONObject containing key-value-pairs?", "body": "<p>At First: I know the JSON should contain a array with key-value-Pairs, but it's not my API so I can't change it.</p>\n\n<p>This is what the response looks like:</p>\n\n<pre><code>{\n    \"translations\": {\n        \"my.key.nr.0\": \"Value 0\",\n        \"my.key.nr.1\": \"Value 1\",\n        \"my.key.nr.2\": \"Value 2\",\n        \"my.key.nr.3\": \"Value 3\",\n    },\n    \"hash\": \"123xyz\",\n    \"length\": 3,\n    \"language\": \"de\"\n}\n</code></pre>\n\n<p>And this is my DTO so far:</p>\n\n<pre><code>data class TranslationsDto(\n    val translations: ??????????, // &lt;-- dont't know what to use here\n    val hash: String?,\n    val length: Int?,\n    val language: String?\n)\n</code></pre>\n\n<p>Finally, here's my Problem:</p>\n\n<p>I need to parse the response (at least Retrofit should parse the response) to a DTO I can use in my App. If the value of <code>translations</code> would be a array there would be no problem but I can't get it how to parse this JSON structure.</p>\n\n<p>Maybe anyone of you have some ideas?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1749, "user_id": 4275140, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/4835150754c1650f2ff6b952a2fb2e5d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr Kolesnik", "link": "https://stackoverflow.com/users/4275140/alexandr-kolesnik"}, "edited": false, "score": 2, "creation_date": 1564492231, "post_id": 57272489, "comment_id": 101042939, "body": "print stack here, error is cut on screenshot"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 7681344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4bb6222f7bb88b226ad39f067e2e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Rajat Upadhyay", "link": "https://stackoverflow.com/users/7681344/rajat-upadhyay"}, "is_accepted": false, "score": 0, "last_activity_date": 1564492622, "creation_date": 1564492622, "answer_id": 57272673, "question_id": 57272489, "link": "https://stackoverflow.com/questions/57272489/need-some-help-here-in-android-studio/57272673#57272673", "title": "Need some help here in android studio", "body": "<p>Simply do one thing just Cache Invalidate / Restart.. \nyou can Find this option in file..</p>\n"}], "owner": {"reputation": 21, "user_id": 8366244, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-n3xpfNWnlOQ/AAAAAAAAAAI/AAAAAAAAAE4/UxZwObrbN-s/photo.jpg?sz=128", "display_name": "AMOXE pROG", "link": "https://stackoverflow.com/users/8366244/amoxe-prog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1564498612, "creation_date": 1564492086, "last_edit_date": 1564498612, "question_id": 57272489, "link": "https://stackoverflow.com/questions/57272489/need-some-help-here-in-android-studio", "title": "Need some help here in android studio", "body": "<p>I want to run my app but they give me <a href=\"https://i.stack.imgur.com/d4DJx.png\" rel=\"nofollow noreferrer\">this error</a>, how can I fix it</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1801, "user_id": 4348662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4Tes.jpg?s=128&g=1", "display_name": "Ethan Choi", "link": "https://stackoverflow.com/users/4348662/ethan-choi"}, "edited": false, "score": 1, "creation_date": 1564492676, "post_id": 57272465, "comment_id": 101043214, "body": "<a href=\"https://stackoverflow.com/questions/39303180/kotlin-how-can-i-create-a-static-inheritable-function\" title=\"kotlin how can i create a static inheritable function\">stackoverflow.com/questions/39303180/&hellip;</a>"}, {"owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "edited": false, "score": 0, "creation_date": 1564492713, "post_id": 57272465, "comment_id": 101043238, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10291949/are-static-methods-inherited-in-java\">Are static methods inherited in Java?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8138873, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VwKVBmvr4EQ/AAAAAAAAAAI/AAAAAAAABcs/hDez4D2K38U/photo.jpg?sz=128", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/8138873/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1564492992, "creation_date": 1564492992, "answer_id": 57272801, "question_id": 57272465, "link": "https://stackoverflow.com/questions/57272465/static-function-not-visible-in-kotlin-when-extended-from-java/57272801#57272801", "title": "Static function not visible in kotlin when extended from java", "body": "<p>you can use easily</p>\n\n<pre><code>public class App : BaseApplication() {\n    fun doSomething(){\n        Log.w(\"TAG\", \"doing something\")\n        BaseApplication.staticFunction()\n    }\n\n   override fun onCreate() {\n       super.onCreate()\n       staticFunction() // you can call without problem\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 223, "user_id": 5475262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18cd6c1705a3191aa673c66c20dc4e5c?s=128&d=identicon&r=PG&f=1", "display_name": "jsvilling", "link": "https://stackoverflow.com/users/5475262/jsvilling"}, "is_accepted": false, "score": 1, "last_activity_date": 1564493102, "creation_date": 1564493102, "answer_id": 57272845, "question_id": 57272465, "link": "https://stackoverflow.com/questions/57272465/static-function-not-visible-in-kotlin-when-extended-from-java/57272845#57272845", "title": "Static function not visible in kotlin when extended from java", "body": "<p>From the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">Kotlin documentation on Java interop</a>:</p>\n\n<blockquote>\n  <p>Static members of Java classes form \"companion objects\" for these\n  classes. We cannot pass such a \"companion object\" around as a value,\n  but can access the members explicitly ...</p>\n</blockquote>\n\n<p>Your <code>App</code> class is a Kotlin class and doesn't know anything about the static method. However there should be a companion object that has been created for the static Method on the <code>BaseApplication</code> Java class. So you should be able to call the static method with</p>\n\n<pre><code>BaseApplication.staticFunction()\n</code></pre>\n"}], "owner": {"reputation": 602, "user_id": 2837815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SN2Br.png?s=128&g=1", "display_name": "feridok", "link": "https://stackoverflow.com/users/2837815/feridok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1564493898, "creation_date": 1564491983, "last_edit_date": 1564493898, "question_id": 57272465, "link": "https://stackoverflow.com/questions/57272465/static-function-not-visible-in-kotlin-when-extended-from-java", "title": "Static function not visible in kotlin when extended from java", "body": "<p>I'm writing Kotlin alongside java in an Android project, I have an abstract Java BaseApplication class which has some static methods, and my Application classes for each flavors extends this BaseApplication class (called App.kt) and are written in Kotlin. I wonder why I cant access BaseApplication static functions through App class in Kotlin code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic abstract class BaseApplication extends Application {\n    public static void staticFunction(){\n        Log.d(\"TAG\", \"some log...\");\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class App : BaseApplication() {\n    fun doSomething(){\n        Log.w(\"TAG\", \"doing something\")\n    }\n</code></pre>\n\n<p>I can call App.staticFunction() from a Java class but I cant call it from a Kotlin class. Am I doing something wrong? Why I can't call App.staticFunction() ? What is the difference? </p>\n\n<p>I can do this from java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class JavaTest {\n    public void main(String[] args) {\n        App.staticFunction();\n    }\n}\n</code></pre>\n\n<p>But this(kotlin) gives me compile error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class KotlinTest {\n    fun main(args: Array&lt;String&gt;) {\n        App.staticFunction()  //unresolved reference: static function\n    }\n}\n</code></pre>\n\n<p>(I know I can access staticFunction through AbstractApplication, I just want to know why I cant access it through App class?)</p>\n"}, {"tags": ["java", "android", "kotlin", "junit", "mockito"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564494705, "post_id": 57272451, "comment_id": 101044562, "body": "might be because you&#39;re trying to mock a lateinit.. ? i&#39;m not sure though"}, {"owner": {"reputation": 1101, "user_id": 1981184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mf5RE.jpg?s=128&g=1", "display_name": "SathMK", "link": "https://stackoverflow.com/users/1981184/sathmk"}, "reply_to_user": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564638411, "post_id": 57272451, "comment_id": 101098073, "body": "that doesn&#39;t seems to be the issue. i tried without it. still wasn&#39;t working"}], "owner": {"reputation": 1101, "user_id": 1981184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mf5RE.jpg?s=128&g=1", "display_name": "SathMK", "link": "https://stackoverflow.com/users/1981184/sathmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1564492937, "creation_date": 1564491944, "last_edit_date": 1564492937, "question_id": 57272451, "link": "https://stackoverflow.com/questions/57272451/mockito-is-throwing-org-mockito-exceptions-base-mockitoexception-at-the-moment", "title": "Mockito is throwing org.mockito.exceptions.base.MockitoException: At the moment you cannot provide own implementations of MockHandler", "body": "<p>While trying to mock an object inside a JUnit test in android, mockito is throwing <strong>org.mockito.exceptions.base.MockitoException: At the moment you cannot provide own implementations of MockHandler</strong></p>\n\n<p>Below is the code of unit test</p>\n\n<pre><code>import androidx.lifecycle.Observer\nimport com.google.android.gms.maps.model.LatLng\nimport org.junit.Before\nimport org.junit.Rule\nimport org.junit.Test\nimport org.junit.runner.RunWith\nimport org.junit.runners.JUnit4\nimport org.mockito.Mock\nimport org.mockito.Mockito.mock\nimport org.mockito.MockitoAnnotations\nimport org.mockito.junit.MockitoJUnitRunner\n\n//@RunWith(MockitoJUnitRunner::class)\nclass StoreViewModelTest {\n\n    lateinit var observer: Observer&lt;StoreList&gt;\n\n    @Mock lateinit var storeUseCase: StoreUseCase\n\n    private lateinit var viewModel: StoreViewModel\n\n    @Before\n    fun setUp() {\n\n        MockitoAnnotations.initMocks(this)\n\n        viewModel = StoreViewModel(storeUseCase)\n    }\n\n    @Test\n    fun loadstore_ExecutesUseCase() {\n        viewModel.setId(123)\n        verify(storeUseCase, times(1)).execute(any())\n    }\n\n}\n</code></pre>\n\n<p>The error is thrown at the statement <strong>MockitoAnnotations.initMocks(this)</strong></p>\n\n<p>StackTrace :</p>\n\n<pre><code>org.mockito.exceptions.base.MockitoException: At the moment you cannot provide own implementations of MockHandler.\nPlease see the javadocs for the MockMaker interface.\n\nat com.app.ui.store.StoreViewModelTest.setUp(StoreViewModelTest.kt:41)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"}, {"tags": ["java", "kotlin", "interop"], "answers": [{"comments": [{"owner": {"reputation": 10518, "user_id": 38557, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=128&d=identicon&r=PG", "display_name": "noamtm", "link": "https://stackoverflow.com/users/38557/noamtm"}, "edited": false, "score": 0, "creation_date": 1564497736, "post_id": 57272907, "comment_id": 101046606, "body": "I didn&#39;t know extension methods are hidden from Java. But even if they are, how do I hide the interface-based variant from Kotlin?"}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 10518, "user_id": 38557, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=128&d=identicon&r=PG", "display_name": "noamtm", "link": "https://stackoverflow.com/users/38557/noamtm"}, "edited": false, "score": 1, "creation_date": 1564500014, "post_id": 57272907, "comment_id": 101047993, "body": "@noamtm: They are not hidden, Kotlin generates a separate Java class for them and put them inside as static methods. What I meant was that this extension won&#39;t be reachable in a Java&#39;s <code>Manager</code> class instance, so the Java developer shouldn&#39;t be aware such method even exists. I don&#39;t think you can hide the interface-based variable somewhere in Kotlin though. As I said, I find it <i>pretty</i> clean, but still it is just a workaround."}, {"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "reply_to_user": {"reputation": 10518, "user_id": 38557, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=128&d=identicon&r=PG", "display_name": "noamtm", "link": "https://stackoverflow.com/users/38557/noamtm"}, "edited": false, "score": 0, "creation_date": 1564503377, "post_id": 57272907, "comment_id": 101049740, "body": "@noamtm I&#39;ve edited my answer with kind of a second approach."}], "tags": [], "owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "is_accepted": false, "score": 3, "last_activity_date": 1564503290, "last_edit_date": 1564503290, "creation_date": 1564493266, "answer_id": 57272907, "question_id": 57271884, "link": "https://stackoverflow.com/questions/57271884/kotlin-listeners-that-are-java-and-kotlin-friendly/57272907#57272907", "title": "Kotlin listeners that are Java- and Kotlin-friendly", "body": "<p>I believe there is no straightforward method that allows to define such listener that is \"cleanly applicable\" in both Java and Kotlin. If you want to use your listener in Java, you have to stick to an interface and Kotlin doesn't support SAM conversions on Kotlin interfaces:</p>\n\n<blockquote>\n  <p>[...] this feature [SAM conversions] works only for Java interop; since Kotlin has proper function types, automatic conversion of functions into implementations of Kotlin interfaces is unnecessary and therefore unsupported.</p>\n</blockquote>\n\n<p>However you could create an extension method (this way it won't be visible as one of the <code>Manager</code>'s methods in Java) that translates given lambda into an anonymous object:</p>\n\n<pre><code>inline fun Manager.setListener(crossinline onDone: (String) -&gt; Unit) {\n    listener = object : Listener {\n        override fun onDone(id: String) {\n            onDone(id)\n        }\n    }\n}\n</code></pre>\n\n<p>This way you could keep it pretty clean in both Java and Kotlin.</p>\n\n<hr>\n\n<p><strong>Edit</strong>:\nA variation of the above:</p>\n\n<pre><code>class Manager {\n    private var listener: Listener? = null\n\n    fun getListener(): Listener? = listener\n\n    fun setListener(listener: Listener?) {\n        this.listener = listener\n    }\n}\n\nvar Manager.onDone: (String) -&gt; Unit\n    get() = getListener()?.let { it::onDone } ?: {}\n    set(value) {\n        setListener(\n            object : Manager.Listener {\n                override fun onDone(id: String) {\n                    value(id)\n                }\n            }\n        )\n    }\n</code></pre>\n\n<p>In this case in Java you can still reference the listener using setter and getter (which had to be explicitly written) and the lambda-based filed is not visible in a Java's <code>Manager</code> instance. In Kotlin the <code>listener</code> variable is not visible outside the <code>Manager</code> class and it can be used as it was a lambda field. </p>\n\n<p>However both <code>getListener</code> and <code>setListener</code> methods would be visible and reachable in Kotlin. Also Kotlin's lambda won't be inlined while being translated to the anonymous object.</p>\n"}, {"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 1, "last_activity_date": 1564494241, "creation_date": 1564494241, "answer_id": 57273211, "question_id": 57271884, "link": "https://stackoverflow.com/questions/57271884/kotlin-listeners-that-are-java-and-kotlin-friendly/57273211#57273211", "title": "Kotlin listeners that are Java- and Kotlin-friendly", "body": "<p>Unfortunately, interfaces in Kotlin doesn't support SAM conversions. You can read about it for example <a href=\"https://youtrack.jetbrains.com/issue/KT-7770?source=post_page---------------------------\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>For now, you can declare your <code>Listener</code> interface in Java:</p>\n\n<pre><code>public interface Listener {\n    void onDone(String id);\n}\n</code></pre>\n\n<p>and use it in Kotlin</p>\n\n<pre><code>manager.listener = Listener { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 10518, "user_id": 38557, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/76071d244f6cb779def2c3311c02d874?s=128&d=identicon&r=PG", "display_name": "noamtm", "link": "https://stackoverflow.com/users/38557/noamtm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1564503290, "creation_date": 1564490248, "question_id": 57271884, "link": "https://stackoverflow.com/questions/57271884/kotlin-listeners-that-are-java-and-kotlin-friendly", "title": "Kotlin listeners that are Java- and Kotlin-friendly", "body": "<p>I've seen similar Q&amp;A's but didn't find what I'm looking for - maybe I'm missing something.</p>\n\n<p>I want to implement (in a Kotlin class) a listener property. The listener only has one method, so it's lambda-friendly.</p>\n\n<pre><code>    interface Listener {\n        fun onDone(id: String)\n    }\n\n...\n\n    class Manager {\n        var listener: Listener? = null\n    }\n\n</code></pre>\n\n<p>When I want to set this property from Java (8) code, I can do it cleanly using a lambda:</p>\n\n<pre><code>    manager.setListener(id -&gt; {\n\n    });\n</code></pre>\n\n<p>However, in Kotlin, I must create an anonymous object with a method:</p>\n\n<pre><code>    manager.listener = object : OfflineManager.Listener {\n        override fun onDone(id: String) {\n        }\n    }\n</code></pre>\n\n<p>The other option, using function reference in Kotlin:</p>\n\n<pre><code>var listener: ((String) -&gt; Unit)? = null\n</code></pre>\n\n<p>Allows nice lambda in Kotlin, but a Java lambda requires a return value (even though the function is defined as returning Unit) which is strange to Java developers.</p>\n\n<p>So how can I get the best of both?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-navigation", "android-navigation-editor"], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 10381236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PY3G-XubQfw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNb2LKGDSSuBjWxwg0NMS1reLtMGQ/mo/photo.jpg?sz=128", "display_name": "Idris Stack", "link": "https://stackoverflow.com/users/10381236/idris-stack"}, "edited": false, "score": 0, "creation_date": 1564490749, "post_id": 57271797, "comment_id": 101042010, "body": "Ok , let me implement it , but mm seeing you used <code>Androidx</code>, does this mean it&#39;s a must ?"}, {"owner": {"reputation": 362, "user_id": 10381236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PY3G-XubQfw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNb2LKGDSSuBjWxwg0NMS1reLtMGQ/mo/photo.jpg?sz=128", "display_name": "Idris Stack", "link": "https://stackoverflow.com/users/10381236/idris-stack"}, "edited": false, "score": 0, "creation_date": 1564491086, "post_id": 57271797, "comment_id": 101042233, "body": "Well, I got the solution, I migrated all my project to <code>androidx</code> and it worked successfully."}], "tags": [], "owner": {"reputation": 69, "user_id": 11488385, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-guxDfcghBUE/AAAAAAAAAAI/AAAAAAAABYA/t0xJuucrIHQ/photo.jpg?sz=128", "display_name": "Matteo Pasotti", "link": "https://stackoverflow.com/users/11488385/matteo-pasotti"}, "is_accepted": false, "score": 1, "last_activity_date": 1564489982, "creation_date": 1564489982, "answer_id": 57271797, "question_id": 57271498, "link": "https://stackoverflow.com/questions/57271498/fragments-are-not-displaying-in-android-navigation-component/57271797#57271797", "title": "Fragments are not displaying in Android Navigation component", "body": "<p>I am using the version 2.1.0-alpha02 and have no problems.\nTry to change your nav_version_ktx and nav_version</p>\n\n<p>Also this a sample on my <a href=\"https://github.com/matteopasotti/navigation-sample\" rel=\"nofollow noreferrer\">github</a>, just in case you want to check something. But i think it's a problem of version</p>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 10381236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PY3G-XubQfw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNb2LKGDSSuBjWxwg0NMS1reLtMGQ/mo/photo.jpg?sz=128", "display_name": "Idris Stack", "link": "https://stackoverflow.com/users/10381236/idris-stack"}, "is_accepted": false, "score": 0, "last_activity_date": 1564516402, "creation_date": 1564516402, "answer_id": 57279117, "question_id": 57271498, "link": "https://stackoverflow.com/questions/57271498/fragments-are-not-displaying-in-android-navigation-component/57279117#57279117", "title": "Fragments are not displaying in Android Navigation component", "body": "<p>Well, I got the solution, I just migrated my app to use <code>Androidx</code>, this made the graph work as expected.</p>\n"}, {"tags": [], "owner": {"reputation": 2364, "user_id": 1312335, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/39bff1f7bd5a3beff1f5cfbd8ca69f88?s=128&d=identicon&r=PG", "display_name": "juanmeanwhile", "link": "https://stackoverflow.com/users/1312335/juanmeanwhile"}, "is_accepted": false, "score": 0, "last_activity_date": 1592826062, "creation_date": 1592826062, "answer_id": 62513588, "question_id": 57271498, "link": "https://stackoverflow.com/questions/57271498/fragments-are-not-displaying-in-android-navigation-component/62513588#62513588", "title": "Fragments are not displaying in Android Navigation component", "body": "<p>In your nav graph add &quot;tools:layout=&quot;@layout/fragment_your_layout&quot;</p>\n<pre><code>&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/main_navigation&quot;\n    app:startDestination=&quot;@id/home2Fragment&quot;&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/newProfileContentFragment&quot;\n        android:name=&quot;com.adidas.app.profile2.NewProfileContentFragment&quot;\n        android:label=&quot;NewProfileContentFragment&quot;\n        tools:layout=&quot;@layout/fragment_your_layout&quot;\n        /&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n"}], "owner": {"reputation": 362, "user_id": 10381236, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PY3G-XubQfw/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNb2LKGDSSuBjWxwg0NMS1reLtMGQ/mo/photo.jpg?sz=128", "display_name": "Idris Stack", "link": "https://stackoverflow.com/users/10381236/idris-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1592826062, "creation_date": 1564489065, "question_id": 57271498, "link": "https://stackoverflow.com/questions/57271498/fragments-are-not-displaying-in-android-navigation-component", "title": "Fragments are not displaying in Android Navigation component", "body": "<p>Am new with this architecture and am trying to add multiple fragments in the <strong>Android Navigation component</strong> but the <strong>Fragments</strong>\n are not visible in the list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Pisf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pisf2.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, The host is the only one available.</p>\n\n<p>I also had a look at this <a href=\"https://stackoverflow.com/questions/52063670/android-navigation-component-not-displaying-fragment\">question</a>, but it didn't help me out.</p>\n\n<p>Now, these are the dependencies am using from the documentation :</p>\n\n<pre><code>def nav_version = \"2.1.0-beta02\"\n    def nav_version_ktx = \"2.1.0-beta02\"\n\n     // Java\n    implementation \"androidx.navigation:navigation-fragment:$nav_version\"\n    implementation \"androidx.navigation:navigation-ui:$nav_version\"\n\n    // Kotlin\n    implementation \"androidx.navigation:navigation-fragment-ktx:$nav_version_ktx\"\n    implementation \"androidx.navigation:navigation-ui-ktx:$nav_version_ktx\"\n</code></pre>\n\n<p>and this :</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.31'\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n</code></pre>\n\n<p>Then my fragment is as follows :</p>\n\n<pre><code>class BlankFragment2 : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_blank_fragment2, container, false)\n    }\n\n\n}\n</code></pre>\n\n<p>and it's <strong>xml</strong> :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".BlankFragment2\"&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:text=\"@string/hello_blank_fragment\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>The version of my android studio is <strong>3.4.2</strong></p>\n\n<p>What could be the reason to this ?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1564490403, "post_id": 57271396, "comment_id": 101041804, "body": "How would you imagine custom function to be simpler? Especially when you need to allocate variable for each loop and they have different sizes as well."}, {"owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1564495236, "post_id": 57271396, "comment_id": 101044929, "body": "Honest answer: I don&#39;t know. More creative answer: something like <code>loop(0..4, 0..4, 0..3, 0..3, 0..3) { a, b, c, d, e, f -&gt; allTransformations .add(Transformation(a, b, c, d, e, f)) }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1564624433, "creation_date": 1564624433, "answer_id": 57300895, "question_id": 57271396, "link": "https://stackoverflow.com/questions/57271396/possibility-to-reduce-nested-loops/57300895#57300895", "title": "Possibility to reduce nested loops", "body": "<p>This solution can be invoked with:</p>\n\n<pre><code>loopOverRanges(0..4, 0..4, 0..4, 0..3, 0..3, 0..3) { result -&gt;\n//    result[0], result[1], result[2], result[3], result[4], result[5]\n}\n</code></pre>\n\n<p>This is defined as such:</p>\n\n<pre><code>fun loopOverRanges(\n    vararg ranges: IntRange,\n    function: (IntArray) -&gt; Unit\n) {\n    val result = IntArray(ranges.size) { index -&gt; ranges[index].first }\n\n    val productOfRangeLengths = ranges\n        .map { it.toList().size }\n        .product()\n\n    for (i in 0 until productOfRangeLengths) {\n        function(result)\n\n        result[0] += ranges[0].step\n        for (rangeIndex in 0 until ranges.size - 1) {\n            if (result[rangeIndex] == ranges[rangeIndex].last) {\n                result[rangeIndex] = ranges[rangeIndex].first\n                result[rangeIndex + 1] += ranges[rangeIndex].step\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It's questionable to say the least if this improves readability. It removes the need for nesting, which can be useful for a large amount of ranges. It does not give the instant recognition of my initial nested loop; it also hides named parameters and may throw an IndexOutOfBounds when result[TOO_HIGH_INT] is retrieved. </p>\n\n<p>It was a fun little investigation, but I lean towards not using it.</p>\n"}, {"comments": [{"owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1564653605, "post_id": 57301272, "comment_id": 101105502, "body": "Thanks! This is however a similar solution to my own, which also combines a set of ranges to a single counter. Both solutions do not met the requirements of less code and less clutter. Therefor I&#39;ll keep the nested loops. Appreciated your input."}], "tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1564631425, "last_edit_date": 1564631425, "creation_date": 1564628358, "answer_id": 57301272, "question_id": 57271396, "link": "https://stackoverflow.com/questions/57271396/possibility-to-reduce-nested-loops/57301272#57301272", "title": "Possibility to reduce nested loops", "body": "<p>Here is how to do it with one loop. Just like incrementing a counter with 6 digits. When the first digit overflow, carry to the second digit and reset the first digit. etc.</p>\n\n<pre><code>fun loopOverRanges(a:IntRange,b:IntRange,c:IntRange,d:IntRange,e:IntRange,f:IntRange) : ArrayList&lt;Transformation&gt;\n{\n\n    val x = a.count() * b.count() * c.count() * d.count() * e.count() * f.count()\n    val list : ArrayList&lt;Transformation&gt; = ArrayList()\n    var rx = f.first\n    var ry = e.first\n    var rz = d.first\n    var mx = c.first\n    var my = b.first\n    var mz = a.first\n    for(i in 0 until x)\n    {\n        list.add(Transformation(rx,ry,rz,mx,my,mz))\n        when{\n            rx &lt; f.last -&gt; rx += 1\n            ry &lt; e.last -&gt; {\n                rx = f.first\n                ry += 1\n            }\n            rz &lt; d.last -&gt; {\n                rx = f.first\n                ry = e.first\n                rz += 1\n            }\n            mx &lt; c.last -&gt; {\n                rx = f.first\n                ry = e.first\n                rz = d.first\n                mx += 1\n            }\n            my &lt; b.last -&gt; {\n                rx = f.first\n                ry = e.first\n                rz = d.first\n                mx = c.first\n                my += 1\n            }\n            mz &lt; a.last -&gt; {\n                rx = f.first\n                ry = e.first\n                rz = d.first\n                mx = c.first\n                my = b.first\n                mz += 1\n            }\n        }\n        }\n    }\n    return list\n}\n</code></pre>\n\n<p>It can be simplified as</p>\n\n<pre><code>fun loopOverRanges(a:IntRange,b:IntRange,c:IntRange,d:IntRange,e:IntRange,f:IntRange) : ArrayList&lt;Transformation&gt;\n{\n    data class Digit(var value :Int, val range:IntRange)\n    val list : ArrayList&lt;Transformation&gt; = ArrayList()\n    val digits = arrayOf(Digit(a.first,a),Digit(b.first,b),Digit(c.first,c),Digit(d.first,d),Digit(e.first,e),Digit(f.first,f))\n    val x = digits.fold(1){acc,digit -&gt; acc * digit.range.count() }\n    for(i in 0 until x)\n    {\n        list.add(Transformation(digits[5].value,digits[4].value,digits[3].value,digits[2].value,digits[1].value,digits[0].value))\n        val j = digits.indexOfFirst { it.value &lt; it.range.last }\n        if(j &gt;= 0)\n        {\n            for(k in 0 until j )\n            {\n                digits[k].value = digits[k].range.first\n            }\n            digits[j].value += 1\n        }\n    }\n    return list\n}\n</code></pre>\n"}], "owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 551, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1564631425, "creation_date": 1564488741, "question_id": 57271396, "link": "https://stackoverflow.com/questions/57271396/possibility-to-reduce-nested-loops", "title": "Possibility to reduce nested loops", "body": "<p>I want to bypass deep nesting of several for-loops when creating a list off all possible <code>Transformations</code>.</p>\n\n<p>Right now, this block of code is used:</p>\n\n<pre><code>val allTransformations = ArrayList&lt;Transformation&gt;().apply {\n    for (moveZ in 0..4)\n        for (moveY in 0..4)\n            for (moveX in 0..4)\n                for (rotateZ in 0..3)\n                    for (rotateY in 0..3)\n                        for (rotateX in 0..3)\n                            add(Transformation(rotateX, rotateY, rotateZ, moveX, moveY, moveZ))\n}\n</code></pre>\n\n<p>Although this is quite straight forward, I was wondering if Kotlin provides other tools to write this in a single line.</p>\n\n<p>I want to retrieve the same list, with less code and see if this results in less clutter.</p>\n"}, {"tags": ["json", "postgresql", "jdbc", "kotlin", "micronaut"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "is_accepted": true, "score": 9, "last_activity_date": 1566976006, "creation_date": 1566976006, "answer_id": 57686713, "question_id": 57271199, "link": "https://stackoverflow.com/questions/57271199/how-to-store-json-object-into-postgresql-using-jsonb-data-type-inside-table-and/57686713#57686713", "title": "How to store JSON object into PostgreSQL using JSONB data type inside table and PostgreSQL JDBC driver", "body": "<p>We can use PGObject and Jackson Object mapper to save the json in Postgres</p>\n\n<pre><code>val person=PGobject()\nperson.type=\"jsonb\"\nperson.value=ObjectMapper.writeValueAsString(\"{\"fname\":\"john\",\"lname\":\"doe\"}\")\n</code></pre>\n\n<p>now person object can be passed to JDBC driver for storing data as jsonb</p>\n"}], "owner": {"reputation": 798, "user_id": 5169432, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hYhBa.jpg?s=128&g=1", "display_name": "Swanand Keskar", "link": "https://stackoverflow.com/users/5169432/swanand-keskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2345, "favorite_count": 1, "accepted_answer_id": 57686713, "answer_count": 1, "score": 9, "last_activity_date": 1566976006, "creation_date": 1564488167, "last_edit_date": 1564552119, "question_id": 57271199, "link": "https://stackoverflow.com/questions/57271199/how-to-store-json-object-into-postgresql-using-jsonb-data-type-inside-table-and", "title": "How to store JSON object into PostgreSQL using JSONB data type inside table and PostgreSQL JDBC driver", "body": "<p>I want to save following json object into PostgreSQL db table <strong>as jsonb</strong> </p>\n\n<pre><code>{\n  \"fname\":\"john\",\n  \"lname:\"doe\",\n}\n</code></pre>\n\n<p>I am currenlty using PGObject to create object and set type to jsonb and pass value as json string</p>\n\n<p>Looking for a better approach with micronaut-data and micronaut\n<strong>Is there any native data type supported in micronaut-data to convert the Java object to JSON and store in db?</strong>\nHow to save the data using postgres jdbc driver</p>\n\n<p><strong>typecasting in query using :jsonb is already tried with raw jdbc if it works with micronaut-data / predator how to do it?</strong></p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "mutablelivedata"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574737d41531e816dc27aa5847847874?s=128&d=identicon&r=PG&f=1", "display_name": "Remzo", "link": "https://stackoverflow.com/users/7674399/remzo"}, "edited": false, "score": 0, "creation_date": 1564487525, "post_id": 57270939, "comment_id": 101040050, "body": "I tried to create <code>val correctData= MediatorLiveData&lt;Boolean&gt;().apply { value = false }</code> type <code>Boolean</code> and add sources to it, but my age and weight variables are different type."}, {"owner": {"reputation": 59, "user_id": 7674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574737d41531e816dc27aa5847847874?s=128&d=identicon&r=PG&f=1", "display_name": "Remzo", "link": "https://stackoverflow.com/users/7674399/remzo"}, "edited": false, "score": 0, "creation_date": 1564490215, "post_id": 57270939, "comment_id": 101041691, "body": "Good idea, that would work, but if I would  to display something depending of value  much more variables then creating some artificial classes just to observe sounds stupid. Imagine yourself. I have 3 variables age, weight, growth, then if I would display something if age and weight is greater than 0 and display something else if weight and growth is greater than zero, then I have to create AgeWeightClass and WeightGrowthClass. Of course I could have one bigger class, but i think it can be done much better. Don&#39;t you think?"}, {"owner": {"reputation": 59, "user_id": 7674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574737d41531e816dc27aa5847847874?s=128&d=identicon&r=PG&f=1", "display_name": "Remzo", "link": "https://stackoverflow.com/users/7674399/remzo"}, "edited": false, "score": 0, "creation_date": 1564490443, "post_id": 57270939, "comment_id": 101041827, "body": "@&quot;Stanislav Shamilov&quot; Check my updated question please"}, {"owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "reply_to_user": {"reputation": 59, "user_id": 7674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574737d41531e816dc27aa5847847874?s=128&d=identicon&r=PG&f=1", "display_name": "Remzo", "link": "https://stackoverflow.com/users/7674399/remzo"}, "edited": false, "score": 0, "creation_date": 1564490807, "post_id": 57270939, "comment_id": 101042044, "body": "Actually, having a single class wouldn&#39;t be so stupid, and moreover, there is an architectural principle based on that, it&#39;s called MVI. The main idea is that you have a single state of your screen which you can depend on at any time. For your case your state can be described by three variables: age, weight and growth. Grouping them together in a single data class will provide you an ability to retrieve the state of your screen at any time. So even if a configuration change has occurred, you can restore your screen from a single object (of course, this object should be saved/restored)"}, {"owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "reply_to_user": {"reputation": 59, "user_id": 7674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574737d41531e816dc27aa5847847874?s=128&d=identicon&r=PG&f=1", "display_name": "Remzo", "link": "https://stackoverflow.com/users/7674399/remzo"}, "edited": false, "score": 0, "creation_date": 1564490969, "post_id": 57270939, "comment_id": 101042155, "body": "If you didn&#39;t use a single object for keeping the state, you would have to save/restore these variables independently. Moreover, this principle makes testing really easy, because instead of writing complex tests you can just check your single state after any actions and assert it with a desired state."}], "tags": [], "owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "is_accepted": false, "score": 3, "last_activity_date": 1564488764, "last_edit_date": 1564488764, "creation_date": 1564487247, "answer_id": 57270939, "question_id": 57270892, "link": "https://stackoverflow.com/questions/57270892/how-to-get-result-of-two-mutablelivedata-into-one/57270939#57270939", "title": "How to get result of two mutablelivedata into one", "body": "<p>Try using MediatorLiveData, it is designed to merge several LiveData into a single stream\n<a href=\"https://developer.android.com/reference/android/arch/lifecycle/MediatorLiveData\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/lifecycle/MediatorLiveData</a></p>\n\n<p>Since you're going to merge two different types, I'd recommend creating a new class to hold these values:</p>\n\n<pre><code>data class AgeAndWeight(val age: Int = 0, val weight: Double = 0.0)\n</code></pre>\n\n<p>Then create a variable with type MediatorLiveData:</p>\n\n<pre><code>val ageAneWeight = MediatorLiveData&lt;AgeAndWeight&gt;().apply { AgeAndWeight() }\n</code></pre>\n\n<p>Implement your merge function:</p>\n\n<pre><code>fun merge() {\n        ageAneWeight.addSource(age) { value -&gt;\n            val previous = ageAneWeight.value\n            ageAneWeight.value = previous?.copy(age = value)\n        }\n        ageAneWeight.addSource(weight) { value -&gt;\n            val previous = ageAneWeight.value\n            ageAneWeight.value = previous?.copy(weight = value)\n        }\n    }\n</code></pre>\n\n<p>And observe your new live data:</p>\n\n<pre><code>fun observe() {\n    ageAneWeight.observe(this, Observer {\n        if (it.age != 0 &amp;&amp; it.weight &gt; 0.0) {\n            //do whatever you want\n        }\n    })\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22959, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1581367907, "post_id": 57273594, "comment_id": 106402107, "body": "How to invoke this from ViewModel?"}], "tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": true, "score": 1, "last_activity_date": 1564495413, "creation_date": 1564495413, "answer_id": 57273594, "question_id": 57270892, "link": "https://stackoverflow.com/questions/57270892/how-to-get-result-of-two-mutablelivedata-into-one/57273594#57273594", "title": "How to get result of two mutablelivedata into one", "body": "<p>Use another 2 boolean variables that keep track of whether both <code>LiveData</code> has returned true.</p>\n\n<pre><code>private val _correctData = MediatorLiveData&lt;Boolean&gt;().apply {\n        var weightFlag = false\n        var ageFlag = false\n        value = false\n        addSource(age) { x -&gt; x?.let { \n                            ageFlag = x &gt; 0 \n                            if (weightFlag &amp;&amp; ageFlag) {\n                                value = true\n                            }\n                        } }\n        addSource(weight) { x -&gt; x?.let { \n                            weightFlag = x &gt; 0 \n                            if (weightFlag &amp;&amp; ageFlag) {\n                                value = true\n                            }\n                        } }\n    }\n\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7674399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574737d41531e816dc27aa5847847874?s=128&d=identicon&r=PG&f=1", "display_name": "Remzo", "link": "https://stackoverflow.com/users/7674399/remzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3239, "favorite_count": 0, "accepted_answer_id": 57273594, "answer_count": 2, "score": 4, "last_activity_date": 1564495413, "creation_date": 1564487107, "last_edit_date": 1564490413, "question_id": 57270892, "link": "https://stackoverflow.com/questions/57270892/how-to-get-result-of-two-mutablelivedata-into-one", "title": "How to get result of two mutablelivedata into one", "body": "<p>I have two variables in my ViewModel which are controlled by user with buttons. He can decrement or increment value by click on proper button.</p>\n\n<p><code>val age = MutableLiveData&lt;Int&gt;().apply { value = 0 }</code></p>\n\n<p><code>val weight = MutableLiveData&lt;Double&gt;().apply { value = 0.0 }</code></p>\n\n<p>Now I want enable save button only if value of both variables are greater than 0. How to do that? I thought about create another LiveData variable in ViewModel <code>correctData</code> or observe age and weight variable in Activity in some way, but I need help, because I don't know how to do it.</p>\n\n<p>Thank you for help.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I created MediatorLiveData and it's almost working, almost because it doesn't detect if both sources give true value but if there is any true value.</p>\n\n<pre><code>private val _correctData = MediatorLiveData&lt;Boolean&gt;().apply {\n        value = false\n        addSource(age) { x -&gt; x?.let { value = x &gt; 0 } }\n        addSource(repeats) { x -&gt; x?.let { value = x &gt; 0 } }\n    }\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1849, "user_id": 2692102, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/irlFR.gif?s=128&g=1", "display_name": "Hanzala", "link": "https://stackoverflow.com/users/2692102/hanzala"}, "edited": false, "score": 0, "creation_date": 1564544467, "post_id": 57270044, "comment_id": 101061259, "body": "on compile time AS generate same code as for java and kotlin so it&#39;s not an issue to keep both classes in same package"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1564491559, "creation_date": 1564491559, "answer_id": 57272325, "question_id": 57270044, "link": "https://stackoverflow.com/questions/57270044/how-to-change-kt-or-java-files-at-compile-time-and-build-by-kt-or-java-build/57272325#57272325", "title": "How to change .kt or .java files at compile time and build by .kt or .java builds", "body": "<p>If I understand your question correctly, you want to have .kt and .java files defining the same class and to choose which one will be used during the build? This <em>could</em> be achieved by excluding specific files as described in <a href=\"https://stackoverflow.com/questions/39417891/gradle-exclude-file-from-sourceset-not-working\">Gradle exclude file from sourceSet not working</a>. But it's a lot of work and would only lead to having to duplicate pretty much all changes, so it isn't clear why you'd want it in the first place. </p>\n\n<p>But you don't need to do anything to \"support .kt &amp; .java files in same folder and in same package\"; this is already supported by default. But they will be compiled together, so if you have the same class defined in .kt and in .java you'll get a compilation error just as if you defined it in two different .kt files.</p>\n"}], "owner": {"reputation": 1098, "user_id": 6797400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXHSh.jpg?s=128&g=1", "display_name": "Shubham Agrawal", "link": "https://stackoverflow.com/users/6797400/shubham-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564491559, "creation_date": 1564484159, "question_id": 57270044, "link": "https://stackoverflow.com/questions/57270044/how-to-change-kt-or-java-files-at-compile-time-and-build-by-kt-or-java-build", "title": "How to change .kt or .java files at compile time and build by .kt or .java builds", "body": "<p>Can we support .kt &amp; .java files in same folder and in same package (if possible) and change my environment at build time for which files to build from? </p>\n\n<p>Can we differentiate build in gradle on the basis of .kt or .java support?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4238, "user_id": 1371792, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9yJeA.jpg?s=128&g=1", "display_name": "GreenROBO", "link": "https://stackoverflow.com/users/1371792/greenrobo"}, "edited": false, "score": 0, "creation_date": 1564483500, "post_id": 57269837, "comment_id": 101037861, "body": "Yes, you can try Coroutines"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1564483513, "post_id": 57269837, "comment_id": 101037871, "body": "Can&#39;t you just send a message to a handler or invoke a callback? Why do you feel the need to block the main thread?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1564483687, "post_id": 57269837, "comment_id": 101037947, "body": "first read: <a href=\"https://developer.android.com/guide/components/processes-and-threads\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/processes-and-threads</a> then <a href=\"https://developer.android.com/topic/performance/threads\" rel=\"nofollow noreferrer\">developer.android.com/topic/performance/threads</a> You can use aysnc task with kotlin just as with java. For Coroutines refer to <a href=\"https://developer.android.com/kotlin/coroutines\" rel=\"nofollow noreferrer\">developer.android.com/kotlin/coroutines</a>"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1564483735, "post_id": 57269837, "comment_id": 101037975, "body": "@Michael No, I don&#39;t want to block the main thread. I just want to suspend code at the point where the blocking code is called. I don&#39;t believe &quot;suspending&quot; and &quot;blocking&quot; are considered the same thing in Kotlin. I updated my title to be more accurate."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1564483889, "post_id": 57269837, "comment_id": 101038065, "body": "Afaik there is no &quot;main thread&quot; that you could block, apart from the ui thread. Do you mean that you want to execute several asynchronous tasks in sequence?"}, {"owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "edited": false, "score": 0, "creation_date": 1564484042, "post_id": 57269837, "comment_id": 101038149, "body": "I assume this article should help you <a href=\"https://medium.com/@elizarov/blocking-threads-suspending-coroutines-d33e11bf4761\" rel=\"nofollow noreferrer\">medium.com/@elizarov/&hellip;</a>"}, {"owner": {"reputation": 5751, "user_id": 1101692, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0207bd98c9e3f6f855d82aff720437aa?s=128&d=identicon&r=PG", "display_name": "Shark", "link": "https://stackoverflow.com/users/1101692/shark"}, "edited": false, "score": 0, "creation_date": 1564497010, "post_id": 57269837, "comment_id": 101046132, "body": "the main thread is the UI thread."}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1564485980, "post_id": 57270042, "comment_id": 101039156, "body": "Can you modify your code to show some extra code that gets executed after the coroutineScope.launch and then explain when that extra line of code gets called? That is the most important part that is missing."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1564486332, "post_id": 57270042, "comment_id": 101039358, "body": "please recheck the question"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1564486856, "post_id": 57270042, "comment_id": 101039680, "body": "I guess it wasn&#39;t clear, so I added the extra lines of code myself. The line with var x = 0. So when the code runs, does the code starting at x = 0 get executed even when someDataFromSuspendFunction is being called or does it only get called when the code inside withContext finishes?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1564486964, "post_id": 57270042, "comment_id": 101039737, "body": "the main focus is the <code>withContext</code> here. If you write code inside <code>withContext(Dispatchers.IO)</code>, you are not in the Main thread and with <code>launch</code> we are just suspending the Main thread to run that block. That happens until you write <code>withContext(Dispatchers.Main)</code>"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1564487374, "post_id": 57270042, "comment_id": 101039962, "body": "You moved the code x = 0 to be inside the coroutine. That is not what I want. I want it as I had written it to understand whether it would execute after the code inside withContext completes. Please revert that and explain. Thanks."}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1564487672, "post_id": 57270042, "comment_id": 101040131, "body": "I just added it inside a <code>fireACoroutine</code> method so you can understand better what&#39;s going on"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1564486876, "last_edit_date": 1564486876, "creation_date": 1564484156, "answer_id": 57270042, "question_id": 57269837, "link": "https://stackoverflow.com/questions/57269837/suspend-main-thread-while-calling-background-thread/57270042#57270042", "title": "Suspend main thread while calling background thread", "body": "<p>Coroutines are pretty easy. Import them: </p>\n\n<pre><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.2.2'\n</code></pre>\n\n<p>Make your first <code>async</code> code: </p>\n\n<pre><code>private val completableJob = Job() \nprivate val coroutineScope = CoroutineScope(Dispatchers.IO + completableJob)\n//you need these because you need to handle them with Android Lifecycle.\n\nfun fireACoroutine(){\ncorotutineScope.launch(Dispatchers.IO){\n     val someDataFromSuspendFunction = getStringAfterDelay()\n     withContext(Dispatchers.Main){\n       someTextView.text = someDataFromSuspendFunction \n      //switched to Main Thread.\n     }\n    }\n\n   var x = 0\n    x++ //you are outside of a coroutine\n}\n\nsuspend fun getStringAfterDelay(): String = withContext(Dispatchers.IO){\n     delay(1000)\n     \"Hello World\"\n   }\n</code></pre>\n\n<p>Don't forget the to clean your hands when in <code>Activity</code>/<code>Fragment</code>:</p>\n\n<pre><code>override fun onDestroy() {\n        super.onDestroy()\n        completableJob.cancel()\n    }\n</code></pre>\n\n<p>Done! I also have an article about coroutines: <a href=\"https://medium.com/@stavro96/kotlin-coroutines-the-non-confusing-one-5a47ca799578\" rel=\"nofollow noreferrer\">Kotlin Coroutines, the non confusing one</a></p>\n\n<p>I also suggest to know more about operators like <code>launch</code>, <code>async</code> or <code>runBlocking</code>.</p>\n\n<p>Alternatively to coroutines, you may use <code>RxJava</code> to do what you request in questions. It does work in <code>Kotlin</code> like charm. Also, if you feel like you need to know more about both of them, stick to <code>AsyncTask</code>.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 1, "answer_count": 1, "score": -3, "last_activity_date": 1564486876, "creation_date": 1564483364, "last_edit_date": 1564483763, "question_id": 57269837, "link": "https://stackoverflow.com/questions/57269837/suspend-main-thread-while-calling-background-thread", "title": "Suspend main thread while calling background thread", "body": "<p>Is it possible in Kotlin to call some code from the main thread that blocks until that code completes but at the same time does not block the actual UI? From my understanding, coroutines might be able to do that through a process that \"suspends\" executing code on the main thread until the other thread completes. But I have no idea how to do that if it is even possible.</p>\n"}, {"tags": ["java", "android", "kotlin", "mvvm", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "edited": false, "score": 0, "creation_date": 1564496488, "post_id": 57271866, "comment_id": 101045791, "body": "You don&#39;t answer my question. How i can bind the <code>ApiCalls</code> and <code>ViewModel</code> through the <code>Module</code> and the <code>Component</code>?"}], "tags": [], "owner": {"reputation": 116, "user_id": 9838889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3LYSY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/9838889/ashish"}, "is_accepted": false, "score": 0, "last_activity_date": 1564490204, "creation_date": 1564490204, "answer_id": 57271866, "question_id": 57269654, "link": "https://stackoverflow.com/questions/57269654/use-dagger2-with-retrofit-and-mvvm/57271866#57271866", "title": "Use dagger2 with Retrofit and MVVM", "body": "<p>you can make repository where in constructor you can get refrence of your interface and via a method you can hit api in repo.</p>\n\n<pre><code>class ApiRepository @Inject constructor(\nprivate val apiCredentials: ApiCredentials\n) {\n fun hitApi():Observable&lt;Credentials&gt;{\n return apiCredentials.getAuthentication\n }\n}\n</code></pre>\n\n<p>In view model you can get object of this repo via injector like</p>\n\n<pre><code>@Inject\nprotected lateinit var repo: ApiRepository\n</code></pre>\n\n<p>and in view model you can use this.</p>\n"}], "owner": {"reputation": 334, "user_id": 10553376, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HLuPosgdD-4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDHY9N2dFfzdCP0CV9lJCS6xQjK_g/mo/photo.jpg?sz=128", "display_name": "David", "link": "https://stackoverflow.com/users/10553376/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564490204, "creation_date": 1564482714, "question_id": 57269654, "link": "https://stackoverflow.com/questions/57269654/use-dagger2-with-retrofit-and-mvvm", "title": "Use dagger2 with Retrofit and MVVM", "body": "<p>I'm trying to use <code>Dagger</code>, <code>Retrofit</code>, and <code>VMMV</code> structure in my app, but I don't know how to use <code>Retrofit</code> in this case. I have my Module and Interface where i realize my calls to the <code>API</code>. I use <code>Dagger</code> before and i think i should have a component to connect my <code>ApiCalls</code> with my <code>MainViewModel</code> where i want to use it. I'm in the correct way? If not how i should make the bind with my <code>ViewModel</code> to get the <code>Observable</code> with the credentials?</p>\n\n<p>My <code>NetworkModule</code>:</p>\n\n<pre><code>@Module\nobject NetworkModule{\n\n    /**\n     * Provides the Post service implementation.\n     * @param retrofit the Retrofit object used to instantiate the service\n     * @return the Post service implementation.\n     */\n    @Provides\n    @Reusable\n    @JvmStatic\n    fun provideUserAuth(retrofit: Retrofit): ApiCredentials{\n        return retrofit.create(ApiCredentials::class.java)\n    }\n\n    /**\n     * Provides the Retrofit object.\n     * @return the Retrofit object\n     */\n    val provideRetrofit: Retrofit by lazy {\n        Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build()\n    }\n}\n</code></pre>\n\n<p>My <code>ApiCalls</code> with Retrofit:</p>\n\n<pre><code>interface ApiCredentials {\n\n    @get:POST(\"/api/auth/sign_in\")\n    val getAuthentication: Observable&lt;Credentials&gt;\n}\n</code></pre>\n\n<p>My <code>MainViewModel</code>:</p>\n\n<pre><code>class MainViewModel : ViewModel() {\n    // TODO: Implement the ViewModel\n}\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "gson", "retrofit"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1564485972, "post_id": 57269632, "comment_id": 101039152, "body": "<code>&lt;List&lt;Pokemon&gt;</code> will expect you to deserialize the JSONArray, while you have the JSONObject. In general, your JSON is badly structured. It should be like <code>[   {     &quot;id&quot;: &quot;266&quot;,     &quot;name&quot;: &quot;Pikachu&quot;   },    {     &quot;id&quot;: &quot;103&quot;,     &quot;name&quot;: &quot;Pichu&quot;   }]</code> instead."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1564489052, "post_id": 57269632, "comment_id": 101040931, "body": "Hi! I agree with you but unfortunately I can&#39;t change the Json :/"}], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1564489230, "post_id": 57269667, "comment_id": 101041069, "body": "Thank you for your answer. Ok I don&#39;t think I have much choice... I&#39;ll only do <code>map.value</code>... the keys are useless for me (this json is really bad)"}], "tags": [], "owner": {"reputation": 7362, "user_id": 972671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d60679aa1bf8f8400d3953e7dc78d2db?s=128&d=identicon&r=PG", "display_name": "Kingfisher Phuoc", "link": "https://stackoverflow.com/users/972671/kingfisher-phuoc"}, "is_accepted": false, "score": 2, "last_activity_date": 1564482749, "creation_date": 1564482749, "answer_id": 57269667, "question_id": 57269632, "link": "https://stackoverflow.com/questions/57269632/how-to-create-a-list-from-json-objects-using-the-gson-library/57269667#57269667", "title": "How to create a list from JSON objects using the GSON library?", "body": "<p>You can use <code>Map</code> instead of <code>List</code>. List is for json array. You can return <code>Call&lt;Map&lt;String, Pokemon&gt;&gt;</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1564489603, "post_id": 57270963, "comment_id": 101041302, "body": "Thanks to those who helped me but I prefer your solution because it answers my question exactly."}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 0, "creation_date": 1564489722, "post_id": 57270963, "comment_id": 101041383, "body": "pokemonList.map { it.name } = {ArrayList@8818}  size = 3     0 = &quot;Pikachu&quot;&quot; 1 = &quot;Pichu 2 = &quot;Raichu&quot; //it works"}], "tags": [], "owner": {"reputation": 74, "user_id": 7714050, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6rF16xbgTyg/AAAAAAAAAAI/AAAAAAAAAEY/c5sxpKo4wQs/photo.jpg?sz=128", "display_name": "Santosh Kumar Gupta", "link": "https://stackoverflow.com/users/7714050/santosh-kumar-gupta"}, "is_accepted": true, "score": 1, "last_activity_date": 1564487342, "creation_date": 1564487342, "answer_id": 57270963, "question_id": 57269632, "link": "https://stackoverflow.com/questions/57269632/how-to-create-a-list-from-json-objects-using-the-gson-library/57270963#57270963", "title": "How to create a list from JSON objects using the GSON library?", "body": "<p>Try this, below code will convert your <strong>JSON object</strong> to <strong>List</strong> using GSON library</p>\n\n<pre><code>String jsonStr = \"{\\\"Pikachu\\\": {\\\"id\\\": \\\"266\\\",\\\"name\\\": \\\"Pikachu\\\"},\\\"Pichu\\\": {\\\"id\\\": \\\"103\\\",\\\"name\\\": \\\"Pichu\\\"},\\\"Raichu\\\": {\\\"id\\\": \\\"84\\\",\\\"name\\\": \\\"Raichu\\\"}}\";\n\nprivate List&lt;Pokemon&gt; getPokemonObjects() {\n    try {\n        List&lt;Pokemon&gt; pokemonList = new ArrayList&lt;&gt;();\n        JSONObject jsonObject = new JSONObject(jsonStr);\n        Iterator&lt;String&gt; iterator = jsonObject.keys();\n        while (iterator.hasNext()){\n            String key = iterator.next();\n            Gson gson = new Gson();\n            Pokemon pokemon = gson.fromJson(jsonObject.get(key).toString(),Pokemon.class);\n            pokemonList.add(pokemon);\n        }\n\n       return pokemonList;\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57270963, "answer_count": 2, "score": 0, "last_activity_date": 1564489485, "creation_date": 1564482618, "last_edit_date": 1564489485, "question_id": 57269632, "link": "https://stackoverflow.com/questions/57269632/how-to-create-a-list-from-json-objects-using-the-gson-library", "title": "How to create a list from JSON objects using the GSON library?", "body": "<p>I have this json : </p>\n\n<pre><code>{\n  \"Pikachu\": {\n    \"id\": \"266\",\n    \"name\": \"Pikachu\"\n  },\n  \"Pichu\": {\n    \"id\": \"103\",\n    \"name\": \"Pichu\"\n  },\n  \"Raichu\": {\n    \"id\": \"84\",\n    \"name\": \"Raichu\"\n  }\n}\n</code></pre>\n\n<p>and this model : </p>\n\n<pre><code>class Pokemon: Serializable {\n\n    @SerializedName(\"id\")\n    var id: String = \"\"\n\n    @SerializedName(\"name\")\n    var name: String = \"\"\n}\n</code></pre>\n\n<p>How can i get ?</p>\n\n<pre><code>//retrofit call\n@GET(\"/pokemon\")\nfun getPokemon(): Call&lt;List&lt;Pokemon&gt;&gt;\n</code></pre>\n\n<p>if we assume that <code>/pokemon</code> is the correct path to display the json above</p>\n\n<pre><code>// what i need : [Pokemon@1, Pokemon@2, Pokemon@3] \n</code></pre>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "edited": false, "score": 0, "creation_date": 1564484298, "post_id": 57269256, "comment_id": 101038291, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48742377/kotlin-gradle-make-sure-you-have-kotlin-reflect-jar-in-the-classpath\">Kotlin &amp; Gradle - Make sure you have kotlin-reflect.jar in the classpath</a>"}, {"owner": {"reputation": 651, "user_id": 6924220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eaOhZ396uiQ/AAAAAAAAAAI/AAAAAAAAASs/Q0cWkeR84S0/photo.jpg?sz=128", "display_name": "MSI Abu Zafar Newton", "link": "https://stackoverflow.com/users/6924220/msi-abu-zafar-newton"}, "reply_to_user": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "edited": false, "score": 0, "creation_date": 1564484939, "post_id": 57269256, "comment_id": 101038599, "body": "@StanislavShamilov , I am not using Kotlin in my project and havn&#39;t included any plugin for Kotlin. But the link you provide has included kotlin plugin . I want to remove the part which requires Kotlin. Can you help giving an idea about why the Kotlin library is needed , though I am not willing to use it ?"}, {"owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "edited": false, "score": 0, "creation_date": 1564485658, "post_id": 57269256, "comment_id": 101038986, "body": "Could you add the top-level build.gradle file?"}, {"owner": {"reputation": 651, "user_id": 6924220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eaOhZ396uiQ/AAAAAAAAAAI/AAAAAAAAASs/Q0cWkeR84S0/photo.jpg?sz=128", "display_name": "MSI Abu Zafar Newton", "link": "https://stackoverflow.com/users/6924220/msi-abu-zafar-newton"}, "reply_to_user": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "edited": false, "score": 0, "creation_date": 1566111263, "post_id": 57269256, "comment_id": 101548328, "body": "<b>Note: Problem is Solved. I came up with learning that, there was something wrong in my Kotlin Plugin of Android Studio. Error was gone when I disabled Kotlin plugin and re enabled it.</b> @StanislavShamilov"}], "owner": {"reputation": 651, "user_id": 6924220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eaOhZ396uiQ/AAAAAAAAAAI/AAAAAAAAASs/Q0cWkeR84S0/photo.jpg?sz=128", "display_name": "MSI Abu Zafar Newton", "link": "https://stackoverflow.com/users/6924220/msi-abu-zafar-newton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1566111185, "creation_date": 1564481361, "last_edit_date": 1566111185, "question_id": 57269256, "link": "https://stackoverflow.com/questions/57269256/how-do-i-know-which-component-is-required-to-build-my-project-having-kotlin-refl", "title": "How do I know which component is required to build my project having Kotlin reflection support. As I do not want to use Kotlin?", "body": "<p>I was working on Android custom Toolbar, I used \"Androidx\" support library.When I try to run my project it says <b>\"Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\"</b>  </p>\n\n<p>I tried to remove the libraries I used from gradle build and try to rebuild the project. But each time it says the same.</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.XXXXXXXXX.XXXXXX\"\n        minSdkVersion 14\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.android.material:material:1.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n\n\n    //&lt;------------------------------ArchitectureComponents------------------------------//\n    def lifecycle_version = \"2.0.0\"\n    def room_version = \"2.1.0\" // 2.1.0 for latest stable version\n    // ViewModel and LiveData\n    implementation \"androidx.lifecycle:lifecycle-extensions:$lifecycle_version\"\n    implementation \"androidx.room:room-runtime:$room_version\"\n\n    /*Only Supports JAVA\n    Uncomments the below lines to\n    Support Kotlin\n    */\n\n    //kapt \"android.arch.lifecycle:compiler:$lifecycle_version\"\n    //kapt \"android.arch.persistence.room:compiler:$room_version\"\n    //------------------------------ArchitectureComponents------------------------------/&gt;//\n\n}\n</code></pre>\n\n<p>Here is my <b>gradle.build</b> (Project level)</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.4.2'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And I have a error log like down below:</p>\n\n<pre><code>org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'.\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:79)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:72)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.access$600(LifecycleProjectEvaluator.java:53)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:198)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject$1.run(LifecycleProjectEvaluator.java:111)\n    at org.gradle.internal.Factories$1.create(Factories.java:25)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withProjectLock(DefaultProjectStateRegistry.java:226)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withMutableState(DefaultProjectStateRegistry.java:220)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.withMutableState(DefaultProjectStateRegistry.java:186)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:95)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:67)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:693)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:141)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\n    at org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:41)\n    at org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:302)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:210)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:151)\n    at org.gradle.initialization.DefaultGradleLauncher.getConfiguredBuild(DefaultGradleLauncher.java:129)\n    at org.gradle.internal.invocation.GradleBuildController$2.execute(GradleBuildController.java:67)\n    at org.gradle.internal.invocation.GradleBuildController$2.execute(GradleBuildController.java:64)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:82)\n    at org.gradle.internal.invocation.GradleBuildController$3.create(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:183)\n    at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:40)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:75)\n    at org.gradle.internal.invocation.GradleBuildController.configure(GradleBuildController.java:64)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedBuildActionRunner.run(ClientProvidedBuildActionRunner.java:57)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:58)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:39)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:315)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:305)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:101)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:49)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:46)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:78)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:46)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:31)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:42)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:28)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:52)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:68)\n    at org.gradle.tooling.internal.provider.SessionScopeBuildActionExecuter.execute(SessionScopeBuildActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:60)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:48)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:32)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.internal.event.ListenerNotificationException: Failed to notify project evaluation listener.\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:86)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\n    at org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n    at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy35.afterEvaluate(Unknown Source)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:190)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:187)\n    at org.gradle.api.internal.project.DefaultProject.stepEvaluationListener(DefaultProject.java:1419)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:196)\n    ... 108 more\nCaused by: com.google.common.util.concurrent.ExecutionError: kotlin.jvm.KotlinReflectionNotSupportedError: Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2048)\n    at com.google.common.cache.LocalCache.get(LocalCache.java:3952)\n    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3974)\n    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4958)\n    at com.android.build.gradle.tasks.TaskInjectionPointsCache$Companion.getInjectionPoints(TaskInjectionPointsCache.kt:290)\n    at com.android.build.gradle.tasks.TaskArtifactsHolder.allocateArtifacts(TaskArtifactsHolder.kt:57)\n    at com.android.build.gradle.tasks.AnnotationProcessingTaskCreationAction.preConfigure(AnnotationProcessingTaskCreationAction.kt:41)\n    at com.android.build.gradle.tasks.ProcessApplicationManifest$CreationAction.preConfigure(ProcessApplicationManifest.java:601)\n    at com.android.build.gradle.internal.tasks.factory.TaskAction.doPreConfig(TaskFactoryUtils.kt:96)\n    at com.android.build.gradle.internal.tasks.factory.TaskAction.postRegisterHook(TaskFactoryUtils.kt:88)\n    at com.android.build.gradle.internal.tasks.factory.TaskFactoryUtils.registerTask(TaskFactoryUtils.kt:39)\n    at com.android.build.gradle.internal.tasks.factory.TaskFactoryImpl.register(TaskFactoryImpl.kt:45)\n    at com.android.build.gradle.internal.TaskManager.createMergeManifestTask(TaskManager.java:771)\n    at com.android.build.gradle.internal.TaskManager.createMergeApkManifestsTask(TaskManager.java:750)\n    at com.android.build.gradle.internal.ApplicationTaskManager.createTasksForVariantScope(ApplicationTaskManager.java:134)\n    at com.android.build.gradle.internal.VariantManager.createTasksForVariantData(VariantManager.java:497)\n    at com.android.build.gradle.internal.VariantManager.createAndroidTasks(VariantManager.java:371)\n    at com.android.build.gradle.BasePlugin.createAndroidTasks(BasePlugin.java:762)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:81)\n    at com.android.build.gradle.BasePlugin.lambda$createTasks$4(BasePlugin.java:646)\n    at com.android.build.gradle.internal.crash.CrashReporting$afterEvaluate$1.execute(crash_reporting.kt:37)\n    at com.android.build.gradle.internal.crash.CrashReporting$afterEvaluate$1.execute(crash_reporting.kt)\n    at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1$1.run(DefaultListenerBuildOperationDecorator.java:150)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.reapply(DefaultUserCodeApplicationContext.java:58)\n    at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:147)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:301)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:293)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:175)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction.execute(DefaultListenerBuildOperationDecorator.java:144)\n    at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:91)\n    at org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:80)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n    at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n    at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n    ... 118 more\nCaused by: kotlin.jvm.KotlinReflectionNotSupportedError: Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\n    at kotlin.jvm.internal.ClassReference.error(ClassReference.kt:79)\n    at kotlin.jvm.internal.ClassReference.getAnnotations(ClassReference.kt:27)\n    at com.android.build.gradle.tasks.TaskInjectionPointsCache$Companion$introspector$1.findID(TaskInjectionPointsCache.kt:345)\n    at com.android.build.gradle.tasks.TaskInjectionPointsCache$Companion$introspector$1.load(TaskInjectionPointsCache.kt:254)\n    at com.android.build.gradle.tasks.TaskInjectionPointsCache$Companion$introspector$1.load(TaskInjectionPointsCache.kt:172)\n    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3528)\n    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2277)\n    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2154)\n    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2044)\n    ... 153 more\n</code></pre>\n\n<p><strong>Note: Problem is Solved. I came up with learning that, there was something wrong in my Kotlin Plugin of Android Studio. Error was gone when I disabled Kotlin plugin and re enabled it.</strong></p>\n"}, {"tags": ["android", "kotlin", "surfaceview", "android-camera2", "android-textureview"], "comments": [{"owner": {"reputation": 714, "user_id": 2540222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/978YK.png?s=128&g=1", "display_name": "Raghav Sharma", "link": "https://stackoverflow.com/users/2540222/raghav-sharma"}, "edited": false, "score": 0, "creation_date": 1564494658, "post_id": 57268857, "comment_id": 101044525, "body": "Any guidance in this regard is extremely helpful"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 995430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xsldX.jpg?s=128&g=1", "display_name": "Rodrigo Souza", "link": "https://stackoverflow.com/users/995430/rodrigo-souza"}, "edited": false, "score": 0, "creation_date": 1590621938, "post_id": 57799508, "comment_id": 109752785, "body": "Where did you get this image? That&#39;s exactly what I need. Thanks."}, {"owner": {"reputation": 714, "user_id": 2540222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/978YK.png?s=128&g=1", "display_name": "Raghav Sharma", "link": "https://stackoverflow.com/users/2540222/raghav-sharma"}, "reply_to_user": {"reputation": 127, "user_id": 995430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xsldX.jpg?s=128&g=1", "display_name": "Rodrigo Souza", "link": "https://stackoverflow.com/users/995430/rodrigo-souza"}, "edited": false, "score": 0, "creation_date": 1600586938, "post_id": 57799508, "comment_id": 113130340, "body": "@RodrigoSouza It was given by our designers."}], "tags": [], "owner": {"reputation": 714, "user_id": 2540222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/978YK.png?s=128&g=1", "display_name": "Raghav Sharma", "link": "https://stackoverflow.com/users/2540222/raghav-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1567664657, "creation_date": 1567664657, "answer_id": 57799508, "question_id": 57268857, "link": "https://stackoverflow.com/questions/57268857/image-overlay-over-the-textureview-android/57799508#57799508", "title": "Image overlay over the TextureView android", "body": "<p>I was able to do the same with a little different approach and it worked like a charm. The overlayed image is only for reference. <a href=\"https://i.stack.imgur.com/YSZ9f.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YSZ9f.jpg\" alt=\"enter image description here\"></a>This activity returns the path of the clicked photo without the overlayed image. Front and back camera both working in this activity.</p>\n\n<pre><code>import android.Manifest;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.ImageFormat;\nimport android.graphics.SurfaceTexture;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraCaptureSession;\nimport android.hardware.camera2.CameraCharacteristics;\nimport android.hardware.camera2.CameraDevice;\nimport android.hardware.camera2.CameraManager;\nimport android.hardware.camera2.CameraMetadata;\nimport android.hardware.camera2.CaptureRequest;\nimport android.hardware.camera2.TotalCaptureResult;\nimport android.hardware.camera2.params.StreamConfigurationMap;\nimport android.media.Image;\nimport android.media.ImageReader;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.os.HandlerThread;\nimport android.util.Size;\nimport android.view.Surface;\nimport android.view.TextureView;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.aranoah.healthkart.plus.R;\n\nimport com.bumptech.glide.Glide;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.nio.ByteBuffer;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.Fragment;\nimport butterknife.BindView;\nimport butterknife.ButterKnife;\nimport butterknife.OnClick;\n\nimport static android.hardware.camera2.CameraMetadata.LENS_FACING_BACK;\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\npublic class CameraStencilActivity extends AppCompatActivity\n{\n    @BindView(R.id.textture)\n    TextureView textture;\n    @BindView(R.id.stencil)\n    ImageView stencil;\n    @BindView(R.id.stencil_description)\n    TextView stencilDescription;\n\n    protected CameraDevice cameraDevice;\n    protected CameraCaptureSession cameraCaptureSessions;\n    protected CaptureRequest.Builder captureRequestBuilder;\n    private Size imageDimension;\n    private ImageReader imageReader;\n    private StencilItem stencilItem;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    public static final int STENCIL_CAMERA_REQUEST_CODE = 10;\n    public static final String KEY_CAPTURED_STENCIL_DATA = \"KEY_CAPTURED_STENCIL_DATA\";\n    private Handler mBackgroundHandler;\n    private HandlerThread mBackgroundThread;\n    private Integer mCameraLensFacingDirection;\n\n    public static void startForResult(Fragment fragment, StencilItem stencilItem)\n    {\n        Intent intent = new Intent(fragment.getContext(), CameraStencilActivity.class);\n        intent.putExtra(\"stencil\", stencilItem);\n        fragment.startActivityForResult(intent, STENCIL_CAMERA_REQUEST_CODE);\n    }\n\n    @OnClick(R.id.btn_rotate)\n    void onRotateClick()\n    {\n        switchCamera();\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_camera_stencil);\n        ButterKnife.bind(this);\n        stencilItem = getIntent().getParcelableExtra(\"stencil\");\n        Glide.with(this).load(stencilItem.getStencil().getUrl()).into(stencil);\n        textture.setSurfaceTextureListener(textureListener);\n        stencilDescription.setText(stencilItem.getStencil().getUnderlineText());\n    }\n\n    TextureView.SurfaceTextureListener textureListener = new TextureView.SurfaceTextureListener()\n    {\n        @Override\n        public void onSurfaceTextureAvailable(SurfaceTexture surface, int width, int height)\n        {\n            openCamera();\n        }\n\n        @Override\n        public void onSurfaceTextureSizeChanged(SurfaceTexture surface, int width, int height)\n        {\n            // Transform you image captured size according to the surface width and height\n        }\n\n        @Override\n        public boolean onSurfaceTextureDestroyed(SurfaceTexture surface)\n        {\n            return false;\n        }\n\n        @Override\n        public void onSurfaceTextureUpdated(SurfaceTexture surface)\n        {\n            // do nothing\n        }\n    };\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    private void switchCamera()\n    {\n        if (mCameraLensFacingDirection == LENS_FACING_BACK)\n        {\n            mCameraLensFacingDirection = CameraMetadata.LENS_FACING_FRONT;\n            closeCamera();\n            reopenCamera();\n\n        } else if (mCameraLensFacingDirection == CameraMetadata.LENS_FACING_FRONT)\n        {\n            mCameraLensFacingDirection = LENS_FACING_BACK;\n            closeCamera();\n            reopenCamera();\n        }\n    }\n\n    private void reopenCamera()\n    {\n        if (textture.isAvailable())\n        {\n            openCamera();\n        } else\n        {\n            textture.setSurfaceTextureListener(textureListener);\n        }\n    }\n\n    private final CameraDevice.StateCallback stateCallback = new CameraDevice.StateCallback()\n    {\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n        @Override\n        public void onOpened(CameraDevice camera)\n        {\n            cameraDevice = camera;\n            createCameraPreview();\n        }\n\n        @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n        @Override\n        public void onDisconnected(CameraDevice camera)\n        {\n            cameraDevice.close();\n        }\n\n        @Override\n        public void onError(CameraDevice camera, int error)\n        {\n            cameraDevice.close();\n            cameraDevice = null;\n        }\n    };\n\n    protected void startBackgroundThread()\n    {\n        mBackgroundThread = new HandlerThread(\"Camera Background\");\n        mBackgroundThread.start();\n        mBackgroundHandler = new Handler(mBackgroundThread.getLooper());\n    }\n\n    protected void stopBackgroundThread()\n    {\n        mBackgroundThread.quitSafely();\n        try\n        {\n            mBackgroundThread.join();\n            mBackgroundThread = null;\n            mBackgroundHandler = null;\n        } catch (InterruptedException e)\n        {\n            // do nothing\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @OnClick(R.id.btn_takepicture)\n    void takePicture()\n    {\n        if (null == cameraDevice)\n        {\n            return;\n        }\n        try\n        {\n            int width = 640;\n            int height = 480;\n            ImageReader reader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\n            List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;&gt;(2);\n            outputSurfaces.add(reader.getSurface());\n            outputSurfaces.add(new Surface(textture.getSurfaceTexture()));\n            final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n            captureBuilder.addTarget(reader.getSurface());\n            captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n\n            CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n            CameraCharacteristics cameraCharacteristics = manager.getCameraCharacteristics(cameraDevice.getId());\n            int rotation = cameraCharacteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, rotation);\n\n            final File file = new File(Environment.getExternalStorageDirectory() + \"/\" + System.currentTimeMillis() + \".jpeg\");\n            if (file.exists())\n            {\n                file.delete();\n            }\n            ImageReader.OnImageAvailableListener readerListener = new ImageReader.OnImageAvailableListener()\n            {\n                @Override\n                public void onImageAvailable(ImageReader reader)\n                {\n                    try(Image image = reader.acquireLatestImage())\n                    {\n                        ByteBuffer buffer = image.getPlanes()[0].getBuffer();\n                        byte[] bytes = new byte[buffer.capacity()];\n                        buffer.get(bytes);\n                        save(bytes);\n                    } catch (IOException e)\n                    {\n                        // do nothing\n                    }\n                }\n\n                private void save(byte[] bytes) throws IOException\n                {\n                    OutputStream output = null;\n                    try\n                    {\n                        if (!file.exists())\n                        {\n                            output = new FileOutputStream(file);\n                            output.write(bytes);\n                        }\n                    } finally\n                    {\n                        if (null != output)\n                        {\n                            output.close();\n                        }\n                    }\n                }\n            };\n            reader.setOnImageAvailableListener(readerListener, mBackgroundHandler);\n            final CameraCaptureSession.CaptureCallback captureListener = new CameraCaptureSession.CaptureCallback()\n            {\n                @Override\n                public void onCaptureCompleted(CameraCaptureSession session, CaptureRequest request, TotalCaptureResult result)\n                {\n                    super.onCaptureCompleted(session, request, result);\n\n                    Intent intent = new Intent();\n                    intent.putExtra(KEY_CAPTURED_STENCIL_DATA, new CapturedStencilData(file.getAbsolutePath(), stencilItem));\n                    setResult(RESULT_OK, intent);\n                    finish();\n                }\n            };\n            cameraDevice.createCaptureSession(outputSurfaces, new CameraCaptureSession.StateCallback()\n            {\n                @Override\n                public void onConfigured(CameraCaptureSession session)\n                {\n                    try\n                    {\n                        session.capture(captureBuilder.build(), captureListener, mBackgroundHandler);\n                    } catch (CameraAccessException e)\n                    {\n                        // do nothing\n                    }\n                }\n\n                @Override\n                public void onConfigureFailed(CameraCaptureSession session)\n                {\n\n                }\n            }, mBackgroundHandler);\n        } catch (CameraAccessException e)\n        {\n            // do nothing\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    protected void createCameraPreview()\n    {\n        try\n        {\n            SurfaceTexture texture = textture.getSurfaceTexture();\n            assert texture != null;\n            texture.setDefaultBufferSize(imageDimension.getWidth(), imageDimension.getHeight());\n            Surface surface = new Surface(texture);\n            captureRequestBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            captureRequestBuilder.addTarget(surface);\n            cameraDevice.createCaptureSession(Collections.singletonList(surface), new CameraCaptureSession.StateCallback()\n            {\n                @Override\n                public void onConfigured(@NonNull CameraCaptureSession cameraCaptureSession)\n                {\n                    if (null == cameraDevice)\n                    {\n                        return;\n                    }\n                    cameraCaptureSessions = cameraCaptureSession;\n                    updatePreview();\n                }\n\n                @Override\n                public void onConfigureFailed(@NonNull CameraCaptureSession cameraCaptureSession)\n                {\n                    // do nothing\n                }\n            }, null);\n        } catch (CameraAccessException e)\n        {\n            // do nothing\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    void openCamera()\n    {\n        CameraManager manager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n        try\n        {\n            String cameraId = null;\n            if (mCameraLensFacingDirection != null)\n            {\n                int size = manager.getCameraIdList().length;\n                for (int i = 0; i &lt; size; i++)\n                {\n                    if (mCameraLensFacingDirection == manager.getCameraCharacteristics(manager.getCameraIdList()[i]).get(CameraCharacteristics.LENS_FACING))\n                    {\n                        cameraId = manager.getCameraIdList()[i];\n                    }\n                }\n            } else\n            {\n                cameraId = manager.getCameraIdList()[0];\n                CameraCharacteristics characteristics = manager.getCameraCharacteristics(cameraId);\n                mCameraLensFacingDirection = Objects.requireNonNull(characteristics.get(CameraCharacteristics.LENS_FACING));\n                StreamConfigurationMap map = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n                assert map != null;\n                imageDimension = map.getOutputSizes(SurfaceTexture.class)[0];\n            }\n\n            if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED &amp;&amp; ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)\n            {\n                ActivityCompat.requestPermissions(CameraStencilActivity.this, new String[]{Manifest.permission.CAMERA, Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_CAMERA_PERMISSION);\n                return;\n            }\n            assert cameraId != null;\n            manager.openCamera(cameraId, stateCallback, null);\n        } catch (CameraAccessException e)\n        {\n            // do nothing\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    protected void updatePreview()\n    {\n        captureRequestBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n        try\n        {\n            cameraCaptureSessions.setRepeatingRequest(captureRequestBuilder.build(), null, mBackgroundHandler);\n        } catch (CameraAccessException e)\n        {\n            // do nothing\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    private void closeCamera()\n    {\n        if (null != cameraDevice)\n        {\n            cameraDevice.close();\n            cameraDevice = null;\n        }\n        if (null != imageReader)\n        {\n            imageReader.close();\n            imageReader = null;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults)\n    {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CAMERA_PERMISSION)\n        {\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED)\n            {\n                finish();\n            }\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        startBackgroundThread();\n        if (textture.isAvailable())\n        {\n            openCamera();\n        } else\n        {\n            textture.setSurfaceTextureListener(textureListener);\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    protected void onPause()\n    {\n        closeCamera();\n        stopBackgroundThread();\n        super.onPause();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 714, "user_id": 2540222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/978YK.png?s=128&g=1", "display_name": "Raghav Sharma", "link": "https://stackoverflow.com/users/2540222/raghav-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2695, "favorite_count": 2, "accepted_answer_id": 57799508, "answer_count": 1, "score": 0, "last_activity_date": 1567664657, "creation_date": 1564480181, "last_edit_date": 1564481547, "question_id": 57268857, "link": "https://stackoverflow.com/questions/57268857/image-overlay-over-the-textureview-android", "title": "Image overlay over the TextureView android", "body": "<p>I want to overlay some image over the textureView(Camera preview) and there is one constraint that the image height should be equal to image width. Which means the image width height will change depending upon the screen sizes keeping the aspect ratio constant. </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".MainActivity\"&gt;\n\n    &lt;TextureView\n            android:id=\"@+id/view_finder\"\n            app:layout_constraintLeft_toLeftOf=\"@id/stencil\"\n            android:layout_width=\"0dp\"\n            app:layout_constraintRight_toRightOf=\"@id/stencil\"\n            app:layout_constraintTop_toTopOf=\"@id/stencil\"\n            app:layout_constraintBottom_toBottomOf=\"@id/stencil\"\n            android:layout_height=\"0dp\"/&gt;\n\n    &lt;ImageView android:layout_width=\"0dp\"\n               android:id=\"@+id/stencil\"\n               android:adjustViewBounds=\"true\"\n               android:src=\"@drawable/group\"\n               app:layout_constraintLeft_toLeftOf=\"parent\"\n               app:layout_constraintRight_toRightOf=\"parent\"\n               app:layout_constraintTop_toTopOf=\"parent\"\n               android:layout_height=\"wrap_content\" \n               tools:ignore=\"ContentDescription,MissingConstraints\"/&gt;\n\n    &lt;ImageButton\n            android:id=\"@+id/capture_button\"\n            android:layout_width=\"72dp\"\n            android:layout_height=\"72dp\"\n            android:layout_margin=\"24dp\"\n            app:srcCompat=\"@android:drawable/ic_menu_camera\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>And the textureview is dependent on the imageview size. As the imageview changes so well the textureview. I am calculating the textureview size programmatically.</p>\n\n<pre><code>    val metrics = DisplayMetrics().also \n {view_finder.display.getMetrics(it)}\n        val aspectRatio = Rational(viewFinder.width, viewFinder.height)\n        val rotation = view_finder.display.rotation\n        val resolution = Size(viewFinder.width, viewFinder.height)\n\n        val previewConfig = PreviewConfig.Builder().apply {\n            setTargetAspectRatio(aspectRatio)\n            setTargetResolution(resolution)\n        }.build()\n</code></pre>\n\n<p>But getting this error - CorrectedAspectRatio- some issue with aspect ratio</p>\n\n<pre><code>    java.lang.IllegalArgumentException: Unable to get camera ID for use \n    case androidx.camera.core.Preview-c05d3e16-8833-42f4-ac22-4783402891dc\n            at \n androidx.camera.camera2.impl.Camera2DeviceSurfaceManager.getCameraIdFromConfig(Camera2DeviceSurfaceManager.java:310)\n            at androidx.camera.camera2.impl.Camera2DeviceSurfaceManager.requiresCorrectedAspectRatio(Camera2DeviceSurfaceManager.java:268)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 1920, "user_id": 4261472, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Rhz3p.jpg?s=128&g=1", "display_name": "Sergei Voitovich", "link": "https://stackoverflow.com/users/4261472/sergei-voitovich"}, "edited": false, "score": 0, "creation_date": 1564477181, "post_id": 57267899, "comment_id": 101034342, "body": "Do you mean that the connection gets interrupted before a timeout?"}, {"owner": {"reputation": 2196, "user_id": 1950784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6ffbeaaaee5e9cf2819568670173e4c?s=128&d=identicon&r=PG", "display_name": "Rashad.Z", "link": "https://stackoverflow.com/users/1950784/rashad-z"}, "reply_to_user": {"reputation": 1920, "user_id": 4261472, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Rhz3p.jpg?s=128&g=1", "display_name": "Sergei Voitovich", "link": "https://stackoverflow.com/users/4261472/sergei-voitovich"}, "edited": false, "score": 0, "creation_date": 1564477218, "post_id": 57267899, "comment_id": 101034363, "body": "No, the connection is not getting interrupted while it should be since its taking more than the set amount of seconds"}, {"owner": {"reputation": 193, "user_id": 7976470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f117bbcff73e6bd07463423a8cf05?s=128&d=identicon&r=PG&f=1", "display_name": "mmi", "link": "https://stackoverflow.com/users/7976470/mmi"}, "edited": false, "score": 0, "creation_date": 1564479859, "post_id": 57267899, "comment_id": 101035857, "body": "does your interceptor manipulate the timeouts? If not you could try to add the timeouts in the interceptor, just to see if it&#39;s working."}, {"owner": {"reputation": 2196, "user_id": 1950784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6ffbeaaaee5e9cf2819568670173e4c?s=128&d=identicon&r=PG", "display_name": "Rashad.Z", "link": "https://stackoverflow.com/users/1950784/rashad-z"}, "reply_to_user": {"reputation": 193, "user_id": 7976470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f117bbcff73e6bd07463423a8cf05?s=128&d=identicon&r=PG&f=1", "display_name": "mmi", "link": "https://stackoverflow.com/users/7976470/mmi"}, "edited": false, "score": 0, "creation_date": 1564480680, "post_id": 57267899, "comment_id": 101036280, "body": "@mmi how do i add the timeouts in the interceptor? i only add some headers in it"}, {"owner": {"reputation": 193, "user_id": 7976470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f117bbcff73e6bd07463423a8cf05?s=128&d=identicon&r=PG&f=1", "display_name": "mmi", "link": "https://stackoverflow.com/users/7976470/mmi"}, "edited": false, "score": 0, "creation_date": 1564480884, "post_id": 57267899, "comment_id": 101036381, "body": "@rashad.z you can call <code>.withConnectTimeout(timeout, unit)</code> etc. on the chain before calling <code>.proceed()</code> <a href=\"https://github.com/square/retrofit/issues/2561\" rel=\"nofollow noreferrer\">see this issue</a>. But you are using the most recent OkHttp(3.12.0) &amp; Retrofit(2.5.0), right?"}, {"owner": {"reputation": 2196, "user_id": 1950784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6ffbeaaaee5e9cf2819568670173e4c?s=128&d=identicon&r=PG", "display_name": "Rashad.Z", "link": "https://stackoverflow.com/users/1950784/rashad-z"}, "edited": false, "score": 0, "creation_date": 1564481035, "post_id": 57267899, "comment_id": 101036458, "body": "just tried it and also with no luck  .addInterceptor { chain -&gt;                      chain.withConnectTimeout(5, TimeUnit.SECONDS)                     chain.withReadTimeout(5, TimeUnit.SECONDS)                     chain.withWriteTimeout(5, TimeUnit.SECONDS)                     chain.proceed(                     chain.request().newBuilder()                         .header(&quot;Accept&quot;, StaticVars.JSON_HEADER_REQUEST)                         .header(&quot;Authorization&quot;, Security.getEncryptedPass())                         .build()                 )"}, {"owner": {"reputation": 193, "user_id": 7976470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f117bbcff73e6bd07463423a8cf05?s=128&d=identicon&r=PG&f=1", "display_name": "mmi", "link": "https://stackoverflow.com/users/7976470/mmi"}, "edited": false, "score": 0, "creation_date": 1564481574, "post_id": 57267899, "comment_id": 101036782, "body": "But you are using the most recent OkHttp(3.12.0) &amp; Retrofit(2.5.0), right?"}, {"owner": {"reputation": 2196, "user_id": 1950784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6ffbeaaaee5e9cf2819568670173e4c?s=128&d=identicon&r=PG", "display_name": "Rashad.Z", "link": "https://stackoverflow.com/users/1950784/rashad-z"}, "reply_to_user": {"reputation": 193, "user_id": 7976470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72f117bbcff73e6bd07463423a8cf05?s=128&d=identicon&r=PG&f=1", "display_name": "mmi", "link": "https://stackoverflow.com/users/7976470/mmi"}, "edited": false, "score": 0, "creation_date": 1564482075, "post_id": 57267899, "comment_id": 101037059, "body": "@mmi yes i am using the following  implementation   implementation &quot;com.squareup.retrofit2:retrofit:2.6.0&quot; implementation &quot;com.squareup.retrofit2:converter-gson:2.6.0&quot; implementation &#39;com.squareup.okhttp3:okhttp:3.12.0&#39;"}], "owner": {"reputation": 2196, "user_id": 1950784, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d6ffbeaaaee5e9cf2819568670173e4c?s=128&d=identicon&r=PG", "display_name": "Rashad.Z", "link": "https://stackoverflow.com/users/1950784/rashad-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1564477267, "creation_date": 1564477065, "last_edit_date": 1564477267, "question_id": 57267899, "link": "https://stackoverflow.com/questions/57267899/retrofit-2-setting-timeouts-with-no-effect", "title": "Retrofit 2: Setting Timeouts With No Effect", "body": "<p>i am using the following: </p>\n\n<pre><code> implementation \"com.squareup.retrofit2:converter-gson:2.6.0\"\n\nfun getOkHTTPClient(time: Int, interceptor: Interceptor): OkHttpClient {\n\n        val client = OkHttpClient.Builder()\n            .addInterceptor(interceptor)\n           .connectTimeout(5, TimeUnit.SECONDS)\n            .writeTimeout(5, TimeUnit.SECONDS)\n            .readTimeout(5, TimeUnit.SECONDS)\n            .callTimeout(5, TimeUnit.SECONDS)\n            .retryOnConnectionFailure(false)\n        return client.build()\n    }\n\nretrofit2.Retrofit.Builder()\n                .baseUrl(\"$url/\")\n                .addConverterFactory(GsonConverterFactory.create())\n                .client(okHttpClient)\n</code></pre>\n\n<p>If i change the timeouts to 10 seconds, 20, 50, 500 etc.... the effect is the same. the call timeout is not obeying these rules.</p>\n\n<p>Am i missing something?</p>\n\n<p>Note: i am using Asynchronous requests if it helps in debugging the case</p>\n"}, {"tags": ["android", "kotlin", "annotations"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1564476183, "post_id": 57267494, "comment_id": 101033749, "body": "perhaps you can program that on your own, it&#39;s easy with annotation processor"}], "answers": [{"tags": [], "owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "is_accepted": true, "score": 2, "last_activity_date": 1564476270, "creation_date": 1564476270, "answer_id": 57267663, "question_id": 57267494, "link": "https://stackoverflow.com/questions/57267494/kotlin-annotation-require-a-parameter-is-a-constant-variable-from-specific-cla/57267663#57267663", "title": "Kotlin annotation - Require a parameter is a Constant variable from specific class", "body": "<p>Using androidx.annotation you can do something like this:</p>\n\n<pre><code>object Constants {\n    @Retention(AnnotationRetention.SOURCE)\n    @StringDef(CAT_SPORT, CAT_CAR)\n    annotation class Category\n\n    const val CAT_SPORT = \"CAT_SPORT\"\n    const val CAT_CAR = \"CAT_CAR\"\n}\n\nfun filter(@Constants.Category category: String) {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 5655480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d513806cca09199b906673b99a66f3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kone Man", "link": "https://stackoverflow.com/users/5655480/kone-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 57267663, "answer_count": 1, "score": 0, "last_activity_date": 1564476270, "creation_date": 1564475743, "question_id": 57267494, "link": "https://stackoverflow.com/questions/57267494/kotlin-annotation-require-a-parameter-is-a-constant-variable-from-specific-cla", "title": "Kotlin annotation - Require a parameter is a Constant variable from specific class", "body": "<p>I have a function <code>filter</code> here</p>\n\n<pre><code>fun filter(category: String) {\n...\n}\n</code></pre>\n\n<p>and a Class with many constant string</p>\n\n<pre><code>object Constants {\n    val CAT_SPORT = \"CAT_SPORT\"\n    val CAT_CAR = \"CAT_CAR\"\n    ...\n}\n</code></pre>\n\n<p>How to ensure the parameter <code>category</code> is a constant string from <code>Constants</code> (or throw warning)?</p>\n\n<p>I am looking for something like <code>@StringRes</code>.</p>\n\n<p>I know <code>Enum</code> may do the trick but prefer not to code refactor at this moment.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "okhttp"], "comments": [{"owner": {"reputation": 800, "user_id": 5912570, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aNMw4Qrx4v8/AAAAAAAAAAI/AAAAAAAAB-4/lll-4_R7zdA/photo.jpg?sz=128", "display_name": "Harshad Prajapati", "link": "https://stackoverflow.com/users/5912570/harshad-prajapati"}, "edited": false, "score": 0, "creation_date": 1564477633, "post_id": 57267450, "comment_id": 101034609, "body": "try <code>multiDexEnabled true</code> in Gradle under defaultConfig."}, {"owner": {"reputation": 129, "user_id": 5032926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/022616593e90666a9d9c6bd633def1bc?s=128&d=identicon&r=PG&f=1", "display_name": "BH4EHN", "link": "https://stackoverflow.com/users/5032926/bh4ehn"}, "reply_to_user": {"reputation": 800, "user_id": 5912570, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aNMw4Qrx4v8/AAAAAAAAAAI/AAAAAAAAB-4/lll-4_R7zdA/photo.jpg?sz=128", "display_name": "Harshad Prajapati", "link": "https://stackoverflow.com/users/5912570/harshad-prajapati"}, "edited": false, "score": 2, "creation_date": 1564544709, "post_id": 57267450, "comment_id": 101061315, "body": "@HarshadPrajapati thanks, but don&#39;t work, same issue"}], "owner": {"reputation": 129, "user_id": 5032926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/022616593e90666a9d9c6bd633def1bc?s=128&d=identicon&r=PG&f=1", "display_name": "BH4EHN", "link": "https://stackoverflow.com/users/5032926/bh4ehn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564475577, "creation_date": 1564475577, "question_id": 57267450, "link": "https://stackoverflow.com/questions/57267450/how-to-resolve-com-android-builder-dexing-dexarchivebuilderexception-after-upg", "title": "How to resolve &quot;com.android.builder.dexing.DexArchiveBuilderException&quot; after upgrade to OkHttp 4?", "body": "<p>After upgrade OkHttp from 3.14.2 to 4.0.1, gradle failed on \"transformClassesWithDexBuilderForDebug\" task when trying to make a debug build.</p>\n\n<p>Some answer suggest add compatibility to 1.8, but I have them already in app's build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.1\"\n    defaultConfig {\n        applicationId \"com.example.packagename\"\n        minSdkVersion 15\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n//    implementation 'androidx.core:core-ktx:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.squareup.okhttp3:okhttp:4.0.1'\n}\n\n</code></pre>\n\n<p>Build output (omit \"at ...\")</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformClassesWithDexBuilderForDebug'.\nCaused by: java.lang.RuntimeException: com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process path\\to\\project\\app\\build\\intermediates\\transforms\\profilers-transform\\debug\\6.jar\nCaused by: com.android.build.api.transform.TransformException: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process path\\to\\project\\app\\build\\intermediates\\transforms\\profilers-transform\\debug\\6.jar\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process path\\to\\project\\app\\build\\intermediates\\transforms\\profilers-transform\\debug\\6.jar\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: Failed to process path\\to\\project\\app\\build\\intermediates\\transforms\\profilers-transform\\debug\\6.jar\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: Error while dexing.\nCaused by: java.lang.NullPointerException\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1564470152, "post_id": 57266017, "comment_id": 101030624, "body": "how about <a href=\"https://stackoverflow.com/questions/37828790/why-do-i-have-to-return-unit-instance-when-implementing-in-java-a-kotlin-functio\" title=\"why do i have to return unit instance when implementing in java a kotlin functio\">stackoverflow.com/questions/37828790/&hellip;</a>"}, {"owner": {"reputation": 1017, "user_id": 10835287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tTarp.jpg?s=128&g=1", "display_name": "Vipul Prajapati", "link": "https://stackoverflow.com/users/10835287/vipul-prajapati"}, "edited": false, "score": 0, "creation_date": 1564470462, "post_id": 57266017, "comment_id": 101030771, "body": "Check out here <a href=\"https://stackoverflow.com/questions/16120697/kotlin-how-to-pass-a-function-as-parameter-to-another\" title=\"kotlin how to pass a function as parameter to another\">stackoverflow.com/questions/16120697/&hellip;</a>"}, {"owner": {"reputation": 7232, "user_id": 3425884, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b3286f7111ad4322b7207cd12594e0bb?s=128&d=identicon&r=PG", "display_name": "Prajeet Shrestha", "link": "https://stackoverflow.com/users/3425884/prajeet-shrestha"}, "reply_to_user": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1564470610, "post_id": 57266017, "comment_id": 101030848, "body": "@P.Juni The reference you gave has a callback that accept one argument, but I have a callback without any parameters. So that doesn&#39;t solve the problem."}, {"owner": {"reputation": 7232, "user_id": 3425884, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b3286f7111ad4322b7207cd12594e0bb?s=128&d=identicon&r=PG", "display_name": "Prajeet Shrestha", "link": "https://stackoverflow.com/users/3425884/prajeet-shrestha"}, "reply_to_user": {"reputation": 1017, "user_id": 10835287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tTarp.jpg?s=128&g=1", "display_name": "Vipul Prajapati", "link": "https://stackoverflow.com/users/10835287/vipul-prajapati"}, "edited": false, "score": 0, "creation_date": 1564470824, "post_id": 57266017, "comment_id": 101030978, "body": "@VipulPrajapati The reference you gave has examples of passing function from a kotlin code to kotlin functions, what I want here is to let my java class use function in kotlin class (which accepts function as a argument)"}, {"owner": {"reputation": 1704, "user_id": 5909412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CczFB.png?s=128&g=1", "display_name": "P.Juni", "link": "https://stackoverflow.com/users/5909412/p-juni"}, "edited": false, "score": 0, "creation_date": 1564470930, "post_id": 57266017, "comment_id": 101031035, "body": "<a href=\"https://stackoverflow.com/questions/4685563/how-to-pass-a-function-as-a-parameter-in-java\" title=\"how to pass a function as a parameter in java\">stackoverflow.com/questions/4685563/&hellip;</a>"}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 2, "creation_date": 1564470942, "post_id": 57266017, "comment_id": 101031041, "body": "@PrajeetShrestha please share the code before your <code>showAdWithCallback</code>"}, {"owner": {"reputation": 7232, "user_id": 3425884, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b3286f7111ad4322b7207cd12594e0bb?s=128&d=identicon&r=PG", "display_name": "Prajeet Shrestha", "link": "https://stackoverflow.com/users/3425884/prajeet-shrestha"}, "reply_to_user": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 1, "creation_date": 1564471459, "post_id": 57266017, "comment_id": 101031266, "body": "@BartekLipinski. Oh u got me........I had return statement just before showAdWithCallback. I was randomly embedding showAdWithCallback to tryout, overlooked the return statement. Thank u so much. You can put it as a answer I will accept and upvote."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6830552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t64ed.png?s=128&g=1", "display_name": "tragos777", "link": "https://stackoverflow.com/users/6830552/tragos777"}, "is_accepted": false, "score": 0, "last_activity_date": 1564472676, "creation_date": 1564472676, "answer_id": 57266678, "question_id": 57266017, "link": "https://stackoverflow.com/questions/57266017/how-to-pass-function-as-parameter-from-java-to-kotlin-method/57266678#57266678", "title": "How to pass function as parameter from java to kotlin method?", "body": "<p>callback:() -> Unit</p>\n\n<p>It's a typically runnable - zero arguments, without return value</p>\n"}, {"tags": [], "owner": {"reputation": 176, "user_id": 8898809, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A5vVSRWOcLM/AAAAAAAAAAI/AAAAAAAADF4/kThv_7Q9WIE/photo.jpg?sz=128", "display_name": "Yogesh Bangar", "link": "https://stackoverflow.com/users/8898809/yogesh-bangar"}, "is_accepted": false, "score": 0, "last_activity_date": 1564472924, "creation_date": 1564472924, "answer_id": 57266731, "question_id": 57266017, "link": "https://stackoverflow.com/questions/57266017/how-to-pass-function-as-parameter-from-java-to-kotlin-method/57266731#57266731", "title": "How to pass function as parameter from java to kotlin method?", "body": "<p>Call kotlin object and call function </p>\n\n<pre><code>kotlinobject.INSTANCE.showAdWithCallback(()-&gt;{\n    return null;\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 7, "last_activity_date": 1564473871, "creation_date": 1564473871, "answer_id": 57266999, "question_id": 57266017, "link": "https://stackoverflow.com/questions/57266017/how-to-pass-function-as-parameter-from-java-to-kotlin-method/57266999#57266999", "title": "How to pass function as parameter from java to kotlin method?", "body": "<p>The error message is caused by <strong>the code before</strong> your:</p>\n\n<pre><code>showAdWithCallback(() -&gt; {\n        return null;\n});\n</code></pre>\n"}], "owner": {"reputation": 7232, "user_id": 3425884, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b3286f7111ad4322b7207cd12594e0bb?s=128&d=identicon&r=PG", "display_name": "Prajeet Shrestha", "link": "https://stackoverflow.com/users/3425884/prajeet-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "accepted_answer_id": 57266999, "answer_count": 3, "score": 9, "last_activity_date": 1564473871, "creation_date": 1564470090, "question_id": 57266017, "link": "https://stackoverflow.com/questions/57266017/how-to-pass-function-as-parameter-from-java-to-kotlin-method", "title": "How to pass function as parameter from java to kotlin method?", "body": "<p>I have a Kotlin Code:</p>\n\n<pre><code>fun showAdWithCallback(callback:() -&gt; Unit) {\n    if (AdsPrefs.shouldShowInterstitialAd()) {\n        mInterstitialAd.show()\n        this.callback = callback\n    } else {\n        callback()\n    }\n}\n</code></pre>\n\n<p>Now I want to call this method from a Java Class. I am confused about how to call this. Here is what I tried</p>\n\n<pre><code>  showAdWithCallback(() -&gt; {\n        return null;\n    });\n</code></pre>\n\n<p>But it shows following error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ylZ5m.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ylZ5m.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android-fragments", "kotlin", "viewmodel", "koin"], "comments": [{"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 0, "creation_date": 1564483625, "post_id": 57265343, "comment_id": 101037922, "body": "Can you add your koin module definition?"}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 10233277, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6eC_MVyCXes/AAAAAAAAAAI/AAAAAAAAAPg/3srdfUJvVwQ/photo.jpg?sz=128", "display_name": "Berkay Kire&#231;ci", "link": "https://stackoverflow.com/users/10233277/berkay-kire%c3%a7ci"}, "edited": false, "score": 0, "creation_date": 1564476963, "post_id": 57266144, "comment_id": 101034209, "body": "It makes sense but all my fragments are attached only to main activity.  I think they should be destroyed when activity finishes."}, {"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "reply_to_user": {"reputation": 165, "user_id": 10233277, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6eC_MVyCXes/AAAAAAAAAAI/AAAAAAAAAPg/3srdfUJvVwQ/photo.jpg?sz=128", "display_name": "Berkay Kire&#231;ci", "link": "https://stackoverflow.com/users/10233277/berkay-kire%c3%a7ci"}, "edited": false, "score": 0, "creation_date": 1564483608, "post_id": 57266144, "comment_id": 101037915, "body": "@Berkay Kirecci are you sure you do not keep a reference to the fragment in another place?"}, {"owner": {"reputation": 165, "user_id": 10233277, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6eC_MVyCXes/AAAAAAAAAAI/AAAAAAAAAPg/3srdfUJvVwQ/photo.jpg?sz=128", "display_name": "Berkay Kire&#231;ci", "link": "https://stackoverflow.com/users/10233277/berkay-kire%c3%a7ci"}, "edited": false, "score": 0, "creation_date": 1564484712, "post_id": 57266144, "comment_id": 101038484, "body": "I am sure. I think it&#39;s about koin implementation, i just added a comment."}], "tags": [], "owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "is_accepted": false, "score": 0, "last_activity_date": 1564470674, "last_edit_date": 1592644375, "creation_date": 1564470674, "answer_id": 57266144, "question_id": 57265343, "link": "https://stackoverflow.com/questions/57265343/i-cant-access-updated-values-from-livedata-after-recreating-activty/57266144#57266144", "title": "I can&#39;t access updated values from livedata after recreating activty", "body": "<p>There is too little information to be sure, however this is a possibility:</p>\n<p>If you are accessing the old value in the Fragment, that means that you probably are referencing an old instance of the viewModel in the Fragment. ViewModels don't live forever, they will be destroyed with the Activity, unless the Activity is destroyed because of a configuration change and then immediately recreated. According to <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>A ViewModel is always created in association with a scope (an fragment or an activity) and will be retained as long as the scope is alive. E.g. if it is an Activity, until it is finished.</p>\n<p>In other words, this means that a ViewModel will not be destroyed if its owner is destroyed for a configuration change (e.g. rotation).</p>\n</blockquote>\n<p>Why does your Fragment keep the reference to the old ViewModel? This would mean that the Fragment is not destroyed and recreated with the Activity, for example because you keep a reference to the Fragment or because the Fragment is used in another Activity.</p>\n<p>The <code>by sharedViewModel()</code> will only pass the ViewModel once in the Lifecycle of the Fragment object, at the first access of the sharedViewModel property.</p>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 10233277, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6eC_MVyCXes/AAAAAAAAAAI/AAAAAAAAAPg/3srdfUJvVwQ/photo.jpg?sz=128", "display_name": "Berkay Kire&#231;ci", "link": "https://stackoverflow.com/users/10233277/berkay-kire%c3%a7ci"}, "is_accepted": false, "score": 0, "last_activity_date": 1614530281, "last_edit_date": 1614530281, "creation_date": 1564484330, "answer_id": 57270094, "question_id": 57265343, "link": "https://stackoverflow.com/questions/57265343/i-cant-access-updated-values-from-livedata-after-recreating-activty/57270094#57270094", "title": "I can&#39;t access updated values from livedata after recreating activty", "body": "<p>I have solved the problem. Somehow there is a problem with koin implementation but i couldn't figure it out.</p>\n<p>I've changed viewmodel implementation like this:</p>\n<p>Activity:</p>\n<pre><code>private lateinit var sharedViewModel: SharedViewModel\n...\n...\nsharedViewModel = ViewModelProviders.of(this).get(SharedViewModel::class.java)\n</code></pre>\n<p>Fragment:</p>\n<pre><code>private lateinit var sharedViewModel: SharedViewModel\n...\n...\nactivity?.let {\n        sharedViewModel = ViewModelProviders.of(it).get(SharedViewModel::class.java)\n} \n</code></pre>\n<p>And it works.\nLet me know if anybody figures out problem about koin imp., thanks.</p>\n"}, {"comments": [{"owner": {"reputation": 5872, "user_id": 1476228, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e56ac69c82ccd138c6d96a3dd3354c51?s=128&d=identicon&r=PG", "display_name": "RobertoAllende", "link": "https://stackoverflow.com/users/1476228/robertoallende"}, "edited": false, "score": 0, "creation_date": 1581560754, "post_id": 57273073, "comment_id": 106479097, "body": "I had the same problem, I solved by always getting viewModels with &#39;by sharedViewModel()&#39;."}], "tags": [], "owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "is_accepted": false, "score": 1, "last_activity_date": 1564493807, "creation_date": 1564493807, "answer_id": 57273073, "question_id": 57265343, "link": "https://stackoverflow.com/questions/57265343/i-cant-access-updated-values-from-livedata-after-recreating-activty/57273073#57273073", "title": "I can&#39;t access updated values from livedata after recreating activty", "body": "<p>I have just checked my own app and there is a case where I use a ViewModel in the Activity and its child fragments. I create it everywhere using <code>by sharedViewModel()</code>. In your case you create it using <code>by viewModel()</code> in the Activity. Maybe you could change to <code>by sharedViewModel()</code> that and see if it works?</p>\n"}], "owner": {"reputation": 165, "user_id": 10233277, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6eC_MVyCXes/AAAAAAAAAAI/AAAAAAAAAPg/3srdfUJvVwQ/photo.jpg?sz=128", "display_name": "Berkay Kire&#231;ci", "link": "https://stackoverflow.com/users/10233277/berkay-kire%c3%a7ci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1614530281, "creation_date": 1564467211, "last_edit_date": 1614530255, "question_id": 57265343, "link": "https://stackoverflow.com/questions/57265343/i-cant-access-updated-values-from-livedata-after-recreating-activty", "title": "I can&#39;t access updated values from livedata after recreating activty", "body": "<p>I am sharing data between activity and fragments in my app. I am using for this sharedviewmodel feature of koin. Basically; when i log in, i am setting token value in mainactivty and accessing it successfully in fragments. After recreating activity, i am setting token but i am not able to access updated token value in fragments. I am getting old value.</p>\n<p>I tried to remove observers in ondestroy method but it didnt help at all. I can't realize what the problem is.</p>\n<p>Viewmodel class</p>\n<pre><code>class SharedViewModel : ViewModel() {\n\n    var token = MutableLiveData&lt;String&gt;()\n\n    fun setToken(t: String) {\n        token.value = t\n    }\n\n}\n</code></pre>\n<p>Activity class</p>\n<pre><code>private val sharedViewModel by viewModel&lt;SharedViewModel&gt;()\n\nprivate fun getToken() {\n    token = intent.getStringExtra(&quot;token&quot;)!!\n    sharedViewModel.setToken(token)\n}\n</code></pre>\n<p>Fragment class</p>\n<pre><code>private val sharedViewModel by sharedViewModel&lt;SharedViewModel&gt;()\n\nsharedViewModel.token.observe(this, Observer { \n        \n})\n</code></pre>\n<p>Thanks for your helping.</p>\n<p><strong>Edit - Koin Definition</strong></p>\n<pre><code>val networkModule = module {\n    ...\n}\n\nval viewModelModule = module {\n    ...\n    viewModel { SharedViewModel() }\n}\n\nval fragmentModule = module {\n    ...\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1564467481, "post_id": 57265315, "comment_id": 101029457, "body": "You should change date format nothing else"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1564467589, "post_id": 57265315, "comment_id": 101029511, "body": "How to change this..?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "reply_to_user": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1564467617, "post_id": 57265315, "comment_id": 101029523, "body": "and in which file..?As I have posted three files.."}, {"owner": {"reputation": 23894, "user_id": 1844392, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2jBjo.png?s=128&g=1", "display_name": "Piyush", "link": "https://stackoverflow.com/users/1844392/piyush"}, "edited": false, "score": 0, "creation_date": 1564467645, "post_id": 57265315, "comment_id": 101029535, "body": "Dig a google with <i>Convert one date format to another dateformat</i>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564468053, "post_id": 57265473, "comment_id": 101029691, "body": "<code>dateFormat.format(date)</code> the date is showing unresolved reference."}, {"owner": {"reputation": 494, "user_id": 10138929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/419ff84b6b4c28df9f29a2531c981e69?s=128&d=identicon&r=PG&f=1", "display_name": "samaromku", "link": "https://stackoverflow.com/users/10138929/samaromku"}, "edited": false, "score": 0, "creation_date": 1564472862, "post_id": 57265473, "comment_id": 101031921, "body": "Would you replace Date(dateString.toLong()).toString() with Date(dateString.toLong())? In that case, you will have a plain Date object inside of SmsData class."}, {"owner": {"reputation": 494, "user_id": 10138929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/419ff84b6b4c28df9f29a2531c981e69?s=128&d=identicon&r=PG&f=1", "display_name": "samaromku", "link": "https://stackoverflow.com/users/10138929/samaromku"}, "edited": false, "score": 0, "creation_date": 1564472945, "post_id": 57265473, "comment_id": 101031957, "body": "Otherwise, you can format your Date in your InboxActivity class: replace: val sms = SmsData(getContactName(this,it.getString(nameID!!.toInt()).t&zwnj;&#8203;oString()),it.getStr&zwnj;&#8203;ing(messageID),Simpl&zwnj;&#8203;eDateFormat(&quot;hh:mm a&quot;).format(Date(dateString.toLong()).toString())) And leave ListAdapter as it was."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564477902, "post_id": 57265473, "comment_id": 101034749, "body": "Ok I will try this now"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564478448, "post_id": 57265473, "comment_id": 101035031, "body": "I have tried second method but my app is still cashing"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564546014, "post_id": 57265473, "comment_id": 101061548, "body": "My logcat is not stopping that is why I have applied try catch method I got the Toast message &quot;Bad class : class.java.lang.String &quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564546165, "post_id": 57265473, "comment_id": 101061576, "body": "I have applied your first method too.It return invalid long : &quot;09:55 am &quot;"}], "tags": [], "owner": {"reputation": 494, "user_id": 10138929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/419ff84b6b4c28df9f29a2531c981e69?s=128&d=identicon&r=PG&f=1", "display_name": "samaromku", "link": "https://stackoverflow.com/users/10138929/samaromku"}, "is_accepted": false, "score": 1, "last_activity_date": 1564467807, "creation_date": 1564467807, "answer_id": 57265473, "question_id": 57265315, "link": "https://stackoverflow.com/questions/57265315/how-to-display-just-the-time-instead-of-day-month-time-and-gmt-in-kotlin-android/57265473#57265473", "title": "How to display just the time instead of day,month,time and GMT in kotlin/android..?", "body": "<p>If I understand you right, you need to show: <code>12:33 am/pm</code>\n<br/>\nI think something like that should help you:</p>\n\n<pre><code>class ListAdapter(val context: Context, val list: ArrayList&lt;SmsData&gt;) : BaseAdapter() {\n    @SuppressLint(\"ViewHolder\")\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val view = LayoutInflater.from(context).inflate(R.layout.rowlayout, parent, false)\n\n\n        val date: Date = list[position].date\n        val dateFormat = SimpleDateFormat(\"hh:mm a\")\n        view.sms_date.text = dateFormat.format(date)\n\n        return view\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564478573, "post_id": 57265932, "comment_id": 101035104, "body": "where I have to place this in the inbox or in the listadapter"}, {"owner": {"reputation": 2138, "user_id": 5876513, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/M9ApW.jpg?s=128&g=1", "display_name": "Sanjay Bhalani", "link": "https://stackoverflow.com/users/5876513/sanjay-bhalani"}, "edited": false, "score": 0, "creation_date": 1564486999, "post_id": 57265932, "comment_id": 101039751, "body": "refreshSmsInbox()"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564546098, "post_id": 57265932, "comment_id": 101061560, "body": "My logcat is not stopping that is why I have applied try catch method I got the Toast message &quot;Bad class : class.java.lang.String &quot;"}, {"owner": {"reputation": 2138, "user_id": 5876513, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/M9ApW.jpg?s=128&g=1", "display_name": "Sanjay Bhalani", "link": "https://stackoverflow.com/users/5876513/sanjay-bhalani"}, "edited": false, "score": 0, "creation_date": 1564549123, "post_id": 57265932, "comment_id": 101062217, "body": "Show me your logcat"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "edited": false, "score": 0, "creation_date": 1564550217, "post_id": 57265932, "comment_id": 101062528, "body": "My logcat is not stopping thats why I cannot copy paste it or take its screenshot"}], "tags": [], "owner": {"reputation": 2138, "user_id": 5876513, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/M9ApW.jpg?s=128&g=1", "display_name": "Sanjay Bhalani", "link": "https://stackoverflow.com/users/5876513/sanjay-bhalani"}, "is_accepted": true, "score": 0, "last_activity_date": 1564470113, "last_edit_date": 1564470113, "creation_date": 1564469743, "answer_id": 57265932, "question_id": 57265315, "link": "https://stackoverflow.com/questions/57265315/how-to-display-just-the-time-instead-of-day-month-time-and-gmt-in-kotlin-android/57265932#57265932", "title": "How to display just the time instead of day,month,time and GMT in kotlin/android..?", "body": "<p>To format our date to different formats we can use SimpleDateFormat method and supply to it our custom format using format method:</p>\n\n<pre><code>val parser =  SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss\") //Input date formate\nval formatter = SimpleDateFormat(\"HH:mm a\") //Output date formate\nval formattedDate = formatter.format(parser.parse(\"2018-12-14T09:55:00\"))\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10971798"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 57265932, "answer_count": 2, "score": 0, "last_activity_date": 1564470113, "creation_date": 1564467108, "question_id": 57265315, "link": "https://stackoverflow.com/questions/57265315/how-to-display-just-the-time-instead-of-day-month-time-and-gmt-in-kotlin-android", "title": "How to display just the time instead of day,month,time and GMT in kotlin/android..?", "body": "<p>I have written the code which shows day,date,time and GMT.I want to just display time for today and time changes to date as the day passed.I am creating offline app. <a href=\"https://i.stack.imgur.com/9BRP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9BRP3.png\" alt=\"**Screenshot of the app running on mobile**\"></a></p>\n\n<p>I have searched a lot but found nothing.</p>\n\n<p><strong>InboxActivity File</strong></p>\n\n<pre><code>private fun refreshSmsInbox() {\n            val smsList = ArrayList&lt;SmsData&gt;()\n            val cursor = contentResolver.query(Uri.parse(\"content://sms/inbox\"),null,null,null,null)\n            cursor?.let{\n                if(it!!.moveToFirst()){\n\n\n                    val dateID = it.getColumnIndex(\"date\")\n                    do{\n                        val dateString = it.getString(dateID)\n                        val sms = SmsData(getContactName(this,it.getString(nameID!!.toInt()).toString()),it.getString(messageID),Date(dateString.toLong()).toString())\n                        smsList.add(sms)\n                    }while (it.moveToNext())\n                }\n                it.close()\n            }\n</code></pre>\n\n<p><strong>ListAdapter File</strong></p>\n\n<pre><code>class ListAdapter (val context: Context, val list : ArrayList&lt;SmsData&gt;): BaseAdapter(){\n    @SuppressLint(\"ViewHolder\")\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n        val view = LayoutInflater.from(context).inflate(R.layout.rowlayout,parent,false)\n\n\n        view.sms_date.text = list[position].date\n\n        return  view\n    }\n</code></pre>\n\n<p><strong>row_layout XML File</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"wrap_content\"\n              android:orientation=\"horizontal\"\n              android:padding=\"10dp\"&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=\"@+id/sender\"\n            android:layout_width=\"48dp\"\n            android:layout_height=\"48dp\"\n            android:layout_gravity=\"center\"\n            android:layout_marginRight=\"16dp\"\n            android:background=\"@drawable/circle\"\n            android:textSize=\"16sp\" /&gt;\n\n    &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                  android:layout_width=\"match_parent\"\n                  android:layout_height=\"wrap_content\"\n                  android:orientation=\"vertical\"&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n                android:id=\"@+id/sms_date\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"10sp\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Expected</strong></p>\n\n<pre><code>12:33 am/pm \n</code></pre>\n\n<p>next day changes to date. <code>30 jul 2019</code></p>\n\n<p><strong>Actual</strong></p>\n\n<pre><code>Mon Jul 29 11:44:01 GMT + 05:00 2019\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 652, "user_id": 3484668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bd7dc879190ad0f51bf76c0e98dbac26?s=128&d=identicon&r=PG&f=1", "display_name": "Rushi M Thakker", "link": "https://stackoverflow.com/users/3484668/rushi-m-thakker"}, "edited": false, "score": 1, "creation_date": 1564464248, "post_id": 57264745, "comment_id": 101028352, "body": "Is your MainFragment attached to your MainActivity? I think what you are doing is creating MainActivity instance in itemclicklistener and then again creating MainFragment instance inside new activity which is not attached to main activity and getting that activity instance in play. I suggest you store context in fragment and call prepareVideo from that context or directly &quot;(activity as MainActivity).prepareVideo&quot;. Also use fragment from fragment manager and then call play on that fragment. Please show your code of adding MainFragment to MainActivity"}, {"owner": {"reputation": 121, "user_id": 8596924, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yMFIV1NQC_w/AAAAAAAAAAI/AAAAAAAAABQ/qmEOKu4k2ek/photo.jpg?sz=128", "display_name": "Tobibur Rahman", "link": "https://stackoverflow.com/users/8596924/tobibur-rahman"}, "edited": false, "score": 0, "creation_date": 1564464579, "post_id": 57264745, "comment_id": 101028454, "body": "add this not null (!!) in the activity: <code>val intent = Intent(activity!!, PlaybackActivity::class.java)</code>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1564464663, "post_id": 57264745, "comment_id": 101028489, "body": "Why does the prepare function need to be in the Activity if it&#39;s just going to try and run a Fragment function anyway?"}, {"owner": {"reputation": 187, "user_id": 1107274, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/044711b80d9c11a302f7b20d704c8217?s=128&d=identicon&r=PG&f=1", "display_name": "y2kbug", "link": "https://stackoverflow.com/users/1107274/y2kbug"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1564466261, "post_id": 57264745, "comment_id": 101028988, "body": "@cricket_007 simply moving the code from activity to fragment, it works. sorry for asking a dumb question. i am trying to run before knowing how to walk now..."}], "owner": {"reputation": 187, "user_id": 1107274, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/044711b80d9c11a302f7b20d704c8217?s=128&d=identicon&r=PG&f=1", "display_name": "y2kbug", "link": "https://stackoverflow.com/users/1107274/y2kbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564463882, "creation_date": 1564463882, "question_id": 57264745, "link": "https://stackoverflow.com/questions/57264745/null-reference-when-making-an-intent-switching-to-another-activity", "title": "null reference when making an intent switching to another activity", "body": "<p>I am modifying the Android TV sample from Android Studio. Originally clicking on a \"TV show\", it plays the stored URL on the PlaybackVideoFragment in PlaybackActivity. Now I am modifying to let user choose between using the internal mediaPlayer, or calling an intent to show other system video players. After moving the intent call from \"OnItemViewClickedListener\" to other function call, it gives some kinds of \"null reference\". I think it is the \"context\" problem, but trying \"this\", \"activity\", \"MainActivity.this\", the stored \"ctx\", etc won't work.</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : Activity() {\n    //...\n\n    fun prepareVideo(item: Movie){\n            if(item.videoUrl == \"\"){\n                getVideoUrl(item)\n            }else{\n                MainFragment().play(item)\n            }\n    }\n}\n</code></pre>\n\n<p>MainFragment.kt</p>\n\n<pre><code>class MainFragment : BrowseFragment() {\n    private inner class ItemViewClickedListener : OnItemViewClickedListener {\n        override fun onItemClicked(\n            itemViewHolder: Presenter.ViewHolder,\n            item: Any,\n            rowViewHolder: RowPresenter.ViewHolder,\n            row: Row\n        ) {\n            if (item is Movie) {\n                MainActivity().prepareVideo(item)\n            } else if (item is String) {\n                Toast.makeText(activity, item, Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n\n    fun play(item: Movie, extra_url: String = \"\"){\n        //should be more lines to do some more things. simplified.\n\n        val intent = Intent(activity, PlaybackActivity::class.java)\n        intent.putExtra(\"item\", item)\n        startActivity(intent)\n    }\n}\n</code></pre>\n\n<p>May I know how to fix this, so I can switch to \"PlaybackActivity\"?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["gradle", "kotlin", "groovy", "gradle-plugin"], "comments": [{"owner": {"reputation": 29543, "user_id": 3181392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIgPs.png?s=128&g=1", "display_name": "cfrick", "link": "https://stackoverflow.com/users/3181392/cfrick"}, "edited": false, "score": 0, "creation_date": 1564475332, "post_id": 57263505, "comment_id": 101033279, "body": "Have you tried with <code>[name: &quot;objectA&quot;, ...]</code> (a Map not a Closure)?"}], "answers": [{"comments": [{"owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "edited": false, "score": 0, "creation_date": 1564685019, "post_id": 57282733, "comment_id": 101122306, "body": "Am I interpreting this correctly?  It looks like the configObjects are hardcoded inside the extension rather than being passed in through the extension."}], "tags": [], "owner": {"reputation": 13013, "user_id": 2382650, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c7d1f30701e93afd6b330bb1f7479a6c?s=128&d=identicon&r=PG", "display_name": "Francisco Mateo", "link": "https://stackoverflow.com/users/2382650/francisco-mateo"}, "is_accepted": false, "score": 0, "last_activity_date": 1564543561, "creation_date": 1564543561, "answer_id": 57282733, "question_id": 57263505, "link": "https://stackoverflow.com/questions/57263505/how-do-i-access-nested-configuration-values-from-my-custom-gradle-extension/57282733#57282733", "title": "How do I access nested configuration values from my custom gradle extension?", "body": "<ol>\n<li><code>@Input</code> and <code>@Option</code> are for <strong>tasks</strong>. From the looks of it, you are using them for <strong>extensions</strong>.</li>\n<li>There is no need to need to pass in a <code>project</code> instance in the constructor of a <code>Task</code>. All <code>Task</code>s have a reference to the <code>Project</code> they belong to <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/Task.html#getProject--\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/javadoc/org/gradle/api/Task.html#getProject--</a></li>\n</ol>\n\n<p>With that said, full working example in Kotlin would be:</p>\n\n<pre><code>open class MyPluginTaskConfiguration @Inject constructor(objects: ObjectFactory) {\n    val configObjects: ListProperty&lt;Map&lt;*, *&gt;&gt; = objects.listProperty()\n}\n\nopen class MyPluginTask : DefaultTask() {\n    @Input\n    @Option(option=\"configObjects\", description = \"list of configObjects\")\n    val configObjects: ListProperty&lt;Map&lt;*, *&gt;&gt; = project.objects.listProperty()\n\n    @TaskAction\n    fun printMessage() {\n        configObjects.get().forEach {\n            println(\"$it\")\n        }\n    }\n}\n\nval config = extensions.create(\"myPlugin\", MyPluginTaskConfiguration::class.java)\n\nconfigure&lt;MyPluginTaskConfiguration&gt; {\n    configObjects.set(listOf(\n            mapOf&lt;String, Any&gt;(\n                    \"name\" to \"objectA\",\n                    \"value\" to 5\n            ),\n            mapOf&lt;String, Any&gt;(\n                    \"name\" to \"objectB\",\n                    \"value\" to 9\n            )\n    ))\n}\n\ntasks.register(\"myPlugin\", MyPluginTask::class) {\n    configObjects.set(config.configObjects)\n}\n</code></pre>\n\n<p>Executing the above produces:</p>\n\n<pre><code>./gradlew myPlugin\n\n&gt; Task :myPlugin\n{name=objectA, value=5}\n{name=objectB, value=9}\n</code></pre>\n\n<p>Refer to below doc for more details:</p>\n\n<ul>\n<li><a href=\"https://docs.gradle.org/current/userguide/lazy_configuration.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/lazy_configuration.html</a></li>\n</ul>\n"}], "owner": {"reputation": 1839, "user_id": 242885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vnNUv.jpg?s=128&g=1", "display_name": "duggulous", "link": "https://stackoverflow.com/users/242885/duggulous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564635673, "creation_date": 1564453140, "last_edit_date": 1564635673, "question_id": 57263505, "link": "https://stackoverflow.com/questions/57263505/how-do-i-access-nested-configuration-values-from-my-custom-gradle-extension", "title": "How do I access nested configuration values from my custom gradle extension?", "body": "<p>I'm writing a custom gradle plugin that needs to accept an arbitrary number of nested parameters from the buildscript.  Something like:</p>\n\n<pre><code>myPlugin{\n    configObjects = [\n        {\n             name=\"objectA\",\n             value=5,\n        },\n        {\n             name=\"objectB\",\n             value=9,\n        }\n    ]\n}\n</code></pre>\n\n<p>...where the number of items in configObjects, and the the values inside them is defined in whatever buildscript is importing the plugin.  </p>\n\n<p>So in my plugin code, I create an extension...</p>\n\n<pre><code>val config = extensions.create(\"myPlugin\", myPluginTaskConfiguration::class.java, project)\n\ntasks {\n    register&lt;myPluginTask&gt;(\"myPlugin\") {\n        configObjects= config.configObjects\n    }\n}\n</code></pre>\n\n<p>and a class defining the structure of the data received through the extension:</p>\n\n<pre><code>open class myPluginTaskConfiguration(project: Project) {\n    @Input\n    @Option(option=\"configObjects\", description = \"list of configObjects\")\n    var configObjects:List&lt;ConfigObject&gt;?=null\n}\n</code></pre>\n\n<p>Gradle allows me to specify the outer type, but apparently not the inner members.  Running my plugin task I get the following error:</p>\n\n<blockquote>\n  <p>class build_f42r2ugava4a351q5usw8u65g$_run_closure1$_closure5 cannot be cast to class com.myplugin.ConfigObject (build_f42r2ugava4a351q5usw8u65g$_run_closure1$_closure5 is in unnamed module of loader org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler$ScriptClassLoader @224ed88; com.myplugin.ConfigObject is in unnamed module of loader org.gradle.internal.classloader.VisitableURLClassLoader @72fe231e)</p>\n</blockquote>\n\n<p>It's not clear to me what the type of the objects in the configObjects block is (well, apparently they're of type build_f42r2ugava4a351q5usw8u65g$_run_closure1$_closure5, but I don't think that's something I can use at author-time)</p>\n\n<p>How can I take the list of items from my groovy buildscript, and convert them into typed objects in my plugin (preferably in a way that allows the IDE to provide suggestions/hints to users editing the buildscript)?  </p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "apk"], "answers": [{"comments": [{"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564442807, "post_id": 57262411, "comment_id": 101024070, "body": "This wouldn&#39;t work without setting the <code>parent</code> attribute, correct me if I&#39;m wrong please."}, {"owner": {"reputation": 2110, "user_id": 10782174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51S5J.png?s=128&g=1", "display_name": "vasmos", "link": "https://stackoverflow.com/users/10782174/vasmos"}, "reply_to_user": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564442939, "post_id": 57262411, "comment_id": 101024109, "body": "You can use any App compatible theme or you can make your own and extend it using parent. Then you just have to link the style to your activity in the manifest."}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564443050, "post_id": 57262411, "comment_id": 101024132, "body": "Yes but this AppTheme.NoActionBar is just a name and its not extending any compatible theme."}, {"owner": {"reputation": 2110, "user_id": 10782174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51S5J.png?s=128&g=1", "display_name": "vasmos", "link": "https://stackoverflow.com/users/10782174/vasmos"}, "reply_to_user": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564443118, "post_id": 57262411, "comment_id": 101024142, "body": "I believe it is a compatible theme not 100% on which themes are App Compat, if its not working try something like:    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;         &lt;!-- Customize your theme here. --&gt;         &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;         &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;         &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;     &lt;/style&gt;"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564443394, "post_id": 57262411, "comment_id": 101024214, "body": "Sorry @vasmos I am not the one who asked the question, I am just verifying if your answer is based on something I don&#39;t know. I just answered this question myself at the same time as you."}, {"owner": {"reputation": 2110, "user_id": 10782174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51S5J.png?s=128&g=1", "display_name": "vasmos", "link": "https://stackoverflow.com/users/10782174/vasmos"}, "reply_to_user": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564443517, "post_id": 57262411, "comment_id": 101024251, "body": "There is no theme specified in the &lt;Activity &gt; tags so I&#39;m pretty sure the manifest would have to be updated as well"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564443717, "post_id": 57262411, "comment_id": 101024290, "body": "It is specified in application tag, please take a look at manifest file."}, {"owner": {"reputation": 2110, "user_id": 10782174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51S5J.png?s=128&g=1", "display_name": "vasmos", "link": "https://stackoverflow.com/users/10782174/vasmos"}, "reply_to_user": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "edited": false, "score": 0, "creation_date": 1564443851, "post_id": 57262411, "comment_id": 101024324, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197187/discussion-between-vasmos-and-zohaib-amir\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2110, "user_id": 10782174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51S5J.png?s=128&g=1", "display_name": "vasmos", "link": "https://stackoverflow.com/users/10782174/vasmos"}, "is_accepted": false, "score": 0, "last_activity_date": 1564442180, "creation_date": 1564442180, "answer_id": 57262411, "question_id": 57262345, "link": "https://stackoverflow.com/questions/57262345/app-keeps-crashing-and-not-running-when-testing-ir/57262411#57262411", "title": "App keeps crashing and not running when testing ir", "body": "<p>...'use a Theme.AppCompat theme (or descendant) with this activity.'\nThe Activity needs an App Compatible theme declared in the manifest.\nAdd to activity declaration in manifest:</p>\n\n<pre><code>&lt;activity android:name=\"com.med.Splash\"&gt;\n    android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n\n<p>Add to styles.xml:</p>\n\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=\"AppTheme.NoActionBar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564509142, "post_id": 57262417, "comment_id": 101051557, "body": "@MoukrimTaha can you show me your <code>styles.xml</code> file?"}, {"owner": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564519199, "post_id": 57262417, "comment_id": 101055857, "body": "-&lt;resources&gt;  &lt;!-- Base application theme. --&gt;    -&lt;style parent=&quot;Theme.AppCompat.Light.NoActionBar&quot; name=&quot;AppTheme&quot;&gt;  &lt;!-- Customize your theme here. --&gt;   &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;  &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;  &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;  &lt;/style&gt;  &lt;/resources&gt;"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564519542, "post_id": 57262417, "comment_id": 101055974, "body": "@MoukrimTaha Try putting this line in your Splash Activity tag: <code>android:theme=&quot;@style&#47;AppTheme&quot;</code> like this: <code>&lt;activity android:name=&quot;com.med.Splash&quot; android:theme=&quot;@style&#47;AppTheme&quot; &gt;</code>"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564520133, "post_id": 57262417, "comment_id": 101056207, "body": "@MoukrimTaha Also, please post the code of your <code>Splash</code> class by editing your question, it may be the problem is because of using the wrong context."}, {"owner": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564522590, "post_id": 57262417, "comment_id": 101056970, "body": "&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;RelativeLayout xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;     android:layout_width=&quot;match_parent&quot;     android:layout_height=&quot;match_parent&quot;     xmlns:ads=&quot;<a href=\"http://schemas.android.com/apk/res-auto\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res-auto</a>&quot;     android:background=&quot;#ffc95c&quot;&gt;     &lt;activity android:name=&quot;.Splash&quot; android:theme=&quot;@style/AppTheme&quot; &gt;"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564554580, "post_id": 57262417, "comment_id": 101064141, "body": "@MoukrimTaha post thw java file <b>in your question</b> pls."}, {"owner": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564582687, "post_id": 57262417, "comment_id": 101080159, "body": "Ok I added mainactivity and splash"}, {"owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "reply_to_user": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "edited": false, "score": 0, "creation_date": 1564583591, "post_id": 57262417, "comment_id": 101080763, "body": "@MoukrimTaha <code>&lt;activity android:name=&quot;com.med.Splash&quot; android:theme=&quot;@style&#47;AppTheme&quot; &gt;</code> this line is for <b>Manifest</b> file not layout file."}], "tags": [], "owner": {"reputation": 3068, "user_id": 3266367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v3rAo.jpg?s=128&g=1", "display_name": "Zohaib Amir", "link": "https://stackoverflow.com/users/3266367/zohaib-amir"}, "is_accepted": false, "score": 0, "last_activity_date": 1564442208, "creation_date": 1564442208, "answer_id": 57262417, "question_id": 57262345, "link": "https://stackoverflow.com/questions/57262345/app-keeps-crashing-and-not-running-when-testing-ir/57262417#57262417", "title": "App keeps crashing and not running when testing ir", "body": "<p>The solution is given in the error log you posted:</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main java.lang.RuntimeException: Unable to >start activity ComponentInfo{com.med/com.med.Splash}: >java.lang.IllegalStateException: You need to use a >Theme.AppCompat theme (or descendant) with this activity.</p>\n</blockquote>\n\n<p>You are using AppCompatActivity so you have to use an Appcompat theme as the parent theme.</p>\n\n<p>Goto <code>styles.xml</code> file, there is a style tag with name <code>AppTheme</code>,\nchange its <code>parent</code> attribute to this theme or similar:</p>\n\n<pre><code>&lt;style\nname= \"AppTheme\"\nparent=\"@style/Theme.AppCompat.Light\"\n...\n/&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11854519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NY9Amj_coaY/AAAAAAAAAAI/AAAAAAAAC0w/2408PZZ1Ywg/photo.jpg?sz=128", "display_name": "Moukrim Taha", "link": "https://stackoverflow.com/users/11854519/moukrim-taha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1564582649, "creation_date": 1564441404, "last_edit_date": 1564582649, "question_id": 57262345, "link": "https://stackoverflow.com/questions/57262345/app-keeps-crashing-and-not-running-when-testing-ir", "title": "App keeps crashing and not running when testing ir", "body": "<p>I'm building an app and when I try to test it on an emulator its says unfortunately app has stopped so when I run it I get this errors from the logcat section,the app is static and contain contents without firebase or onesignal, and I run it on DroidX(Android 4.4.4,API 17)</p>\n\n<p>Here is the error I get:</p>\n\n<p>07-30 05:25:40.650 3188-3188/com.med E/Trace: error opening trace file: \n    No such file or directory (2)\n    07-30 05:25:40.806 3188-3188/com.med E/dalvikvm: Could not find class \n    'android.app.AppOpsManager', referenced from method \n     com.google.android.gms.common.wrappers.PackageManagerWrapper.zzb\n      07-30 05:25:41.410 3188-3188/com.med E/AndroidRuntime: FATAL EXCEPTION: main\n    java.lang.RuntimeException: Unable to start activity \n    ComponentInfo{com.med/com.med.Splash}: java.lang.IllegalStateException: \n    You need to use a Theme.AppCompat theme (or descendant) with this activity.\n        at \n   android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2204)\n        at \n    android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2254)\n        at android.app.ActivityThread.access$600(ActivityThread.java:141)\n        at \n    android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:137)\n        at android.app.ActivityThread.main(ActivityThread.java:5069)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:511)\n        at \n         com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\n        at dalvik.system.NativeStart.main(Native Method)\n      Caused by: java.lang.IllegalStateException: You need to use a \n   Theme.AppCompat theme (or descendant) with this activity.\n        at \n androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:686)\n        at \n androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:649)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:542)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:161)\n        at com.med.Splash.onCreate(Splash.java:27)\n        at android.app.Activity.performCreate(Activity.java:5104)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1092)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2148)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2254)\u00a0\n        at android.app.ActivityThread.access$600(ActivityThread.java:141)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1234)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:99)\u00a0\n        at android.os.Looper.loop(Looper.java:137)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:5069)\u00a0\n        at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n        at java.lang.reflect.Method.invoke(Method.java:511)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)\u00a0\n        at dalvik.system.NativeStart.main(Native Method)\u00a0</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n&lt;application\nandroid:allowBackup=\"true\"\nandroid:icon=\"@drawable/icon\"\nandroid:label=\"@string/app_name\"\nandroid:largeHeap=\"true\"\nandroid:roundIcon=\"@mipmap/ic_launcher_round\"\nandroid:supportsRtl=\"true\"\nandroid:theme=\"@style/AppTheme\"&gt;\n&lt;activity android:name=\"com.med.Splash\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n&lt;activity android:name=\"com.med.MainActivity\"&gt;&lt;/activity&gt;\nmeta-data\nandroid:name=\"com.google.android.gms.ads.APPLICATION_ID\"\nandroid:value=\"ca-app-pub-\"/&gt;\n&lt;/application&gt;\n\n&lt;?xml version=\"1.0\"?&gt;\n\n\n\n\n\n\n\n\n\n\n-&lt;resources&gt;\n\n&lt;!-- Base application theme. --&gt;\n\n\n\n-&lt;style parent=\"Theme.AppCompat.Light.NoActionBar\" name=\"AppTheme\"&gt;\n\n&lt;!-- Customize your theme here. --&gt;\n\n\n&lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n\n&lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n\n&lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n\n&lt;/style&gt;\n\n&lt;/resources&gt;\n\n\n\n\n\n\npackage com.medi;\n\nimport android.media.MediaPlayer;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport com.google.ads.consent.*;\n\nimport com.google.android.gms.ads.AdListener;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.InterstitialAd;\n\npublic class MainActivity extends AppCompatActivity {\n\nImageView play,play2,play3,play4,play5,play6,play7,play8,pause,pause2,pause3,pause4,pause5,pause6,pause7,pause8;\n\nInterstitialAd mInterstitialAd;\nMediaPlayer mPlayer;\n\nprivate ConsentForm form;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    String[] publisherIds = {\"pub-3281091428733026\"};\n\n    ConsentInformation consentInformation = \nConsentInformation.getInstance(getApplicationContext());\n    consentInformation.requestConsentInfoUpdate(publisherIds, new \nConsentInfoUpdateListener() {\n        @Override\n        public void onConsentInfoUpdated(ConsentStatus consentStatus) {\n            // User's consent status successfully updated.\n        }\n\n        @Override\n        public void onFailedToUpdateConsentInfo(String errorDescription) {\n            // User's consent status failed to update.\n        }\n    });\n\n    URL privacyUrl = null;\n    try {\n        // TODO: Replace with your app's privacy policy URL.\n        privacyUrl = new URL(\"\");\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n        // Handle error.\n    }\n    form = new ConsentForm.Builder(getApplicationContext(), privacyUrl)\n            .withListener(new ConsentFormListener() {\n                @Override\n                public void onConsentFormLoaded() {\n                    // Consent form loaded successfully.\n                    form.show();\n                }\n\n                @Override\n                public void onConsentFormOpened() {\n                    // Consent form was displayed.\n                }\n\n                @Override\n                public void onConsentFormClosed(\n                        ConsentStatus consentStatus, Boolean userPrefersAdFree) {\n                    // Consent form was closed.\n                }\n\n                @Override\n                public void onConsentFormError(String errorDescription) {\n                    // Consent form error.\n                }\n            })\n            .withPersonalizedAdsOption()\n            .withNonPersonalizedAdsOption()\n            .withAdFreeOption()\n            .build();\n\n    form.load();\n\n    play=(ImageView)findViewById(R.id.play);\n    play2=(ImageView)findViewById(R.id.play2);\n    play3=(ImageView)findViewById(R.id.play3);\n    play4=(ImageView)findViewById(R.id.play4);\n    play5=(ImageView)findViewById(R.id.play5);\n    play6=(ImageView)findViewById(R.id.play6);\n    play7=(ImageView)findViewById(R.id.play7);\n    play8=(ImageView)findViewById(R.id.play8);\n    pause=(ImageView)findViewById(R.id.pause);\n    pause2=(ImageView)findViewById(R.id.pause2);\n    pause3=(ImageView)findViewById(R.id.pause3);\n    pause4=(ImageView)findViewById(R.id.pause4);\n    pause5=(ImageView)findViewById(R.id.pause5);\n    pause6=(ImageView)findViewById(R.id.pause6);\n    pause7=(ImageView)findViewById(R.id.pause7);\n    pause8=(ImageView)findViewById(R.id.pause8);\n\n    AdView mAdViewB = (AdView)findViewById(R.id.adView);\n    AdRequest adRequest = new AdRequest.Builder().build();\n    mAdViewB.loadAd(adRequest);\n\n    mInterstitialAd = new InterstitialAd(getApplicationContext());\n    mInterstitialAd.setAdUnitId(getResources().getString(R.string.intestital_ads));\n    mInterstitialAd.setAdListener(new AdListener() {\n        @Override\n        public void onAdClosed() {\n        }\n\n        @Override\n        public void onAdLoaded() {\n            mInterstitialAd.show();\n        }\n    });\n\n    requestNewInterstitial();\n\n    play.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n\n\n            play.setVisibility(View.GONE);\n            pause.setVisibility(View.VISIBLE);\n\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.one);\n            mPlayer.start();\n        }\n    });\n\n    play2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play2.setVisibility(View.GONE);\n            pause2.setVisibility(View.VISIBLE);\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.two);\n            mPlayer.start();\n\n        }\n    });\n\n    play3.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play3.setVisibility(View.GONE);\n            pause3.setVisibility(View.VISIBLE);\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.three);\n            mPlayer.start();\n\n        }\n    });\n\n    play4.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play4.setVisibility(View.GONE);\n            pause4.setVisibility(View.VISIBLE);\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.four);\n            mPlayer.start();\n\n        }\n    });\n\n    play5.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play5.setVisibility(View.GONE);\n            pause5.setVisibility(View.VISIBLE);\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.five);\n            mPlayer.start();\n\n        }\n    });\n\n    play6.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play6.setVisibility(View.GONE);\n            pause6.setVisibility(View.VISIBLE);\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.six);\n            mPlayer.start();\n\n        }\n    });\n\n    play7.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play7.setVisibility(View.GONE);\n            pause7.setVisibility(View.VISIBLE);\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.seven);\n            mPlayer.start();\n\n        }\n    });\n\n    play8.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            play8.setVisibility(View.GONE);\n            pause8.setVisibility(View.VISIBLE);\n\n            mPlayer = MediaPlayer.create(MainActivity.this, R.raw.eigth);\n            mPlayer.start();\n\n        }\n    });\n\n    pause.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause.setVisibility(View.GONE);\n            play.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause2.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause2.setVisibility(View.GONE);\n            play2.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause3.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause3.setVisibility(View.GONE);\n            play3.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause4.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause4.setVisibility(View.GONE);\n            play4.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause5.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause5.setVisibility(View.GONE);\n            play5.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause6.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause6.setVisibility(View.GONE);\n            play6.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause7.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause7.setVisibility(View.GONE);\n            play7.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n    pause8.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            pause8.setVisibility(View.GONE);\n            play8.setVisibility(View.VISIBLE);\n            mPlayer.stop();\n        }\n    });\n\n\n\n}\n\nprivate void requestNewInterstitial() {\n    AdRequest adRequest = new AdRequest.Builder().build();\n\n    mInterstitialAd.loadAd(adRequest);\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>package com.med;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.ads.AdListener;\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdView;\nimport com.google.android.gms.ads.InterstitialAd;\n\n\n\npublic class Splash extends AppCompatActivity {\n\n\n\nInterstitialAd mInterstitialAd;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash);\n    AdView mAdViewB = (AdView)findViewById(R.id.adView);\n    AdRequest adRequest = new AdRequest.Builder().build();\n    mAdViewB.loadAd(adRequest);\n\n    mInterstitialAd = new InterstitialAd(getApplicationContext());\n        mInterstitialAd.setAdUnitId(getResources().getString(R.string.intestital_ads));\n    mInterstitialAd.setAdListener(new AdListener() {\n        @Override\n        public void onAdClosed() {\n        }\n\n        @Override\n        public void onAdLoaded() {\n            mInterstitialAd.show();\n        }\n    });\n\n    requestNewInterstitial();\n\n\n    Thread thread=new Thread(){\n        public void run(){\n            try {\n                Thread.sleep(4000);\n\n\n                Intent intent= new Intent(Splash.this,MainActivity.class);\n                startActivity(intent);\n                finish();\n\n\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n        }\n    };\n    thread.start();\n\n\n}\nprivate void requestNewInterstitial() {\n    AdRequest adRequest = new AdRequest.Builder().build();\n\n    mInterstitialAd.loadAd(adRequest);\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 1995, "user_id": 11533773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7AwO0.png?s=128&g=1", "display_name": "Artyom Degtyarev", "link": "https://stackoverflow.com/users/11533773/artyom-degtyarev"}, "is_accepted": true, "score": 1, "last_activity_date": 1564470871, "creation_date": 1564470871, "answer_id": 57266191, "question_id": 57262288, "link": "https://stackoverflow.com/questions/57262288/build-only-one-executable-for-kotlin-native-project/57266191#57266191", "title": "Build only one executable for Kotlin/Native project", "body": "<p>There are tasks with names constructed as <code>run(execName)(buildtype)Executable(OS)</code> that the Gradle plugin generates by himself. Also, you can use a task <code>link(execName)(buildtype)Executable(OS)</code> to produce a binary file.</p>\n"}], "owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57266191, "answer_count": 1, "score": 0, "last_activity_date": 1564470871, "creation_date": 1564440891, "question_id": 57262288, "link": "https://stackoverflow.com/questions/57262288/build-only-one-executable-for-kotlin-native-project", "title": "Build only one executable for Kotlin/Native project", "body": "<p>Kotlin/Native <a href=\"https://github.com/JetBrains/kotlin-native/issues/2505\" rel=\"nofollow noreferrer\">allows to produce multiple binaries</a>.</p>\n\n<pre><code>kotlin {\n    binaries {\n        executable()                       // Executable with default name.\n        executable(\"foo\")                  // Custom binary name.\n        executable(\"bar\", listOf(RELEASE)) // Custom build types.\n        ...\n    }\n}\n</code></pre>\n\n<p><code>gradle build</code> will trigger build for each executable. At some point it's starting to take a long time to make all the executable binaries. Is it possible to build only one executable? Something like <code>gradle buildFoo</code></p>\n"}, {"tags": ["android", "xml", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2110, "user_id": 10782174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/51S5J.png?s=128&g=1", "display_name": "vasmos", "link": "https://stackoverflow.com/users/10782174/vasmos"}, "is_accepted": false, "score": 0, "last_activity_date": 1564441484, "creation_date": 1564441484, "answer_id": 57262358, "question_id": 57261358, "link": "https://stackoverflow.com/questions/57261358/how-do-i-make-activity-to-work-inside-fragment/57262358#57262358", "title": "How do I make Activity to work inside fragment?", "body": "<p>Seems like bottom navigation listener is not being set properly\ntry switching this:</p>\n\n<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener(this)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 369, "user_id": 8077496, "user_type": "registered", "profile_image": "https://graph.facebook.com/698679116991496/picture?type=large", "display_name": "Rishabh Deep Singh", "link": "https://stackoverflow.com/users/8077496/rishabh-deep-singh"}, "edited": false, "score": 0, "creation_date": 1564467438, "post_id": 57262767, "comment_id": 101029437, "body": "So should I create a new activity for the ChillZone?"}, {"owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "reply_to_user": {"reputation": 369, "user_id": 8077496, "user_type": "registered", "profile_image": "https://graph.facebook.com/698679116991496/picture?type=large", "display_name": "Rishabh Deep Singh", "link": "https://stackoverflow.com/users/8077496/rishabh-deep-singh"}, "edited": false, "score": 0, "creation_date": 1564471586, "post_id": 57262767, "comment_id": 101031312, "body": "Go through the <a href=\"https://developer.android.com/courses/fundamentals-training/toc-v2\" rel=\"nofollow noreferrer\">Codelabs for Android Fundamentals</a>, it should help you get a good grasp of the basics of Android development."}, {"owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "reply_to_user": {"reputation": 369, "user_id": 8077496, "user_type": "registered", "profile_image": "https://graph.facebook.com/698679116991496/picture?type=large", "display_name": "Rishabh Deep Singh", "link": "https://stackoverflow.com/users/8077496/rishabh-deep-singh"}, "edited": false, "score": 0, "creation_date": 1564471715, "post_id": 57262767, "comment_id": 101031364, "body": "Here&#39;s the <a href=\"https://codelabs.developers.google.com/codelabs/android-training-create-an-activity/index.html?index=..%2F..%2Fandroid-training#0\" rel=\"nofollow noreferrer\">codelab</a> that explains how to create and transition to activities."}], "tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": true, "score": 1, "last_activity_date": 1564446015, "last_edit_date": 1592644375, "creation_date": 1564446015, "answer_id": 57262767, "question_id": 57261358, "link": "https://stackoverflow.com/questions/57261358/how-do-i-make-activity-to-work-inside-fragment/57262767#57262767", "title": "How do I make Activity to work inside fragment?", "body": "<p>Your <code>BottomNavigationView</code> related code is in the <code>ChillZoneActivity</code>. It needs to be in the <code>ChillZoneFragment</code>.</p>\n<pre><code>class ChillZoneFragment : Fragment() {\n\n    private lateinit var bottomNavigationView: BottomNavigationView\n    private lateinit var textMessage: TextView\n    private val onNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~&quot;)\n        when (item.itemId) {\n            R.id.navigation_home -&gt; {\n                textMessage.setText(R.string.title_home)\n                Toast.makeText(this, &quot;Home&quot;, Toast.LENGTH_LONG).show()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_dashboard -&gt; {\n                textMessage.setText(R.string.title_dashboard)\n                Toast.makeText(this, &quot;Dashboard&quot;, Toast.LENGTH_LONG).show()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_notifications -&gt; {\n                textMessage.setText(R.string.title_notifications)\n                Toast.makeText(this, &quot;Notifications&quot;, Toast.LENGTH_LONG).show()\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val view = inflater.inflate(R.layout.chillzone_fragment, container, false)\n        bottomNavigationView = view.findViewById(R.id.bottom_nav_view)\n        textMessage = view.findViewById(R.id.message)\n        bottomNavigationView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)\n        return view\n    }\n}\n</code></pre>\n<p>P.S - You can't make an activity 'work' inside a fragment. That's just not how it works. Fragments are contained in the activity, never the other way around.</p>\n<blockquote>\n<p>A <code>Fragment</code> represents a behavior or a portion of user interface in a <code>FragmentActivity</code>. You can combine multiple fragments in a single activity to build a multi-pane UI and reuse a fragment in multiple activities. You can think of a fragment as a modular section of an activity, which has its own lifecycle, receives its own input events, and which you can add or remove while the activity is running (sort of like a &quot;sub activity&quot; that you can reuse in different activities).</p>\n<p>A fragment must always be hosted in an activity and the fragment's lifecycle is directly affected by the host activity's lifecycle.</p>\n</blockquote>\n<p>Refer to the <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">official documentation</a> for further details.</p>\n"}, {"tags": [], "owner": {"reputation": 278, "user_id": 11427266, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A7FRAHPXPxQ/AAAAAAAAAAI/AAAAAAAAABU/Gx6NSQLDmWk/photo.jpg?sz=128", "display_name": "Xavi Jimenez", "link": "https://stackoverflow.com/users/11427266/xavi-jimenez"}, "is_accepted": false, "score": 0, "last_activity_date": 1564462801, "last_edit_date": 1592644375, "creation_date": 1564462801, "answer_id": 57264564, "question_id": 57261358, "link": "https://stackoverflow.com/questions/57261358/how-do-i-make-activity-to-work-inside-fragment/57264564#57264564", "title": "How do I make Activity to work inside fragment?", "body": "<blockquote>\n<p>Android Fragment is the part of activity, it is also known as sub-activity. There can be more than one fragment in an activity. Fragments represent multiple screen inside one activity.</p>\n<p>Android fragment lifecycle is affected by activity lifecycle because fragments are included in activity.</p>\n<p>Each fragment has its own life cycle methods that is affected by activity life cycle because fragments are embedded in activity.</p>\n<p>The FragmentManager class is responsible to make interaction between fragment objects.</p>\n</blockquote>\n<p>You can't add activity inside fragment.</p>\n<p>I hope It helps you!</p>\n"}], "owner": {"reputation": 369, "user_id": 8077496, "user_type": "registered", "profile_image": "https://graph.facebook.com/698679116991496/picture?type=large", "display_name": "Rishabh Deep Singh", "link": "https://stackoverflow.com/users/8077496/rishabh-deep-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 57262767, "answer_count": 3, "score": 0, "last_activity_date": 1564462801, "creation_date": 1564434155, "question_id": 57261358, "link": "https://stackoverflow.com/questions/57261358/how-do-i-make-activity-to-work-inside-fragment", "title": "How do I make Activity to work inside fragment?", "body": "<p>When I select the chillzone fragment from the Navigation Drawer I am able to switch the fragments but When I try to select something from the BottomNavigationView nothing happens.</p>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\".ui.MainActivity\"\n    tools:openDrawer=\"end\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=\"@+id/main_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"@color/colorPrimary\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/fragment_container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        app:headerLayout=\"@layout/nav_header_main\"\n        app:menu=\"@menu/activity_main_drawer\" /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n\n<p><strong>chillzone_fragment.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\".ui.chillzone.ChillZoneActivity\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/message\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"172dp\"\n        android:layout_marginLeft=\"172dp\"\n        android:layout_marginTop=\"356dp\"\n        android:text=\"@string/chillzone\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_nav_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"0dp\"\n        android:layout_marginEnd=\"0dp\"\n        android:background=\"?android:attr/windowBackground\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:menu=\"@menu/bottom_nav_menu\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>ChillZoneActivity</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.rishabhdeepsingh.metaapp.ui.chillzone\n\nimport android.os.Bundle\nimport android.util.Log\nimport com.google.android.material.bottomnavigation.BottomNavigationView\nimport androidx.appcompat.app.AppCompatActivity\nimport android.widget.TextView\nimport android.widget.Toast\nimport com.rishabhdeepsingh.metaapp.R\n\nclass ChillZoneActivity : AppCompatActivity() {\n\n    private lateinit var bottomNavigationView: BottomNavigationView\n    private lateinit var textMessage: TextView\n    private val onNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        println(\"~~~~~~~~~~~~~~~~~~~~~~~~\")\n        when (item.itemId) {\n            R.id.navigation_home -&gt; {\n                textMessage.setText(R.string.title_home)\n                Toast.makeText(this, \"Home\", Toast.LENGTH_LONG).show()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_dashboard -&gt; {\n                textMessage.setText(R.string.title_dashboard)\n                Toast.makeText(this, \"Dashboard\", Toast.LENGTH_LONG).show()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_notifications -&gt; {\n                textMessage.setText(R.string.title_notifications)\n                Toast.makeText(this, \"Notifications\", Toast.LENGTH_LONG).show()\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        bottomNavigationView = findViewById(R.id.bottom_nav_view)\n        println(\"~~~~~~~~~~~~~~!!!!!!!!!!!!!!!!!!!!!~~~~~~~~~~\")\n        Toast.makeText(this, \"Hello\", Toast.LENGTH_LONG).show()\n        textMessage = findViewById(R.id.message)\n        bottomNavigationView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)\n    }\n}\n\n</code></pre>\n\n<p><strong>ChillZoneFragment.kt</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.rishabhdeepsingh.metaapp.ui.chillzone\n\nimport android.os.Bundle\nimport androidx.fragment.app.Fragment\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.rishabhdeepsingh.metaapp.R\n\nclass ChillZoneFragment : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.chillzone_fragment, container, false)\n    }\n}\n\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.rishabhdeepsingh.metaapp.ui\n\nimport android.os.Bundle\nimport androidx.core.view.GravityCompat\nimport androidx.appcompat.app.ActionBarDrawerToggle\nimport android.view.MenuItem\nimport android.widget.Toast\nimport androidx.drawerlayout.widget.DrawerLayout\nimport com.google.android.material.navigation.NavigationView\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.appcompat.widget.Toolbar\nimport com.rishabhdeepsingh.metaapp.R\nimport com.rishabhdeepsingh.metaapp.ui.chillzone.ChillZoneFragment\n\n\nclass MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n\n    private lateinit var drawerLayout: DrawerLayout\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val toolbar: Toolbar = findViewById(R.id.main_toolbar)\n        setSupportActionBar(toolbar)\n\n        val navView: NavigationView = findViewById(R.id.nav_view)\n        navView.setNavigationItemSelectedListener(this)\n\n        drawerLayout = findViewById(R.id.drawer_layout)\n        val toggle = ActionBarDrawerToggle(\n            this, drawerLayout, toolbar,\n            R.string.navigation_drawer_open,\n            R.string.navigation_drawer_close\n        )\n        drawerLayout.addDrawerListener(toggle)\n        toggle.syncState()\n\n        if (savedInstanceState == null) {\n            supportFragmentManager\n                .beginTransaction()\n                .replace(R.id.fragment_container, HomeFragment())\n                .commit()\n            navView.setCheckedItem(R.id.home)\n        }\n    }\n\n    override fun onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)) {\n            drawerLayout.closeDrawer(GravityCompat.START)\n        } else {\n            super.onBackPressed()\n        }\n    }\n\n    override fun onNavigationItemSelected(item: MenuItem): Boolean {\n        // Handle navigation view item clicks here.\n        when (item.itemId) {\n            R.id.nav_home -&gt; {\n                // Handle the camera action\n                supportFragmentManager\n                    .beginTransaction()\n                    .replace(R.id.fragment_container, HomeFragment())\n                    .commit()\n            }\n            R.id.nav_chillzone -&gt; {\n                supportFragmentManager\n                    .beginTransaction()\n                    .replace(R.id.fragment_container, ChillZoneFragment())\n                    .commit()\n            }\n            R.id.nav_slideshow -&gt; {\n\n            }\n            R.id.nav_tools -&gt; {\n\n            }\n            R.id.nav_share -&gt; {\n                Toast.makeText(this, \"Share\", Toast.LENGTH_SHORT).show()\n            }\n            R.id.nav_send -&gt; {\n\n            }\n        }\n        drawerLayout.closeDrawer(GravityCompat.START)\n        return true\n    }\n}\n</code></pre>\n\n<p>I expected that the Toast message should appear corresponding to the BottomNavigationView button I select.</p>\n"}, {"tags": ["post", "kotlin", "fuel"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 1649617, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2d6a3ada2bc277f5eab6a59fd0f4d4f9?s=128&d=identicon&r=PG", "display_name": "hitlad", "link": "https://stackoverflow.com/users/1649617/hitlad"}, "edited": false, "score": 0, "creation_date": 1564468010, "post_id": 57264096, "comment_id": 101029678, "body": "Thanks! I tried this but it just goes into the FuelResult.Success branch and prints out what the server returned (which is that it has array(0) for the $_REQUEST, $_GET, and $_POST arrays).  As for there being no body, I just need to pass the parameters to the server.  Also, the same code works with the GET.  Is that what you mean?  I&#39;m testing it out on my own server so I&#39;m thinking it should work but if you have any other ideas, I&#39;m all ears--thanks again!"}], "tags": [], "owner": {"reputation": 11, "user_id": 11836882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037c2421c23ab57afb41fab3aa9bb4ec?s=128&d=identicon&r=PG&f=1", "display_name": "Addy Eubank", "link": "https://stackoverflow.com/users/11836882/addy-eubank"}, "is_accepted": false, "score": 0, "last_activity_date": 1564459127, "creation_date": 1564459127, "answer_id": 57264096, "question_id": 57261017, "link": "https://stackoverflow.com/questions/57261017/using-fuel-in-kotlin-with-get-works-but-post-doesnt/57264096#57264096", "title": "Using Fuel in Kotlin with GET works but POST doesn&#39;t", "body": "<p>Can you try changing it to below and see if you are observing any status code or 4xx status code or any error.</p>\n\n<pre><code>import com.github.kittinunf.result.Result as FuelResult\n\n val parameters = listOf(\"something\" to \"100\")\n    fun httpPostJson(view: View) {\n    try {\n        Fuel.post(PATH, parameters)\n        .responseJson { request, response, result -&gt;\n\n                     var data\n                     when (result) {\n                        is FuelResult.Failure -&gt; {\n                          println( String(response.data)) // response.data  {\"statusCode\":401,\"error\":\"Unauthorized\",\"message\":\"invalid session\"}\n                          data =  String(response.data);\n                         }\n\n                        is FuelResult.Success -&gt; {\n                         data = result.get().content\n                         println(data) // response.statusCode is also available if we need to go that route.\n                }\n            }\n            tvPostResponse!!.text = data\n        }\n    } catch (e: Exception) {\n        tvPostResponse!!.text = e.message\n    } finally {\n        progress!!.dismiss()\n    }\n\n</code></pre>\n\n<p>Also, there no body being passed in the post request in the post. Make sure contract is correct with the service.</p>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 1649617, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2d6a3ada2bc277f5eab6a59fd0f4d4f9?s=128&d=identicon&r=PG", "display_name": "hitlad", "link": "https://stackoverflow.com/users/1649617/hitlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1564553445, "creation_date": 1564553445, "answer_id": 57284296, "question_id": 57261017, "link": "https://stackoverflow.com/questions/57261017/using-fuel-in-kotlin-with-get-works-but-post-doesnt/57284296#57284296", "title": "Using Fuel in Kotlin with GET works but POST doesn&#39;t", "body": "<p>It turns out the problem was that the server domain was in the form domain.com and the hosting provider automatically mapped it to www.domain.com, which affected the POST but not the GET.  </p>\n\n<p>Adding a \"www\" to the domain in the Kotlin code solved the problem. So, although the problem was technically in the Kotlin code, it was really on the server side.  </p>\n"}], "owner": {"reputation": 371, "user_id": 1649617, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2d6a3ada2bc277f5eab6a59fd0f4d4f9?s=128&d=identicon&r=PG", "display_name": "hitlad", "link": "https://stackoverflow.com/users/1649617/hitlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 630, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1564553445, "creation_date": 1564432454, "question_id": 57261017, "link": "https://stackoverflow.com/questions/57261017/using-fuel-in-kotlin-with-get-works-but-post-doesnt", "title": "Using Fuel in Kotlin with GET works but POST doesn&#39;t", "body": "<p>I am using Fuel to do a server call in Kotlin but, while the GET version works, the POST doesn't seem to pass anything to the server.  </p>\n\n<p>I based my code on a nice <a href=\"http://www.androidmads.info/2018/01/kotlin-http-example-using-fuel-http.html\" rel=\"nofollow noreferrer\">Fuel Kotlin tutorial by Mushtaq</a>:</p>\n\n<pre><code>    val parameters = listOf(\"something\" to \"100\")\n    fun httpPostJson(view: View) {\n    try {\n        Fuel.post(PATH, parameters).responseJson { request, response, result -&gt;\n            tvPostResponse!!.text = result.get().content\n        }\n    } catch (e: Exception) {\n        tvPostResponse!!.text = e.message\n    } finally {\n        progress!!.dismiss()\n    }\n}\n</code></pre>\n\n<p>The server script is just a PHP file that does a var_dump() for $_REQUEST, $_GET, and $_POST.  It shows the expected values for Fuel.get() but they are all array(0) for the Fuel.post() call.  I've tried calling it from a regular webpage and it works as expected for both GET and POST so it seems like I'm missing something in the Kotlin code.  I have no idea what...maybe some simple setting?  Any thoughts would be greatly appreciated!</p>\n"}, {"tags": ["kotlin", "lambda", "functional-programming"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 0, "last_activity_date": 1564433028, "creation_date": 1564433028, "answer_id": 57261139, "question_id": 57261015, "link": "https://stackoverflow.com/questions/57261015/empty-check-in-lambda-mapping-to-avoid-indexoutofbounds/57261139#57261139", "title": "Empty check in lambda mapping to avoid indexOutOfBounds", "body": "<p>How about this?</p>\n\n<pre><code>val timeValues = videoFileMap.values.mapNotNull { it.firstOrNull() }\n        .map { it.time - System.currentTimeMillis() }\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10831297, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218297879662828/picture?type=large", "display_name": "Frankie Guzikowski", "link": "https://stackoverflow.com/users/10831297/frankie-guzikowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564433028, "creation_date": 1564432439, "question_id": 57261015, "link": "https://stackoverflow.com/questions/57261015/empty-check-in-lambda-mapping-to-avoid-indexoutofbounds", "title": "Empty check in lambda mapping to avoid indexOutOfBounds", "body": "<p>I want to map time values of arrayList dictionary keys to a list using a lambda map expression. I have it working with double for loop to show the logic clearly without leveraging the Kotlin way.</p>\n\n<p>I have the lambda mapping correctly once each arrayList has at least one element, the only built in function I see that is close is .filter but this needs to be done before checking the index to avoid exception throwing</p>\n\n<p>Map (eventData[0] is where time goes)</p>\n\n<pre><code>var videoFileMap = mutableMapOf(Types.A to arrayListOf&lt;EventData&gt;(),\n          Types.B to arrayListOf(),\n               Types.C to arrayListOf(),\n                    Types.D to arrayListOf())\n</code></pre>\n\n<p>For loop:</p>\n\n<pre><code>for (videoFileList in videoFileMap) {\n  for (videoFileData in videoFileList.value) {\n    timeValues[i] = videoFileData.time - System.currentTimeMillis()\n  }\n}\n</code></pre>\n\n<p>lambda without checking (throws indexoutofbounds exception):</p>\n\n<pre><code>timeValues = videoFileMap.values.map{ it[0].time - System.currentTimeMillis() }\n</code></pre>\n\n<p>and trying to check size (required ArrayList, received Comparable(Double &amp; Int) and Number)</p>\n\n<pre><code>timeValues = videoFileMap.values.map{ if (it.size&gt;0) {\n   it[0].time - System.currentTimeMillis() \n   } else {-1} }\n</code></pre>\n\n<p>thanks in advance for the functional help!</p>\n"}]