[{"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502927669, "post_id": 45724616, "comment_id": 78406981, "body": "Use LogCat to examine the Java stack trace associated with your crash: <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a> Also, please note that <code>ACTION_SEND</code> does not use the <code>Uri</code>, so you should remove the <code>intent.data= Uri.parse(&quot;mailto:&quot;)</code> line."}, {"owner": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1502928432, "post_id": 45724616, "comment_id": 78407143, "body": "have you added your permissions in your manifest file ?"}, {"owner": {"reputation": 131, "user_id": 760799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c9792ac84920a36db90fd7a1f1f25?s=128&d=identicon&r=PG", "display_name": "tamersolieman", "link": "https://stackoverflow.com/users/760799/tamersolieman"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502929039, "post_id": 45724616, "comment_id": 78407263, "body": "@CommonsWare I attach the LogCat also comment intent.data line but there&#39;s no crash but the app doesn&#39;t do anything"}, {"owner": {"reputation": 131, "user_id": 760799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c9792ac84920a36db90fd7a1f1f25?s=128&d=identicon&r=PG", "display_name": "tamersolieman", "link": "https://stackoverflow.com/users/760799/tamersolieman"}, "reply_to_user": {"reputation": 2448, "user_id": 6689583, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-JLO_eRHXJWs/AAAAAAAAAAI/AAAAAAAAAdE/B4RullwPogU/photo.jpg?sz=128", "display_name": "Thorvald Olavsen", "link": "https://stackoverflow.com/users/6689583/thorvald-olavsen"}, "edited": false, "score": 0, "creation_date": 1502929119, "post_id": 45724616, "comment_id": 78407276, "body": "@S&#237;gvardr&#211;lavrsson which permissions do you mean?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502929894, "post_id": 45724616, "comment_id": 78407428, "body": "You are crashing because there is no activity that matches your Intent."}, {"owner": {"reputation": 131, "user_id": 760799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c9792ac84920a36db90fd7a1f1f25?s=128&d=identicon&r=PG", "display_name": "tamersolieman", "link": "https://stackoverflow.com/users/760799/tamersolieman"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502930085, "post_id": 45724616, "comment_id": 78407471, "body": "@CommonsWare What do you mean?  I&#39;m newbie in Android and Kotlin"}, {"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 1, "creation_date": 1503047343, "post_id": 45724616, "comment_id": 78462582, "body": "1. I would suggest you to read the android docs (<a href=\"https://developer.android.com/guide/components/intents-common.html#Email\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/&hellip;</a>). It states that for no attachments you should use &quot;ACTION_SENDTO&quot; as action."}, {"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1503047402, "post_id": 45724616, "comment_id": 78462628, "body": "2. It seems you have no Email-client installed on your phone, which can handle the intent."}, {"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1503047814, "post_id": 45724616, "comment_id": 78462884, "body": "3. look at this thread: <a href=\"https://stackoverflow.com/questions/22479211/intent-resolveactivity-null-but-launching-the-intent-throws-an-activitynotfou\" title=\"intent resolveactivity null but launching the intent throws an activitynotfou\">stackoverflow.com/questions/22479211/&hellip;</a>. It describes exactly your problem."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 7719335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833cff8e022aa61def5f254763f18785?s=128&d=identicon&r=PG&f=1", "display_name": "Wu.Xiangdong", "link": "https://stackoverflow.com/users/7719335/wu-xiangdong"}, "is_accepted": false, "score": 0, "last_activity_date": 1502930264, "creation_date": 1502930264, "answer_id": 45724940, "question_id": 45724616, "link": "https://stackoverflow.com/questions/45724616/got-crash-when-try-to-use-intent-to-send-email-kotlin/45724940#45724940", "title": "got crash when try to use intent to send email (Kotlin)", "body": "<p>maybe your phone is not accept this intent action. you should use try catch the avoid this crash. \nyou can also use the phone's other \"send mail\" app, so that  you can find out what's the correct intent.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 760799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c9792ac84920a36db90fd7a1f1f25?s=128&d=identicon&r=PG", "display_name": "tamersolieman", "link": "https://stackoverflow.com/users/760799/tamersolieman"}, "is_accepted": false, "score": 0, "last_activity_date": 1503256529, "creation_date": 1503256529, "answer_id": 45785926, "question_id": 45724616, "link": "https://stackoverflow.com/questions/45724616/got-crash-when-try-to-use-intent-to-send-email-kotlin/45785926#45785926", "title": "got crash when try to use intent to send email (Kotlin)", "body": "<p>The issue was in </p>\n\n<p>var intent =  Intent(Intent.ACTION_SEND)</p>\n\n<p>when I changed it to </p>\n\n<p>var intent =  Intent(Intent.ACTION_SENDTO)</p>\n\n<p>it works fine thanks to @lampenlampen</p>\n"}], "owner": {"reputation": 131, "user_id": 760799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5c9792ac84920a36db90fd7a1f1f25?s=128&d=identicon&r=PG", "display_name": "tamersolieman", "link": "https://stackoverflow.com/users/760799/tamersolieman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1503256529, "creation_date": 1502927456, "last_edit_date": 1502928883, "question_id": 45724616, "link": "https://stackoverflow.com/questions/45724616/got-crash-when-try-to-use-intent-to-send-email-kotlin", "title": "got crash when try to use intent to send email (Kotlin)", "body": "<p>I got a crash when I try to send an email using intent with kotlin</p>\n\n<p>here's my function </p>\n\n<pre><code>/**\n * intentEmail is called when we need to send email\n *\n * @param price int\n */\nfun intentEmail(price: Int) {\n\n\n    var intent =  Intent(Intent.ACTION_SEND)\n\n    //intent.putExtra(Intent.EXTRA_EMAIL, addressees)\n    intent.data= Uri.parse(\"mailto:\")\n    intent.putExtra(Intent.EXTRA_SUBJECT, \"Just Java order for $name\")\n    intent.putExtra(Intent.EXTRA_TEXT, createOrderSummary(price))\n\n\n\n    if(intent.resolveActivity(packageManager) != null){\n        startActivity(intent)\n    }\n\n\n\n}\n</code></pre>\n\n<p>and the crash happens when calling startActivity(intent)</p>\n\n<p>and here's my LogCat\n<a href=\"https://i.stack.imgur.com/3Guum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Guum.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["postgresql", "enums", "orm", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502921954, "post_id": 45723803, "comment_id": 78405479, "body": "Maybe it&#39;s <i>case sensitive</i>? Try to either rename the elements to <code>open</code>, <code>close</code> etc. or read some upper-cased names from the DB."}, {"owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1503049577, "post_id": 45723803, "comment_id": 78464076, "body": "@hotkey Before the question it was so! Does not work!"}, {"owner": {"reputation": 675, "user_id": 625217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K1I15.jpg?s=128&g=1", "display_name": "Alireza Naghizadeh", "link": "https://stackoverflow.com/users/625217/alireza-naghizadeh"}, "edited": false, "score": 0, "creation_date": 1505028443, "post_id": 45723803, "comment_id": 79238465, "body": "Where is your &quot;Tickets&quot; object? How do you declare status?"}], "answers": [{"comments": [{"owner": {"reputation": 860, "user_id": 2013924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/395a6aa699f13ec2543c98da550e5414?s=128&d=identicon&r=PG", "display_name": "davidpodhola", "link": "https://stackoverflow.com/users/2013924/davidpodhola"}, "edited": false, "score": 0, "creation_date": 1524473175, "post_id": 46303600, "comment_id": 86969661, "body": "fails with &quot;... of org.postgresql.util.PGobject is not valid for enum ...&quot; for me"}, {"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 2, "creation_date": 1607074647, "post_id": 46303600, "comment_id": 115163507, "body": "@Tapac it seems with newer version of Expose, you should use just <code>TicketStatus::class</code> , at least for me adding <code>.java</code> did not work."}], "tags": [], "owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "is_accepted": false, "score": 6, "last_activity_date": 1505832678, "creation_date": 1505832678, "answer_id": 46303600, "question_id": 45723803, "link": "https://stackoverflow.com/questions/45723803/how-to-use-postgresql-enum-type-via-kotlin-exposed-orm/46303600#46303600", "title": "How to use Postgresql enum type via Kotlin Exposed ORM?", "body": "<p>You should declare status column as follow:\n</p>\n\n<pre><code>object Tickets: Table() {\n   val status = enumeration(\"status\", TicketStatus::class.java) // will create integer column\n   val status = enumerationByName(\"status\", TicketStatus::class.java) // will create varchar with TicketStatus names\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 870, "user_id": 894406, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4e864ad938a106afdaf72413f3885f4?s=128&d=identicon&r=PG", "display_name": "William King", "link": "https://stackoverflow.com/users/894406/william-king"}, "is_accepted": false, "score": 0, "last_activity_date": 1557243561, "creation_date": 1557243561, "answer_id": 56026140, "question_id": 45723803, "link": "https://stackoverflow.com/questions/45723803/how-to-use-postgresql-enum-type-via-kotlin-exposed-orm/56026140#56026140", "title": "How to use Postgresql enum type via Kotlin Exposed ORM?", "body": "<p>I realize this is an old question, but if anyone is still looking for an answer here you go:</p>\n\n<p>Exposed has a <code>customEnumeration</code> that can be used to deal with Enums, and is particularly useful if you are using Strings, or another non-default enumerator to back your enum.</p>\n\n<p>For postgres, you'll first need to define a class like so:</p>\n\n<pre><code>class PGEnum&lt;T:Enum&lt;T&gt;&gt;(enumTypeName: String, enumValue: T?) : PGobject() {\n    init {\n        value = enumValue?.name\n        type = enumTypeName\n    }\n}\n</code></pre>\n\n<p>Then in your table definition, use the following to define your column, replacing the placeholders as necessary:</p>\n\n<pre><code>val enumColumn = customEnumeration(\n            \"ENUM_COLUMN\",\n            \"ENUM_SCHEMA.ENUM_TYPE\",\n            { value -&gt;\n                when (value) {\n                    is PGobject -&gt; LocalEnumClass.valueOf(value.value)\n                    is String -&gt; LocalEnumClass.valueOf(value)\n                    else -&gt; error(\"Can't convert ENUM_COLUMN\")\n                }\n            },\n            { PGEnum(\"ENUM_SCHEMA.ENUM_TYPE\", it) }\n)\n</code></pre>\n\n<p>I was running into the same <code>org.postgresql.util.PGobject is not valid for enum</code> before I did this.</p>\n\n<p><a href=\"https://github.com/JetBrains/Exposed/wiki/DataTypes#how-to-use-database-enum-types\" rel=\"nofollow noreferrer\">See here for more information, and for non-Postgres databases</a></p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 1438229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b53456761739e17100af818704142d7?s=128&d=identicon&r=PG", "display_name": "nicolattu", "link": "https://stackoverflow.com/users/1438229/nicolattu"}, "is_accepted": false, "score": 0, "last_activity_date": 1585143464, "last_edit_date": 1585143464, "creation_date": 1585141855, "answer_id": 60849559, "question_id": 45723803, "link": "https://stackoverflow.com/questions/45723803/how-to-use-postgresql-enum-type-via-kotlin-exposed-orm/60849559#60849559", "title": "How to use Postgresql enum type via Kotlin Exposed ORM?", "body": "<p>I created this extension function to work with postgres enums:</p>\n\n<pre><code>inline fun &lt;reified T : Enum&lt;T&gt;&gt; Table.postgresEnumeration(\n   columnName: String,\n   postgresEnumName: String\n) = customEnumeration(columnName, postgresEnumName,\n    { value -&gt; enumValueOf&lt;T&gt;(value as String) }, { PGEnum(postgresEnumName, it) })\n</code></pre>\n\n<p>Then you can use like this:</p>\n\n<pre><code> val theEnumColum = postgresEnumeration&lt;YourEnumClass&gt;(\"your_cloumn_name\",\n \"your_postgres_enum_name\")\n</code></pre>\n"}], "owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2380, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1585143464, "creation_date": 1502921585, "last_edit_date": 1503112342, "question_id": 45723803, "link": "https://stackoverflow.com/questions/45723803/how-to-use-postgresql-enum-type-via-kotlin-exposed-orm", "title": "How to use Postgresql enum type via Kotlin Exposed ORM?", "body": "<p>I have added some Postgresql types to Exposed as extensions. It has two ready types named <code>enumeration</code> and <code>enumerationByName</code>. I tested both of them with no success for mapping a postgre enum type to Kotlin enum class. In both reading and writing it raises error</p>\n\n<pre><code>enum class TicketStatus(val status: String) {\n    Open(\"open\"),\n    Close(\"close\"),\n    InProgress(\"in_progress\")\n}\n\nclass Ticket(id: EntityID&lt;UUID&gt;) : Entity&lt;UUID&gt;(id) {\n    companion object : EntityClass&lt;UUID, Ticket&gt;(Tickets)\n\n    var geom by Tickets.geom\n    var description by Tickets.description\n    var status by Tickets.status\n    var createdAt by Tickets.createdAt\n    var updatedAt by Tickets.updatedAt\n    var owner by Tickets.owner\n}\n</code></pre>\n\n<p>When reading:</p>\n\n<pre><code>java.lang.IllegalStateException: open is not valid for enum TicketStatus\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "mvp", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 4377, "user_id": 2836797, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/KMjjk.png?s=128&g=1", "display_name": "It&#39;s Your App LLC", "link": "https://stackoverflow.com/users/2836797/its-your-app-llc"}, "is_accepted": false, "score": 2, "last_activity_date": 1503286191, "last_edit_date": 1503286191, "creation_date": 1503102361, "answer_id": 45766541, "question_id": 45723230, "link": "https://stackoverflow.com/questions/45723230/dagger2-mvp-on-kotlin/45766541#45766541", "title": "Dagger2 + MVP on Kotlin", "body": "<p>I would separate the concepts in your mind and work on them individually. Once you become fluent/masterful in both concepts, you can try combining them. </p>\n\n<p>For example, try building a simple multiple activity/fragment application the MVP design pattern. With MVP, you'll be writing two-way interface contracts between the Presenter (an object that contains view logic and controls the view, as well as handles behavior that the view collects and forwards through), and the View (a view object, typically a native component like Fragment or Activity that is responsible for displaying a view and handling user input like touch events). </p>\n\n<p>With Dagger2, you'll be learning the dependency injection design pattern/architectural style. You will build modules that combine to form components and then use those components to inject objects. </p>\n\n<p>Combining the two begins with understanding each concept on it's own. </p>\n\n<p>Check out the Google Architectural Blueprint repository for examples of MVP and Dagger2. <a href=\"https://github.com/googlesamples/android-architecture\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture</a> </p>\n"}, {"tags": [], "owner": {"reputation": 3604, "user_id": 1643723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e16eeec789c8b7281a9d7dd56b8030?s=128&d=identicon&r=PG", "display_name": "user1643723", "link": "https://stackoverflow.com/users/1643723/user1643723"}, "is_accepted": false, "score": 2, "last_activity_date": 1503289493, "last_edit_date": 1503289493, "creation_date": 1503289095, "answer_id": 45789242, "question_id": 45723230, "link": "https://stackoverflow.com/questions/45723230/dagger2-mvp-on-kotlin/45789242#45789242", "title": "Dagger2 + MVP on Kotlin", "body": "<blockquote>\n  <p>Also I have two @Scopes: ActivityScope and FragmentScope, so as I understand that will guarantee the existence of only one Component for the time every component is need in the application</p>\n</blockquote>\n\n<p>Dagger's scopes aren't some magical fairy dust, that will manage lifetimes for you. The use of scopes is just validation aid, that helps you to not mix dependencies with different lifetimes. You still have to manage component and module objects yourself, passing correct parameters to their constructors. The dependency graphs, managed by different component instances, are independent and bound to their @Component objects. Note, that I am saying \"bound\" in a sense, that they are created by them (via constructor), and optionally stored inside them, there is absolutely no other magic, working behind the scenes. So if you need to share a bunch of dependencies between parts of application, you might need to pass some component and module instances around.</p>\n\n<p>In case of fragments there is a tough dependency with complex lifetime \u2014 the Activity. You receive that dependency during <code>onAttach</code> and lose it during <code>onDetach</code>. So if you really want to pass some Activity-dependent stuff to Fragments, you have to pass around those Activity-dependent components/modules, just like you would pass around the Activity instance in absence of MVP.</p>\n\n<p>Likewise, if your Activity receives some dependency via Intent, you will have to deserialize that dependency from it, and create a Module, based on Intent contents\u2026</p>\n\n<p>The complexity of Activity and Fragment lifecycles aggravates issues, commonly met when using Dagger injection. Android framework is built around assumption, that Activities and Fragments receive all their dependencies in serialized form. Finally, a well-written Application should not have too many dependencies between modules to begin with (look up \"tight coupling\"). Because of those reasons, if you don't follow strict single-Activity paradigm, using Dagger on localized Activity/Fagment scopes might not be worthwhile at all in your project. Many people still do it, even if it is not worthwhile, but IMO, that's just matter of personal preference.</p>\n"}, {"tags": [], "owner": {"reputation": 1267, "user_id": 6026222, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uvycL.jpg?s=128&g=1", "display_name": "aleksandrbel", "link": "https://stackoverflow.com/users/6026222/aleksandrbel"}, "is_accepted": true, "score": 1, "last_activity_date": 1515657564, "creation_date": 1515657564, "answer_id": 48202268, "question_id": 45723230, "link": "https://stackoverflow.com/questions/45723230/dagger2-mvp-on-kotlin/48202268#48202268", "title": "Dagger2 + MVP on Kotlin", "body": "<p>Ok. After weeks of deep studying. I have done github project basics so everybody can look it through and have a working example.</p>\n\n<p><a href=\"https://github.com/Belka1000867/Dagger2Kotlin\" rel=\"nofollow noreferrer\">https://github.com/Belka1000867/Dagger2Kotlin</a></p>\n"}], "owner": {"reputation": 1267, "user_id": 6026222, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uvycL.jpg?s=128&g=1", "display_name": "aleksandrbel", "link": "https://stackoverflow.com/users/6026222/aleksandrbel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1341, "favorite_count": 4, "accepted_answer_id": 48202268, "answer_count": 3, "score": 2, "last_activity_date": 1515657564, "creation_date": 1502918640, "last_edit_date": 1502953658, "question_id": 45723230, "link": "https://stackoverflow.com/questions/45723230/dagger2-mvp-on-kotlin", "title": "Dagger2 + MVP on Kotlin", "body": "<p>I am studying Dagger2 + MVP and doing it on Kotlin. And I have a problem in understanding either Dagger2 or MVP or there combination.</p>\n\n<p>Construction of an application and idea how it should work are very simple. The app consists of <code>MenuActivity</code> with left-side navigation and several <code>Fragments</code> (let's say 3) that should be changed in the <code>FrameLayout</code> in <code>activity_menu.xml</code>. </p>\n\n<p>I have read several articles and spend already couple of days studying Dagger2. This article I use as tutorial to build my example: <a href=\"https://proandroiddev.com/dagger-2-part-ii-custom-scopes-component-dependencies-subcomponents-697c1fa1cfc\" rel=\"nofollow noreferrer\">https://proandroiddev.com/dagger-2-part-ii-custom-scopes-component-dependencies-subcomponents-697c1fa1cfc</a></p>\n\n<p>In my idea, Dagger architecture should consist of three <code>@Component</code>s : (1) AppComponent, (2) MenuActivityComponent and (3) AccountFragmentComponent.\nAnd from my understanding and the picture of an architecture in the article my architecture can be like this: (3) depends on -> (2) depends on -> (1)</p>\n\n<p>Each <code>@Component</code> has a <code>@Module</code> : (1) AppModule, (2) MenuActivityModule and (3) AccountFragmentModule respectively. For the cleaner way of MVP dependencies, as far as I understand, both (2) MenuActivityModule and (3) AccountFragmentModule should <code>@Provide</code> <code>Presenter</code>s from MVP ideology to be <code>@Inject</code> in <code>MenuActivity</code> and other <code>Fragment</code>s, such as <code>AccountFragment</code>.</p>\n\n<p><strong>AppModule</strong></p>\n\n<pre><code>@Module\nclass AppModule(val app : App){\n\n    @Provides @Singleton\n    fun provideApp() = app\n\n}\n</code></pre>\n\n<p><strong>AppComponent</strong></p>\n\n<pre><code>@Singleton @Component(modules = arrayOf(AppModule::class))\ninterface AppComponent{\n\n    fun inject(app : App)\n\n    fun plus(menuActivityModule: MenuActivityModule): MenuActivityComponent\n}\n</code></pre>\n\n<p><strong>MenuActivityModule</strong></p>\n\n<pre><code>@Module\nclass MenuActivityModule(val activity : MenuActivity) {\n\n    @Provides\n    @ActivityScope\n    fun provideMenuActivityPresenter() =\n        MenuActivityPresenter(activity)\n\n    @Provides\n    fun provideActivity() = activity\n}\n</code></pre>\n\n<p><strong>MenuActivityComponent</strong></p>\n\n<pre><code>@ActivityScope\n@Subcomponent(modules = arrayOf(MenuActivityModule::class))\ninterface MenuActivityComponent {\n\n    fun inject(activity: MenuActivity)\n\n    fun plus(accountsModule : AccountsFragmentModule) : AccountsFragmentComponent\n}\n</code></pre>\n\n<p><strong>AccountsFragmentModule</strong></p>\n\n<pre><code>@Module\nclass AccountsFragmentModule(val fragment: AccountsFragment){\n\n    @FragmentScope\n    @Provides\n    fun provideAccountsFragmentPresenter() =\n        AccountsFragmentPresenter(fragment)\n}\n</code></pre>\n\n<p><strong>AccountsFragmentComponent</strong></p>\n\n<pre><code>@FragmentScope\n@Subcomponent(modules = arrayOf(AccountsFragmentModule::class))\ninterface AccountsFragmentComponent {\n\n    fun inject(fragment: AccountsFragment)\n}\n</code></pre>\n\n<p>Also I have two <code>@Scope</code>s: ActivityScope and FragmentScope, so as I understand that will guarantee the existence of only one Component for the time every component is need in the application.</p>\n\n<p><strong>ActivityScope</strong></p>\n\n<pre><code>@Scope\nannotation class ActivityScope\n</code></pre>\n\n<p><strong>FragmentScope</strong></p>\n\n<pre><code>@Scope\nannotation class FragmentScope\n</code></pre>\n\n<p>In Application class I create a graph of <code>@Singleton</code> dependencies.</p>\n\n<pre><code>class App : Application(){\n\n    val component : AppComponent by lazy {\n        DaggerAppComponent\n            .builder()\n            .appModule(AppModule(this))\n            .build()\n    }\n\n    companion object {\n        lateinit var instance : App\n            private set\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        component.inject(this)\n    }\n\n}\n</code></pre>\n\n<p>In MenuActivity: </p>\n\n<pre><code>class MenuActivity: AppCompatActivity()\n\n    @Inject lateinit var presenter : MenuActivityPresenter\n\n    val Activity.app : App\n    get() = application as App\n\n    val component by lazy {\n        app.component.plus(MenuActivityModule(this))\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_menu)\n        /* setup dependency injection */\n        component.inject(this)\n        /* setup UI */\n        setupMenu()\n        presenter.init()\n    }\n\nprivate fun setupMenu(){\n    navigationView.setNavigationItemSelectedListener({\n        menuItem: MenuItem -&gt; selectDrawerItem(menuItem)\n        true\n    })\n\n    /* Hamburger icon for left-side menu */\n    supportActionBar?.setHomeAsUpIndicator(R.drawable.ic_menu_white_24dp)\n    supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n    drawerToggle = ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.drawer_open,  R.string.drawer_close);\n    drawerLayout.addDrawerListener(drawerToggle as ActionBarDrawerToggle)\n    }\nprivate fun selectDrawerItem(menuItem: MenuItem){\n\n    presenter.menuItemSelected(menuItem)\n\n    // Highlight the selected item has been done by NavigationView\n    menuItem.isChecked = true\n    // Set action bar title\n    title = menuItem.title\n    // Close the navigation drawer\n    drawerLayout.closeDrawers()\n}\n\n@SuppressLint(\"CommitTransaction\")\noverride fun showFragment(fragment: Fragment, isReplace: Boolean,\n                          backStackTag: String?, isEnabled: Boolean)\n{\n    /* Defining fragment transaction */\n    with(supportFragmentManager.beginTransaction()){\n\n        /* Select if to replace or add a fragment */\n        if(isReplace)\n            replace(R.id.frameLayoutContent, fragment, backStackTag)\n        else\n            add(R.id.frameLayoutContent, fragment)\n\n        backStackTag?.let { this.addToBackStack(it) }\n\n        commit()\n    }\n\n    enableDrawer(isEnabled)\n}\n\nprivate fun enableDrawer(isEnabled: Boolean) {\n    drawerLayout.setDrawerLockMode(if(isEnabled) DrawerLayout.LOCK_MODE_UNLOCKED\n                                    else DrawerLayout.LOCK_MODE_LOCKED_CLOSED)\n    drawerToggle?.onDrawerStateChanged(if(isEnabled) DrawerLayout.LOCK_MODE_UNLOCKED\n                                        else DrawerLayout.LOCK_MODE_LOCKED_CLOSED)\n    drawerToggle?.isDrawerIndicatorEnabled = isEnabled\n    drawerToggle?.syncState()\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n  if (drawerToggle!!.onOptionsItemSelected(item)) {\n      return true\n  }\n  return super.onOptionsItemSelected(item)\n}\n\noverride fun onPostCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n    super.onPostCreate(savedInstanceState, persistentState)\n    drawerToggle?.syncState()\n}\n\noverride fun onConfigurationChanged(newConfig: Configuration?) {\n    super.onConfigurationChanged(newConfig)\n    drawerToggle?.onConfigurationChanged(newConfig)\n}\n}\n</code></pre>\n\n<p><strong>MainActivityPresenter</strong></p>\n\n<pre><code>class MenuActivityPresenter(val menuActivity: MenuActivity){\n\n    fun init(){\n        menuActivity.showFragment(AccountsFragment.newInstance(), isReplace = false)\n    }\n\n    fun menuItemSelected(menuItem: MenuItem){\n\n        val fragment =  when(menuItem.itemId){\n            R.id.nav_accounts_fragment -&gt; {\n                AccountsFragment.newInstance()\n            }\n            R.id.nav_income_fragment -&gt; {\n                IncomeFragment.newInstance()\n            }\n            R.id.nav_settings -&gt; {\n                IncomeFragment.newInstance()\n            }\n            R.id.nav_feedback -&gt; {\n                OutcomeFragment.newInstance()\n            }\n            else -&gt; {\n                IncomeFragment.newInstance()\n            }\n        }\n\n        menuActivity.showFragment(fragment)\n    }\n\n}\n</code></pre>\n\n<p><strong>activity_menu.xml</strong></p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/drawerLayout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;!-- This LinearLayout represents the contents of the screen  --&gt;\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;!-- The ActionBar displayed at the top --&gt;\n    &lt;include\n        layout=\"@layout/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;!-- The main content view where fragments are loaded --&gt;\n    &lt;FrameLayout\n        android:id=\"@+id/frameLayoutContent\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;!-- The navigation drawer that comes from the left --&gt;\n&lt;!-- Note that `android:layout_gravity` needs to be set to 'start' --&gt;\n&lt;android.support.design.widget.NavigationView\n    android:id=\"@+id/navigationView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:background=\"@android:color/white\"\n    app:menu=\"@menu/main_menu\"\n    app:headerLayout=\"@layout/nav_header\"\n    /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>And the place where I have a breaking point in my understanding: </p>\n\n<pre><code>class AccountsFragment : Fragment() {\n\n    companion object {\n        fun newInstance() = AccountsFragment()\n    }\n\n    val Activity.app : App\n       get() = application as App\n\n    val component by lazy {\n       app.component\n           .plus(MenuActivityModule(activity as MenuActivity))\n           .plus(AccountsFragmentModule(this))\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n       val view = inflater?.inflate(R.layout.fragment_accounts, container, false)\n       setHasOptionsMenu(true)\n       component.inject(this)\n       return view\n   }\n\n}\n</code></pre>\n\n<p>My misunderstanding in this final part in the <code>component</code> value. I came to the situation that I need to <code>plus</code> Subcomponent of the MenuActivityComponent and give as a constructor variable MenuActivity, but I understand this is wrong and I can't create another instance even if I want that the instance should be only one in the application.</p>\n\n<p><strong>Question</strong>: Where I have a mistake? In my code, in architecture, in understanding of dependency injection or in all three? Thank you for your help!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 23063, "user_id": 602323, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/45bc0fdfbca5c9d55edb50834280b97f?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/602323/kevin"}, "edited": false, "score": 1, "creation_date": 1516485164, "post_id": 45720985, "comment_id": 83709695, "body": "I&#39;ve always done something similar to your first example, but I just put an explicit <code>validate</code> method and call it from the controller (for example, in the case that I have a request object that is populated by Spring boot as a <code>@RequestBody</code> and I want to validate the inputs."}], "answers": [{"tags": [], "owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1516482763, "creation_date": 1516482763, "answer_id": 48361151, "question_id": 45720985, "link": "https://stackoverflow.com/questions/45720985/validation-data-class-parameters-kotlin/48361151#48361151", "title": "Validation Data Class Parameters Kotlin", "body": "<p>Actually, it looks like that validation is not a responsibility of data classes. <code>data</code> tells for itself \u2014 it's used for data storage. </p>\n\n<ol>\n<li><p>So if you would like to validate data class, it will make perfect sense to set <code>@get:</code> validation on arguments of the constructor and validate outside of data class in class, responsible for construction. </p></li>\n<li><p>Your second option is not to use data class, just use simple class and implement whole logic in the constructor passing validator there</p></li>\n<li><p>Also, if you use Spring Framework \u2014 you can make this class Bean with prototype scope, but chances are it will be absolutely uncomfortable to work with such kind of spaghetti-code :)</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1244, "user_id": 1296641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwXEQ.png?s=128&g=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/1296641/laurence"}, "is_accepted": false, "score": 1, "last_activity_date": 1554907629, "creation_date": 1554907629, "answer_id": 55615498, "question_id": 45720985, "link": "https://stackoverflow.com/questions/45720985/validation-data-class-parameters-kotlin/55615498#55615498", "title": "Validation Data Class Parameters Kotlin", "body": "<p>I did make a comment, but I thought I would share my approach to validation instead.</p>\n\n<p>First, I think it is a mistake to perform validation on instantiation. This will make the boundary between deserialization and handing over to your controllers messy. Also, to me, if you are sticking to a clean architecture, validation is part of your core logic, and you should ensure with tests on your core logic that it is happening.</p>\n\n<p>So, to let me tackle this how I wish, I first define my own core validation api. Pure kotlin. No frameworks or libraries. Keep it clean.</p>\n\n<pre><code>interface Validatable {\n\n    /**\n     * @throws [ValidationErrorException]\n     */\n    fun validate()\n}\n\n\nclass ValidationErrorException(\n        val errors: List&lt;ValidationError&gt;\n) : Exception() {\n\n    /***\n     * Convenience method for getting a data object from the Exception.\n     */\n    fun toValidationErrors() = ValidationErrors(errors)\n}\n\n/**\n * Data object to represent the data of an Exception. Convenient for serialization.\n */\ndata class ValidationErrors(\n        val errors : List&lt;ValidationError&gt;\n)\n\ndata class ValidationError(\n        val path: String,\n        val message: String\n)\n</code></pre>\n\n<p>Then I have a framework specific implementations. For example a <code>javax.validation.Validation</code> implementation:</p>\n\n<pre><code>open class ValidatableJavax : Validatable {\n\n    companion object {\n        val validator = Validation.buildDefaultValidatorFactory().validator!!\n    }\n\n    override fun validate() {\n        val violations = validator.validate(this)\n        val errors = violations.map {\n            ValidationError(it.propertyPath.toString(), it.message)\n        }.toMutableList()\n        if (errors.isNotEmpty()) {\n            throw ValidationErrorException(errors = errors)\n        }\n    }\n}\n</code></pre>\n\n<p>The only problem with this, is that the javax annotations don't play so well with kotlin data objects - but here is an example of a class with validation:</p>\n\n<pre><code>import javax.validation.constraints.Positive\n\nclass MyObject(\n        myNumber: BigDecimal\n) : ValidatableJavax() {\n\n    @get:Positive(message = \"Must be positive\")\n    val myNumber: BigDecimal = myNumber\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "is_accepted": false, "score": 0, "last_activity_date": 1587185377, "last_edit_date": 1587185377, "creation_date": 1587140989, "answer_id": 61276331, "question_id": 45720985, "link": "https://stackoverflow.com/questions/45720985/validation-data-class-parameters-kotlin/61276331#61276331", "title": "Validation Data Class Parameters Kotlin", "body": "<p>It seems unreasonable to me to have object creation validation anywhere else but in the class constructor. This is the place responsible for the creation, so that is the place where the rules which define what is and isn't a valid instance should be. From a maintenance perspective it also makes sense to me as it would be the place where I would look for such rules if I had to guess. </p>\n"}], "owner": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8059, "favorite_count": 2, "answer_count": 3, "score": 21, "last_activity_date": 1587185377, "creation_date": 1502909609, "question_id": 45720985, "link": "https://stackoverflow.com/questions/45720985/validation-data-class-parameters-kotlin", "title": "Validation Data Class Parameters Kotlin", "body": "<p>If I am modeling my value objects using Kotlin data classes what is the best way to handle validation. Seems like the init block is the only logical place since it executes after the primary constructor.</p>\n\n<pre><code>data class EmailAddress(val address: String) {\n\n    init {\n        if (address.isEmpty() || !address.matches(Regex(\"^[a-zA-Z0-9]+@[a-zA-Z0-9]+(.[a-zA-Z]{2,})$\"))) {\n            throw IllegalArgumentException(\"${address} is not a valid email address\")\n        }\n    }\n}\n</code></pre>\n\n<p>Using JSR-303 Example</p>\n\n<p>The downside to this is it requires load time weaving</p>\n\n<pre><code>@Configurable\ndata class EmailAddress(@Email val address: String) {\n\n    @Autowired\n    lateinit var validator: Validator\n\n    init {\n        validator.validate(this)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "gson", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1502906940, "post_id": 45720177, "comment_id": 78398951, "body": "<code>val</code> is used to declare read-only property. You have to use <code>var</code> to provide setter for that property."}, {"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1502907118, "post_id": 45720177, "comment_id": 78399039, "body": "@BakaWaii also tried that, interestingly I am seeing only for <code>isProcessed</code>"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1502907437, "post_id": 45720177, "comment_id": 78399212, "body": "Oh, see if this <a href=\"https://stackoverflow.com/questions/37481017/kotlin-view-setenabled-function-missing\">post</a> is related."}, {"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1502907690, "post_id": 45720177, "comment_id": 78399346, "body": "@BakaWaii could be related, found what is wrong, variable name <code>isProcessed</code> is wrong. probably underlying gson and kotlin generates/expects different names.  when I use <code>processed</code> in both kotlin and firebase, problem seems resolved."}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 4940838, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10206662966672757/picture?type=large", "display_name": "Yanay Hollander", "link": "https://stackoverflow.com/users/4940838/yanay-hollander"}, "edited": false, "score": 0, "creation_date": 1596771016, "post_id": 45741446, "comment_id": 111923860, "body": "correct, it seems that firebase does not detect &#39;is&#39; prefix setters fields for data classes."}], "tags": [], "owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "is_accepted": false, "score": 3, "last_activity_date": 1502990600, "creation_date": 1502990600, "answer_id": 45741446, "question_id": 45720177, "link": "https://stackoverflow.com/questions/45720177/classmapper-no-setter-field-for-abooleantype/45741446#45741446", "title": "ClassMapper: No setter/field for aBooleanType", "body": "<p>I don't know the exact reason but here is my guess:</p>\n\n<p>variable name <code>isProcessed</code> causes different accessor methods to be generated so underlying <code>gson</code> and <code>kotlin</code> methods does not match.</p>\n\n<p>however using just <code>processed</code> seems to fix things well.</p>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 9, "last_activity_date": 1502994368, "last_edit_date": 1502994368, "creation_date": 1502993071, "answer_id": 45742187, "question_id": 45720177, "link": "https://stackoverflow.com/questions/45720177/classmapper-no-setter-field-for-abooleantype/45742187#45742187", "title": "ClassMapper: No setter/field for aBooleanType", "body": "<p>I can't find any official document from Firebase mentioning about the naming rules of the getter and setter, but it seems like they are looking for <a href=\"https://stackoverflow.com/a/37514605/8343333\">JavaBean-like getters/setters</a></p>\n\n<p>When you have a property named <code>isProcessed</code>, Firebase requires you to have getter/setter named <code>getIsProcessed()</code>/<code>setIsProcessed()</code>. However, a different naming rule is applied when the property is start with <code>is</code> in Kotlin. It genarates getter/setter named <code>isProcessed()</code>/<code>setProcessed()</code>, according to <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#properties\" rel=\"noreferrer\">Kotlin doc</a>:</p>\n\n<blockquote>\n  <p>If the name of the property starts with <code>is</code>, a different name mapping rule is used: the name of the getter will be the same as the property name, and the name of the setter will be obtained by replacing <code>is</code> with <code>set</code>. For example, for a property <code>isOpen</code>, the getter will be called <code>isOpen()</code> and the setter will be called <code>setOpen()</code>. This rule applies for properties of any type, not just <code>Boolean</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 1, "accepted_answer_id": 45742187, "answer_count": 2, "score": 5, "last_activity_date": 1615648512, "creation_date": 1502906254, "question_id": 45720177, "link": "https://stackoverflow.com/questions/45720177/classmapper-no-setter-field-for-abooleantype", "title": "ClassMapper: No setter/field for aBooleanType", "body": "<p>I am using firebase and this is my data class definition:</p>\n\n<pre><code>data class ClaimOrder(val address: String? = null,\n                  val amount: Long = 0L,\n                  val isProcessed: Boolean = false,\n                  val onCreate: kotlin.Any? = ServerValue.TIMESTAMP)\n</code></pre>\n\n<p>however on logs I am seeing following warning: <code>W/ClassMapper: No setter/field for isProcessed found on class com.guness.bitfarm.service.models.ClaimOrder</code></p>\n\n<p>I have tried <code>@SerializedName(\"isProcessed\")</code> but no luck.</p>\n"}, {"tags": ["enums", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1502900896, "post_id": 45718596, "comment_id": 78395580, "body": "Use <code>==</code> (or even <code>===</code> here), not <code>is</code>. is is for type checking (instanceof in Java). <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/typecasts.html</a>, <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/equality.html</a>"}, {"owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1502901072, "post_id": 45718596, "comment_id": 78395679, "body": "nice, yea i had tried <code>==</code> but was getting a different error, the root problem was that I had defined enum class in both the state file, and the contract file, so it was getting overridden by the wrong file defined enum class. all sorted, thanks!!"}], "answers": [{"comments": [{"owner": {"reputation": 6424, "user_id": 444761, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/MjkEi.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/444761/mark"}, "edited": false, "score": 0, "creation_date": 1547863356, "post_id": 45719054, "comment_id": 95351089, "body": "You could alternatively use <code>===</code> though it&#39;s essentially the same thing when it comes to enums"}], "tags": [], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "is_accepted": true, "score": 10, "last_activity_date": 1502902123, "creation_date": 1502902123, "answer_id": 45719054, "question_id": 45718596, "link": "https://stackoverflow.com/questions/45718596/filter-by-enum-class-property-kotlin/45719054#45719054", "title": "Filter by enum class property Kotlin", "body": "<p>You must use the <code>==</code> operator when checking for enum values !</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518299304, "last_edit_date": 1518299304, "creation_date": 1514666822, "answer_id": 48037737, "question_id": 45718596, "link": "https://stackoverflow.com/questions/45718596/filter-by-enum-class-property-kotlin/48037737#48037737", "title": "Filter by enum class property Kotlin", "body": "<p>The <code>is</code> keyword should be used for <strong>type comparison</strong>, as described <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#is-and-is-operators\" rel=\"nofollow noreferrer\">here</a>.\nUsing the operator for comparisons isn't possible as the compiler complains:</p>\n\n<blockquote>\n  <p>'is' over enum entry is not allowed, use <strong>comparison</strong> instead</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"nofollow noreferrer\">Comparison</a> in Kotlin comes in <em>two flavors</em>:  <code>==</code> and <code>===</code></p>\n\n<p>The first option, <code>==</code> is compiled down to <code>equals()</code>, whereas the latter, <code>===</code>, is equivalent to Java's <code>==</code> (comparing references).</p>\n\n<p>As we know, this doesn't really make a difference with enums, as you can read in <a href=\"https://stackoverflow.com/questions/1750435/comparing-java-enum-members-or-equals\">this answer</a>.</p>\n"}], "owner": {"reputation": 625, "user_id": 5255581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1XmUZ.jpg?s=128&g=1", "display_name": "mleafer", "link": "https://stackoverflow.com/users/5255581/mleafer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4415, "favorite_count": 0, "accepted_answer_id": 45719054, "answer_count": 2, "score": 5, "last_activity_date": 1595252382, "creation_date": 1502900422, "last_edit_date": 1595252382, "question_id": 45718596, "link": "https://stackoverflow.com/questions/45718596/filter-by-enum-class-property-kotlin", "title": "Filter by enum class property Kotlin", "body": "<p>How do I filter by an enum class in kotlin? (just learning)\nIn the code below the enum class defined earlier in the file is <code>PayStatus{PAID,UNPAID}</code>.</p>\n<pre><code>fun nextRentDate(): LocalDate? {\n            return rentPaymentSchedule.\n                    filter { it.value.paymentStatus is PayStatus.UNPAID}.\n                    minBy { it.value.date.toEpochDay() }?.value?.date\n        }\n</code></pre>\n<p>I get the error: Kotlin:</p>\n<blockquote>\n<p>Incompatible types: PayStatus.UNPAID and Enum</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1502898356, "post_id": 45717942, "comment_id": 78393958, "body": "Restart your android studio"}, {"owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "reply_to_user": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1502898411, "post_id": 45717942, "comment_id": 78393998, "body": "i did but still watching it"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1502902060, "post_id": 45717942, "comment_id": 78396224, "body": "Please use the built-in exception reporting system to report the exception to JetBrains."}], "answers": [{"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1502902014, "post_id": 45718090, "comment_id": 78396195, "body": "The exception reported in the question is completely unrelated to the contents of build.gradle in the project."}], "tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": true, "score": 0, "last_activity_date": 1502902707, "last_edit_date": 1502902707, "creation_date": 1502898743, "answer_id": 45718090, "question_id": 45717942, "link": "https://stackoverflow.com/questions/45717942/plugin-error-kotlin-threw-an-uncaught-noreadaccessexception/45718090#45718090", "title": "Plugin Error: Kotlin threw an uncaught NoReadAccessException", "body": "<p>Please make sure that you have the correct version of the <strong>Kotlin plugin</strong> installed in Android Studio.</p>\n\n<p>For Android studio 2.3.3 the correct version of Kotlin Plugin is <strong>Kotlin 1.1.4-release-Studio2.3-1</strong></p>\n\n<p>After downloading correct Kotlin plugin you should configure project like this. </p>\n\n<p>Configure your <strong>Project Gradle</strong> like this.</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n\n<p>And Your <strong>Module Gradle</strong> should be like this.</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android\n\nandroid {\n....\n....\n}\n\ndependencies{\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>Update it and clean and rebuild your project.</p>\n"}, {"tags": [], "owner": {"reputation": 4243, "user_id": 4384513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/761Ft.png?s=128&g=1", "display_name": "Masum", "link": "https://stackoverflow.com/users/4384513/masum"}, "is_accepted": false, "score": 0, "last_activity_date": 1511256236, "creation_date": 1511256236, "answer_id": 47409464, "question_id": 45717942, "link": "https://stackoverflow.com/questions/45717942/plugin-error-kotlin-threw-an-uncaught-noreadaccessexception/47409464#47409464", "title": "Plugin Error: Kotlin threw an uncaught NoReadAccessException", "body": "<p>I solved this problem by the following steps.</p>\n\n<p><strong>Step1:</strong> Disable Kotlin</p>\n\n<p><strong>Step2:</strong> Update Android Studio</p>\n\n<p><strong>Step3:</strong> Go to settings -> Kotlin Compiler -> and choose the following option </p>\n\n<ol>\n<li><p>Language Version -> 1.3 (Experimental)  from the drop down</p></li>\n<li><p>API Version -> 1.3 (Experimental)</p></li>\n</ol>\n\n<p>Hope it will solve the problem</p>\n"}, {"tags": [], "owner": {"reputation": 1290, "user_id": 1708105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X9N1q.jpg?s=128&g=1", "display_name": "Ahmad El-Melegy", "link": "https://stackoverflow.com/users/1708105/ahmad-el-melegy"}, "is_accepted": false, "score": 3, "last_activity_date": 1513027638, "creation_date": 1513027638, "answer_id": 47761695, "question_id": 45717942, "link": "https://stackoverflow.com/questions/45717942/plugin-error-kotlin-threw-an-uncaught-noreadaccessexception/47761695#47761695", "title": "Plugin Error: Kotlin threw an uncaught NoReadAccessException", "body": "<p>I had the same issue with Android Studio v3.0.1 and kotlin plugin v1.2.0-release-Studio3.0-1</p>\n\n<p>I solved it by uninstalling the kotlin plugin then installing it again.\nOpen Preferences, plugins, search kotlin, uninstall, then install again.</p>\n"}], "owner": {"reputation": 55, "user_id": 7380461, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-9PuDzrOO9E8/AAAAAAAAAAI/AAAAAAAABV4/mK7XdhldCbA/photo.jpg?sz=128", "display_name": "jithendra sai", "link": "https://stackoverflow.com/users/7380461/jithendra-sai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 1, "accepted_answer_id": 45718090, "answer_count": 3, "score": 0, "last_activity_date": 1513027638, "creation_date": 1502898294, "last_edit_date": 1502898385, "question_id": 45717942, "link": "https://stackoverflow.com/questions/45717942/plugin-error-kotlin-threw-an-uncaught-noreadaccessexception", "title": "Plugin Error: Kotlin threw an uncaught NoReadAccessException", "body": "<p>I just installed plugin and started converting it and it throws an exception</p>\n\n<blockquote>\n  <p>Plugin Error: Kotlin threw an uncaught NoReadAccessException. Disable Plugin NoReadAccessException</p>\n  \n  <p>Read access is allowed from event dispatch thread or inside read-action only (see com.intellij.openapi.application.Application.runReadAction())\n                  Details: Current thread: Thread[ApplicationImpl pooled thread 1,4,main] 355602237\n                  ; dispatch thread: false; isDispatchThread(): false\n                  SystemEventQueueThread: Thread[AWT-EventQueue-0 2.3#AI-162.4069837 Studio, eap:false, os:Windows 7 6.1, java-version:JetBrains s.r.o 1.8.0_112-release-b06,6,main] 1229449779</p>\n</blockquote>\n"}, {"tags": ["kotlin", "ektorp"], "answers": [{"comments": [{"owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "edited": false, "score": 0, "creation_date": 1502905505, "post_id": 45716530, "comment_id": 78398188, "body": "While this solves the issue with var this does not yet explain why using <i>val</i>  field doesn&#39;t produce &quot;Cannot resolve revision mutator&quot; exception while using it in constructor (even with your fix) does... any ideas? Logic would suggest that val should not work as it does not create setter... but it does (when used as a field, not in constructor declaration which make things even more weird)"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "edited": false, "score": 0, "creation_date": 1502907650, "post_id": 45716530, "comment_id": 78399325, "body": "I haven&#39;t worked with this tool, so I can only suppose that it detects a constructor that it can use to create a new object with the updated property values instead of setting the mutable properties, and that&#39;s sufficient."}, {"owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "edited": false, "score": 0, "creation_date": 1502910452, "post_id": 45716530, "comment_id": 78400599, "body": "Except it works the other way round - it only works if I use fields declaration (outside constructor) - but still &quot;val&quot;. Anyway right, this must be more of ektorp lib implementation detail..."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1502896763, "last_edit_date": 1592644375, "creation_date": 1502894278, "answer_id": 45716530, "question_id": 45714575, "link": "https://stackoverflow.com/questions/45714575/kotlin-mutators/45716530#45716530", "title": "Kotlin mutators", "body": "<p>The difference is how application of the annotations to properties defined in the class body differs from annotating properties declared in a primary constructor.</p>\n<p>See: <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\"><em>Annotation Use-site Targets</em></a> in the language reference:</p>\n<blockquote>\n<p>When you're annotating a property or a primary constructor parameter, there are multiple Java elements which are generated from the corresponding Kotlin element, and therefore multiple possible locations for the annotation in the generated Java bytecode.</p>\n</blockquote>\n\n<blockquote>\n<p>If you don't specify a use-site target, the target is chosen according to the <code>@Target</code> annotation of the annotation being used. If there are multiple applicable targets, the first applicable target from the following list is used:</p>\n<ul>\n<li><code>param</code></li>\n<li><code>property</code></li>\n<li><code>field</code></li>\n</ul>\n</blockquote>\n<p>So, when you annotate a property declared in a primary constructor, it's the constructor parameter that by default gets the annotation in the Java bytecode. To alter that, specify the annotation target explicitly, for example:</p>\n<pre><code>abstract class AbstractEntity(\n    @get:JsonProperty(&quot;_id&quot;)\n    val id: String? = null,\n    @get:JsonProperty(&quot;_rev&quot;)\n    val revision: String? = null\n)\n</code></pre>\n"}], "owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 45716530, "answer_count": 1, "score": 2, "last_activity_date": 1502896763, "creation_date": 1502889175, "question_id": 45714575, "link": "https://stackoverflow.com/questions/45714575/kotlin-mutators", "title": "Kotlin mutators", "body": "<p>I'm using Ektorp as CouchDB \"ORM\" but this question seems to be more general than that. Could someone explain what is the difference between</p>\n\n<pre><code>@JsonInclude(NON_NULL)\nabstract class AbstractEntity(\n        id: String?,\n        revision: String?\n) {\n\n    @JsonProperty(\"_id\")\n    val id: String? = id\n\n    @JsonProperty(\"_rev\")\n    val revision: String? = revision\n\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@JsonInclude(NON_NULL)\nabstract class AbstractEntity(\n        @JsonProperty(\"_id\")\n        val id: String? = null,\n        @JsonProperty(\"_rev\")\n        val revision: String? = null\n)\n</code></pre>\n\n<p>?</p>\n\n<p>For the first case Ektorp does not complain but for the second it says:</p>\n\n<pre><code>org.ektorp.InvalidDocumentException: Cannot resolve revision mutator in class com.scherule.calendaring.domain.Meeting\n\n    at org.ektorp.util.Documents$MethodAccessor.assertMethodFound(Documents.java:165)\n    at org.ektorp.util.Documents$MethodAccessor.&lt;init&gt;(Documents.java:144)\n    at org.ektorp.util.Documents.getAccessor(Documents.java:113)\n    at org.ektorp.util.Documents.getRevision(Documents.java:77)\n    at org.ektorp.util.Documents.isNew(Documents.java:85)\n</code></pre>\n\n<p>In addition to that if I do</p>\n\n<pre><code>@JsonInclude(NON_NULL)\nabstract class AbstractEntity(\n        @JsonProperty(\"_id\")\n        var id: String? = null,\n        @JsonProperty(\"_rev\")\n        var revision: String? = null\n)\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>org.ektorp.DbAccessException: com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field \"_id\" (class com.scherule.calendaring.domain.Meeting), not marked as ignorable\n</code></pre>\n\n<p>The question is in what way the first code snippet is different from the second? In the first case Ektorp \"thinks\" there is a mutator but not in the second...</p>\n\n<p>Here's the code snippet which Ektorp seems to use when locating a method (setId, setRevision).</p>\n\n<pre><code>private Method findMethod(Class&lt;?&gt; clazz, String name,\n                Class&lt;?&gt;... parameters) throws Exception {\n            for (Method me : clazz.getDeclaredMethods()) {\n                if (me.getName().equals(name)\n                        &amp;&amp; me.getParameterTypes().length == parameters.length) {\n                    me.setAccessible(true);\n                    return me;\n                }\n            }\n            return clazz.getSuperclass() != null ? findMethod(\n                    clazz.getSuperclass(), name, parameters) : null;\n        }\n</code></pre>\n"}, {"tags": ["kotlin", "android-sharedpreferences"], "answers": [{"comments": [{"owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 0, "creation_date": 1502889296, "post_id": 45714565, "comment_id": 78387294, "body": "This makes it unreachable for the upper object SharedPrefs. Cannot access &#39;&lt;init&gt;&#39;: it is private in UserPreferences"}, {"owner": {"reputation": 2341, "user_id": 3883569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c778021c6ac70c1fe99a0294b0ed664f?s=128&d=identicon&r=PG&f=1", "display_name": "FreshD", "link": "https://stackoverflow.com/users/3883569/freshd"}, "reply_to_user": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 0, "creation_date": 1502889498, "post_id": 45714565, "comment_id": 78387439, "body": "replacing the <code>private</code> with <code>internal</code> makes it only visible within the same module. But this does also not fit perfectly to your needs."}], "tags": [], "owner": {"reputation": 2341, "user_id": 3883569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c778021c6ac70c1fe99a0294b0ed664f?s=128&d=identicon&r=PG&f=1", "display_name": "FreshD", "link": "https://stackoverflow.com/users/3883569/freshd"}, "is_accepted": false, "score": -1, "last_activity_date": 1502889158, "creation_date": 1502889158, "answer_id": 45714565, "question_id": 45714429, "link": "https://stackoverflow.com/questions/45714429/constructor-visibility-restricted-to-file/45714565#45714565", "title": "Constructor visibility restricted to file", "body": "<p>You can try something like this</p>\n\n<pre><code>class UserPreferences private constructor()\n{\n    // your impl\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#constructors\" rel=\"nofollow noreferrer\">This</a> is the reference</p>\n"}, {"comments": [{"owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 0, "creation_date": 1502889845, "post_id": 45714714, "comment_id": 78387715, "body": "This works just like I need it. Too bad it requires more coding"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1502889840, "last_edit_date": 1502889840, "creation_date": 1502889535, "answer_id": 45714714, "question_id": 45714429, "link": "https://stackoverflow.com/questions/45714429/constructor-visibility-restricted-to-file/45714714#45714714", "title": "Constructor visibility restricted to file", "body": "<p>You can separate the interface and the implementation class, and make the latter <code>private</code> to the object:</p>\n\n<pre><code>object SharedPrefs {\n    val userdata: UserPreferences by lazy { UserPreferencesImpl() }\n\n    interface UserPreferences {\n        var email: String\n    }\n\n    private class UserPreferencesImpl : UserPreferences {\n        private val prefs: SharedPreferences = \n            App.instance.getSharedPreferences(\"userdata\", Context.MODE_PRIVATE)\n\n        override var email: String\n            get() = prefs.getString(\"email\", null)\n            set(value) = prefs.edit().putString(\"email\", value).apply()\n    }\n\n\n    // ...\n}\n</code></pre>\n\n<p>Alternatively, if you are developing a library or you have a modular architecture, you can make use of the <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#modules\" rel=\"nofollow noreferrer\"><code>internal</code> visibility</a> modifier to restrict the visibility to the module:</p>\n\n<pre><code>class UserPreferences internal constructor() { /* ... */ }\n</code></pre>\n"}], "owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 45714714, "answer_count": 2, "score": 3, "last_activity_date": 1502889840, "creation_date": 1502888830, "last_edit_date": 1502889153, "question_id": 45714429, "link": "https://stackoverflow.com/questions/45714429/constructor-visibility-restricted-to-file", "title": "Constructor visibility restricted to file", "body": "<p>I want to create an easier way to handle SharedPreferences.\nThe way I want to call it is like this</p>\n\n<p>get preference:</p>\n\n<pre><code>val email = SharedPrefs.userdata.email\nval wifiOnly = SharedPrefs.connections.wifiOnly\n</code></pre>\n\n<p>set preference:</p>\n\n<pre><code>SharedPrefs.userdata.email = \"someone@example.com\"\nSharedPrefs.connections.wifiOnly = true\n</code></pre>\n\n<p>I'm able to do so like this: </p>\n\n<p><code>App.instance</code> returns a <code>Context</code> object in the following snippet</p>\n\n<pre><code>object SharedPrefs {\n\n    val userdata by lazy { UserPreferences() }\n    val connections by lazy { ConnectionPreferences() }\n\n    class UserPreferences {\n\n        private val prefs: SharedPreferences = App.instance.getSharedPreferences(\"userdata\", Context.MODE_PRIVATE)\n\n        var email: String\n            get() = prefs.getString(\"email\", null)\n            set(value) = prefs.edit().putString(\"email\", value).apply()\n    }\n\n    class ConnectionPreferences {\n\n        private val prefs: SharedPreferences = App.instance.getSharedPreferences(\"connections\", Context.MODE_PRIVATE)\n\n        var wifyOnly: Boolean\n            get() = prefs.getBoolean(\"wifiOnly\", false)\n            set(value) = prefs.edit().putBoolean(\"wifyOnly\", value).apply()\n    }\n\n}\n</code></pre>\n\n<p>The problem is that this can still be called: <code>SharedPrefs.UserPreferences()</code>\nCan I make this constructor private to this file or object only?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1140, "user_id": 5105431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3d51abec8a8f4810671711192d5b3d0?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Potapov", "link": "https://stackoverflow.com/users/5105431/anton-potapov"}, "is_accepted": false, "score": 0, "last_activity_date": 1502887362, "creation_date": 1502887362, "answer_id": 45713858, "question_id": 45713747, "link": "https://stackoverflow.com/questions/45713747/any-code-improvement-in-adding-replacing-fragment/45713858#45713858", "title": "Any code improvement in adding/replacing fragment", "body": "<p>Everything is fine. Probably here</p>\n\n<pre><code>if(backStackTag != null)\n    fragmentTransaction.addToBackStack(fragment.javaClass.name)\n</code></pre>\n\n<p>you want to add fragment using <code>backStackTag</code> like this</p>\n\n<pre><code>if(backStackTag != null)\n    fragmentTransaction.addToBackStack(backStackTag)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": false, "score": 5, "last_activity_date": 1502888709, "creation_date": 1502888709, "answer_id": 45714369, "question_id": 45713747, "link": "https://stackoverflow.com/questions/45713747/any-code-improvement-in-adding-replacing-fragment/45714369#45714369", "title": "Any code improvement in adding/replacing fragment", "body": "<p>I like to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html\" rel=\"noreferrer\">with</a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"noreferrer\">let</a> when I have some code related to using a lot some variable and <a href=\"https://kotlinlang.org/docs/reference/idioms.html#execute-if-not-null\" rel=\"noreferrer\">null checks</a></p>\n\n<p>So I'd do something like this:</p>\n\n<pre><code>fun showFragment(fragment : Fragment,\n                 isReplace: Boolean = true,\n                 backStackTag: String? = null,\n                 isEnabled: Boolean = true)\n{\n    /* Defining fragment transaction */\n    with(supportFragmentManager.beginTransaction()) {\n\n        /* Select if to replace or add a fragment */\n        if(isReplace)\n            replace(R.id.frameLayoutContent, fragment, backStackTag)\n        else\n            add(R.id.frameLayoutContent, fragment)\n\n        /* Select if to add to back stack */\n        backStackTag?.let { addToBackStack(it) }\n\n        commit()\n    }\n    enableDrawer(isEnabled)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 3, "creation_date": 1502953643, "post_id": 45715022, "comment_id": 78414810, "body": "Posted a blog explaining this: <a href=\"https://medium.com/thoughts-overflow/how-to-add-a-fragment-in-kotlin-way-73203c5a450b\" rel=\"nofollow noreferrer\">medium.com/thoughts-overflow/&hellip;</a>"}, {"owner": {"reputation": 1714, "user_id": 5914345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJIxl.jpg?s=128&g=1", "display_name": "sunlover3", "link": "https://stackoverflow.com/users/5914345/sunlover3"}, "edited": false, "score": 0, "creation_date": 1538140819, "post_id": 45715022, "comment_id": 92051061, "body": "Nice answer. Thanks!"}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 25, "last_activity_date": 1502953760, "last_edit_date": 1502953760, "creation_date": 1502890330, "answer_id": 45715022, "question_id": 45713747, "link": "https://stackoverflow.com/questions/45713747/any-code-improvement-in-adding-replacing-fragment/45715022#45715022", "title": "Any code improvement in adding/replacing fragment", "body": "<p><strong><em>I have posted a <a href=\"https://medium.com/thoughts-overflow/how-to-add-a-fragment-in-kotlin-way-73203c5a450b\" rel=\"noreferrer\">blog</a> about the below answer.</em></strong> </p>\n\n<p>I will write an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\"><code>Extension function</code></a> to the <code>FragmentManager</code> which accepts a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"noreferrer\"><code>Lambda with Receiver</code></a> as an argument. </p>\n\n<pre><code>inline fun FragmentManager.inTransaction(func: FragmentTransaction.() -&gt; Unit) {\n    val fragmentTransaction = beginTransaction()\n    fragmentTransaction.func()\n    fragmentTransaction.commit()\n}\n</code></pre>\n\n<p>To add a <code>fragment</code>, we can call like this from the <code>Activity</code> now:</p>\n\n<pre><code>supportFragmentManager.inTransaction {\n    add(R.id.frameLayoutContent, fragment)\n}\n</code></pre>\n\n<p>The advantage of this is we don't have to call <code>beginTransaction()</code> and  <code>commit()</code> every time we add or replace a <code>Fragment</code> now. How many hours have you wasted debugging only to find out that you have missed calling <code>commit()</code> in Java?</p>\n\n<p>Next, I will write <code>Extension functions</code> to <code>AppCompatActivity</code>:</p>\n\n<pre><code>fun AppCompatActivity.addFragment(fragment: Fragment, frameId: Int, backStackTag: String? = null) {\n    supportFragmentManager.inTransaction {\n        add(frameId, fragment)\n        backStackTag?.let { addToBackStack(fragment.javaClass.name) }\n    }\n}\n\nfun AppCompatActivity.replaceFragment(fragment: Fragment, frameId: Int, backStackTag: String? = null) {\n    supportFragmentManager.inTransaction {\n        replace(frameId, fragment)\n        backStackTag?.let { addToBackStack(fragment.javaClass.name) }\n    }\n}\n</code></pre>\n\n<p>So that now we can add/ replace <code>Fragment</code> from any <code>Activity</code> in a single line, without any additional qualifiers:</p>\n\n<pre><code>addFragment(yourFragment, R.id.frameLayoutContent, \"tag\")\n\nreplaceFragment(yourFragment, R.id.frameLayoutContent, \"tag\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "is_accepted": false, "score": 0, "last_activity_date": 1542474464, "creation_date": 1542474464, "answer_id": 53353531, "question_id": 45713747, "link": "https://stackoverflow.com/questions/45713747/any-code-improvement-in-adding-replacing-fragment/53353531#53353531", "title": "Any code improvement in adding/replacing fragment", "body": "<p>You can create an extension function like this:</p>\n\n<ol>\n<li><p>Import <code>android.support.v4.app.FragmentManager</code> and <code>android.support.v4.app.FragmentTransaction</code> if you wish to make your app compatible with devices running system versions as low as Android 1.6 using <code>supportFragmentManager</code>(which uses the support library) instead of <code>fragmentManager</code>.</p></li>\n<li><p>Define the following function on the top level, i.e. directly under the package:</p>\n\n<pre><code>inline fun FragmentManager.inTransaction(func: FragmentTransaction.() Unit) {\n    val fragmentTransaction = beginTransaction()\n    fragmentTransaction.func()\n    fragmentTransaction.commit() \n}\n</code></pre></li>\n<li><p>Call the function from any activity:</p>\n\n<pre><code>supportFragmentManager.inTransaction {\n    add(R.id.frameLayoutContent, fragment)\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1267, "user_id": 6026222, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/uvycL.jpg?s=128&g=1", "display_name": "aleksandrbel", "link": "https://stackoverflow.com/users/6026222/aleksandrbel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3346, "favorite_count": 4, "accepted_answer_id": 45715022, "answer_count": 4, "score": 9, "last_activity_date": 1542474464, "creation_date": 1502887044, "last_edit_date": 1515361420, "question_id": 45713747, "link": "https://stackoverflow.com/questions/45713747/any-code-improvement-in-adding-replacing-fragment", "title": "Any code improvement in adding/replacing fragment", "body": "<p>I have started to study Kotlin and do not know all the functionality of the language.</p>\n\n<p>The function is used to show the fragment in the FrameLayout. The logic is so that the first time it should always <code>add()</code> the fragment and next times it will <code>replace()</code>. Also in some cases I need to use <code>addToBackStack()</code>  and also in the same situations to disable the left-side menu.</p>\n\n<pre><code>fun showFragment(fragment : Fragment,\n                 isReplace: Boolean = true,\n                 backStackTag: String? = null,\n                 isEnabled: Boolean = true)\n{\n    /* Defining fragment transaction */\n    val fragmentTransaction = supportFragmentManager\n            .beginTransaction()\n\n    /* Select if to replace or add a fragment */\n    if(isReplace)\n        fragmentTransaction.replace(R.id.frameLayoutContent, fragment, backStackTag)\n    else\n        fragmentTransaction.add(R.id.frameLayoutContent, fragment)\n\n    /* Select if to add to back stack */\n    if(backStackTag != null)\n        fragmentTransaction.addToBackStack(fragment.javaClass.name)\n\n    fragmentTransaction.commit()\n    enableDrawer(isEnabled)\n}\n</code></pre>\n\n<p><strong>Question:</strong> Are there some possible improvements of the function code related to the specifications of Kotlin language to make code cleaner as for now the function looks as a mass.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1502887029, "post_id": 45713598, "comment_id": 78385491, "body": "<code>put</code> is overloaded java code in this particular situation."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1502889960, "last_edit_date": 1502889960, "creation_date": 1502886595, "answer_id": 45713598, "question_id": 45713515, "link": "https://stackoverflow.com/questions/45713515/simplifying-code-that-are-identical-funs-except-for-the-signature-varargs-vs-ma/45713598#45713598", "title": "Simplifying code that are identical funs except for the signature (varargs vs map)", "body": "<p>You can leave one of the functions as it is and make the other call it, in either way:</p>\n\n<pre><code>fun parametersOf(vararg pairs: Pair&lt;String, Any&gt;) = \n    parametersOf(pairs.toMap())\n</code></pre>\n\n<p>Or, using the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">spread operator</a> to call the <code>vararg</code> function:</p>\n\n<pre><code>fun parametersOf(map: Map&lt;String, Any&gt;): Parameters = \n    parametersOf(*map.toList().toTypedArray())\n</code></pre>\n\n<p>Also, if the <code>p.put(key, value)</code> lines all call the same function accepting <code>Any</code> (not different ones for <code>String</code>, <code>Int</code>, <code>Double</code> and <code>Boolean</code>, due to the smart casts), you can replace the four <code>when</code> branches with one:</p>\n\n<pre><code>when (value) {\n    is String, is Int, is Double, is Boolean -&gt; p.put(key, value)\n    else -&gt; throw BBIllegalOperationException(\"...\")\n}\n</code></pre>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45713598, "answer_count": 1, "score": 2, "last_activity_date": 1502889960, "creation_date": 1502886403, "question_id": 45713515, "link": "https://stackoverflow.com/questions/45713515/simplifying-code-that-are-identical-funs-except-for-the-signature-varargs-vs-ma", "title": "Simplifying code that are identical funs except for the signature (varargs vs map)", "body": "<p>I have some very very similar code and I was wondering if there was a way to simplify it?</p>\n\n<pre><code>fun parametersOf(vararg pairs: Pair&lt;String, Any&gt;): Parameters {\n\n    val p = Parameters(pairs.size)\n\n    for ((key, value) in pairs)\n        when (value) {\n            is String  -&gt; p.put(key, value)\n            is Int     -&gt; p.put(key, value)\n            is Double  -&gt; p.put(key, value)\n            is Boolean -&gt; p.put(key, value)\n            else -&gt; throw BBIllegalOperationException(\"Unknown type for value:'$value' of key:'$key'\")\n        }\n\n    return p\n}\n\nfun parametersOf(map: Map&lt;String, Any&gt;): Parameters {\n    val p = Parameters(map.size)\n\n    for ((key, value) in map)\n        when (value) {\n            is String  -&gt; p.put(key, value)\n            is Int     -&gt; p.put(key, value)\n            is Double  -&gt; p.put(key, value)\n            is Boolean -&gt; p.put(key, value)\n            else -&gt; throw BBIllegalOperationException(\"Unknown type for value:'$value' of key:'$key'\")\n        }\n\n    return p\n}\n</code></pre>\n"}, {"tags": ["android", "mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4703, "user_id": 2187976, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GkiD1.jpg?s=128&g=1", "display_name": "Mohamed ALOUANE", "link": "https://stackoverflow.com/users/2187976/mohamed-alouane"}, "edited": false, "score": 2, "creation_date": 1502883031, "post_id": 45712295, "comment_id": 78382647, "body": "how about the &quot;any&quot; in here :  any&lt;*&gt;(OnDataListListener::class.java) . I even have this one here but still is not compiling: <a href=\"https://stackoverflow.com/a/32827711/2187976\">stackoverflow.com/a/32827711/2187976</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 4703, "user_id": 2187976, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GkiD1.jpg?s=128&g=1", "display_name": "Mohamed ALOUANE", "link": "https://stackoverflow.com/users/2187976/mohamed-alouane"}, "edited": false, "score": 0, "creation_date": 1502887075, "post_id": 45712295, "comment_id": 78385535, "body": "@MohamedALOUANE, should it be just <code>any(OnDataListListener::class.java)</code>? If that does not compile, try <code>any&lt;OnDataListListener&lt;*&gt;&gt;(OnDataListListener::class.java)</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1502882782, "creation_date": 1502882782, "answer_id": 45712295, "question_id": 45712229, "link": "https://stackoverflow.com/questions/45712229/only-classes-are-allowed-on-the-left-hand-side-of-a-class-literal-when-using-moc/45712295#45712295", "title": "only classes are allowed on the left hand side of a class literal when using Mockito and kotlin", "body": "<p>Just use <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"noreferrer\"><code>OnDataListListener::class.java</code></a>. </p>\n\n<p>The reason why the angle brackets are not required (and not allowed) in a class reference expresison is that class references are completely agnostic of generics, there are no different class references for generic specializations of a class.</p>\n"}, {"tags": [], "owner": {"reputation": 806, "user_id": 1079842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDKW0.png?s=128&g=1", "display_name": "Mojtaba Haddadi", "link": "https://stackoverflow.com/users/1079842/mojtaba-haddadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1546853920, "creation_date": 1546853920, "answer_id": 54071772, "question_id": 45712229, "link": "https://stackoverflow.com/questions/45712229/only-classes-are-allowed-on-the-left-hand-side-of-a-class-literal-when-using-moc/54071772#54071772", "title": "only classes are allowed on the left hand side of a class literal when using Mockito and kotlin", "body": "<p>first remove <code>OnDataListListener&lt;*&gt;::class.java</code> parameter\nthen add the <code>List&lt;BEntity&gt;</code> in <code>OnDataListListener</code> parameter types</p>\n\n<p>the result is </p>\n\n<pre><code>doAnswer(answerVoid { listener: OnDataListListener&lt;List&lt;BEntity&gt;&gt; -&gt;\n  listener.onSuccess(\n      emptyList())\n}).`when`&lt;DragonInteractor&gt;(mInteractor)\n    .performGetBList(any&lt;OnDataListListener&lt;List&lt;BEntity&gt;&gt;&gt;(),\n        anyBoolean())\n</code></pre>\n"}], "owner": {"reputation": 4703, "user_id": 2187976, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/GkiD1.jpg?s=128&g=1", "display_name": "Mohamed ALOUANE", "link": "https://stackoverflow.com/users/2187976/mohamed-alouane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5644, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1546853920, "creation_date": 1502882563, "question_id": 45712229, "link": "https://stackoverflow.com/questions/45712229/only-classes-are-allowed-on-the-left-hand-side-of-a-class-literal-when-using-moc", "title": "only classes are allowed on the left hand side of a class literal when using Mockito and kotlin", "body": "<p>I used Android studio's conversion tool to convert existing java test class.</p>\n\n<p>I am getting this error : </p>\n\n<blockquote>\n  <p>only classes are allowed on the left hand side of a class literal</p>\n</blockquote>\n\n<p>Here is the test case used : </p>\n\n<p>Java</p>\n\n<pre><code>doAnswer(answerVoid(\n            (OnDataListListener&lt;List&lt;BEntity&gt;&gt; myCallback) -&gt; myCallback.onSuccess(mList))).when(\n            mInteractor).performGetBList(any(OnDataListListener.class), anyBoolean());\n</code></pre>\n\n<p>Kotlin</p>\n\n<pre><code>doAnswer(answerVoid { listener: OnDataListListener&lt;List&lt;BEntity&gt;&gt; -&gt;\n      listener.onSuccess(\n          emptyList())\n    }).`when`&lt;DragonInteractor&gt;(mInteractor)\n        .performGetBList(any&lt;OnDataListListener&gt;(OnDataListListener&lt;*&gt;::class.java),\n            anyBoolean())\n</code></pre>\n\n<p>So how to use generic params in this case? Thanks.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502883018, "post_id": 45712102, "comment_id": 78382637, "body": "tried to <code>read()</code> few first bytes from that <code>InputStream</code>?"}, {"owner": {"reputation": 865, "user_id": 1525867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/620CX.jpg?s=128&g=1", "display_name": "AvielNiego", "link": "https://stackoverflow.com/users/1525867/avielniego"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502883913, "post_id": 45712102, "comment_id": 78383200, "body": "it returns <code>-1</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1502884181, "post_id": 45712102, "comment_id": 78383378, "body": "and whats on the logcat after calling:  <code>Cursor c = contentResolver.query(uri,null,null,null,null); DatabaseUtils.dumpCursor(c)</code>"}, {"owner": {"reputation": 865, "user_id": 1525867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/620CX.jpg?s=128&g=1", "display_name": "AvielNiego", "link": "https://stackoverflow.com/users/1525867/avielniego"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502885089, "post_id": 45712102, "comment_id": 78383988, "body": "It says that the size of the file is 0. It&#39;s wierd I&#39;ll check it out. Thanks!"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1502886595, "post_id": 45712102, "comment_id": 78385111, "body": "yep, good luck / hunting"}], "owner": {"reputation": 865, "user_id": 1525867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/620CX.jpg?s=128&g=1", "display_name": "AvielNiego", "link": "https://stackoverflow.com/users/1525867/avielniego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1008, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1502882211, "creation_date": 1502882211, "question_id": 45712102, "link": "https://stackoverflow.com/questions/45712102/getcontentresolver-openinputstream-returns-an-empty-stream", "title": "getContentResolver.openInputStream returns an empty stream", "body": "<p>I am sharing an audio file(opus file) from WhatsApp to my app.\nWhen I am trying to read the file using </p>\n\n<pre><code>val uri: Uri = intent.getParcelableExtra(Intent.EXTRA_STREAM)\nval inputStream = contentResolver.openInputStream(uri)\nval byteArray = IOUtils.toByteArray(inputStream)\n</code></pre>\n\n<p>I am getting an empty <code>ByteArray</code></p>\n\n<p>I've tried using <code>BitmapFactory.decodeStream</code> like this:</p>\n\n<pre><code>val uri: Uri = intent.getParcelableExtra(Intent.EXTRA_STREAM)\nval inputStream = contentResolver.openInputStream(uri)\nval bitmap = BitmapFactory.decodeStream(inputStream)\n</code></pre>\n\n<p>But <code>BitmapFactory.decodeStream</code> only returns <code>null</code>.</p>\n\n<p>I also tried querying the content resolver for this <code>uri</code>, but all I get is the file name and the file size.</p>\n\n<p>The <code>uri</code> value is <code>\"content://com.whatsapp.provider.media/item/133401\"</code></p>\n\n<p>However, when I am trying to share an image from WhatsApp to my App, and use the same code as above, everything works well and I get the desired <code>byteArray</code>.</p>\n\n<p>I would love to have some help here</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "retrofit"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4895365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hjt8eCGyizk/AAAAAAAAAAI/AAAAAAAABwI/I2tNcQnrd9s/photo.jpg?sz=128", "display_name": "NItesh Kumar", "link": "https://stackoverflow.com/users/4895365/nitesh-kumar"}, "edited": false, "score": 0, "creation_date": 1502880576, "post_id": 45711471, "comment_id": 78380978, "body": "how i can do please give any reffrence"}, {"owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "reply_to_user": {"reputation": 21, "user_id": 4895365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hjt8eCGyizk/AAAAAAAAAAI/AAAAAAAABwI/I2tNcQnrd9s/photo.jpg?sz=128", "display_name": "NItesh Kumar", "link": "https://stackoverflow.com/users/4895365/nitesh-kumar"}, "edited": false, "score": 0, "creation_date": 1502880977, "post_id": 45711471, "comment_id": 78381277, "body": "@NIteshKumar I&#39;ve just edited my answer, please check it out."}, {"owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "reply_to_user": {"reputation": 21, "user_id": 4895365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hjt8eCGyizk/AAAAAAAAAAI/AAAAAAAABwI/I2tNcQnrd9s/photo.jpg?sz=128", "display_name": "NItesh Kumar", "link": "https://stackoverflow.com/users/4895365/nitesh-kumar"}, "edited": false, "score": 0, "creation_date": 1502883185, "post_id": 45711471, "comment_id": 78382746, "body": "@NIteshKumar where exactly <code>NellPointerException</code> appears? What is <code>null</code>?"}], "tags": [], "owner": {"reputation": 496, "user_id": 2424198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b8bf08564356840f438d93a312d70c?s=128&d=identicon&r=PG", "display_name": "Vasyl Glodan", "link": "https://stackoverflow.com/users/2424198/vasyl-glodan"}, "is_accepted": false, "score": 0, "last_activity_date": 1502881389, "last_edit_date": 1502881389, "creation_date": 1502880400, "answer_id": 45711471, "question_id": 45711184, "link": "https://stackoverflow.com/questions/45711184/no-args-error-retrofit-request-body/45711471#45711471", "title": "No args error retrofit request body", "body": "<p>Your <code>UpdatePreviousDetails</code> class has to have a constructor with no params to enable Gson (inside Retrofit) to convert your object into JSON.</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>class UpdatePreviousDetails() {\n\n    var CompanyName: String? = null\n    var Designation: String? = null\n    var DateOfJoin: Date? = null\n    var DateOfLeaving: Date? = null\n    var SectorPreviouslyWorked: String? = null\n    var Id: Int? = null\n\n    constructor(\n            CompanyName: String?,\n            Designation: String?,\n            DateOfJoin: Date?,\n            DateOfLeaving: Date?,\n            SectorPreviouslyWorked: String?,\n            Id: Int?\n    ) : this() {\n\n        this.CompanyName = CompanyName\n        this.Designation = Designation\n        this.DateOfJoin = DateOfJoin\n        this.DateOfLeaving = DateOfLeaving\n        this.SectorPreviouslyWorked = SectorPreviouslyWorked\n        this.Id = Id\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4895365, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hjt8eCGyizk/AAAAAAAAAAI/AAAAAAAABwI/I2tNcQnrd9s/photo.jpg?sz=128", "display_name": "NItesh Kumar", "link": "https://stackoverflow.com/users/4895365/nitesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 745, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502900737, "creation_date": 1502879476, "last_edit_date": 1502900737, "question_id": 45711184, "link": "https://stackoverflow.com/questions/45711184/no-args-error-retrofit-request-body", "title": "No args error retrofit request body", "body": "<p>I am facing problem while sending json object body using retrofit to the server. Below is the error.</p>\n\n<blockquote>\n  <p>Failed to invoke public\n  com.nitesh.brill.saleslines._User_Classes.User_PojoClass.UpdatePreviousDetails()\n  with no args</p>\n</blockquote>\n\n<p>code snippet </p>\n\n<p>// Api endpoint</p>\n\n<pre><code>@Headers(\"Content-Type: application/json\")\n@POST(\"UpdatePreviousDetails/{Id}\")\nfun updatePreviousDetails(@Path(\"Id\") Id: Int, @Body  updateDetails :UpdatePreviousDetails): Call&lt;UpdatePreviousDetails&gt;\n</code></pre>\n\n<p>//pojo class</p>\n\n<pre><code>package com.nitesh.brill.saleslines._User_Classes.User_PojoClass\n\nimport java.util.*\n\n/**\n * Created by Nitesh Android on 16-08-2017.\n */\nclass UpdatePreviousDetails(\n        var CompanyName: String? = null!!,\n        var Designation: String? = null!!,\n        var DateOfJoin: Date? = null!!,\n        var DateOfLeaving: Date? = null!!,\n        var SectorPreviouslyWorked: String? = null!!,\n        var Id: Int? = null!!\n) {\n\n\n}\n</code></pre>\n\n<p>//sending data</p>\n\n<pre><code>val details = UpdatePreviousDetails(\"rr\", \"asm\", date, date, \"Pharmaceuticals\",3)\n\nval call = apiEndpointInterface!!.updatePreviousDetails(5, details)\n\ncall.enqueue(object :Callback&lt;UpdatePreviousDetails&gt; {\n    override fun onResponse(call: Call&lt;UpdatePreviousDetails&gt;?, response: Response&lt;UpdatePreviousDetails&gt;?) {\n        objUsefullData.showSnackBar(\"success\")\n\n         UsefullData.Log(\"=============\"+response!!.body().toString())\n\n    }\n\n    override fun onFailure(call: Call&lt;UpdatePreviousDetails&gt;?, t: Throwable?) {\n\n        objUsefullData.showSnackBar(\"fail\")\n        UsefullData.Log(\"=============\"+t)\n\n    }\n\n})\n</code></pre>\n\n<p>I am using kotlin language</p>\n"}, {"tags": ["java", "android", "exception", "kotlin", "viewmodel"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1502879144, "post_id": 45710919, "comment_id": 78379982, "body": "You need to configure <code>proguard-rules</code> to keep class members. Take a look at the follow <a href=\"https://gist.github.com/Jackgris/c4a71328b1ae346cba04#file-proguard-rules\" rel=\"nofollow noreferrer\">gist.github.com/Jackgris/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2569, "user_id": 2853392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2j5ao.jpg?s=128&g=1", "display_name": "vishal jangid", "link": "https://stackoverflow.com/users/2853392/vishal-jangid"}, "is_accepted": false, "score": -3, "last_activity_date": 1502879199, "creation_date": 1502879199, "answer_id": 45711071, "question_id": 45710919, "link": "https://stackoverflow.com/questions/45710919/runtimeexception-if-minifyenabled-is-true-with-viewmodel-class/45711071#45711071", "title": "RuntimeException if minifyEnabled is true with ViewModel class", "body": "<p>To enable code shrinking with ProGuard, add minifyEnabled true to the appropriate build type in your build.gradle file.</p>\n\n<p>the following snippet from a <strong>build.gradle</strong> file enables code shrinking for the release build:</p>\n\n<pre><code>android {\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'),\n                    'proguard-rules.pro'\n        }\n    }\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 3452175, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/eHDfI.jpg?s=128&g=1", "display_name": "JuliaKo", "link": "https://stackoverflow.com/users/3452175/juliako"}, "edited": false, "score": 0, "creation_date": 1502880690, "post_id": 45711192, "comment_id": 78381046, "body": "it&#39;s not the solution"}, {"owner": {"reputation": 61, "user_id": 8463327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173a6910ef5291b29aa4b5d335c2b9b0?s=128&d=identicon&r=PG&f=1", "display_name": "Girish H", "link": "https://stackoverflow.com/users/8463327/girish-h"}, "reply_to_user": {"reputation": 612, "user_id": 3452175, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/eHDfI.jpg?s=128&g=1", "display_name": "JuliaKo", "link": "https://stackoverflow.com/users/3452175/juliako"}, "edited": false, "score": 0, "creation_date": 1502881089, "post_id": 45711192, "comment_id": 78381369, "body": "@JuliaKo Can you try editing ViewModelProviders.of(this) to ViewModelProviders.of(this , viewModelFactory)"}], "tags": [], "owner": {"reputation": 61, "user_id": 8463327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/173a6910ef5291b29aa4b5d335c2b9b0?s=128&d=identicon&r=PG&f=1", "display_name": "Girish H", "link": "https://stackoverflow.com/users/8463327/girish-h"}, "is_accepted": false, "score": -2, "last_activity_date": 1502879504, "creation_date": 1502879504, "answer_id": 45711192, "question_id": 45710919, "link": "https://stackoverflow.com/questions/45710919/runtimeexception-if-minifyenabled-is-true-with-viewmodel-class/45711192#45711192", "title": "RuntimeException if minifyEnabled is true with ViewModel class", "body": "<p>When you make minifyEnabled to true , proguard shrinks , obfuscate your model class and Activity can't recognise it , in your pro guard-rules.pro please add below line</p>\n\n<pre><code>-keep class com.appchamp.wordchunks.ui.main.MainViewModel;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1333, "user_id": 5022858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wKqtU.jpg?s=128&g=1", "display_name": "Soren Stoutner", "link": "https://stackoverflow.com/users/5022858/soren-stoutner"}, "is_accepted": false, "score": 0, "last_activity_date": 1606203637, "creation_date": 1606203637, "answer_id": 64982101, "question_id": 45710919, "link": "https://stackoverflow.com/questions/45710919/runtimeexception-if-minifyenabled-is-true-with-viewmodel-class/64982101#64982101", "title": "RuntimeException if minifyEnabled is true with ViewModel class", "body": "<p>I was able to fix the problem by adding the following line to my <code>proguard-rules.pro</code> file.</p>\n<pre><code>-keep class * extends androidx.lifecycle.ViewModel { *; }\n</code></pre>\n<p>In my case I was using a custom ViewModelProvider, which means that my <code>init()</code> statement included a number of arguments.  If you are not using a custom ViewModelProvider you might be able to get away with the following as described in the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/a9ac247af2afd4115c3eb6d16c05bc92737d6305/lifecycle/viewmodel/proguard-rules.pro\" rel=\"nofollow noreferrer\">Android ViewModel ProGuard example file</a>:</p>\n<pre><code>-keep class * extends androidx.lifecycle.ViewModel {\n    &lt;init&gt;();\n}\n</code></pre>\n"}], "owner": {"reputation": 612, "user_id": 3452175, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/eHDfI.jpg?s=128&g=1", "display_name": "JuliaKo", "link": "https://stackoverflow.com/users/3452175/juliako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 762, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1606203637, "creation_date": 1502878746, "last_edit_date": 1502879170, "question_id": 45710919, "link": "https://stackoverflow.com/questions/45710919/runtimeexception-if-minifyenabled-is-true-with-viewmodel-class", "title": "RuntimeException if minifyEnabled is true with ViewModel class", "body": "<p>If <code>minifyEnabled</code> is <code>false</code> everything works fine. But after I change my <code>minifyEnabled</code> to <code>true</code> runtime exception happens:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{.ui.main.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class .ui.main.MainViewModel\n</code></pre>\n\n<p>My <code>MainActivity</code> class extends <code>AppCompatActivity</code>, and implements <code>LifecycleRegistryOwner</code>, then I declare: </p>\n\n<pre><code>  private val lifecycleRegistry: LifecycleRegistry by lazy { LifecycleRegistry(this) }\n  private val viewModel: MainViewModel by lazy { ViewModelProviders.of(this).get(MainViewModel::class.java) }\n  override fun getLifecycle(): LifecycleRegistry = lifecycleRegistry\n  // and other simple stuff\n</code></pre>\n\n<p>Should I put something in my proguard-rules file maybe?</p>\n\n<p>The full exception log:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.appchamp.wordchunks, PID: 32558\n                  java.lang.RuntimeException: Unable to start activity ComponentInfo{com.appchamp.wordchunks/com.appchamp.wordchunks.ui.main.MainActivity}: java.lang.RuntimeException: Cannot create an instance of class com.appchamp.wordchunks.ui.main.MainViewModel\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3253)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\n                      at android.app.ActivityThread.access$1100(ActivityThread.java:221)\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\n                      at android.os.Looper.loop(Looper.java:158)\n                      at android.app.ActivityThread.main(ActivityThread.java:7224)\n                      at java.lang.reflect.Method.invoke(Native Method)\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n                   Caused by: java.lang.RuntimeException: Cannot create an instance of class com.appchamp.wordchunks.ui.main.MainViewModel\n                      at android.arch.lifecycle.ViewModelProviders$DefaultFactory.create(Unknown Source)\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\n                      at com.appchamp.wordchunks.ui.main.l.a(Unknown Source)\n                      at a.e.a(Unknown Source)\n                      at com.appchamp.wordchunks.ui.main.MainActivity.c(Unknown Source)\n                      at com.appchamp.wordchunks.ui.main.MainActivity.onStart(Unknown Source)\n                      at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1265)\n                      at android.app.Activity.performStart(Activity.java:6915)\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3216)\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\u00a0\n                      at android.app.ActivityThread.access$1100(ActivityThread.java:221)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:158)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:7224)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\u00a0\n                   Caused by: java.lang.reflect.InvocationTargetException\n                      at java.lang.reflect.Constructor.newInstance(Native Method)\n                      at android.arch.lifecycle.ViewModelProviders$DefaultFactory.create(Unknown Source)\u00a0\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\u00a0\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.l.a(Unknown Source)\u00a0\n                      at a.e.a(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainActivity.c(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainActivity.onStart(Unknown Source)\u00a0\n                      at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1265)\u00a0\n                      at android.app.Activity.performStart(Activity.java:6915)\u00a0\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3216)\u00a0\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\u00a0\n                      at android.app.ActivityThread.access$1100(ActivityThread.java:221)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:158)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:7224)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\u00a0\n                   Caused by: java.lang.AssertionError: impossible\n                      at java.lang.Enum$1.create(Enum.java:45)\n                      at java.lang.Enum$1.create(Enum.java:35)\n                      at libcore.util.BasicLruCache.get(BasicLruCache.java:54)\n                      at java.lang.Enum.getSharedConstants(Enum.java:211)\n                      at java.util.EnumMap.initialization(EnumMap.java:738)\n                      at java.util.EnumMap.&lt;init&gt;(EnumMap.java:391)\n                      at io.realm.ad.&lt;init&gt;(Unknown Source)\n                      at io.realm.ad.a(Unknown Source)\n                      at io.realm.ad.a(Unknown Source)\n                      at io.realm.aa.l(Unknown Source)\n                      at com.appchamp.wordchunks.ui.main.MainViewModel.&lt;init&gt;(Unknown Source)\n                      at java.lang.reflect.Constructor.newInstance(Native Method)\u00a0\n                      at android.arch.lifecycle.ViewModelProviders$DefaultFactory.create(Unknown Source)\u00a0\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\u00a0\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.l.a(Unknown Source)\u00a0\n                      at a.e.a(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainActivity.c(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainActivity.onStart(Unknown Source)\u00a0\n                      at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1265)\u00a0\n                      at android.app.Activity.performStart(Activity.java:6915)\u00a0\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3216)\u00a0\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\u00a0\n                      at android.app.ActivityThread.access$1100(ActivityThread.java:221)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:158)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:7224)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\u00a0\n                   Caused by: java.lang.NoSuchMethodException: values []\n                      at java.lang.Class.getMethod(Class.java:630)\n                      at java.lang.Class.getDeclaredMethod(Class.java:589)\n                      at java.lang.Enum$1.create(Enum.java:41)\n                      at java.lang.Enum$1.create(Enum.java:35)\u00a0\n                      at libcore.util.BasicLruCache.get(BasicLruCache.java:54)\u00a0\n                      at java.lang.Enum.getSharedConstants(Enum.java:211)\u00a0\n                      at java.util.EnumMap.initialization(EnumMap.java:738)\u00a0\n                      at java.util.EnumMap.&lt;init&gt;(EnumMap.java:391)\u00a0\n                      at io.realm.ad.&lt;init&gt;(Unknown Source)\u00a0\n                      at io.realm.ad.a(Unknown Source)\u00a0\n                      at io.realm.ad.a(Unknown Source)\u00a0\n                      at io.realm.aa.l(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainViewModel.&lt;init&gt;(Unknown Source)\u00a0\n                      at java.lang.reflect.Constructor.newInstance(Native Method)\u00a0\n                      at android.arch.lifecycle.ViewModelProviders$DefaultFactory.create(Unknown Source)\u00a0\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\u00a0\n                      at android.arch.lifecycle.ViewModelProvider.get(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.l.a(Unknown Source)\u00a0\n                      at a.e.a(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainActivity.c(Unknown Source)\u00a0\n                      at com.appchamp.wordchunks.ui.main.MainActivity.onStart(Unknown Source)\u00a0\n                      at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1265)\u00a0\n                      at android.app.Activity.performStart(Activity.java:6915)\u00a0\n                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3216)\u00a0\n                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3349)\u00a0\n                      at android.app.ActivityThread.access$1100(ActivityThread.java:221)\u00a0\n                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1794)\u00a0\n                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                      at android.os.Looper.loop(Looper.java:158)\u00a0\n                      at android.app.ActivityThread.main(ActivityThread.java:7224)\u00a0\n                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\u00a0\n                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\u00a0 end\n</code></pre>\n"}, {"tags": ["kotlin", "assertions", "kotlintest"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1502878537, "post_id": 45710749, "comment_id": 78379586, "body": "Why cannot you use assertj?"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1502878900, "post_id": 45710749, "comment_id": 78379824, "body": "Please give examples of how it doesn&#39;t work in your case, and/or for cases you where you do not know how to do the equivalent in Kotlin"}, {"owner": {"reputation": 1651, "user_id": 1719285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759e8a2de737bf875a85d800c7cff36a?s=128&d=identicon&r=PG", "display_name": "NeverwinterMoon", "link": "https://stackoverflow.com/users/1719285/neverwintermoon"}, "edited": false, "score": 5, "creation_date": 1533014437, "post_id": 45710749, "comment_id": 90177073, "body": "I&#39;ve been using assertk for a while (<a href=\"https://github.com/willowtreeapps/assertk\" rel=\"nofollow noreferrer\">github.com/willowtreeapps/assertk</a>). For my needs it was and is perfect. Even if it&#39;s missing some matchers, it&#39;s so easy to create new ones using that same lib, that it&#39;s literally all I ever need. I am not an author of the lib or associated with the author in any way, JFYI :)"}, {"owner": {"reputation": 596, "user_id": 1395875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6155e464f85de186a6ae2f91637e2578?s=128&d=identicon&r=PG", "display_name": "Alissa", "link": "https://stackoverflow.com/users/1395875/alissa"}, "edited": false, "score": 1, "creation_date": 1538565808, "post_id": 45710749, "comment_id": 92185077, "body": "One of problems with assertJ and Kt is custom messages because <code>as</code> is a keyword in Kotlin"}], "answers": [{"comments": [{"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "reply_to_user": {"reputation": 4086, "user_id": 1726308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c43573dea28849f26ee7b5fd13c4219?s=128&d=identicon&r=PG", "display_name": "Mario Kutlev", "link": "https://stackoverflow.com/users/1726308/mario-kutlev"}, "edited": false, "score": 1, "creation_date": 1502889627, "post_id": 45710874, "comment_id": 78387555, "body": "@MarioKutlev I added some simple samples to the answer - also, it would be easier if you just add your examples to the question(or create a new one since this one is about libraries)"}], "tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 14, "last_activity_date": 1502889582, "last_edit_date": 1502889582, "creation_date": 1502878589, "answer_id": 45710874, "question_id": 45710749, "link": "https://stackoverflow.com/questions/45710749/is-there-kotlin-equivalent-for-assertj-library/45710874#45710874", "title": "Is there Kotlin equivalent for AssertJ library?", "body": "<p>There is no official equivalent but basic AssertJ is still usable in many cases and looks quite fine:</p>\n\n<pre><code>assertThat(info)\n  .containsKey(\"foo\")\n\n\nassertThatThrownBy { session.restTemplate.postForLocation(\"foo\", {}) }\n  .isExactlyInstanceOf(HttpClientErrorException::class.java)\n</code></pre>\n\n<hr>\n\n<p>If you want dedicated wrappers, this early-stage project is trying to achieve this: <a href=\"https://github.com/wuan/assertj-core-kotlin\" rel=\"noreferrer\">https://github.com/wuan/assertj-core-kotlin</a></p>\n"}, {"comments": [{"owner": {"reputation": 6367, "user_id": 4451732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UQN4l.jpg?s=128&g=1", "display_name": "Franklin Yu", "link": "https://stackoverflow.com/users/4451732/franklin-yu"}, "edited": false, "score": 0, "creation_date": 1564522942, "post_id": 47611841, "comment_id": 101057091, "body": "This isn\u2019t exactly the same as AssertJ. For example, in AssertJ you only need to import <code>assertThat</code> to test <code>assertThat(1).isEqualTo(1)</code>. This is one of the selling point: import the assertion, not the matchers. In Atrium, you need to import both <code>expect</code> (assertion) and <code>toBe</code> (matcher) to say <code>expect(1).toBe(1)</code>."}, {"owner": {"reputation": 341, "user_id": 2015786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f9d1b63f49dda1745b45eaf6207790e?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Stoll", "link": "https://stackoverflow.com/users/2015786/robert-stoll"}, "reply_to_user": {"reputation": 6367, "user_id": 4451732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UQN4l.jpg?s=128&g=1", "display_name": "Franklin Yu", "link": "https://stackoverflow.com/users/4451732/franklin-yu"}, "edited": false, "score": 0, "creation_date": 1567025796, "post_id": 47611841, "comment_id": 101843813, "body": "@FranklinYu that&#39;s true, Atrium requires two imports <code>expect</code> and the corresponding API. However, if you use a star import for the API then that&#39;s it. AssertJ does not support multiple APIs as Atrium does, there is always a trade-off I guess"}], "tags": [], "owner": {"reputation": 341, "user_id": 2015786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f9d1b63f49dda1745b45eaf6207790e?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Stoll", "link": "https://stackoverflow.com/users/2015786/robert-stoll"}, "is_accepted": false, "score": 7, "last_activity_date": 1538041583, "last_edit_date": 1538041583, "creation_date": 1512243858, "answer_id": 47611841, "question_id": 45710749, "link": "https://stackoverflow.com/questions/45710749/is-there-kotlin-equivalent-for-assertj-library/47611841#47611841", "title": "Is there Kotlin equivalent for AssertJ library?", "body": "<p>You are probably no longer searching for an assertion library but just in case you are not yet happy with your current choice, have a look at <a href=\"https://github.com/robstoll/atrium\" rel=\"nofollow noreferrer\">https://github.com/robstoll/atrium</a></p>\n\n<p>It supports inter alia:</p>\n\n<ul>\n<li>assertion groups</li>\n<li>assertion functions for nullable types</li>\n<li>property assertions</li>\n<li>method assertions</li>\n<li>postulate that a Throwable was thrown </li>\n</ul>\n\n<p>As well as more advanced features such as sophisticated assertion builders, support for i18n and more.</p>\n\n<p>The examples in the README will give you a nice overview:\n<a href=\"https://github.com/robstoll/atrium/blob/master/README.md#examples\" rel=\"nofollow noreferrer\">https://github.com/robstoll/atrium/blob/master/README.md#examples</a></p>\n"}], "owner": {"reputation": 4086, "user_id": 1726308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c43573dea28849f26ee7b5fd13c4219?s=128&d=identicon&r=PG", "display_name": "Mario Kutlev", "link": "https://stackoverflow.com/users/1726308/mario-kutlev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7200, "favorite_count": 0, "closed_date": 1512245788, "accepted_answer_id": 45710874, "answer_count": 2, "score": 14, "last_activity_date": 1538041583, "creation_date": 1502878207, "question_id": 45710749, "link": "https://stackoverflow.com/questions/45710749/is-there-kotlin-equivalent-for-assertj-library", "closed_reason": "Not suitable for this site", "title": "Is there Kotlin equivalent for AssertJ library?", "body": "<p>I am converting some tests from Java to Kotlin. For Java tests I use AssertJ library which is very powerful and has rich set of assertions. My problem is that for Kotlin tests I can not use AssertJ and \nKotlin JUnit (<code>org.jetbrains.kotlin:kotlin-test-junit</code>) has very limited set of assertions.</p>\n\n<p>Is there Kotlin equivalent for AssertJ or better way for asserts? </p>\n\n<p>I found <a href=\"https://github.com/MarkusAmshove/Kluent\" rel=\"noreferrer\">Kluent library</a> but I'm still not sure if this is the best library to use.</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 4963490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce3d8c5a9c207a33bcd26b8864666fa?s=128&d=identicon&r=PG", "display_name": "Buck", "link": "https://stackoverflow.com/users/4963490/buck"}, "edited": false, "score": 0, "creation_date": 1502910307, "post_id": 45711836, "comment_id": 78400535, "body": "The filter produces a list of Ref&lt;T&gt;.  Is there a way to cast Ref&lt;T&gt; to Ref&lt;Pen&gt;, rather than create new copies of Ref&lt;Pen&gt;?"}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1502962255, "last_edit_date": 1502962255, "creation_date": 1502881453, "answer_id": 45711836, "question_id": 45710060, "link": "https://stackoverflow.com/questions/45710060/how-to-retrieve-items-from-a-generic-list-in-a-type-safe-way/45711836#45711836", "title": "How to retrieve items from a generic list in a type safe way", "body": "<p>Your <code>filter</code> method returns type <code>List&lt;Ref&lt;T&gt;&gt;</code> while your <code>pens</code> method returns type <code>List&lt;Ref&lt;Pen&gt;&gt;</code>.  Because you declared the <code>container</code> to be <code>Container&lt;Item&gt;</code>, the filter type is effectively <code>List&lt;Ref&lt;Item&gt;&gt;</code>.  You cannot set a <code>List&lt;Ref&lt;Pen&gt;&gt;</code> equal to a <code>List&lt;Ref&lt;Item&gt;&gt;</code>.</p>\n\n<p>You can make <code>pens</code> return <code>List&lt;Ref&lt;T&gt;&gt;</code> (which might defeat the type safety you are looking for).  Or, for <code>pens</code>, transform the list with <code>map</code> to a <code>List&lt;Ref&lt;Pen&gt;&gt;</code>.  For example...</p>\n\n<pre><code>fun pens(): List&lt;Ref&lt;Pen&gt;&gt; = filter(Pen::class).map { \n    it as Ref&lt;Pen&gt; ) \n}\n</code></pre>\n\n<p>According to <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#unsafe-cast-operator\" rel=\"nofollow noreferrer\">Kotlin documentation</a>, the <code>as</code> operator as used above is an \"Unsafe\" cast operator.  That's because <code>it.item</code> could be any <code>item</code> or subtype of <code>item</code>.  If <code>it.item</code> were not a <code>Pen</code>, an exception would be thrown.  But since you are filtering for only <code>Pen</code> items, it will never throw the exception.  </p>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 4963490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce3d8c5a9c207a33bcd26b8864666fa?s=128&d=identicon&r=PG", "display_name": "Buck", "link": "https://stackoverflow.com/users/4963490/buck"}, "is_accepted": false, "score": 0, "last_activity_date": 1502939236, "last_edit_date": 1502939236, "creation_date": 1502929350, "answer_id": 45724828, "question_id": 45710060, "link": "https://stackoverflow.com/questions/45710060/how-to-retrieve-items-from-a-generic-list-in-a-type-safe-way/45724828#45724828", "title": "How to retrieve items from a generic list in a type safe way", "body": "<p>I got it to work by moving the generic parameter to the method and doing a unsafe cast which should always succeed after the filter operation.  Here is the complete code.</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger\nimport kotlin.reflect.KClass\n\ninterface Item\ndata class Pen(val name: String) : Item\ndata class Eraser(val name: String) : Item\ndata class Ref&lt;out T : Item&gt; (val id: Int, val item: T)\n\nclass Container {\n    private val seq = AtomicInteger(0)\n    private val items: MutableList&lt;Ref&lt;Item&gt;&gt; = mutableListOf()\n    fun &lt;T: Item&gt; add(item: T) =  items.add(Ref(seq.incrementAndGet(), item))\n\n    private fun &lt;T: Item&gt; filter(cls: KClass&lt;T&gt;) : List&lt;Ref&lt;T&gt;&gt; = \n                items.filter{cls.isInstance(it.item)}.map{it as Ref&lt;T&gt;}\n\n    fun pens(): List&lt;Ref&lt;Pen&gt;&gt; = filter(Pen::class)\n\n    fun erasers(): List&lt;Ref&lt;Eraser&gt;&gt; = filter(Eraser::class)\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val container = Container()\n    container.add(Pen(\"Pen-1\"))\n    container.add(Eraser(\"Eraser-2\"))\n    container.add(Pen(\"Pen-3\"))\n    container.add(Eraser(\"Eraser-4\"))\n\n    container.pens().forEach{println(it)}\n    container.erasers().forEach{println(it)}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 170, "user_id": 7259132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a6635c8b79d99f7089ddd98f3a12f67?s=128&d=identicon&r=PG&f=1", "display_name": "smallstepstoday", "link": "https://stackoverflow.com/users/7259132/smallstepstoday"}, "is_accepted": false, "score": 1, "last_activity_date": 1504043617, "last_edit_date": 1504043617, "creation_date": 1504043131, "answer_id": 45948774, "question_id": 45710060, "link": "https://stackoverflow.com/questions/45710060/how-to-retrieve-items-from-a-generic-list-in-a-type-safe-way/45948774#45948774", "title": "How to retrieve items from a generic list in a type safe way", "body": "<p>You asked:</p>\n\n<blockquote>\n  <p>Is there a way to use type information in a function argument to define the type of the return value?</p>\n</blockquote>\n\n<p>Yes. You can use <a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-functions\" rel=\"nofollow noreferrer\">generic functions</a> and <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameters</a> to accomplish this. You got it to work using a generic function. See the example below for an example using reified parameters.</p>\n\n<h2>Discussion</h2>\n\n<p>Unfortunately <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\"><code>filter</code></a> only returns items with the original type:</p>\n\n<pre><code>fun &lt;T&gt; Iterable&lt;T&gt;.filter(predicate: (T) -&gt; Boolean): List&lt;T&gt;\n</code></pre>\n\n<p>This means that you have to use a method that filters and returns a different type. It is tempting to try to use a method such as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\"><code>filterIsInstance</code></a> to do the job. Unfortunately, in this case, the type is <code>Ref&lt;T&gt;</code>. <code>filterIsInstance</code> fails because T becomes an erased type, resulting in all items being returned. This means that you have to define your own version that tests based on the member variable type rather than on the whole type. My preference is to make this a function of the list rather than the container, like so:</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger\nimport kotlin.reflect.KClass\n\ninterface Item\ndata class Pen(val name: String) : Item\ndata class Eraser(val name: String) : Item\ndata class Ref&lt;T : Item&gt; (val id: Int, val item: T)\n\ninline fun &lt;reified R: Item&gt; List&lt;Ref&lt;*&gt;&gt;.filter(predicate: (Ref&lt;*&gt;) -&gt; Boolean): List&lt;Ref&lt;R&gt;&gt; {\n  val result = ArrayList&lt;Ref&lt;R&gt;&gt;()\n  @Suppress(\"UNCHECKED_CAST\")\n  for(item in this) if (predicate(item)) result.add(item as Ref&lt;R&gt;)\n  return result\n}\n\n\nclass Container&lt;T: Item&gt; {\n    private val seq = AtomicInteger(0)\n    private val items: MutableList&lt;Ref&lt;T&gt;&gt; = mutableListOf()\n    fun add(item: T) =  items.add(Ref(seq.incrementAndGet(), item))\n\n    // to retrieve pens in a type safe manner\n    fun pens() = items.filter&lt;Pen&gt; { it.item is Pen }\n}\n\n\nfun main(args: Array&lt;String&gt;) {\n    val container = Container&lt;Item&gt;()\n    container.add(Pen(\"Pen-1\"))\n    container.add(Pen(\"Pen-2\"))\n    container.add(Eraser(\"Eraser-3\"))\n    container.add(Eraser(\"Eraser-4\"))\n\n    println(\"[${container.pens()}]\")\n}\n</code></pre>\n\n<p>With minimal effort, this approach allows you to do similar filtering anywhere in your code, and it is idiomatic Kotlin.</p>\n\n<p>The inline function is a morph of the Kotlin source for <a href=\"https://github.com/JetBrains/kotlin/blob/1.1.3/libraries/stdlib/src/generated/_Collections.kt#L2213\" rel=\"nofollow noreferrer\"><code>filterIsInstance</code></a>. The unchecked cast is unfortunately unavoidable.</p>\n"}], "owner": {"reputation": 271, "user_id": 4963490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce3d8c5a9c207a33bcd26b8864666fa?s=128&d=identicon&r=PG", "display_name": "Buck", "link": "https://stackoverflow.com/users/4963490/buck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1504043617, "creation_date": 1502876231, "question_id": 45710060, "link": "https://stackoverflow.com/questions/45710060/how-to-retrieve-items-from-a-generic-list-in-a-type-safe-way", "title": "How to retrieve items from a generic list in a type safe way", "body": "<p>I'd like to put items in a generic container but retrieve them in a type safe manner.  The container will tag each item with a sequence number when it's added.  I tried to implement this in Kotlin but ran into problems in the <code>pens()</code> method.  Is there a way to use type information in a function argument to define the type of the return value?</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger\nimport kotlin.reflect.KClass\n\ninterface Item\ndata class Pen(val name: String) : Item\ndata class Eraser(val name: String) : Item\ndata class Ref&lt;out T : Item&gt; (val id: Int, val item: T)\n\nclass Container&lt;T: Item&gt; {\n    private val seq = AtomicInteger(0)\n    private val items: MutableList&lt;Ref&lt;T&gt;&gt; = mutableListOf()\n    fun add(item: T) =  items.add(Ref(seq.incrementAndGet(), item))\n\n    fun filter(cls: KClass&lt;*&gt;) : List&lt;Ref&lt;T&gt;&gt; = items.filter{cls.isInstance(it.item)}.toList()\n\n    // to retrieve pens in a type safe manner\n    // Type mismatch required: List&lt;Ref&lt;Pen&gt;&gt; found: List&lt;Ref&lt;T&gt;&gt; \n    fun pens(): List&lt;Ref&lt;Pen&gt;&gt; = filter(Pen::class) \n}\n\nfun main(args: Array&lt;String&gt;) {\n    val container = Container&lt;Item&gt;()\n    container.add(Pen(\"Pen-1\"))\n    container.add(Pen(\"Pen-2\"))\n    container.add(Eraser(\"Eraser-3\"))\n    container.add(Eraser(\"Eraser-4\"))\n    // the filter method works\n    container.filter(Pen::class).forEach{println(it)}\n}\n</code></pre>\n"}, {"tags": ["spring-boot", "spring-security", "kotlin"], "comments": [{"owner": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502891850, "post_id": 45708951, "comment_id": 78389137, "body": "If you want to use HTTP basic to authenticate the /users endpoint, don&#39;t you have to actually declare that? It&#39;s nothing to do with OAuth at that point."}, {"owner": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502891923, "post_id": 45708951, "comment_id": 78389197, "body": "Note that you also don&#39;t include /users in the request matchers for that filter. So the filter won&#39;t be used for those requests."}, {"owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "reply_to_user": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502964303, "post_id": 45708951, "comment_id": 78421848, "body": "@DaveSyer I&#39;ve tried enabling HTTP Basic for the endpoint, as you&#39;re right, it&#39;s most certainly not an OAuth request. However it&#39;s currently expecting the basic auth credentials to be related to a principal and not a client. Error is: <a href=\"https://gist.github.com/maxkramer/0594f73a00b84b35f3b4521e96c33168\" rel=\"nofollow noreferrer\">gist.github.com/maxkramer/0594f73a00b84b35f3b4521e96c33168</a>"}, {"owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "reply_to_user": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502964401, "post_id": 45708951, "comment_id": 78421908, "body": "This seems to be because it&#39;s hitting the authentication provider which doesn&#39;t a principal/user for a client."}, {"owner": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502965892, "post_id": 45708951, "comment_id": 78422973, "body": "A client can be a principal, but you might need to adapt it (there&#39;s a user details service in your code so I assume that&#39;s what it is doing). You haven&#39;t responded to my comment about the request matchers (this filter simply isn&#39;t being executed in /users)."}, {"owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "reply_to_user": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502966165, "post_id": 45708951, "comment_id": 78423177, "body": "@DaveSyer you&#39;re right - I did however create a separate configuration (see gist) which is now triggering the basic auth."}, {"owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "reply_to_user": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502966375, "post_id": 45708951, "comment_id": 78423330, "body": "@DaveSyer I&#39;ve just verified that the request is indeed hitting the user details service. Is there a way of proxying it over to the clients detail service to be verified against the client configuration that I have already created? As you can see - the clients are being stored in memory."}, {"owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "reply_to_user": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502966632, "post_id": 45708951, "comment_id": 78423515, "body": "@DaveSyer or alternatively is there a way of asserting that requests to this endpoint will contain a client and not a user, and should therefore be looked up against the client details service and not the user details service?"}, {"owner": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1502986208, "post_id": 45708951, "comment_id": 78437833, "body": "Your updated configuration (in the gist not in the question yet) does now match the /users endpoint, but I don&#39;t see anywhere that you plug the client credentials into the authentication manager."}, {"owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "reply_to_user": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1503064932, "post_id": 45708951, "comment_id": 78474671, "body": "@DaveSyer the client credentials are plugged into the authentication manager using the <code>configure(clients: ClientDetailsServiceConfigurer?)</code> method in the OP. Please see the following gist for the full configuration file: <a href=\"https://gist.github.com/maxkramer/5afc74173b04ecd33ef628ca38447ab3\" rel=\"nofollow noreferrer\">gist.github.com/maxkramer/5afc74173b04ecd33ef628ca38447ab3</a>"}, {"owner": {"reputation": 51857, "user_id": 1259109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7ARX.jpg?s=128&g=1", "display_name": "Dave Syer", "link": "https://stackoverflow.com/users/1259109/dave-syer"}, "edited": false, "score": 0, "creation_date": 1503079757, "post_id": 45708951, "comment_id": 78483383, "body": "If you put a complete sample in GitHub it will be easier. I&#39;m on PTO but if there&#39;s a sample I might be able to fix it and send a PR on Monday."}], "owner": {"reputation": 22579, "user_id": 556479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EmTQY.png?s=128&g=1", "display_name": "max_", "link": "https://stackoverflow.com/users/556479/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502873106, "creation_date": 1502873106, "question_id": 45708951, "link": "https://stackoverflow.com/questions/45708951/spring-security-secure-endpoint-based-on-client-authority", "title": "Spring Security: Secure endpoint based on client authority", "body": "<p>I'm currently using Spring Security's OAuth2 to implement authorization across a number of micro services. Our <code>AuthService</code> performs all of the authentication with OAuth2 tokens etc and can create users.</p>\n\n<p>Consider two clients: Client A and Client B.</p>\n\n<p>Client A has authorities: <code>CREATE_USER, CREATE_POST</code>\nClient B has authorities: <code>READ_USER</code></p>\n\n<p>(Yes we could use a scope instead, but this is just an example!)</p>\n\n<p><strong>Aim:</strong></p>\n\n<p>Only Client A, which has the authority <code>CREATE_USER</code>, should be allowed to create a user. Users are creating by posting to <code>/users</code>.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>The problem is that when I send a POST request to the /users endpoint with the basic authentication header for Client A, the <code>CREATE_USER</code> authority is not found because the request hit the <code>AnonymousAuthenticationFilter</code> and the only authority found is <code>ROLE_ANONYMOUS</code> and I receive the following:</p>\n\n<pre><code>10:38:34.852 [http-nio-9999-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Secure object: FilterInvocation: URL: /users; Attributes: [#oauth2.throwOnError(#oauth2.hasAuthority('CREATE_USER))]\n10:38:34.852 [http-nio-9999-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@9055c2bc: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\n10:38:34.854 [http-nio-9999-exec-1] DEBUG o.s.s.access.vote.AffirmativeBased - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@a63e3e8, returned: -1\n10:38:34.856 [http-nio-9999-exec-1] DEBUG o.s.s.w.a.ExceptionTranslationFilter - Access is denied (user is anonymous); redirecting to authentication entry point\norg.springframework.security.access.AccessDeniedException: Access is denied\n</code></pre>\n\n<p>One incredibly hacky solution would be to register a custom security filter that reads the basic auth header and verifies that a client's name is equal to Client A, but this will not work for a third client, Client C which also has the <code>CREATE_VIEWER</code> authority, as the name and not the authorities are verified here.</p>\n\n<pre><code>// UsersController.kt\n@PostMapping(\"/users\")\n@ResponseStatus(HttpStatus.OK)\n@ResponseBody\nfun createUser(): String {\n    return \"Created user!\"\n}\n</code></pre>\n\n<p>Client Configuration</p>\n\n<pre><code>override fun configure(clients: ClientDetailsServiceConfigurer?) {\n    clients!!.inMemory()\n        .withClient(\"ClientA\")\n        .scopes(\"all\")\n        .authorities(\"CREATE_USER\", \"CREATE_POST\")\n        .authorizedGrantTypes(\"refresh_token\", \"password\")\n        .and()\n        .withClient(\"ClientB\")\n        .scopes(\"all\")\n        .authorities(\"READ_USER\")\n        .authorizedGrantTypes(\"refresh_token\", \"password\")\n\n}\n</code></pre>\n\n<p>WebSecurityConfigurerAdaptor impl</p>\n\n<pre><code>override fun configure(http: HttpSecurity) {\n    http.requestMatchers().antMatchers(\"/oauth/authorize\", \"/oauth/confirm_access\")\n        .and()\n        .authorizeRequests()\n        .antMatchers(\"/users\").access(\"hasAuthority('CREATE_USER')\")\n        .anyRequest().authenticated()\n        .and()\n        .csrf().disable()\n}\n\noverride fun configure(auth: AuthenticationManagerBuilder) {\n    auth.authenticationProvider(authenticationProvider())\n}\n\n@Bean\nopen fun authenticationProvider(): DaoAuthenticationProvider {\n    val authProvider = DaoAuthenticationProvider()\n    authProvider.setUserDetailsService(userCredentialService)\n    authProvider.setPasswordEncoder(passwordEncoderService)\n    return authProvider\n}\n</code></pre>\n"}, {"tags": ["ejb", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502864906, "post_id": 45706437, "comment_id": 78370852, "body": "Related: <a href=\"https://stackoverflow.com/questions/44788906/why-kotlin-receives-such-an-undeclaredthrowableexception-rather-than-a-parseexce/44790753#44790753\">Why Kotlin receives such an UndeclaredThrowableException rather than a ParseException?</a>"}, {"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502869935, "post_id": 45706437, "comment_id": 78373850, "body": "How to avoiding this problem?  If the function is wrote by yourself the solution is so simpler. yes, declare the function will be throwing a checked exception. for example:  @Throws(ParseException::class) fun convertToDate(){/**/}   <b>not work for me</b>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502870641, "post_id": 45706437, "comment_id": 78374293, "body": "why didn&#39;t works for you?"}, {"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502870900, "post_id": 45706437, "comment_id": 78374463, "body": "fun validate throw UndeclaredThrowableException, though i write @Throws anotation"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502871973, "post_id": 45706437, "comment_id": 78375130, "body": "you should notice the <code>UndeclaredThrowableException</code> is thrown by jboss rather than your code, which means your code is ok."}, {"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502872427, "post_id": 45706437, "comment_id": 78375441, "body": "How can I do it?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502872684, "post_id": 45706437, "comment_id": 78375608, "body": "Due to remote call, the exception is thrown by container so you can&#39;t handle it, you can try to declare <code>FailUpdateUserSettingException</code> as an unchecked exception, or use the utility method <code>catch{}.only{ex -&gt; when(ex){is FailUpdateUserSettingException}}</code> in my answer to capture the actual exception."}, {"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502878510, "post_id": 45706437, "comment_id": 78379566, "body": "It&#39;s easier to give up kotlin"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502879506, "post_id": 45706437, "comment_id": 78380249, "body": "yeah, my primary program language still is Java, Kotlin is my toy or a language for writing test only."}], "answers": [{"comments": [{"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "edited": false, "score": 0, "creation_date": 1502945906, "post_id": 45719404, "comment_id": 78411098, "body": "WildFly Full 10.0.0.Final (WildFly Core 2.0.10.Final), java version &quot;1.8.0_91, kotlin 1.0.6"}, {"owner": {"reputation": 71, "user_id": 3588231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a8434509b4fecdf201233b8806f89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim van der Leeuw", "link": "https://stackoverflow.com/users/3588231/tim-van-der-leeuw"}, "reply_to_user": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "edited": false, "score": 0, "creation_date": 1502956893, "post_id": 45719404, "comment_id": 78416784, "body": "Both your Java version and Kotlin version are out of date. I suggest updating to at least Kotlin 1.1.4  Did you try replacing the code with a Java class, as I suggested? Does that have similar issues?"}, {"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "edited": false, "score": 0, "creation_date": 1502958020, "post_id": 45719404, "comment_id": 78417460, "body": "and if change ejb interface from java to kotlin"}, {"owner": {"reputation": 71, "user_id": 3588231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a8434509b4fecdf201233b8806f89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim van der Leeuw", "link": "https://stackoverflow.com/users/3588231/tim-van-der-leeuw"}, "reply_to_user": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "edited": false, "score": 0, "creation_date": 1503037033, "post_id": 45719404, "comment_id": 78456562, "body": "If you suspect that there&#39;s an issue with Kotlin and how it implements Java interfaces, please first upgrade to Kotlin 1.1.4 to see if it solves the issue, and if that doesn&#39;t, then please create a minimal example in code that demonstrates the issue, as self contained project with minimal examples, so it can be more easily investigated by the Kotlin team at IntelliJ."}, {"owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "edited": false, "score": 0, "creation_date": 1503042566, "post_id": 45719404, "comment_id": 78459747, "body": "Kotlin 1.1.4 did not help"}, {"owner": {"reputation": 71, "user_id": 3588231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a8434509b4fecdf201233b8806f89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim van der Leeuw", "link": "https://stackoverflow.com/users/3588231/tim-van-der-leeuw"}, "reply_to_user": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "edited": false, "score": 0, "creation_date": 1503052827, "post_id": 45719404, "comment_id": 78466387, "body": "Then please on the Kotlin discussion forum where I found the link to this question, submit as followup the most minimal example you can build for reproducing the issue, preferably without dependencies on anything JBoss or J2EE related, or possible."}], "tags": [], "owner": {"reputation": 71, "user_id": 3588231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a8434509b4fecdf201233b8806f89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim van der Leeuw", "link": "https://stackoverflow.com/users/3588231/tim-van-der-leeuw"}, "is_accepted": false, "score": 0, "last_activity_date": 1502903435, "creation_date": 1502903435, "answer_id": 45719404, "question_id": 45706437, "link": "https://stackoverflow.com/questions/45706437/kotlin-ejb-with-java-interface-throw-undeclaredthrowableexception/45719404#45719404", "title": "Kotlin EJB with Java Interface throw UndeclaredThrowableException", "body": "<p>I don't see any remote method invocation nor any serialization, which are common causes of this type of problem, but could it be a class-loader issue? That the class when instantiated by the Kotlin code is loaded from a different classloader, than the class as checked by JBoss, and that therefore it's seen as an unrecognized throwable?</p>\n\n<p>I'm not sure how to check. Classloader policy in the EJB container perhaps - parent-first vs parent-last?</p>\n\n<p>What is the behaviour if you replace the Kotlin code with a Java version that will always just throw that exception from the private validate() method, just to see if that makes a difference?</p>\n\n<p>What JDK version, what Kotlin version, and what JBoss version do you use?</p>\n"}], "owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 472, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502963153, "creation_date": 1502864789, "last_edit_date": 1502963153, "question_id": 45706437, "link": "https://stackoverflow.com/questions/45706437/kotlin-ejb-with-java-interface-throw-undeclaredthrowableexception", "title": "Kotlin EJB with Java Interface throw UndeclaredThrowableException", "body": "<p><strong>Java interface:</strong></p>\n\n<pre><code>public interface IUserSettingManager {\n\n        UserSettingApi updateSetting(Long userId, UserSetting userSettingNew) throws FailUpdateUserSettingException;\n    }\n</code></pre>\n\n<p><strong>Kotlin ejb:</strong></p>\n\n<pre><code>@Stateless\n\n@Local(IUserSettingManager::class)\n\nopen class UserSettingManager : DataManager(), IUserSettingManager {\n\n    private companion object {\n        private val LOG = LoggerFactory.getLogger(UserSettingManager::class.java)\n    }\n\n        @Throws(FailUpdateUserSettingException::class)\n        private fun validate(userSetting: UserSetting) {\n            if (userSetting.avatar?.length ?: 0 &gt; DBConstant.UUID_VARCHAR_SIZE) {\n                throw FailUpdateUserSettingException(\"avatar length\")\n            }\n        }\n\n        @Throws(FailUpdateUserSettingException::class)\n        override fun updateSetting(userId: Long, userSettingNew: UserSetting): UserSettingApi {\n            val logger = LOG.silentEnter(\"updateSetting\")\n\n            try {\n                validate(userSettingNew)\n\n                .....\n\n            } catch (ex: Exception) {\n                val msg = \"userId:$userId, user setting:$userSettingNew\"\n\n                when (ex) {\n                    is FailUpdateUserSettingException -&gt; {\n                        logger.debug(\"$msg, ex:$ex\")\n                        throw ex\n                    }\n                    else -&gt; {\n                        logger.error(msg, ex)\n                        throw FailUpdateUserSettingException(ex.toString())\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p><strong>Java class with Exception:</strong></p>\n\n<p>public class FailUpdateUserSettingException extends Exception {</p>\n\n<pre><code>        public FailUpdateUserSettingException() {\nthis(error);\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>When try call ejb with incorrect data, get exception UndeclaredThrowableException, and as result transaction rolled</strong></p>\n\n<pre><code>Caused by: java.lang.reflect.UndeclaredThrowableException\n    at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:34)\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)\n    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)\n    at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)\n    at org.jboss.as.ejb3.component.interceptors.NonPooledEJBComponentInstanceAssociatingInterceptor.processInvocation(NonPooledEJBComponentInstanceAssociatingInterceptor.java:59) [wildfly-ejb3-10.0.0.Final.jar:10.0.0.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:254) [wildfly-ejb3-10.0.0.Final.jar:10.0.0.Final]\n    ... 137 more\nCaused by: com.pay.utils.shared.exception.user.FailUpdateUserSettingException: Fail update user setting. avatar length\n    at com.pay.manager.UserSettingManager.validate(UserSettingManager.kt:xx)\n    at com.pay.manager.UserSettingManager.updateSetting(UserSettingManager.kt:xx)\n    at com.pay.manager.UserSettingManager.updateSetting(UserSettingManager.kt:xx)\n\n\n.....\n</code></pre>\n\n<p><strong>result</strong></p>\n\n<p>javax.ejb.EJBTransactionRolledbackException</p>\n"}, {"tags": ["android", "gridview", "out-of-memory", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502862766, "post_id": 45703751, "comment_id": 78369970, "body": "What is the sizes of images you are loading in imageView?"}, {"owner": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502863530, "post_id": 45703751, "comment_id": 78370266, "body": "The largest is almost 2MB with a majority being less than 1MB...also when I load many smaller images say above 15 in total, i get the same error"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502865531, "post_id": 45703751, "comment_id": 78371180, "body": "Try using Glide lib <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">github.com/bumptech/glide</a>. It is really easy to implement along with Bitmap caching and pooling and can handle your use case easily."}, {"owner": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502865867, "post_id": 45703751, "comment_id": 78371373, "body": "Ok..will definately give a try.."}], "answers": [{"comments": [{"owner": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "edited": false, "score": 0, "creation_date": 1502853961, "post_id": 45704233, "comment_id": 78367403, "body": "I am getting a <code>java.lang.OutOfMemoryError</code> error on the closing curly brace of the else statement.."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "edited": false, "score": 0, "creation_date": 1502854822, "post_id": 45704233, "comment_id": 78367570, "body": "This should be another issue. Do you have a full stack trace about it? You may update the question about this new issue."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "edited": false, "score": 0, "creation_date": 1502855856, "post_id": 45704233, "comment_id": 78367805, "body": "It your image resource is too large, you may refer to <a href=\"https://stackoverflow.com/questions/20817369/outofmemory-error-using-imageview\">this</a> or find some way to get a resized bitmap before passing it to <code>ImageView</code>."}, {"owner": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "edited": false, "score": 0, "creation_date": 1502857759, "post_id": 45704233, "comment_id": 78368333, "body": "I think the problem was the images. When I run the app in the emulator it works maybe because the computer has no restrictions on RAM unlike the phone...What I have done is use smaller images which occupy less memory and it has worked...I want to make my own version of the gallery app, and this means that the images (no matter how large they are), are hosted in the phones file manager and not drawable folder. Do you think am likely to face the memory issue if i fetch the images from the phone?"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "edited": false, "score": 0, "creation_date": 1502859574, "post_id": 45704233, "comment_id": 78368881, "body": "It can be easy to encounter memory issue when you are dealing with image in Android. To prevent this, you have to <a href=\"https://developer.android.com/topic/performance/graphics/load-bitmap.html\" rel=\"nofollow noreferrer\">scale down</a> the image before displaying it. You may also see some suggestions <a href=\"https://stackoverflow.com/questions/477572/strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object\">here</a>."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "edited": false, "score": 0, "creation_date": 1502859914, "post_id": 45704233, "comment_id": 78368965, "body": "You may take a look at <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> also."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502866179, "post_id": 45704233, "comment_id": 78371553, "body": "@BakaWaii consider editing your question, as it is not helpful for this question. mention about memory issue there also. Any visitor is less likely to check comments."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502868291, "post_id": 45704233, "comment_id": 78372831, "body": "@chandil03 Thanks for the suggestion. I&#39;ve updated my answer."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 4, "last_activity_date": 1503929844, "last_edit_date": 1503929844, "creation_date": 1502850781, "answer_id": 45704233, "question_id": 45703751, "link": "https://stackoverflow.com/questions/45703751/how-to-set-layout-params-on-an-imageview-inside-gridview-in-android/45704233#45704233", "title": "How to set layout params on an imageView inside GridView in Android", "body": "<p>You can try with this:</p>\n\n<pre><code>imageView.layoutParams = AbsListView.LayoutParams(85, 85)\n</code></pre>\n\n<p><code>AbsListView.LayoutParams</code> is used in <code>GridView</code> when retrieving childs' <code>LayoutParams</code>.</p>\n\n<p>Since static member can be inherited by subclass <a href=\"https://stackoverflow.com/questions/10291949/are-static-methods-inherited-in-java\">in Java</a>. When you call <code>GridView.LayoutParams</code>, it is actually <code>AbsListView.LayoutParams</code>. However, in Kotlin, you cannot do it the same way. Outside of the subclass, you can only reference the members of the companion object of the super class using the name of super class.</p>\n\n<h2>Updates for Subsequent question:</h2>\n\n<p>The <code>OutOfMemory</code> error indicates that you are loading large image to <code>ImageView</code>. To prevent this, you have to scale down the image before displaying it, referring to this <a href=\"https://developer.android.com/topic/performance/graphics/load-bitmap.html\" rel=\"nofollow noreferrer\">tutorial</a>. You may also use some image loading framework, such as <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a>, to display your image.</p>\n\n<p>Suggested reading: <a href=\"https://stackoverflow.com/questions/477572/strange-out-of-memory-issue-while-loading-an-image-to-a-bitmap-object\">Strange out of memory issue while loading an image to a Bitmap object</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7433998, "user_type": "registered", "profile_image": "https://graph.facebook.com/1198020783647604/picture?type=large", "display_name": "MohanRaj Dhakshinamoorthy", "link": "https://stackoverflow.com/users/7433998/mohanraj-dhakshinamoorthy"}, "is_accepted": false, "score": 0, "last_activity_date": 1502866507, "creation_date": 1502866507, "answer_id": 45706913, "question_id": 45703751, "link": "https://stackoverflow.com/questions/45703751/how-to-set-layout-params-on-an-imageview-inside-gridview-in-android/45706913#45706913", "title": "How to set layout params on an imageView inside GridView in Android", "body": "<p>Don't set the layout params as u did </p>\n\n<p>the correct way is \nimageParams=(GridView.LayoutParams) imageView.getLayoutParams();</p>\n\n<p>in above line \"GridView\" should be replaced with parent View of your imageView</p>\n\n<p>Happy coding.. :)</p>\n"}], "owner": {"reputation": 170, "user_id": 7087267, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/808328765937226/picture?type=large", "display_name": "Sean", "link": "https://stackoverflow.com/users/7087267/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1537, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1503929844, "creation_date": 1502846700, "last_edit_date": 1502871408, "question_id": 45703751, "link": "https://stackoverflow.com/questions/45703751/how-to-set-layout-params-on-an-imageview-inside-gridview-in-android", "title": "How to set layout params on an imageView inside GridView in Android", "body": "<p>I am new to android and I met this tutorial at <a href=\"https://developer.android.com/guide/topics/ui/layout/gridview.html\" rel=\"nofollow noreferrer\">the official android site</a> on how to create a <code>GridView</code> of images. I am using kotlin as the language of choice. In the adapter class which extends <code>BaseAdapter</code>, I am trying to set the imageview layoutparams as indicated in the tutorial, but I get an error saying <code>GridView.LayoutParams</code> is unresolved reference. Here is the complete code for the class:</p>\n\n<pre><code>class ImageAdapter(val context: Context) : BaseAdapter() {\n    // references to our images\n    val items: IntArray = intArrayOf(R.drawable.cat, R.drawable.daft_punk, R.drawable.gun, R.drawable.harvestors, R.drawable.intel, R.drawable.maserati, R.drawable.porsche, R.drawable.serveroom, R.drawable.spiderman, R.drawable.watch_dog)\n    override fun getItem(p0: Int): Any {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun getItemId(p0: Int): Long {\n        return 0\n    }\n\n    override fun getCount(): Int {\n        return items.size\n    }\n\n    // create a new ImageView for each item referenced by the Adapter\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        var imageView: ImageView\n        if (p1 == null) {\n      // if it's not recycled, initialize some attributes\n            imageView= ImageView(context)\n            imageView.layoutParams= GridView.LayoutParams(85,85)\n            imageView.scaleType = ImageView.ScaleType.CENTER_CROP\n            imageView.setPadding(8, 8, 8, 8)\n        } else {\n            imageView=p1 as ImageView\n        }\n        imageView.setImageResource(items[p0])\n        return imageView\n    }\n\n}\n</code></pre>\n\n<p>The error is in the <code>getView</code> method at the line <code>imageView.layoutParams=GridView.LayoutParams(85,85)</code>. The <code>LayoutParams</code> is in red which means error, and when I hover on it, I get the message:</p>\n\n<blockquote>\n  <p>Unresolved reference: LayoutParams</p>\n</blockquote>\n\n<p>How do I successfully set these <code>LayoutParams</code>? Because without them images in the <code>GridView</code> are displaying in their full height and I need a small image the same way the gallery app displays them in our phones.</p>\n\n<h2>Subsequent question:</h2>\n\n<p>When I replace the <code>imageView.layoutParams=GridView.LayoutParams(85,85)</code> with <code>imageView.layoutParams=AbsListView.LayoutParams(85,85)</code>, I get a javaOutOfMemory error.\nThe following is the full stack trace:</p>\n\n<pre><code>08-16 06:58:11.412 4543-4543/gallerie.classmite.com.imageviewer E/dalvikvm-heap: Out of memory on a 18662416-byte allocation.\n08-16 06:58:11.431 4543-4543/gallerie.classmite.com.imageviewer E/AndroidRuntime: FATAL EXCEPTION: main\n\nProcess: gallerie.classmite.com.imageviewer, PID: 4543                                                                                  java.lang.OutOfMemoryError                                                                                                                                          \nat android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)                                                                                      \nat android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:609                                                                                      \nat android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:444)                                                                                     \nat android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:840)                                                                                     \nat android.content.res.Resources.loadDrawable(Resources.java:2166)                                                                                     \nat android.content.res.Resources.getDrawable(Resources.java:710)                                                                                      \nat android.widget.ImageView.resolveUri(ImageView.java:638)                                                                                      \nat android.widget.ImageView.setImageResource(ImageView.java:367)                                                                                     \nat gallerie.classmite.com.imageviewer.ImageAdapter.getView(ImageAdapter.kt:32)                                                                                       \nat android.widget.AbsListView.obtainView(AbsListView.java:2372)                                                                                      \nat android.widget.GridView.makeAndAddView(GridView.java:1345)                                                                                      \nat android.widget.GridView.makeRow(GridView.java:345)                                                                                     \nat android.widget.GridView.fillDown(GridView.java:287)                                                                                      \nat android.widget.GridView.fillFromTop(GridView.java:421)                                                                                      \nat android.widget.GridView.layoutChildren(GridView.java:1233)                                                                                      \nat android.widget.AbsListView.onLayout(AbsListView.java:2166)                                                                                      \nat android.view.View.layout(View.java:15127)                                                                                      \nat android.view.ViewGroup.layout(ViewGroup.java:4862)\nat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1888)                                                                                      \nat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1742)                                                                                     \nat android.widget.LinearLayout.onLayout(LinearLayout.java:1651)                                                                                     \nat android.view.View.layout(View.java:15127)                                                                                      \nat android.view.ViewGroup.layout(ViewGroup.java:4862)                                                                                     \nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:515)                                                                                      \nat android.widget.FrameLayout.onLayout(FrameLayout.java:450)                                                                                      \nat android.view.View.layout(View.java:15127)                                                                                      \nat android.view.ViewGroup.layout(ViewGroup.java:4862)                                                                                      \nat com.android.internal.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:374)                                                                                      \nat android.view.View.layout(View.java:15127)                                                                                      \nat android.view.ViewGroup.layout(ViewGroup.java:4862)                                                                                     \nat android.widget.FrameLayout.layoutChildren(FrameLayout.java:515)                                                                                      \nat android.widget.FrameLayout.onLayout(FrameLayout.java:450)                                                                                     \nat android.view.View.layout(View.java:15127)                                                                                     \nat android.view.ViewGroup.layout(ViewGroup.java:4862)                                                                                     \nat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2315)                                                                                     \nat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2021)                                                                                     \nat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1189)                                                                                     \nat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6221)                                                                                     \nat android.view.Choreographer$CallbackRecord.run(Choreographer.java:788)                                                                                      \nat android.view.Choreographer.doCallbacks(Choreographer.java:591)                                                                                     \nat android.view.Choreographer.doFrame(Choreographer.java:560)                                                                                     \nat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:774)                                                                                     \nat android.os.Handler.handleCallback(Handler.java:808)                                                                                      \nat android.os.Handler.dispatchMessage(Handler.java:103)                                                                                      \nat android.os.Looper.loop(Looper.java:193)                                                                                      \nat android.app.ActivityThread.main(ActivityThread.java:5315)                                                                                      \nat java.lang.reflect.Method.invokeNative(Native Method)                                                                                     \nat java.lang.reflect.Method.invoke(Method.java:515)                                                                                   \nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:829)                                                                                    \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:645)                                                                                     \nat dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>The error only occurs when I run the app in my phone, but when I run the app in the emulator, it works flawlessly after I made the replacement above.</p>\n"}, {"tags": ["android", "kotlin", "postman", "okhttp3"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502836395, "post_id": 45702466, "comment_id": 78363395, "body": "That URL redirects with a 301. Try adding a slash on the end (<code>https:&#47;&#47;fantasy.premierleague.com&#47;drf&#47;elements&#47;</code>) to get to the redirected URL. OkHttp is supposed to follow redirects automatically, so this may not help. But, testing with <code>curl</code> (which does not follow redirects), I get the same results as you do with OkHttp using your original URL, and I get the JSON response if I add the <code>&#47;</code> at the end."}, {"owner": {"reputation": 516, "user_id": 2340813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EbSuk.png?s=128&g=1", "display_name": "MikeOscarEcho", "link": "https://stackoverflow.com/users/2340813/mikeoscarecho"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502840949, "post_id": 45702466, "comment_id": 78364517, "body": "@CommonsWare Ok, just tried adding <code>&#47;</code> to the end but still no luck. I tried the url with <code>curl</code> as well and it does return the response. I&#39;m not sure why this isn&#39;t working using Okhttp3."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1502841213, "post_id": 45702466, "comment_id": 78364574, "body": "The only other thing that I can think of is that perhaps OkHttp does not normalize HTTP header capitalization, and perhaps the server isn&#39;t liking your all-lowercase header names."}, {"owner": {"reputation": 516, "user_id": 2340813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EbSuk.png?s=128&g=1", "display_name": "MikeOscarEcho", "link": "https://stackoverflow.com/users/2340813/mikeoscarecho"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1502843154, "post_id": 45702466, "comment_id": 78365031, "body": "@CommonsWare See my edit, I just made the same request using the old fashioned way of using an <code>AsyncTask</code>, <code>HttpsURLConnection</code>, and <code>InputStreamReader</code> and I got the full JSON back. Really odd that <code>Okhttp3</code> isn&#39;t working."}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1502844872, "post_id": 45702466, "comment_id": 78365344, "body": "Might be worth putting together a reproducible test case and post it as an issue. If HURL can handle it, OkHttp should."}, {"owner": {"reputation": 429, "user_id": 7564563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e33fda5582c0a084d5c59424c8ff42d?s=128&d=identicon&r=PG&f=1", "display_name": "Bill O&#39;Neil", "link": "https://stackoverflow.com/users/7564563/bill-oneil"}, "edited": false, "score": 1, "creation_date": 1502850759, "post_id": 45702466, "comment_id": 78366735, "body": "A way to help debug this is to add a NetworkInterceptor that logs the HTTP requests so you can dive into what is actually happening. Here is a runnable example configuring <a href=\"https://www.stubbornjava.com/posts/okhttpclient-logging-configuration-with-interceptors#okhttp-interceptors\" rel=\"nofollow noreferrer\">OkHttpClient logging interceptor</a>  This will give you much better debug logging as well as all the network hops between the first request and the final response. You can probably use Timber logging instead of SLF4J"}], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 2340813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EbSuk.png?s=128&g=1", "display_name": "MikeOscarEcho", "link": "https://stackoverflow.com/users/2340813/mikeoscarecho"}, "edited": false, "score": 0, "creation_date": 1502936693, "post_id": 45705519, "comment_id": 78408868, "body": "Yea, that was it! Do you happen to know why those are required? Wouldn&#39;t mind learning a bit more. Thanks for the help."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 516, "user_id": 2340813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EbSuk.png?s=128&g=1", "display_name": "MikeOscarEcho", "link": "https://stackoverflow.com/users/2340813/mikeoscarecho"}, "edited": false, "score": 1, "creation_date": 1502940670, "post_id": 45705519, "comment_id": 78409792, "body": "@MikeOscarEcho upto the server; perhaps it wants to set a cookie."}], "tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": true, "score": 3, "last_activity_date": 1502861776, "last_edit_date": 1502861776, "creation_date": 1502860324, "answer_id": 45705519, "question_id": 45702466, "link": "https://stackoverflow.com/questions/45702466/okhttp3-request-returning-empty-response-as-well-as-different-headers-than-postm/45705519#45705519", "title": "Okhttp3 request returning empty response as well as different headers than Postman", "body": "<p>Your problem is <code>User-Agent</code> header. Here is a working example:</p>\n\n<pre><code>fun syncGetOkHttp() {\n    println(\"\\n===\")\n    println(\"OkHttp\")\n    println(\"===\")\n    val client = OkHttpClient().newBuilder()\n            .addNetworkInterceptor { chain -&gt;\n                val (request, response) = chain.request().let {\n                    Pair(it, chain.proceed(it))\n                }\n\n                println(\"--&gt; ${RequestLine.get(request, Proxy.Type.HTTP)})\")\n                println(\"Headers: (${request.headers().size()})\")\n                request.headers().toMultimap().forEach { k, v -&gt; println(\"$k : $v\") }\n\n                println(\"&lt;-- ${response.code()} (${request.url()})\")\n\n                val body = if (response.body() != null)\n                    GZIPInputStream(response.body()!!.byteStream()).use {\n                        it.readBytes(50000)\n                    } else null\n\n                println(\"Response: ${StatusLine.get(response)}\")\n                println(\"Length: (${body?.size ?: 0})\")\n\n                println(\"\"\"Body: ${if (body != null &amp;&amp; body.isNotEmpty()) String(body) else \"(empty)\"}\"\"\")\n                println(\"Headers: (${response.headers().size()})\")\n                response.headers().toMultimap().forEach { k, v -&gt; println(\"$k : $v\") }\n\n                response\n            }\n            .build()\n\n    Request.Builder()\n            .url(url)\n            .header(\"Accept\", \"application/json\")\n            .header(\"User-Agent\", \"Mozilla/5.0\")\n            .build()\n            .let { client.newCall(it).execute() }\n}\n</code></pre>\n"}], "owner": {"reputation": 516, "user_id": 2340813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/EbSuk.png?s=128&g=1", "display_name": "MikeOscarEcho", "link": "https://stackoverflow.com/users/2340813/mikeoscarecho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "accepted_answer_id": 45705519, "answer_count": 1, "score": 1, "last_activity_date": 1502861776, "creation_date": 1502835841, "last_edit_date": 1502843302, "question_id": 45702466, "link": "https://stackoverflow.com/questions/45702466/okhttp3-request-returning-empty-response-as-well-as-different-headers-than-postm", "title": "Okhttp3 request returning empty response as well as different headers than Postman", "body": "<p>I'm trying to parse the JSON from this URL, <a href=\"https://fantasy.premierleague.com/drf/elements\" rel=\"nofollow noreferrer\">https://fantasy.premierleague.com/drf/elements</a> but the response I get from okhttp and Postman are different. I've also used online API testers and I get a response back with the full JSON there as well. I'm not sure why my code isn't working.</p>\n\n<p>Can anyone help me figure this out?</p>\n\n<p>Here's the code I'm using for quick testing.</p>\n\n<pre><code>    val request = Request.Builder()\n            .url(\"https://fantasy.premierleague.com/drf/elements\")\n            .get()\n            .addHeader(\"accept\", \"*/*\")\n            .addHeader(\"accept-encoding\", \"gzip, deflate\")\n            .addHeader(\"cache-control\", \"no-cache\")\n            .addHeader(\"connection\", \"keep-alive\")\n            .cacheControl(CacheControl.FORCE_NETWORK)\n            .build()\n\n    val httpClient = OkHttpClient()\n    httpClient.newCall(request).enqueue(object : okhttp3.Callback {\n        override fun onFailure(call: okhttp3.Call?, e: IOException?) {\n            Timber.d(\"FPL response failed = \" + e?.message.toString())\n        }\n\n        override fun onResponse(call: okhttp3.Call?, response: okhttp3.Response?) {\n            if (response!!.isSuccessful) {\n\n                val responseBody = response.body()?.string()\n                try {\n                    val obj = JSONObject(responseBody)\n                    Timber.d(\"FPL response = \" + obj.toString())\n                } catch (t: Throwable) {\n                    Timber.e(\"Could not parse malformed JSON: \" + t.message)\n                }\n\n                Timber.d(\"FPL response = $response\")\n                Timber.d(\"FPL headers = \" + response.headers())\n                Timber.d(\"FPL body = \" + responseBody)\n            } else {\n                Timber.d(\"FPL response failed = \" + response.body().toString())\n            }\n        }\n    })\n</code></pre>\n\n<p>I tried replicating Postman's code snippet headers which are:</p>\n\n<pre><code>Request request = new Request.Builder()\n  .url(\"https://fantasy.premierleague.com/drf/elements\")\n  .get()\n  .addHeader(\"cache-control\", \"no-cache\")\n  .addHeader(\"postman-token\", \"05ae03ef-cf44-618c-a82c-5762e245b771\")\n  .build();\n</code></pre>\n\n<p>but sadly no luck there either.</p>\n\n<p>Log:</p>\n\n<pre><code>D/HomeController$onAttach:L135: FPL response = Response{protocol=http/1.1, code=200, message=OK, url=https://fantasy.premierleague.com/drf/elements}\n\nD/HomeController$onAttach:L138: FPL headers = \nServer: Varnish\nRetry-After: 0\nContent-Type: application/json\nContent-Length: 0\nAccept-Ranges: bytes\nDate: Tue, 15 Aug 2017 22:17:18 GMT\nVia: 1.1 varnish\nConnection: close\nX-Served-By: cache-jfk8123-JFK\nX-Cache: MISS\nX-Cache-Hits: 0\nX-Timer: S1502835438.419014,VS0,VE0\n\nD/HomeController$onAttach:L139: FPL body = \n</code></pre>\n\n<p>As you can see, the body is empty and \"Connection\" is close.</p>\n\n<p>Here's the response headers that Postman gets, much different.</p>\n\n<pre><code>Accept-Ranges \u2192bytes\nAge \u219214\nAllow \u2192GET, HEAD, OPTIONS\nCache-Control \u2192no-cache, no-store, must-revalidate, max-age=0\nConnection \u2192keep-alive\nContent-Encoding \u2192gzip\nContent-Language \u2192plfplen\nContent-Length \u219239518\nContent-Type \u2192application/json\nDate \u2192Tue, 15 Aug 2017 00:54:32 GMT\nEdge-Control \u2192max-age=60\nFastly-Debug-Digest \u2192fdb44d2dd7c0b26c639a8b3476f8c63661c68707cc3b9446f8ed3941cd3fe01e\nServer \u2192nginx\nVary \u2192Accept-Encoding\nVia \u21921.1 varnish\nVia \u21921.1 varnish\nX-Cache \u2192HIT, MISS\nX-Cache-Hits \u21921, 0\nX-Frame-Options \u2192DENY\nX-Served-By \u2192cache-lcy1146-LCY, cache-jfk8143-JFK\nX-Timer \u2192S1502758472.116470,VS0,VE82\n</code></pre>\n\n<p>as you can see, \"Connection\" says keep alive.</p>\n\n<p>Is there something I'm missing in my Request.Builder() to get this to work?</p>\n\n<p>EDIT:</p>\n\n<p>So, I decided to try making the request using an <code>AsyncTask</code>, and got the full JSON back as you can see in the log under. I don't understand why <code>Okhttp3</code> isn't working.</p>\n\n<pre><code>            val url = params[0]\n            var stream: InputStream? = null\n            var connection: HttpsURLConnection? = null\n            var result: String? = null\n            try {\n                connection = url?.openConnection() as HttpsURLConnection?\n                // Timeout for reading InputStream arbitrarily set to 3000ms.\n                connection?.readTimeout = 3000\n                // Timeout for connection.connect() arbitrarily set to 3000ms.\n                connection?.connectTimeout = 3000\n                // For this use case, set HTTP method to GET.\n                connection?.requestMethod = \"GET\"\n                // Already true by default but setting just in case; needs to be true since this request\n                // is carrying an input (response) body.\n                connection?.doInput = true\n                // Open communications link (network traffic occurs here).\n                connection?.connect()\n\n                val responseCode = connection?.responseCode\n\n                if (responseCode != HttpsURLConnection.HTTP_OK) {\n                    throw IOException(\"HTTP error code: \" + responseCode)\n                }\n                // Retrieve the response body as an InputStream.\n                stream = connection?.inputStream\n\n                Timber.d(\"httpurl stream = \" + connection?.inputStream.toString())\n\n                if (stream != null) {\n                    // Converts Stream to String with max length of 500.\n                result = readStream(stream, 500)\n                }\n            } finally {\n                // Close Stream and disconnect HTTPS connection.\n                if (stream != null) {\n                    stream.close()\n                }\n                if (connection != null) {\n                    connection.disconnect()\n                }\n            }\n\n            return result\n</code></pre>\n\n<p>Log: </p>\n\n<pre><code> D/HomeController$NetworkA:L266: httpurl response = [{\"id\":1,\"photo\":\"48844.jpg\",\"web_name\":\"Ospina\",\"team_code\":3,\"status\":\"a\",\"code\":48844,\"first_name\":\"David\",\"second_name\":\"Ospina\",\"squad_number\":13,\"news\":\"\",\"now_cost\":50, .... }]\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "android-studio-3.0"], "owner": {"reputation": 5972, "user_id": 261363, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9965204e5fcfc7437ad7c7a1039df909?s=128&d=identicon&r=PG", "display_name": "Calin", "link": "https://stackoverflow.com/users/261363/calin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 225, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1502857783, "creation_date": 1502831471, "last_edit_date": 1502857783, "question_id": 45701610, "link": "https://stackoverflow.com/questions/45701610/android-studio-3-beta-2-classnotfound-in-kotlin-unit-tests", "title": "Android Studio 3 beta 2 ClassNotFound in kotlin unit tests", "body": "<p>I am using Android Studio 3.0 beta 2, converted an existing project to gradle plugin 3.0.0-beta2</p>\n\n<p>When I try to run an existing unit test written in kotlin I get 'java.lang.NoClassDefFoundError: com/other/domain/CollectionItem'</p>\n\n<p>The test itself is very simple:</p>\n\n<pre><code>import org.junit.Test\n\nimport org.junit.Assert.*\n\nclass CollectionViewModelTest {\n    @Test\n    fun getItemsWithManyItemsWillReturnCollectionItemViewModels() {\n        val collectionItems = listOf(CollectionItem(42, \"Item1\", CollectionItemType.COLLECTION, \"\"), CollectionItem(43, \"Item2\", CollectionItemType.COLLECTION, \"\"), CollectionItem(44, \"Item3\", CollectionItemType.COLLECTION, \"\"))\n        val collection = Collection(45, \"Home\", \"Home collection\", collectionItems, 42)\n        val collectionViewModel = CollectionViewModel(collection)\n\n        assertTrue(collectionViewModel.items.first().isFirst)\n        assertFalse(collectionViewModel.items.first().isLast)\n\n        assertFalse(collectionViewModel.items[1].isFirst)\n        assertFalse(collectionViewModel.items[1].isLast)\n\n        assertTrue(collectionViewModel.items.last().isLast)\n        assertFalse(collectionViewModel.items.last().isFirst)\n    }\n}\n</code></pre>\n\n<p>It works when I run it from the terminal using ./gradlew</p>\n\n<p>Any ideas why this can happen?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>This seems to happen only when the test requires classes from other library projects.</p>\n\n<p>In this case <code>CollectionItem</code> is part of another library in the same project and it's included in the gradle file via implementation project(':domain')</p>\n\n<p><strong>Edit</strong></p>\n\n<p>It might also be worth mentioning that <code>domain</code> module is pure java</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Figured out the problem is when the library (<code>domain</code>) has classes written in kotlin, those classes will throw NoClassDefFoundError in unit test's only.</p>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1502831991, "post_id": 45701175, "comment_id": 78361761, "body": "What do you mean by &quot;Combine a <code>List</code> of <code>FontRegionTransformer</code>s to a single function&quot;? Could you please specify what your expected input and output is?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1502832483, "post_id": 45701175, "comment_id": 78361963, "body": "I edited my question."}], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1502834602, "post_id": 45702187, "comment_id": 78362830, "body": "So I can&#39;t compose them without adding a <code>compose</code> function? Can&#39;t I use <code>reduce</code> or some other mapping function to achieve this?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1502834797, "post_id": 45702187, "comment_id": 78362911, "body": "@AdamArold, since it is a custom interface, you need a custom function to operate with its instances. :) A library function would not know what to do with <code>textCharacter</code> anyway. Even for the built-in function types like <code>(T) -&gt; R</code>, there&#39;s no built-in composition in <code>kotlin-stdlib</code>, but one can use a third-party functional programming libraries like <a href=\"https://github.com/MarioAriasC/funKTionale\" rel=\"nofollow noreferrer\">funKTionale</a>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1502834868, "post_id": 45702187, "comment_id": 78362935, "body": "And by the way, with the custom <code>compose</code> function, <code>reduce</code> is exactly what you do next. :)"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1502835556, "post_id": 45702187, "comment_id": 78363129, "body": "@AdamArold, I&#39;ve added a one-statement solution if you don&#39;t like a separate <code>compose</code> function, though IMHO it is less readable."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1502837749, "last_edit_date": 1502837749, "creation_date": 1502834342, "answer_id": 45702187, "question_id": 45701175, "link": "https://stackoverflow.com/questions/45701175/how-to-compose-functions-with-compatible-parmeter-result-types-in-kotlin/45702187#45702187", "title": "How to compose functions with compatible parmeter / result types in Kotlin?", "body": "<p>For the composition definition, it is not quite clear, when the composed transformer is called, what <code>textCharacter</code> the second <code>FontRegionTransformer&lt;R&gt;</code> should get. Here, I assume that it is the same <code>textCharacter</code> that is passed into the call, and which is naturally passed to the first transformer.</p>\n\n<p>You can implement the custom composition operation as an extension for <code>FontRegionTransformer&lt;R&gt;</code>:</p>\n\n<pre><code>fun &lt;R&gt; FontRegionTransformer&lt;R&gt;.compose(other: FontRegionTransformer&lt;R&gt;) =\n    object : FontRegionTransformer&lt;R&gt; {\n        override fun transform(region: R, textCharacter: TextCharacter): R {\n            val firstResult = this@compose.transform(region, textCharacter)\n            return other.transform(firstResult, textCharacter)\n        }\n    }\n</code></pre>\n\n<p><sup>You can add the <a href=\"https://kotlinlang.org/docs/reference/functions.html#infix-notation\" rel=\"nofollow noreferrer\"><code>infix</code> modifier</a> to <code>compose</code> to use the infix notation <code>a compose b</code>, or make it <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#operator-overloading\" rel=\"nofollow noreferrer\">overload an operator <code>+</code> or <code>*</code></a>, if you like to call it as <code>a * b</code>. Or use a non-extension top-level function for <code>compose(a, b)</code> calls.</sup></p>\n\n<p>Then you can compose two <code>FontRegionTransformer</code>s:</p>\n\n<pre><code>val composed = first.compose(second)\n</code></pre>\n\n<p>And to compose a list of transformers into one, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce.html\" rel=\"nofollow noreferrer\"><code>reduce</code></a>:</p>\n\n<pre><code>val transformers: List&lt;FontRegionTransformer&lt;SomeType&gt;&gt; = TODO()\n\nval composition = transformers.reduce { a, b -&gt; a.compose(b) }\n</code></pre>\n\n<p>For <code>FontRegionTransformer&lt;R&gt;</code> to be monoid, the composition operation should be associative (<code>a \u2218 (b \u2218 c)</code> should be equivalent to <code>(a \u2218 b) \u2218 c</code> for all <code>a</code>, <code>b</code> and <code>c</code>) and the above implementation seems to satisfy this requirement. But, strictly speaking, it should also have a neutral element, such <code>n</code> that <code>a \u2218 n = n \u2218 a = a</code> for any <code>a</code>. These two requirements cannot be expressed in terms of the Kotlin type system and should instead be a part of the contract.</p>\n\n<hr>\n\n<p>A one-statement solution is, inlining <code>compose</code> into the <code>reduce</code> call:</p>\n\n<pre><code>val composition = transformers.reduce { a, b -&gt;\n    object : FontRegionTransformer&lt;SomeType&gt; {\n        override fun transform(region: SomeType, textCharacter: TextCharacter) =\n            a.transform(region, textCharacter).let { b.transform(it, textCharacter) }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 1, "accepted_answer_id": 45702187, "answer_count": 1, "score": 1, "last_activity_date": 1502837749, "creation_date": 1502829538, "last_edit_date": 1502832476, "question_id": 45701175, "link": "https://stackoverflow.com/questions/45701175/how-to-compose-functions-with-compatible-parmeter-result-types-in-kotlin", "title": "How to compose functions with compatible parmeter / result types in Kotlin?", "body": "<p>I have an <code>interface</code> which looks like this:</p>\n\n<pre><code>interface FontRegionTransformer&lt;R&gt; {\n\n    fun transform(region: R, textCharacter: TextCharacter): R\n}\n</code></pre>\n\n<p>I'm not an expert in category theory but <a href=\"http://rea.tech/how-we-used-category-theory-to-solve-a-problem-in-java/\" rel=\"nofollow noreferrer\">as I have learned previously</a> this structure is a monoid <em>(is it?)</em> and I can combine any number of functions which take <code>R</code> and return <code>R</code> together.</p>\n\n<p>This is what I have right now:</p>\n\n<pre><code>var image = source.getSubimage(meta.x * width, meta.y * height, width, height)\nregionTransformers.forEach {\n    image = it.transform(image, textCharacter)\n}\n</code></pre>\n\n<p>This works but I have a question: how do I combine a <code>List</code> of <code>FontRegionTransformer</code>s to a single function? Can I do it without adding a <code>compose</code> function to my interface? I tried it with <code>reduce</code> but it did not click.</p>\n\n<p><strong>Clarification:</strong> What I'd like to achieve is to combine the functions stored in <code>regionTransformers</code> into a single function so instead of the loop here:</p>\n\n<pre><code>var image = source.getSubimage(meta.x * width, meta.y * height, width, height)\nregionTransformers.forEach {\n    image = it.transform(image, textCharacter)\n}\n</code></pre>\n\n<p>I'd like to have something like this:</p>\n\n<pre><code>var image = source.getSubimage(meta.x * width, meta.y * height, width, height)\nreturn combinedTransformers.invoke(image)    \n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-annotations"], "answers": [{"comments": [{"owner": {"reputation": 1250, "user_id": 3808179, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1657904593/picture?type=large", "display_name": "kristyna", "link": "https://stackoverflow.com/users/3808179/kristyna"}, "edited": false, "score": 0, "creation_date": 1502898317, "post_id": 45706778, "comment_id": 78393926, "body": "Thank you, it&#39;s woking. Works for: @ViewById, @Bean, @Prefs, @StringRes, @RootContext... all non primitive objects. However I still think that my approach should work too: <code>Without lateinit you&#39;d have to declare a nullable type and add additional nullability checks.</code>"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 1250, "user_id": 3808179, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1657904593/picture?type=large", "display_name": "kristyna", "link": "https://stackoverflow.com/users/3808179/kristyna"}, "edited": false, "score": 0, "creation_date": 1502903309, "post_id": 45706778, "comment_id": 78396913, "body": "Yea, I think so at the beginning too. After some research, I found out a reasonable reason for that. I&#39;ve updated the answer about the reason."}, {"owner": {"reputation": 2284, "user_id": 1106598, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JlR3w.jpg?s=128&g=1", "display_name": "Gokhan Arik", "link": "https://stackoverflow.com/users/1106598/gokhan-arik"}, "edited": false, "score": 0, "creation_date": 1569811520, "post_id": 45706778, "comment_id": 102703966, "body": "<code>JVMField</code> is asking for final field."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 7, "last_activity_date": 1502908070, "last_edit_date": 1502908070, "creation_date": 1502866094, "answer_id": 45706778, "question_id": 45701157, "link": "https://stackoverflow.com/questions/45701157/androidannotations-viewbyid-cannot-be-used-on-a-private-element/45706778#45706778", "title": "AndroidAnnotations - ViewById cannot be used on a private element", "body": "<p>Try to use <code>lateinit</code>:</p>\n\n<pre><code>@ViewById\nlateinit var description: TextView\n</code></pre>\n\n<p>The reason of getting this error may because of the behavior of the backing field. It is invisible by default and the <code>field</code> identifier can only be used in the accessors of the property. That's why you got <code>@ViewById cannot be used on a private element</code>.</p>\n\n<p>The reason of why <code>lateinit</code> works is because it change the accessibility of the field. According to <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#instance-fields\" rel=\"noreferrer\">Kotlin doc</a>:</p>\n\n<blockquote>\n  <p>Late-Initialized properties are also exposed as fields. The visibility of the field will be the same as the visibility of lateinit property setter.</p>\n</blockquote>\n\n<p>So, <code>@JvmField</code> is another solution for this problem.</p>\n\n<pre><code>@ViewById\n@JvmField var helloTextView: TextView? = null\n</code></pre>\n\n<p>It also changes the visibility of the field as what the doc states:</p>\n\n<blockquote>\n  <p>If you need to expose a Kotlin property as a field in Java, you need to annotate it with the @JvmField annotation. The field will have the same visibility as the underlying property. You can annotate a property with @JvmField if it has a backing field, is not private, does not have open, override or const modifiers, and is not a delegated property.</p>\n</blockquote>\n\n<p>You may also refer to this <a href=\"https://github.com/androidannotations/androidannotations/tree/develop/examples/kotlin\" rel=\"noreferrer\">example</a> and <a href=\"https://kotlinlang.org/docs/tutorials/android-frameworks.html\" rel=\"noreferrer\">Kotlin docs</a> about Android frameworks using annotation processing.</p>\n"}], "owner": {"reputation": 1250, "user_id": 3808179, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1657904593/picture?type=large", "display_name": "kristyna", "link": "https://stackoverflow.com/users/3808179/kristyna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 960, "favorite_count": 0, "accepted_answer_id": 45706778, "answer_count": 1, "score": 3, "last_activity_date": 1502908070, "creation_date": 1502829478, "question_id": 45701157, "link": "https://stackoverflow.com/questions/45701157/androidannotations-viewbyid-cannot-be-used-on-a-private-element", "title": "AndroidAnnotations - ViewById cannot be used on a private element", "body": "<p><strong>AndroidAnnotations version:</strong> 4.3.1</p>\n\n<p><strong>Android compile SDK version:</strong> 26</p>\n\n<p><strong>Kotlin version:</strong> 1.1.3-2</p>\n\n<p>I am trying to build app using Kotlin and AndroidAnnotaions. The build ends with</p>\n\n<pre><code>Error:Execution failed for task ':app:kaptDebugKotlin'. &gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p>in <code>androidannotations.log</code> a is a ton of erros like</p>\n\n<pre><code>00:10:43.908 [RMI TCP Connection(91)-127.0.0.1] ERROR o.a.i.p.ModelValidator:77 - org.androidannotations.annotations.ViewById cannot be used on a private element\n</code></pre>\n\n<p>thats the usage of <code>@ViewById</code> annotation</p>\n\n<pre><code>@ViewById\nvar description: TextView? = null\n</code></pre>\n\n<p>The same also happens with Pref annotated vars.</p>\n\n<p>Is anybody else facing the same issue or it's just me?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502827636, "post_id": 45700672, "comment_id": 78359714, "body": "What is <code>.map{}</code> called on?"}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502827739, "post_id": 45700672, "comment_id": 78359760, "body": "A stream of MyClass objects"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502828077, "post_id": 45700672, "comment_id": 78359932, "body": "Does it has to be a JDK8 stream? Not <code>Sequence</code> or <code>Iterable</code>?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502828318, "post_id": 45700672, "comment_id": 78360060, "body": "This will not work with <code>.collect(</code>. You can remove it"}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1502829623, "post_id": 45700672, "comment_id": 78360686, "body": "If you want to limit execution to X threads, you should probably create your own Executor which uses X threads, then convert it to a CoroutineDispatcher using <code>Executor.asCoroutineDispatcher()</code> and use that instead of CommonPool. CommonPool is like a default Executor with good default values."}], "answers": [{"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1502828465, "post_id": 45700778, "comment_id": 78360142, "body": "Job.await doesn&#39;t seem to exist for me.  Dang, it was because I was casting to Job, and needed to be Deferred&lt;Double?&gt;"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1502828805, "post_id": 45700778, "comment_id": 78360303, "body": "There should&#39;t be a need to cast anything in this code. Yes it is <code>Deferred&lt;&gt;</code> :D"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 4, "last_activity_date": 1502828196, "last_edit_date": 1502828196, "creation_date": 1502827842, "answer_id": 45700778, "question_id": 45700672, "link": "https://stackoverflow.com/questions/45700672/kotlin-how-to-async-await-a-list-of-identical-methods/45700778#45700778", "title": "Kotlin: How to async await a list of identical methods?", "body": "<p>My take (sorry can't test it o my machine):</p>\n\n<pre><code>val results = streamOfInstances.asSeqence().map {\n    async(CommonPool) {\n        val errorRate: Double? = it?.calculate()\n        println(\"${it?.javaClass?.simpleName}  $errorRate\")\n        errorRate\n    }\n}\n\nrunBlocking {\n    results.forEach {\n        println(it.await())\n    }\n}  \n</code></pre>\n\n<p>Key difference from your code:</p>\n\n<ul>\n<li>I use <code>async</code> instead of <code>launch</code> since I am collecting the result</li>\n<li>The blocking operation (<code>join()</code> or <code>await()</code>) is inside <code>runBlocking{}</code></li>\n<li>I use Kotlin's <code>map</code>, not the JDK8 API</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1503504902, "post_id": 45744756, "comment_id": 78647477, "body": "Is there any way to make it work if the code I&#39;m calling isn&#39;t cancellable?  a &quot;withTimeoutNoSeriouslyItBetterEndWhenIWantItTo&quot; function..."}, {"owner": {"reputation": 5216, "user_id": 765009, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ffec3b192463b07eb6de598b74dc9631?s=128&d=identicon&r=PG", "display_name": "toto2", "link": "https://stackoverflow.com/users/765009/toto2"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1503592433, "post_id": 45744756, "comment_id": 78692131, "body": "No.  I added an EDIT in my answer with more text."}, {"owner": {"reputation": 5216, "user_id": 765009, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ffec3b192463b07eb6de598b74dc9631?s=128&d=identicon&r=PG", "display_name": "toto2", "link": "https://stackoverflow.com/users/765009/toto2"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1503592805, "post_id": 45744756, "comment_id": 78692356, "body": "Trying to answer your comment, I realized there were bugs in my code, so I fixed them.  Bug 1: <code>completedComputations</code> should be a thread-safe set.  Bug 2: I forgot to wait at the end of my program (<code>Thread.sleep()</code>) in case other threads were not yet done.  Bug 3: because of Bug 2, the code I had was actually not cancelling the jobs although it looked like it did.  It seems there must not be one global <code>withTimeout</code>, but one for each job.  This seems odd since according to the doc the children of a job are cancelled too.  I&#39;m not sure if it&#39;s a coroutine bug."}], "tags": [], "owner": {"reputation": 5216, "user_id": 765009, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ffec3b192463b07eb6de598b74dc9631?s=128&d=identicon&r=PG", "display_name": "toto2", "link": "https://stackoverflow.com/users/765009/toto2"}, "is_accepted": true, "score": 4, "last_activity_date": 1503601859, "last_edit_date": 1503601859, "creation_date": 1503003043, "answer_id": 45744756, "question_id": 45700672, "link": "https://stackoverflow.com/questions/45700672/kotlin-how-to-async-await-a-list-of-identical-methods/45744756#45744756", "title": "Kotlin: How to async await a list of identical methods?", "body": "<p>I don't know if you are aware but there is this great document: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#cancellation-and-timeouts\" rel=\"nofollow noreferrer\">coroutines by example</a>.  I linked the specific section on cancellations and timeouts.  Below is my implementation of your problem:</p>\n\n<pre><code>import kotlinx.coroutines.experimental.CommonPool\nimport kotlinx.coroutines.experimental.newSingleThreadContext\nimport java.util.*\nimport kotlin.system.measureNanoTime\n\ninternal val random = Random()\n\nfun createRandArray(n: Long): Array&lt;Int&gt; {\n    return createRandTArray(n).toTypedArray()\n}\n\nfun createRandTArray(n: Long): IntArray {\n    return random.ints(n, 0, n.toInt()).toArray()\n}\n\nvar size: Long = 1_000_000\nvar nRepeats: Int = 11\nvar nDrops: Int = 1\n\nfun &lt;T&gt; benchmark(name: String,\n                  buildSortable: (Long) -&gt; T,\n                  sort: (T) -&gt; Any) {\n    val arrays = List(nRepeats) { buildSortable(size) }\n    val timesMS = arrays.map { measureNanoTime { sort(it) } / 1_000_000 }.drop(nDrops) // for JVM optimization warmup\n    // println(timesMS)\n    println(\"[$name] Average sort time for array of size $size: ${timesMS.average() } ms\")\n}\n\nfun main(args: Array&lt;String&gt;) {\n    size = 1_000_000\n    nRepeats = 6\n\n    benchmark(\"Array&lt;Int&gt;\",\n            buildSortable = { size -&gt; createRandTArray(size).toTypedArray() },\n            sort = ::mergeSort)\n\n    benchmark(\"ListLike Array&lt;Int&gt;\",\n            buildSortable = { size -&gt; SortingArray(createRandTArray(size).toTypedArray()) },\n            sort = { array -&gt; mergeSortLL(array) })  // oddly ::mergeSortLL is refused\n\n    benchmark(\"ListLike IntArray\",\n            buildSortable = { size -&gt; createRandTArray(size).asComparableList() },\n            sort = { array -&gt; mergeSortLL(array) })  // oddly ::mergeSortLL is refused\n\n    benchmark(\"IntArray\",\n            buildSortable = { size -&gt; createRandTArray(size) },\n            sort = ::mergeSortIA)\n\n    benchmark(\"IntArray multi-thread (CommonPool) with many array copies\",\n            buildSortable = { size -&gt; createRandTArray(size) },\n            sort = { mergeSortCorou(it) })\n\n    val origContext = corouContext\n    corouContext = newSingleThreadContext(\"single thread\")\n    benchmark(\"IntArray multi-thread (one thread!) with many array copies\",\n            buildSortable = { size -&gt; createRandTArray(size) },\n            sort = { mergeSortCorou(it) })\n    corouContext = origContext\n\n    benchmark(\"Java int[]\",\n            buildSortable = { size -&gt; createRandTArray(size) },\n            sort = { MergeSorter.sort(it) })\n}\n</code></pre>\n\n<p>I got the output:</p>\n\n<pre><code> Hit the timeout (CancellationException).\n Out of 100 computations, 45 completed.\n</code></pre>\n\n<p>You can play with the <code>timeOut</code> value (currently 500 ms).  Each job has a different random execution time from 0 to 1000 ms, so around half get executed before the time out.</p>\n\n<p>However you might have a harder time to implement this for your specific problem.  Your computations will have to be <em>cancellable</em>.  Read the section on cancellation carefully in the document I linked above.  Basically your computation either has to call one of the <code>suspend</code> functions in <code>kotlinx.coroutines</code> (this is what I did since I call <code>delay</code>), or use <code>yield</code> or <code>isActive</code>.</p>\n\n<hr>\n\n<p><strong>EDIT</strong>: related to comment on cancelling any job (non-cancellable/non-suspendable):</p>\n\n<p>No, there is no magic here.  Making a computation truly cancellable is very difficult, no matter what framework you use.  Notoriously Java has <code>Thread.stop()</code>, which seems to do what you would want, but was <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow noreferrer\">deprecated</a>.</p>\n\n<p>I tried to use coroutines to solve the simpler problem of stopping submitting new jobs after the timeout, but where jobs which started before the timeout can run far beyond the timeout without being cancelled/interrupted.  I spent some time on it and could not find an easy solution with coroutines.  It could be done using the standard Java concurrency constructs.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4797, "favorite_count": 2, "accepted_answer_id": 45744756, "answer_count": 2, "score": 5, "last_activity_date": 1503601859, "creation_date": 1502827426, "last_edit_date": 1502828077, "question_id": 45700672, "link": "https://stackoverflow.com/questions/45700672/kotlin-how-to-async-await-a-list-of-identical-methods", "title": "Kotlin: How to async await a list of identical methods?", "body": "<p>I have a few hundred Java class instances that all need to complete their .calculate() method or die in 10 minutes.  They will grab up the CPU and memory, so I'd like to only allow 5 (threads?) at once.  I believe I'm close, but coming from a Java background I'm not yet familiar enough with kotlin coroutines (vs java ExecutorServices) to make this compile.</p>\n\n<pre><code>// ...my logic to create a stream of identical class type instances \n// that all have a vanilla blocking .calculate():Double method...\n// which I now want to (maybe?) map to Jobs\n\nlistOf(MyClass(1), MyClass(2), MyClass(1000))\n.map {\n  launch(CommonPool) {\n    val errorRate: Double? = it?.calculate()\n    println(\"${it?.javaClass?.simpleName}  $errorRate\") // desired output\n    errorRate\n  }\n}\n.collect(Collectors.toList&lt;Job&gt;())\n\njobs.forEach {\n    println(it.join())\n}\n</code></pre>\n\n<p>And then I think I need to wrap the calculate with a non-blocking calculate?  Or a blocking, but timeout limited? Should that \"runBlocking\" be there?  Better as a lambda in the above code?</p>\n\n<pre><code>fun MyClass.calculateTimeLimited(): Double = runBlocking {\n  withTimeout(TIMEOUT) {\n    this.calculate() // &lt;-- doesn't compile! \"this\" is \"CoroutineScope\"\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1815, "user_id": 2054833, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/601b325c7dc28177bb770427467401fb?s=128&d=identicon&r=PG", "display_name": "user2054833", "link": "https://stackoverflow.com/users/2054833/user2054833"}, "is_accepted": false, "score": 2, "last_activity_date": 1502817270, "creation_date": 1502817270, "answer_id": 45698001, "question_id": 45697557, "link": "https://stackoverflow.com/questions/45697557/test-running-failed-instrumentation-run-failed-due-to-kotlin-uninitializedprop/45698001#45698001", "title": "Test running failed: Instrumentation run failed due to &#39;kotlin.UninitializedPropertyAccessException&#39;", "body": "<p>I found the issue, It was because I had a property with the lateinit annotation that was not injected</p>\n"}], "owner": {"reputation": 1815, "user_id": 2054833, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/601b325c7dc28177bb770427467401fb?s=128&d=identicon&r=PG", "display_name": "user2054833", "link": "https://stackoverflow.com/users/2054833/user2054833"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1502817270, "creation_date": 1502815718, "question_id": 45697557, "link": "https://stackoverflow.com/questions/45697557/test-running-failed-instrumentation-run-failed-due-to-kotlin-uninitializedprop", "title": "Test running failed: Instrumentation run failed due to &#39;kotlin.UninitializedPropertyAccessException&#39;", "body": "<p>I'm having an issue where my android instrumentation tests are not discovered. instead I get the following: </p>\n\n<pre><code>Started running tests\nTest running failed: Instrumentation run failed due to \n'kotlin.UninitializedPropertyAccessException'\nDisconnected from the target VM, address: 'localhost:8600', transport: 'socket'\nEmpty test suite. \n</code></pre>\n"}, {"tags": ["android", "reflection", "kotlin", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1502815058, "creation_date": 1502815058, "answer_id": 45697372, "question_id": 45697122, "link": "https://stackoverflow.com/questions/45697122/how-to-do-kotlin-type-inference-from-kclass-reflection/45697372#45697372", "title": "How to do Kotlin type inference from KClass reflection?", "body": "<p>I suppose you don't need the <code>in</code>-projections at all for the <code>KClass</code>es: your code doesn't seem to pass a <code>StateHandler</code> or something parameterized with <code>StateHandler</code> <em>in</em>to the functions of <code>KClass</code>.</p>\n\n<p>If the intention of the variance is that you want all the <code>KClass</code>es to represent subtypes of <code>StateHandler</code>, then you could do with <code>out</code>-projections everywhere:</p>\n\n<pre><code>class KStateMachine(private val states: List&lt;StateHandler&gt;) {\n\n    private var currentState: KClass&lt;out StateHandler&gt;\n    private val handlers: HashMap&lt;KClass&lt;out StateHandler&gt;, Int&gt; = HashMap()\n\n    init {\n        currentState = states[0]::class\n\n        for (i in 0..states.size - 1) {\n            handlers.put(states[i]::class, i)\n        }\n    }\n\n    fun to(toState: KClass&lt;out StateHandler&gt;) {\n        var index = handlers.get(toState)\n        if (index != null) {\n            var oldState = currentState\n            currentState = toState\n            states.get(index).from(oldState)\n        } else {\n            throw RuntimeException(\"to state unknown\")\n        }\n    }\n\n    abstract class StateHandler {\n        abstract fun from(fromState: KClass&lt;out StateHandler&gt;)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 558898, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/14a83503ed65b5147ecbf8fd347e42f5?s=128&d=identicon&r=PG", "display_name": "Martin", "link": "https://stackoverflow.com/users/558898/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 45697372, "answer_count": 1, "score": 2, "last_activity_date": 1515361505, "creation_date": 1502814186, "last_edit_date": 1515361505, "question_id": 45697122, "link": "https://stackoverflow.com/questions/45697122/how-to-do-kotlin-type-inference-from-kclass-reflection", "title": "How to do Kotlin type inference from KClass reflection?", "body": "<p>In the code below, I'm having trouble arranging the in/out correctly such that both from() and to() work as expected. I've tried switching in/out in both properties and function parameters, but always end up with incorrect typing errors.</p>\n\n<pre><code>class KStateMachine(private val states: List&lt;StateHandler&gt;) {\n\nvar currentState: KClass&lt;out StateHandler&gt;\n    private set\nprivate val handlers:HashMap&lt;KClass&lt;in StateHandler&gt;, Int&gt; = HashMap()\n\ninit {\n    currentState = states[0]::class\n\n    for (i in 0..states.size - 1) {\n        handlers.put(states[i]::class, i)\n    }\n}\n\nfun goto(toState: KClass&lt;in StateHandler&gt;) {\n    var index = handlers.get(toState)\n    if (index != null) {\n        var oldState = currentState\n        currentState = toState\n        states.get(index).from(oldState)\n    } else {\n        throw RuntimeException(\"to state unknown\")\n    }\n}\n\ninline fun &lt;reified T: StateHandler&gt; goto() {\n    goto(T::class)\n}\n\nabstract class StateHandler {\n    abstract fun from(fromState: KClass&lt;in StateHandler&gt;)\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "dsl"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1502814639, "post_id": 45697024, "comment_id": 78352860, "body": "Did you read the docs? <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/type-safe-builders.html</a>"}, {"owner": {"reputation": 636, "user_id": 2427985, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/uB0GL.jpg?s=128&g=1", "display_name": "Marc Enschede", "link": "https://stackoverflow.com/users/2427985/marc-enschede"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1502911107, "post_id": 45697024, "comment_id": 78400923, "body": "Yep, that is a good one. Based on that example I extracted an example that I posted. See below."}], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 2427985, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/uB0GL.jpg?s=128&g=1", "display_name": "Marc Enschede", "link": "https://stackoverflow.com/users/2427985/marc-enschede"}, "is_accepted": false, "score": 0, "last_activity_date": 1502911050, "creation_date": 1502911050, "answer_id": 45721362, "question_id": 45697024, "link": "https://stackoverflow.com/questions/45697024/how-to-elegant-couple-parent-and-child-tag-in-a-kotlin-dsl-definition/45721362#45721362", "title": "How to elegant couple parent and child tag in a Kotlin DSL definition", "body": "<p>After some experimenting I found a reasonable elegant solution, extracted from an example on the Internet.</p>\n\n<p>The configuration is in the the configuration class. Together with fun main it looks like this:</p>\n\n<pre><code>class MyModuleConfigurator : ModuleConfigurator() {\n\n    fun bld() =\n        module(\"MyModule1\") {\n            +\"Text\"\n            field {\n                +\"Fieldtext 1\"\n            }\n            field {\n                +\"Fieldtext 2a\"\n                +\"Fieldtext 2b\"\n                form(\"form in field 2\")\n            }\n            form(\"Form 1\")\n        }\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val myHTML = MyModuleConfigurator()\n    myHTML.bld()\n}\n</code></pre>\n\n<p>The configuration class is derived from a master class which implements the configuration tags. See the comments for some additional information:</p>\n\n<pre><code>open class ModuleConfigurator {\n\n    // Triggers on 'module' keyword\n    protected fun module(name: String, init: Module.() -&gt; Unit) {\n        val module = Module(name)\n        module.init()\n\n        // Add your post DSL processing operation here\n        println(module.toString())\n    }\n\n    class Module(val name: String) {\n\n        // Triggers on 'field' keyword in the 'module'\n        fun field(init: Field.() -&gt; Unit) = initTag(this, init)\n\n        // Triggers on 'form' keyword\n        fun form(name: String) {\n            println(\"form with name ${name} in module ${this.name}\")\n        }\n\n        // Triggers on + keyword\n        operator fun String.unaryPlus() {\n            val textElement = ModuleConfigurator.TextElement(this)\n            println(\"Module unary plus (name = ${textElement})\")\n        }\n\n        // Other module internals\n\n        private fun initTag(module: Module, init: Field.() -&gt; Unit) {\n            val myField = Field(module)\n            module.add(myField)\n            myField.init()\n        }\n\n        private fun add(myField: Field) {\n            // Hook to add field to module\n        }\n\n        override fun toString(): String {\n            return \"Module(${name})\"\n        }\n\n    }\n\n    // Helper to unwrap the string in the Unary Plus\n    class TextElement(val text: String) {\n        override fun toString(): String {\n            return \"$text\"\n        }\n    }\n\n    class Field(val module: ModuleConfigurator.Module) {\n\n        operator fun String.unaryPlus() {\n            val textElement = ModuleConfigurator.TextElement(this)\n            println(\"Field unary plus in module ${module.toString()}, text = '${textElement}'\")\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Enjoy!</p>\n"}], "owner": {"reputation": 636, "user_id": 2427985, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/uB0GL.jpg?s=128&g=1", "display_name": "Marc Enschede", "link": "https://stackoverflow.com/users/2427985/marc-enschede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502911050, "creation_date": 1502813866, "last_edit_date": 1502814614, "question_id": 45697024, "link": "https://stackoverflow.com/questions/45697024/how-to-elegant-couple-parent-and-child-tag-in-a-kotlin-dsl-definition", "title": "How to elegant couple parent and child tag in a Kotlin DSL definition", "body": "<p>Using Kotlin I want to define a DSL to initialise a structure. As you can see I want to create a set of module each one having a number of fields.</p>\n\n<pre><code>class DSL : ModuleDSL() {\n\n    init {\n\n        module(Module(\"myModule\")) {\n            field(\"Test\", \"Test\")\n            field(\"Test\", \"Test\")\n            field(\"Test\", \"Test\")\n        }\n\n        module(Module(\"myOtherModule\")) {\n            field(\"Test\", \"Test\")\n            field(\"Test\", \"Test\")\n            field(\"Test\", \"Test\")\n        }\n    }\n}\n</code></pre>\n\n<p>Each field has to be connected to the module. Whit in the closure containing the field definitions, afaik I do not have a reference to the module. What is the most elegant way to create a connection between the module and it\u2019s fields.</p>\n\n<p>For completeness, these are the rest of the classes</p>\n\n<pre><code>open class ModuleDSL {\n\n    fun field(fieldname: String, attributename: String) {\n        println(\"${fieldname} is named ${attributename}\")\n    }\n\n    fun module(module: Module, function: () -&gt; Unit) {\n        function.invoke()\n    }\n\n    fun createModel() {\n        println(\"Create my model\")\n    }\n\n}\n\nclass Module(name: String) {\n\n    init {\n        println(\"Create entity ${name}\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    val myModuleDsl = DSL()\n\n    myModuleDsl.createModel()\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-alertdialog", "anko"], "comments": [{"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 1, "creation_date": 1502810908, "post_id": 45696083, "comment_id": 78350420, "body": "I suppose that&#39;s the default behavior of Android&#39;s AlertDialog."}, {"owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "reply_to_user": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1502810967, "post_id": 45696083, "comment_id": 78350460, "body": "@Bob ah, didn&#39;t realize that. I&#39;ll look and see if there are ways to override"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 1, "creation_date": 1502811264, "post_id": 45696083, "comment_id": 78350665, "body": "Check this answer: <a href=\"https://stackoverflow.com/a/7636468/4586742\">stackoverflow.com/a/7636468/4586742</a>"}, {"owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "reply_to_user": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1502811332, "post_id": 45696083, "comment_id": 78350711, "body": "Thanks @Bob, overriding <code>onClickListener</code> after creating the dialog does the trick"}], "answers": [{"tags": [], "owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "is_accepted": false, "score": 7, "last_activity_date": 1502811579, "creation_date": 1502811579, "answer_id": 45696347, "question_id": 45696083, "link": "https://stackoverflow.com/questions/45696083/kotlin-anko-prevent-button-from-closing-alert-dialog/45696347#45696347", "title": "Kotlin / Anko prevent button from closing Alert Dialog", "body": "<p>For anyone that may have this issue in the future, this is how you can accomplish this in Kotlin</p>\n\n<pre><code>val myAlert = alert {\n    title = \"Add Board\"\n    customView {\n        ....\n    }\n    positiveButton(\"OK\") { /*Keep blank, we'll override it later*/}\n    negativeButton(\"Close\"){}\n    }.show()\n\n//You can use BUTTON_NEGATIVE and BUTTON_NEUTRAL for other buttons\n(myAlert as AlertDialog).getButton(AlertDialog.BUTTON_POSITIVE)\n    .setOnclickListener{\n        doSomeFunction()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 4753468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e8f08e8464a42eb58bac292e412abcf?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Luis Berrocal", "link": "https://stackoverflow.com/users/4753468/jose-luis-berrocal"}, "edited": false, "score": 0, "creation_date": 1570581040, "post_id": 54043252, "comment_id": 102954716, "body": "this will no prevent the alert from being closed with the buttons"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1682647"}, "is_accepted": false, "score": -1, "last_activity_date": 1546621547, "creation_date": 1546621547, "answer_id": 54043252, "question_id": 45696083, "link": "https://stackoverflow.com/questions/45696083/kotlin-anko-prevent-button-from-closing-alert-dialog/54043252#54043252", "title": "Kotlin / Anko prevent button from closing Alert Dialog", "body": "<pre><code>alert {\n  title = \"Add Board\"\n  customView {\n    ....\n  }\n  positiveButton(\"OK\") { /*Keep blank, we'll override it later*/}\n  negativeButton(\"Close\"){}\n\n  isCancelable = false // Disable close here\n}.show()\n</code></pre>\n"}], "owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1399, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1546621547, "creation_date": 1502810720, "question_id": 45696083, "link": "https://stackoverflow.com/questions/45696083/kotlin-anko-prevent-button-from-closing-alert-dialog", "title": "Kotlin / Anko prevent button from closing Alert Dialog", "body": "<p>When using <code>positiveButton</code> and <code>negativeButton</code> in Anko's alert builder, it seems both of them result in closing the dialog, even if <code>dismiss()</code> is not called. Is there any way to keep the dialog open after clicking a button (if there are types other than <code>positiveButton</code>/<code>negativeButton</code>, that's fine too)?</p>\n\n<pre><code>alert {\n    title = \"Add Board\"\n    customView {\n        ....\n    }\n    positiveButton(\"OK\") { doSomeFunction() }\n    negativeButton(\"Close\"){}\n}.show()\n</code></pre>\n"}, {"tags": ["sockets", "websocket", "kotlin", "netty", "wss"], "comments": [{"owner": {"reputation": 15921, "user_id": 1542723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a969ba62fc77da0a20654caffbe234?s=128&d=identicon&r=PG", "display_name": "Ferrybig", "link": "https://stackoverflow.com/users/1542723/ferrybig"}, "edited": false, "score": 0, "creation_date": 1502817700, "post_id": 45695247, "comment_id": 78354592, "body": "How do you make your group variable?"}, {"owner": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "reply_to_user": {"reputation": 15921, "user_id": 1542723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a969ba62fc77da0a20654caffbe234?s=128&d=identicon&r=PG", "display_name": "Ferrybig", "link": "https://stackoverflow.com/users/1542723/ferrybig"}, "edited": false, "score": 0, "creation_date": 1502879503, "post_id": 45695247, "comment_id": 78380243, "body": "@Ferrybig updated the code. Nothing special about <code>group</code>, just creating new instance of <code>NioEventLoopGroup</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "edited": false, "score": 0, "creation_date": 1502890289, "post_id": 45711780, "comment_id": 78388019, "body": "Nice explanation! Indeed <code>ssl-handler</code> is required. Thanks."}], "tags": [], "owner": {"reputation": 15921, "user_id": 1542723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a969ba62fc77da0a20654caffbe234?s=128&d=identicon&r=PG", "display_name": "Ferrybig", "link": "https://stackoverflow.com/users/1542723/ferrybig"}, "is_accepted": true, "score": 1, "last_activity_date": 1502881307, "creation_date": 1502881307, "answer_id": 45711780, "question_id": 45695247, "link": "https://stackoverflow.com/questions/45695247/netty-wss-socket-client-drops-connection/45711780#45711780", "title": "Netty wss socket client drops connection", "body": "<p>You forgot to add a <code>SSLHandler</code>, this handler is needed because you are connecting to the https port (443), so the remote server expects all the traffic to be encrypted. Sending a unencrypted message to the https port has undefined behaviour, some server will shut down your connection, other servers will send a redirect back to https. </p>\n\n<p>You can add an sslhandler using the following way:</p>\n\n<p><strong>java:</strong>\n</p>\n\n<pre><code>final SslContext sslCtx = SslContextBuilder.forClient()\n//  .trustManager(InsecureTrustManagerFactory.INSTANCE)\n    .build();\n\npipeline.addLast(\"ssl-handler\", sslCtx.newHandler(ch.alloc(), url.getHost(), 443));\n\n// Your remaining code....\npipeline.addLast(\"http-codec\", new HttpClientCodec())\n</code></pre>\n"}], "owner": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 45711780, "answer_count": 1, "score": 0, "last_activity_date": 1502881307, "creation_date": 1502808066, "last_edit_date": 1502879047, "question_id": 45695247, "link": "https://stackoverflow.com/questions/45695247/netty-wss-socket-client-drops-connection", "title": "Netty wss socket client drops connection", "body": "<p>Trying to setup basic <code>wss</code> client. Channel is activated, but then immediately disconnected without any exception.</p>\n\n<p>Client:</p>\n\n<pre><code>class WebSocketClient(val uri: String) {\n\n    lateinit var ch: Channel\n\n    fun connect() {\n        val bootstrap = Bootstrap()\n        val uri: URI = URI.create(uri)\n        val handler = WebSocketClientHandler(WebSocketClientHandshakerFactory.newHandshaker(uri, WebSocketVersion.V13, null, false, HttpHeaders.EMPTY_HEADERS, 1280000))\n\n        bootstrap.group(NioEventLoopGroup())\n                .channel(NioSocketChannel::class.java)\n                .handler(object : ChannelInitializer&lt;SocketChannel&gt;() {\n                    override fun initChannel(ch: SocketChannel) {\n                        val pipeline = ch.pipeline()\n                        pipeline.addLast(\"http-codec\", HttpClientCodec())\n                        pipeline.addLast(\"aggregator\", HttpObjectAggregator(65536))\n                        pipeline.addLast(\"ws-handler\", handler)\n                    }\n                })\n        ch = bootstrap.connect(uri.host, 443).sync().channel()\n        handler.channelPromise.sync()\n    }\n}\n</code></pre>\n\n<p>Handler:</p>\n\n<pre><code>class WebSocketClientHandler(val handShaker: WebSocketClientHandshaker) : SimpleChannelInboundHandler&lt;Any&gt;() {\n\n    lateinit var channelPromise: ChannelPromise\n\n    override fun handlerAdded(ctx: ChannelHandlerContext) {\n        channelPromise = ctx.newPromise()\n    }\n\n    override fun channelActive(ctx: ChannelHandlerContext) {\n        handShaker.handshake(ctx.channel())\n    }\n\n    override fun channelRead0(ctx: ChannelHandlerContext, msg: Any) {\n        val ch = ctx.channel()\n        if (!handShaker.isHandshakeComplete) {\n            handShaker.finishHandshake(ch, msg as FullHttpResponse)\n            channelPromise.setSuccess()\n            return\n        }\n\n        val frame = msg as WebSocketFrame\n        if (frame is TextWebSocketFrame) {\n            println(\"text message: $frame\")\n        } else if (frame is PongWebSocketFrame) {\n            println(\"pont message\")\n        } else if (frame is CloseWebSocketFrame) {\n            ch.close()\n        } else {\n            println(\"unhandled frame: $frame\")\n        }\n    }\n}\n</code></pre>\n\n<p>The flow of handler calls:</p>\n\n<pre><code>handleAdded\nchannelRegistered\nchannelActive\nchannelReadComplete\nchannelInactive\nchannelUnregistered\nhandlerRemoved\n</code></pre>\n\n<p>Is there something I miss?</p>\n"}, {"tags": ["android", "listview", "scroll", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1502805551, "post_id": 45694085, "comment_id": 78346795, "body": "Have a try: <a href=\"https://stackoverflow.com/a/23441626/8343333\">stackoverflow.com/a/23441626/8343333</a>"}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1502810411, "post_id": 45694085, "comment_id": 78350078, "body": "@BakaWaii this unfortunately didn&#39;t fix the problem"}], "answers": [{"comments": [{"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 2, "creation_date": 1503132932, "post_id": 45749620, "comment_id": 78497443, "body": "doesn&#39;t that scroll instantly (not smoothly) ?"}], "tags": [], "owner": {"reputation": 669, "user_id": 6403231, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VvcqNsnBAng/AAAAAAAAAAI/AAAAAAAAAGo/AwUCfh8h8Fs/photo.jpg?sz=128", "display_name": "sam chaudhari", "link": "https://stackoverflow.com/users/6403231/sam-chaudhari"}, "is_accepted": false, "score": 1, "last_activity_date": 1503036553, "creation_date": 1503036553, "answer_id": 45749620, "question_id": 45694085, "link": "https://stackoverflow.com/questions/45694085/listview-smooth-scroll-to-bottom/45749620#45749620", "title": "Listview: smooth scroll to bottom", "body": "<p>Try following. it will solve your problem, i tried it and it works great.</p>\n\n<pre><code>listView.post(new Runnable(){\n             public void run() {\n             listView.setSelection(listView.getCount() - 1);\n    }});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 3906799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LeiCR.jpg?s=128&g=1", "display_name": "Abdelaziz refaat", "link": "https://stackoverflow.com/users/3906799/abdelaziz-refaat"}, "is_accepted": false, "score": 0, "last_activity_date": 1579784199, "creation_date": 1579784199, "answer_id": 59879140, "question_id": 45694085, "link": "https://stackoverflow.com/questions/45694085/listview-smooth-scroll-to-bottom/59879140#59879140", "title": "Listview: smooth scroll to bottom", "body": "<p>add <code>android:transcriptMode=\"alwaysScroll\"\n</code>to the ListView block in xml</p>\n"}], "owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1579784199, "creation_date": 1502804465, "last_edit_date": 1502810203, "question_id": 45694085, "link": "https://stackoverflow.com/questions/45694085/listview-smooth-scroll-to-bottom", "title": "Listview: smooth scroll to bottom", "body": "<p>When a button is clicked, I would like the app to smoothly scroll to the bottom of a listview. Currently this is my implementation (kotlin)</p>\n\n<pre><code>listview.post { listview.smoothScrollToPosition(adapter.count - 1) }\n</code></pre>\n\n<p>However, this does not always work properly: Some list items contain some expandable parts (i.e. view whose visibility can be VISIBLE or GONE), which initially are hidden.\nWhen these parts are expanded however, the function sometimes does not scroll to the end, but to a position before the end.</p>\n\n<p>How can I reliably scroll to the end of the listview?</p>\n"}, {"tags": ["hibernate", "spring-boot", "kotlin", "mariadb"], "owner": {"reputation": 43, "user_id": 4046522, "user_type": "registered", "profile_image": "https://graph.facebook.com/1254448258/picture?type=large", "display_name": "Niklas Renner Nielsen", "link": "https://stackoverflow.com/users/4046522/niklas-renner-nielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1502802027, "creation_date": 1502801680, "last_edit_date": 1502802027, "question_id": 45693272, "link": "https://stackoverflow.com/questions/45693272/spring-boot-insert-invalid-datetime-into-mariadb-results-in-null-on-not-nullabl", "title": "Spring Boot insert invalid datetime into MariaDB results in null, on not nullable field", "body": "<p>I have a problem in a Spring Boot project, where I have a table created like this:</p>\n\n<pre><code>create table task\n(\n    id int auto_increment\n        primary key,\n    title varchar(50) not null,\n    content text not null,\n    control_time datetime not null,\n);\n</code></pre>\n\n<p>and the entity like this:</p>\n\n<pre><code>@Entity\ndata class Task(\n        @Id @GeneratedValue var id: Long = 0,\n        @Column(length = 50) var title: String = \"\",\n        @Column(columnDefinition = \"TEXT\", length = 65535) var content = \"\",\n        @Temporal(TemporalType.TIMESTAMP) var controlTime: Date = Date())\n</code></pre>\n\n<p>I also have an endpoint which takes a Task as parameter, where Jackson converts it from JSON to a Task Object, which works fine looking at debug logs.</p>\n\n<p>So the problem is that if I give a date which is outside the legal range(eg. above the year 9999), hibernate persists it without error, but the field ends up containing null, which shouldn't be possible when it's a not nullable field. I would assume mariadb throws an error if you persist something outside the legal range, which it does when i do it manually, but somehow hibernate manages to do it, and it ends up being null.</p>\n\n<p>Trace from hibernate:</p>\n\n<pre><code>26543 --- [nio-8080-exec-1] o.h.p.entity.AbstractEntityPersister     : Dehydrating entity: [something.model.Task#&lt;null&gt;]\n2017-08-15 14:28:22.220 TRACE 26543 --- [nio-8080-exec-1]     o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [TIMESTAMP] - [Tue Aug 15 14:28:22 CEST 2017]\n2017-08-15 14:28:22.221 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [NIKlas]\n2017-08-15 14:28:22.221 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [null]\n2017-08-15 14:28:22.222 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [TIMESTAMP] - [null]\n2017-08-15 14:28:22.222 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [VARCHAR] - [null]\n2017-08-15 14:28:22.222 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [TIMESTAMP] - [null]\n2017-08-15 14:28:22.222 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [BIGINT] - [null]\n2017-08-15 14:28:22.222 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [8] as [VARCHAR] - []\n2017-08-15 14:28:22.223 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [9] as [TIMESTAMP] - [Mon Sep 10 05:06:44 CEST 12439173]\n2017-08-15 14:28:22.224 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [10] as [BOOLEAN] - [null]\n2017-08-15 14:28:22.224 TRACE 26543 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [11] as [VARCHAR] - []\n2017-08-15 14:28:22.228 DEBUG 26543 --- [nio-8080-exec-1] o.h.id.IdentifierGeneratorHelper         : Natively generated identity: 2\n2017-08-15 14:28:22.228 TRACE 26543 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : Releasing result set [org.mariadb.jdbc.internal.queryresults.resultset.MariaSelectResultSet$1@1c4fe495]\n2017-08-15 14:28:22.228 DEBUG 26543 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : HHH000387: ResultSet's statement was not registered\n2017-08-15 14:28:22.228 TRACE 26543 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : Closing result set [org.mariadb.jdbc.internal.queryresults.resultset.MariaSelectResultSet$1@1c4fe495]\n2017-08-15 14:28:22.228 TRACE 26543 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : Releasing statement [HikariProxyPreparedStatement@639958422 wrapping sql : 'insert into task (created_at, created_by, deleted_at, updated_at, updated_by, closed_at, closed_by, content, control_time, is_successful, title) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', parameters : ['2017-08-15 14:28:22.147','NIKlas',&lt;null&gt;,&lt;null&gt;,&lt;null&gt;,&lt;null&gt;,&lt;null&gt;,'','12439173-09-10 05:06:44.928',&lt;null&gt;,'']]\n2017-08-15 14:28:22.229 TRACE 26543 --- [nio-8080-exec-1] o.h.r.j.i.ResourceRegistryStandardImpl   : Closing prepared statement [HikariProxyPreparedStatement@639958422 wrapping sql : 'insert into task (created_at, created_by, deleted_at, updated_at, updated_by, closed_at, closed_by, content, control_time, is_successful, title) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)', parameters : ['2017-08-15 14:28:22.147','NIKlas',&lt;null&gt;,&lt;null&gt;,&lt;null&gt;,&lt;null&gt;,&lt;null&gt;,'','12439173-09-10 05:06:44.928',&lt;null&gt;,'']]\n2017-08-15 14:28:22.229 TRACE 26543 --- [nio-8080-exec-1] o.h.e.jdbc.internal.JdbcCoordinatorImpl  : Starting afterQuery statement execution processing [ON_CLOSE]\n2017-08-15 14:28:22.231 DEBUG 26543 --- [nio-8080-exec-1] o.h.e.t.internal.TransactionImpl         : committing\n2017-08-15 14:28:22.231 TRACE 26543 --- [nio-8080-exec-1] cResourceLocalTransactionCoordinatorImpl : ResourceLocalTransactionCoordinatorImpl#beforeCompletionCallback\n2017-08-15 14:28:22.231 TRACE 26543 --- [nio-8080-exec-1] org.hibernate.internal.SessionImpl       : SessionImpl#beforeTransactionCompletion()\n2017-08-15 14:28:22.232 TRACE 26543 --- [nio-8080-exec-1] org.hibernate.internal.SessionImpl       : Automatically flushing session\n2017-08-15 14:28:22.232 TRACE 26543 --- [nio-8080-exec-1] o.h.e.i.AbstractFlushingEventListener    : Flushing session\n</code></pre>\n\n<p>I don't know how to bold the relevant parts, but as you can see it inserts the datetime \"12439173-09-10 05:06:44.928\" without complaining. \nWhen I then look in the database the value of \"control_time\" is null.</p>\n\n<p>Has anyone ever encountered this problem, or know how this could happen?</p>\n\n<p>EDIT: there are some mismatches between entity in definition and hibernate trace, because the definition is simplified.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1502797424, "post_id": 45692122, "comment_id": 78341854, "body": "the variable name is shadowed. and you found that you can&#39;t reference the outer variable <code>x</code> in loop."}], "answers": [{"comments": [{"owner": {"reputation": 984, "user_id": 3096304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ZZC4G.jpg?s=128&g=1", "display_name": "youngminz", "link": "https://stackoverflow.com/users/3096304/youngminz"}, "edited": false, "score": 1, "creation_date": 1502797776, "post_id": 45692152, "comment_id": 78342040, "body": "I confused <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#using-ranges\" rel=\"nofollow noreferrer\">this official tutorial</a> using <code>for</code> instead of <code>if</code> while typing. Anyway, thanks!"}], "tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 5, "last_activity_date": 1502799847, "last_edit_date": 1502799847, "creation_date": 1502797433, "answer_id": 45692152, "question_id": 45692122, "link": "https://stackoverflow.com/questions/45692122/the-val-in-the-for-range-is-not-immutable/45692152#45692152", "title": "The `val` in the for range is not immutable?", "body": "<p><strong>The <code>x</code> used in the <em>range</em> construct is shadowing the <code>val x = 6</code></strong> - those are two different variables in two different scopes.</p>\n\n<p>You can see that yourself by writing:</p>\n\n<pre><code>val x = 6\nval y = 9\nfor (x in 1..y) {\n    println(\"fits in range $x\")\n}\n\nprintln(x)\n</code></pre>\n\n<p>The last call will print the original value - <code>6</code></p>\n"}], "owner": {"reputation": 984, "user_id": 3096304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ZZC4G.jpg?s=128&g=1", "display_name": "youngminz", "link": "https://stackoverflow.com/users/3096304/youngminz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 45692152, "answer_count": 1, "score": 2, "last_activity_date": 1502799847, "creation_date": 1502797263, "last_edit_date": 1502798799, "question_id": 45692122, "link": "https://stackoverflow.com/questions/45692122/the-val-in-the-for-range-is-not-immutable", "title": "The `val` in the for range is not immutable?", "body": "<p>In documentation, <code>val</code> is <strong>assign-once (read-only) local variable</strong>. However, below is a for loop that assigns values to <code>x</code> several times. Is it a different concept than C++ <code>const</code>?</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val x = 6\n    val y = 9\n    for (x in 1..y) {\n        println(\"fits in range $x\")\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>fits in range 1\nfits in range 2\nfits in range 3\nfits in range 4\nfits in range 5\nfits in range 6\nfits in range 7\nfits in range 8\nfits in range 9\n</code></pre>\n"}, {"tags": ["kotlin", "nullable", "non-nullable"], "comments": [{"owner": {"reputation": 807, "user_id": 7441041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affe7ad37b72e7a3e6ff2a51ddb0dd1b?s=128&d=identicon&r=PG&f=1", "display_name": "lampenlampen", "link": "https://stackoverflow.com/users/7441041/lampenlampen"}, "edited": false, "score": 0, "creation_date": 1504194134, "post_id": 45690785, "comment_id": 78930653, "body": "If you want to have more information why JetBrains introduced the platform types, there is a good video of Andrey Breslav (see: youtube.com/watch?v=2IhT8HACc2E). He gives also a explanation why they didn&#39;t go the safest way."}, {"owner": {"reputation": 1559, "user_id": 5285588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/794335677331084/picture?type=large", "display_name": "Arka Prava Basu", "link": "https://stackoverflow.com/users/5285588/arka-prava-basu"}, "edited": false, "score": 0, "creation_date": 1569835627, "post_id": 45690785, "comment_id": 102711711, "body": "Hi. Were you able to achieve this somehow?"}, {"owner": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "edited": false, "score": 0, "creation_date": 1569903320, "post_id": 45690785, "comment_id": 102736289, "body": "Unfortunately, no."}, {"owner": {"reputation": 490, "user_id": 4266826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tq1ql.png?s=128&g=1", "display_name": "Drew Nutter", "link": "https://stackoverflow.com/users/4266826/drew-nutter"}, "edited": false, "score": 2, "creation_date": 1591846933, "post_id": 45690785, "comment_id": 110212937, "body": "Every time I see a NullPointerException it is because of this and I shake my fist in anger at Jetbrains. I understand their motivation, but personally I would rather just use null-safe accessors every time I touch a java object. It&#39;s really not that inconvenient. Unfortunately I miss a lot of them because the compiler does nothing to help me."}], "answers": [{"comments": [{"owner": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "edited": false, "score": 3, "creation_date": 1502798083, "post_id": 45691968, "comment_id": 78342194, "body": "Yes, I know that this is the documented behavior, but I was hoping for an option to change it, or maybe a code inspection for it in IntelliJ/Android Studio or something. The point of null-safe typing (at least, the biggest benefit that I can see) is to <i>not</i> have to think about whether something could be null -- the compiler will shout at me if I get it wrong. I guess I just don&#39;t like the concept of platform types. Essentially, I want the compiler to help me enforce your recommendation: &quot;treat all of the [Java] results as potentially nullable&quot;, unless I say (<code>!!</code>) that they&#39;re not."}, {"owner": {"reputation": 2813, "user_id": 452372, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/M79mA.jpg?s=128&g=1", "display_name": "oiavorskyi", "link": "https://stackoverflow.com/users/452372/oiavorskyi"}, "reply_to_user": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "edited": false, "score": 0, "creation_date": 1502798468, "post_id": 45691968, "comment_id": 78342368, "body": "I agree. It would be nice to have at least some sort of flag to change the default behavior. The current behavior is probably a tradeoff Jetbrains team had to take in order to simplify interoperability and increase acceptance of the new language by Java folks."}, {"owner": {"reputation": 2813, "user_id": 452372, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/M79mA.jpg?s=128&g=1", "display_name": "oiavorskyi", "link": "https://stackoverflow.com/users/452372/oiavorskyi"}, "reply_to_user": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "edited": false, "score": 0, "creation_date": 1502798643, "post_id": 45691968, "comment_id": 78342461, "body": "I have tried to play with inspections in Intellij Idea to see if it is possible to change the default behavior. It doesn&#39;t look like changing <code>Function or property has platform type</code> from a weak warning to an error gives any results."}, {"owner": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "edited": false, "score": 0, "creation_date": 1502799123, "post_id": 45691968, "comment_id": 78342715, "body": "Hm. Yeah, it seems like that inspection warns if the return type of a function is a platform type, i.e. <code>fun bad() = NullTest().annotatedNothing()</code>. Not good enough, unfortunately. :/"}], "tags": [], "owner": {"reputation": 2813, "user_id": 452372, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/M79mA.jpg?s=128&g=1", "display_name": "oiavorskyi", "link": "https://stackoverflow.com/users/452372/oiavorskyi"}, "is_accepted": false, "score": 0, "last_activity_date": 1502796650, "creation_date": 1502796650, "answer_id": 45691968, "question_id": 45690785, "link": "https://stackoverflow.com/questions/45690785/make-kotlin-warn-on-assignment-of-flexible-platform-type-to-non-null-type/45691968#45691968", "title": "Make Kotlin warn on assignment of flexible/platform type to non-null type?", "body": "<p>The Kotlin <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">documentation</a> describes this exact case:</p>\n\n<blockquote>\n  <p>Any reference in Java may be null, which makes Kotlin's requirements\n  of strict null-safety impractical for objects coming from Java. Types\n  of Java declarations are treated specially in Kotlin and called\n  platform types. Null-checks are relaxed for such types, so that safety\n  guarantees for them are the same as in Java</p>\n</blockquote>\n\n<p>Unfortunately, it means that there is no way to issue a warning during a compilation time. The silver lining is that Kotlin will at least prevent the null from propagation in runtime.</p>\n\n<blockquote>\n  <p>When we call methods on variables of platform types, Kotlin does not\n  issue nullability errors at compile time, but the call may fail at\n  runtime, because of a null-pointer exception or an assertion that\n  Kotlin generates to prevent nulls from propagating</p>\n</blockquote>\n\n<p>If I don't control the source code of a Java library that I use, I treat all of the results as potentially nullable, unless it is evident that they are not.</p>\n"}, {"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1588897735, "post_id": 45907779, "comment_id": 109085307, "body": "contributing the idea of this warns check might be great by forking the actual Jetbrains/Kotlin repo"}], "tags": [], "owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "is_accepted": false, "score": 3, "last_activity_date": 1503856358, "creation_date": 1503856358, "answer_id": 45907779, "question_id": 45690785, "link": "https://stackoverflow.com/questions/45690785/make-kotlin-warn-on-assignment-of-flexible-platform-type-to-non-null-type/45907779#45907779", "title": "Make Kotlin warn on assignment of flexible/platform type to non-null type?", "body": "<p><strong>Yes, it is possible</strong> to get compiler warnings and/or errors for any assignments from Java methods with a strong assumption that if method doesn't have <code>@NotNull</code> annotation it is <code>@Nullable</code>.</p>\n\n<p>How? :) <strong>You will have to write your own Idea Custom Inspection plugin</strong>. </p>\n\n<p>Here are some helpful links for anyone experienced enough to build that custom inspection plugin (probably I would be among its grateful users):</p>\n\n<ol>\n<li>Idea plugin development <a href=\"http://www.jetbrains.org/intellij/sdk/docs/basics.html\" rel=\"nofollow noreferrer\">Quick Start Guide</a></li>\n<li>Sources of all existing Idea <a href=\"https://github.com/JetBrains/kotlin/tree/master/idea/src/org/jetbrains/kotlin/idea/inspections\" rel=\"nofollow noreferrer\">Kotlin Inspections</a> (might be useful as examples of existing <a href=\"https://github.com/JetBrains/kotlin/blob/master/idea/src/org/jetbrains/kotlin/idea/inspections/NullChecksToSafeCallInspection.kt\" rel=\"nofollow noreferrer\">null safety checks</a>)</li>\n</ol>\n\n<hr>\n\n<p>If you are familiar and experienced Idea plugin developer, then it might not take a lot of time. Otherwise I don't think the result you are going to achieve will really worth the time you will have to spend. </p>\n\n<p>I like your idea, but AFAIK at the early stages of <code>kotlin</code> development there was an attempt to implement as full null safety checks as possible and it turned so, that there were too many potentially unsafe assignments. </p>\n\n<p>p.s. If you will finally build that inspection plugin please let me know. I personally tried to make it, but in my case I will have first to learn more about Idea plugins. </p>\n"}, {"comments": [{"owner": {"reputation": 2927, "user_id": 262789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ht8vy.png?s=128&g=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/262789/jade"}, "edited": false, "score": 0, "creation_date": 1526841386, "post_id": 45996757, "comment_id": 87890249, "body": "Please read the full text of the question before answering. This answer doesn&#39;t answer the question that was asked."}], "tags": [], "owner": {"reputation": 1, "user_id": 8547203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ca188db3fff0303d53f42708b27dbf?s=128&d=identicon&r=PG&f=1", "display_name": "H.Jain", "link": "https://stackoverflow.com/users/8547203/h-jain"}, "is_accepted": false, "score": -2, "last_activity_date": 1504256786, "creation_date": 1504256786, "answer_id": 45996757, "question_id": 45690785, "link": "https://stackoverflow.com/questions/45690785/make-kotlin-warn-on-assignment-of-flexible-platform-type-to-non-null-type/45996757#45996757", "title": "Make Kotlin warn on assignment of flexible/platform type to non-null type?", "body": "<p><strong>for non-null Strings -</strong></p>\n\n<p>check  isEmpty(). You will not be able to pass non null strings in that method. So it is type safe.</p>\n\n<p><strong>for null Strings</strong> -</p>\n\n<p>you can check null in if condition.</p>\n"}], "owner": {"reputation": 5862, "user_id": 4811803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Smz_dvBogaY/AAAAAAAAAAI/AAAAAAAAAKs/4FvwvMX7kyM/photo.jpg?sz=128", "display_name": "Snild Dolkow", "link": "https://stackoverflow.com/users/4811803/snild-dolkow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 7, "answer_count": 3, "score": 28, "last_activity_date": 1504256786, "creation_date": 1502791786, "question_id": 45690785, "link": "https://stackoverflow.com/questions/45690785/make-kotlin-warn-on-assignment-of-flexible-platform-type-to-non-null-type", "title": "Make Kotlin warn on assignment of flexible/platform type to non-null type?", "body": "<p>When calling a non-nullability-annotated Java function from Kotlin, we get flexible-typed return values, denoted by exclamation marks, e.g. <code>String!</code>.</p>\n\n<p>Kotlin silently allows assigning these flexible values to a normal non-null type, e.g. <code>String</code>, which can cause NullPointerExceptions at runtime.</p>\n\n<p>I would prefer to get compiler warnings or errors for such assignments. Alternatively, treat platform types as equivalent to nullable types (e.g. <code>String?</code>).</p>\n\n<p>As an example, with this Java code:</p>\n\n<pre><code>import android.os.SystemClock;\nimport android.support.annotation.NonNull;\nimport android.support.annotation.Nullable;\n\npublic class NullTest {\n\n    private String maybe() {\n        if (SystemClock.elapsedRealtimeNanos() % 2 == 0) {\n            return null;\n        }\n        return \"ok\";\n    }\n\n    public String annotatedNothing()            { return maybe(); }\n    @Nullable public String annotatedNullable() { return maybe(); }\n    @NonNull  public String annotatedNonNull()  { return \"ok\"; }\n\n}\n</code></pre>\n\n<p>...and the following Kotlin code, I'd like to get errors on two new lines (see comments):</p>\n\n<pre><code>fun testnulls() {\n    val obj = NullTest()\n\n    val nullExact: String  = obj.annotatedNullable() // already gives an error\n    val nullMaybe: String? = obj.annotatedNullable()\n    val nullInfer          = obj.annotatedNullable()\n\n    val okayExact: String  = obj.annotatedNonNull()\n    val okayMaybe: String? = obj.annotatedNonNull()\n    val okayInfer          = obj.annotatedNonNull()\n\n    val bareExact: String  = obj.annotatedNothing() // I want a compiler error here\n    val bareMaybe: String? = obj.annotatedNothing()\n    val bareInfer          = obj.annotatedNothing()\n\n    print(\"length \" + nullExact.length)\n    print(\"length \" + nullMaybe.length) // already gives an error\n    print(\"length \" + nullInfer.length) // already gives an error\n\n    print(\"length \" + okayExact.length)\n    print(\"length \" + okayMaybe.length) // already gives an error\n    print(\"length \" + okayInfer.length)\n\n    print(\"length \" + bareExact.length)\n    print(\"length \" + bareMaybe.length) // already gives an error\n    print(\"length \" + bareInfer.length) // I want a compiler error here\n}\n</code></pre>\n\n<p>The point is that this will force me to add null checks or <code>!!</code>, making sure that I at least have to be explicit about it.</p>\n\n<p>Is this possible?</p>\n\n<p>In the comments of this <a href=\"https://blog.jetbrains.com/kotlin/2014/10/making-platform-interop-even-smoother\" rel=\"noreferrer\">2014 JetBrains blog post</a>, when they introduced platform/flexible types, it sounds like they were planning to add an option to warn about exactly these situations, but I haven't been able to find any further information on that.</p>\n"}, {"tags": ["android", "kotlin", "android-notifications"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9103290, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z6_58H7nrXM/AAAAAAAAAAI/AAAAAAAAAZk/TOdgi6ilYHo/photo.jpg?sz=128", "display_name": "Vikalp Panseriya", "link": "https://stackoverflow.com/users/9103290/vikalp-panseriya"}, "is_accepted": false, "score": 0, "last_activity_date": 1562231574, "last_edit_date": 1562231574, "creation_date": 1535028024, "answer_id": 51986068, "question_id": 45689691, "link": "https://stackoverflow.com/questions/45689691/taskstackbuilder-addparentstack-method-doesnt-work/51986068#51986068", "title": "TaskStackBuilder addParentStack() method doesn&#39;t work", "body": "<p>You have to change the Activity file for ParentStack from</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>stackBuilder.addParentStack(activityA::class.java)\n</code></pre>\n\n<p>to </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>stackBuilder.addParentStack(activityB::class.java)\n</code></pre>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 301, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1562231574, "creation_date": 1502787713, "last_edit_date": 1502804223, "question_id": 45689691, "link": "https://stackoverflow.com/questions/45689691/taskstackbuilder-addparentstack-method-doesnt-work", "title": "TaskStackBuilder addParentStack() method doesn&#39;t work", "body": "<p>I need flow like that: When the notification appears and user clicks it, activityB should start, than if user clicks the back button it should go the activityA, my problem is that, when user clicks the notification and activityB is being lanched, stack is empty and if user clicks the back button application behavior is like pressing the home button and after I click launcher icon, it starts the launcher activity, flow is like first time launch. </p>\n\n<p>Also saw google's official documentation how to use notifications correctly with preserving activities for better navigation experience, but did not help.</p>\n\n<p>this is the code with displays notification</p>\n\n<pre><code>private fun sendNotification() {\n    val mBuilder = NotificationCompat.Builder(this)\n            .setContentTitle(name)\n            .setContentText(messageBody)\n\n        val resultIntent = Intent(this, activityB::class.java)\n        val stackBuilder = TaskStackBuilder.create(this)\n        stackBuilder.addParentStack(activityA::class.java)\n        stackBuilder.addNextIntent(resultIntent)\n        val resultPendingIntent = stackBuilder.getPendingIntent(0, PendingIntent.FLAG_UPDATE_CURRENT)\n        mBuilder.setContentIntent(resultPendingIntent)\n    mNotificationManager.notify(mId, mBuilder.build())\n}\n</code></pre>\n\n<p>And here is manifest file </p>\n\n<pre><code>   &lt;activity\n        android:name=\".activityB\"\n        android:parentActivityName=\"activityA\" /&gt;\n\n   &lt;activity android:name=\"activityA\"/&gt;\n</code></pre>\n\n<p>I don't understand, what I'm missing</p>\n"}, {"tags": ["android", "json", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "is_accepted": true, "score": 1, "last_activity_date": 1502785465, "creation_date": 1502785465, "answer_id": 45689093, "question_id": 45688302, "link": "https://stackoverflow.com/questions/45688302/com-google-gson-jsonsyntaxexception-java-lang-illegalstateexception-expected-b/45689093#45689093", "title": "com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path", "body": "<p>Try this :</p>\n\n<pre><code>val json: String = \"[{\\\"Id\\\":2,\\\"Text\\\":\\\"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430\\\"},{\\\"Id\\\":5,\\\"Text\\\":\\\"\u0424\u0438\u0437\u0438\u043a\u0430\\\"}]\"\nval results: List&lt;Person&gt; = gson.fromJson(json , Array&lt;Person&gt;::class.java).toList()\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 45689093, "answer_count": 1, "score": -1, "last_activity_date": 1502785465, "creation_date": 1502782286, "question_id": 45688302, "link": "https://stackoverflow.com/questions/45688302/com-google-gson-jsonsyntaxexception-java-lang-illegalstateexception-expected-b", "title": "com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path", "body": "<p>i have tries many suggestions from other same questions but does not help, how can i run this test successfully:</p>\n\n<pre><code>@Test\nfun isJsonCorrectPersonConvert() {\n    val gson = GsonBuilder().create()\n    val json = gson.toJson(\"[{\\\"Id\\\":2,\\\"Text\\\":\\\"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430\\\"},{\\\"Id\\\":5,\\\"Text\\\":\\\"\u0424\u0438\u0437\u0438\u043a\u0430\\\"}]\")\n    val results = gson.fromJson(json, Array&lt;Person&gt;::class.java)\n    Assert.assertNotNull(results)\n    Assert.assertNotNull(results[0].Id)\n    Assert.assertNotNull(results[0].Text)\n    System.out.println(results.toString())\n}\n\ndata class Person(val Id: Int,val Text:String)\n</code></pre>\n"}, {"tags": ["android", "android-intent", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "edited": false, "score": 0, "creation_date": 1502782449, "post_id": 45688232, "comment_id": 78334288, "body": "You could add <code>Intent intent = getIntent();</code> in <code>ShowTestActivity</code> before you get object."}, {"owner": {"reputation": 146, "user_id": 7450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0676e332a5560416585e41b78cf62c?s=128&d=identicon&r=PG&f=1", "display_name": "Hasdfa", "link": "https://stackoverflow.com/users/7450505/hasdfa"}, "reply_to_user": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "edited": false, "score": 0, "creation_date": 1502782620, "post_id": 45688232, "comment_id": 78334361, "body": "In kotlin <code>intent</code> means <code>getIntent()</code> in Java"}, {"owner": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "edited": false, "score": 0, "creation_date": 1502782676, "post_id": 45688232, "comment_id": 78334406, "body": "oh,sorry for my poor in Kotlin."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502785348, "post_id": 45688232, "comment_id": 78335706, "body": "Related:  <a href=\"https://stackoverflow.com/questions/45127280/kotlin-call-java-platform-types-result-in-llegalstateexception/45128470#45128470\">Kotlin call Java platform types result in llegalStateException</a>"}, {"owner": {"reputation": 146, "user_id": 7450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0676e332a5560416585e41b78cf62c?s=128&d=identicon&r=PG&f=1", "display_name": "Hasdfa", "link": "https://stackoverflow.com/users/7450505/hasdfa"}, "edited": false, "score": 0, "creation_date": 1502789155, "post_id": 45688232, "comment_id": 78337704, "body": "Ok, I do it... And then all vars is null"}, {"owner": {"reputation": 2500, "user_id": 3489983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0a1403dbb315c938549ae5fea788963?s=128&d=identicon&r=PG&f=1", "display_name": "Tharindu Welagedara", "link": "https://stackoverflow.com/users/3489983/tharindu-welagedara"}, "edited": false, "score": 0, "creation_date": 1505389107, "post_id": 45688232, "comment_id": 79398577, "body": "@Hasdfa please update full QBase class"}], "answers": [{"tags": [], "owner": {"reputation": 267, "user_id": 2014865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1229b307f3c9c0f77db1493af36a2bad?s=128&d=identicon&r=PG", "display_name": "Karats Mohanraj", "link": "https://stackoverflow.com/users/2014865/karats-mohanraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1513514439, "creation_date": 1513514439, "answer_id": 47855184, "question_id": 45688232, "link": "https://stackoverflow.com/questions/45688232/illegalstateexception-parcel-readstring-must-not-be-null/47855184#47855184", "title": "IllegalStateException: parcel.readString() must not be null", "body": "<p>Based on the <a href=\"https://stackoverflow.com/questions/45127280/kotlin-call-java-platform-types-result-in-llegalstateexception/45128470#45128470\">answer</a> -  For the time being, the only workaround is to make the member of the class that implements parcelable to be nullable.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10169611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c7TJM.jpg?s=128&g=1", "display_name": "xinyu li", "link": "https://stackoverflow.com/users/10169611/xinyu-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1533196401, "creation_date": 1533196401, "answer_id": 51648352, "question_id": 45688232, "link": "https://stackoverflow.com/questions/45688232/illegalstateexception-parcel-readstring-must-not-be-null/51648352#51648352", "title": "IllegalStateException: parcel.readString() must not be null", "body": "<p><code>question = parcel.readString() // parcel.readString() must not be null</code></p>\n\n<p>maybe the field <code>question</code> you defined is a not-null field, if the result of <code>parcel.readString()</code> returns a null value, there will be a <code>java.lang.IllegalStateException</code> throwed, just change the definition of <code>val question: String</code> into <code>val question: String?</code> and try again.</p>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 4268003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkEfL.jpg?s=128&g=1", "display_name": "Muse", "link": "https://stackoverflow.com/users/4268003/muse"}, "is_accepted": false, "score": 0, "last_activity_date": 1555641826, "creation_date": 1555641826, "answer_id": 55755943, "question_id": 45688232, "link": "https://stackoverflow.com/questions/45688232/illegalstateexception-parcel-readstring-must-not-be-null/55755943#55755943", "title": "IllegalStateException: parcel.readString() must not be null", "body": "<p>Because your string is null string, like question=\"null\"</p>\n"}], "owner": {"reputation": 146, "user_id": 7450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0676e332a5560416585e41b78cf62c?s=128&d=identicon&r=PG&f=1", "display_name": "Hasdfa", "link": "https://stackoverflow.com/users/7450505/hasdfa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4218, "favorite_count": 0, "accepted_answer_id": 51648352, "answer_count": 3, "score": 3, "last_activity_date": 1555641826, "creation_date": 1502782034, "last_edit_date": 1502782869, "question_id": 45688232, "link": "https://stackoverflow.com/questions/45688232/illegalstateexception-parcel-readstring-must-not-be-null", "title": "IllegalStateException: parcel.readString() must not be null", "body": "<p>I put <code>Parcelable</code> object in <code>Intent</code> to next <code>Activity</code>:</p>\n\n<pre><code>val intent = Intent(mContext, ShowTestActivity::class.java)\nintent.putExtra(\"test\", test)\nLog.d(\"myLog\", \"${intent.getParcelableExtra&lt;Test&gt;(\"test\")}\") // No problem\nmContext.startActivity(intent)\n</code></pre>\n\n<p>And get this object in next <code>Activity</code>:</p>\n\n<pre><code>if (!intent.hasExtra(\"test\")) throw Exception(\"Intent doesn't has 'test' extra\")\nval test: Test = intent.getParcelableExtra(\"test\")\n</code></pre>\n\n<p>And here are throwing Exception:</p>\n\n<pre><code>public open class QBase(): Parcelable {\n  ...\n  protected constructor(parcel: Parcel?) : this() {\n      parcel?.let {\n          question = parcel.readString() // parcel.readString() must not be null\n          helpText = parcel.readString()\n          qValue = parcel.readDouble()\n          qType = QType.valueOf(parcel.readString())\n      }\n  }\n  override fun writeToParcel(parcel: Parcel, flags: Int) {\n      parcel.writeString(question)\n      parcel.writeString(helpText)\n      parcel.writeDouble(qValue)\n      parcel.writeString(qType.name)\n }\n  ...\n}\n</code></pre>\n\n<p>And in Test:</p>\n\n<pre><code>public class Test(): Parcelable {\n  ...\n  public var questions: ArrayList&lt;QBase&gt; = ArrayList()\n\n  constructor(parcel: Parcel?): this() {\n      parcel?.let {\n        ...\n        parcel.readTypedList(questions, QBase.CREATOR)\n      }\n  }\n\n  override fun writeToParcel(p: Parcel?, p1: Int) {\n      p?.let {\n          ...\n          it.writeTypedList(questions)\n      }\n   }\n   ...\n}\n</code></pre>\n\n<p>It is an exception:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalStateException: parcel.readString() must not be null\n                                                                                     at com.vadim.hasdfa.justlearn.Model.Questions.utils.QBase.(QBase.kt:22)\n                                                                                     at com.vadim.hasdfa.justlearn.Model.Questions.utils.QBase$CREATOR.createFromParcel(QBase.kt:70)\n                                                                                     at com.vadim.hasdfa.justlearn.Model.Questions.utils.QBase$CREATOR.createFromParcel(QBase.kt:68)\n                                                                                     at android.os.Parcel.readTypedList(Parcel.java:2432)\n                                                                                     at com.vadim.hasdfa.justlearn.Model.Test.(Test.kt:28)\n                                                                                     at com.vadim.hasdfa.justlearn.Model.Test$CREATOR.createFromParcel(Test.kt:47)\n                                                                                     at com.vadim.hasdfa.justlearn.Model.Test$CREATOR.createFromParcel(Test.kt:45)\n                                                                                     at android.os.Parcel.readParcelable(Parcel.java:2787)\n                                                                                     at android.os.Parcel.readValue(Parcel.java:2681)\n                                                                                     at android.os.Parcel.readArrayMapInternal(Parcel.java:3048)\n                                                                                     at android.os.BaseBundle.unparcel(BaseBundle.java:257)\n                                                                                     at android.os.BaseBundle.containsKey(BaseBundle.java:435)\n                                                                                     at android.content.Intent.hasExtra(Intent.java:6859)\n                                                                                     at com.vadim.hasdfa.justlearn.Controller.Activity.BrowseTest.ShowTestActivity.onCreate(ShowTestActivity.kt:28)\n                                                                                     at android.app.Activity.performCreate(Activity.java:6980)\n                                                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n                                                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n                                                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\u00a0\n                                                                                     at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n                                                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\u00a0\n                                                                                     at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n                                                                                     at android.os.Looper.loop(Looper.java:164)\u00a0\n                                                                                     at android.app.ActivityThread.main(ActivityThread.java:6540)\u00a0\n                                                                                     at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                     at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n                                                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0</p>\n</blockquote>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502786209, "post_id": 45687125, "comment_id": 78336146, "body": "IF you remove the <code>data</code> keywords the failed test will be pass, this is because Kotlin <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#data-classes\" rel=\"nofollow noreferrer\">data class</a> will generates <code>equals</code> method to comparing with properties in primary constructor."}], "answers": [{"tags": [], "owner": {"reputation": 3820, "user_id": 4754037, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EpB-u9D7emI/AAAAAAAAAAI/AAAAAAAAAAA/LsS3R-k2AUY/photo.jpg?sz=128", "display_name": "shawn", "link": "https://stackoverflow.com/users/4754037/shawn"}, "is_accepted": true, "score": 1, "last_activity_date": 1502777747, "creation_date": 1502777747, "answer_id": 45687397, "question_id": 45687125, "link": "https://stackoverflow.com/questions/45687125/kotlin-class-instance-assert-not-correct/45687397#45687397", "title": "Kotlin class instance assert not correct", "body": "<p>The <code>isNotEqualTo</code> calls <code>equals</code>. The Kotlin class implements correct <code>equals</code> method for <code>data class</code>. So <code>domainObject1.equals(domainObject2)</code> is true. This behavior is correct.</p>\n\n<p>just look at the AssertJ document:</p>\n\n<pre><code>isNotSameAs(Object other): \n   Verifies that the actual value is not the same as the given one, \n   ie using == comparison.\n</code></pre>\n\n<p>I think you should try:</p>\n\n<pre><code>    assertThat(domainObject1).isNotSameAs(domainObject2);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 1, "last_activity_date": 1502779553, "last_edit_date": 1502779553, "creation_date": 1502779126, "answer_id": 45687632, "question_id": 45687125, "link": "https://stackoverflow.com/questions/45687125/kotlin-class-instance-assert-not-correct/45687632#45687632", "title": "Kotlin class instance assert not correct", "body": "<p>In Kotlin, <code>equals()</code> is generated automatically for <code>data class</code> to check for equality of the properties.</p>\n\n<p>Quote from \"Kotlin in Action\":</p>\n\n<blockquote>\n  <p>The generated equals() method checks that the values of all the properties are equal. ... Note that properties that aren\u2019t declared in the primary constructor don\u2019t take part in the equality checks and hashcode calculation.</p>\n</blockquote>\n\n<p>If you want to pass the test case without modifying it, you may override <code>equals()</code> of your data class to check for <a href=\"https://kotlinlang.org/docs/reference/equality.html#referential-equality\" rel=\"nofollow noreferrer\">referential equality</a>.</p>\n\n<pre><code>override fun equals(other: Any?) = this === other\n</code></pre>\n\n<p>Note that it may affect your other code, if there is any function which relies on <a href=\"https://kotlinlang.org/docs/reference/equality.html#structural-equality\" rel=\"nofollow noreferrer\">structural equality</a> of your data class. So, I suggest that you refer to @shawn's answer to change your test case instead.</p>\n"}], "owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 45687397, "answer_count": 2, "score": 1, "last_activity_date": 1502779553, "creation_date": 1502776153, "question_id": 45687125, "link": "https://stackoverflow.com/questions/45687125/kotlin-class-instance-assert-not-correct", "title": "Kotlin class instance assert not correct", "body": "<p>I'm converting a Java project into Kotlin.  I've converted a <code>User</code> object into Kotlin and when I run the existing JUnit tests in Java I'm getting a error between two instances of the Kotlin <code>User</code> object.</p>\n\n<p><strong>User.kt:</strong></p>\n\n<pre><code>data class User (\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"sequenceGenerator\")\n@SequenceGenerator(name = \"sequenceGenerator\")\nvar id: Long? = null,\n...\n)\n</code></pre>\n\n<p><strong>TestUtil.java</strong></p>\n\n<pre><code>import static org.assertj.core.api.Assertions.assertThat;\n\npublic class TestUtil {\n    public static void equalsVerifier(Class clazz) throws Exception {\n        Object domainObject1 = clazz.getConstructor().newInstance();\n        // Test with an instance of the same class\n        Object domainObject2 = clazz.getConstructor().newInstance();\n        assertThat(domainObject1).isNotEqualTo(domainObject2);\n    }\n}\n</code></pre>\n\n<p>The <code>assertThat(domainObject1).isNotEqualTo(domainObject2)</code> test fails, as I believe in Java comparison is not done correctly on the Kotlin class.  If I run this through a debugger, I can see that <code>domainObject1</code> and <code>domainObject2</code> are different instances.</p>\n\n<p>Is it possible to get this test case to pass?  The same test case is used for other Java classes, so it has to work for both Java and Kotlin classes.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1502776188, "post_id": 45687024, "comment_id": 78331797, "body": "I think the signature of reduce will force total to be the same as the inner type (e.g. List&lt;Integer&gt;.reduce would have an Integer total)."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "reply_to_user": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1502776552, "post_id": 45687024, "comment_id": 78331935, "body": "@CodeConfident doesn&#39;t seem that way: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a> reduce operation is <code>operation: (acc: S, T) -&gt; S</code> T being the type in the list, S the output."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 2, "creation_date": 1502776679, "post_id": 45687024, "comment_id": 78331985, "body": "There&#39;s a type constraint on the line before that: <code>inline fun &lt;S, T : S&gt;</code> - i.e. T (input type) must be a subtype of S (the returned type)."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 1, "creation_date": 1502777145, "post_id": 45687024, "comment_id": 78332130, "body": "good point. reduce wouldn&#39;t work here. fold would."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1502785773, "post_id": 45687024, "comment_id": 78335919, "body": "Wow... I always thought <code>reduce</code> and <code>fold</code> were synonyms!"}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 2, "creation_date": 1502786525, "post_id": 45687152, "comment_id": 78336309, "body": "you can use <code>parts.map { it.size }.sum()</code> instead."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 2, "creation_date": 1502809795, "post_id": 45687152, "comment_id": 78349686, "body": "Or even just <code>parts.sumBy { it.size }</code>"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1502814896, "post_id": 45687152, "comment_id": 78353029, "body": "@RuckusT-Boom - I think that&#39;s the cleanest so far; expressive &amp; concise, and I imagine more efficient than fold since sum is presumably independent of order."}], "tags": [], "owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "is_accepted": true, "score": 5, "last_activity_date": 1502814759, "last_edit_date": 1502814759, "creation_date": 1502776307, "answer_id": 45687152, "question_id": 45687024, "link": "https://stackoverflow.com/questions/45687024/kotlin-reduce-function-for-2d-list-not-working/45687152#45687152", "title": "Kotlin reduce function for 2d list not working", "body": "<p>Better: map operation during sum (from @Ruckus T-Boom comment)</p>\n\n<pre><code>parts.sumBy { it.size }\n</code></pre>\n\n<p>Original: map the inner lists to their sizes first (guessing Kotlin syntax):</p>\n\n<pre><code>parts.map { l -&gt; l.size }.reduce { total, i -&gt; total + i }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1502788023, "post_id": 45687281, "comment_id": 78337142, "body": "@OMGPOP - I think this answer is more idiomatic for your problem! Thanks njzk2 for educating me on the difference between reduce &amp; fold. I even continued to read more detail here: <a href=\"https://stackoverflow.com/questions/25158780/difference-between-reduce-and-foldleft-fold-in-functional-programming-particula\" title=\"difference between reduce and foldleft fold in functional programming particula\">stackoverflow.com/questions/25158780/&hellip;</a>"}], "tags": [], "owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "is_accepted": false, "score": 2, "last_activity_date": 1502777106, "creation_date": 1502777106, "answer_id": 45687281, "question_id": 45687024, "link": "https://stackoverflow.com/questions/45687024/kotlin-reduce-function-for-2d-list-not-working/45687281#45687281", "title": "Kotlin reduce function for 2d list not working", "body": "<p>In <code>reduce</code>, the first value for <code>total</code> is the first element of the list, which is also a list. So the inferred type for the return value of the <code>reduce</code> has to be <code>List</code>.</p>\n\n<p>You can use <code>fold</code> instead:</p>\n\n<pre><code>return parts.fold(0, { total, next -&gt; total + next.size })\n</code></pre>\n"}], "owner": {"reputation": 3587, "user_id": 767653, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/228194f4c46d00e3de94b2f6efcc7b23?s=128&d=identicon&r=PG", "display_name": "OMGPOP", "link": "https://stackoverflow.com/users/767653/omgpop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 45687152, "answer_count": 2, "score": 2, "last_activity_date": 1502814759, "creation_date": 1502775458, "question_id": 45687024, "link": "https://stackoverflow.com/questions/45687024/kotlin-reduce-function-for-2d-list-not-working", "title": "Kotlin reduce function for 2d list not working", "body": "<p>I need to get a total size of a 2d list. This is my implementation: </p>\n\n<pre><code>    fun totalSize(parts: List&lt;List&lt;String&gt;&gt;): Int {\n        return parts.reduce { total, next -&gt; total + next.size }\n    }\n</code></pre>\n\n<p>I get type inference fail. Required Int, Got List. But next.size should return Int. </p>\n"}, {"tags": ["android", "kotlin", "bottomnavigationview"], "answers": [{"tags": [], "owner": {"reputation": 1485, "user_id": 2593123, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/YsoM9.png?s=128&g=1", "display_name": "arcade16", "link": "https://stackoverflow.com/users/2593123/arcade16"}, "is_accepted": true, "score": 3, "last_activity_date": 1502811393, "last_edit_date": 1502811393, "creation_date": 1502810166, "answer_id": 45695910, "question_id": 45686090, "link": "https://stackoverflow.com/questions/45686090/how-to-set-default-bottomnavigationview-tab-in-kotlin/45695910#45695910", "title": "How to set default BottomNavigationView tab in Kotlin?", "body": "<p>Resolved the default selected tab issue by adding the following code to my onCreate function:</p>\n\n<pre><code>    val bottomNavigationView: BottomNavigationView = findViewById(R.id.navigation) as BottomNavigationView\n    bottomNavigationView.selectedItemId = R.id.navigation_home\n</code></pre>\n\n<p>Also, I resolved the issue of fragments being drawn on top of one another by modifying the following:</p>\n\n<pre><code>if (frag != null) {\n        val ft = supportFragmentManager.beginTransaction()\n        ft.replace(R.id.content, frag, frag.tag)\n        ft.commit()\n    }\n}\n</code></pre>\n\n<p>I changed <code>ft.add</code> to <code>ft.replace</code></p>\n"}], "owner": {"reputation": 1485, "user_id": 2593123, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/YsoM9.png?s=128&g=1", "display_name": "arcade16", "link": "https://stackoverflow.com/users/2593123/arcade16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5095, "favorite_count": 2, "accepted_answer_id": 45695910, "answer_count": 1, "score": 2, "last_activity_date": 1515361676, "creation_date": 1502767785, "last_edit_date": 1515361676, "question_id": 45686090, "link": "https://stackoverflow.com/questions/45686090/how-to-set-default-bottomnavigationview-tab-in-kotlin", "title": "How to set default BottomNavigationView tab in Kotlin?", "body": "<p>I have been trying to set my default selected tab using the widely accepted java method in my onCreate (bottomNavigationView.setSelectedItemId(R.id.item_id)) but this does not seem to work in Kotlin. Also, the fragments that are set to load on each selected item seem to load every time that menu item is selected, as well as drawing their contents over the previous fragment.</p>\n\n<p>How can I set the default selected tab for my BottomNavigationView? Also am I correctly loading fragments or is my code not properly disposing of fragments before loading another one?</p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    private val SELECTED_ITEM = \"arg_selected_item\"\n\n    private var mBottomNav: BottomNavigationView? = null\n    private var mSelectedItem: Int = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        mBottomNav = findViewById(R.id.navigation) as BottomNavigationView\n        mBottomNav!!.setOnNavigationItemSelectedListener { item -&gt;\n            selectFragment(item)\n            true\n        }\n\n        val selectedItem: MenuItem\n        if (savedInstanceState != null) {\n            mSelectedItem = savedInstanceState.getInt(SELECTED_ITEM, 0)\n            selectedItem = mBottomNav!!.menu.findItem(mSelectedItem)\n        } else {\n            selectedItem = mBottomNav!!.menu.getItem(0)\n        }\n        selectFragment(selectedItem)\n    }\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        outState.putInt(SELECTED_ITEM, mSelectedItem)\n        super.onSaveInstanceState(outState)\n    }\n\n    override fun onBackPressed() {\n        val homeItem = mBottomNav!!.menu.getItem(0)\n        if (mSelectedItem != homeItem.itemId) {\n            // select home item\n            selectFragment(homeItem)\n        } else {\n            super.onBackPressed()\n        }\n    }\n\n    private fun selectFragment(item: MenuItem) {\n        var frag: Fragment? = null\n        // init corresponding fragment\n        when (item.itemId) {\n            R.id.navigation_enrollments -&gt; frag = EnrollmentsFragment.newInstance()\n            R.id.navigation_timeline -&gt; frag = TimelineFragment.newInstance()\n            R.id.navigation_home -&gt; frag = HomeFragment.newInstance()\n            R.id.navigation_alerts -&gt; frag = AlertsFragment.newInstance()\n            R.id.navigation_profile -&gt; frag = ProfileFragment.newInstance()\n        }\n\n        // update selected item\n        mSelectedItem = item.itemId\n\n        // uncheck the other items.\n        for (i in 0..mBottomNav!!.menu.size() - 1) {\n            val menuItem = mBottomNav!!.menu.getItem(i)\n            menuItem.isChecked = menuItem.itemId == item.itemId\n        }\n\n        updateToolbarText(item.title)\n\n        if (frag != null) {\n            val ft = supportFragmentManager.beginTransaction()\n            ft.add(R.id.content, frag, frag.tag)\n            ft.commit()\n        }\n    }\n\n    private fun updateToolbarText(text: CharSequence) {\n        val actionBar = supportActionBar\n        if (actionBar != null) {\n            actionBar.title = text\n        }\n    }\n\n    private fun getColorFromRes(@ColorRes resId: Int): Int {\n        return ContextCompat.getColor(this, resId)\n    }\n}\n</code></pre>\n"}, {"tags": ["random", "kotlin", "jvm"], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 1, "last_activity_date": 1502758970, "creation_date": 1502758970, "answer_id": 45685112, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/45685112#45685112", "title": "How can I get a random number in Kotlin?", "body": "<p>First, you need a RNG. In Kotlin you currently need to use the platform specific ones (there isn't a Kotlin built in one). For the JVM it's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>java.util.Random</code></a>. You'll need to create an instance of it and then call <code>random.nextInt(n)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1502787169, "post_id": 45685145, "comment_id": 78336637, "body": "If you want to get a couple of ranged random <code>Int</code>s, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-long-int-int-\" rel=\"nofollow noreferrer\">Random#int(size,from,to)</a> instead in <a href=\"https://stackoverflow.com/questions/tagged/java-8\">java-8</a>."}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 4, "creation_date": 1514911180, "post_id": 45685145, "comment_id": 83102360, "body": "This solution doesn&#39;t work on Javascript / Native Kotlin. Perhaps it could be cool to make a more generic method to do this. :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "edited": false, "score": 0, "creation_date": 1522240801, "post_id": 45685145, "comment_id": 86075909, "body": "@ValentinMichalak you can try this one: <a href=\"https://stackoverflow.com/a/49507413/8073652\">stackoverflow.com/a/49507413/8073652</a>"}], "tags": [], "owner": {"reputation": 7049, "user_id": 1544715, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be85f7bc23d6fa1addc8d35e39870579?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1544715/magnus"}, "is_accepted": false, "score": 43, "last_activity_date": 1502759221, "creation_date": 1502759221, "answer_id": 45685145, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/45685145#45685145", "title": "How can I get a random number in Kotlin?", "body": "<p>Generate a random integer between <code>from</code>(inclusive) and <code>to</code>(exclusive)</p>\n\n<pre><code>import java.util.Random\n\nval random = Random()\n\nfun rand(from: Int, to: Int) : Int {\n    return random.nextInt(to - from) + from\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4378086, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-X1vWQKmPldg/AAAAAAAAAAI/AAAAAAAAB74/30ZsghwWG2M/photo.jpg?sz=128", "display_name": "Mahdi AlKhalaf", "link": "https://stackoverflow.com/users/4378086/mahdi-alkhalaf"}, "is_accepted": false, "score": 2, "last_activity_date": 1502777970, "creation_date": 1502777970, "answer_id": 45687439, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/45687439#45687439", "title": "How can I get a random number in Kotlin?", "body": "<p>There is no standard method that does this but you can easily create your own using either <code>Math.random()</code> or the class <code>java.util.Random</code>. Here is an example using the <code>Math.random()</code> method:</p>\n\n<pre><code>fun random(n: Int) = (Math.random() * n).toInt()\nfun random(from: Int, to: Int) = (Math.random() * (to - from) + from).toInt()\nfun random(pair: Pair&lt;Int, Int&gt;) = random(pair.first, pair.second)\n\nfun main(args: Array&lt;String&gt;) {\n    val n = 10\n\n    val rand1 = random(n)\n    val rand2 = random(5, n)\n    val rand3 = random(5 to n)\n\n    println(List(10) { random(n) })\n    println(List(10) { random(5 to n) })\n}\n</code></pre>\n\n<p>This is a sample output:</p>\n\n<pre><code>[9, 8, 1, 7, 5, 6, 9, 8, 1, 9]\n[5, 8, 9, 7, 6, 6, 8, 6, 7, 9]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1521666587, "post_id": 45687695, "comment_id": 85834881, "body": "I assume this also uses Java&#39;s <code>java.util.Random</code>?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1522137724, "post_id": 45687695, "comment_id": 86018862, "body": "@SimonForsberg Indeed. I added another answer which doesn&#39;t make use of it: <a href=\"https://stackoverflow.com/a/49507413/8073652\">stackoverflow.com/a/49507413/8073652</a>"}, {"owner": {"reputation": 744, "user_id": 3708426, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1696669719/picture?type=large", "display_name": "Jonathan Leitschuh", "link": "https://stackoverflow.com/users/3708426/jonathan-leitschuh"}, "edited": false, "score": 0, "creation_date": 1555699916, "post_id": 45687695, "comment_id": 98207267, "body": "There&#39;s also a proposal here to add a Cryptographically Secure Pseudo-Random Number Generator (CSPRNG) here: <a href=\"https://github.com/Kotlin/KEEP/issues/184\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/issues/184</a>"}, {"owner": {"reputation": 1576, "user_id": 1163940, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/pvAaY.jpg?s=128&g=1", "display_name": "xst", "link": "https://stackoverflow.com/users/1163940/xst"}, "edited": false, "score": 2, "creation_date": 1604340400, "post_id": 45687695, "comment_id": 114312333, "body": "<code>val rnds = (0..10).random()</code>  actually generates 0 through 10 including <b>10</b>  and <b>0</b>.   <a href=\"https://pl.kotl.in/1o8LyD1Dc\" rel=\"nofollow noreferrer\">pl.kotl.in/1o8LyD1Dc</a>"}, {"owner": {"reputation": 656, "user_id": 1908090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3958195c1dd69979c8e06c4e8ffb402b?s=128&d=identicon&r=PG", "display_name": "taha", "link": "https://stackoverflow.com/users/1908090/taha"}, "edited": false, "score": 0, "creation_date": 1611001176, "post_id": 45687695, "comment_id": 116305700, "body": "It works although return same number for every call"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 462, "last_activity_date": 1611064603, "last_edit_date": 1611064603, "creation_date": 1502779478, "answer_id": 45687695, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/45687695#45687695", "title": "How can I get a random number in Kotlin?", "body": "<p>My suggestion would be an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">extension</a> function on <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-closed-range/index.html\" rel=\"noreferrer\">IntRange</a> to create randoms like this: <code>(0..10).random()</code></p>\n<h2>TL;DR Kotlin &gt;= 1.3, one Random for all platforms</h2>\n<p>As of  1.3, Kotlin comes with its own multi-platform Random generator. It is described in this <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/random.md\" rel=\"noreferrer\">KEEP</a>. The extension described below is now <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/random.html#random\" rel=\"noreferrer\">part of the Kotlin standard library</a>, simply use it like this:</p>\n<pre><code>val rnds = (0..10).random() // generated random from 0 to 10 included\n</code></pre>\n<hr />\n<h3>Kotlin &lt; 1.3</h3>\n<p>Before 1.3, on the JVM we use <code>Random</code> or even <code>ThreadLocalRandom</code> if we're on JDK &gt; 1.6.</p>\n<pre><code>fun IntRange.random() = \n       Random().nextInt((endInclusive + 1) - start) + start\n</code></pre>\n<p>Used like this:</p>\n<pre><code>// will return an `Int` between 0 and 10 (incl.)\n(0..10).random()\n</code></pre>\n<p>If you wanted the function only to return <code>1, 2, ..., 9</code> (<code>10</code> not included), use a range constructed with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/until.html\" rel=\"noreferrer\"><code>until</code></a>:</p>\n<pre><code>(0 until 10).random()\n</code></pre>\n<p>If you're working with JDK &gt; 1.6, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"noreferrer\"><code>ThreadLocalRandom.current()</code></a> instead of <code>Random()</code>.</p>\n<p><strong>KotlinJs and other variations</strong></p>\n<p>For kotlinjs and other use cases which don't allow the usage of <code>java.util.Random</code>, see <a href=\"https://stackoverflow.com/a/49507413/8073652\">this alternative</a>.</p>\n<p>Also, see this <a href=\"https://stackoverflow.com/a/47863752/8073652\">answer</a> for variations of my suggestion. It also includes an extension function for random <code>Char</code>s.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 11, "last_activity_date": 1609283908, "last_edit_date": 1609283908, "creation_date": 1503184863, "answer_id": 45777115, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/45777115#45777115", "title": "How can I get a random number in Kotlin?", "body": "<p>You can create an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"nofollow noreferrer\">extension function</a> similar to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-\" rel=\"nofollow noreferrer\"><code>java.util.Random.nextInt(int)</code></a> but one that takes an <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-int-range/\" rel=\"nofollow noreferrer\"><code>IntRange</code></a> instead of an <code>Int</code> for its bound:</p>\n<pre><code>fun Random.nextInt(range: IntRange): Int {\n    return range.start + nextInt(range.last - range.start)\n}\n</code></pre>\n<p>You can now use this with any <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>Random</code></a> instance:</p>\n<pre><code>val random = Random()\nprintln(random.nextInt(5..9)) // prints 5, 6, 7, 8, or 9\n</code></pre>\n<p>If you don't want to have to manage your own <code>Random</code> instance then you can define a convenience method using, for example, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html#current--\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom.current()</code></a>:</p>\n<pre><code>fun rand(range: IntRange): Int {\n    return ThreadLocalRandom.current().nextInt(range)\n}\n</code></pre>\n<p>Now you can get a random integer as you would in Ruby without having to first declare a <code>Random</code> instance yourself:</p>\n<pre><code>rand(5..9) // returns 5, 6, 7, 8, or 9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "is_accepted": false, "score": 7, "last_activity_date": 1515558670, "last_edit_date": 1515558670, "creation_date": 1507210125, "answer_id": 46586885, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/46586885#46586885", "title": "How can I get a random number in Kotlin?", "body": "<p>Building off of <a href=\"https://stackoverflow.com/a/45687695/8073652\">@s1m0nw1</a> excellent answer I made the following changes.</p>\n\n<ol>\n<li>(0..n) implies inclusive in Kotlin</li>\n<li>(0 until n) implies exclusive in Kotlin</li>\n<li>Use a singleton object for the Random instance (optional)</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>private object RandomRangeSingleton : Random()\n\nfun ClosedRange&lt;Int&gt;.random() = RandomRangeSingleton.nextInt((endInclusive + 1) - start) + start\n</code></pre>\n\n<p>Test Case:</p>\n\n<pre><code>fun testRandom() {\n        Assert.assertTrue(\n                (0..1000).all {\n                    (0..5).contains((0..5).random())\n                }\n        )\n        Assert.assertTrue(\n                (0..1000).all {\n                    (0..4).contains((0 until 5).random())\n                }\n        )\n        Assert.assertFalse(\n                (0..1000).all {\n                    (0..4).contains((0..5).random())\n                }\n        )\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 11, "last_activity_date": 1547191424, "last_edit_date": 1547191424, "creation_date": 1513581787, "answer_id": 47863752, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/47863752#47863752", "title": "How can I get a random number in Kotlin?", "body": "<p><strong>Possible Variation to my <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">other answer</a> for random chars</strong></p>\n\n<p>In order to get random <code>Char</code>s, you can define an extension function like this</p>\n\n<pre><code>fun ClosedRange&lt;Char&gt;.random(): Char = \n       (Random().nextInt(endInclusive.toInt() + 1 - start.toInt()) + start.toInt()).toChar()\n\n// will return a `Char` between A and Z (incl.)\n('A'..'Z').random()\n</code></pre>\n\n<p>If you're working with JDK > 1.6, use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-closed-range/index.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom.current()</code> </a>instead of <code>Random()</code>.</p>\n\n<p>For kotlinjs and other use cases which don't allow the usage of <code>java.util.Random</code>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/until.html\" rel=\"nofollow noreferrer\">this answer</a> will help.</p>\n\n<h2>Kotlin >= 1.3 multiplatform support for Random</h2>\n\n<p>As of  1.3, Kotlin comes with its own multiplatform Random generator. It is described in this <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/random.md\" rel=\"nofollow noreferrer\">KEEP</a>. You can now directly use the extension as part of the Kotlin standard library without defining it:</p>\n\n<pre><code>('a'..'b').random()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1547072251, "last_edit_date": 1547072251, "creation_date": 1513613395, "answer_id": 47872256, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/47872256#47872256", "title": "How can I get a random number in Kotlin?", "body": "<p>Using a top-level function, you can achieve exactly the same call syntax as in Ruby (as you wish):</p>\n\n<pre><code>fun rand(s: Int, e: Int) = Random.nextInt(s, e + 1)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>rand(1, 3) // returns either 1, 2 or 3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1547070376, "last_edit_date": 1547070376, "creation_date": 1513613700, "answer_id": 47872344, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/47872344#47872344", "title": "How can I get a random number in Kotlin?", "body": "<p>If the numbers you want to choose from are not consecutive, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/random.html\" rel=\"nofollow noreferrer\"><code>random()</code></a>.</p>\n\n<p>Usage:</p>\n\n<pre><code>val list = listOf(3, 1, 4, 5)\nval number = list.random()\n</code></pre>\n\n<p>Returns one of the numbers which are in the list.</p>\n"}, {"comments": [{"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1521667403, "post_id": 48203942, "comment_id": 85835245, "body": "I&#39;d rather rely on platform specific code than make my own random algorithm. This reminds me a bit about the code for java.util.Random, but it doesn&#39;t completely match."}], "tags": [], "owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "is_accepted": false, "score": 2, "last_activity_date": 1515664458, "last_edit_date": 1515664458, "creation_date": 1515663960, "answer_id": 48203942, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/48203942#48203942", "title": "How can I get a random number in Kotlin?", "body": "<p>Kotlin standard lib doesn't provide Random Number Generator API. If you aren't in a multiplatform project, it's better to use the platform api <em>(all the others answers of the question talk about this solution)</em>.</p>\n\n<p><strong>But if you are in a multiplatform context, the best solution is to implement random by yourself in pure kotlin for share the same random number generator between platforms.</strong> It's more simple for dev and testing.</p>\n\n<p>To answer to this problem in my personal project, i implement a pure Kotlin <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">Linear Congruential Generator</a>. LCG is the algorithm used by <code>java.util.Random</code>. Follow this link if you want to use it : \n<a href=\"https://gist.github.com/11e5ddb567786af0ed1ae4d7f57441d4\" rel=\"nofollow noreferrer\">https://gist.github.com/11e5ddb567786af0ed1ae4d7f57441d4</a></p>\n\n<p>My implementation purpose <code>nextInt(range: IntRange)</code> for you ;).</p>\n\n<p>Take care about my purpose, LCG is good for most of the use cases <em>(simulation, games, etc...)</em> but is not suitable for cryptographically usage because of the predictability of this method.</p>\n"}, {"comments": [{"owner": {"reputation": 64, "user_id": 3471194, "user_type": "registered", "profile_image": "https://graph.facebook.com/551753049/picture?type=large", "display_name": "user3471194", "link": "https://stackoverflow.com/users/3471194/user3471194"}, "edited": false, "score": 0, "creation_date": 1540771116, "post_id": 48817665, "comment_id": 92974404, "body": "this one is useful for kotlin-native"}], "tags": [], "owner": {"reputation": 996, "user_id": 1255006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/041uN.jpg?s=128&g=1", "display_name": "mutexkid", "link": "https://stackoverflow.com/users/1255006/mutexkid"}, "is_accepted": false, "score": 32, "last_activity_date": 1518735551, "creation_date": 1518735551, "answer_id": 48817665, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/48817665#48817665", "title": "How can I get a random number in Kotlin?", "body": "<p>As of kotlin 1.2, you could write: </p>\n\n<p><code>(1..3).shuffled().last()</code></p>\n\n<p>Just be aware it's big O(n), but for a small list (especially of unique values) it's alright :D</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 5, "last_activity_date": 1547191316, "last_edit_date": 1547191316, "creation_date": 1522137694, "answer_id": 49507413, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/49507413#49507413", "title": "How can I get a random number in Kotlin?", "body": "<h2>Kotlin >= 1.3, multiplatform support for Random</h2>\n\n<p>As of 1.3, the standard library provided multi-platform support for randoms, see <a href=\"https://stackoverflow.com/a/45687695/8073652\">this</a> answer.</p>\n\n<h2>Kotlin &lt; 1.3 on JavaScript</h2>\n\n<p>If you are working with Kotlin JavaScript and don't have access to <code>java.util.Random</code>, the following will work:</p>\n\n<pre><code>fun IntRange.random() = (Math.random() * ((endInclusive + 1) - start) + start).toInt()\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>// will return an `Int` between 0 and 10 (incl.)\n(0..10).random()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1810, "user_id": 898457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8EOSo.jpg?s=128&g=1", "display_name": "Alex Semeniuk", "link": "https://stackoverflow.com/users/898457/alex-semeniuk"}, "edited": false, "score": 1, "creation_date": 1532446622, "post_id": 51124603, "comment_id": 89973686, "body": "Your first answer I like the most. It&#39;s a perfect one-liner that does not requre to write any extension functions"}, {"owner": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "reply_to_user": {"reputation": 1810, "user_id": 898457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8EOSo.jpg?s=128&g=1", "display_name": "Alex Semeniuk", "link": "https://stackoverflow.com/users/898457/alex-semeniuk"}, "edited": false, "score": 0, "creation_date": 1599898852, "post_id": 51124603, "comment_id": 112922752, "body": "@AlexSemeniuk please don&#39;t. <code>shuffled()</code> will return a list. Just imagine what would happen if you pass <code>(0..Integer.MAX_VALUE)</code>"}, {"owner": {"reputation": 1810, "user_id": 898457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8EOSo.jpg?s=128&g=1", "display_name": "Alex Semeniuk", "link": "https://stackoverflow.com/users/898457/alex-semeniuk"}, "reply_to_user": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "edited": false, "score": 0, "creation_date": 1599994603, "post_id": 51124603, "comment_id": 112942598, "body": "@deviant Good point. It&#39;s just that I had a use-case where I needed to get random element from the collection."}], "tags": [], "owner": {"reputation": 30876, "user_id": 2079831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/707e9914d5a39558c376e8db47c60151?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2079831/andrew"}, "is_accepted": false, "score": 5, "last_activity_date": 1530458768, "creation_date": 1530458768, "answer_id": 51124603, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/51124603#51124603", "title": "How can I get a random number in Kotlin?", "body": "<p>Examples random in the range [1, 10]    </p>\n\n<pre><code>val random1 = (0..10).shuffled().last()\n</code></pre>\n\n<p>or utilizing Java Random</p>\n\n<pre><code>val random2 = Random().nextInt(10) + 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": false, "score": 5, "last_activity_date": 1553364613, "last_edit_date": 1553364613, "creation_date": 1531966475, "answer_id": 51413393, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/51413393#51413393", "title": "How can I get a random number in Kotlin?", "body": "<p>Another way of implementing s1m0nw1's answer would be to access it through a variable. Not that its any more efficient but it saves you from having to type ().</p>\n\n<pre><code>val ClosedRange&lt;Int&gt;.random: Int\n    get() = Random().nextInt((endInclusive + 1) - start) +  start \n</code></pre>\n\n<p>And now it can be accessed as such</p>\n\n<pre><code>(1..10).random\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "is_accepted": false, "score": 7, "last_activity_date": 1600011254, "last_edit_date": 1600011254, "creation_date": 1536849741, "answer_id": 52316172, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/52316172#52316172", "title": "How can I get a random number in Kotlin?", "body": "<p>In Kotlin SDK &gt;=1.3 you can do it like</p>\n<pre><code>import kotlin.random.Random\n\nval number = Random.nextInt(limit)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4780102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rts9VhhrwR0/AAAAAAAAAAI/AAAAAAAAnZk/lShmzexu7LQ/photo.jpg?sz=128", "display_name": "Deomin Dmitriy", "link": "https://stackoverflow.com/users/4780102/deomin-dmitriy"}, "is_accepted": false, "score": -1, "last_activity_date": 1543418980, "creation_date": 1543418980, "answer_id": 53522902, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/53522902#53522902", "title": "How can I get a random number in Kotlin?", "body": "<p>to be super duper ))</p>\n\n<pre><code> fun rnd_int(min: Int, max: Int): Int {\n        var max = max\n        max -= min\n        return (Math.random() * ++max).toInt() + min\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1547072010, "creation_date": 1547072010, "answer_id": 54119156, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/54119156#54119156", "title": "How can I get a random number in Kotlin?", "body": "<p>No need to use custom extension functions anymore. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/-int-range/index.html\" rel=\"nofollow noreferrer\">IntRange</a> has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.ranges/random.html#random\" rel=\"nofollow noreferrer\"><code>random()</code></a> extension function out-of-the-box now.</p>\n\n<pre><code>val randomNumber = (0..10).random()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1547598252, "creation_date": 1547598252, "answer_id": 54208749, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/54208749#54208749", "title": "How can I get a random number in Kotlin?", "body": "<blockquote>\n  <p><strong>To get a random Int number in Kotlin use the following method</strong>:</p>\n</blockquote>\n\n<pre><code>import java.util.concurrent.ThreadLocalRandom\n\nfun randomInt(rangeFirstNum:Int, rangeLastNum:Int) {\n    val randomInteger = ThreadLocalRandom.current().nextInt(rangeFirstNum,rangeLastNum)\n    println(randomInteger)\n}\nfun main() {    \n    randomInt(1,10)\n}\n\n\n// Result \u2013 random Int numbers from 1 to 9\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1689, "user_id": 1508956, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/2c594a8170d3d53e3e2b279913eb7c14?s=128&d=identicon&r=PG", "display_name": "rodrigosimoesrosa", "link": "https://stackoverflow.com/users/1508956/rodrigosimoesrosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1556838411, "creation_date": 1556838411, "answer_id": 55961324, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/55961324#55961324", "title": "How can I get a random number in Kotlin?", "body": "<p>You could create an extension function:</p>\n\n<pre><code>infix fun ClosedRange&lt;Float&gt;.step(step: Float): Iterable&lt;Float&gt; {\n    require(start.isFinite())\n    require(endInclusive.isFinite())\n    require(step.round() &gt; 0.0) { \"Step must be positive, was: $step.\" }\n    require(start != endInclusive) { \"Start and endInclusive must not be the same\"}\n\n    if (endInclusive &gt; start) {\n        return generateSequence(start) { previous -&gt;\n            if (previous == Float.POSITIVE_INFINITY) return@generateSequence null\n            val next = previous + step.round()\n            if (next &gt; endInclusive) null else next.round()\n        }.asIterable()\n    }\n\n    return generateSequence(start) { previous -&gt;\n        if (previous == Float.NEGATIVE_INFINITY) return@generateSequence null\n        val next = previous - step.round()\n        if (next &lt; endInclusive) null else next.round()\n    }.asIterable()\n}\n</code></pre>\n\n<p>Round Float value:</p>\n\n<pre><code>fun Float.round(decimals: Int = DIGITS): Float {\n    var multiplier = 1.0f\n    repeat(decimals) { multiplier *= 10 }\n    return round(this * multiplier) / multiplier\n}\n</code></pre>\n\n<p>Method's usage:</p>\n\n<pre><code>(0.0f .. 1.0f).step(.1f).forEach { System.out.println(\"value: $it\") }\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>value: 0.0 value: 0.1 value: 0.2 value: 0.3 value: 0.4 value: 0.5\n  value: 0.6 value: 0.7 value: 0.8 value: 0.9 value: 1.0</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1677, "user_id": 1644934, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1f5a756128531dc47f04597c6e4768?s=128&d=identicon&r=PG", "display_name": "Vincent Sit", "link": "https://stackoverflow.com/users/1644934/vincent-sit"}, "is_accepted": false, "score": 0, "last_activity_date": 1577283078, "creation_date": 1577283078, "answer_id": 59479189, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/59479189#59479189", "title": "How can I get a random number in Kotlin?", "body": "<p>Full source code. Can control whether duplicates are allowed.</p>\n\n<pre><code>import kotlin.math.min\n\nabstract class Random {\n\n    companion object {\n        fun string(length: Int, isUnique: Boolean = false): String {\n            if (0 == length) return \"\"\n            val alphabet: List&lt;Char&gt; = ('a'..'z') + ('A'..'Z') + ('0'..'9') // Add your set here.\n\n            if (isUnique) {\n                val limit = min(length, alphabet.count())\n                val set = mutableSetOf&lt;Char&gt;()\n                do { set.add(alphabet.random()) } while (set.count() != limit)\n                return set.joinToString(\"\")\n            }\n            return List(length) { alphabet.random() }.joinToString(\"\")\n        }\n\n        fun alphabet(length: Int, isUnique: Boolean = false): String {\n            if (0 == length) return \"\"\n            val alphabet = ('A'..'Z')\n            if (isUnique) {\n                val limit = min(length, alphabet.count())\n                val set = mutableSetOf&lt;Char&gt;()\n                do { set.add(alphabet.random()) } while (set.count() != limit)\n                return set.joinToString(\"\")\n            }\n\n            return List(length) { alphabet.random() }.joinToString(\"\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 1872483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9083cc19a840e1c34a8f93775aac98?s=128&d=identicon&r=PG", "display_name": "Rupesh Gaud", "link": "https://stackoverflow.com/users/1872483/rupesh-gaud"}, "is_accepted": false, "score": 0, "last_activity_date": 1593238568, "creation_date": 1593238568, "answer_id": 62606636, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/62606636#62606636", "title": "How can I get a random number in Kotlin?", "body": "<p>Whenever there is a situation where you want to generate key or mac address which is hexadecimal number having digits based on user demand, and that too using android and kotlin, then you my below code helps you:</p>\n<pre><code>private fun getRandomHexString(random: SecureRandom, numOfCharsToBePresentInTheHexString: Int): String {\n    val sb = StringBuilder()\n    while (sb.length &lt; numOfCharsToBePresentInTheHexString) {\n        val randomNumber = random.nextInt()\n        val number = String.format(&quot;%08X&quot;, randomNumber)\n        sb.append(number)\n    }\n    return sb.toString()\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3367, "user_id": 5916535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92ac670b9fa8bace750ed9a82a976c88?s=128&d=identicon&r=PG&f=1", "display_name": "Nafeez Quraishi", "link": "https://stackoverflow.com/users/5916535/nafeez-quraishi"}, "is_accepted": false, "score": 0, "last_activity_date": 1606068698, "creation_date": 1606068698, "answer_id": 64957728, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin/64957728#64957728", "title": "How can I get a random number in Kotlin?", "body": "<p>Below in Kotlin worked well for me:</p>\n<pre><code>(fromNumber.rangeTo(toNumber)).random()\n</code></pre>\n<p>Range of the numbers starts with variable <code>fromNumber</code> and ends with variable <code>toNumber</code>. <code>fromNumber</code> and <code>toNumber</code> will also be included in the random numbers generated out of this.</p>\n"}], "owner": {"reputation": 3060, "user_id": 6516044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/uL1tn.jpg?s=128&g=1", "display_name": "Yago Azedias", "link": "https://stackoverflow.com/users/6516044/yago-azedias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122754, "favorite_count": 25, "accepted_answer_id": 45687695, "answer_count": 22, "score": 195, "last_activity_date": 1611064603, "creation_date": 1502758165, "last_edit_date": 1553782481, "question_id": 45685026, "link": "https://stackoverflow.com/questions/45685026/how-can-i-get-a-random-number-in-kotlin", "title": "How can I get a random number in Kotlin?", "body": "<p>A generic method that can return a random integer between 2 parameters like ruby does with <code>rand(0..n)</code>.</p>\n\n<p>Any suggestion?</p>\n"}, {"tags": ["java", "security", "ssh", "kotlin", "gitblit"], "owner": {"reputation": 1937, "user_id": 249595, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/65a772b3908b4b3c18f797c3321de190?s=128&d=identicon&r=PG", "display_name": "Bernd Haug", "link": "https://stackoverflow.com/users/249595/bernd-haug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1502750868, "creation_date": 1502750868, "question_id": 45684122, "link": "https://stackoverflow.com/questions/45684122/how-to-get-ssh-input-output-from-single-command-ssh-exec-in-java-current-ssh", "title": "How to get SSH input/output from single command (ssh exec) in Java (current: sshj)?", "body": "<p>tl;dr: how can I get I/O when sending an exec command using sshj? Alternatively, what other Java SSH libraries provide a similar level of abstraction but might work better for my use case?</p>\n\n<p>Apart from not working for me, yet, I really like sshj\u2019s level of abstraction, most other Java/SSH libs are much lower level and I neither want nor need this for my use case.</p>\n\n<p>Details:</p>\n\n<p>As part for a tool for developer onboarding, I\u2019m trying to install ssh\npublic keys on a gitblit server, patterned after\n<a href=\"https://github.com/hierynomus/sshj/blob/master/examples/src/main/java/net/schmizz/sshj/examples/Exec.java\" rel=\"nofollow noreferrer\">https://github.com/hierynomus/sshj/blob/master/examples/src/main/java/net/schmizz/sshj/examples/Exec.java</a>.</p>\n\n<p>I\u2019m working with sshj:</p>\n\n<pre><code>compile 'com.hierynomus:sshj:0.21.1'\n</code></pre>\n\n<p>Platform: Koltin 1.1.3-2 (JRE 1.8.0_131-b11, Azul Zulu on Mac 10.12)</p>\n\n<p>Unfortunately I can\u2019t seem to read from or write to the streams.</p>\n\n<p>I cut it down to this in the Repl, now just trying to get gitblits help message:</p>\n\n<pre><code>import org.slf4j.Logger\nimport org.slf4j.LoggerFactory\nimport java.util.logging.Level\nimport java.util.logging.LogManager\n\nfun sshClientWithTrustingHostkeyVerifier(): SSHClient {\n    return SSHClient(DefaultConfig()).also { client -&gt;\n        client.addHostKeyVerifier(object :\nOpenSSHKnownHosts(File(sshDir(), \"known_hosts\")) {\n            override fun hostKeyUnverifiableAction(hostname: String?, key: PublicKey?): Boolean {\n                super.write(SimpleEntry(null, hostname, KeyType.fromKey(key), key))\n                return true\n            }\n        })\n    }\n}\n\n\nLogManager.getLogManager().let {lm -&gt;\nlm.loggerNames.asSequence().forEach { lm.getLogger(it).apply{\n    level = Level.FINEST\n    handlers.forEach { it.level = Level.FINEST }}}}\n\nval log: Logger = LoggerFactory.getLogger(\"foo\")\n\n\nlog.debug(\"a\")\nval client = sshClientWithTrustingHostkeyVerifier()\nlog.debug(\"b\")\nclient.connect(\"the.gitblit.local\", 29418)\nlog.debug(\"c\")\nclient.authPassword(\"my_account\", \"my super password\")\nlog.debug(\"d\")\nval session = client.startSession()\nlog.debug(\"e\")\nval cmd = session.exec(\"keys --help\")\nlog.debug(\"f\")\nlog.debug(cmd.inputStream.readBytes().toString())\nlog.debug(\"g\")\nlog.debug(cmd.errorStream.readBytes().toString())\nlog.debug(\"h\")\ncmd.join()\nlog.debug(\"i\")\nlog.debug(\"Exit status: {}\", cmd.exitStatus)\n</code></pre>\n\n<p>This produces a <em>lot</em> of output, which includes a strange-sounding error\n\"[PROTOCOL_ERROR] Received CHANNEL_SUCCESS\". I posted the full output on <a href=\"https://pastebin.com/d3Y1tc8r\" rel=\"nofollow noreferrer\">https://pastebin.com/d3Y1tc8r</a>.</p>\n\n<p>If I then let it sit, after a while it dies of a timeout. No output ever materializes.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1502757269, "post_id": 45683869, "comment_id": 78327783, "body": "I think you meant <code>return this[if (index &lt; 0) size + index else index]</code>"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502777941, "post_id": 45683869, "comment_id": 78332403, "body": "What&#39;s wrong with <code>list.last</code>? Clearly states what you&#39;re doing, and doesn&#39;t require index based access."}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1502787756, "post_id": 45684940, "comment_id": 78336989, "body": "beside that, you can create a proxy to provide a cyclic view. e.g: <code>cyclic(list)[-1]</code>"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1502809491, "post_id": 45684940, "comment_id": 78349471, "body": "Instead of the overhead of <code>asReversed()</code>, you could just use <code>get(size - index)</code>"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1502829223, "post_id": 45684940, "comment_id": 78360480, "body": "You could: that is exactly what <code>asReversed()</code> does (see ReversedViews.kt). I&#39;d go with <code>asReversed()</code> since it is more readable, slightly reduces the chance of off-by-one errors, adds a sensible exception and is more idiomatic."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502833441, "post_id": 45684940, "comment_id": 78362383, "body": "@holi-java is there an example of this? Or a link where we can read more?"}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": true, "score": 2, "last_activity_date": 1502757171, "creation_date": 1502757171, "answer_id": 45684940, "question_id": 45683869, "link": "https://stackoverflow.com/questions/45683869/modify-list-get-behavior-in-kotlin/45684940#45684940", "title": "Modify List.get behavior in Kotlin", "body": "<p>Since you can't hide a member method with an extension method, the only option that will work would be to have a subclass that overrides the functionality in the way you describe.</p>\n\n<pre><code>class NegativelyIndexableList&lt;T&gt; : ArrayList&lt;T&gt;() {\n  override fun get(index: Int): T =\n    if (index &lt; 0) super.get(size + index) else super.get(index)\n}\n</code></pre>\n\n<p>However you should consider the future users of this code. It does obfuscate what's going on here.  The meaning of <code>list[index]</code> changes based on the value of <code>index</code>, and this won't be obvious in places where <code>list</code> and / or <code>index</code> are not known in advance. Consider this trivial example:</p>\n\n<pre><code>fun getValueFromAFewDaysAgo(timeline: List&lt;Day&gt;, today: Int, daysAgo: Int) =\n  timeline[today - daysAgo]\n</code></pre>\n\n<p>If <code>today</code> is 2 and <code>daysAgo</code> is 7, then this method will either throw an exception (if <code>timeline</code> is a regular list) or return something from the future (if <code>timeline</code> is a <code>NegativelyIndexableList</code>).</p>\n\n<p>If you really have to have this feature, then consider not conflating it with <code>get</code>. Add a new method:</p>\n\n<pre><code>fun getFromEnd(index: Int) = asReversed()[index]\n</code></pre>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 45684940, "answer_count": 1, "score": 0, "last_activity_date": 1502850596, "creation_date": 1502749230, "last_edit_date": 1502850596, "question_id": 45683869, "link": "https://stackoverflow.com/questions/45683869/modify-list-get-behavior-in-kotlin", "title": "Modify List.get behavior in Kotlin", "body": "<p>In Kotlin, what's the idiomatic way to modify the behavior of <code>List.get</code> such that calling <code>get(-1)</code> returns the last element in the list?</p>\n\n<p>I tried an extension: </p>\n\n<pre><code>operator fun &lt;T&gt; List&lt;T&gt;.get(index: Int): T {\n    return this[if (index &lt; 0) size + index else index]\n}\n</code></pre>\n\n<p>But it didn't behave as desired, and I got the warning</p>\n\n<pre><code>scratch.kts:3:26: warning: extension is shadowed by a member: public abstract operator fun get(index: Int): T\noperator fun &lt;T&gt; List&lt;T&gt;.get(index: Int): T {\n                         ^\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-espresso", "okhttp3", "anko"], "answers": [{"comments": [{"owner": {"reputation": 654, "user_id": 491816, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c68dcaaa0d308956907a9d43317aaef6?s=128&d=identicon&r=PG", "display_name": "nAndroid", "link": "https://stackoverflow.com/users/491816/nandroid"}, "edited": false, "score": 0, "creation_date": 1502750129, "post_id": 45683108, "comment_id": 78326057, "body": "&quot;for whatever execution mechanism bg uses&quot; - this is of course the issue.  And unfortunately we&#39;re using Follestad Material Dialog instead of DialogFragment so we can&#39;t easily (afaik) check the existence of dialogfragment (eg progress dialog)"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1502745105, "creation_date": 1502745105, "answer_id": 45683108, "question_id": 45682582, "link": "https://stackoverflow.com/questions/45682582/how-do-you-get-an-idlingresource-to-work-in-kotlin-with-coroutines/45683108#45683108", "title": "how do you get an Idlingresource to work in Kotlin with coroutines", "body": "<p><code>Convert to anko coroutine call instead of retrofit.enqueue - test no longer works.</code></p>\n\n<p><code>retrofit.enqueue</code> uses OkHttp's dispatcher. This is what the \"idling-resource-okhttp\" recognizes and communicates to the idlingresource manager.</p>\n\n<p>However by using <code>retrofit.execute</code> and anko's <code>bg</code> you are using a different execution mechanism that the idlingresource manager does not know about, so while it might be executing the application is idle from the view of the manager, thus ending the test.</p>\n\n<p>To fix this you need to register an <code>IdlingResource</code> for whatever execution mechanism <code>bg</code> uses, so it can recognize when there is something happening on that thread of execution.</p>\n"}, {"tags": [], "owner": {"reputation": 399, "user_id": 4158397, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6dZr1MEw8xo/AAAAAAAAAAI/AAAAAAAAARk/jMWb676VEaY/photo.jpg?sz=128", "display_name": "Florian Dreier", "link": "https://stackoverflow.com/users/4158397/florian-dreier"}, "is_accepted": false, "score": 0, "last_activity_date": 1515933851, "creation_date": 1515933851, "answer_id": 48249711, "question_id": 45682582, "link": "https://stackoverflow.com/questions/45682582/how-do-you-get-an-idlingresource-to-work-in-kotlin-with-coroutines/48249711#48249711", "title": "how do you get an Idlingresource to work in Kotlin with coroutines", "body": "<p>You have to create an <code>IdlingResource</code> to tell Espresso whether the app is currently idle or not (as Kiskae wrote). AFAIK for coroutines there does not exist a central registry that can tell you whether there is a coroutine running.</p>\n\n<p>So you have to keep track of them yourself as suggested in the <a href=\"https://developer.android.com/training/testing/espresso/idling-resource.html#example-implementations\" rel=\"nofollow noreferrer\">documentation</a> by using a <code>CountingIdlingResource</code>. Add this convenience <code>async</code>-wrapper to your project:</p>\n\n<pre><code>public fun &lt;T&gt; asyncRes(\n        idlingResource: CountingIdlingResource,\n        context: CoroutineContext = DefaultDispatcher,\n        start: CoroutineStart = CoroutineStart.DEFAULT,\n        parent: Job? = null,\n        block: suspend CoroutineScope.() -&gt; T\n): Deferred&lt;T&gt; = async(context, start, parent) {\n    try {\n        idlingResource.increment()\n        block()\n    } finally {\n        idlingResource.decrement()\n    }\n}\n</code></pre>\n\n<p>Add an instance of <code>CountingIdlingResource</code> inside your Activity, call <code>asyncRes</code> instead of <code>async</code> and pass in the <code>CountingIdlingResource</code>.</p>\n\n<pre><code>class MainActivity : Activity() {\n\n    // Active coroutine counter\n    val idlingResource = CountingIdlingResource(\"coroutines\")\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        doCallAsync()\n    }\n\n    private fun doCallAsync() = asyncRes(idlingResource, UI) {\n        ...\n    }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 491816, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c68dcaaa0d308956907a9d43317aaef6?s=128&d=identicon&r=PG", "display_name": "nAndroid", "link": "https://stackoverflow.com/users/491816/nandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1947, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1515933851, "creation_date": 1502742635, "question_id": 45682582, "link": "https://stackoverflow.com/questions/45682582/how-do-you-get-an-idlingresource-to-work-in-kotlin-with-coroutines", "title": "how do you get an Idlingresource to work in Kotlin with coroutines", "body": "<p>My Espresso Idling Resource is not working - it compiles and runs but no longer waits long enough for the result to be returned from the 'net.</p>\n\n<hr>\n\n<ol>\n<li>Start with <a href=\"https://github.com/chiuki/espresso-samples/tree/master/idling-resource-okhttp\" rel=\"nofollow noreferrer\">https://github.com/chiuki/espresso-samples/tree/master/idling-resource-okhttp</a> </li>\n<li>Convert the main activity to Kotlin - test (which is still in java) still works with OKHttpIdlingResource</li>\n<li>Convert to anko coroutine call instead of retrofit.enqueue - test no longer works.</li>\n</ol>\n\n<p>Here is the new code for MainActivity in its entirety</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import android.app.Activity\r\nimport android.os.Bundle\r\nimport android.widget.TextView\r\nimport kotlinx.coroutines.experimental.android.UI\r\nimport kotlinx.coroutines.experimental.async\r\nimport org.jetbrains.anko.coroutines.experimental.bg\r\n\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.moshi.MoshiConverterFactory\r\n\r\nclass MainActivity : Activity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        doCallAsync()\r\n    }\r\n\r\n    private fun doCallAsync() = async(UI) {\r\n\r\n        val user = bg { getUser() }\r\n        val name = user.await().name\r\n        val nameView = findViewById(R.id.name) as TextView\r\n\r\n        nameView.text = name;\r\n\r\n    }\r\n\r\n    private fun getUser(): User {\r\n\r\n        val retrofit = Retrofit.Builder()\r\n                .baseUrl(\"https://api.github.com/\")\r\n                .addConverterFactory(MoshiConverterFactory.create())\r\n                .client(OkHttpProvider.getOkHttpInstance())\r\n                .build()\r\n\r\n        val service = retrofit.create(GitHubService::class.java)\r\n\r\n\r\n        val response = service.getUser(\"chiuki\").execute().body()\r\n\r\n        return response!!\r\n\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["java", "functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1502741755, "post_id": 45682257, "comment_id": 78322619, "body": "This will be much easier with the windowing and chunking features coming in 1.2"}], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "edited": false, "score": 0, "creation_date": 1502742289, "post_id": 45682458, "comment_id": 78322846, "body": "This answer assumes the precondition of listOfNums having an even size."}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 1, "creation_date": 1502746150, "post_id": 45682458, "comment_id": 78324649, "body": "<code>(1..listOfNums.lastIndex step 2).associate { listOfNums[it - 1] to listOfNums[it] }</code> avoids the mutable map and drops a trailing odd element."}], "tags": [], "owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "is_accepted": false, "score": 1, "last_activity_date": 1502830203, "last_edit_date": 1502830203, "creation_date": 1502742026, "answer_id": 45682458, "question_id": 45682257, "link": "https://stackoverflow.com/questions/45682257/change-a-list-to-map-in-kotlin-while-customize-this-convert/45682458#45682458", "title": "Change a list to map in Kotlin while customize this convert", "body": "<p>We can step over every second index and map listOfNums[it] to listOfNums[it+1]</p>\n\n<pre><code>val listOfNums = listOf(1,9,8,25,5,44,7,95,9,10)\nval mapOfNums = mutableMapOf&lt;Int, Int&gt;()\n(listOfNums.indices step 2).forEach {\n    mapOfNums[listOfNums[it]] = listOfNums[it + 1]\n}\nprintln(mapOfNums)\n</code></pre>\n\n<p>EDIT: \nAnother better solution suggested by ephemient: </p>\n\n<pre><code> (1..listOfNums.lastIndex step 2).associate { listOfNums[it - 1] to listOfNums[it] }\n</code></pre>\n\n<p>Elegant!</p>\n"}, {"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 1, "last_activity_date": 1502743227, "creation_date": 1502743227, "answer_id": 45682711, "question_id": 45682257, "link": "https://stackoverflow.com/questions/45682257/change-a-list-to-map-in-kotlin-while-customize-this-convert/45682711#45682711", "title": "Change a list to map in Kotlin while customize this convert", "body": "<p>With the help of <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a></p>\n\n<pre><code>import io.reactivex.Observable\n\n...\n\nval listOfNums = listOf(1,9,8,25,5,44,7,95,9,10)\nval mapOfNums = Observable.fromIterable(listOfNums)\n        .buffer(2)\n        .map { it[0] to it[1] }\n        .collect(\n                { mutableMapOf&lt;Int, Int&gt;() },\n                { map: MutableMap&lt;Int, Int&gt;, (first, second) -&gt; map.put(first, second) }\n        )\n        .blockingGet()\nprintln(mapOfNums)\n// {1=9, 8=25, 5=44, 7=95, 9=10}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 3, "creation_date": 1502747955, "post_id": 45682881, "comment_id": 78325366, "body": "Also: <code>list.chunked(2).associate { (a, b) -&gt; a to b }</code>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502775808, "post_id": 45682881, "comment_id": 78331672, "body": "@voddan Ah, nice. Fixed."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502778062, "post_id": 45682881, "comment_id": 78332456, "body": "I showed an implementation of <code>chunked</code> using 1.1 <a href=\"https://stackoverflow.com/a/45665151/839733\">here</a>"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 6, "last_activity_date": 1502775826, "last_edit_date": 1502775826, "creation_date": 1502744013, "answer_id": 45682881, "question_id": 45682257, "link": "https://stackoverflow.com/questions/45682257/change-a-list-to-map-in-kotlin-while-customize-this-convert/45682881#45682881", "title": "Change a list to map in Kotlin while customize this convert", "body": "<p>For Kotlin 1.1:</p>\n\n<p>First, use zip to create a list with adjacent pairs. Then you drop every other pair, before converting it to a <code>Map</code>. Like this:</p>\n\n<pre><code>val list = listOf(1,9,8,25,5,44,7,95,9,10)\nval mapOfNums = list.zip(list.drop(1))\n                    .filterIndexed { index, pair -&gt; index % 2 == 0 }\n                    .toMap())\n</code></pre>\n\n<p>For Kotlin 1.2:</p>\n\n<p>Kotlin 1.2 brings the <code>chunked</code> function which will make this a bit easier. This function divides the list up in sublists of the given length. You can then do this:</p>\n\n<pre><code>val list = listOf(1,9,8,25,5,44,7,95,9,10)\nval mapOfNums = list.chunked(2).associate { (a, b) -&gt; a to b }\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 4470024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/046f03cf28b0f02c16608d095e13b0e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Urz", "link": "https://stackoverflow.com/users/4470024/ali-urz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 45682881, "answer_count": 3, "score": 3, "last_activity_date": 1502830203, "creation_date": 1502741155, "question_id": 45682257, "link": "https://stackoverflow.com/questions/45682257/change-a-list-to-map-in-kotlin-while-customize-this-convert", "title": "Change a list to map in Kotlin while customize this convert", "body": "<pre><code>var listOfNums = listOf(1,9,8,25,5,44,7,95,9,10)\nvar mapOfNums = listOfNums.map { it to it+1 }.toMap()\nprintln(mapOfNums)\n</code></pre>\n\n<p>result</p>\n\n<pre><code>{1=2, 9=10, 8=9, 25=26, 5=6, 44=45, 7=8, 95=96, 10=11}\n</code></pre>\n\n<p>while I need this result, it adds contents of next element to the current element while I need to map current element to next element</p>\n\n<p>my goal result</p>\n\n<pre><code>{1=9, 8=25, 5=44, 7=59, 9=10}\n</code></pre>\n"}, {"tags": ["android", "gradle", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 1583, "user_id": 1481109, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/WQA1H.jpg?s=128&g=1", "display_name": "Carlos Laspina", "link": "https://stackoverflow.com/users/1481109/carlos-laspina"}, "edited": false, "score": 0, "creation_date": 1502732591, "post_id": 45679653, "comment_id": 78317820, "body": "can you put the directory structure of your project?"}, {"owner": {"reputation": 69, "user_id": 8429832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/0f87d0ba2b18d681f92b3c371e496300?s=128&d=identicon&r=PG&f=1", "display_name": "lmdic", "link": "https://stackoverflow.com/users/8429832/lmdic"}, "reply_to_user": {"reputation": 1583, "user_id": 1481109, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/WQA1H.jpg?s=128&g=1", "display_name": "Carlos Laspina", "link": "https://stackoverflow.com/users/1481109/carlos-laspina"}, "edited": false, "score": 0, "creation_date": 1502783032, "post_id": 45679653, "comment_id": 78334553, "body": "<i>project\\app\\src, project\\module_1\\src</i>"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 8429832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/0f87d0ba2b18d681f92b3c371e496300?s=128&d=identicon&r=PG&f=1", "display_name": "lmdic", "link": "https://stackoverflow.com/users/8429832/lmdic"}, "edited": false, "score": 0, "creation_date": 1502783476, "post_id": 45680642, "comment_id": 78334746, "body": "Not help. in kapt section: <code>Error:(48, 0) No such property: processResources for class: com.android.build.gradle.internal.variant.ApkVariantOutputDa&zwnj;&#8203;ta</code>"}, {"owner": {"reputation": 69, "user_id": 8429832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/0f87d0ba2b18d681f92b3c371e496300?s=128&d=identicon&r=PG&f=1", "display_name": "lmdic", "link": "https://stackoverflow.com/users/8429832/lmdic"}, "edited": false, "score": 0, "creation_date": 1502810493, "post_id": 45680642, "comment_id": 78350125, "body": "I found solution. See here <a href=\"https://stackoverflow.com/questions/45675247/android-realm-gradle-errorannotation-processor-realmprocessor-not-found/45675558?noredirect=1#comment78321394_45675558\">link</a>"}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1502734867, "creation_date": 1502734867, "answer_id": 45680642, "question_id": 45679653, "link": "https://stackoverflow.com/questions/45679653/android-gradle-realm-kotlin-errorerror-could-not-find-the-androidmanifest/45680642#45680642", "title": "Android, Gradle, Realm, Kotlin: Error:error: Could not find the AndroidManifest.xml file", "body": "<p>Per <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">the documenation</a>...  </p>\n\n<blockquote>\n  <p>If you previously used the android-apt plugin, remove it from your build.gradle file and replace usages of the apt configuration with kapt. If your project contains Java classes, kapt will also take care of them.</p>\n</blockquote>\n\n<p>I don't know if this will solve your problem, but I do see that you are using <code>apt</code> in your gradle script.  Give it a shot.</p>\n"}], "owner": {"reputation": 69, "user_id": 8429832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/0f87d0ba2b18d681f92b3c371e496300?s=128&d=identicon&r=PG&f=1", "display_name": "lmdic", "link": "https://stackoverflow.com/users/8429832/lmdic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 743, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502734867, "creation_date": 1502730925, "last_edit_date": 1502731237, "question_id": 45679653, "link": "https://stackoverflow.com/questions/45679653/android-gradle-realm-kotlin-errorerror-could-not-find-the-androidmanifest", "title": "Android, Gradle, Realm, Kotlin: Error:error: Could not find the AndroidManifest.xml file", "body": "<p>Android Studio 2.3.3, Java 8, Kotlin 1.1.3-2</p>\n\n<p>Project's build.gradle:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.3-2'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath 'com.google.gms:google-services:2.0.0-alpha6'\n        classpath \"io.realm:realm-gradle-plugin:3.5.0\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://dl.bintray.com/jetbrains/anko' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>App's build.gradle:</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n    }\n}\napply plugin: 'com.android.application'\napply plugin: 'com.neenbedankt.android-apt'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'io.fabric'\napply plugin: 'realm-android'\n\n//apply plugin: 'com.google.gms.google-services'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n    mavenCentral()\n}\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.0\"\n    dexOptions {\n        jumboMode = true\n    }\n\n    defaultConfig {\n        applicationId \"com.myproject\"\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 53\n        versionName \"1.17.53\"\n\n        apt {\n            arguments {\n                arg('androidManifestFile', variant.outputs[0]?.processResources?.manifestFile)\n                arg('resourcePackageName', android.defaultConfig.applicationId)\n            }\n        }\n    }\n\n    // exclude buildTypes = \"debug\" from build Variants\n    variantFilter { variant -&gt;\n        if (variant.buildType.name.equals('debug')) {\n            variant.setIgnore(true);\n        }\n    }\n\n    buildTypes {\n        def APP_NAME_STAGE = \"My Project Stage\"\n        def APP_ID_SUFFIX_STAGE = \".stage\"\n\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        stage {\n            initWith(debug)\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n}\n\ndef AAVersion = '4.3.0'\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile('com.digits.sdk.android:digits:1.11.0@aar') {\n        transitive = true;\n    }\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.0@aar') {\n        transitive = true;\n    }\n    compile 'com.android.support:appcompat-v7:23.0.0'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.android.volley:volley:1.0.0'\n    compile 'com.baoyz.swipemenulistview:library:1.3.0'\n    compile 'com.google.android.gms:play-services-gcm:9.0.2'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.miguelcatalan:materialsearchview:1.4.0'\n    compile 'com.squareup.okhttp:okhttp-urlconnection:2.7.3'\n    compile 'com.squareup.okhttp:okhttp:2.7.3'\n    compile 'com.theartofdev.edmodo:android-image-cropper:2.2.5'\n    compile 'commons-codec:commons-codec:1.9'\n    compile 'commons-io:commons-io:2.4'\n    compile 'org.apache.commons:commons-lang3:3.4'\n    compile 'org.apache.httpcomponents:httpcore:4.4.4'\n    compile 'org.apache.httpcomponents:httpmime:4.3.6'\n    compile 'us.feras.mdv:markdownview:1.1.0'\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile project(':module_1')\n    compile project(':module_2')\n    compile 'org.jetbrains.anko:anko-sdk15:0.9.1'\n    kapt \"org.androidannotations:androidannotations:$AAVersion\"\n    compile \"org.androidannotations:androidannotations-api:$AAVersion\"\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>But when I try to build proejct, I get error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Error:error: Could not find the AndroidManifest.xml file, using  generation folder [myproject\\app\\build\\generated\\source\\kapt\\stage])\n\n java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:144)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:167)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.execCompiler(CompileServiceImpl.kt:397)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execCompiler(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:365)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:798)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:825)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:797)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:791)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$doCompile(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:364)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:336)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:89)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:99)\n    at org.jetbrains.kotlin.resolve.jvm.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:76)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.analyze(KotlinToJVMBytecodeCompiler.kt:365)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:105)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:354)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:139)\n</code></pre>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1502730955, "post_id": 45679177, "comment_id": 78316999, "body": "You can&#39;t do that with reflection, because parameters are different every time. In order to achieve this you need to place the log function inside that called function and pass the values. There&#39;s no other way that I&#39;m aware of"}, {"owner": {"reputation": 23, "user_id": 7085555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/336175234ca67ca1c9002b4a5a4ec423?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Black", "link": "https://stackoverflow.com/users/7085555/michael-black"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1502732455, "post_id": 45679177, "comment_id": 78317749, "body": "@Mibac I was hoping with an annotation having runtime retention maybe this would be possible, but unfortunately you may be right."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1502733539, "post_id": 45679177, "comment_id": 78318293, "body": "Annotations must have static values as well. You can&#39;t change annotation&#39;s value during runtime"}, {"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1502739596, "post_id": 45679177, "comment_id": 78321528, "body": "The difference here is that <code>KCallable</code> represents the function as a whole, not a specific invocation. The function as a whole does not have parameter values. Just like a <code>Class</code> instance cannot know the values of it&#39;s instance fields."}], "owner": {"reputation": 23, "user_id": 7085555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/336175234ca67ca1c9002b4a5a4ec423?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Black", "link": "https://stackoverflow.com/users/7085555/michael-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 584, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502728969, "creation_date": 1502728969, "question_id": 45679177, "link": "https://stackoverflow.com/questions/45679177/kotlin-kfunction-reflection-get-parameter-values", "title": "Kotlin KFunction reflection - get parameter values", "body": "<p>In order to create a simple annotation that logs function calls, I'm trying to grab the following attributes from a function that has said annotation:</p>\n\n<ul>\n<li>Function name</li>\n<li>Parameter names</li>\n<li>Parameter values</li>\n</ul>\n\n<p>What I have so far uses <code>KCallable</code> as a value, which makes grabbing the name and names from the list of <code>KParameter</code> fairly simple. However, I cannot figure out how to get the values of said parameters to make the log statement more contextual. </p>\n\n<p>Does anyone have ideas on grabbing these parameters values within the annotation? It doesn't need to use <code>KCallable</code>, that just seemed like the most intuitive receiver.</p>\n"}, {"tags": ["android", "class", "kotlin", "getter-setter"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1502788880, "post_id": 45677559, "comment_id": 78337572, "body": "this is because Kotlin will not generates any backing field when use <code>get() = ...</code> without any initialized value. e.g: <code>val smth: String get() = &quot;Here it is&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": false, "score": 3, "last_activity_date": 1502723883, "creation_date": 1502723883, "answer_id": 45677783, "question_id": 45677559, "link": "https://stackoverflow.com/questions/45677559/initializing-field-that-has-getter-and-setter/45677783#45677783", "title": "Initializing field that has getter and setter?", "body": "<p>You have backing field <code>field</code> in setter, so we should initialize, See this <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">reference</a> </p>\n"}, {"tags": [], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "is_accepted": true, "score": 2, "last_activity_date": 1502724071, "creation_date": 1502724071, "answer_id": 45677837, "question_id": 45677559, "link": "https://stackoverflow.com/questions/45677559/initializing-field-that-has-getter-and-setter/45677837#45677837", "title": "Initializing field that has getter and setter?", "body": "<p>I just think it is because the compiler is not smart enough to infer that it is not null.</p>\n\n<p>Actually a very similar code presented from the official doc here <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/properties.html</a></p>\n\n<pre><code>var stringRepresentation: String\n    get() = this.toString()\n    set(value) {\n        setDataFromString(value) // parses the string and assigns values to other properties\n    }\n</code></pre>\n\n<p>Apparently this code won't compile either unless  a constructor like</p>\n\n<pre><code>constructor(stringRepresentation: String) {\n    this.stringRepresentation = stringRepresentation\n}\n</code></pre>\n\n<p>is added.</p>\n"}], "owner": {"reputation": 734, "user_id": 6514270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97e2a509de8c25e864803c1d95d71fd9?s=128&d=identicon&r=PG&f=1", "display_name": "Amiraslan", "link": "https://stackoverflow.com/users/6514270/amiraslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 45677837, "answer_count": 2, "score": 1, "last_activity_date": 1502724071, "creation_date": 1502723139, "question_id": 45677559, "link": "https://stackoverflow.com/questions/45677559/initializing-field-that-has-getter-and-setter", "title": "Initializing field that has getter and setter?", "body": "<p>I created a class which has an example field in Kotlin</p>\n\n<pre><code>class SomeClass {\n    var smth: String = \"Initial value\"\n            get() = \"Here it is\"\n            set(value) {\n                field = \"it is $value\"\n            }\n}\n</code></pre>\n\n<p>When I create an object of the class and call the <code>smth</code> field, it will call the <code>get()</code> property anyway. </p>\n\n<pre><code>        val myValue = SomeClass().smth// myValue = \"Here it is\"\n</code></pre>\n\n<p>So, the question is: why do we have to initialize a field which has getter? </p>\n\n<pre><code> var smth: String // Why this gives error?\n        get() = \"Here it is\"\n        set(value) {\n            field = \"it is $value\"\n        }\n</code></pre>\n\n<p>It will always return value from <code>get()</code> property, doesn't it?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1502720434, "last_edit_date": 1502720434, "creation_date": 1502718344, "answer_id": 45676016, "question_id": 45675527, "link": "https://stackoverflow.com/questions/45675527/retrofit-with-kotlin-unable-to-create-body/45676016#45676016", "title": "Retrofit with kotlin, unable to create @Body", "body": "<p>I believe this has nothing to do with Kotlin but your Retrofit configuration and your data class ExampleData. </p>\n\n<p>Retrofit has no idea how to serialize your  instance of ExampleData to JSON. You need to add a specific converter factory when creating instance of Retrofit client (see <a href=\"https://square.github.io/retrofit/2.x/retrofit/retrofit2/Retrofit.Builder.html#addConverterFactory-retrofit2.Converter.Factory-\" rel=\"nofollow noreferrer\"><code>Builder#addConverterFactory</code></a> method for details).</p>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 6053183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f790560d03a95639e12f14309d68dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Valery Ponomarenko", "link": "https://stackoverflow.com/users/6053183/valery-ponomarenko"}, "is_accepted": true, "score": 5, "last_activity_date": 1502725270, "creation_date": 1502725270, "answer_id": 45678196, "question_id": 45675527, "link": "https://stackoverflow.com/questions/45675527/retrofit-with-kotlin-unable-to-create-body/45678196#45678196", "title": "Retrofit with kotlin, unable to create @Body", "body": "<p>Add the gradle dependency to your project:</p>\n\n<pre><code>compile 'com.squareup.retrofit2:converter-gson:VERSION_OF_RETROFIT'\n</code></pre>\n\n<p>When you build an instance of retrofit add this line:</p>\n\n<pre><code>.addConverterFactory(GsonConverterFactory.create())\n</code></pre>\n\n<p>In your project building the retrofit object will look like:</p>\n\n<pre><code>val retrofit = Retrofit.Builder()\n    .baseUrl(baseUrl)\n    .client(httpAuthClient)\n    .addConverterFactory(GsonConverterFactory.create())\n    .build()\n</code></pre>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6702, "favorite_count": 0, "accepted_answer_id": 45678196, "answer_count": 2, "score": 3, "last_activity_date": 1502725270, "creation_date": 1502716942, "question_id": 45675527, "link": "https://stackoverflow.com/questions/45675527/retrofit-with-kotlin-unable-to-create-body", "title": "Retrofit with kotlin, unable to create @Body", "body": "<p>Hi i get the following error:</p>\n\n<pre><code> java.lang.IllegalArgumentException: Unable to create @Body converter for class com.jr.app.models.ExampleData (parameter #1)\n</code></pre>\n\n<p>Here is my ExampleData.kt</p>\n\n<pre><code>data class ExampleData(val id: String,\n                   val firstName: String,\n                   val secondName: String,\n                   val profilImages: String,\n                   val info: String) {\n\n}\n</code></pre>\n\n<p>My interface retrofit </p>\n\n<pre><code>interface UsersService {\n\n@GET(\"/usersProfile\")\nfun getAllUsers(): Call&lt;List&lt;ExampleData&gt;&gt;\n\n@POST(\"/usersProfile\")\nfun addUser(@Body exampleData: ExampleData): Call&lt;ResponseBody&gt;\n\n}\n</code></pre>\n\n<p>function that addsUser</p>\n\n<pre><code>  override fun addUser(user: ExampleData) {\n    val retrofit = Retrofit.Builder().baseUrl(baseUrl).client(httpAuthClient).build();\n    val userService = retrofit.create(UsersService::class.java);\n    userService.addUser(user).enqueue(callbackResponse);\n}\n\n private val httpAuthClient: OkHttpClient\n    get() {\n        val okHttpClient = OkHttpClient().newBuilder().addInterceptor { chain -&gt;\n            val originalRequest = chain.request()\n\n            val builder = originalRequest.newBuilder().header(authorizeHeader,\n                    Credentials.basic(userName, password))\n\n            val newRequest = builder.build()\n            chain.proceed(newRequest)\n        }.build()\n\n        return okHttpClient\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "android-gradle-plugin", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502713457, "post_id": 45674313, "comment_id": 78306264, "body": "There&#39;s a lot of changes in the Android Gradle plugin 3.0.0 and its interoperation with the Kotlin plugin, and the changes might also include some that affect the tasks ordering. However, in your example, you don&#39;t specify (at least in the code posted here) that your <code>:app:testScript</code> task depends on Kotlin compilation in <code>remotelib</code>. It could be done with either a <code>dependsOn</code> relationship or by using the <code>compile</code> configuration of <code>app</code> as an input for the <code>testScript</code> task. Otherwise, the execution order between these two tasks is undefined, and they can be run in an arbitrary order."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502714077, "post_id": 45674313, "comment_id": 78306646, "body": "Thanks @hotkey. Can you show me how to make <code>:app:testScript task depends on Kotlin compilation in remotelib</code>? Thanks."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502715089, "post_id": 45674313, "comment_id": 78307313, "body": "You&#39;re welcome. I&#39;ve described how it could be done in an answer."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502715988, "post_id": 45674947, "comment_id": 78307878, "body": "The above <code>TestScriptTask</code> is all reside within a file <code>test_script.gradle</code>. And in the project <code>build.gradle</code>, I call <code>apply from: &#39;test_script.gradle&#39;</code>. I try to apply your propose <code>testScript.dependsOn configurations.compile</code> in the app <code>build.gradle</code>, or even in <code>test_script.gradle</code>... but keep getting error. Where should I place your propose script above?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502716216, "post_id": 45674947, "comment_id": 78308006, "body": "@Elye, what is the error you are getting? Basically, either solution I suggested in the answer should be applied <i>after</i> the <code>testScript</code> task is created. That is, after <code>apply from: ... </code> in <code>build.gradle</code> or after the task definition in <code>test_script.gradle</code>."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502716467, "post_id": 45674947, "comment_id": 78308174, "body": "I get this error <code>Could not get unknown property &#39;testScript&#39; for root project &#39;MyApplication&#39; of type org.gradle.api.Project.</code> I add it right after the line of <code>apply from: &#39;test_script.gradle&#39;</code> as shown in my update above."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502717611, "post_id": 45674947, "comment_id": 78308938, "body": "Acually, you can wrap either of the lines I suggested into an <code>afterEvaluate { ... }</code> block to make it run only after the build script has been evaluated. The error you are getting tells you that, at the moment when the line gets executed, the task <code>testScript</code> has not yet been created. So, you need to execute it later."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502718696, "post_id": 45674947, "comment_id": 78309732, "body": "I have put it in my <code>test_script.gradle</code>&#39;s <code>project(&quot;:app&quot;)</code> scope. I could do <code>.&#47;gradlew clean</code> without issue. But when run <code>.&#47;gradlew assemble</code>, it error out with <code>Could not determine the dependencies of task &#39;:app:testScript&#39;. Could not resolve all task dependencies for configuration &#39;:app:compile&#39;. Could not resolve project :remotelib.... </code>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502718920, "post_id": 45674947, "comment_id": 78309916, "body": "Got it compiled, as I change <code>compile</code> to <code>implementation</code>. Everything goes through. However, the testScript is still executed first before kotlin compile :("}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502805020, "post_id": 45674947, "comment_id": 78346413, "body": "I got it working, by adding <code>testScript.dependsOn assemble</code> in my app&#39;s build.gradle. It&#39;s a good workaround. However, I think it should preserve the order of the command line given. As stated in <a href=\"https://docs.gradle.org/0.9-rc-2/userguide/tutorial_gradle_command_line.html\" rel=\"nofollow noreferrer\">docs.gradle.org/0.9-rc-2/userguide/&hellip;</a>, <code>Gradle will execute the tasks in the order that they are listed on the command-line</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1502715053, "last_edit_date": 1592644375, "creation_date": 1502715053, "answer_id": 45674947, "question_id": 45674313, "link": "https://stackoverflow.com/questions/45674313/gradle-3-0-0-in-android-studio-3-0-reorder-the-tasks-sequence-when-compile-wi/45674947#45674947", "title": "Gradle 3.0.0 (in Android Studio 3.0) reorder the tasks sequence (when compile with Kotlin module)?", "body": "<p>There's a lot of changes in the Android Gradle plugin 3.0.0 and its interoperation with the Kotlin plugin, and the changes might also include some that affect the tasks ordering.</p>\n<p>However, in your example, you don't specify (at least in the code posted here) that your <code>:app:testScript</code> task depends on Kotlin compilation in <code>:remotelib</code>. Therefore the execution order between these two tasks is undefined, and they can be run in an arbitrary order.</p>\n<p>This could be done by one of the following:</p>\n<ul>\n<li><p><code>testScript.dependsOn configurations.compile</code></p>\n<p>Since you have added <code>compile project(':remotelib')</code> to the dependencies of <code>app</code>, making <code>testScript</code> depend on <code>configurations.compile</code> will also trigger the build of the default configuration in the project <code>:remotelib</code>, thus also compiling Kotlin in it.</p>\n</li>\n<li><p><code>testScript.dependsOn project(':remotelib').compileKotlin</code></p>\n<p>This explicitly specifies that the task depends on <code>:remotelib:compileKotlin</code>, but it requires <code>:remotelib</code> to be evaluated before <code>:app</code> (you may need to add the <code>evaluationDependsOn ':remotelib'</code> line to your <code>:app</code>'s build script).</p>\n</li>\n</ul>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1502716431, "creation_date": 1502712858, "last_edit_date": 1502716431, "question_id": 45674313, "link": "https://stackoverflow.com/questions/45674313/gradle-3-0-0-in-android-studio-3-0-reorder-the-tasks-sequence-when-compile-wi", "title": "Gradle 3.0.0 (in Android Studio 3.0) reorder the tasks sequence (when compile with Kotlin module)?", "body": "<p>I have a simple gradle script (just to log when my Gradle task is run)</p>\n\n<pre><code>    class TestScriptTask extends DefaultTask {\n        @TaskAction\n        def testScript() {\n            logger.quiet(\"My Gradle Task Here\")\n        }\n    }\n\n    project(\":app\") {\n        task testScript(type: TestScriptTask) {\n        }\n    }\n</code></pre>\n\n<p>And I have a simple Android project, \"app\" which is dependent on a module \"remotelib\" in Kotlin.</p>\n\n<p>My app's build.gradle dependencies as below</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile project(':remotelib')\n    // and others\n}\n</code></pre>\n\n<p>So when I run my gradle tasks as below</p>\n\n<pre><code> ./gradlew :app:assembleRelease :app:testScript\n</code></pre>\n\n<p>The script is run as below (note the Task Here is executed first)</p>\n\n<pre><code>&gt; Task :app:testScript\nMy Gradle Task Here\n\n&gt; Task :remotelib:compileReleaseKotlin\nUsing kotlin incremental compilation\n</code></pre>\n\n<p>This only happens beginning using <code>'com.android.tools.build:gradle:3.0.0-beta1'</code> (as well as <code>beta2</code>).</p>\n\n<p>When I was on <code>'com.android.tools.build:gradle:2.3.2'</code>, the sequence is okay, as expected i.e.</p>\n\n<pre><code>&gt; Task :remotelib:compileReleaseKotlin\nUsing kotlin incremental compilation\n\n&gt; Task :app:testScript\nMy Gradle Task Here\n</code></pre>\n\n<p>Is this a gradle 3.0.0 bug, or a new way of handling the task order?</p>\n\n<p><strong>Update</strong> </p>\n\n<p>My project wide build.gradle as below</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        }\n}\n\napply from: 'test_script.gradle'\n\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1502711962, "post_id": 45673979, "comment_id": 78305373, "body": "I suppose if you try to add a Kotlin file, the IDE will prompt you to configure Kotlin and clicking on OK might do the trick."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502752129, "post_id": 45674499, "comment_id": 78326615, "body": "Nice one. Thanks!. By the way, if I remove <code>apply plugin: &#39;java-library&#39;</code>, I could still have Java code within it. So <code>Kotlin</code> plugin already includes support for Java, right?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502782797, "post_id": 45674499, "comment_id": 78334455, "body": "I&#39;m not sure about this, but it&#39;s worth testing."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 9, "last_activity_date": 1502713487, "creation_date": 1502713487, "answer_id": 45674499, "question_id": 45673979, "link": "https://stackoverflow.com/questions/45673979/how-to-add-kotlin-support-for-normal-java-lib-in-android/45674499#45674499", "title": "How to add Kotlin support for normal Java Lib in Android?", "body": "<p>You only need to add the <em>Kotlin</em> plugin:</p>\n\n<pre><code>apply plugin: \"kotlin\"\n</code></pre>\n\n<p>The <code>java-library</code> plugin was only recently added to <em>Gradle</em> and extends the <code>java</code> plugin. The naming does not expand to <code>kotlin</code> though.</p>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502751461, "post_id": 45679519, "comment_id": 78326458, "body": "This is a different answer from the question. I have way to use Kotlin in my app, and aware of all the library setting. My question is on having Kotlin as a separate module library (used to be java-library)."}, {"owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502757498, "post_id": 45679519, "comment_id": 78327827, "body": "Indeed this is the answer to your question. You create a java library module in android studio (lets say its name is <code>lib</code>), add <code>apply plugin: &#39;kotlin&#39;</code> to this file (you can remove <code>apply plugin: &#39;java-library&#39;</code>) and add <code>compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;</code> to the dependency section. In your app module you should add this dependecy: <code>compile project(&#39;:lib&#39;)</code>."}, {"owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1502758329, "post_id": 45679519, "comment_id": 78327989, "body": "I updated the answer to be more straightforward and your question is really useful, as I also faced similar problem about a year ago. The reason I mentioned dependency section not because you don&#39;t know about it, but because someone else who will read the answers, might not know about it. When you create java library module, it won&#39;t have anything about kotlin by default and simply adding kotlin plugin may not be enough."}, {"owner": {"reputation": 683, "user_id": 5759716, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Df6cHI8KWD4/AAAAAAAAAAI/AAAAAAAAMwc/w97owknFTVk/photo.jpg?sz=128", "display_name": "Maksim Novikov", "link": "https://stackoverflow.com/users/5759716/maksim-novikov"}, "edited": false, "score": 0, "creation_date": 1572108583, "post_id": 45679519, "comment_id": 103462078, "body": "Made exactly like in your answer but when try to build the project getting a lot of such errors: &quot;Cannot access built-in declaration &#39;kotlin.String&#39;. Ensure that you have a dependency on the Kotlin standard library&quot;"}], "tags": [], "owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "is_accepted": false, "score": 2, "last_activity_date": 1502758215, "last_edit_date": 1502758215, "creation_date": 1502730325, "answer_id": 45679519, "question_id": 45673979, "link": "https://stackoverflow.com/questions/45673979/how-to-add-kotlin-support-for-normal-java-lib-in-android/45679519#45679519", "title": "How to add Kotlin support for normal Java Lib in Android?", "body": "<p>As it been said you need to add </p>\n\n<pre><code>apply plugin: 'kotlin'\n</code></pre>\n\n<p>but you also need to add at least </p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\" \n</code></pre>\n\n<p>to your dependency section of kotlin library module, otherwise standard library kotlin features would not work. E.g. you won't have <code>@JvmStatic</code> annotation, and so on.</p>\n\n<p>The sample <code>build.gradle</code> of <code>kotlin</code> library module can look like this:  </p>\n\n<pre><code>apply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p><code>$kotlin_version</code> should be defined in project <code>build.gradle</code> file. </p>\n\n<p>The sample is taken from library project in Idea and tested to work with Android Studio project (tested with <code>Android Studio 3.0 Beta 2</code>) as a library dependency to an <code>app</code> module. </p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": -2, "last_activity_date": 1527089001, "creation_date": 1527089001, "answer_id": 50492105, "question_id": 45673979, "link": "https://stackoverflow.com/questions/45673979/how-to-add-kotlin-support-for-normal-java-lib-in-android/50492105#50492105", "title": "How to add Kotlin support for normal Java Lib in Android?", "body": "<p>You need to add in your project app gradle:</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\n  compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n</code></pre>\n\n<p>And add in your project gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.github.dcendents:android-maven-gradle-plugin:1.5'\n        classpath 'com.google.gms:google-services:1.5.0-beta2'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5225, "favorite_count": 2, "accepted_answer_id": 45674499, "answer_count": 3, "score": 8, "last_activity_date": 1527089001, "creation_date": 1502711703, "question_id": 45673979, "link": "https://stackoverflow.com/questions/45673979/how-to-add-kotlin-support-for-normal-java-lib-in-android", "title": "How to add Kotlin support for normal Java Lib in Android?", "body": "<p>When we want to use Kotlin in Android Studio, it's quite simple. Add the kotlin dependent library, and also add the Kotlin-Android plugin as below</p>\n\n<pre><code> apply plugin: 'com.android.library'\n apply plugin: 'kotlin-android'\n</code></pre>\n\n<p>However, if I have a normal library (Used to be Java), and want to write in Kotlin, should I add any plugin? The below definitely not working.</p>\n\n<pre><code> apply plugin: 'java-library'\n apply plugin: 'kotlin-android'\n</code></pre>\n\n<p>There is no 'kotlin-library' that I find to add in. What should I add to my module gradle to have it able to compile Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 4, "creation_date": 1502711369, "post_id": 45673830, "comment_id": 78305025, "body": "there is no different between them. <code>init</code> block is a convenient way that initializing a property need  more than  one statement. and your code didn&#39;t having any casting expression that can&#39;t be compiled."}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1502711441, "post_id": 45673830, "comment_id": 78305071, "body": "Watch out for the duplicate <code>= menuImg</code> in the second code snippet, otherwise I prefer that version; declare and assign in one place. (edit: wow you fixed that fast!!)"}, {"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1502711976, "post_id": 45673830, "comment_id": 78305383, "body": "holi-java  thank  you for explanation;"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502712039, "post_id": 45673830, "comment_id": 78305416, "body": "Not at all. glad it helped you, :)"}, {"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1502712094, "post_id": 45673830, "comment_id": 78305449, "body": "\u2013 CodeConfident , I note that after reread my question :)"}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1502730064, "post_id": 45674385, "comment_id": 78316531, "body": "That was very helpful"}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 11, "last_activity_date": 1502713125, "creation_date": 1502713125, "answer_id": 45674385, "question_id": 45673830, "link": "https://stackoverflow.com/questions/45673830/what-is-the-correct-place-to-initialize-class-variables-in-kotlin/45674385#45674385", "title": "What is the Correct place to initialize class variables in kotlin", "body": "<p>There is no difference in the execution of those options A and B: \nProperty initializers (immediately assigning a value) and Initializer blocks (using init block). But for simple initializations like your code, it is common to use the Property initializer -- option B in your case.</p>\n\n<p>But be aware of the execution order of the initializers if you use both versions in your code.</p>\n\n<p>Quoting from <a href=\"https://medium.com/keepsafe-engineering/an-in-depth-look-at-kotlins-initializers-a0420fcbf546\" rel=\"noreferrer\">this article</a>:</p>\n\n<blockquote>\n  <p>First, default constructor arguments are evaluated, starting with\n  argument to the constructor you call directly, followed by arguments\n  to any delegated constructors. Next, <strong>initializers (property\n  initializers and init blocks) are executed in the order that they are\n  defined in the class, top-to-bottom</strong>. Finally, constructors are\n  executed, starting with the primary constructor and moving outward\n  through delegated constructors until the constructor that you called\n  is executed.</p>\n</blockquote>\n"}], "owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4132, "favorite_count": 0, "accepted_answer_id": 45674385, "answer_count": 1, "score": 11, "last_activity_date": 1502713125, "creation_date": 1502711266, "last_edit_date": 1502711458, "question_id": 45673830, "link": "https://stackoverflow.com/questions/45673830/what-is-the-correct-place-to-initialize-class-variables-in-kotlin", "title": "What is the Correct place to initialize class variables in kotlin", "body": "<p>A: initialize class variable in init block </p>\n\n<pre><code>private class ViewHolder(view: View) {\n    val menuImg: ImageView\n    val txtMenu: TextView\n\n    init {\n        menuImg = view.find(R.id.menuImg)\n        txtMenu = view.find(R.id.txtMenu)\n    }\n}\n</code></pre>\n\n<p>B: initialize class variable direct in class block </p>\n\n<pre><code> private class ViewHolder(view: View) {\n    val menuImg: ImageView = view.find(R.id.menuImg)\n    val txtMenu: TextView =  view.find(R.id.txtMenu)\n}\n</code></pre>\n\n<p>what different between two code and why ?.</p>\n"}, {"tags": ["java", "kotlin", "pojo", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 641, "user_id": 7957325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ud8G6.jpg?s=128&g=1", "display_name": "Asharali V U", "link": "https://stackoverflow.com/users/7957325/asharali-v-u"}, "is_accepted": false, "score": 0, "last_activity_date": 1513657636, "creation_date": 1513657636, "answer_id": 47880016, "question_id": 45673499, "link": "https://stackoverflow.com/questions/45673499/how-to-access-kotlin-pojo-in-java-class/47880016#47880016", "title": "How to access kotlin pojo in java class", "body": "<p>We can access it as given below</p>\n\n<pre><code>    Example example = new Example();\n    example.setBar(\"\");\n    example.setBaz(\"\");\n    example.setFoo(\"\");\n    example.getBar();\n    example.getBaz();\n    example.getFoo();\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7533376, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-VxjBB5R0Dso/AAAAAAAAAAI/AAAAAAAAADQ/WNXEBMolUgw/photo.jpg?sz=128", "display_name": "Hemavathi", "link": "https://stackoverflow.com/users/7533376/hemavathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515051273, "creation_date": 1502710027, "last_edit_date": 1515051273, "question_id": 45673499, "link": "https://stackoverflow.com/questions/45673499/how-to-access-kotlin-pojo-in-java-class", "title": "How to access kotlin pojo in java class", "body": "<pre><code>class Example {\n\n    @SerializedName(\"foo\")\n    @Expose\n    var foo: String? = null\n    @SerializedName(\"bar\")\n    @Expose\n    var bar: String? = null\n    @SerializedName(\"baz\")\n    @Expose\n    var baz: String? = null\n}\n</code></pre>\n\n<p>How to access kotlin pojo class properties in java class</p>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502707905, "post_id": 45672731, "comment_id": 78302956, "body": "you should test each transaction separately, there is an example here: <a href=\"https://github.com/corda/cordapp-tutorial/blob/master/kotlin-source/src/test/kotlin/com/example/contract/IOUContractTests.kt\" rel=\"nofollow noreferrer\">github.com/corda/cordapp-tutorial/blob/master/kotlin-source/&zwnj;&#8203;src/&hellip;</a>"}, {"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502708125, "post_id": 45672731, "comment_id": 78303103, "body": "I will try, but as I read here <a href=\"https://docs.corda.net/releases/release-M14.0/tutorial-test-dsl.html\" rel=\"nofollow noreferrer\">docs.corda.net/releases/release-M14.0/tutorial-test-dsl.html</a> you can chain transactions in a test, if not with a slightly complex contract you would write too many redundant code"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502708225, "post_id": 45672731, "comment_id": 78303156, "body": "chain transactions in a test will change the states."}, {"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502708439, "post_id": 45672731, "comment_id": 78303293, "body": "Ok I will try, but the problem is in the first transaction, what should change from my code? Creating a new empty function with only that transaction won&#39;t change much I guess, but w/e let me see"}, {"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502708541, "post_id": 45672731, "comment_id": 78303348, "body": "Tried right now, creating a new empty test only for that transaction still get me the same error"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502709340, "post_id": 45672731, "comment_id": 78303825, "body": "all of the 3 transaction tests are failed?"}, {"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502712988, "post_id": 45672731, "comment_id": 78306014, "body": "The second one fails &quot;correctly&quot; and the third one verifies, the problem is in the first one that doesn&#39;t fail with the error provide but verify so the compiler says it should verify and throw an error"}], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1502707802, "post_id": 45672823, "comment_id": 78302904, "body": "Yeah I know, originally there were only the first two. I added the third one with a false hope that it would have changed something ahah"}, {"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1502708027, "post_id": 45672823, "comment_id": 78303042, "body": "Is there any difference between writing input, output, command, timeWindow etc in different order? Maybe there is a preferred order like input -&gt; issue command -&gt; output -&gt; timeStamp ?"}], "tags": [], "owner": {"reputation": 1253, "user_id": 2248578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5684497366deaa0b727ca8a662bf59?s=128&d=identicon&r=PG", "display_name": "Mike Hearn", "link": "https://stackoverflow.com/users/2248578/mike-hearn"}, "is_accepted": false, "score": 1, "last_activity_date": 1502707604, "creation_date": 1502707604, "answer_id": 45672823, "question_id": 45672731, "link": "https://stackoverflow.com/questions/45672731/contract-testing-dsl-wrong-behaviour-bug/45672823#45672823", "title": "Contract Testing DSL wrong behaviour / bug", "body": "<p>Good question - from your code I don't see the issue. However, note that your rules seem overlapping. You test that there is exactly one output, and then after that, that there are >0 outputs. The second test can be removed, it will never catch anything that the first doesn't.</p>\n"}, {"comments": [{"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1502714758, "post_id": 45674547, "comment_id": 78307099, "body": "Ok, so let&#39;s say that it doens&#39;t have sense to test a transaction without inputs and outputs right?"}, {"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "reply_to_user": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1502715147, "post_id": 45674547, "comment_id": 78307359, "body": "Yes - I can&#39;t imagine a situation where it would be useful."}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1502713628, "creation_date": 1502713628, "answer_id": 45674547, "question_id": 45672731, "link": "https://stackoverflow.com/questions/45672731/contract-testing-dsl-wrong-behaviour-bug/45674547#45674547", "title": "Contract Testing DSL wrong behaviour / bug", "body": "<p>The issue is that the transaction in the first test does not contain any inputs or outputs. For a transaction to be valid, it must be accepted by the contracts of all the inputs and outputs. Since you have no inputs or outputs, the transaction is always valid.</p>\n\n<p>This is not an issue when you have two outputs, as the <code>verify</code> function is run due to the presence of the two outputs in that case.</p>\n"}], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 45674547, "answer_count": 2, "score": 0, "last_activity_date": 1502713628, "creation_date": 1502707265, "question_id": 45672731, "link": "https://stackoverflow.com/questions/45672731/contract-testing-dsl-wrong-behaviour-bug", "title": "Contract Testing DSL wrong behaviour / bug", "body": "<p>I'm writing a Contract Test for my CorDapp but I'm stuck at a point because it isn't behaving as it should.</p>\n\n<p>This is the contract code (only the relevant part is presented)</p>\n\n<pre><code>when (command.value ) {\n        is LoanCommands.Issue -&gt; requireThat {\n            \"No Inputs should be consumed when issuing a Loan\" using ( tx.inputs.isEmpty())\n            \"Only a single output must be created when issugin a Loan\" using (tx.outputs.size == 1)\n            \"Outputs must not be empty\" using (tx.outputs.isNotEmpty()) \n</code></pre>\n\n<p>Then this is the test that I'm running</p>\n\n<pre><code>    @Test\nfun issueTransactionMustHaveOneOutputOfTypeLoanContract() {\n\n    ledger {\n        transaction {\n            command(loanState.issuer.owningKey) { LoanContract.LoanCommands.Issue() }\n            timeWindow(ZonedDateTime.of(LocalDate.now(), time, zoneId).toInstant())\n\n            this `fails with` \"Outputs must not be empty\"\n        }\n        transaction {\n            command(loanState.issuer.owningKey) { LoanContract.LoanCommands.Issue() }\n            timeWindow(ZonedDateTime.of(LocalDate.now(), time, zoneId).toInstant())\n            output { loanState } // Two outputs fails.\n            output { dummyState}\n            this `fails with` \"Only a single output must be created when issugin a Loan\"\n        }\n\n        transaction {\n            command(loanState.issuer.owningKey) { LoanContract.LoanCommands.Issue() }\n            output { loanState } // One output passes.\n            timeWindow(ZonedDateTime.of(LocalDate.now(), time, zoneId).toInstant())\n            this.verifies()\n        }\n    }\n}\n</code></pre>\n\n<p>Notice that the second transaction fails correctly (when I remove the first), but the first give me this error </p>\n\n<pre><code>2017-08-14 12:32:15,250 main WARN Unable to instantiate org.fusesource.jansi.WindowsAnsiOutputStream\n\njava.lang.AssertionError: Expected exception but didn't get one\n\nat net.corda.testing.Verifies$DefaultImpls.failsWith(LedgerDSLInterpreter.kt:62)\nat net.corda.testing.TransactionDSLInterpreter$DefaultImpls.failsWith(TransactionDSLInterpreter.kt)\nat net.corda.testing.TestTransactionDSLInterpreter.failsWith(TestDSL.kt:89)\nat net.corda.testing.Verifies$DefaultImpls.fails with(LedgerDSLInterpreter.kt:76)\nat net.corda.testing.TransactionDSLInterpreter$DefaultImpls.fails with(TransactionDSLInterpreter.kt)\nat net.corda.testing.TestTransactionDSLInterpreter.fails with(TestDSL.kt:89)\nat net.corda.testing.TransactionDSL.fails with(TransactionDSLInterpreter.kt)\nat com.template.contractTests.LoanContractIssueTest$issueTransactionMustHaveOneOutputOfTypeLoanContract$1$1.invoke(LoanContractIssueTest.kt:123)\nat com.template.contractTests.\n</code></pre>\n\n<p>Why it isn't raising an exception? It looks like the <code>tx.outputs.isNotEmpty()</code> is not working.</p>\n\n<p>Any help is appreciated </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 1601947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a52fcfe31aa1240cb44e81ed48125d9?s=128&d=identicon&r=PG", "display_name": "user1601947_6v", "link": "https://stackoverflow.com/users/1601947/user1601947-6v"}, "edited": false, "score": 0, "creation_date": 1502709824, "post_id": 45672729, "comment_id": 78304095, "body": "Thanks very much! It&#39;s very helpful!"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 2, "last_activity_date": 1502708214, "last_edit_date": 1502708214, "creation_date": 1502707264, "answer_id": 45672729, "question_id": 45672660, "link": "https://stackoverflow.com/questions/45672660/how-to-call-arrayadapter-addall-method-in-kotlin/45672729#45672729", "title": "How to call ArrayAdapter.addAll method in Kotlin?", "body": "<p>There are two <code>addAll</code> methods in <code>ArrayAdapter</code>:</p>\n\n<ol>\n<li><code>ArrayAdapter.addAll(T ... items)</code> </li>\n<li><code>public void addAll(@NonNull Collection&lt;? extends T&gt; collection)</code>.</li>\n</ol>\n\n<p>so compiler is unable to infer which one method you want to call, because <code>Any</code> is somewhat like <code>Object</code> in Java.</p>\n\n<p>Instead of :\n<code>val list = Collections.emptyList&lt;Any&gt;()</code> use <code>val list = Collections.emptyList&lt;String&gt;()</code>. </p>\n\n<p>And change <code>ArrayAdapter&lt;Any&gt;</code> to <code>ArrayAdapter&lt;String&gt;</code></p>\n\n<p>Error should be resolved.</p>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 1601947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a52fcfe31aa1240cb44e81ed48125d9?s=128&d=identicon&r=PG", "display_name": "user1601947_6v", "link": "https://stackoverflow.com/users/1601947/user1601947-6v"}, "edited": false, "score": 0, "creation_date": 1502709872, "post_id": 45672783, "comment_id": 78304126, "body": "Thanks very much! It&#39;s very helpful!"}], "tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 2, "last_activity_date": 1502707470, "creation_date": 1502707470, "answer_id": 45672783, "question_id": 45672660, "link": "https://stackoverflow.com/questions/45672660/how-to-call-arrayadapter-addall-method-in-kotlin/45672783#45672783", "title": "How to call ArrayAdapter.addAll method in Kotlin?", "body": "<p>You should use <code>String</code> instead of <code>Any</code></p>\n\n<p>Your code should be like this.</p>\n\n<pre><code>val list = Collections.emptyList&lt;String&gt;() // Just for sample.\n        val adapter = ArrayAdapter&lt;String&gt;(activity, R.layout.simple_spinner_item, list) // This line is OK\n        // Some work later\n        adapter.clear()\n        adapter.addAll()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1615, "user_id": 3673440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e7a045fa87a42e173fb251f9bfb656?s=128&d=identicon&r=PG&f=1", "display_name": "ipcjs", "link": "https://stackoverflow.com/users/3673440/ipcjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1586227160, "creation_date": 1586227160, "answer_id": 61071975, "question_id": 45672660, "link": "https://stackoverflow.com/questions/45672660/how-to-call-arrayadapter-addall-method-in-kotlin/61071975#61071975", "title": "How to call ArrayAdapter.addAll method in Kotlin?", "body": "<p>Add an extension method:</p>\n\n<pre><code>inline fun &lt;T&gt; ArrayAdapter&lt;T&gt;.addAllCollection(c: Collection&lt;T&gt;) = this.addAll(c)\n</code></pre>\n\n<p>Calling an extension method can bypass this limitation:</p>\n\n<pre><code>adapter.addAllCollection(list)\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 1601947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a52fcfe31aa1240cb44e81ed48125d9?s=128&d=identicon&r=PG", "display_name": "user1601947_6v", "link": "https://stackoverflow.com/users/1601947/user1601947-6v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1896, "favorite_count": 0, "accepted_answer_id": 45672729, "answer_count": 3, "score": 5, "last_activity_date": 1586227160, "creation_date": 1502707031, "question_id": 45672660, "link": "https://stackoverflow.com/questions/45672660/how-to-call-arrayadapter-addall-method-in-kotlin", "title": "How to call ArrayAdapter.addAll method in Kotlin?", "body": "<p>I have a very simple list (so it isn't necessary to create a custom adapter which extends BaseAdapter). I use an ArrayApdater to implements this.</p>\n\n<p>When I want to change the value of the adapter, there's a build error says there's two allAll methods and kotlin don't know which one to use.</p>\n\n<p>Here's the sample code:</p>\n\n<pre><code>    val list = Collections.emptyList&lt;Any&gt;() // Just for sample.\n    val adapter = ArrayAdapter&lt;Any&gt;(this, android.R.layout.simple_spinner_item, list) // This line is OK\n    // Some work later\n    adapter.clear()\n    adapter.addAll(list) // Here's the error\n</code></pre>\n\n<p>The error message is :</p>\n\n<pre><code>    Error:(79, 35) Overload resolution ambiguity:\n    public open fun addAll(p0: (MutableCollection&lt;out Any!&gt;..Collection&lt;Any!&gt;?)): Unit defined in android.widget.ArrayAdapter\n    public open fun addAll(vararg p0: Any!): Unit defined in android.widget.ArrayAdapter\n</code></pre>\n\n<p>How to solve it?</p>\n"}, {"tags": ["android", "kotlin", "mpandroidchart"], "answers": [{"tags": [], "owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1502706820, "creation_date": 1502706820, "answer_id": 45672605, "question_id": 45672526, "link": "https://stackoverflow.com/questions/45672526/mpandroidchart-live-data-not-visible-without-initial-bounds/45672605#45672605", "title": "MPAndroidChart live data not visible without initial bounds", "body": "<p>Accidentally fixed issue, by removing line <code>setVisibleXRangeMaximum(100f)</code> from the first snippet.</p>\n"}], "owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502706820, "creation_date": 1502706551, "question_id": 45672526, "link": "https://stackoverflow.com/questions/45672526/mpandroidchart-live-data-not-visible-without-initial-bounds", "title": "MPAndroidChart live data not visible without initial bounds", "body": "<p>I have to display realtime data in the app. I chose MPAndroidChart as a library for charts.</p>\n\n<p>But without settings initial dataset with entries or setting axis minimum and axis maximum (x axis) my chart isn't displayed (with this settings I can't scroll chart). I almost already copied all code from the example, but it's still invisible (example starts without bounds of x axis and works good): </p>\n\n<p><a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartExample/src/com/xxmassdeveloper/mpchartexample/RealtimeLineChartActivity.java\" rel=\"nofollow noreferrer\">https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartExample/src/com/xxmassdeveloper/mpchartexample/RealtimeLineChartActivity.java</a></p>\n\n<p>Here is example with fixed max/min X<a href=\"https://i.stack.imgur.com/QhU0y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QhU0y.png\" alt=\"Max min fixed chart\"></a></p>\n\n<p>Here is example of bug, no data shown: <a href=\"https://i.stack.imgur.com/1BNFt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1BNFt.png\" alt=\"No data\"></a></p>\n\n<p>Everything is inside the fragment in the viewpager:</p>\n\n<p>Here is code of the initing line chart:</p>\n\n<pre><code>line_chart.apply {\n\n      description.apply {\n        isEnabled = true\n        text = \"Live chart\"\n      }\n\n      setTouchEnabled(true)\n\n      isDragEnabled = true\n      setScaleEnabled(true)\n      setDrawGridBackground(false)\n\n      setPinchZoom(true)\n\n\n      data = LineData().apply {\n        setValueTextColor(Color.BLACK)\n      }\n\n      // THIS:\n//      data = LineData(dataset(\"Simple\").apply {\n//        for (i in 1..10) {\n//          addEntry(Entry(i.toFloat(), i.toFloat()))\n//        }\n//      })\n\n      legend.apply {\n        form = LINE\n        textColor = Color.BLACK\n      }\n\n      xAxis.apply {\n        textColor = Color.BLACK\n        setDrawGridLines(false)\n        setAvoidFirstLastClipping(true)\n        isEnabled = true\n        granularity = 5f\n        axisMinimum = 0f\n        axisMaximum = 20f\n\n        setValueFormatter { value, _ -&gt; Date(value.toLong()).simpleSecondsFormat() }\n      }\n\n      axisLeft.apply {\n        textColor = Color.BLACK\n\n        // OR THIS:\n        //axisMinimum = 0f\n        //axisMaximum = 12f\n        setDrawGridLines(true)\n      }\n\n      axisRight.isEnabled = false\n\n      setVisibleXRangeMaximum(100f)\n    }\n</code></pre>\n\n<p>Code for creating dataset:</p>\n\n<pre><code>fun dataset(label: String): LineDataSet = LineDataSet(null, label).apply {\n  axisDependency = LEFT\n  color = Color.BLACK\n  setCircleColor(Color.RED)\n  lineWidth = 2f\n  circleRadius = 4f\n  fillAlpha = 65\n  fillColor = Color.RED\n  highLightColor = Color.GREEN\n  valueTextColor = Color.RED\n  valueTextSize = 9f\n  setDrawValues(true)\n}\n</code></pre>\n\n<p>Data comes from the store, using RxJava2:</p>\n\n<pre><code>.observeOn(AndroidSchedulers.mainThread())\n        .doOnNext { Timber.d(\"Entry: $it, timestamp: ${it.timestamp}\") }\n        .doOnNext {\n\n          line_chart.data.apply {\n            val dataSet = getDataSetByLabel(it.macAddress, true) ?: dataset(\n                it.macAddress).also { addDataSet(it) }\n\n            addEntry(Entry(it.timestamp.toFloat(), it.energy),\n                getIndexOfDataSet(dataSet))\n\n            notifyDataChanged()\n          }\n        }\n        .doOnNext {\n          line_chart.apply {\n            notifyDataSetChanged()\n            setVisibleXRangeMaximum(120f)\n            invalidate()\n          }\n        }\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 1, "creation_date": 1502703048, "post_id": 45671428, "comment_id": 78300194, "body": "How long would you want the Observables to wait for their corresponding element?"}, {"owner": {"reputation": 23, "user_id": 3551763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc106e86ef3261fa7bd2774d977c8c75?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Lamparski", "link": "https://stackoverflow.com/users/3551763/kacper-lamparski"}, "reply_to_user": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1502703185, "post_id": 45671428, "comment_id": 78300289, "body": "Indefinitely I guess. The entities come from the DB and Dtos are from Http request so I should have the full data set in memory"}, {"owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1502703444, "post_id": 45671428, "comment_id": 78300458, "body": "If that&#39;s so, why do streaming at all, might be a lot easier converting them to in memory collections and doing the transformations then."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1502703468, "post_id": 45671428, "comment_id": 78300472, "body": "<a href=\"https://stackoverflow.com/questions/29220050/rxjava-merge-observables-of-different-type\" title=\"rxjava merge observables of different type\">stackoverflow.com/questions/29220050/&hellip;</a> - Sort them first, zip them after, call an action of both which combines them."}, {"owner": {"reputation": 23, "user_id": 3551763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc106e86ef3261fa7bd2774d977c8c75?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Lamparski", "link": "https://stackoverflow.com/users/3551763/kacper-lamparski"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1502703744, "post_id": 45671428, "comment_id": 78300646, "body": "@EmanuelSeibold This wouldn&#39;t work as the keys are missing - unless I&#39;m missing something ofc."}, {"owner": {"reputation": 23, "user_id": 3551763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc106e86ef3261fa7bd2774d977c8c75?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Lamparski", "link": "https://stackoverflow.com/users/3551763/kacper-lamparski"}, "reply_to_user": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1502703747, "post_id": 45671428, "comment_id": 78300649, "body": "@LukaJacobowitz To be honest I&#39;ve expected this answer :D I think I just needed to hear it from someone more experienced in Rx"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1502703835, "post_id": 45671428, "comment_id": 78300699, "body": "Kacper, it does. Sort it by Key, the data with the missing key goes to the end and. Means if you combine them &quot;entity 1, entity 2, dto 3, entity 4, dto 5, entity null, dto null, entity null,  ...  But i think even if you can solve this, this doesnt seems like a legit design pattern"}, {"owner": {"reputation": 19421, "user_id": 3795501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaeec79535337d9a96f63f2d6ef3e49d?s=128&d=identicon&r=PG", "display_name": "Luka Jacobowitz", "link": "https://stackoverflow.com/users/3795501/luka-jacobowitz"}, "edited": false, "score": 0, "creation_date": 1502704252, "post_id": 45671428, "comment_id": 78300919, "body": "Protip: If you have to wait indefinitely for something, streaming can&#39;t help you. :)"}, {"owner": {"reputation": 23, "user_id": 3551763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc106e86ef3261fa7bd2774d977c8c75?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Lamparski", "link": "https://stackoverflow.com/users/3551763/kacper-lamparski"}, "edited": false, "score": 0, "creation_date": 1502709569, "post_id": 45671428, "comment_id": 78303952, "body": "I&#39;ll keep that in mind :) Thanks a lot for your help!"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1502710317, "post_id": 45671428, "comment_id": 78304387, "body": "Maybe duplicate of <a href=\"https://stackoverflow.com/questions/45220837/full-outer-join-of-two-ordered-observables\" title=\"full outer join of two ordered observables\">stackoverflow.com/questions/45220837/&hellip;</a> ?"}], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 1, "last_activity_date": 1502737134, "creation_date": 1502737134, "answer_id": 45681271, "question_id": 45671428, "link": "https://stackoverflow.com/questions/45671428/how-do-i-join-two-rxjava2-obvervables-by-key/45681271#45681271", "title": "How do I join two RxJava2 Obvervables by key?", "body": "<p>First, <code>Observable.merge</code> the streams together: this gives you a stream of all the items. (In the code below, I've used a custom <code>Either</code> class to tag each stream.)</p>\n\n<p>Then, for each item in the stream, try to match it with a previously-observed item of the other type, and output the pair. If not, save it to be matched later.</p>\n\n<p>Finally, once the stream is done, the remaining unmatched elements won't be matched with anything, so they can be emitted unpaired.</p>\n\n<pre><code>import io.reactivex.Observable\n\ndata class Entity(val id: Int)\ndata class Dto(val id: Int)\n\nsealed class Either&lt;out A, out B&gt;\ndata class Left&lt;A&gt;(val value: A) : Either&lt;A, Nothing&gt;()\ndata class Right&lt;B&gt;(val value: B) : Either&lt;Nothing, B&gt;()\n\nfun &lt;A : Any, B : Any, C&gt; joinById(a: Observable&lt;A&gt;, idA: (A) -&gt; C, b: Observable&lt;B&gt;, idB : (B) -&gt; C): Observable&lt;Pair&lt;A?, B?&gt;&gt; {\n    val unmatchedA = mutableMapOf&lt;C, A&gt;()\n    val unmatchedB = mutableMapOf&lt;C, B&gt;()\n    val merged = Observable.mergeDelayError(a.map(::Left), b.map(::Right)).flatMap { latest -&gt;\n        when (latest) {\n            is Left -&gt; {\n                val id = idA(latest.value)\n                unmatchedB.remove(id)?.let { return@flatMap Observable.just(latest.value to it) }\n                unmatchedA.put(id, latest.value)\n            }\n            is Right -&gt; {\n                val id = idB(latest.value)\n                unmatchedA.remove(id)?.let { return@flatMap Observable.just(it to latest.value) }\n                unmatchedB.put(id, latest.value)\n            }\n        }\n        Observable.empty&lt;Nothing&gt;()\n    }\n    return Observable.concat(merged, Observable.create { emitter -&gt;\n        unmatchedA.values.forEach { emitter.onNext(it to null) }\n        unmatchedB.values.forEach { emitter.onNext(null to it) }\n        emitter.onComplete()\n    })\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val entities = Observable.just(Entity(2), Entity(1), Entity(4))\n    val dtos = Observable.just(Dto(3), Dto(2), Dto(1))\n    joinById(entities, Entity::id, dtos, Dto::id).blockingForEach(::println)\n}\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>(Entity(id=2), Dto(id=2))\n(Entity(id=1), Dto(id=1))\n(Entity(id=4), null)\n(null, Dto(id=3))\n</code></pre>\n\n<p>Note that this may have some odd behavior if the ids are repeated within a stream, and depending on the structure of the streams it's possible that this will end up buffering a lot of elements in memory.</p>\n"}], "owner": {"reputation": 23, "user_id": 3551763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc106e86ef3261fa7bd2774d977c8c75?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Lamparski", "link": "https://stackoverflow.com/users/3551763/kacper-lamparski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 45681271, "answer_count": 1, "score": 1, "last_activity_date": 1502737134, "creation_date": 1502702984, "question_id": 45671428, "link": "https://stackoverflow.com/questions/45671428/how-do-i-join-two-rxjava2-obvervables-by-key", "title": "How do I join two RxJava2 Obvervables by key?", "body": "<p>I have two unsorted observables of different types. Both of these types share a common key. I'd like to join them into a new observable emitting pairs of corresponding elements and I can't figure out how to do it.</p>\n\n<p>Note that some of the keys might be missing. It would be OK if not complete pairs are dropped, but having <code>null</code> in place of missing piece would be even better.</p>\n\n<p>Input 1: </p>\n\n<pre><code>Entity(id = 2),\nEntity(id = 1),\nEntity(id = 4)\n</code></pre>\n\n<p>Input 2:</p>\n\n<pre><code>Dto(id = 3),\nDto(id = 2),\nDto(id = 1)\n</code></pre>\n\n<p>Expected output (in any order):</p>\n\n<pre><code>Pair(Entity(id = 1), Dto(id = 1)),\nPair(Entity(id = 2), Dto(id = 2)),\nPair(null, Dto(id = 3)),\nPair(Entity(id = 4), null)\n</code></pre>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502686342, "post_id": 45667611, "comment_id": 78292685, "body": "what is the issue with binding?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502686693, "post_id": 45667611, "comment_id": 78292772, "body": "@chandil03 when I run the app I get a blank screen. I am expecting to see one item in the recyclerview. More to be added later. But instead I see none. The rest of the app components are visible, such as the nav drawer. But not recycler view"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502687601, "post_id": 45667611, "comment_id": 78292988, "body": "@pskink yes it is being called. but i am seing this in the debugger. could the problem be related to the &quot;no parent&quot;? message:  ViewHolder{edf53aa position=0 id=-1, oldPos=-1, pLpos:-1 no parent}"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502687673, "post_id": 45667611, "comment_id": 78293008, "body": "is <code>onBindViewHolder</code> called at all?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502687690, "post_id": 45667611, "comment_id": 78293016, "body": "try adding <code>mRecyclerView.setHasFixedSize(true);</code> line."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502687879, "post_id": 45667611, "comment_id": 78293066, "body": "so with what <code>position</code> it is called?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502687979, "post_id": 45667611, "comment_id": 78293094, "body": "@chandil03 setHasFixedSize didn&#39;t work. Is it possible it&#39;s an issue with my layout file? The layout I am inflating is just a linearlayout with vertical orientation and two textview inside."}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502688648, "post_id": 45667611, "comment_id": 78293281, "body": "@pskink position is 0"}, {"owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "edited": false, "score": 0, "creation_date": 1502773145, "post_id": 45667611, "comment_id": 78330915, "body": "Add 2 more item in the list and check, May be your recycle view starts from the top of the view(from below Toolbar.)"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "edited": false, "score": 0, "creation_date": 1502773727, "post_id": 45667611, "comment_id": 78331056, "body": "tried it just now. still nothing."}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502774188, "post_id": 45667611, "comment_id": 78331188, "body": "@pskink could it be anything to do with the navigation drawer activity that android studio set up?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502777751, "post_id": 45667611, "comment_id": 78332346, "body": "ok so you have one item which is visible, but still, you say you see nothing...  text inside is not empty since <code>onBindViewHolder</code> was called on it (make sure to add some <code>Log.d</code> inside <code>bindItems</code> method), so the only reason is... &quot;invisible&quot; colors?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502778360, "post_id": 45667611, "comment_id": 78332568, "body": "change for a moment <code>android:background</code>s of <code>@+id&#47;addrPortView</code> and <code>@+id&#47;resultProtocolView</code> to <code>#f00</code> and <code>#0f0</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502780233, "post_id": 45667611, "comment_id": 78333288, "body": "i dont see any changes except you set <code>android:text</code> in the xml layout - did you try different backgrounds as in my prev comment?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502780640, "post_id": 45667611, "comment_id": 78333472, "body": "@pskink. Yes I did. I still don&#39;t see anything. I posted another edit just now. When I started the project I used the Android studio navigation drawer activity that is generated by studio. I then deleted the coordinator layout and replaced it with my recyclerview. I am thinking maybe I deleted one of these include layout statements in the xml. The changes I posted are of the recyclerview xml and the include statement I may be missing as well as the error message I get after trying that. It&#39;s the only thing I can think of and I don&#39;t really understand what I am doing."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502780740, "post_id": 45667611, "comment_id": 78333517, "body": "so your app crashes or not? since i am lost here... did you call <code>setLayoutManager</code> ?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502780903, "post_id": 45667611, "comment_id": 78333583, "body": "@pskink It only crashes when I try to add the include in the xml. And yes. I called setLayoutManager() and set it to a new Linearlayout manager"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502780992, "post_id": 45667611, "comment_id": 78333625, "body": "and what is the reason for that &lt;include&gt;? my advice is: just for testing use <code>Activity#setContentView(View view)</code> method, where <code>view</code> is  <code>new RecyclerView(this)</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502781332, "post_id": 45667611, "comment_id": 78333804, "body": "something like: <code>RecyclerView rv = new RecyclerView(this); rv.setAdapter(...); rv.setLayoutManager(...); setContentView(rv);</code>"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502809405, "post_id": 45667611, "comment_id": 78349405, "body": "@pskink yes that worked. but of course now my navigation drawer and action bar were gone after that. also i apparently made a mistake adding my extra items and although i created them i didn&#39;t add them to the list. after correcting that i can actually see the contents of the recyclerview. one item is hidden under the toolbar as you said. sorry about that. any idea for a work around to fix this?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502810186, "post_id": 45667611, "comment_id": 78349907, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/151972/discussion-between-mox-z-and-pskink\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6617, "user_id": 4951663, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/y4L2S.png?s=128&g=1", "display_name": "Mohit Suthar", "link": "https://stackoverflow.com/users/4951663/mohit-suthar"}, "is_accepted": false, "score": 0, "last_activity_date": 1502686578, "creation_date": 1502686578, "answer_id": 45667687, "question_id": 45667611, "link": "https://stackoverflow.com/questions/45667611/recyclerview-viewholder-isnt-binding-correctly/45667687#45667687", "title": "RecyclerView.ViewHolder isn&#39;t binding correctly", "body": "<p>Seems like your adapter almost fine but you can write your view holder like that may be helpful</p>\n\n<pre><code>class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        val addrPortView = view.findViewById(R.id.addrPortView) as TextView\n        fun bind(networkTest: NetworkTest){\n            addrPortView .text = \"Address: ${networkTest.addr} Port: \n                                  ${networkTest.port}\"\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502810162, "creation_date": 1502685880, "last_edit_date": 1502810162, "question_id": 45667611, "link": "https://stackoverflow.com/questions/45667611/recyclerview-viewholder-isnt-binding-correctly", "title": "RecyclerView.ViewHolder isn&#39;t binding correctly", "body": "<p>i am building an android app using java and kotlin. i am very new to kotlin and i am having trouble with my adapter. for some reason it doesn't seem that the adapter ViewHolder is binding correctly. i am unsure of what to do as i am not getting any error messages and i am having trouble finding anything when i am debugging. here is the code for my adapter:</p>\n\n<pre><code>data class NetworkTest(val addr: String, val port: String, val results: String, val protocol: String)\n\npublic class NetTestRecyclerAdapter(val netList: List&lt;NetworkTest&gt;, val context: Context): RecyclerView.Adapter&lt;NetTestRecyclerAdapter.NetTestRecyclerHolder&gt;(){\n\noverride fun onBindViewHolder(holder: NetTestRecyclerHolder, position: Int) {\n    holder.bindItems(netList[position])\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): NetTestRecyclerHolder {\n    val v: View = LayoutInflater.from(context).inflate(R.layout.tested_list_item, parent, false)\n    return NetTestRecyclerHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return netList.size\n}\n\nclass NetTestRecyclerHolder(itemView: View): RecyclerView.ViewHolder(itemView){\n    fun bindItems(networkTest: NetworkTest){\n        val addrPortView = itemView.find&lt;TextView&gt;(R.id.addrPortView)\n        val resultsProtocolView = itemView.find&lt;TextView&gt;(R.id.resultProtocolView)\n        addrPortView.text = \"Address: ${networkTest.addr} Port: ${networkTest.port}\"\n        resultsProtocolView.text = \"Results: ${networkTest.results} Protocol: ${networkTest.protocol}\"\n    }\n}\n}\n</code></pre>\n\n<p>and here is the code for my main activity:</p>\n\n<pre><code>public class NetTestActivity extends AppCompatActivity\n    implements NavigationView.OnNavigationItemSelectedListener {\n\nprivate RecyclerView mRecyclerView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_net_test);\n    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    FloatingActionButton fab = (FloatingActionButton) findViewById(R.id.fab);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Snackbar.make(view, \"Replace with your own action\", Snackbar.LENGTH_LONG)\n                    .setAction(\"Action\", null).show();\n        }\n    });\n\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n    drawer.setDrawerListener(toggle);\n    toggle.syncState();\n\n    NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n    navigationView.setNavigationItemSelectedListener(this);\n\n    mRecyclerView = (RecyclerView)findViewById(R.id.networkList);\n    List toolTestList = new ArrayList&lt;&gt;();\n    toolTestList.add(new NetworkTest(\"addr\", \"port\", \"results\", \"protocol\"));\n    NetTestRecyclerAdapter adapter = new NetTestRecyclerAdapter(toolTestList, getApplicationContext()); //context may need to be changed\n\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n\n    mRecyclerView.setAdapter(adapter);\n}\n\n@Override\npublic void onBackPressed() {\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    if (drawer.isDrawerOpen(GravityCompat.START)) {\n        drawer.closeDrawer(GravityCompat.START);\n    } else {\n        super.onBackPressed();\n    }\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.net_test, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_settings) {\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n\n@SuppressWarnings(\"StatementWithEmptyBody\")\n@Override\npublic boolean onNavigationItemSelected(MenuItem item) {\n    // Handle navigation view item clicks here.\n    int id = item.getItemId();\n\n    if (id == R.id.nav_camera) {\n        // Handle the camera action\n    } else if (id == R.id.nav_gallery) {\n\n    } else if (id == R.id.nav_slideshow) {\n\n    }\n\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    drawer.closeDrawer(GravityCompat.START);\n    return true;\n}\n}\n</code></pre>\n\n<p>please help me find what i am doing wrong here. thank you in advance for the help.</p>\n\n<p>heres my layout file for my viewholder as well as well</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:id=\"@+id/list_item\"\n          android:orientation=\"vertical\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/addrPortView\"\n        android:text=\"testing\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/resultProtocolView\"\n        android:text=\"again\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>my recyclerview layout looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.RecyclerView\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/networkList\"\nandroid:layout_height=\"match_parent\"\nandroid:layout_width=\"match_parent\"&gt;\n\n\n\n&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p>should i be including something like this:</p>\n\n<pre><code>&lt;include\n    layout=\"@layout/activity_net_test\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"/&gt;\n</code></pre>\n\n<p>here is adb dumpsys top</p>\n\n<pre><code>adb shell dumpsys activity top\nTASK com.example.zacharymcdaniel.nettest id=4928\nACTIVITY com.example.zacharymcdaniel.nettest/.NetTestActivity 2543227 pid=14548\nLocal Activity 5de3ad9 State:\n  mResumed=true mStopped=false mFinished=false\n  mChangingConfigurations=false\n  mCurrentConfig={1.0 311mcc870mnc en_US ldltr sw360dp w360dp h569dp 320dpi nrml port finger -keyb/v/h -nav/h s.73 fontTypeIndex0 forceEmbolden0}\n  mLoadersStarted=true\n  FragmentManager misc state:\n    mHost=android.app.Activity$HostCallbacks@86516d4\n    mContainer=android.app.Activity$HostCallbacks@86516d4\n    mCurState=5 mStateSaved=false mDestroyed=false\nViewRoot:\n  mAdded=true mRemoved=false\n  mConsumeBatchedInputScheduled=false\n  mConsumeBatchedInputImmediatelyScheduled=false\n  mPendingInputEventCount=0\n  mProcessInputEventsScheduled=false\n  mTraversalScheduled=false\n  android.view.ViewRootImpl$NativePreImeInputStage: mQueueLength=0\n  android.view.ViewRootImpl$ImeInputStage: mQueueLength=0\n  android.view.ViewRootImpl$NativePostImeInputStage: mQueueLength=0\nChoreographer:\n  mFrameScheduled=false\n  mLastFrameTime=43338300 (43548 ms ago)\nView Hierarchy:\n  com.android.internal.policy.PhoneWindow$DecorView{bf7807d V.E...... R....... 0,0-720,1280}\n    android.widget.LinearLayout{f35fb72 V.E...... ........ 0,0-720,1187}\n      android.view.ViewStub{8c4fbc3 G.E...... ......I. 0,0-0,0 #10203aa android:id/action_mode_bar_stub}\n      android.widget.FrameLayout{c66cc40 V.E...... ........ 0,0-720,1187}\n        android.support.v7.widget.FitWindowsLinearLayout{380a779 V.E...... ........ 0,0-720,1187 #7f0d0067 app:id/action_bar_root}\n          android.support.v7.widget.ViewStubCompat{1645cbe G.E...... ......I. 0,0-0,0 #7f0d0068 app:id/action_mode_bar_stub}\n          android.support.v7.widget.ContentFrameLayout{4f1911f V.E...... ........ 0,0-720,1187 #1020002 android:id/content}\n            android.support.v4.widget.DrawerLayout{20c6c6c VFED..... ........ 0,0-720,1187 #7f0d007b app:id/drawer_layout}\n              android.support.design.widget.CoordinatorLayout{fdb4235 V.E...... ........ 0,48-720,1187}\n                android.support.design.widget.AppBarLayout{90688e5 V.E...... ........ 0,0-720,112}\n                  android.support.v7.widget.Toolbar{88586ca V.E...... ........ 0,0-720,112 #7f0d007d app:id/toolbar}\n                    android.support.v7.widget.AppCompatTextView{a28203b V.ED..... ........ 144,29-283,83}\n                    android.support.v7.widget.AppCompatImageButton{589e358 VFED..C.. ........ 0,0-112,112}\n                    android.support.v7.widget.ActionMenuView{d0accb1 V.E...... ........ 640,0-720,112}\n                      android.support.v7.widget.ActionMenuPresenter$OverflowMenuButton{9dd4596 VFED..CL. ........ 0,8-80,104}\n                android.support.v7.widget.RecyclerView{b9c3fba VFED..... .F...... 0,0-720,1139 #7f0d007f app:id/networkList}\n                  android.widget.LinearLayout{66e8517 V.E...... ........ 0,0-720,76 #7f0d0050 app:id/list_item}\n                    android.support.v7.widget.AppCompatTextView{5cc1647 V.ED..... ........ 0,0-720,38 #7f0d00a5 app:id/addrPortView}\n                    android.support.v7.widget.AppCompatTextView{65dd04 V.ED..... ........ 0,38-720,76 #7f0d00a6 app:id/resultProtocolView}\n                  android.widget.LinearLayout{9ce82ed V.E...... ........ 0,76-720,152 #7f0d0050 app:id/list_item}\n                    android.support.v7.widget.AppCompatTextView{e5ef9d V.ED..... ........ 0,0-720,38 #7f0d00a5 app:id/addrPortView}\n                    android.support.v7.widget.AppCompatTextView{9202522 V.ED..... ........ 0,38-720,76 #7f0d00a6 app:id/resultProtocolView}\n                  android.widget.LinearLayout{84c5bb3 V.E...... ........ 0,152-720,228 #7f0d0050 app:id/list_item}\n                    android.support.v7.widget.AppCompatTextView{fa9cfe3 V.ED..... ........ 0,0-720,38 #7f0d00a5 app:id/addrPortView}\n                    android.support.v7.widget.AppCompatTextView{be5c570 V.ED..... ........ 0,38-720,76 #7f0d00a6 app:id/resultProtocolView}\n                  android.widget.LinearLayout{79d60e9 V.E...... ........ 0,228-720,304 #7f0d0050 app:id/list_item}\n                    android.support.v7.widget.AppCompatTextView{b36e899 V.ED..... ........ 0,0-720,38 #7f0d00a5 app:id/addrPortView}\n                    android.support.v7.widget.AppCompatTextView{ebf716e V.ED..... ........ 0,38-720,76 #7f0d00a6 app:id/resultProtocolView}\n                  android.widget.LinearLayout{527000f V.E...... ........ 0,304-720,380 #7f0d0050 app:id/list_item}\n                    android.support.v7.widget.AppCompatTextView{81f873f V.ED..... ........ 0,0-720,38 #7f0d00a5 app:id/addrPortView}\n                    android.support.v7.widget.AppCompatTextView{e39c89c V.ED..... ........ 0,38-720,76 #7f0d00a6 app:id/resultProtocolView}\n                  android.widget.LinearLayout{e6222a5 V.E...... ........ 0,380-720,456 #7f0d0050 app:id/list_item}\n                    android.support.v7.widget.AppCompatTextView{4047555 V.ED..... ........ 0,0-720,38 #7f0d00a5 app:id/addrPortView}\n                    android.support.v7.widget.AppCompatTextView{6f5367a V.ED..... ........ 0,38-720,76 #7f0d00a6 app:id/resultProtocolView}\n                android.support.design.widget.FloatingActionButton{cdfe6b VFED..C.. ........ 576,995-688,1107 #7f0d007e app:id/fab}\n              android.support.design.widget.NavigationView{95d8e2b I.ED..... ......ID -560,0-0,1187 #7f0d007c app:id/nav_view}\n                android.support.design.internal.NavigationMenuView{e68d288 VFED.V... ......ID 0,0-560,1187 #7f0d0087 app:id/design_navigation_view}\n                  android.widget.LinearLayout{ff74421 V.E...... ......I. 0,0-560,336 #7f0d0086 app:id/navigation_header_container}\n                    android.widget.LinearLayout{5904046 V.E...... ......ID 0,0-560,320}\n                      android.support.v7.widget.AppCompatImageView{e24e207 V.ED..... ......ID 32,52-128,180 #7f0d008c app:id/imageView}\n                      android.support.v7.widget.AppCompatTextView{afc8f34 V.ED..... ......ID 32,180-528,250}\n                      android.support.v7.widget.AppCompatTextView{763015d V.ED..... ......ID 32,250-294,288 #7f0d008d app:id/textView}\n                  android.support.design.internal.NavigationMenuItemView{a801ad2 VFED..C.. ......I. 0,336-560,432}\n                    android.support.v7.widget.AppCompatCheckedTextView{12397a3 V.ED..... ......ID 32,0-528,96 #7f0d0088 app:id/design_menu_item_text}\n                    android.view.ViewStub{f6d6aa0 G.E...... ......I. 0,0-0,0 #7f0d0089 app:id/design_menu_item_action_area_stub}\n                  android.support.design.internal.NavigationMenuItemView{fd35659 VFED..C.. ......I. 0,432-560,528}\n                    android.support.v7.widget.AppCompatCheckedTextView{321121e V.ED..... ......ID 32,0-528,96 #7f0d0088 app:id/design_menu_item_text}\n                    android.view.ViewStub{9ce0aff G.E...... ......I. 0,0-0,0 #7f0d0089 app:id/design_menu_item_action_area_stub}\n                  android.support.design.internal.NavigationMenuItemView{44e90cc VFED..C.. ......I. 0,528-560,624}\n                    android.support.v7.widget.AppCompatCheckedTextView{f59ff15 V.ED..... ......ID 32,0-528,96 #7f0d0088 app:id/design_menu_item_text}\n                    android.view.ViewStub{448322a G.E...... ......I. 0,0-0,0 #7f0d0089 app:id/design_menu_item_action_area_stub}\n                  android.support.design.internal.NavigationMenuItemView{882581b VFED..C.. ......I. 0,624-560,720}\n                    android.support.v7.widget.AppCompatCheckedTextView{639edb8 V.ED..... ......ID 32,0-528,96 #7f0d0088 app:id/design_menu_item_text}\n                    android.view.ViewStub{1687791 G.E...... ......I. 0,0-0,0 #7f0d0089 app:id/design_menu_item_action_area_stub}\n                  android.support.design.internal.NavigationMenuItemView{90f46f6 VFED..C.. ......I. 0,720-560,816}\n                    android.support.v7.widget.AppCompatCheckedTextView{b645af7 V.ED..... ......ID 32,0-528,96 #7f0d0088 app:id/design_menu_item_text}\n                    android.view.ViewStub{f7c2d64 G.E...... ......I. 0,0-0,0 #7f0d0089 app:id/design_menu_item_action_area_stub}\n    android.view.View{d0bfbcd V.ED..... ........ 0,1187-720,1280 #1020030 android:id/navigationBarBackground}\n    android.view.View{260dc82 V.ED..... ........ 0,0-720,48 #102002f android:id/statusBarBackground}\nLooper (main, tid 1) {4f9af93}\n  (Total messages: 0, polling=false, quitting=false)\nLocal FragmentActivity 5de3ad9 State:\n  mCreated=truemResumed=true mStopped=false mReallyStopped=false\n  mLoadersStarted=true\nFragmentManager misc state:\n  mHost=android.support.v4.app.FragmentActivity$HostCallbacks@80bbd0\n  mContainer=android.support.v4.app.FragmentActivity$HostCallbacks@80bbd0\n  mCurState=5 mStateSaved=false mDestroyed=false\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 69128, "user_id": 242769, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8f1bfe0dcaa3cdc6633e8b80639e541a?s=128&d=identicon&r=PG", "display_name": "aryaxt", "link": "https://stackoverflow.com/users/242769/aryaxt"}, "edited": false, "score": 1, "creation_date": 1502685567, "post_id": 45667446, "comment_id": 78292533, "body": "that makes sense, thanks. Need to get Swift out of my head while writing Kotlin :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1502684603, "creation_date": 1502684603, "answer_id": 45667446, "question_id": 45667360, "link": "https://stackoverflow.com/questions/45667360/usage-of-rxjava-map-in-kotlin/45667446#45667446", "title": "Usage of RXJava map in Kotlin?", "body": "<p>This part of your code</p>\n\n<pre><code>.map { snapshot: DataSnapshot? -&gt; object: List&lt;Exercise&gt;\n</code></pre>\n\n<p>says that the type of the <code>snapshot</code> parameter that this lambda receives is <code>DataSnapshot? -&gt; object: List&lt;Exercise&gt;</code> (which actually isn't a valid function type, that would be <code>DataSnapshot? -&gt; List&lt;Exercise&gt;</code>). </p>\n\n<p>I believe what you actually wanted to do is the following, a <code>snapshot</code> parameter that just has the type <code>DataSnapshot</code>:</p>\n\n<pre><code>.map { snapshot: DataSnapshot? -&gt;\n    listOf&lt;Exercise&gt;()\n}\n</code></pre>\n\n<p>The return type of the lambda doesn't have to be specified here, it will just be inferred. You also don't need to use the <code>return</code> keyword in a lambda, because the last expression in it is what's returned.</p>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 6, "last_activity_date": 1502687428, "last_edit_date": 1502687428, "creation_date": 1502686575, "answer_id": 45667686, "question_id": 45667360, "link": "https://stackoverflow.com/questions/45667360/usage-of-rxjava-map-in-kotlin/45667686#45667686", "title": "Usage of RXJava map in Kotlin?", "body": "<p>@zsmb13 has pointed out the correct answer right there. Here, I would like to comment on some mistake made in your lambda expression.</p>\n\n<pre><code>.map { snapshot: DataSnapshot? -&gt; object: List&lt;Exercise&gt;\n        // Error here\n        return listOf&lt;Exercise&gt;()\n}\n</code></pre>\n\n<p><code>object: List&lt;Exercise&gt;</code> here is not a valid syntax since the body goes after an <code>-&gt;</code> sign inside the lambda expression. We do not specify the return type inside the body.</p>\n\n<p>Also, the <code>return</code> here means to return from <code>fetchExercises()</code> as described in <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#anonymous-functions\" rel=\"noreferrer\">Kotlin docs</a>:</p>\n\n<blockquote>\n  <p>A return statement without a label always returns from the function declared with the fun keyword. This means that a return inside a lambda expression will return from the enclosing function, whereas a return inside an anonymous function will return from the anonymous function itself.</p>\n</blockquote>\n\n<p>As what @zsmb13 said, <code>return</code> is not needed in most of the case. If you really want it(for flow control), you can use <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">qualified returns</a>:</p>\n\n<pre><code>//This is answer from @zsmb13\n.map { snapshot: DataSnapshot? -&gt;\n    return@map listOf&lt;Exercise&gt;()\n}\n</code></pre>\n"}], "owner": {"reputation": 69128, "user_id": 242769, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8f1bfe0dcaa3cdc6633e8b80639e541a?s=128&d=identicon&r=PG", "display_name": "aryaxt", "link": "https://stackoverflow.com/users/242769/aryaxt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5846, "favorite_count": 1, "accepted_answer_id": 45667446, "answer_count": 2, "score": 3, "last_activity_date": 1502687428, "creation_date": 1502683914, "question_id": 45667360, "link": "https://stackoverflow.com/questions/45667360/usage-of-rxjava-map-in-kotlin", "title": "Usage of RXJava map in Kotlin?", "body": "<p>Why is this complaining about a miss-type? <code>map</code> supposed to transfor the value of an observable to another, but it's expecting me to return an observable from the map</p>\n\n<pre><code>override fun fetchExercises(): Observable&lt;List&lt;Exercise&gt;&gt; {\n    return FirebaseDatabase.getInstance()\n        .getReference(\"exercises\")\n        .observeSingleEvent()\n        .map { snapshot: DataSnapshot? -&gt; object: List&lt;Exercise&gt;\n            // Error here\n            return listOf&lt;Exercise&gt;()\n        }\n    }\n\nfun DatabaseReference.observeSingleEvent(): Observable&lt;DataSnapshot&gt; {\n    return Observable.create(object : Observable.OnSubscribe&lt;DataSnapshot&gt; {\n        override fun call(subscriber: Subscriber&lt;in DataSnapshot&gt;) {\n\n            val valueEventListener = object: ValueEventListener {\n                override fun onDataChange(snapshot: DataSnapshot?) {\n                    subscriber.onNext(snapshot)\n                    subscriber.onCompleted()\n                }\n\n                override fun onCancelled(error: DatabaseError?) {\n                    subscriber.onError(FirebaseDatabaseThrowable(error))\n                }\n            }\n\n            addListenerForSingleValueEvent(valueEventListener)\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 29, "last_activity_date": 1502682705, "creation_date": 1502682705, "answer_id": 45667214, "question_id": 45666996, "link": "https://stackoverflow.com/questions/45666996/how-to-omit-the-constructor-parameter-with-a-default-value-when-calling-kotlin-i/45667214#45667214", "title": "How to omit the constructor parameter with a default value when calling Kotlin in Java?", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#overloads-generation\" rel=\"noreferrer\">Kotlin document</a>:</p>\n\n<blockquote>\n  <p>Normally, if you write a Kotlin method with default parameter values, it will be visible in Java only as a full signature, with all parameters present. If you wish to expose multiple overloads to Java callers, you can use the @JvmOverloads annotation.</p>\n</blockquote>\n\n<p>So, if you want to initialize <code>Chat</code> with <code>name</code> only in Java, you have to add <code>@JvmOverloads</code> annotation to the constructor.</p>\n\n<pre><code>class Chat @JvmOverloads constructor(var name: String, var age: Int? = 18)\n</code></pre>\n\n<p>It will generate additional overload for each parameter with a default value.</p>\n\n<pre><code>public Chat(String name) {}\npublic Chat(String name, Integer age) {}\n</code></pre>\n"}], "owner": {"reputation": 293, "user_id": 5192955, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgsTc.jpg?s=128&g=1", "display_name": "neuyuandaima", "link": "https://stackoverflow.com/users/5192955/neuyuandaima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3560, "favorite_count": 5, "accepted_answer_id": 45667214, "answer_count": 1, "score": 18, "last_activity_date": 1502690179, "creation_date": 1502680912, "last_edit_date": 1502690179, "question_id": 45666996, "link": "https://stackoverflow.com/questions/45666996/how-to-omit-the-constructor-parameter-with-a-default-value-when-calling-kotlin-i", "title": "How to omit the constructor parameter with a default value when calling Kotlin in Java?", "body": "<p>My kotlin file:</p>\n\n<pre><code>class Chat(var name: String, var age: Int? = 18)\n</code></pre>\n\n<p>My java file only can do this:</p>\n\n<pre><code>new Chat(\"John\",18);\n</code></pre>\n\n<p>But could i just write this ?</p>\n\n<pre><code>new Chat(\"John\");\n</code></pre>\n"}, {"tags": ["spring", "spring-data-jpa", "kotlin"], "comments": [{"owner": {"reputation": 9279, "user_id": 3094731, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yHWeg.jpg?s=128&g=1", "display_name": "Abdullah Khan", "link": "https://stackoverflow.com/users/3094731/abdullah-khan"}, "edited": false, "score": 0, "creation_date": 1502691712, "post_id": 45666529, "comment_id": 78294334, "body": "what do you mean by custom getter/setter?"}, {"owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "reply_to_user": {"reputation": 9279, "user_id": 3094731, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yHWeg.jpg?s=128&g=1", "display_name": "Abdullah Khan", "link": "https://stackoverflow.com/users/3094731/abdullah-khan"}, "edited": false, "score": 0, "creation_date": 1502698931, "post_id": 45666529, "comment_id": 78297802, "body": "@AbdullahKhan the last couple of lines in my code sample set the &#39;login&#39; variable in lowercase.  I need to use a custom setter to do this."}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "edited": false, "score": 0, "creation_date": 1506642533, "post_id": 46467027, "comment_id": 79914638, "body": "I&#39;ve had to change the code to use a <code>field</code> parameter instead of <code>_login</code> in the setter.  All my tests seem to pass now.  What&#39;s the difference between using the <code>field</code> property and <code>_login</code> in the setter?"}, {"owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "reply_to_user": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "edited": false, "score": 0, "creation_date": 1506673727, "post_id": 46467027, "comment_id": 79923942, "body": "@Jerry oh yes sorry I didn&#39;t spot that. You should use field parameter in your setters since trying to use _login as you are there will cause a recursive call to the default getter for _login (see here <a href=\"https://medium.com/@agrawalsuneet/backing-field-in-kotlin-bd9c2d5b6da5\" rel=\"nofollow noreferrer\">medium.com/@agrawalsuneet/backing-field-in-kotlin-bd9c2d5b6d&zwnj;&#8203;a5</a>)"}], "tags": [], "owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "is_accepted": true, "score": 2, "last_activity_date": 1506595053, "creation_date": 1506595053, "answer_id": 46467027, "question_id": 45666529, "link": "https://stackoverflow.com/questions/45666529/spring-jpa-cannot-map-a-field-with-custom-setter-in-a-kotlin-data-class/46467027#46467027", "title": "Spring JPA cannot map a field with custom setter in a Kotlin data class", "body": "<p>Using custom setters for constructor parameters like this is a bit ugly (but unfortunately the only way I am aware of doing it).</p>\n\n<p>For starters JPA is going to want to register both _login and login as separate columns in your database since neither of them are @Transient. I believe your issue arises here since you have marked the _login property to map to the column \"login\" whereas the login property has no @Column annotation so it is trying to map to it's default value of \"login\" which already has the _login property mapped to it.</p>\n\n<p>Therefore I think you probably want to make _login transient and only persist login (I've missed out irrelevant code for brevity and clarity):</p>\n\n<pre><code>...\n\n@Transient\nvar _login: String? = null,\n\n...\n\n@NotNull\n@Pattern(regexp = Constants.LOGIN_REGEX)\n@Size(min = 1, max = 50)\n@Column(name = \"login\", length = 50, unique = true, nullable = false)\nvar login: String?\n    get() = _login\n    set(value) {\n        _login = StringUtils.lowerCase(value, Locale.ENGLISH)\n    }\n</code></pre>\n\n<p>If this still doesn't work then I really think it's more hassle than it's worth trying to get this already slightly hacky workaround for using custom setters on constructor properties working with JPA. I would suggest instead to use a @PrePersist/@PreUpdate method to do the lowercasing for you prior to saving it to the database.</p>\n"}], "owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1649, "favorite_count": 1, "accepted_answer_id": 46467027, "answer_count": 1, "score": 1, "last_activity_date": 1506595053, "creation_date": 1502676024, "question_id": 45666529, "link": "https://stackoverflow.com/questions/45666529/spring-jpa-cannot-map-a-field-with-custom-setter-in-a-kotlin-data-class", "title": "Spring JPA cannot map a field with custom setter in a Kotlin data class", "body": "<p>I've got a Kotlin data class with a custom setter.  The Spring JPA framework cannot seem to map the property with the custom setter.  If I remove the custom getter/setter and rename the property to <code>login</code> instead of <code>_login</code>, everything seems to work fine.  How can I create the property in the Kotlin data class with a custom setter, so that it is recognised in the JPA framework?</p>\n\n<p>User.kt</p>\n\n<pre><code>@Entity\n@Table(name = \"jhi_user\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\ndata class User (\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"sequenceGenerator\")\n    @SequenceGenerator(name = \"sequenceGenerator\")\n    var id: Long? = null,\n\n    @NotNull\n    @Pattern(regexp = Constants.LOGIN_REGEX)\n    @Size(min = 1, max = 50)\n    @Column(name = \"login\", length = 50, unique = true, nullable = false)\n    var _login: String? = null,\n\n    @JsonIgnore\n    @NotNull\n    @Size(min = 60, max = 60)\n    @Column(name = \"password_hash\",length = 60)\n    var password: String? = null,\n\n    ...\n\n    @JsonIgnore\n    @ManyToMany\n    @JoinTable(\n    name = \"jhi_user_authority\",\n    joinColumns = arrayOf(JoinColumn(name = \"user_id\", referencedColumnName = \"id\")),\n    inverseJoinColumns = arrayOf(JoinColumn(name = \"authority_name\", referencedColumnName = \"name\")))\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n    @BatchSize(size = 20)\n    var authorities: MutableSet&lt;Authority&gt;? = null): AbstractAuditingEntity(), Serializable {\n\n    //Lowercase the login before saving it in database\n    var login: String?\n        get() = _login\n        set(value) {\n            _login = StringUtils.lowerCase(value, Locale.ENGLISH)\n        }\n}\n</code></pre>\n\n<p>The error I'm getting:</p>\n\n<pre><code>...\nCaused by: java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [login] on this ManagedType [com.sample.domain.AbstractAuditingEntity]\n    at org.hibernate.metamodel.internal.AbstractManagedType.checkNotNull(AbstractManagedType.java:128)\n    at org.hibernate.metamodel.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:113)\n    at org.hibernate.metamodel.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:111)\n    at org.springframework.data.jpa.repository.query.QueryUtils.toExpressionRecursively(QueryUtils.java:569)\n    at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.getTypedPath(JpaQueryCreator.java:377)\n    at org.springframework.data.jpa.repository.query.JpaQueryCreator$PredicateBuilder.build(JpaQueryCreator.java:300)\n    at org.springframework.data.jpa.repository.query.JpaQueryCreator.toPredicate(JpaQueryCreator.java:205)\n    at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:117)\n    at org.springframework.data.jpa.repository.query.JpaQueryCreator.create(JpaQueryCreator.java:54)\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createCriteria(AbstractQueryCreator.java:111)\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:90)\n    at org.springframework.data.repository.query.parser.AbstractQueryCreator.createQuery(AbstractQueryCreator.java:78)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.&lt;init&gt;(PartTreeJpaQuery.java:135)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$CountQueryPreparer.&lt;init&gt;(PartTreeJpaQuery.java:256)\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:72)\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:103)\n</code></pre>\n"}, {"tags": ["class", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 173, "user_id": 8459720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc793fbc3d5a53d96772402b5a8ea6d?s=128&d=identicon&r=PG", "display_name": "user8459720", "link": "https://stackoverflow.com/users/8459720/user8459720"}, "edited": false, "score": 0, "creation_date": 1502715307, "post_id": 45666423, "comment_id": 78307449, "body": "@user8459720 Not at all. Glad it helped you."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 15, "last_activity_date": 1502674897, "creation_date": 1502674897, "answer_id": 45666423, "question_id": 45666215, "link": "https://stackoverflow.com/questions/45666215/what-is-the-syntax-for-class-extends-class-name-in-kotlin/45666423#45666423", "title": "What is the syntax for Class&lt; ? extends class_name&gt; in kotlin?", "body": "<p>You can use the <a href=\"https://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"noreferrer\">out type projection</a> in Kotlin. it is equivalent to <code>? extends T</code> in Java, for example:</p>\n\n<pre><code>//                         v--- out type projection\nvar lst = ArrayList&lt;Class&lt;out Word_Class&gt;&gt;()\n</code></pre>\n\n<p>To get a Java class you should use <code>KClass#java</code>, for example:</p>\n\n<pre><code>//                 v--- get a KClass instance\nlst.add(Noun_Class::class.java)\n//                         ^--- get java.lang.Class instance \n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 8459720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc793fbc3d5a53d96772402b5a8ea6d?s=128&d=identicon&r=PG", "display_name": "user8459720", "link": "https://stackoverflow.com/users/8459720/user8459720"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2713, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1502674897, "creation_date": 1502672670, "last_edit_date": 1502673083, "question_id": 45666215, "link": "https://stackoverflow.com/questions/45666215/what-is-the-syntax-for-class-extends-class-name-in-kotlin", "title": "What is the syntax for Class&lt; ? extends class_name&gt; in kotlin?", "body": "<p>I am trying to make an Arraylist that accepts any class variable that inherited from Word_Class but it doesn't work :</p>\n\n<pre><code>var lst = ArrayList&lt;Class&lt;Word_Class&gt;&gt;();\nlst.add(Class&lt;Noun_Class&gt;);\n</code></pre>\n\n<hr>\n\n<p>I am looking for the syntax for Class&lt; ? extends class_name> in kotlin\n&nbsp;</p>\n"}, {"tags": ["constructor", "kotlin"], "comments": [{"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1502664272, "post_id": 45665485, "comment_id": 78288680, "body": "Why would you need this? In practice I&#39;d use a companion object with a factory function."}, {"owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "reply_to_user": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1502664526, "post_id": 45665485, "comment_id": 78288724, "body": "@9000 No need just exploring, going through the Kotlin In Action book, yet to learn about companion objects."}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 1, "creation_date": 1502667719, "post_id": 45665485, "comment_id": 78289267, "body": "This isn&#39;t expressible in Java either."}, {"owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "edited": false, "score": 0, "creation_date": 1502674273, "post_id": 45665485, "comment_id": 78290338, "body": "Question is not limited to secondary constructors, the error persists with <code>SecondaryExtended(if(true)3 else &quot;hey&quot;)</code> Should I change the title to &quot;Passing in branch conditional typed values to a constructor&quot; ?"}], "answers": [{"comments": [{"owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "edited": false, "score": 0, "creation_date": 1502672253, "post_id": 45666141, "comment_id": 78290010, "body": "Ok, could you please show an example, I&#39;ve tried a few ways but couldn&#39;t get the syntax right."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "edited": false, "score": 0, "creation_date": 1502672394, "post_id": 45666141, "comment_id": 78290033, "body": "I can do later, for know I edited my answer because I&#39;m not 100% sure if it&#39;s possible at all. Let me have a look at it"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "edited": false, "score": 0, "creation_date": 1502693713, "post_id": 45666141, "comment_id": 78295111, "body": "Sorry @ersin-ertan I cannot see a way to this"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1502693681, "last_edit_date": 1502693681, "creation_date": 1502671649, "answer_id": 45666141, "question_id": 45665485, "link": "https://stackoverflow.com/questions/45665485/kotlin-secondary-constructor-of-extended-class-conditional-branch-super-value/45666141#45666141", "title": "Kotlin secondary constructor of extended class conditional branch super value", "body": "<p>This won't work as your <code>if</code> expression passed as the constructor's argument has no unique type, except <code>Any</code>, which is the most common type. You're getting an error since there isn't a matching constructor expecting <code>Any</code> as an argument.</p>\n\n<pre><code>constructor(intOrString:Boolean):\nsuper( if(intOrString) 3 else \"hey\")\n</code></pre>\n\n<p>It's not possible, same as in Java, to make a conditional super call. The super type has to be initialized directly, as the <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"nofollow noreferrer\">documentation</a> tells:</p>\n\n<blockquote>\n  <p>If the class has no primary constructor, then each secondary constructor \n  has to initialize the base type using the super keyword, or to delegate to > another constructor which does that. Note that in this case different \n  secondary constructors can call different constructors of the base type</p>\n</blockquote>\n"}], "owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "accepted_answer_id": 45666141, "answer_count": 1, "score": 3, "last_activity_date": 1502693681, "creation_date": 1502663857, "last_edit_date": 1502664917, "question_id": 45665485, "link": "https://stackoverflow.com/questions/45665485/kotlin-secondary-constructor-of-extended-class-conditional-branch-super-value", "title": "Kotlin secondary constructor of extended class conditional branch super value", "body": "<p>How do you have conditional super calls based on the value in the fourth secondary constructor?\nWhy doesn't this work?</p>\n\n<pre><code>open class SecondaryConstructors{\n    constructor(i:Int)\n    constructor(s:String)\n}\nclass SecondaryExtended:SecondaryConstructors {\n    constructor(i:Int):super(i)\n    constructor(s:String):super(s)\n    constructor():super(if(true)1 else 0)\n    constructor(intOrString:Boolean):super( if(intOrString) 3 else \"hey\")\n    // conditional branch result of int/string is implicitly cast to Any\n    // error - none of the following functions can be called with the arguments supplied\n}\n</code></pre>\n"}, {"tags": ["android-layout", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 3, "last_activity_date": 1502659145, "creation_date": 1502659145, "answer_id": 45665009, "question_id": 45663126, "link": "https://stackoverflow.com/questions/45663126/unconditional-layout-inflation-from-view-adapter-kotlin/45665009#45665009", "title": "Unconditional layout inflation from view adapter. kotlin", "body": "<p>If there was previously another <code>View</code> of the same view type (<code>getItemViewType(position: Int)</code> returned the same value) that scrolled off screen, the list view may pass in that instance as the second parameter to <code>getView()</code>. It will be faster to reuse that view than to inflate a new one.</p>\n\n<p>You should also use the <code>ViewHolder</code> to cache things about the view, such as the relatively expensive <code>findViewById()</code>. You can attach it to and retrieve it from the view by tag.</p>\n\n<pre><code>override fun getView(position: Int, convertView: View?, parent: ViewGroup?) {\n    val animal = listOfAnimals[position]\n    val myView = convertView ?:\n        LayoutInflater.from(context).inflate(R.layout.animal_ticket, parent, false)\n    val holder = myView.tag as? ViewHolder ?: ViewHolder(myView)\n    myView.tag = holder\n    holder.tvName.text = animal.name!! // etc\n}\n\nclass ViewHolder(view: View) {\n    val tvName: TextView = view.name // etc\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 1, "creation_date": 1502749031, "post_id": 45665089, "comment_id": 78325722, "body": "Good advice, but given the fact that the question uses <code>override fun getView</code>, OP is likely using <code>ListView</code>/<code>Adapter</code> and not <code>RecyclerView</code>/<code>RecyclerView.Adapter</code>."}], "tags": [], "owner": {"reputation": 169, "user_id": 2979922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9TiDU.png?s=128&g=1", "display_name": "Nikaoto", "link": "https://stackoverflow.com/users/2979922/nikaoto"}, "is_accepted": true, "score": 2, "last_activity_date": 1502659812, "creation_date": 1502659812, "answer_id": 45665089, "question_id": 45663126, "link": "https://stackoverflow.com/questions/45663126/unconditional-layout-inflation-from-view-adapter-kotlin/45665089#45665089", "title": "Unconditional layout inflation from view adapter. kotlin", "body": "<p>For any RecyclerView, you need your own ViewHolder class that has all of the views listed inside <code>animal_ticket</code>.</p>\n\n<p>Basically, it works like this: </p>\n\n<p>1) Create ViewHolder that 'holds' all of the views of the item you want to display;</p>\n\n<p>2) Bind the ViewHolder to the RecyclerView and assign values to the views inside;</p>\n\n<p>Here is a example adapter I wrote :</p>\n\n<pre><code>class MyActivity : Activity() {\n//users is the list we're going to use to get information for the views\nval users = ArrayList&lt;User&gt;()\n//...getting user information\n//.. your activity stuff here\n\n//Creating our adapter\n/* \n  Note that to extend the RecyclerView.Adapter, you need to specify a\n  ViewHolder. The code becomes much easier to manage if you just put the \n  ViewHolder inside your adapter.\n*/\ninner class MyAdapter : RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;() {\n\n    //This is the view holder\n    inner class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        //Here you declare your views and get them from the itemView\n        //The itemView is one that is passed each time to the RecyclerView\n        //(the items inside your XML layout file)\n        internal val userImageView = itemView.findViewById(R.id.userImage)\n        internal val userFullName = itemView.findViewById(R.id.userName)\n    }\n\n    //This is where you return your own ViewHolder with your layout\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        //user_list_item.xml is below\n        val itemView = layoutInflater.inflate(R.layout.user_list_item, parent, false))\n        return MyViewHolder(itemView)\n    }\n\n\n    //In here is where you want to set your values for the views\n    override fun onBindViewHolder(holder: SentRequestViewHolder, position: Int) {\n        val currentUser = users[position]\n\n        holder.userImage.drawable = currentUser.drawable\n        holder.userFullName.text = currentUser.name\n    }\n\n    //You must override this method as well for the adapter to work properly\n    override fun getItemCount() = users.size\n}\n</code></pre>\n\n<p>You have to override these methods when using a RecyclerView.Adapter</p>\n\n<p>Here is the user_list_item.xml</p>\n\n<pre><code>&lt;RelativeLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"100dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/userImage\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/userName\"\n        android:layout_below=\"@id/userImage\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n\n &lt;/RelativeLayout&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8458841"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1827, "favorite_count": 1, "accepted_answer_id": 45665089, "answer_count": 2, "score": 2, "last_activity_date": 1502659812, "creation_date": 1502645917, "question_id": 45663126, "link": "https://stackoverflow.com/questions/45663126/unconditional-layout-inflation-from-view-adapter-kotlin", "title": "Unconditional layout inflation from view adapter. kotlin", "body": "<p>I am getting following warning in Android Studio: \n\"Unconditional layout inflation from view adapter: Should use View Holder pattern (use recycled view passed into this method as the second parameter) for smoother scrolling.\" on inflater.inflate(R.layout.animal_ticket, null) line.</p>\n\n<p>How do I fix the warning? I am not able to find solution for that problem.</p>\n\n<p>Thanks!</p>\n\n<pre><code>override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val animal = listOfAnimals[p0]\n        val inflater = LayoutInflater.from(context)\n        var holder = ViewHolder()\n        val myView = inflater.inflate(R.layout.animal_ticket, null)\n        myView.tvName.text = animal.name!!\n        myView.tvDes.text = animal.description!!\n        myView.jvAnimalImage.setImageResource(animal.image!!)\n        return myView\n    }\n</code></pre>\n"}, {"tags": ["java", "arrays", "list", "kotlin", "dynamic-arrays"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 2, "creation_date": 1502636333, "post_id": 45661441, "comment_id": 78281066, "body": "Are you sure that queries.size() is non zero? That constructor sets the capacity, not the size."}, {"owner": {"reputation": 1920, "user_id": 1610459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rRAtI.jpg?s=128&g=1", "display_name": "droidchef", "link": "https://stackoverflow.com/users/1610459/droidchef"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1502638160, "post_id": 45661441, "comment_id": 78281575, "body": "I was putting the breakpoint at the wrong point, you are right. The constructor does not set the size, but the capacity :)"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 10, "last_activity_date": 1530525979, "last_edit_date": 1530525979, "creation_date": 1502636128, "answer_id": 45661667, "question_id": 45661441, "link": "https://stackoverflow.com/questions/45661441/initialise-arraylistarraylistint-with-a-size-in-kotlin/45661667#45661667", "title": "Initialise ArrayList&lt;ArrayList&lt;Int&gt;&gt; with a size in kotlin", "body": "<p>You're assumption isn't correct, I'm afraid.\nQuoted from the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-array-list/index.html\" rel=\"noreferrer\">documentation</a> of <code>ArrayList</code>:</p>\n\n<blockquote>\n  <p>Provides a <code>MutableList</code> implementation, \n  which uses a resizable array as its backing storage.</p>\n  \n  <p>This implementation <strong>doesn't provide a way to manage capacity</strong>, as\n  backing JS array is resizeable itself. There is no speed advantage to\n  pre-allocating array sizes in JavaScript, so this implementation does\n  not include any of the capacity and \"growth increment\" concepts.</p>\n</blockquote>\n\n<p>The constructor particularly:</p>\n\n<blockquote>\n<pre><code>ArrayList(initialCapacity = 0))\n</code></pre>\n  \n  <p><strong>Creates an empty ArrayList.</strong></p>\n</blockquote>\n\n<p>An <strong>empty</strong> <code>ArrayList</code> is created, thus providing 100 as an argument will not create elements inside the list.</p>\n"}], "owner": {"reputation": 1920, "user_id": 1610459, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rRAtI.jpg?s=128&g=1", "display_name": "droidchef", "link": "https://stackoverflow.com/users/1610459/droidchef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7368, "favorite_count": 1, "accepted_answer_id": 45661667, "answer_count": 1, "score": 10, "last_activity_date": 1530525979, "creation_date": 1502634714, "question_id": 45661441, "link": "https://stackoverflow.com/questions/45661441/initialise-arraylistarraylistint-with-a-size-in-kotlin", "title": "Initialise ArrayList&lt;ArrayList&lt;Int&gt;&gt; with a size in kotlin", "body": "<p>I am trying to initialise a list with a size in the constructor. But the size of my list is 0.</p>\n\n<pre><code>val seqList = ArrayList&lt;ArrayList&lt;Int&gt;&gt;(N) // This has the Problem\nval queries = ArrayList&lt;Query&gt;(Q) // This works like a charm\n</code></pre>\n\n<p>I have both <code>N</code> and <code>Q</code> set as non zero inputs from the user lets say \n<code>N = 100</code> and <code>Q = 100</code></p>\n\n<p>While debugging my code I found out that, <code>queries.size() = 100</code> but <code>seqList.size() = 0</code></p>\n\n<p>Is my assumption incorrect, that <code>seqList</code> should also have been initialized with <code>N ArrayList&lt;Int&gt;</code> objects.</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1502631444, "post_id": 45660771, "comment_id": 78279572, "body": "This behavior is actually altered in a few places in <code>kotlin-stdlib</code> (e.g. <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/generated/_Maps.kt#L133\" rel=\"nofollow noreferrer\">here</a>), but that&#39;s done with <code>kotlin.internal.HidesMembers</code>, which is, evidently, an internal tool and is not available for third-party code. And that&#39;s for good."}], "tags": [], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "is_accepted": true, "score": 4, "last_activity_date": 1502630987, "last_edit_date": 1502630987, "creation_date": 1502630299, "answer_id": 45660771, "question_id": 45660733, "link": "https://stackoverflow.com/questions/45660733/kotlin-when-extension-function-hides-the-class-default-implementation/45660771#45660771", "title": "Kotlin: When extension function hides the class default implementation?", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extensions-are-resolved-statically\" rel=\"nofollow noreferrer\">the Kotlin docs</a> (emphasis <em>not</em> mine):</p>\n\n<blockquote>\n  <p>If a class has a member function, and an extension function is defined which has the same receiver type, the same name and is applicable to given arguments, the <strong>member always wins</strong>.</p>\n</blockquote>\n\n<p>The reason your string example works is because the library-provided <code>String.toUpperCase()</code> is <em>already</em> an extension function, not a member function.  The docs don't state what happens here, but seems reasonable to assume that a local extension wins.</p>\n\n<hr>\n\n<p>I don't imagine there's any way to alter this behaviour.  And that's  probably for the best, as it would violate the principle of least astonishment in many cases (i.e. behaviour that's difficult to understand).</p>\n"}], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 1, "accepted_answer_id": 45660771, "answer_count": 1, "score": 3, "last_activity_date": 1502630987, "creation_date": 1502630028, "question_id": 45660733, "link": "https://stackoverflow.com/questions/45660733/kotlin-when-extension-function-hides-the-class-default-implementation", "title": "Kotlin: When extension function hides the class default implementation?", "body": "<p>I'm trying to figure out when overriding an existing class function, with an extension function of the same signature - will take effect?</p>\n\n<p>Here is my sample code:</p>\n\n<pre><code>fun String.toUpperCase(): String = \"ext. function impl.\"\n\nfun main(args: Array&lt;String&gt;) {\n\n    println(\"Hello\".toUpperCase()) // ext. function impl.\n\n    println(MyClass().toUpperCase()) // class impl.\n\n}\n\nclass MyClass {\n    fun toUpperCase() : String {\n        return \"class impl.\"\n    }\n}\n\nfun MyClass.toUpperCase() : String {\n    return \"ext. function impl.\"\n}\n</code></pre>\n\n<p>So:</p>\n\n<ul>\n<li>What are the rules? when each will be called?</li>\n<li>How can I override this decision? is it possible?</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "edited": false, "score": 0, "creation_date": 1502628894, "post_id": 45660546, "comment_id": 78278865, "body": "Do you want when you click in an item to get the User clicked object in the activity ?\\"}], "answers": [{"tags": [], "owner": {"reputation": 1654, "user_id": 7008181, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/EQAyE.jpg?s=128&g=1", "display_name": "Ahmed Abd-Elmeged", "link": "https://stackoverflow.com/users/7008181/ahmed-abd-elmeged"}, "is_accepted": false, "score": 1, "last_activity_date": 1502631815, "last_edit_date": 1502631815, "creation_date": 1502629641, "answer_id": 45660675, "question_id": 45660546, "link": "https://stackoverflow.com/questions/45660546/how-to-implement-clicklistener-on-customadpter-item-in-kotlin/45660675#45660675", "title": "How to implement clicklistener on customadpter item in kotlin?", "body": "<p>Ok let's do it in 3 steps </p>\n\n<p>1- You define a interface with onClick method to be your callbacks\nlike this </p>\n\n<pre><code> interface UserClickCallbacks {\n    fun onUserClick(user: User)\n}\n</code></pre>\n\n<p>2- Second in your adapter you add a click listener in the view holder with call the interface method like this </p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>class CustomAdapter(val userList: ArrayList&lt;User&gt;, private val userClickCallbacks: UserClickCallbacks) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    //this method is returning the view for each item in the list\n    class MyAdapter(val userList: ArrayList&lt;User&gt;)\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.row_layout, parent, false)\n        return ViewHolder(v)\n    }\n\n    //this method is binding the data on the list\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.textViewName.text = user.name\n        holder.textViewAddress.text = user.address\n    }\n\n    //this method is giving the size of the list\n    override fun getItemCount(): Int {\n        return userList.size\n    }\n\n    //the class is hodling the list view\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView), View.OnClickListener {\n\n        init {\n            view.setOnClickListener(this)\n        }\n            val textViewName = itemView.findViewById(R.id.textViewUsername) \n            val textViewAddress = itemView.findViewById(R.id.textViewAddress) \n\n            override fun onClick(p0: View?) {\n                userClickCallbacks.onUserClick(userList[adapterPosition])\n            }\n\n\n    }\n}\n</code></pre>\n\n<p>3- At your activity you implement the the <code>UserClickCallbacks</code>  interface\n and override the <code>onUserClick()</code> method like this </p>\n\n<pre><code>class UserActivity : AppCompatActivity(), UserClickCallbacks  {\n\n    // your activity code\n\n    override fun onUserClick(user: User) {\n        // but the user click event logic here \n        // This triggered when user in tha adapter clicked\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2774, "user_id": 3746306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/NRiba.jpg?s=128&g=1", "display_name": "Nilesh Deokar", "link": "https://stackoverflow.com/users/3746306/nilesh-deokar"}, "is_accepted": false, "score": 0, "last_activity_date": 1520865160, "creation_date": 1520865160, "answer_id": 49237789, "question_id": 45660546, "link": "https://stackoverflow.com/questions/45660546/how-to-implement-clicklistener-on-customadpter-item-in-kotlin/49237789#49237789", "title": "How to implement clicklistener on customadpter item in kotlin?", "body": "<p>Don't forget to add  <code>inner</code> to <code>ViewHolder</code> class or else you won't get access to <code>listener</code> object which is inside <code>Adapter</code> : </p>\n\n<pre><code>package com.niel.customview\n\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ImageView\n\n/**\n * Created by nileshdeokar on 12/03/2018.\n */\nclass MediaAdapter(private var mData: ArrayList&lt;String&gt;) : RecyclerView.Adapter&lt;MediaAdapter.ViewHolder&gt;() {\n\n    lateinit var listener: OnItemClickedListener\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(parent?.context)\n                .inflate(R.layout.row_media, parent, false)\n        return ViewHolder(view)\n\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        val model = mData[position]\n    }\n\n    override fun getItemCount(): Int {\n        return mData.size\n    }\n\n\n    inner class ViewHolder : RecyclerView.ViewHolder, View.OnClickListener {\n        var imageViewSq: ImageView\n\n        constructor(itemView: View?) : super(itemView) {\n            imageViewSq = itemView?.findViewById(R.id.imgSq)!!\n            itemView.setOnClickListener(this)\n        }\n\n        override fun onClick(p0: View?) {\n            listener.onItemClick(adapterPosition)\n        }\n    }\n\n    fun setOnItemClickedListener(listener: OnItemClickedListener) {\n        this.listener = listener\n    }\n\n    interface OnItemClickedListener {\n        fun onItemClick(position: Int) \n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 229, "user_id": 6453904, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/31Klt.jpg?s=128&g=1", "display_name": "Georgios S.", "link": "https://stackoverflow.com/users/6453904/georgios-s"}, "edited": false, "score": 2, "creation_date": 1538161054, "post_id": 49237931, "comment_id": 92061012, "body": "Just to clarify that the second part of the solution EpicPandaForce mentioned (val adapter = .... etc ) will need to go to the activity calling the adapter. Obvious probably but may help people that are now entering the Android world."}, {"owner": {"reputation": 323, "user_id": 4530460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ihHKAFoo7Zs/AAAAAAAAAAI/AAAAAAAAIvY/jrEoqtC432I/photo.jpg?sz=128", "display_name": "Josh Janvrin", "link": "https://stackoverflow.com/users/4530460/josh-janvrin"}, "edited": false, "score": 0, "creation_date": 1553448500, "post_id": 49237931, "comment_id": 97379051, "body": "@EpicPandaForce A clean presentation.  But what if in the bindItems function you wanted to set OnClickListener on several elements of the ViewHolder and return the clicked <i>view</i> in addition to the &#39;user&#39; class back to the adapter initialization in the activity so that different logic can be performed depending on the view returned?  Thanks for your input."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 323, "user_id": 4530460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ihHKAFoo7Zs/AAAAAAAAAAI/AAAAAAAAIvY/jrEoqtC432I/photo.jpg?sz=128", "display_name": "Josh Janvrin", "link": "https://stackoverflow.com/users/4530460/josh-janvrin"}, "edited": false, "score": 1, "creation_date": 1553450516, "post_id": 49237931, "comment_id": 97379659, "body": "@JoshJanvrin you could do that, but I think it&#39;s safer to then instead of passing a lambda callback, use an interface which has multiple methods, that way you won&#39;t need to know about exact view IDs to differentiate between the sources."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 7, "last_activity_date": 1520865591, "creation_date": 1520865591, "answer_id": 49237931, "question_id": 45660546, "link": "https://stackoverflow.com/questions/45660546/how-to-implement-clicklistener-on-customadpter-item-in-kotlin/49237931#49237931", "title": "How to implement clicklistener on customadpter item in kotlin?", "body": "<pre><code>class CustomAdapter(\n    val userList: List&lt;User&gt;, \n    val listener: (User) -&gt; Unit\n) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder = ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.row_layout, parent, false))\n\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(userList[position])\n    }\n\n    override fun getItemCount(): Int = userList.size\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n            private val textViewName: TextView = itemView.findViewById(R.id.textViewUsername)\n            private val textViewAddress: TextView  = itemView.findViewById(R.id.textViewAddress)\n\n        fun bindItems(user: User) = with(itemView) {\n            textViewName.text = user.name\n            textViewAddress.text = user.address\n            setOnClickListener { listener(user) }\n        }\n    }\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>val adapter = CustomAdapter(userList) { user -&gt;\n    // do something with user on click\n}\nrecyclerView.adapter = adapter\n</code></pre>\n"}], "owner": {"reputation": 1217, "user_id": 3265442, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/SqPAP.jpg?s=128&g=1", "display_name": "Prashant Sharma", "link": "https://stackoverflow.com/users/3265442/prashant-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5073, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1520865591, "creation_date": 1502628723, "last_edit_date": 1502629956, "question_id": 45660546, "link": "https://stackoverflow.com/questions/45660546/how-to-implement-clicklistener-on-customadpter-item-in-kotlin", "title": "How to implement clicklistener on customadpter item in kotlin?", "body": "<p>I want to implement onClickListener on recyclerview item. Here is my <em>CustomAdapter.kt</em> Code.</p>\n\n<pre><code>package com.png.kotlinsample\n\n/**\n * Created by admin on 13-08-2017.\n */\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\n\n/**\n * Created by prashant on 6/19/2017.\n */\n\nclass CustomAdapter(val userList: ArrayList&lt;User&gt;, val listener: (User) -&gt; Unit) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\n    //this method is returning the view for each item in the list\n        class MyAdapter(val userList: ArrayList&lt;User&gt;)\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.row_layout, parent, false)\n        return ViewHolder(v)\n    }\n\n    //this method is binding the data on the list\n    override fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n        holder.bindItems(userList[position],listener)\n    }\n\n    //this method is giving the size of the list\n    override fun getItemCount(): Int {\n        return userList.size\n    }\n\n    //the class is hodling the list view\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        fun bindItems(user: User, listener: (User) -&gt; Unit) = with(itemView) {\n            val textViewName = itemView.findViewById(R.id.textViewUsername) as TextView\n            val textViewAddress  = itemView.findViewById(R.id.textViewAddress) as TextView\n            textViewName.text = user.name\n            textViewAddress.text = user.address\n            setOnClickListener { listener(user) }\n        }\n\n\n\n\n    }\n}\n</code></pre>\n\n<p>I want the click listener callback from my activity.</p>\n"}, {"tags": ["string", "split", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 0, "creation_date": 1502625751, "post_id": 45660009, "comment_id": 78278068, "body": "I think there is a problem with the implementation, if case the original string length is not even."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 0, "creation_date": 1502625983, "post_id": 45660009, "comment_id": 78278125, "body": "@LiorBar-On Why? It will just drop the remainder."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 29, "last_activity_date": 1502625412, "last_edit_date": 1502625412, "creation_date": 1502625007, "answer_id": 45660009, "question_id": 45659916, "link": "https://stackoverflow.com/questions/45659916/split-string-every-n-characters/45660009#45660009", "title": "Split string every n characters", "body": "<p>Once Kotlin 1.2 is released, you can use the <code>chunked</code> function that is added to <code>kotlin-stdlib</code> by the <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/window-sliding.md\" rel=\"noreferrer\">KEEP-11</a> proposal. Example:</p>\n\n<pre><code>val chunked = myString.chunked(2)\n</code></pre>\n\n<p>You can already try this with <a href=\"https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-2-m2-is-out/\" rel=\"noreferrer\">Kotlin 1.2 M2 pre-release</a>.</p>\n\n<hr>\n\n<p>Until then, you can implement the same with this code:</p>\n\n<pre><code>fun String.chunked(size: Int): List&lt;String&gt; {\n    val nChunks = length / size\n    return (0 until nChunks).map { substring(it * size, (it + 1) * size) }\n}\n</code></pre>\n\n<p><sub></sub></p>\n\n<pre><code>println(\"abcdef\".chunked(2)) // [ab, cd, ef]\n</code></pre>\n\n<p>This implementation drops the remainder that is less than <code>size</code> elements. You can modify it do add the remainder to the result as well.</p>\n"}, {"tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": false, "score": 2, "last_activity_date": 1502663385, "last_edit_date": 1502663385, "creation_date": 1502660378, "answer_id": 45665151, "question_id": 45659916, "link": "https://stackoverflow.com/questions/45659916/split-string-every-n-characters/45665151#45665151", "title": "Split string every n characters", "body": "<p>A functional version of <code>chunked</code> using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/generate-sequence.html\" rel=\"nofollow noreferrer\">generateSequence</a>:</p>\n\n<pre><code>fun String.split(n: Int) = Pair(this.drop(n), this.take(n))\nfun String.chunked(n: Int): Sequence&lt;String&gt; =\n        generateSequence(this.split(n), {\n            when {\n                it.first.isEmpty() -&gt; null\n                else -&gt; it.first.split(n)\n            }\n        })\n                .map(Pair&lt;*, String&gt;::second)\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>\"\".chunked(2) =&gt; []\n\"ab\".chunked(2) =&gt; [ab]\n\"abcd\".chunked(2) =&gt; [ab, cd]\n\"abc\".chunked(2) =&gt; [ab, c]\n</code></pre>\n"}], "owner": {"reputation": 296034, "user_id": 829571, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zflGZ.png?s=128&g=1", "display_name": "assylias", "link": "https://stackoverflow.com/users/829571/assylias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6625, "favorite_count": 0, "accepted_answer_id": 45660009, "answer_count": 2, "score": 14, "last_activity_date": 1502663385, "creation_date": 1502624235, "question_id": 45659916, "link": "https://stackoverflow.com/questions/45659916/split-string-every-n-characters", "title": "Split string every n characters", "body": "<p>What would be an idiomatic way to split a string into strings of 2 characters each?</p>\n\n<p>Examples:</p>\n\n<pre><code>\"\" -&gt; [\"\"]\n\"ab\" -&gt; [\"ab\"]\n\"abcd\" -&gt; [\"ab\", \"cd\"]\n</code></pre>\n\n<p>We can assume that the string has a length which is a multiple of 2.</p>\n\n<p>I could use a regex like in <a href=\"https://stackoverflow.com/a/4788718/829571\">this Java answer</a> but I was hoping to find a better way (i.e. using one of kotlin's additional methods).</p>\n"}, {"tags": ["android", "intellij-idea", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 7676, "user_id": 7248342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWVBN.png?s=128&g=1", "display_name": "Thomas Fritsch", "link": "https://stackoverflow.com/users/7248342/thomas-fritsch"}, "edited": false, "score": 0, "creation_date": 1502617726, "post_id": 45659017, "comment_id": 78276027, "body": "Does your <code>Addition.kt</code> have a <code>main</code> function, too ?"}, {"owner": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "reply_to_user": {"reputation": 7676, "user_id": 7248342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWVBN.png?s=128&g=1", "display_name": "Thomas Fritsch", "link": "https://stackoverflow.com/users/7248342/thomas-fritsch"}, "edited": false, "score": 0, "creation_date": 1502618010, "post_id": 45659017, "comment_id": 78276095, "body": "fun main(args:Array &lt;String&gt;){     print(10+10) }"}, {"owner": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "reply_to_user": {"reputation": 7676, "user_id": 7248342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWVBN.png?s=128&g=1", "display_name": "Thomas Fritsch", "link": "https://stackoverflow.com/users/7248342/thomas-fritsch"}, "edited": false, "score": 0, "creation_date": 1502618022, "post_id": 45659017, "comment_id": 78276099, "body": "yes, have main fun"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1502635513, "last_edit_date": 1502635513, "creation_date": 1502618609, "answer_id": 45659183, "question_id": 45659017, "link": "https://stackoverflow.com/questions/45659017/how-to-run-different-kt-file-class-in-same-src-folder/45659183#45659183", "title": "How to run Different .kt file/Class in same src folder?", "body": "<p>Just use the tiny Kotlin button on the left side of your <code>main</code> method to run this one. This should do the trick.</p>\n\n<p>Alternatively, you can \"edit\" your run configuration to point to the desired <code>main</code> method.</p>\n"}, {"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 0, "last_activity_date": 1502626614, "creation_date": 1502626614, "answer_id": 45660252, "question_id": 45659017, "link": "https://stackoverflow.com/questions/45659017/how-to-run-different-kt-file-class-in-same-src-folder/45660252#45660252", "title": "How to run Different .kt file/Class in same src folder?", "body": "<p>You can set the class to run using the <code>edit configurations</code> panel\n<a href=\"https://i.stack.imgur.com/seSGN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/seSGN.jpg\" alt=\"screenshot\"></a><br>\nThere you can create a new configuration to run the second class or edit the default configuration to start the second class.  </p>\n\n<p>But this may be unnecessarily complicated for a beginner and is rarely needed for any project.<br>\nYou should probably try either:</p>\n\n<ul>\n<li>Just run your multiple test statements in the same main method  </li>\n<li>Create a top level function in any class and call that from the main method  </li>\n<li>Start learning to use classes and objects and create them from the main method.  </li>\n</ul>\n"}], "owner": {"reputation": 4030, "user_id": 8448886, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Vfqrw.jpg?s=128&g=1", "display_name": "Abhishek kumar", "link": "https://stackoverflow.com/users/8448886/abhishek-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1502635513, "creation_date": 1502617313, "last_edit_date": 1502619285, "question_id": 45659017, "link": "https://stackoverflow.com/questions/45659017/how-to-run-different-kt-file-class-in-same-src-folder", "title": "How to run Different .kt file/Class in same src folder?", "body": "<p>I am new in kotlin , I started to learn Kotlin Language by installing <strong>intellij IDEA</strong> , now the issue is when i want to run second <code>.kt</code> file by run button its only showing what i had run first <code>.kt</code> file .</p>\n\n<p><img src=\"https://i.stack.imgur.com/8A6eD.png\" alt=\"Image One Here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/DyzK9.png\" alt=\"Image Two here\"> </p>\n\n<p>Always showing Run <code>HelloWorld.kt</code>, I want to run <code>Addition.kt</code></p>\n\n<p>I am no able to run new crated class in kotlin, it's only showing the first class what I had run first time in the project.</p>\n"}, {"tags": ["kotlin", "type-inference", "rx-java2", "flatmap"], "comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502613860, "post_id": 45658279, "comment_id": 78275204, "body": "From <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">Kotlin docs</a>: &quot;A lambda expression is always surrounded by curly braces.&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 3, "last_activity_date": 1502620338, "creation_date": 1502620338, "answer_id": 45659413, "question_id": 45658279, "link": "https://stackoverflow.com/questions/45658279/kotlin-unable-to-infer-type-when-using-method-reference-in-flowable/45659413#45659413", "title": "Kotlin unable to infer type when using method reference in Flowable", "body": "<p>This is not quite an answer, but it's too long for a comment.</p>\n\n<p>In the first case that does not compile, the error has to do with Kotlin not selecting the correct <code>Flowable::just</code> method to pass to <code>Flowable.flatMap(...)</code>.  There are 10 different <code>Flowable.just(...)</code> methods defined where the difference is the number of arguments.</p>\n\n<p>In the second case, you are passing <code>Flowable.flatMap()</code> a lambda that explicitly calls the single parameter version of  <code>Flowable.just()</code> (i.e., the one parameter version).</p>\n\n<p>In the first case, Kotlin is apparently choosing one of the other ten <code>Flowable::just</code> methods instead of looking for one that matches the signature expected by <code>Flowable.flatMap()</code> (of which there are 12 defined).  In contrast, Java is able to deduce (from the signature of the parameter) which of the many overloads of <code>.just()</code> to pass.</p>\n\n<p>This may be a Kotlin shortcoming, but I would like to hear what one of the Kotlin compiler experts have to say.</p>\n"}], "owner": {"reputation": 79, "user_id": 1277145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nvxX.jpg?s=128&g=1", "display_name": "LittleLight", "link": "https://stackoverflow.com/users/1277145/littlelight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1502620338, "creation_date": 1502611045, "question_id": 45658279, "link": "https://stackoverflow.com/questions/45658279/kotlin-unable-to-infer-type-when-using-method-reference-in-flowable", "title": "Kotlin unable to infer type when using method reference in Flowable", "body": "<p>I have this code in Java:</p>\n\n<pre><code>Flowable.just(1,2,3)\n        .flatMap(Flowable::just);\n</code></pre>\n\n<p>and this code in Kotlin:</p>\n\n<pre><code>Flowable.just(1,2,3)\n        .flatMap(Flowable::just)\n</code></pre>\n\n<p>While Java code compiles fine, Kotlin compiler says: \"Error:(47, 30) Kotlin: One type argument expected for class Flowable : Publisher defined in io.reactivex\"</p>\n\n<p>However this compiles fine:</p>\n\n<pre><code>Flowable.just(1,2,3)\n        .flatMap { Flowable.just(it) }\n</code></pre>\n\n<p>What am I doing wrong or how come Kotlin can't infer the type of Flowable automatically?</p>\n"}, {"tags": ["android", "sqlite", "orm", "kotlin"], "comments": [{"owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 1, "creation_date": 1502618176, "post_id": 45658205, "comment_id": 78276136, "body": "is <code>db.execSQL</code> the standard SQLite <code>execSQL</code>? If so it will only execute 1 SQL statement but may still work e.g. <code>db.execSQL(&quot;CREATE TABLE x (_id INTEGER PRIMARY KEY); CREATE TABLE xx (_id INTEGER PRIMARY KEY&quot;);</code> will only create table <b>x</b>, the creation of table <b>xx</b> does not happen, nor is any error generated/reported. As per <i>Execute a single SQL statement that is NOT a SELECT or any other SQL statement that returns data.</i> <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase.html#execSQL%28java.lang.String%29\" rel=\"nofollow noreferrer\">execSQL</a>"}, {"owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "reply_to_user": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "edited": false, "score": 0, "creation_date": 1502636048, "post_id": 45658205, "comment_id": 78280999, "body": "Thank you: for some reasons in kotlin string split by regexp was not working, but, when I change dump to one statement per line and perform execSql for each line, all works perfectly"}], "owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502610264, "creation_date": 1502610264, "question_id": 45658205, "link": "https://stackoverflow.com/questions/45658205/requery-creating-database-from-sql-dump-how-to", "title": "Requery &amp; creating database from sql dump: how to?", "body": "<p>I'm trying to use requery <a href=\"https://github.com/requery/requery\" rel=\"nofollow noreferrer\">https://github.com/requery/requery</a> library with Kotlin and SQLite backend. I have a sql dump, which I want to write to sqlite database in the first launch of an application, and then I want to map data classes to database entities with requery.\nHere is data source initialization with table creation:</p>\n\n<pre><code>if (!(DataStorage.isDbInitialized(context))) {\n        val db = writableDatabase\n        val inputStream = context?.resources?.openRawResource(R.raw.dump)\n        val reader = BufferedReader(InputStreamReader(inputStream))\n        val builder = StringBuilder()\n        var line : String?\n        var end = false\n        while (!end) {\n            line = reader.readLine()\n            if(line == null) {\n                end = true\n            } else {\n                builder.append(line)\n            }\n        }\n        db.execSQL(builder.toString())\n        onCreate(db)\n        DataStorage.setDbInitialized(context)\n    }\n</code></pre>\n\n<p>I have to derive this class from both SqlitexDatabaseSource and CommonDataSource to use with Kotlin. SQL query execuled successfully, but when I trying to select all objects from database, this request returns zero sized list:</p>\n\n<pre><code>val result : Result&lt;Feat&gt; = (application as MainApp).dataStore.select(Feat::class).get()\n    result.each {\n        Log.d(\"TAG\", it.name)\n    }\n</code></pre>\n\n<p>DTO created as described in documentation:</p>\n\n<p><a href=\"https://github.com/Syjgin/PathfinderFeats/blob/master/app/src/main/java/com/syjgin/pathfinderfeats/model/Feat.kt\" rel=\"nofollow noreferrer\">https://github.com/Syjgin/PathfinderFeats/blob/master/app/src/main/java/com/syjgin/pathfinderfeats/model/Feat.kt</a></p>\n\n<p>Is it possible to initialize requery data with sql dump, or I have to create DTO for each row and submit it via insert method?</p>\n"}, {"tags": ["maven", "kotlin"], "comments": [{"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1502571729, "post_id": 45654804, "comment_id": 78267951, "body": "Based on the message you are trying to run on JDK 9 and not on JDK 8...see <code>java.base@9-ea&#47;Native Method...</code>?"}, {"owner": {"reputation": 1560, "user_id": 1673861, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FWGcY.jpg?s=128&g=1", "display_name": "L. Blanc", "link": "https://stackoverflow.com/users/1673861/l-blanc"}, "reply_to_user": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 1, "creation_date": 1502573360, "post_id": 45654804, "comment_id": 78268344, "body": "that was indeed the problem. thanks. If you make this an answer I will accept it."}, {"owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "edited": false, "score": 0, "creation_date": 1502624246, "post_id": 45654804, "comment_id": 78277715, "body": "Apart from that you shouldn&#39;t define all plugins in your pom file cause the build life cycle defines them...or maybe making it better define them including the version of the plugin in a pluginManagement part instead."}], "answers": [{"tags": [], "owner": {"reputation": 81177, "user_id": 296328, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/DSpH6.jpg?s=128&g=1", "display_name": "khmarbaise", "link": "https://stackoverflow.com/users/296328/khmarbaise"}, "is_accepted": true, "score": 1, "last_activity_date": 1502624192, "creation_date": 1502624192, "answer_id": 45659912, "question_id": 45654804, "link": "https://stackoverflow.com/questions/45654804/why-does-my-kotlin-compilation-fail-using-kotlin-maven-plugin/45659912#45659912", "title": "Why does my Kotlin compilation fail using Kotlin-Maven-Plugin?", "body": "<p>This build is running on JDK9 and not on JDK 8 as mentioned based on the log output you can see things like this:</p>\n\n<pre><code>java.base@9-ea/Native Method...\n</code></pre>\n\n<p>which is the hint about JDK 9 usage.</p>\n"}], "owner": {"reputation": 1560, "user_id": 1673861, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/FWGcY.jpg?s=128&g=1", "display_name": "L. Blanc", "link": "https://stackoverflow.com/users/1673861/l-blanc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "accepted_answer_id": 45659912, "answer_count": 1, "score": 1, "last_activity_date": 1502624192, "creation_date": 1502570904, "question_id": 45654804, "link": "https://stackoverflow.com/questions/45654804/why-does-my-kotlin-compilation-fail-using-kotlin-maven-plugin", "title": "Why does my Kotlin compilation fail using Kotlin-Maven-Plugin?", "body": "<p>While trying to compile a Java/Kotlin hybrid project, I received the following error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.1.3-2:compile (compile) on project tablesaw-core: Compilation failure\n[ERROR] java.lang.ArrayIndexOutOfBoundsException: 32\n[ERROR] at org.jetbrains.org.objectweb.asm.ClassReader.readUTF8(ClassReader.java:2529)\n[ERROR] at org.jetbrains.org.objectweb.asm.ClassReader.readModule(ClassReader.java:777)\n[ERROR] at org.jetbrains.org.objectweb.asm.ClassReader.accept(ClassReader.java:646)\n[ERROR] at org.jetbrains.org.objectweb.asm.ClassReader.accept(ClassReader.java:507)\n[ERROR] at org.jetbrains.kotlin.resolve.jvm.modules.JavaModuleInfo$Companion.read(JavaModuleInfo.kt:51)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.modules.CliJavaModuleFinder.computeAllSystemModules$kotlin_compiler(CliJavaModuleFinder.kt:28)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.computeRootModules(KotlinCoreEnvironment.kt:298)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.addModularRoots(KotlinCoreEnvironment.kt:277)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.convertClasspathRoots(KotlinCoreEnvironment.kt:269)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:197)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment.&lt;init&gt;(KotlinCoreEnvironment.kt:109)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.compiler.KotlinCoreEnvironment$Companion.createForProduction(KotlinCoreEnvironment.kt:423)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createCoreEnvironment(K2JVMCompiler.kt:240)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.createEnvironmentWithScriptingSupport(K2JVMCompiler.kt:230)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:189)\n[ERROR] at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)\n[ERROR] at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)\n[ERROR] at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execCompiler(KotlinCompileMojoBase.java:236)\n[ERROR] at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:184)\n[ERROR] at org.jetbrains.kotlin.maven.K2JVMCompileMojo.execCompiler(K2JVMCompileMojo.java:43)\n[ERROR] at org.jetbrains.kotlin.maven.KotlinCompileMojoBase.execute(KotlinCompileMojoBase.java:219)\n[ERROR] at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n[ERROR] at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\n[ERROR] at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n[ERROR] at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\n[ERROR] at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\n[ERROR] at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\n[ERROR] at org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\n[ERROR] at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\n[ERROR] at org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\n[ERROR] at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(java.base@9-ea/Native Method)\n[ERROR] at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(java.base@9-ea/NativeMethodAccessorImpl.java:62)\n[ERROR] at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(java.base@9-ea/DelegatingMethodAccessorImpl.java:43)\n[ERROR] at java.lang.reflect.Method.invoke(java.base@9-ea/Method.java:533)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n[ERROR] at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n</code></pre>\n\n<p>I am using Maven 3.3.9 with Kotlin 1.1.3-2, and Java 1.8</p>\n\n<p>In googling for similar problems I saw similar results from other code using ClassReader. Those issues were attributed to a version mismatch, but the examples were not using Kotlin and I think my versions are ok.</p>\n\n<p>My pom file is: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;tech.tablesaw&lt;/groupId&gt;\n    &lt;artifactId&gt;tablesaw-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.8-SNAPSHOT&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;artifactId&gt;tablesaw-core&lt;/artifactId&gt;\n&lt;version&gt;0.8-SNAPSHOT&lt;/version&gt;\n\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                   &lt;goals&gt;\n                       &lt;goal&gt;test-jar&lt;/goal&gt;\n                   &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-test-junit&lt;/artifactId&gt;\n        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["kotlin", "android-studio-3.0", "extension-function"], "comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 0, "creation_date": 1502568251, "post_id": 45654332, "comment_id": 78267089, "body": "try to break the function body into more lines / steps to see which expression exactly fails."}], "owner": {"reputation": 1183, "user_id": 6521806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10abc63921011dbabcb351ef3dc4814?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelThePotato", "link": "https://stackoverflow.com/users/6521806/michaelthepotato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1502567500, "creation_date": 1502567500, "question_id": 45654332, "link": "https://stackoverflow.com/questions/45654332/getting-a-noclassdeffounderror-when-calling-a-kotlin-extension-function", "title": "Getting a NoClassDefFoundError when calling a kotlin extension function", "body": "<p>I'm using the Android Studio 3.0 Beta 2 Canary Preview, and am calling a Kotlin extension function from Java:</p>\n\n<p>The Kotlin code:</p>\n\n<pre><code>fun Metadata.validate(context: Context) {\n    validateInnerList(context)\n    // other validation functions\n}\n\nprivate fun Metadata.validateInnerList(context: Context) {\n    taskGroupList.removeIf { !it.isDataValid() } // error goes here\n}\n</code></pre>\n\n<p>the java code:</p>\n\n<pre><code>metadataDecoratorKt.validate(metadata, context);\n</code></pre>\n\n<p>The code compiles fine, but during runtime calling it gives me a - java.lang.NoClassDefFoundError</p>\n\n<p>Am I doing something wrong? is there an error on Intellij's side?\nIf more information is needed please say so.</p>\n"}, {"tags": ["android", "kotlin", "trim"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 38, "last_activity_date": 1502803293, "last_edit_date": 1502803293, "creation_date": 1502555660, "answer_id": 45652573, "question_id": 45652480, "link": "https://stackoverflow.com/questions/45652480/what-is-this-it-in-trim-string-function-mean-here/45652573#45652573", "title": "what is this &quot;it &lt;= &#39; &#39;&quot; in trim string function mean here", "body": "<p>Java's <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()\" rel=\"noreferrer\"><code>String#trim()</code></a> removes all codepoints between <code>'\\u0000'</code> (NUL) and <code>'\\u0020'</code> (SPACE) from the start and end of the string.</p>\n\n<p>Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/trim.html\" rel=\"noreferrer\"><code>CharSequence.trim()</code></a> removes only leading and trailing whitespace by default (characters matching <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-whitespace.html\" rel=\"noreferrer\"><code>Char.isWhitespace</code></a>, which is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isWhitespace(char)\" rel=\"noreferrer\"><code>Character#isWhitespace(char)</code></a>). For the same behavior as Java, the IDE generated a predicate that matches the same characters that Java would have trimmed.</p>\n\n<p>These characters include ASCII whitespace, but also include control characters.</p>\n\n<pre><code>'\\u0000' \u2400 ('\\0')\n'\\u0001' \u2401\n'\\u0002' \u2402\n'\\u0003' \u2403\n'\\u0004' \u2404\n'\\u0005' \u2405\n'\\u0006' \u2406\n'\\u0007' \u2407 ('\\a')\n'\\u0008' \u2408 ('\\b')\n'\\u0009' \u2409 ('\\t')\n'\\u000A' \u240a ('\\n')\n'\\u000B' \u240b ('\\v')\n'\\u000C' \u240c ('\\f')\n'\\u000D' \u240d ('\\r')\n'\\u000E' \u240e\n'\\u000F' \u240f\n'\\u0010' \u2410\n'\\u0011' \u2411\n'\\u0012' \u2412\n'\\u0013' \u2413\n'\\u0014' \u2414\n'\\u0015' \u2415\n'\\u0016' \u2416\n'\\u0017' \u2417\n'\\u0018' \u2418\n'\\u0019' \u2419\n'\\u001A' \u241a\n'\\u001B' \u241b\n'\\u001C' \u241c\n'\\u001D' \u241d\n'\\u001E' \u241e\n'\\u001F' \u241f\n'\\u0020' \u2420 (' ')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1502555741, "creation_date": 1502555741, "answer_id": 45652582, "question_id": 45652480, "link": "https://stackoverflow.com/questions/45652480/what-is-this-it-in-trim-string-function-mean-here/45652582#45652582", "title": "what is this &quot;it &lt;= &#39; &#39;&quot; in trim string function mean here", "body": "<p>See the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/trim.html\" rel=\"nofollow noreferrer\"><code>String.trim</code></a> overload that takes a <code>predicate</code>. It is said to trim the leading and trailing characters off the string which match the predicate. In your case, it will trim the characters that are less than or equal to <code>' '</code> (the whitespace).</p>\n\n<p>This is exactly how <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\"><code>java.lang.String#trim</code></a> works.</p>\n"}, {"comments": [{"owner": {"reputation": 505, "user_id": 2811504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47ce91794321f6ec2b9e5fd92a8d14d8?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carlos", "link": "https://stackoverflow.com/users/2811504/jo%c3%a3o-carlos"}, "edited": false, "score": 0, "creation_date": 1549024635, "post_id": 45652594, "comment_id": 95766193, "body": "Do you mind to explain that using other words? I still couldn&#39;t understand it"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "reply_to_user": {"reputation": 505, "user_id": 2811504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47ce91794321f6ec2b9e5fd92a8d14d8?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carlos", "link": "https://stackoverflow.com/users/2811504/jo%c3%a3o-carlos"}, "edited": false, "score": 3, "creation_date": 1549053512, "post_id": 45652594, "comment_id": 95780345, "body": "When you convert from Java to Kotlin the plugin translate java&#39;s trim()  to .trim{ it &lt;=&#39; &#39;}  because kotlin&#39;s trim allows a predicate and in this case the predicate is a white space"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 4, "last_activity_date": 1502555777, "creation_date": 1502555777, "answer_id": 45652594, "question_id": 45652480, "link": "https://stackoverflow.com/questions/45652480/what-is-this-it-in-trim-string-function-mean-here/45652594#45652594", "title": "what is this &quot;it &lt;= &#39; &#39;&quot; in trim string function mean here", "body": "<p>trim function in kotlin allows a predicate so trim in java code (removes the white spaces) is the same as <code>.trim { it &lt;= ' ' }</code> \nYou can use <code>.trim()</code> in kotlin too</p>\n"}, {"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 2, "last_activity_date": 1502556297, "last_edit_date": 1502556297, "creation_date": 1502555858, "answer_id": 45652606, "question_id": 45652480, "link": "https://stackoverflow.com/questions/45652480/what-is-this-it-in-trim-string-function-mean-here/45652606#45652606", "title": "what is this &quot;it &lt;= &#39; &#39;&quot; in trim string function mean here", "body": "<p>It is comparing the ASCII of each char which ' ' (space). If the ASCII of the character is less than or equal to that of the ASCII of ' ' (space), it is removed. </p>\n\n<p>If you look at the <a href=\"http://ascii.cl/\" rel=\"nofollow noreferrer\">ASCII table</a>, the symbols below space ( ASCII 32) are non-printable control characters. So all the printable characters other than space are above the ASCII of space (which is 32). So if the characters whose ASCII is lesser than or equal to that of ' ' (space) are removed, we will get the remaining String without leading and trailing whitespace.</p>\n\n<p>This is how the Java's <code>trim()</code> works. Nevertheless, you can just use <code>trim()</code> also in Kotlin:</p>\n\n<pre><code>titleEt.text.toString().trim()\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6282, "favorite_count": 2, "accepted_answer_id": 45652573, "answer_count": 4, "score": 27, "last_activity_date": 1598368188, "creation_date": 1502555040, "last_edit_date": 1598368188, "question_id": 45652480, "link": "https://stackoverflow.com/questions/45652480/what-is-this-it-in-trim-string-function-mean-here", "title": "what is this &quot;it &lt;= &#39; &#39;&quot; in trim string function mean here", "body": "<p>I have this Java code to trim a string</p>\n<pre><code>String title = titleEt.getText().toString().trim();\n</code></pre>\n<p>When I convert to kotlin, I expect this should be the kotlin code to trim the leading and trailing spaces.</p>\n<pre><code>val title = titleEt.text.toString().trim()\n</code></pre>\n<p>However, the IDE generates this code</p>\n<pre><code>val title = titleEt.text.toString().trim { it &lt;= ' ' }\n</code></pre>\n<p>What is this { it &lt;= ' ' } here? Is it any char less and than ' '?</p>\n"}, {"tags": ["java", "android-studio", "gradle", "junit", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1502555525, "post_id": 45651271, "comment_id": 78263357, "body": "This was a bug in the build tool, and fixed in 3.0 Canary 9. <a href=\"https://issuetracker.google.com/issues/64047846\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/64047846</a> What version of the build tools are you using?"}, {"owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1502557182, "post_id": 45651271, "comment_id": 78263789, "body": "I use AS2 with build tools 2.3.3. I have even more problems with building pure java module now after restart. So using AS3 may help?"}, {"owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1502559590, "post_id": 45651271, "comment_id": 78264508, "body": "Installed Android Studio 3.0 Beta 2 with 2.3.3 build tools and unfortunately didn&#39;t help."}, {"owner": {"reputation": 933, "user_id": 804894, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2258542a0618e279d6eae1d7b4364abe?s=128&d=identicon&r=PG", "display_name": "tricknology", "link": "https://stackoverflow.com/users/804894/tricknology"}, "edited": false, "score": 1, "creation_date": 1549819022, "post_id": 45651271, "comment_id": 96030733, "body": "back in 3.3.0 and 3.3.1, it seems."}, {"owner": {"reputation": 1665, "user_id": 1101963, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/84c24dec7be50840b7aeaac32358e189?s=128&d=identicon&r=PG", "display_name": "Yuriy Kulikov", "link": "https://stackoverflow.com/users/1101963/yuriy-kulikov"}, "edited": false, "score": 1, "creation_date": 1585062429, "post_id": 45651271, "comment_id": 107630516, "body": "back in 3.6.1 as well"}], "owner": {"reputation": 11131, "user_id": 1118475, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9f44a846a6337e4868ce0c8951fc246a?s=128&d=identicon&r=PG", "display_name": "Micha\u0142 Klimczak", "link": "https://stackoverflow.com/users/1118475/micha%c5%82-klimczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1502547549, "creation_date": 1502547549, "question_id": 45651271, "link": "https://stackoverflow.com/questions/45651271/running-tests-from-android-studio-ide-doesnt-rebuild-pure-java-library-module", "title": "Running tests from Android Studio IDE doesn&#39;t rebuild pure java library module", "body": "<p>I have a project in Android Studio which only has a single non-android, pure java module. This module contains a class which I put under test.</p>\n\n<p>The test is executed properly if I manually call <code>gradle build</code> or <code>gradle test</code>. </p>\n\n<p>But if I run it from the IDE (\"Run 'All tests'\"), the module is not rebuild, it is run on old compiled code. Only when I rebuild it manually with e.g. <code>gradle compileTestJava</code> the code is recompiled and tests are executed properly.</p>\n\n<p>It seems similar to this problem: <a href=\"https://stackoverflow.com/questions/42526584/android-studio-doesnt-compile-test-classes-for-java-library-modules-during-make\">Android Studio doesn&#39;t compile test classes for Java library modules during Make Project</a></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1502530857, "post_id": 45648631, "comment_id": 78256089, "body": "Right Click on <b>java</b> project directory -&gt; <b>new</b> -&gt; select <b>&quot;Kotlin File/Class&quot;</b>."}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 0, "creation_date": 1530394514, "post_id": 45648631, "comment_id": 89223371, "body": "Putting this here for future devs... After I created a brand-new project (in Android Studio 3.1.3) that includes Kotlin support, I did not have the  <b>File -&gt; New -&gt; Kotlin File/Class</b> until AFTER I did a Gradle sync."}], "answers": [{"tags": [], "owner": {"reputation": 1050, "user_id": 2379746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e1395d5244036d7199c42112b354e?s=128&d=identicon&r=PG", "display_name": "Kharda", "link": "https://stackoverflow.com/users/2379746/kharda"}, "is_accepted": false, "score": 0, "last_activity_date": 1502530306, "creation_date": 1502530306, "answer_id": 45648704, "question_id": 45648631, "link": "https://stackoverflow.com/questions/45648631/how-to-add-a-kotlin-class-in-an-android-studio-project/45648704#45648704", "title": "How to add a Kotlin class in an Android Studio project?", "body": "<p>One way to do it is by converting Java file to Kotlin file.\nOpen the java class, and from menu bar choose <code>Code</code> -> <code>Convert Java File to Kotlin File</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 8454344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae69569076184ad3e903fd3257b2f5b4?s=128&d=identicon&r=PG", "display_name": "Ketan Mate", "link": "https://stackoverflow.com/users/8454344/ketan-mate"}, "is_accepted": true, "score": 4, "last_activity_date": 1502626574, "creation_date": 1502626574, "answer_id": 45660239, "question_id": 45648631, "link": "https://stackoverflow.com/questions/45648631/how-to-add-a-kotlin-class-in-an-android-studio-project/45660239#45660239", "title": "How to add a Kotlin class in an Android Studio project?", "body": "<p>First, install Kotlin plugin in Android Studio. Restart Android Studio.<br>\nNow create a new project with no activity.<br>\nThen navigate to <code>src&gt;main&gt;java&gt;&lt;your_package_name&gt;</code>.<br>\nRight Click on <code>&lt;your_package_name&gt;</code>, select New>Kotlin Activity and go ahead with configuration.<br>\nNow naviagte to <code>src&gt;main&gt;java&gt;&lt;your_package_name&gt;/&lt;activity_name&gt;.kt</code> and open it.<br>\nAfter opening it, you will see <code>Kotlin not configured</code> message.<br>\nJust click configure action and run your project. That's it!</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 8385193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XI134.jpg?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8385193/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1504320400, "last_edit_date": 1504320400, "creation_date": 1502689890, "answer_id": 45668147, "question_id": 45648631, "link": "https://stackoverflow.com/questions/45648631/how-to-add-a-kotlin-class-in-an-android-studio-project/45668147#45668147", "title": "How to add a Kotlin class in an Android Studio project?", "body": "<p>Get Android Studio 3 preview and when you start a new project click the option to add Kotlin support... Once in your project you'll see options to create Kotlin class when you right click </p>\n"}], "owner": {"reputation": 73, "user_id": 7849764, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5f823506c48b84f2988fd9596a2828?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas1902", "link": "https://stackoverflow.com/users/7849764/jonas1902"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6109, "favorite_count": 0, "accepted_answer_id": 45660239, "answer_count": 3, "score": 1, "last_activity_date": 1504320400, "creation_date": 1502529858, "question_id": 45648631, "link": "https://stackoverflow.com/questions/45648631/how-to-add-a-kotlin-class-in-an-android-studio-project", "title": "How to add a Kotlin class in an Android Studio project?", "body": "<p>I have been working with Android Studio for a while. Recently I have heard about kotlin programming language and I wanted to try to include a class in kotlin language to my project.</p>\n\n<p>There is the problem that whenevr I want to create a new Activity for example, the <strong>.java</strong> class is auto-generated. Also I see no way to cretae a <strong>.kt</strong> (kotlin) file manually.</p>\n\n<p>So does anyone know how to setup a <strong>.kt</strong> file in Android Studio, so that I am able to fill it with code in kotlin language?</p>\n"}, {"tags": ["android", "android-studio", "android-gradle-plugin", "kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "reply_to_user": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 1, "creation_date": 1504171840, "post_id": 45643724, "comment_id": 78914689, "body": "@ZiadSaad is it a question?  If it is not working, post your build.gradle and the details of the error."}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 4, "last_activity_date": 1502485430, "creation_date": 1502485430, "answer_id": 45643724, "question_id": 45643623, "link": "https://stackoverflow.com/questions/45643623/android-studio-plugin-with-id-kotlin-android-extensions/45643724#45643724", "title": "android studio plugin with id: &#39;kotlin-android-extensions&#39;", "body": "<p>To use the plugin, you have to add it in your root level file:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n    ext.kotlin_version = '1.1.2-4'\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 6912748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jhCy5.jpg?s=128&g=1", "display_name": "Parth Ravrani", "link": "https://stackoverflow.com/users/6912748/parth-ravrani"}, "is_accepted": false, "score": 1, "last_activity_date": 1511596478, "last_edit_date": 1511596478, "creation_date": 1511596120, "answer_id": 47483742, "question_id": 45643623, "link": "https://stackoverflow.com/questions/45643623/android-studio-plugin-with-id-kotlin-android-extensions/47483742#47483742", "title": "android studio plugin with id: &#39;kotlin-android-extensions&#39;", "body": "<p>Try to add the following to your gradle.build file</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>after that you have to make some changes in your dependencies classpath like this.</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.1.60'\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:2.1.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n  }\n}\n</code></pre>\n\n<p>and in dependencies compile make sure to add jre7 such that.</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>After doing all that rebuild the gradle and you are all done. This worked for me because i was facing the same problem you are now, and after this it's all done. Hope it works for you tooo....</p>\n"}], "owner": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5849, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1511596478, "creation_date": 1502485001, "last_edit_date": 1503157111, "question_id": 45643623, "link": "https://stackoverflow.com/questions/45643623/android-studio-plugin-with-id-kotlin-android-extensions", "title": "android studio plugin with id: &#39;kotlin-android-extensions&#39;", "body": "<p>I am using gradle and I am trying to add kotlin to my project. But when I am trying to add 'kotlin-android-extensions' plugin for gradle it fails to find it.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4470024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/046f03cf28b0f02c16608d095e13b0e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Urz", "link": "https://stackoverflow.com/users/4470024/ali-urz"}, "edited": false, "score": 0, "creation_date": 1502493100, "post_id": 45644499, "comment_id": 78249090, "body": "how can I fix it?"}], "tags": [], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "is_accepted": false, "score": 0, "last_activity_date": 1502490115, "last_edit_date": 1502490115, "creation_date": 1502489786, "answer_id": 45644499, "question_id": 45642692, "link": "https://stackoverflow.com/questions/45642692/error-in-print-prime-number-using-high-order-functions-in-kotlin/45644499#45644499", "title": "Error in Print prime number using high order functions in kotlin", "body": "<p>The error is because the expression: <code>listNumber1to100.forEach { it }</code> - is not a number, it is a <code>Unit</code> (<a href=\"https://en.wikipedia.org/wiki/Unit_type\" rel=\"nofollow noreferrer\">ref</a>).</p>\n\n<p>The compiler try to match the modulo operator to the given function signatures, e.g.: <code>mod(Byte)</code> / <code>mod(Int)</code> / <code>mod(Long)</code> - etc.</p>\n"}, {"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1502502135, "post_id": 45645242, "comment_id": 78250604, "body": "Maybe you should update your question instead of posting your solution, so that the others can see what you found easily. And, what do you mean by &quot;in the right side of reminder&quot;?"}], "tags": [], "owner": {"reputation": 107, "user_id": 4470024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/046f03cf28b0f02c16608d095e13b0e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Urz", "link": "https://stackoverflow.com/users/4470024/ali-urz"}, "is_accepted": false, "score": 0, "last_activity_date": 1502495884, "creation_date": 1502495884, "answer_id": 45645242, "question_id": 45642692, "link": "https://stackoverflow.com/questions/45642692/error-in-print-prime-number-using-high-order-functions-in-kotlin/45645242#45645242", "title": "Error in Print prime number using high order functions in kotlin", "body": "<pre><code>val listNumbers = generateSequence(1) { it + 1 }\nval listNumber1to100 = listNumbers.takeWhile { it &lt; 100 }\nfun isPrime(num: Int): Boolean = listNumber1to100.asSequence().any { num%it==0 &amp;&amp; it!=num &amp;&amp; it!=1  }\nprintln(listNumber1to100.asSequence().filter { !isPrime(it)}.toList())\n</code></pre>\n\n<p>I found this solution and worked\nBut why can I have a non-number here in the right side of reminder</p>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 0, "last_activity_date": 1502519607, "creation_date": 1502519607, "answer_id": 45647269, "question_id": 45642692, "link": "https://stackoverflow.com/questions/45642692/error-in-print-prime-number-using-high-order-functions-in-kotlin/45647269#45647269", "title": "Error in Print prime number using high order functions in kotlin", "body": "<p>In your first approach, the error appears in this line:</p>\n\n<pre><code>it%(listNumber1to100.forEach { it })\n</code></pre>\n\n<p>A <code>Byte</code>, <code>Double</code>, <code>Float</code>, <code>Int</code>, <code>Long</code> or <code>Short</code> is prefered right after the <code>%</code> operator, however, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"nofollow noreferrer\">forEach</a> is a function which the return type is <code>Unit</code>.</p>\n\n<p>In your second approach, you have the correct expression in <code>isPrime(Int)</code>. Here are some suggestions for you:</p>\n\n<ol>\n<li><p><code>listNumber1to100</code> is excluding 100 in your code, if you want to include 100 in <code>listNumber1to100</code>, the lambda you pass to <code>takeWhile</code> should be changed like this:</p>\n\n<pre><code>val listNumber1to100 = listNumbers.takeWhile { it &lt;= 100 }\n</code></pre></li>\n<li><p><code>listNumber1to100.asSequence()</code> is redundant here since <code>listNumber1too100</code> is itself a <code>TakeWhileSequence</code> which implements <code>Sequence</code>.</p></li>\n<li><p><code>isPrime(Int)</code> is a bit confusing since it is check for isComposite and it does not work for every input it takes(it works for 1 to 99 only). I will rewrite it in this way:</p>\n\n<pre><code>fun isPrime(num: Int): Boolean = if (num &lt;= 1) false else !(2..num/2).any { num % it == 0 }\n</code></pre>\n\n<p>Since prime number must be positive and 1 is a special case(neither a prime nor composite number), it just return false if the input is smaller or equal to 1. If not, it checks if the input is divisible by a range of number from 2 to (input/2). The range ends before (input/2) is because if it is true for <code>num % (num/2) == 0</code>, it is also true for <code>num % 2 == 0</code>, vise versa. Finally, I add a <code>!</code> operator before that because a prime number should not be divisible by any of those numbers.</p>\n\n<p>Finally, you can filter a list by <code>isPrime(Int)</code> like this:</p>\n\n<pre><code>println(listNumber1to100.filter(::isPrime).toList())\n</code></pre>\n\n<p>PS. It is just for reference and there must be a better implementation than this.</p></li>\n</ol>\n\n<p>To answer your question about <code>it</code>, <code>it</code> represents the only lambda parameter inside a lambda expression. It is always used for <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">function literal which has only one parameter</a>.</p>\n"}], "owner": {"reputation": 107, "user_id": 4470024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/046f03cf28b0f02c16608d095e13b0e6?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Urz", "link": "https://stackoverflow.com/users/4470024/ali-urz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 45647269, "answer_count": 3, "score": 1, "last_activity_date": 1502519607, "creation_date": 1502480479, "question_id": 45642692, "link": "https://stackoverflow.com/questions/45642692/error-in-print-prime-number-using-high-order-functions-in-kotlin", "title": "Error in Print prime number using high order functions in kotlin", "body": "<pre><code>val listNumbers = generateSequence(1) { it + 1 }\nval listNumber1to100 = listNumbers.takeWhile { it &lt; 100 }\nval secNum:Unit = listNumber1to100.forEach {it}\n\nprintln(listNumber1to100.asSequence().filter { it%(listNumber1to100.forEach { it })!=0 }.toList())\n</code></pre>\n\n<p>I have an error in reminder sign!\nThis is Error:  None of the following functions can be called with the arguments supplied </p>\n"}, {"tags": ["jpa", "kotlin"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1522437272, "post_id": 45642181, "comment_id": 86168031, "body": "The @Transient annotation is not needed since lineItems is a property without backing field (just a getter)."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1523277705, "post_id": 45642181, "comment_id": 86480110, "body": "did we answer your question?"}, {"owner": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1523386280, "post_id": 45642181, "comment_id": 86537250, "body": "@WilliMentzel yea, I had forgot about this question I posted it so long ago. Thanks for the reply, your answer makes sense."}], "answers": [{"comments": [{"owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "edited": false, "score": 0, "creation_date": 1522434095, "post_id": 49579371, "comment_id": 86166538, "body": "I took the liberty of creating a gist from your example. <a href=\"https://gist.github.com/johanvergeer/eb0827595c490f742ce3dc9d4ef306c3\" rel=\"nofollow noreferrer\">gist.github.com/johanvergeer/eb0827595c490f742ce3dc9d4ef306c&zwnj;&#8203;3</a>"}, {"owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 2, "creation_date": 1575375287, "post_id": 49579371, "comment_id": 104537907, "body": "These classes are problematic as entities. They will change their hash code when they are persisted.  <code>toString()</code> for bidirectional associations will recurse forever. Kotlin data classes are not perfect entities."}], "tags": [], "owner": {"reputation": 4093, "user_id": 5039579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh4.googleusercontent.com/-F6fcCsWUR08/AAAAAAAAAAI/AAAAAAAAAMA/NVI0gCvjXIg/photo.jpg?sz=128", "display_name": "Johan Vergeer", "link": "https://stackoverflow.com/users/5039579/johan-vergeer"}, "is_accepted": false, "score": 4, "last_activity_date": 1522437188, "last_edit_date": 1522437188, "creation_date": 1522433775, "answer_id": 49579371, "question_id": 45642181, "link": "https://stackoverflow.com/questions/45642181/kotlin-jpa-encapsulate-onetomany/49579371#49579371", "title": "Kotlin JPA Encapsulate OneToMany", "body": "<p>First of all I like to use data classes this way you get <code>equals</code>, <code>hashCode</code> and <code>toString</code> for free.</p>\n\n<p>I put all the properties that are not collections into the primary constructor. I put the collections into the class body. </p>\n\n<p>There you can create a <code>private val _lineItems</code> which is a backing property (which can be generated by IntelliJ after you have created the <code>val lineItems</code> property.</p>\n\n<p>Your private backing field has a mutable collection (I prefer to use a <code>Set</code> whenever possible), which can be changed using the <code>addNewLineItem</code> method. And when you get the property <code>lineItems</code> you get an immutable collection. (Which is done by using <code>.toList()</code> on a mutable list.</p>\n\n<p>This way the collection is encapsulated, and it is still pretty concise.</p>\n\n<pre><code>import javax.persistence.*\n\n@Entity\ndata class OrderEntity(\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        val id: Long? = -1,\n\n        var firstName: String,\n\n        var lastName: String\n\n) {\n    @OneToMany(cascade = [(CascadeType.ALL)], fetch = FetchType.LAZY, mappedBy = \"order\")\n    private val _lineItems = mutableListOf&lt;LineItem&gt;()\n\n    @Transient\n    val lineItems = _lineItems.toList()\n\n    fun addLineItem(newItem: LineItem) = this._lineItems.plusAssign(newItem)\n}\n\n@Entity\ndata class LineItem(\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        val id: Long? = -1,\n\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\n        @JoinColumn(name = \"order_id\")\n        val order: OrderEntity? = null\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 6, "last_activity_date": 1522438584, "last_edit_date": 1522438584, "creation_date": 1522437841, "answer_id": 49580219, "question_id": 45642181, "link": "https://stackoverflow.com/questions/45642181/kotlin-jpa-encapsulate-onetomany/49580219#49580219", "title": "Kotlin JPA Encapsulate OneToMany", "body": "<p>Your basic idea is correct but, I would propose some slight modifications:</p>\n\n<pre><code>@Entity\nclass OrderEntity(\n        var firstName: String,\n        var lastName: String\n) {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    val id: Long = 0\n\n    @OneToMany(cascade = [(CascadeType.ALL)], fetch = FetchType.LAZY, mappedBy = \"order\")\n    private val _lineItems = mutableListOf&lt;LineItem&gt;()\n\n    val lineItems get() = _lineItems.toList()\n\n    fun addLineItem(newItem: LineItem) { \n        _lineItems += newItem // \".this\" can be omitted too\n    }\n}\n\n@Entity\nclass LineItem(\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\n        @JoinColumn(name = \"order_id\")\n        val order: OrderEntity? = null\n){\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      val id: Long = 0\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>the <code>id</code> does not need to be nullable. 0 as default value already means \"not persisted\".</li>\n<li>use a primary constructor, there is no need for a protected empty primary constructor (see <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"noreferrer\">no-arg compiler plug-in</a>)</li>\n<li>The <code>id</code> will be auto generated and should not be in the constructor</li>\n<li>since the <code>id</code> is not part of the primary constructor <code>equals</code> would yield the wrong results (because id would not be part of comparison) unless overriden in a correct manner, so I would not use a <code>data class</code> </li>\n<li>if <code>lineItems</code> is property without backing field there is not need for a <code>@Transient</code> annotation</li>\n<li>it would be better to use a block body for <code>addLineItem</code> since it returns <code>Unit</code>, which also enables you to use the <code>+=</code> operator instead of an explicit function call (<code>plusAssign</code>).</li>\n</ul>\n"}], "owner": {"reputation": 5548, "user_id": 2272004, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5a4a49705088dabef2989f0008cf405f?s=128&d=identicon&r=PG", "display_name": "greyfox", "link": "https://stackoverflow.com/users/2272004/greyfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8092, "favorite_count": 4, "accepted_answer_id": 49580219, "answer_count": 2, "score": 8, "last_activity_date": 1522438584, "creation_date": 1502478161, "question_id": 45642181, "link": "https://stackoverflow.com/questions/45642181/kotlin-jpa-encapsulate-onetomany", "title": "Kotlin JPA Encapsulate OneToMany", "body": "<p>I am using JPA with Kotlin and coming against an issue trying to encapsulate a OneToMany relationship. This is something I can easily achieve in Java but having some issues due to Kotlin only having properties and no fields in classes. </p>\n\n<p>I have an order, and an order has one to many line items. The order object has a MutableList of LineItem BUT the get method SHOULD NOT return a mutable list, or anything that the caller could potentially modify, as this breaks encapsulation. The order class should be responsible for managing collection of line items and ensuring all business rules / validations are met.</p>\n\n<p>This is the code I've come up with thus far. Basically I'm using a backing property which is the MutableList which Order class will mutate, and then there is a transient property which returns Iterable, and <code>Collections.unmodifiableList(_lineItems)</code> ensure that even if caller gets the list, and cast it to MutableList they won't be able to modify it.</p>\n\n<p>Is there a better way to enforce encapsulation and integrity. Perhaps I'm just being too defensive with my design and approach. Ideally no one should be using the getter to get and modify the list, but hey it happens.</p>\n\n<pre><code>import java.util.*\nimport javax.persistence.*\n\n@Entity\n@Table(name = \"order\")\nopen class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    val id: Long? = null\n\n    @Column(name = \"first_name\")\n    lateinit var firstName: String\n\n    @Column(name = \"last_name\")\n    lateinit var lastName: String\n\n    @OneToMany(cascade = arrayOf(CascadeType.ALL), fetch = FetchType.LAZY, mappedBy = \"order\")\n    private val _lineItems: MutableList&lt;LineItem&gt; = ArrayList()\n\n    val lineItems: Iterable&lt;LineItem&gt;\n    @Transient get() = Collections.unmodifiableList(_lineItems)\n\n    protected constructor()\n\n    constructor(firstName: String, lastName: String) {\n        this.firstName = firstName\n        this.lastName = lastName\n    }\n\n    fun addLineItem(newItem: LineItem) {\n        // do some validation and ensure all business rules are met here\n\n        this._lineItems.add(newItem)\n    }\n}\n\n@Entity\n@Table(name = \"line_item\")\nopen class LineItem {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    val id: Long? = null\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = \"order_id\", referencedColumnName = \"id\")\n    lateinit var order: Order\n        private set\n\n    // whatever properties might be here\n\n    protected constructor()\n\n    constructor(order: Order) {\n        this.order = order\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "stack-overflow", "android-databinding", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 2354895, "user_type": "registered", "profile_image": "https://graph.facebook.com/553627099/picture?type=large", "display_name": "Alexandre Emond", "link": "https://stackoverflow.com/users/2354895/alexandre-emond"}, "edited": false, "score": 0, "creation_date": 1504305580, "post_id": 45858065, "comment_id": 78978498, "body": "True, I misplaced it when writing my example. Edited my post and fixed it in my sample, but didn&#39;t help about the stackoverflow."}, {"owner": {"reputation": 227, "user_id": 6606971, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/822957514504959/picture?type=large", "display_name": "Dex Sebas", "link": "https://stackoverflow.com/users/6606971/dex-sebas"}, "edited": false, "score": 1, "creation_date": 1524075275, "post_id": 45858065, "comment_id": 86828599, "body": "I think is a bug with kotlin and databinding beucase I have the same problem."}], "tags": [], "owner": {"reputation": 1, "user_id": 8510828, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c6b96a2c2b548721154c215a64e35686?s=128&d=identicon&r=PG", "display_name": "Sanoop", "link": "https://stackoverflow.com/users/8510828/sanoop"}, "is_accepted": false, "score": 0, "last_activity_date": 1503567398, "creation_date": 1503567398, "answer_id": 45858065, "question_id": 45639221, "link": "https://stackoverflow.com/questions/45639221/using-lambda-in-custom-bindingadapter-using-android-databinding-and-kotlin/45858065#45858065", "title": "Using lambda in custom BindingAdapter using Android Databinding and Kotlin", "body": "<p>Move this code outside the default config block. Put it inside </p>\n\n<pre><code>android {\n   dataBinding {\n       enabled = true\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 10956001, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HaVQvB1bNio/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM7VV0RYovJCzMg8ytdpaosT3rkjA/mo/photo.jpg?sz=128", "display_name": "Gergely Hegedus", "link": "https://stackoverflow.com/users/10956001/gergely-hegedus"}, "is_accepted": false, "score": 2, "last_activity_date": 1582236849, "creation_date": 1582236849, "answer_id": 60329318, "question_id": 45639221, "link": "https://stackoverflow.com/questions/45639221/using-lambda-in-custom-bindingadapter-using-android-databinding-and-kotlin/60329318#60329318", "title": "Using lambda in custom BindingAdapter using Android Databinding and Kotlin", "body": "<p>Well, very late response I suppose, but others might had the same issue:\nAs far as I see this is on a false assumption: databinding uses Java and doesn't know about Kotlin in general. \nIn order to set a listener via databinding you have to use a Java interface with a method. Kotlin lambdas are not like Java interfaces with a simple method since they contain functions, meaning they always return something (if not specified then Unit).</p>\n\n<p>So to achieve setting a listener define a simple Java interface as a parameter in the binding adapter</p>\n"}], "owner": {"reputation": 79, "user_id": 2354895, "user_type": "registered", "profile_image": "https://graph.facebook.com/553627099/picture?type=large", "display_name": "Alexandre Emond", "link": "https://stackoverflow.com/users/2354895/alexandre-emond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1858, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1582236849, "creation_date": 1502466827, "last_edit_date": 1504305526, "question_id": 45639221, "link": "https://stackoverflow.com/questions/45639221/using-lambda-in-custom-bindingadapter-using-android-databinding-and-kotlin", "title": "Using lambda in custom BindingAdapter using Android Databinding and Kotlin", "body": "<p>I'm trying to have a custom binding with a lambda handler for Android Databinding using Kotlin. It's working well as long as my ViewModel handler is explicitly returning Void. But if it returns Kotlin Unit instead, I get an <code>error: cannot generate view binders java.lang.StackOverflowError</code>.</p>\n\n<p>Everything seems to be hooked-up correctly as all the other custom bindings works (convertBooleanToViewVisibility, toTestString and even customOnClick as long as I'm calling onClickVoid [see example below]).</p>\n\n<p>The issue is when I'm trying to invoke a lambda returning Unit in my app:customOnClick instead of returning Void. In the example below, it's to invoke <code>mainViewModel.onClick()</code> instead of <code>mainViewModel.onClickVoid()</code>. There must be a way of making it work as the android:onClick is able to make to call to the <code>Unit</code> version. But if I'm using the same syntax for customOnClick calling onClick, I'm getting this error:</p>\n\n<pre><code>:app:kaptGenerateStubsDebugKotlin\nUsing kotlin incremental compilation\n:app:kaptDebugKotlin\ne: error: cannot generate view binders java.lang.StackOverflowError\ne: \n\ne:      at android.databinding.tool.writer.Scope.access$getCurrentScope$cp(LayoutBinderWriter.kt:49)\ne:      at android.databinding.tool.writer.Scope$Companion.getCurrentScope(LayoutBinderWriter.kt:58)\ne:      at android.databinding.tool.writer.LayoutBinderWriterKt.scopedName(LayoutBinderWriter.kt:196)\ne:      at android.databinding.tool.expr.Expr.toCode(Expr.java:776)\ne:      at android.databinding.tool.writer.LayoutBinderWriterKt$callbackLocalName$2.invoke(LayoutBinderWriter.kt:203)\ne:      at android.databinding.tool.writer.LayoutBinderWriterKt$callbackLocalName$2.invoke(LayoutBinderWriter.kt)\ne:      at android.databinding.tool.ext.LazyExt.getValue(ext.kt:27)\ne:      at android.databinding.tool.writer.LayoutBinderWriterKt.getCallbackLocalName(LayoutBinderWriter.kt)\ne:      at android.databinding.tool.writer.LayoutBinderWriterKt.scopedName(LayoutBinderWriter.kt:197)\ne: java.lang.IllegalStateException: failed to analyze: java.lang.RuntimeException: failure, see logs for details.\ncannot generate view binders java.lang.StackOverflowError\n    at android.databinding.tool.writer.Scope.access$getCurrentScope$cp(LayoutBinderWriter.kt:49)\n    at android.databinding.tool.writer.Scope$Companion.getCurrentScope(LayoutBinderWriter.kt:58)\n    at android.databinding.tool.writer.LayoutBinderWriterKt.scopedName(LayoutBinderWriter.kt:196)\n    at android.databinding.tool.expr.Expr.toCode(Expr.java:776)\n    at android.databinding.tool.writer.LayoutBinderWriterKt$callbackLocalName$2.invoke(LayoutBinderWriter.kt:203)\n    at android.databinding.tool.writer.LayoutBinderWriterKt$callbackLocalName$2.invoke(LayoutBinderWriter.kt)\n    at android.databinding.tool.ext.LazyExt.getValue(ext.kt:27)\n    at android.databinding.tool.writer.LayoutBinderWriterKt.getCallbackLocalName(LayoutBinderWriter.kt)\n    at android.databinding.tool.writer.LayoutBinderWriterKt.scopedName(LayoutBinderWriter.kt:197)\n    .............................. (TRUNCATED)  ...................................\n    at android.databinding.tool.expr.Expr.toCode(Expr.java:776)\n    at android.databinding.tool.writer.LayoutBinderWriterKt$callbackLocalName$2.invoke(LayoutBinderWriter.kt:203)\n    at android.databinding.tool.writer.LayoutBinderWriterKt$callbackLocalName$2.invoke(LayoutBinderWriter.kt)\n    at android.databinding.tool.ext.LazyExt.getValue(ext.kt:27)\n    at android.databinding.tool.writer.LayoutBinderWriterKt.getCallbackLocalName(LayoutBinderWriter.kt)\n    at android.databinding.tool.writer.LayoutBinderWriterKt.scopedName(LayoutBinderWriter.kt:197)\n\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:144)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:167)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.execCompiler(CompileServiceImpl.kt:397)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execCompiler(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:365)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:798)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:825)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$checkedCompile(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:797)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:791)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$doCompile(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:364)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1.invoke(CompileServiceImpl.kt:99)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive(CompileServiceImpl.kt:1004)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.ifAlive$default(CompileServiceImpl.kt:865)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:336)\n    at sun.reflect.GeneratedMethodAccessor86.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n\n\n    ... 39 more\n\n\nFAILED\n</code></pre>\n\n<p>Any idea how to make it work with Unit so I do not need to change my ViewModel to explicitly return Void? for all my handlers?</p>\n\n<h1>Sample project</h1>\n\n<h3>Project build.gradle</h3>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.3-2'\n    ext.plugin_version = '2.3.3'\n\n    repositories {\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$plugin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<h3>Module (app) build.gradle</h3>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: \"kotlin-android\"\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.example.kotlindatabinding\"\n        minSdkVersion 24\n        targetSdkVersion 24\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:26.+'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    kapt \"com.android.databinding:compiler:$plugin_version\"\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<h3>MainActivity.kt</h3>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val binding = DataBindingUtil.setContentView&lt;ActivityMainBinding&gt;(this, R.layout.activity_main)\n        binding.setMainViewModel(MainViewModel())\n    }\n}\n</code></pre>\n\n<h3>MainViewModel.kt</h3>\n\n<pre><code>class MainViewModel {\n    val myName: String\n        get() {\n            return \"Hello world!\"\n        }\n\n    fun onClick(){\n        Log.i(\"ME\", \"Logging...\")\n    }\n\n    fun onClickVoid(): Void? {\n        onClick()\n        return null as Void?\n    }\n}\n</code></pre>\n\n<h3>Bindings.kt</h3>\n\n<pre><code>object Bindings{\n    @BindingConversion\n    @JvmStatic fun convertBooleanToViewVisibility(isVisible: Boolean): Int {\n        // Working\n        return if (isVisible) View.VISIBLE else View.GONE\n    }\n\n    @BindingAdapter(\"customOnClick\")\n    @JvmStatic fun setOnItemClicked(textView: TextView, consumer: (String) -&gt; Any?) {\n        // Working\n        consumer(\"test\")\n    }\n\n    @JvmStatic fun toTestString(input: Any) : String {\n        return \"Test\"\n    }\n}\n</code></pre>\n\n<h3>activity_main.xml</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;import type=\"com.example.kotlindatabinding.Bindings\"/&gt;\n        &lt;variable\n            name=\"mainViewModel\"\n            type=\"com.example.kotlindatabinding.MainViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"com.example.kotlindatabinding.MainActivity\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"@{Bindings.toTestString(mainViewModel.myName)}\"\n            android:visibility=\"@{mainViewModel.myName != null}\"\n            android:clickable=\"true\"\n            android:onClick=\"@{() -&gt; mainViewModel.onClick()}\"\n            app:customOnClick=\"@{(someInput) -&gt; mainViewModel.onClickVoid()}\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n"}, {"tags": ["compilation", "kotlin", "junit4"], "comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502586948, "post_id": 45638789, "comment_id": 78270656, "body": "Show your project structure."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 3480820, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a5f1a937d12dbfcd7683f2e7a0efb7d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3480820", "link": "https://stackoverflow.com/users/3480820/user3480820"}, "is_accepted": false, "score": 0, "last_activity_date": 1502657331, "creation_date": 1502657331, "answer_id": 45664788, "question_id": 45638789, "link": "https://stackoverflow.com/questions/45638789/compilation-fails-using-gradle-and-kotlin/45664788#45664788", "title": "Compilation fails using Gradle and Kotlin", "body": "<p>I have resolved this. I had to add the Junit and hamcrest-core jar files from the mavan depository.</p>\n"}], "owner": {"reputation": 53, "user_id": 3480820, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a5f1a937d12dbfcd7683f2e7a0efb7d8?s=128&d=identicon&r=PG&f=1", "display_name": "user3480820", "link": "https://stackoverflow.com/users/3480820/user3480820"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502657331, "creation_date": 1502465308, "last_edit_date": 1502517191, "question_id": 45638789, "link": "https://stackoverflow.com/questions/45638789/compilation-fails-using-gradle-and-kotlin", "title": "Compilation fails using Gradle and Kotlin", "body": "<p>I am going through the examples in Kotlin in Action book. The gradle buid script is as follows:</p>\n\n<pre><code>group 'kotlin-in-action'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-2'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\napply plugin: 'java'\n\ndependencies {\n    testCompile 'junit:junit:4.12'\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile \"junit:junit:4.12\"\n    compile 'junit:junit:4.12'\n    compile 'junit:junit:4.12'\n}\n\nsourceSets {\n    main.kotlin.srcDirs += 'src'\n}\n</code></pre>\n\n<p>All the scripts compile except for two classes that uses junit.</p>\n\n<pre><code>package ch06.ex1_8_1_LateinitializedProperties\n\nimport org.junit.Before\nimport org.junit.Test\nimport org.junit.Assert\n\nclass MyService {\n    fun performAction(): String = \"foo\"\n}\n\nclass MyTest {\n    private var myService: MyService? = null\n\n    @Before fun setUp() {\n        myService = MyService()\n    }\n\n    @Test fun testAction() {\n        Assert.assertEquals(\"foo\",\n            myService!!.performAction())\n    }\n}\n</code></pre>\n\n<p>The compiler says it can't find junit. I have tried adding the jar files in IntelliJ, but this has not resolved the problem. The jar files I have added are junit and hamscrest-core. This is all version 4.12.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1502452518, "post_id": 45633344, "comment_id": 78228224, "body": "For the more details you can see <a href=\"https://stackoverflow.com/questions/45397859/whats-the-behavior-of-iterableall-why-did-kotlin-charclass-java-char-ja/45400025#45400025\">here</a>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 22, "last_activity_date": 1502448382, "creation_date": 1502448382, "answer_id": 45633344, "question_id": 45633245, "link": "https://stackoverflow.com/questions/45633245/access-integer-class-from-kotlin/45633344#45633344", "title": "Access Integer.class from Kotlin", "body": "<p>You must use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java-object-type.html\" rel=\"noreferrer\">KClass#javaObjectType</a> to get the wrapper type class in Kotlin:</p>\n\n<blockquote>\n  <p>Returns a Java <code>Class</code> instance corresponding to the given <code>KClass</code> instance. In case of <strong>primitive</strong> types it returns corresponding <strong>wrapper</strong> classes.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>//                  v--- java.lang.Integer\nprintln(Int::class.javaObjectType)\n\n//                  v--- int\nprintln(Int::class.java)\n</code></pre>\n"}], "owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1688, "favorite_count": 0, "accepted_answer_id": 45633344, "answer_count": 1, "score": 13, "last_activity_date": 1502448382, "creation_date": 1502448118, "question_id": 45633245, "link": "https://stackoverflow.com/questions/45633245/access-integer-class-from-kotlin", "title": "Access Integer.class from Kotlin", "body": "<p>I have a Java method that accepts <code>Class</code> parameter. I need to pass <code>Integer.class</code> to it, but from Kotlin code. I tried <code>Int::class.java</code>, however this does not work, because <code>int.class</code> is passed to the function. My question is, how do I access <code>Integer.class</code> from Kotlin.</p>\n\n<p><strong>Java</strong></p>\n\n<pre><code>void foo(Class clazz);\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>foo(Int::class.java) // does not work, int.class gets passed to foo\n</code></pre>\n"}, {"tags": ["unit-testing", "testing", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "edited": false, "score": 0, "creation_date": 1502444786, "post_id": 45631841, "comment_id": 78222995, "body": "Ok Thanks! So here 0 is the expected value and it&#39;s passing an empty array, with this correction at the top:   if(a.isEmpty()) return 0  it passed all tests"}], "tags": [], "owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "is_accepted": true, "score": 2, "last_activity_date": 1502444336, "creation_date": 1502444336, "answer_id": 45631841, "question_id": 45631733, "link": "https://stackoverflow.com/questions/45631733/what-is-test0-in-this-snippet-from-kotlinlang-org/45631841#45631841", "title": "What is test(0) in this snippet from kotlinlang.org?", "body": "<p>The second argument of test is a vararg which means it can take 0 to many Integers. Hence a call to test(0) has expected = 0 and data = an empty vararg list.</p>\n\n<p>The call to runs(data) then just returns 1 since the list is empty and the for loop has nothing to loop through.</p>\n\n<p><strong>EDIT:</strong> Although now I think about it. This means this test would fail since its asserting that expected number of runs should be 0 but it's going to come back as 1 as far as I can tell.</p>\n"}], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 45631841, "answer_count": 1, "score": 2, "last_activity_date": 1502444336, "creation_date": 1502444083, "question_id": 45631733, "link": "https://stackoverflow.com/questions/45631733/what-is-test0-in-this-snippet-from-kotlinlang-org", "title": "What is test(0) in this snippet from kotlinlang.org?", "body": "<p>I'm trying to solve the problem of \"runs\" in the KotlinKoans page <a href=\"https://try.kotlinlang.org/#/Examples/Problems/Runs/Runs.kt\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Here is my implementation</p>\n\n<pre><code>package runs\n\nfun runs(a: IntArray): Int {\n    var numberOfRuns = 1;\n\n    for (index in 0..a.size-2) {\n        if (a[index+1] != a[index]) numberOfRuns++\n    }\n\n    return numberOfRuns\n}\n</code></pre>\n\n<p>Here is the test suite that runs against the implementation</p>\n\n<pre><code>class Tests {\n\n    @Test fun testRuns1() {\n        test(0)\n    }\n\n    @Test fun testRuns2() {\n        test(1, 1)\n    }\n\n    @Test fun testRuns3() {\n        test(3, 1, 2, 3)\n    }\n\n    @Test fun testRuns4() {\n        test(3, 1, 2, 2, 3)\n    }\n\n    @Test fun testRuns5() {\n        test(3, 1, 1, 2, 3)\n    }\n\n    @Test fun testRuns6() {\n        test(1, 1, 1, 1, 1)\n    }\n\n    @Test fun testRuns7() {\n        test(3, 1, 1, 1, 0, 1, 1)\n    }\n\n    @Test fun testRuns8() {\n        test(3, 1, 1, 1, 0, 1)\n    }\n\n    @Test fun testRuns9() {\n        test(5, 1, 0, 1, 0, 1)\n    }\n}\n\nfun test(expected: Int, vararg data: Int) {\n    assertEquals(expected, runs(data), \"\\ndata = ${Arrays.toString(data)}\")\n}\n</code></pre>\n\n<p>All test passes except testRuns1(), I don't understand what test(0) does, given that the test() function takes two parametrs as input, an expected value and the actual value. What am I missing?</p>\n"}, {"tags": ["functional-programming", "kotlin", "tail-recursion"], "answers": [{"tags": [], "owner": {"reputation": 4342, "user_id": 4191629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c23fe6635504cf8a1894ff1e520e76d?s=128&d=identicon&r=PG&f=1", "display_name": "maciekjanusz", "link": "https://stackoverflow.com/users/4191629/maciekjanusz"}, "is_accepted": false, "score": 1, "last_activity_date": 1502441583, "creation_date": 1502441583, "answer_id": 45630908, "question_id": 45630776, "link": "https://stackoverflow.com/questions/45630776/how-to-achieve-a-pure-function-with-dynamic-programming-in-kotlin/45630908#45630908", "title": "How to achieve a pure function with dynamic programming in Kotlin?", "body": "<blockquote>\n  <p>does Kotlin implements Tail Call Optimization</p>\n</blockquote>\n\n<p>Yes, there is <strong>tailrec</strong> keyword for that.</p>\n"}, {"tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 4, "last_activity_date": 1502539743, "last_edit_date": 1502539743, "creation_date": 1502441696, "answer_id": 45630946, "question_id": 45630776, "link": "https://stackoverflow.com/questions/45630776/how-to-achieve-a-pure-function-with-dynamic-programming-in-kotlin/45630946#45630946", "title": "How to achieve a pure function with dynamic programming in Kotlin?", "body": "<p>The whole thing is about breaking out of the imperative approach and thinking in terms of sequence manipulation. </p>\n\n<p>In the case of the Fibonacci Sequence, it might be tricky because it's very tempting to think of it as a sequence of Ints but <strong>it gets much easier if you think of it as a sequence of pairs</strong> (from which you eventually derive a sequence of Ints)</p>\n\n<p>So, you could create an infinite sequence of pairs where the next pair is defined as the second element of the previous pair and a sum of elements in a previous pair:</p>\n\n<pre><code>generateSequence(1 to 1) { it.second to it.first + it.second }\n  .map { it.first }\n</code></pre>\n\n<hr>\n\n<p>And yes, you can utilize the Tail Call Optimization by marking your method with the <code>tailrec</code> keyword -  no worries about the stack overflow. You just apply it before the <code>fun</code> keyword:</p>\n\n<pre><code>fun fibonacciAt(n: Int) = {\n    tailrec fun fibonacciAcc(n: Int, a: Long, b: Long): Long {\n        return when (n == 0) {\n            true -&gt; b\n            false -&gt; fibonacciAcc(n - 1, a + b, a)\n        }\n    }\n\n    fibonacciAcc(n, 1, 0)\n}\n</code></pre>\n\n<p>Here is more info about the <a href=\"http://www.baeldung.com/kotlin-tail-recursion\" rel=\"nofollow noreferrer\">Tail Recursion in Kotlin.</a></p>\n"}, {"comments": [{"owner": {"reputation": 1265, "user_id": 799162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1f76d0470d76487a3355b2ebf419f2?s=128&d=identicon&r=PG", "display_name": "moxi", "link": "https://stackoverflow.com/users/799162/moxi"}, "edited": false, "score": 0, "creation_date": 1502533094, "post_id": 45631204, "comment_id": 78256781, "body": "Thanks for the reference to the main documentation"}], "tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": false, "score": 2, "last_activity_date": 1502442474, "creation_date": 1502442474, "answer_id": 45631204, "question_id": 45630776, "link": "https://stackoverflow.com/questions/45630776/how-to-achieve-a-pure-function-with-dynamic-programming-in-kotlin/45631204#45631204", "title": "How to achieve a pure function with dynamic programming in Kotlin?", "body": "<p>Homegrown:</p>\n\n<pre><code>fun fib(i: Int): Int {\n    tailrec fun go(k: Int, p: Int, c: Int): Int {\n        return if (k == 0) p\n        else go(k - 1, c, p + c)\n    }\n\n    return go(i, 0, 1)\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/generate-sequence.html\" rel=\"nofollow noreferrer\">generateSequence</a> actually shows a Fibonacci implementation as example.</p>\n\n<pre><code>fun fibonacci(): Sequence&lt;Int&gt; {\n    // fibonacci terms\n    // 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946, ...\n    return generateSequence(Pair(0, 1), { Pair(it.second, it.first + it.second) }).map { it.first }\n}\n\nprintln(fibonacci().take(10).toList()) // [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\n</code></pre>\n"}], "owner": {"reputation": 1265, "user_id": 799162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e1f76d0470d76487a3355b2ebf419f2?s=128&d=identicon&r=PG", "display_name": "moxi", "link": "https://stackoverflow.com/users/799162/moxi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 1, "accepted_answer_id": 45630946, "answer_count": 3, "score": 2, "last_activity_date": 1502539743, "creation_date": 1502441208, "last_edit_date": 1502443409, "question_id": 45630776, "link": "https://stackoverflow.com/questions/45630776/how-to-achieve-a-pure-function-with-dynamic-programming-in-kotlin", "title": "How to achieve a pure function with dynamic programming in Kotlin?", "body": "<p>I've been trying to transform some of my code to pure functions to learn how to use Kotlin in a functional way, with this simple snippet of code I can't think of any way to make my <code>calculateFibonacci</code> function a pure function. </p>\n\n<p>I'm aware of a potentially recursive solution but what about a potential stack overflow, does Kotlin implement Tail Call Optimization? </p>\n\n<p>Example:</p>\n\n<pre><code>     val fibonacciValues = hashMapOf&lt;Int, BigInteger&gt;(0 to BigInteger.ONE, 1 to BigInteger.ONE);\n\n // * TODO investigate how to do dynamic programming with a pure function ** //\n    private fun calculateFibonacci(n: Int): BigInteger? {\n        if (fibonacciValues.contains(n)) {\n            return fibonacciValues.get(n)\n        } else {\n            val f = calculateFibonacci(n - 2)!!.add(calculateFibonacci(n - 1))\n\n            fibonacciValues.put(n, f)\n            return f\n        }\n    }\n</code></pre>\n\n<p>For the whole snippet I uploaded this gist:\n<a href=\"https://gist.github.com/moxi/e30f8e693bf044e8b6b80f8c05d4ac12\" rel=\"nofollow noreferrer\">https://gist.github.com/moxi/e30f8e693bf044e8b6b80f8c05d4ac12</a></p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2164, "user_id": 1957951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A6qAz.png?s=128&g=1", "display_name": "Gergely Lukacsy", "link": "https://stackoverflow.com/users/1957951/gergely-lukacsy"}, "edited": false, "score": 0, "creation_date": 1502439347, "post_id": 45630007, "comment_id": 78219470, "body": "nice explanation"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 4, "last_activity_date": 1502517740, "last_edit_date": 1502517740, "creation_date": 1502438655, "answer_id": 45630007, "question_id": 45629958, "link": "https://stackoverflow.com/questions/45629958/refer-to-generic-type-in-kotlin/45630007#45630007", "title": "Refer to Generic type in Kotlin", "body": "<p>You give the method its own type argument:</p>\n\n<pre>fun <b>&lt;T&gt;</b> useFragment(f: GenericClass&lt;T>) {\n   f.anOperation()\n}</pre>\n\n<p>Notice the <code>&lt;T&gt;</code> after <code>fun</code>.</p>\n\n<p>Kotlin doesn't have raw types, so you <em>need</em> to specify a generic type for <code>GenericClass</code>. You can also use the wildcard:</p>\n\n<pre><code>fun useFragment(f: GenericClass&lt;*&gt;) {\n   f.anOperation()\n}\n</code></pre>\n\n<p>In this case, there's no difference.</p>\n\n<p>Also, the inheritance in your question is invalid - <code>GenericClass</code> is a final class and cannot be extended. You should add the <code>open</code> modifier to <code>GenericClass</code>.</p>\n\n<p>You might even want to make it <code>abstract</code> instead, as it doesn't look like it should be used on its own.</p>\n"}], "owner": {"reputation": 4900, "user_id": 2037846, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d845eabfae27fddeab72524c1292384?s=128&d=identicon&r=PG", "display_name": "MichelReap", "link": "https://stackoverflow.com/users/2037846/michelreap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 45630007, "answer_count": 1, "score": 0, "last_activity_date": 1502517740, "creation_date": 1502438499, "last_edit_date": 1502438942, "question_id": 45629958, "link": "https://stackoverflow.com/questions/45629958/refer-to-generic-type-in-kotlin", "title": "Refer to Generic type in Kotlin", "body": "<p>With the following class structure:</p>\n\n<pre><code>abstract class GenericClass&lt;T: Fragment&gt; {\n  protected lateinit var fragment: T\n\n  fun anOperation(){\n     //do something\n  }\n}\n\nclass ConcreteA: GenericClass&lt;AFragment&gt; {\n\n}\n\nclass ConcreteB: GenericClass&lt;BFragment&gt;{\n}\n</code></pre>\n\n<p>How can I achieve this?</p>\n\n<pre><code>fun useFragment(f:GenericClass){\n\n   f.anOperation()\n\n}\n</code></pre>\n\n<p>When I declare the <code>useFragment</code> function I get \"<code>One type argument expected for class GenericClass</code>\"</p>\n"}, {"tags": ["android", "unit-testing", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1527779140, "post_id": 45628943, "comment_id": 88264808, "body": "I&#39;m having the same problem here, but only for androidTest tests. Tests with &quot;pure&quot; JUnit run fine."}], "owner": {"reputation": 877, "user_id": 4478952, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cc7f24bde3ad85fb2fa86625272bcadb?s=128&d=identicon&r=PG&f=1", "display_name": "Phantom", "link": "https://stackoverflow.com/users/4478952/phantom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1502435074, "creation_date": 1502435074, "question_id": 45628943, "link": "https://stackoverflow.com/questions/45628943/kotlin-unit-test-always-passes-when-run-from-android-studio-ui", "title": "Kotlin Unit Test Always passes when run from Android Studio UI", "body": "<p>I'm trying to implement some Unit Tests with Kotlin in my application. The problem that occurs is that when I run the test from the UI, the test always passes, whatever I do. If I run the test from the terminal, everything goes as expected, the test fails when given the incorrect values. Does anyone knows why this happens? Is it a problem from Android Studio? Is there a way to solve it?\nEven this test passes when run from the UI</p>\n\n<pre><code>@Test\nfun testMe() {\n    assertEquals(true, false)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 0, "creation_date": 1502473463, "post_id": 45629615, "comment_id": 78241490, "body": "10x. I think it worth to specifically state: it is not allowed to define a getter to a <code>const val</code> property."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 10, "last_activity_date": 1502437330, "creation_date": 1502437330, "answer_id": 45629615, "question_id": 45628861, "link": "https://stackoverflow.com/questions/45628861/kotlin-why-the-compiler-needs-the-const-modifier/45629615#45629615", "title": "Kotlin: why the compiler needs the `const` modifier?", "body": "<p>The <code>const</code> modifier seriously changes the contract of a property. </p>\n\n<p>For example, if you have a regular property, you may add a special getter to it without affecting the code which uses it.</p>\n\n<p>On the other hand, you would have to recompile the user code in order to remove <code>const</code> and add getters. In other words, you loose the advantage of having a property over a field.</p>\n"}, {"comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 3, "creation_date": 1502438007, "post_id": 45629696, "comment_id": 78218688, "body": "&quot;If you declare something to be const, the compiler can slap your finger when you try to change it.&quot; - isn&#39;t this the case with <code>val</code>, already?"}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 3, "last_activity_date": 1502437669, "creation_date": 1502437669, "answer_id": 45629696, "question_id": 45628861, "link": "https://stackoverflow.com/questions/45628861/kotlin-why-the-compiler-needs-the-const-modifier/45629696#45629696", "title": "Kotlin: why the compiler needs the `const` modifier?", "body": "<p>Such keywords are helpful in <strong>two</strong> ways:</p>\n\n<ul>\n<li>They allow the compiler to make stronger assumptions. This enables A)  all kinds of optimization techniques B) stricter checking. If you declare something to be <code>const</code>, the compiler can slap your finger when you try to change it.</li>\n<li>They <em>express</em> <strong>intention</strong>. Keep in mind that you do not write code to make the compiler happy - but to communicate to other humans reading this code later on. </li>\n</ul>\n\n<p>Meaning: if you don't put down <em>const</em> in your source code today - but you also have no statements <em>modifying</em> that field ... does that mean you intend that value to be a constant? Would you mind if somebody else adds code that re-assigns that field in some place? By using <code>const</code> you make it clear that you do <em>not</em> wish that this ever happens.</p>\n"}, {"tags": [], "owner": {"reputation": 563, "user_id": 975857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S2kzl.jpg?s=128&g=1", "display_name": "Ari Lacenski", "link": "https://stackoverflow.com/users/975857/ari-lacenski"}, "is_accepted": false, "score": 1, "last_activity_date": 1518719018, "creation_date": 1518719018, "answer_id": 48813948, "question_id": 45628861, "link": "https://stackoverflow.com/questions/45628861/kotlin-why-the-compiler-needs-the-const-modifier/48813948#48813948", "title": "Kotlin: why the compiler needs the `const` modifier?", "body": "<p>I found <a href=\"https://medium.com/@BladeCoder/exploring-kotlins-hidden-costs-part-1-fbb9935d9b62\" rel=\"nofollow noreferrer\">Christophe Beyls's article</a> helpful for understanding the \"compile-time optimization\" of using <code>const</code>. </p>\n\n<p>Public <code>const vals</code> are converted to values that are accessed directly. Public <code>vals</code> are converted to <em>private</em>  bytecode values and a synthetic getter is generated.</p>\n\n<p>You can try it yourself by opening up the Kotlin bytecode viewer in Intellij or Android Studio, creating an <code>object</code> for some test values, and looking at the synthetic method generated for <code>val</code> versus <code>const val</code>. </p>\n\n<p>I'm working with an object that defines about 200 constants, and a much smaller file is generated when they're all marked <code>const val</code>.</p>\n"}], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 2, "accepted_answer_id": 45629615, "answer_count": 3, "score": 6, "last_activity_date": 1518719018, "creation_date": 1502434713, "last_edit_date": 1592644375, "question_id": 45628861, "link": "https://stackoverflow.com/questions/45628861/kotlin-why-the-compiler-needs-the-const-modifier", "title": "Kotlin: why the compiler needs the `const` modifier?", "body": "<p>In Kotlin there are:</p>\n<ul>\n<li><code>val</code> - readonly property</li>\n<li><code>const val</code> - compile-time constants</li>\n</ul>\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/properties.html#compile-time-constants\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>Compile-Time Constants</strong></p>\n<p>Properties the value of which is known at compile time can be marked as compile time constants using the <code>const</code> modifier. Such properties need to fulfill the following requirements:</p>\n<ul>\n<li>Top-level or member of an object</li>\n<li>Initialized with a value of type String or a primitive type</li>\n<li>No custom getter</li>\n</ul>\n</blockquote>\n<p>Given that kotlin compiler does know to identify initialized values (such as there is no need defining the variable type in an initializer):</p>\n<ul>\n<li>Why does the compiler needs the programmer's assistance?</li>\n<li>Can't it identify &quot;properties the value of which is known at compile time&quot; and &quot;add&quot; the <code>const</code> modifier by itself?</li>\n</ul>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "edited": false, "score": 0, "creation_date": 1502434061, "post_id": 45627331, "comment_id": 78216527, "body": "Seem like puzzle with small input . Share your build.gradle it may help to come out for solution."}], "answers": [{"tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": false, "score": 1, "last_activity_date": 1502429248, "creation_date": 1502429248, "answer_id": 45627558, "question_id": 45627331, "link": "https://stackoverflow.com/questions/45627331/unresolved-reference-databinding/45627558#45627558", "title": "Unresolved reference: databinding", "body": "<p>Add this dependency in <code>gradle</code> for <code>Kotlin</code> to work with <code>databinding</code></p>\n\n<pre><code>kapt \"com.android.databinding:compiler:2.3.3\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2653, "user_id": 2170074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nd4pI.jpg?s=128&g=1", "display_name": "dgngulcan", "link": "https://stackoverflow.com/users/2170074/dgngulcan"}, "is_accepted": false, "score": 7, "last_activity_date": 1503347186, "creation_date": 1503347186, "answer_id": 45805033, "question_id": 45627331, "link": "https://stackoverflow.com/questions/45627331/unresolved-reference-databinding/45805033#45805033", "title": "Unresolved reference: databinding", "body": "<p>Try adding kapt and apply the plugin in your module level <code>.gradle</code> file</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\n//..\n\ndependencies {\n   //..\n    kapt 'com.android.databinding:compiler:2.3.2'\n   //..\n}\n</code></pre>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2316, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1503347186, "creation_date": 1502427943, "last_edit_date": 1592644375, "question_id": 45627331, "link": "https://stackoverflow.com/questions/45627331/unresolved-reference-databinding", "title": "Unresolved reference: databinding", "body": "<p>I'm using Android Studio Beta 1 with <code>Android Gradle Plugin 3.0.0-beta1</code> and <code>Kotlin Plugin 1.1.3-2</code>. I also have data binding enabled:</p>\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n<p>But unfortunately Kotlin classes don't see generated classes from layouts, cause I get errors like this one:</p>\n<blockquote>\n<p>Error:(17, 31) Unresolved reference: databinding</p>\n<p>Error:(39, 36) Unresolved reference: MyFragmentBinding</p>\n</blockquote>\n<p>Of course Java classes see these generated classes.</p>\n"}, {"tags": ["android", "user-interface", "kotlin", "textview"], "comments": [{"owner": {"reputation": 525, "user_id": 6198751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwpYD.jpg?s=128&g=1", "display_name": "Nick Asher", "link": "https://stackoverflow.com/users/6198751/nick-asher"}, "edited": false, "score": 0, "creation_date": 1502427767, "post_id": 45626957, "comment_id": 78213803, "body": "I would try a different approach here, I would use a webview here and set the image and text in there"}, {"owner": {"reputation": 257, "user_id": 7218592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767103e987042b4aff38517818b8b8a3?s=128&d=identicon&r=PG&f=1", "display_name": "krsnk", "link": "https://stackoverflow.com/users/7218592/krsnk"}, "reply_to_user": {"reputation": 525, "user_id": 6198751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwpYD.jpg?s=128&g=1", "display_name": "Nick Asher", "link": "https://stackoverflow.com/users/6198751/nick-asher"}, "edited": false, "score": 0, "creation_date": 1502428231, "post_id": 45626957, "comment_id": 78213935, "body": "Webview is not an option because there are several custom clickable spans that I need to handle. I can&#39;t abandon them :("}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 2, "creation_date": 1502447344, "post_id": 45626957, "comment_id": 78224692, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2248759/how-to-layout-text-to-flow-around-an-image\">How to layout text to flow around an image</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": 0, "last_activity_date": 1542655027, "creation_date": 1542655027, "answer_id": 53381224, "question_id": 45626957, "link": "https://stackoverflow.com/questions/45626957/flow-textview-around-image/53381224#53381224", "title": "Flow textview around image", "body": "<p>This is more a suggestion that will only work with a little trial and error<br/>\nThis code uses a multi line Edit Text<br/></p>\n\n<pre><code>        btnPrint.setOnClickListener {\n        val str = \"\"\"\n        One\n        Two\n        Three\n        Now click Action Button Custom SB\n        \"\"\".trimIndent()\n        etNews.setText(str)\n    }\n</code></pre>\n\n<p>Play with the One Two values indent and trimIndent has other properties available </p>\n"}], "owner": {"reputation": 257, "user_id": 7218592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/767103e987042b4aff38517818b8b8a3?s=128&d=identicon&r=PG&f=1", "display_name": "krsnk", "link": "https://stackoverflow.com/users/7218592/krsnk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1204, "favorite_count": 7, "answer_count": 1, "score": 10, "last_activity_date": 1542655027, "creation_date": 1502425660, "last_edit_date": 1502471638, "question_id": 45626957, "link": "https://stackoverflow.com/questions/45626957/flow-textview-around-image", "title": "Flow textview around image", "body": "<p>I've spent hours looking for answer and have really no idea how to solve it. So let's get down to business:</p>\n\n<p>There is an image and a <code>TextView</code> and I need to flow the <code>TextView</code> around the <code>ImageView</code> like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kXUIG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kXUIG.png\" alt=\"enter image description here\"></a></p>\n\n<p>First possible solution woult be to use <a href=\"https://github.com/deano2390/FlowTextView\" rel=\"noreferrer\">https://github.com/deano2390/FlowTextView</a> but it's not extending <code>TextView</code> so this library is not suitable for me for number of reasons.</p>\n\n<p>Second solution would be to use <code>LeadingMarginSpan.LeadingMarginSpan2</code> span but it affects on <strong>each</strong> paragraph for each n lines inside the text (like in this answer -> <a href=\"https://stackoverflow.com/questions/2248759/how-to-layout-text-to-flow-around-an-image\">How to layout text to flow around an image</a>), so I get smth like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xixuw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xixuw.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I wanted to set margin only for first n lines! Then I decided to implement <code>LeadingMarginSpan.Standart</code> and create a counter and increment it in <code>getLeadingMargin(first: Boolean): Int</code> function invocation. When the counter reach the desirable value, the function returns 0 as a margin width. And there is a fail again! Instead of filling the <code>TextView</code> lines, the text just moved left and didn't spread to the end of the view! </p>\n\n<p>UPD: Yes, I've used <code>onGlobalLayoutListener</code> in here</p>\n\n<p><a href=\"https://i.stack.imgur.com/7dFGE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7dFGE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Well, googling for another solution I found this answer <a href=\"https://stackoverflow.com/a/27064368/7218592\">https://stackoverflow.com/a/27064368/7218592</a>\nOk, I've done everything as described and implemented the code: </p>\n\n<pre><code>            //set left margin of desirable width\n            val params: RelativeLayout.LayoutParams = RelativeLayout.LayoutParams(\n                    ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n            params.leftMargin = holder.imageContainerHeight!!\n            params.addRule(RelativeLayout.BELOW, holder.mNumberAndTimeInfo!!.id)\n            holder.mCommentTextView!!.layoutParams = params\n            if (holder.commentTextViewOnGlobalLayoutListener != null)\n                holder.mCommentTextView!!.viewTreeObserver.removeOnGlobalLayoutListener(\n                        holder.commentTextViewOnGlobalLayoutListener)\n\n            //add onGlobalLayoutListener\n            holder.mCommentTextView!!.viewTreeObserver.addOnGlobalLayoutListener(\n                    if (holder.commentTextViewOnGlobalLayoutListener != null)\n                        holder.commentTextViewOnGlobalLayoutListener\n                    else CommentTextViewOnGlobalLayoutListener(holder,\n                            SpannableString(HtmlCompat.fromHtml(\n                            mView.getActivity(), commentDocument.html(), 0,\n                            null, SpanTagHandlerCompat(mView.getActivity())))))`\n</code></pre>\n\n<p>My <code>OnGlobalLayoutListener</code> looks like this: `</p>\n\n<pre><code>class CommentTextViewOnGlobalLayoutListener(\n            val holder: CommentAndFilesListViewViewHolder, val commentSpannable: Spannable) :\n            ViewTreeObserver.OnGlobalLayoutListener {\n        val LOG_TAG: String = CommentTextViewOnGlobalLayoutListener::class.java.simpleName\n\n override fun onGlobalLayout() {\n        holder.mCommentTextView!!.viewTreeObserver.removeGlobalOnLayoutListener(this)\n\n        //when textview layout is drawn, get the line end to spanify only the needed text\n        val charCount = holder.mCommentTextView!!.layout.getLineEnd(Math.min(\n                holder.mCommentTextView!!.layout.lineCount - 1,\n                CommentLeadingMarginSpan.computeLinesToBeSpanned(holder)))\n        if (charCount &lt;= commentSpannable.length) {\n            commentSpannable.setSpan(CommentLeadingMarginSpan(holder),\n                    0, charCount, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE)\n        }\n\n        //set the left margin back to zero\n        (holder.mCommentTextView!!.layoutParams as RelativeLayout.LayoutParams).leftMargin = 0\n        holder.mCommentTextView!!.text = commentSpannable\n    }\n}\n</code></pre>\n\n<p>`</p>\n\n<p>Well, it works. But how terrible it works! As I'm using view holder pattern I have to hold a variable to the listener and remove if it is not been called and successfully removed because <code>onGlobalLayout</code> function wasn't called in time! And it is called too late, so you need to wait about 300 ms and then watch all the \"reconstruction\" of the <code>TextView</code> and it looks disgustingly! </p>\n\n<p>So, my question is:\n<strong>How to make margins for <em>first</em> n lines in <code>TextView</code>, before it's been drawn on UI?</strong></p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502427729, "post_id": 45626189, "comment_id": 78213788, "body": "just to clear one thing: Do you know debounce works with a timespan? To make debounce work you have to check and uncheck switch within 3 seconds according to your code. Try using a button for dummy purpose and check if it works."}, {"owner": {"reputation": 147, "user_id": 4068898, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4704f6200a01924496f79ec22645ea11?s=128&d=identicon&r=PG&f=1", "display_name": "scottazord", "link": "https://stackoverflow.com/users/4068898/scottazord"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502429032, "post_id": 45626189, "comment_id": 78214236, "body": "Thanks for replying, yes i do and that&#39;s exactly what i&#39;m trying to achieve."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502429380, "post_id": 45626189, "comment_id": 78214373, "body": "Can you post your all code related to it? Because the code you have given does not explain your how are u trying to achieve it. It looks like you are creating a custom Swtich class and then doing something."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 4068898, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4704f6200a01924496f79ec22645ea11?s=128&d=identicon&r=PG&f=1", "display_name": "scottazord", "link": "https://stackoverflow.com/users/4068898/scottazord"}, "edited": false, "score": 1, "creation_date": 1502517175, "post_id": 45628609, "comment_id": 78252781, "body": "Thanks mate, that did the job!"}], "tags": [], "owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "is_accepted": true, "score": 3, "last_activity_date": 1502433783, "creation_date": 1502433783, "answer_id": 45628609, "question_id": 45626189, "link": "https://stackoverflow.com/questions/45626189/rxjava-debounce-onnext/45628609#45628609", "title": "RxJava Debounce onNext()", "body": "<p>If this is your actual code I think the problem is not related to <code>debounce</code> at all. Like most Rx operators, <code>debounce</code> <em>returns a new Observable</em> - it does not change the one that <code>timer</code> is pointing to.</p>\n\n<p>So, since you are not storing the reference returned by <code>debounce</code> anywhere, essentially nothing happens.</p>\n\n<p>Try: <code>timer = timer.debounce(3, TimeUnit.SECONDS)</code></p>\n"}, {"tags": [], "owner": {"reputation": 477, "user_id": 5620989, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6f223028fdd8c7be105d755b88d8be1f?s=128&d=identicon&r=PG&f=1", "display_name": "ildar ishalin", "link": "https://stackoverflow.com/users/5620989/ildar-ishalin"}, "is_accepted": false, "score": 1, "last_activity_date": 1502446931, "creation_date": 1502446931, "answer_id": 45632827, "question_id": 45626189, "link": "https://stackoverflow.com/questions/45626189/rxjava-debounce-onnext/45632827#45632827", "title": "RxJava Debounce onNext()", "body": "<p>You should use <a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"nofollow noreferrer\">RxBinding library</a> from Jake Wharton. It wraps android widgets into Rx. For you there is RxCompoundButton, which you can use like this:</p>\n\n<pre><code>RxCompoundButton.checkedChanges(switchCompat)\n    .debounce(3, TimeUnit.SECONDS)\n    .subscribe();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 953, "user_id": 6763724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KasE6zPK7mA/AAAAAAAAAAI/AAAAAAAAABQ/r3oBivz_Atg/photo.jpg?sz=128", "display_name": "Gary LO", "link": "https://stackoverflow.com/users/6763724/gary-lo"}, "is_accepted": false, "score": 0, "last_activity_date": 1502466603, "creation_date": 1502466603, "answer_id": 45639165, "question_id": 45626189, "link": "https://stackoverflow.com/questions/45626189/rxjava-debounce-onnext/45639165#45639165", "title": "RxJava Debounce onNext()", "body": "<p>if you are using Kotlin &amp; <a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"nofollow noreferrer\">RxBinding Kotlin Version</a>. You can express in your custom CompoundButton</p>\n\n<pre><code>import com.jakewharton.rxbinding.widget.checkedChanges\n\nclass CustomCompoundButton: CompoundButton {\n    constructor(context: Context): super(context, null)\n\n    constructor(context: Context, attrs: AttributeSet?): super(context, attrs, 0)\n\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int): super(context, attrs, defStyleAttr, 0)\n\n    fun throttledCheckedChanges() { \n        return this.checkedChanges().debounce(3, TimeUnit.SECONDS)\n    }\n    // OR\n    val throttledCheckedChanges by lazy {\n        this.checkedChanges().debounce(3, TimeUnit.SECONDS)\n    }\n\n}\n\n // Use it in your activity/ fragment\n customCompoundButton.throttledCheckedChanges().subscribe { /* do sth */ }\n // OR\n customCompoundButton.throttledCheckedChanges.subscribe { /* do sth */ }\n</code></pre>\n\n<p>if you are NOT allowed to use <a href=\"https://github.com/JakeWharton/RxBinding\" rel=\"nofollow noreferrer\">RxBinding</a> in your project. You should take a look <a href=\"https://github.com/JakeWharton/RxBinding/blob/280882b29ac85861885df9880f65655ea4a31464/rxbinding/src/main/java/com/jakewharton/rxbinding2/widget/CompoundButtonCheckedChangeObservable.java\" rel=\"nofollow noreferrer\">CompoundButtonCheckedChangeObservable.java</a> for creating a Rx wrapper.</p>\n"}], "owner": {"reputation": 147, "user_id": 4068898, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4704f6200a01924496f79ec22645ea11?s=128&d=identicon&r=PG&f=1", "display_name": "scottazord", "link": "https://stackoverflow.com/users/4068898/scottazord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "accepted_answer_id": 45628609, "answer_count": 3, "score": 0, "last_activity_date": 1502466603, "creation_date": 1502419798, "question_id": 45626189, "link": "https://stackoverflow.com/questions/45626189/rxjava-debounce-onnext", "title": "RxJava Debounce onNext()", "body": "<p>I'm trying to debounce clicks/swipes for my SwitchCompat with no success. \nThe below code looks fine, though onNext isn't going through debounce() ie: When a user spams the switch, onNext is being called for every click, not being omitted due to debounce. </p>\n\n<p>It should be working, this a bug with RxJava?</p>\n\n<pre><code>    timer = Observable.create { subscriber: Subscriber&lt;in Void&gt;? -&gt;\n        super.setOnCheckedChangeListener { buttonView, isChecked -&gt;\n            subscriber?.onNext(null)\n        }\n    }\n    timer.debounce(3,TimeUnit.SECONDS)\n</code></pre>\n"}, {"tags": ["android", "enums", "android-widget", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 2, "last_activity_date": 1502420426, "creation_date": 1502420426, "answer_id": 45626280, "question_id": 45625121, "link": "https://stackoverflow.com/questions/45625121/properly-extend-a-widget-class-using-kotlin/45626280#45626280", "title": "Properly extend a Widget class using Kotlin", "body": "<p>Your code treat the <code>State</code> as a parameter for changing the button state only. It does not necessary to be declared inside the subclass of Button. You can declare it outside of it with an extension function.</p>\n\n<pre><code>enum class ButtonState { unable, enable }\n\nfun Button.configureWith(state: ButtonState, colorInt: Int = Color.BLACK) = when (state) {\n    ButtonState.unable -&gt; {\n        clickable = false\n        setBackgroundColor(Color.LTGRAY)\n    }\n    ButtonState.enable -&gt; {\n        clickable = true\n        setBackgroundColor(colorInt)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2784, "user_id": 4846736, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/EXXDZ.png?s=128&g=1", "display_name": "Lamour", "link": "https://stackoverflow.com/users/4846736/lamour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 45626280, "answer_count": 1, "score": 0, "last_activity_date": 1502420426, "creation_date": 1502409859, "last_edit_date": 1502410536, "question_id": 45625121, "link": "https://stackoverflow.com/questions/45625121/properly-extend-a-widget-class-using-kotlin", "title": "Properly extend a Widget class using Kotlin", "body": "<p>The code below is basically changing the state of a Button Widget:</p>\n\n<pre><code>enum class State {  unable, enable }\n\nfun configureState(currentState:State, button:Button ,colorInt :Int = Color.BLACK) = when (currentState)\n{\n    State.unable -&gt; {\n        button.isClickable = false\n        button.setBackgroundColor(Color.LTGRAY)\n        button.setTextColor(Color.WHITE)\n    }\n\n    State.enable -&gt; {\n        button.isClickable = true\n        button.setBackgroundColor(colorInt)\n        button.setTextColor(Color.WHITE)\n    }\n}\n</code></pre>\n\n<p><strong>The goal is to extend the Button Widget and avoid code repetition inside all my activities.</strong></p>\n\n<p>Yes it is easy to just extend via function, if I didn't have the <code>enum State</code>, by doing something like this:</p>\n\n<pre><code>fun Button.configureState(state:Int) = when(state) {\n     0 -&gt; {  //do unable stuff  }\n     1 -&gt; {  // do enable stuff } \n     else -&gt; { // do nada }\n}\n</code></pre>\n\n<blockquote>\n  <p>My question would be what's the proper way to extend with the enum state where I could access it via Extension Function for example:</p>\n</blockquote>\n\n<pre><code>fun Button.configureWith(state: this.State) = when (state) {\n    this.State.unable -&gt; { }\n    this.State.enable -&gt; { } \n}\n</code></pre>\n\n<p>P.S again: I'm new to Kotlin :), any ideas .. all welcome :) </p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 12, "last_activity_date": 1502398838, "creation_date": 1502398838, "answer_id": 45623397, "question_id": 45623354, "link": "https://stackoverflow.com/questions/45623354/room-aac-sqlite-error-sql-error-or-missing-database-near-group-syntax-e/45623397#45623397", "title": "Room (AAC): [SQLITE_ERROR] SQL error or missing database (near &quot;group&quot;: syntax error)", "body": "<p><code>GROUP</code> is a <a href=\"https://sqlite.org/lang_keywords.html\" rel=\"noreferrer\">reserved keyword in SQLite</a>. You cannot name a table (or anything else) <code>GROUP</code>. Use the <code>tableName</code> property on the <code>@Entity</code> annotation to rename the table to something else, then use that table name in your <code>@Query</code>.</p>\n"}], "owner": {"reputation": 195, "user_id": 6294509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f0be8eb66e698fedebea97931a7348b?s=128&d=identicon&r=PG&f=1", "display_name": "m43x", "link": "https://stackoverflow.com/users/6294509/m43x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2498, "favorite_count": 0, "accepted_answer_id": 45623397, "answer_count": 1, "score": 7, "last_activity_date": 1502398838, "creation_date": 1502398658, "question_id": 45623354, "link": "https://stackoverflow.com/questions/45623354/room-aac-sqlite-error-sql-error-or-missing-database-near-group-syntax-e", "title": "Room (AAC): [SQLITE_ERROR] SQL error or missing database (near &quot;group&quot;: syntax error)", "body": "<p>Following Dao doesn't build in my Android App:</p>\n\n<pre><code>@Dao\ninterface GroupDao {\n\n    @Insert\n    fun insert(group: Group)\n\n    @Query(\"SELECT * FROM group\")\n    fun loadAll(): LiveData&lt;List&lt;Group&gt;&gt;\n}\n</code></pre>\n\n<p>When I build the project in Android Studio 3 I get the following error on gradle build step:</p>\n\n<p>:app:kaptDebugKotlin</p>\n\n<blockquote>\n  <p>e:\n  C:\\workspaces\\SystemicConsensusKotlin\\app\\build\\tmp\\kapt3\\stubs\\debug\\de\\maxdobler\\systemicconsensus\\group\\GroupDao.java:13:\n  error: There is a problem with the query: [SQLITE_ERROR] SQL error or\n  missing database (near \"group\": syntax error)</p>\n  \n  <p>e:     public abstract\n  android.arch.lifecycle.LiveData>\n  loadAll();</p>\n</blockquote>\n\n<p>If I remove the loadAll function everything works like a charm...\nWhat is the problem with this function?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "bottomnavigationview"], "answers": [{"comments": [{"owner": {"reputation": 1485, "user_id": 2593123, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/YsoM9.png?s=128&g=1", "display_name": "arcade16", "link": "https://stackoverflow.com/users/2593123/arcade16"}, "edited": false, "score": 0, "creation_date": 1502397322, "post_id": 45622912, "comment_id": 78205657, "body": "How would I load my HomeFragment in this case? Is fragmentInstance HomeFragment? And should containerViewId become R.layout.activity_main? Also what is &quot;TAG&quot;?"}, {"owner": {"reputation": 7301, "user_id": 1812633, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TrUYx.jpg?s=128&g=1", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/1812633/sourabh"}, "reply_to_user": {"reputation": 1485, "user_id": 2593123, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/YsoM9.png?s=128&g=1", "display_name": "arcade16", "link": "https://stackoverflow.com/users/2593123/arcade16"}, "edited": false, "score": 1, "creation_date": 1502433884, "post_id": 45622912, "comment_id": 78216430, "body": "<code>fragmentInstance</code> is instance of your HomeFragment or any other fragment you want. <code>containerViewId</code> is id of top level view in your <code>activity_main</code> file. <code>&quot;TAG&quot;</code> is just a tag you can use to get the fragment again from fragment manager"}], "tags": [], "owner": {"reputation": 7301, "user_id": 1812633, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TrUYx.jpg?s=128&g=1", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/1812633/sourabh"}, "is_accepted": true, "score": 0, "last_activity_date": 1502396850, "creation_date": 1502396850, "answer_id": 45622912, "question_id": 45622157, "link": "https://stackoverflow.com/questions/45622157/how-to-load-fragment-on-bottomnavigationview-depending-on-selected-item/45622912#45622912", "title": "How to load fragment on BottomNavigationView depending on selected item?", "body": "<p>Instead of <code>message.setText(R.string.title_enrollments)</code> do</p>\n\n<pre><code>supportFragmentManager.beginTransaction()\n    .replace(containerViewId, fragmentInstance, \"TAG\")\n    .commitAllowingStateLoss()\n</code></pre>\n\n<p>Or you can use an extension function I use in my code to make it cleaner. Just add this in some <code>.kt</code> file</p>\n\n<pre><code>inline fun FragmentManager.transactStateless(func: FragmentTransaction.() -&gt; Unit) {\n    val transaction = beginTransaction()\n    transaction.func()\n    transaction.commitAllowingStateLoss()\n}\n</code></pre>\n\n<p>and now you can add remove fragment this way:</p>\n\n<pre><code>supportFragmentManager.transactStateless {\n    replace(containerViewId, fragmentInstance, \"TAG\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1485, "user_id": 2593123, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/YsoM9.png?s=128&g=1", "display_name": "arcade16", "link": "https://stackoverflow.com/users/2593123/arcade16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "accepted_answer_id": 45622912, "answer_count": 1, "score": 1, "last_activity_date": 1502396850, "creation_date": 1502393648, "question_id": 45622157, "link": "https://stackoverflow.com/questions/45622157/how-to-load-fragment-on-bottomnavigationview-depending-on-selected-item", "title": "How to load fragment on BottomNavigationView depending on selected item?", "body": "<p>I have a simple application written in Kotlin that has a BottomNavigationView. The idea is to have a single activity (MainActivity) with a fragment to be loaded for each tab on the BottomNavigationView. </p>\n\n<p>I have already created a fragment I would like to load when a tab is selected (HomeFragment) and am already changing the text under the icons on the BottomNavigationView when the active tab changes.</p>\n\n<p>Now I would like to inflate / load the fragment when I change tabs. How would I go about doing this?</p>\n\n<p>MainActivity.kt:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.navigation_enrollments -&gt; {\n                message.setText(R.string.title_enrollments)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_timeline -&gt; {\n                message.setText(R.string.title_timeline)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_home -&gt; {\n                message.setText(R.string.title_home)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_alerts -&gt; {\n                message.setText(R.string.title_alerts)\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_profile -&gt; {\n                message.setText(R.string.title_profile)\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    }\n\n    override fun onResume() {\n        super.onResume()\n\n        setContentView(R.layout.activity_main)\n\n        val bottomNavigationView = findViewById&lt;BottomNavigationView&gt;(R.id.navigation)\n        bottomNavigationView.selectedItemId = R.id.navigation_home\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 1, "creation_date": 1502389738, "post_id": 45620975, "comment_id": 78201596, "body": "delete your build folders and try again."}, {"owner": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "reply_to_user": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "edited": false, "score": 0, "creation_date": 1502390206, "post_id": 45620975, "comment_id": 78201851, "body": "@BhuvaneshBs works! Many thanks"}], "answers": [{"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": true, "score": 0, "last_activity_date": 1502390303, "creation_date": 1502390303, "answer_id": 45621236, "question_id": 45620975, "link": "https://stackoverflow.com/questions/45620975/nullpointerexception-in-android-studio-3-beta-1/45621236#45621236", "title": "NullPointerException in Android Studio 3 Beta 1", "body": "<p>Delete Build folders and try again</p>\n"}], "owner": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "closed_date": 1502391169, "accepted_answer_id": 45621236, "answer_count": 1, "score": 0, "last_activity_date": 1502390303, "creation_date": 1502389416, "question_id": 45620975, "link": "https://stackoverflow.com/questions/45620975/nullpointerexception-in-android-studio-3-beta-1", "closed_reason": "Duplicate", "title": "NullPointerException in Android Studio 3 Beta 1", "body": "<p>I have updated to Android Studio from Canary 9 to Beta 1 and I got this error when open my project.</p>\n\n<p>I have invalidate cache and restart but not lucky.</p>\n\n<p>My gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.3'\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'io.fabric.tools:gradle:1.+'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<blockquote>\n  <p>Error:Cause: java.lang.NullPointerException   at\n  sun.nio.fs.UnixPath.normalizeAndCheck(UnixPath.java:77)   at\n  sun.nio.fs.UnixPath.(UnixPath.java:71)  at\n  sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:281)    at\n  java.nio.file.Paths.get(Paths.java:84)    at\n  com.android.build.gradle.internal.scope.BuildOutput.getOutputPath(BuildOutput.java:222)\n    at\n  com.android.build.gradle.internal.scope.BuildOutputs.lambda$load$2(BuildOutputs.java:243)\n    at\n  java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at\n  java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1376)\n    at\n  java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at\n  java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at\n  java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at\n  java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at\n  java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at\n  com.android.build.gradle.internal.scope.BuildOutputs.load(BuildOutputs.java:245)\n    at\n  com.android.build.gradle.internal.scope.BuildOutputs.load(BuildOutputs.java:184)\n    at\n  com.android.build.gradle.internal.scope.BuildOutputs.load(BuildOutputs.java:140)\n    at\n  com.android.build.gradle.internal.ide.BuildOutputsSupplier.lambda$get$1(BuildOutputsSupplier.java:55)\n    at\n  com.google.common.collect.ImmutableList.forEach(ImmutableList.java:397)\n    at\n  com.android.build.gradle.internal.ide.BuildOutputsSupplier.get(BuildOutputsSupplier.java:50)\n    at\n  com.android.build.gradle.internal.ide.BuildOutputsSupplier.get(BuildOutputsSupplier.java:35)\n    at\n  com.android.build.gradle.internal.ide.AndroidArtifactImpl.getOutputs(AndroidArtifactImpl.java:134)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  org.gradle.tooling.internal.adapter.ProtocolToModelAdapter$ReflectionMethodInvoker.invoke(ProtocolToModelAdapter.java:592)\n    at\n  org.gradle.tooling.internal.adapter.ProtocolToModelAdapter$AdaptingMethodInvoker.invoke(ProtocolToModelAdapter.java:397)\n    at\n  org.gradle.tooling.internal.adapter.ProtocolToModelAdapter$PropertyCachingMethodInvoker.invoke(ProtocolToModelAdapter.java:625)\n    at\n  org.gradle.tooling.internal.adapter.ProtocolToModelAdapter$SafeMethodInvoker.invoke(ProtocolToModelAdapter.java:647)\n    at\n  org.gradle.tooling.internal.adapter.ProtocolToModelAdapter$SupportedPropertyInvoker.invoke(ProtocolToModelAdapter.java:670)\n    at\n  org.gradle.tooling.internal.adapter.ProtocolToModelAdapter$InvocationHandlerImpl.invoke(ProtocolToModelAdapter.java:356)\n    at com.sun.proxy.$Proxy202.getOutputs(Unknown Source)   at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeAndroidArtifactImpl.(IdeAndroidArtifactImpl.java:57)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeVariantImpl.lambda$new$0(IdeVariantImpl.java:60)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.ModelCache.lambda$computeIfAbsent$0(ModelCache.java:31)\n    at java.util.HashMap.computeIfAbsent(HashMap.java:1126)     at\n  com.android.tools.idea.gradle.project.model.ide.android.ModelCache.computeIfAbsent(ModelCache.java:31)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeVariantImpl.(IdeVariantImpl.java:59)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeAndroidProjectImpl.lambda$new$4(IdeAndroidProjectImpl.java:88)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.ModelCache.lambda$computeIfAbsent$0(ModelCache.java:31)\n    at java.util.HashMap.computeIfAbsent(HashMap.java:1126)     at\n  com.android.tools.idea.gradle.project.model.ide.android.ModelCache.computeIfAbsent(ModelCache.java:31)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeModel.copy(IdeModel.java:74)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeAndroidProjectImpl.(IdeAndroidProjectImpl.java:87)\n    at\n  com.android.tools.idea.gradle.project.model.ide.android.IdeAndroidProjectImpl.(IdeAndroidProjectImpl.java:68)\n    at\n  com.android.tools.idea.gradle.project.model.AndroidModuleModel.(AndroidModuleModel.java:131)\n    at\n  com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateModuleContentRoots(AndroidGradleProjectResolver.java:214)\n    at\n  org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:103)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.doResolveProjectInfo(GradleProjectResolver.java:366)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.access$200(GradleProjectResolver.java:79)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:902)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:886)\n    at\n  org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:218)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:139)\n    at\n  org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:79)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\n    at\n  com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:59)\n    at\n  com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n    at\n  com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:45)\n    at\n  com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:66)\n    at\n  com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:139)\n    at\n  com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:125)\n    at\n  com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:388)\n    at\n  com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:445)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:726)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:176)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:556)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:501)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:66)\n    at\n  com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:163)\n    at\n  com.intellij.openapi.progress.impl.ProgressManagerImpl$1.run(ProgressManagerImpl.java:137)\n    at\n  com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:334)\n    at\n  java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)     at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n"}, {"tags": ["kotlin", "kotlintest"], "answers": [{"comments": [{"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1514480699, "post_id": 45619182, "comment_id": 82991407, "body": "Actually this is not the reason. <code>text shouldEqual &quot;ABC&quot;</code> is not called in <code>init</code> block, lambda containing <code>text shouldEqual &quot;ABC&quot;</code> is only created there, not run."}], "tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 0, "last_activity_date": 1502383129, "creation_date": 1502383129, "answer_id": 45619182, "question_id": 45618878, "link": "https://stackoverflow.com/questions/45618878/how-can-i-initialize-variable-before-each-test-using-kotlin-test-framework/45619182#45619182", "title": "How can I initialize variable before each test using kotlin-test framework", "body": "<p>You have not initialized the <code>text</code> variable.\ninit called first when you create an object for a class. </p>\n\n<p>You are calling <code>text shouldEqual \"ABC\"</code> in <code>init</code> block in your code, that time there will be no value in a <code>text</code> variable.</p>\n\n<p>Your function <code>interceptTestCase(context: TestCaseContext, test: () -&gt; Unit)</code> only can be called after the <code>init</code> block.</p>\n\n<p>Initialize the text at the constructor itself like below code, so you won't get this error or make some alternative.</p>\n\n<pre><code>class KotlinTest(private val text: String): StringSpec()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 283, "user_id": 4753895, "user_type": "registered", "profile_image": "https://graph.facebook.com/467437083423533/picture?type=large", "display_name": "Lawrence Ching", "link": "https://stackoverflow.com/users/4753895/lawrence-ching"}, "is_accepted": false, "score": 2, "last_activity_date": 1503329617, "creation_date": 1503329617, "answer_id": 45800937, "question_id": 45618878, "link": "https://stackoverflow.com/questions/45618878/how-can-i-initialize-variable-before-each-test-using-kotlin-test-framework/45800937#45800937", "title": "How can I initialize variable before each test using kotlin-test framework", "body": "<p>A quick solution is to add below statement in test case:<br>\n<code>override val oneInstancePerTest = false</code></p>\n\n<p>The root cause is that oneInstancePerTest is true by default(although it's false in kotlin test doc), which means every test scenario will run in the different instances. </p>\n\n<p>In the case in question,\nThe initializing <code>interceptTestCase</code> method ran in instance <em>A</em>, set <em>text</em> to <em>ABC</em>. Then the test case ran in instance <em>B</em> without <code>interceptTestCase</code>.</p>\n\n<p>For more detail, there is an open issue in GitHub:<br>\n<a href=\"https://github.com/kotlintest/kotlintest/issues/174\" rel=\"nofollow noreferrer\">https://github.com/kotlintest/kotlintest/issues/174</a></p>\n"}], "owner": {"reputation": 283, "user_id": 4753895, "user_type": "registered", "profile_image": "https://graph.facebook.com/467437083423533/picture?type=large", "display_name": "Lawrence Ching", "link": "https://stackoverflow.com/users/4753895/lawrence-ching"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2449, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1503329617, "creation_date": 1502382032, "last_edit_date": 1502452997, "question_id": 45618878, "link": "https://stackoverflow.com/questions/45618878/how-can-i-initialize-variable-before-each-test-using-kotlin-test-framework", "title": "How can I initialize variable before each test using kotlin-test framework", "body": "<p>I'm trying to find a way to set up variable before each test. Just like the  @Before method in Junit. Go through the doc from kotlin-test, I found that I can use interceptTestCase() interface. But unfortunately, the code below will trigger exception:</p>\n\n<p><code>kotlin.UninitializedPropertyAccessException: lateinit property text has not been initialized</code></p>\n\n<pre><code>class KotlinTest: StringSpec() {\nlateinit var text:String\ninit {\n    \"I hope variable is be initialized before each test\" {\n        text shouldEqual \"ABC\"\n    }\n\n    \"I hope variable is be initialized before each test 2\" {\n        text shouldEqual \"ABC\"\n    }\n}\n\noverride fun interceptTestCase(context: TestCaseContext, test: () -&gt; Unit) {\n    println(\"interceptTestCase()\")\n    this.text = \"ABC\"\n    test()\n}\n}\n</code></pre>\n\n<p>Am I in the wrong way to use interceptTestCase()?\nThank you very much~</p>\n"}, {"tags": ["kotlin", "data-class"], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 5, "last_activity_date": 1502380333, "creation_date": 1502380333, "answer_id": 45618310, "question_id": 45617971, "link": "https://stackoverflow.com/questions/45617971/where-do-kotlin-data-classes-extend-from-can-i-augment-them/45618310#45618310", "title": "Where do Kotlin data classes extend from? Can I augment them?", "body": "<p>Kotlin's data classes do not inherit from any class (apart from <code>Any</code>/<code>java.lang.Object</code> on the JVM). As far as I know, there is no way to modify the behavior of e.g. <code>copy</code> globally for all data classes.</p>\n\n<p>The methods used for copying, destructuring etc. are individually generated for each data class. (See <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">docs</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": false, "score": 2, "last_activity_date": 1502453850, "creation_date": 1502453850, "answer_id": 45635056, "question_id": 45617971, "link": "https://stackoverflow.com/questions/45617971/where-do-kotlin-data-classes-extend-from-can-i-augment-them/45635056#45635056", "title": "Where do Kotlin data classes extend from? Can I augment them?", "body": "<p>You can not change how the Kotlin compiler generates the bytecode for data classes, so you can't change how the <code>copy</code>-function works, for example. What you can do since a recent update however, is make your data classes inherit from other classes, so you could create an abstract base class that you use for all your data classes to give them additional functionality.</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1502453850, "creation_date": 1502379228, "question_id": 45617971, "link": "https://stackoverflow.com/questions/45617971/where-do-kotlin-data-classes-extend-from-can-i-augment-them", "title": "Where do Kotlin data classes extend from? Can I augment them?", "body": "<p>I've been fiddling around with Kotlin <code>data</code> <code>class</code>es and I was thinking about whether it is possible to augment some class (which contains the functionality of <code>copy</code> for example) in order to augment all <code>data</code> <code>class</code>es?</p>\n\n<p>Is it possible to augment <code>data</code> <code>class</code>es at all?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 276, "user_id": 6528363, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206615127960213/picture?type=large", "display_name": "Milan Zelenka", "link": "https://stackoverflow.com/users/6528363/milan-zelenka"}, "edited": false, "score": 2, "creation_date": 1502442553, "post_id": 45617625, "comment_id": 78221482, "body": "This will work only until the fragment gets recreated if I&#39;m not mistaken."}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "reply_to_user": {"reputation": 276, "user_id": 6528363, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206615127960213/picture?type=large", "display_name": "Milan Zelenka", "link": "https://stackoverflow.com/users/6528363/milan-zelenka"}, "edited": false, "score": 0, "creation_date": 1502443315, "post_id": 45617625, "comment_id": 78221976, "body": "Yes. That&#39;s correct. We can either set it again after recreation, or instead of setter, we can use getter."}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "reply_to_user": {"reputation": 276, "user_id": 6528363, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206615127960213/picture?type=large", "display_name": "Milan Zelenka", "link": "https://stackoverflow.com/users/6528363/milan-zelenka"}, "edited": false, "score": 0, "creation_date": 1502443586, "post_id": 45617625, "comment_id": 78222157, "body": "But Hotkey&#39;s solution is better."}], "tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1502443613, "last_edit_date": 1502443613, "creation_date": 1502378257, "answer_id": 45617625, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities/45617625#45617625", "title": "Is there a way to pass a function reference between activities?", "body": "<p>If it is not possible to put a function literal into a <code>Bundle</code>, however, you can pass the function to the <code>Fragment</code> through a setter like function in the <code>Fragment</code>. </p>\n\n<pre><code>fun setTryAgainFunction(tryAgainFunction: () -&gt; Unit) {\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 285, "user_id": 1608686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/509ede269601f5bb291c74a6c18bde8f?s=128&d=identicon&r=PG", "display_name": "Ritesh Chandnani", "link": "https://stackoverflow.com/users/1608686/ritesh-chandnani"}, "edited": false, "score": 1, "creation_date": 1519072018, "post_id": 45617849, "comment_id": 84751188, "body": "I am passing this lamda: () -&gt; LiveData&lt;Resource&lt;List&lt;T&gt;&gt; to my activity but it is throwing NotSerializableException. Can you please expand on how we can handle this case?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 12, "last_activity_date": 1502378885, "creation_date": 1502378885, "answer_id": 45617849, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities/45617849#45617849", "title": "Is there a way to pass a function reference between activities?", "body": "<p>If <code>tryAgainFunction</code> is <code>Serializable</code>, then <a href=\"https://stackoverflow.com/questions/14333449/passing-data-through-intent-using-serializable\">you can put it into the <code>bundle</code></a> using <code>bundle.putSerializable(\"try_again_function\", tryAgainFunction);</code>.</p>\n\n<p>It will actually be <code>Serializable</code> if it is a function reference (<code>SomeClass::someFunction</code>) or a lambda. But it might not be, if it is some custom implementation of the functional interface <code>() -&gt; Unit</code>, so you should check that and handle the cases when it's not.</p>\n"}, {"comments": [{"owner": {"reputation": 276, "user_id": 6528363, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206615127960213/picture?type=large", "display_name": "Milan Zelenka", "link": "https://stackoverflow.com/users/6528363/milan-zelenka"}, "edited": false, "score": 0, "creation_date": 1502442376, "post_id": 45627767, "comment_id": 78221361, "body": "An interesting solution, although I have to create a new enum instance every time I want to pass a function like this."}], "tags": [], "owner": {"reputation": 216, "user_id": 7949563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xZQOj.jpg?s=128&g=1", "display_name": "Yuta", "link": "https://stackoverflow.com/users/7949563/yuta"}, "is_accepted": false, "score": 1, "last_activity_date": 1598431251, "last_edit_date": 1598431251, "creation_date": 1502430322, "answer_id": 45627767, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities/45627767#45627767", "title": "Is there a way to pass a function reference between activities?", "body": "<p>No, as others say, there is no way of passing a function literal to <code>Bundle</code>.</p>\n<p>But since <code>enum</code> implements <code>Serializable</code>, you can pass enum variables that can hold some methods.\nTry below codes;</p>\n<pre><code>enum class SampleEnum(val f: () -&gt; Unit) {\n    Sample0({\n        Log.d(&quot;enum Test&quot;, &quot;sample 0&quot;)\n    }),\n    Sample1({\n        Log.d(&quot;enum Test&quot;, &quot;sample 1&quot;)\n    }),\n}\n</code></pre>\n<p>in your from-activity (or fragment);</p>\n<pre><code>bundle.putSerializable(&quot;sample_enum&quot;,SampleEnum.Sample0)\n</code></pre>\n<p>in your to-activity (or fragment);</p>\n<pre><code> // invoke your fuction\n(bundle.getSerializable(&quot;sample_enum&quot;) as SampleEnum).f()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 5884956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1aa97704754a1bcc61d5bfc4e82d72c?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Ant&#243;n", "link": "https://stackoverflow.com/users/5884956/javier-ant%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1544709545, "post_id": 53742115, "comment_id": 94378622, "body": "But remember, if you do so, the variable is going to be &quot;static&quot; and therefore shared between all object of the same class. In your case is fine because rarely you are going to have more than one instance of the same activity."}, {"owner": {"reputation": 217, "user_id": 6029786, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P7PrKfwpSXc/AAAAAAAAAAI/AAAAAAAAAQ8/8_ntEyLKVAY/photo.jpg?sz=128", "display_name": "Gauri Gadkari", "link": "https://stackoverflow.com/users/6029786/gauri-gadkari"}, "edited": false, "score": 0, "creation_date": 1553285418, "post_id": 53742115, "comment_id": 97342563, "body": "can you please share how tryAgainFunction will be passed to the newInstance function"}, {"owner": {"reputation": 164, "user_id": 5884956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1aa97704754a1bcc61d5bfc4e82d72c?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Ant&#243;n", "link": "https://stackoverflow.com/users/5884956/javier-ant%c3%b3n"}, "reply_to_user": {"reputation": 217, "user_id": 6029786, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P7PrKfwpSXc/AAAAAAAAAAI/AAAAAAAAAQ8/8_ntEyLKVAY/photo.jpg?sz=128", "display_name": "Gauri Gadkari", "link": "https://stackoverflow.com/users/6029786/gauri-gadkari"}, "edited": false, "score": 0, "creation_date": 1553677706, "post_id": 53742115, "comment_id": 97469025, "body": "MyClass.newInstance() {      tryAgainFunction() }"}, {"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 0, "creation_date": 1605004157, "post_id": 53742115, "comment_id": 114514012, "body": "Instead of a &quot;static&quot; var, why can&#39;t we use the function as a constructor parameter? It works fine until I found that in some devices (Xiaomi) I was getting <code>could not find Fragment constructor</code> then I switched to hotkey&#39;s solution."}, {"owner": {"reputation": 10663, "user_id": 1423773, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/F1KDi.png?s=128&g=1", "display_name": "GuilhE", "link": "https://stackoverflow.com/users/1423773/guilhe"}, "edited": false, "score": 1, "creation_date": 1605011192, "post_id": 53742115, "comment_id": 114517169, "body": "But now I have a problem, my callbacks fail to <code>Serialize</code> when Fragment&#39;s Activity goes to background with <code>NotSerializableException</code>. Example of a callback: <code>(String?, List&lt;Int&gt;?) -&gt; (Unit)</code>and <code>(Boolean) -&gt; (Unit)</code>"}], "tags": [], "owner": {"reputation": 164, "user_id": 5884956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1aa97704754a1bcc61d5bfc4e82d72c?s=128&d=identicon&r=PG&f=1", "display_name": "Javier Ant&#243;n", "link": "https://stackoverflow.com/users/5884956/javier-ant%c3%b3n"}, "is_accepted": false, "score": 6, "last_activity_date": 1544614319, "creation_date": 1544614319, "answer_id": 53742115, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities/53742115#53742115", "title": "Is there a way to pass a function reference between activities?", "body": "<p>Maybe too late but:</p>\n\n<p>Have you tried to put the <code>val callback</code> inside the companion object?\nSolution may be something like:</p>\n\n<pre><code>companion object {\n    private lateinit var callback \n\n    fun newInstance(tryAgainFunction: () -&gt; Unit): TimeOutHandlerFragment {\n        val fragment = TimeOutHandlerFragment()\n        this.callback = tryAgainFunction\n        return fragment\n    }\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    btnTryAgain.setOnClickListener { callback.invoke() }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3311, "user_id": 3405387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VYA2r.png?s=128&g=1", "display_name": "Lukas", "link": "https://stackoverflow.com/users/3405387/lukas"}, "is_accepted": false, "score": 0, "last_activity_date": 1605975790, "last_edit_date": 1605975790, "creation_date": 1605972310, "answer_id": 64944753, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities/64944753#64944753", "title": "Is there a way to pass a function reference between activities?", "body": "<p><strong>Yes</strong>, there is a simple solution to this that I've been using in my projects. The idea is to wrap any reference types/objects in a warper class that is <code>Parcalabe</code> and <code>Serializable</code> without actually implementing marshaling of the underlying reference type. Here is the wrapper class and how to use it without causing any potential memory leak:</p>\n<pre><code>@Parcelize @kotlinx.serialization.Serializable\ndata class TrackedReference&lt;ReferenceType: Any&gt; private constructor(\n    private var uniqueID: Int = -1\n) : Serializable, Parcelable {\n\n    constructor(reference: ReferenceType) : this() {\n        uniqueID = System.identityHashCode(this)\n        referenceMap.set(uniqueID, reference)\n    }\n\n    val get: ReferenceType?\n        get() = referenceMap.get(uniqueID) as? ReferenceType\n\n    fun removeStrongReference() {\n        get?.let { referenceMap.set(uniqueID, WeakReference(it)) }\n    }\n\n    companion object {\n        var referenceMap = hashMapOf&lt;Int, Any&gt;()\n            private set\n    }\n\n}\n</code></pre>\n<p>Any object can be wrapped in a <code>TrackedReference</code> object and passed as serializable or parcelable:</p>\n<pre><code>class ClassA {\n    fun doSomething { }\n}\n\n// Add instance of ClassA to an intent\nval objectA = ClassA()\nintent.putExtra(&quot;key&quot;, TrackedReference(objectA))\n</code></pre>\n<p>You can also pass a <code>weak</code> or <code>soft</code> reference depending on the use case.</p>\n<p><strong>Use case 1:</strong></p>\n<p>The object (in this case <code>objectA</code>) is not guaranteed to be in memory by the time the receiver activity needs to use it (e.g. might be garbage collected).</p>\n<p>In this case, the object is kept in memory until you explicitly remove the strong reference.\nPass in an <code>Intent</code> or <code>Bundle</code> inside this wrapper and accesse in a straightforward manner, e.g. (psuedocode)</p>\n<pre><code>class ClassA {\n    fun doSomething { }\n}\n\n// Add instance of ClassA to an intent\nval objectA = ClassA()\nintent.putExtra(&quot;key&quot;, TrackedReference(objectA))\n\n// Retrieve in another activity\nval trackedObjectA = intent.getSerializable(&quot;key&quot;) as TrackedReference&lt;ClassA&gt;\ntrackedObjectA.get?.doSomething()\n\n// Important:- to prevent potential memory leak,\n// remove *strong* reference of a tracked object when it's no longer needed.\ntrackedObjectA.removeStrongReference()\n</code></pre>\n<p><strong>Use case 2:</strong></p>\n<p>The object is guaranteed to be in memory when needed, e.g. an activity that is housing a fragment is guaranteed to remain in memory for the lifecycle of the fragment.</p>\n<p>Or, we do not care if the object is garbage collected, and we do not want to be the reason for its existence. In this case, pass a <code>weak</code> or <code>soft</code> reference when initializing a <code>TrackedReference</code> instance:</p>\n<pre><code>// Removing the strong reference is not needed if a week reference is tracked, e.g. \nval trackedObject = TrackedReference(WeakReference(objectA)) \ntrackedObject.get?.doSomething()\n</code></pre>\n<p>Its best to understand why <code>Intent</code> requires <code>Parcelable</code> or <code>Serializable</code> and what's the best way to use this workaround in a given scenario.</p>\n<p>It's certainly not ideal to serialize objects to allow <em>delegation</em> or <em>callback</em> communication between activities.</p>\n<p>Here is the <em><a href=\"https://developer.android.com/guide/components/intents-filters#Types\" rel=\"nofollow noreferrer\">documentation</a></em> on <code>Intent</code> but simply put, an <code>Intent</code> is passed to the <em>Android System</em> which then looks-up what to do with it and in this case starts the next Activity (which can be another app as far as the <em>Android System</em> receiving the intent is concerned). Therefore, the system needs to make sure that everything inside an intent can be reconstructed from parcels.</p>\n<p><strong>Rant:</strong></p>\n<p>IMO, <code>Intent</code> as a higher level abstraction for IPC (Inter Process Communication) maybe convenient and efficient internally but at the cost of these limitations.\nIt's maybe comparing Apples to oranges but in iOS, <em>ViewControllers</em> (similar to <em>Activities</em>) are like any class and can be passed any <code>Type</code> (value or reference) as an argument. The developer is then responsible to avoid potential reference-cycles that might prevent ARC (memory management) to free unused references.</p>\n"}, {"comments": [{"owner": {"reputation": 3189, "user_id": 2212770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21c36bd45107c86ecad1341d47508667?s=128&d=identicon&r=PG", "display_name": "Wirling", "link": "https://stackoverflow.com/users/2212770/wirling"}, "edited": false, "score": 0, "creation_date": 1616753879, "post_id": 66606513, "comment_id": 118107433, "body": "Like all the other solutions I get a NotSerializableException when the fragments activity goes to the backstack."}], "tags": [], "owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1615579571, "creation_date": 1615579571, "answer_id": 66606513, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities/66606513#66606513", "title": "Is there a way to pass a function reference between activities?", "body": "<p>It is possible in <strong>2021</strong>.</p>\n<p><strong>1. You need to add <code>id 'kotlin-parcelize'</code> to your build.gradle (app), like this:</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'kotlin-parcelize'    //here\n}\n</code></pre>\n<p><strong>2. Create a Class to wrap your Lambda function:</strong></p>\n<pre><code>@Parcelize\nclass Listener(val clickAction: () -&gt; Unit) : Parcelable {\n    fun onClick() = clickAction()\n}\n</code></pre>\n<p><strong>3. Pass your Lambda:</strong></p>\n<pre><code>val bundle = Bundle().apply {\n    putParcelable(&quot;listener&quot;, Listener(clickAction))\n}\n\nprivate val clickAction: () -&gt; Unit = {    \n    //do your stuff\n}\n</code></pre>\n<p><strong>4. Retrieve it:</strong></p>\n<pre><code>arguments?.getParcelable&lt;Listener&gt;(&quot;listener&quot;)?.onClick()\n</code></pre>\n<hr />\n<p><strong>Demo</strong> (all <code>Fragment</code>s): <a href=\"https://youtu.be/0OnaW4ZCnbk\" rel=\"nofollow noreferrer\">https://youtu.be/0OnaW4ZCnbk</a></p>\n"}], "owner": {"reputation": 276, "user_id": 6528363, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206615127960213/picture?type=large", "display_name": "Milan Zelenka", "link": "https://stackoverflow.com/users/6528363/milan-zelenka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7669, "favorite_count": 2, "accepted_answer_id": 45617849, "answer_count": 6, "score": 18, "last_activity_date": 1615579571, "creation_date": 1502378071, "last_edit_date": 1502441968, "question_id": 45617564, "link": "https://stackoverflow.com/questions/45617564/is-there-a-way-to-pass-a-function-reference-between-activities", "title": "Is there a way to pass a function reference between activities?", "body": "<p>is there a way of bundling function references in Kotlin and Android so that the functions can be called from other fragments? \nFor instance, my fragment factory method looks like this: </p>\n\n<pre><code>    fun newInstance(tryAgainFunction: () -&gt; Unit): TimeOutHandlerFragment {\n        val fragment = TimeOutHandlerFragment()\n        val bundle = Bundle()\n\n        return fragment\n    }\n</code></pre>\n\n<p>I want to be able to save my tryAgainFunction in the bundle for further retrieval. </p>\n\n<p>Thanks a lot!</p>\n\n<p><strong>Edit</strong></p>\n\n<p>In the end, the most suitable solution was using hotkey's answer and then in onViewCreated I initializing a listener with the passed function. The complete code is as follows:</p>\n\n<pre><code>companion object {\n    val CALLBACK_FUNCTION: String = \"CALLBACK_FUNCTION\"\n\n    fun newInstance(tryAgainFunction: () -&gt; Unit): TimeOutHandlerFragment {\n        val fragment = TimeOutHandlerFragment()\n        val bundle = Bundle()\n        bundle.putSerializable(CALLBACK_FUNCTION, tryAgainFunction as Serializable)\n        fragment.arguments = bundle\n        return fragment\n    }\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    try {\n        val callback: () -&gt; Unit = arguments.getSerializable(CALLBACK_FUNCTION) as () -&gt; Unit\n        btnTryAgain.setOnClickListener { callback.invoke() }\n    } catch (ex: Exception) {\n        // callback has a wrong format\n        ex.printStackTrace()\n    }\n}\n</code></pre>\n\n<p>Thanks to everyone for your help!</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502442806, "post_id": 45617248, "comment_id": 78221635, "body": "What happens if you extract the <code>httpGet</code> call, and test it, instead of wedging it inside the handler function?"}, {"owner": {"reputation": 11, "user_id": 5665165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1925c5ca3f3a461ff6e68d7fe778190?s=128&d=identicon&r=PG&f=1", "display_name": "Siepraa", "link": "https://stackoverflow.com/users/5665165/siepraa"}, "reply_to_user": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502454690, "post_id": 45617248, "comment_id": 78229609, "body": "Same, nothing changed"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502485610, "post_id": 45617248, "comment_id": 78246881, "body": "I don&#39;t believe that if you separate the <code>GET</code> call you have the same problem, because I did, and had a different issue. See this <a href=\"https://github.com/kittinunf/Fuel/issues/212\" rel=\"nofollow noreferrer\">issue</a>."}, {"owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "edited": false, "score": 0, "creation_date": 1502986214, "post_id": 45617248, "comment_id": 78437837, "body": "Can you provide the full stack trace please? Also, I can&#39;t reproduce this, even with your exact same code. So if you are no longer having this issue, it was due to the webserver you were trying to call"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1503032576, "post_id": 45617248, "comment_id": 78454868, "body": "It works now see <a href=\"https://github.com/kittinunf/Fuel/issues/212#issuecomment-322981634\" rel=\"nofollow noreferrer\">this</a>"}], "owner": {"reputation": 11, "user_id": 5665165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1925c5ca3f3a461ff6e68d7fe778190?s=128&d=identicon&r=PG&f=1", "display_name": "Siepraa", "link": "https://stackoverflow.com/users/5665165/siepraa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 862, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1502377514, "creation_date": 1502377203, "last_edit_date": 1502377514, "question_id": 45617248, "link": "https://stackoverflow.com/questions/45617248/kotlin-fuel-rest-client-proxy-error", "title": "Kotlin Fuel REST Client Proxy error", "body": "<p>I am trying to create an Android App with Kotlin using Fuel Rest Client but I get the following error in my Logcat:\nE/MultiWindowProxy: getServiceInstance failed!<br />\n... and ...<br />\ngetaddrinfo: dev-worktable.pl get result from proxy gai_error = 11</p>\n\n<p>Here is my MainActivity.kt ...</p>\n\n<pre><code>package com.corcode.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport com.github.kittinunf.fuel.httpGet\nimport com.github.kittinunf.result.Result\nimport com.github.kittinunf.result.getAs\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val URL: String = \"http://dev-worktable.pl/api/offers/list\"\n\n    URL.httpGet().responseString { request, response, result -&gt;\n        //do something with response\n        when (result) {\n            is Result.Failure -&gt; {}\n            is Result.Success -&gt; {\n                println(\"Result: ${result.get()}\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>... and dependencies in build.gradle</p>\n\n<pre><code>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.0.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.0'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.0'\ncompile 'com.github.kittinunf.fuel:fuel:1.9.0' //for JVM\ncompile 'com.github.kittinunf.fuel:fuel-android:1.9.0' //for Android\ncompile 'com.github.kittinunf.fuel:fuel-rxjava:1.9.0' //for RxJava support\ncompile 'com.github.kittinunf.fuel:fuel-livedata:1.9.0' //for LiveData support\ncompile 'com.github.kittinunf.fuel:fuel-gson:1.9.0' //for Gson support\n}\n</code></pre>\n"}, {"tags": ["kotlin", "abstract-class"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1502375535, "post_id": 45616548, "comment_id": 78192189, "body": "this is practically the same thing as asking &quot;why use abstract classes in java or c#&quot; or any other object-oriented language"}, {"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 4, "creation_date": 1502376209, "post_id": 45616548, "comment_id": 78192728, "body": "I don&#39;t think so:  a. support of concrete function on interfaces - was not the state when this was answered. b. kotlin is fresh, and had a choice to abandon abstract classes (in compare to java - that must support backward compatibility)"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502377128, "post_id": 45616548, "comment_id": 78193506, "body": "Kotlin does not implement anything with high overhead when compiling to the JVM. Being compatible with Java 6, it does not use Java 8-style interface default methods."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1502427431, "post_id": 45616548, "comment_id": 78213714, "body": "@LiorBar-On I do - the answer to this question is practically identical to <a href=\"https://stackoverflow.com/questions/761194/interface-vs-abstract-class-general-oo\">Interface vs Abstract Class (general OO)</a>."}], "answers": [{"comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 1, "creation_date": 1502375954, "post_id": 45616688, "comment_id": 78192550, "body": "I&#39;m not sure I understand: there is a support for concrete function implementation on Kotlin interfaces. I elaborated my question with an example."}, {"owner": {"reputation": 35, "user_id": 8326241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fe1eeddd5f7a70bbf269e5941a150a?s=128&d=identicon&r=PG&f=1", "display_name": "javajunkee", "link": "https://stackoverflow.com/users/8326241/javajunkee"}, "reply_to_user": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 1, "creation_date": 1502377364, "post_id": 45616688, "comment_id": 78193703, "body": "A quote from the Kotlin website &quot;Interfaces in Kotlin are very similar to Java 8. They can contain declarations of abstract methods, as well as method implementations. What makes them different from abstract classes is that interfaces cannot store state. They can have properties but these need to be abstract or to provide accessor implementations.&quot; In addition to this, I believe it will also make a difference passing over an interface or an abstract class as an object, since a class will have the superclass of any, but I am not sure it is the case for an interface in Kotlin."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1502379234, "post_id": 45616688, "comment_id": 78195162, "body": "<b>This is not true</b>: in Kotlin, if an interface provides a default implementation, an implementing class can call that implementation with <code>super.f()</code>, see <a href=\"https://try.kotlinlang.org/#/UserProjects/5kt4plrlprfagq4me2ukjocph7/gc3nl1um36ouh7g592qnb0c6qb\" rel=\"nofollow noreferrer\"><b>this runnable demo</b></a>"}, {"owner": {"reputation": 35, "user_id": 8326241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fe1eeddd5f7a70bbf269e5941a150a?s=128&d=identicon&r=PG&f=1", "display_name": "javajunkee", "link": "https://stackoverflow.com/users/8326241/javajunkee"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502380111, "post_id": 45616688, "comment_id": 78195784, "body": "@hotkey That&#39;s interesting. Why did the Kotlin team decide to develop the language that way (the way you explained in your answer) and not keep it standardized to java?"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502401491, "post_id": 45616688, "comment_id": 78207434, "body": "JetBrains publicly announced Kotlin in 2011. At that time, JSR-355 (lambda expressions and virtual extension methods in Java) was just an early draft."}], "tags": [], "owner": {"reputation": 35, "user_id": 8326241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fe1eeddd5f7a70bbf269e5941a150a?s=128&d=identicon&r=PG&f=1", "display_name": "javajunkee", "link": "https://stackoverflow.com/users/8326241/javajunkee"}, "is_accepted": false, "score": 0, "last_activity_date": 1502375707, "creation_date": 1502375707, "answer_id": 45616688, "question_id": 45616548, "link": "https://stackoverflow.com/questions/45616548/kotlin-why-use-abstract-classes-vs-interfaces/45616688#45616688", "title": "Kotlin: why use Abstract classes (vs. interfaces)?", "body": "<p>Abstract classes exist essentially for a hierarchy of classes. For example, if the abstract parent class had a concrete function that was also defined in the child class which extends the parent class, then in certain cases it would be necessary to call the parent's function. When you use an interface it is impossible to do so due to the entirely abstract nature of the class.</p>\n"}, {"comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 1, "creation_date": 1502380414, "post_id": 45617367, "comment_id": 78195979, "body": "&quot;Apart from that, abstract classes can have non-public and final members, whereas interfaces cannot&quot; - it seem interfaces can have <code>private</code> modifier for concrete function - you are right with the rest: all interface function are open and cannot be internal."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 1, "creation_date": 1502381120, "post_id": 45617367, "comment_id": 78196468, "body": "@LiorBar-On, ah, indeed, these functions can be used in the default implementations and do not contribute to the API. Thanks, updated the asnwer."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 37, "last_activity_date": 1502380854, "last_edit_date": 1502380854, "creation_date": 1502377516, "answer_id": 45617367, "question_id": 45616548, "link": "https://stackoverflow.com/questions/45616548/kotlin-why-use-abstract-classes-vs-interfaces/45617367#45617367", "title": "Kotlin: why use Abstract classes (vs. interfaces)?", "body": "<p>The practical side of abstract classes is that you can encapsulate a part of implementation that works with the state, so that it cannot be overridden in the derived classes.</p>\n\n<p>In an interface, you can only define a property without a backing field, and an implementation class must override that property (with either a backing field or custom accessors).</p>\n\n<p>Given that, you cannot define logic that stores some state in an interface in a reliable way: an implementation class might override the properties in an unexpected way.</p>\n\n<p>Example:</p>\n\n<pre><code>interface MyContainer {\n    var size: Int\n\n    fun add(item: MyItem) { \n        // ...\n        size = size + 1\n    }\n}\n</code></pre>\n\n<p>Here, we provide a default implementation for <code>add</code> that increments <code>size</code>. But it might break if an implementing class is defined like this:</p>\n\n<pre><code>class MyContainerImpl : MyContainer {\n    override val size: Int \n        get() = 0\n        set(value) { println(\"Just ignoring the $value\") }\n}\n</code></pre>\n\n<p>On contrary, abstract classes support this use case and thus allow you to provide some guarantees and contract for all their implementations: they can define some state and its transitions that will stay the same in a derived class.</p>\n\n<p>Apart from that, abstract classes can have non-public API (internal, protected) and final members, whereas interfaces cannot (they can only have private members, which can be used in the default implementations), and all their default implementations can be overridden in the classes.</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 14117788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/619362ebdd3dd24ee2b671b2d60875b3?s=128&d=identicon&r=PG&f=1", "display_name": "Mouli", "link": "https://stackoverflow.com/users/14117788/mouli"}, "is_accepted": false, "score": -1, "last_activity_date": 1609300427, "last_edit_date": 1609300427, "creation_date": 1608531300, "answer_id": 65388276, "question_id": 45616548, "link": "https://stackoverflow.com/questions/45616548/kotlin-why-use-abstract-classes-vs-interfaces/65388276#65388276", "title": "Kotlin: why use Abstract classes (vs. interfaces)?", "body": "<p>one of the  difference is , if you make it as interface we can inherit multiple interfaces to a class but for a abstract class  only single abstract class can be inherit to a class  ( only one class appear in a supertype list)</p>\n<p>happy coding !!!</p>\n"}], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9767, "favorite_count": 7, "answer_count": 3, "score": 49, "last_activity_date": 1609300427, "creation_date": 1502375387, "last_edit_date": 1502376481, "question_id": 45616548, "link": "https://stackoverflow.com/questions/45616548/kotlin-why-use-abstract-classes-vs-interfaces", "title": "Kotlin: why use Abstract classes (vs. interfaces)?", "body": "<p>I'm aware of two differences between Abstract classes and Interfaces in Kotlin:</p>\n\n<ul>\n<li>An abstract class can have state (e.g. <code>var</code>...)</li>\n<li>A class can implement multiple interfaces, but not multiple abstract classes.</li>\n</ul>\n\n<p>Since Kotlin is a rather fresh language, I wonder why Abstract Classes were not abandoned? Interfaces seem superior tool, with a very little need for Abstract Classes.</p>\n\n<p>To elaborate: Kotlin does support concrete function implementation in interfaces, e.g.: </p>\n\n<pre><code>interface Shiny {\n\n    fun shine(amount : Int)  // abstract function\n\n    fun reflect(s : String) { print (\"**$s**\") }  // concrete function\n\n}\n</code></pre>\n\n<p>Can someone provide a strong practical example of the need for Abstract Classes?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1502370485, "post_id": 45614321, "comment_id": 78187740, "body": "It does work. You aren&#39;t specifying what <code>T</code> should be, instead passing <code>T</code> as a type which doesn&#39;t exist. Try a type instead."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1502370658, "post_id": 45614321, "comment_id": 78187895, "body": "As <code>T</code> is the type of data that the view state holds, I think the correct solution for you here is to make <code>LoadingFirstPage</code> and <code>LoadingPage</code> classes instead of objects."}], "answers": [{"comments": [{"owner": {"reputation": 3049, "user_id": 1823992, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a4ab9e8b0b5101ad75de1a1261bd8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "ar-g", "link": "https://stackoverflow.com/users/1823992/ar-g"}, "edited": false, "score": 0, "creation_date": 1502371995, "post_id": 45614648, "comment_id": 78189092, "body": "Thanks for the reply. It won&#39;t work in my case though since I can&#39;t define a class with desired type <code>PaginationViewState&lt;AdModel&gt; =PaginationViewState.LoadingFirstPage</code>. I&#39;ll stick with regular classes for now."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1502370592, "creation_date": 1502370592, "answer_id": 45614648, "question_id": 45614321, "link": "https://stackoverflow.com/questions/45614321/how-to-define-object-inside-sealed-generic-hierarchy/45614648#45614648", "title": "How to define object inside sealed generic hierarchy?", "body": "<p>You can't do that, since an <code>object</code> is a singleton, it cannot inherit a generic class without supplying a <em>concrete type</em> for the type argument. </p>\n\n<p>You can only define an <code>object</code> replacing <code>T</code> with some type:</p>\n\n<pre><code>sealed class PaginationViewState&lt;T&gt; {\n    object LoadingFirstPage: PaginationViewState&lt;Any&gt;()\n\n    //...\n}\n</code></pre>\n\n<p>If what you want is to be able to use the object in place of <code>PaginationViewState&lt;T&gt;</code> with <em>any possible</em> <code>T</code>, then you can use the <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"noreferrer\">generics variance</a>, with either <code>class PaginationViewState&lt;out T&gt;</code> and <code>object ...: PaginationViewState&lt;Nothing&gt;</code> or <code>class PaginationViewState&lt;in T&gt;</code> and <code>object ...: PaginationViewState&lt;Any&gt;</code> (but that limits the positions where <code>T</code> can appear in the class), or use the star-projection where you want to use the objects: e.g. make a function accept <code>PaginationViewState&lt;*&gt;</code>, and then an object with any <code>T</code> can be used.</p>\n"}], "owner": {"reputation": 3049, "user_id": 1823992, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a4ab9e8b0b5101ad75de1a1261bd8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "ar-g", "link": "https://stackoverflow.com/users/1823992/ar-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 1, "accepted_answer_id": 45614648, "answer_count": 1, "score": 3, "last_activity_date": 1502370612, "creation_date": 1502369678, "question_id": 45614321, "link": "https://stackoverflow.com/questions/45614321/how-to-define-object-inside-sealed-generic-hierarchy", "title": "How to define object inside sealed generic hierarchy?", "body": "<p>How to define object inside sealed generic hierarchy? The object declaration doesn't work with generics.</p>\n\n<pre><code>sealed class PaginationViewState&lt;T&gt; {\n    object LoadingFirstPage: PaginationViewState&lt;T&gt;()//doesn't work\n    object LoadingPage: PaginationViewState&lt;T&gt;()//doesn't work\n\n    data class DataLoaded&lt;T&gt;(val data: List&lt;T&gt;): PaginationViewState&lt;T&gt;()\n    data class DataLoadedFromCache&lt;T&gt;(val data: List&lt;T&gt;): PaginationViewState&lt;T&gt;()\n    data class Failure&lt;T&gt;(val e: Throwable): PaginationViewState&lt;T&gt;()\n}\n</code></pre>\n"}]