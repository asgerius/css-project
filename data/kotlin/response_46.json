[{"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448520103, "post_id": 33927708, "comment_id": 55624489, "body": "could you please post the type signature of <code>addOnPreDrawListener</code>? That&#39;s the only thing that matters here, and I am not sure what lib are you using here"}, {"owner": {"reputation": 5871, "user_id": 3761545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/uypve.jpg?s=128&g=1", "display_name": "Paul Woitaschek", "link": "https://stackoverflow.com/users/3761545/paul-woitaschek"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448521733, "post_id": 33927708, "comment_id": 55625186, "body": "It&#39;s <a href=\"https://developer.android.com/reference/android/view/ViewTreeObserver.html#addOnPreDrawListener(android.view.ViewTreeObserver.OnPreDrawListener)\" rel=\"nofollow noreferrer\">here</a>. Why is the signature important? IntelliJ tells me it refers to the outer most class. addOnPreDrawListener has the same signature as removeOnPreDrawListener."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1448526507, "post_id": 33927708, "comment_id": 55627404, "body": "Take a look at <a href=\"http://stackoverflow.com/questions/33898748/how-to-reference-a-lambda-from-inside-it\" title=\"how to reference a lambda from inside it\">stackoverflow.com/questions/33898748/&hellip;</a> it&#39;s a bug in the converter."}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1448526572, "post_id": 33927708, "comment_id": 55627438, "body": "@cypressious the answer says &quot;it is not supported&quot;, not &quot;it&#39;s a bug in the converter&quot;."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1448533828, "post_id": 33927708, "comment_id": 55632133, "body": "Acessing the this-instance of a lambda is not supported. Therefore, converting an anonymous class that access <code>this</code> to a lambda is a bug in the Java to Kotlin converter."}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1448536408, "post_id": 33927708, "comment_id": 55633845, "body": "@cypressious aha, now I see it, thank you. :)"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1448559916, "post_id": 33927708, "comment_id": 55648025, "body": "I filed an issue for this: <a href=\"https://youtrack.jetbrains.com/issue/KT-10202\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-10202</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448562680, "post_id": 33933430, "comment_id": 55649155, "body": "are you  sure a some kind of a labeled lambda wouldn&#39;t do?"}], "tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": true, "score": 11, "last_activity_date": 1448526697, "last_edit_date": 1448526697, "creation_date": 1448525445, "answer_id": 33933430, "question_id": 33927708, "link": "https://stackoverflow.com/questions/33927708/kotlin-inner-scope-this/33933430#33933430", "title": "Kotlin: Inner scope - This", "body": "<p>To fix your code you can use <code>object expression</code> instead of <code>lambda</code> here:  </p>\n\n<pre><code>coverView.viewTreeObserver.addOnPreDrawListener(object : ViewTreeObserver.OnPreDrawListener {\n    override fun onPreDraw(): Boolean {\n        coverView.viewTreeObserver.removeOnPreDrawListener(this)\n        return true\n    }\n})\n</code></pre>\n\n<p><code>this</code> expression in function expression (and the lambda you pass to the <code>addOnPreDrawListener</code> method <strong>is</strong> function expression) allows you to access lambda's closure, i.e. variables declared in its outermost scope, not the lambda itself.</p>\n"}], "owner": {"reputation": 5871, "user_id": 3761545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/uypve.jpg?s=128&g=1", "display_name": "Paul Woitaschek", "link": "https://stackoverflow.com/users/3761545/paul-woitaschek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1241, "favorite_count": 0, "closed_date": 1448546626, "accepted_answer_id": 33933430, "answer_count": 1, "score": 5, "last_activity_date": 1448526697, "creation_date": 1448491391, "question_id": 33927708, "link": "https://stackoverflow.com/questions/33927708/kotlin-inner-scope-this", "closed_reason": "Duplicate", "title": "Kotlin: Inner scope - This", "body": "<p>I just made use of Kotlins auto refactor and it basically left me with this:</p>\n\n<pre><code>coverView.viewTreeObserver.addOnPreDrawListener {\n    coverView.viewTreeObserver.removeOnPreDrawListener(this)\n    true\n}\n</code></pre>\n\n<p>Which does not work. IntelliJ shows me that <code>this</code> refers to the outer class but not to the OnPreDrawListener. Why is that? The kotlin docs say that this always refer to the inner most scope.</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 5, "creation_date": 1448440555, "post_id": 33911457, "comment_id": 55585449, "body": "Why not add the function to the Double class? <code>fun Double.clamp(min: Double, max Double)</code>, to be called like <code>1.0.clamp(2.0, 3.0)</code>."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448452787, "post_id": 33911457, "comment_id": 55593099, "body": "i think it is going to be possible in the future releases"}, {"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 1, "creation_date": 1448522897, "post_id": 33911457, "comment_id": 55625680, "body": "Doesn&#39;t coerceIn (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/coerce-in.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/coerce-in.html</a>) what you need?"}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "reply_to_user": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1448646884, "post_id": 33911457, "comment_id": 55682619, "body": "Yes! Thanks @SergeyMashkov, that is what I needed in this case. However, I should rephrase my question as: &quot;How can one add static methods to Java classes in Kotlin&quot;"}, {"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1448909019, "post_id": 33911457, "comment_id": 55767091, "body": "@Eric Nobody can in fact. Kotlin&#39;s top-level extension functions are static functions of a facade class (generally it is $filename$Kt.class) and a receiver is just a first parameter. You can&#39;t have Math instance so you can&#39;t pass anyway. It just doesn&#39;t work like that. So general answer is: you can&#39;t and you shouldn&#39;t."}, {"owner": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 1, "creation_date": 1448909121, "post_id": 33911457, "comment_id": 55767152, "body": "@Eric then only you can do is to declare top-level function (not extension) and put it to the specific package"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1451053167, "post_id": 33911457, "comment_id": 56668956, "body": "@voddan it hasn&#39;t been talked about that I&#39;m aware, please link to a Kotlin slack chat or forum discussion, or even YouTrack ticket for that feature?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "reply_to_user": {"reputation": 4016, "user_id": 1460833, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bc4821b9c16457694f503b42831198f1?s=128&d=identicon&r=PG", "display_name": "Sergey Mashkov", "link": "https://stackoverflow.com/users/1460833/sergey-mashkov"}, "edited": false, "score": 0, "creation_date": 1451053458, "post_id": 33911457, "comment_id": 56669030, "body": "@SergeyMashkov &quot;Shouldn&#39;t&quot; is speaking from opinion, it is obviously something that COULD be implemented in Kotlin using a different form of the function that either takes the Java/Kotlin class as the receiver or is receiver-less.    Currently, there is no way to do this without a Companion object being declared.  But nothing prevents such a feature in the future as compiler syntactic sugar."}, {"owner": {"reputation": 667, "user_id": 5209185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb523e6233de789cd2c9bf757578f30a?s=128&d=identicon&r=PG&f=1", "display_name": "kyay10", "link": "https://stackoverflow.com/users/5209185/kyay10"}, "edited": false, "score": 0, "creation_date": 1560312612, "post_id": 33911457, "comment_id": 99690074, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28210188/static-extension-methods-in-kotlin\">Static extension methods in Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": false, "score": 13, "last_activity_date": 1472952466, "last_edit_date": 1472952466, "creation_date": 1448440638, "answer_id": 33911789, "question_id": 33911457, "link": "https://stackoverflow.com/questions/33911457/how-can-one-add-static-methods-to-java-classes-in-kotlin/33911789#33911789", "title": "How can one add static methods to Java classes in Kotlin", "body": "<p>I think this is not possible. <a href=\"https://kotlinlang.org/docs/reference/extensions.html#companion-object-extensions\" rel=\"noreferrer\">Documentation says</a> the following:  </p>\n\n<blockquote>\n  <p>If a class has a companion object defined, you can also define extension functions and properties for the companion object.</p>\n</blockquote>\n\n<p>The <code>Math</code> class is a <code>Java</code> class, not a <code>Kotlin</code> one and does not have a <code>companion</code> object in it. You can add a <code>clamp</code> method to the <code>Double</code> class instead.</p>\n"}, {"comments": [{"owner": {"reputation": 4739, "user_id": 1348187, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dZMOO.jpg?s=128&g=1", "display_name": "Rafael Ruiz Mu&#241;oz", "link": "https://stackoverflow.com/users/1348187/rafael-ruiz-mu%c3%b1oz"}, "edited": false, "score": 5, "creation_date": 1516199671, "post_id": 42674319, "comment_id": 83591784, "body": "To whoever falls in this answer, please vote up the jetbrains post so we can have that feature earlier!"}], "tags": [], "owner": {"reputation": 25726, "user_id": 453435, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/SjPwA.jpg?s=128&g=1", "display_name": "Ben Leggiero", "link": "https://stackoverflow.com/users/453435/ben-leggiero"}, "is_accepted": true, "score": 40, "last_activity_date": 1545599558, "last_edit_date": 1545599558, "creation_date": 1488984202, "answer_id": 42674319, "question_id": 33911457, "link": "https://stackoverflow.com/questions/33911457/how-can-one-add-static-methods-to-java-classes-in-kotlin/42674319#42674319", "title": "How can one add static methods to Java classes in Kotlin", "body": "<p>As of Kotlin 1.3, this is not possible. However, it's being considered for a future release!</p>\n\n<p>To help this feature get implemented, go vote on this issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-11968</a></p>\n\n<p>This idea is very popular in the Kotlin community, so I bet it'll be in soon enough.</p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 420337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e669f61db32f9da3a58e87f4e0b0181?s=128&d=identicon&r=PG", "display_name": "Miguel A. Gabriel", "link": "https://stackoverflow.com/users/420337/miguel-a-gabriel"}, "is_accepted": false, "score": 2, "last_activity_date": 1520884548, "last_edit_date": 1520884548, "creation_date": 1520846394, "answer_id": 49231680, "question_id": 33911457, "link": "https://stackoverflow.com/questions/33911457/how-can-one-add-static-methods-to-java-classes-in-kotlin/49231680#49231680", "title": "How can one add static methods to Java classes in Kotlin", "body": "<p>As of Kotlin 1.2 it is still not possible. </p>\n\n<p>As a workaround, to statically \"extend\" Environment class I am currently using:</p>\n\n<pre><code>Class EnvironmentExtensions {\n    companion object {\n        @JvmStatic\n        fun getSomething(): File {\n            ...\n            return Environment.something()\n        }\n    }\n}\n</code></pre>\n\n<p>It is not an ideal solution but IntelliJ/Android Studio code completion helps with the usage:</p>\n\n<pre><code>val something = EnvironmentExtensions.getSomething()\n</code></pre>\n"}], "owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4780, "favorite_count": 3, "accepted_answer_id": 42674319, "answer_count": 3, "score": 46, "last_activity_date": 1545599558, "creation_date": 1448439527, "last_edit_date": 1481712701, "question_id": 33911457, "link": "https://stackoverflow.com/questions/33911457/how-can-one-add-static-methods-to-java-classes-in-kotlin", "title": "How can one add static methods to Java classes in Kotlin", "body": "<p>Is it possible to add a new static method to the <code>java.lang.Math</code> class in <code>Kotlin</code>? Usually, such things are possible in Kotlin thanks to <a href=\"https://kotlinlang.org/docs/reference/extensions.html#companion-object-extensions\" rel=\"noreferrer\">Kotlin Extensions</a>.</p>\n\n<p>I already tried doing the following in a file I made called <code>Extensions.kt</code>:</p>\n\n<pre><code>fun Math.Companion.clamp(value:Double,minValue:Double,maxValue:Double):Double\n{\n    return Math.max(Math.min(value,maxValue),minValue)\n}\n</code></pre>\n\n<p>but <code>Math.Companion</code> could not be resolved...</p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 8, "last_activity_date": 1448418882, "creation_date": 1448418882, "answer_id": 33907581, "question_id": 33907095, "link": "https://stackoverflow.com/questions/33907095/kotlin-how-can-i-use-reflection-on-packages/33907581#33907581", "title": "Kotlin: How can I use reflection on packages?", "body": "<p>Reflection on top level functions or properties is not yet supported in Kotlin but is planned for the future. The only features that are supported at the moment allow you to obtain Kotlin reflection objects corresponding to the given Java reflection objects, requiring you to use Java reflection beforehand:</p>\n\n<ul>\n<li><code>kotlinFunction</code> returns a <code>kotlin.reflect.KFunction</code> instance by a <code>java.lang.reflect.Method</code> instance or by a <code>java.lang.reflect.Constructor</code> instance</li>\n<li><code>kotlinProperty</code> returns a <code>kotlin.reflect.KProperty</code> instance by a <code>java.lang.reflect.Field</code> instance</li>\n</ul>\n\n<p>To use them, you must first obtain the corresponding method or field with the Java reflection:</p>\n\n<pre><code>package a\n\nimport kotlin.reflect.jvm.*\n\nfun foo() {}\n\nfun reflectFoo() {\n    // a.TestKt is the JVM class name for the file test.kt in the package a\n    val c = Class.forName(\"a.TestKt\")\n\n    val m = c.getDeclaredMethod(\"foo\")\n\n    val f = m.kotlinFunction!!\n\n    // f is a KFunction instance, so you can now inspect its parameters, annotations, etc.\n    println(f.name)\n    println(f.returnType)\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1506, "favorite_count": 1, "accepted_answer_id": 33907581, "answer_count": 1, "score": 4, "last_activity_date": 1462863951, "creation_date": 1448415436, "last_edit_date": 1462863951, "question_id": 33907095, "link": "https://stackoverflow.com/questions/33907095/kotlin-how-can-i-use-reflection-on-packages", "title": "Kotlin: How can I use reflection on packages?", "body": "<p>How can I use reflection on package-level functions, members, etc.? Trying to access <code>javaClass</code> or <code>class</code> doesn't work, neither does <code>package</code>.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4348, "user_id": 1239718, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1e0007c47fb11a12c8427a856187d48e?s=128&d=identicon&r=PG", "display_name": "shem", "link": "https://stackoverflow.com/users/1239718/shem"}, "edited": false, "score": 0, "creation_date": 1457693158, "post_id": 33899154, "comment_id": 59532636, "body": "Is there any reason why I&#39;m keep getting this error after update kotlin version: <code>Error:Exception while analyzing expression at (84,13) in ... : java.lang.IllegalStateException: @NotNull method org&#47;jetbrains&#47;kotlin&#47;descriptors&#47;impl&#47;FunctionDescriptorImpl&zwnj;&#8203;.getTypeParameters must not return null</code>"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 28, "last_activity_date": 1448389776, "last_edit_date": 1448389776, "creation_date": 1448383215, "answer_id": 33899154, "question_id": 33898748, "link": "https://stackoverflow.com/questions/33898748/how-to-reference-a-lambda-from-inside-it/33899154#33899154", "title": "How to reference a lambda from inside it?", "body": "<p>Referencing a lambda from inside it is not supported.</p>\n\n<p>As a workaround, you might use anonymous object instead of lambda SAM-converted to Java functional interface <code>OnGlobalLayoutListener</code>:</p>\n\n<pre><code>containerLayout.viewTreeObserver.addOnGlobalLayoutListener(object: OnGlobalLayoutListener {\n    override fun onGlobalLayout() {\n        // your code here. `this` should work\n    }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1459253836, "last_edit_date": 1495535622, "creation_date": 1459242103, "answer_id": 36279773, "question_id": 33898748, "link": "https://stackoverflow.com/questions/33898748/how-to-reference-a-lambda-from-inside-it/36279773#36279773", "title": "How to reference a lambda from inside it?", "body": "<p>Another solution is to <a href=\"https://stackoverflow.com/questions/35100389/writing-a-kotlin-util-function-which-provides-self-reference-in-initializer\">implement</a> and use self-reference:</p>\n\n<pre><code>class SelfReference&lt;T&gt;(val initializer: SelfReference&lt;T&gt;.() -&gt; T) {\n    val self: T by lazy {\n        inner ?: throw IllegalStateException()\n    }\n\n    private val inner = initializer()\n}\n\nfun &lt;T&gt; selfReference(initializer: SelfReference&lt;T&gt;.() -&gt; T): T {\n    return SelfReference(initializer).self\n}\n</code></pre>\n\n<p>Then the usage would be</p>\n\n<pre><code>containerLayout.viewTreeObserver.addOnGlobalLayoutListener(selfReference { \n    OnGlobalLayoutListener {\n        containerLayout.viewTreeObserver.removeOnGlobalLayoutListener(self)\n        // ...\n    }\n}\n</code></pre>\n\n<p>Instead of <code>this</code>, <code>self</code> property is used.</p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 1069271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800f65b6edeacb0b39838477b60ec968?s=128&d=identicon&r=PG", "display_name": "Andrey Uglev", "link": "https://stackoverflow.com/users/1069271/andrey-uglev"}, "edited": false, "score": 0, "creation_date": 1581877333, "post_id": 51419643, "comment_id": 106574792, "body": "why use vto.isAlive and and later viewTreeObserver - it&#39;s the same object cause of val vto = viewTreeObserver?"}, {"owner": {"reputation": 2128, "user_id": 1276302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/npvK8.png?s=128&g=1", "display_name": "Akexorcist", "link": "https://stackoverflow.com/users/1276302/akexorcist"}, "reply_to_user": {"reputation": 87, "user_id": 1069271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/800f65b6edeacb0b39838477b60ec968?s=128&d=identicon&r=PG", "display_name": "Andrey Uglev", "link": "https://stackoverflow.com/users/1069271/andrey-uglev"}, "edited": false, "score": 0, "creation_date": 1587901022, "post_id": 51419643, "comment_id": 108685605, "body": "@AndreyUglev I have no idea. Follow the doOnPreDraw in Android KTX <a href=\"https://android.googlesource.com/platform/frameworks/support/+/android-room-release/core/ktx/src/main/java/androidx/core/view/View.kt#80\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/support/+/&hellip;</a>"}, {"owner": {"reputation": 134, "user_id": 4228589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb446d2966cf9de1269789f0373810d?s=128&d=identicon&r=PG&f=1", "display_name": "Michael N", "link": "https://stackoverflow.com/users/4228589/michael-n"}, "edited": false, "score": 0, "creation_date": 1612437045, "post_id": 51419643, "comment_id": 116769111, "body": "Thank you! This works perfectly :)"}], "tags": [], "owner": {"reputation": 2128, "user_id": 1276302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/npvK8.png?s=128&g=1", "display_name": "Akexorcist", "link": "https://stackoverflow.com/users/1276302/akexorcist"}, "is_accepted": false, "score": 5, "last_activity_date": 1531994244, "creation_date": 1531994244, "answer_id": 51419643, "question_id": 33898748, "link": "https://stackoverflow.com/questions/33898748/how-to-reference-a-lambda-from-inside-it/51419643#51419643", "title": "How to reference a lambda from inside it?", "body": "<p>What's about extension like this?</p>\n\n<pre><code>import android.annotation.SuppressLint\nimport android.os.Build\nimport android.view.View\nimport android.view.ViewTreeObserver\n\ninline fun View.doOnGlobalLayout(crossinline action: (view: View) -&gt; Unit) {\n    val vto = viewTreeObserver\n    vto.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n        @SuppressLint(\"ObsoleteSdkInt\")\n        @Suppress(\"DEPRECATION\")\n        override fun onGlobalLayout() {\n            action(this@doOnGlobalLayout)\n            when {\n                vto.isAlive -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n                        vto.removeOnGlobalLayoutListener(this)\n                    } else {\n                        vto.removeGlobalOnLayoutListener(this)\n                    }\n                }\n                else -&gt; {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n                        viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    } else {\n                        viewTreeObserver.removeGlobalOnLayoutListener(this)\n                    }\n                }\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>Finally, you can call OnGlobalLayoutListener from View directly</p>\n\n<pre><code>val view: View = ...\nview.doOnGlobalLayout {\n  val width = view?.measuredWidth\n  val height = view?.measuredHeight\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 155, "user_id": 4962151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5MSbS.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4962151/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1615400170, "last_edit_date": 1615400170, "creation_date": 1615399702, "answer_id": 66570481, "question_id": 33898748, "link": "https://stackoverflow.com/questions/33898748/how-to-reference-a-lambda-from-inside-it/66570481#66570481", "title": "How to reference a lambda from inside it?", "body": "<h2>Simple / clear approach (no generics or anonymous objects):</h2>\n<p>You could create the listener in advance, then add / use / remove as needed:</p>\n<pre><code>private var layoutChangedListener: ViewTreeObserver.OnGlobalLayoutListener? = null\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    // create the listener\n    layoutChangedListener = ViewTreeObserver.OnGlobalLayoutListener {\n\n        // do something here\n\n        // remove the listener from your view\n        myContainerView.viewTreeObserver.removeOnGlobalLayoutListener(layoutChangedListener)\n        layoutChangedListener = null\n    }\n\n    // add the listener to your view\n    myContainerView.viewTreeObserver.addOnGlobalLayoutListener(layoutChangedListener)\n}\n</code></pre>\n<p>use case:\nI had to be able to remove the listener, in order to adjust the layout inside the listener itself - not removing the listener <strong>may</strong> result in a deadlock</p>\n"}], "owner": {"reputation": 407, "user_id": 2517621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXoeV.jpg?s=128&g=1", "display_name": "Pamir Cevikogullari", "link": "https://stackoverflow.com/users/2517621/pamir-cevikogullari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5948, "favorite_count": 6, "accepted_answer_id": 33899154, "answer_count": 4, "score": 23, "last_activity_date": 1615400170, "creation_date": 1448382104, "last_edit_date": 1471871139, "question_id": 33898748, "link": "https://stackoverflow.com/questions/33898748/how-to-reference-a-lambda-from-inside-it", "title": "How to reference a lambda from inside it?", "body": "<p>I am trying to get height of a view in onCreate method but I couldn't find any way to remove OnGlobalLayoutListener.</p>\n\n<p>In Java (working):</p>\n\n<pre><code>containerLayout.getViewTreeObserver.addOnGlobalLayoutListener(new OnGlobalLayoutListener() {  \n    @Override  \n    public void onGlobalLayout() {  \n        containerLayout.getViewTreeObserver().removeGlobalOnLayoutListener(this); \n        int width  = layout.getMeasuredWidth();\n        int height = layout.getMeasuredHeight(); \n\n    }  \n});\n</code></pre>\n\n<p>In Kotlin (not accepting \"this\"):</p>\n\n<pre><code>   containerLayout.viewTreeObserver.addOnGlobalLayoutListener {\n            containerLayout.viewTreeObserver.removeOnGlobalLayoutListener(this)\n            Toast.makeText(applicationContext, \"size is \"+ containerLayout.height,Toast.LENGTH_LONG).show()\n        }\n</code></pre>\n\n<p>Is there any reference or example for this problem? Thanks.</p>\n"}, {"tags": ["parcelable", "kotlin", "parceler"], "answers": [{"comments": [{"owner": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "edited": false, "score": 0, "creation_date": 1448365863, "post_id": 33892435, "comment_id": 55548706, "body": "That wouldn&#39;t work since it requires default empty bean constructor. I&#39;ll update my question."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "edited": false, "score": 0, "creation_date": 1448366064, "post_id": 33892435, "comment_id": 55548848, "body": "to have an empty constructor you can provide a  default value to <code>size</code>. Updated"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "edited": false, "score": 0, "creation_date": 1448366149, "post_id": 33892435, "comment_id": 55548899, "body": "or annotate the primary constructor with <code>@ParcelConstructor</code> just as in your example"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "edited": false, "score": 1, "creation_date": 1448367337, "post_id": 33892435, "comment_id": 55549729, "body": "btw, for having an empty constructor you should not need <code>@JvmOverloads</code>, what I said above should be sufficient. Let me know when you try it out"}, {"owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "edited": false, "score": 0, "creation_date": 1452609116, "post_id": 33892435, "comment_id": 57238249, "body": "@voddan how did you compiled parceler to kotlin? im not being able to make Parcel to work in Kotlin."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "edited": false, "score": 0, "creation_date": 1452615883, "post_id": 33892435, "comment_id": 57243309, "body": "@F&#225;bioCarballo I never did. For my project (a server) I use Jackson (kotlin module). I answered because the issue with Parcel was of the same nature that the one I solver with Jackson, and the syntax I looked up in the docs."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "edited": false, "score": 1, "creation_date": 1452616031, "post_id": 33892435, "comment_id": 57243404, "body": "You may ask @MartynasJurkus, he made it work (obviously). For that you may want to post the compilation error you are getting. Or create a separate question, since chances are you problem is build-related, not kotlin-related."}, {"owner": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "reply_to_user": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "edited": false, "score": 1, "creation_date": 1452630551, "post_id": 33892435, "comment_id": 57252456, "body": "@F&#225;bioCarballo see my updated question on how I got it working based on this answer"}, {"owner": {"reputation": 1210, "user_id": 1789683, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9ebd97c4517db3241d4cea9d98108dda?s=128&d=identicon&r=PG", "display_name": "Jonathan Caryl", "link": "https://stackoverflow.com/users/1789683/jonathan-caryl"}, "edited": false, "score": 0, "creation_date": 1475163146, "post_id": 33892435, "comment_id": 66843153, "body": "Using this approach I can get everything to compile, but it doesn&#39;t work, because the generated <code>Value$$Parcelable</code> class doesn&#39;t contain any code to write/read <code>size</code>. Am I missing something, has this been proved to work?"}, {"owner": {"reputation": 1645, "user_id": 1061644, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b7ef62396909e73a3316fe4aafb98e5d?s=128&d=identicon&r=PG", "display_name": "Ryhan", "link": "https://stackoverflow.com/users/1061644/ryhan"}, "edited": false, "score": 0, "creation_date": 1478728550, "post_id": 33892435, "comment_id": 68275031, "body": "also worth noting in some scenarios <code>val</code> should be <code>var</code> if the value is expected to change"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 28, "last_activity_date": 1448377596, "last_edit_date": 1448377596, "creation_date": 1448364491, "answer_id": 33892435, "question_id": 33891814, "link": "https://stackoverflow.com/questions/33891814/use-of-parceler-with-kotlin-data-class-with-constructor-for-serialization/33892435#33892435", "title": "Use of Parceler with Kotlin data class with constructor for serialization", "body": "<p>According to the docs, Parceler by default works with public fields. But a usual Kotlin <code>data class</code> (as in your example) is rather a \"traditional getter/setter bean\", since every Kotlin property is represented by a private field and a getter/[setter].</p>\n\n<p>TL; DR: I think this will work:</p>\n\n<pre><code>@Parcel(Serialization.BEAN)\ndata class Valve(val size: Int = 10)\n</code></pre>\n\n<p>Note the default value, it allows Kotlin to automatically generate an additional empty constructor, which is required by the Java Been specification.</p>\n\n<p>Another way would be to mark the constructor that we already have:</p>\n\n<pre><code>@Parcel(Serialization.BEAN)\ndata class Driver @ParcelConstructor constructor(val name: String)\n</code></pre>\n\n<p>The specific document: <a href=\"https://github.com/johncarl81/parceler#gettersetter-serialization\" rel=\"noreferrer\">https://github.com/johncarl81/parceler#gettersetter-serialization</a></p>\n"}, {"tags": [], "owner": {"reputation": 7190, "user_id": 1584931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/210b97cdd2f03f14ce874e23b7b52c73?s=128&d=identicon&r=PG", "display_name": "Bradley Campbell", "link": "https://stackoverflow.com/users/1584931/bradley-campbell"}, "is_accepted": false, "score": 10, "last_activity_date": 1480235727, "last_edit_date": 1480235727, "creation_date": 1454480959, "answer_id": 35170005, "question_id": 33891814, "link": "https://stackoverflow.com/questions/33891814/use-of-parceler-with-kotlin-data-class-with-constructor-for-serialization/35170005#35170005", "title": "Use of Parceler with Kotlin data class with constructor for serialization", "body": "<p>I know this question already has an answer, but for future viewers who are also struggling to get Parceler to work with kotlin data objects, I wrote a new annotation processor to generate the Parcelable boilerplate for Kotlin data classes. It's designed to massively reduce the boilerplate code in making your data classes Parcelable:</p>\n\n<p><a href=\"https://github.com/grandstaish/paperparcel\" rel=\"noreferrer\">https://github.com/grandstaish/paperparcel</a></p>\n\n<p><strong>Usage:</strong></p>\n\n<p>Annotate your data class with <code>@PaperParcel</code>, implement <code>PaperParcelable</code>, and add a JVM static instance of the generated <code>CREATOR</code> e.g.:</p>\n\n<pre><code>@PaperParcel\ndata class Example(\n  val test: Int,\n  ...\n) : PaperParcelable {\n  companion object {\n    @JvmField val CREATOR = PaperParcelExample.CREATOR\n  }\n}\n</code></pre>\n\n<p>Now your data class is <code>Parcelable</code> and can be passed directly to a <code>Bundle</code> or <code>Intent</code></p>\n\n<p><strong>Edit:</strong> Update with latest API</p>\n"}, {"comments": [{"owner": {"reputation": 646, "user_id": 965226, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5a8d9e59644142bf7857bb27c3123b4a?s=128&d=identicon&r=PG", "display_name": "dmitriyzaitsev", "link": "https://stackoverflow.com/users/965226/dmitriyzaitsev"}, "edited": false, "score": 0, "creation_date": 1476957383, "post_id": 35641309, "comment_id": 67571322, "body": "Why downvote? I had the same issue and fixed it exactly this way."}, {"owner": {"reputation": 2332, "user_id": 682216, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/752644e7386956fde1e497e0b27546f3?s=128&d=identicon&r=PG", "display_name": "Nicolas Jafelle", "link": "https://stackoverflow.com/users/682216/nicolas-jafelle"}, "edited": false, "score": 0, "creation_date": 1510689120, "post_id": 35641309, "comment_id": 81539102, "body": "This works for me. BTW you need to use kapt:  <code>compile &#39;org.parceler:parceler-api:1.1.6&#39;</code> <code>kapt &#39;org.parceler:parceler:1.1.6&#39;</code>"}, {"owner": {"reputation": 3369, "user_id": 155668, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/p0C9y.jpg?s=128&g=1", "display_name": "rdoubleui", "link": "https://stackoverflow.com/users/155668/rdoubleui"}, "edited": false, "score": 0, "creation_date": 1514991122, "post_id": 35641309, "comment_id": 83133373, "body": "Specifying <code>size</code> with a default value (as mentioned above) should fulfill the need for the parameterless constructor, no?"}], "tags": [], "owner": {"reputation": 646, "user_id": 965226, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5a8d9e59644142bf7857bb27c3123b4a?s=128&d=identicon&r=PG", "display_name": "dmitriyzaitsev", "link": "https://stackoverflow.com/users/965226/dmitriyzaitsev"}, "is_accepted": false, "score": 5, "last_activity_date": 1456447621, "creation_date": 1456447621, "answer_id": 35641309, "question_id": 33891814, "link": "https://stackoverflow.com/questions/33891814/use-of-parceler-with-kotlin-data-class-with-constructor-for-serialization/35641309#35641309", "title": "Use of Parceler with Kotlin data class with constructor for serialization", "body": "<p>Just add the default constructor:</p>\n\n<pre><code>@Parcel\ndata class Valve(val size: Int) {\n    constructor() : this(0)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": false, "score": 4, "last_activity_date": 1574933611, "last_edit_date": 1574933611, "creation_date": 1557661244, "answer_id": 56098870, "question_id": 33891814, "link": "https://stackoverflow.com/questions/33891814/use-of-parceler-with-kotlin-data-class-with-constructor-for-serialization/56098870#56098870", "title": "Use of Parceler with Kotlin data class with constructor for serialization", "body": "<p>if you use Kotlin 1.1.4 or above it's easier to use @Parcelize annotation </p>\n\n<p>For doing this first add this to <strong>build.gradle</strong> </p>\n\n<pre><code>android {\n    //other codes\n\n    //for using latest experimental build of Android Extensions\n    androidExtensions {\n        experimental = true\n    }\n}\n</code></pre>\n\n<p>Then change your class like this </p>\n\n<pre><code>@Parcelize\ndata class Valve(val size: Int? = null) : Parcelable\n</code></pre>\n"}], "owner": {"reputation": 8698, "user_id": 385219, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b827ab51bb27d9ca9f607dcd8fbedb96?s=128&d=identicon&r=PG", "display_name": "Martynas Jurkus", "link": "https://stackoverflow.com/users/385219/martynas-jurkus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10415, "favorite_count": 3, "accepted_answer_id": 33892435, "answer_count": 4, "score": 23, "last_activity_date": 1574933611, "creation_date": 1448362742, "last_edit_date": 1452630463, "question_id": 33891814, "link": "https://stackoverflow.com/questions/33891814/use-of-parceler-with-kotlin-data-class-with-constructor-for-serialization", "title": "Use of Parceler with Kotlin data class with constructor for serialization", "body": "<p>Is there a way to use <a href=\"https://github.com/johncarl81/parceler\">Parceler</a> with Kotlin data classes and constructor for serialization without using <code>@ParcelProperty</code> annotation for each field?</p>\n\n<p>If I try and use library like this:</p>\n\n<pre><code>@Parcel\ndata class Valve @ParcelConstructor constructor(val size: Int)\n</code></pre>\n\n<p>I get <code>Error:Parceler: No corresponding property found for constructor parameter arg0</code>. But if I add <code>@ParcelProperty(\"size\")</code> it works just fine.<br>\nWhy is that?</p>\n\n<p><strong>Update</strong>:<br>\nThere are other another way to use this library.<br>\nI could just remove <code>@ParcelConstructor</code> annotation, but then I will get error<br>\n<code>Error:Parceler: No @ParcelConstructor annotated constructor and no default empty bean constructor found.</code><br>\nI think (haven't tested it) I also could make all constructor parameters optional and add <code>@JvmOverloads</code> but that has a side effect that I have to check all properties of the class if they are null or not.</p>\n\n<p><strong>Update 2</strong>:<br>\nThis is what worked for me:</p>\n\n<pre><code>@Parcel\ndata class Valve(val size: Int? = null)\n</code></pre>\n\n<p>In short generated Java class must have default empty constructor. One way to achieve that is to do as above - all variables should have default values.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "instant-run"], "comments": [{"owner": {"reputation": 706, "user_id": 5797536, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xigW4X03cD0/AAAAAAAAAAI/AAAAAAAAADU/Z9z6zpdoJe4/photo.jpg?sz=128", "display_name": "Jerome Dochez", "link": "https://stackoverflow.com/users/5797536/jerome-dochez"}, "edited": false, "score": 0, "creation_date": 1453225892, "post_id": 33880943, "comment_id": 57507827, "body": "sorry about the issues you are having with InstantRun. There is already a bug file for this issue at <a href=\"https://code.google.com/p/android/issues/detail?id=195044\" rel=\"nofollow noreferrer\">code.google.com/p/android/issues/detail?id=195044</a> please update it with your issues. it would help tremendously if a reproducible test case could be provided."}], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 726039, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b4493867b391b34365bbbcf0bf3352?s=128&d=identicon&r=PG", "display_name": "Samuel Barbosa", "link": "https://stackoverflow.com/users/726039/samuel-barbosa"}, "edited": false, "score": 0, "creation_date": 1448321745, "post_id": 33882419, "comment_id": 55530014, "body": "Are you using it witk Kotlin?"}, {"owner": {"reputation": 553, "user_id": 1752263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DKBAW.jpg?s=128&g=1", "display_name": "clay_to_n", "link": "https://stackoverflow.com/users/1752263/clay-to-n"}, "reply_to_user": {"reputation": 782, "user_id": 726039, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b4493867b391b34365bbbcf0bf3352?s=128&d=identicon&r=PG", "display_name": "Samuel Barbosa", "link": "https://stackoverflow.com/users/726039/samuel-barbosa"}, "edited": false, "score": 1, "creation_date": 1448322000, "post_id": 33882419, "comment_id": 55530102, "body": "Should have specified - I am not, just a normal Java Android project that gave the same exception."}], "tags": [], "owner": {"reputation": 553, "user_id": 1752263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DKBAW.jpg?s=128&g=1", "display_name": "clay_to_n", "link": "https://stackoverflow.com/users/1752263/clay-to-n"}, "is_accepted": false, "score": 22, "last_activity_date": 1448322036, "last_edit_date": 1448322036, "creation_date": 1448319769, "answer_id": 33882419, "question_id": 33880943, "link": "https://stackoverflow.com/questions/33880943/error-running-android-written-in-kotlin-project-compiled-with-gradle2-0-0-alph/33882419#33882419", "title": "Error running Android (written in Kotlin) project compiled with Gradle2.0.0-alpha plugin", "body": "<p>On a non-Kotlin Android project, I was running into this same problem.  I solved it by turning Instant Run off (<strong>Preferences -> Build, Execution, Deployment -> Instant Run -> Enable Instant Run</strong>), running my app, and then turning Instant Run back on.</p>\n\n<p>Instant Run isn't working for me as advertised, but this at least got the app to build on 2.0.0-alpha.</p>\n"}], "owner": {"reputation": 782, "user_id": 726039, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b1b4493867b391b34365bbbcf0bf3352?s=128&d=identicon&r=PG", "display_name": "Samuel Barbosa", "link": "https://stackoverflow.com/users/726039/samuel-barbosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6215, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1460513653, "creation_date": 1448313771, "last_edit_date": 1448808388, "question_id": 33880943, "link": "https://stackoverflow.com/questions/33880943/error-running-android-written-in-kotlin-project-compiled-with-gradle2-0-0-alph", "title": "Error running Android (written in Kotlin) project compiled with Gradle2.0.0-alpha plugin", "body": "<p>When compiling the project with the new <code>gradle2.0.0-alpha</code> pluggin I'm getting.</p>\n\n<pre><code>java.lang.RuntimeException: \n  Unable to instantiate application com.android.tools.fd.runtime.BootstrapApplication: \n  java.lang.ClassNotFoundException: \n    Didn't find class \"com.android.tools.fd.runtime.BootstrapApplication\" on path:\n    DexPathList[[zip file \"/data/app/com.inoutdelivery.enfesta-1/base.apk\"],nativeLibraryDirectories=[/vendor/lib, /system/lib]]\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20424, "user_id": 445715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3824489df267d3bf86bbc678b9745ac4?s=128&d=identicon&r=PG", "display_name": "Andrey Breslav", "link": "https://stackoverflow.com/users/445715/andrey-breslav"}, "is_accepted": true, "score": 12, "last_activity_date": 1448313474, "creation_date": 1448313474, "answer_id": 33880874, "question_id": 33877225, "link": "https://stackoverflow.com/questions/33877225/kotlin-wildcard-capture-on-list-callback-parameter/33880874#33880874", "title": "Kotlin Wildcard Capture on List Callback Parameter", "body": "<p>The issue stems from Kotlin collections being <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"noreferrer\">variant</a>, and Java only having use-site variance which is implemented though wildcards (capture is something connected to wildcards but not exactly the <code>? extends ...</code> syntax itself).</p>\n\n<p>When in Kotlin we say <code>List&lt;Model&gt;</code> it means \"read-only list of <code>Model</code> or subtypes of <code>Model</code>\", when we say the same in Java it means \"mutable list of exactly <code>Model</code> and nothing else\". To mean roughly what Kotlin's <code>List&lt;Model&gt;</code> means, in Java we have to say <code>List&lt;? extends Model&gt;</code>, this is why for the override to work you have to add the wildcard into the Java code.</p>\n\n<p>Now, your <code>doSomething</code> is written in Java and says that it wants \"a list of exactly <code>Model</code>\", and when you are giving it \"a list of <code>Model</code> or its subtypes\", the Java compiler complains, because it can be dangerous: <code>doSomething</code> might try to do something that is not legitimate for a list of, say, <code>ModelImpl</code>, because it thinks it's working on a list of <code>Model</code>.</p>\n\n<p>As of now (Kotlin Beat 2), you have two options:</p>\n\n<ul>\n<li>use <code>MutableList&lt;Model&gt;</code> in your Kotlin code - this mean exactly what Java's <code>List&lt;Model&gt;</code> means, or</li>\n<li>define <code>doSomething</code> so that it takes <code>List&lt;? extends Model&gt;</code>, which is what your current Kotlin code means.</li>\n</ul>\n\n<p>In the next update of Kotlin we'll add an annotation on types to facilitate a somewhat cleaner workaround for this problem.</p>\n"}, {"tags": [], "owner": {"reputation": 314, "user_id": 6445611, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZtvY8loIWjE/AAAAAAAAAAI/AAAAAAAAAXE/Ul2cnfvo_II/photo.jpg?sz=128", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u0443\u043d\u0434\u0440\u044e\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/6445611/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%9a%d1%83%d0%bd%d0%b4%d1%80%d1%8e%d0%ba%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1615552802, "creation_date": 1615552802, "answer_id": 66600102, "question_id": 33877225, "link": "https://stackoverflow.com/questions/33877225/kotlin-wildcard-capture-on-list-callback-parameter/66600102#66600102", "title": "Kotlin Wildcard Capture on List Callback Parameter", "body": "<p>To solve the problem with capture&lt;? extends Model&gt;</p>\n<p>You may do something like this:</p>\n<pre><code>void doSomething(List&lt;Model&gt; models) {\n    new ArrayList(models)\n}\n</code></pre>\n"}], "owner": {"reputation": 2636, "user_id": 211601, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Jfttk.png?s=128&g=1", "display_name": "Jeremy Lyman", "link": "https://stackoverflow.com/users/211601/jeremy-lyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 33880874, "answer_count": 2, "score": 4, "last_activity_date": 1615552802, "creation_date": 1448300581, "question_id": 33877225, "link": "https://stackoverflow.com/questions/33877225/kotlin-wildcard-capture-on-list-callback-parameter", "title": "Kotlin Wildcard Capture on List Callback Parameter", "body": "<p>Java: </p>\n\n<pre><code>public class JavaClass implements ModelController.Callback {\n\n    @Override\n    public void onModelsLoaded(@NonNull List&lt;? extends Model&gt; models) {\n        doSomething(models);\n    }\n\n    private void doSomething(List&lt;Model&gt; models) { }\n\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>class ModelController {\n    var callback = WeakReference&lt;Callback&gt;(null)\n\n    interface Callback {\n        fun onModelsLoaded(models: List&lt;Model&gt;)\n    }\n\n    fun someFunction() {\n        callback.get().onModelsLoaded(ArrayList&lt;Model&gt;())\n    }\n}\n\ninterface Model {\n\n}\n</code></pre>\n\n<p>Without the ? extends Model in the Java onModelsLoaded method, the override doesn\u2019t match the interface made in Kotlin. With it, I get the following error:</p>\n\n<pre><code>doSomething(&lt;java.util.List&lt;com.yada.Model&gt;) cannot be applied to (java.util.List&lt;capture&lt;? extends com.yada.Model&gt;&gt;)\n</code></pre>\n\n<p>Why is the wildcard capture required and why doesn't it allow it to be used against the non-wildcard method?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "edited": false, "score": 1, "creation_date": 1448293850, "post_id": 33874222, "comment_id": 55513727, "body": "This feature is not implemented yet, see <a href=\"http://stackoverflow.com/questions/28022388/reference-to-method-of-a-particular-instance-in-kotlin\" title=\"reference to method of a particular instance in kotlin\">stackoverflow.com/questions/28022388/&hellip;</a>"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448294135, "post_id": 33874222, "comment_id": 55513957, "body": "It works for me -- <a href=\"http://try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd/979gqb7qh0saspc0ig6avidbq1\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448294218, "post_id": 33874222, "comment_id": 55514015, "body": "is it foo member fun?"}, {"owner": {"reputation": 154, "user_id": 3487266, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6eae9bb67c759417d44e953baa2b9c06?s=128&d=identicon&r=PG&f=1", "display_name": "Siavash", "link": "https://stackoverflow.com/users/3487266/siavash"}, "edited": false, "score": 0, "creation_date": 1448294410, "post_id": 33874222, "comment_id": 55514144, "body": "yes it&#39;s a member function (I know which it&#39;s working for package functions)"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448381347, "post_id": 33874222, "comment_id": 55559401, "body": "Well, let&#39;s fix question."}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448381518, "post_id": 33874222, "comment_id": 55559535, "body": "You can use member funs w/o binding <code>this</code> like: <code>Foo::bar</code>"}, {"owner": {"reputation": 154, "user_id": 3487266, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6eae9bb67c759417d44e953baa2b9c06?s=128&d=identicon&r=PG&f=1", "display_name": "Siavash", "link": "https://stackoverflow.com/users/3487266/siavash"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448449506, "post_id": 33874222, "comment_id": 55591094, "body": "@bashor what do you mean? can you give a sample?"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448474476, "post_id": 33874222, "comment_id": 55607797, "body": "@siavash <a href=\"http://try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd/6i7qn58hmgbt44m9pkr3j4e282\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 154, "user_id": 3487266, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6eae9bb67c759417d44e953baa2b9c06?s=128&d=identicon&r=PG&f=1", "display_name": "Siavash", "link": "https://stackoverflow.com/users/3487266/siavash"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448477789, "post_id": 33874222, "comment_id": 55609662, "body": "@bashor the example that you provide is near what I want but there is one problem, it is limit to a specific class and I cannot use that function over other classes <a href=\"http://try.kotlinlang.org/#/UserProjects/5iur76b0pfupug801sr8qfmctk/hl942gpljmgvsld2mtme9mv626\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/5iur76b0pfupug801sr8qfmctk&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448566851, "post_id": 33874222, "comment_id": 55650840, "body": "@siavash ok, You can write own bind fun: <a href=\"http://try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd/r8g29o6busul6kurj7opiad2cl\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd&zwnj;&#8203;/&hellip;</a> But I don&#39;t sure that it simpler/better than just use lambda"}, {"owner": {"reputation": 154, "user_id": 3487266, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6eae9bb67c759417d44e953baa2b9c06?s=128&d=identicon&r=PG&f=1", "display_name": "Siavash", "link": "https://stackoverflow.com/users/3487266/siavash"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448821722, "post_id": 33874222, "comment_id": 55728219, "body": "@bashor The last example is not working! and in this case I don&#39;t want to use lambda because I want a function with 3 args for example, that 2 of it are functions, so how can I use lambda for it? (Note: that&#39;s my main goal) like this : <a href=\"http://try.kotlinlang.org/#/UserProjects/5iur76b0pfupug801sr8qfmctk/hl942gpljmgvsld2mtme9mv626\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/5iur76b0pfupug801sr8qfmctk&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448926167, "post_id": 33874222, "comment_id": 55775940, "body": "What doesn&#39;t work? I missed to call <code>f</code> in <code>boo</code>. Is it what did you mean?"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1448926530, "post_id": 33874222, "comment_id": 55776061, "body": "Do you want something like this? <a href=\"http://try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd/nr312ulsvbsasev6jc2oohnn2k\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/f9jhaiqob1emh7ho02m7embdsd&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 3487266, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6eae9bb67c759417d44e953baa2b9c06?s=128&d=identicon&r=PG&f=1", "display_name": "Siavash", "link": "https://stackoverflow.com/users/3487266/siavash"}, "edited": false, "score": 0, "creation_date": 1448318164, "post_id": 33881929, "comment_id": 55528553, "body": "I forgot to say which the function that I want to pass can be a member function otherwise you&#39;re right"}], "tags": [], "owner": {"reputation": 226, "user_id": 2505233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c31fd9bdfb590d7023076b8534e2eea1?s=128&d=identicon&r=PG", "display_name": "Dzmitry Misiuk", "link": "https://stackoverflow.com/users/2505233/dzmitry-misiuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1448317677, "creation_date": 1448317677, "answer_id": 33881929, "question_id": 33874222, "link": "https://stackoverflow.com/questions/33874222/how-to-pass-functions-to-function-in-kotlin/33881929#33881929", "title": "How to pass functions to function in Kotlin", "body": "<p>I have just checked your example. It's works for me. Kotlin version 1.0.0-beta-2423</p>\n\n<p><a href=\"https://i.stack.imgur.com/450UY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/450UY.png\" alt=\"Code in Idea\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 0, "last_activity_date": 1580308908, "last_edit_date": 1580308908, "creation_date": 1449244948, "answer_id": 34092412, "question_id": 33874222, "link": "https://stackoverflow.com/questions/33874222/how-to-pass-functions-to-function-in-kotlin/34092412#34092412", "title": "How to pass functions to function in Kotlin", "body": "<p>In Kotlin 1.1 and later you can use <a href=\"https://kotlinlang.org/docs/reference/whatsnew11.html#bound-callable-references\" rel=\"nofollow noreferrer\">bound callable references</a>. e.g. <code>bar(::foo)</code>.</p>\n\n<p>In the <a href=\"http://blog.jetbrains.com/kotlin/2015/11/kotlin-1-0-beta-2-is-out/\" rel=\"nofollow noreferrer\">second 1.0 Beta Candidate</a> and other prior versions you could not pass around member functions. This issue was tracked as <a href=\"https://youtrack.jetbrains.com/issue/KT-6947\" rel=\"nofollow noreferrer\">KT-6947</a>.</p>\n"}], "owner": {"reputation": 154, "user_id": 3487266, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6eae9bb67c759417d44e953baa2b9c06?s=128&d=identicon&r=PG&f=1", "display_name": "Siavash", "link": "https://stackoverflow.com/users/3487266/siavash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 34092412, "answer_count": 2, "score": 1, "last_activity_date": 1580308908, "creation_date": 1448291097, "last_edit_date": 1448318290, "question_id": 33874222, "link": "https://stackoverflow.com/questions/33874222/how-to-pass-functions-to-function-in-kotlin", "title": "How to pass functions to function in Kotlin", "body": "<p>I want to pass one or more function(s) to a function but as long as it is a function literal or a package function it's working but when I change it to a function of a specific class (member function) I have the following problems</p>\n\n<p>suppose I have these two functions</p>\n\n<pre><code>fun foo() { //doSomething }\nfun bar(function: () -&gt; Unit) { \n    //anotherThing! \n    function()\n}\n</code></pre>\n\n<p>when I call </p>\n\n<pre><code>bar(foo()) \n</code></pre>\n\n<p>or</p>\n\n<pre><code>bar(::foo)\n</code></pre>\n\n<p>I've encountered a type mismatch \n(Required: ()->Unit , Found: Unit)</p>\n\n<p><strong>Note:</strong> I don't want to solve it like this</p>\n\n<pre><code>bar( { foo() } )\n</code></pre>\n\n<p>or</p>\n\n<pre><code>bar {\nfoo()\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 2, "last_activity_date": 1448288397, "creation_date": 1448288397, "answer_id": 33873261, "question_id": 33872798, "link": "https://stackoverflow.com/questions/33872798/is-it-possible-to-define-a-default-value-for-a-parameter-function/33873261#33873261", "title": "Is it possible to define a default value for a parameter function?", "body": "<p>You can use lambdas to define a default value for a functional parameter. Here's an example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    higherOrderFun()\n    higherOrderFun { println(\"World\")}\n}\n\nfun higherOrderFun(fn : () -&gt; Unit = { println(\"Hello\") }) {\n    fn()\n}\n</code></pre>\n"}], "owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448288397, "creation_date": 1448286887, "question_id": 33872798, "link": "https://stackoverflow.com/questions/33872798/is-it-possible-to-define-a-default-value-for-a-parameter-function", "title": "Is it possible to define a default value for a parameter function?", "body": "<p>Is it possible to define a default function as a parameter for another function in Kotlin? I know that we can define default values for objects but don't know how to do it for parameter functions.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 1, "creation_date": 1448266791, "post_id": 33865878, "comment_id": 55496542, "body": "Indeed it works, and also forces you to acknowledge intention by adding the &#39;override&#39; modifier (I was missing this before)."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1451187142, "last_edit_date": 1451187142, "creation_date": 1448264535, "answer_id": 33865878, "question_id": 33863333, "link": "https://stackoverflow.com/questions/33863333/kotlin-interface-with-immutable-property-implemented-by-class-with-mutable/33865878#33865878", "title": "Kotlin : Interface with immutable property implemented by class with mutable", "body": "<p>Yes, it definitely is possible to define such an interface and a class.</p>\n\n<p>Any (publicly visible) property <code>x</code> in Kotlin means a pair of methods <code>getX()</code> and <code>setX(..)</code>, generated by the compiler to satisfy the Java convention. That said, it is consistent that you can override <code>getX</code> in a class and add <code>setX</code>.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>interface SomethingImmutable {\n    val Somevar: String\n}\n\nclass MyClass: SomethingImmutable {\n    override var Somevar: String = \"Initial Value\"\n}\n</code></pre>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 2, "accepted_answer_id": 33865878, "answer_count": 1, "score": 3, "last_activity_date": 1451187142, "creation_date": 1448249522, "question_id": 33863333, "link": "https://stackoverflow.com/questions/33863333/kotlin-interface-with-immutable-property-implemented-by-class-with-mutable", "title": "Kotlin : Interface with immutable property implemented by class with mutable", "body": "<p>I have the following code: </p>\n\n<ul>\n<li>Works around a limitation in Spring where @ConfigurationProperties classes need to follow the JavaBeans convention with mutable properties. </li>\n</ul>\n\n<p><strong>Instead of inject the mutable TokenConfigurationConfig we inject the interface.</strong></p>\n\n<pre><code>public interface TokenAuthenticationConfig {\n\n    public fun apiKey() : String\n\n}\n\n@Component\n@ConfigurationProperties(prefix = \"service.api\")\npublic open class TokenAuthenticationConfigImpl : TokenAuthenticationConfig\n{\n    public var apiKey : String\n\n    constructor() {\n        this.apiKey = \"\"\n    }\n\n    override fun apiKey(): String\n    {\n        return this.apiKey\n    }\n}\n</code></pre>\n\n<p>It works ok, but just wondering: </p>\n\n<ul>\n<li>Is it possible in Kotlin to define an interface with an immutable property, that is implemented by class with a mutable property. </li>\n</ul>\n\n<p>Uses of the interface would see the property as immutable, while users of the class would see it as mutable. </p>\n"}, {"tags": ["annotations", "nested", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 3, "last_activity_date": 1448209152, "creation_date": 1448209152, "answer_id": 33857062, "question_id": 33855843, "link": "https://stackoverflow.com/questions/33855843/nested-annotations-in-kotlin/33857062#33857062", "title": "Nested annotations in Kotlin", "body": "<p>This is a bug in the Kotlin compiler, it should be allowed. Thanks for the report! I've created an issue: <a href=\"https://youtrack.jetbrains.com/issue/KT-10136\" rel=\"nofollow\">https://youtrack.jetbrains.com/issue/KT-10136</a></p>\n\n<p>I'm not aware of any workaround though, except rewriting <code>OuterAnnotation</code> in Java.</p>\n"}, {"comments": [{"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "edited": false, "score": 2, "creation_date": 1448289653, "post_id": 33873145, "comment_id": 55510863, "body": "But I don&#39;t use <code>@</code> on the nested annotations."}], "tags": [], "owner": {"reputation": 5628, "user_id": 1340183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd31e838b01c32ffe216b6d3163289f1?s=128&d=identicon&r=PG", "display_name": "evanchooly", "link": "https://stackoverflow.com/users/1340183/evanchooly"}, "is_accepted": false, "score": 5, "last_activity_date": 1448288083, "creation_date": 1448288083, "answer_id": 33873145, "question_id": 33855843, "link": "https://stackoverflow.com/questions/33855843/nested-annotations-in-kotlin/33873145#33873145", "title": "Nested annotations in Kotlin", "body": "<p>This works if you don't use <code>@</code> on the nested annotations.  As far as I've read and talked to the devs about, this is the intended syntax for nested annotations.  It feels inconsistent and I hope they change it but being so close to 1.0, hopes are low.</p>\n"}], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "accepted_answer_id": 33857062, "answer_count": 2, "score": 2, "last_activity_date": 1448288083, "creation_date": 1448202232, "question_id": 33855843, "link": "https://stackoverflow.com/questions/33855843/nested-annotations-in-kotlin", "title": "Nested annotations in Kotlin", "body": "<p>In Java it's possible to create nested annotations like this one:</p>\n\n<pre><code>public @interface InnerInnotation {\n  String value();\n}\n\npublic @interface OuterAnnotation {\n  InnerAnnotation[] value() default {\n    @InnerAnnotation(\"Hello\"),\n    @InnerAnnotation(\"World\")\n  }\n}\n\nannotation class InnerAnnotation(val value: String)\n</code></pre>\n\n<p>But when I'm trying to do the same thing in Kotlin, I get a compilation error:</p>\n\n<pre><code>annotation class OuterAnnotation(\n  // Next line doesn't compile: \"Annotation class cannot be instantiated\"\n  val value: Array&lt;InnerAnnotation&gt; = arrayOf(InnerAnnotation(\"Test\"))\n)\n</code></pre>\n\n<p>However a single instance annotation field works fine:</p>\n\n<pre><code>annotation class OuterAnnotation(\n  val value: InnerAnnotation = InnerAnnotation(\"Hello World\")\n)\n</code></pre>\n\n<p>Is there a way to define an annotation with a nested annotation array field and specify a default value for this field?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448202722, "post_id": 33855859, "comment_id": 55475931, "body": "I tried to create lambda instance of shuffling, just to test how lambdas in kotlin work."}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448202814, "post_id": 33855859, "comment_id": 55475957, "body": "1)  Am I able to add multi lines? Last line will return the value? But what if I use if/else?  2) If I re-write interface to java&#39;s one, I&#39;ll be able to use lamdas? Or how to do this with Kotlin? I really like do not write this object, override, etc"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448203010, "post_id": 33855859, "comment_id": 55476022, "body": "would you prefer my incomplete, shortened answer or a link to docs?"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448203273, "post_id": 33855859, "comment_id": 55476111, "body": "heh, I think your answer would be more clear. Also yes, your solution works for me, but I still have that questions"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448203398, "post_id": 33855859, "comment_id": 55476153, "body": "And also, is it necessary to &quot;cast&quot; to Shuffling? Am I able somehow use just curly braces?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448203720, "post_id": 33855859, "comment_id": 55476271, "body": "I don&#39;t really get your question about the lambda syntax but: (1) lines are not restricted, (2) the last expression in a lambda is returned (3) what is it so special about if\\else?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448203941, "post_id": 33855859, "comment_id": 55476364, "body": "about the interfaces: with Kotlin you can throw them out and use a functional type: <code>() -&gt; Unit</code>. And I insist on you reading the docs, because it gets complicated here. Sorry :D <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html#function-types</a>"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448204158, "post_id": 33855859, "comment_id": 55476452, "body": "Kinda this: <a href=\"http://pastie.org/10573950\" rel=\"nofollow noreferrer\">pastie.org/10573950</a>. And about interfaces, that was just because I wanted to create list of single method interface and put there kinda lambda from Java8"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448204588, "post_id": 33855859, "comment_id": 55476640, "body": "one question at a comment please! With the <code>if</code>: you got two options: (1) you add an <code>else</code> branch and put the <code>if</code> as the last expression <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#if-expression\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/control-flow.html#if-expressio&zwnj;&#8203;n</a>.  Or (2) if you feel geeky you may utilize a &quot;function expression&quot;, cause it has returns and everything (but nobody like the syntax :)"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 10, "last_activity_date": 1448202702, "last_edit_date": 1448202702, "creation_date": 1448202304, "answer_id": 33855859, "question_id": 33855154, "link": "https://stackoverflow.com/questions/33855154/anonymous-classes-with-lambdas-in-kotlin/33855859#33855859", "title": "Anonymous classes with lambdas in Kotlin", "body": "<p>OK, so here are the quick fixes:</p>\n\n<p>For your first question: please remove the \"internal\" pair of brackets from your lambda. Now your code returns not <code>ArrayList&lt;Int&gt;()</code>, but a function that returns the list (when invoked)</p>\n\n<p>For the second question: the trick that you used in your first question called SAM conversion and works <em>only</em> for java interfaces to be consistent with java8. Your <code>Drawable</code> is defined in Kotlin, so no black magic available, you have to create an instance and pass it: </p>\n\n<pre><code>drawList.add(object: Drawable {\n    override fun draw() = glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices)\n})\n</code></pre>\n\n<p>for more info please read: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions</a></p>\n\n<p>P.S you do not have to use <code>Shuffling</code> before a lambda. It is not needed here (I guess) and it complicates the the code a lot.</p>\n"}], "owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6711, "favorite_count": 0, "accepted_answer_id": 33855859, "answer_count": 1, "score": 8, "last_activity_date": 1448202824, "creation_date": 1448198024, "last_edit_date": 1448202824, "question_id": 33855154, "link": "https://stackoverflow.com/questions/33855154/anonymous-classes-with-lambdas-in-kotlin", "title": "Anonymous classes with lambdas in Kotlin", "body": "<p>I'm trying to re-write my leisure time project from Java to Kotlin (to understand it) and I met some problems. Researches brought me to <code>{ function() }</code> but It didn't help me</p>\n\n<p>In Java I have this interface:</p>\n\n<pre><code>public interface Shuffling&lt;T&gt; {\n\n  List&lt;T&gt; shuffle(List&lt;T&gt; list, ShuffleCallback callback);\n\n  interface ShuffleCallback {\n    void onShuffle(int addedTo, int randomIndex);\n  }\n}\n</code></pre>\n\n<p>And I'm trying to add test object to List of shuffling algorithms in Kotlin:</p>\n\n<pre><code>val algoList = ArrayList&lt;Shuffling&lt;Int&gt;&gt;()\nalgoList.add(Shuffling { list, callback -&gt; {\n    Timber.d(\"Test!\")\n    ArrayList&lt;Int&gt;() // how to return this value?\n}})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/220JU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/220JU.png\" alt=\"First trouble\"></a></p>\n\n<p>How to add multiple lines to lambda function?</p>\n\n<p>Also I have another example with troubles:</p>\n\n<p>Kotlin interface:</p>\n\n<pre><code>interface Drawable {\n    fun draw()\n}\n</code></pre>\n\n<p>And Kotlin implementation: </p>\n\n<pre><code>private val drawList = ArrayList&lt;Drawable&gt;()\n\n//...\ndrawList.add(Drawable {glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices)})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zkLpu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zkLpu.png\" alt=\"Second trouble\"></a></p>\n\n<p>Previously I used just:</p>\n\n<pre><code>mDrawList.add(() -&gt; glDrawArrays(GL_TRIANGLE_FAN, startVertex, numVertices));\n</code></pre>\n\n<p>And everything was OK.</p>\n"}, {"tags": ["extension-methods", "weak-references", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448201293, "post_id": 33854765, "comment_id": 55475484, "body": "I think that&#39;s a usability bug. The error message is misleading"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1448277628, "post_id": 33854765, "comment_id": 55502877, "body": "How does <code>mTimerView.safe(stopTimer())</code> compile? Shouldn&#39;t it be <code>mTimerView.safe { stopTimer() }</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1448209338, "post_id": 33854929, "comment_id": 55478498, "body": "Not related to the question, but consider marking your function <code>inline</code> to avoid creating a lambda on each call site."}, {"owner": {"reputation": 3121, "user_id": 1048418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8110ec87e6a79865071765f48fd1670e?s=128&d=identicon&r=PG", "display_name": "Dawid Hy\u017cy", "link": "https://stackoverflow.com/users/1048418/dawid-hy%c5%bcy"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1448210120, "post_id": 33854929, "comment_id": 55478790, "body": "I&#39;ve tried it before but i got:  Error:(35, 20) org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn&#39;t inline method call &#39;safe&#39; into override fun onStartClick() {         mTimerView.safe { startTimer() }         mIsTimerStarted = true         mTimerView.safe { enableStop(mIsTimerStarted) }     } Cause: Method inlining safe { startTimer() }: couldn&#39;t inline method call cause: safe"}], "tags": [], "owner": {"reputation": 3121, "user_id": 1048418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8110ec87e6a79865071765f48fd1670e?s=128&d=identicon&r=PG", "display_name": "Dawid Hy\u017cy", "link": "https://stackoverflow.com/users/1048418/dawid-hy%c5%bcy"}, "is_accepted": true, "score": 3, "last_activity_date": 1448196420, "creation_date": 1448196420, "answer_id": 33854929, "question_id": 33854765, "link": "https://stackoverflow.com/questions/33854765/extension-method-on-weakreference/33854929#33854929", "title": "Extension method on WeakReference", "body": "<p>I've found an answer:</p>\n\n<pre><code>fun &lt;T&gt; WeakReference&lt;T&gt;.safe( body : T.() -&gt; Unit) {\n    this.get()?.body()\n}\n</code></pre>\n"}], "owner": {"reputation": 3121, "user_id": 1048418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8110ec87e6a79865071765f48fd1670e?s=128&d=identicon&r=PG", "display_name": "Dawid Hy\u017cy", "link": "https://stackoverflow.com/users/1048418/dawid-hy%c5%bcy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 33854929, "answer_count": 1, "score": 2, "last_activity_date": 1448289692, "creation_date": 1448195353, "last_edit_date": 1448289692, "question_id": 33854765, "link": "https://stackoverflow.com/questions/33854765/extension-method-on-weakreference", "title": "Extension method on WeakReference", "body": "<p>I've want to create extension method which will execute method only if reference is not null: </p>\n\n<pre><code>fun WeakReference&lt;T&gt;.safe( body : T.() -&gt; Unit) {\n    this.get()?.body()\n}\n</code></pre>\n\n<p>usage example:</p>\n\n<pre><code>mTimerView.safe({startTimer(time)}) \n// OR\nmTimerView.safe { startTimer(time) }\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>mTimerView.get()?.stopTimer()\n</code></pre>\n\n<p>What I'm doing wrong because I'm getting: \"Unresolved reference: T\" ?</p>\n\n<p>Or maybe there is easier way to do that without extension method?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 11, "last_activity_date": 1448191777, "creation_date": 1448191777, "answer_id": 33854258, "question_id": 33852770, "link": "https://stackoverflow.com/questions/33852770/protected-members-not-accessible-in-extension-functions/33854258#33854258", "title": "Protected members not accessible in extension functions?", "body": "<p>You are correct, extension functions/properties are compiled to static JVM methods. Generally they are located in another class in some other package than the class they're extending, so it's not possible to call protected methods of that class due to VM accessibility rules. It's also consistent with the <code>protected</code> visibility <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces\" rel=\"noreferrer\">definition</a> (visible in the class and its subclasses): an extension function is not a subclass, nor is it defined in a subclass of the class you're extending.</p>\n\n<p>The fact that you can use or omit <code>this</code> in the body of an extension function is only a syntactic feature, the compiler emits the required instructions to load the first parameter of the JVM method instead.</p>\n"}], "owner": {"reputation": 2505, "user_id": 2538428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/jxlRs.png?s=128&g=1", "display_name": "Andr&#233; Diermann", "link": "https://stackoverflow.com/users/2538428/andr%c3%a9-diermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1751, "favorite_count": 0, "accepted_answer_id": 33854258, "answer_count": 1, "score": 7, "last_activity_date": 1448191777, "creation_date": 1448178938, "question_id": 33852770, "link": "https://stackoverflow.com/questions/33852770/protected-members-not-accessible-in-extension-functions", "title": "Protected members not accessible in extension functions?", "body": "<p>Kotlin features a couple of <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"noreferrer\">visibility modifiers</a> as well as <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">extension functions</a>. The documentation states that <code>Extensions are resolved statically</code>. But what does this mean for the visibility of class members within extension functions?</p>\n\n<p>Let's consider the following contrived example:</p>\n\n<pre><code>class A { protected val a = \"Foo\" }\nfun A.ext() { print(a) } //Raises: Cannot access 'a': it is 'protected' in 'A'\n\nclass B { val b = \"Bar\" }\nfun B.ext() { print(b) } //Compiles successful\n</code></pre>\n\n<p>The code will not compile. It seems that protected members are not accessible when extending the class.</p>\n\n<p>So does <em>resolved statically</em> mean the extension function is syntactic sugar for having something like this in Java:</p>\n\n<pre><code>public static void ext(A receiver){ System.out.print(receiver.a); }\n</code></pre>\n\n<p>This would explain why protected members aren't accessible. On the other hand it's possible to use (and even omit) <code>this</code> in extension functions.</p>\n\n<p>So what is the exact scope of extension functions?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 12, "creation_date": 1448148874, "post_id": 33849879, "comment_id": 55464340, "body": "I tried to use &quot;protected var sharedPreferences : SharedPreferences? = null&quot; and it also works, what&#39;s the difference?"}, {"owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "edited": false, "score": 0, "creation_date": 1448148930, "post_id": 33849879, "comment_id": 55464360, "body": "I see that if I use Dagger2 for DI, I have to use your variant, right?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 32, "creation_date": 1448151267, "post_id": 33849879, "comment_id": 55464904, "body": "The difference is that you can declare non-nullable values with lateinit."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 198, "last_activity_date": 1448148658, "creation_date": 1448148658, "answer_id": 33849879, "question_id": 33849811, "link": "https://stackoverflow.com/questions/33849811/property-must-be-initialized-or-be-abstract/33849879#33849879", "title": "Property must be initialized or be abstract", "body": "<p>If you'd like to initialize a property outside the constructor, then <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\">late-initialized properties</a> is what you may be looking for. Declare the property with the <code>lateinit</code> modifier, which will allow to skip the otherwise required initializer and will make the property access fail with exception until some meaningful value is assigned to it:</p>\n\n<pre><code>protected lateinit var sharedPreferences: SharedPreferences\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3826, "user_id": 1803879, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/adc631e70ac262fa5fab8bb81f0db715?s=128&d=identicon&r=PG", "display_name": "Tom Howard", "link": "https://stackoverflow.com/users/1803879/tom-howard"}, "is_accepted": false, "score": 18, "last_activity_date": 1546723477, "creation_date": 1546723477, "answer_id": 54056408, "question_id": 33849811, "link": "https://stackoverflow.com/questions/33849811/property-must-be-initialized-or-be-abstract/54056408#54056408", "title": "Property must be initialized or be abstract", "body": "<p>Pulling this out of the comments from Alexander Udalov's answer for visibility. \nFor nullable properties:</p>\n\n<p><code>protected var sharedPreferences : SharedPreferences? = null</code></p>\n\n<p>...and assign it a value later.</p>\n"}], "owner": {"reputation": 4031, "user_id": 4142087, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100004205677206/picture?type=large", "display_name": "Anton Shkurenko", "link": "https://stackoverflow.com/users/4142087/anton-shkurenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43417, "favorite_count": 8, "accepted_answer_id": 33849879, "answer_count": 2, "score": 130, "last_activity_date": 1546723477, "creation_date": 1448148118, "question_id": 33849811, "link": "https://stackoverflow.com/questions/33849811/property-must-be-initialized-or-be-abstract", "title": "Property must be initialized or be abstract", "body": "<p>It must be stupid question, but I'm really new to Kotlin and I didn't find any solution.</p>\n\n<p>How to declare class field? Like we can have it in java:</p>\n\n<pre><code>protected SharedPreferences mSharedPreferences;\n</code></pre>\n\n<p>And later in <code>onCreate()</code>:  </p>\n\n<pre><code>mSharedPreferences = PreferenceManager.getDefaultSharedPreferences(this)\n</code></pre>\n\n<p>Now I can use it anywhere I want (in subclasses of this base activity).</p>\n\n<p>I try to do same in Kotlin:</p>\n\n<pre><code>protected var sharedPreferences : SharedPreferences\n</code></pre>\n\n<p>And in <code>onCreate()</code>:</p>\n\n<pre><code>sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this)\n</code></pre>\n\n<p>But I get a warning: \"Property must be initialized or be abstract\"</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1448138366, "post_id": 33843753, "comment_id": 55461281, "body": "why would you not use a build tool?"}, {"owner": {"reputation": 13339, "user_id": 391227, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/00832b0bc725df401bdec90786388fda?s=128&d=identicon&r=PG", "display_name": "Gelin Luo", "link": "https://stackoverflow.com/users/391227/gelin-luo"}, "edited": false, "score": 0, "creation_date": 1488502524, "post_id": 33843753, "comment_id": 72271501, "body": "I am also interested coz I want to compile mixed java/kotlin source files in memory. @Ben Haiton do you have any update on this?"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3194135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4169f125d1b0b5f1bd81a2b5c95fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Halton", "link": "https://stackoverflow.com/users/3194135/ben-halton"}, "edited": false, "score": 0, "creation_date": 1448204548, "post_id": 33844340, "comment_id": 55476627, "body": "Hmm I couldn&#39;t get your solution to work. If I run something like: <code>kotlinc src&#47;**&#47;*.kt -classpath src&#47;**&#47;*.java -d dist</code> then I get an error like: <code>error: source entry is not a Kotlin file: src&#47;java&#47;SomethingElse.java</code>. What does seem to work is <code>kotlinc src&#47;**&#47;  -d dist</code> followed by javac"}, {"owner": {"reputation": 4548, "user_id": 295582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9283a342c138d2c9ad26f8b6f2f38e1d?s=128&d=identicon&r=PG", "display_name": "Nikita Skvortsov", "link": "https://stackoverflow.com/users/295582/nikita-skvortsov"}, "reply_to_user": {"reputation": 83, "user_id": 3194135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4169f125d1b0b5f1bd81a2b5c95fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Halton", "link": "https://stackoverflow.com/users/3194135/ben-halton"}, "edited": false, "score": 0, "creation_date": 1448283369, "post_id": 33844340, "comment_id": 55506668, "body": "Sorry. I did not think that you have a mix of kotlin and java files inside one source tree. Thank you for the followup"}], "tags": [], "owner": {"reputation": 4548, "user_id": 295582, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9283a342c138d2c9ad26f8b6f2f38e1d?s=128&d=identicon&r=PG", "display_name": "Nikita Skvortsov", "link": "https://stackoverflow.com/users/295582/nikita-skvortsov"}, "is_accepted": false, "score": 6, "last_activity_date": 1448115239, "creation_date": 1448115239, "answer_id": 33844340, "question_id": 33843753, "link": "https://stackoverflow.com/questions/33843753/compile-mixed-kotlin-and-java-code-from-the-command-line/33844340#33844340", "title": "compile mixed Kotlin and Java code from the command line", "body": "<p>To achieve this, you will need to run two steps.</p>\n\n<ol>\n<li>Run <code>kotlinc</code> targeting <code>*.kt</code> files. Add all required java <em>sources</em> on <strong><em>classpath</em></strong>. Note the destination location.</li>\n<li>Run <code>javac</code> targeting <code>*.java</code> files. Add <code>*.class</code> files created by step 1 to classpath.</li>\n</ol>\n\n<p>Result is a combination of <code>*.class</code> files from both steps.</p>\n\n<p>Here is a documetation on <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html\" rel=\"noreferrer\">Kotlin compiler</a></p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 3762209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3483d2c3f2421026c56b79d7bde30e86?s=128&d=identicon&r=PG&f=1", "display_name": "fengma", "link": "https://stackoverflow.com/users/3762209/fengma"}, "is_accepted": false, "score": 1, "last_activity_date": 1501219350, "creation_date": 1501219350, "answer_id": 45365418, "question_id": 33843753, "link": "https://stackoverflow.com/questions/33843753/compile-mixed-kotlin-and-java-code-from-the-command-line/45365418#45365418", "title": "compile mixed Kotlin and Java code from the command line", "body": "<p>Remember to compile <strong>Kotlin</strong> first, then compile <strong>Java</strong> with kotlin-build-classpath from first step.</p>\n\n<p>simple like this:</p>\n\n<pre><code>1. kotlinc ./src/* -d ./buildTmp\n2. javac ./src/**.java -d ./buildTmp -classpath ./buildTmp\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 3194135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf4169f125d1b0b5f1bd81a2b5c95fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Halton", "link": "https://stackoverflow.com/users/3194135/ben-halton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1843, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1501219350, "creation_date": 1448111519, "last_edit_date": 1448290082, "question_id": 33843753, "link": "https://stackoverflow.com/questions/33843753/compile-mixed-kotlin-and-java-code-from-the-command-line", "title": "compile mixed Kotlin and Java code from the command line", "body": "<p>I'd like to start adding some Kotlin to my Java project. To do that I need to be able to compile both Java and Kotlin files from the command line, which is fine apart from when files of different types depend on each other e.g. A.java depends on B.kt which in turn depends on C.java.</p>\n\n<p>Is there any way to do this without using Gradle, Maven etc?</p>\n\n<p><strong>Edited to clarify</strong> thanks @Nikita for pointing out it is not clear that I want both java and Kotlin files in the same source tree</p>\n"}, {"tags": ["android", "android-gradle-plugin", "build.gradle", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1448329301, "post_id": 33841075, "comment_id": 55532306, "body": "Could you please share the whole <code>build.gradle</code> file? It is not clear what Kotlin and Anko versions are used cause there are no definitions of both <code>anko_version</code> and <code>kotlin_version</code>."}, {"owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "reply_to_user": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1448329937, "post_id": 33841075, "comment_id": 55532454, "body": "@yanex Thanks for your attention, the <code>build.gradle</code> file is updated."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4215104, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qPLy16Lq0VA/AAAAAAAAAAI/AAAAAAAAAA8/3LevKKNuz9w/photo.jpg?sz=128", "display_name": "Shapath Neupane", "link": "https://stackoverflow.com/users/4215104/shapath-neupane"}, "is_accepted": false, "score": 1, "last_activity_date": 1448622488, "last_edit_date": 1592644375, "creation_date": 1448622488, "answer_id": 33956059, "question_id": 33841075, "link": "https://stackoverflow.com/questions/33841075/android-gradle-plugin-complains-uncaught-translation-error/33956059#33956059", "title": "Android gradle plugin complains Uncaught translation error", "body": "<p>Please try to check the variables you are using, they are probably casted wrong somewhere.</p>\n<p><code>expected type java.lang.Object but found int</code>, is what that means.</p>\n<p>Even though variables can be inferred in Kotlin, there are some possible cases where it cannot be like in yours situation. It's just that the IDE is not showing it.</p>\n<p>I created an issue, please look at it for better context.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-10193\" rel=\"nofollow noreferrer\">Kotlin Issue</a></p>\n"}], "owner": {"reputation": 1336, "user_id": 3003085, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fbef2decbe27595279b81f6b5204b828?s=128&d=identicon&r=PG&f=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/3003085/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1485, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448622488, "creation_date": 1448092715, "last_edit_date": 1448329866, "question_id": 33841075, "link": "https://stackoverflow.com/questions/33841075/android-gradle-plugin-complains-uncaught-translation-error", "title": "Android gradle plugin complains Uncaught translation error", "body": "<p>I'm updating my kotlin version to 1.0.0-beta-2423, all what I did is update version numbers of related dependencies. But when I run assembleDebug task, it complains this error.</p>\n\n<pre><code>:app:transformClassesWithDexForDebug\nUncaught translation error: com.android.dx.cf.code.SimException: expected type java.lang.Object but found int\nUncaught translation error: com.android.dx.cf.code.SimException: expected type java.lang.Object but found int\n2 errors; aborting\nError:Execution failed for task ':app:transformClassesWithDexForDebug'.\n&gt; com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command '/Library/Java/JavaVirtualMachines/jdk1.7.0_75.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1\n</code></pre>\n\n<p>All my dependencies listed here:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion \"23.0.1\"\n\n    defaultConfig {\n        applicationId \"com.my.domain\"\n        minSdkVersion 18\n        targetSdkVersion 23\n        multiDexEnabled true\n        versionCode 3\n        versionName \"0.0.3\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n    }\n\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile project(':hermes')\n    compile project(':widget')\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile \"org.jetbrains.anko:anko-sdk23:$anko_version\"\n    compile \"org.jetbrains.anko:anko-support-v4:$anko_version\"\n    apk \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.android.support:recyclerview-v7:23.1.1'\n    compile 'com.android.support:design:23.1.1'\n    compile 'com.android.support:support-annotations:23.1.1'\n    compile 'com.android.support:percent:23.1.1'\n    compile 'io.reactivex:rxkotlin:0.30.1'\n    compile 'io.reactivex:rxandroid:1.0.1'\n    compile 'io.reactivex:rxjava:1.0.14'\n    compile 'io.reactivex:rxjava-math:1.0.0'\n    compile 'com.fasterxml.jackson.module:jackson-module-kotlin:2.6.3-4'\n    compile 'com.android.support:cardview-v7:23.1.1'\n    compile 'com.google.android.gms:play-services-location:8.1.0'\n    compile 'pl.charmas.android:android-reactive-location:0.8@aar'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'de.hdodenhof:circleimageview:1.3.0'\n\n}\n\nbuildscript {\n    ext.kotlin_version = '1.0.0-beta-2423'\n    ext.anko_version = '0.7.3'\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>What's going wrong here?</p>\n\n<p><strong>update:</strong>\nThe whole <code>build.gradle</code> is udpated</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448055539, "post_id": 33834222, "comment_id": 55438276, "body": "your <code>SearchActivity</code> is written in java, not in kotlin. What did you ment?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448055543, "post_id": 33834222, "comment_id": 55438283, "body": "Could you also fix the formatting please?"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1448056469, "post_id": 33834222, "comment_id": 55438722, "body": "Also need to see <code>SearchPresenter</code>."}, {"owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "edited": false, "score": 0, "creation_date": 1448056739, "post_id": 33834222, "comment_id": 55438844, "body": "I have added the <code>SearchPresenter</code> (kotlin interface), but the compile error clearly points  SearchActivity&#39;s first generic type parameter"}, {"owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448057235, "post_id": 33834222, "comment_id": 55439093, "body": "@voddan yes, that was an error in the description, <code>SearchActivity</code> is written in java but the <code>SearchView</code> interface has been written in kotlin. The compile error is in <code>SearchActivity</code> saying that <code>SearchView</code> is <code>not within bounds of type-variable V where V is a type-variable: V extends MvpView</code>, but <code>SearchView : MvpView</code>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448090584, "post_id": 33834222, "comment_id": 55446461, "body": "it might be a good idea to show us the methods of your interfaces. as @vanOekel said, your code throws no error if we assume the interfaces are empty. but they are not, judging by <code>...</code> everywhere"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448090712, "post_id": 33834222, "comment_id": 55446484, "body": "@sockeqwe even if you resolve this problem, please describe your solution here. I suspect that kotlinc is doing its job, but the error message is incomprehensible. That&#39;s a thing to fix"}, {"owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448092868, "post_id": 33834222, "comment_id": 55446901, "body": "@voddan I haven&#39;t found a solution yet, but I assume that kotlinc&#39;s error message is wrong. Of course I will post a solution once I&#39;m sure that I have found one."}], "answers": [{"comments": [{"owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "edited": false, "score": 0, "creation_date": 1448065435, "post_id": 33837830, "comment_id": 55441727, "body": "I guess I have found the real issue: The problem is that <code>ISearchView</code> defines a method <code>fun setItems(items: List&lt;Item&gt;)</code> where <code>Item</code> is any arbitrary POJO class.  This translates to <code>public void setItems(List&lt;? extends Item&gt; items)</code> in java and NOT <code>public void setItems(List&lt;Item&gt; items)</code>. Can you confirm that by adding such a method you face the same issue?"}, {"owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "edited": false, "score": 0, "creation_date": 1448065772, "post_id": 33837830, "comment_id": 55441806, "body": "I&#39;m not sure why <code>not within bounds</code> is the printed error"}, {"owner": {"reputation": 5502, "user_id": 3080094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDtbQ.jpg?s=128&g=1", "display_name": "vanOekel", "link": "https://stackoverflow.com/users/3080094/vanoekel"}, "reply_to_user": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "edited": false, "score": 0, "creation_date": 1448067026, "post_id": 33837830, "comment_id": 55442108, "body": "@sockeqwe Can confirm, when I let Eclipse &quot;add the unimplemented method&quot; I get <code>void setItems(List&lt;? extends ItemPojo&gt; arg0)</code> in Java, but otherwise no errors."}, {"owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "edited": false, "score": 0, "creation_date": 1448067277, "post_id": 33837830, "comment_id": 55442165, "body": "hm, strange, I&#39;m using android studio 1.5 with kotlin 1.0.0-beta-2423 I will test your sample code tomorrow in Android Studio. Thanks!"}], "tags": [], "owner": {"reputation": 5502, "user_id": 3080094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDtbQ.jpg?s=128&g=1", "display_name": "vanOekel", "link": "https://stackoverflow.com/users/3080094/vanoekel"}, "is_accepted": false, "score": 0, "last_activity_date": 1448062959, "last_edit_date": 1448062959, "creation_date": 1448062536, "answer_id": 33837830, "question_id": 33834222, "link": "https://stackoverflow.com/questions/33834222/generic-type-argument-is-not-within-bounds/33837830#33837830", "title": "Generic Type argument is not within bounds", "body": "<p>I cannot reproduce the \"not within bounds\" issue.</p>\n\n<p>This is the first time I use Kotlin, so let me explain what I did so you can verify.\nI changed the class-names for clarity. </p>\n\n<p>Using Java 7, Eclipse, create a Java project with a package \"generics\".\nCreate two files:</p>\n\n<pre><code>package generics;\npublic interface IView {}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package generics;\npublic interface IPresenter&lt;VIEW extends IView&gt; {}\n</code></pre>\n\n<p>Download Kotlin compiler version 1.0.0-beta-2423, extract and copy <code>IView.class</code> and <code>IPresenter.class</code> from the project \"bin\\generics\" folder into a new \"kotlin\\generics\" folder.\nCreate <code>KGenericViewPresenter.kt</code> in the \"kotlin\\generics\" folder:</p>\n\n<pre><code>package generics\n\ninterface ISearchView : IView {}\ninterface ISearchPresenter : IPresenter&lt;ISearchView&gt; {}\n</code></pre>\n\n<p>Run: \n<br><code>bin\\kotlinc -cp . generics\\KGenericViewPresenter.kt</code></p>\n\n<p>Back in the Java project, add class folder \"fromkotlin\", create a \"generics\" folder in it and copy \n<code>ISearchView.class</code> and <code>ISearchPresenter.class</code> from the \"kotlin\\generics\" folder.\n<br>Refresh the Java project (so that the two new classes from Kotlin are picked up).\n<br>Create two new files in the Java project:</p>\n\n<pre><code>package generics;\npublic abstract class AbstractViewStateActivity&lt;VIEW extends IView, PRESENTER extends IPresenter&lt;VIEW&gt;&gt; {}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package generics;\npublic class ViewStateActivity extends AbstractViewStateActivity&lt;ISearchView, ISearchPresenter&gt; \n    implements ISearchView {}\n</code></pre>\n\n<p>Eclipse does not complain, the project's \"bin\\generics\" folder contains files <code>AbstractViewStateActivity.class</code> and <code>ViewStateActivity.class</code>.</p>\n\n<p>If this is a valid test, try refreshing your IDE environment and also make sure there is no class in the package with the name <code>V</code> or <code>P</code>  (also check unit-test classes).</p>\n"}], "owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4710, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1448092551, "creation_date": 1448046306, "last_edit_date": 1448092551, "question_id": 33834222, "link": "https://stackoverflow.com/questions/33834222/generic-type-argument-is-not-within-bounds", "title": "Generic Type argument is not within bounds", "body": "<p>I'm working on a little demo android app where I mix some java classes and interfaces with kotlin. I want to extend from a java class with generic type arguments called <code>MvpViewStateActivity</code>:</p>\n\n<pre><code>abstract class MvpViewStateActivity&lt;V extends MvpView, P extends MvpPresenter&lt;V&gt; &gt; { ... }\n</code></pre>\n\n<p>where <code>MvpView</code> is just an empty java interface:</p>\n\n<pre><code>interface MvpView { ... }\n</code></pre>\n\n<p>and <code>MvpPresenter</code> is an java interface like this:</p>\n\n<pre><code>interface MvpPresenter&lt;V extends MvpView&gt; { ... }\n</code></pre>\n\n<p>and <code>SearchViewActivity</code> (Java):</p>\n\n<pre><code>class SearchActivity extends MvpViewStateActivity&lt;SearchView, SearchPresenter&gt;\n                     implements SearchView { ... }\n</code></pre>\n\n<p>So now I create a kotlin interface <code>SearchView</code>:</p>\n\n<pre><code>interface SearchView : MvpView { \n    fun setItems( items : List&lt;Item&gt; )\n }\n</code></pre>\n\n<p>where <code>Item</code> is a pojo data class.</p>\n\n<p><code>SearchPresenter</code> is written in kotlin as well:</p>\n\n<pre><code>interface SearchPresenter : MvpPresenter&lt;SearchView&gt; { ... }\n</code></pre>\n\n<p>So to sum it up:</p>\n\n<p>Java classes:</p>\n\n<ul>\n<li>MvpViewStateActivity</li>\n<li>MvpView</li>\n<li>MvpPresenter</li>\n<li>SearchViewActivity</li>\n</ul>\n\n<p>Kotlin classes / interfaces</p>\n\n<ul>\n<li>SearchView extends MvpView (java)</li>\n<li>SearchPresenter extends MvpPresenter (java)</li>\n</ul>\n\n<p>When I try to compile that code I get the following error:</p>\n\n<blockquote>\n  <p>error: type argument SearchView is not within bounds of type-variable\n  V where V is a type-variable: V extends MvpView declared in class\n  MvpViewStateActivity</p>\n</blockquote>\n\n<p>But <code>SearchView : MvpView</code> (in other words <code>SearchView extends MvpView</code>). </p>\n\n<p>The compiler points to that line of code:</p>\n\n<p>SearchActivity extends MvpViewStateActivity&lt;<strong>SearchView</strong></p>\n\n<p>Am I overlooking something?\nIs this a kotlin bug?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1448039455, "post_id": 33831381, "comment_id": 55429758, "body": "Are you sure you get that repeatedly? Because sometimes autocompletion plugin has to load itself  and lags (same thing with java)"}, {"owner": {"reputation": 895, "user_id": 1076585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/13bfede7edf749e021ce725182f3f7f0?s=128&d=identicon&r=PG", "display_name": "Mike Holler", "link": "https://stackoverflow.com/users/1076585/mike-holler"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1448042005, "post_id": 33831381, "comment_id": 55431178, "body": "It&#39;s definitely repeatedly. I&#39;ve never got this to work like I expect it to. All pictures above were taken after the IDE had been running for hours and I waited about 10 seconds for each picture to make sure it was stable and the IDE wasn&#39;t lagging."}, {"owner": {"reputation": 895, "user_id": 1076585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/13bfede7edf749e021ce725182f3f7f0?s=128&d=identicon&r=PG", "display_name": "Mike Holler", "link": "https://stackoverflow.com/users/1076585/mike-holler"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448042601, "post_id": 33831381, "comment_id": 55431504, "body": "@voddan does your auto-complete work like I expect it to?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448044727, "post_id": 33831381, "comment_id": 55432660, "body": "yes it does. No of that kind problems ever. Sometimes the project structure might be mixed up, but in that case there are no completion at all."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1448044858, "post_id": 33831381, "comment_id": 55432749, "body": "I recommend you sending a bug report with a memory snapshot here: <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1448180176, "post_id": 33835767, "comment_id": 55469886, "body": "In my case I was restarting IntelliJ to fix. This issue didn&#39;t seem anywhere near as common in Java."}], "tags": [], "owner": {"reputation": 895, "user_id": 1076585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/13bfede7edf749e021ce725182f3f7f0?s=128&d=identicon&r=PG", "display_name": "Mike Holler", "link": "https://stackoverflow.com/users/1076585/mike-holler"}, "is_accepted": true, "score": 2, "last_activity_date": 1448052306, "creation_date": 1448052306, "answer_id": 33835767, "question_id": 33831381, "link": "https://stackoverflow.com/questions/33831381/kotlin-completion-dialog-popup-after-typing-object/33835767#33835767", "title": "Kotlin Completion Dialog Popup after Typing &quot;object.&quot;", "body": "<p>I solved the problem by navigating to <code>File -&gt; Invalidate Caches / Restart</code> and pressing \"Invalidate and Restart\"</p>\n"}], "owner": {"reputation": 895, "user_id": 1076585, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/13bfede7edf749e021ce725182f3f7f0?s=128&d=identicon&r=PG", "display_name": "Mike Holler", "link": "https://stackoverflow.com/users/1076585/mike-holler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 33835767, "answer_count": 1, "score": 1, "last_activity_date": 1448067129, "creation_date": 1448036494, "question_id": 33831381, "link": "https://stackoverflow.com/questions/33831381/kotlin-completion-dialog-popup-after-typing-object", "title": "Kotlin Completion Dialog Popup after Typing &quot;object.&quot;", "body": "<p>I'm starting to use Kotlin for writing tests and coming from Java I'm used to a completion dialog when typing \".\" after an object. Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pUtti.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pUtti.png\" alt=\"java completion example\"></a></p>\n\n<p>Doing the same thing using Kotlin does this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IiuLd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IiuLd.png\" alt=\"kotlin completion dot\"></a></p>\n\n<p>Even hitting Ctrl + Space doesn't work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gNOoM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gNOoM.png\" alt=\"kotlin completion dot ctrl space\"></a></p>\n\n<p>I only start to get suggestions when I start typing the first few letters of a function that I know exists. Example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NV6gK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NV6gK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know how I can get Kotlin auto-complete working like Java?</p>\n\n<p>I'm using the following version of IntelliJ IDEA on Ubuntu Linux with Oracle Java 8.</p>\n\n<p><a href=\"https://i.stack.imgur.com/NEQTX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEQTX.png\" alt=\"IntelliJ IDEA version\"></a></p>\n"}, {"tags": ["java", "lambda", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "edited": false, "score": 0, "creation_date": 1448030093, "post_id": 33826647, "comment_id": 55423279, "body": "would it be acceptable to create the interface in Java and use it in Kotlin ? In order to avoid to create the inline function and being able to use the interface directly  with lambdas"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "edited": false, "score": 0, "creation_date": 1448034169, "post_id": 33826647, "comment_id": 55426132, "body": "If you or your team find it okay, then I guess it would be ok. However consider just dropping the interface and using the functional type."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1448039613, "post_id": 33826647, "comment_id": 55429850, "body": "any use of java-interop for hacking kotlin is not-idiomatic, obviously. A factory function is the best solution"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 7, "last_activity_date": 1448022187, "creation_date": 1448022187, "answer_id": 33826647, "question_id": 33825949, "link": "https://stackoverflow.com/questions/33825949/return-interface-implementation-with-kotlin-and-lambda/33826647#33826647", "title": "Return interface implementation with Kotlin and lambda", "body": "<p>No, interfaces written in Kotlin cannot be instantiated with a lambda, that only works for interfaces written in Java. If you want to use lambdas in Kotlin, use the functional type, like in your case <code>() -&gt; Unit</code> instead of <code>ValidationBehavior</code>. </p>\n\n<p>Alternatively, write a method that takes a functional type and wraps it in a <code>ValidationBehavior</code>:</p>\n\n<pre><code>interface ValidationBehavior {\n\n    companion object {\n        inline operator fun invoke(fn: () -&gt; Unit) = object: ValidationBehavior {\n            override fun onValidated() = fn()\n        }\n    }\n\n    fun onValidated()\n}\n\nprivate fun getBehavior(payloadBehavior: String) : ValidationBehavior {\n    when(BehaviorEnum.valueOf(payloadBehavior)) {\n        BehaviorEnum.IDLE -&gt; return ValidationBehavior { /* do stuff */ }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2476, "favorite_count": 1, "accepted_answer_id": 33826647, "answer_count": 1, "score": 4, "last_activity_date": 1499086892, "creation_date": 1448019891, "last_edit_date": 1499086892, "question_id": 33825949, "link": "https://stackoverflow.com/questions/33825949/return-interface-implementation-with-kotlin-and-lambda", "title": "Return interface implementation with Kotlin and lambda", "body": "<p>I have this simple interface : </p>\n\n<pre><code>interface ValidationBehavior {\n    fun onValidated()\n}\n</code></pre>\n\n<p>This interface is used in one function of a class :  </p>\n\n<pre><code>private enum class BehaviorEnum {\n    IDLE,\n    NAVIGATEBACK\n}\n\nprivate fun getBehavior(payloadBehavior: String) : ValidationBehavior {\n    when(BehaviorEnum.valueOf(payloadBehavior)) {\n        BehaviorEnum.IDLE -&gt; return object: ValidationBehavior {\n            override fun onValidated() {\n                // do some stuff\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My question is : is there a way to simplify the return statement with a lambda ? I try some stuff like this but it doesn't work :</p>\n\n<pre><code>return ValidationBehavior{ () -&gt; //do some stuff }\n</code></pre>\n"}, {"tags": ["nullable", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1452301735, "post_id": 33823223, "comment_id": 57123788, "body": "This could have easily been tested by you in 5 seconds.  Was there some reason you did not just try it, or read the docs?"}, {"owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 3, "creation_date": 1452359855, "post_id": 33823223, "comment_id": 57139001, "body": "@JaysonMinard There is no similar question on StackOverflow, and it is not so easy to find the related topic in docs (as you can see yourself <a href=\"https://www.google.by/search?q=Null+inside+string+template+kotlin\" rel=\"nofollow noreferrer\">google.by/search?q=Null+inside+string+template+kotlin</a>). I believe that the only bad question is the one not asked. Now, when it&#39;s asked, it can be googled by someone in 5 seconds (without building and running a test app)."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452512351, "post_id": 33823223, "comment_id": 57186751, "body": "but on stack overflow there is such a thing as a question that shouldn&#39;t be asked.  It takes time from people who moderate and review to go through questions that anyone would solve with minimal homework.   So you didn&#39;t do any research and post what you tried, a big sign you aren&#39;t ready to ask a question.  <a href=\"http://meta.stackexchange.com/a/59995/312466\">meta.stackexchange.com/a/59995/312466</a>  ... part of a question is &quot;what have you done so far to solve it&quot; of which you didn&#39;t try the 3 lines of code.   If you had found some answer you could post it as a self answered question to help others google it later."}], "answers": [{"tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": true, "score": 9, "last_activity_date": 1448012660, "last_edit_date": 1448012660, "creation_date": 1448012334, "answer_id": 33823352, "question_id": 33823223, "link": "https://stackoverflow.com/questions/33823223/nullable-var-inside-string-template/33823352#33823352", "title": "Nullable var inside string template", "body": "<p>You can always make a tiny project on try.kotlinlang.org and see for yourself:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    test(null)\n}\n\nfun test(a: String?) {\n    print(\"result: $a\")\n}\n</code></pre>\n\n<p>This code compiles fine and prints <code>null</code>. Why this happens? We can check out the documentation on <a href=\"http://kotlinlang.org/docs/reference/extensions.html\" rel=\"noreferrer\">extension functions</a>, it says that <code>toString()</code> method (which will be called on your <code>messageEvent</code> parameter to make <code>String</code> out of it) is declared like so:</p>\n\n<pre><code>fun Any?.toString(): String {\n    if (this == null) return \"null\"\n    // after the null check, 'this' is autocast to a non-null type, so the toString() below\n    // resolves to the member function of the Any class\n    return toString()\n}\n</code></pre>\n\n<p>So, basically, it checks if its argument is <code>null</code> first, and, if it isn't, invokes member function of this object. </p>\n"}], "owner": {"reputation": 26227, "user_id": 1429387, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/LVOVA.jpg?s=128&g=1", "display_name": "naXa", "link": "https://stackoverflow.com/users/1429387/naxa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2093, "favorite_count": 0, "accepted_answer_id": 33823352, "answer_count": 1, "score": 5, "last_activity_date": 1505851660, "creation_date": 1448011900, "last_edit_date": 1505851660, "question_id": 33823223, "link": "https://stackoverflow.com/questions/33823223/nullable-var-inside-string-template", "title": "Nullable var inside string template", "body": "<p>Kotlin has a feature called <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#string-templates\" rel=\"noreferrer\">string templates</a>. Is it safe to use nullable variables inside a string?</p>\n\n<pre><code>override fun onMessageReceived(messageEvent: MessageEvent?) {\n    Log.v(TAG, \"onMessageReceived: $messageEvent\")\n}\n</code></pre>\n\n<p>Will the above code throw <code>NullPointerException</code> if <code>messageEvent</code> is <code>null</code>?  </p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1448004596, "post_id": 33821043, "comment_id": 55407867, "body": "I&#39;m pretty sure you&#39;re not going to be able to do that, as that&#39;s defined in SpEL (inherited from general EL). Does Kotlin not have an equivalent to Groovy&#39;s single-quote &quot;don&#39;t interpolate&quot; string?"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1448004625, "post_id": 33821043, "comment_id": 55407884, "body": "You could always, of course, use <code>@ConfigurationProperties</code>."}], "answers": [{"comments": [{"owner": {"reputation": 27474, "user_id": 613628, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/81249832e79806754a4bd9c915164fbf?s=128&d=identicon&r=PG", "display_name": "Stephane Nicoll", "link": "https://stackoverflow.com/users/613628/stephane-nicoll"}, "edited": false, "score": 0, "creation_date": 1448014551, "post_id": 33821921, "comment_id": 55413434, "body": "I think that <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow noreferrer\">this link</a> is a better entry point for the feature. Maybe you can edit your answer with that?"}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1448251823, "post_id": 33821921, "comment_id": 55491439, "body": "With your help I found a solution that I&#39;m happy with (see below). Thank you."}, {"owner": {"reputation": 9228, "user_id": 1199731, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/81e8221369186e3dee93f8defd475c38?s=128&d=identicon&r=PG", "display_name": "d0x", "link": "https://stackoverflow.com/users/1199731/d0x"}, "edited": false, "score": 0, "creation_date": 1448265642, "post_id": 33821921, "comment_id": 55496036, "body": "Cool. It seems you had a lot of thinks to do to make it run. I&#39;m okay if you put the &quot;tick&quot; to your answer. I upvoted it already"}, {"owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "edited": false, "score": 0, "creation_date": 1448330078, "post_id": 33821921, "comment_id": 55532494, "body": "Accepted new answer, which specifically addresses the problem, but thanks again for you help - am proceeding with @ConfigurationProperties"}], "tags": [], "owner": {"reputation": 9228, "user_id": 1199731, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/81e8221369186e3dee93f8defd475c38?s=128&d=identicon&r=PG", "display_name": "d0x", "link": "https://stackoverflow.com/users/1199731/d0x"}, "is_accepted": false, "score": 2, "last_activity_date": 1448016987, "last_edit_date": 1448016987, "creation_date": 1448007449, "answer_id": 33821921, "question_id": 33821043, "link": "https://stackoverflow.com/questions/33821043/spring-boot-change-property-placeholder-signifier/33821921#33821921", "title": "Spring Boot: Change property placeholder signifier", "body": "<p>They have a new feature using java classes annotated with <code>@ConfigurationProperties</code>. This looks nice in Kotlin and is refactoring save. You should give it a try:</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties</a></p>\n"}, {"tags": [], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "is_accepted": false, "score": 2, "last_activity_date": 1448266372, "last_edit_date": 1448266372, "creation_date": 1448251786, "answer_id": 33863586, "question_id": 33821043, "link": "https://stackoverflow.com/questions/33821043/spring-boot-change-property-placeholder-signifier/33863586#33863586", "title": "Spring Boot: Change property placeholder signifier", "body": "<p>Using advice from answer provided by dox, I ended up going with something like: </p>\n\n<pre><code>public interface TokenAuthenticationConfig {\n\npublic fun apiKey() : String\n\n}\n\n@Component\n@ConfigurationProperties(prefix = \"service.api\")\npublic open class TokenAuthenticationConfigImpl : TokenAuthenticationConfig\n{\n    public var apiKey : String\n\n    constructor() {\n        this.apiKey = \"\"\n    }\n\n    override fun apiKey(): String\n    {\n        return this.apiKey\n    }\n}\n</code></pre>\n\n<p>In Spring <code>@ConfigurationProperties</code> objects are required to follow the Java Beans pattern and be, therefore, mutable. To me configuration seems as though it should be generally static throughout app life-cycle, and so rather than add the complexity of reasoning about state, injected the immutable interface instead. </p>\n"}, {"comments": [{"owner": {"reputation": 2829, "user_id": 453991, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f9feb72032faa4b8b68cc916fe4baa8d?s=128&d=identicon&r=PG", "display_name": "AAverin", "link": "https://stackoverflow.com/users/453991/aaverin"}, "edited": false, "score": 0, "creation_date": 1484571315, "post_id": 33883230, "comment_id": 70550873, "body": "Is it possible to use @ConfigurationProperties with Kotlin data classes, or it has to be a regular open class?"}, {"owner": {"reputation": 524, "user_id": 7221823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3757b5f6ae7d3fb325066fcf8e2df3fd?s=128&d=identicon&r=PG&f=1", "display_name": "Yevhenii Melnyk", "link": "https://stackoverflow.com/users/7221823/yevhenii-melnyk"}, "edited": false, "score": 0, "creation_date": 1485118471, "post_id": 33883230, "comment_id": 70780208, "body": "The problem is constructor injection. If you try to create properties in constructor, Spring searches for beans instead of config properties. @S&#233;bastien Deleuze is there a way to disable bean injection for ConfigurationProperties classes?"}, {"owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "edited": false, "score": 0, "creation_date": 1504101963, "post_id": 33883230, "comment_id": 78883744, "body": "The is not supported in Spring Boot 1.x, we are discussing supporting that in Spring Boot 2.x here: <a href=\"https://github.com/spring-projects/spring-boot/issues/8762\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/8762</a>."}], "tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": true, "score": 25, "last_activity_date": 1504102338, "last_edit_date": 1504102338, "creation_date": 1448324087, "answer_id": 33883230, "question_id": 33821043, "link": "https://stackoverflow.com/questions/33821043/spring-boot-change-property-placeholder-signifier/33883230#33883230", "title": "Spring Boot: Change property placeholder signifier", "body": "<p>It is possible to customize the prefix used by declaring the following beans in your configuration:</p>\n\n<pre><code>@Bean\nfun propertyConfigurer() = PropertySourcesPlaceholderConfigurer().apply {\n    setPlaceholderPrefix(\"%{\")\n}\n</code></pre>\n\n<p>if you have any existing code (like Spring Boot actuators or <code>@LocalServerPort</code>) that is using the <code>${...}</code> syntax, you should declare:</p>\n\n<pre><code>@Bean\nfun kotlinPropertyConfigurer() = PropertySourcesPlaceholderConfigurer().apply {\n    setPlaceholderPrefix(\"%{\")\n    setIgnoreUnresolvablePlaceholders(true)\n}\n\n@Bean\nfun defaultPropertyConfigurer() = PropertySourcesPlaceholderConfigurer()\n</code></pre>\n\n<p>Escaping the dollar like in <code>@Value(\"\\${some.property}\")</code> is another possible option that require no <code>@Bean</code> declaration.</p>\n\n<p>For Spring Boot tests configured with <code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)</code> you can use <code>@LocalServerPort</code> instead of <code>@Value(\"\\${local.server.port}\")</code>.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\" rel=\"noreferrer\"><code>@ConfigurationProperties</code></a> would be a better alternative, especially with Kotlin data classes, but currently you have to use Kotlin classes with nullable <code>var</code> properties since only getter/setter are supported. You can vote for <a href=\"https://github.com/spring-projects/spring-boot/issues/8762\" rel=\"noreferrer\">this issue</a> or comment to show your interest in getting that supported in Spring Boot 2.x.</p>\n"}], "owner": {"reputation": 26657, "user_id": 404201, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd9932a584c0d67b5e017cc49305ccb7?s=128&d=identicon&r=PG", "display_name": "Jasper Blues", "link": "https://stackoverflow.com/users/404201/jasper-blues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7209, "favorite_count": 6, "accepted_answer_id": 33883230, "answer_count": 3, "score": 12, "last_activity_date": 1504102338, "creation_date": 1448004078, "question_id": 33821043, "link": "https://stackoverflow.com/questions/33821043/spring-boot-change-property-placeholder-signifier", "title": "Spring Boot: Change property placeholder signifier", "body": "<p>What is the easiest way to change the prefix and suffix for the property placeholder in Spring Boot? </p>\n\n<p>The default is <code>@Value(\"${some.property}\")</code>, however this looks ugly in Kotlin, since it needs to be escaped - ${something} is a language feature in Kotlin for String templates.  </p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 116, "user_id": 5347380, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/bbf9003e1bcbfd2ea1fef5ffb324e589?s=128&d=identicon&r=PG&f=1", "display_name": "colt", "link": "https://stackoverflow.com/users/5347380/colt"}, "edited": false, "score": 0, "creation_date": 1447947557, "post_id": 33808076, "comment_id": 55381647, "body": "Have you tried setting the variable to null before hand? Is the function using an INT or OBJECT? If so maybe set it to NULL before you try and access it or alter it. Is this a method you&#39;re calling or are you inheriting this from another class?"}, {"owner": {"reputation": 4209, "user_id": 1478093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7d1619c18114c85f71c6ad7d630b676?s=128&d=identicon&r=PG", "display_name": "TBieniek", "link": "https://stackoverflow.com/users/1478093/tbieniek"}, "reply_to_user": {"reputation": 116, "user_id": 5347380, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/bbf9003e1bcbfd2ea1fef5ffb324e589?s=128&d=identicon&r=PG&f=1", "display_name": "colt", "link": "https://stackoverflow.com/users/5347380/colt"}, "edited": false, "score": 0, "creation_date": 1447947725, "post_id": 33808076, "comment_id": 55381776, "body": "actually I&#39;m inheriting a function that is supposed to return <code>Map&lt;String, Void&gt;</code> and want to <code>return mapOf(Pair(&quot;foo&quot;, null))</code>"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1447949632, "post_id": 33808076, "comment_id": 55383261, "body": "What is the exact error message given by the compiler? I wasn&#39;t able to reproduce the problem in an isolated sample, i.e. you should be able to pass null to a <code>Void</code> parameter"}, {"owner": {"reputation": 4209, "user_id": 1478093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7d1619c18114c85f71c6ad7d630b676?s=128&d=identicon&r=PG", "display_name": "TBieniek", "link": "https://stackoverflow.com/users/1478093/tbieniek"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1447951175, "post_id": 33808076, "comment_id": 55384404, "body": "@AlexanderUdalov <code>Error:(33, 16) Kotlin: Type inference failed. Expected type mismatch: inferred type is kotlin.Map&lt;kotlin.String, kotlin.Nothing?&gt; but kotlin.Map&lt;kotlin.String, java.lang.Void&gt; was expected</code>. This is with the Beta 2 version of Kotlin."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 4, "creation_date": 1447958358, "post_id": 33808076, "comment_id": 55388978, "body": "Did you try changing it to <code>Void?</code>?"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1447961306, "post_id": 33808076, "comment_id": 55390847, "body": "Perhaps <code>null as Void</code>?"}, {"owner": {"reputation": 4209, "user_id": 1478093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7d1619c18114c85f71c6ad7d630b676?s=128&d=identicon&r=PG", "display_name": "TBieniek", "link": "https://stackoverflow.com/users/1478093/tbieniek"}, "edited": false, "score": 0, "creation_date": 1448010254, "post_id": 33808076, "comment_id": 55410533, "body": "The <code>Void()</code> constructor is private and just <code>Void</code> doesn&#39;t work either. <code>null as Void</code> warns that &quot;This cast can never succeed&quot;."}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1448011724, "post_id": 33808076, "comment_id": 55411516, "body": "Hmm.. when I try this (java: <code>class Go { void foo(Void v) {} }</code> and kotlin: <code>Go().foo(null)</code>), the compiler does not complain, and execution succeeds. When debugging in the <code>foo</code> method, the <code>v</code> value is <code>null</code>. Tested with <code>1.0.0-beta-2423</code>."}, {"owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "edited": false, "score": 0, "creation_date": 1448011732, "post_id": 33808076, "comment_id": 55411522, "body": "Strange, I&#39;ve tried to pass the <code>null</code> as the value of &#39;Void v&#39; argument of Java method from Kotlin and it worked w/o any complaints from compiler. Which Kotlin version are you using?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1559051397, "post_id": 33808076, "comment_id": 99292500, "body": "... just stumbled upon this question... why would anyone ever want to use a <code>Map</code> having <code>Void?</code> as a value type? The values can only be <code>null</code> that way (&quot;black magic&quot; aside), so why even bother? Why not just using a <code>Set</code> instead?"}], "answers": [{"comments": [{"owner": {"reputation": 4209, "user_id": 1478093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7d1619c18114c85f71c6ad7d630b676?s=128&d=identicon&r=PG", "display_name": "TBieniek", "link": "https://stackoverflow.com/users/1478093/tbieniek"}, "edited": false, "score": 1, "creation_date": 1448020324, "post_id": 33823242, "comment_id": 55417261, "body": "my plugin is actually even more up-to-date: <code>1.0.0-beta-2423-IJ143-13</code> but the problem still persists"}, {"owner": {"reputation": 11620, "user_id": 2898715, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/LWv1Z.jpg?s=128&g=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/2898715/eric"}, "edited": false, "score": 0, "creation_date": 1448091000, "post_id": 33823242, "comment_id": 55446547, "body": "I have the same plugin version as aga (<code>1.0.0-beta-1103-IJ143-27</code>). I&#39;m using <code>IntelliJ IDEA Community Edition 15.0.1</code>, and the code posted by aga works in my environment."}], "tags": [], "owner": {"reputation": 25774, "user_id": 885028, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xJkDj.jpg?s=128&g=1", "display_name": "aga", "link": "https://stackoverflow.com/users/885028/aga"}, "is_accepted": false, "score": 3, "last_activity_date": 1448011943, "creation_date": 1448011943, "answer_id": 33823242, "question_id": 33808076, "link": "https://stackoverflow.com/questions/33808076/using-java-void-type-in-kotlin/33823242#33823242", "title": "Using Java Void type in Kotlin", "body": "<p>Try to update your Kotlin plugin. I'm on '1.0.0-beta-1103-IJ143-27' and the following code compiles without any complaints/warnings:</p>\n\n<pre><code>// On Java side\npublic class Test {\n    public void test(Void v) {\n\n    }\n}\n\n// On Kotlin side\nfun testVoid() {\n    Test().test(null)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 396, "user_id": 3712710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90e2e2a6aa9e828fc71a097d1ffc8316?s=128&d=identicon&r=PG&f=1", "display_name": "Rocoty", "link": "https://stackoverflow.com/users/3712710/rocoty"}, "edited": false, "score": 1, "creation_date": 1464135491, "post_id": 34665746, "comment_id": 62356945, "body": "This should be the accepted answer. Definitely use a nullable type if you want to pass null."}, {"owner": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "edited": false, "score": 0, "creation_date": 1506674680, "post_id": 34665746, "comment_id": 79924489, "body": "This is one special case I think kotlins should handle. Void type will always be null"}], "tags": [], "owner": {"reputation": 847, "user_id": 1480495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qNr9j.png?s=128&g=1", "display_name": "Connor Spencer Harries", "link": "https://stackoverflow.com/users/1480495/connor-spencer-harries"}, "is_accepted": false, "score": 6, "last_activity_date": 1452258136, "last_edit_date": 1452258136, "creation_date": 1452203143, "answer_id": 34665746, "question_id": 33808076, "link": "https://stackoverflow.com/questions/33808076/using-java-void-type-in-kotlin/34665746#34665746", "title": "Using Java Void type in Kotlin", "body": "<p>Haven't had a chance to try it, but based purely on your exception the following code should work:</p>\n\n<pre><code>fun foo(): Map&lt;String, Void?&gt; {\n    return mapOf(Pair(\"foo\", null))\n}\n</code></pre>\n\n<p>Explanation: <code>Map&lt;String, Void&gt;</code> is expecting there to be no <code>null</code> values. But you're creating a <code>Pair</code> with a <code>null</code> value. People are suggesting invoking the java method requiring <code>Void</code> with <code>null</code> which should work as far as I'm aware, but for the <code>Pair</code> constructor you're using you definitely need to explicitly state that the <code>Map</code> can contain null values.</p>\n\n<p><strong>Edit:</strong> my bad for necro-ing, didn't think about the date until after. :(</p>\n"}, {"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1495961379, "creation_date": 1495961379, "answer_id": 44225424, "question_id": 33808076, "link": "https://stackoverflow.com/questions/33808076/using-java-void-type-in-kotlin/44225424#44225424", "title": "Using Java Void type in Kotlin", "body": "<p>I had came up with 2 solutions, both of them compiles (under Kotlin 1.1.2-3).</p>\n\n<p>You might need this (not changing your method signature but it doesn't work):</p>\n\n<pre><code>fun foo(): Map&lt;String, Void&gt; {\n  return mapOf(Pair(\"foo\", throw Exception(\"Why? Why you call me\")))\n}\n</code></pre>\n\n<p>Or something like (changing your signature and it works):</p>\n\n<pre><code>fun foo(): Map&lt;String, Void?&gt; {\n  return mapOf(Pair(\"foo\", null as Void?))\n}\n</code></pre>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 4209, "user_id": 1478093, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b7d1619c18114c85f71c6ad7d630b676?s=128&d=identicon&r=PG", "display_name": "TBieniek", "link": "https://stackoverflow.com/users/1478093/tbieniek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5742, "favorite_count": 3, "answer_count": 3, "score": 12, "last_activity_date": 1495961379, "creation_date": 1447947116, "last_edit_date": 1448022114, "question_id": 33808076, "link": "https://stackoverflow.com/questions/33808076/using-java-void-type-in-kotlin", "title": "Using Java Void type in Kotlin", "body": "<p>I have a Java function that requires me to pass a <code>Void</code> parameter due to type constraints. Something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void foo(Void v) {\n    // do something\n}\n</code></pre>\n\n<p>Now I would like to call that function from Kotlin, but the compiler complains that the types are not compatible when I call it with <code>null</code> like I would from Java:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>foo(null);\n</code></pre>\n\n<p>What do I have to pass to that function so that the Kotlin compiler accepts it?</p>\n\n<p><strong>Update:</strong> the actual code looks like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun foo(): Map&lt;String, Void&gt; {\n    return mapOf(Pair(\"foo\", null))\n}\n</code></pre>\n\n<p><strong>Update:</strong> using <code>null as Void</code> actually doesn't work either:</p>\n\n<pre><code>kotlin.TypeCastException: null cannot be cast to non-null type java.lang.Void\n</code></pre>\n"}, {"tags": ["casting", "match", "instance", "kotlin"], "comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1447949385, "post_id": 33807377, "comment_id": 55383072, "body": "What is your question?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1447963996, "post_id": 33807377, "comment_id": 55392422, "body": "the only thing to know about <code>when</code> is that semantically it is equivalent to an <code>if-else</code> cascade. And it is stated the docs"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1452301968, "post_id": 33807377, "comment_id": 57123832, "body": "Even when answering your own question, the question has to be stated that would be being asked, and be judged stand-alone from the answer.  So if you don&#39;t make it clear what question the answer is for (by having a good question), this could be closed."}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1448544966, "post_id": 33807378, "comment_id": 55639200, "body": "I think there should be an inspection that would give a warning on more than one <code>is T? -&gt;</code> block in <code>when</code>. It should say that all <code>null</code>s will be matched earlier and there should be non-nullable type instead. You might file an issue at youtrack.jetbrains.com/issues/KT."}], "tags": [], "owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "is_accepted": false, "score": 0, "last_activity_date": 1447945351, "creation_date": 1447945351, "answer_id": 33807378, "question_id": 33807377, "link": "https://stackoverflow.com/questions/33807377/kotlin-smartcasting-approximates-due-to-nulls-in-using-the-when/33807378#33807378", "title": "Kotlin smartcasting approximates due to nulls in using the when", "body": "<pre><code>/**\n * If smaller returns value, then the when statement sees it as a matching case\n */\nfun smaller(value: Int, lt: Int) = if (value &lt; lt) value else lt\n\nfun whenTest(value: Int = 5) = when(value) {\n    smaller(value, 1) -&gt; \"Smaller than 1\"\n    in 1..4 -&gt; \"Smaller than Five\"\n    5 -&gt; \"Five\"\n    else -&gt; \"Larger than 5\"\n}\n\n/*\n    IMPORTANT NOTES ABOUT INSTANCE TESTS:\n    1. Evaluation is sequential from top to bottom\n    2. Smartcasting will, for a box or unboxed type enter the first boxed or unboxed type, whichever is first\n        (see case x...).  This is for if an Int? contains an int it enters Int -&gt;, and when it contains a null\n        then it enters null -&gt;\n    3. Smartcasting on a null value will enter the first null or nullable type case!!!  If you switch case c: and\n        x: around then case x: may execute while case c: will never ever execute\n\n\n */\nfun patternTest(value: Any?) = when (value) {\n    10 -&gt; \"e: the value is ten\"\n    is String -&gt; \"a: a string of $value\"\n    is Int -&gt; \"b: an int of $value\"\n    null -&gt; \"c: the value is null\"\n    is Int? -&gt; \"x: never ever executed: an int of $value\"\n    else -&gt; \"d: ${value.javaClass.name} class with value of $value\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"Performing whenTest\")\n\n    println(\"whenTest(-1) = ${whenTest(-1)}\")\n    println(\"whenTest(2) = ${whenTest(2)}\")\n    println(\"whenTest(5) = ${whenTest(5)}\")\n    println(\"whenTest(7) = ${whenTest(7)}\")\n\n    val nullableInt : Int? = 200\n    val nonNullableInt : Int = 200\n    val nulledInt: Int? = null\n    println(\"patternTest(-1) = ${patternTest(-1)}\")\n    println(\"patternTest($nullableInt) = ${patternTest(nullableInt)}\")\n    println(\"patternTest($nonNullableInt) = ${patternTest(nonNullableInt)}\")\n    println(\"patternTest($nulledInt) = ${patternTest(nulledInt)}\")\n    println(\"patternTest(null) = ${patternTest(null)}\")\n    println(\"patternTest(123.45f) = ${patternTest(123.45f)}\")\n    println(\"patternTest(10) = ${patternTest(10)}\")\n}\n</code></pre>\n\n<p>And here is the output:</p>\n\n<pre><code>Performing whenTest\nwhenTest(-1) = Smaller than 1\nwhenTest(2) = Smaller than Five\nwhenTest(5) = Five\nwhenTest(7) = Larger than 5\npatternTest(-1) = b: an int of -1\npatternTest(200) = b: an int of 200\npatternTest(200) = b: an int of 200\npatternTest(null) = c: the value is null\npatternTest(null) = c: the value is null\npatternTest(123.45f) = d: java.lang.Float class with value of 123.45\npatternTest(10) = e: the value is ten\n</code></pre>\n"}], "owner": {"reputation": 493, "user_id": 1210708, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ca8708a41734f3de73f2016503b681c7?s=128&d=identicon&r=PG", "display_name": "user1210708", "link": "https://stackoverflow.com/users/1210708/user1210708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1453433771, "creation_date": 1447945351, "last_edit_date": 1453433771, "question_id": 33807377, "link": "https://stackoverflow.com/questions/33807377/kotlin-smartcasting-approximates-due-to-nulls-in-using-the-when", "title": "Kotlin smartcasting approximates due to nulls in using the when", "body": "<p>I would like to share some knowledge that I have found regarding Kotlin <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow\">when expression</a>: the Kotlin documentation, even though written as simple and forthcoming as I can imagine it written, does ask for a very holistic understanding.</p>\n\n<p>Two things that was not immediately clear were:</p>\n\n<ol>\n<li>How would the when statement match multiple instances that are nullable?</li>\n<li>How do you match based on a function call?</li>\n</ol>\n\n<p>Without getting verbose, I will simply give you the code and its results.  The findings are commented in the code. There were definitely a few (in hindsight) obvious things that I missed on first take for the when statement - but there are a few eye openers as well.</p>\n"}]