[{"tags": ["jersey", "kotlin", "dropwizard"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1472736678, "post_id": 39259809, "comment_id": 65880389, "body": "I&#39;m familiar with Jersey, JAX-RS 2.0, and Kotlin but I have no experience with Dropwizard. How similar are your sub-resources? Could they implement a common interface and then you could use that instead of <code>Any</code>?"}, {"owner": {"reputation": 1215, "user_id": 2108961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/999e2065097ff2ebc60148d16acfb124?s=128&d=identicon&r=PG", "display_name": "Baron", "link": "https://stackoverflow.com/users/2108961/baron"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1472751852, "post_id": 39259809, "comment_id": 65890298, "body": "I did try that approach as well, but get the same error. Also tried extending from java.lang.Object, as bad as that seems, but had the same issue."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1472827953, "post_id": 39259809, "comment_id": 65924334, "body": "It is possible that Dropwizard does not support the polymorphic subresources, it appears to be building only a static model of the resource tree.  Or this is another bug with Any/Object as a return type.  Actually your error is during logging of endpoints, there were issues with subresource logging so maybe that didn&#39;t take into account the Any/Object case because it is done at Serlvet Init when the type isn&#39;t known."}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 2108961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/999e2065097ff2ebc60148d16acfb124?s=128&d=identicon&r=PG", "display_name": "Baron", "link": "https://stackoverflow.com/users/2108961/baron"}, "edited": false, "score": 0, "creation_date": 1472930572, "post_id": 39295594, "comment_id": 65953872, "body": "Thanks for reporting the bug directly to dropwizard - that was a quick bugfix!"}], "tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": true, "score": 0, "last_activity_date": 1472839121, "last_edit_date": 1472839121, "creation_date": 1472828884, "answer_id": 39295594, "question_id": 39259809, "link": "https://stackoverflow.com/questions/39259809/sub-resource-locators-in-kotlin-dropwizard/39295594#39295594", "title": "Sub-resource locators in Kotlin/Dropwizard", "body": "<p>When Jersey works with Polymorphic resources returning a type that is also possible a resource, it resolves this sub-resource at runtime during the request.  DropWizard uses Jersey pretty much as-is and therefore would support this use-case.</p>\n\n<p>But, DropWizard has a feature to log the output of the routing bindings being made, where it outputs the resource configuration it has determined during Servlet init.  And this code has a bug.  I reported the exact bug here:</p>\n\n<p><a href=\"https://github.com/dropwizard/dropwizard/issues/1716\" rel=\"nofollow\">https://github.com/dropwizard/dropwizard/issues/1716</a></p>\n\n<p>I do not see an easy work around such as turning this logging call off nor deregistering the event.  It appears a patch needs to be made to DropWizard.</p>\n\n<p><strong>UPDATE:</strong> this issue has been resolved by pull request <a href=\"https://github.com/dropwizard/dropwizard/pull/1718\" rel=\"nofollow\">https://github.com/dropwizard/dropwizard/pull/1718</a> and if you track the next release using that merge into <code>master</code> it will include this fix.</p>\n"}], "owner": {"reputation": 1215, "user_id": 2108961, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/999e2065097ff2ebc60148d16acfb124?s=128&d=identicon&r=PG", "display_name": "Baron", "link": "https://stackoverflow.com/users/2108961/baron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 39295594, "answer_count": 1, "score": 0, "last_activity_date": 1472839121, "creation_date": 1472681674, "question_id": 39259809, "link": "https://stackoverflow.com/questions/39259809/sub-resource-locators-in-kotlin-dropwizard", "title": "Sub-resource locators in Kotlin/Dropwizard", "body": "<p>I'm trying to implement a resource with a subresource in Dropwizard 1.0 utilizing Kotlin 1.0.3. I have a sample resource:</p>\n\n<pre><code>package net.reznik.stackoverflow.resources\n\nimport javax.ws.rs.Consumes\nimport javax.ws.rs.Path\nimport javax.ws.rs.PathParam\nimport javax.ws.rs.Produces\nimport javax.ws.rs.core.MediaType\n\n@Path(\"/test\")\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\nclass TestResource {\n\n    @Path(\"/{foo}/\")\n    fun subresource(@PathParam(\"foo\") foo: String): Any {\n        return TestSubResource()\n    }\n}\n</code></pre>\n\n<p>And a subresource:</p>\n\n<pre><code>package net.reznik.stackoverflow.resources\n\nimport javax.ws.rs.POST\nimport javax.ws.rs.Path\nimport javax.ws.rs.core.MediaType\nimport javax.ws.rs.core.Response\n\nclass TestSubResource {\n\n    @POST\n    @Path(\"/bar\")\n    fun bar(request: String): Response {\n        return Response.ok(\"entity received: $request\", MediaType.TEXT_PLAIN_TYPE).build()\n    }\n}\n</code></pre>\n\n<p>If I change the return type of the subresource function from <code>Any</code> to <code>TestSubResource</code>, then everything works as expected. I'd like to use <code>Any</code> as the return type so that I can return different sub-resources depending on the value of <code>{foo}</code>. </p>\n\n<p>When using <code>Any</code>, dropwizard blows up on start up with a long stacktrace...</p>\n\n<pre><code>WARN  [2016-08-31 22:01:32,454] /: unavailable\n! java.lang.NullPointerException: null\n! at io.dropwizard.jersey.DropwizardResourceConfig$EndpointLogger.populate(DropwizardResourceConfig.java:173)\n! at io.dropwizard.jersey.DropwizardResourceConfig$EndpointLogger.populate(DropwizardResourceConfig.java:164)\n! at io.dropwizard.jersey.DropwizardResourceConfig$EndpointLogger.populate(DropwizardResourceConfig.java:189)\n! at io.dropwizard.jersey.DropwizardResourceConfig$EndpointLogger.populate(DropwizardResourceConfig.java:164)\n! at io.dropwizard.jersey.DropwizardResourceConfig$EndpointLogger.populate(DropwizardResourceConfig.java:159)\n! at io.dropwizard.jersey.DropwizardResourceConfig.getEndpointsInfo(DropwizardResourceConfig.java:130)\n! at io.dropwizard.jersey.DropwizardResourceConfig.logComponents(DropwizardResourceConfig.java:80)\n! at io.dropwizard.jersey.DropwizardResourceConfig$ComponentLoggingListener.onEvent(DropwizardResourceConfig.java:245)\n! at org.glassfish.jersey.server.internal.monitoring.CompositeApplicationEventListener.onEvent(CompositeApplicationEventListener.java:74)\n! at org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:629)\n! at org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:184)\n! at org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:350)\n! at org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:347)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n! at org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n! at org.glassfish.jersey.server.ApplicationHandler.&lt;init&gt;(ApplicationHandler.java:347)\n! at org.glassfish.jersey.servlet.WebComponent.&lt;init&gt;(WebComponent.java:392)\n! at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:177)\n! at org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:369)\n! at javax.servlet.GenericServlet.init(GenericServlet.java:244)\n! at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:640)\n! at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:419)\n! at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:875)\n! at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:349)\n! at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:772)\n! at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:262)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)\n! at com.codahale.metrics.jetty9.InstrumentedHandler.doStart(InstrumentedHandler.java:103)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:114)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.doStart(GzipHandler.java:231)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)\n! at org.eclipse.jetty.server.handler.StatisticsHandler.doStart(StatisticsHandler.java:252)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:132)\n! at org.eclipse.jetty.server.Server.start(Server.java:411)\n! at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:106)\n! at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:61)\n! at org.eclipse.jetty.server.Server.doStart(Server.java:378)\n! at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:68)\n! at io.dropwizard.cli.ServerCommand.run(ServerCommand.java:53)\n! at io.dropwizard.cli.EnvironmentCommand.run(EnvironmentCommand.java:44)\n! at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:85)\n! at io.dropwizard.cli.Cli.run(Cli.java:75)\n! at io.dropwizard.Application.run(Application.java:79)\n</code></pre>\n\n<p>Is there a way to implement subresource locator with kotlin/dropwizard such that I can dynamically return one of several subresources based on my own custom logic - i.e., use a return type of <code>Any</code>?</p>\n"}, {"tags": ["kotlin", "vert.x"], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1472671298, "post_id": 39257274, "comment_id": 65850868, "body": "Where do I call <code>router.route</code>, inside <code>Route { ... }</code> ? I&#39;ll try it first thing tomorrow morning."}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 1, "creation_date": 1472672748, "post_id": 39257274, "comment_id": 65851575, "body": "I added a full example in Kotlin in my original answer. Enjoy!"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 2, "last_activity_date": 1472672875, "last_edit_date": 1472672875, "creation_date": 1472670536, "answer_id": 39257274, "question_id": 39254309, "link": "https://stackoverflow.com/questions/39254309/routing-static-content-in-vertx/39257274#39257274", "title": "Routing static content in VertX", "body": "<p>It's much simpler.<br>\nIn your example it could be:</p>\n\n<pre><code>router.route(\"/css/*\").handler(StaticHandler.create());\n</code></pre>\n\n<p>But actually, you should put everything under /static or /public folder and server it like that:</p>\n\n<pre><code>router.route(\"/static/*\").handler(StaticHandler.create());\n</code></pre>\n\n<p>It my Kotlin applications it usually looks like:</p>\n\n<pre><code>val router = Router.router(vertx)\n\nrouter.route().handler(StaticHandler.create())\n// Other routes here...\n</code></pre>\n\n<p>When you create StaticHandler that way, it will server from <code>/resources/webroot</code> directory by default.</p>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 39257274, "answer_count": 1, "score": 1, "last_activity_date": 1472829169, "creation_date": 1472659542, "last_edit_date": 1472829169, "question_id": 39254309, "link": "https://stackoverflow.com/questions/39254309/routing-static-content-in-vertx", "title": "Routing static content in VertX", "body": "<p>I'm using Vert.X (<em>via the org.jetbrains.kotlinx:vertx3-lang-kotlin library</em>) with Kotlin and I'm trying to build a single-page application that is self-contained in a jar.</p>\n\n<p>On the maven side, these are my dependencies:</p>\n\n<pre><code>&lt;properties&gt;        \n    ...               \n    &lt;vertx.version&gt;3.3.2&lt;/vertx.version&gt;\n    &lt;kotlin.version&gt;1.0.3&lt;/kotlin.version&gt;\n    &lt;main.class&gt;Bob&lt;/main.class&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;!-- Vertx Dependencies --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-core&lt;/artifactId&gt;\n    &lt;version&gt;${vertx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.vertx&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx-web&lt;/artifactId&gt;\n    &lt;version&gt;${vertx.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Kotlin Dependencies --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-stdlib&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-test&lt;/artifactId&gt;\n    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Kotlin Vertx Binding Dependency --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n    &lt;artifactId&gt;vertx3-lang-kotlin&lt;/artifactId&gt;\n    &lt;version&gt;[0.0.4,0.1.0)&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p></p>\n\n<p>In my main class, I've got the following:</p>\n\n<pre><code>object Bob {\n\n    val log = LoggerFactory.getLogger(javaClass)\n    val port = 9999\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n\n       DefaultVertx {\n            httpServer(port = Bob.port, block = Route {\n                GET(\"/\") { request -&gt;\n                    headers().add(\"Author\", \"Re@PeR\")\n                    contentType(\"text/html\")\n                    sendFile(\"html/index.html\")\n                }\n                otherwise {\n                    setStatus(404, \"Resource not found\")\n                    body {\n                        write(\"The requested resource was not found\\n\")\n                    }\n                }\n            });\n       }\n\n\n    }\n</code></pre>\n\n<p>Going to <code>localhost:9999</code> the index.html is serving successfully.\nI now want to be able to request css / js files and serve them as well</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/bootstrap.min.css\" &gt;\n    &lt;link rel=\"stylesheet\" href=\"css/bootstrap-theme.min.css\" &gt;\n    &lt;script src=\"js/bootstrap.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>For each of the resources, the browser returns an error 404 as expected.</p>\n\n<p>I'm now trying to serve the CSS using </p>\n\n<pre><code>             GET(\"/css/*\") {\n                request -&gt;\n                    println(\"Serving CSS\")\n                    contentType(\"text/css\")\n                    sendFile(\"css/${request.path()}\")\n            }\n</code></pre>\n\n<p>But I'm not seeing it ever entering that block and it continues to serve error 404s.</p>\n\n<p>What is the correct way to serve static files in Vert.X using <em>org.jetbrains.kotlinx:vertx3-lang-kotlin</em> library?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1472660908, "post_id": 39251860, "comment_id": 65845101, "body": "Even if it were possible, you don&#39;t have enough information in that declaration to use <code>.plus</code>. You&#39;d have to specify what type <code>.plus</code> can take as well."}, {"owner": {"reputation": 68461, "user_id": 90527, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/62d3a421bbe13cae0425a563579618ae?s=128&d=identicon&r=PG", "display_name": "outis", "link": "https://stackoverflow.com/users/90527/outis"}, "edited": false, "score": 0, "creation_date": 1518913085, "post_id": 39251860, "comment_id": 84698516, "body": "Closely related: &quot;<a href=\"https://stackoverflow.com/q/40587118/90527\">Kotlin, generic operation on Number</a>&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 4, "last_activity_date": 1472653654, "creation_date": 1472653654, "answer_id": 39252347, "question_id": 39251860, "link": "https://stackoverflow.com/questions/39251860/how-to-specify-duck-typing-implicit-interface-generics-in-kotlin/39252347#39252347", "title": "How to specify duck typing (implicit interface) generics in Kotlin?", "body": "<p>There is no such feature in Kotlin, and it's not planned for a future release at this time.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2398557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4ef2f0b0c6050137619bbcf16515a22?s=128&d=identicon&r=PG", "display_name": "stangls", "link": "https://stackoverflow.com/users/2398557/stangls"}, "is_accepted": false, "score": 2, "last_activity_date": 1500798768, "last_edit_date": 1500798768, "creation_date": 1492121793, "answer_id": 43402561, "question_id": 39251860, "link": "https://stackoverflow.com/questions/39251860/how-to-specify-duck-typing-implicit-interface-generics-in-kotlin/43402561#43402561", "title": "How to specify duck typing (implicit interface) generics in Kotlin?", "body": "<p>You may want to take a look at the <a href=\"https://github.com/stangls/DucKtypes\" rel=\"nofollow noreferrer\">DucKtypes</a> project at GitHub, which allows for \"static ducktyping\". For example:</p>\n\n<pre><code>interface Summable { fun plus() }\nobject x { fun plus(){ println(\"plus\") } } \nfun myFunction( s : Summable ){ s.plus() }\nmyFunction( x )\n</code></pre>\n\n<p>The project is still pretty new, but might soon have a gradle-plugin to automate code-generation.</p>\n"}], "owner": {"reputation": 23476, "user_id": 222893, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/255b0472c4482c3ea433ab84b4e742e8?s=128&d=identicon&r=PG", "display_name": "weakish", "link": "https://stackoverflow.com/users/222893/weakish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1803, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1527576270, "creation_date": 1472652329, "last_edit_date": 1472652876, "question_id": 39251860, "link": "https://stackoverflow.com/questions/39251860/how-to-specify-duck-typing-implicit-interface-generics-in-kotlin", "title": "How to specify duck typing (implicit interface) generics in Kotlin?", "body": "<p>For example</p>\n\n<pre><code>// Not valid Kotlin code.\nfun &lt;T : Summable&gt; myFunction ...\n</code></pre>\n\n<p><code>T : Summable</code> means any type <code>T</code> supports <code>+</code> operator, i.e. has a <code>.plus</code> method defined.</p>\n"}, {"tags": ["android", "rx-java", "kotlin", "dagger-2", "rx-android"], "answers": [{"tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 4, "last_activity_date": 1480981467, "last_edit_date": 1480981467, "creation_date": 1472687318, "answer_id": 39260684, "question_id": 39250777, "link": "https://stackoverflow.com/questions/39250777/rx-scheduler-cannot-be-provided-without-an-provides-or-produces-annotated-met/39260684#39260684", "title": "rx.Scheduler cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>Use custom annotations with <code>field:</code> target e.g.</p>\n\n<pre><code>@Inject @field:IOScheduler lateinit var subscribeScheduler: Scheduler\n</code></pre>\n\n<hr>\n\n<p><strong>In other news</strong>: Dagger refuses to do the following:</p>\n\n<pre><code>@Inject internal  var something: Boolean  = false // or\n@Inject protected var toolbar:   Toolbar? = null\n</code></pre>\n\n<p>The error looks like this:</p>\n\n<blockquote>\n  <p>Dagger does not support injection into private fields</p>\n</blockquote>\n\n<p>This affects any variables without the <code>lateinit</code> modifier.</p>\n\n<p><s>You'll have to expose primitives in your component and inject them manually.</s></p>\n\n<p>Just specify the <code>set:</code> target so injection is done via public/internal/protected setter instead of the private backing field like this:</p>\n\n<pre><code>@set:Inject internal  var something: Boolean  = false // or\n@set:Inject protected var toolbar:   Toolbar? = null\n</code></pre>\n\n<hr>\n\n<p><strong>Custom annotations</strong></p>\n\n<p>Declare your custom annotations with </p>\n\n<pre><code>@Target(AnnotationTarget.FIELD, AnnotationTarget.VALUE_PARAMETER, AnnotationTarget.FUNCTION, AnnotationTarget.PROPERTY_GETTER, AnnotationTarget.PROPERTY_SETTER)\n</code></pre>\n\n<p>-- pretty much anything except <code>PROPERTY</code> because that is invisible to Java. The compiler will now show an error if you try to use an annotation without <code>get:</code>, <code>set:</code> or <code>field:</code> target. And you need that target so the annotation takes effect.</p>\n"}], "owner": {"reputation": 43, "user_id": 5479519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JvFlV.jpg?s=128&g=1", "display_name": "Damian Moli\u0144ski", "link": "https://stackoverflow.com/users/5479519/damian-moli%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "accepted_answer_id": 39260684, "answer_count": 1, "score": 2, "last_activity_date": 1480981467, "creation_date": 1472649556, "last_edit_date": 1472680564, "question_id": 39250777, "link": "https://stackoverflow.com/questions/39250777/rx-scheduler-cannot-be-provided-without-an-provides-or-produces-annotated-met", "title": "rx.Scheduler cannot be provided without an @Provides- or @Produces-annotated method", "body": "<p>I do have two custom annotations</p>\n\n<pre><code>@Qualifier\n@kotlin.annotation.Retention(AnnotationRetention.RUNTIME)\nannotation class IOScheduler\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Qualifier\n@kotlin.annotation.Retention(AnnotationRetention.RUNTIME)\nannotation class UIScheduler\n</code></pre>\n\n<p>I'm using them in my module</p>\n\n<pre><code>@Module\nclass UiModule {\n\n    @Provides\n    @UIScheduler\n    fun provideUiScheduler(): Scheduler = AndroidSchedulers.mainThread()\n\n    @Provides\n    @IOScheduler\n    fun provideIOScheduler(): Scheduler = Schedulers.io()\n\n}\n</code></pre>\n\n<p>Of course module is added to my component, and when i'm trying to inject them it says</p>\n\n<blockquote>\n  <p>rx.Scheduler cannot be provided without an @Provides- or\n  @Produces-annotated method.</p>\n</blockquote>\n\n<p>injecting</p>\n\n<pre><code>class MainPresenter(val view: MainContract.View) : MainContract.Presenter {\n\n    @Inject lateinit var api: ApiServices\n    @Inject lateinit var databaseManager: DatabaseManager\n    @Inject @UIScheduler lateinit var observeScheduler: Scheduler\n    @Inject @IOScheduler lateinit var subscribeScheduler: Scheduler\n  ...\n}\n</code></pre>\n\n<p>Funny think is that i'm using almost same think with injecting Gson for my ApiClient and it works perfectly</p>\n\n<pre><code>@Module\nclass ApiModule {\n\n...\n\n    @Provides\n    @Singleton\n    @DefaultGson\n    fun providesGson(): Gson = GsonBuilder().create()\n\n    @Provides\n    @Singleton\n    @FormatDateGson\n    fun providesGsonFormatTimestamp(): Gson = GsonBuilder().setDateFormat(Constants.TIME_STAMP_FORMAT).create()\n}\n\n@Singleton\nclass ApiClient @Inject constructor(@DefaultGson val gson: Gson, val sharedPreferences: SharedPrefsUtils) {\n   ...\n}\n</code></pre>\n\n<p>In additional i can say that i do have same modules / providers structure in my java projects and it works just fine. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1472639548, "post_id": 39246249, "comment_id": 65830190, "body": "Is there a specific reason that name and age are mutable?"}], "answers": [{"comments": [{"owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "edited": false, "score": 2, "creation_date": 1472650124, "post_id": 39246836, "comment_id": 65837654, "body": "Thanx for the answear. All the proposed solutions still feel like &#39;a lot of code to do simple job&#39;, at least comparing to let and single variable ;-/"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "edited": false, "score": 3, "creation_date": 1472650639, "post_id": 39246836, "comment_id": 65838043, "body": "@Panel I sort of like that it requires writing <i>a lot of code</i> as you&#39;ve put it. Although I must say I sort of like that fact since it encourages one to use immutable types and read only properties."}, {"owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "edited": false, "score": 1, "creation_date": 1472732576, "post_id": 39246836, "comment_id": 65877257, "body": "This is very good point thx. although I am not sure if it&#39;s possible to applay it every where ex. data comminig from server"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 10, "last_activity_date": 1472638565, "creation_date": 1472638565, "answer_id": 39246836, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/39246836#39246836", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>You can nest <code>let</code> as much as you like so:</p>\n\n<pre><code>fun test(){\n    name?.let { name -&gt;\n        age?.let { age -&gt;\n            doSth(name, age) //smart cast imposible    \n        }\n    }\n}\n</code></pre>\n\n<p>Another approach, that might be easier to follow, is to use local variables:</p>\n\n<pre><code>fun test(){\n    val name = name\n    val age = age\n    if(name != null &amp;&amp; age != null){\n        doSth(name, age)\n    }\n}\n</code></pre>\n\n<p>Last but not least, consider changing <code>Person</code> to be immutable like so:</p>\n\n<pre><code>data class Person(val name:String? = null, val age:Int? = null){\n    fun test(){\n        if(name != null &amp;&amp; age != null){\n            doSth(name, age)\n        }\n    }\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472661518, "post_id": 39250946, "comment_id": 65845430, "body": "This creates garbage. An inline function with 2 parameters would be more practical."}, {"owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "edited": false, "score": 0, "creation_date": 1472706563, "post_id": 39250946, "comment_id": 65861594, "body": "extreme indeed, but still its nice to know"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472714865, "post_id": 39250946, "comment_id": 65865407, "body": "@voddan please elaborate. plus the question was about creating a simple one-liner not to create the most efficient solution ;-)"}], "tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": false, "score": 0, "last_activity_date": 1472651027, "last_edit_date": 1472651027, "creation_date": 1472649991, "answer_id": 39250946, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/39250946#39250946", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>If you want to take it a little \"extreme\" you could define an extension function on <code>Pair&lt;String?,Int?&gt;</code> that hides the logic for you:</p>\n\n<pre><code>fun Pair&lt;String?,Int?&gt;.test(block: (String, Int) -&gt; Unit) {\n    if(first != null &amp;&amp; second != null) {\n         block(first, second)\n    }\n}\n</code></pre>\n\n<p>then, calling it will be a little more concise</p>\n\n<pre><code>(name to age).test { n, a -&gt;\n   println(\"name: $n age: $a\")\n}\n</code></pre>\n\n<p>However, it won't really help you (since you could as well define this as a  function inside the <code>Person</code> class itself), unless you need this kind of functionality really often throughout the whole project. Like I said, it seems overkill.</p>\n\n<p><strong>edit</strong>\nyou could actually make it (a little) more useful, by going fully generic:</p>\n\n<pre><code>fun &lt;T,R&gt; Pair&lt;T?,R?&gt;.ifBothNotNull(block: (T, R) -&gt; Unit) {\n    if(first != null &amp;&amp; second != null){\n         block(first, second)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 0, "last_activity_date": 1474903529, "last_edit_date": 1495540499, "creation_date": 1472650602, "answer_id": 39251197, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/39251197#39251197", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>In addition to <a href=\"https://stackoverflow.com/users/155213/miensol\">miensol</a>'s <a href=\"https://stackoverflow.com/a/39246836/3255152\">answer</a> there are various ways to copy property values into function variables to enable smart cast. e.g.:</p>\n\n<ol>\n<li><p>Intermediary function:</p>\n\n<pre><code>class Person(var name: String? = null, var age: Int? = null) {\n    fun test() = test(name, age)\n    private fun test(name: String?, age: Int?) {\n        if (name != null &amp;&amp; age != null)\n            doSth(name, age) //smart cast possible\n    }\n\n    fun doSth(someValue: String, someValue2: Int) {\n\n    }\n}\n</code></pre></li>\n<li><p>Anonymous function:</p>\n\n<pre><code>class Person(var name: String? = null, var age: Int? = null) {\n    fun test() = (fun(name: String?, age: Int?) {\n        if (name != null &amp;&amp; age != null)\n            doSth(name, age) //smart cast possible\n    })(name, age)\n\n    fun doSth(someValue: String, someValue2: Int) {\n\n    }\n}\n</code></pre></li>\n<li><p>Default arguments:</p>\n\n<pre><code>class Person(var name: String? = null, var age: Int? = null) {\n    fun test(name: String? = this.name, age: Int? = this.age) {\n        if (name != null &amp;&amp; age != null)\n            doSth(name, age) //smart cast possible\n    }\n\n    fun doSth(someValue: String, someValue2: Int) {\n\n    }\n}\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1472829257, "post_id": 39254832, "comment_id": 65925138, "body": "not sure shadowing variables is a better approach than <code>let</code>"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 3, "last_activity_date": 1472661458, "creation_date": 1472661458, "answer_id": 39254832, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/39254832#39254832", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>For the cast to be possible you have to make a local copy of the value somehow. In Kotlin this is best done explicitly:</p>\n\n<pre><code>val name = name\nval age = age\nif(name != null &amp;&amp; age != null){\n    doSth(name, age)\n}\n</code></pre>\n\n<p>The <code>let</code> function hides this behind an abstraction layer, which is not the best IMHO. </p>\n"}, {"tags": [], "owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "is_accepted": false, "score": 2, "last_activity_date": 1472819622, "last_edit_date": 1472819622, "creation_date": 1472768638, "answer_id": 39281766, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/39281766#39281766", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>There's a nice, little lib that allows for writing <code>let</code>-like code with multiple variables. It's open-source and you can find it on GitHub, it's called <a href=\"https://github.com/importre/kotlin-unwrap\" rel=\"nofollow\">Unwrap</a></p>\n\n<p>Example based on readme:</p>\n\n<pre><code>unwrap(_a, _b, _c) { a, b, c -&gt;\n    println(\"$a, $b$c\") // all variables are not-null\n}\n</code></pre>\n\n<p>All <code>unwrap(...)</code> methods are marked <code>inline</code> so there should be no overhead with using them.</p>\n\n<p>By the way, this lib also allows to handle situation when there are some null variables (the <code>nah()</code> method).</p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1502710763, "creation_date": 1502710763, "answer_id": 45673711, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/45673711#45673711", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>It is possible to define an inline method that allows you to take N parameters in order to avoid nesting <code>let</code>s (I'm basing my answer on <a href=\"https://github.com/ajurasz/ascii-less-gallery/blob/d882210cb69bae35f3b10e1c13e95fd4f73dea4f/src/main/kotlin/ajurasz/helpers.kt#L7-L9\" rel=\"nofollow noreferrer\">this</a>).</p>\n\n<pre><code>inline fun &lt;T1: Any, T2: Any, R: Any&gt; safeLet(p1: T1?, p2: T2?, block: (T1, T2)-&gt;R?): R? {\n    return if (p1 != null &amp;&amp; p2 != null) block(p1, p2) else null\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>fun test() {\n    safeLet(name, age, {name, age -&gt; \n        doSth(name, age) //smart cast\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 9585748, "user_type": "registered", "profile_image": "https://graph.facebook.com/1997758600295515/picture?type=large", "display_name": "Ashutosh Shukla", "link": "https://stackoverflow.com/users/9585748/ashutosh-shukla"}, "is_accepted": false, "score": 0, "last_activity_date": 1527068608, "creation_date": 1527068608, "answer_id": 50484991, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible/50484991#50484991", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>I was having the problem while assigning text to textview with same problem description.\nAll I did was putting double exclamation mark after the name of my textview.\nFor example:</p>\n\n<pre><code>var name:TextView?=null\nname = findViewById(R.id.id_name)\nname!!.text = \"Your text\"\n</code></pre>\n"}], "owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6128, "favorite_count": 0, "accepted_answer_id": 39246836, "answer_count": 7, "score": 7, "last_activity_date": 1527068608, "creation_date": 1472636953, "question_id": 39246249, "link": "https://stackoverflow.com/questions/39246249/best-way-to-handle-such-scenario-where-smart-cast-is-imposible", "title": "Best way to handle such scenario where &quot;smart cast is imposible&quot;", "body": "<p>I wonder what is the best way to handle such scenario</p>\n\n<pre><code>class Person(var name:String? = null, var age:Int? = null){\n    fun test(){\n        if(name != null &amp;&amp; age != null)\n            doSth(name, age) //smart cast imposible\n    }\n\n    fun doSth (someValue:String, someValue2:Int){\n\n    }\n}\n</code></pre>\n\n<p>What is the simplest way to call doSth method and making sure that name and age are nt null?</p>\n\n<p>I am looking for something simple as with one variable scenario where I would simply use let</p>\n\n<pre><code>name?.let{ doSth(it) } \n</code></pre>\n"}, {"tags": ["java", "process", "kotlin"], "comments": [{"owner": {"reputation": 11037, "user_id": 3344829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HMY9j.jpg?s=128&g=1", "display_name": "Saravana", "link": "https://stackoverflow.com/users/3344829/saravana"}, "edited": false, "score": 0, "creation_date": 1472619022, "post_id": 39239864, "comment_id": 65818552, "body": "Have you tried launching eclipse with clean <code>eclipse -clean</code>, may be eclipse reading environment variables from cache"}, {"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1472627331, "post_id": 39239864, "comment_id": 65822259, "body": "Can you just print help <code>kotlinc -help</code>, just to proof that this is not a problem with file.kt?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1472637047, "post_id": 39239864, "comment_id": 65828390, "body": "Just another thing to check: see the execution permissions for <code>kotlinc</code> in file system."}, {"owner": {"reputation": 5988, "user_id": 1769273, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e136ce1996a3aceff6b8fa340809591?s=128&d=identicon&r=PG", "display_name": "Nathan Merrill", "link": "https://stackoverflow.com/users/1769273/nathan-merrill"}, "reply_to_user": {"reputation": 11037, "user_id": 3344829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HMY9j.jpg?s=128&g=1", "display_name": "Saravana", "link": "https://stackoverflow.com/users/3344829/saravana"}, "edited": false, "score": 0, "creation_date": 1472644612, "post_id": 39239864, "comment_id": 65833688, "body": "@Saravana I have the same problem whether I run it from IntelliJ or from the command line."}, {"owner": {"reputation": 5988, "user_id": 1769273, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e136ce1996a3aceff6b8fa340809591?s=128&d=identicon&r=PG", "display_name": "Nathan Merrill", "link": "https://stackoverflow.com/users/1769273/nathan-merrill"}, "reply_to_user": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1472644729, "post_id": 39239864, "comment_id": 65833764, "body": "@IRus good idea, but still occurs.  Updated my question regardless."}, {"owner": {"reputation": 5988, "user_id": 1769273, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e136ce1996a3aceff6b8fa340809591?s=128&d=identicon&r=PG", "display_name": "Nathan Merrill", "link": "https://stackoverflow.com/users/1769273/nathan-merrill"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1472645620, "post_id": 39239864, "comment_id": 65834381, "body": "@hotkey I&#39;ve done very little with permissions so I&#39;m not sure what to do here, but in the file properties, I&#39;ve given every group every permission.  I&#39;ve also tried running the project with admin <code>cmd.exe</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5988, "user_id": 1769273, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e136ce1996a3aceff6b8fa340809591?s=128&d=identicon&r=PG", "display_name": "Nathan Merrill", "link": "https://stackoverflow.com/users/1769273/nathan-merrill"}, "edited": false, "score": 0, "creation_date": 1472645702, "post_id": 39249342, "comment_id": 65834428, "body": "That was it.  Thank you!  Will <code>cmd &#47;c kotlinc</code> work on all platforms?"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1472645581, "creation_date": 1472645581, "answer_id": 39249342, "question_id": 39239864, "link": "https://stackoverflow.com/questions/39239864/processbuilder-unable-to-find-kotlin-in-path/39249342#39249342", "title": "ProcessBuilder unable to find Kotlin in path", "body": "<p><code>kotlinc</code> is actually a batch file (<code>kotlinc.bat</code>), not a binary file. Therefore, you need to start it by executing the command <code>cmd /c kotlinc</code>.</p>\n"}], "owner": {"reputation": 5988, "user_id": 1769273, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e136ce1996a3aceff6b8fa340809591?s=128&d=identicon&r=PG", "display_name": "Nathan Merrill", "link": "https://stackoverflow.com/users/1769273/nathan-merrill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 39249342, "answer_count": 1, "score": 1, "last_activity_date": 1472645581, "creation_date": 1472610777, "last_edit_date": 1472644692, "question_id": 39239864, "link": "https://stackoverflow.com/questions/39239864/processbuilder-unable-to-find-kotlin-in-path", "title": "ProcessBuilder unable to find Kotlin in path", "body": "<p>When I run:</p>\n\n<pre><code>new ProcessBuilder(\"kotlinc\", \"-help\").start();\n</code></pre>\n\n<p>I get the error: <strong>Cannot run program \"kotlinc\": CreateProcess error=2, The system cannot find the file specified</strong></p>\n\n<p>I've tried:</p>\n\n<ul>\n<li><p>If I check my path from windows, it contains <code>C:\\Apps\\kotlinc\\bin</code>, and when I open explorer at that location, there's a file named <code>kotlinc</code>.</p></li>\n<li><p>If I open <code>cmd.exe</code> anywhere, and run <code>kotlinc</code>, it works just fine.  </p></li>\n<li><p>If I print out my environment:</p>\n\n<p><code>System.out.print(new ProcessBuilder(\"kotlinc\", \"-help\").environment().get(\"Path\"));</code></p>\n\n<p>it contains <code>C:\\Apps\\kotlinc\\bin</code></p></li>\n<li><p>If I run <code>new ProcessBuilder(\"python3\", \"file.py\").start()</code>, it works just fine.</p></li>\n<li>Rebooting my machine</li>\n</ul>\n\n<p>Changing <code>kotlinc</code> to use the full file path is <em>not</em> an acceptable solution, as this is being run across multiple computers and platforms.</p>\n\n<p>As far as I can tell, everything is setup correctly.  </p>\n\n<p><strong>Why can't I run <code>kotlinc</code> from <code>ProcessBuilder</code>?</strong></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 5, "last_activity_date": 1472621942, "last_edit_date": 1472621942, "creation_date": 1472620770, "answer_id": 39241311, "question_id": 39239724, "link": "https://stackoverflow.com/questions/39239724/kotlin-until-fun-creating-intrange-garbage/39241311#39241311", "title": "Kotlin &#39;until&#39; fun creating IntRange garbage", "body": "<p>In the current version v1.0.4  the compiler optimises calls for <code>rangeTo</code> and <code>downTo</code> functions since they are the most common in <code>for</code> loops.</p>\n\n<p>I think they'll optimises <code>until</code> away some time soon.</p>\n\n<p>Here is the relevant issue ticket: <a href=\"https://youtrack.jetbrains.com/issue/KT-9900\">https://youtrack.jetbrains.com/issue/KT-9900</a>.\nFeel free to vote it up. </p>\n"}], "owner": {"reputation": 2108, "user_id": 1377037, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b5941b2951d33748024848f82e7bf784?s=128&d=identicon&r=PG", "display_name": "Jonathan Beaudoin", "link": "https://stackoverflow.com/users/1377037/jonathan-beaudoin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 1, "accepted_answer_id": 39241311, "answer_count": 1, "score": 5, "last_activity_date": 1472621942, "creation_date": 1472609825, "question_id": 39239724, "link": "https://stackoverflow.com/questions/39239724/kotlin-until-fun-creating-intrange-garbage", "title": "Kotlin &#39;until&#39; fun creating IntRange garbage", "body": "<p>I was using the <code>until</code> infix fun for my loop below</p>\n\n<pre><code>for (x in 0 until bodies.size) bodies[x]()\n</code></pre>\n\n<p>when profiling my code with YourKit I noticed that I had a huge amount of IntRange objects (about 2k/sec).\n<a href=\"https://i.stack.imgur.com/Am5RZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Am5RZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I switch the loop to use the <code>int...int</code> rangeTo directly it does not create any garbage.</p>\n\n<pre><code>for (x in 0..bodies.size-1) bodies[x]()\n</code></pre>\n\n<p>Can someone please explain the difference between these two? From what I can tell <code>Int.until</code> simply returns <code>this .. to</code></p>\n\n<pre><code>public infix fun Int.until(to: Int): IntRange {\n    val to_  = (to.toLong() - 1).toInt()\n    if (to_ &gt; to) throw IllegalArgumentException(\"The to argument value '$to' was too small.\")\n    return this .. to_\n}\n</code></pre>\n"}, {"tags": ["java", "android", "wav", "kotlin", "okio"], "answers": [{"comments": [{"owner": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "edited": false, "score": 0, "creation_date": 1472640725, "post_id": 39247485, "comment_id": 65831030, "body": "I&#39;m getting from another variable, this class haven&#39;t any relation with the parent. But the value is 16000."}, {"owner": {"reputation": 1553, "user_id": 6309820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be7a162e982729375ad5b8e92ee352ad?s=128&d=identicon&r=PG&f=1", "display_name": "Ashish Patil", "link": "https://stackoverflow.com/users/6309820/ashish-patil"}, "edited": false, "score": 0, "creation_date": 1472640924, "post_id": 39247485, "comment_id": 65831192, "body": "To ask for information prefer commenting on question instead of posting an answer and answer only when you are sure about it!"}], "tags": [], "owner": {"reputation": 26, "user_id": 6013109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d63d20ad2864d3d4261e61f6326ef41b?s=128&d=identicon&r=PG&f=1", "display_name": "sparber", "link": "https://stackoverflow.com/users/6013109/sparber"}, "is_accepted": true, "score": 1, "last_activity_date": 1472640301, "creation_date": 1472640301, "answer_id": 39247485, "question_id": 39238559, "link": "https://stackoverflow.com/questions/39238559/creating-wav-file-with-okio/39247485#39247485", "title": "Creating WAV file with Okio", "body": "<p>Where are you getting the value for samplingRate from?\nYou are writing 80 3E 00 00 (ie 16000) but it should actually be 10 00 00 00 (ie 16 for raw PCM format). </p>\n\n<p>At this point in the header you should write the size of the fmt chunk.</p>\n\n<p>I hope this solves your problem</p>\n"}], "owner": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 39247485, "answer_count": 1, "score": 0, "last_activity_date": 1472640301, "creation_date": 1472599643, "last_edit_date": 1495539946, "question_id": 39238559, "link": "https://stackoverflow.com/questions/39238559/creating-wav-file-with-okio", "title": "Creating WAV file with Okio", "body": "<p>My system needs to create a single WAV file using bytes of an array of WAV files. Currently it uses Okio to read and write the data on buffers, and then, write the data on a final file.</p>\n\n<p>I'm following this document and this stack overflow question:</p>\n\n<ul>\n<li><a href=\"http://tiny.systems/software/soundProgrammer/WavFormatDocs.pdf\" rel=\"nofollow noreferrer\">http://tiny.systems/software/soundProgrammer/WavFormatDocs.pdf</a></li>\n<li><a href=\"https://stackoverflow.com/a/12370312/2430555\">https://stackoverflow.com/a/12370312/2430555</a></li>\n</ul>\n\n<p>and...</p>\n\n<ul>\n<li>Okio: 1.10.0 </li>\n<li>Kotlin: 1.0.2-1</li>\n<li>Java: 1.7</li>\n</ul>\n\n<p>I created this code:</p>\n\n<pre><code>fun mixAudios() {\n\n    try {\n\n        //Create the file used to storage the mixed audio file.\n        val file = File(directory, finalFileName)\n\n        //Open the buffer for this file.\n        val bufferedSink = Okio.buffer(Okio.appendingSink(file))\n\n        //Data header of the file.\n        val header = Buffer()\n\n        //Data of the file.\n        val data = Buffer()\n\n        //Do a action for every audio.\n        audios.forEach {\n\n            //Try to read the file, if success, return the file.\n            Okio.buffer(Okio.source(File(it.address)))?.let { file -&gt;\n\n                //Create a new buffer for every audio address.\n                val buffer = Buffer()\n\n                //Read every byte on the buffer.\n                file.readAll(buffer)\n\n                //Remove the first 44 items of the buffer.\n                buffer.readByteArray(44)\n\n                //Get the buffer and write every byte on the sink.\n                data.writeAll(buffer)\n\n                //Close the sink.\n                buffer.close()\n                file.close()\n            }\n        }\n\n        //Count of bytes on the data buffer.\n        val fileSize = data.size().toInt()\n\n        //The data is ready to be written on the sink.\n        data.close()\n\n        val totalFileSize = fileSize + 36\n        val byteRate = (SAMPLE_RATE * CHANNELS * BYTES_PER_SAMPLE) / 8\n\n        //Write the header of the final file.\n        header.writeUtf8(\"RIFF\")\n\n            //Write the total file size (with the header)\n            .writeByte(totalFileSize and 0xff)\n            .writeByte((totalFileSize shr 8) and 0xff)\n            .writeByte((totalFileSize shr 16) and 0xff)\n            .writeByte((totalFileSize shr 24) and 0xff)\n    //      .writeIntLe(fileSize) //Inform the size of the chunk, including the header.\n\n            .writeUtf8(\"WAVE\") //Inform the type of file.\n            .writeUtf8(\"fmt \") //Add the \"fmt\" letters\n            .writeIntLe(samplingRate) //fmt chunk\n\n            .writeByte(AUDIO_FORMAT_PCM) //This byte represents the audio format (PCM).\n            .writeByte(0)\n\n            .writeByte(CHANNELS) //This byte represents the channels of the audio.\n            .writeByte(0)\n\n            //Write the sample rate\n            .writeByte(SAMPLE_RATE and 0xff)\n            .writeByte((SAMPLE_RATE shr 8) and 0xff)\n            .writeByte((SAMPLE_RATE shr 16) and 0xff)\n            .writeByte((SAMPLE_RATE shr 24) and 0xff)\n    //      .writeIntLe(SAMPLE_RATE) //The sample rate of the audio\n\n            //Write the byte rate\n            .writeByte(byteRate and 0xff)\n            .writeByte((byteRate shr 8) and 0xff)\n            .writeByte((byteRate shr 16) and 0xff)\n            .writeByte((byteRate shr 24) and 0xff)\n    //      .writeIntLe((SAMPLE_RATE * CHANNELS * BYTES_PER_SAMPLE) / 8) //Byte rate\n\n            .writeByte(CHANNELS * BYTES_PER_SAMPLE / 8) //Block align\n            .writeByte(0)\n\n            .writeByte(BYTES_PER_SAMPLE) //Bytes per sample\n            .writeByte(0)\n\n            .writeUtf8(\"data\") //File content size\n\n            .writeByte(fileSize and 0xff)\n            .writeByte((fileSize shr 8) and 0xff)\n            .writeByte((fileSize shr 16) and 0xff)\n            .writeByte((fileSize shr 24) and 0xff)\n    //      .writeIntLe(fileSize)\n\n            .close()\n\n        with (bufferedSink) {\n            writeAll(header)\n            writeAll(data)\n            close() //Close and write the file on the memory.\n        }\n\n        //Do the rest...\n\n        } catch (e: Exception) {\n        if (debugEnabled) {\n            e.printStackTrace()\n        }\n      }\n    }\n</code></pre>\n\n<p>The file is generated with success, but when I try to open this audio on any media player, it seems corrupted.</p>\n\n<p>When I try to explore the bytes of this audio file generated, the result is something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HQ57q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQ57q.png\" alt=\"bytes\"></a></p>\n\n<p>I don't know if I'm writing the header correctly, can you help me to solve this problem?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "java", "maven", "vue.js", "kotlin"], "comments": [{"owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "edited": false, "score": 0, "creation_date": 1472587838, "post_id": 39236191, "comment_id": 65809688, "body": "You can use Maven, if you let it execute the same scripts that Gulp/Grunt would (and are willing to deal with thousands of temp files). The rest of this is very off-topic."}, {"owner": {"reputation": 1259, "user_id": 2396367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49fcde7763663d2eda59ca7d9072e9c2?s=128&d=identicon&r=PG", "display_name": "pkawiak", "link": "https://stackoverflow.com/users/2396367/pkawiak"}, "edited": false, "score": 0, "creation_date": 1472588374, "post_id": 39236191, "comment_id": 65809933, "body": "I certainly don&#39;t share your love for Maven, but you could try <a href=\"https://github.com/wro4j/wro4j\" rel=\"nofollow noreferrer\">wro4j</a>. It gets the job done. We&#39;ve used in on fairly large codebase when we couldn&#39;t switch to node ecosystem for corporate BS reasons."}], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 2, "last_activity_date": 1472590327, "creation_date": 1472590327, "answer_id": 39236896, "question_id": 39236191, "link": "https://stackoverflow.com/questions/39236191/is-it-possible-to-use-maven-to-develop-frontend-web-apps/39236896#39236896", "title": "Is it possible to use Maven to develop Frontend/Web apps?", "body": "<blockquote>\n  <p>it is possible to use Maven as an alternative to Gulp, Grunt and Webpack, to deploy my web apps.</p>\n</blockquote>\n\n<p><strong>Gulp</strong> and <strong>Grunt</strong> - tasks runners. </p>\n\n<p><strong>Webpack</strong> - modern bundler with a lot nice features (like webpack-dev-server and hot module replacement).</p>\n\n<p><strong>Maven</strong> - is task runner plus dependency manager. In JS world you usually use <strong>npm</strong> for dependency management.</p>\n\n<blockquote>\n  <p>Maven instead of Gulp, Grunt, Webpack</p>\n</blockquote>\n\n<p>For web development you shouldn't use maven, you can call webpack or anything else when you building both java and frontend, but for development i recommended stay with webpack and npm.</p>\n\n<p>So - <strong>no</strong>, use webpack for build UI.</p>\n\n<blockquote>\n  <p>SASS instead of CSS</p>\n</blockquote>\n\n<p>If you stay with webpack - it's very simple to stay with sass, just use <strong><a href=\"https://github.com/sass/node-sass\" rel=\"nofollow\">node-sass</a></strong> and <strong><a href=\"https://github.com/jtangelder/sass-loader\" rel=\"nofollow\">sass-loader</a></strong>.</p>\n\n<p>On other side maven has <a href=\"https://github.com/Jasig/sass-maven-plugin\" rel=\"nofollow\">sass-maven-plugin</a>, i'm not sure about their quality, and looks like it dead. So I highly recommended to build your sass files with webpack.</p>\n\n<blockquote>\n  <p>Kotlin instead of JavaScript</p>\n</blockquote>\n\n<p>Currently JavaScript target for Kotlin is under active development, so you can run into bugs and not yet implemented features. But it possible, and there are already few <a href=\"https://kotlin.link/\" rel=\"nofollow\">projects</a>. You can write code in Kotlin, compile to JS and use it in webpack. If you doesn't want to learn a lot things yourself i recommend wait for Kotlin 1.1.</p>\n"}], "owner": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1679, "favorite_count": 0, "closed_date": 1472594306, "accepted_answer_id": 39236896, "answer_count": 1, "score": 0, "last_activity_date": 1472590327, "creation_date": 1472587459, "question_id": 39236191, "link": "https://stackoverflow.com/questions/39236191/is-it-possible-to-use-maven-to-develop-frontend-web-apps", "closed_reason": "Needs more focus", "title": "Is it possible to use Maven to develop Frontend/Web apps?", "body": "<p>I have worked with Gulp, Grunt and Webpack. I feel that so far the best build tool I've worked with is Maven. Simple and concise, in my opinion.</p>\n\n<p>For this reason I would like to know if it is possible to use Maven as an alternative to Gulp, Grunt and Webpack, to deploy my web apps.</p>\n\n<p>Simultaneously I would love to use Kotlin instead of JavaScript.</p>\n\n<p>Is there any possible way where I could mount a boilerplate web project having these technologies:</p>\n\n<p><strong>Maven</strong> instead of Gulp, Grunt, Webpack</p>\n\n<p><strong>Kotlin</strong> instead of JavaScript</p>\n\n<p><strong>SASS</strong> instead of CSS</p>\n\n<p>And have the following libs integrated: <strong>VueJS</strong>, <strong>FlexboxGrid</strong> or similar, <strong>Font-Awesome</strong> and <strong>C3js</strong>?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1472564137, "post_id": 39228972, "comment_id": 65795042, "body": "What is the <code>KeyStore</code> class?"}, {"owner": {"reputation": 9097, "user_id": 44816, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/aOoXk.jpg?s=128&g=1", "display_name": "Enrico", "link": "https://stackoverflow.com/users/44816/enrico"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1472564833, "post_id": 39228972, "comment_id": 65795567, "body": "@yole I&#39;m guessing it&#39;s this <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">KeyStore</a>. <code>KeyStore.Entry</code> is a marker interface. Did you mean to use <code>PrivateKeyEntry</code>, <code>SecretKeyEntry</code> or <code>TrustedCertificateEntry</code> instead?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3696644"}, "edited": false, "score": 0, "creation_date": 1472564968, "post_id": 39228972, "comment_id": 65795653, "body": "Oops, sorry. I&#39;ve tried different imports and eventually pasted wrong code. I&#39;ve edited it to match what was original version."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1472641142, "post_id": 39228972, "comment_id": 65831346, "body": "Please don&#39;t use empty classes with <code>companion object</code>s. Use plain <code>object</code>s or make the function top-level and consider making it an extension function."}], "answers": [{"tags": [], "owner": {"reputation": 69512, "user_id": 697630, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/40769e88c0dc93d387a9e368c332fdf9?s=128&d=identicon&r=PG", "display_name": "Edwin Dalorzo", "link": "https://stackoverflow.com/users/697630/edwin-dalorzo"}, "is_accepted": false, "score": 1, "last_activity_date": 1472565487, "creation_date": 1472565487, "answer_id": 39229544, "question_id": 39228972, "link": "https://stackoverflow.com/questions/39228972/kotlin-map-reduce-array-of-strings-to-mapstring-any/39229544#39229544", "title": "Kotlin map &amp; reduce array of Strings to Map&lt;String, Any!&gt;", "body": "<p>How about something like this:</p>\n\n<pre><code>item.itemDescriptor\n    .propertyNames\n    .map { name -&gt; name to item.getPropertyValue(name) }\n    .toMap()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 1, "last_activity_date": 1472566222, "last_edit_date": 1472566222, "creation_date": 1472565520, "answer_id": 39229558, "question_id": 39228972, "link": "https://stackoverflow.com/questions/39228972/kotlin-map-reduce-array-of-strings-to-mapstring-any/39229558#39229558", "title": "Kotlin map &amp; reduce array of Strings to Map&lt;String, Any!&gt;", "body": "<p><a href=\"http://Map.Entry%20-%20stdlib%20-%20Kotlin%20Programming%20Language\" rel=\"nofollow\">Map.Entry - stdlib - Kotlin Programming Language</a> is an <code>interface</code> and as such it does not have a constructor which is why you are getting an error (perhaps not the best message). You can find an implementation, make your own, or use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/associate.html\" rel=\"nofollow\"><code>associate</code></a> instead:</p>\n\n<pre><code>class Utils {\n    companion object {\n        @JvmStatic fun values(item: GSAItem): Map&lt;String, Any?&gt; {\n            return item.itemDescriptor.propertyNames.associate { it to item.getPropertyValue(it) }\n        }\n    }\n}\n</code></pre>\n\n<p>Note that you should use <code>Any</code> or <code>Any?</code> instead of <code>java.lang.Object</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3696644"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3263, "favorite_count": 0, "accepted_answer_id": 39229558, "answer_count": 2, "score": 2, "last_activity_date": 1472566222, "creation_date": 1472563994, "last_edit_date": 1472564894, "question_id": 39228972, "link": "https://stackoverflow.com/questions/39228972/kotlin-map-reduce-array-of-strings-to-mapstring-any", "title": "Kotlin map &amp; reduce array of Strings to Map&lt;String, Any!&gt;", "body": "<p>I want to create Kotlin utility accessible from Java that converts list of Strings to Map. So far I've written:</p>\n\n<pre><code>class Utils {\n    companion object {\n        @JvmStatic fun values(item: GSAItem): Map&lt;String, Object&gt; {\n            return item.itemDescriptor.propertyNames.map {it -&gt; Map.Entry&lt;String, Any!&gt;(it, item.getPropertyValue(it)) };            }\n    }\n}\n</code></pre>\n\n<p>But I'm getting error</p>\n\n<pre><code>Error:(16, 74) Kotlin: Unresolved reference: Entry\n</code></pre>\n\n<p>GSAItem.getPropertyValue is Java method which takes String as argument and returns Object. After that I suspect I need to find some equivalent of collect function from Java 8?</p>\n"}, {"tags": ["java", "kotlin", "modelmapper"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472477523, "post_id": 39199426, "comment_id": 65754116, "body": "Please describe how you want to use the mapped classes. What is the purpose of having two separate data formats?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472501017, "post_id": 39199426, "comment_id": 65767292, "body": "Never heard of duplication the data model (except for cases of legacy code). Usually the data you are working with (View Model) <b>is</b> the data you put into the database."}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472536202, "post_id": 39199426, "comment_id": 65777253, "body": "@voddan one use case would be to expose only parts of the domain model to different API consumers. Having separate DTO per <i>view</i> of domain model is much cleaner than using i.e. <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.1.1/com/fasterxml/jackson/annotation/JsonView.html\" rel=\"nofollow noreferrer\">JsonView</a> IMHO"}, {"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1472547535, "post_id": 39199426, "comment_id": 65783840, "body": "Do you really need these classes to be data classes?"}], "answers": [{"comments": [{"owner": {"reputation": 1140, "user_id": 3767132, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209b800d202fee00fdbaaa5ab063b46d?s=128&d=identicon&r=PG&f=1", "display_name": "sunnyone", "link": "https://stackoverflow.com/users/3767132/sunnyone"}, "edited": false, "score": 5, "creation_date": 1472461949, "post_id": 39201754, "comment_id": 65744263, "body": "The operation that you write is I wanted to do. But I want to reduce mapping declarations because many fields that have same names (like tel -&gt; tel) exist. I want to write only special rules like firstName + lastName =&gt; name."}], "tags": [], "owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "is_accepted": false, "score": 23, "last_activity_date": 1510303357, "last_edit_date": 1510303357, "creation_date": 1472459462, "answer_id": 39201754, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/39201754#39201754", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>Is this are you looking for?</p>\n\n<pre><code>data class PersonRecord(val name: String, val age: Int, val tel: String){       \n    object ModelMapper {\n        fun from(form: PersonForm) = \n            PersonRecord(form.firstName + form.lastName, form.age, form.tel)           \n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>val personRecord = PersonRecord.ModelMapper.from(personForm)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1140, "user_id": 3767132, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209b800d202fee00fdbaaa5ab063b46d?s=128&d=identicon&r=PG&f=1", "display_name": "sunnyone", "link": "https://stackoverflow.com/users/3767132/sunnyone"}, "edited": false, "score": 1, "creation_date": 1472480002, "post_id": 39207557, "comment_id": 65755726, "body": "A spearate class is not required nesessarilly. But I want to avoid depending on the order of arguments."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 1140, "user_id": 3767132, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209b800d202fee00fdbaaa5ab063b46d?s=128&d=identicon&r=PG&f=1", "display_name": "sunnyone", "link": "https://stackoverflow.com/users/3767132/sunnyone"}, "edited": false, "score": 3, "creation_date": 1472481714, "post_id": 39207557, "comment_id": 65756800, "body": "@sunnyone You can always use <a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"nofollow noreferrer\">named arguments</a> when constructing your data objects so that you don&#39;t depend on the order the arguments are defined in."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 5, "last_activity_date": 1472477456, "creation_date": 1472477456, "answer_id": 39207557, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/39207557#39207557", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>Do you really want a separate class for that? You can add properties to the original data class:</p>\n\n<pre><code>data class PersonForm(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    val tel: String\n) {\n    val name = \"${firstName} ${lastName}\"\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3640, "user_id": 197141, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aba9a3e00cad339b91c20cf476417078?s=128&d=identicon&r=PG", "display_name": "arberg", "link": "https://stackoverflow.com/users/197141/arberg"}, "edited": false, "score": 3, "creation_date": 1580285454, "post_id": 39213699, "comment_id": 106042801, "body": "MapStruct with <code>@KotlinBuilder</code> is a beautiful and fast solution. See other answer (where I&#39;ve added <code>@KotlinBuilder</code> info)."}, {"owner": {"reputation": 3640, "user_id": 197141, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/aba9a3e00cad339b91c20cf476417078?s=128&d=identicon&r=PG", "display_name": "arberg", "link": "https://stackoverflow.com/users/197141/arberg"}, "edited": false, "score": 3, "creation_date": 1590138030, "post_id": 39213699, "comment_id": 109571863, "body": "Actually I&#39;ve stopped using MapStruct now, and just go with the first solution mentioned, ie. manual mapping. MapStruct is java-based, so does not give null-safety. Also I find I get compile-time safety anyway with simple kotlin initializer, when there are no default values on constructor. So if a field is added on the data object, I get a compile error, which is what I want."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 72, "last_activity_date": 1472498712, "creation_date": 1472498712, "answer_id": 39213699, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/39213699#39213699", "title": "Better way to map Kotlin data objects to data objects", "body": "<ol>\n<li><p>Simplest (best?):</p>\n\n<pre><code>fun PersonForm.toPersonRecord() = PersonRecord(\n        name = \"$firstName $lastName\",\n        age = age,\n        tel = tel\n)\n</code></pre></li>\n<li><p>Reflection (not great performance):</p>\n\n<pre><code>fun PersonForm.toPersonRecord() = with(PersonRecord::class.primaryConstructor!!) {\n    val propertiesByName = PersonForm::class.memberProperties.associateBy { it.name }\n    callBy(args = parameters.associate { parameter -&gt;\n        parameter to when (parameter.name) {\n            \"name\" -&gt; \"$firstName $lastName\"\n            else -&gt; propertiesByName[parameter.name]?.get(this@toPersonRecord)\n        }\n    })\n}\n</code></pre></li>\n<li><p>Cached reflection (okay performance but not as fast as #1):</p>\n\n<pre><code>open class Transformer&lt;in T : Any, out R : Any&gt;\nprotected constructor(inClass: KClass&lt;T&gt;, outClass: KClass&lt;R&gt;) {\n    private val outConstructor = outClass.primaryConstructor!!\n    private val inPropertiesByName by lazy {\n        inClass.memberProperties.associateBy { it.name }\n    }\n\n    fun transform(data: T): R = with(outConstructor) {\n        callBy(parameters.associate { parameter -&gt;\n            parameter to argFor(parameter, data)\n        })\n    }\n\n    open fun argFor(parameter: KParameter, data: T): Any? {\n        return inPropertiesByName[parameter.name]?.get(data)\n    }\n}\n\nval personFormToPersonRecordTransformer = object\n: Transformer&lt;PersonForm, PersonRecord&gt;(PersonForm::class, PersonRecord::class) {\n    override fun argFor(parameter: KParameter, data: PersonForm): Any? {\n        return when (parameter.name) {\n            \"name\" -&gt; with(data) { \"$firstName $lastName\" }\n            else -&gt; super.argFor(parameter, data)\n        }\n    }\n}\n\nfun PersonForm.toPersonRecord() = personFormToPersonRecordTransformer.transform(this)\n</code></pre></li>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"noreferrer\">Storing Properties in a Map</a></p>\n\n<pre><code>data class PersonForm(val map: Map&lt;String, Any?&gt;) {\n    val firstName: String   by map\n    val lastName: String    by map\n    val age: Int            by map\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String         by map\n}\n\n// maps to ...\ndata class PersonRecord(val map: Map&lt;String, Any?&gt;) {\n    val name: String    by map // \"${firstName} ${lastName}\"\n    val age: Int        by map // copy of age\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String     by map // copy of tel\n}\n\nfun PersonForm.toPersonRecord() = PersonRecord(HashMap(map).apply {\n    this[\"name\"] = \"${remove(\"firstName\")} ${remove(\"lastName\")}\"\n})\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 7649, "user_id": 208881, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bf3eafe58d6aba3dbab9d64307aeb6fb?s=128&d=identicon&r=PG", "display_name": "AFD", "link": "https://stackoverflow.com/users/208881/afd"}, "edited": false, "score": 1, "creation_date": 1553691220, "post_id": 49233530, "comment_id": 97477417, "body": "Gson is quite sluggish"}], "tags": [], "owner": {"reputation": 1282, "user_id": 620213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/914dd772f2ad2d606843a349542e0967?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Power", "link": "https://stackoverflow.com/users/620213/tom-power"}, "is_accepted": false, "score": 3, "last_activity_date": 1520852232, "creation_date": 1520852232, "answer_id": 49233530, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/49233530#49233530", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>This works using Gson:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Any.mapTo(): T =\n    GsonBuilder().create().run {\n        toJson(this@mapTo).let { fromJson(it, T::class.java) }\n    }\n\nfun PersonForm.toRecord(): PersonRecord =\n    mapTo&lt;PersonRecord&gt;().copy(\n        name = \"$firstName $lastName\"\n    )\n\nfun PersonRecord.toForm(): PersonForm =\n    mapTo&lt;PersonForm&gt;().copy(\n        firstName = name.split(\" \").first(),\n        lastName = name.split(\" \").last()\n    )\n</code></pre>\n\n<p>with not nullable values allowed to be null because Gson uses <a href=\"https://stackoverflow.com/questions/45793451/kotlin-not-nullable-value-can-be-null\">sun.misc.Unsafe</a>..</p>\n"}, {"comments": [{"owner": {"reputation": 866, "user_id": 701285, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4ae4ad6f62b0b8972c4af1748d2ea75c?s=128&d=identicon&r=PG", "display_name": "randomUser56789", "link": "https://stackoverflow.com/users/701285/randomuser56789"}, "edited": false, "score": 3, "creation_date": 1559334865, "post_id": 51055321, "comment_id": 99401234, "body": "You forgot to mention &quot;tiny&quot; detail. Your data classes have to be mutable and you have to have custom constructor of  <code>constructor() : this(null, null, null, null)</code>. So until mapstruct team comes up with proper kotlin support, I&#39;d avoid using it and go with manual conversion as @mfulton26 mentioned in his first solution."}, {"owner": {"reputation": 2196, "user_id": 724485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9qYG.jpg?s=128&g=1", "display_name": "FearlessHyena", "link": "https://stackoverflow.com/users/724485/fearlesshyena"}, "edited": false, "score": 0, "creation_date": 1559717306, "post_id": 51055321, "comment_id": 99503103, "body": "I would also recommend MapStruct since it doesn&#39;t use reflection and is thus faster. For the constructor issue you can use this extension <a href=\"https://github.com/Pozo/mapstruct-kotlin\" rel=\"nofollow noreferrer\">github.com/Pozo/mapstruct-kotlin</a> which allows you to use the builder approach not requiring the constructor() : this(null, null) fiasco anymore"}], "tags": [], "owner": {"reputation": 191, "user_id": 6343719, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a8JkugJ753E/AAAAAAAAAAI/AAAAAAABNpI/hXlMUzVkqX4/photo.jpg?sz=128", "display_name": "\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0418\u0432\u0430\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/6343719/%d0%95%d0%b2%d0%b3%d0%b5%d0%bd%d0%b8%d0%b9-%d0%98%d0%b2%d0%b0%d0%bd%d0%be%d0%b2"}, "is_accepted": false, "score": 16, "last_activity_date": 1580285351, "last_edit_date": 1580285351, "creation_date": 1530078388, "answer_id": 51055321, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/51055321#51055321", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>MapStruct lets kapt generate classes doing the mapping (without reflection).</p>\n\n<p>Use MapStruct:</p>\n\n<pre><code>@Mapper\ninterface PersonConverter {\n\n    @Mapping(source = \"phoneNumber\", target = \"phone\")\n    fun convertToDto(person: Person) : PersonDto\n\n    @InheritInverseConfiguration\n    fun convertToModel(personDto: PersonDto) : Person\n\n}\n\n\n// Note this either needs empty constructor or we need @KotlinBuilder as dsecribe below\ndata class Person: this(null, null, null, null) (...)\n</code></pre>\n\n<p>Use: </p>\n\n<pre><code>val converter = Mappers.getMapper(PersonConverter::class.java) // or PersonConverterImpl()\n\nval person = Person(\"Samuel\", \"Jackson\", \"0123 334466\", LocalDate.of(1948, 12, 21))\n\nval personDto = converter.convertToDto(person)\nprintln(personDto)\n\nval personModel = converter.convertToModel(personDto)\nprintln(personModel)\n</code></pre>\n\n<p>Edit: </p>\n\n<p>Now with @KotlinBuilder for avoiding constructor() issue:</p>\n\n<p><a href=\"https://github.com/Pozo/mapstruct-kotlin\" rel=\"noreferrer\">GitHub: Pozo's mapstruct-kotlin</a></p>\n\n<p>Annotate data classes with <code>@KotlinBuilder</code>. This will create a  <code>PersonBuilder</code> class, which MapStruct uses, thus we avoid ruining the interface of the data class with a constructor().</p>\n\n<pre><code>@KotlinBuilder\ndata class Person(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    val tel: String\n)\n</code></pre>\n\n<p>Dependency :</p>\n\n<pre><code>// https://mvnrepository.com/artifact/com.github.pozo/mapstruct-kotlin\napi(\"com.github.pozo:mapstruct-kotlin:1.3.1.1\")\nkapt(\"com.github.pozo:mapstruct-kotlin-processor:1.3.1.1\")\n</code></pre>\n\n<p><a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-kotlin\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-kotlin</a></p>\n"}, {"tags": [], "owner": {"reputation": 471, "user_id": 820374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3957f4a72c621f4bf471d0ab0d41033?s=128&d=identicon&r=PG", "display_name": "Ken", "link": "https://stackoverflow.com/users/820374/ken"}, "is_accepted": false, "score": 1, "last_activity_date": 1533149331, "creation_date": 1533149331, "answer_id": 51640371, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/51640371#51640371", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>You can use ModelMapper to map to a Kotlin data class.  The keys are:</p>\n\n<ul>\n<li>Use @JvmOverloads (generates a constructor with no arguments)</li>\n<li>Default values for data class member</li>\n<li><p>Mutable member, var instead of val</p>\n\n<blockquote>\n<pre><code>data class AppSyncEvent @JvmOverloads constructor(\n    var field: String = \"\",\n    var arguments: Map&lt;String, *&gt; = mapOf&lt;String, Any&gt;(),\n    var source: Map&lt;String, *&gt; = mapOf&lt;String, Any&gt;()\n)\n\nval event = ModelMapper().map(request, AppSyncEvent::class.java)\n</code></pre>\n</blockquote></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 705, "user_id": 1118576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZIhXt.jpg?s=128&g=1", "display_name": "Mike Placentra", "link": "https://stackoverflow.com/users/1118576/mike-placentra"}, "is_accepted": false, "score": 1, "last_activity_date": 1561993616, "creation_date": 1561993616, "answer_id": 56838067, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/56838067#56838067", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>For ModelMapper you could use <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">Kotlin's no-arg compiler plugin</a>, with which you can create an annotation that marks your data class to get a synthetic no-arg constructor for libraries that use reflection. Your data class needs to use <code>var</code> instead of <code>val</code>.</p>\n\n<pre><code>package com.example\n\nannotation class NoArg\n\n@NoArg\ndata class MyData(var myDatum: String)\n\nmm.map(. . ., MyData::class.java)\n</code></pre>\n\n<p>and in build.gradle (see docs for Maven):</p>\n\n<pre><code>buildscript {\n  . . .\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n  }\n}\n\napply plugin: 'kotlin-noarg'\n\nnoArg {\n  annotation \"com.example.NoArg\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 11173938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UulFHjo8hZo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfkmj0oV9FxioarZVTRfjKXDmq4lw/mo/photo.jpg?sz=128", "display_name": "zack evein", "link": "https://stackoverflow.com/users/11173938/zack-evein"}, "is_accepted": false, "score": 4, "last_activity_date": 1567429674, "creation_date": 1567429674, "answer_id": 57757506, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects/57757506#57757506", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>Using <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a></p>\n\n<pre><code>/** Util.kt **/\n\nclass MapperDto() : ModelMapper() {\n    init {\n        configuration.matchingStrategy = MatchingStrategies.LOOSE\n        configuration.fieldAccessLevel = Configuration.AccessLevel.PRIVATE\n        configuration.isFieldMatchingEnabled = true\n        configuration.isSkipNullEnabled = true\n    }\n}\n\nobject Mapper {\n    val mapper = MapperDto()\n\n    inline fun &lt;S, reified T&gt; convert(source: S): T = mapper.map(source, T::class.java)\n}\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>val form = PersonForm(/** ... **/)\nval record: PersonRecord = Mapper.convert(form)\n</code></pre>\n\n<p>You might need some mapping rules if the field names differ. See <a href=\"http://modelmapper.org/getting-started/\" rel=\"nofollow noreferrer\">the getting started</a><br>\nPS: Use <code>kotlin no-args</code> plugin for having default no-arg constructor with your data classes</p>\n"}], "owner": {"reputation": 1140, "user_id": 3767132, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209b800d202fee00fdbaaa5ab063b46d?s=128&d=identicon&r=PG&f=1", "display_name": "sunnyone", "link": "https://stackoverflow.com/users/3767132/sunnyone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64215, "favorite_count": 27, "answer_count": 8, "score": 81, "last_activity_date": 1580285351, "creation_date": 1472450461, "last_edit_date": 1472479823, "question_id": 39199426, "link": "https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects", "title": "Better way to map Kotlin data objects to data objects", "body": "<p>I want to convert/map some \"data\" class objects to similar \"data\" class objects. For example, classes for web form to classes for database records.</p>\n\n<pre><code>data class PersonForm(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String\n)\n// maps to ...\ndata class PersonRecord(\n    val name: String, // \"${firstName} ${lastName}\"\n    val age: Int, // copy of age\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String // copy of tel\n)\n</code></pre>\n\n<p>I use ModelMapper for such works in Java, but it can't be used because data classes are final (ModelMapper creates CGLib proxies to read mapping definitions). We can use ModelMapper when we make these classes/fields open, but we must implement features of \"data\" class manually.\n(cf. ModelMapper examples: <a href=\"https://github.com/jhalterman/modelmapper/blob/master/examples/src/main/java/org/modelmapper/gettingstarted/GettingStartedExample.java\" rel=\"noreferrer\">https://github.com/jhalterman/modelmapper/blob/master/examples/src/main/java/org/modelmapper/gettingstarted/GettingStartedExample.java</a>)</p>\n\n<p>How to map such \"data\" objects in Kotlin?</p>\n\n<p><strong>Update:</strong>\nModelMapper automatically maps fields that have same name (like tel -> tel) without mapping declarations. I want to do it with data class of Kotlin.</p>\n\n<p><strong>Update:</strong>\nThe purpose of each classes depends on what kind of application, but these are probably placed in the different layer of an application.</p>\n\n<p>For example:</p>\n\n<ul>\n<li>data from database (Database Entity) to data for HTML form (Model/View Model)</li>\n<li>REST API result to data for database</li>\n</ul>\n\n<p>These classes are similar, but are not the same.</p>\n\n<p>I want to avoid normal function calls for these reasons:</p>\n\n<ul>\n<li>It depends on the order of arguments. A function for a class with many fields that have same type (like String) will be broken easily.</li>\n<li>Many declarations are nesessary though most mappings can be resolved with naming convention.</li>\n</ul>\n\n<p>Of course, a library that has similar feature is intended, but information of the Kotlin feature is also welcome (like spreading in ECMAScript).</p>\n"}, {"tags": ["android", "kotlin", "notifications"], "comments": [{"owner": {"reputation": 2875, "user_id": 1889768, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f7c563b7e2e34c68165a66af5f4c75d9?s=128&d=identicon&r=PG", "display_name": "Abbas", "link": "https://stackoverflow.com/users/1889768/abbas"}, "edited": false, "score": 0, "creation_date": 1472446914, "post_id": 39198710, "comment_id": 65737632, "body": "Why don&#39;t you post a screen shot of what you are getting and what you want it to look like."}], "answers": [{"tags": [], "owner": {"reputation": 1279, "user_id": 6764479, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/baa23b515b1a93a9704f932b7d3a246d?s=128&d=identicon&r=PG&f=1", "display_name": "Vishnu M Menon", "link": "https://stackoverflow.com/users/6764479/vishnu-m-menon"}, "is_accepted": false, "score": 2, "last_activity_date": 1472447332, "last_edit_date": 1472447332, "creation_date": 1472447011, "answer_id": 39198787, "question_id": 39198710, "link": "https://stackoverflow.com/questions/39198710/big-picture-notification-in-android/39198787#39198787", "title": "Big Picture Notification in android", "body": "<p>I have used Glide library for loading image from URL... Then I have loaded this image using Big Picture Notification.</p>\n\n<pre><code>public class ImageNotification extends AppCompatActivity {\n    public Bitmap image ,bmp;\n    public NotificationCompat.Builder nb;\n    final String url = \"https://www.google.es/images/srpr/logo11w.png\";\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_image_notification);\n\n\n    }\n\n    public void createNotification(View view) {\n        // Prepare intent which is triggered if the\n        // notification is selected\n        Intent intent = new Intent(this, NotificationReceiverActivity.class);\n        PendingIntent pIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, 0);\n\n        nb = new NotificationCompat.Builder(this);\n        nb.setSmallIcon(R.drawable.icon);\n        nb.setContentTitle(\"Image Notification\");\n        nb.setContentText(\"Set Content text\");\n        nb.setTicker(\"Set Ticker text\");\n\n\n        Glide.\n                with(this).\n                load(url).\n                asBitmap()\n                .centerCrop()\n                .into(new SimpleTarget&lt;Bitmap&gt;(100,100) {\n                          @Override\n                          public void onResourceReady(Bitmap resource, GlideAnimation&lt;? super Bitmap&gt; glideAnimation) {\n\n                              NotificationCompat.BigPictureStyle bps = new NotificationCompat.BigPictureStyle().bigPicture(resource);\n                              bps.setSummaryText(\"Summary text appears on expanding the notification\");\n                              nb.setStyle(bps);\n\n                          }\n                      });\n\n\n\n\n\n\n        TaskStackBuilder TSB = TaskStackBuilder.create(this);\n        TSB.addParentStack(ImageNotification.class);\n        // Adds the Intent that starts the Activity to the top of the stack\n        TSB.addNextIntent(intent);\n        PendingIntent resultPendingIntent =\n                TSB.getPendingIntent(\n                        0,\n                        PendingIntent.FLAG_UPDATE_CURRENT\n                );\n\n        nb.setContentIntent(resultPendingIntent);\n        nb.setAutoCancel(true);\n        nb.setDefaults(Notification.DEFAULT_LIGHTS | Notification.DEFAULT_VIBRATE);\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        nb.setSound(alarmSound, AudioManager.STREAM_MUSIC);\n        NotificationManager mNotificationManager =\n                (NotificationManager) this.getSystemService(Context.NOTIFICATION_SERVICE);\n        // mId allows you to update the notification later on.\n        mNotificationManager.notify(11221, nb.build());\n    }\n\n}\n</code></pre>\n\n<p>If you loading the image from mipmap or drawable you can replace the code written for glide library using the below code</p>\n\n<pre><code>Bitmap bitmap_image = BitmapFactory.decodeResource(this.getResources(), R.drawable.picture);\n      NotificationCompat.BigPictureStyle s = new NotificationCompat.BigPictureStyle().bigPicture(bitmap_image);\n       s.setSummaryText(\"Summary text appears on expanding the notification\");\n        nb.setStyle(s);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "edited": false, "score": 0, "creation_date": 1472448902, "post_id": 39198855, "comment_id": 65738259, "body": "I tried with 96*96 now the length is fine but height making problem.Is there any way handle it from code."}, {"owner": {"reputation": 707, "user_id": 5848275, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LSDVo.jpg?s=128&g=1", "display_name": "KrishnaJ", "link": "https://stackoverflow.com/users/5848275/krishnaj"}, "reply_to_user": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "edited": false, "score": 0, "creation_date": 1472449233, "post_id": 39198855, "comment_id": 65738357, "body": "try with put image in xxhdpi and xxxhdpi folders.and then also it not works then put this image in 48*48 and put in xhdpi."}, {"owner": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "edited": false, "score": 0, "creation_date": 1472449838, "post_id": 39198855, "comment_id": 65738571, "body": "How it will work if the image is coming from back end?"}, {"owner": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "edited": false, "score": 0, "creation_date": 1472449996, "post_id": 39198855, "comment_id": 65738630, "body": "Yes.I am setting the image from url"}, {"owner": {"reputation": 707, "user_id": 5848275, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LSDVo.jpg?s=128&g=1", "display_name": "KrishnaJ", "link": "https://stackoverflow.com/users/5848275/krishnaj"}, "reply_to_user": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "edited": false, "score": 0, "creation_date": 1472450130, "post_id": 39198855, "comment_id": 65738666, "body": "use imageview for notification icon?"}], "tags": [], "owner": {"reputation": 707, "user_id": 5848275, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LSDVo.jpg?s=128&g=1", "display_name": "KrishnaJ", "link": "https://stackoverflow.com/users/5848275/krishnaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1472447500, "creation_date": 1472447500, "answer_id": 39198855, "question_id": 39198710, "link": "https://stackoverflow.com/questions/39198710/big-picture-notification-in-android/39198855#39198855", "title": "Big Picture Notification in android", "body": "<p>change your drawable name and resize it to 96*96 and put it in drawable-xhdpi folder.and use renamed drawable in notification.</p>\n\n<p>Here is code for <strong>BigPicture</strong> Notification:</p>\n\n<pre><code>     Bitmap icon1 = BitmapFactory.decodeResource(getResources(), R.drawable.k);\n\n            NotificationCompat.BigPictureStyle bigPicture = new NotificationCompat.BigPictureStyle();\n            bigPicture.bigPicture(icon1);\n\n\n             NotificationCompat.Builder mBuilder =\n                        new NotificationCompat.Builder(getApplicationContext())\n                         .setSmallIcon(R.drawable.ic_launcher)\n                         .setContentTitle(\"Big picture\")\n\n                         .setStyle(bigPicture);\n\n             NotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n             mNotificationManager.notify(4, mBuilder.build());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1069, "user_id": 4019233, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NtG99.jpg?s=128&g=1", "display_name": "Saurabh Gaddelpalliwar", "link": "https://stackoverflow.com/users/4019233/saurabh-gaddelpalliwar"}, "is_accepted": false, "score": 1, "last_activity_date": 1552461697, "last_edit_date": 1552461697, "creation_date": 1510836737, "answer_id": 47330166, "question_id": 39198710, "link": "https://stackoverflow.com/questions/39198710/big-picture-notification-in-android/47330166#47330166", "title": "Big Picture Notification in android", "body": "<p><strong>Here is the complete code for BigPicture  from FCM Notification:</strong></p>\n\n<pre><code>Bitmap bitmap = getBitmapFromURL(imageUrl);\n\n  private void showBigNotification(Bitmap bitmap,NotificationCompat.Builder mBuilder, int icon, String title, String  message, String timeStamp, PendingIntent resultPendingIntent, Uri alarmSound) {\n\n    mBuilder.setSmallIcon(R.drawable.ic_message_alertnoti).setTicker(title).setWhen(0);\n    Intent intent = new Intent().setClassName(\"com.packageName\", \"com.packageName.activity.YourActivity\"); // give any activity name which you want to open\n    try {\n        intent.putExtra(\"regId\", userInfo.selectOneField(UserInfo.DEVICE_ID));\n    } catch (DAOException e) {\n        e.printStackTrace();\n    }\n    PendingIntent pendingIntent = PendingIntent.getActivity(mContext, 0, intent, 0);\n    mBuilder.setContentIntent(pendingIntent);\n    mBuilder.setLargeIcon(BitmapFactory.decodeResource(mContext.getResources(), R.mipmap.ic_launcher));\n    mBuilder.setContentTitle(title);\n    mBuilder.setColor(ContextCompat.getColor(mContext, R.color.colorOrange));\n    mBuilder.setContentText(message);\n    mBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(bitmap));/*Notification with Image*/\n    mBuilder.setPriority(Notification.PRIORITY_MAX);\n    mBuilder.setVisibility(NotificationCompat.VISIBILITY_PUBLIC);\n    if (Build.VERSION.SDK_INT &gt;= 21) mBuilder.setVibrate(new long[0]);\n    NotificationManager notificationManager = (NotificationManager) mContext.getSystemService(mContext.NOTIFICATION_SERVICE);\n    notificationManager.notify(Config.NOTIFICATION_ID, mBuilder.build());\n}\n\n/**\n * Downloading push notification image before displaying it in\n * the notification tray\n */\npublic Bitmap getBitmapFromURL(String strURL) {\n    try {\n        URL url = new URL(strURL);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setDoInput(true);\n        connection.connect();\n        InputStream input = connection.getInputStream();\n        Bitmap myBitmap = BitmapFactory.decodeStream(input);\n        return myBitmap;\n    } catch (IOException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 6734792, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3e80648006bff3cbc01fd52866d3524b?s=128&d=identicon&r=PG&f=1", "display_name": "tinto mathew", "link": "https://stackoverflow.com/users/6734792/tinto-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6879, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1573102517, "creation_date": 1472446577, "last_edit_date": 1573102517, "question_id": 39198710, "link": "https://stackoverflow.com/questions/39198710/big-picture-notification-in-android", "title": "Big Picture Notification in android", "body": "<p>I have done android push notification using FCM.But when I am trying the big picture notification it's not showing the full  image in the notificationn bar.Left and Right side of the image is getting cropped.Please let me know how to fix the issue.i tried by giving 512*256 image and 600*300 size images.</p>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1472403534, "post_id": 39193268, "comment_id": 65727881, "body": "Try <code>fun checkNotesListNotEmpty()  throws InterruptedException</code>"}, {"owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "reply_to_user": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1472404158, "post_id": 39193268, "comment_id": 65728099, "body": "@piotrek1543 the main problem is that I can&#39;t find a way to run Espresso test multiple times(in loop). How can I do it?"}], "answers": [{"comments": [{"owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "reply_to_user": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "edited": false, "score": 1, "creation_date": 1473182636, "post_id": 39194410, "comment_id": 66039101, "body": "@Alexandr Did you check that? Accept some answer to make this site better  :)"}, {"owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "edited": false, "score": 0, "creation_date": 1473255075, "post_id": 39194410, "comment_id": 66070567, "body": "give me a few days :)"}, {"owner": {"reputation": 502, "user_id": 2975475, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/tnB6i.jpg?s=128&g=1", "display_name": "Pawan", "link": "https://stackoverflow.com/users/2975475/pawan"}, "edited": false, "score": 2, "creation_date": 1502265539, "post_id": 39194410, "comment_id": 78128520, "body": "Not working for me also. Totally ignored in Espresso."}, {"owner": {"reputation": 361, "user_id": 7877039, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rqpQqvSjP1o/AAAAAAAAAAI/AAAAAAAAAjo/3E1NwHluD_k/photo.jpg?sz=128", "display_name": "Johan Ferreira", "link": "https://stackoverflow.com/users/7877039/johan-ferreira"}, "edited": false, "score": 1, "creation_date": 1616164883, "post_id": 39194410, "comment_id": 117924682, "body": "Remember to add the @Rule annotation. I forgot it couldn&#39;t understand why it wasn&#39;t working..."}], "tags": [], "owner": {"reputation": 22943, "user_id": 870674, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0463b7a46ed49025082a795ac2f67f49?s=128&d=identicon&r=PG", "display_name": "klimat", "link": "https://stackoverflow.com/users/870674/klimat"}, "is_accepted": true, "score": 15, "last_activity_date": 1533642589, "last_edit_date": 1533642589, "creation_date": 1472408450, "answer_id": 39194410, "question_id": 39193268, "link": "https://stackoverflow.com/questions/39193268/run-espresso-test-multiple-times/39194410#39194410", "title": "Run espresso test multiple times", "body": "<p>Use <code>@Repeat</code> annotation:</p>\n\n<pre><code>@RunWith(AndroidJUnit4.class)\npublic class MyTest {\n\n    @Rule\n    public RepeatRule repeatRule = new RepeatRule();\n\n    @Test\n    @Repeat(100)\n    fun checkNotesListNotEmpty() {\n    }\n</code></pre>\n\n<p>But you have to implement it yourself:</p>\n\n<p>Repeat.java:</p>\n\n<pre><code>import static java.lang.annotation.ElementType.ANNOTATION_TYPE;\nimport static java.lang.annotation.ElementType.METHOD;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention( RetentionPolicy.RUNTIME )\n@Target({ METHOD, ANNOTATION_TYPE })\npublic @interface Repeat {\n    int value() default 1;\n}\n</code></pre>\n\n<p>RepeatRule.java:</p>\n\n<pre><code>import org.junit.rules.TestRule;\nimport org.junit.runner.Description;\nimport org.junit.runners.model.Statement;\n\npublic class RepeatRule implements TestRule {\n\n    private static class RepeatStatement extends Statement {\n        private final Statement statement;\n        private final int repeat;    \n\n        public RepeatStatement(Statement statement, int repeat) {\n            this.statement = statement;\n            this.repeat = repeat;\n        }\n\n        @Override\n        public void evaluate() throws Throwable {\n            for (int i = 0; i &lt; repeat; i++) {\n                statement.evaluate();\n            }\n        }\n\n    }\n\n    @Override\n    public Statement apply(Statement statement, Description description) {\n        Statement result = statement;\n        Repeat repeat = description.getAnnotation(Repeat.class);\n        if (repeat != null) {\n            int times = repeat.value();\n            result = new RepeatStatement(statement, times);\n        }\n        return result;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1472450242, "creation_date": 1472450242, "answer_id": 39199374, "question_id": 39193268, "link": "https://stackoverflow.com/questions/39193268/run-espresso-test-multiple-times/39199374#39199374", "title": "Run espresso test multiple times", "body": "<p>Can't you have a separate test which loops that one? (if it is a one-of-its-kind situation):</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\n@LargeTest\nclass MainActivityTest {\n    ...\n\n    @Test fun checkNotesListNotEmpty() {...}\n\n    @Test fun loopCheckNotesListNotEmpty() {\n        while(true)\n            checkNotesListNotEmpty()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "is_accepted": false, "score": 11, "last_activity_date": 1473462320, "creation_date": 1473462320, "answer_id": 39420849, "question_id": 39193268, "link": "https://stackoverflow.com/questions/39193268/run-espresso-test-multiple-times/39420849#39420849", "title": "Run espresso test multiple times", "body": "<p>Solution presented by @mklimek in Kotlin.</p>\n\n<p>How to use:</p>\n\n<pre><code>@Rule @JvmField\nvar repeatRule: RepeatRule = RepeatRule()\n\n@Test\n@RepeatTest(100)\nfun checkNotesListNotEmpty() {\n</code></pre>\n\n<p>RepeatRule.kt</p>\n\n<pre><code>class RepeatRule : TestRule {\n\n    private class RepeatStatement(private val statement: Statement, private val repeat: Int) : Statement() {\n        @Throws(Throwable::class)\n        override fun evaluate() {\n            for (i in 0..repeat - 1) {\n                statement.evaluate()\n            }\n        }\n    }\n\n    override fun apply(statement: Statement, description: Description): Statement {\n        var result = statement\n        val repeat = description.getAnnotation(RepeatTest::class.java)\n        if (repeat != null) {\n            val times = repeat.value\n            result = RepeatStatement(statement, times)\n        }\n        return result\n    }\n}\n</code></pre>\n\n<p>RepeatTest.kt</p>\n\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\n@Target(AnnotationTarget.FUNCTION, AnnotationTarget.ANNOTATION_CLASS)\nannotation class RepeatTest(val value: Int = 1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4466, "user_id": 390718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TpQ3p.png?s=128&g=1", "display_name": "hopia", "link": "https://stackoverflow.com/users/390718/hopia"}, "edited": false, "score": 9, "creation_date": 1521170467, "post_id": 46900137, "comment_id": 85627075, "body": "This only works for java unit tests not Instrumented Tests."}], "tags": [], "owner": {"reputation": 11, "user_id": 8822181, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-m9-vnlRxs_o/AAAAAAAAAAI/AAAAAAAAH9Q/3g1bfs3RQeE/photo.jpg?sz=128", "display_name": "Rukmani Ravi", "link": "https://stackoverflow.com/users/8822181/rukmani-ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1508804899, "last_edit_date": 1508804899, "creation_date": 1508802721, "answer_id": 46900137, "question_id": 39193268, "link": "https://stackoverflow.com/questions/39193268/run-espresso-test-multiple-times/46900137#46900137", "title": "Run espresso test multiple times", "body": "<p>Android Studio allows you to run a test N times or run until it fails. Click on \"Edit configurations\" for your test rule and search for the \"Repeat:\" setting.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cZMd9.png\" alt=\"Screenshot\"></p>\n"}, {"tags": [], "owner": {"reputation": 1598, "user_id": 973379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/100000215477293/picture?type=large", "display_name": "Piotr Zawadzki", "link": "https://stackoverflow.com/users/973379/piotr-zawadzki"}, "is_accepted": false, "score": 0, "last_activity_date": 1541529418, "last_edit_date": 1541529418, "creation_date": 1541529086, "answer_id": 53177909, "question_id": 39193268, "link": "https://stackoverflow.com/questions/39193268/run-espresso-test-multiple-times/53177909#53177909", "title": "Run espresso test multiple times", "body": "<p>I had the same issue and as a result I've created a library to run test multiple times: <a href=\"https://github.com/stepstone-tech/AndroidTestXRunner\" rel=\"nofollow noreferrer\">https://github.com/stepstone-tech/AndroidTestXRunner</a> </p>\n\n<p>Once you run it, you can check the tests results for any failures.</p>\n"}], "owner": {"reputation": 3389, "user_id": 4853702, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d4108214e2f91f7a04a4ccd5c2d553b0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexandr", "link": "https://stackoverflow.com/users/4853702/alexandr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6180, "favorite_count": 1, "accepted_answer_id": 39194410, "answer_count": 5, "score": 9, "last_activity_date": 1541529418, "creation_date": 1472400786, "last_edit_date": 1472404081, "question_id": 39193268, "link": "https://stackoverflow.com/questions/39193268/run-espresso-test-multiple-times", "title": "Run espresso test multiple times", "body": "<p>Sometimes I faced with rare bug in my application. But I can't reproduce it as it's very rare. So, I decided to write simple espresso test:</p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\n@LargeTest\nclass MainActivityTest {\n\n    val password = \"1234\"\n\n    @Rule @JvmField\n    var mActivityRule: ActivityTestRule&lt;MainActivity&gt; = ActivityTestRule(MainActivity::class.java)\n\n    @Test\n    fun checkNotesListNotEmpty() {\n        onView(withId(R.id.password_edit_text)).perform(typeText(password))\n        onView(withId(R.id.notes_recycler_view)).check { view, noMatchingViewException -&gt;\n            if (noMatchingViewException != null) throw noMatchingViewException\n            assertThat((view as RecyclerView).adapter.itemCount,  Matchers.`is`(1))\n        }\n    }\n}\n</code></pre>\n\n<p>How can I loop this test and stop it when matching fails?</p>\n"}, {"tags": ["java", "jvm", "kotlin", "jetbrains-ide"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472423326, "post_id": 39191785, "comment_id": 65733205, "body": "you are missing <code>kotlin-stdlib</code> somewhere. Try adding it to the compiler options"}, {"owner": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1472427830, "post_id": 39191785, "comment_id": 65733973, "body": "@voddan That&#39;s what I thought, but how to add it? The <code>stdlib</code> you mentioned seems to be <code>kotlin-runtime.jar</code>, which I&#39;ve already tried: <code>java -cp kotlin-runtime.jar -jar kotlin-compiler.jar AimToTen.kt</code> and <code>java -cp &quot;.:kotlin-runtime.jar&quot; -jar kotlin-compiler.jar AimToTen.kt</code> resulted in failure. Thanks for answering!"}], "answers": [{"comments": [{"owner": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "edited": false, "score": 0, "creation_date": 1472427634, "post_id": 39196398, "comment_id": 65733945, "body": "Thanks, but <code>scala</code> and <code>clojure</code> are all able to be compiled by <code>java</code> command. So I think <code>Kotlin</code> should be as well. Additionally, the <code>kotlinc</code> is a bash file and what command it&#39;s using is actually <code>java xxxxxxxxx</code>."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "edited": false, "score": 1, "creation_date": 1472429865, "post_id": 39196398, "comment_id": 65734307, "body": "@MewX Use the script. That&#39;s what it&#39;s for."}, {"owner": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1472430342, "post_id": 39196398, "comment_id": 65734384, "body": "@EJP Thanks, but why the script needs the installed path? I was wondering what files are required in the compiling procedure."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 1, "last_activity_date": 1472423603, "creation_date": 1472423603, "answer_id": 39196398, "question_id": 39191785, "link": "https://stackoverflow.com/questions/39191785/how-to-use-with-java-command-with-kotlin-compiler-jar-to-compile-kotlin-sour/39196398#39196398", "title": "How to use with `java` command with `kotlin-compiler.jar` to compile Kotlin source codes?", "body": "<p>As stated in the <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html\" rel=\"nofollow\">docs</a>, the line to compile a Kotlin file is </p>\n\n<pre><code>$ kotlinc hello.kt -include-runtime -d hello.jar\n</code></pre>\n\n<p>BTW, if you are trying to learn/try out Kotlin in command line (which you should not!), you may consider <a href=\"http://try.kotlinlang.org/\" rel=\"nofollow\">http://try.kotlinlang.org/</a></p>\n"}], "owner": {"reputation": 3643, "user_id": 4206925, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PhlNi.png?s=128&g=1", "display_name": "MewX", "link": "https://stackoverflow.com/users/4206925/mewx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 39196398, "answer_count": 1, "score": 2, "last_activity_date": 1472428444, "creation_date": 1472391014, "last_edit_date": 1472428444, "question_id": 39191785, "link": "https://stackoverflow.com/questions/39191785/how-to-use-with-java-command-with-kotlin-compiler-jar-to-compile-kotlin-sour", "title": "How to use with `java` command with `kotlin-compiler.jar` to compile Kotlin source codes?", "body": "<p><strong>I am now limited to use <code>java</code> command to compile a Kotlin source file.</strong></p>\n\n<p>So after some attempts, I found a <code>kotlin-compiler.jar</code> file in the <code>lib/</code> folder in <code>kotlinc/</code>.</p>\n\n<p>Then I tried to write a <code>Hello.kt</code> file <strong>in <code>kotlinc/lib/</code></strong>:</p>\n\n<pre><code>public fun main(args: Array&lt;String&gt;) {\n    println(\"hello\")\n}\n</code></pre>\n\n<p>And then, I executed the command <code>java -jar kotlin-compiler.jar Hello.kt</code> which worked and generated a class file <code>HelloKt.class</code>.</p>\n\n<p>As a result I executed the command <code>java -cp \".:kotlin-runtime.jar\" HelloKt</code>, and it also worked:</p>\n\n<pre><code>[xxxxxxx@uss lib]$ java -cp \".:kotlin-runtime.jar\" HelloKt\nhello\n</code></pre>\n\n<hr>\n\n<p><strong>But, for a more complicated source file:</strong></p>\n\n<p>AimToTen.kt:</p>\n\n<pre><code>class AimToTen() {\n    fun need(marks: Array&lt;Int&gt;): Int {\n        // multiply 10 first\n        for (idx: Int in marks.indices) marks[idx] *= 10\n\n        val result: Int = 190 * marks.size - 2 * marks.sum();\n        return when {\n            result &lt; 0 -&gt; 0\n            result % 10 != 0 -&gt; result / 10 + 1\n            else -&gt; result / 10;\n        }\n    }\n}\n</code></pre>\n\n<p>I tried to execute <code>java -jar kotlin-compiler.jar AimToTen.kt</code>, but some functions missed(?):</p>\n\n<pre><code>[xxxxxxx@uss intro1]$ java -jar kotlin-compiler.jar AimToTen.kt\nAimToTen.kt:4:32: error: unresolved reference: indices\n        for (idx: Int in marks.indices) marks[idx] *= 10\n                               ^\nAimToTen.kt:10:56: error: unresolved reference: sum\n        val result: Int = 190 * marks.size - 2 * marks.sum();\n                                                       ^\n</code></pre>\n\n<hr>\n\n<p>So I tried again:</p>\n\n<pre><code>[xxxxxxx@uss intro1]$ java -jar kotlin-compiler.jar\nWelcome to Kotlin version 1.0.3 (JRE 1.8.0_65-b17)\nType :help for help, :quit for quit\n&gt;&gt;&gt; println(123)\nerror: unresolved reference: println\nprintln(123)\n^\n\n&gt;&gt;&gt; var test: IntArray = intArrayOf(1, 2)\n&gt;&gt;&gt; test\n[I@7d64e326\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Also, in other folder, the <code>Hello.kt</code> cannot be compiled even if I copied all the <code>.jar</code> files in the same folder.</p>\n\n<hr>\n\n<p><strong>Ehh, I do appreciate if you can help me with this issue! I want to compile this file with <code>java</code> command, without any absolute paths.</strong></p>\n\n<p><em>P.S. Using <code>kotlinc AimToTen.kt</code> works.</em></p>\n"}, {"tags": ["android", "fragment", "android-recyclerview", "kotlin", "nestedscrollview"], "comments": [{"owner": {"reputation": 2414, "user_id": 4052962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nGD2o.jpg?s=128&g=1", "display_name": "Michael Spitsin", "link": "https://stackoverflow.com/users/4052962/michael-spitsin"}, "edited": false, "score": 0, "creation_date": 1473238891, "post_id": 39180197, "comment_id": 66059662, "body": "Could you please, give more details about, where you restore positions. I mean in default way you need to restore state of views and something like that or in <code>onRestoreInstanceState</code> or in <code>onCreate</code>. Where you call <code>NestedScrollView.restorePosition</code>?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1607502387, "post_id": 39180197, "comment_id": 115289561, "body": "I think NestedScrollView will destroy the recycling of your vertical RecyclerView."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 4061028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SXF3oJTrrdA/AAAAAAAAAAI/AAAAAAAAAs8/6_uX-TSeWTo/photo.jpg?sz=128", "display_name": "tadiuzzz", "link": "https://stackoverflow.com/users/4061028/tadiuzzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1607495239, "creation_date": 1607495239, "answer_id": 65211681, "question_id": 39180197, "link": "https://stackoverflow.com/questions/39180197/save-restore-state-of-nestedscrollview-with-multiple-recyclerviews-and-other-v/65211681#65211681", "title": "Save / Restore state of NestedScrollView with multiple RecyclerViews and other views", "body": "<p>If you want to restore scroll position of NestedScrollView after pop back stack with fragment manager, you don't need to do it manually. For me the problem was in lack of <strong>id</strong> of NestedScrollView. After I added id in xml layout - everithing works well.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5099833"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 714, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1607495239, "creation_date": 1472294494, "last_edit_date": 1473921620, "question_id": 39180197, "link": "https://stackoverflow.com/questions/39180197/save-restore-state-of-nestedscrollview-with-multiple-recyclerviews-and-other-v", "title": "Save / Restore state of NestedScrollView with multiple RecyclerViews and other views", "body": "<p><em>Update:</em> This method works, only the saving didn't work, so I chose another way to save this array.</p>\n\n<p>In my layout I have a NestedScrollView and in it a LinearLayout, which contains multiple RecyclerViews and other views. The layout is inside a Fragment.\nI try to save and restore the scroll state the following way (it's Kotlin, so don't wunder about the syntax):</p>\n\n<pre><code>fun NestedScrollView.savePosition(bundle: Bundle?) {\n    bundle?.putIntArray(\"SCROLL_VIEW_POSITION\", intArrayOf(scrollX, scrollY))\n}\n\nfun NestedScrollView.restorePosition(bundle: Bundle?) {\n    bundle?.getIntArray(\"SCROLL_VIEW_POSITION\")?.let { post { scrollTo(it[0], it[1]) } }\n}\n</code></pre>\n\n<p>I call the first function in <code>onSaveInstanceState</code> and the second one after all RecyclerViews have loaded their contents.</p>\n\n<p>But it's not working...</p>\n\n<p><strong>Any ideas?</strong></p>\n"}, {"tags": ["java", "spring", "junit", "kotlin"], "comments": [{"owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "edited": false, "score": 1, "creation_date": 1472285735, "post_id": 39178817, "comment_id": 65699482, "body": "1. There&#39;s nothing wrong with having properties as <code>lateinit</code>. The reason why <code>lateinit</code> keyword was created, is to handle such cases. I don&#39;t see any reasons why you&#39;d want to get rid of lateinit. 2. As the exception message reads, you need to have a no-arg constructor, so it&#39;s impossible to have @Autowired constructor args."}, {"owner": {"reputation": 26445, "user_id": 608820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/aGmg7.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/608820/augusto"}, "edited": false, "score": 1, "creation_date": 1472286885, "post_id": 39178817, "comment_id": 65699747, "body": "I don&#39;t think what you want is possible without some tinkering in Junit. If you do want to go that road, you&#39;ll need to build your own <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runner/Runner.html\" rel=\"nofollow noreferrer\">Runner</a> that initialises spring and then instantiates the test class by calling the constructor. Take a look at the <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runners/Parameterized.html\" rel=\"nofollow noreferrer\">Parameterized</a> to see how to instantiate a test class that requires parameters."}, {"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1472290590, "post_id": 39178817, "comment_id": 65700684, "body": "Fair enough, seems like the easiest route is to just leave <code>lateinit</code> in there for now."}], "answers": [{"comments": [{"owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "edited": false, "score": 0, "creation_date": 1472301478, "post_id": 39180465, "comment_id": 65703816, "body": "Yes, the <code>@Autowired constructor</code> is the correct way to do it, thanks for correcting me. Pity I can&#39;t use it in unit tests, it looks so much cleaner than listing a bunch of @Autowired resources."}], "tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 2, "last_activity_date": 1472296230, "creation_date": 1472296230, "answer_id": 39180465, "question_id": 39178817, "link": "https://stackoverflow.com/questions/39178817/getting-rid-of-lateinit-when-converting-spring-java8-junit-test-to-kotlin/39180465#39180465", "title": "Getting rid of lateinit when converting Spring Java8 Junit test to Kotlin", "body": "<p>In case of spring component to inject processor you should annotate constructor, not constructor argument:</p>\n\n<pre><code>@Service\nclass AccountTest @Autowired constructor(val ap: AccountProcessor) {\n}\n</code></pre>\n\n<p>Bit Junit adds their restrictions on how test classes should be implemented, and it's not possible to inject bean way you want.</p>\n\n<p>ps. From Spring 4.3 you no need <code>@Autowired</code>:</p>\n\n<pre><code>@Service\nclass AccountTest(val ap: AccountProcessor) {\n</code></pre>\n"}], "owner": {"reputation": 10122, "user_id": 527533, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9cf51c8acb0daff517ba6f3c5815a54c?s=128&d=identicon&r=PG", "display_name": "Jan Vladimir Mostert", "link": "https://stackoverflow.com/users/527533/jan-vladimir-mostert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 39180465, "answer_count": 1, "score": 3, "last_activity_date": 1472296230, "creation_date": 1472284518, "question_id": 39178817, "link": "https://stackoverflow.com/questions/39178817/getting-rid-of-lateinit-when-converting-spring-java8-junit-test-to-kotlin", "title": "Getting rid of lateinit when converting Spring Java8 Junit test to Kotlin", "body": "<p>I'm busy converting Java8 Junit tests to Kotlin </p>\n\n<p>Java8:</p>\n\n<pre><code>@ActiveProfiles(\"junit\")\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration({\"classpath*:META-INF/spring/applicationContext.xml\"})\npublic class AuctionTest {\n\n    @Autowired\n    AccountProcessor ap;\n\n    @Test\n    @Rollback\n    public void securityTest(){\n</code></pre>\n\n<p>Rewriting it in Kotlin, it looks like this:</p>\n\n<pre><code>@ActiveProfiles(\"junit\")\n@RunWith(SpringJUnit4ClassRunner::class)\n@ContextConfiguration(\"classpath*:META-INF/spring/applicationContext.xml\")\nclass AccountTest() {\n\n    @Autowired\n    lateinit var ap: AccountProcessor\n\n    @Test\n    @Rollback\n    fun securityTest() {\n</code></pre>\n\n<p>The above unit test runs fine, but I want to get rid of the <code>lateinit</code></p>\n\n<p>Rewriting it like this:</p>\n\n<pre><code>@ActiveProfiles(\"junit\")\n@RunWith(SpringJUnit4ClassRunner::class)\n@ContextConfiguration(\"classpath*:META-INF/spring/applicationContext.xml\")\nclass AccountTest(@Autowired val ap: AccountProcessor) {\n\n    @Test\n    @Rollback\n    fun securityTest() {\n</code></pre>\n\n<p>And Junit complains </p>\n\n<blockquote>\n  <p>java.lang.Exception: Test class should have exactly one public\n  zero-argument constructor</p>\n  \n  <p>at\n  org.springframework.test.context.junit4.SpringJUnit4ClassRunner.(SpringJUnit4ClassRunner.java:104)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native\n  Method)   at\n  sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at\n  org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:29)\n    at\n  org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:21)\n    at\n  org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at\n  org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n    at\n  org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\n    at\n  org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:26)\n    at\n  org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:31)\n    at\n  com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:96)\n    at\n  com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\n    at\n  com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)</p>\n</blockquote>\n\n<p>Is there a way around this or am I stuck with <code>lateinit</code> <code>@Autowire</code>s ?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3838, "user_id": 4499783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfC5o.png?s=128&g=1", "display_name": "Ronald Martin", "link": "https://stackoverflow.com/users/4499783/ronald-martin"}, "edited": false, "score": 0, "creation_date": 1472233983, "post_id": 39171813, "comment_id": 65686480, "body": "Ah, that would explain it. Do you happen to know where it&#39;s documented that static members are not inherited?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 3838, "user_id": 4499783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfC5o.png?s=128&g=1", "display_name": "Ronald Martin", "link": "https://stackoverflow.com/users/4499783/ronald-martin"}, "edited": false, "score": 1, "creation_date": 1472234421, "post_id": 39171813, "comment_id": 65686678, "body": "Nope, I haven&#39;t come across any mention of it in the docs. The most <i>official</i> explanation seems to be <a href=\"https://www.reddit.com/r/Kotlin/comments/3oj1xm/how_to_refer_to_super_static_fields_in_kotlin_code/cvxxtan?st=isc2avuz&amp;sh=0f63921a\" rel=\"nofollow noreferrer\">this one</a> given by @yole."}, {"owner": {"reputation": 3838, "user_id": 4499783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfC5o.png?s=128&g=1", "display_name": "Ronald Martin", "link": "https://stackoverflow.com/users/4499783/ronald-martin"}, "edited": false, "score": 0, "creation_date": 1472234895, "post_id": 39171813, "comment_id": 65686900, "body": "Thanks! I also didn&#39;t see anything in the docs and probably wouldn&#39;t have found this on my own."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 18, "last_activity_date": 1472234628, "last_edit_date": 1495542377, "creation_date": 1472232761, "answer_id": 39171813, "question_id": 39171469, "link": "https://stackoverflow.com/questions/39171469/how-do-i-access-a-java-static-method-on-a-kotlin-subclass/39171813#39171813", "title": "How do I access a Java static method on a Kotlin subclass?", "body": "<p>In Kotlin, unlike Java, static members are not inherited by subclasses, even though they can be called inside a subclass without the base class name.</p>\n\n<p>Outside a subclass, you have to call the base class static functions using the base class name:</p>\n\n<pre><code>WakefulBroadcastReceiver.completeWakefulIntent(intent)\n</code></pre>\n\n<p>This behavior seems to lie within the companion objects concept: companion objects of classes in a hierarchy are not included into each other.</p>\n\n<p><sub>Interestingly, for interfaces the situation is a bit different: <a href=\"https://stackoverflow.com/questions/35297980/reference-java-interface-static-fields-in-kotlin/35298665#35298665\">interface static members cannot be referenced in subclasses without the interface name</a>. This behavior is <a href=\"https://stackoverflow.com/questions/25169175/why-are-class-static-methods-inherited-but-not-interface-static-methods\">the same to that in Java</a>.</sub></p>\n"}], "owner": {"reputation": 3838, "user_id": 4499783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfC5o.png?s=128&g=1", "display_name": "Ronald Martin", "link": "https://stackoverflow.com/users/4499783/ronald-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2600, "favorite_count": 3, "accepted_answer_id": 39171813, "answer_count": 1, "score": 17, "last_activity_date": 1472234628, "creation_date": 1472231425, "question_id": 39171469, "link": "https://stackoverflow.com/questions/39171469/how-do-i-access-a-java-static-method-on-a-kotlin-subclass", "title": "How do I access a Java static method on a Kotlin subclass?", "body": "<p>I've created a Kotlin subclass of a Java class:</p>\n\n<pre><code>class AlarmReceiver : WakefulBroadcastReceiver() {\n\n    companion object {\n        const val ACTION_NOTIFY = \"...\"\n    }\n\n    override fun onReceive(context: Context, intent: Intent) { ... }\n}\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/android/support/v4/content/WakefulBroadcastReceiver.html\" rel=\"noreferrer\"><code>WakefulBroadcastReceiver</code></a> has two static methods:</p>\n\n<ul>\n<li><code>static boolean completeWakefulIntent(Intent intent)</code></li>\n<li><code>static ComponentName startWakefulService(Context context, Intent intent)</code></li>\n</ul>\n\n<p>and calling these from within my <code>AlarmReceiver</code> class works just as I expect. However, I'd like to call one of these methods <em>outside of my Kotlin subclass</em>.</p>\n\n<h2>The Problem</h2>\n\n<p>If I try <code>AlarmReceiver.completeWakefulIntent(intent)</code> from a different Kotlin class, I get the following compilation error:</p>\n\n<blockquote>\n  <p>Unresolved reference: completeWakefulIntent</p>\n</blockquote>\n\n<p>I think this is because the compiler is trying to resolve the method on <code>AlarmReceiver</code>'s companion object instead of finding the inherited method from its superclass. As a workaround, I can directly define a method with the same signature on <code>AlarmReceiver.Companion</code>:</p>\n\n<pre><code>class AlarmReceiver : WakefulBroadcastReceiver() {\n\n    companion object {\n        const val ACTION_NOTIFY = \"...\"\n\n        // Just call the superclass implementation for now\n        fun completeWakefulIntent(intent: Intent): Boolean =\n            WakefulBroadcastReceiver.completeWakefulIntent(intent)\n    }\n\n    ...\n}\n</code></pre>\n\n<p>I think this has the same behavior I would have gotten had I relied on the default inherited method from a Java subclass, but I'm wondering if there's a better way to do this. </p>\n\n<p>Is there a way to call an inherited static Java method on a Kotlin subclass?</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 0, "creation_date": 1472547920, "post_id": 39169497, "comment_id": 65784075, "body": "Did you solve your problem?"}], "answers": [{"tags": [], "owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "is_accepted": true, "score": 4, "last_activity_date": 1472234716, "last_edit_date": 1472234716, "creation_date": 1472234089, "answer_id": 39172123, "question_id": 39169497, "link": "https://stackoverflow.com/questions/39169497/how-to-add-a-new-configuration-using-gradle-script-kotlin/39172123#39172123", "title": "How to add a new configuration using Gradle Script Kotlin?", "body": "<p>Basically you can do this by calling <code>create</code> on <code>configurations</code> object:</p>\n\n<pre><code>configurations.create(\"myConfiguration\")\n</code></pre>\n\n<p>To validate that configuration actually created you can add this line to your gradle-kotlin-script:</p>\n\n<pre><code>configurations.forEach { println(it.name) }\n// myConfiguration\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 281, "user_id": 5080165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOQuI.png?s=128&g=1", "display_name": "koly", "link": "https://stackoverflow.com/users/5080165/koly"}, "is_accepted": false, "score": -1, "last_activity_date": 1478074015, "last_edit_date": 1478074015, "creation_date": 1478070080, "answer_id": 40374112, "question_id": 39169497, "link": "https://stackoverflow.com/questions/39169497/how-to-add-a-new-configuration-using-gradle-script-kotlin/40374112#40374112", "title": "How to add a new configuration using Gradle Script Kotlin?", "body": "<p>I tried something like:</p>\n\n<pre><code>apply&lt;JavaPlugin&gt;()\napply&lt;JavaPluginConvention&gt; {\n  setSourceCompatibility(1.8)\n}\n</code></pre>\n\n<p>Hopefully, it helps</p>\n"}], "owner": {"reputation": 4210, "user_id": 481009, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/baeb40d1b59dfa898d2b5ba921bcedbe?s=128&d=identicon&r=PG", "display_name": "Gallal", "link": "https://stackoverflow.com/users/481009/gallal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 39172123, "answer_count": 2, "score": 3, "last_activity_date": 1478074015, "creation_date": 1472224354, "question_id": 39169497, "link": "https://stackoverflow.com/questions/39169497/how-to-add-a-new-configuration-using-gradle-script-kotlin", "title": "How to add a new configuration using Gradle Script Kotlin?", "body": "<p>In groovy, it's done like this...</p>\n\n<pre><code>// build.gradle\napply 'java'\nconfigurations {\n\n   //adding a configuration\n   myConfiguration\n}\n</code></pre>\n\n<p>But how is it done in <a href=\"https://github.com/gradle/gradle-script-kotlin\" rel=\"nofollow\">Gradle Script Kotlin</a>?</p>\n\n<pre><code>// build.gradle.kts\napply {\n    plugin(\"java\")\n}\n\n// What to do here??\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17986, "user_id": 4730812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d336a10204c1cd2e7fa47071ed629669?s=128&d=identicon&r=PG&f=1", "display_name": "piotrek1543", "link": "https://stackoverflow.com/users/4730812/piotrek1543"}, "edited": false, "score": 0, "creation_date": 1472194561, "post_id": 39156597, "comment_id": 65663571, "body": "so problem is solved, right?"}], "tags": [], "owner": {"reputation": 6546, "user_id": 1347816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/k5aTp.jpg?s=128&g=1", "display_name": "LEMUEL  ADANE", "link": "https://stackoverflow.com/users/1347816/lemuel-adane"}, "is_accepted": true, "score": 1, "last_activity_date": 1472170571, "creation_date": 1472170571, "answer_id": 39156597, "question_id": 39156514, "link": "https://stackoverflow.com/questions/39156514/new-unresolved-reference-kotlinx/39156597#39156597", "title": "New - Unresolved reference: kotlinx", "body": "<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>Solved this problem, Im not reading the Kotlin manual. </p>\n"}], "owner": {"reputation": 6546, "user_id": 1347816, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/k5aTp.jpg?s=128&g=1", "display_name": "LEMUEL  ADANE", "link": "https://stackoverflow.com/users/1347816/lemuel-adane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "closed_date": 1472201818, "accepted_answer_id": 39156597, "answer_count": 1, "score": 0, "last_activity_date": 1472170571, "creation_date": 1472169846, "last_edit_date": 1472170025, "question_id": 39156514, "link": "https://stackoverflow.com/questions/39156514/new-unresolved-reference-kotlinx", "closed_reason": "Duplicate", "title": "New - Unresolved reference: kotlinx", "body": "<p>although:</p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n</code></pre>\n\n<p>is already stated in the project build.gradle file</p>\n\n<p>using Android Studio 2.1.3</p>\n\n<p>Kotlin plugin version 1.0.3</p>\n\n<p>target SDK version is 24</p>\n\n<p>minimum SDK version is 19</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 3, "last_activity_date": 1472153148, "creation_date": 1472153148, "answer_id": 39153279, "question_id": 39152777, "link": "https://stackoverflow.com/questions/39152777/cannot-be-provided-without-an-provides-annotated-method/39153279#39153279", "title": "Cannot be Provided Without an @Provides-annotated Method", "body": "<p>You're missing the provision methods to inherit to your Activity scoped component.  Either use subcomponents instead of component dependency, or define the provision methods in your application component. </p>\n\n<pre><code> @ApplicationScope @Component(modules = arrayOf(ContextModule::class, RealmModule::class, NetworkModule::class))\n interface ApplicationComponent {\n      ArticleService articleService();\n }\n</code></pre>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3963, "favorite_count": 0, "accepted_answer_id": 39153279, "answer_count": 1, "score": 2, "last_activity_date": 1472153148, "creation_date": 1472151210, "last_edit_date": 1472151822, "question_id": 39152777, "link": "https://stackoverflow.com/questions/39152777/cannot-be-provided-without-an-provides-annotated-method", "title": "Cannot be Provided Without an @Provides-annotated Method", "body": "<p>There have been many other similar questions, but none of the answers have been applicable to my code. I cannot figure out what I have done wrong.</p>\n\n<p>First I have a <code>NetworkModule</code> that is used as a module for the <code>ApplicationComponent</code>:</p>\n\n<pre><code>@Module\nopen class NetworkModule {\n\n    companion object {\n        private val BASE = \"http://www.example.com/\"\n    }\n\n    @Provides @ApplicationScope\n    fun provideClient(): OkHttpClient = OkHttpClient()\n\n    @Provides @ApplicationScope\n    fun provideMoshi(): Moshi {\n        return Moshi.Builder().add(InstantAdapter).add(UriAdapter).build()\n    }\n\n    @Provides @ApplicationScope\n    fun provideRetrofit(client: OkHttpClient, moshi: Moshi): Retrofit {\n        return Retrofit.Builder().client(client).baseUrl(BASE)\n                .addCallAdapterFactory(RxJavaCallAdapterFactory.create())\n                .addConverterFactory(MoshiConverterFactory.create(moshi))\n                .build()\n    }\n\n    @Provides @ApplicationScope\n    fun provideArticleService(retrofit: Retrofit): ArticleService {\n        return retrofit.create(ArticleService::class.java)\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@ApplicationScope @Component(modules = arrayOf(ContextModule::class, RealmModule::class, NetworkModule::class))\ninterface ApplicationComponent {}\n</code></pre>\n\n<p>Then the <code>ApplicationComponent</code> is built in my <code>Application</code> class:</p>\n\n<pre><code>class MyApplication : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        AndroidThreeTen.init(this)\n\n        plantLog()\n        drawDagger()\n    }\n\n    private fun drawDagger() {\n        Injector.initializeApplicationComponent(this)\n    }\n\n    // ...\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>object Injector {\n\n    lateinit var applicationComponent: ApplicationComponent\n        private set\n\n    fun initializeApplicationComponent(context: Context) {\n        applicationComponent = DaggerApplicationComponent.builder()\n                .contextModule(ContextModule(context))\n                .networkModule(NetworkModule())\n                .realmModule(RealmModule())\n                .build()\n    }\n\n    // ...\n\n}\n</code></pre>\n\n<p>Then I have an <code>ActivityModule</code> that is used in the <code>ActivityComponent</code> (which has <code>ApplicationComponent</code> as a dependency):</p>\n\n<pre><code>@Module\nopen class ActivityModule(private val activity: AppCompatActivity) {\n\n    @Provides @ActivityScope @ActivityContext\n    fun provideContext(): Context = activity\n\n    @Provides @ActivityScope\n    fun provideFragmentManager(): FragmentManager = activity.supportFragmentManager\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@ActivityScope @Component(dependencies = arrayOf(ApplicationComponent::class), modules = arrayOf(ActivityModule::class))\ninterface ActivityComponent {\n\n    fun inject(activity: MainActivity)\n\n}\n</code></pre>\n\n<p>Finally, I create a new <code>ActivityComponent</code> in the <code>MainActivity</code> and <code>@Inject</code> the <code>ArticleService</code>:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    @Inject lateinit var service: ArticleService\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        DaggerActivityComponent.builder()\n                .applicationComponent(Injector.applicationComponent)\n                .activityModule(ActivityModule(this))\n                .build().inject(this)\n\n        service.getNewsArticles()\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.newThread())\n                .subscribe(\n                        { response -&gt; onNext(response) },\n                        { error -&gt; onError(error) })\n    }\n\n    // ...\n\n}\n</code></pre>\n\n<p>But when I try to build I get the following error, even though I believe the <code>provideArticleService()</code> function in <code>NetworkModule</code> is annotated correctly:</p>\n\n<blockquote>\n  <p>ArticleService cannot be provided without an @Provides- or\n  @Produces-annotated method.</p>\n</blockquote>\n"}, {"tags": ["properties", "delegates", "kotlin", "autoboxing", "garbage"], "comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 3, "creation_date": 1472156741, "post_id": 39152264, "comment_id": 65651765, "body": "The example code you posted should not produce any boxing. I don&#39;t see any calls to <code>Integer.valueOf</code> in the bytecode."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1472217942, "post_id": 39152264, "comment_id": 65677116, "body": "&quot;On the Java platform, numbers are physically stored as JVM primitive types, unless we need a nullable number reference (e.g. Int?) <i>or generics are involved</i>. In the latter cases numbers are boxed.&quot; - I guess that this is the problem here..."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1472217986, "post_id": 39152264, "comment_id": 65677145, "body": "just saw that that&#39;s what you are told on your bug-report as well"}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1472238184, "post_id": 39152264, "comment_id": 65688433, "body": "I&#39;m sorry I didn&#39;t include that part of the story! I do happen to be using generics as Dmitry Petrov guessed.Updated the question with using generics."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 1, "creation_date": 1498822146, "post_id": 39152264, "comment_id": 76670859, "body": "The suggested solution is to create specialised delegate classes for the primitive values"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1472468107, "creation_date": 1472468107, "answer_id": 39204530, "question_id": 39152264, "link": "https://stackoverflow.com/questions/39152264/kotlin-how-can-i-avoid-autoboxing-garbage-in-delegated-properties/39204530#39204530", "title": "Kotlin: How can I avoid autoboxing (garbage) in delegated properties?", "body": "<p>As discussed in the <a href=\"https://youtrack.jetbrains.com/issue/KT-13606\" rel=\"nofollow\">bug report</a>, your app generates garbage because your property delegate is generic, and therefore requires boxing of values. If you use a non-generic property delegate with a primitive type, no boxing happens.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 2, "accepted_answer_id": 39204530, "answer_count": 1, "score": 8, "last_activity_date": 1472468107, "creation_date": 1472149225, "last_edit_date": 1472228234, "question_id": 39152264, "link": "https://stackoverflow.com/questions/39152264/kotlin-how-can-i-avoid-autoboxing-garbage-in-delegated-properties", "title": "Kotlin: How can I avoid autoboxing (garbage) in delegated properties?", "body": "<p>In my software, I have some various values which use property delegation.</p>\n\n<p>This is a simple similar example showing what I do:</p>\n\n<pre><code>class ExampleDelegate&lt;T&gt;(val value: T) {\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;) = value\n\n}\n\nval example by ExampleDelegate(1000) // number larger than 127 (no box cache)\n</code></pre>\n\n<p>What I've noticed, however, is that referring to this value seems to create an autoboxed object (<code>java.lang.Integer</code>) on <em>EVERY</em> reference. Because the value must be referenced potentially millions or times per second, this results in massive garbage creation for my software; heavy stress is put on the garbage collector.</p>\n\n<p>Is there a way to avoid the overhead? If not directly, are there any clever ways to \"emulate\" property delegation that are performant?</p>\n\n<p><a href=\"https://i.stack.imgur.com/fid21.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fid21.png\" alt=\"enter image description here\"></a></p>\n\n<p>Submitted a bug report on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/KT-13606\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-13606</a></p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1472140473, "post_id": 39146077, "comment_id": 65642909, "body": "Have you taken a look at <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions - Kotlin Programming Language</a>? I&#39;m not using Kotlin for Android currently but from what I can tell you simply need to add an import like <code>import kotlinx.android.synthetic.main.&lt;layout&gt;.*</code> and then you should be able to use a synthetic property named <code>menu_item_search</code> in your activity code."}, {"owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1472147359, "post_id": 39146077, "comment_id": 65646919, "body": "Yes I have indeed. Your &#39;solution&#39; works only for layout inflated in onCreate method (you can access every layou item reffering it&#39;s name). Menu layout is inflated in onCreateOptionsMenu and I was not able to access menu_item_search using it&#39;s name (synthetic variable)."}], "answers": [{"comments": [{"owner": {"reputation": 7465, "user_id": 1791546, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9c75dd804446c0b394e87bfcfc0014a1?s=128&d=identicon&r=PG", "display_name": "shridutt kothari", "link": "https://stackoverflow.com/users/1791546/shridutt-kothari"}, "edited": false, "score": 0, "creation_date": 1576914053, "post_id": 39164217, "comment_id": 105053827, "body": "That&#39;s great explanation"}], "tags": [], "owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "is_accepted": true, "score": 11, "last_activity_date": 1472207610, "creation_date": 1472207610, "answer_id": 39164217, "question_id": 39146077, "link": "https://stackoverflow.com/questions/39146077/kotlin-android-extensions-and-menu/39164217#39164217", "title": "Kotlin Android Extensions and Menu", "body": "<p><code>MenuInflater</code> serves a fundamentally different purpose than <code>LayoutInflater</code>. </p>\n\n<p>Despite both having \"Inflater\" part in its name and implementing methods that are named \"inflate()\", they do completely different things. <code>MenuInflater</code> inflates <code>Menu</code>s, where <code>LayoutInflater</code> inflates <code>View</code>s.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">Kotlin Android Extensions</a> were created to simplify usage of Android Views, not Android Menus, or anything that has <code>inflate()</code> method.</p>\n\n<p>Long story short - it is not possible to use KAE with Android Menus.</p>\n"}], "owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3106, "favorite_count": 1, "accepted_answer_id": 39164217, "answer_count": 1, "score": 4, "last_activity_date": 1472207610, "creation_date": 1472130072, "last_edit_date": 1472147741, "question_id": 39146077, "link": "https://stackoverflow.com/questions/39146077/kotlin-android-extensions-and-menu", "title": "Kotlin Android Extensions and Menu", "body": "<p>Is there any way to access <strong>menu_item_search</strong> menu item defined in <strong>fragment_photo_gallery</strong> layout using synthetic properties instead of using <strong>findItem</strong> method? </p>\n\n<pre><code>override fun onCreateOptionsMenu(menu: Menu, menuInflater: MenuInflater) {\n    super.onCreateOptionsMenu(menu, menuInflater)\n    menuInflater.inflate(R.menu.fragment_photo_gallery, menu)\n\n    //is there a way to access searchItem using synthetic properties?\n    val searchItem = menu.findItem(R.id.menu_item_search)\n}\n</code></pre>\n"}]