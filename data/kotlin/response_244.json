[{"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12055313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ff17aaff69e7bc09cd2b24b3f49b11?s=128&d=identicon&r=PG&f=1", "display_name": "Joao", "link": "https://stackoverflow.com/users/12055313/joao"}, "edited": false, "score": 0, "creation_date": 1568316538, "post_id": 57899181, "comment_id": 102245795, "body": "Unfortunately doesn&#39;t help. I start my foreground service from the main activity, and in this case, I have the same behavior. If I start my foreground service (simple by button click) and press home to minimize the app in this way activity from broadcast wouldn&#39;t start too"}], "tags": [], "owner": {"reputation": 9000, "user_id": 2851687, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2wGfz.jpg?s=128&g=1", "display_name": "ralphgabb", "link": "https://stackoverflow.com/users/2851687/ralphgabb"}, "is_accepted": false, "score": 0, "last_activity_date": 1568257616, "creation_date": 1568257616, "answer_id": 57899181, "question_id": 57897066, "link": "https://stackoverflow.com/questions/57897066/activity-doesnt-start-from-broadcast-receiver-after-home-button-and-start-afte/57899181#57899181", "title": "Activity doesn&#39;t start from broadcast receiver after home button, and start after back button", "body": "<p>You can use the <code>clearTask</code> flag from Intent</p>\n\n<p>For more information about intent flags you can refer at the official documentation at <a href=\"https://developer.android.com/reference/android/content/Intent\" rel=\"nofollow noreferrer\">Activity Intent</a></p>\n\n<p>Also, since you are using Kotlin why not try <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a></p>\n\n<p>Use it like this </p>\n\n<pre><code>startActivity(intentFor&lt;NeededActivity&gt;().clearTask().newTask())\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12055313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ff17aaff69e7bc09cd2b24b3f49b11?s=128&d=identicon&r=PG&f=1", "display_name": "Joao", "link": "https://stackoverflow.com/users/12055313/joao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568316594, "creation_date": 1568237544, "last_edit_date": 1568316594, "question_id": 57897066, "link": "https://stackoverflow.com/questions/57897066/activity-doesnt-start-from-broadcast-receiver-after-home-button-and-start-afte", "title": "Activity doesn&#39;t start from broadcast receiver after home button, and start after back button", "body": "<p>I try to start an activity from a broadcast receiver which started from foreground service with this code </p>\n\n<pre><code>   val intent = Intent(\"my.intent\")\n   intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n   context?.startActivity(intent)\n</code></pre>\n\n<p>Activity started. But when I see activity and I press to the home button, next time when receiver tries to start the activity, the activity won't start, and if I press back button when the activity showing, next time activity will start from the receiver without any problems.</p>\n\n<p>I tried to set difference flags to the start intent.\nSet singleTask and singleInstance\nAlso, I tried to override onBackPressed() to finish activity and call finish() from onPause(). But the behavior wouldn't change. \nI start my foreground service from the main activity, and in this case, I have the same behavior. If I start my foreground service (simple by button click) and press home to minimize app in this way activity from broadcast wouldn't start too\nI show toast frow receiver so I'm sure activity must start.</p>\n\n<p>My Manifest</p>\n\n<pre><code>  &lt;activity\n      android:name=\".NeededActivity\"\n      android:screenOrientation=\"portrait\"&gt;\n      &lt;intent-filter&gt;\n          &lt;action android:name=\"my.intent\" /&gt;\n          &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n      &lt;/intent-filter&gt;\n   &lt;/activity&gt;\n</code></pre>\n\n<p>What's the difference and how I can fix it, I need to start Activity every time when I call startActivity in the receiver. \nI've tested my code on Android 10.</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 5, "last_activity_date": 1568234888, "creation_date": 1568234888, "answer_id": 57896614, "question_id": 57896380, "link": "https://stackoverflow.com/questions/57896380/kotlin-coroutines-ui-not-freezing/57896614#57896614", "title": "Kotlin coroutines UI not freezing", "body": "<p><code>delay</code> doesn't block the thread. It just suspends your coroutine and resumes it after one second. You can change <code>delay</code> to <code>Thread.sleep(1000)</code> and your UI will be frozen because <code>Thread.sleep</code> will block the thread.</p>\n"}], "owner": {"reputation": 395, "user_id": 1143454, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/F3b7Q.jpg?s=128&g=1", "display_name": "Gladi", "link": "https://stackoverflow.com/users/1143454/gladi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 57896614, "answer_count": 1, "score": 0, "last_activity_date": 1568234888, "creation_date": 1568233719, "question_id": 57896380, "link": "https://stackoverflow.com/questions/57896380/kotlin-coroutines-ui-not-freezing", "title": "Kotlin coroutines UI not freezing", "body": "<p>I've checking the livedata coroutines lately and i get to something i cannot understand. why is this code (When observed) not freezing the UI?</p>\n\n<pre><code>    val lv =\n    liveData (context=Dispatchers.Main){\n        var x = 0\n        while (true){\n            emit(x++)\n            delay(1000)\n            println(Thread.currentThread().name)\n        }\n    }\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "kotlin", "cmd", "ffmpeg"], "comments": [{"owner": {"reputation": 592, "user_id": 6022626, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TE4SgJMzh3g/AAAAAAAAAAI/AAAAAAAAAE4/BpGV2AGlUG0/photo.jpg?sz=128", "display_name": "Suraj", "link": "https://stackoverflow.com/users/6022626/suraj"}, "edited": false, "score": 1, "creation_date": 1568225229, "post_id": 57894508, "comment_id": 102210536, "body": "you can just print the value of <code>cmd</code> and see if the command differs from what you intended to run."}], "answers": [{"tags": [], "owner": {"reputation": 1390, "user_id": 4388482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7e9aca1603e015896ee9abc9374185c1?s=128&d=identicon&r=PG&f=1", "display_name": "tony", "link": "https://stackoverflow.com/users/4388482/tony"}, "is_accepted": true, "score": -1, "last_activity_date": 1573315429, "last_edit_date": 1573315429, "creation_date": 1568401190, "answer_id": 57929031, "question_id": 57894508, "link": "https://stackoverflow.com/questions/57894508/command-works-on-terminal-but-not-with-kotlin/57929031#57929031", "title": "Command works on terminal but not with Kotlin", "body": "<p>Turns out the actual issue was within the <em>Runtime.getRuntime().exec()</em> function. I tried to call <em>waitFor()</em> method but it got stuck. I was waiting forever. I did some research and read the docs.</p>\n\n<blockquote>\n  <p>Because some native platforms only provide limited buffer size for standard input and output streams, failure to promptly write the input stream or read the output stream of the subprocess may cause the subprocess to block, or even deadlock. </p>\n</blockquote>\n\n<p>This code was works just fine:</p>\n\n<pre><code>fun main(){\n\n   val path1 = \"video-1.mp4\"\n   val path2 = \"video-2.mp4\"\n   val resultPath = \"output.mp4\"\n\n   val cmd = arrayOf(\"ffmpeg\",\n    \"-i\", path1, \"-i\", path2,\n    \"-filter_complex\", \"[0:v:0][0:a:0][1:v:0][1:a:0]concat=n=2:v=1:a=1[v][a]\",\n    \"-map\", \"[v]\", \"-map\", \"[a]\", resultPath)\n\n    executeCommand(cmd)\n}\n\nfun executeCommand(cmd: Array&lt;String&gt;){\n    try {\n       val runtime = Runtime.getRuntime()\n       val process = runtime.exec(cmd)\n       val errorStream = process.errorStream\n       val input = InputStreamReader(errorStream)\n       val reader = BufferedReader(input)\n       reader.forEachLine {\n          println(it);\n       }\n       process.waitFor()\n   } catch (e: Exception) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://www.javaworld.com/article/2071275/when-runtime-exec---won-t.html\" rel=\"nofollow noreferrer\">https://www.javaworld.com/article/2071275/when-runtime-exec---won-t.html</a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html</a></p>\n"}], "owner": {"reputation": 1390, "user_id": 4388482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7e9aca1603e015896ee9abc9374185c1?s=128&d=identicon&r=PG&f=1", "display_name": "tony", "link": "https://stackoverflow.com/users/4388482/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 57929031, "answer_count": 1, "score": 0, "last_activity_date": 1573315429, "creation_date": 1568224858, "last_edit_date": 1568313870, "question_id": 57894508, "link": "https://stackoverflow.com/questions/57894508/command-works-on-terminal-but-not-with-kotlin", "title": "Command works on terminal but not with Kotlin", "body": "<p>I'm trying to use an FFMPEG command for concatenating different videos. The command is</p>\n\n<pre><code>ffmpeg -i video.mp4 -i video-2.mp4 -filter_complex \"[0:v:0] [0:a:0] [1:v:0] [1:a:0] concat=n=2:v=1:a=1 [v] [a]\" -map \"[v]\" -map \"[a]\" output.mp4\n</code></pre>\n\n<p>This command works good when I run on Windows PowerShell. But when I try to run with Kotlin code it doesn't work.</p>\n\n<pre><code>val firstVideo = \"D:\\\\Videos\\\\ffmpeg\\\\video.mp4\"\nval secondVideo = \"D:\\\\Videos\\\\ffmpeg\\\\video-2.mp4\"\nval resultPath = \"D:\\\\Videos\\\\ffmpeg\\\\result-2.mp4\"\n\nval cmd = \"ffmpeg -i $firstVideo -i $secondVideo -filter_complex \\\"[0:v:0] [0:a:0] [1:v:0] [1:a:0] concat=n=2:v=1:a=1 [v] [a]\\\" -map \\\"[v]\\\" -map \\\"[a]\\\" $resultPath\"\n.split(\" \").toTypedArray()\n\nRuntime.getRuntime().exec(cmd)\n</code></pre>\n\n<p>I'm not taking any error messages since I'm using FFMPEG cli.</p>\n\n<p>Also, this piece of Kotlin works perfect when I'm trying to run other FFMPEG operations.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1040, "user_id": 11567551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/612ccd6960e869b7f26ff8703e9b09b4?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel Leegwater", "link": "https://stackoverflow.com/users/11567551/michiel-leegwater"}, "edited": false, "score": 0, "creation_date": 1568226303, "post_id": 57894163, "comment_id": 102210967, "body": "How does it crash? Do you have a stacktrace?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11812870, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ff6oDzCXCBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdl8D653oJzPTCEK2cbGIS9Kw_HZg/photo.jpg?sz=128", "display_name": "Sepehr B", "link": "https://stackoverflow.com/users/11812870/sepehr-b"}, "edited": false, "score": 0, "creation_date": 1568353355, "post_id": 57894783, "comment_id": 102253843, "body": "I don&#39;t think there is an infinite loop. Even if I call editText.text.clearSpans() outside of the textChangedListener without setting any listener, the EditText ui will still freeze. The clearSpans method is still the problem."}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568226053, "creation_date": 1568226053, "answer_id": 57894783, "question_id": 57894163, "link": "https://stackoverflow.com/questions/57894163/edittext-freezes-when-calling-editable-clearspans-inside-the-ontextchanged-lis/57894783#57894783", "title": "Edittext freezes when calling Editable.clearSpans() inside the onTextChanged Listener", "body": "<p>When you clear the span, the <code>textChangedListener</code> is triggered again, so it gets itself into an infinite loop.</p>\n\n<p>You need an exit condition to stop this. Maybe check if the text is already empty:</p>\n\n<pre><code>    editText.addTextChangedListener {\n        if(!it.toString().isBlank()) {\n                    val TEXT = \"asdf\"\n                    if (it?.contains(TEXT) == true) {\n                        val i = it.toString().indexOf(TEXT)\n                        it.setSpan(\n                                StyleSpan(Typeface.BOLD),\n                                i,\n                                i + TEXT.length,\n                                Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n                        )\n                    } else {\n                        it?.clearSpans()\n                    }\n                }\n    }\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11812870, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Ff6oDzCXCBI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdl8D653oJzPTCEK2cbGIS9Kw_HZg/photo.jpg?sz=128", "display_name": "Sepehr B", "link": "https://stackoverflow.com/users/11812870/sepehr-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568226053, "creation_date": 1568223123, "last_edit_date": 1568223594, "question_id": 57894163, "link": "https://stackoverflow.com/questions/57894163/edittext-freezes-when-calling-editable-clearspans-inside-the-ontextchanged-lis", "title": "Edittext freezes when calling Editable.clearSpans() inside the onTextChanged Listener", "body": "<p>The code below crashes if I start typing in the edit text.\nHowever if I set some String like <code>\"Hello asdf\"</code> to the edit text before the listener, the code will run as expected; the <code>\"asdf\"</code> String will be bold until I clear the 'f' from end of the string then the edit text UI will freeze, no crashes though.\nIt seems like the problem is the <code>it?.clearSpans()</code> method.</p>\n\n<p>Any thoughts?</p>\n\n<pre><code>editText.addTextChangedListener {\n    val TEXT = \"asdf\"\n    if (it?.contains(TEXT) == true) {\n        val i = it.toString().indexOf(TEXT)\n        it.setSpan(\n            StyleSpan(Typeface.BOLD),\n            i,\n            i + TEXT.length,\n            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE\n        )\n    } else {\n        it?.clearSpans()\n    }\n}\n</code></pre>\n"}, {"tags": ["spring", "hibernate", "jpa", "kotlin", "spring-data-jpa"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1568227044, "post_id": 57893881, "comment_id": 102211302, "body": "So you would use abstract class with public constructor?"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1568227841, "post_id": 57893881, "comment_id": 102211608, "body": "Sorry dude, as I said I have no idea about that."}], "tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": false, "score": 0, "last_activity_date": 1568221802, "creation_date": 1568221802, "answer_id": 57893881, "question_id": 57893680, "link": "https://stackoverflow.com/questions/57893680/sealed-class-as-an-entity/57893881#57893881", "title": "Sealed class as an entity", "body": "<p>I don't know how hibernate works. \nBut I guess the issue is related to this notes from <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">sealed-classes docs</a>:</p>\n\n<blockquote>\n  <p>A sealed class is abstract by itself, it cannot be instantiated\n  directly and can have abstract members.</p>\n  \n  <p>Sealed classes are not allowed to have non-private constructors (their\n  constructors are private by default).</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1568231911, "post_id": 57895793, "comment_id": 102213340, "body": "I&#39;ve removed dataclass but didn&#39;t helped. Same error"}, {"owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "reply_to_user": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1568232229, "post_id": 57895793, "comment_id": 102213439, "body": "You&#39;ll need to enable plugins mentioned to get no-arg constructors generated even if you don&#39;t use data classes, because your classes does not have no-args constructors. Edited the answer to make it clearer."}], "tags": [], "owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568232364, "last_edit_date": 1568232364, "creation_date": 1568230819, "answer_id": 57895793, "question_id": 57893680, "link": "https://stackoverflow.com/questions/57893680/sealed-class-as-an-entity/57895793#57895793", "title": "Sealed class as an entity", "body": "<p>It looks like the problem is not in sealed class, but in the data class and constructors. When you are using primary constructors with arguments, there is no  default (no-arguments) constructor, which is required for hibernate. You can see the reason in the very end of the stacktrace:</p>\n\n<blockquote>\n  <p>java.lang.NoSuchMethodError: X.LegalGuardian.(Lkotlin/jvm/internal/DefaultConstructorMarker;)V at X.MotherLegalGuardian.(LegalGuardian.kt)</p>\n</blockquote>\n\n<p>You can enable <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">no-arg</a> and <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#jpa-support\" rel=\"nofollow noreferrer\">jpa-support</a> plugins to get no-arg constructors generated.</p>\n\n<p>Check out also <a href=\"https://kotlinexpertise.com/hibernate-with-kotlin-spring-boot/\" rel=\"nofollow noreferrer\">this article</a> which explains why data classes are not a good choice for hibernate. </p>\n"}], "owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 992, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1568232364, "creation_date": 1568220806, "question_id": 57893680, "link": "https://stackoverflow.com/questions/57893680/sealed-class-as-an-entity", "title": "Sealed class as an entity", "body": "<p>I'm trying to solve my inheritance problem with kotlin sealed class and forced problem with hibernate. </p>\n\n<p>Here are my classes:</p>\n\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = \"type\", discriminatorType = DiscriminatorType.STRING)\nsealed class LegalGuardian(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Int? = null\n)\n\n@Entity\n@DiscriminatorValue(value = \"MOTHER\")\ndata class MotherLegalGuardian(\n    @OneToOne(cascade = [CascadeType.ALL], orphanRemoval = true)\n    val pesel: Pesel\n) : LegalGuardian()\n\n@Entity\n@DiscriminatorValue(value = \"OTHER\")\ndata class OtherLegalGuardian(\n    val firstName: String,\n    val lastName: String,\n    @OneToOne\n    val address: Address\n) : LegalGuardian()\n</code></pre>\n\n<p>Here is poroblem that is thrown:</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n  at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\n  at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n  at org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:348)\n  at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:444)\n  at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:879)\n  ... 95 common frames omitted\n  Caused by: org.hibernate.InstantiationException: could not instantiate test object : X.MotherLegalGuardian\n  at org.hibernate.engine.internal.UnsavedValueFactory.instantiate(UnsavedValueFactory.java:43)\n  at org.hibernate.engine.internal.UnsavedValueFactory.getUnsavedIdentifierValue(UnsavedValueFactory.java:68)\n  at org.hibernate.tuple.PropertyFactory.buildIdentifierAttribute(PropertyFactory.java:61)\n  at org.hibernate.tuple.entity.EntityMetamodel.(EntityMetamodel.java:141)\n  at org.hibernate.persister.entity.AbstractEntityPersister.(AbstractEntityPersister.java:517)\n  at org.hibernate.persister.entity.SingleTableEntityPersister.(SingleTableEntityPersister.java:124)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n  at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n  ... 99 common frames omitted\n  Caused by: java.lang.reflect.InvocationTargetException: null\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n  at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n  at org.hibernate.engine.internal.UnsavedValueFactory.instantiate(UnsavedValueFactory.java:40)\n  ... 109 common frames omitted\n  Caused by: java.lang.NoSuchMethodError: X.LegalGuardian.(Lkotlin/jvm/internal/DefaultConstructorMarker;)V\n  at X.MotherLegalGuardian.(LegalGuardian.kt)\n  ... 114 common frames omitted</p>\n</blockquote>\n"}, {"tags": ["java", "dictionary", "kotlin", "functional-programming"], "comments": [{"owner": {"reputation": 48511, "user_id": 5558072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GFXl3bQPSrM/AAAAAAAAAAI/AAAAAAAAARY/Fvg3zPWA3x0/photo.jpg?sz=128", "display_name": "YCF_L", "link": "https://stackoverflow.com/users/5558072/ycf-l"}, "edited": false, "score": 0, "creation_date": 1568220288, "post_id": 57893492, "comment_id": 102208492, "body": "can you please share an example of what you want to a sheave ?"}], "answers": [{"comments": [{"owner": {"reputation": 1913, "user_id": 2899885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZJfu0.png?s=128&g=1", "display_name": "Cybran", "link": "https://stackoverflow.com/users/2899885/cybran"}, "edited": false, "score": 0, "creation_date": 1568241184, "post_id": 57893786, "comment_id": 102216014, "body": "Thank you for the immutability remark - the map in question may become large, hence I would like to avoid unnecessary copies. Ideally I am looking for a <code>compute()</code>-like solution, i.e. a single lambda to decide value replacement or removal"}], "tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": false, "score": 2, "last_activity_date": 1568221367, "creation_date": 1568221367, "answer_id": 57893786, "question_id": 57893492, "link": "https://stackoverflow.com/questions/57893492/kotlin-retain-replace-or-remove-each-map-entry-in-place/57893786#57893786", "title": "Kotlin: Retain, replace or remove each map entry in-place", "body": "<p>In functional world, immutability is an essential principle. So in-place modifications are not convenient.</p>\n\n<p>But if you prefer an in-place approach, possible options are <code>retainAll</code> or <code>removeAll</code> to filter items. For in-place replacement you need to iterate the collection. You can use <code>forEach</code> to do an in-place modification:</p>\n\n<pre><code>data class User(val name: String)\n\nval users = mutableListOf( User(\"John\"), User(\"Alice\"), User(\"Bob\") )\nnumbers.run{\n    removeAll { it.name == \"Alice\" }\n    forEach { it.name =  \"Mr. ${it.name}\"}\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1913, "user_id": 2899885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZJfu0.png?s=128&g=1", "display_name": "Cybran", "link": "https://stackoverflow.com/users/2899885/cybran"}, "edited": false, "score": 0, "creation_date": 1568240915, "post_id": 57893844, "comment_id": 102215949, "body": "While this neatly resembles <code>compute()</code>-like remapping, it does not perform the changes in-place - temporary collections will be created"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 1, "last_activity_date": 1568221589, "creation_date": 1568221589, "answer_id": 57893844, "question_id": 57893492, "link": "https://stackoverflow.com/questions/57893492/kotlin-retain-replace-or-remove-each-map-entry-in-place/57893844#57893844", "title": "Kotlin: Retain, replace or remove each map entry in-place", "body": "<p>For example, you can write like this</p>\n\n<pre><code>fun main() {\n    val map = mapOf(\n        \"test1\" to 1,\n        \"test2\" to 2,\n        \"test3\" to 3\n    )\n    val resultMap = map.mapNotNull { (key, value) -&gt;\n        when (value) {\n            1 -&gt; null // remove\n            2 -&gt; key to 4 // replace\n            else -&gt; key to value // retain\n        }\n    }.toMap()\n    println(resultMap) // print {test2=4, test3=3}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1913, "user_id": 2899885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZJfu0.png?s=128&g=1", "display_name": "Cybran", "link": "https://stackoverflow.com/users/2899885/cybran"}, "edited": false, "score": 0, "creation_date": 1568241024, "post_id": 57894315, "comment_id": 102215974, "body": "Unfortunately, this uses more than one lambda and does not perform the changes in-place"}], "tags": [], "owner": {"reputation": 4231, "user_id": 1947216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b52eaf82bd907e8b39e49aeea74273e?s=128&d=identicon&r=PG", "display_name": "mentallurg", "link": "https://stackoverflow.com/users/1947216/mentallurg"}, "is_accepted": false, "score": 2, "last_activity_date": 1568223879, "creation_date": 1568223879, "answer_id": 57894315, "question_id": 57893492, "link": "https://stackoverflow.com/questions/57893492/kotlin-retain-replace-or-remove-each-map-entry-in-place/57894315#57894315", "title": "Kotlin: Retain, replace or remove each map entry in-place", "body": "<p>Here is an example how you can do all operations in a single expression:</p>\n\n<ul>\n<li>Using <code>filter{}</code> we keep only elements that fit particular conditions, here: with a value >= 200. The result of this filter is a new map.</li>\n<li>Using map we transform a map from previous step into a new collection. When transforming, we change some values, some remain unchanged.</li>\n<li>Using <code>toMap()</code> we transform the resulting collection into a new map.</li>\n</ul>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val map = mutableMapOf&lt;String, Int&gt;()\n\n    map.put(\"a1\", 101)\n    map.put(\"a2\", 102)\n\n    map.put(\"b1\", 201)\n    map.put(\"b2\", 202)\n\n    map.put(\"c1\", 301)\n    map.put(\"c2\", 302)\n\n    println(map)\n\n    val result = map.filter { (key, value) -&gt; value &gt;= 200 }.\n        map { (key,value) -&gt; \n                if (value &gt;= 300)   Pair(key, value * 100) \n                else                Pair(key, value)\n    }.toMap()\n\n    println(result)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 2327045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968942b41869b060693333fe58994856?s=128&d=identicon&r=PG", "display_name": "Balaban Mario", "link": "https://stackoverflow.com/users/2327045/balaban-mario"}, "is_accepted": false, "score": 0, "last_activity_date": 1613850377, "creation_date": 1613850377, "answer_id": 66295877, "question_id": 57893492, "link": "https://stackoverflow.com/questions/57893492/kotlin-retain-replace-or-remove-each-map-entry-in-place/66295877#66295877", "title": "Kotlin: Retain, replace or remove each map entry in-place", "body": "<p>This version is in place (similar to what would you write in java) but not with functional approach</p>\n<pre><code> val map: MutableMap&lt;String, Int&gt; = mutableMapOf(\n    (&quot;a&quot; to 1),\n    (&quot;b&quot; to 2),\n    (&quot;c&quot; to 3),\n)\n\nval mapIterator = map.iterator()\nwhile (mapIterator.hasNext()) {\n    val mapEntry = mapIterator.next()\n\n    when (mapEntry.key) {\n        &quot;a&quot; -&gt; mapIterator.remove()\n        &quot;c&quot; -&gt; mapEntry.setValue(mapEntry.value * 2)\n        else -&gt; println(&quot;retain this  entry&quot;)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1913, "user_id": 2899885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZJfu0.png?s=128&g=1", "display_name": "Cybran", "link": "https://stackoverflow.com/users/2899885/cybran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3462, "favorite_count": 1, "answer_count": 4, "score": 7, "last_activity_date": 1613850377, "creation_date": 1568219942, "last_edit_date": 1568221418, "question_id": 57893492, "link": "https://stackoverflow.com/questions/57893492/kotlin-retain-replace-or-remove-each-map-entry-in-place", "title": "Kotlin: Retain, replace or remove each map entry in-place", "body": "<p>I have a mutable map (a <code>LinkedHashMap</code> to be specific) in Kotlin. For each map entry, I want to conditionally perform one of three actions:</p>\n\n<ul>\n<li>Retain the entry as-is</li>\n<li>Replace the entry's value</li>\n<li>Remove the entry</li>\n</ul>\n\n<p>In old Java, I would probably use an <code>Iterator</code> over the map's <code>entrySet()</code> for this purpose (using <code>Iterator.remove()</code> or <code>Entry.setValue()</code> accordingly). However, I wondered if there is a more elegant, functional approach present in Kotlin to do the same (i.e. apply a lambda to each entry in-place, similar to using <code>replaceAll()</code>, but with the ability to also remove entries).</p>\n\n<hr>\n\n<p>In Kotlin, the following combination of <code>replaceAll()</code> and <code>retainAll()</code> does the same thing:</p>\n\n<pre><code>val map = LinkedHashMap&lt;String,Int&gt;(mapOf(\"a\" to 1, \"b\" to 2, \"c\" to 3))\nmap.replaceAll { key, value -&gt;\n    if(key.startsWith(\"a\")) {\n        value * 2\n    } else {\n        value\n    }\n}\nmap.entries.retainAll { entry -&gt;\n    entry.key.startsWith(\"a\") || entry.key.startsWith(\"b\")\n}\n</code></pre>\n\n<p>However, this iterates the map twice and requires splitting up the predicate/transformation. I would prefer a <code>compute()</code>-style all-in-one solution, just for all entries.</p>\n"}, {"tags": ["java", "gradle", "kotlin", "shared-libraries", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 4343, "user_id": 1703730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4so1.jpg?s=128&g=1", "display_name": "Bj&#248;rn Vester", "link": "https://stackoverflow.com/users/1703730/bj%c3%b8rn-vester"}, "is_accepted": true, "score": 0, "last_activity_date": 1568223872, "creation_date": 1568223872, "answer_id": 57894313, "question_id": 57893461, "link": "https://stackoverflow.com/questions/57893461/classnotfoundexception-exception-when-using-library/57894313#57894313", "title": "ClassNotFoundException exception when using library", "body": "<p>If you look at your consuming project, you declare a dependency to your common library like this</p>\n\n<pre><code>dependencies {\n    implementation(fileTree(mapOf(\"dir\" to \"libs\", \"include\" to listOf(\"*.jar\"))))\n    // ...\n}\n</code></pre>\n\n<p>A jar file in itself does not contain any information on all the transitive dependencies it needs*. So there is no way that your consuming project would know that just by looking at the jar file.</p>\n\n<p>There are several ways you can do this, and it all depends on your layout and how tightly coupled you like the projects to be. Here are a few of them:</p>\n\n<ol>\n<li><p>In the consuming project, declare all required dependencies for the library (again). This is what you have already tried and said works fine. Hopefully now you know why. The downside is that you will have to keep them synchronized manually.</p></li>\n<li><p>Create a Maven distribution of your library and have your consuming project depend on it like you do for all the other dependencies. This requires you to have a Maven repository to be able to upload it to. In this approach, the transitive dependencies will \nbe registered in the corresponding POM file.</p></li>\n<li><p>If the projects are in on the same machine, you can import the library as a composite build, and declare it as a project dependency. In this approach, Gradle will infer the transitive dependencies from the Gradle project itself.</p></li>\n</ol>\n\n<p>(*) Unless you are using a manifest file or building it as a \"fat\" jar, which I assume you don't and won't recommend anyway.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10256891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 57894313, "answer_count": 1, "score": 0, "last_activity_date": 1568223872, "creation_date": 1568219823, "question_id": 57893461, "link": "https://stackoverflow.com/questions/57893461/classnotfoundexception-exception-when-using-library", "title": "ClassNotFoundException exception when using library", "body": "<p>I created a common library to use it in my spring microservices.\nIn this library I used some other libraries (example: libphonenumber).\nI created the jar file and imported it into another project, and I used it without any problem.\nBut when building the project, this exception is thrown :</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'phoneUtils': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [com.weryou.backend.commons.utils.PhoneUtils] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:265) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1269) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1184) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) ~[spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\nat com.weryou.backend.mission.MissionAppKt.main(MissionApp.kt:13) ~[main/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [com.weryou.backend.commons.utils.PhoneUtils] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@368239c8]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:248) ~[spring-beans-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n... 18 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/google/i18n/phonenumbers/Phonenumber$PhoneNumber\nat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\nat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167) ~[na:na]\nat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310) ~[na:na]\nat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489) ~[spring-core-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.google.i18n.phonenumbers.Phonenumber$PhoneNumber\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n... 25 common frames omitted\n</code></pre>\n\n<p>I do not know why this exception is thrown from the project where I imported the library .. normally if there is a problem at the dependencies of the library, the library does not work, but it works.\nBut when i put in the project gradle the same dependencies used in the library, everything works fine.\nnormally if I used dependencies in a library, I do not need to implement them in the project that the library uses.\nI tried to make the dependencies of the library transitive, but that does not works!</p>\n\n<p>this is the gradle file of the library :</p>\n\n<pre><code>plugins {\nkotlin(\"jvm\") version \"1.3.50\"\n}\n\ngroup = \"com.weryou.backend\"\nversion = \"1.0.0\"\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    implementation(\"io.jsonwebtoken:jjwt:0.9.1\") {\n        isTransitive = true\n    }\n    implementation(\"com.googlecode.libphonenumber:libphonenumber:8.10.14\") {\n        isTransitive = true\n    }\n    implementation(\"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.9\") {\n        isTransitive = true\n    }\n}\n</code></pre>\n\n<p>and this is the gradle file of the project that use the library</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(\"org.springframework.boot\") version \"2.1.7.RELEASE\"\n    id(\"io.spring.dependency-management\") version \"1.0.8.RELEASE\"\n    kotlin(\"jvm\") version \"1.2.71\"\n    kotlin(\"plugin.spring\") version \"1.2.71\"\n}\n\ngroup = \"com.project.test\"\nversion = \"0.0.1\"\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\nrepositories {\n   mavenCentral()\n}\n\ndependencies {\n    implementation(fileTree(mapOf(\"dir\" to \"libs\", \"include\" to listOf(\"*.jar\"))))\n\n    implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n\n    implementation(\"org.springframework.boot:spring-boot-starter-web\")\n}\n\ndependencyManagement {\n    imports {\n        mavenBom(\"org.springframework.cloud:spring-cloud-dependencies:Greenwich.SR2\")\n    }\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-dynamic-links"], "owner": {"reputation": 33, "user_id": 10854780, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mv-zu25tvU4/AAAAAAAAAAI/AAAAAAAADGA/3wNc4ezUpXI/photo.jpg?sz=128", "display_name": "AndekQR", "link": "https://stackoverflow.com/users/10854780/andekqr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 218, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568219910, "creation_date": 1568219311, "last_edit_date": 1568219910, "question_id": 57893327, "link": "https://stackoverflow.com/questions/57893327/android-firebase-pendingdynamiclinkdata-always-null", "title": "Android firebase: pendingDynamicLinkData always null", "body": "<p>i'm working on email verification. Email reaches the mailbox and when the user clicks on the link it moves him to the application. When I try to get data from link in getDynamicLinks method, pendingDynamicLinkData is null. But i can get the link from intent.\nLink looks like: (<a href=\"https://travellersystems.page.link?link=https://traveller-249409.firebaseapp.com/__/auth/action?apiKey%3DAIzaSyCrwQqjOn5v4BDdkKCZHMmmav1YEzvaq5s%26mode%3DverifyEmail%26oobCode%3D0fQfmM0UAHrdNQbUyntffzFH39GtEODVCiVfnrcD0VUAAAFtIQ0HyQ%26continueUrl%3Dhttps://travellersystems.page.link/verify?email%253Ddaniellegawiec20@gmail.com%26lang%3Dpl&amp;apn=com.client.traveller&amp;amv\" rel=\"nofollow noreferrer\">https://travellersystems.page.link?link=https://traveller-249409.firebaseapp.com/__/auth/action?apiKey%3DAIzaSyCrwQqjOn5v4BDdkKCZHMmmav1YEzvaq5s%26mode%3DverifyEmail%26oobCode%3D0fQfmM0UAHrdNQbUyntffzFH39GtEODVCiVfnrcD0VUAAAFtIQ0HyQ%26continueUrl%3Dhttps://travellersystems.page.link/verify?email%253Ddaniellegawiec20@gmail.com%26lang%3Dpl&amp;apn=com.client.traveller&amp;amv</a>)</p>\n\n<p>Here I want to get email from the continueURL.</p>\n\n<p>Here i create dynamic link and i'm sending verification email to the user</p>\n\n<pre><code>        val url = \"https://travellersystems.page.link/verify?email=${FirebaseAuth.getInstance().currentUser?.email}\"\n\n        val dynamicLink = FirebaseDynamicLinks.getInstance().createDynamicLink()\n            .setLink(Uri.parse(url))\n            .setDomainUriPrefix(\"travellersystems.page.link/\")\n            .setAndroidParameters(DynamicLink.AndroidParameters.Builder(\"com.client.traveller\").build())\n            .setIosParameters(\n                DynamicLink.IosParameters.Builder(\"com.example.ios\")\n                    .setAppStoreId(\"123456789\")\n                    .setMinimumVersion(\"1.0.1\")\n                    .build())\n            .buildDynamicLink()\n        Log.e(javaClass.simpleName, dynamicLink.uri.toString())\n\n\n        val actionCodeSettings = ActionCodeSettings.newBuilder()\n            .setUrl(url)\n            .setAndroidPackageName(\"com.client.traveller\", true, null)\n            .setHandleCodeInApp(true)\n            .setDynamicLinkDomain(\"travellersystems.page.link\")\n            .build()\n\n        user?.sendEmailVerification(actionCodeSettings)\n            ?.addOnCompleteListener{task -&gt;\n                if (task.isSuccessful){\n                    Log.e(javaClass.simpleName, \"sendEmailVerification successful\")\n                }\n                else{\n                    Log.e(javaClass.simpleName, task.exception?.localizedMessage)\n                }\n            }\n    }\n</code></pre>\n\n<p>Here i'm trying get some data</p>\n\n<pre><code>    private fun getDynamicLinks(){\n        FirebaseDynamicLinks.getInstance()\n            .getDynamicLink(intent)\n            .addOnSuccessListener(this){ pendingDynamicLinkData -&gt;\n                Log.e(javaClass.simpleName, pendingDynamicLinkData?.toString() ?: intent.dataString+\"\")\n                var deepLink: Uri? = null\n                if (pendingDynamicLinkData != null){\n                    deepLink = pendingDynamicLinkData.link\n                    viewModel.setEmailVerified()\n                    Dialog.newInstance(getString(R.string.post_email_verification)).show(this.supportFragmentManager, \"Weryfikacja e-mail\")\n                }\n            }\n            .addOnFailureListener {\n                Log.e(javaClass.simpleName, it.message)\n            }\n    }\n</code></pre>\n\n<p>Activiyt where I have getDynamicLinks in AndroidManifest:</p>\n\n<pre><code>        &lt;activity\n                android:name=\".ui.home.HomeActivity\"\n                android:theme=\"@style/AppTheme.StatusBar.Transparent\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n                &lt;category android:name=\"android.intent.category.BROWSABLE\"/&gt;\n                &lt;data\n                        android:scheme=\"https\"\n                        android:host=\"travellersystems.page.link\"\n                        /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n</code></pre>\n\n<p>Can you say what I'm doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "mvvm", "android-room", "android-paging"], "comments": [{"owner": {"reputation": 169, "user_id": 10753002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-asrd5pN6jnc/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hBi0pRFAYshQHv7zzYk9gbAlvWiQ/mo/photo.jpg?sz=128", "display_name": "Ruthwik Warrier", "link": "https://stackoverflow.com/users/10753002/ruthwik-warrier"}, "edited": false, "score": 2, "creation_date": 1569414108, "post_id": 57893263, "comment_id": 102588360, "body": "I have the same issue. couldn&#39;t find a solution. Please share if you already done"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7097694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/989869069b5250b3b35a8982cfeff8cb?s=128&d=identicon&r=PG&f=1", "display_name": "Wan", "link": "https://stackoverflow.com/users/7097694/wan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574236402, "last_edit_date": 1574236402, "creation_date": 1574231933, "answer_id": 58948181, "question_id": 57893263, "link": "https://stackoverflow.com/questions/57893263/how-to-fix-android-architecture-components-paging-onitematendloaded-get-in-loop/58948181#58948181", "title": "How to fix android architecture components paging onItemAtEndLoaded get in loop?", "body": "<p>Logic for, If <code>onItemAtEndLoaded</code> get the same <code>itemAtEnd</code> , then do nothing.</p>\n\n<pre><code>var lastItemAtEnd:DataItem? = null\noverride fun onItemAtEndLoaded(itemAtEnd: DataItem) {\n    lastItemAtEnd?.timestamp?.apply{\n        if(itemAtEnd.timestamp==this){\n            return;\n        }\n    }\n    super.onItemAtEndLoaded(itemAtEnd)\n    api.getAllPlayer(page).clone().enqueue(createWebserviceCallback())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6344, "user_id": 1179638, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh6.googleusercontent.com/-zb5PBMjIo0o/AAAAAAAAAAI/AAAAAAAAAsA/MO9lzHrVdGI/photo.jpg?sz=128", "display_name": "Atul Bhardwaj", "link": "https://stackoverflow.com/users/1179638/atul-bhardwaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1587192013, "creation_date": 1587192013, "answer_id": 61285176, "question_id": 57893263, "link": "https://stackoverflow.com/questions/57893263/how-to-fix-android-architecture-components-paging-onitematendloaded-get-in-loop/61285176#61285176", "title": "How to fix android architecture components paging onItemAtEndLoaded get in loop?", "body": "<p>As your page size is 25 so Pagelist config should have <strong>setInitialLoadSizeHint</strong> as 25 for avoiding looping/unnecessary call of <strong>onItemAtEndLoaded</strong> method</p>\n\n<pre><code>val config = PagedList.Config.Builder()\n                .setPageSize(25)\n                .setInitialLoadSizeHint(25) //same as your page size\n                .setEnablePlaceholders(false)\n                .build()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8290091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3646c166864d08fe8464548fd0ed61?s=128&d=identicon&r=PG&f=1", "display_name": "chif.j", "link": "https://stackoverflow.com/users/8290091/chif-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1602678167, "creation_date": 1602678167, "answer_id": 64353178, "question_id": 57893263, "link": "https://stackoverflow.com/questions/57893263/how-to-fix-android-architecture-components-paging-onitematendloaded-get-in-loop/64353178#64353178", "title": "How to fix android architecture components paging onItemAtEndLoaded get in loop?", "body": "<p>I know it's been long  but i just post the solution in case someone need.<br />\nyou should register an observer for your adapter and listen for <code>onItemRangeInserted</code> event and if the start position of item range is zero just simply scroll adapter to zero position, this make your <code>RecyclerView</code> on first load stay in zero position and by the way you should set <code>setPrefetchDistance</code> value smaller than the <code>setInitialLoadSizeHint</code>.\nThis is the Java code for adapters observer</p>\n<pre><code>adapter.registerAdapterDataObserver(new RecyclerView.AdapterDataObserver() {\n        @Override\n        public void onItemRangeInserted(int positionStart, int itemCount) {\n            super.onItemRangeInserted(positionStart, itemCount);\n            if(positionStart == 0)\n                recyclerView.scrollToPosition(positionStart);\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 879, "user_id": 9881903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xOtup.jpg?s=128&g=1", "display_name": "GuanHongHuang", "link": "https://stackoverflow.com/users/9881903/guanhonghuang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 735, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1602678167, "creation_date": 1568219012, "question_id": 57893263, "link": "https://stackoverflow.com/questions/57893263/how-to-fix-android-architecture-components-paging-onitematendloaded-get-in-loop", "title": "How to fix android architecture components paging onItemAtEndLoaded get in loop?", "body": "<p>I am trying to practice the android architecture components <strong>Paging</strong></p>\n\n<p>Local + Remote Datasource with Room, MVVM and LiveData</p>\n\n<p>When i first time scroll the list(get <strong>remote</strong> data), it get into loop by <strong>onItemAtEndLoaded</strong> in PagedList.BoundaryCallback, but it scroll smooth when open the activity next time (get <strong>local</strong> data)</p>\n\n<p>Here is my github link <a href=\"https://github.com/huang840801/MVVM-Practice\" rel=\"nofollow noreferrer\">here</a>!</p>\n\n<p>Can anyone take a look and help me how to fix it, Thanks!</p>\n\n<p>Activity</p>\n\n<pre><code>class PagingActivity : AppCompatActivity() {\n\n    lateinit var viewModel: PagingViewModel\n    lateinit var adapter: PagingAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_paging)\n\n        val factory = PagingViewModelFactory(PagingRepository(), application)\n        viewModel = ViewModelProviders.of(this,factory).get(PagingViewModel::class.java)\n        adapter = PagingAdapter()\n        recyclerView.adapter = adapter\n\n        viewModel.pagedListLiveData.observe(this, Observer {\n\n            adapter.submitList(it)\n\n        })\n    }\n}\n</code></pre>\n\n<p>ViewModel</p>\n\n<pre><code>class PagingViewModel(repository: PagingRepository, application: Application) :\n    AndroidViewModel(application) {\n\n    val pagedListLiveData = repository.getDataItem(application)\n}\n</code></pre>\n\n<p>Repository</p>\n\n<pre><code>class PagingRepository : PagingRepositoryCallback {\n\n    private lateinit var localDataSource: DataSource.Factory&lt;Int, DataItem&gt;\n\n    override fun getDataItem(application: Application): LiveData&lt;PagedList&lt;DataItem&gt;&gt; {\n\n        val pagedListLiveData: LiveData&lt;PagedList&lt;DataItem&gt;&gt; by lazy {\n\n            localDataSource = DataItemDbHelper(application).getRoomDataItemDao().getAllDataItem()\n\n            val config = PagedList.Config.Builder()\n                .setPageSize(25)\n                .setEnablePlaceholders(false)\n                .build()\n\n            LivePagedListBuilder(localDataSource, config)\n                .setBoundaryCallback(PagingBoundaryCallback(application))\n                .build()\n        }\n\n        return pagedListLiveData\n    }\n}\n\ninterface PagingRepositoryCallback {\n    fun getDataItem(application: Application): LiveData&lt;PagedList&lt;DataItem&gt;&gt;\n}\n</code></pre>\n\n<p>BoundaryCallback</p>\n\n<pre><code>class PagingBoundaryCallback(context: Context) :\n    PagedList.BoundaryCallback&lt;DataItem&gt;() {\n\n    private var page = 2\n\n    private val api = AllPlayerApi.api\n\n    private val dao = DataItemDbHelper(context).getRoomDataItemDao()\n\n    override fun onZeroItemsLoaded() {\n        super.onZeroItemsLoaded()\n\n        api.getAllPlayer().enqueue(createWebserviceCallback())\n    }\n\n    override fun onItemAtEndLoaded(itemAtEnd: DataItem) {\n        super.onItemAtEndLoaded(itemAtEnd)\n        api.getAllPlayer(page).clone().enqueue(createWebserviceCallback())\n    }\n\n    private fun createWebserviceCallback(): Callback&lt;AllPlayerData&gt; {\n\n        return object : Callback&lt;AllPlayerData&gt; {\n            override fun onFailure(call: Call&lt;AllPlayerData&gt;?, t: Throwable?) {\n                Log.d(\"Huang\", \" get player fail \")\n            }\n\n            override fun onResponse(call: Call&lt;AllPlayerData&gt;?, response: Response&lt;AllPlayerData&gt;) {\n\n                Log.d(\"Huang\", \" onResponse \" + page)\n\n                response.body()!!.data!!.forEach {\n                    it.imageUrl = \"https://pdc.princeton.edu/sites/pdc/files/events/new-nba-logo-1.png\"\n                }\n\n                insertItemsIntoDb(response)\n                page++\n            }\n        }\n    }\n\n    private fun insertItemsIntoDb(response: Response&lt;AllPlayerData&gt;) {\n\n        GlobalScope.launch {\n\n            response.body()!!.data!!.forEach {\n\n                dao.insert(it)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "react-native", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11783691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HliBU.jpg?s=128&g=1", "display_name": "O\u011fuzhan G&#220;M&#220;\u015e", "link": "https://stackoverflow.com/users/11783691/o%c4%9fuzhan-g%c3%9cm%c3%9c%c5%9e"}, "is_accepted": false, "score": 0, "last_activity_date": 1568222996, "creation_date": 1568222996, "answer_id": 57894139, "question_id": 57893132, "link": "https://stackoverflow.com/questions/57893132/update-android-module/57894139#57894139", "title": "Update Android module", "body": "<p>In Android studio you can publish an application using the webview method.\nThis way you can update quickly from the outside.</p>\n\n<p><a href=\"https://www.tutorialspoint.com/react_native/react_native_webview.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/react_native/react_native_webview.htm</a></p>\n"}], "owner": {"reputation": 2176, "user_id": 1866051, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/602yy.jpg?s=128&g=1", "display_name": "Pramod Yadav", "link": "https://stackoverflow.com/users/1866051/pramod-yadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568222996, "creation_date": 1568218436, "question_id": 57893132, "link": "https://stackoverflow.com/questions/57893132/update-android-module", "title": "Update Android module", "body": "<p>I am building a new android application which has multiple modules.I have a module for analytics which will have the changes quite frequently.Is there any way I can update this module without pushing an app update. I am open to write this module in Java/kotlin/React-native. I know that React native has <a href=\"https://microsoft.github.io/code-push/\" rel=\"nofollow noreferrer\">Codepush</a> but for this also I need to push an update for my app. Dynamic modules also do not solve my problem as they do not support the individual module updates. Any ideas would be appreciated.</p>\n"}, {"tags": ["kotlin", "companion-object", "sealed-class"], "comments": [{"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 1, "creation_date": 1568219438, "post_id": 57892620, "comment_id": 102208124, "body": "Your property is not static, so the value of it is instance dependant."}], "answers": [{"tags": [], "owner": {"reputation": 1295, "user_id": 843860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3e7e7a8527c81344c552d903e69e2f?s=128&d=identicon&r=PG", "display_name": "CHAN", "link": "https://stackoverflow.com/users/843860/chan"}, "is_accepted": false, "score": 0, "last_activity_date": 1599028982, "creation_date": 1599028982, "answer_id": 63700065, "question_id": 57892620, "link": "https://stackoverflow.com/questions/57892620/access-the-set-of-abstract-properties-on-sealed-sub-classes-in-kotlin/63700065#63700065", "title": "Access the set of abstract properties on sealed sub classes (in kotlin)", "body": "<p>You can create a <code>createInstance(vararg)</code> extension function for that:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T : Any&gt; KClass&lt;T&gt;.createInstance(vararg args: Any): T =\n  java.constructors.first().newInstance(*args) as T\n\nS::class.sealedSubclasses.map { it.createInstance(&quot;the string&quot;) }\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 6080735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPfLg.png?s=128&g=1", "display_name": "Morgan", "link": "https://stackoverflow.com/users/6080735/morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1599028982, "creation_date": 1568216571, "last_edit_date": 1568219209, "question_id": 57892620, "link": "https://stackoverflow.com/questions/57892620/access-the-set-of-abstract-properties-on-sealed-sub-classes-in-kotlin", "title": "Access the set of abstract properties on sealed sub classes (in kotlin)", "body": "<p>I'm got a situation where I have a common property that must be defined on each of the subclasses of a sealed class.\nI'd like the ability to be able to access the set/list of these values without 'duplicating' the list (by hard coding it)\nHopefully the below code conveys what I mean</p>\n\n<pre><code>    sealed class S {\n        companion object {\n            // want to avoid typing: listOf(\"these\", \"values\", please\")\n            // instead grab it from the classes themselves\n            val properties = S::class.sealedSubclasses.map { /* What to do here? */ }\n        }\n\n        abstract val property: String\n    }\n\n    class A(val d: String) : S() {\n        override val property: String = \"these\"\n    }\n    class B(val e: String) : S() {\n        override val property: String = \"values\"\n    }\n    class C(val f: String) : S() {\n        override val property: String = \"please\"\n    }\n</code></pre>\n\n<p>I'm aware of <code>fun &lt;T : Any&gt; KClass&lt;T&gt;.createInstance(): T</code> from kotlin.reflect.full, but my constructors have non optional parameters.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines", "koin"], "answers": [{"tags": [], "owner": {"reputation": 701, "user_id": 6449273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fb767606a55aea760432a051e141d6?s=128&d=identicon&r=PG&f=1", "display_name": "jsa", "link": "https://stackoverflow.com/users/6449273/jsa"}, "is_accepted": true, "score": 0, "last_activity_date": 1568216478, "creation_date": 1568216478, "answer_id": 57892594, "question_id": 57892593, "link": "https://stackoverflow.com/questions/57892593/how-to-apply-an-annotation-to-a-koin-module-dependency-declaration/57892594#57892594", "title": "How to apply an annotation to a Koin module dependency declaration?", "body": "<p>I found that it can be done by converting the module to a method and applying the annotations to the method like so:</p>\n\n<pre><code>@FlowPreview\n@ExperimentalCoroutinesApi\nfun exampleModule() = module {\n    single&lt;ExampleRepository&gt; { RealExampleRepository() }\n}\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 6449273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75fb767606a55aea760432a051e141d6?s=128&d=identicon&r=PG&f=1", "display_name": "jsa", "link": "https://stackoverflow.com/users/6449273/jsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 57892594, "answer_count": 1, "score": 0, "last_activity_date": 1568216478, "creation_date": 1568216478, "question_id": 57892593, "link": "https://stackoverflow.com/questions/57892593/how-to-apply-an-annotation-to-a-koin-module-dependency-declaration", "title": "How to apply an annotation to a Koin module dependency declaration?", "body": "<p>I have the following Koin module:</p>\n\n<pre><code>val exampleModule = module {\n    single&lt;ExampleRepository&gt; { RealExampleRepository() }\n}\n</code></pre>\n\n<p>I need to apply two annotations to <code>RealExampleRepository</code> to supress an experimental coroutines API usage warning.</p>\n\n<p>The annotations I need to apply are:</p>\n\n<pre><code>@FlowPreview\n@ExperimentalCoroutinesApi\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["kotlin", "jvm", "kotlin-java-interop"], "comments": [{"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1568283736, "post_id": 57892203, "comment_id": 102229249, "body": "This seems to be more a rant about the status quo than an actual question. Even if we take this literally, questions like \u201cWhy did they do this?\u201d are rarely on topic."}], "owner": {"reputation": 381, "user_id": 3560841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uuhEe.jpg?s=128&g=1", "display_name": "Shift Delete", "link": "https://stackoverflow.com/users/3560841/shift-delete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568240952, "creation_date": 1568214987, "last_edit_date": 1568240952, "question_id": 57892203, "link": "https://stackoverflow.com/questions/57892203/why-kotlin-blindly-change-internal-classes-into-public-in-jvm", "title": "Why Kotlin blindly change internal classes into public in JVM?", "body": "<p>As you know the private classes in Kotlin change to package-private under the hood and internals changed to the public.\nunfortunately, this can lead to the known problem <a href=\"https://stackoverflow.com/questions/35914095/package-protected-alternative-in-kotlin\">here</a>.</p>\n\n<p>if the compiler sees the usage of Kotlin internal classes when it wants to change it to the byte code, it can choose package-private for internal kotlin classes that didn't use outside of the package and choose public for others, so we can handle above problem on our own.</p>\n\n<p>Or they can define another annotation such as @JvmPackagePrivate before internal classes to tell the compiler we want a package-private class in java.</p>\n\n<p>Or they can do both.</p>\n\n<p>The question is, why they don't solve this obvious problem with such an obvious solution?</p>\n\n<p>Are they have another approach to solve this?</p>\n\n<p>I just got acquainted with the Kotlin, so I think that I cant create lib for java with kotlin because when I create internal concrete classes, all client can see them outside of the library and its serious problem with kotlin. why they can't see this obvious problem??????</p>\n\n<p>I want to mention that none of the answers in <a href=\"https://stackoverflow.com/questions/45393423/kotlin-internal-classes-in-java-visible-publicly\">here</a> solve this problem because of @JvmSynthetic and @JvmName just target the fun in kotlin, not classes and at the end they both visible even if they change the name of classes.</p>\n\n<p>at last kotlin claims that it is completely interoperable with java but I think it's not right. better to say that it is 99 percent interoperable with java :)</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 740, "user_id": 2443773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ItMAA.jpg?s=128&g=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/2443773/edu"}, "edited": false, "score": 6, "creation_date": 1568211960, "post_id": 57891306, "comment_id": 102204031, "body": "Just put count++ before continue. If not you are in a infinite loop because count never increases."}, {"owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "reply_to_user": {"reputation": 740, "user_id": 2443773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ItMAA.jpg?s=128&g=1", "display_name": "Edu", "link": "https://stackoverflow.com/users/2443773/edu"}, "edited": false, "score": 0, "creation_date": 1568212629, "post_id": 57891306, "comment_id": 102204451, "body": "Thanks, worked fine"}], "answers": [{"comments": [{"owner": {"reputation": 1705, "user_id": 5260051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f64b07e45e4cc63f16fb54054f737f?s=128&d=identicon&r=PG&f=1", "display_name": "nitinkumarp", "link": "https://stackoverflow.com/users/5260051/nitinkumarp"}, "edited": false, "score": 0, "creation_date": 1574070080, "post_id": 58911410, "comment_id": 104085341, "body": "It will still do infinite loop once it encounter <code>&#39;,&#39;</code>. You need to increase the count before calling <code>continue</code>"}], "tags": [], "owner": {"reputation": 226, "user_id": 9794136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8e98f4742772af1004f0636cd7e22a9?s=128&d=identicon&r=PG&f=1", "display_name": "Sameed Shah", "link": "https://stackoverflow.com/users/9794136/sameed-shah"}, "is_accepted": true, "score": 2, "last_activity_date": 1574069185, "creation_date": 1574069185, "answer_id": 58911410, "question_id": 57891306, "link": "https://stackoverflow.com/questions/57891306/how-do-i-use-kotlin-loop-to-avoid-anr-in-android-app/58911410#58911410", "title": "How do I use kotlin loop to avoid ANR in android app?", "body": "<p>Issue is that you are changing the length of list inside the loop which leads to ANR. Use follinwg loop code:</p>\n\n<pre><code> var length = address.legth\n while (count &lt; length) {\n    if (address[count].equals(',')) {\n        flag = false;\n        continue\n    }\n    if (flag) {\n        lat += address[count]\n    } else {\n        lng += address[count]\n    }\n    count++;\n}\n</code></pre>\n"}], "owner": {"reputation": 1356, "user_id": 9239449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aHqxl.jpg?s=128&g=1", "display_name": "Muhammad Faizan", "link": "https://stackoverflow.com/users/9239449/muhammad-faizan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 58911410, "answer_count": 1, "score": 0, "last_activity_date": 1574069185, "creation_date": 1568211807, "question_id": 57891306, "link": "https://stackoverflow.com/questions/57891306/how-do-i-use-kotlin-loop-to-avoid-anr-in-android-app", "title": "How do I use kotlin loop to avoid ANR in android app?", "body": "<p>I am using kotlin in my android app. I wrote following function for decoding coordinates :</p>\n\n<pre><code>    private fun decodeCoordinates(address: String) {\n    var lat: String = \"\"\n    var lng: String = \"\"\n    var flag = true\n    var count = 0\n    while (count &lt; address.length) {\n        if (address[count].equals(',')) {\n            flag = false;\n            continue\n        }\n        if (flag) {\n            lat += address[count]\n        } else {\n            lng += address[count]\n        }\n        count++;\n    }\n    Log.i(\"dxdiag\", \"Lat: $lat\")\n    Log.i(\"dxdiag\", \"Lng: $lng\")\n}\n</code></pre>\n\n<p>but app hangs, if I remove <code>continue</code> , app does not hang</p>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout", "android-textinputlayout", "material-components-android"], "comments": [{"owner": {"reputation": 1757, "user_id": 3846715, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/89L8K.jpg?s=128&g=1", "display_name": "akshay bhange", "link": "https://stackoverflow.com/users/3846715/akshay-bhange"}, "edited": false, "score": 0, "creation_date": 1568209805, "post_id": 57890632, "comment_id": 102202831, "body": "isn&#39;t paddingLeft &amp; paddingStart same (if layout directions not considered)?"}, {"owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "edited": false, "score": 0, "creation_date": 1568209956, "post_id": 57890632, "comment_id": 102202924, "body": "What is minimum Android API level in your project?"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1568210055, "post_id": 57890632, "comment_id": 102202976, "body": "Check this <a href=\"https://stackoverflow.com/questions/57749585/how-to-remove-horizontal-padding-from-textinputlayout/57751984#57751984\">question</a>"}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 0, "creation_date": 1568210203, "post_id": 57890632, "comment_id": 102203057, "body": "- minimum API is 26 and I am using com.google.android.material:material:1.1.0-alpha08  - are the same, but my app supports rtl, so i want paddingLeft for that specific EditText"}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "edited": false, "score": 0, "creation_date": 1568210531, "post_id": 57890632, "comment_id": 102203246, "body": "Minimum API is 26 and I am using com.google.android.material:material:1.1.0-alpha08. Left and Start would be the same, but my app supports rtl, so i want paddingLeft for that specific EditText."}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1568211034, "post_id": 57890632, "comment_id": 102203517, "body": "@ghita the question linked works with <code>android:paddingStart</code> and <code>android:paddingLeft</code> if you want."}, {"owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "reply_to_user": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 1, "creation_date": 1568212588, "post_id": 57890632, "comment_id": 102204413, "body": "@GabrieleMariotti thanks, I have setted the padding programmatically and it worked fine"}], "owner": {"reputation": 2060, "user_id": 3524475, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Q4zUo.jpg?s=128&g=1", "display_name": "ghita", "link": "https://stackoverflow.com/users/3524475/ghita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "closed_date": 1568210939, "answer_count": 0, "score": 1, "last_activity_date": 1568211044, "creation_date": 1568209647, "last_edit_date": 1568211044, "question_id": 57890632, "link": "https://stackoverflow.com/questions/57890632/textinputedittext-padding-not-working-inside-constraintlayout", "closed_reason": "Duplicate", "title": "TextInputEditText padding not working inside ConstraintLayout", "body": "<p>I have  TextInputEditText inside TextInputLayout on a ConstraintLayout.</p>\n\n<p>I want to set a <strong>paddingLeft</strong> to the edittext, but it is not working. If I change to paddingStart it is working just fine, but I need paddingLeft:</p>\n\n<pre><code>    &lt;androidx.constraintlayout.widget.ConstraintLayout\n                    android:id=\"@+id/phoneNumberHolder\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_marginStart=\"16dp\"\n                    android:layout_marginTop=\"10dp\"\n                    android:layout_marginEnd=\"16dp\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;com.google.android.material.textfield.TextInputLayout\n                        android:id=\"@+id/inputPhoneNumber\"\n                        app:layout_constraintTop_toTopOf=\"parent\"\n                        style=\"@style/EditText.OutlinedBox\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        app:hintAnimationEnabled=\"false\"\n                        app:hintEnabled=\"false\"\n                        app:boxStrokeColor=\"@color/colorBrand\"&gt;\n\n                        &lt;com.google.android.material.textfield.TextInputEditText\n                            android:id=\"@+id/editTextPhone\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"wrap_content\"\n                            android:paddingLeft=\"90dp\"\n                            android:hint=\"@string/edit_user_profile_phone\"\n                            android:layout_gravity=\"start\"\n                            android:textAlignment=\"viewStart\"\n                            android:inputType=\"phone\" /&gt;\n                    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>And EditText.OutlinedBox  is :</p>\n\n<pre><code>   &lt;style name=\"EditText.OutlinedBox\" parent=\"Widget.MaterialComponents.TextInputLayout.OutlinedBox\"&gt;\n        &lt;item name=\"android:minHeight\"&gt;56dp&lt;/item&gt;\n        &lt;item name=\"android:textSize\"&gt;18sp&lt;/item&gt;\n        &lt;item name=\"android:textCursorDrawable\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunito_regular&lt;/item&gt;\n        &lt;item name=\"android:textColorHint\"&gt;@color/colorTextSecondary&lt;/item&gt;\n        &lt;item name=\"hintTextColor\"&gt;@color/colorBrand&lt;/item&gt;\n        &lt;item name=\"hintEnabled\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>Is there any trick to do that? it seems the problem is from <code>Widget.MaterialComponents.TextInputLayout.OutlinedBox</code></p>\n"}, {"tags": ["android", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 71, "user_id": 9339702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J1K_dTgSaAk/AAAAAAAAAAI/AAAAAAAAgl0/MX4aNwx9PFU/photo.jpg?sz=128", "display_name": "justamarkprime", "link": "https://stackoverflow.com/users/9339702/justamarkprime"}, "edited": false, "score": 0, "creation_date": 1568208831, "post_id": 57890248, "comment_id": 102202259, "body": "Is this a consequence of using a real world number as a test whitelist number? And does this then mean that Number is forever more regarded as a fictional number by Firebase?"}, {"owner": {"reputation": 23567, "user_id": 5081766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1f78b145103df7e99305218df85a5b?s=128&d=identicon&r=PG&f=1", "display_name": "bojeil", "link": "https://stackoverflow.com/users/5081766/bojeil"}, "edited": false, "score": 0, "creation_date": 1568259311, "post_id": 57890248, "comment_id": 102219440, "body": "Try deleting the existing account with that phone number and try again."}, {"owner": {"reputation": 71, "user_id": 9339702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J1K_dTgSaAk/AAAAAAAAAAI/AAAAAAAAgl0/MX4aNwx9PFU/photo.jpg?sz=128", "display_name": "justamarkprime", "link": "https://stackoverflow.com/users/9339702/justamarkprime"}, "reply_to_user": {"reputation": 23567, "user_id": 5081766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1f78b145103df7e99305218df85a5b?s=128&d=identicon&r=PG&f=1", "display_name": "bojeil", "link": "https://stackoverflow.com/users/5081766/bojeil"}, "edited": false, "score": 0, "creation_date": 1568272367, "post_id": 57890248, "comment_id": 102223282, "body": "@bojeil Thanks for that I have tried that. Still no joy"}, {"owner": {"reputation": 28117, "user_id": 777265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BNXHx.jpg?s=128&g=1", "display_name": "DaveAlden", "link": "https://stackoverflow.com/users/777265/davealden"}, "edited": false, "score": 0, "creation_date": 1577109022, "post_id": 57890248, "comment_id": 105093996, "body": "I have done exactly the same: added my real phone number to the whitelist by mistake. Removing it seems to make no difference - seems it&#39;s forever whitelisted as fictitious :-("}, {"owner": {"reputation": 71, "user_id": 9339702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J1K_dTgSaAk/AAAAAAAAAAI/AAAAAAAAgl0/MX4aNwx9PFU/photo.jpg?sz=128", "display_name": "justamarkprime", "link": "https://stackoverflow.com/users/9339702/justamarkprime"}, "edited": false, "score": 0, "creation_date": 1580313565, "post_id": 57890248, "comment_id": 106058386, "body": "I ended up firing an email off to them asking about it and what could be done. Whilst there advice was, follow the guide, it seems that once the number has been removed and has been off the list for a while and the project is live, it does behave."}], "owner": {"reputation": 71, "user_id": 9339702, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J1K_dTgSaAk/AAAAAAAAAAI/AAAAAAAAgl0/MX4aNwx9PFU/photo.jpg?sz=128", "display_name": "justamarkprime", "link": "https://stackoverflow.com/users/9339702/justamarkprime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568272525, "creation_date": 1568208251, "last_edit_date": 1568272525, "question_id": 57890248, "link": "https://stackoverflow.com/questions/57890248/firebase-auth-not-able-to-authenticate-a-mobile-number-that-is-no-longer-whitel", "title": "Firebase Auth: Not able to authenticate a mobile number that is no longer whitelisted for test", "body": "<p>Using a mobile number that was whitelisted for testing in a real world authentication throws an exception, none whitelisted numbers do nott</p>\n\n<p>Have tested with a non whitelisted number and this does not throw an exception.</p>\n\n<p>In order to test the phone auth functionality of my app, I added my mobile number to the whitelist. After completing the coding and testing. I removed my number from the whitelist and wanted to do a real world authentication.</p>\n\n<p>The auth methods throws an exception </p>\n\n<blockquote>\n  <p>com.google.firebase.FirebaseException: An internal error has occurred.\n  [ DEVELOPMENT MODE MISMATCH:Development mode Verification Proof in\n  non-development mode request. ]</p>\n</blockquote>\n\n<p>Has anyone else had any experience of this and are there any known solutions to this?</p>\n\n<p>EDIT: Have removed the number entirely from the auth user list, have even tried creating an auth user with the number, none of these make a difference.</p>\n\n<p>Also this is totally my own fault for rushing in and not reading the firebase documentation properly. It does stipulate that whitelisted \"test\" numbers should be fictious and not real / user account related.</p>\n"}, {"tags": ["android", "kotlin", "osmdroid", "geoserver", "qgis"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 2, "creation_date": 1568206643, "post_id": 57889670, "comment_id": 102200969, "body": "Please explain your problem in broad and post stack trace what issue your facing."}, {"owner": {"reputation": 111, "user_id": 10347346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QvZmdUyYZZw/AAAAAAAAAAI/AAAAAAAAAD4/v8hxmbCC7mU/photo.jpg?sz=128", "display_name": "RUBY KUMARI", "link": "https://stackoverflow.com/users/10347346/ruby-kumari"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1568206944, "post_id": 57889670, "comment_id": 102201159, "body": "How to add dependency in gradle file"}], "owner": {"reputation": 111, "user_id": 10347346, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QvZmdUyYZZw/AAAAAAAAAAI/AAAAAAAAAD4/v8hxmbCC7mU/photo.jpg?sz=128", "display_name": "RUBY KUMARI", "link": "https://stackoverflow.com/users/10347346/ruby-kumari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568366414, "creation_date": 1568206456, "last_edit_date": 1568366414, "question_id": 57889670, "link": "https://stackoverflow.com/questions/57889670/dependency-for-conversion-of-epsg-4326-to-epsg-32644-in-android", "title": "Dependency for Conversion of EPSG 4326 to EPSG 32644 In Android", "body": "<p><a href=\"https://i.stack.imgur.com/c1iGE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c1iGE.png\" alt=\"enter image description here\"></a>Actually I am trying to convert EPSG 4326 point(Lat, long) to Epsg 32644(Meters).I am hitting GeoServer to fetch featureData which is in EPSG 32644 format. </p>\n\n<p>For that conversion, I need to import one library i.e QgsCoordinateReferenceSystem. But I am unable add dependency file. Can anyone please guide me?</p>\n\n<p><a href=\"https://i.stack.imgur.com/GvjHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GvjHA.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "either"], "answers": [{"comments": [{"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568206148, "post_id": 57889503, "comment_id": 102200673, "body": "Does I need to still return Either&lt;L,R&gt; in this function ? Because If its a high order function and I use fun setData(....): Either&lt;Failure,Boolean&gt; Its saying the same error , that I need to return something from the method"}, {"owner": {"reputation": 200, "user_id": 6668935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMbfx.jpg?s=128&g=1", "display_name": "Sayed El-Abady", "link": "https://stackoverflow.com/users/6668935/sayed-el-abady"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 1, "creation_date": 1568206300, "post_id": 57889503, "comment_id": 102200751, "body": "you won&#39;t need the return as your function is being called when the db finishes and by the way the reason you can&#39;t return is that db call is being called asynchronously."}, {"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568206534, "post_id": 57889503, "comment_id": 102200908, "body": "Adding, this retValue requires me to pass an Either from the second function in my question, but I dont need to pass that since I&#39;m returning an either at that function, how can we fix this ?"}, {"owner": {"reputation": 200, "user_id": 6668935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMbfx.jpg?s=128&g=1", "display_name": "Sayed El-Abady", "link": "https://stackoverflow.com/users/6668935/sayed-el-abady"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568206748, "post_id": 57889503, "comment_id": 102201031, "body": "You won&#39;t need to return from this function also, any return will be converted to this function, this function will be delegated"}, {"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568206908, "post_id": 57889503, "comment_id": 102201127, "body": "I get that, the only thing is that at my second code block where I&#39;m calling the high order function, now needs to pass an either as a parameter, and I dont need to do that since I just need the value of either within the method that is calling"}, {"owner": {"reputation": 200, "user_id": 6668935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMbfx.jpg?s=128&g=1", "display_name": "Sayed El-Abady", "link": "https://stackoverflow.com/users/6668935/sayed-el-abady"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568207593, "post_id": 57889503, "comment_id": 102201541, "body": "you can do it internally as you need this either to inform you that the dc call done successfully,right?"}, {"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "reply_to_user": {"reputation": 200, "user_id": 6668935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMbfx.jpg?s=128&g=1", "display_name": "Sayed El-Abady", "link": "https://stackoverflow.com/users/6668935/sayed-el-abady"}, "edited": false, "score": 0, "creation_date": 1568208100, "post_id": 57889503, "comment_id": 102201847, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199315/discussion-between-coffeebreak-and-sayed-el-abady\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 200, "user_id": 6668935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nMbfx.jpg?s=128&g=1", "display_name": "Sayed El-Abady", "link": "https://stackoverflow.com/users/6668935/sayed-el-abady"}, "is_accepted": false, "score": 2, "last_activity_date": 1568206407, "last_edit_date": 1568206407, "creation_date": 1568205909, "answer_id": 57889503, "question_id": 57889417, "link": "https://stackoverflow.com/questions/57889417/use-of-eitherl-r-with-firestore/57889503#57889503", "title": "Use of Either&lt;L,R&gt; with Firestore", "body": "<p>You can use interface to make it return what you want OR I'd prefer to send Higher order function and use it where you want.</p>\n\n<p>your code will be something like this</p>\n\n<pre><code>  fun setDataIntoFirestore(data: HashMap&lt;String,Any&gt; , retValue : (Either&lt;Failure,Boolean&gt;) -&gt; (Unit)){\n    db.collection(\"test\")\n        .add(data)\n        .addOnSuccessListener {\n            retValue.invoke(Either.Right(true))\n        }\n        .addOnFailureListener {\n            Log.d(\"FirestoreData\", \"Failure: \" + it.message)\n            //Here I want to add Either.Left(it)\n        }\n}\n</code></pre>\n\n<p>you may find complication error but this to demonstrate my idea  </p>\n"}, {"comments": [{"owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568209469, "post_id": 57890467, "comment_id": 102202632, "body": "Thanks Alex, I knew about the interface callback method, but I wanted to give a try at Either with more of a functional programming perspective"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568209656, "post_id": 57890467, "comment_id": 102202743, "body": "See Doug&#39;s video. You&#39;ll understand for sure what I mean. Keep me posted me if it works."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "edited": false, "score": 0, "creation_date": 1568364421, "post_id": 57890467, "comment_id": 102258298, "body": "Hi! Can I help you with other informations? If you think that my answer helped you, please consider accepting it (\u2714\ufe0f). I&#39;d really appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 1, "last_activity_date": 1568209055, "creation_date": 1568209055, "answer_id": 57890467, "question_id": 57889417, "link": "https://stackoverflow.com/questions/57889417/use-of-eitherl-r-with-firestore/57890467#57890467", "title": "Use of Either&lt;L,R&gt; with Firestore", "body": "<p>Both <code>onScuccess()</code> and <code>onFailure()</code> methods are asynchronous meaning that each one of them will fire only when the data is committed to, or rejected by the Firebase servers. So it will take some time so one or the other method will be triggered and there are no guarantees about how long it will take. Depending on your connection speed and the state, it may take from a few hundred milliseconds even to a few seconds. So there is no way you can return an object of type <code>Either&lt;Failure,Boolean&gt;</code> as result of a method. To solve this, I recommend you see the last part of my anwser from this <strong><a href=\"https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin/51595202\">post</a></strong> in which I have explained how it can be done using a custom callback.</p>\n\n<p>P.S. There is an excelent video where Doug Stevenson explains in practic, how you can achieve this using <code>LiveData</code>:</p>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=fu2K3lOU3N0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=fu2K3lOU3N0</a></li>\n</ul>\n"}], "owner": {"reputation": 2083, "user_id": 10870164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LiN2r.jpg?s=128&g=1", "display_name": "CoffeeBreak", "link": "https://stackoverflow.com/users/10870164/coffeebreak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568209055, "creation_date": 1568205589, "question_id": 57889417, "link": "https://stackoverflow.com/questions/57889417/use-of-eitherl-r-with-firestore", "title": "Use of Either&lt;L,R&gt; with Firestore", "body": "<p>I'm trying to use Either with Firestore , the function I have is this one</p>\n\n<pre><code>fun setDataIntoFirestore(data: HashMap&lt;String,Any&gt;): Either&lt;Failure,Boolean&gt;{\n         db.collection(\"test\")\n            .add(data)\n            .addOnSuccessListener {\n                //Here I need Either.Right(true);\n            }\n            .addOnFailureListener {\n                Log.d(\"FirestoreData\", \"Failure: \" + it.message)\n                //Here I want to add Either.Left(it)\n            }\n    }\n</code></pre>\n\n<p>I'm trying to do this because I want to notify my view when the data has been added to the database, but when I mark the function to return Either I need to return that type and I cant return anything inside the Task that is suggesting me.</p>\n\n<p>Any ideas on how to implement this ?</p>\n\n<p>I'm calling this method from my use case like this</p>\n\n<pre><code>class SendProductUseCase: UseCase&lt;Boolean, HashMap&lt;String, Any&gt;&gt;() {\n\n    private val repo = SendProductRepo()\n\n    override suspend fun run(params: HashMap&lt;String, Any&gt;): Either&lt;Failure, Boolean&gt; {\n        return repo.setDataIntoFirestore(params)\n    }\n\n}\n</code></pre>\n\n<p>And UseCase is a generic UseCase for each one</p>\n\n<pre><code>abstract class UseCase&lt;out Type, in Params&gt; where Type : Any {\n\n    abstract suspend fun run(params: Params): Either&lt;Failure, Type&gt;\n\n    operator fun invoke(params: Params, onResult: (Either&lt;Failure, Type&gt;) -&gt; Unit = {}) {\n        val job = GlobalScope.async(Dispatchers.Default) { run(params) }\n        GlobalScope.launch(Dispatchers.Main) { onResult(job.await()) }\n    }\n\n    class None\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-recyclerview", "contextmenu"], "comments": [{"owner": {"reputation": 3944, "user_id": 6145568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eyTUg.jpg?s=128&g=1", "display_name": "devDeejay", "link": "https://stackoverflow.com/users/6145568/devdeejay"}, "edited": false, "score": 0, "creation_date": 1568204737, "post_id": 57889066, "comment_id": 102199830, "body": "Create a callback in the view holder class of Recycler view adapter when item.onLongClickListener is called. In the activity, just implement this callback function."}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1568204744, "post_id": 57889066, "comment_id": 102199836, "body": "check this : <a href=\"https://stackoverflow.com/a/57320757/7666442\">stackoverflow.com/a/57320757/7666442</a>"}], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 2446911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Opmgh.jpg?s=128&g=1", "display_name": "Deepak S. Gavkar", "link": "https://stackoverflow.com/users/2446911/deepak-s-gavkar"}, "is_accepted": false, "score": 1, "last_activity_date": 1568204827, "creation_date": 1568204827, "answer_id": 57889152, "question_id": 57889066, "link": "https://stackoverflow.com/questions/57889066/how-to-create-context-menu-for-recyclerview-using-kotlin/57889152#57889152", "title": "How to create context menu for RecyclerView using Kotlin", "body": "<p>You can try like this in <code>onBindViewHolder</code> <code>cvCarIcon</code> can be replaced with rootlayout of your row. or even you can handle with long clicklistener</p>\n\n<pre><code>holder.cvCarIcon.setOnClickListener{\n            val popup = PopupMenu(mContext, holder.cvCarIcon)\n            popup.inflate(R.menu.options_menu)\n            popup.setOnMenuItemClickListener(object : PopupMenu.OnMenuItemClickListener() {\n                fun onMenuItemClick(item: MenuItem): Boolean {\n                    when (item.getItemId()) {\n                        R.id.menu1 -&gt;\n                            return true\n                        else -&gt; return false\n                    }\n                }\n            })\n            popup.show()\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 12052981, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC6Ba-7OtOsxnbf76K_4yDrf4wfpposPH3pLOE1zg=k-s128", "display_name": "memo", "link": "https://stackoverflow.com/users/12052981/memo"}, "is_accepted": false, "score": 2, "last_activity_date": 1578610142, "creation_date": 1578610142, "answer_id": 59673233, "question_id": 57889066, "link": "https://stackoverflow.com/questions/57889066/how-to-create-context-menu-for-recyclerview-using-kotlin/59673233#59673233", "title": "How to create context menu for RecyclerView using Kotlin", "body": "<p>I solved this by adding this code to <strong>ViewHolder</strong> class to show <strong>popup menu</strong> with two items delete and cancel with <strong>resource file(menu xml file)</strong> named <strong>click_menu</strong></p>\n\n<pre><code>init{\n        V.tV.setOnLongClickListener {\n           // V is View variable and tv is name of textView \n\n            val pop= PopupMenu(V.context,it)\n            pop.inflate(R.menu.click_menu)\n\n            pop.setOnMenuItemClickListener {item-&gt;\n\n                when(item.itemId)\n\n                {\n                    R.id.delete-&gt;{ }\n\n                    R.id.cancel-&gt;{ }\n\n\n                }\n                true\n            }\n            pop.show()\n            true\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 12052981, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC6Ba-7OtOsxnbf76K_4yDrf4wfpposPH3pLOE1zg=k-s128", "display_name": "memo", "link": "https://stackoverflow.com/users/12052981/memo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1549, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1578610142, "creation_date": 1568204522, "last_edit_date": 1568205689, "question_id": 57889066, "link": "https://stackoverflow.com/questions/57889066/how-to-create-context-menu-for-recyclerview-using-kotlin", "title": "How to create context menu for RecyclerView using Kotlin", "body": "<p>i want to popup context Menu on long click RecyclerView items using Kotlin code</p>\n\n<p><a href=\"https://i.stack.imgur.com/SdiYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SdiYR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "rx-java", "okhttp", "rx-kotlin"], "comments": [{"owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "edited": false, "score": 0, "creation_date": 1568206928, "post_id": 57889004, "comment_id": 102201146, "body": "Subscriptions are asynchronous, rather than returning a value from the <code>doesNotReturnError</code> method call why not pass the objects <code>uttList</code> and <code>utt</code> to it and then make use of them inside <code>subscribe({...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 30326, "user_id": 384306, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ZED8P.jpg?s=128&g=1", "display_name": "Nathan Schwermann", "link": "https://stackoverflow.com/users/384306/nathan-schwermann"}, "is_accepted": false, "score": 1, "last_activity_date": 1568389414, "last_edit_date": 1568389414, "creation_date": 1568384715, "answer_id": 57925495, "question_id": 57889004, "link": "https://stackoverflow.com/questions/57889004/how-can-i-use-the-response-result-of-an-rxjava-call-as-a-condition-for-an-if-sta/57925495#57925495", "title": "How can I use the response result of an RXJava call as a condition for an if statement inside another RXJava function?", "body": "<p>Sounds like a job for flatMap instead of map. </p>\n\n<pre><code>repository.getDynamicUtterances(module).flatMap{res -&gt;\n            res.uttSets.forEach {utt -&gt;\n                    utt.module = res.module!!\n                    utt.transferInputValues()\n                    utt.generateDefaultFlatTree()\n            return if (doesNotReturnError(utt)){ // &lt;- add this\n                    uttList?.add(utt)\n                    insertDynamicUtterance(utt)\n\n                    repository.updateDynamicUtteranceView(utt).doOnNext {\n                        utt.assignSelectionStrings(it)\n                        repository.storeDynamicUttPieces(utt.inputUttPieces)\n                        utt.uttLinearisations = it.linearisations\n                        updateDynamicUtterance(utt)\n                    }\n                } else {\n                   Observable.error(utt.getError())\n                }\n            }\n\n</code></pre>\n"}], "owner": {"reputation": 744, "user_id": 860233, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4391f7ef50dfccf09fc68ae17368d9b8?s=128&d=identicon&r=PG", "display_name": "Glenncito", "link": "https://stackoverflow.com/users/860233/glenncito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1568389414, "creation_date": 1568204342, "last_edit_date": 1568209889, "question_id": 57889004, "link": "https://stackoverflow.com/questions/57889004/how-can-i-use-the-response-result-of-an-rxjava-call-as-a-condition-for-an-if-sta", "title": "How can I use the response result of an RXJava call as a condition for an if statement inside another RXJava function?", "body": "<p>I am making 2 RX calls that are nested within each other and are co-dependent. There is an issue with the server (which cannot be solved right now for various reasons) which returns errors in the 2nd nested call. </p>\n\n<p>Until this gets solved, I need to have it that if the 2nd call returns an error, the results of the first call are discarded as well. Right now, the entire iterative process stops the moment any of these error responses occur, and so my goal is to skip over them. </p>\n\n<p>Here is what my call structure currently looks like: </p>\n\n<pre><code> fun getAllDynamicUtterances(module: String) {\n\n    var uttList: ArrayList&lt;DynamicUtterance&gt;? = ArrayList()\n    rxSubs?.add(\n        repository.getDynamicUtterances(module).map{res -&gt;\n            res.uttSets.forEach {utt -&gt;\n                    utt.module = res.module!!\n                    utt.transferInputValues()\n                    utt.generateDefaultFlatTree()\n                    uttList?.add(utt)\n                    insertDynamicUtterance(utt)\n                    repository.updateDynamicUtteranceView(utt).blockingForEach {\n                        utt.assignSelectionStrings(it)\n                        repository.storeDynamicUttPieces(utt.inputUttPieces)\n                        utt.uttLinearisations = it.linearisations\n                        updateDynamicUtterance(utt)\n                    }\n            }\n        }.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread()).subscribe ({\n                allDynamicUtterances?.postValue(uttList)\n            },{\n                Log.e(\"errorHandle\",it.toString())\n            })\n    )\n}\n</code></pre>\n\n<p>My thinking is to include an if statement that almost does a \"peek\" of the second call before proceeding, but I'm not sure how to go about it. This is what I came up with so far to give an idea of my thinking: </p>\n\n<pre><code>fun getAllDynamicUtterances(module: String) {\n\n    var uttList: ArrayList&lt;DynamicUtterance&gt;? = ArrayList()\n    rxSubs?.add(\n        repository.getDynamicUtterances(module).map{res -&gt;\n            res.uttSets.forEach {utt -&gt;\n                    utt.module = res.module!!\n                    utt.transferInputValues()\n                    utt.generateDefaultFlatTree()\n                if (doesNotReturnError(utt)){ // &lt;- add this\n                    uttList?.add(utt)\n                    insertDynamicUtterance(utt)\n                    repository.updateDynamicUtteranceView(utt).blockingForEach {\n                        utt.assignSelectionStrings(it)\n                        repository.storeDynamicUttPieces(utt.inputUttPieces)\n                        utt.uttLinearisations = it.linearisations\n                        updateDynamicUtterance(utt)\n                    }\n                }\n            }\n        }.subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread()).subscribe ({\n                allDynamicUtterances?.postValue(uttList)\n            },{\n                Log.e(\"errorHandle\",it.toString())\n            })\n    )\n}\n</code></pre>\n\n<p>and then adding this function, or a function that performs what it is im trying to achieve in any case.</p>\n\n<pre><code>private fun doesNotReturnError(utt: DynamicUtterance): Boolean{\n   rxSubs?.add(\n       repository.updateDynamicUtteranceView(utt).subscribeOn(Schedulers.io())\n           .observeOn(AndroidSchedulers.mainThread())\n           .subscribe({\n             //cant put a return here :(\n           }, {\n               Timber.e(it)\n           })\n   )\n    //returning over here will return nothing wont it? \n}\n</code></pre>\n\n<p>I welcome comments on how to improve my <em>getAllDynamicUtterances</em> function</p>\n"}, {"tags": ["kotlin", "onkeyup"], "answers": [{"tags": [], "owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "is_accepted": true, "score": 0, "last_activity_date": 1568214349, "last_edit_date": 1568214349, "creation_date": 1568205933, "answer_id": 57889510, "question_id": 57888836, "link": "https://stackoverflow.com/questions/57888836/kotlin-how-to-execute-code-on-a-button-up-event/57889510#57889510", "title": "Kotlin. How to execute code on a button up event", "body": "<p>you need to override <code>View.OnTouchListener</code> callback method instead and you also take care of <code>MotionEvent.ACTION_DOWN</code></p>\n\n<pre><code>btnDownFast.setOnTouchListener(object : View.OnTouchListener {\n        override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n            when (event?.action) {\n                MotionEvent.ACTION_DOWN -&gt; //Do Something\n            }\n\n            return v?.onTouchEvent(event) ?: true\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2493149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5d49d7dd5dd1f8a7d3740ca24f17457?s=128&d=identicon&r=PG", "display_name": "Snowie", "link": "https://stackoverflow.com/users/2493149/snowie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 57889510, "answer_count": 1, "score": 0, "last_activity_date": 1568215186, "creation_date": 1568203819, "last_edit_date": 1568215186, "question_id": 57888836, "link": "https://stackoverflow.com/questions/57888836/kotlin-how-to-execute-code-on-a-button-up-event", "title": "Kotlin. How to execute code on a button up event", "body": "<p>Kotlin. How to execute code on a button up event</p>\n\n<p>I'm new to android. How do you handle a button up event? </p>\n\n<p>I can get a onclicklistener working,but need to execute code when button released</p>\n\n<pre><code>btnDownFast.setOnKeyListener(View.OnKeyListener { v, keyCode, event -&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "reference"], "comments": [{"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1568206325, "post_id": 57888700, "comment_id": 102200762, "body": "What is <code>FontsOverride</code>? Is this <a href=\"https://stackoverflow.com/questions/33923803/how-to-set-custom-font-for-a-whole-application-in-android\">code from this question</a> which relies on <a href=\"https://stackoverflow.com/a/16883281/760893\">this answer implementing FontsOverride</a>?"}, {"owner": {"reputation": 1, "user_id": 11567541, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AiBZS5TE8EA/AAAAAAAAAAI/AAAAAAAAABM/oLSvWJcc8pg/photo.jpg?sz=128", "display_name": "Lee-Martin Day", "link": "https://stackoverflow.com/users/11567541/lee-martin-day"}, "reply_to_user": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1568208743, "post_id": 57888700, "comment_id": 102202209, "body": "Hi barbsan, the option that you gave me is in java i need to convert it somehow to kotlin, even if i copy and past: public class MyApp extends Application {   @Override   public void onCreate() {      super.onCreate();     FontsOverride.setDefaultFont(this, &quot;DEFAULT&quot;, &quot;raleway_regular.ttf&quot;);     //  This FontsOverride comes from the example I posted above   }   } i get the same error, is there a setDefaultFront i can use in kotlin?"}], "owner": {"reputation": 1, "user_id": 11567541, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AiBZS5TE8EA/AAAAAAAAAAI/AAAAAAAAABM/oLSvWJcc8pg/photo.jpg?sz=128", "display_name": "Lee-Martin Day", "link": "https://stackoverflow.com/users/11567541/lee-martin-day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568206048, "creation_date": 1568203265, "last_edit_date": 1568206048, "question_id": 57888700, "link": "https://stackoverflow.com/questions/57888700/unresolved-reference-setdefaultfont", "title": "Unresolved reference: setDefaultFont", "body": "<p>I have build a login and sign up app but getting an error while compiling.</p>\n\n<p>It's a new kotlin class I have created. The error I am getting is </p>\n\n<blockquote>\n  <p>Unresolved reference: setDefaultFont</p>\n</blockquote>\n\n<p>I have tried to get different ways of typing but no luck</p>\n\n<pre><code>package com.example.loginsignup\n\nimport android.app.Application\n\nclass MyApplication : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        FontsOverride.setDefaultFont(this, \"MONOSPACE\", \"Kol.ttf\")\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "edited": false, "score": 0, "creation_date": 1568251548, "post_id": 57888035, "comment_id": 102218030, "body": "Use JDK 1.8 for your project"}, {"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "reply_to_user": {"reputation": 1027, "user_id": 6375170, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zugq_QmaxMM/AAAAAAAAAAI/AAAAAAAAAPQ/U_tBeKw3rDg/photo.jpg?sz=128", "display_name": "Ashok Kumar", "link": "https://stackoverflow.com/users/6375170/ashok-kumar"}, "edited": false, "score": 0, "creation_date": 1568278532, "post_id": 57888035, "comment_id": 102226369, "body": "@AshokKumar I use JDK 1.8, but it not help"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6543967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQXsY.jpg?s=128&g=1", "display_name": "nanorus", "link": "https://stackoverflow.com/users/6543967/nanorus"}, "is_accepted": false, "score": 1, "last_activity_date": 1568203967, "creation_date": 1568203967, "answer_id": 57888878, "question_id": 57888035, "link": "https://stackoverflow.com/questions/57888035/call-from-java-the-kotlins-function-lambda-expressions-are-not-supported-in/57888878#57888878", "title": "call from java the kotlin&#39;s function -&gt; lambda expressions are not supported in -source 1.7", "body": "<p>Please try to add this in the module script:</p>\n\n<pre><code>android {\n    compileOptions {\n        sourceCompatibility = 1.8\n        targetCompatibility = 1.8\n    }\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568203967, "creation_date": 1568200942, "question_id": 57888035, "link": "https://stackoverflow.com/questions/57888035/call-from-java-the-kotlins-function-lambda-expressions-are-not-supported-in", "title": "call from java the kotlin&#39;s function -&gt; lambda expressions are not supported in -source 1.7", "body": "<p>In my android project</p>\n\n<p>in app/build.gradle:</p>\n\n<pre><code>android {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n\n    }\n\n    compileSdkVersion 29\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.1.1\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        // Enabling multidex support.\n        multiDexEnabled true\n</code></pre>\n\n<p>and in Kotlin code:</p>\n\n<pre><code>object TransportService {\n\n      fun test() {\n            getAgentsListSync&lt;List&lt;AgentProfile&gt;&gt;()\n        }\n\n        fun &lt;T&gt; getAgentsListSync(): TransportResponse {\n\n            }\n        }\n}\n</code></pre>\n\n<p>Nice it's work fine. But when I try to call <code>getAgentsListSync</code> from java like this:</p>\n\n<pre><code>TransportService.INSTANCE.getAgentsListSync&lt;List&lt;AgentProfile&gt;&gt;();\n</code></pre>\n\n<p>I get compile error:</p>\n\n<pre><code>MyFragment.java:266: error: lambda expressions are not supported in -source 1.7\n        TransportResponse transportResponse = TransportService.INSTANCE.getAgentsListSync&lt;List&lt;AgentProfile&gt;&gt;();\n                                                                                                               ^\n  (use -source 8 or higher to enable lambda expressions)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "edited": false, "score": 0, "creation_date": 1568200711, "post_id": 57887920, "comment_id": 102197696, "body": "He is using kotlin synthetic properties, <code>findViewById</code> is not neccessary"}, {"owner": {"reputation": 23, "user_id": 8423725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPzSQ.jpg?s=128&g=1", "display_name": "jcbird", "link": "https://stackoverflow.com/users/8423725/jcbird"}, "reply_to_user": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "edited": false, "score": 0, "creation_date": 1568208883, "post_id": 57887920, "comment_id": 102202292, "body": "Thanks Nilesh and @Daniel. Did the job. Still trying to get my head around all this."}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1568200747, "last_edit_date": 1568200747, "creation_date": 1568200500, "answer_id": 57887920, "question_id": 57887903, "link": "https://stackoverflow.com/questions/57887903/how-to-fix-expecting-member-declaration-with-recyclerview/57887920#57887920", "title": "How to fix &quot;expecting member declaration&quot; with recyclerview", "body": "<p>There is two mistakes in your code</p>\n\n<p>You need to do <strong><code>findViewById</code></strong> inside <code>onCreate()</code> method</p>\n\n<p>Use <code>recyclerView.layoutManager = LinearLayoutManager(this)</code> inside <code>onCreate()</code> method</p>\n\n<p>Also no need to do  <code>findViewById</code> you can use <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\"><code>Kotlin Android Extensions\n</code></a></p>\n\n<p>Try this</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private val DB_NAME = \"Flt_Log.db\"\n\n    //lateinit var recyclerView: RecyclerView\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n            var recyclerView = findViewById&lt;RecyclerView&gt;(R.id.rv_flightlist)\n\n    recyclerView.layoutManager = LinearLayoutManager(this)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "edited": false, "score": 0, "creation_date": 1568205544, "post_id": 57888066, "comment_id": 102200349, "body": "first of all, avoid using var, it is a mistake, second thing is that the first variant is the most readable and the third should be avoided, that method is still available for backward compatibility."}, {"owner": {"reputation": 23, "user_id": 8423725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPzSQ.jpg?s=128&g=1", "display_name": "jcbird", "link": "https://stackoverflow.com/users/8423725/jcbird"}, "edited": false, "score": 0, "creation_date": 1568208897, "post_id": 57888066, "comment_id": 102202299, "body": "Thanks @Mohan. Relying on the Kotlin Android Extension works - also needed to put the layoutmanager allocation into the onCreate"}], "tags": [], "owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "is_accepted": false, "score": 1, "last_activity_date": 1568205918, "last_edit_date": 1568205918, "creation_date": 1568201037, "answer_id": 57888066, "question_id": 57887903, "link": "https://stackoverflow.com/questions/57887903/how-to-fix-expecting-member-declaration-with-recyclerview/57888066#57888066", "title": "How to fix &quot;expecting member declaration&quot; with recyclerview", "body": "<p>convert </p>\n\n<pre><code>val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.rv_flightlist)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>val recyclerView : RecylerView = findViewById&lt;RecyclerView&gt;(R.id.rv_flightlist)\n</code></pre>\n\n<p>You can also use <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android Extensions</a> and just access recycler view directly because all of the heavy lifting is done for you.</p>\n\n<pre><code>rv_flightlist.layoutmanager = LinearLayoutManager(this)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8423725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TPzSQ.jpg?s=128&g=1", "display_name": "jcbird", "link": "https://stackoverflow.com/users/8423725/jcbird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 57887920, "answer_count": 2, "score": -1, "last_activity_date": 1568205918, "creation_date": 1568200423, "last_edit_date": 1568205186, "question_id": 57887903, "link": "https://stackoverflow.com/questions/57887903/how-to-fix-expecting-member-declaration-with-recyclerview", "title": "How to fix &quot;expecting member declaration&quot; with recyclerview", "body": "<p>I have created a <code>RecyclerView</code> but when I attempt to assign a <code>layoutManager</code> to the view I get the ubiquitous \"Expecting member declaration\". I am using <code>androidx</code>.</p>\n\n<p>There seems to be a number of other problems with this error, but I can't align the solutions with my problem.</p>\n\n<p>I have tried the <code>Build -&gt; Clean</code> approach with no joy.\nI have tried applying <code>lateinit</code> for the <code>recyclerview</code></p>\n\n<pre><code>import android.content.Context\n//import android.support.v7.app.AppCompatActivity;\n\nimport android.os.Bundle\n\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.room.Room\n\n\nimport androidx.recyclerview.widget.RecyclerView\nimport kotlinx.android.synthetic.main.activity_main.*\n\n\nclass MainActivity : AppCompatActivity() {\n\n    private val DB_NAME = \"Flt_Log.db\"\n\n    //lateinit var recyclerView: RecyclerView\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    var recyclerView = findViewById&lt;RecyclerView&gt;(R.id.rv_flightlist)\n\n    recyclerView.layoutManager = LinearLayoutManager(this)\n</code></pre>\n\n<p>...</p>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/rv_flightlist\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n        //tools:layout_editor_absoluteX=\"145dp\"\n        //tools:layout_editor_absoluteY=\"494dp\"\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p>error is against:     recyclerView.layoutManager = LinearLayoutManager(this)</p>\n</blockquote>\n"}, {"tags": ["android", "xml", "kotlin", "android-menu"], "answers": [{"comments": [{"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "edited": false, "score": 0, "creation_date": 1568204325, "post_id": 57888424, "comment_id": 102199574, "body": "I am a bit confused, I have created the layout with the text view. The menu item displays when the menu is in the design preview. However, when I try and assign or change the name it reverts back to the original text"}, {"owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "reply_to_user": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "edited": false, "score": 0, "creation_date": 1568204555, "post_id": 57888424, "comment_id": 102199724, "body": "Can you share some block of code or something like screenshot?"}, {"owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "reply_to_user": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "edited": false, "score": 0, "creation_date": 1568206624, "post_id": 57888424, "comment_id": 102200958, "body": "please check my edited answer, add <code>onPrepareOptionsMenu</code> in your <code>activity</code>."}, {"owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "edited": false, "score": 0, "creation_date": 1568207192, "post_id": 57888424, "comment_id": 102201306, "body": "I have made a change to your code, in the custom_menu. It is supposed to be : app:actionLayout=&quot;@layout/custom_layout&quot;"}], "tags": [], "owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "is_accepted": true, "score": 0, "last_activity_date": 1568206595, "last_edit_date": 1568206595, "creation_date": 1568202283, "answer_id": 57888424, "question_id": 57887764, "link": "https://stackoverflow.com/questions/57887764/styling-toolbar-menu-item-title/57888424#57888424", "title": "Styling toolbar menu item title", "body": "<p>Firstly, you need to create a <code>custom_menu.xml</code> like this:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/profile\"   \n        &lt;!-- this is the magic !!! --&gt;\n        android:actionLayout=\"@layout/custom_layout\"\n        android:icon=\"@drawable/ic_action_profile\"\n        android:title=\"@string/profile_update\"\n        app:showAsAction=\"always\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>After this, you create a layout file <code>custom_layout.xml</code> like this:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"40dp\"\n        android:layout_height=\"40dp\"\n        android:layout_marginEnd=\"@dimen/margin_extra_small\"\n        android:background=\"@drawable/drawable_circle_solid_accent\"\n        android:gravity=\"center\"\n        android:padding=\"@dimen/padding_small\"\n        android:text=\"G\"\n        android:textColor=\"@color/colorWhite\"\n        android:textSize=\"@dimen/text_size_normal\"\n        android:textStyle=\"bold\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and set this <code>custom_menu.xml</code> in your <code>activity</code>.</p>\n\n<p>Output:<br/><a href=\"https://i.stack.imgur.com/OJrfz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJrfz.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><br/><br/>\nAdd this in your <code>activity</code>:</p>\n\n<pre><code>  override fun onPrepareOptionsMenu(menu: Menu?): Boolean {\n        // getting action layout menu item\n        val menuItemName = menu?.findItem(R.id.menu_name)\n\n        // getting Linear Layout from custom layout\n        val linearLayout = menuItemName?.actionView as LinearLayout\n\n        // getting TextView from Linear Layout, i.e., parent of custom layout\n        val yourTextView = linearLayout.findViewById&lt;TextView&gt;(R.id.your_text_view_id)\n\n        // setting the first char of the String name\n        yourTextView.text = name.substring(0, 1)\n\n        return super.onPrepareOptionsMenu(menu)\n    }\n</code></pre>\n"}], "owner": {"reputation": 2132, "user_id": 4319835, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/10011d6a6058ed100dd1a7e82f9813ad?s=128&d=identicon&r=PG&f=1", "display_name": "George", "link": "https://stackoverflow.com/users/4319835/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "accepted_answer_id": 57888424, "answer_count": 1, "score": 0, "last_activity_date": 1568206595, "creation_date": 1568199994, "last_edit_date": 1568205955, "question_id": 57887764, "link": "https://stackoverflow.com/questions/57887764/styling-toolbar-menu-item-title", "title": "Styling toolbar menu item title", "body": "<p>I am trying to achieve the Menu Item design as shown in the YouTube application screen below. The menu item I am interested in is the action menu item. In  this case the (G)</p>\n\n<p><a href=\"https://i.stack.imgur.com/AAa8n.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAa8n.jpg\" alt=\"YouTube App\"></a></p>\n\n<p>Currently, my application Looks like the image below: \n<a href=\"https://i.stack.imgur.com/pyGKi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pyGKi.png\" alt=\"Current Application Hair\"></a></p>\n\n<p>My style and Background xml are as follows:</p>\n\n<pre><code>&lt;resources&gt;\n\n    // The themes are structured as follows :\n\n    // Theme 1 (One)   : Application Theme\n    &lt;style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.NoActionBar\"&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/primary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/primary_dark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/color_accent&lt;/item&gt;\n        &lt;item name=\"otpViewStyle\"&gt;@style/OtpWidget.OtpView&lt;/item&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n        &lt;item name=\"actionMenuTextColor\"&gt;@color/white&lt;/item&gt;\n        &lt;item name=\"android:actionMenuTextColor\"&gt;@color/white&lt;/item&gt;\n        &lt;item name=\"actionMenuTextAppearance\"&gt;@style/home_menu_style&lt;/item&gt;\n        &lt;item name=\"android:actionMenuTextAppearance\" &gt;@style/home_menu_style&lt;/item&gt;\n\n    &lt;/style&gt;\n\n    // Theme 2 (two)   : Splash Screen Theme\n    &lt;style name=\"SplashScreenTheme\" parent=\"AppTheme.NoActionBar\"&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@drawable/background_splash&lt;/item&gt;\n\n    &lt;/style&gt;\n\n    // Theme 3 (three) : No ActionBar Theme\n    &lt;style name=\"AppTheme.NoActionbar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n    // Theme 4 (four)  : AppBarOverlay and PopupOverlay\n    &lt;style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.MaterialComponents.Light\" /&gt;\n    &lt;style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.MaterialComponents.Light\" /&gt;\n\n\n    // Menu Style\n    &lt;style name=\"home_menu_style\" parent=\"AppTheme\"&gt;\n        &lt;item name=\"android:textSize\"&gt;22sp&lt;/item&gt;\n        &lt;item name=\"android:textStyle\"&gt;bold&lt;/item&gt;\n        &lt;item name=\"android:background\"&gt;@drawable/menu_drawable&lt;/item&gt;\n        &lt;item name=\"android:backgroundTint\"&gt;@drawable/menu_drawable&lt;/item&gt;\n        &lt;item name=\"backgroundTint\"&gt;@drawable/menu_drawable&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>The menu_drawable is as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"oval\"&gt;\n  &lt;solid\n      android:color=\"#48b3ff\"&gt;\n  &lt;/solid&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>The home_menu.xml menu item is as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;item\n        android:id=\"@+id/menu_name\"\n        android:actionLayout=\"@layout/custom_layout\"\n        android:title=\"\"\n        app:showAsAction=\"always\"  /&gt;\n\n\n    &lt;item\n        android:id=\"@+id/action_search\"\n        android:icon=\"@drawable/sharp_search_white_24\"\n        android:title=\"Search\"\n        app:actionViewClass=\"androidx.appcompat.widget.SearchView\"\n        app:showAsAction=\"collapseActionView|always\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>Code to inflate the menu:</p>\n\n<pre><code>   override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater)\n    {\n        super.onCreateOptionsMenu(menu, inflater)\n        menu.clear()\n        this.menu = menu\n        inflater.inflate(R.menu.home_menu, menu)\n\n    }\n</code></pre>\n\n<p>My code to change the menu item title is as follows:</p>\n\n<pre><code>var menu: Menu\n  menu.findItem(R.id.menu_name).setTitle(name)\n</code></pre>\n\n<p>The menu preview looks as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1dfCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dfCX.png\" alt=\"home_menu.xml preview\"></a></p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1568199618, "post_id": 57887611, "comment_id": 102197159, "body": "You should be able to call multiple <code>put*</code> methods on the same instance of a <code>SharedPreferences.Editor</code> - for example: <code>sharedPrefs.edit().putBoolean(&quot;key_goes_here&quot;, true).putBoolean(&quot;another_key&quot;, false)</code> instead of getting separated instances of the editor."}], "answers": [{"tags": [], "owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "is_accepted": false, "score": 2, "last_activity_date": 1568199687, "creation_date": 1568199687, "answer_id": 57887681, "question_id": 57887611, "link": "https://stackoverflow.com/questions/57887611/firebase-authentication-sign-out-when-app-gets-killed/57887681#57887681", "title": "Firebase Authentication: Sign out when app gets killed", "body": "<p>When you install application first time following method call one by one in Activity</p>\n\n<pre><code>onCreate()\nonStart()\nonResume()\n</code></pre>\n\n<p>after that when you press Home Button then following method call</p>\n\n<pre><code>onPause()\nonStop()\n</code></pre>\n\n<p><strong>Note</strong>: onDestroy() method not call after press Home Button.</p>\n\n<p>And regarding low battery please follow this <a href=\"https://stackoverflow.com/a/27845823/10711216\">link</a></p>\n"}], "owner": {"reputation": 409, "user_id": 10424056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e97ce582113f9054c3165b8669feaff?s=128&d=identicon&r=PG&f=1", "display_name": "Apri", "link": "https://stackoverflow.com/users/10424056/apri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568212008, "creation_date": 1568199451, "last_edit_date": 1568212008, "question_id": 57887611, "link": "https://stackoverflow.com/questions/57887611/firebase-authentication-sign-out-when-app-gets-killed", "title": "Firebase Authentication: Sign out when app gets killed", "body": "<p>I have an Android App that allows users to create a user account, but also to continue without a user account. The Authentication is done with Firebase.\nThe MainActivity is the Login-Activity. Here, the user can choose to login or to continue as guest (without user account). If they login, they can choose whether they want to stay logged in or not when they close the app.\nI want, that when they continue as guest or when they check the stay-logged-in-checkbox, they get directly navigated to the next activity and the LoginActivity gets destroyed with <code>finish()</code>, so that the next activity is the first in the Backstack. So, this is the Activity, where the app gets closed when the user presses the Back-Button. And in this case, I want to check if the user should get logged out or not. I have done this as follows:</p>\n\n<p>In the MainActivity, I save a Boolean-Variable in the SharedPreferences:</p>\n\n<pre><code>override fun login(email: String, password: String, stayLoggedIn: Boolean) {\n    mAuth.signInWithEmailAndPassword(email, password)\n        .addOnCompleteListener(this) { task -&gt;\n            if(task.isSuccessful) {\n                getDefaultSharedPreferences(this).edit().putBoolean(getString(R.string.continue_as_guest), false).apply()\n                getDefaultSharedPreferences(this).edit().putBoolean(getString(R.string.stay_logged_in), stayLoggedIn).apply()\n                startActivity(Intent(this, NavigationActivity::class.java))\n                finish()\n            } else {\n                //show message\n            }\n        }\n}\n</code></pre>\n\n<p>Then, in the next Activity, which is now the first Activity in the backstack, I override the onDestroy Method:</p>\n\n<pre><code>override fun onDestroy() {\n    super.onDestroy()\n    val stayLoggedIn = getDefaultSharedPreferences(this).getBoolean(getString(R.string.stay_logged_in), false)\n    if(!stayLoggedIn &amp;&amp; mAuth.currentUser != null) {\n        mAuth.signOut()\n    }\n}\n</code></pre>\n\n<p>This works great, when the user coles the app the usual way through the Back-Button. But when the app gets killed in another way (phone turns off because battery is empty or app gets killes through home button), the onDestroy-Method doesn't get called, which means the user doesn't get signed out.</p>\n\n<p>I have read that you can't handle those cases inthe process where the app is killed where the onDestroy-Method is not called, so you have to handle it when the app is opened again. But I have no idea how that works. Hope someone can help me.</p>\n"}, {"tags": ["android", "kotlin", "gridview", "cardview"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1568198430, "post_id": 57887289, "comment_id": 102196521, "body": "Have you tried <code>android:gravity=&quot;center&quot;</code> inside your <code>TextView</code>"}, {"owner": {"reputation": 107, "user_id": 6663184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Us77Z.jpg?s=128&g=1", "display_name": "Adarsh Yashvanth", "link": "https://stackoverflow.com/users/6663184/adarsh-yashvanth"}, "edited": false, "score": 0, "creation_date": 1568198469, "post_id": 57887289, "comment_id": 102196545, "body": "Add your <code>ImageView</code> and <code>TextView</code> inside a <code>LinearLayout</code> and place that <code>LinearLayout</code> inside the <code>CardView</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": true, "score": 1, "last_activity_date": 1568198570, "creation_date": 1568198570, "answer_id": 57887372, "question_id": 57887289, "link": "https://stackoverflow.com/questions/57887289/i-am-struggling-to-control-the-gravity-of-a-textview-inside-my-cardview-items-on/57887372#57887372", "title": "I am struggling to control the gravity of a textView inside my CardView items once I put it inside a GridView", "body": "<p>Add <code>android:gravity=\"center\"</code> in your textview like following.</p>\n\n<pre><code>&lt;TextView\n     android:id=\"@+id/tvCategoryTitle\"\n     android:layout_width=\"0dp\"\n     android:layout_height=\"wrap_content\"\n     android:layout_marginTop=\"2dp\"\n     android:layout_marginBottom=\"8dp\"\n     android:text=\"TextView\"\n\n     android:gravity=\"center\" \n\n     android:textAlignment=\"center\"\n     app:layout_constraintBottom_toBottomOf=\"parent\"\n     app:layout_constraintEnd_toEndOf=\"parent\"\n     app:layout_constraintStart_toStartOf=\"parent\"\n     app:layout_constraintTop_toBottomOf=\"@+id/ivCategoryIcon\"/&gt;\n</code></pre>\n\n<p>Hope it helps you. <strong>\"Happy Coding\"</strong></p>\n"}, {"tags": [], "owner": {"reputation": 182, "user_id": 10521937, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FoaFKZ7SnkU/AAAAAAAAAAI/AAAAAAAAWnc/XzlhfcFD33A/photo.jpg?sz=128", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/10521937/rahul-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568198692, "creation_date": 1568198692, "answer_id": 57887409, "question_id": 57887289, "link": "https://stackoverflow.com/questions/57887289/i-am-struggling-to-control-the-gravity-of-a-textview-inside-my-cardview-items-on/57887409#57887409", "title": "I am struggling to control the gravity of a textView inside my CardView items once I put it inside a GridView", "body": "<p>use relative layout insists of ConstraintLayout.</p>\n\n<p>use center_horizontal to the text view=true</p>\n"}, {"tags": [], "owner": {"reputation": 213, "user_id": 11791627, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4sh6EHfON0w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rceZsZli5UYqsr72dn2910WGutSJA/photo.jpg?sz=128", "display_name": "sohel.eco", "link": "https://stackoverflow.com/users/11791627/sohel-eco"}, "is_accepted": false, "score": 0, "last_activity_date": 1568198985, "creation_date": 1568198985, "answer_id": 57887495, "question_id": 57887289, "link": "https://stackoverflow.com/questions/57887289/i-am-struggling-to-control-the-gravity-of-a-textview-inside-my-cardview-items-on/57887495#57887495", "title": "I am struggling to control the gravity of a textView inside my CardView items once I put it inside a GridView", "body": "<p>Can you please try this and change your constraint layout ?</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=\"@+id/relativeLayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n        &lt;ImageView\n                android:id=\"@+id/ivCategoryIcon\"\n                android:layout_width=\"80dp\"\n                android:layout_height=\"80dp\"\n                android:layout_marginTop=\"16dp\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:srcCompat=\"@drawable/btn_translation_panel_loading\" /&gt;\n\n        &lt;TextView\n                android:id=\"@+id/tvCategoryTitle\"\n                android:layout_width=\"0dp\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginTop=\"2dp\"\n                android:layout_marginBottom=\"8dp\"\n                android:text=\"TextView\"\n                android:textAlignment=\"center\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@+id/ivCategoryIcon\"\n                /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 744, "user_id": 860233, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4391f7ef50dfccf09fc68ae17368d9b8?s=128&d=identicon&r=PG", "display_name": "Glenncito", "link": "https://stackoverflow.com/users/860233/glenncito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57887372, "answer_count": 3, "score": 0, "last_activity_date": 1568198985, "creation_date": 1568198239, "question_id": 57887289, "link": "https://stackoverflow.com/questions/57887289/i-am-struggling-to-control-the-gravity-of-a-textview-inside-my-cardview-items-on", "title": "I am struggling to control the gravity of a textView inside my CardView items once I put it inside a GridView", "body": "<p>Below is a screenshot of my gridView currently: \nEven though I have centered the TextField inside the card, they are still pinned to the left. How do I fix this so that the Text is centered in the middle? It seems like once I add an item to a gridView, the gridView attributes overrule their children. </p>\n\n<p><a href=\"https://i.stack.imgur.com/LkUw4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LkUw4.png\" alt=\"Card Views inside GridView\"></a></p>\n\n<p>Here is my layout code:</p>\n\n<p><strong>CARDVIEW</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.cardview.widget.CardView \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    layout_height=\"\"\n    android:layout_width=\"120dp\"\n    android:layout_height=\"120dp\"\n    app:cardBackgroundColor=\"#E73737\"\n    app:cardElevation=\"4dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=\"@+id/relativeLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;ImageView\n            android:id=\"@+id/ivCategoryIcon\"\n            android:layout_width=\"80dp\"\n            android:layout_height=\"80dp\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginBottom=\"8dp\"\n            app:layout_constraintBottom_toTopOf=\"@+id/tvCategoryTitle\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.498\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/btn_translation_panel_loading\" /&gt;\n\n    &lt;TextView\n            android:id=\"@+id/tvCategoryTitle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"2dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:text=\"TextView\"\n            android:textAlignment=\"center\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/ivCategoryIcon\" \n/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n\n<p><strong>Fragment</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/frameLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.fragments.CategoryViewFragment\"&gt;\n\n&lt;GridView\n        android:id=\"@+id/gvCategories\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:layout_marginStart=\"32dp\"\n        android:layout_marginEnd=\"32dp\"\n        android:clickable=\"true\"\n        android:clipChildren=\"false\"\n        android:gravity=\"center\"\n        android:horizontalSpacing=\"8dp\"\n        android:numColumns=\"2\"\n        android:stretchMode=\"columnWidth\"\n        android:verticalSpacing=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        tools:visibility=\"visible\" /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "string", "kotlin", "format"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1568195723, "creation_date": 1568195723, "answer_id": 57886592, "question_id": 57886442, "link": "https://stackoverflow.com/questions/57886442/string-placeholder-replaced-with-object/57886592#57886592", "title": "String placeholder replaced with Object", "body": "<p>The mistake is in these lines:</p>\n\n<pre><code>fun informUser(@StringRes stringID: Int, vararg params: String) {\n    val message = main.getString(stringID, params)\n    ...\n}\n</code></pre>\n\n<p>The <code>vararg</code> parameter <code>params</code> is available for use inside your function as an <code>Array&lt;String&gt;</code>. So instead of passing all the params you're receiving along to the <code>getString</code> call one by one, you're passing them in as just a single parameter, an array of strings. What you see substituted into your string resource, <code>[Ljava.lang.String;@18af58a</code>, is the <code>toString</code> representation of that array.</p>\n\n<p>To pass along <code>params</code> as individual parameters to <code>getString</code>, use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">spread operator</a>: </p>\n\n<pre><code>val message = main.getString(stringID, *params)\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 2270076, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aKJgA.jpg?s=128&g=1", "display_name": "Torhan Bartel", "link": "https://stackoverflow.com/users/2270076/torhan-bartel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "closed_date": 1568196154, "accepted_answer_id": 57886592, "answer_count": 1, "score": 0, "last_activity_date": 1568195723, "creation_date": 1568195293, "question_id": 57886442, "link": "https://stackoverflow.com/questions/57886442/string-placeholder-replaced-with-object", "closed_reason": "Duplicate", "title": "String placeholder replaced with Object", "body": "<p>Im trying to use placeholder strings in my Android Kotlin project. According to the doc i have to use <code>%1$s</code> for a singular placeholder in string resources.</p>\n\n<p>I'm using following method to print messages to the user</p>\n\n<pre><code>fun informUser(@StringRes stringID: Int, vararg params: String) {\n    val message = main.getString(stringID, params)\n    println(\"INFORM USER: $message\")\n    Snackbar.make(rootCoordinatorLayout, message, Snackbar.LENGTH_LONG).show()\n}\n</code></pre>\n\n<p>For the purpose of this example i am using the following string resource:</p>\n\n<pre><code>&lt;string name=\"test_placeholder\"&gt;This is a %1$s test&lt;/string&gt;\n</code></pre>\n\n<p>When calling the method like this...</p>\n\n<pre><code>informUser(R.string.test_placeholder, \"strange\")\n</code></pre>\n\n<p>...the following output is generated. Which is not the expected result.</p>\n\n<pre><code>I/System.out: INFORM USER: This is a [Ljava.lang.String;@18af58a test\n</code></pre>\n"}, {"tags": ["generics", "inheritance", "kotlin", "interface"], "comments": [{"owner": {"reputation": 2247, "user_id": 11342519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d481d7c4c6219c1453c46ed3b76f7535?s=128&d=identicon&r=PG&f=1", "display_name": "jsamol", "link": "https://stackoverflow.com/users/11342519/jsamol"}, "edited": false, "score": 0, "creation_date": 1568195339, "post_id": 57886395, "comment_id": 102194955, "body": "Have you actually tried to do that?"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1568195405, "creation_date": 1568195405, "answer_id": 57886491, "question_id": 57886395, "link": "https://stackoverflow.com/questions/57886395/kotlin-multiple-inheritance-between-interfaces/57886491#57886491", "title": "Kotlin multiple inheritance between interfaces", "body": "<p>If you want that superinterface to have three different generic parameters, you can do that:</p>\n\n<pre><code>interface DBTreeInterface&lt;A, B, C&gt;\n\ninterface AggDBTree&lt;T, X, V&gt; : DBTreeInterface&lt;T, X, V&gt;\n</code></pre>\n\n<p>If you want to implement the same interface, but with various type parameters, that is not possible. So something like this will <em>not</em> compile:</p>\n\n<pre><code>interface DBTreeInterface&lt;T&gt;\n\ninterface AggDBTree&lt;A, B&gt; : DBTreeInterface&lt;A&gt;, DBTreeInterface&lt;B&gt;\n</code></pre>\n\n<p>You can only extend a single interface once.</p>\n"}], "owner": {"reputation": 17, "user_id": 11625261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19429c89ba4c53899965a3ca30638983?s=128&d=identicon&r=PG&f=1", "display_name": "ilariaStocchi", "link": "https://stackoverflow.com/users/11625261/ilariastocchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 57886491, "answer_count": 1, "score": 1, "last_activity_date": 1568251809, "creation_date": 1568195171, "last_edit_date": 1568251809, "question_id": 57886395, "link": "https://stackoverflow.com/questions/57886395/kotlin-multiple-inheritance-between-interfaces", "title": "Kotlin multiple inheritance between interfaces", "body": "<p>i want to know if there'a way to declare that an interface extends another interface with three different generics type parameters</p>\n\n<pre><code>interface AggDBTree: DBTreeInterface&lt;T, X, V&gt;{\n //method declarations\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "layout"], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "edited": false, "score": 0, "creation_date": 1568195262, "post_id": 57886364, "comment_id": 102194913, "body": "My activity has already <code>android:windowSoftInputMode=&quot;adjustPan&quot;</code>"}], "tags": [], "owner": {"reputation": 345, "user_id": 8470296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/knhc6.jpg?s=128&g=1", "display_name": "Habeeb Rahman", "link": "https://stackoverflow.com/users/8470296/habeeb-rahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1568195089, "creation_date": 1568195089, "answer_id": 57886364, "question_id": 57886198, "link": "https://stackoverflow.com/questions/57886198/keyboard-break-layout-and-behaviour/57886364#57886364", "title": "Keyboard break layout and behaviour", "body": "<p>You can simply switch your Activity's <code>windowSoftInputMode</code> flag to <code>adjustPan</code> in your <code>AndroidMainfest.xml</code> file inside your activity tag.</p>\n\n<p>Check the official documentation for more info.</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/manifest/activity-element.html#wsoft\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element.html#wsoft</a></p>\n\n<pre><code>&lt;activity \n  ... \n  android:windowSoftInputMode=\"adjustPan\"&gt;\n&lt;/activity&gt;\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 11674907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3TVml0FffIU/AAAAAAAAAAI/AAAAAAAABKE/Eb-vPT42zVA/photo.jpg?sz=128", "display_name": "Ady", "link": "https://stackoverflow.com/users/11674907/ady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568196323, "creation_date": 1568194589, "last_edit_date": 1568196323, "question_id": 57886198, "link": "https://stackoverflow.com/questions/57886198/keyboard-break-layout-and-behaviour", "title": "Keyboard break layout and behaviour", "body": "<p>I have a fragment with some views like EditText, ViewFlipper and RecyclerView.</p>\n\n<p>But I have an issue with the keyboard : when the keyboard appear, some of my views become whites and my RecyclerView is empty or when I tap on an item I have to scroll him to handle the event.</p>\n\n<p>Do you know why the soft keyboard break the layout and behavior ? And do you know how to solve this ?</p>\n\n<p>Thanks you for your help.</p>\n\n<p><strong>EDIT : Seems solved</strong></p>\n\n<p>I've found a solution wich seems to work :</p>\n\n<p>I change the <code>softInputMode</code> in the <code>onCreate()</code> method to <code>adjustNothing</code></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_NOTHING)\n}\n</code></pre>\n\n<p>then in <code>onDestroy</code> I set the previous mode, here <code>adjustPan</code></p>\n\n<pre><code>override fun onDestroy() {\n    super.onDestroy()\n    activity?.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568194843, "post_id": 57886251, "comment_id": 102194678, "body": "I tried this, shows an error with this: Type mismatch, Required: Context, Found:"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568196939, "post_id": 57886251, "comment_id": 102195805, "body": "But how can I add the drawable file"}, {"owner": {"reputation": 927, "user_id": 5989449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3871791d7942dae0580eb8c0b98add66?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/5989449/ankit"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568197560, "post_id": 57886251, "comment_id": 102196093, "body": "check now you can use item separator from drawable"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568197726, "post_id": 57886251, "comment_id": 102196175, "body": "I found solution see Mohan answer"}], "tags": [], "owner": {"reputation": 927, "user_id": 5989449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3871791d7942dae0580eb8c0b98add66?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/5989449/ankit"}, "is_accepted": false, "score": 6, "last_activity_date": 1568197504, "last_edit_date": 1568197504, "creation_date": 1568194747, "answer_id": 57886251, "question_id": 57886100, "link": "https://stackoverflow.com/questions/57886100/how-to-add-item-divider-for-recyclerview-in-kotlin/57886251#57886251", "title": "How to add item divider for RecyclerView in Kotlin", "body": "<p>Try this for kotlin</p>\n\n<p>for default item separator</p>\n\n<pre><code>recyclerview.addItemDecoration(DividerItemDecoration(this@YourActivity, LinearLayoutManager.VERTICAL))\n</code></pre>\n\n<p>drawable as a item separator</p>\n\n<pre><code>  val divider = DividerItemDecoration(this@MainActivity,DividerItemDecoration.VERTICAL) \n    divider.setDrawable(ContextCompat.getDrawable(this@MainActivity,R.drawable.item_separator)!!)\n    recyclerview.addItemDecoration(divider)\n</code></pre>\n\n<p>for java</p>\n\n<pre><code>recyclerView.addItemDecoration(new DividerItemDecoration(getContext(),LinearLayoutManager.VERTICAL));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568195288, "post_id": 57886332, "comment_id": 102194926, "body": "I&#39;m having this error with context:   kotlin.UninitializedPropertyAccessException: lateinit property context has not been initialized"}, {"owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568195333, "post_id": 57886332, "comment_id": 102194951, "body": "Did you intialized context like this? private lateint var context:Context  Intialize context first, In your on create method,  context = parent.context()"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568195485, "post_id": 57886332, "comment_id": 102195035, "body": "yes I did as private lateinit var context:Context, but still the error"}, {"owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568195632, "post_id": 57886332, "comment_id": 102195126, "body": "The error states that you didn&#39;t intialized the lateint property, please find my edited answer for solution."}, {"owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568195860, "post_id": 57886332, "comment_id": 102195264, "body": "then use <code>DividerItemDecoration(applicationContext,LinearLayoutManager&zwnj;&#8203;.VERTICAL)</code>"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568196143, "post_id": 57886332, "comment_id": 102195396, "body": "Its not showing divider, I also need to call the drawable file"}, {"owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568196376, "post_id": 57886332, "comment_id": 102195504, "body": "Use setDrawable() method  <code>DividerItemDecoration(applicationContext,LinearLayoutManager&zwnj;&#8203;.VERTICAL).setDrawab&zwnj;&#8203;le(**YOUR DRAWABLE FILE**)</code>"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568196618, "post_id": 57886332, "comment_id": 102195645, "body": "I did but its not working, Type: mismatch, Required: RecyclerView.ItemDecoration, Found: Unit"}, {"owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568196948, "post_id": 57886332, "comment_id": 102195810, "body": "You need to do like this  <code>val decorator = DividerItemDecoration(applicationContext,LinearLayoutManager&zwnj;&#8203;.VERTICAL)</code>  and after that  <code>decorator.setDrawable(**YOUR DRAWABLE FILE**)</code>  <code>recycler_view.addItemDecoration(decorator)</code>"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568197106, "post_id": 57886332, "comment_id": 102195865, "body": "I did but now I&#39;m having an error with drawable, Type: mismatch, Required: Drawable, Found: Int"}, {"owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568197370, "post_id": 57886332, "comment_id": 102195999, "body": "Edited, please see the above answer"}], "tags": [], "owner": {"reputation": 519, "user_id": 10711216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odlJo.jpg?s=128&g=1", "display_name": "Mohan Sai Manthri", "link": "https://stackoverflow.com/users/10711216/mohan-sai-manthri"}, "is_accepted": true, "score": 13, "last_activity_date": 1568197290, "last_edit_date": 1568197290, "creation_date": 1568194969, "answer_id": 57886332, "question_id": 57886100, "link": "https://stackoverflow.com/questions/57886100/how-to-add-item-divider-for-recyclerview-in-kotlin/57886332#57886332", "title": "How to add item divider for RecyclerView in Kotlin", "body": "<p>For Kotlin:</p>\n\n<pre><code> recycler_view.addItemDecoration(\n            DividerItemDecoration(\n                context,\n                LinearLayoutManager.HORIZONTAL\n            )\n        )\n</code></pre>\n\n<p>If you intialized like this:</p>\n\n<pre><code>private lateint var context:Context\n</code></pre>\n\n<p>then inside your onCreateView</p>\n\n<pre><code> override fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    // Intialize context here \n    context = parent.context()\n    rootView = container?.inflateView(layoutToInflate) ?: View(context)\n    onFragmentCreated(rootView)\n    return rootView\n}\n</code></pre>\n\n<p>If you're using inside an activity then instead use </p>\n\n<blockquote>\n  <p>applicationContext</p>\n</blockquote>\n\n<pre><code>val decorator = DividerItemDecoration(applicationContext, LinearLayoutManager.VERTICAL)\n            decorator.setDrawable(ContextCompat.getDrawable(applicationContext, R.drawable.file)!!)\n            recycler_view.addItemDecoration(decorator)\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11068, "favorite_count": 2, "accepted_answer_id": 57886332, "answer_count": 2, "score": 6, "last_activity_date": 1568197504, "creation_date": 1568194240, "last_edit_date": 1568196737, "question_id": 57886100, "link": "https://stackoverflow.com/questions/57886100/how-to-add-item-divider-for-recyclerview-in-kotlin", "title": "How to add item divider for RecyclerView in Kotlin", "body": "<p>I'm working on an app where I have a list with recyclerview and I want to add a divider for items. I have created the ItemDividerDecorator class and xml layout file but I'm not connecting to recycler view.</p>\n\n<p>I know how to do in java, something like this:</p>\n\n<pre><code>recyclerView.addItemDecoration(\n                new DividerItemDecoration(ContextCompat.getDrawable(getApplicationContext(),\n                        R.drawable.item_separator)));\n</code></pre>\n\n<p>but how can I do in Kotlin, I also tried to convert it in Android Studio but shows me a couples of errors. Here is my Decorator class:</p>\n\n<pre><code>    private val mdivider:Drawable\n    init{\n        this.mdivider = mdivider\n    }\n    override fun onDrawOver(canvas: Canvas, parent:RecyclerView, state:RecyclerView.State) {\n        val left = parent.getPaddingLeft()\n        val right = parent.getWidth() - parent.getPaddingRight()\n        val childCount = parent.getChildCount()\n        for (i in 0 until childCount)\n        {\n            val child = parent.getChildAt(i)\n            val params = child.getLayoutParams() as RecyclerView.LayoutParams\n            val top = child.getBottom() + params.bottomMargin\n            val bottom = top + mdivider.getIntrinsicHeight()\n            mdivider.setBounds(left, top, right, bottom)\n            mdivider.draw(canvas)\n        }\n    }\n</code></pre>\n\n<p>Any help is appreciated</p>\n"}, {"tags": ["kotlin", "orm", "dsl", "one-to-one"], "comments": [{"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1568196955, "post_id": 57885360, "comment_id": 102195812, "body": "Why do you put the user id into the user settings constructor? Make the <code>User#settings</code> writable and assign a new <code>UserSettings</code> object there"}, {"owner": {"reputation": 181, "user_id": 7994539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2g2mm.png?s=128&g=1", "display_name": "Marshall Walker", "link": "https://stackoverflow.com/users/7994539/marshall-walker"}, "reply_to_user": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1568197512, "post_id": 57885360, "comment_id": 102196069, "body": "You  cannot use a var with referrersOn"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 7994539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2g2mm.png?s=128&g=1", "display_name": "Marshall Walker", "link": "https://stackoverflow.com/users/7994539/marshall-walker"}, "edited": false, "score": 0, "creation_date": 1568200277, "post_id": 57887522, "comment_id": 102197499, "body": "This seems to work, for the id I&#39;m creating a create method in the companion object and using count() + 1 to get the next id  the code snippet is too long for a comment so if you want to look at it <a href=\"https://media.marshallwalker.ca/05a014e0\" rel=\"nofollow noreferrer\">media.marshallwalker.ca/05a014e0</a>"}, {"owner": {"reputation": 181, "user_id": 7994539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2g2mm.png?s=128&g=1", "display_name": "Marshall Walker", "link": "https://stackoverflow.com/users/7994539/marshall-walker"}, "edited": false, "score": 0, "creation_date": 1568201731, "post_id": 57887522, "comment_id": 102198227, "body": "One of the issues I&#39;ve run into is that i cannot call user.settings without being in a new transaction? I&#39;m using ktor and passing the User as a Principal then just responding to the call with user.settings.themeName but it&#39;s complaining that it&#39;s not in a transaction  <a href=\"https://media.marshallwalker.ca/8f66e581\" rel=\"nofollow noreferrer\">media.marshallwalker.ca/8f66e581</a>"}, {"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "reply_to_user": {"reputation": 181, "user_id": 7994539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2g2mm.png?s=128&g=1", "display_name": "Marshall Walker", "link": "https://stackoverflow.com/users/7994539/marshall-walker"}, "edited": false, "score": 0, "creation_date": 1568201944, "post_id": 57887522, "comment_id": 102198320, "body": "Yes, accessing entity properties outside of a transaction is not safe"}], "tags": [], "owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "is_accepted": true, "score": 1, "last_activity_date": 1568199103, "creation_date": 1568199103, "answer_id": 57887522, "question_id": 57885360, "link": "https://stackoverflow.com/questions/57885360/how-to-do-a-onetoone-relation-using-exposed/57887522#57887522", "title": "How to do a OneToOne relation using Exposed", "body": "<p>Here is a sample that I haven't tested:</p>\n\n<pre><code>object UserSettingsTable : IntIdTable(\"user_settings\") {\n    var themeName = varchar(\"theme_name\", 16).clientDefault {\"dark\"}\n}\n\nobject UserTable : IntIdTable(\"user\") {\n    val username = varchar(\"username\", 16)\n    val email = varchar(\"email\", 254)\n    val password = varchar(\"password_hash\", 60)\n    val settings = reference(\"settings\", UserSettingsTable)\n}\n\nclass UserSettings(id: EntityID&lt;Int&gt;) : IntEntity(id) {\n\n    companion object : IntEntityClass&lt;UserSettings&gt;(UserSettingsTable)\n\n    var themeName by UserSettingsTable.themeName\n}\n\nclass User(id: EntityID&lt;Int&gt;): IntEntity(id) {\n\n    companion object : IntEntityClass&lt;User&gt;(UserTable)\n\n    var username by UserTable.username\n    var email by UserTable.email\n    var password by UserTable.password\n    var settings by UserSettings referencedOn UserTable.settings\n}\n\nfun createUser(): User {\n    return User.new(1) {\n        email = \"email@gmail.com\"\n        username = \"Someone\"\n        password = \"test\"\n        settings = UserSettings.new(1) { themeName = \"dark\" }\n    }\n}\n</code></pre>\n\n<p>Mind that <code>referencedOn</code> is for simple references, while <code>referrersOn</code> is for collections. Also, there is <a href=\"https://github.com/JetBrains/Exposed/wiki/DAO#many-to-many-reference\" rel=\"nofollow noreferrer\">a limitation</a> in the Exposed</p>\n\n<blockquote>\n  <p>Creating the entity and the reference in the same transaction does only work if you set the id column manually. If you're using UUIDTables and UUIDEntity you can do it like this:</p>\n</blockquote>\n\n<pre><code>transaction {\n //only works with UUIDTable and UUIDEntity\n StarWarsFilm.new (UUID.randomUUID()){\n    ...\n    actors = SizedCollection(listOf(actor))\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 7994539, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2g2mm.png?s=128&g=1", "display_name": "Marshall Walker", "link": "https://stackoverflow.com/users/7994539/marshall-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 57887522, "answer_count": 1, "score": 1, "last_activity_date": 1568199103, "creation_date": 1568191471, "last_edit_date": 1568193546, "question_id": 57885360, "link": "https://stackoverflow.com/questions/57885360/how-to-do-a-onetoone-relation-using-exposed", "title": "How to do a OneToOne relation using Exposed", "body": "<p>I'm trying to do a OneToOne relation between two tables using Exposed, I've created a User table and a UserSettings Table, I'd like to have the User table reference the UserSettings table. My question is how do I create the reference and create a user that has referenced settings?</p>\n\n<p>UserTable</p>\n\n<pre><code>object UserTable : IntIdTable(\"user\") {\n    val username = varchar(\"username\", 16)\n    val email = varchar(\"email\", 254)\n    val password = varchar(\"password_hash\", 60)\n    val settings = reference(\"id\", UserSettingsTable)\n}\n</code></pre>\n\n<p>UserEntity</p>\n\n<pre><code>class User(id: EntityID&lt;Int&gt;): IntEntity(id), Principal {\n\n    companion object : IntEntityClass&lt;User&gt;(UserTable)\n\n    var username by UserTable.username\n    var email by UserTable.email\n    var password by UserTable.password\n    val settings by UserSettings referrersOn UserTable.settings\n}\n</code></pre>\n\n<p>SettingsTable</p>\n\n<pre><code>object UserSettingsTable : IntIdTable(\"user_settings\") {\n    var themeName = varchar(\"theme_name\", 16).clientDefault {\"dark\"}\n}\n</code></pre>\n\n<p>SettingsEntity</p>\n\n<pre><code>open class UserSettings(id: EntityID&lt;Int&gt;) : IntEntity(id) {\n\n    companion object : IntEntityClass&lt;UserSettings&gt;(UserSettingsTable)\n\n    var themeName by UserSettingsTable.themeName\n}\n</code></pre>\n\n<p>This is what I was attempting to do to create an entry</p>\n\n<pre><code>User.new {\n    email = \"email@gmail.com\"\n    username = \"Someone\"\n    password = \"test\"\n}.also { newUser -&gt;\n    UserSettings.new(newUser.id.value) {\n        themeName = \"dark\"\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "generics", "kotlin"], "comments": [{"owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "edited": false, "score": 0, "creation_date": 1568191378, "post_id": 57885112, "comment_id": 102192976, "body": "This usage seems correct for me if your response object is type of User : &quot;ResponseEntity&lt;ResponseObject&lt;User&gt;&gt;&quot;"}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1568191677, "post_id": 57885112, "comment_id": 102193121, "body": "btw you don&#39;t have to specify type at all <code>val response = testRestTemplate.postForEntity(&quot;&#47;users&quot;, user, ResponseObject::class.java)</code>"}, {"owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "edited": false, "score": 0, "creation_date": 1568198042, "post_id": 57885112, "comment_id": 102196321, "body": "What is the signature of the <code>testRestTemplate.postForEntity</code> method?"}], "answers": [{"tags": [], "owner": {"reputation": 13059, "user_id": 1990684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e640d858f5e34e4380cb749649504e3a?s=128&d=identicon&r=PG", "display_name": "DevZer0", "link": "https://stackoverflow.com/users/1990684/devzer0"}, "is_accepted": false, "score": 0, "last_activity_date": 1568194713, "creation_date": 1568194713, "answer_id": 57886236, "question_id": 57885112, "link": "https://stackoverflow.com/questions/57885112/how-to-satisfy-nested-generic-requirement-of-classt-in-kotlin/57886236#57886236", "title": "How to satisfy nested generic requirement of Class&lt;T&gt; in kotlin", "body": "<p>ok I managed to solve my problem using type casting using <code>when</code></p>\n\n<pre><code>@Test\n    fun testCreateUser() {\n        val user = User(id = null)\n        val response = testRestTemplate.postForEntity(\"/users\", user, ResponseObject::class.java)\n        val responseObject = response.body\n        when (val returnedUser = responseObject.model) {\n            is User -&gt; {\n                assertNotNull(returnedUser.id)\n                assertEquals(UserStatus.active, returnedUser.status)\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "is_accepted": false, "score": 0, "last_activity_date": 1568198552, "creation_date": 1568198552, "answer_id": 57887366, "question_id": 57885112, "link": "https://stackoverflow.com/questions/57885112/how-to-satisfy-nested-generic-requirement-of-classt-in-kotlin/57887366#57887366", "title": "How to satisfy nested generic requirement of Class&lt;T&gt; in kotlin", "body": "<p>If you can change the signature of the method then you may try something similar to the following:</p>\n\n<pre><code>class ResponseEntity&lt;T : Any&gt;(val body: T)\n\nclass ResponseObject&lt;T : Any&gt;(val model: T)\n\ndata class User(val id: Long, val status: String)\n\nfun &lt;M : Any, K : ResponseObject&lt;M&gt;&gt; postForEntity(paht: String, model: M): ResponseEntity&lt;K&gt; {\n    return TODO()\n}\n\nval response: ResponseEntity&lt;ResponseObject&lt;User&gt;&gt; = postForEntity(\"/users\", User(1, \"good\"))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13059, "user_id": 1990684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e640d858f5e34e4380cb749649504e3a?s=128&d=identicon&r=PG", "display_name": "DevZer0", "link": "https://stackoverflow.com/users/1990684/devzer0"}, "edited": false, "score": 0, "creation_date": 1568277727, "post_id": 57894140, "comment_id": 102225934, "body": "thanks, but i am getting <code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to model.User</code>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 13059, "user_id": 1990684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e640d858f5e34e4380cb749649504e3a?s=128&d=identicon&r=PG", "display_name": "DevZer0", "link": "https://stackoverflow.com/users/1990684/devzer0"}, "edited": false, "score": 0, "creation_date": 1568282467, "post_id": 57894140, "comment_id": 102228503, "body": "Then this depends on the library you use, sorry."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568222998, "creation_date": 1568222998, "answer_id": 57894140, "question_id": 57885112, "link": "https://stackoverflow.com/questions/57885112/how-to-satisfy-nested-generic-requirement-of-classt-in-kotlin/57894140#57894140", "title": "How to satisfy nested generic requirement of Class&lt;T&gt; in kotlin", "body": "<p>You could use </p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nval response = testRestTemplate.postForEntity(\"/users\", user, ResponseObject::class.java as Class&lt;ResponseObject&lt;User&gt;&gt;)\n</code></pre>\n\n<p>Or a helper function if you need it more than once for different parameters</p>\n\n<pre><code>inline fun &lt;reified T&gt; classOf&lt;T&gt;() = T::class.java\n\nval response = testRestTemplate.postForEntity(\"/users\", user, classOf&lt;ResponseObject&lt;User&gt;&gt;())\n</code></pre>\n\n<p>(in both cases the type <code>ResponseEntity&lt;ResponseObject&lt;User&gt;&gt;</code> should be inferred)</p>\n"}], "owner": {"reputation": 13059, "user_id": 1990684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e640d858f5e34e4380cb749649504e3a?s=128&d=identicon&r=PG", "display_name": "DevZer0", "link": "https://stackoverflow.com/users/1990684/devzer0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1568230084, "creation_date": 1568190529, "last_edit_date": 1568230084, "question_id": 57885112, "link": "https://stackoverflow.com/questions/57885112/how-to-satisfy-nested-generic-requirement-of-classt-in-kotlin", "title": "How to satisfy nested generic requirement of Class&lt;T&gt; in kotlin", "body": "<p>I am trying to call a method where it's signature includes a parameter of <code>Class&lt;T&gt;</code></p>\n\n<p>below is the sample code in kotlin</p>\n\n<pre><code>val response: ResponseEntity&lt;ResponseObject&lt;*&gt;&gt; = testRestTemplate.postForEntity(\"/users\", user, ResponseObject::class.java)\n</code></pre>\n\n<p>what i am trying to achieve is to get rid of the <code>&lt;*&gt;</code> in responseObject and let it be </p>\n\n<pre><code>val response: ResponseEntity&lt;ResponseObject&lt;User&gt;&gt; = ???\n</code></pre>\n\n<p>but i am not sure on what is the correct syntax to provide to satisfy the <code>Class&lt;T&gt;</code> requirement </p>\n\n<p>i tried</p>\n\n<pre><code>ResponseObject&lt;User::class.java&gt;::class.java\n</code></pre>\n\n<p>but that is not a valid syntax. any pointers?</p>\n\n<p>The real problem is if i use <code>*</code> i don't know how exactly to infer the <code>User</code> instance from there correctly. </p>\n"}, {"tags": ["kotlin", "arguments", "variadic-functions"], "answers": [{"comments": [{"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 1, "creation_date": 1568203752, "post_id": 57884891, "comment_id": 102199276, "body": "Good idea. This is usually a good approach to take when you have functions with boolean parameters."}], "tags": [], "owner": {"reputation": 1574, "user_id": 8103819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QBJQK.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/8103819/daniel"}, "is_accepted": false, "score": 9, "last_activity_date": 1568189678, "creation_date": 1568189678, "answer_id": 57884891, "question_id": 57884411, "link": "https://stackoverflow.com/questions/57884411/if-first-param-is-true-then-must-pass-second-param-in-function/57884891#57884891", "title": "If first param is true, then must pass second param in function", "body": "<p>Instead of trying to make code that nobody will be able to understand, why not divide your function in <code>getActiveCartTestSync</code> and <code>getActiveCartTestAsync</code>. The thing you want might be achievable by using reflection, however you make the code much more complicated without any reason.</p>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568262245, "creation_date": 1568187935, "last_edit_date": 1568262245, "question_id": 57884411, "link": "https://stackoverflow.com/questions/57884411/if-first-param-is-true-then-must-pass-second-param-in-function", "title": "If first param is true, then must pass second param in function", "body": "<p>I have my custom Kotlin's function:</p>\n\n<pre><code>fun getActiveCartTest(isAsync: Boolean = false, vararg callback: Callback&lt;Cart&gt; ): TransportResponse? {\n...\n}\n</code></pre>\n\n<p>It has one <strong>default</strong> param (<code>isAsync</code>) and one <strong>optional</strong> (<code>vararg</code>) callback param.\nI can call this function from java like this:</p>\n\n<pre><code>1.  TransportResponse transportResponse = TransportService.INSTANCE.getActiveCartTest();\n2.  TransportResponse transportResponse = TransportService.INSTANCE.getActiveCartTest(false);\n3.  TransportResponse transportResponse = TransportService.INSTANCE.getActiveCartTest(true);\n4.  TransportService.INSTANCE.getActiveCartTest(true, new DefaultRestClientCallback&lt;Cart&gt;() {\n            @Override\n            public void onTransportResponse(@NotNull TransportResponse transportResponse) {\n\n            }\n        });\n</code></pre>\n\n<p>Nice, it works.\nBut, when I use this call:</p>\n\n<pre><code>TransportResponse transportResponse = TransportService.INSTANCE.getActiveCartTest(true);\n</code></pre>\n\n<p>I get a compile error.</p>\n\n<p>What I mean. When client wants to call <strong>async</strong> call of function <code>getActiveCartTest</code> then it <strong>MUST</strong> use two params: <code>isAsync</code> <strong>AND</strong> <code>callback</code>.</p>\n\n<p>As you can see in my function <code>getActiveCartTest</code> the client can omit second param (<code>callback</code>). It's not correct.</p>\n\n<p>I need if first param <code>isAsync = true</code>, then user also <strong>must</strong> pass second param callback. And if first param <code>isAsync = false</code> then user can omit second param (<code>callback</code>)</p>\n\n<p>Is it possible in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-listview"], "comments": [{"owner": {"reputation": 927, "user_id": 5989449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3871791d7942dae0580eb8c0b98add66?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/5989449/ankit"}, "edited": false, "score": 0, "creation_date": 1568187516, "post_id": 57884246, "comment_id": 102191004, "body": "use StaggeredGridlayout"}], "answers": [{"tags": [], "owner": {"reputation": 9905, "user_id": 964887, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gLu5N.jpg?s=128&g=1", "display_name": "just_user", "link": "https://stackoverflow.com/users/964887/just-user"}, "is_accepted": true, "score": 0, "last_activity_date": 1568187527, "creation_date": 1568187527, "answer_id": 57884320, "question_id": 57884246, "link": "https://stackoverflow.com/questions/57884246/create-custom-listview-with-two-images-in-parallel-in-kotlin-android/57884320#57884320", "title": "Create custom listview with two images in parallel in kotlin android", "body": "<p>You are looking for RecyclerView with a StaggeredGridLayoutManager. Here is a tutorial for that: <a href=\"https://abhiandroid.com/materialdesign/recyclerview-as-staggered-grid-example.html\" rel=\"nofollow noreferrer\">https://abhiandroid.com/materialdesign/recyclerview-as-staggered-grid-example.html</a> </p>\n"}], "owner": {"reputation": 17, "user_id": 12051554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf20e5bcf2577fd8390c77591378aef?s=128&d=identicon&r=PG&f=1", "display_name": "Bablu Gaur", "link": "https://stackoverflow.com/users/12051554/bablu-gaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 57884320, "answer_count": 1, "score": 0, "last_activity_date": 1568199595, "creation_date": 1568187239, "last_edit_date": 1568199595, "question_id": 57884246, "link": "https://stackoverflow.com/questions/57884246/create-custom-listview-with-two-images-in-parallel-in-kotlin-android", "title": "Create custom listview with two images in parallel in kotlin android", "body": "<p>I just started working on android Kotlin. I want to build an android application in which endless-scroll have a custom list-view. Now I want this list view to display two images box parallel with un-even height. Please ref below image for clear understating.</p>\n\n<p><a href=\"https://drive.google.com/open?id=1Of5qL62tBGM48f5uk0AyduZmi3R2dUTY\" rel=\"nofollow noreferrer\">custom listview</a>!</p>\n\n<p><strong>Note</strong>: Due to new user with less reputation, I am not able to attache image so sharing image link</p>\n"}, {"tags": ["java", "kotlin", "smartcardio"], "comments": [{"owner": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 1, "creation_date": 1568181958, "post_id": 57882888, "comment_id": 102188714, "body": "I don&#39;t know Kotlin, but &quot;unresolved reference&quot; sounds wrong. For a missing namespace the Java error is &quot;package javax.smartcardio does not exist&quot;, with the fully-qualified package name. Your code is definitely right? It&#39;s probably also worth checking the contents of the javax.smartcardio.jar to make sure it does have the classes you&#39;re looking for."}, {"owner": {"reputation": 282, "user_id": 8139410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpbSF.png?s=128&g=1", "display_name": "Pemassi", "link": "https://stackoverflow.com/users/8139410/pemassi"}, "reply_to_user": {"reputation": 31408, "user_id": 243245, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/aed5c13647d581ae231f019a886e05a8?s=128&d=identicon&r=PG", "display_name": "Rup", "link": "https://stackoverflow.com/users/243245/rup"}, "edited": false, "score": 0, "creation_date": 1568360377, "post_id": 57882888, "comment_id": 102256470, "body": "I guess there is a problem with Kotlin when I code with Java it works, but Kotlin not."}], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 11868214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4003b7684e1377c1615972c3839e9e0?s=128&d=identicon&r=PG", "display_name": "Ivan Krizsan", "link": "https://stackoverflow.com/users/11868214/ivan-krizsan"}, "reply_to_user": {"reputation": 282, "user_id": 8139410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpbSF.png?s=128&g=1", "display_name": "Pemassi", "link": "https://stackoverflow.com/users/8139410/pemassi"}, "edited": false, "score": 2, "creation_date": 1568183213, "post_id": 57883054, "comment_id": 102189121, "body": "Note that the module declaration I showed would in Java be located in a special file named module-info.java and thus have nothing to do with a dependency-management system like Maven or Gradle."}, {"owner": {"reputation": 282, "user_id": 8139410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpbSF.png?s=128&g=1", "display_name": "Pemassi", "link": "https://stackoverflow.com/users/8139410/pemassi"}, "edited": false, "score": 0, "creation_date": 1568186996, "post_id": 57883054, "comment_id": 102190758, "body": "Is there another way to fix this problem? This way makes the code get errors everywhere."}, {"owner": {"reputation": 282, "user_id": 8139410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpbSF.png?s=128&g=1", "display_name": "Pemassi", "link": "https://stackoverflow.com/users/8139410/pemassi"}, "edited": false, "score": 0, "creation_date": 1568189246, "post_id": 57883054, "comment_id": 102191861, "body": "I don&#39;t know why I did your solution but not working, so what I did is use java only for  smartcardio. Then it&#39;s working.. Thank you!"}, {"owner": {"reputation": 2045, "user_id": 2036983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YXiC8.jpg?s=128&g=1", "display_name": "Jonathan Rosenne", "link": "https://stackoverflow.com/users/2036983/jonathan-rosenne"}, "edited": false, "score": 0, "creation_date": 1576602866, "post_id": 57883054, "comment_id": 104950214, "body": "I have an umodularized project. It doesn&#39;t find the package."}], "tags": [], "owner": {"reputation": 304, "user_id": 11868214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4003b7684e1377c1615972c3839e9e0?s=128&d=identicon&r=PG", "display_name": "Ivan Krizsan", "link": "https://stackoverflow.com/users/11868214/ivan-krizsan"}, "is_accepted": false, "score": 6, "last_activity_date": 1568189086, "last_edit_date": 1568189086, "creation_date": 1568182201, "answer_id": 57883054, "question_id": 57882888, "link": "https://stackoverflow.com/questions/57882888/javax-smartcardio-is-not-found-on-open-jdk-11redhat/57883054#57883054", "title": "javax.smartcardio.* is not found on Open JDK 11(Redhat)", "body": "<p>I think you need to include the java.smartcard module into the module in which the code that uses the unresolved classes you list is located.\nI created a small Kotlin project named kotlinsmartcard with  the following code in the se.ivankrizsan package:</p>\n\n<pre><code>fun main() {\n    val theCardTerminal: CardTerminal;\n    println(\"Hello World!\")\n}\n</code></pre>\n\n<p>In the source root, that is not in any package, I have a file named module-info.java with the following contents:<br/></p>\n\n<pre><code>module kotlinsmartcard {\n    requires kotlin.stdlib;\n    requires java.smartcardio;\n}\n</code></pre>\n\n<p>I am able to run the above program using JDK 11.0.3-zulu (used this since I do not have the RedHat JDK at hand).\nThis way my entire kotlinsmartcard project is one single module, in order to minimize the exposure to the Java module system, but I still need to have the \"requires java.smartcardio\" in order to not have an error at the variable declaration in the code. </p>\n"}, {"tags": [], "owner": {"reputation": 282, "user_id": 8139410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpbSF.png?s=128&g=1", "display_name": "Pemassi", "link": "https://stackoverflow.com/users/8139410/pemassi"}, "is_accepted": true, "score": 0, "last_activity_date": 1580326569, "creation_date": 1580326569, "answer_id": 59974370, "question_id": 57882888, "link": "https://stackoverflow.com/questions/57882888/javax-smartcardio-is-not-found-on-open-jdk-11redhat/59974370#59974370", "title": "javax.smartcardio.* is not found on Open JDK 11(Redhat)", "body": "<p>Here is an alternative way. I just give up using JDK's SmartCard classes since it was hard to use JDK one on JDK 11 version. Instead of it, I used a library from Github.</p>\n\n<p>Here it is.</p>\n\n<p><a href=\"https://github.com/intarsys/smartcard-io\" rel=\"nofollow noreferrer\">https://github.com/intarsys/smartcard-io</a></p>\n"}], "owner": {"reputation": 282, "user_id": 8139410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpbSF.png?s=128&g=1", "display_name": "Pemassi", "link": "https://stackoverflow.com/users/8139410/pemassi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2571, "favorite_count": 1, "accepted_answer_id": 59974370, "answer_count": 2, "score": 3, "last_activity_date": 1580326569, "creation_date": 1568181030, "last_edit_date": 1568361846, "question_id": 57882888, "link": "https://stackoverflow.com/questions/57882888/javax-smartcardio-is-not-found-on-open-jdk-11redhat", "title": "javax.smartcardio.* is not found on Open JDK 11(Redhat)", "body": "<p>I am using Redhat's OpenJDK 11 to communicate with a smart card on the Windows. But I have a problem with compiling. It said cannot find javax.smartcardio library.</p>\n\n<blockquote>\n  <p>Enviornment : Redhat OpenJDK 11, Intellij, Kotlin, Gradle</p>\n</blockquote>\n\n<pre><code>&gt; Task :compileKotlin\ne: ~\\util\\SmartCard.kt: (7, 14): Unresolved reference: smartcardio\ne: ~\\util\\SmartCard.kt: (13, 25): Unresolved reference: CardTerminal\ne: ~\\util\\SmartCard.kt: (13, 41): Unresolved reference: TerminalFactory\ne: ~\\util\\SmartCard.kt: (19, 51): Unresolved reference: CardTerminal\ne: ~\\util\\SmartCard.kt: (25, 43): Unresolved reference: CardTerminal\ne: ~\\util\\SmartCard.kt: (35, 23): Unresolved reference: Card\ne: ~\\util\\SmartCard.kt: (36, 30): Unresolved reference: CardChannel\ne: ~\\util\\SmartCard.kt: (44, 52): Unresolved reference: CardException\ne: ~\\util\\SmartCard.kt: (51, 19): Unresolved reference: CardException\ne: ~\\util\\SmartCard.kt: (54, 27): Unresolved reference: CommandAPDU\n</code></pre>\n\n<p>Also, I already looked classpath, and there is 'java.smartcardio' I attached a screenshot below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qBVjn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBVjn.png\" alt=\"classpath\"></a></p>\n\n<p>What should I do?</p>\n\n<p>ADD----------------</p>\n\n<p>Wired thing is in Java code, it is working on same project. I think there is a problem with Kotllin environment settings.</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 114, "user_id": 11951046, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rbD-xlXu23Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reaNRqERlXCdJQb_-bFqIfLpC4dDA/photo.jpg?sz=128", "display_name": "Ferrux Nebiyev", "link": "https://stackoverflow.com/users/11951046/ferrux-nebiyev"}, "edited": false, "score": 1, "creation_date": 1568179196, "post_id": 57882382, "comment_id": 102187807, "body": "<a href=\"https://stackoverflow.com/questions/53987359/gradle-couldnt-connect-to-kotlin-daemon-on-windows\" title=\"gradle couldnt connect to kotlin daemon on windows\">stackoverflow.com/questions/53987359/&hellip;</a>"}, {"owner": {"reputation": 177, "user_id": 7840973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1333490440080204/picture?type=large", "display_name": "Sagar Bandamwar", "link": "https://stackoverflow.com/users/7840973/sagar-bandamwar"}, "edited": false, "score": 0, "creation_date": 1568198707, "post_id": 57882382, "comment_id": 102196680, "body": "please try adding this line to gradle if you did&#39;nt apply plugin: &#39;kotlin-kapt&#39; hope this will help you"}, {"owner": {"reputation": 1393, "user_id": 4864104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-3dZLUEjal04/AAAAAAAAAAI/AAAAAAAADTs/tXVuYM1Ogh0/photo.jpg?sz=128", "display_name": "Jahir Fiquitiva", "link": "https://stackoverflow.com/users/4864104/jahir-fiquitiva"}, "reply_to_user": {"reputation": 177, "user_id": 7840973, "user_type": "registered", "profile_image": "https://graph.facebook.com/1333490440080204/picture?type=large", "display_name": "Sagar Bandamwar", "link": "https://stackoverflow.com/users/7840973/sagar-bandamwar"}, "edited": false, "score": 0, "creation_date": 1568212041, "post_id": 57882382, "comment_id": 102204083, "body": "@SagarBandamwar I did but it didn&#39;t fix anything <a href=\"https://travis-ci.org/jahirfiquitiva/Frames/builds/583683412\" rel=\"nofollow noreferrer\">travis-ci.org/jahirfiquitiva/Frames/builds/583683412</a>"}, {"owner": {"reputation": 1393, "user_id": 4864104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-3dZLUEjal04/AAAAAAAAAAI/AAAAAAAADTs/tXVuYM1Ogh0/photo.jpg?sz=128", "display_name": "Jahir Fiquitiva", "link": "https://stackoverflow.com/users/4864104/jahir-fiquitiva"}, "reply_to_user": {"reputation": 114, "user_id": 11951046, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rbD-xlXu23Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reaNRqERlXCdJQb_-bFqIfLpC4dDA/photo.jpg?sz=128", "display_name": "Ferrux Nebiyev", "link": "https://stackoverflow.com/users/11951046/ferrux-nebiyev"}, "edited": false, "score": 0, "creation_date": 1568212098, "post_id": 57882382, "comment_id": 102204122, "body": "@FerruxNebiyev that doesn&#39;t help. locally I&#39;m using mac and the CI uses ubuntu"}], "owner": {"reputation": 1393, "user_id": 4864104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-3dZLUEjal04/AAAAAAAAAAI/AAAAAAAADTs/tXVuYM1Ogh0/photo.jpg?sz=128", "display_name": "Jahir Fiquitiva", "link": "https://stackoverflow.com/users/4864104/jahir-fiquitiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568177938, "creation_date": 1568177938, "question_id": 57882382, "link": "https://stackoverflow.com/questions/57882382/android-app-build-failing-without-useful-logs", "title": "Android app build failing without useful logs", "body": "<p>I recently updated my app to use Gradle <code>3.5.0</code> and Kotlin <code>1.3.50</code></p>\n\n<p>Anyways, while building the app, the process fails with logs that I really don't understand and I can't find anything related to my code or something.</p>\n\n<p>Would you mind helping me figure out how to solve this issue? Thanks in advance \ud83d\ude4f\ud83c\udffc</p>\n\n<p>First error is</p>\n\n<pre><code>&gt; Task :library:kaptGenerateStubsDebugKotlin\nCould not perform incremental compilation: Could not connect to Kotlin compile daemon\nCould not connect to kotlin daemon. Using fallback strategy.\nwarning: flag is not supported by this version of the compiler: -Xallow-no-source-files\nwarning: flag is not supported by this version of the compiler: -Xjava-source-roots=/home/travis/build/jahirfiquitiva/Frames/library/build/generated/source/buildConfig/debug\nexception: java.lang.AbstractMethodError: org.jetbrains.kotlin.kapt3.Kapt3ComponentRegistrar$KaptComponentContributor.registerModuleComponents(Lorg/jetbrains/kotlin/container/StorageComponentContainer;Lorg/jetbrains/kotlin/resolve/TargetPlatform;Lorg/jetbrains/kotlin/descriptors/ModuleDescriptor;)V\n    at org.jetbrains.kotlin.frontend.di.InjectionKt.configureModule(injection.kt:60)\n    at org.jetbrains.kotlin.frontend.di.InjectionKt.configureModule(injection.kt:82)\n    at org.jetbrains.kotlin.frontend.java.di.InjectionKt$createContainerForLazyResolveWithJava$1.invoke(injection.kt:93)\n    at org.jetbrains.kotlin.frontend.java.di.InjectionKt$createContainerForLazyResolveWithJava$1.invoke(injection.kt)\n    at org.jetbrains.kotlin.container.DslKt.composeContainer(Dsl.kt:23)\n    at org.jetbrains.kotlin.resolve.TargetPlatformKt.createContainer(TargetPlatform.kt:191)\n    at org.jetbrains.kotlin.frontend.java.di.InjectionKt.createContainerForLazyResolveWithJava(injection.kt:92)\n    at org.jetbrains.kotlin.frontend.java.di.InjectionKt.createContainerForTopDownAnalyzerForJvm(injection.kt:145)\n    at org.jetbrains.kotlin.frontend.java.di.InjectionKt.createContainerForTopDownAnalyzerForJvm$default(injection.kt:144)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.createContainer(TopDownAnalyzerFacadeForJVM.kt:173)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:84)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:384)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:70)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:375)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyzeAndGenerate(KotlinToJVMBytecodeCompiler.kt:357)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileBunchOfSources(KotlinToJVMBytecodeCompiler.kt:258)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:205)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:57)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:96)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:52)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:93)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:71)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:39)\n    at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:204)\n    at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:196)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler$Companion.main(K2JVMCompiler.kt:348)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.kt)\n</code></pre>\n\n<p>Then the next errors are:</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':library:kaptGenerateStubsDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:166)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:163)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:156)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:108)\n    at org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionOutputsTaskExecuter.execute(ResolveBeforeExecutionOutputsTaskExecuter.java:67)\n    at org.gradle.api.internal.tasks.execution.ResolveAfterPreviousExecutionStateTaskExecuter.execute(ResolveAfterPreviousExecutionStateTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:94)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.gradle.api.GradleException: Internal compiler error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:15)\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:122)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:146)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runCompilerAsync(GradleKotlinCompilerRunner.kt:141)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runJvmCompilerAsync(GradleKotlinCompilerRunner.kt:81)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompilerAsync$kotlin_gradle_plugin(Tasks.kt:449)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompilerAsync$kotlin_gradle_plugin(Tasks.kt:359)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.executeImpl(Tasks.kt:316)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:288)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\n    at org.gradle.api.internal.project.taskfactory.IncrementalTaskInputsTaskAction.doExecute(IncrementalTaskInputsTaskAction.java:47)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\n    at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$5.run(ExecuteActionsTaskExecuter.java:476)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:461)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:444)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:93)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:237)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:32)\n    at java.util.Optional.map(Optional.java:215)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:32)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:58)\n    at org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:35)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:33)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:39)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:73)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:54)\n    at org.gradle.internal.execution.steps.CatchExceptionStep.execute(CatchExceptionStep.java:35)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:45)\n    at org.gradle.internal.execution.steps.SnapshotOutputsStep.execute(SnapshotOutputsStep.java:31)\n    at org.gradle.internal.execution.steps.CacheStep.executeWithoutCache(CacheStep.java:208)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:70)\n    at org.gradle.internal.execution.steps.CacheStep.execute(CacheStep.java:45)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:49)\n    at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:43)\n    at org.gradle.internal.execution.steps.StoreSnapshotsStep.execute(StoreSnapshotsStep.java:32)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:24)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:96)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$0(SkipUpToDateStep.java:89)\n    at java.util.Optional.map(Optional.java:215)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:54)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:26)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:90)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:48)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:69)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:47)\n    at org.gradle.internal.execution.impl.DefaultWorkExecutor.execute(DefaultWorkExecutor.java:33)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:140)\n    ... 37 more\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 2239, "user_id": 4853552, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EBNRsIySz2w/AAAAAAAAAAI/AAAAAAAAALs/G47K31XXJkA/photo.jpg?sz=128", "display_name": "Shubham Jain", "link": "https://stackoverflow.com/users/4853552/shubham-jain"}, "edited": false, "score": 2, "creation_date": 1568177471, "post_id": 57882307, "comment_id": 102187344, "body": "Share the crash logs what exception you are getting"}, {"owner": {"reputation": 1223, "user_id": 5766460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e509c2a1c9cecaff5d20b3c134e61469?s=128&d=identicon&r=PG&f=1", "display_name": "MarkWalczak", "link": "https://stackoverflow.com/users/5766460/markwalczak"}, "edited": false, "score": 0, "creation_date": 1568180155, "post_id": 57882307, "comment_id": 102188139, "body": "Do you have the database RULES set up wright?"}, {"owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "edited": false, "score": 0, "creation_date": 1568181024, "post_id": 57882307, "comment_id": 102188418, "body": "please add a screenshot of your database to the question"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568188323, "post_id": 57882307, "comment_id": 102191403, "body": "If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please add your database structure as a JSON file or at least as a screenshot. Please also responde with @AlexMamo"}, {"owner": {"reputation": 43, "user_id": 10049173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jCe808lznYs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r_8XNLcM_ZDanADpszLSl5S3ycDw/mo/photo.jpg?sz=128", "display_name": "Dele Johnson", "link": "https://stackoverflow.com/users/10049173/dele-johnson"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568218919, "post_id": 57882307, "comment_id": 102207888, "body": "Hi @AlexMamo, I have edited my question as requested."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568219273, "post_id": 57882307, "comment_id": 102208061, "body": "@DeleJohnson Please also add the .XML file."}, {"owner": {"reputation": 43, "user_id": 10049173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jCe808lznYs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r_8XNLcM_ZDanADpszLSl5S3ycDw/mo/photo.jpg?sz=128", "display_name": "Dele Johnson", "link": "https://stackoverflow.com/users/10049173/dele-johnson"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568225868, "post_id": 57882307, "comment_id": 102210770, "body": "@AlexMamo added!"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568226346, "post_id": 57882307, "comment_id": 102210991, "body": "@DeleJohnson At which exact line of code are you getting that error?"}, {"owner": {"reputation": 43, "user_id": 10049173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jCe808lznYs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r_8XNLcM_ZDanADpszLSl5S3ycDw/mo/photo.jpg?sz=128", "display_name": "Dele Johnson", "link": "https://stackoverflow.com/users/10049173/dele-johnson"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568229395, "post_id": 57882307, "comment_id": 102212367, "body": "@AlexMamo The error stems from my displayMessage() function called in onStart(). I think I am getting the wrong path to the db children for my &#39;messages&#39; node. I would like to know how to get the reference to the children created by &#39;mDatabase!!.push().key&#39;"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1568230493, "post_id": 57882307, "comment_id": 102212798, "body": "I see a possible problem that can lead you to that error. I&#39;ll write you an answer right away."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10049173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jCe808lznYs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r_8XNLcM_ZDanADpszLSl5S3ycDw/mo/photo.jpg?sz=128", "display_name": "Dele Johnson", "link": "https://stackoverflow.com/users/10049173/dele-johnson"}, "edited": false, "score": 0, "creation_date": 1568234894, "post_id": 57895868, "comment_id": 102214305, "body": "I changed code as per your answer and now I got error:   2019-09-11 21:40:01.000 23200-23200/com.lyricsnigeria.lyricsnigeria E/RecyclerView: No adapter attached; skipping layout 2019-09-11 21:40:01.220 23200-23200/com.lyricsnigeria.lyricsnigeria E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.lyricsnigeria.lyricsnigeria, PID: 23200     com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.lyricsnigeria.lyricsnigeria.MessageAdapter"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 43, "user_id": 10049173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jCe808lznYs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r_8XNLcM_ZDanADpszLSl5S3ycDw/mo/photo.jpg?sz=128", "display_name": "Dele Johnson", "link": "https://stackoverflow.com/users/10049173/dele-johnson"}, "edited": false, "score": 0, "creation_date": 1568276803, "post_id": 57895868, "comment_id": 102225467, "body": "That is only a warning and is typically happening because of <b><a href=\"https://stackoverflow.com/questions/54677804/firebaserecycler-view-no-adater-attached-skipping-layout/54686007#54686007\">this</a></b>."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 1, "last_activity_date": 1568231211, "creation_date": 1568231211, "answer_id": 57895868, "question_id": 57882307, "link": "https://stackoverflow.com/questions/57882307/i-am-trying-to-get-the-correct-reference-to-my-firebase-database-child-and-set-t/57895868#57895868", "title": "I am trying to get the correct reference to my Firebase Database child and set the values in my RecyclerView but I am having some issues", "body": "<p>The problem in your code lies in the fact that the name of the fields in your <code>MessageAdapter</code> class are different than the name of the properties in your database. You have in your <code>MessageAdapter</code> class three fields named <code>userName</code>, <code>userMessage</code> and <code>msgTime</code> while in the database I see that the names are different, <code>name</code>, <code>message</code> and <code>time</code> and this is <strong>not</strong> correct. The names <strong>must</strong> match.</p>\n\n<p>A solution might be to change the name of the fields in your <code>MessageAdapter</code> class like this:</p>\n\n<pre><code>class MessageAdapter {\n    var name:String? = null\n    var message:String? = null\n    var time:String? = null\n\n    constructor(name:String, message:String, time:String) {\n        this.name = name\n        this.message = message\n        this.time = time\n\n    }\n    constructor() {}\n}\n</code></pre>\n\n<p>And your problem will be solved or you can use an annotation</p>\n\n<pre><code>class MessageAdapter {\n    @get:PropertyName(\"name\")\n    @set:PropertyName(\"name\")\n    var userName:String? = null\n    @get:PropertyName(\"message\")\n    @set:PropertyName(\"message\")\n    var userMessage:String? = null\n    @get:PropertyName(\"time\")\n    @set:PropertyName(\"time\")\n    var msgTime:String? = null\n\n    constructor(userName:String, userMessage:String, msgTime:String) {\n        this.userName = userName\n        this.userMessage = userMessage\n        this.msgTime = msgTime\n\n    }\n    constructor() {}\n}\n</code></pre>\n\n<p>And you are geeting the following error:</p>\n\n<blockquote>\n  <p>E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.</p>\n</blockquote>\n\n<p>Because you are trying to scroll to last position which actually does not exist since there are no items displayed in your <code>RecyclerView</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 10049173, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jCe808lznYs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r_8XNLcM_ZDanADpszLSl5S3ycDw/mo/photo.jpg?sz=128", "display_name": "Dele Johnson", "link": "https://stackoverflow.com/users/10049173/dele-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 57895868, "answer_count": 1, "score": 1, "last_activity_date": 1568231211, "creation_date": 1568177346, "last_edit_date": 1568225820, "question_id": 57882307, "link": "https://stackoverflow.com/questions/57882307/i-am-trying-to-get-the-correct-reference-to-my-firebase-database-child-and-set-t", "title": "I am trying to get the correct reference to my Firebase Database child and set the values in my RecyclerView but I am having some issues", "body": "<p>I am trying to populate my RecyclerView ViewHolder but I seem to be having difficulties. I think it may because of incorrect db reference but I am not quite sure what I am doing wrong.</p>\n\n<p>I have tried using the datasnapshot from childEventListener to retrieve the values from my firebase db and pass to the RecyclerView but unfortunately have not been successful</p>\n\n<pre><code>\n    private var mAuth: FirebaseAuth? = null\n    private var mChatKey: String? = null\n    private var mDatabase: DatabaseReference? = null\n    private var mMsgRef: DatabaseReference? = null\n\n    private var mRecyclerView: RecyclerView? = null\n\n    private var inputMsg: EditText? = null\n    private var sendMsgBtn: ImageView? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_chat)\n\n        mChatKey = intent.extras!!.getString(\"Chat_id\")\n\n        mAuth = FirebaseAuth.getInstance()\n        mDatabase = FirebaseDatabase.getInstance().reference.child(\"Chat\").child(mChatKey!!).child(\"messages\")\n\n\n        val toolbar: Toolbar = findViewById(R.id.chat_toolbar) //make toolbar value and get xml toolbar id\n        toolbar.title = \"Lyrics Nigeria\"\n        setSupportActionBar(toolbar)\n        if (supportActionBar != null) {\n            supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n            supportActionBar!!.setDisplayShowHomeEnabled(true)\n        }//set back button on toolbar\n\n\n        inputMsg = findViewById(R.id.chat_msg_edit)\n        sendMsgBtn = findViewById(R.id.chat_send_btn)\n\n\n        sendMsgBtn!!.setOnClickListener {\n            saveMsgToDatabase()\n            inputMsg!!.text = null\n        }\n\n        mRecyclerView = findViewById(R.id.chat_recycler_view)\n        mRecyclerView!!.layoutManager = LinearLayoutManager(this)\n    }\n\n    override fun onStart() {\n        super.onStart()\n        mDatabase!!.addChildEventListener(object : ChildEventListener {//set lyrics body to firebase database value\n\n            override fun onChildAdded(dataSnapshot: DataSnapshot, p1: String?) {\n                if (dataSnapshot.exists()){\n                    Toasty.normal(this@ChatActivity, dataSnapshot.child(\"message\").toString()).show()\n                    displayMessage()\n                }\n\n            }\n\n            override fun onChildChanged(dataSnapshot: DataSnapshot, p1: String?) {\n            }\n\n            override fun onChildMoved(dataSnapshot: DataSnapshot, p1: String?) {\n            }\n\n            override fun onChildRemoved(dataSnapshot: DataSnapshot) {\n            }\n            override fun onCancelled(databaseError: DatabaseError) {\n            }\n        })\n    }\n\n    private fun saveMsgToDatabase() {\n        val messageKey = mDatabase!!.push().key\n        val message = inputMsg!!.text.toString()\n        val dateTime = SimpleDateFormat(\"MMM dd, yyyy HH:mm a\", Locale.getDefault()).format(Date())\n\n        val allMessageKey: HashMap&lt;String, Any&gt; = HashMap()\n        mDatabase!!.updateChildren(allMessageKey)\n        mMsgRef = mDatabase!!.child(messageKey!!)\n\n        val msgInfoMap: HashMap&lt;String, Any&gt; = HashMap()\n        msgInfoMap.put(\"name\", mAuth!!.currentUser!!.displayName.toString())\n        msgInfoMap.put(\"message\", message)\n        msgInfoMap.put(\"time\", dateTime)\n        mMsgRef!!.updateChildren(msgInfoMap)\n\n\n    }\n\n    private fun displayMessage() {\n         val mDatabaseMsgs = mDatabase!!.push().key\n        val mRef = mDatabase!!.child(mDatabaseMsgs!!)\n        val firebaseRecyclerAdapter = object : FirebaseRecyclerAdapter&lt;MessageAdapter, ChatViewHolder&gt;(MessageAdapter::class.java, R.layout.layout_listitem_inmsg_chat, ChatViewHolder::class.java, mRef) {\n         override fun populateViewHolder(viewHolder: ChatViewHolder, model: MessageAdapter, position: Int) {\n\n             viewHolder.setName(model.userName!!)\n             viewHolder.setMessage(model.userMessage!!)\n             viewHolder.setTime(model.msgTime!!)\n\n         }\n     }\n     mRecyclerView!!.adapter = firebaseRecyclerAdapter\n    }\n\n\n    class ChatViewHolder(val mView: View) : RecyclerView.ViewHolder(mView) {\n        fun setName(name: String) {\n            val userName = mView.findViewById&lt;View&gt;(R.id.user_display_text) as TextView\n            userName.text = name\n        }\n\n        fun setMessage(message: String) {\n            val userMessage = mView.findViewById&lt;View&gt;(R.id.msg_display_text) as TextView\n            userMessage.text = message\n        }\n\n        fun setTime(time: String) {\n            val msgTime = mView.findViewById&lt;View&gt;(R.id.time_display_text) as TextView\n            msgTime.text = time\n        }\n    }\n}\n</code></pre>\n\n<p>The app crashes when I enter the above code and only way I can reach the db values so far is by using the childEventListener but can't populate viewHolder.\nWill appreciate any help. Thanks.</p>\n\n<p>Below is the error report:</p>\n\n<pre><code>2019-09-11 17:08:42.290 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:42.347 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:42.453 10677-10677/com.lyricsnigeria.lyricsnigeria E/RecyclerView: No adapter attached; skipping layout\n2019-09-11 17:08:43.283 6961-7153/? E/native: personalized-decoder.cc:832 Cannot create punctuation prediction model.\n2019-09-11 17:08:43.283 6961-7153/? E/native: personalized-decoder.cc:839 Cannot create graph rescoring model.\n2019-09-11 17:08:43.386 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:43.717 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:44.204 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:44.213 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:44.223 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:44.284 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:44.368 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:44.547 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:48.806 11188-11188/? E/ACRA: Skipping ANR Detector for process: com.instagram.android:mqtt\n2019-09-11 17:08:50.051 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:50.414 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:50.635 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:50.823 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:51.465 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:52.501 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:52.523 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:52.613 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:52.656 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:52.696 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n2019-09-11 17:08:52.882 6961-6961/? E/RecyclerView: Cannot scroll to position a LayoutManager set. Call setLayoutManager with a non-null argument.\n</code></pre>\n\n<p>ChatActivity xml:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/color4\"\n    android:keepScreenOn=\"false\"\n    tools:context=\".ChatActivity\"\n    android:id=\"@+id/chat_recycler_lyt\"&gt;\n\n\n    &lt;include\n        android:id=\"@+id/chat_toolbar\"\n        layout=\"@layout/toolbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/chat_recycler_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:overScrollMode=\"never\"\n            android:layout_above=\"@+id/input_msg_lyt\"\n            android:layout_below=\"@+id/chat_toolbar\"\n        tools:listitem=\"@layout/layout_listitem_inmsg_chat\"/&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/input_msg_lyt\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:orientation=\"horizontal\"\n        android:background=\"@color/colorBackground\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/chat_msg_edit\"\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@drawable/edit_text_bg2\"\n            android:padding=\"10dp\"\n            android:layout_marginTop=\"8dp\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginLeft=\"20dp\"\n            android:layout_marginStart=\"20dp\"\n            android:hint=\"@string/start_typing\"\n            android:singleLine=\"false\"\n            android:inputType=\"textCapSentences|textMultiLine\"\n            android:layout_toLeftOf=\"@+id/chat_send_btn\"\n            android:layout_toStartOf=\"@+id/chat_send_btn\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/chat_send_btn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            app:srcCompat=\"@drawable/ic_send_black_24dp\"\n            android:layout_gravity=\"center\"\n            android:layout_margin=\"8dp\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_alignParentEnd=\"true\" /&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n</code></pre>\n\n<p>list_item xml:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"300dp\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:layout_gravity=\"start|bottom\"\n    android:layout_margin=\"5dp\"\n    android:background=\"@drawable/chat_bg\"&gt;\n        &lt;TextView\n            android:id=\"@+id/user_display_text\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"5dp\"\n            android:padding=\"2dp\"\n            android:textAllCaps=\"false\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"12sp\"\n            android:layout_marginLeft=\"5dp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/msg_display_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"2dp\"\n            android:layout_marginLeft=\"2dp\"\n            android:padding=\"10dp\"\n            android:textAllCaps=\"false\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"16sp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/time_display_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"15dp\"\n            android:layout_marginRight=\"15dp\"\n            android:padding=\"2dp\"\n            android:textAllCaps=\"false\"\n            android:textColor=\"@color/colorBlack\"\n            android:textSize=\"12sp\"\n            android:layout_gravity=\"end|bottom\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Adapter class:</p>\n\n<pre><code>class MessageAdapter {\n    var userName:String? = null\n    var userMessage:String? = null\n    var msgTime:String? = null\n\n    constructor(userName:String, userMessage:String, msgTime:String) {\n        this.userName = userName\n        this.userMessage = userMessage\n        this.msgTime = msgTime\n\n    }\n    constructor() {}\n}\n</code></pre>\n\n<p>And the screenshot of my db:\n<a href=\"https://i.stack.imgur.com/B1ctx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B1ctx.png\" alt=\"firebase db chat\"></a></p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568178949, "post_id": 57882263, "comment_id": 102187719, "body": "So if I use Retrofit 2.6.0, I don&#39;t need to use Deferred? But how can I use await then?"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568181006, "post_id": 57882263, "comment_id": 102188411, "body": "a suspend function can be called in any other suspend fucntion or in a coroutine. see this blog post <a href=\"https://proandroiddev.com/suspend-what-youre-doing-retrofit-has-now-coroutines-support-c65bd09ba067\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568181129, "post_id": 57882263, "comment_id": 102188444, "body": "in your ViewModel you can do it like this: viewModelScope.launch { api.getData() }"}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568181502, "post_id": 57882263, "comment_id": 102188578, "body": "I&#39;ve added an example to the answer"}], "tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": true, "score": 1, "last_activity_date": 1568181463, "last_edit_date": 1568181463, "creation_date": 1568176946, "answer_id": 57882263, "question_id": 57882100, "link": "https://stackoverflow.com/questions/57882100/conceptual-question-regarding-suspend-and-deferred/57882263#57882263", "title": "Conceptual question regarding suspend and Deferred", "body": "<p>Retrofit 2.6.0 or newer has built-in <code>suspend</code> support.<br/><br/>\nProbably you are using <code>Kotlin Coroutine Adapter</code>. This library depends on reflection to detect whether the return type is <code>Deffered</code> or not. See <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter/blob/e7f4d911b71d48a36950ca29ec6dfae9371e7959/src/main/java/com/jakewharton/retrofit2/adapter/kotlin/coroutines/CoroutineCallAdapterFactory.kt#L59\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Here is an example using Retrofit 2.6.0 :</p>\n\n<pre><code>interface RemoteInterface{\n\n  @GET(\"/data/mydata\")\n  suspend fun getData(): MyModel\n}\n</code></pre>\n\n<p>And in your ViewModel:</p>\n\n<pre><code>fun retrieveDataFromRemote() {\n  viewModelScope.launch {\n      val model = remoteInterface.getData()\n      // do something with model\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568178956, "post_id": 57882329, "comment_id": 102187722, "body": "So if I use Retrofit 2.6.0, I don&#39;t need to use Deferred? But how can I use await then?"}, {"owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "reply_to_user": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568184658, "post_id": 57882329, "comment_id": 102189688, "body": "Example: @GET(&quot;users/{login}&quot;)     suspend fun fetchUserDetailsAsync(@Path(&quot;login&quot;) login: String): User"}, {"owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "reply_to_user": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568184776, "post_id": 57882329, "comment_id": 102189747, "body": "Only change from Deferred to suspend,"}], "tags": [], "owner": {"reputation": 635, "user_id": 6214899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OXVHk.jpg?s=128&g=1", "display_name": "C\u01b0\u1eddng Nguy\u1ec5n", "link": "https://stackoverflow.com/users/6214899/c%c6%b0%e1%bb%9dng-nguy%e1%bb%85n"}, "is_accepted": false, "score": 0, "last_activity_date": 1568177555, "last_edit_date": 1592644375, "creation_date": 1568177555, "answer_id": 57882329, "question_id": 57882100, "link": "https://stackoverflow.com/questions/57882100/conceptual-question-regarding-suspend-and-deferred/57882329#57882329", "title": "Conceptual question regarding suspend and Deferred", "body": "<ul>\n<li><p>When to use suspend and when not? You can refer to <a href=\"https://stackoverflow.com/questions/54554753/when-to-use-kotlin-suspend-keyword\">suspend</a></p>\n</li>\n<li><p>From Retrofit 2.6.0 or newer and it's built-in suspend support, not use Deferred</p>\n</li>\n</ul>\n"}], "owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 57882263, "answer_count": 2, "score": 1, "last_activity_date": 1568181463, "creation_date": 1568175698, "question_id": 57882100, "link": "https://stackoverflow.com/questions/57882100/conceptual-question-regarding-suspend-and-deferred", "title": "Conceptual question regarding suspend and Deferred", "body": "<p>I have a question about when to use suspend and when not. My APIRepo class has a function like this -</p>\n\n<pre><code>override suspend fun retrieveDataFromRemote(): MyResult {\n        if (utility.checkDeviceInternetConnection()) {\n            try {\n                val result = remoteInterface.getData().await()\n                return ...\n            } catch (t: Throwable) {\n                return ...\n            }\n        } else {\n            return ...\n        }\n    }\n</code></pre>\n\n<p>My Remote interface code looks like this -</p>\n\n<pre><code>@GET(\"/data/mydata\")\nfun getData(): Deferred&lt;Response&lt;MyModel&gt;&gt;\n</code></pre>\n\n<p>As you can see my <code>RemoteInterface</code> has no <code>suspend</code> keyword and returns a <code>Deferred</code>. This works totally fine. But when I add a <code>suspend</code> keyword to <code>getData()</code>, then I dont get the API response. Why is it like that? Does it have something to do with the <code>Deferred</code>? </p>\n"}, {"tags": ["kotlin", "basic-authentication", "ktor"], "comments": [{"owner": {"reputation": 576, "user_id": 6114420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb2d160c9d8d2878464e6f4710a456be?s=128&d=identicon&r=PG&f=1", "display_name": "F. Caron", "link": "https://stackoverflow.com/users/6114420/f-caron"}, "edited": false, "score": 0, "creation_date": 1568299711, "post_id": 57881885, "comment_id": 102238388, "body": "Could be that you intercept at the wrong phase. Authentication is usually at the Features phase. You are intercepting at the Setup phase, before authentication."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11396024"}, "reply_to_user": {"reputation": 576, "user_id": 6114420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb2d160c9d8d2878464e6f4710a456be?s=128&d=identicon&r=PG&f=1", "display_name": "F. Caron", "link": "https://stackoverflow.com/users/6114420/f-caron"}, "edited": false, "score": 0, "creation_date": 1568306953, "post_id": 57881885, "comment_id": 102241995, "body": "Thanks, setting the interceptor phase to <code>ApplicationCallPipeline.Call</code> fixed the issue."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11396024"}, "is_accepted": true, "score": 1, "last_activity_date": 1568307224, "creation_date": 1568307224, "answer_id": 57911342, "question_id": 57881885, "link": "https://stackoverflow.com/questions/57881885/ktor-prompt-for-credentials-from-within-route-interceptor-inside-a-basic-authent/57911342#57911342", "title": "Ktor prompt for credentials from within route interceptor inside a basic authentication block", "body": "<p>Setting the interceptor phase to <code>ApplicationCallPipeline.Call</code> fixed the issue and now prompts me for my credentials. Credit to @f-caron for the idea.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11396024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 57911342, "answer_count": 1, "score": 0, "last_activity_date": 1568307224, "creation_date": 1568173933, "question_id": 57881885, "link": "https://stackoverflow.com/questions/57881885/ktor-prompt-for-credentials-from-within-route-interceptor-inside-a-basic-authent", "title": "Ktor prompt for credentials from within route interceptor inside a basic authentication block", "body": "<p>When I set up a basic authentication provider and put a simple <code>get</code> handler inside an <code>authenticate</code> block, I'll be prompted for credentials when I try to access the route, so once the get handler starts being executed, I can access the <code>UserIdPrincipal</code> and start finding data associated with the account. However, I now want to expand my <code>authenticate</code> block to include multiple routes, so I thought I could handle the initial processing of the principal/account inside an <code>intercept</code> block. Yet, when I try to do this, I am not prompted for my credentials and therefore the <code>UserIdPrincipal</code> inside the interceptor is null. How can I get Ktor to prompt me for my credentials from within a route interceptor inside an <code>authenticate</code> block?</p>\n\n<p>This code properly prompts me for my credentials when I try to access the dashboard route.</p>\n\n<pre><code>authenticate(\"teacherAuth\") {\n    get(\"dashboard\") {\n        val principal = call.principal&lt;UserIdPrincipal&gt;()!!\n        val schoolName = principal.name\n        val school = transaction {\n            School.find { Schools.name eq schoolName }.singleOrNull()\n        }\n        if (school == null)\n            call.respondText(\"No school \\\"$schoolName\\\" found\")\n        else\n            call.respondHtml {\n                ...\n            }\n    }\n}\n</code></pre>\n\n<p>This code does not prompt me for my credentials when I try to access the dashboard route, resulting in an error.</p>\n\n<pre><code>authenticate(\"teacherAuth\") {\n    val schoolKey = AttributeKey&lt;School&gt;(\"school\")\n\n    intercept(ApplicationCallPipeline.Setup) {\n        val principal = call.principal&lt;UserIdPrincipal&gt;()!!\n        val schoolName = principal.name\n        val school = transaction {\n            School.find { Schools.name eq schoolName }.singleOrNull()\n        }\n        if (school == null) {\n            call.respondText(\"No school \\\"$schoolName\\\" found\")\n            return@intercept finish()\n        }\n        call.attributes.put(schoolKey, school)\n    }\n\n    get(\"dashboard\") {\n        val school = call.attributes[schoolKey]\n        call.respondHtml {\n            ...\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "accelerometer", "android-sensors", "gyroscope"], "comments": [{"owner": {"reputation": 17439, "user_id": 747873, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e582c510bc7965cf678a560f334f7ec4?s=128&d=identicon&r=PG", "display_name": "Hoan Nguyen", "link": "https://stackoverflow.com/users/747873/hoan-nguyen"}, "edited": false, "score": 0, "creation_date": 1568296787, "post_id": 57881570, "comment_id": 102236633, "body": "Take a look at my library <a href=\"https://github.com/hoananguyen/dsensor-lib\" rel=\"nofollow noreferrer\">github.com/hoananguyen/dsensor-lib</a>. You have to startDSensor with TYPE_ROLL or TYPE_PITCH and or either getCompass or get3DCompass and then convert to degree from radian. Look at samples for example."}, {"owner": {"reputation": 637, "user_id": 3943525, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/d8275f615ded24fa4ba8464635bc96ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lewis Cianci", "link": "https://stackoverflow.com/users/3943525/lewis-cianci"}, "reply_to_user": {"reputation": 17439, "user_id": 747873, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e582c510bc7965cf678a560f334f7ec4?s=128&d=identicon&r=PG", "display_name": "Hoan Nguyen", "link": "https://stackoverflow.com/users/747873/hoan-nguyen"}, "edited": false, "score": 0, "creation_date": 1568342782, "post_id": 57881570, "comment_id": 102251815, "body": "Cool.  I see you&#39;re the creator of this library, is it okay with you if I write a flutter plugin for it?  It seems to give the information that I&#39;m after which is great :D.  Also, I hear that using &quot;euler angles&quot; can result in things like gimbal lock.  If I convert the returned data to degrees or angles, do I run that risk?  I&#39;m not great at vector maths so if my questions are weird or don&#39;t make sense its definitely a me thing :)"}, {"owner": {"reputation": 17439, "user_id": 747873, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e582c510bc7965cf678a560f334f7ec4?s=128&d=identicon&r=PG", "display_name": "Hoan Nguyen", "link": "https://stackoverflow.com/users/747873/hoan-nguyen"}, "edited": false, "score": 0, "creation_date": 1568346827, "post_id": 57881570, "comment_id": 102252438, "body": "There is no gimbal lock in my library. If you register for compass, it will return an error which says that the device is not flat and therefore no compass direction. If you register for 3D compass, then in this case it will give you camera direction. Of course you can folk and do whatever you want"}], "owner": {"reputation": 637, "user_id": 3943525, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/d8275f615ded24fa4ba8464635bc96ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lewis Cianci", "link": "https://stackoverflow.com/users/3943525/lewis-cianci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1292, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568171320, "creation_date": 1568171320, "question_id": 57881570, "link": "https://stackoverflow.com/questions/57881570/how-can-i-get-the-pitch-yaw-and-roll-of-an-android-device-from-0-360-degrees", "title": "How can I get the pitch, yaw, and roll of an Android device from 0 - 360 degrees?", "body": "<p>So this is apparently quite a simple question but I haven't been able to find a 100% working solution despite my research and googling over the last few months.  Basically, I just want to obtain the pitch, yaw and roll from an Android device represented from 0 to 360 degrees.</p>\n\n<p>Most functionality I have seen that accomplishes this seems to boil down to code that looks like the following:</p>\n\n<pre><code>  private fun updateOrientation(rotationVector: FloatArray) {\n        val rotationMatrix = FloatArray(9)\n        SensorManager.getRotationMatrixFromVector(rotationMatrix, rotationVector)\n\n        val (worldAxisForDeviceAxisX, worldAxisForDeviceAxisY) = when (mWindowManager.defaultDisplay.rotation) {\n            Surface.ROTATION_0 -&gt; Pair(SensorManager.AXIS_X, SensorManager.AXIS_Z)\n            Surface.ROTATION_90 -&gt; Pair(SensorManager.AXIS_Z, SensorManager.AXIS_MINUS_X)\n            Surface.ROTATION_180 -&gt; Pair(SensorManager.AXIS_MINUS_X, SensorManager.AXIS_MINUS_Z)\n            Surface.ROTATION_270 -&gt; Pair(SensorManager.AXIS_MINUS_Z, SensorManager.AXIS_X)\n            else -&gt; Pair(SensorManager.AXIS_X, SensorManager.AXIS_Z)\n        }\n\n        val adjustedRotationMatrix = FloatArray(9)\n        SensorManager.remapCoordinateSystem(rotationMatrix, worldAxisForDeviceAxisX,\n                worldAxisForDeviceAxisY, adjustedRotationMatrix)\n\n        // Transform rotation matrix into azimuth/pitch/roll\n        val orientation = FloatArray(3)\n        SensorManager.getOrientation(adjustedRotationMatrix, orientation)\n\n        // Convert radians to degrees\n        val pitch = orientation[1] * -57\n        val roll = orientation[2] * -57\n        println(\"pitch is $pitch\")\n        println(\"roll is $roll\")\n\n\n\n        mListener?.onOrientationChanged(pitch, roll)\n    }\n</code></pre>\n\n<p>However, when I run this on my physical device, and I <em>roll</em> the device from side to side (that is, put the device on approximately 45 degree angle either way), when I roll to the left I get readings like 95 degrees, and when I roll to the right I get readings like -95.  If I roll the phone and then leave it, the roll angle (while the phone is flat on the desk) goes between 140 and 160 before finally stabilising at ~144-145 degrees.</p>\n\n<p>Pitch behaves in a more reasonable manner (starts at -90, goes to -74 if I tilt the phone up and down).</p>\n\n<p>I would <em>expect</em> that the roll of the device would start at 0 or 180, as the phone is flat on the desk.  If I tilted the device 45 degrees to the left, I would get a reading of 135.  If I tilted it 45 degrees to the right, I would get readings like 225.</p>\n\n<p>I'm starting to think that I could critically misunderstand the accelerometer/gyroscope functionality in android and physical devices and what I want to accomplish is physically impossible.  I am trying to get this data so I can set up a \"safe range\" of angles for my app (if the phone is at less than a certain angle, or more than a certain angle for a certain amount of time, it sounds an alert).</p>\n\n<p>How can I get the pitch, yaw, and roll of the device from 0 - 360 degrees on an Android device?</p>\n"}, {"tags": ["android", "kotlin", "androidx", "android-camera2"], "comments": [{"owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1568711382, "post_id": 57881086, "comment_id": 102352062, "body": "Have you tried on real device?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "reply_to_user": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1568723773, "post_id": 57881086, "comment_id": 102358414, "body": "Yes, I tried on real device"}, {"owner": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "edited": false, "score": 0, "creation_date": 1571058452, "post_id": 57881086, "comment_id": 103103630, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56057310/how-to-zoom-camera-using-android-camerax-api\">How to zoom camera using Android CameraX API?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569050402, "post_id": 58023123, "comment_id": 102477312, "body": "Thank you, would you please release your full code? so I can test it."}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569220587, "post_id": 58023123, "comment_id": 102510901, "body": "I add two buttons in XML and set zoom in/out on that. Here is my startCamera() method(in updated answer)"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569227823, "post_id": 58023123, "comment_id": 102514188, "body": "Thank you very much, but I still can&#39;t run your project, could you publish your full code?"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569228194, "post_id": 58023123, "comment_id": 102514363, "body": "You know the Android Studio tell me <code>updateTransform()</code> isn&#39;t defined, and <code>left</code>,<code>right</code>, etc. in your code can&#39;t be compiled."}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569231006, "post_id": 58023123, "comment_id": 102515824, "body": "I prepared a demo with help of this - <a href=\"https://codelabs.developers.google.com/codelabs/camerax-getting-started/#0\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/camerax-getting-star&zwnj;&#8203;ted/&hellip;</a>  And just put extra two buttons for zoom in/out."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569231540, "post_id": 58023123, "comment_id": 102516081, "body": "Thank you , could you publish your project to Git? or upload your project to Dropbox, so i can dowmload and test it?"}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1569233457, "post_id": 58023123, "comment_id": 102516999, "body": "Actually my demo is not complete now, I am working on it, want to explore more on CameraX, So when it will be complete, will upload it on Git and notify you. And one more thing It&#39;s very simple to create a demo from your end, follow the steps which are mentions in codelabs and put two buttons in XML and perform click listener which are mention above. Just try it once."}], "tags": [], "owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "is_accepted": true, "score": 4, "last_activity_date": 1569220521, "last_edit_date": 1569220521, "creation_date": 1568962061, "answer_id": 58023123, "question_id": 57881086, "link": "https://stackoverflow.com/questions/57881086/how-to-zoom-the-preview-using-android-camerax-library/58023123#58023123", "title": "How to zoom the preview using Android CameraX library?", "body": "<p>@HelloCW you are doing the right things, I am able to do zoom in/out using this code</p>\n\n<pre><code>button_plus.setOnClickListener {\n    if (right &lt; 100) {\n        right += 100\n        bottom += 100\n        left += 100\n        top += 100\n        val my = Rect(left, top, right, bottom)\n        preview.zoom(my)\n    }\n}\n\nbutton_minus.setOnClickListener {\n    if (right &gt; 0) {\n        right -= 100\n        bottom -= 100\n        left -= 100\n        top -= 100\n        val my = Rect(left, top, right, bottom)\n        preview.zoom(my)\n    }\n}\n</code></pre>\n\n<p>Here is the output\n<a href=\"https://i.stack.imgur.com/F1AfP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F1AfP.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/py1F2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/py1F2.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Update :</p>\n\n<pre><code> private fun startCamera() {\n        val metrics = DisplayMetrics().also { view_finder.display.getRealMetrics(it) }\n        val screenAspectRatio = Rational(metrics.widthPixels, metrics.heightPixels)\n        val previewConfig = PreviewConfig.Builder().apply {\n            setTargetAspectRatio(screenAspectRatio)\n            setTargetRotation(view_finder.display.rotation)\n        }.build()\n        // Build the viewfinder use case\n        preview = Preview(previewConfig)\n        preview.setOnPreviewOutputUpdateListener {\n            // To update the SurfaceTexture, we have to remove it and re-add it\n            val parent = view_finder.parent as ViewGroup\n            parent.removeView(view_finder)\n            parent.addView(view_finder, 0)\n            view_finder.surfaceTexture = it.surfaceTexture\n            updateTransform()\n        }\n        CameraX.bindToLifecycle(this, preview)\n    }\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2229, "favorite_count": 0, "accepted_answer_id": 58023123, "answer_count": 1, "score": 3, "last_activity_date": 1569220521, "creation_date": 1568167573, "last_edit_date": 1569013279, "question_id": 57881086, "link": "https://stackoverflow.com/questions/57881086/how-to-zoom-the-preview-using-android-camerax-library", "title": "How to zoom the preview using Android CameraX library?", "body": "<p>I hope to add a function to zoom in preview picture (Please see <em>Image A</em>) for the sample code at <a href=\"https://github.com/android/camera/tree/master/CameraXBasic\" rel=\"nofollow noreferrer\">https://github.com/android/camera/tree/master/CameraXBasic</a></p>\n\n<p>I have read the <a href=\"https://stackoverflow.com/questions/56057310/how-to-zoom-camera-using-android-camerax-api\">article</a> but the following code doesn't work. How can I zoom the preview with CameraX API 1.0.0-alpha05 ?</p>\n\n<p><strong><a href=\"https://github.com/android/camera/blob/master/CameraXBasic/app/src/main/java/com/android/example/cameraxbasic/fragments/CameraFragment.kt\" rel=\"nofollow noreferrer\">CameraFragment.kt</a></strong> </p>\n\n<pre><code> /** Declare and bind preview, capture and analysis use cases */\n    private fun bindCameraUseCases() {\n\n       ...\n\n        // Apply declared configs to CameraX using the same lifecycle owner\n        CameraX.bindToLifecycle(\n                viewLifecycleOwner, preview, imageCapture, imageAnalyzer)\n\n       //I added code\n        var my=Rect(0,0,500,500)\n        preview.zoom(my)\n    }\n</code></pre>\n\n<p><strong>Image A</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/cndRb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cndRb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "android", "kotlin", "android-webview", "javascript-injection"], "answers": [{"tags": [], "owner": {"reputation": 592, "user_id": 10089348, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w_VhF_J_GyI/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rPAWpqXoTphYljOphP1TgjUZ4Epw/mo/photo.jpg?sz=128", "display_name": "Rander Gabriel", "link": "https://stackoverflow.com/users/10089348/rander-gabriel"}, "is_accepted": true, "score": 1, "last_activity_date": 1568168988, "creation_date": 1568168988, "answer_id": 57881250, "question_id": 57881025, "link": "https://stackoverflow.com/questions/57881025/send-object-from-javascript-to-kotlin-using-webview/57881250#57881250", "title": "Send Object from Javascript to Kotlin using Webview", "body": "<p>As far as i know, the javaScript interface methods only accepts primitive types of data as parameters (as discussed on this <a href=\"https://stackoverflow.com/questions/2250917/passing-a-javascript-object-using-addjavascriptinterface-on-android\">question</a>).\nIf you still want to achieve that, you may serialize the object (to JSON format, for instance) in the javaScript and then Deserialize it in Java.\nHope it helps :)</p>\n"}], "owner": {"reputation": 1398, "user_id": 562100, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DLLbS.jpg?s=128&g=1", "display_name": "Perseus", "link": "https://stackoverflow.com/users/562100/perseus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1891, "favorite_count": 0, "accepted_answer_id": 57881250, "answer_count": 1, "score": 4, "last_activity_date": 1568168988, "creation_date": 1568166888, "question_id": 57881025, "link": "https://stackoverflow.com/questions/57881025/send-object-from-javascript-to-kotlin-using-webview", "title": "Send Object from Javascript to Kotlin using Webview", "body": "<p>I have loaded a webpage using WebView component and added a JavascriptInterface. Please check the code below,</p>\n\n<pre><code>val webview = WebView(this)\nsetContentView(webview)\nwebview.settings.javaScriptEnabled = true\nwebview.loadUrl(HOME_PAGE_URL)\nwebview.addJavascriptInterface(JavascriptInterface(),\u201djavascript_bridge\u201d)\n</code></pre>\n\n<p>And when I call the invoke from Javascript using <code>window.javascript_bridge.showToast(\u201cInformation Saved\u201d);</code></p>\n\n<pre><code>private inner class JavascriptInterface\n{\n    @android.webkit.JavascriptInterface\n    fun showToast(text: String?)\n    {\n        Log.d(\"WEBVIEW\", text);\n    }\n}\n</code></pre>\n\n<p>I am able to call the method from Javascript to Kotlin without any trouble.</p>\n\n<p>But now I want to pass an Object from Javascript to Kotlin like below,</p>\n\n<pre><code>var info = {\n    message: \u201cInformation Saved\u201d,\n    ID: 123456\n}\n</code></pre>\n\n<p>And when I call the invoke from Javascript using <code>window.javascript_bridge.showToast(info);</code></p>\n\n<p>I tried to change to the data type to Any, but the value passed from Javascript is null</p>\n\n<pre><code>private inner class JavascriptInterface\n{\n    @android.webkit.JavascriptInterface\n    fun showToast(text: Any?)\n    {\n       Log.d(\"WEBVIEW\", text.toString());\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "alarmmanager"], "comments": [{"owner": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568178096, "post_id": 57879082, "comment_id": 102187483, "body": "have you ever tried setExact over alarm manager?"}, {"owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "reply_to_user": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568217119, "post_id": 57879082, "comment_id": 102206953, "body": "@ZaferCelaloglu - Will give it a try and let you know. I feel it&#39;s more based on the interval millis that we are passing. And am not sure when it considers the day that we set, since we pass calendar.timeInMillis as the param."}, {"owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "reply_to_user": {"reputation": 1273, "user_id": 1954960, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/zLXi2.jpg?s=128&g=1", "display_name": "Zafer Celaloglu", "link": "https://stackoverflow.com/users/1954960/zafer-celaloglu"}, "edited": false, "score": 0, "creation_date": 1568223737, "post_id": 57879082, "comment_id": 102209960, "body": "@ZaferCelaloglu - Seems like setExact doesn&#39;t repeat the alarm, so might not work in my case. I need something that repeats the alarm. I feel that either something is wrong with the way am setting intent or with the interval."}], "owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568156623, "creation_date": 1568155738, "last_edit_date": 1568156623, "question_id": 57879082, "link": "https://stackoverflow.com/questions/57879082/kotlin-android-alarm-manager-not-honoring-set-days-for-scheduling-a-service-on", "title": "Kotlin-Android - Alarm Manager not honoring set days for scheduling a service on specific day", "body": "<p>In my app, I am letting the user select some days out of the week and they will also set a time. Something similar to alarm clock, except in this case, I will be starting a service on the specified day and time.</p>\n\n<p>With the below code, my broadcast receiver is getting called, but it's getting called even on the days not selected by the user.</p>\n\n<pre><code>val startCalendar = Calendar.getInstance()\n\nfor (dayNum in selectedDays.values) {\n    var intent = Intent(activity, DeviceLocationSharingStarter::class.java)\n    intent.putExtra(\"startTime\", true)\n    val pendingIntent = PendingIntent.getBroadcast(activity, dayNum, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n\n    startCalendar.set(Calendar.HOUR_OF_DAY, 15)\n    startCalendar.set(Calendar.MINUTE, 40)\n    startCalendar.set(Calendar.DAY_OF_WEEK, dayNum)\n\n    if(startCalendar.timeInMillis &lt; System.currentTimeMillis()) {\n        startCalendar.add(Calendar.DAY_OF_YEAR, GregorianCalendar().get(Calendar.DAY_OF_WEEK)-1)\n    }\n\n    var alarmManager = activity.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, startCalendar.timeInMillis, AlarmManager.INTERVAL_DAY * 7, pendingIntent)\n}\n</code></pre>\n\n<p>My selected days is a Collection and it has values like (\"Monday\" to 2, \"Friday\" to 6), but it's Tuesday today and while testing my broadcast receiver was called at the time specified.</p>\n\n<p>How do I fix this to only get fired during the days specified in selectedDays collection?</p>\n\n<p>Edit - I even tried setting intervalMillis in setRepeating function to \"7 * 24 * 60 * 60 * 1000\" and also to \"24 * 60 * 60 * 1000\", still the broadcast receiver gets called on the days not set.</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "action", "outgoing-call"], "answers": [{"tags": [], "owner": {"reputation": 1640, "user_id": 5644761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w3XHL.png?s=128&g=1", "display_name": "JakeB", "link": "https://stackoverflow.com/users/5644761/jakeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1568155248, "creation_date": 1568155248, "answer_id": 57879020, "question_id": 57878975, "link": "https://stackoverflow.com/questions/57878975/android-not-detecting-intent-action-correctly/57879020#57879020", "title": "Android not detecting intent action correctly", "body": "<p>Add both actions into one <code>intent-filter</code></p>\n\n<pre><code>&lt;receiver android:name=\".PhoneStateReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.PHONE_STATE\" /&gt;\n                &lt;action android:name=\"android.intent.action.NEW_OUTGOING_CALL\" /&gt;\n            &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9985430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d27acc5299050dc8f1a0e8de2ef35152?s=128&d=identicon&r=PG&f=1", "display_name": "ilinq", "link": "https://stackoverflow.com/users/9985430/ilinq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568205805, "creation_date": 1568154905, "last_edit_date": 1568205805, "question_id": 57878975, "link": "https://stackoverflow.com/questions/57878975/android-not-detecting-intent-action-correctly", "title": "Android not detecting intent action correctly", "body": "<p>I am writing an Android app (kotlin) which logs incoming and outgoing calls (information about phone number and date). So far, I can obtain phone number from incoming calls, but failed to obtain it from outgoing ones.</p>\n\n<p>I looked at tutorials and all of them suggest that I check the intent action and then get the number which I am trying to call.</p>\n\n<p>in the manifest file I have added permissions and receiver</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.PROCESS_OUTGOING_CALLS\" /&gt;\n</code></pre>\n\n<pre><code>&lt;receiver android:name=\".PhoneStateReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.PHONE_STATE\" /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.NEW_OUTGOING_CALL\" /&gt;\n            &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>in PhoneStateReceiver I'm trying to obtain phone numbers</p>\n\n<pre><code> class PhoneStateReceiver : BroadcastReceiver() {\n\n    private val TAG = \"PhoneStateReceiver\"\n\n    private var lastState = TelephonyManager.CALL_STATE_IDLE\n\n    override fun onReceive(context: Context?, intent: Intent?) {\n        checkCall(intent)\n    }\n\n    private fun checkCall(intent: Intent?) {\n        val state = intent?.getStringExtra(TelephonyManager.EXTRA_STATE)\n\n        if (intent?.action.equals(Intent.ACTION_NEW_OUTGOING_CALL)) {\n            var number = intent?.getStringExtra(Intent.EXTRA_PHONE_NUMBER)\n            Log.d(TAG, \"Outgoing number : $number\")\n        }else {\n            if (lastState == TelephonyManager.CALL_STATE_IDLE) {\n                if (state.equals(TelephonyManager.EXTRA_STATE_RINGING)) {\n                    val number = intent?.getStringExtra(TelephonyManager.EXTRA_INCOMING_NUMBER)\n                    Log.d(TAG, \"Incoming number : $number\")\n                }\n            }\n        }\n        Log.d(TAG, state)\n        lastState = intState(state)\n    }\n</code></pre>\n\n<p>and in MainActivity I'm only asking for permissions:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var PERMISSION_ALL = 1\n    private var PERMISSIONS = arrayOf(\n        Manifest.permission.READ_PHONE_STATE,\n        Manifest.permission.PROCESS_OUTGOING_CALLS\n    )\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if(!hasPermissions(this, Manifest.permission.READ_PHONE_STATE, Manifest.permission.PROCESS_OUTGOING_CALLS)){\n            ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);\n        }\n    }\n\n    private fun hasPermissions(context: Context, vararg permissions: String): Boolean = permissions.all {\n        ActivityCompat.checkSelfPermission(context, it) == PackageManager.PERMISSION_GRANTED\n    }\n\n\n}\n</code></pre>\n\n<p>The action when making an outgoing call should be Intent.ACTION_NEW_OUTGOING_CALL \nHowever, when I make an outgoing call this action appears to be Intent.PHONE_STATE </p>\n\n<p>Why is that and how can I fix it?</p>\n"}, {"tags": ["kotlin", "gson", "dsl"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12042035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC-na7Y4RKSgna2VkQgcFbXdiNBmKBlaH1QZ3E6=k-s128", "display_name": "Emosewa Pixel", "link": "https://stackoverflow.com/users/12042035/emosewa-pixel"}, "edited": false, "score": 0, "creation_date": 1568155250, "post_id": 57878823, "comment_id": 102182622, "body": "Oh. Thanks! I wasn&#39;t aware that that order mattered in Kotlin."}], "tags": [], "owner": {"reputation": 645, "user_id": 3341246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m7ngn.jpg?s=128&g=1", "display_name": "jamierocks", "link": "https://stackoverflow.com/users/3341246/jamierocks"}, "is_accepted": true, "score": 0, "last_activity_date": 1568153648, "creation_date": 1568153648, "answer_id": 57878823, "question_id": 57878553, "link": "https://stackoverflow.com/questions/57878553/gson-based-dsl-causing-a-npe/57878823#57878823", "title": "GSON-based DSL causing a NPE", "body": "<p>The issue is that you've specified the initialiser block earlier than the result object, causing it to be null when you come to use it - this can be visualised by the following (decompiled output of your code).</p>\n\n<pre><code>   public JsonBuilder(@NotNull Function1 builder) {\n         Intrinsics.checkParameterIsNotNull(builder, \"builder\");\n         super();\n         builder.invoke(this);\n         this.result = new JsonObject();\n   }\n</code></pre>\n\n<p>Therefore, the solution is to move the declaration and initialisation of result earlier than the initialiser block.</p>\n\n<pre><code>class JsonBuilder(builder: JsonBuilder.() -&gt; Unit) {\n    val result = JsonObject()\n\n    init {\n        builder()\n    }\n\n    // ...\n}\n</code></pre>\n\n<p>And the result is now...</p>\n\n<pre><code>{\"name\":\"value\",\"int\":1,\"obj\":{},\"true\":true}\n</code></pre>\n\n<p>EDIT: You'll also want to allow chaining with your DSL, and fix a bug you currently have.</p>\n\n<pre><code>    operator fun String.invoke(builder: JsonBuilder.() -&gt; Unit) {\n        val obj = JsonBuilder(builder).result\n        result.add(this, obj)\n    }\n</code></pre>\n\n<p>Which produces the correct result of</p>\n\n<pre><code>{\"name\":\"value\",\"obj\":{\"int\":1},\"true\":true}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12042035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC-na7Y4RKSgna2VkQgcFbXdiNBmKBlaH1QZ3E6=k-s128", "display_name": "Emosewa Pixel", "link": "https://stackoverflow.com/users/12042035/emosewa-pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 57878823, "answer_count": 1, "score": 0, "last_activity_date": 1568153648, "creation_date": 1568151595, "question_id": 57878553, "link": "https://stackoverflow.com/questions/57878553/gson-based-dsl-causing-a-npe", "title": "GSON-based DSL causing a NPE", "body": "<p>I've been trying to create a Kotlin DSL for creating GSON JsonObjects with a JSON-like syntax. My builder looks like this</p>\n\n<pre><code>import com.google.gson.JsonArray\nimport com.google.gson.JsonElement\nimport com.google.gson.JsonObject\nimport com.google.gson.JsonPrimitive\n\nclass JsonBuilder(builder: JsonBuilder.() -&gt; Unit) {\n    init {\n        builder()\n    }\n\n    val result = JsonObject()\n\n    infix fun String.to(property: Number) = result.addProperty(this, property)\n    infix fun String.to(property: Char) = result.addProperty(this, property)\n    infix fun String.to(property: Boolean) = result.addProperty(this, property)\n    infix fun String.to(property: String) = result.addProperty(this, property)\n    infix fun String.to(property: JsonElement) = result.add(this, property)\n    infix fun String.to(properties: Collection&lt;JsonElement&gt;) {\n        val arr = JsonArray()\n        properties.forEach(arr::add)\n        result.add(this, arr)\n    }\n    operator fun String.invoke(builder: JsonObject.() -&gt; Unit) {\n        val obj = JsonObject()\n        obj.builder()\n        result.add(this, obj)\n    }\n}\n\nfun json(builder: JsonBuilder.() -&gt; Unit) = JsonBuilder(builder).result\n</code></pre>\n\n<p>And my test looks like this</p>\n\n<pre><code>fun main() {\n    val json = json {\n        \"name\" to \"value\"\n        \"obj\" {\n            \"int\" to 1\n        }\n        \"true\" to true\n    }\n    println(json)\n}\n</code></pre>\n\n<p>However, upon execution it causes a NullPointerException pointing to the first String extension function used, which I don't find very descriptive as I don't see anything being nullable up to that point. Moreover, I don't see how it really differs from the regular execution which of course doesn't cause a NPE.</p>\n\n<pre><code>    val json = JsonObject()\n    json.addProperty(\"name\", \"value\")\n    val obj = JsonObject()\n    obj.addProperty(\"int\", 1)\n    json.add(\"obj\", obj)\n    json.addProperty(\"true\", true)\n</code></pre>\n\n<p>My question is what's exactly causing the exception (and how to prevent it).</p>\n"}, {"tags": ["android", "kotlin", "mockito", "kotlin-coroutines", "mockito-kotlin"], "comments": [{"owner": {"reputation": 3563, "user_id": 667348, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1zhzc.jpg?s=128&g=1", "display_name": "Philio", "link": "https://stackoverflow.com/users/667348/philio"}, "edited": false, "score": 0, "creation_date": 1568155897, "post_id": 57878466, "comment_id": 102182740, "body": "The state will be set in <code>init</code>, so it can&#39;t ever be <code>null</code>."}], "answers": [{"comments": [{"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 1, "creation_date": 1576131669, "post_id": 57885348, "comment_id": 104801038, "body": "There is a way to mock suspend fun in mockito-kotlin. Use <code>onBlocking</code>. However I&#39;m not yet sure how reliable is the coroutine support in all testing libraries. Even the official JetBrains kotlinx-coroutines-test lib is still experimental."}], "tags": [], "owner": {"reputation": 5261, "user_id": 2548988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64c4d3033369ce36d4252ddbfa6983?s=128&d=identicon&r=PG", "display_name": "esentsov", "link": "https://stackoverflow.com/users/2548988/esentsov"}, "is_accepted": false, "score": 2, "last_activity_date": 1568191432, "creation_date": 1568191432, "answer_id": 57885348, "question_id": 57878466, "link": "https://stackoverflow.com/questions/57878466/android-mockito-kotlin-coroutine-test-cancel/57885348#57885348", "title": "Android Mockito Kotlin coroutine test cancel", "body": "<p>The problem here is in <code>thenAnswer { launch { delay(1000) } }</code>, which effectively makes your <code>doStuff</code> method look like that:</p>\n\n<pre><code>suspend fun doStuff() {\n  launch { delay(1000) } \n}\n</code></pre>\n\n<p>As you can see, this function does not actually suspend, it launches a coroutine and returns immediately. What would actually work here is <code>thenAnswer { delay(1000) }</code>, which does not work, because there is no suspend version of <code>thenAnswer</code> in Mockito (as far as I know at least).</p>\n\n<p>I would recommend to switch to <a href=\"https://github.com/mockk/mockk\" rel=\"nofollow noreferrer\">Mokk</a> mocking library, which supports kotlin natively. Then you can write <code>coEvery { doStuff() } coAnswers { delay(1000) }</code> and it will make your test pass (after fixing all the syntax errors ofc).</p>\n"}], "owner": {"reputation": 861, "user_id": 1236581, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/pG9V0.jpg?s=128&g=1", "display_name": "fergdev", "link": "https://stackoverflow.com/users/1236581/fergdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568191432, "creation_date": 1568151091, "question_id": 57878466, "link": "https://stackoverflow.com/questions/57878466/android-mockito-kotlin-coroutine-test-cancel", "title": "Android Mockito Kotlin coroutine test cancel", "body": "<p>I have a retrofit service </p>\n\n<pre><code>interface Service {\n    @PUT(\"path\")\n    suspend fun dostuff(@Body body: String)\n}\n</code></pre>\n\n<p>It is used in android view model.</p>\n\n<pre><code>class VM : ViewModel(private val service: Service){\n   private val viewModelJob = Job()\n   private val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\n\n   val state = MutableLiveData&lt;String()\n\n   init {\n      uiScope.launch { \n         service.doStuff()\n         state.value = \"lol\"\n      }\n   }\n\n   override fun onCleared(){\n      viewModelJob.cancel()\n   }\n}\n</code></pre>\n\n<p>I would like to write a test for the cancelling of the view model. This will be done mocking service and delaying so that the co routine does not complete. Whilst blocking, we invoke onCleared to cancel the co routine. This should prevent state getting set...</p>\n\n<pre><code>@Test\nfun `on cleared - cancels request`() = runBlocking {\n    //given\n    `when`(service.doStuff()).thenAnswer { launch { delay(1000) } }\n\n    val vm = ViewModel(service)\n    // when\n    vm.cleared()\n\n    //then\n    assertThat(vm.state, nullValue())\n}\n</code></pre>\n\n<p>However it seems that vm.state always gets set??? What is the best way to test when clearing a scope that a co routine gets cancelled?</p>\n"}, {"tags": ["android", "variables", "kotlin"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1568210839, "post_id": 57878043, "comment_id": 102203404, "body": "To do that, you would have to make the inner class public with <code>rpCommand</code> public aswell. I think, this class chaining does not look good and gives a vague idea about the parent class responsibility."}], "owner": {"reputation": 37, "user_id": 2950714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bZglb.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/2950714/thodoris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568148540, "creation_date": 1568148540, "question_id": 57878043, "link": "https://stackoverflow.com/questions/57878043/how-to-access-variables-inside-inner-class", "title": "How to access variables inside inner class", "body": "<p>I have a inner class that reads OBD Data. How can I read the variables from a CsvWriter helper class so I can export them?</p>\n\n<p>Should I pass the data as an argument to the method that exports the csv?</p>\n\n<p>Is it possible to read the value from the CsvWrite class something like ObdListenService.connectedthread.rpmCommmand.formattedResult()?</p>\n\n<pre><code>class ObdListenService(context: Context, handler: Handler) {\n\n   .....\n    private inner class ConnectedThread() : Thread() {\n\n        init {\n            rpmCommand = RPMCommand () \n        }\n\n        override fun run() {\n            while (!Thread.currentThread().isInterrupted) {\n               val rpm = rpmCommand.formattedResult() \n               CsvWriter.export(rpm)   // is this correct?\n            }\n        }   \n    }\n\n</code></pre>\n\n<pre><code>class CsvWriter() {\n\n    fun csvWrite(data : String ) {\n    val row = data\n       csvWriter().open(Environment.getExternalStorageDirectory().absolutePath + File.separator + \"data.csv\") {\n            writeRow(row)\n            println(\"position data is added\")\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-databinding"], "owner": {"reputation": 120, "user_id": 2299948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/557b3ae4706858388a0692405b4f80ac?s=128&d=identicon&r=PG", "display_name": "linucksrox", "link": "https://stackoverflow.com/users/2299948/linucksrox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568146263, "creation_date": 1568146263, "question_id": 57877603, "link": "https://stackoverflow.com/questions/57877603/why-is-ui-not-updating-sometimes-using-recyclerview-and-data-binding", "title": "Why is UI not updating sometimes using recyclerview and data binding?", "body": "<p>I'm creating a to-do app using MVVM with Room, LiveData, a RecyclerView with ListAdapter and data binding. When I check off an item, it jumps to the bottom of the list (sorted by incomplete, then complete). I'm also using a different layout for completed items where the text becomes italic and grayed out. Usually when I check a box, it jumps down and turns gray/italic, but sometimes it stays black. How can I track down this issue, or could it be a problem with the data binding library?</p>\n\n<pre><code>// ToDoItemAdapter.kt\n\nconst val ITEM_UNCHECKED = 0\nconst val ITEM_CHECKED = 1\n\nclass ToDoItemAdapter(private val onCheckboxClick: (ToDoItem) -&gt; Unit, private val onCardClick: (ToDoItem) -&gt; Unit): ListAdapter&lt;ToDoItem, RecyclerView.ViewHolder&gt;(ToDoItemDiffCallback()) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        return when (viewType) {\n            ITEM_CHECKED -&gt; ViewHolderChecked.from(parent)\n            else -&gt; ViewHolderUnchecked.from(parent)\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        when (holder) {\n            is ViewHolderChecked -&gt; {\n                val toDoItem = getItem(position)\n                holder.bind(toDoItem, onCheckboxClick, onCardClick)\n            }\n            is ViewHolderUnchecked -&gt; {\n                val toDoItem = getItem(position)\n                holder.bind(toDoItem, onCheckboxClick, onCardClick)\n            }\n        }\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        val toDoItem = getItem(position)\n        return when (toDoItem.completed) {\n            true -&gt; ITEM_CHECKED\n            false -&gt; ITEM_UNCHECKED\n        }\n    }\n\n    class ViewHolderChecked private constructor(private val binding: ChecklistItemCheckedBinding)\n        : RecyclerView.ViewHolder(binding.root) {\n\n        fun bind(toDoItem: ToDoItem, onCheckboxClick: (ToDoItem) -&gt; Unit, onCardClick: (ToDoItem) -&gt; Unit) {\n            binding.todoItem = toDoItem\n            binding.checkboxCompleted.setOnClickListener {\n                onCheckboxClick(toDoItem)\n            }\n            binding.cardTodo.setOnClickListener {\n                onCardClick(toDoItem)\n            }\n            binding.executePendingBindings()\n        }\n\n        companion object {\n            fun from(parent: ViewGroup): ViewHolderChecked {\n                val layoutInflater = LayoutInflater.from(parent.context)\n                return ViewHolderChecked(ChecklistItemCheckedBinding.inflate(layoutInflater, parent, false))\n            }\n        }\n    }\n</code></pre>\n\n<p>In the adapter, when the checkbox is clicked it winds up running a function in the viewmodel:</p>\n\n<pre><code>fun toggleCheckbox(toDoItem: ToDoItem) {\n    toDoItem.completed = !toDoItem.completed\n    update(toDoItem)\n}\n</code></pre>\n\n<p>update(toDoItem) calls a suspend function and basically updates the data in the Room database through a repository on a background thread.</p>\n\n<p>In the fragment, I'm setting the binding equal to the viewmodel, setting the lifecycle owner, setting the adapter, and then setting an observer on the allToDoItems list:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n    binding.checklistViewModel = checklistViewModel\n    binding.lifecycleOwner = this\n    val adapter = ToDoItemAdapter(onCheckboxClickHandler, onCardClickHandler)\n    binding.itemsList.adapter = adapter\n    checklistViewModel.allToDoItems.observe(viewLifecycleOwner, Observer { allItems -&gt;\n        allItems?.let {\n            adapter.submitList(allItems.sortedWith(compareBy(\n                {it.completed},\n                {it.description}))\n            )\n        }\n    })\n    return binding.root\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1568145211, "post_id": 57877352, "comment_id": 102179566, "body": "Where is T coming from? For that code to work, it has to be inside something generic, like a function or a class. Please post the surrounding code"}, {"owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1568146732, "post_id": 57877352, "comment_id": 102180167, "body": "@gpunto: <code>T</code> is something I defined. It is not a concrete class"}, {"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1568148382, "post_id": 57877352, "comment_id": 102180768, "body": "I know, but it must be defined somewhere else in the outer scope for that line to compile. Like a class or a function having T as a generic parameter."}], "answers": [{"comments": [{"owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1568146760, "post_id": 57877396, "comment_id": 102180177, "body": "I see that if I use <code>&lt;*&gt;</code> the compilation works. Is that correct?"}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "reply_to_user": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "edited": false, "score": 0, "creation_date": 1568146946, "post_id": 57877396, "comment_id": 102180256, "body": "You can also use <code>&lt;*&gt;</code> yes, but it really depends on what you want the functionality to be, when you pass in <code>*</code> you are saying you want to be able to pass in any type into that list, but you can only pass in that type. If you used something like <code>Any</code> you can pass in multiple types"}], "tags": [], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1568145192, "creation_date": 1568145192, "answer_id": 57877396, "question_id": 57877352, "link": "https://stackoverflow.com/questions/57877352/error-defining-a-list-with-a-templated-class/57877396#57877396", "title": "Error defining a list with a templated class", "body": "<p>When you're using the <code>GenericItem</code> inside of </p>\n\n<pre><code>List&lt;GenericItem&lt;T&gt;&gt;\n</code></pre>\n\n<p>you can't refer to the type that's contained in <code>GenericItem</code> as <code>T</code> because at this point it assumes you're using it with a real type, not with a generic.</p>\n\n<p>The solution would be to pass in the value that is now actually contained in your <code>GenericItem</code> ie</p>\n\n<pre><code>List&lt;GenericItem&lt;Int&gt;&gt;\nList&lt;GenericItem&lt;String&gt;&gt;\n</code></pre>\n\n<p>Or whatever type you please</p>\n\n<p>If you want to limit the types that you are allowed to define on the generic <code>T</code> you can change your definition to define it like so</p>\n\n<pre><code>GenericItem&lt;T: YourCustomType&gt;\n</code></pre>\n\n<p>And make it so that you can only pass in a generic that is, or whose parent is <code>YourCustomType</code></p>\n"}], "owner": {"reputation": 2241, "user_id": 9055634, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ad71851f7cd273e1ef70597c4231c92b?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/9055634/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568145192, "creation_date": 1568144893, "question_id": 57877352, "link": "https://stackoverflow.com/questions/57877352/error-defining-a-list-with-a-templated-class", "title": "Error defining a list with a templated class", "body": "<p>I have the following:  </p>\n\n<pre><code>data class GenericItem&lt;T&gt; (val id: Int, val data: T)  \n</code></pre>\n\n<p>I am trying to define a generic list as follows:  </p>\n\n<pre><code>val rows: List&lt;GenericItem&lt;T&gt;&gt;  \n</code></pre>\n\n<p>but I get an error:  </p>\n\n<blockquote>\n  <p>one type argument expected for class GenericItem  </p>\n</blockquote>\n\n<p>What am I doing wrong here and how can I fix it?</p>\n"}, {"tags": ["android", "kotlin", "android-livedata"], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568214544, "post_id": 57883045, "comment_id": 102205541, "body": "But it is using MediatorLiveData...I wanted using Transformations.map. Moreover it works on first click. When I do second click it doesnt work."}, {"owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "reply_to_user": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "edited": false, "score": 0, "creation_date": 1568215979, "post_id": 57883045, "comment_id": 102206367, "body": "Im pretty sure it should work with multiple clicks. Did you test it?"}], "tags": [], "owner": {"reputation": 2638, "user_id": 2700239, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d88024aacd24a897083419abaedde261?s=128&d=identicon&r=PG", "display_name": "Fartab", "link": "https://stackoverflow.com/users/2700239/fartab"}, "is_accepted": false, "score": 0, "last_activity_date": 1568217517, "last_edit_date": 1568217517, "creation_date": 1568182151, "answer_id": 57883045, "question_id": 57877306, "link": "https://stackoverflow.com/questions/57877306/android-viewmodel-transformations-map-not-working/57883045#57883045", "title": "Android viewmodel transformations map not working", "body": "<p>In your <code>view.getMyData.setOnClickListener</code> you just observe the <code>viewModel.onGetDataClicked</code> and did not trigger a new call to <code>myDomain.getData</code>. You need a way to trigger your domain function per user click.</p>\n\n<pre><code>override fun onCreateView(...): View? {\n\n     onGetDataClicked.observe(this, Observer {\n        view?.progressBar?.isVisible = it.loading\n        view?.description?.text = it.data.value\n     })\n\n    view.getMyData.setOnClickListener {\n       getDataFromDomain()\n    }\n\n    return view\n}\n\nval onGetDataClicked = MediatorLiveData&lt;MyViewState&gt;()\n\nfun getDataFromDomain(){\n    onGetDataClicked.addSource(myDomain.getData(MyAction.GetMyDataAction)){\n        when (it) {\n            is MyResult.Loading -&gt; viewState.copy(loading = true, error = null)\n            is MyResult.Success -&gt; viewState.copy(\n                loading = false,\n                data = it.data,\n                error = null\n            )\n            is MyResult.Error -&gt; viewState.copy(\n                loading = false,\n                error = it.error\n            )\n            else -&gt; viewState.copy(loading = false)\n        }\n    }\n    )\n}\n</code></pre>\n\n<hr/>\n\n<p><strong>UPDATE</strong><br/>\nAnother solution is to use <code>Transformation.switchMap</code>. In this solution we will create a <code>LiveData</code> to convert click events to an observable (name it <code>clickLiveData</code>).\nAnd in the <code>onCreateView</code> set a click listener to update <code>clickLiveData</code>.\nAnother LiveData can observe the <code>clickLiveData</code> and do a switchMap:</p>\n\n<pre><code>val clickLiveData = MutableLiveData&lt;Any&gt;()\n\nval dataFromDomainLiveData = Transformations.switchMap(clickLiveData){\n    Transformations.map(myDomain.getData(MyAction.GetMyDataAction)) {\n        when (it) {\n            is MyResult.Loading -&gt; viewState.copy(loading = true, error = null)\n            is MyResult.Success -&gt; viewState.copy(\n                loading = false,\n                data = it.data,\n                error = null\n            )\n            is MyResult.Error -&gt; viewState.copy(\n                loading = false,\n                error = it.error\n            )\n            else -&gt; viewState.copy(loading = false)\n        }\n    }\n}\n\n\n\noverride fun onCreateView(...): View? {\n\n    view.getMyData.setOnClickListener {\n       clickLiveData.value = Any()\n    }\n\n    viewModel.dataFromDomainLiveData.observe(this, Observer {\n        view?.progressBar?.isVisible = it.loading\n        view?.description?.text = it.data.value\n    })        \n\n\n    return view\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4991, "user_id": 1498586, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/wcmTY.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/1498586/mahdi"}, "is_accepted": false, "score": 2, "last_activity_date": 1593655042, "creation_date": 1593655042, "answer_id": 62687808, "question_id": 57877306, "link": "https://stackoverflow.com/questions/57877306/android-viewmodel-transformations-map-not-working/62687808#62687808", "title": "Android viewmodel transformations map not working", "body": "<p>The thing is if you <strong>do not register any observer</strong> on your live data, <strong>it will not trigger</strong>. So you can not debug or see it at your viewModel.</p>\n"}], "owner": {"reputation": 277, "user_id": 12048666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09266cf471e0d7a2196a666b388d1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "Ma2340", "link": "https://stackoverflow.com/users/12048666/ma2340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1116, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1593655042, "creation_date": 1568144658, "last_edit_date": 1568333788, "question_id": 57877306, "link": "https://stackoverflow.com/questions/57877306/android-viewmodel-transformations-map-not-working", "title": "Android viewmodel transformations map not working", "body": "<p>I have a view with button - </p>\n\n<p>My view code -</p>\n\n<pre><code>private val viewModel: MyViewModel by viewModel()\n\n    override fun onCreateView(...): View? {\n        //Button click\n        view.getMyData.setOnClickListener {\n            viewModel.onGetDataClicked.observe(this, Observer {\n            view?.progressBar?.isVisible = it.loading\n            view?.description?.text = it.data.value\n        })\n        }\n        return view\n    }\n</code></pre>\n\n<p>My view model code -</p>\n\n<pre><code>val viewState = MyViewState()\n\n    val onGetDataClicked =\n        Transformations.map(myDomain.getData(MyAction.GetMyDataAction)) {\n            when (it) {\n                is MyResult.Loading -&gt; viewState.copy(loading = true, error = null)\n                is MyResult.Success -&gt; viewState.copy(\n                    loading = false,\n                    data = it.data,\n                    error = null\n                )\n                is MyResult.Error -&gt; viewState.copy(\n                    loading = false,\n                    error = it.error\n                )\n                else -&gt; viewState.copy(loading = false)\n            }\n        }\n</code></pre>\n\n<p>Here is the code for MyViewState() -</p>\n\n<pre><code>data class MyViewState(\n    val loading: Boolean = false,\n    val data: MyModel = MyModel(),\n    val error: MyResult.ErrorType? = null\n) : ViewState\n</code></pre>\n\n<p>When I open the app and click the button, the call goes to viewmodel and from there to domain and then I observe my data. But on second time button click, the viewmodel is not called at all from my view. What could be the problem?</p>\n"}, {"tags": ["kotlin", "rx-java"], "comments": [{"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1568147389, "post_id": 57876667, "comment_id": 102180438, "body": "The code is likely not doing what you think it is. First, you subscribe to <code>observable</code> which activates the observer chain. Then you return the <code>observable</code> from <code>handleStream()</code> where you presumably subscribe to it again."}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": false, "score": 1, "last_activity_date": 1568148582, "creation_date": 1568148582, "answer_id": 57878047, "question_id": 57876667, "link": "https://stackoverflow.com/questions/57876667/is-it-possible-to-get-a-notification-when-observable-is-completed-for-cold-strea/57878047#57878047", "title": "Is it possible to get a notification when observable is completed for cold stream?", "body": "<p>You can just use <code>doFinally</code> operator:</p>\n\n<pre><code>override fun &lt;T&gt; handleStream(ctx: StreamServerRequestContext): Observable&lt;T&gt; {\n    counter.incrementAndGet()\n    return ctx.invokeStream&lt;T&gt;()\n        .doFinally {\n            val dec = counter.decrementAndGet()\n            logger.info { \"value after dec $dec\" }\n        }\n}\n</code></pre>\n"}], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568148582, "creation_date": 1568141306, "question_id": 57876667, "link": "https://stackoverflow.com/questions/57876667/is-it-possible-to-get-a-notification-when-observable-is-completed-for-cold-strea", "title": "Is it possible to get a notification when observable is completed for cold stream?", "body": "<p>I am writing an http filter that works on a stream:</p>\n\n<pre><code>override fun handleStream(ctx: StreamServerRequestContext): Observable&lt;T&gt; {\n    counter.incrementAndGet()\n    val observable: Observable&lt;T&gt; = ctx.invokeStream&lt;T&gt;()\n    observable.subscribe(object : Observer&lt;T&gt; {\n        override fun onError(e: Throwable?) {\n            val dec = counter.decrementAndGet()\n            logger.info { \"value after error dec $dec\" }\n        }\n\n        override fun onNext(t: T) {\n        }\n\n        override fun onCompleted() {\n            val dec = counter.decrementAndGet()\n            logger.info { \"value after dec $dec\" }\n        }\n    })\n    return observable\n}\n</code></pre>\n\n<p>I would like to increase a counter before the request and decrease it after. Since it is working with cold stream the effect is that the observable code is executed twice with the above code.</p>\n\n<p>Can I \"listen\" to stream completion without actually invoking it again?</p>\n"}, {"tags": ["kotlin", "android-recyclerview", "android-livedata"], "comments": [{"owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568162950, "post_id": 57876559, "comment_id": 102183925, "body": "did you try just resetting the value of LiveData? <code>_allItems.postValue(_allItems.value)</code> after updating the item inside the list"}, {"owner": {"reputation": 45, "user_id": 11036802, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MuXkAq8Sruc/AAAAAAAAAAI/AAAAAAAAAE4/JmmD9o5ImjY/photo.jpg?sz=128", "display_name": "MustachedNinja", "link": "https://stackoverflow.com/users/11036802/mustachedninja"}, "reply_to_user": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568221612, "post_id": 57876559, "comment_id": 102209067, "body": "That did it! I was looking for a function that did just that. I must&#39;ve missed it in the documentation."}, {"owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "edited": false, "score": 0, "creation_date": 1568225221, "post_id": 57876559, "comment_id": 102210534, "body": "That&#39;s great, will post as answer. Would appreciate it if you accept it."}], "answers": [{"tags": [], "owner": {"reputation": 1188, "user_id": 2553984, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eed4eac661715b954939f2e2c007b1cb?s=128&d=identicon&r=PG", "display_name": "y.allam", "link": "https://stackoverflow.com/users/2553984/y-allam"}, "is_accepted": true, "score": 0, "last_activity_date": 1568225298, "creation_date": 1568225298, "answer_id": 57894613, "question_id": 57876559, "link": "https://stackoverflow.com/questions/57876559/how-to-set-the-properties-in-a-recyclerview-to-update-when-the-viewmodel-list-it/57894613#57894613", "title": "How to set the properties in a RecyclerView to update when the ViewModel List items properties are updated?", "body": "<p>Try resetting the value of LiveData:</p>\n\n<pre><code>_allItems.postValue(_allItems.value)\n</code></pre>\n\n<p>after updating the item inside the list</p>\n"}], "owner": {"reputation": 45, "user_id": 11036802, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MuXkAq8Sruc/AAAAAAAAAAI/AAAAAAAAAE4/JmmD9o5ImjY/photo.jpg?sz=128", "display_name": "MustachedNinja", "link": "https://stackoverflow.com/users/11036802/mustachedninja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 57894613, "answer_count": 1, "score": 0, "last_activity_date": 1568225298, "creation_date": 1568140785, "question_id": 57876559, "link": "https://stackoverflow.com/questions/57876559/how-to-set-the-properties-in-a-recyclerview-to-update-when-the-viewmodel-list-it", "title": "How to set the properties in a RecyclerView to update when the ViewModel List items properties are updated?", "body": "<p>I've set up my project in such a way that the RecyclerView loads a list of Items from the ViewModel and then displays them. So the ViewModel stores a LiveData> which the RecyclerView observes and is supposed to update when it changes.</p>\n\n<p>This works for cases if I want to delete or add an element in the list, but what if I want to update the text property of a list element? Since this isn't considered as modifying the list, the Observer is not triggered.</p>\n\n<p>Essentially is there a way to work around this. I was thinking maybe it's possible to trigger the Observer manually from the ViewModel whenever a change occurs, but that sortof seems counter-intuitive to the whole principle of a ViewModel.</p>\n\n<p>Some basic context code</p>\n\n<p>MainFragment.kt:</p>\n\n<pre><code>mViewModel.allItems.observe(activity!!, Observer { newData -&gt;\n    adapter.data = newData\n})\n</code></pre>\n\n<p>MainAdapter.kt:</p>\n\n<pre><code>var data = listOf&lt;Item&gt;()\n    set(value) {\n        field = value\n        notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>MyViewModel.kt:</p>\n\n<pre><code>private val _allItems = MutableLiveData&lt;List&lt;Item&gt;&gt;()\n    val allItems: LiveData&lt;List&lt;Item&gt;&gt;\n        get() = _allItems\n</code></pre>\n\n<p>I would like the RecyclerView to be updated when I ran this in the ViewModel:</p>\n\n<pre><code>fun updateItem(arg : String) {\n    for (item in _allItems.value!!) {\n        if (item.text == arg) {\n            item.text = \"$arg: clicked!\"\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["xml", "android-studio", "kotlin", "material-design"], "comments": [{"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 1, "creation_date": 1568141162, "post_id": 57876519, "comment_id": 102177978, "body": "Did you peek at <a href=\"https://material.io/develop/android/components/text-input-layout/\" rel=\"nofollow noreferrer\">material.io/develop/android/components/text-input-layout</a> ? You&#39;d need to update the textAppearance of the hint (<a href=\"https://developer.android.com/reference/com/google/android/material/textfield/TextInputLayout.html#attr_TextInputLayout_hintTextAppearance\" rel=\"nofollow noreferrer\">developer.android.com/reference/com/google/android/material&zwnj;&#8203;/&hellip;</a>) (My guess)"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1568144825, "post_id": 57876519, "comment_id": 102179407, "body": "Try to apply @style/Widget.MaterialComponents.TextInputLayout.FilledBox to your TextInputLayout"}], "owner": {"reputation": 902, "user_id": 10709519, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xDanYP2D-iQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hL-s2Ye-IxGU1p4UmzV6G2kh5zzw/mo/photo.jpg?sz=128", "display_name": "QThompson", "link": "https://stackoverflow.com/users/10709519/qthompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568140572, "creation_date": 1568140572, "question_id": 57876519, "link": "https://stackoverflow.com/questions/57876519/how-do-i-change-the-size-of-the-hint-when-it-shrinks", "title": "How do I change the size of the hint when it shrinks?", "body": "<p>I am trying to create a player form for my android application. The problem I am having is that when the hint shrinks, you can barely see it. I tried changing the size of the text and the TextInputLayout with no luck.</p>\n\n<pre><code>   &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=\"@+id/first_name_text_input_layout\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:paddingTop=\"@dimen/keyline_2\"\n                android:paddingStart=\"@dimen/keyline_2\"\n                android:paddingEnd=\"@dimen/keyline_2\"\n                app:errorEnabled=\"true\"\n                app:errorTextColor=\"@color/color_error\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                app:layout_constraintStart_toEndOf=\"@id/player_initial_text\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintBottom_toTopOf=\"@id/last_name_input_text_layout\"&gt;\n\n   &lt;com.google.android.material.textfield.TextInputEditText\n                    android:id=\"@+id/first_name_input_text\"\n                    android:layout_width=\"400dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:background=\"@android:color/white\"\n                    android:inputType=\"textNoSuggestions\"\n                    android:hint=\"@string/first_name_hint\"\n                    android:textColorHint=\"@color/color_hint_grey\"\n                    android:fontFamily=\"@font/alternate_got_no1d\"\n                    android:textSize=\"30sp\"/&gt;\n   &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7xgFF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xgFF.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ajNCa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ajNCa.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "sslhandshakeexception", "x509trustmanager"], "answers": [{"comments": [{"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1568183849, "post_id": 57883105, "comment_id": 102189401, "body": "I am getting a JSON response back upon accessing api.jamendo.com/v3.0/playlists/?client_id=c7668145&amp;format=js&zwnj;&#8203;onpretty&amp;namesearch=&zwnj;&#8203;cool on default phone browser as well as on chrome"}, {"owner": {"reputation": 36, "user_id": 2648970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4bsT.png?s=128&g=1", "display_name": "nysos", "link": "https://stackoverflow.com/users/2648970/nysos"}, "reply_to_user": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1568184851, "post_id": 57883105, "comment_id": 102189780, "body": "Ok thats good, got somewhat sidetracked by the pinning discussion. So based on your first stacktrace - the handshake fails which is neither a pinning nor a trust issue. Jamendo does not seem to support up to date TLS protocols/ciphers: <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=api.jamendo.com\" rel=\"nofollow noreferrer\">api.jamendo.com at ssllabs</a>."}, {"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1568267099, "post_id": 57883105, "comment_id": 102221365, "body": "Thanks for providing the link to sslabs. And you are right, they only support TLS v1.0 which will be deprecated by all the major internet companies as written here <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Transport_Layer_Security</a>. Moreover, Retrofit has already stopped the support for TLS v1.0 as I found out in their Medium article here <a href=\"https://medium.com/square-corner-blog/okhttp-3-13-requires-android-5-818bb78d07ce\" rel=\"nofollow noreferrer\">medium.com/square-corner-blog/&hellip;</a>. And thanks for pointing out that &quot;Protocol error&quot; in the stacktrace."}, {"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1568267302, "post_id": 57883105, "comment_id": 102221440, "body": "If you could modify your answer by including these links <a href=\"https://github.com/square/okhttp/issues/4670\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/4670</a> and <a href=\"https://medium.com/square-corner-blog/okhttp-3-13-requires-android-5-818bb78d07ce\" rel=\"nofollow noreferrer\">medium.com/square-corner-blog/&hellip;</a> plus your comment then that would be the right answer and would help people to know more about this problem as no such question exists on SO."}], "tags": [], "owner": {"reputation": 36, "user_id": 2648970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4bsT.png?s=128&g=1", "display_name": "nysos", "link": "https://stackoverflow.com/users/2648970/nysos"}, "is_accepted": true, "score": 2, "last_activity_date": 1568267866, "last_edit_date": 1568267866, "creation_date": 1568182438, "answer_id": 57883105, "question_id": 57876417, "link": "https://stackoverflow.com/questions/57876417/javax-net-ssl-sslhandshakeexception-handshake-failed-even-after-adding-custo/57883105#57883105", "title": "&quot; javax.net.ssl.SSLHandshakeException: Handshake failed&quot; Even after adding custom TrustManager and Certificate Pinning", "body": "<p>The <strong>handshake</strong> issue is due to Jamendo API using an old deprecated TLS protocol version (1.0) and not support newer protocol versions:<br>\n* <a href=\"https://github.com/square/okhttp/issues/4670\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/issues/4670</a>\n* <a href=\"https://medium.com/square-corner-blog/okhttp-3-13-requires-android-5-818bb78d07ce\" rel=\"nofollow noreferrer\">https://medium.com/square-corner-blog/okhttp-3-13-requires-android-5-818bb78d07ce</a>  </p>\n\n<p>Side-notes: I would <strong>definitely opt against a custom TrustManager implementation</strong>, this would only make sense e.g. if your endpoint is using a self-signed certificate.  As a basic check i would verify that your Android System TrustStore is working by trying to open the Jamendo URL directly on the phone/emulator browser to see if you get any issues?  Pinning provides additional protection but does not resolve basic handshake issue you are seeing.  </p>\n"}, {"tags": [], "owner": {"reputation": 1051, "user_id": 2471275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc276f264025f8607144a01153b397f9?s=128&d=identicon&r=PG", "display_name": "Djek-Grif", "link": "https://stackoverflow.com/users/2471275/djek-grif"}, "is_accepted": false, "score": 1, "last_activity_date": 1585739382, "creation_date": 1585739382, "answer_id": 60969524, "question_id": 57876417, "link": "https://stackoverflow.com/questions/57876417/javax-net-ssl-sslhandshakeexception-handshake-failed-even-after-adding-custo/60969524#60969524", "title": "&quot; javax.net.ssl.SSLHandshakeException: Handshake failed&quot; Even after adding custom TrustManager and Certificate Pinning", "body": "<p>Check your 'TLS' support. I've faced with this problem. In my app I use retrofit lib. So try add 'COMPATIBLE_TLS' config to your OkHttpClient like:</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\nList&lt;ConnectionSpec&gt; connectionSpecs = new ArrayList&lt;&gt;();\nconnectionSpecs.add(ConnectionSpec.COMPATIBLE_TLS);\nclient.setConnectionSpecs(connectionSpecs);\n...\n</code></pre>\n\n<p>And update your library in gradle at least to v2.7.5 like:</p>\n\n<pre><code>implementation 'com.squareup.okhttp:okhttp:2.7.5'\n</code></pre>\n"}], "owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4354, "favorite_count": 0, "accepted_answer_id": 57883105, "answer_count": 2, "score": 2, "last_activity_date": 1585739382, "creation_date": 1568140022, "question_id": 57876417, "link": "https://stackoverflow.com/questions/57876417/javax-net-ssl-sslhandshakeexception-handshake-failed-even-after-adding-custo", "title": "&quot; javax.net.ssl.SSLHandshakeException: Handshake failed&quot; Even after adding custom TrustManager and Certificate Pinning", "body": "<p>I am planning to use <strong>Jamendo API</strong> to download music but upon connection to the API the following error was thrown  </p>\n\n<pre><code>javax.net.ssl.SSLHandshakeException: Handshake failed\n        at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:286)\n        at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:351)\n        at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:310)\n        at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:178)\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:236)\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:109)\n        at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:77)\n        at okhttp3.internal.connection.Transmitter.newExchange$okhttp(Transmitter.kt:162)\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:35)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:82)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:84)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:71)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:112)\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:87)\n        at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.kt:184)\n        at okhttp3.RealCall.execute(RealCall.kt:66)\n        at com.example.musicplayer.utils.CertificatePinningKt.certificatePinning(CertificatePinning.kt:26)\n        at com.example.musicplayer.fragments.HomeFragment$onActivityCreated$1$1.invokeSuspend(HomeFragment.kt:42)\n        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n        at kotlinx.coroutines.DispatchedTask.run(Dispatched.kt:241)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:594)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler.access$runSafely(CoroutineScheduler.kt:60)\n        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:740)\n     Caused by: javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0xedb6ee48: Failure in SSL library, usually a protocol error\n    error:100000f0:SSL routines:OPENSSL_internal:UNSUPPORTED_PROTOCOL (external/boringssl/src/ssl/handshake_client.cc:576 0xe5faba43:0x00000000)\n        at com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native Method)\n        at com.android.org.conscrypt.NativeSsl.doHandshake(NativeSsl.java:375)\n        at com.android.org.conscrypt.ConscryptFileDescriptorSocket.startHandshake(ConscryptFileDescriptorSocket.java:224)\n            ... 27 more\n</code></pre>\n\n<p>Then I came to know that certain CA certificates are not known to Android and the way out is either enable <strong>TrustManager</strong> to not verify any certificate on an <em>https</em> request like the accepted answer of <a href=\"https://stackoverflow.com/questions/53304082/adding-a-custom-certificate-to-an-okhttp-client\">this SO post</a> or to add a custom <em>TrustManager</em> to accept the CA certificate of the server to which I need to communicate <a href=\"https://developer.android.com/training/articles/security-ssl.html#SelfSigned\" rel=\"nofollow noreferrer\">according to this google doc </a>, and I took the latter approach. </p>\n\n<p><strong>!) First,</strong> I checked the <em>Jamendo's</em> server info using the following command  </p>\n\n<pre><code>$ openssl s_client -connect jamendo.com:443 | openssl x509 -noout -subject -issuer\n</code></pre>\n\n<p>which results in  </p>\n\n<blockquote>\n  <p>depth=3 C = US, O = \"The Go Daddy Group, Inc.\", OU = Go Daddy Class 2 Certification Authority\n  verify return:1<br>\n  depth=2 C = US, ST = Arizona, L = Scottsdale, O = \"GoDaddy.com, Inc.\", CN = Go Daddy Root Certificate Authority - G2\n  verify return:1<br>\n  depth=1 C = US, ST = Arizona, L = Scottsdale, O = \"GoDaddy.com, Inc.\", OU = <a href=\"http://certs.godaddy.com/repository/\" rel=\"nofollow noreferrer\">http://certs.godaddy.com/repository/</a>, CN = Go Daddy Secure Certificate Authority - G2\n  verify return:1<br>\n  depth=0 C = LU, L = Luxembourg, O = Jamendo SA, CN = <em>.jamendo.com\n  verify return:1<br>\n  subject= /C=LU/L=Luxembourg/O=Jamendo SA/CN=</em>.jamendo.com\n  issuer= /C=US/ST=Arizona/L=Scottsdale/O=GoDaddy.com, Inc./OU=<a href=\"http://certs.godaddy.com/repository//CN=Go\" rel=\"nofollow noreferrer\">http://certs.godaddy.com/repository//CN=Go</a> Daddy Secure Certificate Authority - G2  </p>\n</blockquote>\n\n<p>It looks like that <em>Jamendo</em> is using <em>GoDaddy's</em> hosting service so I went to their <a href=\"https://ssl-ccp.godaddy.com/repository?origin=CALLISTO\" rel=\"nofollow noreferrer\">certification page</a> and as in the above output, the certificates used are from <em>G2</em> group so I downloaded <em>root</em> and <em>intermediate</em> certificates(<em>first two</em>) as they are mentioned in the output.</p>\n\n<p><strong>2) And</strong> then I tried to create custom <em>SSLSocketFactory</em> and <em>TrustManager</em> which results into the same error. <em>The approach is shown in the following code</em></p>\n\n<pre><code>fun getCACertificateAndroid(resources: Resources): Pair&lt;SSLSocketFactory, X509TrustManager&gt; {\n    val cf: CertificateFactory = CertificateFactory.getInstance(\"X.509\")\n\n    //  certificate 1\n    var caInput: InputStream = resources.openRawResource(R.raw.gdig2)\n    val ca: X509Certificate = caInput.use {\n        cf.generateCertificate(it) as X509Certificate\n    }\n    Log.d(\"GetCACertificateAndroid\", \"getCACertificateAndroid: ca= + ${ca.subjectDN}\")\n\n    //  certificate 2\n    caInput = resources.openRawResource(R.raw.gdroot_g2)\n    val ca1: X509Certificate = caInput.use {\n        cf.generateCertificate(it) as X509Certificate\n    }\n    Log.d(\"GetCACertificateAndroid\", \"getCACertificateAndroid: ca1= + ${ca1.subjectDN}\")\n\n    // Create a KeyStore containing our trusted CAs\n    val keyStoreType = KeyStore.getDefaultType()\n    val keyStore = KeyStore.getInstance(keyStoreType).apply {\n        load(null, null)\n        setCertificateEntry(\"ca\", ca)\n        setCertificateEntry(\"ca1\", ca1)\n    }\n\n    // Create a TrustManager that trusts the CAs inputStream our KeyStore\n    val tmfAlgorithm: String = TrustManagerFactory.getDefaultAlgorithm()\n    val tmf: TrustManagerFactory = TrustManagerFactory.getInstance(tmfAlgorithm).apply {\n        init(keyStore)\n    }\n\n    // Create an SSLContext that uses our TrustManager\n    val context: SSLContext = SSLContext.getInstance(\"TLS\").apply {\n        init(null, tmf.trustManagers, null)\n    }\n\n\n    return Pair(context.socketFactory, tmf.trustManagers[0] as X509TrustManager)\n}\n</code></pre>\n\n<p><strong>Some other file</strong></p>\n\n<pre><code>...\n\nval (_sslSocketFactory, x509tTrustManager) = getCACertificateAndroid(resources)\n\n    val client = OkHttpClient.Builder()\n        .sslSocketFactory(_sslSocketFactory, x509tTrustManager)\n        .build()\n\n    val gson = GsonBuilder()\n        .setLenient()\n        .create()\n\n    val retrofit = Retrofit.Builder()\n        .baseUrl(\"https://api.jamendo.com/v3.0/playlists/?client_id=c7668145&amp;format=jsonpretty&amp;namesearch=cool\") //   \"https://storage.googleapis.com/\"\n        .addConverterFactory(GsonConverterFactory.create(gson))\n        .client(client)\n        .build()\n\n...\n</code></pre>\n\n<p><strong>3) Then</strong> I came to know about <strong>Certificate pinning</strong> <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-certificate-pinner/#setting-up-certificate-pinning\" rel=\"nofollow noreferrer\">in <em>OKHttp</em></a> and thought to give it a try by getting the <em>base64 encoding</em> of the downloaded certificates by running the following command</p>\n\n<pre><code>openssl x509 -in cert.crt -pubkey -noout | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | openssl enc -base64\n</code></pre>\n\n<p>based on the accepted answer of <a href=\"https://stackoverflow.com/questions/36163093/how-do-we-generate-a-base64-encoded-sha256-hash-of-subjectpublickeyinfo-of-an-x\">this post</a> and then tried to run the following code but still, the error persists.</p>\n\n<pre><code>fun certificatePinning() {\n    val hostname = \"api.jamendo.com/v3.0/playlists/?client_id=c7668145&amp;format=jsonpretty&amp;namesearch=cool\"\n    val sha256base64_hash1 = \"sha256/Ko8tivDrEjiY90yGasP6ZpBU4jwXvHqVvQI0GS3GNdA=\"\n    val sha256base64_hash2 = \"sha256/8Rw90Ej3Ttt8RRkrg+WYDS9n7IS03bk5bjP/UXPtaY8=\"\n\n\n    val certificatePinner = CertificatePinner.Builder()\n        .add(hostname, sha256base64_hash1)\n        .add(hostname, sha256base64_hash2)\n        .build()\n    val client = OkHttpClient.Builder()\n        .certificatePinner(certificatePinner)\n        .build()\n\n    val request = Request.Builder()\n        .url(\"https://$hostname\")\n        .build()\n    client.newCall(request).execute()\n}\n</code></pre>\n\n<p>If someone could point me in the right direction then it would be a great help.</p>\n"}, {"tags": ["android", "kotlin", "controller", "bottomnavigationview", "conductor"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 2280156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ef6c0f58b0dd39f8b149a44879bc52?s=128&d=identicon&r=PG", "display_name": "Mark S", "link": "https://stackoverflow.com/users/2280156/mark-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1568217881, "last_edit_date": 1568217881, "creation_date": 1568217472, "answer_id": 57892873, "question_id": 57876139, "link": "https://stackoverflow.com/questions/57876139/conductor-popping-to-controller-without-showing-in-view/57892873#57892873", "title": "Conductor: Popping to controller without showing in view", "body": "<p>Conductor ships with the class <code>com.bluelinelabs.conductor.internal.NoOpControllerChangeHandler</code> which should fit your use case. Looking at the source, it does nothing other than call <code>ControllerChangeCompletedListener.onChangeCompleted()</code>. As I understand, that should mean that no views are added or removed.</p>\n\n<p>To answer your question about passing in a <code>null</code> change handler, the internal method in the library responsible for handling changes contains the following code:</p>\n\n<pre><code>if (inHandler == null) {\n    handler = new SimpleSwapChangeHandler();\n} else if (inHandler.hasBeenUsed &amp;&amp; !inHandler.isReusable()) {\n    handler = inHandler.copy();\n} else {\n    handler = inHandler;\n}\n</code></pre>\n\n<p>where <code>inHandler</code> refers to the change handler you passed in to the <code>popToTag</code> method. The <code>SimpleSwapChangeHandler</code> does swap the views with no animation exactly as you've discovered.</p>\n"}], "owner": {"reputation": 548, "user_id": 9273211, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9b012cbc9683a1b10f9a4c73c5086fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle ", "link": "https://stackoverflow.com/users/9273211/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 57892873, "answer_count": 1, "score": 1, "last_activity_date": 1568217881, "creation_date": 1568138700, "last_edit_date": 1568145936, "question_id": 57876139, "link": "https://stackoverflow.com/questions/57876139/conductor-popping-to-controller-without-showing-in-view", "title": "Conductor: Popping to controller without showing in view", "body": "<p>I have an app that uses Conductor to handle it's Bottom Nav bar navigation. For sake of brevity, I will try to describe it as concisely as possible.\nThe app has a good amount of logic in place which I want to touch as minimally as possible</p>\n\n<p>The issue i'm having has to do with <code>ControllerChangeHandler.onChangeCompleted()</code></p>\n\n<p>The bottom nav is structured as so..</p>\n\n<p><code>Dashboard | Login | Doctors | Locations | More</code></p>\n\n<p>When the user logs in via the <code>Login</code> tab, <code>Conductor</code> pops to my <code>Dashboard Controller</code> very quickly then launches a new activity, so that when the user hit's back button they are return to BottomNav Activity and land on dashboard.</p>\n\n<p>The issue i'm having is that the user is able to see the Dashboard view flash for half a second before the new activity launches.</p>\n\n<pre><code>  router.popToTag(newTag, null)\n</code></pre>\n\n<p>^^ Should passing in null for <code>ChangeHandler</code> prevent any swapping of views? Or will it simple swap the views without any fancy animations?? I believe this is where the source of my confusion is.</p>\n\n<p>I was hoping that by having <code>ChangeHandler</code> set to null, there would be no visible animation, but views still swap before launching activity. </p>\n\n<p>Unfortunetly, my login logic and flow is tightly dependent on <code>OnChangeCompleted()</code>. So I need Conductor to pop to the new controller, I just need it to happen completely invisible to the user...</p>\n\n<p>Any advice?? I think if my question directly under the line of code is answered that will help me a lot.</p>\n"}, {"tags": ["file", "kotlin", "path"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1568153052, "post_id": 57875934, "comment_id": 102182160, "body": "If this is Windows, then the path separator should be \u2018\\\u2019 \u2014 but note that that&#39;s a special character, so to get a string with a \u2018\\\u2019 in it you&#39;ll need to enter \u2018\\\\\u2019 in the source."}, {"owner": {"reputation": 723, "user_id": 797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0456f790248fed936e6ced48654a91aa?s=128&d=identicon&r=PG", "display_name": "C-Shark", "link": "https://stackoverflow.com/users/797108/c-shark"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1571521672, "post_id": 57875934, "comment_id": 103270940, "body": "@gidds that&#39;s not true. Forward slashes are fine, they are translated internally to backslashes.  I ran this code on my machine (with different paths, but same forward slashes), and it is working. zerk are you sure that the files are not symlinks? All imports stats with java.nio.file... ?"}], "owner": {"reputation": 318, "user_id": 7713720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a420e8227f865d6d20b300c2c0b321?s=128&d=identicon&r=PG&f=1", "display_name": "zerk", "link": "https://stackoverflow.com/users/7713720/zerk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568137576, "creation_date": 1568137576, "question_id": 57875934, "link": "https://stackoverflow.com/questions/57875934/kotlin-paths-get-gives-me-nosuchfileexception", "title": "Kotlin Paths.get gives me NoSuchFileException?", "body": "<p><strong>The problem:</strong></p>\n\n<p>I am trying to move a file called \"test.txt\" from directory A to directory B.</p>\n\n<pre><code>    val sourcePath = Paths.get(\"C:/Users/DGH/Pictures/TestImages/test.txt\");\n    val targetPath = Paths.get(\"C:/Users/DGH/Pictures/TestOutputImages/test.txt\");\n    Files.move(sourcePath, targetPath, StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n\n<p>I am completely sure that the text file exists at Pictures/TestImages/test.txt.</p>\n\n<p>Even if I copy-paste the path directly in my file explorer, it will open the text file.</p>\n\n<p>However, if I run this piece of code, it gives me a Exception in thread \"main\" java.nio.file.NoSuchFileException: C:\\Users\\DGH\\Pictures\\TestImages\\test.txt.</p>\n\n<p><strong>What have I tried:</strong></p>\n\n<ul>\n<li>Let the path starts with a slash, so</li>\n</ul>\n\n<p>Paths.get(\"/C:/Users/DGH/Pictures/TestImages/test.txt\");</p>\n\n<ul>\n<li>Replace the slash with a double backslash, so</li>\n</ul>\n\n<p>Paths.get(\"C:\\Users\\DGH\\Pictures\\TestImages\\test.txt\");</p>\n\n<p>Does someone have any idea why this is giving me a NoSuchFileException and what can I do to fix this?</p>\n"}, {"tags": ["java", "gradle", "kotlin", "groovy", "dsl"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 11331623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a990a8872570536abbf3fdba97656fe5?s=128&d=identicon&r=PG&f=1", "display_name": "riya", "link": "https://stackoverflow.com/users/11331623/riya"}, "edited": false, "score": 1, "creation_date": 1568150170, "post_id": 57877317, "comment_id": 102181311, "body": "<a href=\"https://stackoverflow.com/questions/53344114/gradle-change-default-port-from-5005\" title=\"gradle change default port from 5005\">stackoverflow.com/questions/53344114/&hellip;</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12021836"}, "is_accepted": false, "score": 2, "last_activity_date": 1568144716, "creation_date": 1568144716, "answer_id": 57877317, "question_id": 57875930, "link": "https://stackoverflow.com/questions/57875930/gradle-application-plugin-with-kotlin-dsl-with-multiple-main-classes/57877317#57877317", "title": "Gradle application plugin with kotlin DSL with multiple main classes", "body": "<p>I finally found <a href=\"https://stackoverflow.com/questions/51810254/execute-javaexec-task-using-gradle-kotlin-dsl\">execute JavaExec task using gradle kotlin dsl</a> and that helped me. It can be run from command line as \n<strong>./gradlew runSimple --debug-jvm</strong></p>\n\n<pre><code>group = \"com.lapots.breed\"\nversion = \"1.0-SNAPSHOT\"\n\nplugins {\n    java\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n}\n\nrepositories {\n    mavenCentral()\n}\n\ntask(\"runSimple\", JavaExec::class) {\n    main = \"com.mrhaki.java.Simple\"\n    classpath = sourceSets[\"main\"].runtimeClasspath\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 11331623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a990a8872570536abbf3fdba97656fe5?s=128&d=identicon&r=PG&f=1", "display_name": "riya", "link": "https://stackoverflow.com/users/11331623/riya"}, "is_accepted": false, "score": 2, "last_activity_date": 1568151314, "creation_date": 1568151314, "answer_id": 57878503, "question_id": 57875930, "link": "https://stackoverflow.com/questions/57875930/gradle-application-plugin-with-kotlin-dsl-with-multiple-main-classes/57878503#57878503", "title": "Gradle application plugin with kotlin DSL with multiple main classes", "body": "<p>if you want debug also then modify task as follows and run with <strong><em>./gradlew runSimple</em></strong> , taken from <a href=\"https://stackoverflow.com/questions/53344114/gradle-change-default-port-from-5005\">gradle: change default port from 5005</a></p>\n\n<blockquote>\n  <p>no --debug-jvm needed</p>\n</blockquote>\n\n<pre><code>task(\"runSimple\", JavaExec::class) {\n    main = \"com.mrhaki.java.Simple\"\n    classpath = sourceSets[\"main\"].runtimeClasspath\n\njvmArgs= listOf( \"-Xdebug\", \"-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=y\")\n    }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12021836"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1568151314, "creation_date": 1568137541, "last_edit_date": 1568144822, "question_id": 57875930, "link": "https://stackoverflow.com/questions/57875930/gradle-application-plugin-with-kotlin-dsl-with-multiple-main-classes", "title": "Gradle application plugin with kotlin DSL with multiple main classes", "body": "<p>I am have a java application that has multiple main classes, the build.gradle is written in kotlin and named build.gradle.kts</p>\n\n<p>It is failing with error Build failed with an exception</p>\n\n<p>Script compilation errors:</p>\n\n<p>Line 50: task(runSimple, dependsOn: \"classes\", type: JavaExec) {</p>\n\n<p>Expecting ')'</p>\n\n<p>I can solve the problem by using build.gradle as shown in <a href=\"https://stackoverflow.com/questions/43937169/gradle-application-plugin-with-multiple-main-classes\">Gradle application plugin with multiple main classes</a></p>\n\n<p>but team want to stay with kotlin</p>\n\n<pre><code>apply plugin: 'java'\n\ntask(runSimple, dependsOn: 'classes', type: JavaExec) { \n   main = 'com.mrhaki.java.Simple'\n   classpath = sourceSets.main.runtimeClasspath\n   args 'mrhaki'\n   systemProperty 'simple.message', 'Hello '\n}\n</code></pre>\n\n<p>is the code when build.gradle is used and it does work,</p>\n\n<p>but</p>\n\n<pre><code>plugins {\n  java \n  application\n}\n\ntask(runSimple, dependsOn: 'classes', type: JavaExec) {\n   main = 'com.mrhaki.java.Simple'\n   classpath = sourceSets.main.runtimeClasspath\n   args 'mrhaki'\n   systemProperty 'simple.message', 'Hello '\n}\n</code></pre>\n\n<p>does not work</p>\n\n<p>It should be able to run the class com.mrhaki.java.Simple but does not</p>\n\n<p>I guess the kotlin translation is not correct.</p>\n"}, {"tags": ["java", "android", "kotlin", "mapbox-android"], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568137382, "creation_date": 1568137382, "question_id": 57875905, "link": "https://stackoverflow.com/questions/57875905/mapbox-for-android-using-tiles-from-a-server", "title": "Mapbox for Android, using Tiles from a server", "body": "<p>I am trying to figure out what is the best practice to use Mapbox on Android with tiles stored in a server.</p>\n\n<p>I know the tiles are available because I can make them appear on the web.\nI can use the default styles no problem <code>mapBox.setStyle(Style.LIGHT)</code> but when I try to change the map style using the server tiles.</p>\n\n<p>I'm creating a <code>JsonObject</code>:</p>\n\n<pre><code>val mapJSONObject = JsonObject()\n</code></pre>\n\n<p>which is the equivalent of this: </p>\n\n<pre><code>{\n  \"version\": 8,\n  \"sources\": {\n    \"tiles-name\": {\n    \"type\": \"raster\",\n    \"url\": \"https://myserver.com/map/c16c1u38213f0db8001b1c6e8cee5f7a/{z}/{x}/{y}?token=jfsdajfdsjkfjksh34232fsd\",\n    \"tileSize\": 256\n    }\n  },\n  \"layers\": [{\n    \"id\": \"ee-raster\",\n    \"type\": \"raster\",\n    \"source\": \"tiles-name\",\n    \"minzoom\": 0,\n    \"maxzoom\": 22\n  }]\n}\n</code></pre>\n\n<p>I've tried to use this <code>JsonObject</code> by either calling it by: </p>\n\n<pre><code>map.setStyle(Style.Builder().fromJson(mapJSONObject.toString()))\n</code></pre>\n\n<p>or by creating a .json file via this function:</p>\n\n<pre><code>@Throws(IOException::class)\nfun save(context: Context, jsonString: String) {\n    val rootFolder = context.getExternalFilesDir(null)\n    val jsonFile = File(rootFolder, \"file.json\")\n    val writer = FileWriter(jsonFile)\n    writer.write(jsonString)\n    writer.close()\n}\n</code></pre>\n\n<p>then using that .json file via:</p>\n\n<pre><code>map.setStyle(Style.Builder().fromJson(\"file.json\"))\n</code></pre>\n\n<p>When triggering the change map using:</p>\n\n<pre><code>map.setStyle(Style.Builder().fromJson(mapJSONObject.toString()))\n</code></pre>\n\n<p>I get the error message:</p>\n\n<blockquote>\n  <p>D/Mbgl-HttpRequest: [HTTP] Request with response = 404: No additional\n  information \n  [Style]: Failed to load source tiles-name: HTTP status code 404</p>\n</blockquote>\n\n<p>When triggering the change map using:</p>\n\n<pre><code>map.setStyle(Style.Builder().fromJson(\"file.json\"))\n</code></pre>\n\n<p>I get the error message:</p>\n\n<blockquote>\n  <p>[ParseStyle]: Failed to parse style: Invalid value. at offset 1</p>\n</blockquote>\n\n<p>I have trouble debugging this, even though the error messages seem clear enough. </p>\n\n<p>I have been reading through the MapBox documentation, but can't seem to find a clear example using tiles from tiles on a server. </p>\n\n<p>Can anyone identify what might be the issue or point me to an example using this method? </p>\n\n<p>Doesn't have to be in Kotlin, Java would be equally useful. </p>\n"}, {"tags": ["android", "kotlin", "calendarcontract"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1568146478, "post_id": 57875660, "comment_id": 102180066, "body": "Did you trying performing them concurrently?"}, {"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1568220194, "post_id": 57875660, "comment_id": 102208452, "body": "As in: each in their own thread? I&#39;ll try that!"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1568275970, "post_id": 57875660, "comment_id": 102225069, "body": "Maybe 70 threads is too much. You might want to use Kotlin coroutines instead."}, {"owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1568315709, "post_id": 57875660, "comment_id": 102245506, "body": "Putting it all in its own thread didn&#39;t make things faster. (I used anko&#39;s <code>doAsync</code>), I now put the deleting in its thread and the writing in its thread. Speeds things up somewhat, but I am still hoping there is a way to just submit it all at once so I only have a single interaction with the <code>contentProvider</code>..."}], "owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568136277, "creation_date": 1568136277, "question_id": 57875660, "link": "https://stackoverflow.com/questions/57875660/inserting-multiple-events-into-calendar-is-pretty-slow-can-i-speed-that-up", "title": "inserting multiple events into calendar is pretty slow. Can I speed that up?", "body": "<p>I made an app that keeps track of a bunch of events, and puts them into a users calendar. It can get up to 60-70 events (in my case, not a software restriction) and it turns out that removing 60 events and inserting 60 new ones takes up to a minute on my phone.\nI am wondering if there is a way to do this faster.</p>\n\n<p>I followed the basic guide on <a href=\"https://developer.android.com/guide/topics/providers/calendar-provider\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/providers/calendar-provider</a> to insert and remove events in a calendar, which works nicely, but slow.</p>\n\n<pre><code>    fun deleteEvents(eventsList: List&lt;Event&gt;){\n        val DEBUG_TAG = \"DELETERT\"\n        eventsList.forEach {\n            if (it._id != null) {\n                val eventID: Long = it._id\n                val deleteUri: Uri = ContentUris.withAppendedId(CalendarContract.Events.CONTENT_URI, eventID)\n                val rows: Int = context.contentResolver.delete(deleteUri, null, null)\n                Log.i(DEBUG_TAG, \"Rows deleted: $rows\")\n            }\n        }\n    }\n\n    fun insertEvents(eventsList: List&lt;Event&gt;, sharedPreferences: SharedPreferences){\n        eventsList.forEach{ event -&gt;\n            if (event.start_time.isNotEmpty()) { // should not be empty, prevents crashes if it is\n                // check event type and if that is to be calendarized:\n                var putItIn = true\n// (...do something which might change putItIn to false)\n                if (putItIn) {\n                    val values = ContentValues().apply {\n                        put(CalendarContract.Events.DTSTART, event.startInstant)\n                        put(CalendarContract.Events.DTEND, event.endInstant)\n                        put(CalendarContract.Events.TITLE, event.description)\n                        put(CalendarContract.Events.DESCRIPTION, \"${event.notes}\\n\" + IDENTIFIER )\n                        put(CalendarContract.Events.CALENDAR_ID, activeCalendar!!.calID)\n                        put(CalendarContract.Events.EVENT_TIMEZONE, \"UTC\")\n                        put(CalendarContract.Events.EVENT_LOCATION, event.extra_data)\n                    }\n                    context.contentResolver.insert(CalendarContract.Events.CONTENT_URI, values)\n                }\n            }\n            else Log.d(event.description, event.event_type)\n        }\n    }\n</code></pre>\n\n<p>Above functions are called with a list of Events (which is homemade class that holds the info to be put in the events in the calendar and some other stuff).</p>\n\n<p>Like I said, it can take up to a minute to take care of the whole bunch, which seems slow. Can I speed this up?</p>\n"}, {"tags": ["java", "kotlin", "migration"], "answers": [{"comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1568140229, "post_id": 57876316, "comment_id": 102177618, "body": "So basically you mean there is an implicit second signature that takes lambdas instead of SAM objects, but there will be no signature that mixes and matches interfaces and lambdas?"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 4, "creation_date": 1568140332, "post_id": 57876316, "comment_id": 102177670, "body": "This also works <code>CompletableFuture.supplyAsync(Supplier{ 3 }, executor)</code>, and I think if I&#39;m understanding you correctly, it&#39;s because the SAM constructor literally creates an object implementing the interface so it uses the first signature above."}, {"owner": {"reputation": 3855, "user_id": 342882, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/c13b4dc095a1bcc25e008effdd5cf07a?s=128&d=identicon&r=PG", "display_name": "Daneel Yaitskov", "link": "https://stackoverflow.com/users/342882/daneel-yaitskov"}, "edited": false, "score": 1, "creation_date": 1568140860, "post_id": 57876316, "comment_id": 102177883, "body": "I liked solution with Supplier{3} more, cause it is calling the method I wanted. Definitely Intellij should take care of this situation with a hint about implicit methods, cause the CompletableFuture is Java class."}, {"owner": {"reputation": 1167, "user_id": 1109377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f77d96fcb618da9303ec4983738a92f6?s=128&d=identicon&r=PG", "display_name": "Lorenz", "link": "https://stackoverflow.com/users/1109377/lorenz"}, "edited": false, "score": 0, "creation_date": 1568141482, "post_id": 57876316, "comment_id": 102178099, "body": "Yes, Kotlin somehow implicitly adds methods that make Java methods accepting functional interfaces usable from Kotlin with lambdas. I don&#39;t know of any place where these methods are documented, besides from the auto completion that comes with IntelliJ."}], "tags": [], "owner": {"reputation": 1167, "user_id": 1109377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f77d96fcb618da9303ec4983738a92f6?s=128&d=identicon&r=PG", "display_name": "Lorenz", "link": "https://stackoverflow.com/users/1109377/lorenz"}, "is_accepted": true, "score": 6, "last_activity_date": 1568157753, "last_edit_date": 1568157753, "creation_date": 1568139590, "answer_id": 57876316, "question_id": 57875523, "link": "https://stackoverflow.com/questions/57875523/how-to-pass-kotlin-lambda-to-java-supplier-argument/57876316#57876316", "title": "How to pass Kotlin lambda to Java Supplier argument?", "body": "<p>This will work:</p>\n\n<pre><code>CompletableFuture.supplyAsync({ 3 }, executor::execute)\n</code></pre>\n\n<p>Note that the two signatures are</p>\n\n<pre><code>public static &lt;U&gt; supplyAsync(supplier: Supplier&lt;U&gt;, executor: Executor): CompletableFuture&lt;U&gt;\npublic static &lt;U&gt; supplyAsync(supplier: () -&gt; U, executor: (Runnable) -&gt; Unit): CompletableFuture&lt;U&gt;\n</code></pre>\n\n<p>That is, if you want to pass in a lambda, the thing that executes it has to be a method reference (instead of an <code>Executor</code> instance).</p>\n\n<p>Edit: This is documented <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">here</a>, Kotlin allows you to call methods that take SAM (functional interface) parameters with proper Kotlin functions as arguments. However, this is all or nothing. Either you pass a Kotlin function for all SAM parameters, or for none. This explains why the approach you originally took didn't compile. This is not specific methods of the Java API, but instead works for all methods defined on Java classes.</p>\n"}], "owner": {"reputation": 3855, "user_id": 342882, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/c13b4dc095a1bcc25e008effdd5cf07a?s=128&d=identicon&r=PG", "display_name": "Daneel Yaitskov", "link": "https://stackoverflow.com/users/342882/daneel-yaitskov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4018, "favorite_count": 1, "accepted_answer_id": 57876316, "answer_count": 1, "score": 2, "last_activity_date": 1568157753, "creation_date": 1568135650, "question_id": 57875523, "link": "https://stackoverflow.com/questions/57875523/how-to-pass-kotlin-lambda-to-java-supplier-argument", "title": "How to pass Kotlin lambda to Java Supplier argument?", "body": "<p>I migrate my project to Kotlin and this phase has a lot of interaction between Java and Kotlin.</p>\n\n<p>In sample below I need to pass a function which implements Java Supplier interface.</p>\n\n<pre><code>java.util.concurrent.CompletableFuture.supplyAsync&lt;Int&gt;({ -&gt; 3 }, executor)\n\nCompletableFuture.supplyAsync({ 3 }, executor)\n</code></pre>\n\n<p>IntellJ shows error:</p>\n\n<pre><code>Type mismatch.\nRequired: Supplier&lt;Int!&gt;!\nFound: () -&gt; Int\n</code></pre>\n\n<p>I found a workaround with a helper class but it is not an inline solution.</p>\n\n<pre><code>class Help : Supplier&lt;Int&gt; { fun get() = 3 }\nsupplyAsync(Help(), executor)\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "inner-classes", "software-design"], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 5567052, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021213794567294/picture?type=large", "display_name": "Jokubas Trinkunas", "link": "https://stackoverflow.com/users/5567052/jokubas-trinkunas"}, "edited": false, "score": 0, "creation_date": 1568153418, "post_id": 57875543, "comment_id": 102182232, "body": "Thanks for your feedback, I think I will stick to the inner class approach. &quot;Composition over inheritance&quot; has convinced me."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1568135731, "creation_date": 1568135731, "answer_id": 57875543, "question_id": 57875007, "link": "https://stackoverflow.com/questions/57875007/what-is-the-best-way-to-set-my-delegate-variable-inner-class-vs-this/57875543#57875543", "title": "What is the best way to set my delegate variable (inner class vs. this)?", "body": "<p>It really depends on your use-case, and I'm not familiar with <code>DeviceDelegate</code> at all. But I'll give it a try.</p>\n\n<p>Using inner class provides better encapsulation and separation of concerns.<br>\nAlso, implementing less interfaces makes your class a bit easier to reason about, for the same reasons above.</p>\n\n<p>You can also argue that the second approach is more \"composition over inheritance\".</p>\n\n<p>I would use the first approach only if you see a lot of duplication in your inner class, eg:</p>\n\n<pre><code>class BLEClient(val device: Device) : Client {\n    fun b() { }\n\n    inner class DeviceDelegateInner() : DeviceDelegate {\n       override fun a() = b()\n    }    \n}\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 5567052, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021213794567294/picture?type=large", "display_name": "Jokubas Trinkunas", "link": "https://stackoverflow.com/users/5567052/jokubas-trinkunas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568146388, "creation_date": 1568133379, "last_edit_date": 1568146388, "question_id": 57875007, "link": "https://stackoverflow.com/questions/57875007/what-is-the-best-way-to-set-my-delegate-variable-inner-class-vs-this", "title": "What is the best way to set my delegate variable (inner class vs. this)?", "body": "<p>So, I have a following <code>BLEClient</code> class and I'm currently setting <code>deviceDelegate</code> using <code>this</code> keyword</p>\n\n<pre><code>class BLEClient(val device: Device) : Client, DeviceDelegate {\n\n   init {\n      device.deviceDelegate = this\n   }\n\n    // client interface methods\n    override fun connect() {...}\n    override fun disconnect() {...}\n    override fun send() {...}\n\n    // device delegate interface methods\n    override fun didSend() { ... }\n    override fun didConnect() { ... }\n    override fun didReceive() { ... }\n}\n</code></pre>\n\n<p>I was wondering if this is the best way to do it, since I could also use an inner class for <code>DeviceDelegate</code> instead of implementing interface directly, in my eyes this would make the code more readable and simple?</p>\n\n<p>The class would look like this:</p>\n\n<pre><code>class BLEClient(val device: Device) : Client {\n\n    init {\n       device.deviceDelegate = DeviceDelegateInner()\n    }\n\n    /* client interface methods */\n    override fun connect() {...}\n    override fun disconnect() {...}\n    override fun send() {...}\n\n    inner class DeviceDelegateInner() : DeviceDelegate {\n       override fun didSend() { }\n       override fun didConnect() { }\n       override fun didReceive() { }\n    }\n}\n</code></pre>\n\n<p>Are there any significant drawbacks if I set my delegate using an inner class instead of implementing an interface directly and setting it using <code>this</code> keyword?</p>\n\n<p>What would you guys prefer? Which way is better?</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "owner": {"reputation": 1013, "user_id": 7290822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2RS7G.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/7290822/sumit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1568173375, "creation_date": 1568132008, "last_edit_date": 1568173375, "question_id": 57874648, "link": "https://stackoverflow.com/questions/57874648/unit-testing-function-with-firestore-implementation", "title": "Unit testing function with Firestore implementation", "body": "<p>Can someone guide/help me how to write unit test for the getProfileDetails() function:</p>\n\n<p>I have gone through various answers on Stackoverflow but unable to solve this</p>\n\n<p>Here is the relevant code</p>\n\n<pre><code>    class EditProfileViewModel(private val mFireStore: FirebaseFirestore,\n                               private val mStorageReference: StorageReference) {\n\n    fun getProfileDetails() {\n    mFireStore.collection(Constants.USER).document(\"document_id\")\n                .get()\n                .addOnSuccessListener {documentSnapshot -&gt;\n    if (documentSnapshot != null){\n    val userProfile = documentSnapshot.toObject(UserProfile::class.java)\n    Log.d(\"TAG\",\"UserProfile ${userProfile.toString()}\")\n    }\n    }.addOnFailureListener { ex -&gt;\n\n                    Log.d(\"TAG\",ex.message.toString())\n                }\n    }\n\n    }\n</code></pre>\n\n<p>I am able to mock firestore instance using mockito, but not able to figure a way to test code on onSuccess and onFailure.\n    Let me know if any other detail is required.</p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 4134167, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/101935baa59c40a1da4ff221e856fe47?s=128&d=identicon&r=PG&f=1", "display_name": "marcorei", "link": "https://stackoverflow.com/users/4134167/marcorei"}, "is_accepted": false, "score": 0, "last_activity_date": 1568273651, "creation_date": 1568273651, "answer_id": 57901825, "question_id": 57874566, "link": "https://stackoverflow.com/questions/57874566/lint-rule-find-uclass-based-on-qualified-class-name/57901825#57901825", "title": "Lint rule: Find UClass based on qualified class name", "body": "<p>I found that using the qualified name was not the right thing to do in this case.</p>\n\n<p><code>UCallExpression.returnType</code> gives me a <code>PsiClassType</code>. I then use the UAST context to find the matching <code>UClass</code>.</p>\n"}], "owner": {"reputation": 346, "user_id": 4134167, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/101935baa59c40a1da4ff221e856fe47?s=128&d=identicon&r=PG&f=1", "display_name": "marcorei", "link": "https://stackoverflow.com/users/4134167/marcorei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568273651, "creation_date": 1568131726, "last_edit_date": 1568134507, "question_id": 57874566, "link": "https://stackoverflow.com/questions/57874566/lint-rule-find-uclass-based-on-qualified-class-name", "title": "Lint rule: Find UClass based on qualified class name", "body": "<p>I am writing a lint rule to be used in Android Studio. I want to verify that the return type of certain Kotlin methods is a Class that implements a given Interface.</p>\n\n<p>I can get the qualified name of the return type from the <code>UCallExpression</code>.</p>\n\n<p>And I could get the list of Interfaces from a <code>UClass</code> object.</p>\n\n<p>But I can't figure out how to get the <code>UClass</code> based on a qualified class name. </p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["generics", "kotlin", "collections", "rx-java", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 5930112, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ef7b27ca78c693a7c9427dec76778be7?s=128&d=identicon&r=PG&f=1", "display_name": "ikurek", "link": "https://stackoverflow.com/users/5930112/ikurek"}, "edited": false, "score": 0, "creation_date": 1568147294, "post_id": 57877443, "comment_id": 102180406, "body": "It looks better then nested <code>.map()</code>s, but it&#39;s not really much simpler. I&#39;m looking for some kind of extension function or one-liner :-/"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "reply_to_user": {"reputation": 534, "user_id": 5930112, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ef7b27ca78c693a7c9427dec76778be7?s=128&d=identicon&r=PG&f=1", "display_name": "ikurek", "link": "https://stackoverflow.com/users/5930112/ikurek"}, "edited": false, "score": 0, "creation_date": 1568150685, "post_id": 57877443, "comment_id": 102181460, "body": "Well there are few things to consider: one it&#39;s now immutable, two it&#39;s pure RxJava, three you are restricted by your API flow requiring multiple steps and four this could be an extension function. However that would not make more readable just abstracted in a separate method, which you could argue makes it less readable. If you want less complicated consider redesigning the API calls that make this multi stepped."}], "tags": [], "owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "is_accepted": false, "score": 1, "last_activity_date": 1568145771, "last_edit_date": 1568145771, "creation_date": 1568145434, "answer_id": 57877443, "question_id": 57874011, "link": "https://stackoverflow.com/questions/57874011/mapping-elements-of-collection-from-rx-single-observable/57877443#57877443", "title": "Mapping elements of collection from RX Single/Observable", "body": "<p>Something like this could work quite nicely, and maintain immutability (if <code>SampleObject</code> is a <code>data class</code>):</p>\n\n<pre><code>data class SampleObject(val someProperty : Any, val otherProperty : Any)\n\n\nfun getSampleObjects(): Single&lt;List&lt;SampleObject&gt;&gt; =\n        sampleService.getSampleObjects()\n                .toObservable()\n                .flatMapIterable { it }\n                .flatMapSingle { sampleObject -&gt; \n                       otherSampleService.getSampleProperty()\n                            .map { sampleObject.copy(someProperty = it) } \n                }.toList()\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 5930112, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ef7b27ca78c693a7c9427dec76778be7?s=128&d=identicon&r=PG&f=1", "display_name": "ikurek", "link": "https://stackoverflow.com/users/5930112/ikurek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1568145771, "creation_date": 1568129517, "question_id": 57874011, "link": "https://stackoverflow.com/questions/57874011/mapping-elements-of-collection-from-rx-single-observable", "title": "Mapping elements of collection from RX Single/Observable", "body": "<p>In my project, I use RxJava/RxKotlin bindings to communicate with REST API. The API sometimes returns a list of elements, that need to be altered/mapped, before I can use them.</p>\n\n<p>Currently, mapping of these elements is done by nested <code>.map()</code> and <code>.apply()</code> functions, like this:</p>\n\n<pre><code>fun getSampleObjects(): Single&lt;List&lt;SampleObject&gt;&gt; =\n    sampleService.getSampleObjects()\n        .map { list -&gt;\n            list.map { sampleObject -&gt;\n                sampleObject.apply {\n                    sampleProperty = otherSampleService.getSampleProperty()\n                }\n            }\n        }\n</code></pre>\n\n<p>where <code>sampleService.getSampleObjects()</code> returns and RxKotlin <code>Single&lt;List&lt;SampleObject&gt;&gt;</code></p>\n\n<p>I'm looking for an easier-to-read and more efficient way to archive the same result, possibly without the need to alter data models.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1568129757, "post_id": 57873841, "comment_id": 102173029, "body": "What do you mean by &quot;I make the focus on it&quot;, you&#39;re doing it programmatically or by touching? Please, check if steps are correct to reproduce? 1) Click on the spinner select and item 2) Then touch on <code>EditText</code> and <code>EditText</code> gains focus 3) Now again click on the spinner but spinner won&#39;t open. Are those steps what you&#39;re doing?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568153295, "post_id": 57873841, "comment_id": 102182212, "body": "What is the root <code>ViewGroup</code> in that layout? <code>FrameLayout</code> will just stack its child <code>View</code>s, overlapping one atop the other, so if it is another <code>FrameLayout</code>, then it would seem that your <code>Spinner</code> is being covered by other <code>View</code>s. Btw, you have a couple of unnecessary <code>FrameLayout</code>s there, as it is."}, {"owner": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "reply_to_user": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1568185268, "post_id": 57873841, "comment_id": 102189987, "body": "@Farid When i said &quot;make the focus on it&quot;, it was for a touch on the EditText component. And yes this is the steps to reproduce. I&#39;m using val view = inflater.inflate(R.layout.fragment_phone, container, false) to inflate the view"}, {"owner": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "reply_to_user": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1568185492, "post_id": 57873841, "comment_id": 102190076, "body": "@Farid the last step, I can open my spinner, but it doesn&#39;t detect an item selected"}], "answers": [{"tags": [], "owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "is_accepted": false, "score": 0, "last_activity_date": 1568369346, "last_edit_date": 1568369346, "creation_date": 1568187894, "answer_id": 57884398, "question_id": 57873841, "link": "https://stackoverflow.com/questions/57873841/spinner-onitemselectedlistener-inside-a-fragment-isnt-working-properly/57884398#57884398", "title": "Spinner onItemSelectedListener inside a fragment isn&#39;t working properly", "body": "<p>The code you've posted works as expected.</p>\n\n<p>Can you please create a very simple project and add this line to that project and check if everything works properly? If below code works in your simple project we can debug your main project further. If this is not working, then there could be a problem in your device.</p>\n\n<blockquote>\n  <p>activity_main.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"match_parent\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;FrameLayout\n        android:orientation=\"horizontal\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" android:background=\"@mipmap/ic_launcher\"\n        android:layout_marginBottom=\"10dp\" android:layout_marginTop=\"10dp\"&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatSpinner\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\" android:id=\"@+id/spinnerCountries\"\n            android:spinnerMode=\"dropdown\" android:layout_margin=\"5dp\"/&gt;\n    &lt;/FrameLayout&gt;\n    &lt;FrameLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" android:layout_marginLeft=\"10dp\" android:layout_marginRight=\"10dp\"&gt;\n\n        &lt;FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" android:background=\"@android:color/white\"/&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n            android:id=\"@+id/input_layout_phone\"\n            style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:textColorHint=\"@android:color/holo_orange_dark\"&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                android:id=\"@+id/input_phone\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:inputType=\"phone\"\n                android:hint=\"phone number\"\n                android:importantForAutofill=\"noExcludeDescendants\"\n                android:maxLength=\"20\"\n                android:drawableRight=\"@mipmap/ic_launcher\"\n                android:textColor=\"@android:color/holo_orange_dark\"\n                tools:ignore=\"UnusedAttribute\" android:background=\"@null\" android:fitsSystemWindows=\"true\"/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;/FrameLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p>MainActivity.kt</p>\n</blockquote>\n\n<pre><code>class MainActivity: AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val adapter = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_dropdown_item, Arrays.asList(\"a\",\"b\",\"c\"))\n        spinnerCountries.adapter =adapter\n\n        spinnerCountries!!.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(arg0: AdapterView&lt;*&gt;, arg1: View, position: Int, arg3: Long) {\n                input_phone!!.text!!.clear()\n                input_phone!!.text!!.clearSpans()\n                input_phone!!.setText(adapter.getItem(position))\n                input_phone!!.setSelection(adapter?.getItem(position)!!.length)\n            }\n\n            override fun onNothingSelected(arg0: AdapterView&lt;*&gt;) {\n\n\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11377703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-231mqIgRtT8/AAAAAAAAAAI/AAAAAAAADXM/ieK3EZ6CZz0/photo.jpg?sz=128", "display_name": "Kamenber", "link": "https://stackoverflow.com/users/11377703/kamenber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568369346, "creation_date": 1568128840, "last_edit_date": 1568138132, "question_id": 57873841, "link": "https://stackoverflow.com/questions/57873841/spinner-onitemselectedlistener-inside-a-fragment-isnt-working-properly", "title": "Spinner onItemSelectedListener inside a fragment isn&#39;t working properly", "body": "<p>Using a spinner on a fragment, all seems to be good, but when I add an EditText and set focus in EditText, my spinner listener won't respond...</p>\n\n<p>I have tried a lot of things, like change my spinner data, delete all the disruptive code, change layouts.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;FrameLayout\n            android:orientation=\"horizontal\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\" android:background=\"@drawable/button_orange\"\n            android:layout_marginBottom=\"10dp\" android:layout_marginTop=\"10dp\"&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatSpinner\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"match_parent\" android:id=\"@+id/spinnerCountries\"\n                android:spinnerMode=\"dropdown\" android:layout_margin=\"5dp\"/&gt;\n    &lt;/FrameLayout&gt;\n    &lt;FrameLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" android:layout_marginLeft=\"10dp\" android:layout_marginRight=\"10dp\"&gt;\n\n        &lt;FrameLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\" android:background=\"@color/white\"/&gt;\n\n        &lt;com.google.android.material.textfield.TextInputLayout\n                android:id=\"@+id/input_layout_phone\"\n                style=\"@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:textColorHint=\"@color/orange\"&gt;\n\n            &lt;com.google.android.material.textfield.TextInputEditText\n                    android:id=\"@+id/input_phone\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:inputType=\"phone\"\n                    android:hint=\"@string/hint_phone_number\"\n                    android:importantForAutofill=\"noExcludeDescendants\"\n                    android:maxLength=\"20\"\n                    android:drawableRight=\"@mipmap/icon_help_phone\"\n                    android:textColor=\"@color/orange\"\n                    tools:ignore=\"UnusedAttribute\" android:background=\"@null\" android:fitsSystemWindows=\"true\"/&gt;\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>mSpinnerCountries!!.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(arg0: AdapterView&lt;*&gt;, arg1: View, position: Int, arg3: Long) {\n                prefs!![\"country_position\"] = position\n                val mSelectedCountry = arg0.selectedItem as Pays?\n\n                prefs!![\"user_countrycode\"] = mSelectedCountry?.code\n                prefs!![\"carrier_countryiso\"] = mSelectedCountry?.iso\n                prefs!![\"country_prefix\"] = mSelectedCountry?.prefix\n\n                Timber.d(\"Item selected on spinner : code ${mSelectedCountry?.code}, iso ${mSelectedCountry?.iso}, prefix ${mSelectedCountry?.prefix}\")\n                mEditText!!.text!!.clear()\n                mEditText!!.text!!.clearSpans()\n                mEditText!!.setText(mSelectedCountry?.prefix)\n                mEditText!!.setSelection(mSelectedCountry?.prefix!!.length)\n            }\n\n            override fun onNothingSelected(arg0: AdapterView&lt;*&gt;) {\n                val mSelectedCountry = arg0.selectedItem as Pays?\n                prefs!![\"user_countrycode\"] = mSelectedCountry?.code\n                prefs!![\"carrier_countryiso\"] = mSelectedCountry?.iso\n                prefs!![\"country_prefix\"] = mSelectedCountry?.prefix\n\n                Timber.d(\"No Item selected on spinner : code ${mSelectedCountry?.code}, iso ${mSelectedCountry?.iso}, prefix ${mSelectedCountry?.prefix}\")\n                mEditText!!.setText(mSelectedCountry?.prefix)\n                mEditText!!.setSelection(mSelectedCountry?.prefix!!.length+1)\n            }\n        }\n</code></pre>\n\n<p>Now I expect to be able to use the spinner listener even after the edited text has been focused.</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "github-api"], "answers": [{"tags": [], "owner": {"reputation": 1061, "user_id": 7972851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EOYdi.jpg?s=128&g=1", "display_name": "grrigore", "link": "https://stackoverflow.com/users/7972851/grrigore"}, "is_accepted": true, "score": 0, "last_activity_date": 1568217553, "creation_date": 1568217553, "answer_id": 57892898, "question_id": 57873742, "link": "https://stackoverflow.com/questions/57873742/github-api-getting-files-data-from-directories/57892898#57892898", "title": "Github API getting files data from directories", "body": "<p>I managed to implement a temporary solution.</p>\n\n<p>I wrote two functions that will return:</p>\n\n<ol>\n<li><a href=\"https://gist.github.com/grrigore/ea97c0238ed2b5e73123c642898f5ee3#file-solution-kt-L1\" rel=\"nofollow noreferrer\">an <code>Observable</code> of the list</a> containing the data from the method <code>mModel.getFile(responseBody.path)</code> </li>\n<li><a href=\"https://gist.github.com/grrigore/ea97c0238ed2b5e73123c642898f5ee3#file-solution-kt-L54\" rel=\"nofollow noreferrer\">an <code>Observable</code> of the list</a> containing the <code>responseBody.download_url</code></li>\n</ol>\n\n<p>After I get the two observables I merge them using <code>.zip()</code> method with <a href=\"https://gist.github.com/grrigore/ea97c0238ed2b5e73123c642898f5ee3#file-solution-kt-L97\" rel=\"nofollow noreferrer\">this</a> combine method:</p>\n\n<pre><code>Observable.zip(getImageDataObservable(),\n  getImageDownloadUrlObservable(),\n  object: BiFunction &lt; MutableList &lt; Image &gt; , MutableList &lt; Image &gt; , List &lt; Image &gt;&gt; {\n   override fun apply(imageData: MutableList &lt; Image &gt; , imageUrl: MutableList &lt; Image &gt; ): List &lt; Image &gt; {\n    return combineImageObservables(imageData, imageUrl)\n   }\n  })\n .subscribeOn(Schedulers.io())\n .observeOn(AndroidSchedulers.mainThread())\n .subscribe(object: Consumer &lt; List &lt; Image &gt;&gt; {\n  override fun accept(images: List &lt; Image &gt; ? ) {\n   Log.d(TAG, \"images = ${images?.size}\")\n   Log.d(TAG, images.toString())\n\n   if (images != null) {\n    mViewDelegate.showImages(images)\n   } else {\n    mViewDelegate.showError(\"Try again!\")\n   }\n\n   mViewDelegate.showSuccess(\"Displaying ${images?.size} images\")\n   mViewDelegate.hideLoading()\n  }\n }, object: Consumer &lt; Throwable &gt; {\n  override fun accept(t: Throwable ? ) {\n   Log.e(TAG, t.toString(), t)\n   if (t != null) {\n    mViewDelegate.showError(t.message)\n   } else {\n    mViewDelegate.showError(\"Error\")\n   }\n   Crashlytics.logException(t)\n   mViewDelegate.hideLoading()\n  }\n })\n</code></pre>\n"}], "owner": {"reputation": 1061, "user_id": 7972851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EOYdi.jpg?s=128&g=1", "display_name": "grrigore", "link": "https://stackoverflow.com/users/7972851/grrigore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 57892898, "answer_count": 1, "score": 1, "last_activity_date": 1568217553, "creation_date": 1568128468, "question_id": 57873742, "link": "https://stackoverflow.com/questions/57873742/github-api-getting-files-data-from-directories", "title": "Github API getting files data from directories", "body": "<p>I'm trying to use the Github API in order to get contents of a directory I created.</p>\n\n<p>This is the directory structure I have:</p>\n\n<blockquote>\n  <ul>\n  <li>images\n  \n  <ul>\n  <li>mobile_images\n  \n  <ul>\n  <li>img1241251235\n  \n  <ul>\n  <li>extractedText.txt</li>\n  <li>img.jpeg (these files might be larger then 1MB)</li>\n  </ul></li>\n  <li>img2142412312\n  \n  <ul>\n  <li>extractedText.txt</li>\n  <li>img.jpeg</li>\n  </ul></li>\n  </ul></li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>As you can see I know that in the <code>images/mobile_images/</code> directory there are a bunch of directories that follow a structure.</p>\n\n<p>From these directories, I want to extract the content of each <code>extractedText.txt</code> file (the text stored in that file) and save the download_url of each <code>img.jpeg</code>.</p>\n\n<p>The steps I follow are:</p>\n\n<ol>\n<li><p>On the root directory (images/mobile_images) I call <a href=\"https://developer.github.com/v3/repos/contents/#get-contents\" rel=\"nofollow noreferrer\">this</a> method and get a list of the directories within it (<a href=\"https://developer.github.com/v3/repos/contents/#response-if-content-is-a-directory\" rel=\"nofollow noreferrer\">this response</a>). So I get <code>img124...</code>, <code>img214...</code> and so on.</p></li>\n<li><p>Now that I got all the directories (the <code>imgXX..</code> ones) I call the same method on each one to get their content. This returns the <code>extractedText.txt</code> and <code>img.jpeg</code>. (the response from step 1.)</p></li>\n</ol>\n\n<p>So far so good. </p>\n\n<p>Now if I call the same method on a file it should return <a href=\"https://developer.github.com/v3/repos/contents/#response-if-content-is-a-file\" rel=\"nofollow noreferrer\">this</a>. This works for the <code>extractedText.txt</code> files as their size is not bigger than 1 MB, but for the image files, it will throw an error. </p>\n\n<p>I want to obtain a list of objects that will look like this:</p>\n\n<pre><code>Image(val name: String, //this is something I extract from img123...\nval date: Long, //this is something I extract from img123...\nval extractedText: String, //this should be the text from extractedText.txt\nval url: String) //this should be the download_url of img.jpeg file\n</code></pre>\n\n<p>You can find my current code <a href=\"https://gist.github.com/grrigore/ea97c0238ed2b5e73123c642898f5ee3\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Everything works fine until <a href=\"https://gist.github.com/grrigore/ea97c0238ed2b5e73123c642898f5ee3#file-code-kt-L26\" rel=\"nofollow noreferrer\">that point</a>. When I reach the file I need to check if it's a text file or an image file.</p>\n\n<p>The problem is that I don't know how to manage <a href=\"https://gist.github.com/grrigore/ea97c0238ed2b5e73123c642898f5ee3#file-code-kt-L31\" rel=\"nofollow noreferrer\">that</a> \"if case\" and after that merge the data I get (<code>download_url</code> and <code>extractedText content</code>) into a single image object. This is the part of the code I don't know how to approach:</p>\n\n<pre><code>// from here starts the problem \n .flatMap(object:\n  Function &lt; ResponseBody, Observable &lt; Any &gt;&gt; {\n   override fun apply(responseBody: ResponseBody): Observable &lt; Any &gt; {\n    return\n    if (responseBody.path.contains(\"txt\", true)) {\n // if the file is a text file I need to get the content of the file so I'll call this\n     mModel.getFile(responseBody.path) as Observable &lt; Any &gt;\n    } else {\n // as I mentioned if the file is an img I only need to get download_url\n     responseBody.download_url\n    }\n   }\n  })\n // merge the data into an Image file\n .toList()\n .observeOn(AndroidSchedulers.mainThread())\n .subscribe(object: Consumer &lt; MutableList &lt; Image &gt;&gt; {\n // ...\n</code></pre>\n\n<ol>\n<li>Are there any easier ways to solve this problem? </li>\n<li>Is my approach ok? </li>\n<li>How can I handle that \"if\" situation and how can I merge the data into a single Image object?</li>\n</ol>\n"}, {"tags": ["generics", "inheritance", "kotlin", "interface"], "answers": [{"tags": [], "owner": {"reputation": 1578, "user_id": 357437, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f91a7ac411059abb04af17795009fad9?s=128&d=identicon&r=PG", "display_name": "sedovav", "link": "https://stackoverflow.com/users/357437/sedovav"}, "is_accepted": true, "score": 1, "last_activity_date": 1568130220, "creation_date": 1568130220, "answer_id": 57874190, "question_id": 57873622, "link": "https://stackoverflow.com/questions/57873622/how-to-declare-a-generic-interface-with-type-extending-two-interfaces-in-kotin/57874190#57874190", "title": "How to declare a generic interface with type extending two interfaces in kotin", "body": "<pre><code>interface MyInterface&lt;K&gt; where K : Comparable&lt;K&gt;, K : Serializable\n</code></pre>\n\n<p>Please see <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/generics.html#constraints\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/kotlin-for-py/generics.html#constraints</a> for details.</p>\n"}], "owner": {"reputation": 17, "user_id": 11625261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19429c89ba4c53899965a3ca30638983?s=128&d=identicon&r=PG&f=1", "display_name": "ilariaStocchi", "link": "https://stackoverflow.com/users/11625261/ilariastocchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57874190, "answer_count": 1, "score": 0, "last_activity_date": 1568130220, "creation_date": 1568127991, "last_edit_date": 1568129461, "question_id": 57873622, "link": "https://stackoverflow.com/questions/57873622/how-to-declare-a-generic-interface-with-type-extending-two-interfaces-in-kotin", "title": "How to declare a generic interface with type extending two interfaces in kotin", "body": "<p>I\u2019m searching for an explanation of how to write an interface with the generic type T extending two interfaces Comparable and Serializable</p>\n\n<pre><code>Interface&lt;K:Comparable&lt;K&gt;&gt;\nIt should also be K: java.io.Serializable \nI want to know if it is possible in Kotlin programming language \n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11023, "user_id": 1225617, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d5221312c38d547a0de3476fa0b8e49a?s=128&d=identicon&r=PG", "display_name": "Adam Millerchip", "link": "https://stackoverflow.com/users/1225617/adam-millerchip"}, "edited": false, "score": 0, "creation_date": 1568128410, "post_id": 57873560, "comment_id": 102172325, "body": "You don&#39;t need <code>bar</code>, it just complicates the example. Interesting. You could still call <code>Foo(&quot;&quot;, true)</code>. It seems it would be useful if it warned that the secondary constructor is meaningless because of the default value."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1568129486, "post_id": 57873560, "comment_id": 102172874, "body": "my guess is: because it&#39;s not implemented yet ;-) from the bytecode-point of view I see 3 constructors... one for <code>Foo(String, Boolean)</code>, a synthetic <code>Foo(String, DefaultConstructorMarker)</code> which uses the default value and <code>Foo(String)</code>... so these are 3 distinct constructors... maybe that&#39;s coming... on the other hand I don&#39;t know when I ever had such a constellation... and also cost/benefit ratio is probably not so good..."}, {"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1568134489, "post_id": 57873560, "comment_id": 102175402, "body": "If you use the &#39;first&#39; or the &#39;second&#39; constructor, you always need to provide at least 1 parameter, i.e for <code>bar</code>. In the second constructor, you are always delegating to the primary constructor and you are already providing it with a default value which is <code>false</code>. Reading from decompiled code, it appears that the compiler generated a synthetic method and where it is providing all signatures with their values. So it does not matter which constructor you call, in the end, all conditions are being met."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1570375856, "post_id": 57873560, "comment_id": 102886122, "body": "@series0ne does my post answer your question? :)"}, {"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1570476104, "post_id": 57873560, "comment_id": 102918365, "body": "@WilliMentzel yes :)"}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 5, "last_activity_date": 1568148866, "creation_date": 1568148866, "answer_id": 57878088, "question_id": 57873560, "link": "https://stackoverflow.com/questions/57873560/kotlin-constructor-default-values-and-constructor-overloading/57878088#57878088", "title": "Kotlin - constructor default values and constructor overloading", "body": "<p>If you take a look at the bytecode there are actually three constructors generated, as Roland already pointed out.</p>\n\n<pre><code>public Foo(@NotNull String bar, boolean baz) { ... }\npublic Foo(String var1, boolean var2, int var3, DefaultConstructorMarker var4) { ... }\npublic Foo(@NotNull String bar) { ... }\n</code></pre>\n\n<p>So, there are no duplicate constructor signatures. Now one might ask how Kotlin chooses which overload to take judging from the call-site only.</p>\n\n<p>The overall rationale is that the most specific function/constructor will be chosen from the overload candidates.</p>\n\n<p>This is what the <a href=\"https://kotlin.github.io/kotlin-spec/#overload-resolution\" rel=\"noreferrer\">Kotlin language specification</a> says about it:</p>\n\n<blockquote>\n  <ul>\n  <li><p>For each candidate, we count the number of default parameters not specified in the call (i.e., the number of parameters for which we use\n  the default value);</p></li>\n  <li><p>The candidate with the least number of non-specified default parameters is a more specific candidate;</p></li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p>I know that you intended this to only be an example, but if something like this happens in a real-world situation one should avoid it like the <a href=\"https://kotlinlang.org/docs/kotlin-docs.pdf\" rel=\"noreferrer\">Kotlin Language Documentation</a> (page 76) states:</p>\n\n<blockquote>\n  <p>If you have an object with multiple overloaded constructors that don't\n  call different superclass constructors and can't be reduced to a\n  single constructor with default argument values, prefer to replace the\n  overloaded constructors with factory functions.</p>\n</blockquote>\n\n<pre><code>class Foo2(val bar: String, val baz: Boolean = true) {\n    companion object {\n        fun factoryCreate(s: String) = Foo2(s, false)\n    }\n}\n</code></pre>\n\n<p>In this case it will always be clear right away (without thinking about the overloading resolution rules) what <code>baz</code> will be after creation.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 57878088, "answer_count": 1, "score": 4, "last_activity_date": 1568148866, "creation_date": 1568127767, "last_edit_date": 1568128188, "question_id": 57873560, "link": "https://stackoverflow.com/questions/57873560/kotlin-constructor-default-values-and-constructor-overloading", "title": "Kotlin - constructor default values and constructor overloading", "body": "<p>Consider the following code:</p>\n\n<pre><code>class Foo(val bar: String, val baz: Boolean = true) {\n    constructor(bar: String) : this(bar, false)\n}\n</code></pre>\n\n<p>Without the addition of a secondary constructor, I could call <code>Foo(\"\")</code> because the second argument has a default value. This would result in <code>baz</code> being <code>true</code>.</p>\n\n<p>With the addition of a secondary constructor, I can still call <code>Foo(\"\")</code>, except that now <code>baz</code> is <code>false</code>.</p>\n\n<p>Why does Kotlin not see this as a duplicate constructor signature, since they can both be called with the same arguments?</p>\n"}, {"tags": ["spring", "kotlin", "rabbitmq", "amqp", "qpid"], "owner": {"reputation": 68, "user_id": 7418420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/urkNW.jpg?s=128&g=1", "display_name": "ilovemilk", "link": "https://stackoverflow.com/users/7418420/ilovemilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1576680451, "creation_date": 1568127171, "last_edit_date": 1576680451, "question_id": 57873395, "link": "https://stackoverflow.com/questions/57873395/why-does-basicreject-does-not-work-with-apache-qpid", "title": "Why does basicReject does not work with Apache Qpid?", "body": "<p>I'm using <code>qpid-broker</code> for integration testing my <code>spring-boot-start-amqp</code> application which uses <code>basicGet</code> (autoAck=false), <code>basicAck</code> and <code>basicReject</code> for handling the messages. <code>basicReject</code> (with requeue=false) works fine with my external <code>rabbitmq</code> instance but doesn't work with the <code>qpid-broker</code>.</p>\n\n<p>I have tested my code with an external RabbitMQ instance where everything works fine but with the embedded Apache Qpid server the test fails because <code>basicReject</code> is not working properly.</p>\n\n<p>Getting the message and rejecting it:</p>\n\n<pre><code>rabbitTemplate.execute {\n    val response = it.basicGet(config.queueName, false)\n    it.basicReject(response.envelope.deliveryTag, false)\n}\n</code></pre>\n\n<p>Check if the message is still in the queue:</p>\n\n<pre><code>rabbitTemplate.execute {\n    val response = it.basicGet(config.queueName, false)\n    Assertions.assertThat(response).isNull()\n}\n</code></pre>\n\n<p>My Qpid config:</p>\n\n<pre><code>{\n  \"name\": \"EmbeddedBroker\",\n  \"modelVersion\": \"7.0\",\n  \"authenticationproviders\": [\n    {\n      \"name\": \"password\",\n      \"type\": \"Plain\",\n      \"secureOnlyMechanisms\": [],\n      \"users\": [\n        {\n          \"name\": \"guest\",\n          \"password\": \"guest\",\n          \"type\": \"managed\"\n        }\n      ]\n    }\n  ],\n  \"ports\": [\n    {\n      \"name\": \"AMQP\",\n      \"port\": \"${qpid.amqp_port}\",\n      \"protocols\": [ \"AMQP_0_9_1\" ],\n      \"authenticationProvider\": \"password\",\n      \"virtualhostaliases\": [\n        {\n          \"name\": \"defaultAlias\",\n          \"type\": \"defaultAlias\"\n        }\n      ]\n    }\n  ],\n  \"virtualhostnodes\": [\n    {\n      \"name\": \"default\",\n      \"defaultVirtualHostNode\": \"true\",\n      \"type\": \"Memory\",\n      \"virtualHostInitialConfiguration\": \"{\\\"type\\\": \\\"Memory\\\" }\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Why does <code>basicReject</code> work fine with my RabbitMQ instance but doesn't work properly with the Apache Qpid embedded broker?</p>\n\n<p>Edit: My solution was to move away from qpid and use a <a href=\"https://www.testcontainers.org/modules/rabbitmq/\" rel=\"nofollow noreferrer\">RabbitMQ Testcontainer</a>. </p>\n"}, {"tags": ["file", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 12008646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b08c3ff03607f58ea6b6c88106e353?s=128&d=identicon&r=PG&f=1", "display_name": "bozo", "link": "https://stackoverflow.com/users/12008646/bozo"}, "edited": false, "score": 0, "creation_date": 1568144079, "post_id": 57876600, "comment_id": 102179123, "body": "I changed my code as shown above, but it still tell me that file doesn&#39;t exists"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 59, "user_id": 12008646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b08c3ff03607f58ea6b6c88106e353?s=128&d=identicon&r=PG&f=1", "display_name": "bozo", "link": "https://stackoverflow.com/users/12008646/bozo"}, "edited": false, "score": 0, "creation_date": 1568166405, "post_id": 57876600, "comment_id": 102185339, "body": "How did your file originally get to be saved at <code>&#47;storage&#47;emulated&#47;0&#47;Android&#47;data&#47;com.example.test&#47;files&#47;</code>?"}, {"owner": {"reputation": 59, "user_id": 12008646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b08c3ff03607f58ea6b6c88106e353?s=128&d=identicon&r=PG&f=1", "display_name": "bozo", "link": "https://stackoverflow.com/users/12008646/bozo"}, "edited": false, "score": 0, "creation_date": 1568190934, "post_id": 57876600, "comment_id": 102192752, "body": "I added code for file saving function to my original post"}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 59, "user_id": 12008646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b08c3ff03607f58ea6b6c88106e353?s=128&d=identicon&r=PG&f=1", "display_name": "bozo", "link": "https://stackoverflow.com/users/12008646/bozo"}, "edited": false, "score": 0, "creation_date": 1568206832, "post_id": 57876600, "comment_id": 102201079, "body": "Try the updated line. Sorry I missed that <code>getFilesDir()</code> doesn&#39;t have the absolute path."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 0, "last_activity_date": 1568206799, "last_edit_date": 1568206799, "creation_date": 1568140915, "answer_id": 57876600, "question_id": 57873243, "link": "https://stackoverflow.com/questions/57873243/check-if-file-exists-on-android-device-with-kotlin/57876600#57876600", "title": "Check if file exists on Android device with Kotlin", "body": "<p>You instantiated the file with only the file name and no path, so how can it know where to look? On Android you don't want to be working with the absolute paths but with what the Context gives you. </p>\n\n<p>Not sure how you created your original file, but assuming it was saved to internal storage, you would do this (<code>getFilesDir()</code> is a Context method, so will be available if calling from an Activity):</p>\n\n<pre><code>var file = File(getFilesDir().getAbsolutePath(), fileName2)\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 12008646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8b08c3ff03607f58ea6b6c88106e353?s=128&d=identicon&r=PG&f=1", "display_name": "bozo", "link": "https://stackoverflow.com/users/12008646/bozo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3012, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568206799, "creation_date": 1568126630, "last_edit_date": 1568190903, "question_id": 57873243, "link": "https://stackoverflow.com/questions/57873243/check-if-file-exists-on-android-device-with-kotlin", "title": "Check if file exists on Android device with Kotlin", "body": "<p>I'm newbie in Android development and doing on my first Android project and faced with .txt file handling.\nI succesfully created a txt file on Android Emulator, which is stored in: /storage/emulated/0/Android/data/com.example.test/files/test.txt</p>\n\n<p>My problem is, I don't know how to test with code if this file exists. I write next few lines, which I found on the Internet: </p>\n\n<pre><code>fun checkIfFileExists() {\n    val fileName2 = \"test.txt\"\n    var file = File(filesDir, fileName2)\n    var fileExists = file.exists()\n\n\n    if(fileExists) {\n        println(\"File exists\")\n    }\n    else {\n        println(\"File doesn't exists\")\n    }\n\n}\n</code></pre>\n\n<p>Function for file saving: </p>\n\n<pre><code>btnSave.setOnClickListener(View.OnClickListener {\n\n\n        val file:String = fileName.text.toString()\n        val data:String = fileData.text.toString()\n        val fileOutputStream:FileOutputStream\n        try {\n            fileOutputStream = openFileOutput(file, Context.MODE_PRIVATE)\n            fileOutputStream.write(data.toByteArray())\n        }catch (e: FileNotFoundException){\n            e.printStackTrace()\n        }catch (e: NumberFormatException){\n            e.printStackTrace()\n        }catch (e: IOException){\n            e.printStackTrace()\n        }catch (e: Exception){\n            e.printStackTrace()\n        }\n        Toast.makeText(applicationContext,\"data save\",Toast.LENGTH_LONG).show()\n        fileName.text.clear()\n        fileData.text.clear()\n    })\n</code></pre>\n\n<p>But it always prints \"File doesn't exists\", although I checked myself and file exists. </p>\n\n<p>Hope someone knows what I did wrong.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 2243, "user_id": 4921317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/542839492522188/picture?type=large", "display_name": "Gatusko", "link": "https://stackoverflow.com/users/4921317/gatusko"}, "edited": false, "score": 1, "creation_date": 1568125553, "post_id": 57872892, "comment_id": 102170659, "body": "<code>How can I create java or kotlin code for solve this issue?</code> By start making it."}, {"owner": {"reputation": 71, "user_id": 1895289, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/RDGXY.jpg?s=128&g=1", "display_name": "K_K-K", "link": "https://stackoverflow.com/users/1895289/k-k-k"}, "reply_to_user": {"reputation": 2243, "user_id": 4921317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/542839492522188/picture?type=large", "display_name": "Gatusko", "link": "https://stackoverflow.com/users/4921317/gatusko"}, "edited": false, "score": 0, "creation_date": 1568126252, "post_id": 57872892, "comment_id": 102171084, "body": "@Gatusko Thank you for your reply. Yeah i tried but not get solution yet."}, {"owner": {"reputation": 832, "user_id": 10292075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6q8pd.jpg?s=128&g=1", "display_name": "Goion", "link": "https://stackoverflow.com/users/10292075/goion"}, "edited": false, "score": 0, "creation_date": 1568127143, "post_id": 57872892, "comment_id": 102171588, "body": "@LiNgKung show you attempt. That&#39;s what he meant. Pure coding requests are off-topic on SO. We can help you write you code but not write it for you."}, {"owner": {"reputation": 832, "user_id": 10292075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6q8pd.jpg?s=128&g=1", "display_name": "Goion", "link": "https://stackoverflow.com/users/10292075/goion"}, "edited": false, "score": 0, "creation_date": 1568127556, "post_id": 57872892, "comment_id": 102171849, "body": "I believe you are trying to write sudoko. You should check this out <a href=\"https://stackoverflow.com/questions/1697334/algorithm-for-solving-sudoku\">Algorithm for solving Sudoku</a>"}, {"owner": {"reputation": 71, "user_id": 1895289, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/RDGXY.jpg?s=128&g=1", "display_name": "K_K-K", "link": "https://stackoverflow.com/users/1895289/k-k-k"}, "reply_to_user": {"reputation": 832, "user_id": 10292075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6q8pd.jpg?s=128&g=1", "display_name": "Goion", "link": "https://stackoverflow.com/users/10292075/goion"}, "edited": false, "score": 0, "creation_date": 1568128748, "post_id": 57872892, "comment_id": 102172502, "body": "@Goion Hi, I updated my code on topic."}, {"owner": {"reputation": 832, "user_id": 10292075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6q8pd.jpg?s=128&g=1", "display_name": "Goion", "link": "https://stackoverflow.com/users/10292075/goion"}, "edited": false, "score": 0, "creation_date": 1568131953, "post_id": 57872892, "comment_id": 102174170, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4632322/finding-all-possible-combinations-of-numbers-to-reach-a-given-sum\">Finding all possible combinations of numbers to reach a given sum</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4793, "user_id": 2136795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2aa2525743dbdf65634cc11fae3b6ed?s=128&d=identicon&r=PG", "display_name": "Gyro Gearless", "link": "https://stackoverflow.com/users/2136795/gyro-gearless"}, "edited": false, "score": 0, "creation_date": 1568128497, "post_id": 57873146, "comment_id": 102172358, "body": "Had you ran that? I&#39;d bet there are some flaws in that code ;-)"}], "tags": [], "owner": {"reputation": 3730, "user_id": 5616096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjKci.jpg?s=128&g=1", "display_name": "Matthew Gaiser", "link": "https://stackoverflow.com/users/5616096/matthew-gaiser"}, "is_accepted": false, "score": 0, "last_activity_date": 1568126258, "creation_date": 1568126258, "answer_id": 57873146, "question_id": 57872892, "link": "https://stackoverflow.com/questions/57872892/how-to-find-sum-of-multiples-number-equal-x-give-a-as-multiple-integer-and-x/57873146#57873146", "title": "How to find sum of multiples number equal x. Give a[] as multiple integer and x as expect value", "body": "<p>Here is some basic code to get you started. It only covers the case where two numbers sum to the target value. </p>\n\n<pre><code> public static void main(String args[])\n    {\n        int[] precursors = {10,20,30,1,2,3,4,5,6,7,8};\n        Arrays.sort(precursors);\n        int target = 12;\n\n        for (int i = 0; i &lt; precursors.length; i++)\n        {\n            for(int j = 0; j &lt; precursors.length; j++)\n            {\n                if (precursors[i] &gt;= target)\n                {\n                break;\n                }\n                else if (precursors[i] + precursors[j] == target){\n                    System.out.println(\"[\" + precursors[i] + \",\" + precursors[j]+ \"]\");\n                }\n            }\n        }\n\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 1895289, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/RDGXY.jpg?s=128&g=1", "display_name": "K_K-K", "link": "https://stackoverflow.com/users/1895289/k-k-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568128690, "creation_date": 1568125442, "last_edit_date": 1568128690, "question_id": 57872892, "link": "https://stackoverflow.com/questions/57872892/how-to-find-sum-of-multiples-number-equal-x-give-a-as-multiple-integer-and-x", "title": "How to find sum of multiples number equal x. Give a[] as multiple integer and x as expect value", "body": "<p>How can I change my code to find all possible number combination where addition of number is equal to some input number.</p>\n\n<p>Example data</p>\n\n<p>We have <code>array [1,4,6,8,9,12,17,19,21,28,45,67,.....,n]</code>and input number 29</p>\n\n<p>Expect result is \n(Sum of multiple value from array that equal to x)\n<code>[1,28]\n[8,21]\n[1,9,19]\n....</code></p>\n\n<p>My current code is </p>\n\n<pre><code>int [] number = new int[]{1,5,8,12,15,18,20,24,28,30};\n    int expectValue = 25;\n\n    for (int i = 0; i &lt; number.length-1 ;i++){\n        for (int j = i+1; j &lt; number.length; j++){\n            if(number[i] + number[j] == expectValue){\n                System.out.println(\"[\"+number[i]+\",\"+number[j]+\"]\");\n            }\n        }\n    }\n</code></pre>\n\n<p>Result </p>\n\n<pre><code>[1,24][5,20]\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 50609, "user_id": 11492, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1854af6208925f8305fcbd1600e8140b?s=128&d=identicon&r=PG", "display_name": "GvS", "link": "https://stackoverflow.com/users/11492/gvs"}, "edited": false, "score": 1, "creation_date": 1568125356, "post_id": 57872800, "comment_id": 102170552, "body": "How would you &quot;not return anything&quot;? Could you return <code>null</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10539074"}, "edited": false, "score": 3, "creation_date": 1568127778, "post_id": 57872800, "comment_id": 102171983, "body": "it smells not good"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1568127937, "post_id": 57872800, "comment_id": 102172065, "body": "<code>fun myFun(isAsync : Boolean) = &quot;hello world&quot;.takeIf { isAsync }</code> if you want to spare some characters ;-) ... but... what do you want to do exactly?"}], "answers": [{"comments": [{"owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 1, "creation_date": 1568127403, "post_id": 57872923, "comment_id": 102171750, "body": "You  forgot to add return type in function interface. This is correct: &quot;fun myFun(isAsync: Boolean): String? {...&quot;"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 1, "last_activity_date": 1568134386, "last_edit_date": 1568134386, "creation_date": 1568125534, "answer_id": 57872923, "question_id": 57872800, "link": "https://stackoverflow.com/questions/57872800/is-it-possible-to-create-function-that-in-one-case-return-object-and-on-another/57872923#57872923", "title": "Is it possible to create function that in one case return object and on another case not return anything?", "body": "<p>You have to use a nullable object type like <code>String?</code></p>\n\n<pre><code>fun myFun(isAsync: Boolean): String? {\n    return if (isAsync) {\n        \"test\"\n    } else {\n        null\n    }\n}\n</code></pre>\n\n<p>anyways you should handle it at the call site</p>\n\n<pre><code>val result = myFyn(isAsync)\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57872923, "answer_count": 1, "score": -1, "last_activity_date": 1568134386, "creation_date": 1568125150, "question_id": 57872800, "link": "https://stackoverflow.com/questions/57872800/is-it-possible-to-create-function-that-in-one-case-return-object-and-on-another", "title": "Is it possible to create function that in one case return object and on another case not return anything?", "body": "<p>In my Kotlin project I create function:</p>\n\n<pre><code>fun myFun(isAsync: Boolean) {\n  ...\n}\n</code></pre>\n\n<p>But I need the next behavior of this function:</p>\n\n<ol>\n<li>If <code>isAsync = true</code> then return some object, e.g. \"hello world\"</li>\n<li>If <code>isAsync = false</code> then not return anything</li>\n</ol>\n\n<p>Is it possible in Kotlin?</p>\n"}, {"tags": ["gradle", "kotlin", "plugins"], "comments": [{"owner": {"reputation": 13013, "user_id": 2382650, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c7d1f30701e93afd6b330bb1f7479a6c?s=128&d=identicon&r=PG", "display_name": "Francisco Mateo", "link": "https://stackoverflow.com/users/2382650/francisco-mateo"}, "edited": false, "score": 0, "creation_date": 1568214574, "post_id": 57872469, "comment_id": 102205562, "body": "I&#39;d suggest following the official guides from Gradle which are more up to date. <a href=\"https://guides.gradle.org/implementing-gradle-plugins/#declaring_a_dsl_configuration_container\" rel=\"nofollow noreferrer\">guides.gradle.org/implementing-gradle-plugins/&hellip;</a> and <a href=\"https://docs.gradle.org/current/userguide/custom_gradle_types.html#collection_types\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2235, "user_id": 995617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fce449705ecccc834760a387b2882fcf?s=128&d=identicon&r=PG", "display_name": "kevinmm", "link": "https://stackoverflow.com/users/995617/kevinmm"}, "is_accepted": true, "score": 0, "last_activity_date": 1579104605, "last_edit_date": 1579104605, "creation_date": 1579104287, "answer_id": 59755267, "question_id": 57872469, "link": "https://stackoverflow.com/questions/57872469/gradle-nameddomainobject-is-never-configured/59755267#59755267", "title": "Gradle NamedDomainObject is never configured", "body": "<p>I finally found out that I was misunderstanding the usage of the container's <code>all</code> api. It turns out that <code>all</code> is intended to execute code whenever an element is added, but that does not infer that the object has been <em>configured</em>. So, I was seeing the intended behavior within the <code>all</code> closure, as the delegate <code>PublishSpec</code> instance had only been <em>initialized</em> with the <em>default</em> value.</p>\n\n<p>In order to get <em>my</em> intended behavior, you have to iterate over the container in an <code>afterEvaluate</code> rather than relying on <code>all</code></p>\n\n<pre><code>project.afterEvaluate {\n    publishContainer.forEach {\n        addPublicationRepository(this, myProject)\n        addPublication(this, myProject)\n    }\n}\n</code></pre>\n\n<p>Note that in the blog post that I referenced, <code>all</code> is used in a different context than I had originally tried. The task execution happens after the project has been evaluated.</p>\n"}], "owner": {"reputation": 2235, "user_id": 995617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fce449705ecccc834760a387b2882fcf?s=128&d=identicon&r=PG", "display_name": "kevinmm", "link": "https://stackoverflow.com/users/995617/kevinmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 59755267, "answer_count": 1, "score": 0, "last_activity_date": 1579104605, "creation_date": 1568124045, "last_edit_date": 1568127818, "question_id": 57872469, "link": "https://stackoverflow.com/questions/57872469/gradle-nameddomainobject-is-never-configured", "title": "Gradle NamedDomainObject is never configured", "body": "<p>I have a simple kotlin gradle plugin that creates a <code>container</code> and performs some action for every element in it, e.g. <code>container.all { doSomething() }</code>. However, it doesn\u2019t seem that the <code>NamedDomainObjectCollection</code> is ever configured, properly. When <code>all</code> is called, every element has the initial default values.</p>\n\n<p>Create container and add it.</p>\n\n<pre><code>// create publish container\nval publishContainer: NamedDomainObjectCollection&lt;PublishSpec&gt; = project.container(PublishSpec::class.java)\nproject.extensions.add(CONTAINER_NAME, publishContainer)\n\n// for every element in the publishing container\npublishContainer.all {\n    addPublicationRepository(this, myProject)\n    addPublication(this, myProject)\n}\n</code></pre>\n\n<p><code>PublishSpec</code> is a fairly simple class with 4 mutable properties, including the required <code>name</code> property.</p>\n\n<pre><code>public class PublishSpec {\n\n    var name: String\n    var artifact: String = \"\"\n    var taskName: String = \"\"\n    var type: String = \"default\"\n\n    constructor(name: String) {\n        this.name = name\n    }\n}\n</code></pre>\n\n<p>However, the following simply evaluates <code>all</code> with <code>core</code> as a <code>default</code> type.</p>\n\n<pre><code>plugins {\n    id \"my-publish\"\n}\n\nmyPublish {\n    \"core\" {\n        artifact = \"foo.zip\"\n        type = \"archive\"\n        taskName = \"fooTask\"\n    }\n}\n</code></pre>\n\n<p>Does this not work anymore?</p>\n\n<p><a href=\"https://mrhaki.blogspot.com/2016/02/gradle-goodness-create-objects-with-dsl.html\" rel=\"nofollow noreferrer\">https://mrhaki.blogspot.com/2016/02/gradle-goodness-create-objects-with-dsl.html</a></p>\n"}, {"tags": ["kotlin", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11265871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEyn5.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11265871/andreas"}, "edited": false, "score": 0, "creation_date": 1568128139, "post_id": 57873295, "comment_id": 102172183, "body": "So basically if I understood correctly, even if the frontend compiler is quite similar in the 3 compilation targets (JVM, JS and native), there is not just one tool that converts Kotlin into IR, right? Each compilation target has its own frontend compiler but the output from their specific frontend process would result in the same IR if the code is the same? Then the IR located in the klib is LLVM IR or Kotlin-specific IR?"}, {"owner": {"reputation": 103, "user_id": 11265871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEyn5.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11265871/andreas"}, "edited": false, "score": 0, "creation_date": 1568128830, "post_id": 57873295, "comment_id": 102172544, "body": "For JVM the compilation process is pretty clear: kotlinc does everything and I guess the same in regards of Kotlin/JS kotlin2js does everthing. But what does kotlinc do inside? What are its steps? And which would be the front-end and back-end compilers for Kotlin /Native?"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 9, "last_activity_date": 1575033136, "last_edit_date": 1592644375, "creation_date": 1568126830, "answer_id": 57873295, "question_id": 57872167, "link": "https://stackoverflow.com/questions/57872167/how-is-kotlin-code-compiled-into-native-code/57873295#57873295", "title": "How is Kotlin code compiled into native code?", "body": "<blockquote>\n<blockquote>\n<p>Kotlin compiler has a single front-end but multiple back-end depending upon the the plugin you are using to build the code. Kotlin/Native plugin converts the Kotlin Intermediate Representation (IR) to native code (i.e code that is machine executable).</p>\n</blockquote>\n<p>Is this quote correct?</p>\n</blockquote>\n<p>Yes, it's quite correct. The intermediate representation (IR) is a form that universally represents a Kotlin program, regardless of the platform. Then a platform-specific back-end translates the IR to the final binary form \u2013 the JVM class files for Kotlin/JVM, LLVM bitcode and other metadata packed into a <code>*.klib</code> for Kotlin/Native.</p>\n<p>So, Kotlin/Native doesn't deal with the JVM bytecode in any way.</p>\n<p>The intermediate representation is an implementation detail of the Kotlin compiler, and it's not used by any other consumer than the Kotlin compiler itself, so it's not a thing that a developer should care about. For the JVM, it's even kept in memory and never written to binaries. For Kotlin/Native, it's actually serialized and written into the <code>*.klib</code> to be reused.</p>\n<blockquote>\n<p>It tells you that the compilation process is the same for Java bytecode, native code and JavaScript. You compile your Kotlin code and then you have 3 backend compilers that deliver the expected output format (Java bytecode, JavaScript, binary code).</p>\n</blockquote>\n<p>Actually, <em>a part</em> of the compilation process is the same, namely, the front-end language analysis, which includes parsing, call resolution, type inference, diagnostics and other steps that don't require any code transformations that are platform-specific. Even so, the front-end part is tuned for each of the platforms, as those allow different sets of language features and provide different sets of diagnostics.</p>\n<blockquote>\n<p>And the last question does the final platform specific binary include the native Kotlin standard library? Or is it linked dynamically?</p>\n</blockquote>\n<p>Currently, the standard library is statically linked into the resulting Kotlin/Native binaries.</p>\n"}], "owner": {"reputation": 103, "user_id": 11265871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AEyn5.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/11265871/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1239, "favorite_count": 1, "accepted_answer_id": 57873295, "answer_count": 1, "score": 10, "last_activity_date": 1575034641, "creation_date": 1568123040, "last_edit_date": 1575034641, "question_id": 57872167, "link": "https://stackoverflow.com/questions/57872167/how-is-kotlin-code-compiled-into-native-code", "title": "How is Kotlin code compiled into native code?", "body": "<p>The official Kotlin/Native <a href=\"https://kotlinlang.org/docs/reference/native-overview.html\" rel=\"nofollow noreferrer\">documentation</a> states that Kotlin/Native</p>\n\n<blockquote>\n  <p>.. is an LLVM based backend for the Kotlin compiler.</p>\n</blockquote>\n\n<p>As far as I understand:</p>\n\n<ul>\n<li>The Kotlin compiler (kotlinc) produces .class files (with Java bytecode) from your Kotlin source files. </li>\n<li>Generic LLVM backends (that are not related to Kotlin) take LLVM IR and turn it into binary code.</li>\n</ul>\n\n<p>Therefore, is Kotlin/Native converting Java bytecode into LLVM IR?\nIf so, is it correct to state that Kotlin/Native is a LLVM backend? Does Kotlin code get compiled into LLVM IR?\nIf not, what is the input and output of each compilation step? (e.g.: Kotlin -(kotlinc)-> Java bytecode -(LLVM backend-> native binary)</p>\n\n<p><a href=\"https://medium.com/androidiots/the-magic-of-kotlin-native-part-1-fad2795632b1\" rel=\"nofollow noreferrer\">This</a> blog post states that the Kotlin frontend compiler (I think it is referring to <em>kotlinc</em>) produces Kotlin IR, which I have never read of. </p>\n\n<blockquote>\n  <p>Kotlin compiler has a single front-end but multiple back-end depending upon the the plugin you are using to build the code. Kotlin/Native plugin converts the Kotlin Intermediate Representation (IR) to native code (i.e code that is machine executable).</p>\n</blockquote>\n\n<p>Is this quote correct?</p>\n\n<p>It tells you that the compilation process is the same for Java bytecode, native code and JavaScript. You compile your Kotlin code and then you have 3 backend compilers that deliver the expected output format (Java bytecode, JavaScript, binary code).</p>\n\n<p>Does the final platform specific binary include the native Kotlin standard library or is it linked dynamically?</p>\n"}, {"tags": ["android", "kotlin", "proguard", "androidx", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1510, "user_id": 6276596, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209812458696523/picture?type=large", "display_name": "Furkan Yurdakul", "link": "https://stackoverflow.com/users/6276596/furkan-yurdakul"}, "edited": false, "score": 2, "creation_date": 1568124864, "post_id": 57872009, "comment_id": 102170255, "body": "If that&#39;s a warning, you can use <code>-dontwarn kotlinx.coroutines.**</code>"}, {"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 1, "creation_date": 1568125071, "post_id": 57872009, "comment_id": 102170390, "body": "try to add -dontwarn kotlinx.coroutines.flow. in your proguard. check more <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1270\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/1270</a>"}, {"owner": {"reputation": 4169, "user_id": 1149398, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KWIoS.jpg?s=128&g=1", "display_name": "sud007", "link": "https://stackoverflow.com/users/1149398/sud007"}, "edited": false, "score": 0, "creation_date": 1593678460, "post_id": 57872009, "comment_id": 110865766, "body": "Yup this worked. I had R8 disabled for checking if default proguard works and those warnings appeared!"}], "owner": {"reputation": 265, "user_id": 3328022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0itor.jpg?s=128&g=1", "display_name": "inder", "link": "https://stackoverflow.com/users/3328022/inder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 860, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1568124657, "creation_date": 1568122542, "last_edit_date": 1568124657, "question_id": 57872009, "link": "https://stackoverflow.com/questions/57872009/error-while-generating-signed-build-proguard-enable", "title": "Error while generating signed build (proguard enable)", "body": "<p>I have added kotlin and kotlin-coroutines in the project recently, that is causing an error while building apk with proguard enable. </p>\n\n<p>This is the error I'm getting.</p>\n\n<pre><code>kotlinx.coroutines.flow.FlowKt__BuildersKt$asFlow$$inlined$unsafeFlow$10$1: can't find enclosing method 'java.lang.Object collect$$forInline(kotlinx.coroutines.flow.FlowCollector,kotlin.coroutines.Continuation)' in program class kotlinx.coroutines.flow.FlowKt__BuildersKt$asFlow$$inlined$unsafeFlow$10\n</code></pre>\n\n<p>Proguard file  changes:</p>\n\n<pre><code> -keep class kotlin.** { *; }\n    -keep class kotlin.Metadata { *; }\n    -dontwarn kotlin.**\n    -dontwarn kotlinx.atomicfu.AtomicBoolean\n    -keepclassmembers class **$WhenMappings {\n        &lt;fields&gt;;\n    }\n    -keepclassmembers class kotlin.Metadata {\n        public &lt;methods&gt;;\n    }\n    -assumenosideeffects class kotlin.jvm.internal.Intrinsics {\n        static void checkParameterIsNotNull(java.lang.Object, java.lang.String);\n    }\n\n    -keepnames class kotlinx.coroutines.internal.MainDispatcherFactory {}\n    -keepnames class kotlinx.coroutines.CoroutineExceptionHandler {}\n    -keepnames class kotlinx.coroutines.android.AndroidExceptionPreHandler {}\n    -keepnames class kotlinx.coroutines.android.AndroidDispatcherFactory {}\n\n    -keepclassmembernames class kotlinx.** {\n        volatile &lt;fields&gt;;\n    }\n</code></pre>\n\n<p>In debug mode, it is working fine.</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568118408, "post_id": 57870679, "comment_id": 102166407, "body": "Your item isn&#39;t directly in your <code>SharedPreferences</code>. It&#39;s inside some JSON string in your <code>SharedPreferences</code>. You would need to <code>getDataInArrayList(key)</code>, remove the item with the matching <code>productId</code> from that returned <code>ArrayList</code>, then <code>setDataInArrayList(newList, key)</code> back into <code>SharedPreferences</code>."}, {"owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568119906, "post_id": 57870679, "comment_id": 102167319, "body": "I think that what i did isn&#39;t ?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568120077, "post_id": 57870679, "comment_id": 102167407, "body": "Nope, your middle step is wrong \u2013 <code>sharedPreferences.edit().remove(productId).apply()</code>. That&#39;s trying remove a key/value from <code>SharedPreferences</code>. You need to remove the item with matching <code>productId</code> from the <code>prod</code> list."}, {"owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568120600, "post_id": 57870679, "comment_id": 102167700, "body": "I change the fun in my code above, could you please tell me that&#39;s what should i do"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568121233, "post_id": 57870679, "comment_id": 102168052, "body": "Yeah, that very likely will not work. I&#39;m still really new to Kotlin myself, but I think you can do something like <code>prod.removeAll { it.id == productId }</code>."}, {"owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568122367, "post_id": 57870679, "comment_id": 102168717, "body": "that&#39;s work, but how can i refresh the activity to get the new value of sharedPreferences or should i call it another time &quot;var prod = Utility(this).getDataInArrayList(&quot;FavoritesProducts&quot;)&quot;"}, {"owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568122759, "post_id": 57870679, "comment_id": 102168966, "body": "it&#39;s ok now, thank you very much for your help  i just added &quot; finish() startActivity(intent)&quot;  in my code above and the activity reloaded."}, {"owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "edited": false, "score": 0, "creation_date": 1568123655, "post_id": 57870679, "comment_id": 102169563, "body": "It&#39;s not the better approach to finish and reload the activity. See my answer for a suggestion."}], "answers": [{"tags": [], "owner": {"reputation": 1997, "user_id": 1517483, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/43389f5e86230f9c8ab6046079a0e670?s=128&d=identicon&r=PG", "display_name": "devrocca", "link": "https://stackoverflow.com/users/1517483/devrocca"}, "is_accepted": false, "score": 1, "last_activity_date": 1568123616, "creation_date": 1568123616, "answer_id": 57872328, "question_id": 57870679, "link": "https://stackoverflow.com/questions/57870679/kotlin-how-to-remove-item-stored-in-array-in-shared-preference/57872328#57872328", "title": "Kotlin :How to remove item stored in Array in shared preference", "body": "<p>Your code doesn't work because <code>ArrayList</code>'s <code>remove()</code> method checks for <em>equality</em> to find the object you want to remove. You should override <code>equals()</code> method in your <code>ProductData</code> class because if you don't, <code>equals()</code> default is to check for <em>identity</em> : </p>\n\n<pre><code>class A(val id: Int)\n\nval a1 = A(1)\nval a2 = A(1)\n\na1 == a2 // false, they are different objects\n</code></pre>\n\n<p>Even better, make <code>ProductData</code> a <code>data class</code> (which generates proper equals and hashCode methods).</p>\n\n<pre><code>data class A(val id: Int)\n\nval a1 = A(1)\nval a2 = A(1)\n\na1 == a2 // true\n</code></pre>\n\n<p>I'll give you some more suggestions:</p>\n\n<ul>\n<li>don't instantiate <code>Gson</code> each time: if you're always using the default configuration, reuse the instance. You can create a top-level property like <code>defaultGson = Gson()</code>. This applies to <code>emptyList</code> as well.</li>\n<li>avoid using directly <code>ArrayList</code> unless you have a good reason: use the more generic <code>List</code> and <code>MutableList</code>.</li>\n<li>remember to use lowercase names for arguments: <code>DataArrayList</code> should be <code>dataArrayList</code></li>\n<li>if you want to listen to SharedPreference changes to update your Activity, you can use <code>sharedPreferences.registerOnSharedPreferenceChangeListener()</code>. A better approach would be to use a ViewModel with LiveData, but I assume you are still learning, so I'll leave this advanced topic for later :)</li>\n</ul>\n"}], "owner": {"reputation": 455, "user_id": 10545524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vZhuO.jpg?s=128&g=1", "display_name": "Lina", "link": "https://stackoverflow.com/users/10545524/lina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568123616, "creation_date": 1568118031, "last_edit_date": 1568122781, "question_id": 57870679, "link": "https://stackoverflow.com/questions/57870679/kotlin-how-to-remove-item-stored-in-array-in-shared-preference", "title": "Kotlin :How to remove item stored in Array in shared preference", "body": "<p>I want to remove an item (id = \"productId\") from an Array (key) stored in sharedPreferences. \nI write a Utility class that contains all these functions below, but the item still exist in the Array stored, how could i change my code to reach my goal.</p>\n\n<pre><code>       fun removeArrayDataByKeyValue(key: String, productId: String) {\n    val prod = getDataInArrayList(key)\n    val removeProduct = ProductData(\n            id = productId)\n    prod.remove(removeProduct)\n    if (prod != null) {\n        setDataInArrayList(prod, key)\n    }\n}\n   fun setDataInArrayList(DataArrayList: ArrayList&lt;ProductData&gt;, key: String) {\n        val jsonString = Gson().toJson(DataArrayList)\n        sharedPreferences.edit().putString(key, jsonString).apply()\n    }\n\n    fun getDataInArrayList(key: String): ArrayList&lt;ProductData&gt; {\n\n        val emptyList = Gson().toJson(ArrayList&lt;ProductData&gt;())\n        return Gson().fromJson(\n                sharedPreferences.getString(key, emptyList),\n                object : TypeToken&lt;ArrayList&lt;ProductData&gt;&gt;() {\n                }.type\n        )\n    }\n</code></pre>\n\n<p>The following code in my activity : </p>\n\n<pre><code>   Utility(this).removeArrayDataByKeyValue(\"FavoritesProducts\", productFavoris.id.toString())\n                Toast.makeText(this, \"Removed from favorites\", Toast.LENGTH_LONG).show()\n                buttonAddToFavorite.setColorFilter(Color.parseColor(\"#FF000000\"))\n finish()\n                startActivity(intent)\n</code></pre>\n"}, {"tags": ["heroku", "kotlin", "jar"], "answers": [{"tags": [], "owner": {"reputation": 588, "user_id": 2639219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0b3cc13b0c3795fb5030c1cfbc045b0d?s=128&d=identicon&r=PG", "display_name": "IL_Agent", "link": "https://stackoverflow.com/users/2639219/il-agent"}, "is_accepted": true, "score": 0, "last_activity_date": 1568237770, "creation_date": 1568237770, "answer_id": 57897111, "question_id": 57870024, "link": "https://stackoverflow.com/questions/57870024/heroku-unable-to-access-jarfile-again/57897111#57897111", "title": "Heroku, unable to access jarfile. Again", "body": "<p>That's working code:</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.41'\n}\n\nversion '0.1'\n\napply plugin: 'application'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n    maven { url \"https://jitpack.io\" }\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    implementation 'io.github.seik.kotlin-telegram-bot:telegram:0.3.4'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nmainClassName = 'ru.ilagent.mybot.MainKt'\ntask stage {\n    dependsOn installDist\n}\n</code></pre>\n\n<p>and Procfile</p>\n\n<pre><code>web: build/install/mybot/bin/mybot\n</code></pre>\n\n<p>Hope that be helpful for anybody)</p>\n"}], "owner": {"reputation": 588, "user_id": 2639219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0b3cc13b0c3795fb5030c1cfbc045b0d?s=128&d=identicon&r=PG", "display_name": "IL_Agent", "link": "https://stackoverflow.com/users/2639219/il-agent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 57897111, "answer_count": 1, "score": 0, "last_activity_date": 1568237770, "creation_date": 1568115568, "question_id": 57870024, "link": "https://stackoverflow.com/questions/57870024/heroku-unable-to-access-jarfile-again", "title": "Heroku, unable to access jarfile. Again", "body": "<p>Yes, I know, there are many question about similar problems, but I haven't found an answer for me. \nI want to host a telegram bot written in Kotlin on Heroku.\nMy gradle file:</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.41'\n    id 'distribution'\n}\n\njar {\n    baseName = 'mybot'\n    version = '0.1'\n}\n\ngroup 'ru.ilagent.mybot'\nversion '0.1'\n\nrepositories {\n    mavenCentral()\n    maven { url \"https://jitpack.io\" }\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    implementation 'io.github.seik.kotlin-telegram-bot:telegram:0.3.4'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\ntask stage {\n    dependsOn installDist\n}\n</code></pre>\n\n<p>I follow the instruction <a href=\"https://devcenter.heroku.com/articles/getting-started-with-kotlin#deploy-the-app\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/getting-started-with-kotlin#deploy-the-app</a> , also I've added stage and jar. I can push my bot to heroku and call ps:scale successfully. But nothing works. When I'm finding out logs, I see the error: \"Unable to access jarfile build/libs/mybot-0.1.jar\" . When I call the jar task locally, jar-file is created with a path mentioned in the log.\nAlso I've created Procfile</p>\n\n<pre><code>web: java -jar build/libs/mybot-0.1.jar\n</code></pre>\n\n<p>Something went wrong (. Please, help! </p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 41, "user_id": 11978232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7_p0LTbg_08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqH5TODjRKCK8cVXJ5yCrzi2vtmg/photo.jpg?sz=128", "display_name": "Diue Thung", "link": "https://stackoverflow.com/users/11978232/diue-thung"}, "edited": false, "score": 0, "creation_date": 1568172099, "post_id": 57869615, "comment_id": 102186275, "body": "In addition , I can set on each layout .setOnClickListner{ if(holder.swipelayout.isOpened){ viewbinderhelp.closeLayout(&quot;key string&quot;) } } but it only close when click on the layout that isOpened . My question is how do i test if one of the items in recyclerview is swiped opened ?"}, {"owner": {"reputation": 239, "user_id": 11684331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtZQC.jpg?s=128&g=1", "display_name": "jay patoliya", "link": "https://stackoverflow.com/users/11684331/jay-patoliya"}, "edited": false, "score": 1, "creation_date": 1600764152, "post_id": 57869615, "comment_id": 113182873, "body": "you can redirect to another library, works like a charm   <a href=\"https://android-pratap.blogspot.com/2015/07/swipe-recyclerview-using.html?m=1\" rel=\"nofollow noreferrer\">android-pratap.blogspot.com/2015/07/&hellip;</a>"}], "owner": {"reputation": 41, "user_id": 11978232, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7_p0LTbg_08/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqH5TODjRKCK8cVXJ5yCrzi2vtmg/photo.jpg?sz=128", "display_name": "Diue Thung", "link": "https://stackoverflow.com/users/11978232/diue-thung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1655, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1572961354, "creation_date": 1568114021, "question_id": 57869615, "link": "https://stackoverflow.com/questions/57869615/how-to-set-swipereveallayout-on-any-recyclerview-items-click-to-close-the-open-l", "title": "How to set swiperevealLayout on any recyclerview items click to close the open layout?", "body": "<p>I'm new to android development . I'm using this library <a href=\"https://github.com/chthai64/SwipeRevealLayout\" rel=\"nofollow noreferrer\">https://github.com/chthai64/SwipeRevealLayout</a> to implement swipelayout on my recyclerview.</p>\n\n<p>However , it can only swipe to open and close but i want to implement when one item is swiped open then on click of any items will close the current opened one.\nI just could't figure out how it works.</p>\n\n<p>I'm sorry if my topic question doesn't match what i'm describing, I'm not a native english speaker.</p>\n\n<p>I'm able to set ViewBinderHelper.setOpenOnly(true) . It can only swipe one item at a time.\nI tried to test if swipelayout is open or close by holder.swipelayout.isOpen , but it doesn't do anything.</p>\n\n<p>Any Ideas or Help would be extremely appreciated , thank you.</p>\n\n<p>This is my Adapter Class </p>\n\n<pre><code>class ReturnAdapter(val context : Context , val deliveryinfo : MutableList&lt;BookingInfo&gt;) : RecyclerView.Adapter&lt;ReturnAdapter.MyViewHolder&gt;() {\n\nprivate val viewbinderhelper = ViewBinderHelper()\ninit {\n    viewbinderhelper.setOpenOnlyOne(true)\n }\n\n override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n     val view=LayoutInflater.from(context).inflate(R.layout.return_model_layout, parent, false)\n    return MyViewHolder(view)\n}\n\noverride fun getItemCount(): Int {\n    return deliveryinfo.size\n}\n\noverride fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n    val deliveryinformation = deliveryinfo[position]\n    holder.setData(deliveryinformation)\n    viewbinderhelper.bind(holder.swipelayout, deliveryinformation.booking_id.toString())\n\n  }  \n\n    inner class MyViewHolder(itemView:View):RecyclerView.ViewHolder(itemView) {\n\n   val swipelayout : SwipeRevealLayout = \n   itemView.findViewById(R.id.swipelayout)\n}\n</code></pre>\n\n<p>My XML file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n     &lt;com.chauthai.swipereveallayout.SwipeRevealLayoutandroid:layout_height=\"match_parent\"\n  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:layout_width=\"match_parent\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  app:mode=\"same_level\"\n  app:dragEdge=\"right\"\n  android:id=\"@+id/swipelayout\"&gt;\n\n        &lt;!-- Your secondary layout here --&gt;\n&lt;LinearLayout android:layout_width=\"70dp\"\n              android:id=\"@+id/deletereturn\"\n              android:layout_height=\"match_parent\"\n              android:orientation=\"vertical\"\n              android:clickable=\"true\"\n              android:foreground=\"? \n              android:attr/selectableItemBackground\"\n              android:gravity=\"center\"\n              android:background=\"@color/red\"&gt;\n\n    &lt;ImageView android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\"\n               android:src=\"@drawable/ic_delete_white_36dp\"/&gt;\n&lt;/LinearLayout&gt;\n\n         &lt;!-- Your main layout here --&gt;\n\n\n\n\n   &lt;LinearLayout android:layout_width=\"match_parent\" \n    android:layout_height=\"wrap_content\"\n                      android:orientation=\"horizontal\"\n                      android:layout_marginHorizontal=\"30dp\"\n                      android:gravity=\"center\"\n                      android:layout_centerVertical=\"true\"&gt;\n            &lt;pl.droidsonroids.gif.GifImageView\n                    android:layout_width=\"36dp\"\n                    android:layout_gravity=\"center\"\n                    android:layout_height=\"36dp\"\n                    android:id=\"@+id/packaging\"\n                   android:src=\"@drawable/redmarkcheck\"&lt;/LinearLayout&gt;&lt;/com.chauthai.swipereveallayout.SwipeRevealLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1568114515, "post_id": 57869565, "comment_id": 102164239, "body": "What have you tried so far?"}, {"owner": {"reputation": 318, "user_id": 7713720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a420e8227f865d6d20b300c2c0b321?s=128&d=identicon&r=PG&f=1", "display_name": "zerk", "link": "https://stackoverflow.com/users/7713720/zerk"}, "reply_to_user": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 1, "creation_date": 1568115074, "post_id": 57869565, "comment_id": 102164540, "body": "I have tried to implement the copyTo method. But I think that is the wrong method because I cannot seem to get it to work."}], "answers": [{"comments": [{"owner": {"reputation": 318, "user_id": 7713720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a420e8227f865d6d20b300c2c0b321?s=128&d=identicon&r=PG&f=1", "display_name": "zerk", "link": "https://stackoverflow.com/users/7713720/zerk"}, "edited": false, "score": 0, "creation_date": 1568115285, "post_id": 57869923, "comment_id": 102164666, "body": "Thank you, I will try to implement it later today and then mark it as the answer :)"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1568120984, "post_id": 57869923, "comment_id": 102167900, "body": "I suspect the reason there is no Kotlin <code>moveTo(...)</code> method is because it&#39;s already so trivial in Java. But if you wanted to, you could wrap up that Java code as a Kotlin extension."}, {"owner": {"reputation": 318, "user_id": 7713720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a420e8227f865d6d20b300c2c0b321?s=128&d=identicon&r=PG&f=1", "display_name": "zerk", "link": "https://stackoverflow.com/users/7713720/zerk"}, "edited": false, "score": 0, "creation_date": 1568124980, "post_id": 57869923, "comment_id": 102170326, "body": "@Looki Okay I have tried to implement this. However, File(&quot;C:/Users/sampleuser/Downloads/test.txt&quot;) gives me a NoSuchFileException, however if I copy paste this path in my file explorer, it literally opens the test.txt file. So I am going to try to solve this first."}, {"owner": {"reputation": 318, "user_id": 7713720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a420e8227f865d6d20b300c2c0b321?s=128&d=identicon&r=PG&f=1", "display_name": "zerk", "link": "https://stackoverflow.com/users/7713720/zerk"}, "edited": false, "score": 0, "creation_date": 1568128886, "post_id": 57869923, "comment_id": 102172572, "body": "Hmm, @Looki any idea why I get that NoSuchFileException, when I am sure that my path is correct?"}, {"owner": {"reputation": 565, "user_id": 3257988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f664fe43b529736d7eb7906f52fb4179?s=128&d=identicon&r=PG&f=1", "display_name": "Looki", "link": "https://stackoverflow.com/users/3257988/looki"}, "edited": false, "score": 0, "creation_date": 1568187673, "post_id": 57869923, "comment_id": 102191074, "body": "Hmmm, maybe try File(&quot;C:/Users/sampleuser/Downloads&quot;, &quot;test.txt&quot;) instead?"}, {"owner": {"reputation": 811, "user_id": 3681634, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/801dcea87ed6f9bdc40475b39e40f76c?s=128&d=identicon&r=PG&f=1", "display_name": "aeroxr1", "link": "https://stackoverflow.com/users/3681634/aeroxr1"}, "edited": false, "score": 1, "creation_date": 1605178990, "post_id": 57869923, "comment_id": 114574190, "body": "you can also call sourceFile.renameTo(newPath)"}], "tags": [], "owner": {"reputation": 565, "user_id": 3257988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f664fe43b529736d7eb7906f52fb4179?s=128&d=identicon&r=PG&f=1", "display_name": "Looki", "link": "https://stackoverflow.com/users/3257988/looki"}, "is_accepted": false, "score": 9, "last_activity_date": 1568115327, "last_edit_date": 1568115327, "creation_date": 1568115134, "answer_id": 57869923, "question_id": 57869565, "link": "https://stackoverflow.com/questions/57869565/kotlin-how-to-move-a-file-to-a-other-directory/57869923#57869923", "title": "Kotlin how to move a file to a other directory?", "body": "<p>Kotlin provides an extension function to Java's <code>File</code>: <code>File.copyTo(target: File)</code>, but unfortunately no <code>File.moveTo(target: File)</code>. If you only use small files, you can just use the copy function</p>\n\n<p>You can do this pretty straightforward with the following code:</p>\n\n<pre><code>File(\"C:/Users/sampleuser/Downloads/test.txt\").let { sourceFile -&gt;\n    sourceFile.copyTo(File(\"C:/Users/sampleuser/Documents/test.txt\"))\n    sourceFile.delete()\n}\n</code></pre>\n\n<p>Or, if you need it to be <em>moved</em>, we can use Java's <code>nio</code> package</p>\n\n<pre><code>val sourcePath = Paths.get(\"C:/Users/sampleuser/Downloads/test.txt\")\nval targetPath = Paths.get(\"C:/Users/sampleuser/Documents/test.txt\")\nFiles.move(sourcePath, targetPath, StandardCopyOption.REPLACE_EXISTING)\n</code></pre>\n"}], "owner": {"reputation": 318, "user_id": 7713720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a420e8227f865d6d20b300c2c0b321?s=128&d=identicon&r=PG&f=1", "display_name": "zerk", "link": "https://stackoverflow.com/users/7713720/zerk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3113, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1568115327, "creation_date": 1568113833, "question_id": 57869565, "link": "https://stackoverflow.com/questions/57869565/kotlin-how-to-move-a-file-to-a-other-directory", "title": "Kotlin how to move a file to a other directory?", "body": "<p>Let's assume that I have the following file hierarchy:</p>\n\n<ul>\n<li><p>C:\\Users\\sanpleuser\\Downloads > test.txt</p></li>\n<li><p>C:\\Users\\sampleuser\\Documents</p></li>\n</ul>\n\n<p>What I want to achieve is to move the test.txt file from downloads to documents.</p>\n\n<p>Can someone help me out with that?</p>\n"}, {"tags": ["java", "android", "kotlin", "stripe-payments", "payment"], "comments": [{"owner": {"reputation": 21, "user_id": 12045583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ddZZoqEW7U0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbMy74NPrvH6uqi533FDFtcasJLw/photo.jpg?sz=128", "display_name": "Andreu Zaitsev", "link": "https://stackoverflow.com/users/12045583/andreu-zaitsev"}, "edited": false, "score": 0, "creation_date": 1568118728, "post_id": 57869031, "comment_id": 102166606, "body": "I could provide more information if need it"}, {"owner": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "edited": false, "score": 0, "creation_date": 1568124099, "post_id": 57869031, "comment_id": 102169818, "body": "If you haven&#39;t already, I&#39;d recommend following <a href=\"https://stripe.com/docs/payments/payment-intents/android#confirm-payment-intent\" rel=\"nofollow noreferrer\">stripe.com/docs/payments/payment-intents/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 12045583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ddZZoqEW7U0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbMy74NPrvH6uqi533FDFtcasJLw/photo.jpg?sz=128", "display_name": "Andreu Zaitsev", "link": "https://stackoverflow.com/users/12045583/andreu-zaitsev"}, "reply_to_user": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "edited": false, "score": 0, "creation_date": 1568128468, "post_id": 57869031, "comment_id": 102172342, "body": "@taintedzodiac I have written my code via this tutorial and the docs says that I should confirm the payment via stripe.confirmPayment(), isn&#39;t it?"}, {"owner": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "edited": false, "score": 0, "creation_date": 1568149422, "post_id": 57869031, "comment_id": 102181112, "body": "The docs specify <code>this</code> where you have <code>this@PaymentFragment.requireActivity()</code>. Is that intentional?"}, {"owner": {"reputation": 21, "user_id": 12045583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ddZZoqEW7U0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbMy74NPrvH6uqi533FDFtcasJLw/photo.jpg?sz=128", "display_name": "Andreu Zaitsev", "link": "https://stackoverflow.com/users/12045583/andreu-zaitsev"}, "reply_to_user": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "edited": false, "score": 0, "creation_date": 1568182828, "post_id": 57869031, "comment_id": 102188989, "body": "@taintedzodiac I&#39;m using requireActivity() because I have a single activity structure and call this method within a Fragment. But I noticed that the function is working but the result doesn&#39;t return in onActivityResult within the fragment. What should I do for it?"}, {"owner": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "edited": false, "score": 0, "creation_date": 1568212562, "post_id": 57869031, "comment_id": 102204389, "body": "Seems likely that it&#39;s not returning to the proper place. I&#39;d suggest checking/debugging exactly what it being called when the function ends and the call should be occurring."}, {"owner": {"reputation": 21, "user_id": 12045583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ddZZoqEW7U0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbMy74NPrvH6uqi533FDFtcasJLw/photo.jpg?sz=128", "display_name": "Andreu Zaitsev", "link": "https://stackoverflow.com/users/12045583/andreu-zaitsev"}, "reply_to_user": {"reputation": 1974, "user_id": 100328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a429ef7664ae4477eeb9896f9e8dc8a?s=128&d=identicon&r=PG", "display_name": "taintedzodiac", "link": "https://stackoverflow.com/users/100328/taintedzodiac"}, "edited": false, "score": 0, "creation_date": 1568365985, "post_id": 57869031, "comment_id": 102259048, "body": "@taintedzodiac I found the issue, onAcitvityResult doesn&#39;t occur in a fragment. I created a class that transfers the result from activity to fragment."}, {"owner": {"reputation": 101, "user_id": 7585430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717877df52d548b4fe49cdb6d913dec4?s=128&d=identicon&r=PG&f=1", "display_name": "Harvin dutta", "link": "https://stackoverflow.com/users/7585430/harvin-dutta"}, "edited": false, "score": 0, "creation_date": 1580282210, "post_id": 57869031, "comment_id": 106041568, "body": "have you found any solution.i need to integrate the same can you please share your code."}], "owner": {"reputation": 21, "user_id": 12045583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ddZZoqEW7U0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdbMy74NPrvH6uqi533FDFtcasJLw/photo.jpg?sz=128", "display_name": "Andreu Zaitsev", "link": "https://stackoverflow.com/users/12045583/andreu-zaitsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1406, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568111919, "creation_date": 1568111919, "question_id": 57869031, "link": "https://stackoverflow.com/questions/57869031/how-to-confirm-payment-intent-via-stripe-sdk", "title": "How to confirm payment intent via Stripe SDK?", "body": "<p>I'm developing the Android app for now and I need to implement payment using the Stripe. I'm trying to confirm a payment intent but nothing happens. Any ideas, what should I do?  </p>\n\n<p>I wrote this one for now on the client-side (Android app)</p>\n\n<pre><code>private fun initPayment() {\n    // 1. Init payment configuration\n    PaymentConfiguration.init(getString(R.string.stripe_publishable_testKey))\n    Timber.d(\"PaymentFragment: 1. init payment configuration...\")\n    // 2. Init Stripe\n    val publishableKey = PaymentConfiguration.getInstance().publishableKey\n    stripe = Stripe(requireContext(), publishableKey)\n    Timber.d(\"PaymentFragment: 2. init stripe by key: $publishableKey  ...\")\n    // 3. Init payment method or card\n    val testCard =\n        Card.create(\"4242424242424242\", 12, 20, \"123\")\n    Timber.d(\"PaymentFragment: 3. init card...\")\n\n    // 4. Creating payment intent\n    Timber.d(\"PaymentFragment: 4. creating payment intent...\")\n    paymentIntentCreator.createPaymentIntent(\n        amount = \"100\", currency = \"usd\", setupFutureUsage = \"off_session\",\n        callback = object : ApiResultCallback&lt;String&gt; {\n            override fun onSuccess(clientSecret: String) {\n                // setup customer session to retrieve a payment method\n                Timber.d(\"PaymentFragment: 4. success, key: $clientSecret\")\n                Timber.d(\"PaymentFragment: 5. collecting payment information...\")\n\n                val paramsCard =\n                    testCard.toPaymentMethodParamsCard()\n\n                val billingDetails = PaymentMethod.BillingDetails.Builder()\n                    .setAddress(exampleShippingInfo.address)\n                    .setName(exampleShippingInfo.name)\n                    .setEmail(\"zaytssss@mail.ru\")\n                    .setPhone(exampleShippingInfo.phone)\n                    .build()\n\n                val paymentMethodCreateParams =\n                    PaymentMethodCreateParams.create(paramsCard, billingDetails)\n\n                val intentParams =\n                    ConfirmPaymentIntentParams.createWithPaymentMethodCreateParams(\n                        paymentMethodCreateParams,\n                        clientSecret,\n                        \"livreur_chic://path\"\n                    )\n\n\n                Timber.d(\"PaymentFragment: 6. payment confirming...\")\n                stripe.confirmPayment(this@PaymentFragment.requireActivity(), intentParams)\n\n            }\n\n            override fun onError(e: Exception) {\n                Timber.d(\"PaymentFragment: 4. error: ${e.localizedMessage}\")\n            }\n        })\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    stripe.onPaymentResult(requestCode, data,\n        object : ApiResultCallback&lt;PaymentIntentResult&gt; {\n            override fun onSuccess(result: PaymentIntentResult) {\n                // If confirmation and authentication succeeded,\n                // the PaymentIntent will have user actions resolved;\n                // otherwise, handle the failure as appropriate\n                // (e.g. the customer may need to choose a new payment\n                // method)\n                when (result.intent.status) {\n                    Processing -&gt;\n                        Timber.d(\"PaymentFragment: 6. payment confirmation status: Processing...\")\n                    RequiresAction -&gt;\n                        Timber.d(\"PaymentFragment: 6. payment confirmation status: RequiresAction...\")\n                    RequiresConfirmation -&gt;\n                        Timber.d(\"PaymentFragment: 6. payment confirmation status: RequiresConfirmation...\")\n                    RequiresPaymentMethod -&gt;\n                        Timber.d(\"PaymentFragment: 6. payment confirmation status: RequiresPaymentMethod...\")\n                    Succeeded -&gt;\n                        Timber.d(\"PaymentFragment: 6. payment confirmation status: Succeeded...\")\n                    RequiresCapture -&gt;\n                        Timber.d(\"PaymentFragment: 6. payment confirmation status: RequiresCapture...\")\n                    else -&gt;\n                        Timber.d(\"PaymentFragment: 6. Unknown status\")\n                }\n            }\n\n            override fun onError(e: Exception) {\n                // handle error\n                Timber.d(\"PaymentFragment: 6. payment was not confirmed, error: ${e.localizedMessage}\")\n\n            }\n        })\n}\n</code></pre>\n\n<p>Log: \n1. init payment configuration...\n2. init stripe by key: pk_test_##### ...\n3. init card...\n4. creating payment intent...\n4. success, key: pi_#####<em>secret</em>#######\n5. collecting payment information...\n6. payment confirming...</p>\n"}, {"tags": ["android", "unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 36501, "user_id": 3785, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91e799ee062d66b9a2da8428d28038a0?s=128&d=identicon&r=PG", "display_name": "Mario F", "link": "https://stackoverflow.com/users/3785/mario-f"}, "edited": false, "score": 0, "creation_date": 1568123911, "post_id": 57868526, "comment_id": 102169715, "body": "that&#39;s not <code>kotlin</code> code. Did you mean <code>android</code> perhaps? The tags are misleading."}, {"owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "edited": false, "score": 0, "creation_date": 1569308016, "post_id": 57868526, "comment_id": 102544207, "body": "Where exactly does the <code>NullPointerException</code> occur? (What variable is <code>null</code>?)"}], "owner": {"reputation": 107, "user_id": 8930543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc77ce032d5b63d34f287762065ea70?s=128&d=identicon&r=PG&f=1", "display_name": "Demoz_Dev", "link": "https://stackoverflow.com/users/8930543/demoz-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569307932, "creation_date": 1568110121, "last_edit_date": 1569307932, "question_id": 57868526, "link": "https://stackoverflow.com/questions/57868526/rxjava-unit-testing-in-kotlin", "title": "RxJava unit testing in Kotlin", "body": "<p>I'm trying to unit test my code that uses RxJava's <code>Observable#flatMap</code>, but I'm running into <code>java.lang.NullPointerException</code>. How do I write my unit test (and avoid the exception)?</p>\n\n<p><em>Code to be unit tested:</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void submit(final NameRequest request, final AgeRequest ageRequest) {\n    model.getAccountName(request)\n        .flatMap(new Function&lt;NameResponse, Observable&lt;AgeResponse&gt;&gt;() {\n            @Override\n            public Observable&lt;AgeResponse&gt; apply(NameResponse response)\n                    throws Exception {\n                final Status status = response.getStatus();\n                if (status.getCode() != 1) {\n                    throw new Exception(status.getDescription());\n                }\n                return model.getAge(ageRequest);\n            }\n        }, new BiFunction&lt;NameResponse, AgeResponse, AgeResponse&gt;() {\n            @Override\n            public AgeResponse apply(NameResponse nameResponse, AgeResponse ageResponse) {\n                ageResponse.setCustomerName(nameResponse.getName());\n                return ageResponse;\n            }\n        })\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n}\n</code></pre>\n\n<p><em>Test code:</em></p>\n\n<pre><code>val mockResponse = AgeResponse()\nMockito.doReturn(Observable.just(mockResponse))\n                .`when`(mNetworkModel)\n                .preSubmit(ageRequest)\nmPresenter.submit(nameRequest, ageRequest)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "spannablestring"], "comments": [{"owner": {"reputation": 121, "user_id": 2735518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b92462bc225936f4404f1d0ea95038e?s=128&d=identicon&r=PG&f=1", "display_name": "Antonio Altieri", "link": "https://stackoverflow.com/users/2735518/antonio-altieri"}, "edited": false, "score": 0, "creation_date": 1568110193, "post_id": 57868444, "comment_id": 102161996, "body": "Have you defined <code>val bold = StyleSpan(Typeface.BOLD)</code> ?"}, {"owner": {"reputation": 2471, "user_id": 4252667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8eb97d85616defe1c9d75d37889e6f42?s=128&d=identicon&r=PG", "display_name": "Mohamed Ibrahim", "link": "https://stackoverflow.com/users/4252667/mohamed-ibrahim"}, "reply_to_user": {"reputation": 121, "user_id": 2735518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b92462bc225936f4404f1d0ea95038e?s=128&d=identicon&r=PG&f=1", "display_name": "Antonio Altieri", "link": "https://stackoverflow.com/users/2735518/antonio-altieri"}, "edited": false, "score": 0, "creation_date": 1568110557, "post_id": 57868444, "comment_id": 102162202, "body": "yes that exactly what I did"}, {"owner": {"reputation": 121, "user_id": 2735518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b92462bc225936f4404f1d0ea95038e?s=128&d=identicon&r=PG&f=1", "display_name": "Antonio Altieri", "link": "https://stackoverflow.com/users/2735518/antonio-altieri"}, "edited": false, "score": 0, "creation_date": 1568110696, "post_id": 57868444, "comment_id": 102162273, "body": "Can you tell me the value of not_delivery_to_this_area, searchError.restaurant and searchError.area?"}, {"owner": {"reputation": 2471, "user_id": 4252667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8eb97d85616defe1c9d75d37889e6f42?s=128&d=identicon&r=PG", "display_name": "Mohamed Ibrahim", "link": "https://stackoverflow.com/users/4252667/mohamed-ibrahim"}, "reply_to_user": {"reputation": 121, "user_id": 2735518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b92462bc225936f4404f1d0ea95038e?s=128&d=identicon&r=PG&f=1", "display_name": "Antonio Altieri", "link": "https://stackoverflow.com/users/2735518/antonio-altieri"}, "edited": false, "score": 0, "creation_date": 1568110870, "post_id": 57868444, "comment_id": 102162352, "body": "&lt;string name=&quot;not_delivery_to_this_area&quot;&gt;%s is not delivering to %s&lt;/string&gt;"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1568111899, "post_id": 57868444, "comment_id": 102162849, "body": "Does it work for you with just one argument? Your searchErrorView.errorMessage.text might be striping the styling."}, {"owner": {"reputation": 2471, "user_id": 4252667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8eb97d85616defe1c9d75d37889e6f42?s=128&d=identicon&r=PG", "display_name": "Mohamed Ibrahim", "link": "https://stackoverflow.com/users/4252667/mohamed-ibrahim"}, "edited": false, "score": 0, "creation_date": 1568111957, "post_id": 57868444, "comment_id": 102162874, "body": "yes, it works fine in both cases in the test sample"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1568112089, "post_id": 57868444, "comment_id": 102162950, "body": "But in your code are you able to pass a styled string to your view?"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1568112152, "post_id": 57868444, "comment_id": 102162981, "body": "Try passing a spanned string directly see if the spann shows up"}, {"owner": {"reputation": 356, "user_id": 5902245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8bfa0d8d2a40ca3a6f717f6ce8d1932?s=128&d=identicon&r=PG&f=1", "display_name": "Mihai", "link": "https://stackoverflow.com/users/5902245/mihai"}, "edited": false, "score": 0, "creation_date": 1568112375, "post_id": 57868444, "comment_id": 102163077, "body": "If your view is a custom Textview it might cast your spannable to string when you set it and your spann gets ignored."}, {"owner": {"reputation": 2471, "user_id": 4252667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8eb97d85616defe1c9d75d37889e6f42?s=128&d=identicon&r=PG", "display_name": "Mohamed Ibrahim", "link": "https://stackoverflow.com/users/4252667/mohamed-ibrahim"}, "edited": false, "score": 0, "creation_date": 1568112713, "post_id": 57868444, "comment_id": 102163249, "body": "it&#39;s not a custom view"}], "owner": {"reputation": 2471, "user_id": 4252667, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8eb97d85616defe1c9d75d37889e6f42?s=128&d=identicon&r=PG", "display_name": "Mohamed Ibrahim", "link": "https://stackoverflow.com/users/4252667/mohamed-ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568109830, "creation_date": 1568109830, "question_id": 57868444, "link": "https://stackoverflow.com/questions/57868444/apply-multipe-styles-on-android-textview-kotlin-extinsion-strange-behavior", "title": "Apply multipe styles on android textview kotlin extinsion strange behavior", "body": "<p>Hello I have this extension to apply the styles on the targeted words, but it doesn't work applying the styles if I send multiple words for some reason, I tested in a sample project and it works fine .. anyone could help me with it.</p>\n\n<pre><code>fun String.applySpans(vararg pairs: Pair&lt;String, Any&gt; ): Spannable {\n   val spannable = SpannableStringBuilder(this)\n   pairs.forEach {\n        val start = this.indexOf(it.first)\n        val end = start + it.first.length\n        spannable.setSpan(it.second, start, end, Spannable.SPAN_INCLUSIVE_INCLUSIVE)\n    }\n    return spannable\n}\n</code></pre>\n\n<p>this is the working version in the test sample</p>\n\n<pre><code>val bold = StyleSpan(Typeface.BOLD)\n        val italic = StyleSpan(Typeface.BOLD_ITALIC)\n        val string = getString(R.string.hello_message, \"John\", \"Wick\")\n        testTextView.text = string.applySpans(mapOf(\n                \"John\" to bold,\n                \"Wick\" to italic\n            )\n        )\n</code></pre>\n\n<p>this is the code with the problem</p>\n\n<pre><code>val message = getString(R.string.not_delivery_to_this_area, searchError.restaurant, searchError.area)\n              searchErrorView.errorMessage.text = message.applySpans(\n                     searchError.restaurant to bold,\n                   searchError.area to bold\n             )\n</code></pre>\n"}, {"tags": ["android", "user-interface", "kotlin"], "comments": [{"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1568109469, "post_id": 57868036, "comment_id": 102161627, "body": "you want to highlight the menu that your intent opens???"}, {"owner": {"reputation": 147, "user_id": 11955464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47efc2aadc9ea05970bcf5a484bbfa9b?s=128&d=identicon&r=PG&f=1", "display_name": "michelecasati", "link": "https://stackoverflow.com/users/11955464/michelecasati"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1568110624, "post_id": 57868036, "comment_id": 102162232, "body": "well, not the menu itself, but the single row, for example in my case in security settings, the row that needs to be highlighted is Fingerprint"}, {"owner": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1568110719, "post_id": 57868036, "comment_id": 102162283, "body": "that cannot be done I guess, just show them a long toast with audio instruction. Find some way to tell your users what they should be looking for in the menu, that&#39;s all you can do or get your app to draw over the screen and show some hint"}, {"owner": {"reputation": 147, "user_id": 11955464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47efc2aadc9ea05970bcf5a484bbfa9b?s=128&d=identicon&r=PG&f=1", "display_name": "michelecasati", "link": "https://stackoverflow.com/users/11955464/michelecasati"}, "reply_to_user": {"reputation": 955, "user_id": 8528047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NjFzHTpL2TU/AAAAAAAAAAI/AAAAAAAAABg/0qa122EUUf8/photo.jpg?sz=128", "display_name": "Pemba Tamang", "link": "https://stackoverflow.com/users/8528047/pemba-tamang"}, "edited": false, "score": 0, "creation_date": 1568110813, "post_id": 57868036, "comment_id": 102162323, "body": "yes, I think I&#39;ll use your strategy. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 11955464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47efc2aadc9ea05970bcf5a484bbfa9b?s=128&d=identicon&r=PG&f=1", "display_name": "michelecasati", "link": "https://stackoverflow.com/users/11955464/michelecasati"}, "edited": false, "score": 0, "creation_date": 1568110568, "post_id": 57868341, "comment_id": 102162207, "body": "Thanks, I already knew that Action, but it brings directly to &quot;Insert PIN&quot; and I think some users may be disappointed or confused. I asked this question because I remember some apps guiding the user into many settings voices, with 2 or 3 clicks."}], "tags": [], "owner": {"reputation": 3154, "user_id": 1382540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1a33d5394b17138049e2115d81f60696?s=128&d=identicon&r=PG", "display_name": "113408", "link": "https://stackoverflow.com/users/1382540/113408"}, "is_accepted": true, "score": 1, "last_activity_date": 1568109495, "creation_date": 1568109495, "answer_id": 57868341, "question_id": 57868036, "link": "https://stackoverflow.com/questions/57868036/how-to-highlight-a-settings-row-in-android/57868341#57868341", "title": "How to highlight a settings row in Android?", "body": "<p>If you're targeting Android P and higher, you can take the user 1 step further with the specific Intent <code>Settings.ACTION_FINGERPRINT_ENROLL</code>.</p>\n\n<p>You can use this way:</p>\n\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.P)\nprivate void startFingerprintEnrollment(@NonNull AppCompatActivity activity) {\n    Intent intent = new Intent(Settings.ACTION_FINGERPRINT_ENROLL);\n    activity.startActivityForResult(intent, REQUESTCODE_FINGERPRINT_ENROLLMENT);\n}\n</code></pre>\n\n<p>For lower versions you can use what you're already using. Unfortunately there is no way to <strong>highlight</strong> the specific Setting row.</p>\n"}], "owner": {"reputation": 147, "user_id": 11955464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47efc2aadc9ea05970bcf5a484bbfa9b?s=128&d=identicon&r=PG&f=1", "display_name": "michelecasati", "link": "https://stackoverflow.com/users/11955464/michelecasati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 57868341, "answer_count": 1, "score": 1, "last_activity_date": 1568109495, "creation_date": 1568108400, "question_id": 57868036, "link": "https://stackoverflow.com/questions/57868036/how-to-highlight-a-settings-row-in-android", "title": "How to highlight a settings row in Android?", "body": "<p>I'm trying to implement the fingerprint authentication and I want to make the user register a new fingerprint if He hasn't one. I know how to start an Intent to the Security Settings menu, but I can't find anywhere how to highlight the option I want the user to click. Do you think it's possible?\nThanks for your help</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "scrollview", "listener"], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 2638180, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bfe1adb4c7f213e282650e668c81c203?s=128&d=identicon&r=PG", "display_name": "user2638180", "link": "https://stackoverflow.com/users/2638180/user2638180"}, "edited": false, "score": 0, "creation_date": 1568120009, "post_id": 57868458, "comment_id": 102167373, "body": "It works by combining my code with yours as I put on edit."}], "tags": [], "owner": {"reputation": 927, "user_id": 5989449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3871791d7942dae0580eb8c0b98add66?s=128&d=identicon&r=PG", "display_name": "Ankit", "link": "https://stackoverflow.com/users/5989449/ankit"}, "is_accepted": true, "score": 1, "last_activity_date": 1568109895, "creation_date": 1568109895, "answer_id": 57868458, "question_id": 57868017, "link": "https://stackoverflow.com/questions/57868017/scrollviewchangelistener-not-working-as-expected/57868458#57868458", "title": "ScrollViewChangeListener not working as expected", "body": "<p>you can try this to get top position on recyclerview</p>\n\n<pre><code> LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n    recyclerView.setLayoutManager(layoutManager);\n    if(layoutManager.findFirstCompletelyVisibleItemPosition()==0) {\n         binding.refreshed!!.isEnabled = true\n    }\n    else {\n          binding.refreshed!!.isEnabled = false\n    }\n</code></pre>\n"}], "owner": {"reputation": 821, "user_id": 2638180, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bfe1adb4c7f213e282650e668c81c203?s=128&d=identicon&r=PG", "display_name": "user2638180", "link": "https://stackoverflow.com/users/2638180/user2638180"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 57868458, "answer_count": 1, "score": 0, "last_activity_date": 1568120530, "creation_date": 1568108350, "last_edit_date": 1568120530, "question_id": 57868017, "link": "https://stackoverflow.com/questions/57868017/scrollviewchangelistener-not-working-as-expected", "title": "ScrollViewChangeListener not working as expected", "body": "<p>I've defined the following code, so if an user is on top of the scrollview a swiperefreshlayout works. </p>\n\n<pre><code>recyclerView.getViewTreeObserver().addOnScrollChangedListener(ViewTreeObserver.OnScrollChangedListener {\n        if (recyclerView.scrollY == 0) {\n            binding.refreshed!!.isEnabled = true\n        } else {\n            binding.refreshed!!.isEnabled = false\n        }\n\n    })\n</code></pre>\n\n<p>But this code only reacts first time I move the recyclerview (which, by the way is in position 0 at start, and considers it to be at position 0 when move is performed), rest of the time the listener is never fired.</p>\n\n<p>What may I be doing wrong?</p>\n\n<p>PD: It's possible to achieve the wanted behavior with this code:</p>\n\n<pre><code>   val layoutManager = LinearLayoutManager(this.context);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.getViewTreeObserver().addOnScrollChangedListener(ViewTreeObserver.OnScrollChangedListener {\n\n\n            if (layoutManager.findFirstCompletelyVisibleItemPosition() == 0) {\n                binding.refreshed!!.isEnabled = true\n            } else {\n                binding.refreshed!!.isEnabled = false\n            }\n        })\n</code></pre>\n"}, {"tags": ["kotlin", "android-databinding", "android-architecture-navigation", "invocationtargetexception", "android-safe-args"], "comments": [{"owner": {"reputation": 849, "user_id": 8348768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HnWqdSmYkeA/AAAAAAAAAAI/AAAAAAAACOQ/mYXaMoMOC0s/photo.jpg?sz=128", "display_name": "Mohit Lakhanpal", "link": "https://stackoverflow.com/users/8348768/mohit-lakhanpal"}, "edited": false, "score": 0, "creation_date": 1581049559, "post_id": 57867948, "comment_id": 106307615, "body": "I&#39;m facing same issue on my project .Please help me to solve this issue"}, {"owner": {"reputation": 25, "user_id": 4543538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6883c09670f9e2b3aa0cdff93951855f?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian Fahrenholz", "link": "https://stackoverflow.com/users/4543538/fabian-fahrenholz"}, "reply_to_user": {"reputation": 849, "user_id": 8348768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HnWqdSmYkeA/AAAAAAAAAAI/AAAAAAAACOQ/mYXaMoMOC0s/photo.jpg?sz=128", "display_name": "Mohit Lakhanpal", "link": "https://stackoverflow.com/users/8348768/mohit-lakhanpal"}, "edited": false, "score": 0, "creation_date": 1583861023, "post_id": 57867948, "comment_id": 107252648, "body": "@Mohit Lakhanpal in my case it turned out, that there was a bigger cause around the runtime exception. It was caused by a missing dependency in my Koin module which I used for DI. After adding the dependency the fragment had no problems running.  I hope this helps you with the Problem."}, {"owner": {"reputation": 849, "user_id": 8348768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HnWqdSmYkeA/AAAAAAAAAAI/AAAAAAAACOQ/mYXaMoMOC0s/photo.jpg?sz=128", "display_name": "Mohit Lakhanpal", "link": "https://stackoverflow.com/users/8348768/mohit-lakhanpal"}, "edited": false, "score": 0, "creation_date": 1583902857, "post_id": 57867948, "comment_id": 107264804, "body": "I solved this issue. This issue was in my style file while I set a wrong attribute on the XML  file"}], "owner": {"reputation": 25, "user_id": 4543538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6883c09670f9e2b3aa0cdff93951855f?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian Fahrenholz", "link": "https://stackoverflow.com/users/4543538/fabian-fahrenholz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 347, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568108113, "creation_date": 1568108113, "question_id": 57867948, "link": "https://stackoverflow.com/questions/57867948/android-databindingutil-inflate-causes-invocationtargetexception", "title": "Android DataBindingUtil.inflate causes InvocationTargetException", "body": "<p>I'm working on an android application that registers consumptions of materials for production in warehouses. I am using Androids UI Navigation architecture component to handle the navigation within the app.\nIn every Fragment I am using the same onCreateView function:</p>\n\n<pre><code>override fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    binding = DataBindingUtil.inflate(inflater, R.layout.fragment_layout, container, false)\n\n    return inflater.inflate(R.layout.fragment_layout, container, false)\n}\n</code></pre>\n\n<p>where fragment_layout is the resource id of the current Fragments layout.</p>\n\n<p>My problem now is, that in one single Fragment the call to DataBindingUtil.inflate is causing an InvocationTargetException.</p>\n\n<p>I already commented out the complete layout to check if some errors are present in the layout file.\nAfter that, I commented out all the logic for the views inside the fragment. This led to the same exception over and over again.</p>\n\n<p>The last test I did was to change the line code inside onCreateView from </p>\n\n<pre><code>binding = DataBindingUtil.inflate(inflater, R.layout.consumption_fragment, container, false)\n\nreturn binding.root\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>return inflater.inflate(R.layout.fragment_layout, container, false)\n</code></pre>\n\n<p>After that, all the problems were gone. \nBut this solution is not suitable for me because I need to use the data bindings.</p>\n\n<p>This is the data section of the layout file in question</p>\n\n<pre><code>&lt;data&gt;\n    &lt;import type=\"Field\" /&gt;\n    &lt;import type=\"androidx.lifecycle.LiveData\" /&gt;\n    &lt;import type=\"java.util.List\" /&gt;\n        &lt;variable\n            name=\"parcelNo\"\n            type=\"Field&amp;lt;String&gt;\" /&gt;\n        &lt;variable\n            name=\"piece\"\n            type=\"Field&amp;lt;String&gt;\" /&gt;\n\n        &lt;variable\n            name=\"parcels\"\n            type=\"LiveData&amp;lt;List&amp;lt;Consumption&gt;&gt;\" /&gt;\n\n        &lt;variable\n            name=\"parcel\"\n            type=\"LiveData&amp;lt;Parcel&gt;\" /&gt;\n    &lt;/data&gt;\n</code></pre>\n\n<p>The stack trace that is shown in the logcat does not provide very much information about where the error occurs.</p>\n\n<pre><code>java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n"}, {"tags": ["android", "animation", "kotlin", "bottomnavigationview", "material-components-android"], "comments": [{"owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "edited": false, "score": 0, "creation_date": 1568107221, "post_id": 57867517, "comment_id": 102160415, "body": "please try <code>app:labelVisibilityMode=&quot;labeled&quot; </code>"}, {"owner": {"reputation": 201, "user_id": 5064470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IersP.jpg?s=128&g=1", "display_name": "jordiz", "link": "https://stackoverflow.com/users/5064470/jordiz"}, "reply_to_user": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "edited": false, "score": 0, "creation_date": 1568107322, "post_id": 57867517, "comment_id": 102160473, "body": "if I add labelVisibilityMode=&quot;labeled&quot; the labels is showing all the time and I don&#39;t want that."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1568107596, "post_id": 57867517, "comment_id": 102160628, "body": "<code>android:background=&quot;@color&#47;app_black&quot;</code> what do you think this line does, if not making the entire thing black"}, {"owner": {"reputation": 201, "user_id": 5064470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IersP.jpg?s=128&g=1", "display_name": "jordiz", "link": "https://stackoverflow.com/users/5064470/jordiz"}, "edited": false, "score": 0, "creation_date": 1568107970, "post_id": 57867517, "comment_id": 102160806, "body": "I want the black background if I remove the background the behavior is the same.&lt;br /&gt; Expect behavior:&lt;br /&gt; When I click on item the icon become larger and appear the text. Error result: &lt;br /&gt; Icon stay in normal size and appear the text."}], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 5064470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IersP.jpg?s=128&g=1", "display_name": "jordiz", "link": "https://stackoverflow.com/users/5064470/jordiz"}, "edited": false, "score": 0, "creation_date": 1568108404, "post_id": 57867861, "comment_id": 102161020, "body": "With this code I obtain: <a href=\"https://i.ibb.co/71JHBcg/result.png\" rel=\"nofollow noreferrer\">i.ibb.co/71JHBcg/result.png</a> and the expect behavior is: When I click on item the icon become larger and appear the text. But i obtain the error result: &lt;br /&gt; Icon stay in normal size and appear the text"}], "tags": [], "owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568107765, "creation_date": 1568107765, "answer_id": 57867861, "question_id": 57867517, "link": "https://stackoverflow.com/questions/57867517/animation-bottomnavigationview-doesnt-work/57867861#57867861", "title": "Animation BottomNavigationView doesn&#39;t work", "body": "<p>make these changes to your <code>nav_bottombar_item.xml</code> for <code>app:itemTextColor=\"@drawable/nav_bottombar_item\"</code>:</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:color=\"@color/app_white\" android:state_checked=\"true\" /&gt;\n    &lt;item android:color=\"@color/app_black\" android:state_checked=\"false\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>and add this <code>app:labelVisibilityMode=\"labeled\"</code> also. </p>\n"}], "owner": {"reputation": 201, "user_id": 5064470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IersP.jpg?s=128&g=1", "display_name": "jordiz", "link": "https://stackoverflow.com/users/5064470/jordiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1568303061, "creation_date": 1568106609, "last_edit_date": 1568303061, "question_id": 57867517, "link": "https://stackoverflow.com/questions/57867517/animation-bottomnavigationview-doesnt-work", "title": "Animation BottomNavigationView doesn&#39;t work", "body": "<p>When I click on BottomNavigationView item it doesn't animate on some version (for example Marshallow)</p>\n\n<p><strong>The expect behavior is</strong>:</p>\n\n<p><em>When I click on item the icon become larger and appear the text.</em> </p>\n\n<p><strong>But the result is</strong>: </p>\n\n<p><em>Icon stay in normal size and appear the text</em>\n<br />\n<br />\n<strong>The code</strong>:</p>\n\n<p>build.gradle (app)</p>\n\n<pre><code>//AndroidX UI\nimplementation \"com.google.android.material:material:1.0.0\"\nimplementation \"androidx.appcompat:appcompat:1.1.0\"\n</code></pre>\n\n<p>activity.xml</p>\n\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n            android:id=\"@+id/activity_home_custombottombar\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintVertical_bias=\"1\"\n            android:layout_marginStart=\"0dp\"\n            android:layout_marginEnd=\"0dp\"\n            android:background=\"@color/app_black\"\n            app:itemIconTint=\"@drawable/nav_bottombar_item\"\n            app:itemTextColor=\"@drawable/nav_bottombar_item\"\n            app:labelVisibilityMode=\"selected\"\n            app:menu=\"@menu/menu_items\" /&gt;\n</code></pre>\n\n<p>menu_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n\n    &lt;item\n            android:id=\"@+id/action_1\"\n            android:icon=\"@drawable/ic_home_black_24dp\"\n            android:title=\"@string/menu_action_1\" /&gt;\n\n    &lt;item\n            android:id=\"@+id/action_2\"\n            android:icon=\"@drawable/ic_dashboard_black_24dp\"\n            android:title=\"@string/menu_action_2\" /&gt;\n\n    &lt;item\n            android:id=\"@+id/action_3\"\n            android:icon=\"@drawable/ic_notifications_black_24dp\"\n            android:title=\"@string/menu_action_3\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>nav_bottombar_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:color=\"@color/app_white\" android:state_enabled=\"true\" /&gt;\n    &lt;item android:color=\"@color/app_black\" android:state_enabled=\"false\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>HomeActivity.kt</p>\n\n<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener {\n            when(it.itemId) {\n                R.id.action_1 -&gt; {\n                    viewModel.navigationHandler?.switchStack(PredefinedStacks.STACK_ACTION_1)\n                    true\n                }\n                R.id.action_2 -&gt; {\n                    viewModel.navigationHandler?.switchStack(PredefinedStacks.STACK_ACTION_2)\n                    true\n                }\n                R.id.action_3 -&gt; {\n                    viewModel.navigationHandler?.switchStack(PredefinedStacks.STACK_ACTION_3)\n                    true\n                }\n                else -&gt; false\n            }\n        }\n</code></pre>\n\n<p><br />\n<strong>I expect and result:</strong>\n<br />\n<br /></p>\n\n<p>If you can see in the next image the animation doesn't work properly.<br />\nI expect something like this:<br />\n<img src=\"https://i.ibb.co/PwVhWYz/2019-09-10-11-01-00-Correo.png\" alt=\"Spect 1\">\n<br />\n<img src=\"https://i.ibb.co/1nSrng7/2019-09-10-11-01-05-Android-Emulator-5-1-WVGA-API-23-MDPI-5554.png\" alt=\"Spect 2\">\n<br />\nBut I obtain this result:<br />\n<img src=\"https://i.ibb.co/HPSsJRq/2019-09-10-10-56-26-Animation-Bottom-Navigation-View-doesn-t-work-Stack-Overflow.png\" alt=\"Result\"></p>\n\n<p><strong>UPDATED:</strong></p>\n\n<p>I just need to call the requestLayout on setOnNavigationItemSelectedListener.\nApparently the BottomNavigationView remains blocked, and it just need to redraw.</p>\n\n<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener {\nbottomNavigationView.requestLayout()\n            when(it.itemId) {\n                R.id.action_1 -&gt; {\n                    viewModel.navigationHandler?.switchStack(PredefinedStacks.STACK_ACTION_1)\n                    true\n                }\n                R.id.action_2 -&gt; {\n                    viewModel.navigationHandler?.switchStack(PredefinedStacks.STACK_ACTION_2)\n                    true\n                }\n                R.id.action_3 -&gt; {\n                    viewModel.navigationHandler?.switchStack(PredefinedStacks.STACK_ACTION_3)\n                    true\n                }\n                else -&gt; false\n            }\n        }\n</code></pre>\n"}, {"tags": ["java", "android", "xml", "kotlin", "jvm"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568106285, "post_id": 57866994, "comment_id": 102159934, "body": "It works. Thanks. But I want to know why it changed not working."}], "tags": [], "owner": {"reputation": 2367, "user_id": 3100601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adf267dc04bdbe5b7d8359e54e8fa8ea?s=128&d=identicon&r=PG&f=1", "display_name": "ror", "link": "https://stackoverflow.com/users/3100601/ror"}, "is_accepted": false, "score": 0, "last_activity_date": 1568104694, "creation_date": 1568104694, "answer_id": 57866994, "question_id": 57866931, "link": "https://stackoverflow.com/questions/57866931/cdata-returns-two-result-some-app-version-print-another-app-vers/57866994#57866994", "title": "&lt;![CDATA[&quot;&#39;&quot;]]&gt; returns two result. Some app version print &quot;&#39;&quot;, another app version print &#39;. Why?", "body": "<p>Is your goal to just show quotes? If so, try using this:</p>\n\n<pre><code>&lt;string name=\"example\"&gt;\\'example\\'&lt;/string&gt;\n</code></pre>\n\n<p>Use case: <code>Timber.d(getString(R.string.example));</code>\nCDATA is when you'd like to pack HTML with getText. I don't think you need it here.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568106042, "post_id": 57867090, "comment_id": 102159813, "body": "Thanks for your answer. But, I want to know case that &lt;![CDATA[&quot;&#39;&quot;]]&gt; became not working."}, {"owner": {"reputation": 563, "user_id": 12041133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dSnkW.jpg?s=128&g=1", "display_name": "Emad Seliem", "link": "https://stackoverflow.com/users/12041133/emad-seliem"}, "reply_to_user": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568188173, "post_id": 57867090, "comment_id": 102191329, "body": "Actually I not sure , why this happened may be because of grdle."}, {"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568531187, "post_id": 57867090, "comment_id": 102298415, "body": "Using &quot;\\&#39;&quot; without &lt;![CDATA[&quot;&#39;&quot;]]&gt; works well. And using \\&#39; works well, too. So I will remove &lt;![CDATA[&quot;&quot;]&gt; until I know why."}, {"owner": {"reputation": 563, "user_id": 12041133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dSnkW.jpg?s=128&g=1", "display_name": "Emad Seliem", "link": "https://stackoverflow.com/users/12041133/emad-seliem"}, "reply_to_user": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568531314, "post_id": 57867090, "comment_id": 102298441, "body": "if it is working, you can mark this as a correct  answer may be another one facing the same issue."}, {"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568532095, "post_id": 57867090, "comment_id": 102298580, "body": "OK. But I will mark answer after I know what is different gradle plugin version between 3.2.1 and 3.3.0 ~ 3.4.2."}, {"owner": {"reputation": 563, "user_id": 12041133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dSnkW.jpg?s=128&g=1", "display_name": "Emad Seliem", "link": "https://stackoverflow.com/users/12041133/emad-seliem"}, "reply_to_user": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568532418, "post_id": 57867090, "comment_id": 102298627, "body": "You can check this link for gradle plugin release <a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/gradle-plugin</a>"}, {"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568611211, "post_id": 57867090, "comment_id": 102313812, "body": "Checked this link more than twice..Sorry.. I cannot find any good answer. This is not easy something. So, I submitted to google issue tracker. I&#39;m waiting for comment."}], "tags": [], "owner": {"reputation": 563, "user_id": 12041133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dSnkW.jpg?s=128&g=1", "display_name": "Emad Seliem", "link": "https://stackoverflow.com/users/12041133/emad-seliem"}, "is_accepted": true, "score": 0, "last_activity_date": 1568105053, "creation_date": 1568105053, "answer_id": 57867090, "question_id": 57866931, "link": "https://stackoverflow.com/questions/57866931/cdata-returns-two-result-some-app-version-print-another-app-vers/57867090#57867090", "title": "&lt;![CDATA[&quot;&#39;&quot;]]&gt; returns two result. Some app version print &quot;&#39;&quot;, another app version print &#39;. Why?", "body": "<p>Try this it should work fine    </p>\n\n<p>\"\\'\"</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568106489, "post_id": 57867275, "comment_id": 102160033, "body": "Works for me, thanks. But I want to use &lt;![CDATA[&quot;&#39;&quot;]]&gt;. Unless cannot use, want to know why."}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "reply_to_user": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568107544, "post_id": 57867275, "comment_id": 102160594, "body": "<code>&lt;![CDATA[&#39;]]&gt;</code> could make sense, I have no idea why an apostrophe should be quoted."}, {"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568107931, "post_id": 57867275, "comment_id": 102160784, "body": "It works well, too. Not should be quoted but this problem appear from gradle/library upgrading side effect. So I want to know that did android change CDATA policy? or other change?  Very very thanks for your answer. THANK YOU!"}], "tags": [], "owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "is_accepted": false, "score": 0, "last_activity_date": 1568105742, "creation_date": 1568105742, "answer_id": 57867275, "question_id": 57866931, "link": "https://stackoverflow.com/questions/57866931/cdata-returns-two-result-some-app-version-print-another-app-vers/57867275#57867275", "title": "&lt;![CDATA[&quot;&#39;&quot;]]&gt; returns two result. Some app version print &quot;&#39;&quot;, another app version print &#39;. Why?", "body": "<p>By XML standard:</p>\n\n<pre><code>&lt;string name=\"example\"&gt;&amp;apos;example&amp;apos;&lt;/string&gt;\n</code></pre>\n\n<p>Though probably not <em>that</em> easy. (<code>&amp;quot;</code> for <code>\"</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "edited": false, "score": 0, "creation_date": 1568108419, "post_id": 57867689, "comment_id": 102161026, "body": "Thanks for your answer! I want to know that what affected that code, because it occured from gradle/library version upgrading side effect."}], "tags": [], "owner": {"reputation": 93, "user_id": 8729969, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209288879051374/picture?type=large", "display_name": "Jatezzz", "link": "https://stackoverflow.com/users/8729969/jatezzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1568107209, "creation_date": 1568107209, "answer_id": 57867689, "question_id": 57866931, "link": "https://stackoverflow.com/questions/57866931/cdata-returns-two-result-some-app-version-print-another-app-vers/57867689#57867689", "title": "&lt;![CDATA[&quot;&#39;&quot;]]&gt; returns two result. Some app version print &quot;&#39;&quot;, another app version print &#39;. Why?", "body": "<p>I think it's the way your are using CDATA sentence, if you still wanna used it, it could be something like</p>\n\n<pre><code>&lt;string name=\"example\"&gt;&lt;![CDATA[&amp;#039;example&amp;#039;]]&gt;&lt;/string&gt;\n</code></pre>\n\n<p>Using <code>&amp;#039;</code> or <code>&amp;apos;</code> for apostrophe symbol.</p>\n"}], "owner": {"reputation": 3, "user_id": 11499269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P3vM2TWiYCs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcZYg7v094saKo3fJ_9xsSKYr4vCw/mo/photo.jpg?sz=128", "display_name": "byungyong Park", "link": "https://stackoverflow.com/users/11499269/byungyong-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 57867090, "answer_count": 4, "score": 0, "last_activity_date": 1568904842, "creation_date": 1568104461, "last_edit_date": 1568904842, "question_id": 57866931, "link": "https://stackoverflow.com/questions/57866931/cdata-returns-two-result-some-app-version-print-another-app-vers", "title": "&lt;![CDATA[&quot;&#39;&quot;]]&gt; returns two result. Some app version print &quot;&#39;&quot;, another app version print &#39;. Why?", "body": "<p>I used  in string.xml.\nAnd used like getText(R.string.something).</p>\n\n<p>Some app version print that string like \"'\".\nAnd another app version print like '.</p>\n\n<p>Search that keyword 'android', 'CDATA', 'quote', 'getText', 'update'</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string name=\"example\"&gt;&lt;![CDATA[\"'\"]]&gt;example&lt;![CDATA[\"'\"]]&gt;&lt;/string&gt;\n</code></pre>\n\n<pre><code>Timber.d(getText(R.id.example))\n\n// some app print \"'\"\n// another app print '\n</code></pre>\n\n<p>That code returned ' before.\nBut after version upgrading some libraries related to GTM and glide,\nthat code returns \"'\".</p>\n\n<hr>\n\n<h1><strong>Update</strong></h1>\n\n<p>My best goal is printing ' using <code>&lt;![CDATA[\"'\"]]&gt;</code>.</p>\n\n<hr>\n\n<h1><strong>Update</strong></h1>\n\n<p>Unless can not, want to know why. Because it occured from gradle/library version upgrading side effect.</p>\n\n<hr>\n\n<h1><strong>Update</strong></h1>\n\n<p>I found why happen this problem.</p>\n\n<p>Problem came from upgrading <code>com.android.tools.build:gradle</code> version 3.2.1 to (3.3.0 ~ 3.4.2)\nBut, if set gradle version to 3.5.0, <code>&lt;![CDATA[\"'\"]]&gt;</code> returns ' (what I want)</p>\n\n<hr>\n\n<h1><strong>Update</strong></h1>\n\n<p>I got answer from google issue tracker assigner\n\"The output from gradle plugin 3.3.0 ~ 3.4.2 was a bug in aapt2. 3.5.0 restored the correct behavior.\"</p>\n\n<p>If want to know changes, search 'aapt2 quote' keyword.</p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568104749, "post_id": 57866906, "comment_id": 102159139, "body": "What is the problem, exactly? Are you getting any errors or Exceptions?"}, {"owner": {"reputation": 7, "user_id": 11846073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71d8a612cf2fc025a6bc5bf198ddc1b?s=128&d=identicon&r=PG&f=1", "display_name": "devk00", "link": "https://stackoverflow.com/users/11846073/devk00"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568106458, "post_id": 57866906, "comment_id": 102160017, "body": "i didn&#39;t get any thing"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568106530, "post_id": 57866906, "comment_id": 102160051, "body": "I&#39;m not quite sure what you&#39;re asking, then. How are you determining that you &quot;can not create the database&quot;?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568108178, "post_id": 57866906, "comment_id": 102160897, "body": "Are you trying to find the database file after running that code? Is that what you mean?"}, {"owner": {"reputation": 7, "user_id": 11846073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71d8a612cf2fc025a6bc5bf198ddc1b?s=128&d=identicon&r=PG&f=1", "display_name": "devk00", "link": "https://stackoverflow.com/users/11846073/devk00"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568125869, "post_id": 57866906, "comment_id": 102170852, "body": "yes  ,I did not find Device Folder Database in File Explorer&gt; Data-&gt;Data-&gt;my BackageName"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568144551, "post_id": 57866906, "comment_id": 102179296, "body": "Just instantiating your <code>SQLiteOpenHelper</code> doesn&#39;t cause the database to be created. You actually have to use it first; e.g., by accessing <code>writeableDatabase</code> or <code>readableDatabase</code>."}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 7368819, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hLatmYY2F3k/AAAAAAAAAAI/AAAAAAAAACc/ug155ecYVnM/photo.jpg?sz=128", "display_name": "Aayush Singh", "link": "https://stackoverflow.com/users/7368819/aayush-singh"}, "is_accepted": false, "score": -1, "last_activity_date": 1568105144, "creation_date": 1568105144, "answer_id": 57867112, "question_id": 57866906, "link": "https://stackoverflow.com/questions/57866906/unable-to-create-database-in-my-android-app/57867112#57867112", "title": "Unable to create database in my android app", "body": "<p>Well this is java based code. Hope it can help you a bit</p>\n\n<p>Create a database class and extends it to SQLiteOpenHelper class </p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper implements Constants {\nprivate static final String dbname = \"towers.db\";\nprivate static final int dbversion = 1;\n\npublic DatabaseHelper(Context context) {\n    super(context, dbname, null, dbversion);\n}\n\n@Override\npublic void onCreate(SQLiteDatabase db) {\n //  String query = \"CREATE TABLE TOWERS_TABLE (_id INTEGER PRIMARY KEY AUTOINICREMENT, CIRCLE TEXT, OPERATOR TEXT, NETWORK TEXT, CELLID TEXT, SIGNAL_STRENGTH TEXT)\";\n    String query =  \"CREATE TABLE TOWERS (_id INTEGER PRIMARY KEY AUTOINICREMENT, DATA TEXT)\";\n    db.execSQL(query);\n\n}\n\npublic void insertData(String data, SQLiteDatabase database){\n    try {\n        ContentValues values = new ContentValues();\n        values.put(\"data\",data);\n        database.insert(\"TOWERS\",null,values);\n    }catch (SQLException e){\n        e.printStackTrace();\n    }\n\n}\n\npublic void clearData(SQLiteDatabase db){\n    String query = \"DROP TABLE IF EXISTS TOWERS\";\n    db.execSQL(query);\n}\n\n\n@Override\npublic void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n\n}\n</code></pre>\n\n<p>Now create an object of database class where you want to add value</p>\n\n<pre><code>    databaseHelper = new DatabaseHelper(context);\n        database = databaseHelper.getWritableDatabase();\n databaseHelper.insertData(data,database); //Here data is the value that you want to store\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 11846073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71d8a612cf2fc025a6bc5bf198ddc1b?s=128&d=identicon&r=PG&f=1", "display_name": "devk00", "link": "https://stackoverflow.com/users/11846073/devk00"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "closed_date": 1568144404, "answer_count": 1, "score": -1, "last_activity_date": 1568144424, "creation_date": 1568104386, "last_edit_date": 1568109677, "question_id": 57866906, "link": "https://stackoverflow.com/questions/57866906/unable-to-create-database-in-my-android-app", "closed_reason": "Duplicate", "title": "Unable to create database in my android app", "body": "<p>I would like to create an application with a SQLite database but I do not know why I can not create the database</p>\n\n<pre><code>class Db_Connection(context: Context?) : SQLiteOpenHelper(context,\"my_db\",null, 1) {\n\n    override fun onCreate(p0: SQLiteDatabase?) {\n\n        var create_Table =\n            \"Create Table product( id INTEGER PRIMARY KEY AUTOINCREMENT ,  name TEXT)\"\n        p0!!.execSQL(create_Table)\n    }\n\n    override fun onUpgrade(p0: SQLiteDatabase?, p1: Int, p2: Int) {\n    }\n</code></pre>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    Db_Connection(this)\n}\n</code></pre>\n"}, {"tags": ["java", "android", "networking", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 8194166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870ce10639fefec6241ac725535cbab6?s=128&d=identicon&r=PG&f=1", "display_name": "kvaruna", "link": "https://stackoverflow.com/users/8194166/kvaruna"}, "edited": false, "score": 0, "creation_date": 1568104492, "post_id": 57866789, "comment_id": 102159003, "body": "Here also shows one deprecated method. <code>Getter for activeNetworkInfo: NetworkInfo! is deprecated. Deprecated in java. </code> Am worried about those methods"}, {"owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "reply_to_user": {"reputation": 378, "user_id": 8194166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870ce10639fefec6241ac725535cbab6?s=128&d=identicon&r=PG&f=1", "display_name": "kvaruna", "link": "https://stackoverflow.com/users/8194166/kvaruna"}, "edited": false, "score": 0, "creation_date": 1568106417, "post_id": 57866789, "comment_id": 102159999, "body": "This deprecated method is only for the devices running Android version lower than Marshmello thats why I put this in if-else condition."}, {"owner": {"reputation": 378, "user_id": 8194166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870ce10639fefec6241ac725535cbab6?s=128&d=identicon&r=PG&f=1", "display_name": "kvaruna", "link": "https://stackoverflow.com/users/8194166/kvaruna"}, "edited": false, "score": 0, "creation_date": 1568109248, "post_id": 57866789, "comment_id": 102161500, "body": "So is it okay to use this way? Any views on my implementation that why it&#39;s not a ideal way?"}], "tags": [], "owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568103957, "creation_date": 1568103957, "answer_id": 57866789, "question_id": 57866718, "link": "https://stackoverflow.com/questions/57866718/what-will-be-scenarios-if-i-implement-the-network-check-like-following-in-kotlin/57866789#57866789", "title": "What will be scenarios if I implement the network check like following in kotlin?", "body": "<p>try this:</p>\n\n<pre><code>\n    fun isInternetConnected(context: Context): Boolean {\n        return try {\n            val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n            return if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                val network = connectivityManager.activeNetwork\n                val capabilities = connectivityManager.getNetworkCapabilities(network)\n                capabilities != null &amp;&amp;\n                        (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) || capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR))\n            } else {\n                (context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager).activeNetworkInfo?.isConnected == true\n            }\n        } catch (e: Exception) {\n            e.printStackTrace()\n            false\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 8194166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870ce10639fefec6241ac725535cbab6?s=128&d=identicon&r=PG&f=1", "display_name": "kvaruna", "link": "https://stackoverflow.com/users/8194166/kvaruna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568104539, "creation_date": 1568103693, "last_edit_date": 1568104539, "question_id": 57866718, "link": "https://stackoverflow.com/questions/57866718/what-will-be-scenarios-if-i-implement-the-network-check-like-following-in-kotlin", "title": "What will be scenarios if I implement the network check like following in kotlin?", "body": "<p>Am trying to check my Internet availability before making API calls. But found out some of the methods are <strong>deprecated</strong> so found one solution on my own and it's working fine. But need to know about it's long term use.</p>\n\n<pre><code>fun isNetworkAvailable(context: Context): Boolean {\n        var isNetwork: Boolean = false\n        val connectivityManager = context\n            .getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val activeNetwork = connectivityManager.activeNetwork\n\n        if (activeNetwork == null) {\n            isNetwork = false\n            Toast.makeText(context, \"What can we do to that ?\", Toast.LENGTH_SHORT).show()\n            //Here we can show no network screen\n        } else {\n            isNetwork = true\n        }\n\n        return isNetwork\n    }\n</code></pre>\n\n<p>The <code>activeNetwork</code> becomes null if the device is <strong>not</strong> connected to internet. Is it a right way to implement? Your expertise needed. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1568104022, "post_id": 57866583, "comment_id": 102158749, "body": "Is your layout wrapped in <code>layout</code> tag (as per <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding</a>) ?"}, {"owner": {"reputation": 1, "user_id": 12020612, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RtaXjwzBtcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6GOzg36VZQf5Krft6w1TjJLKV8g/photo.jpg?sz=128", "display_name": "Gary Lim", "link": "https://stackoverflow.com/users/12020612/gary-lim"}, "reply_to_user": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1568104580, "post_id": 57866583, "comment_id": 102159051, "body": "@JohnO&#39;Reilly Yes it is"}, {"owner": {"reputation": 101, "user_id": 11171377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78ff9d5a6933c9910afc7c83369ff3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Przemek", "link": "https://stackoverflow.com/users/11171377/przemek"}, "edited": false, "score": 0, "creation_date": 1568730226, "post_id": 57866583, "comment_id": 102362447, "body": "clear and rebuild project if you are using databinding in XML files check if there is no issues with that"}], "owner": {"reputation": 1, "user_id": 12020612, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RtaXjwzBtcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6GOzg36VZQf5Krft6w1TjJLKV8g/photo.jpg?sz=128", "display_name": "Gary Lim", "link": "https://stackoverflow.com/users/12020612/gary-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568103158, "creation_date": 1568103158, "question_id": 57866583, "link": "https://stackoverflow.com/questions/57866583/after-adding-dependencies-having-this-error-anyone-know-how-to-fix", "title": "After adding dependencies having this error, anyone know how to fix?", "body": "<p>I am trying to create a new project based on MVVM and was adding all the dependencies needed.\nThis is what i had added and done so far : </p>\n\n<ol>\n<li>Added dependencies inside gradle file</li>\n<li>Added plugin </li>\n<li>Enabled dataBinding to true</li>\n<li>Added classpath in gradle file\nclasspath \"androidx.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha05\"</li>\n<li>Added android.databinding.enableV2=true\ninside gradle.properties</li>\n</ol>\n\n<p>I am following guide from this youtube playlist :</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Rd5dLmKewqg&amp;list=PLk7v1Z2rk4hjVaZ8DZKe8iT9RIM9OUrwp&amp;index=2\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Rd5dLmKewqg&amp;list=PLk7v1Z2rk4hjVaZ8DZKe8iT9RIM9OUrwp&amp;index=2</a></p>\n\n<p>Things i had tried so far : </p>\n\n<ol>\n<li><p>I had checked if \nandroid.useAndroidX=true and android.enableJetifier=true</p></li>\n<li><p>Replaced to minifyEnable false inside the gradle file</p></li>\n</ol>\n\n<p>The app cannot even compile and have been showing error</p>\n\n<p>This is my gradle project file:</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n    buildscript {\next.kotlin_version = '1.3.50'\nrepositories {\n    google()\n    jcenter()\n\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.5.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n\n    classpath \"androidx.navigation:navigation-safe-args-gradle-plugin:2.1.0-alpha05\"\n}\n    }\n\n    allprojects {\nrepositories {\n    google()\n    jcenter()\n\n}\n    }\n\n    task clean(type: Delete) {\ndelete rootProject.buildDir\n    }\n</code></pre>\n\n<p>This is my gradle Module:app file : </p>\n\n<pre><code>    apply plugin: 'com.android.application'\n\n    apply plugin: 'kotlin-android'\n\n    apply plugin: 'kotlin-android-extensions'\n\n    //kotlin kapt and navigation safeargs plugin\n    apply plugin: 'kotlin-kapt'\n\n    apply plugin: \"androidx.navigation.safeargs\"\n\n    android {\ncompileSdkVersion 28\ndefaultConfig {\n    applicationId \"com.example.mvvmsampleapp\"\n    minSdkVersion 22\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n\n}\n\ndataBinding {\n    enabled = true\n}\n    [This is the error][1]}\n\n    dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.core:core-ktx:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'androidx.test:runner:1.2.0'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n\n//Retrofit and GSON\nimplementation 'com.squareup.retrofit2:retrofit:2.6.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.6.0'\n\n//Kotlin Coroutines\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.1\"\nimplementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.1\"\n\n// ViewModel and LiveData\nimplementation \"androidx.lifecycle:lifecycle-extensions:2.0.0\"\n\n//New Material Design\nimplementation 'com.google.android.material:material:1.1.0-alpha07'\n\n//Kodein Dependency Injection\nimplementation \"org.kodein.di:kodein-di-generic-jvm:6.2.1\"\nimplementation \"org.kodein.di:kodein-di-framework-android-x:6.2.1\"\n\n//Android Room\nimplementation \"androidx.room:room-runtime:2.1.0-rc01\"\nimplementation \"androidx.room:room-ktx:2.1.0-rc01\"\nkapt \"androidx.room:room-compiler:2.1.0-rc01\"\n\n//Android Navigation Architecture\nimplementation \"androidx.navigation:navigation-fragment-ktx:2.1.0-alpha05\"\nimplementation \"androidx.navigation:navigation-ui-ktx:2.1.0-alpha05\"\n\nimplementation 'com.xwray:groupie:2.3.0'\nimplementation 'com.xwray:groupie-kotlin-android-extensions:2.3.0'\nimplementation 'com.xwray:groupie-databinding:2.3.0'\n\n    }\n</code></pre>\n\n<p>This is my error message</p>\n\n<pre><code>    /Users/garylim/Downloads/MVVMSampleApp/app/build/generated/source/kapt/debug/com/example/mvvmsampleapp/DataBinderMapperImpl.java:9: error: cannot find symbol\n    import com.example.mvvmsampleapp.databinding.ActivityLoginBindingImpl;\n                                        ^\n      symbol:   class ActivityLoginBindingImpl\n      location: package com.example.mvvmsampleapp.databinding \n</code></pre>\n\n<p>P.S. Cannot post image yet</p>\n"}, {"tags": ["java", "kotlin", "realm", "changelistener"], "answers": [{"tags": [], "owner": {"reputation": 293, "user_id": 1640012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d5bdb45b9218beac0ff78b25207ab13c?s=128&d=identicon&r=PG", "display_name": "Artur Hellmann", "link": "https://stackoverflow.com/users/1640012/artur-hellmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1568367976, "creation_date": 1568367976, "answer_id": 57921191, "question_id": 57866533, "link": "https://stackoverflow.com/questions/57866533/realm-java-sorting-makes-changelistener-slow/57921191#57921191", "title": "Realm Java sorting makes changelistener slow", "body": "<p>The problem is a comination of two Edgecases/Bugs in realm:</p>\n\n<ol>\n<li>A bug that every living <code>RealmResult</code> will be taken into account when creating changesets, even when the <code>RealmResult</code> itself has no listener (see <a href=\"https://github.com/realm/realm-java/issues/6614\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-java/issues/6614</a>).</li>\n<li>Realm has an edgecase when an object has cycling references (<code>ObjectA -&gt; ObjectB -&gt; RealmList&lt;ObjectA&gt;</code>) is fetched in a list and that list gets sorted, the changeset creation takes a long time.</li>\n</ol>\n\n<p>I fixed this by removing the cycling reference. Now it works.</p>\n"}], "owner": {"reputation": 293, "user_id": 1640012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d5bdb45b9218beac0ff78b25207ab13c?s=128&d=identicon&r=PG", "display_name": "Artur Hellmann", "link": "https://stackoverflow.com/users/1640012/artur-hellmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 57921191, "answer_count": 1, "score": 1, "last_activity_date": 1568367976, "creation_date": 1568102895, "last_edit_date": 1568118852, "question_id": 57866533, "link": "https://stackoverflow.com/questions/57866533/realm-java-sorting-makes-changelistener-slow", "title": "Realm Java sorting makes changelistener slow", "body": "<p>When I have a list with a bigger amount of elements (around 7000) and I add sorting to the query, change listeners are getting very slow. This is not the case when only one field is given. From the second field it slows down a lot. It also seems to depend on what field type is given to sorting. Booleans seem to be quite fast. Dates are also slower when only one is used.</p>\n\n<p>Let me show you what I do:\nvery simple query on all objects with multiple sorting elements:</p>\n\n<pre><code>val theList = realm.where(TheObject::class.java)\n    .sort(\n        arrayOf(\"fieldBool\", \"fieldDate\", \"fieldString\"),\n        arrayOf(Sort.DESCENDING, Sort.DESCENDING, Sort.DESCENDING)\n    )\n    .findAllAsync()\n\ntheList.addChangeListener { result: RealmResults&lt;TheObject&gt; -&gt;\n    // Set the list to the view.\n}\n</code></pre>\n\n<p>Now, when some object in this resulting list is changed, the change listener needs a lot of time to update the data. Also other change listeners on the same looper are very slow.</p>\n\n<p>even if I sort the result after adding a changeListener (in the change lsitener):</p>\n\n<pre><code>val theList = realm.where(TheObject::class.java)\n    .findAllAsync()\n\ntheList.addChangeListener { result: RealmResults&lt;TheObject&gt; -&gt;\n    viewToSet.list = result.sort(\n        arrayOf(\"fieldBool\", \"fieldDate\", \"fieldString\"),\n        arrayOf(Sort.DESCENDING, Sort.DESCENDING, Sort.DESCENDING)\n    )\n}\n</code></pre>\n\n<p>the update happens very slow. I found out that it might has to do with listening to do with calculating the changeset. If I add a changelistener to the realm instead of the result, it works quite fast. Still what is interesting is that I do not add a changeListener to the sorted list but to the unsorted list. sorting then works quite fast inside of the listener, but as soon as I have a sorted RealmResults living somewhere, the changeset creation seems to take a while...</p>\n\n<p>Is this a bug or just a weakness of Realm?</p>\n"}, {"tags": ["android", "kotlin", "fragmenttransaction"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568101340, "post_id": 57866137, "comment_id": 102157464, "body": "An <code>R.layout</code> there is just wrong, and will always throw that Exception. You need to specify the <code>R.id</code> for the <code>ViewGroup</code> that the <code>Fragment</code> is being placed into, not one in the <code>Fragment</code>&#39;s own layout."}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568101531, "post_id": 57866137, "comment_id": 102157545, "body": "@MikeM. I also tried using id like this: ft.add(R.id.fragment_for_subs,ExtendedSubscribersFragment())  but still the same error"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568101665, "post_id": 57866137, "comment_id": 102157609, "body": "Yes, you mentioned that in the question. Which layout is <code>fragment_for_subs</code> in?"}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1568101692, "post_id": 57866137, "comment_id": 102157631, "body": "Can you please post your <code>onCreateView</code> funciton? And the layout as well?"}, {"owner": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1568101969, "post_id": 57866137, "comment_id": 102157756, "body": "Can you please post your <code>fragment_extended_subscribers.xml</code> layout file as well?"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "reply_to_user": {"reputation": 20820, "user_id": 3145960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J90ZI.png?s=128&g=1", "display_name": "Reaz Murshed", "link": "https://stackoverflow.com/users/3145960/reaz-murshed"}, "edited": false, "score": 0, "creation_date": 1568102190, "post_id": 57866137, "comment_id": 102157874, "body": "@ReazMurshed I posted my fragment"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1568102288, "post_id": 57866137, "comment_id": 102157924, "body": "&quot;You need to specify the <code>R.id</code> for the <code>ViewGroup</code> that the <code>Fragment</code> is being placed into, not one in the <code>Fragment</code>&#39;s own layout.&quot;"}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568102457, "post_id": 57866137, "comment_id": 102158027, "body": "Can you show me an example how can I do"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1568102809, "post_id": 57866137, "comment_id": 102158194, "body": "You don&#39;t need an example. You already have almost everything. You just need to pass the right <code>R.id</code>. Where are you trying to put <code>ExtendedSubscribersFragment</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568103462, "post_id": 57866497, "comment_id": 102158472, "body": "Please share crash log."}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568103605, "post_id": 57866497, "comment_id": 102158535, "body": "java.lang.IllegalArgumentException: No view found for id 0x7f0d0037 (al.mgr.ekranet:layout/fragment_extended_subscribers) for fragment ExtendedSubscribersFragment{d6186df #0 id=0x7f0d0037}"}, {"owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "reply_to_user": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568103727, "post_id": 57866497, "comment_id": 102158600, "body": "I again edited my answer, please try this without any change."}, {"owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "edited": false, "score": 0, "creation_date": 1568104432, "post_id": 57866497, "comment_id": 102158972, "body": "still the same, I don&#39;t understand this"}], "tags": [], "owner": {"reputation": 181, "user_id": 6076979, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/La2DX.jpg?s=128&g=1", "display_name": "Dheeraj Gangwar", "link": "https://stackoverflow.com/users/6076979/dheeraj-gangwar"}, "is_accepted": false, "score": -1, "last_activity_date": 1568103693, "last_edit_date": 1568103693, "creation_date": 1568102702, "answer_id": 57866497, "question_id": 57866137, "link": "https://stackoverflow.com/questions/57866137/java-lang-illegalargumentexception-no-view-found-for-id-0x7f0d0037-for-fragment/57866497#57866497", "title": "java.lang.IllegalArgumentException: No view found for id 0x7f0d0037 for fragment", "body": "<p>try this:</p>\n\n<pre><code>    override fun onClick(v:View?) {\n        // Change this to\n        //-----------------------\n//        val fm = childFragmentManager\n        // this\n        //-----------------------\n        val fm = fragmentManager\n\n        val ft = fm.beginTransaction()\n        // Change: layout -&gt; id\n        ft.add(R.id.fragment_for_subs, ExtendedSubscribersFragment())\n        ft.addToBackStack(null)\n        ft.commit()\n    }\n</code></pre>\n\n<p>For more info: <a href=\"https://stackoverflow.com/a/14775322/6076979\">link</a></p>\n"}], "owner": {"reputation": 189, "user_id": 11992856, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6BOgu6rqrFM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reZ39lkrfavk_xXi2C4NWzHR-fC3A/photo.jpg?sz=128", "display_name": "Erald Developer", "link": "https://stackoverflow.com/users/11992856/erald-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1568103693, "creation_date": 1568101164, "last_edit_date": 1568102308, "question_id": 57866137, "link": "https://stackoverflow.com/questions/57866137/java-lang-illegalargumentexception-no-view-found-for-id-0x7f0d0037-for-fragment", "title": "java.lang.IllegalArgumentException: No view found for id 0x7f0d0037 for fragment", "body": "<p>I'm working on an app where I have to implement the <code>onClick</code> method on the fragment. When a button is clicked I want to open another fragment, but I'm facing an error with fragment id.</p>\n\n<p>I used fragment manager and fragment transaction in the <code>onClick</code> method like below:</p>\n\n<pre><code>override fun onClick(v: View?) {\nval fm = childFragmentManager\nval ft = fm.beginTransaction()\nft.add(R.layout.fragment_extended_subscribers, ExtendedSubscribersFragment())\nft.addToBackStack(null)\nft.commit()\n</code></pre>\n\n<p>I also tried to add an id to FrameLayout and add it to fragment transaction but still the same error:</p>\n\n<pre><code>ft.add(R.id.fragment_for_subs,ExtendedSubscribersFragment())\n</code></pre>\n\n<p>The logcat error is:</p>\n\n<pre><code>java.lang.IllegalArgumentException: No view found for id 0x7f0d0037 (al.mgr.ekranet:layout/fragment_extended_subscribers) for fragment ExtendedSubscribersFragment{d6186df #0 id=0x7f0d0037}\n</code></pre>\n\n<p>Here is my <code>onCreateView</code> function:</p>\n\n<pre><code>override fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    // Inflate the layout for this fragment\n    val view =  inflater.inflate(R.layout.fragment_extended_subscribers, container, false)\n    getAllSubscribers()\n    return view\n</code></pre>\n\n<p>Here is the layout associated with the fragment.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/fragment_for_subs\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".homeFragments.ExtendedSubscribersFragment\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/all_subscribers_list\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "xml", "kotlin", "emoji"], "comments": [{"owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "edited": false, "score": 1, "creation_date": 1568097408, "post_id": 57865125, "comment_id": 102155739, "body": "I think you need to create custom editText which only allow  Character.SURROGATE and Character.OTHER_SYMBOL and you can add android:maxLength=&quot;3&quot; to limit emoji length"}, {"owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "reply_to_user": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "edited": false, "score": 0, "creation_date": 1568102480, "post_id": 57865125, "comment_id": 102158039, "body": "@Nik android:maxLength. Counts the emojis as chars not every emojis as one entry. Some emojis takes 2 chars and other takes 3. So I can&#39;t put a fixed number here."}], "answers": [{"comments": [{"owner": {"reputation": 506, "user_id": 10771260, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VVqSgkCfkKs/AAAAAAAAAAI/AAAAAAAAADM/Di22v4d3YCA/photo.jpg?sz=128", "display_name": "Black mamba", "link": "https://stackoverflow.com/users/10771260/black-mamba"}, "edited": false, "score": 0, "creation_date": 1568098649, "post_id": 57865410, "comment_id": 102156285, "body": "will it work with androidx.emoji.widget.EmojiEditText?"}, {"owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "edited": false, "score": 0, "creation_date": 1568102346, "post_id": 57865410, "comment_id": 102157954, "body": "Works like charm. Thanks. How can I add a condition here to limit emojis to 3 max? My problem with android:maxLength is some emojis takes more than 2 chars so I&#39;m not able to fixed number here. It counts chars not the whole emoji as one entry."}, {"owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "reply_to_user": {"reputation": 506, "user_id": 10771260, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VVqSgkCfkKs/AAAAAAAAAAI/AAAAAAAAADM/Di22v4d3YCA/photo.jpg?sz=128", "display_name": "Black mamba", "link": "https://stackoverflow.com/users/10771260/black-mamba"}, "edited": false, "score": 0, "creation_date": 1568102374, "post_id": 57865410, "comment_id": 102157976, "body": "@Blackmamba I tried it. It works with no issues. Just extend it from EmojiEditText instead of EditText"}], "tags": [], "owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "is_accepted": true, "score": 1, "last_activity_date": 1568098154, "creation_date": 1568098154, "answer_id": 57865410, "question_id": 57865125, "link": "https://stackoverflow.com/questions/57865125/how-can-i-force-user-to-enter-emoji-only-in-edittext/57865410#57865410", "title": "How can I force user to enter emoji only in edittext", "body": "<p>Below class will only allow Emojis and symbols.   </p>\n\n<pre><code>public class CustomEditText extends EditText {\n        public CustomEditText(Context context) {\n            super(context);\n            init();\n        }\n\n        public CustomEditText(Context context, AttributeSet attrs) {\n            super(context, attrs);\n            init();\n        }\n\n        public CustomEditText(Context context, AttributeSet attrs, int defStyleAttr) {\n            super(context, attrs, defStyleAttr);\n            init();\n        }\n\n        private void init() {\n            setFilters(new InputFilter[]{new EmojiIncludeFilter()});\n        }\n\n        private class EmojiIncludeFilter implements InputFilter {\n\n            @Override\n            public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dstart, int dend) {\n                for (int i = start; i &lt; end; i++) {\n                    int type = Character.getType(source.charAt(i));\n                    if (type != Character.SURROGATE &amp;&amp; type != Character.OTHER_SYMBOL) {\n                        // Other then emoji value will be blank\n                        return \"\";\n                    }\n                }\n                return null;\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 1, "accepted_answer_id": 57865410, "answer_count": 1, "score": 0, "last_activity_date": 1568098154, "creation_date": 1568096811, "question_id": 57865125, "link": "https://stackoverflow.com/questions/57865125/how-can-i-force-user-to-enter-emoji-only-in-edittext", "title": "How can I force user to enter emoji only in edittext", "body": "<p>I'm using androidx.emoji.widget.EmojiEditText. I want to force user to enter only emojis here. And limit him to max 3 emojis. How can I do something like this? I tried to use external emoji keyboard that cancels the soft keyboard and shows up but didn't work properly.</p>\n\n<pre><code>&lt;androidx.emoji.widget.EmojiEditText\n                            android:id=\"@+id/etEmoji\"\n                            android:layout_width=\"match_parent\"\n                            android:layout_height=\"30dp\"\n                            android:layout_margin=\"10dp\"\n                            android:hint=\"Enter Emoji\"\n                            android:inputType=\"textShortMessage\"\n                            android:background=\"@android:color/transparent\"/&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1568093137, "post_id": 57864366, "comment_id": 102154370, "body": "If you haven&#39;t already read it, check out <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">Delegated Properties</a>."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1568093169, "post_id": 57864366, "comment_id": 102154377, "body": "Yeah, I read that but it isn&#39;t clear. For example, the very first paragraph in that document says: &quot;The expression after by is the delegate, because get() (and set()) corresponding to the property will be delegated to its getValue() and setValue() methods.&quot; - Yet in the code I posted above, there are no getValue(0 and setValue() methods, not even in further levels of the call hierarchy. Hence the poor documentation."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1568093590, "post_id": 57864366, "comment_id": 102154466, "body": "Well, <code>viewModel(...)</code> calls another function, <code>viewModelByClass(...)</code>. Eventually a class/interface is returned which will have defined a <code>getValue(...)</code> method and a possible <code>setValue(...)</code> method which the property&#39;s <code>get</code> method and possible <code>set</code> method delegates to, respectively."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1568093761, "post_id": 57864366, "comment_id": 102154525, "body": "As I mentioned, there is no getValue() or setValue() methods in the hierarchy. You can open up Android Studio and navigate a viewModel and you won&#39;t come across one."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 1, "creation_date": 1568098440, "post_id": 57864366, "comment_id": 102156181, "body": "Alright, assuming this is <code>koin-androidx-viewmodel</code> then <code>viewModel(...)</code> calls <code>viewModelByClass(..)</code> which in turn calls <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/lazy.html\" rel=\"nofollow noreferrer\"><code>lazy(...)</code></a> which returns an instance of <code>Lazy</code>. There is an extension operator function for <code>Lazy</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/get-value.html\" rel=\"nofollow noreferrer\"><code>getValue(...)</code></a>. That&#39;s the method being delegated to."}], "answers": [{"comments": [{"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568094972, "post_id": 57864625, "comment_id": 102154871, "body": "So are you saying Kotlin implicitly creates (behind-the-scenes) the methods getValue and setValue when it sees the &quot;by&quot; operator?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568095022, "post_id": 57864625, "comment_id": 102154886, "body": "No, it is present in <code>MyViewModel</code> or one of its superclases. Everything is explicit. <code>by</code> only works if there is a <code>getValue</code> and / or <code>setValue</code>."}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1568095337, "post_id": 57864625, "comment_id": 102155002, "body": "In Android Studio, I went through the superclasses and did not find any getValue or setValue methods."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 1, "last_activity_date": 1568094043, "creation_date": 1568094043, "answer_id": 57864625, "question_id": 57864366, "link": "https://stackoverflow.com/questions/57864366/understanding-how-by-works-as-a-delegate/57864625#57864625", "title": "Understanding how &quot;by&quot; works as a delegate", "body": "<p>The <code>inline</code> function just creates a new instance of <code>MyViewModel</code> and the getter / setter gets delegated to it. In your code the <code>inline</code> function is necessary because it uses a <code>reified</code> type parameter which you use in</p>\n\n<pre><code>viewModelByClass(T::class, key, name, null, parameters) // note the T::class\n</code></pre>\n\n<p>What happens in this line:</p>\n\n<pre><code>override val vm: MyViewModel by viewModel()\n</code></pre>\n\n<p>is that a <code>MyViewModel</code> gets created by calling <code>viewModel()</code> and its <code>Property</code> is assigned to the <code>vm</code> field. The <code>by</code> keyword works by means of <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">Operator Overloading</a>. In this case the operators in question are:</p>\n\n<pre><code>operator fun getValue(thisRef: R, property: KProperty&lt;*&gt;): T\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public operator fun setValue(thisRef: R, property: KProperty&lt;*&gt;, value: \n</code></pre>\n\n<p>If you implement these in any class you'll be able to use it as a property delegate.</p>\n\n<p>I've written about this topic in depth <a href=\"https://the-cogitator.com/posts/blog/2018/09/29/by-the-way-exploring-delegation-in-kotlin.html#property-delegation\" rel=\"nofollow noreferrer\">here</a> if you want more clarification.</p>\n"}], "owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 57864625, "answer_count": 1, "score": 1, "last_activity_date": 1568094043, "creation_date": 1568092371, "question_id": 57864366, "link": "https://stackoverflow.com/questions/57864366/understanding-how-by-works-as-a-delegate", "title": "Understanding how &quot;by&quot; works as a delegate", "body": "<p>The following code shows a delegate:</p>\n\n<pre><code>override val vm: MyViewModel by viewModel()\n\ninline fun &lt;reified T : ViewModel&gt; LifecycleOwner.viewModel(\n    key: String? = null,\n    name: String? = null,\n    noinline parameters: ParameterDefinition = emptyParameterDefinition()\n) = viewModelByClass(T::class, key, name, null, parameters)\n</code></pre>\n\n<p>I don't really understand what is happening when you have <code>by viewModel</code></p>\n\n<p>Does viewModel() cause the inline function to be called and its return value assigned to the variable vm?</p>\n"}, {"tags": ["android", "xml", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 354, "user_id": 10573058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c150fc21939f9e4f220affba8e9bb8e1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Evans", "link": "https://stackoverflow.com/users/10573058/scott-evans"}, "edited": false, "score": 0, "creation_date": 1568169063, "post_id": 57867038, "comment_id": 102185797, "body": "Almost - I do want to change based on them being enabled and have cases for those situations but I want these different colours on load of the screen. Therefore changing the colour on button press would not work. I&#39;ll try doing something similar on load of the screen and loop through the items."}], "tags": [], "owner": {"reputation": 492, "user_id": 9042709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0319307be4d99b4319b5b71a34dc10d5?s=128&d=identicon&r=PG&f=1", "display_name": "Suri", "link": "https://stackoverflow.com/users/9042709/suri"}, "is_accepted": false, "score": 0, "last_activity_date": 1568105301, "last_edit_date": 1568105301, "creation_date": 1568104864, "answer_id": 57867038, "question_id": 57864316, "link": "https://stackoverflow.com/questions/57864316/tint-menu-icons-based-on-if-condition/57867038#57867038", "title": "Tint menu icons based on if condition", "body": "<p>Do you mean when you click the icon once it turns green(enabled) when it is clicked again it turns gray(disabled) and so on? Then try this.</p>\n\n<pre><code>boolean isAddEnabled = false;\nboolean isClearEnabled = false;\nboolean isSubmitEnabled = false;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    toolbar.inflateMenu(R.menu.menu);\n    toolbar.setOnMenuItemClickListener(new Toolbar.OnMenuItemClickListener() {\n        @Override\n        public boolean onMenuItemClick(MenuItem item) {\n\n            int itemId = item.getItemId();\n\n            switch (itemId) {\n                case R.id.add_row:\n\n                    if (!isAddEnabled) {\n\n                        isAddEnabled = true;\n\n                        item.getIcon().setColorFilter(Color.GREEN, PorterDuff.Mode.SRC_ATOP);\n\n                        break;\n                    }\n                    else {\n\n                        isAddEnabled = false;\n\n                        item.getIcon().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_ATOP);\n\n                        break;\n                    }\n\n                case R.id.clear_row:\n\n                    if (!isClearEnabled) {\n\n                        isClearEnabled = true;\n                        item.getIcon().setColorFilter(Color.RED, PorterDuff.Mode.SRC_ATOP);\n                        break;\n                    }\n                    else {\n\n                        isClearEnabled = false;\n                        item.getIcon().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_ATOP);\n                        break;\n                    }\n\n                case R.id.submit_row:\n\n                    if (!isSubmitEnabled) {\n                        isSubmitEnabled = true;\n                        item.getIcon().setColorFilter(Color.GREEN, PorterDuff.Mode.SRC_ATOP);\n                        break;\n                    }\n                    else {\n\n                        isSubmitEnabled = false;\n                        item.getIcon().setColorFilter(Color.GRAY, PorterDuff.Mode.SRC_ATOP);\n                        break;\n                    }\n            }\n            return true;\n        }\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 354, "user_id": 10573058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c150fc21939f9e4f220affba8e9bb8e1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Evans", "link": "https://stackoverflow.com/users/10573058/scott-evans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568105301, "creation_date": 1568091923, "question_id": 57864316, "link": "https://stackoverflow.com/questions/57864316/tint-menu-icons-based-on-if-condition", "title": "Tint menu icons based on if condition", "body": "<p>I have a toolbar: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item\n        android:id=\"@+id/add_row\"\n        android:icon=\"@drawable/add\"\n        android:title=\"Add Row\"\n        /&gt;\n    &lt;item\n        android:id=\"@+id/clear_row\"\n        android:icon=\"@drawable/clear\"\n        android:title=\"Clear\"\n        /&gt;\n    &lt;item\n        android:id=\"@+id/submit_row\"\n        android:icon=\"@drawable/check\"\n        android:title=\"Save\"\n        /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>The add (1) and save (3) buttons should be a green colour when enabled. The clear (2) should be red when enabled. All should be grey when disabled.\nI can't seem to find a way to colour these as stated. I am using the tint when adding the toolbar into the screen:</p>\n\n<pre><code>app:itemIconTint=\"@drawable/toolbar_selector\"\napp:itemTextColor=\"@drawable/toolbar_selector\"\n</code></pre>\n\n<p>However this only sets checked and standard colour. \nThere doesn't seem to be a way to specify that the clear (2) item should have a red colour. Is this even possible?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 3, "last_activity_date": 1568098164, "last_edit_date": 1568098164, "creation_date": 1568093182, "answer_id": 57864485, "question_id": 57864279, "link": "https://stackoverflow.com/questions/57864279/why-does-a-member-function-invocation-not-infer-a-required-receiver-from-the-cal/57864485#57864485", "title": "Why does a member function invocation not infer a required receiver from the calling function?", "body": "<p>Your declaration:</p>\n\n<pre><code>class Foo {\n    fun CoroutineScope.foo() {\n\n    }\n}\n</code></pre>\n\n<p>defines an extension function <code>foo</code> of <code>CoroutineScope</code> in the context of an instance of the class <code>Foo</code>. This means you can only invoke <code>foo</code> on an instance of <code>CoroutineScope</code> if you are in a scope where <code>this</code> is of the type <code>Foo</code>.</p>\n\n<p>The first attempt <code>f.foo()</code> does exactly the opposite. You invoke <code>foo()</code> on an instance of <code>Foo</code>  and <code>this</code> references a <code>CoroutineScope</code>. </p>\n\n<p>The two other examples uses <code>with</code> to set the <code>this</code> reference to <code>Foo</code> and therefor you can invoke <code>foo</code> on the outer <code>CoroutineScope</code> instance.</p>\n\n<p>BTW: <code>with(this)</code>  makes no sense, because <code>this</code> will be set to <code>this</code>.</p>\n"}], "owner": {"reputation": 3738, "user_id": 1392189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/049239f7f0deb84f0775853a9cb401c7?s=128&d=identicon&r=PG", "display_name": "Rollie", "link": "https://stackoverflow.com/users/1392189/rollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 1, "accepted_answer_id": 57864485, "answer_count": 1, "score": 2, "last_activity_date": 1568098472, "creation_date": 1568091577, "last_edit_date": 1568098472, "question_id": 57864279, "link": "https://stackoverflow.com/questions/57864279/why-does-a-member-function-invocation-not-infer-a-required-receiver-from-the-cal", "title": "Why does a member function invocation not infer a required receiver from the calling function?", "body": "<p>Consider:</p>\n\n<pre><code>class Foo {\n    fun CoroutineScope.foo() {\n\n    }\n}\n\nclass Bar {\n    val f = Foo()\n\n    fun CoroutineScope.bar() { // this could also be \"suspend fun bar = coroutineScope {\"\n        f.foo() // unresolved reference\n\n        with (f) { \n            foo() // OK\n        }\n\n        with (f) {\n            with(this) {\n                foo() // OK\n            }\n        }        \n    }\n}\n</code></pre>\n\n<p>It seems like the first attempt at <code>f.foo()</code> should infer the <code>CoroutineScope</code> receiver specified on <code>bar()</code>. It seems it doesn't; but in an attempt to understand receivers better, does anyone have an explanation as to <em>why</em>?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>(<a href=\"https://pl.kotl.in/tadqRb904\" rel=\"nofollow noreferrer\">Playground link</a>)</p>\n\n<p>After looking over <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">some docs</a> (specifically the <em>\"Declaring extensions as members\"</em>) and Rene's response, I tried a few more things:</p>\n\n<pre><code>import kotlinx.coroutines.*\n\nclass Foo {\n    fun CoroutineScope.foo() { println(\"Foo.foo\")}\n    fun Baz.fed(){ println(\"Foo.fed\") }\n}\n\nclass Baz {\n    fun CoroutineScope.foo() { println(\"Baz.foo\") }\n    fun Foo.fed(){ println(\"Baz.fed\") }\n}\n\nfun CoroutineScope.foo() { println(\"CoroutineScope.foo\") }\n\nfun foo() { println(\"Global.foo\") }\n\nfun bar(scope: CoroutineScope) {\n    val f = Foo()\n    val b = Baz()\n\n    println (\"Test 1\")\n    foo() // foo() from Global\n    scope.foo() // foo() from CoroutineScope\n    //f.foo() // unresolved reference\n\n    println (\"\\nTest 2\")\n    with(scope) {\n        foo() // foo() from CoroutineScope\n        //f.foo() // unresolved reference\n    }\n\n    println (\"\\nTest 3\")\n    with(f) {\n        scope.foo() // foo() from Foo\n        foo() // foo() from Global\n    }\n\n    println (\"\\nTest 4\")\n    with(scope) {\n        with (f) {\n            foo() // foo() from Foo\n            scope.foo() // foo() from Foo\n        }\n    }\n\n    println (\"\\nTest 5\")\n    with(f) {\n        with (scope) {\n            foo() // foo() from Foo\n            scope.foo() // foo() from Foo\n        }\n    }\n\n    println (\"\\nTest 6\")\n    with(b) {\n        with(f) {\n            with (scope) {\n                foo() // foo() from Foo\n\n                fed() // fed() from Baz     \n            }\n        }\n    }\n\n    println (\"\\nTest 7\")\n    with(f) {\n        with(b) {\n            with (scope) {\n                foo() // foo() from Baz\n\n                fed() // fed() from Foo\n            }\n        }\n    }\n}\n\nfun main() = runBlocking {\n    bar(this)\n}\n</code></pre>\n\n<p>It's interesting to see that when both contexts are made available via <code>with</code>, it is able to figure out which one is the <em>dispatch context</em> and which the <em>extension context</em>, regardless of what order they are provided. But if you specify the <em>extension context</em> directly like <code>f.bar()</code>, it will <em>only</em> look for versions of <code>bar</code> with <em>extension receiver</em> of type <code>Foo</code>, or a direct member of <code>Foo</code> (I'm still a bit hazy about how it views <em>dispatch</em> and <em>extension</em> receivers for a function that is simply defined in the class definition). So it seems the logic is something like:</p>\n\n<p>Given expression <code>x.y()</code>:</p>\n\n<ol>\n<li>Find all functions <code>y()</code> that take <em>extension receiver</em> <code>x</code></li>\n<li>For each receiver available <code>c</code>, starting with the most recently added, choose the first <code>x.y()</code> that <strong>explicitly</strong> takes a <em>dispatch receiver</em> of type <code>c</code> - note that <code>fun CoroutineScope.foo()</code> in global scope acts like it has no <em>dispatch receiver</em>, since tests 6 and 7 show that even though <code>scope</code> is added to the available context list last, <code>Foo</code> (or <code>Baz</code>) version of <code>foo()</code> is used.</li>\n</ol>\n\n<p>Given expression <code>y()</code>:</p>\n\n<ol>\n<li>Try to find an <code>x.y()</code> with both a <em>dispatch receiver</em> and <em>extension receiver</em> (x) defined and in the list of available contexts. (note: it chooses the most recently added <em>extension receiver</em> first, then tries to find a matching <em>dispatch receiver</em> (see test 6 and 7 with <code>fed()</code>)</li>\n<li>If #1 returned nothing, choose most recently added context with <em>dispatch receiver</em> <code>x</code> in available contexts that define function <code>y()</code></li>\n<li>Still nothing? Choose the most recently added context with <em>extension receiver</em> <code>x</code> that define function <code>y()</code></li>\n<li>Fall back to global version of <code>y()</code></li>\n</ol>\n"}, {"tags": ["android", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "edited": false, "score": 0, "creation_date": 1568088953, "post_id": 57863778, "comment_id": 102153478, "body": "You can easily do that with handlers and some extra logic"}], "answers": [{"tags": [], "owner": {"reputation": 1340, "user_id": 10888893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDlu.jpg?s=128&g=1", "display_name": "Mr. Patel", "link": "https://stackoverflow.com/users/10888893/mr-patel"}, "is_accepted": false, "score": -1, "last_activity_date": 1568089326, "creation_date": 1568089326, "answer_id": 57864019, "question_id": 57863778, "link": "https://stackoverflow.com/questions/57863778/how-to-calculate-glide-image-loading-time/57864019#57864019", "title": "How to calculate Glide image loading time?", "body": "<p>Try this logic:</p>\n\n<p>Before loading image take a lateinit long now when before calling glide load function do Handler.postdelay() in that at continuously increment your lateinit long var with 100 milliseconds and when resource is ready just do handler.removecallbacksandmessages() and after that you can print your time.</p>\n"}], "owner": {"reputation": 31, "user_id": 12044530, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WzpjrV6nKnk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfrkTwmCad87vOfVCOLgcUNfu2Mmw/photo.jpg?sz=128", "display_name": "Li Chen", "link": "https://stackoverflow.com/users/12044530/li-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1568094725, "creation_date": 1568087123, "last_edit_date": 1568094725, "question_id": 57863778, "link": "https://stackoverflow.com/questions/57863778/how-to-calculate-glide-image-loading-time", "title": "How to calculate Glide image loading time?", "body": "<p>I want to calculate Glide image loading time, but there seems to be no way to get loading time.</p>\n\n<p>Currently, the <code>RequestListener.onResourceReady</code> is used to calculate the time, but this is not accurate when the list is swiped or the app is returned to the background.</p>\n\n<pre><code>    var start = System.currentTimeMillis()\n    placeholder?.let { creator.placeholder(placeholder) }\n    error?.let { creator.error(error) }\n    creator.config(Bitmap.Config.RGB_565)\n    creator.fit().into(image,  object : RequestListener&lt;Drawable&gt; {\n        override fun onLoadFailed(\n            e: GlideException?,\n            model: Any?,\n            target: Target&lt;Drawable&gt;?,\n            isFirstResource: Boolean\n        ): Boolean {\n            return false\n        }\n\n        override fun onResourceReady(\n            resource: Drawable?,\n            model: Any?,\n            target: Target&lt;Drawable&gt;?,\n            dataSource: DataSource?,\n            isFirstResource: Boolean\n        ): Boolean {\n\n            var end = System.currentTimeMillis()\n            System.out.println(\n                \"loading_time \"+\n                        \"   photo=\" + src + \"  start=\" + start + \"  end=\" + end + \"   cost=\" + (end - start) + \"   dataSource=\" + dataSource\n            )\n            return false\n        }\n    })```\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1568075616, "post_id": 57862585, "comment_id": 102151182, "body": "<code>object</code> keyword can also be used to create <a href=\"https://stackoverflow.com/questions/355167/how-are-anonymous-inner-classes-used-in-java\">anonymous class</a>. Using that, you are saying that you want to override one or more member of either concrete or abstract member. This way, you don&#39;t need to create a separate class to and trim down the functionality to your needs. I would suggest reading about <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">object</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2781, "user_id": 4342124, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0d9b755a683ac3bd687b10c61759585f?s=128&d=identicon&r=PG&f=1", "display_name": "dkarmazi", "link": "https://stackoverflow.com/users/4342124/dkarmazi"}, "is_accepted": true, "score": 3, "last_activity_date": 1568075660, "creation_date": 1568075660, "answer_id": 57862635, "question_id": 57862585, "link": "https://stackoverflow.com/questions/57862585/what-does-the-keyword-object-mean-in-kotlin/57862635#57862635", "title": "What does the keyword object mean in Kotlin?", "body": "<p>In Code A <code>val volumeDownReceiver = object : BroadcastReceiver()</code> refers to creating an object of an anonymous class that inherits from type <code>BroadcastReceiver</code>.</p>\n\n<p>In Code B <code>val volumeDownReceiver = BroadcastReceiver()</code> tries to instantiate a new instance of an abstract class and that's why it's failing.</p>\n\n<p>Edit: link to docs: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions</a></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57862635, "answer_count": 1, "score": 1, "last_activity_date": 1568075660, "creation_date": 1568075087, "question_id": 57862585, "link": "https://stackoverflow.com/questions/57862585/what-does-the-keyword-object-mean-in-kotlin", "title": "What does the keyword object mean in Kotlin?", "body": "<p>The Code A is from <a href=\"https://github.com/mycwcgr/camera/blob/master/CameraXBasic/app/src/main/java/com/android/example/cameraxbasic/fragments/CameraFragment.kt\" rel=\"nofollow noreferrer\">CameraXBasic</a> </p>\n\n<p>I can't understand completely the code p<code>rivate val volumeDownReceiver = object : BroadcastReceiver()</code>.</p>\n\n<p>I think the Code B will work well, but in fact it failed.</p>\n\n<p>What does the keyword object mean in Kotlin ?</p>\n\n<p><strong>Code A</strong></p>\n\n<pre><code>private val volumeDownReceiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        ...\n    }\n}\n</code></pre>\n\n<p><strong>Code B</strong></p>\n\n<pre><code>private val volumeDownReceiver = BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": ["unit-testing", "kotlin", "junit", "mockito"], "comments": [{"owner": {"reputation": 3646, "user_id": 11514534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10ca983c4ac8bcb07661de28130b991?s=128&d=identicon&r=PG&f=1", "display_name": "second", "link": "https://stackoverflow.com/users/11514534/second"}, "edited": false, "score": 1, "creation_date": 1568112953, "post_id": 57862471, "comment_id": 102163374, "body": "<code>offlineViewModel</code> is your class under test, yet you mocked it. You should not mock the class under test. Also if you create a mock you need to define the behaviour for it or else it will only return <code>null</code> (or the primitive equivalent)."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4367461"}, "is_accepted": false, "score": 1, "last_activity_date": 1568151522, "creation_date": 1568151522, "answer_id": 57878543, "question_id": 57862471, "link": "https://stackoverflow.com/questions/57862471/when-unit-testing-my-viewmodel-list-always-returns-empty/57878543#57878543", "title": "When unit testing my ViewModel, list always returns empty", "body": "<p>Like second said, since you mocked offlineViewModel it is going to return an empty string, unless you define something for it to return using when().</p>\n\n<p>Source: <a href=\"https://github.com/mockito/mockito/wiki/FAQ#what-values-do-mocks-return-by-default\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/wiki/FAQ#what-values-do-mocks-return-by-default</a></p>\n"}], "owner": {"reputation": 396, "user_id": 5526712, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10100364562830381/picture?type=large", "display_name": "Paxana Non Grata", "link": "https://stackoverflow.com/users/5526712/paxana-non-grata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568151522, "creation_date": 1568073562, "question_id": 57862471, "link": "https://stackoverflow.com/questions/57862471/when-unit-testing-my-viewmodel-list-always-returns-empty", "title": "When unit testing my ViewModel, list always returns empty", "body": "<p>I'm trying to learn unit testing, I have my code factored into an MVVM(i) architecture, but when I run my testParseToList() test function, it always comes back with an empty list and I can't figure out why.  I fear it may have something to do with the i part of the MVVM(i) and whether or not I'm correctly mocking my viewmodel.  I'm starting with my most simple viewmodel in hopes to get a grasp of the concepts before moving onto my more complex ones.</p>\n\n<p><strong>OfflineViewModelUnitTest.kt</strong></p>\n\n<pre><code>@RunWith(JUnit4::class)\nclass OfflineViewModelUnitTest {\n\n    @get:Rule\n    val rule = InstantTaskExecutorRule()\n\n    @Mock\n    var offlineViewModel: OfflineViewModel = OfflineViewModel(OfflineInteractorImpl())\n\n    @Before\n    fun setup() {\n        MockitoAnnotations.initMocks(this)\n        DaggerOfflineViewModelComponent.builder()\n            .offlineInteractorImplModule(OfflineInteractorImplModule())\n            .build()\n            .inject(offlineViewModel)\n\n//        this.offlineViewModel = OfflineViewModel(OfflineInteractorImpl())\n    }\n\n    @Test\n    fun testParseToList() {\n\n        val test = offlineViewModel.parseTextToList(\"dried bonito extract,\\n\" +\n                \"    ketchup,\\n\" +\n                \"    millet,\\n\" +\n                \"    corn &amp; wheat protein\")\n\n        val a = \"dried bonito extract\"\n        val b = \"ketchup\"\n        val c = \"millet\"\n        val d = \"corn &amp; wheat protein\"\n\n        val expectedResult = listOf(a, b, c, d)\n\n        assertEquals(expectedResult, test)\n    }\n}\n</code></pre>\n\n<p><strong>OfflineViewModel.kt</strong></p>\n\n<pre><code>class OfflineViewModel(private val offlineInteractor: OfflineInteractor): ViewModel() {\n\n    init {\n        DaggerOfflineViewModelComponent.builder()\n            .offlineInteractorImplModule(OfflineInteractorImplModule())\n            .build()\n            .inject(this)\n    }\n    fun parseTextToList(firebaseVisionTextString: String): MutableList&lt;String&gt; {\n        Log.d(\"here it is\", firebaseVisionTextString)\n        return offlineInteractor.parseTextToList(firebaseVisionTextString)\n    }\n\n    fun readCsvFromAssetFolder(inputStream: InputStream): List&lt;String&gt;{\n        return offlineInteractor.readCsvFromAssetFolder(inputStream)\n    }\n}\n</code></pre>\n\n<p><strong>OfflineInteractorImpl.kt</strong></p>\n\n<pre><code>class OfflineInteractorImpl: OfflineInteractor {\n\n    override fun parseTextToList(firebaseVisionTextString: String): MutableList&lt;String&gt; {\n\n            val ingredientsList: MutableList&lt;String&gt; = firebaseVisionTextString.split(\",\").map { it.trim() }.toMutableList()\n\n            return ingredientsList\n    }\n\n    override fun readCsvFromAssetFolder(inputStream: InputStream): List&lt;String&gt; {\n        val csvLine: ArrayList&lt;String&gt; = ArrayList()\n        var content: Array&lt;String&gt;?\n        try\n        {\n            val br = BufferedReader(InputStreamReader(inputStream))\n            for (line in br.lines())\n            {\n                content = line.split((\",\").toRegex()).dropLastWhile{ it.isEmpty() }.toTypedArray()\n                csvLine.add(content[0].substringBefore(\";\"))\n            }\n            br.close()\n        }\n        catch (e: IOException) {\n            e.printStackTrace()\n        }\n        return csvLine\n    }\n}\n</code></pre>\n\n<p><strong>Test Results</strong></p>\n\n<pre><code>java.lang.AssertionError: \nExpected :[dried bonito extract, ketchup, millet, corn &amp; wheat protein]\nActual   :[]\n</code></pre>\n"}]