[{"tags": ["import", "kotlin", "metadata", "packages"], "answers": [{"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 1, "last_activity_date": 1518654548, "creation_date": 1518654548, "answer_id": 48798419, "question_id": 48796929, "link": "https://stackoverflow.com/questions/48796929/kotlin-cannot-import-packages/48798419#48798419", "title": "Kotlin cannot import packages", "body": "<p>You need to include all your source files when using kotlinc (or at least include the compiled classes on the classpath). e.g.</p>\n\n<pre><code>kotlinc main.kt server/ConnectionHandler.kt server/HttpRequest.kt -include-runtime -d main.jar\n</code></pre>\n"}], "owner": {"reputation": 1519, "user_id": 2972348, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6f9edd3f6213aca1c54edefed5796033?s=128&d=identicon&r=PG&f=1", "display_name": "Ishan Khare", "link": "https://stackoverflow.com/users/2972348/ishan-khare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1248, "favorite_count": 0, "accepted_answer_id": 48798419, "answer_count": 1, "score": 0, "last_activity_date": 1518654548, "creation_date": 1518645453, "question_id": 48796929, "link": "https://stackoverflow.com/questions/48796929/kotlin-cannot-import-packages", "title": "Kotlin cannot import packages", "body": "<p>I'm using kotlin on command line and I'm getting <code>import</code> errors <code>error: unresolved reference: ConnectionHandler</code></p>\n\n<p>Following is my directory tree:</p>\n\n<pre><code>$ tree .\n.                         \n\u251c\u2500\u2500 LICENSE               \n\u251c\u2500\u2500 main.jar              \n\u251c\u2500\u2500 main.kt               \n\u2514\u2500\u2500 server                \n    \u251c\u2500\u2500 ConnectionHandler.class                      \n    \u251c\u2500\u2500 ConnectionHandler.kt                         \n    \u251c\u2500\u2500 HttpRequest.class \n    \u2514\u2500\u2500 HttpRequest.kt    \n\n1 directory, 7 files\n</code></pre>\n\n<p>When I run <code>kotlinc main.kt -include-runtime -d main.jar</code> I get</p>\n\n<pre><code>main.kt:2:8: error: unresolved reference: server     \nimport server.*\n</code></pre>\n\n<p>I have declared <code>package server</code> in both of <code>server/ConnectionHandler.kt</code> and <code>server/HttpRequest.kt</code></p>\n\n<blockquote>\n  <p>Note:  The <code>META-INF</code> folder is missing. It is not regenerated either on subsequent compilations.</p>\n</blockquote>\n\n<p>What am I doing wrong? If it has anything to do with <code>META-INF</code> folder, how can I regenerate it?</p>\n"}, {"tags": ["types", "kotlin", "signature", "mutablemap"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1518642383, "creation_date": 1518642383, "answer_id": 48796215, "question_id": 48795506, "link": "https://stackoverflow.com/questions/48795506/complex-mutablemap-type/48796215#48796215", "title": "Complex MutableMap type", "body": "<p>If you write down the following code in IntelliJ:</p>\n\n<pre><code>val map = mutableMapOf(\"Camera\" to (::Camera to Structure::convertCamera))\n</code></pre>\n\n<p>You can then invoke the \"specify type explicitly\" intention action on the assignment, or press \"Ctrl + Q\" on the variable to bring up its type information which is inferred.</p>\n\n<p>This gets you the following:</p>\n\n<p><code>val map: MutableMap&lt;String, Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName(name = \"dest\") KMutableProperty0&lt;Camera?&gt;, Unit&gt;&gt;&gt;</code></p>\n\n<p><code>KFunction0</code> and <code>KFunction2</code> here are the some classes that Kotlin compiles functions types to (ones that have 0 and 2 parameters, respectively). From the <a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"nofollow noreferrer\"><em>Kotlin in Action</em></a> book:</p>\n\n<blockquote>\n  <p>The Kotlin standard library defines a series of interfaces, corresponding to different numbers of function arguments: <code>Function0&lt;R&gt;</code> (this function takes no arguments), <code>Function1&lt;P1, R&gt;</code> (this function takes one argument), and so on. Each interface defines a single invoke method, and calling it will execute the function.</p>\n</blockquote>\n\n<p>You can replace these with the function types instead, and remove some of the unnecessarily specific info, like this:</p>\n\n<p><code>val map: MutableMap&lt;String, Pair&lt;() -&gt; Camera, (Structure, KMutableProperty0&lt;Camera?&gt;) -&gt; Unit&gt;&gt;</code></p>\n\n<p>Since you wanted <code>ElemBase</code> to be in the type instead of the concrete <code>Camera</code> type, you can do this:</p>\n\n<p><code>val map3: MutableMap&lt;String, Pair&lt;() -&gt; ElemBase, (Structure, KMutableProperty0&lt;Camera?&gt;) -&gt; Unit&gt;&gt;</code></p>\n\n<p>However, you can't change <code>KMutableProperty0&lt;Camera&gt;</code> to <code>KMutableProperty0&lt;ElemBase&gt;</code>, since this type is <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\">invariant</a>, and so this would break the assignment in your example. Just like <code>MutableList&lt;T&gt;</code>, it both accepts and produces its generic type, therefore it can't accept a subtype or a supertype in its generic parameter instead of the one required.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "accepted_answer_id": 48796215, "answer_count": 1, "score": 0, "last_activity_date": 1518642383, "creation_date": 1518639469, "last_edit_date": 1518641474, "question_id": 48795506, "link": "https://stackoverflow.com/questions/48795506/complex-mutablemap-type", "title": "Complex MutableMap type", "body": "<p>I'm getting a little confused here.</p>\n\n<p>So, I have a mutableMap of type</p>\n\n<p><code>val converters = mutableMapOf&lt;String, Pair&lt;KFunction&lt;ElemBase&gt;, x&gt;&gt;()</code></p>\n\n<p>where I can't figure out <code>x</code> </p>\n\n<p>I need to add to this map several pairs based on a constructor and a method, such as: </p>\n\n<p><code>converters[\"Camera\"] = ::Camera to Structure::convertCamera</code></p>\n\n<p>Where the first field is the reference to a constructor extending <code>ElemBase</code>, such as:</p>\n\n<p><code>Camera : ElemBase</code></p>\n\n<p>and the second is a method on the <code>Structure</code> class with a reference to a nullable <code>ElemBase</code> class: </p>\n\n<p><code>fun convertCamera (dest: KMutableProperty0&lt;Camera?&gt;)</code></p>\n\n<p>when <code>x</code></p>\n\n<p><code>KFunction&lt;*&gt;</code> works, but I needs something more specific, where <code>Receiver</code> and argument are defined.</p>\n\n<p>I tried a couple of attempts, such as</p>\n\n<p><code>KFunction&lt;Structure.(KProperty1&lt;Structure, ElemBase&gt;) -&gt; Unit&gt;</code></p>\n\n<p>or</p>\n\n<p><code>KFunction&lt;(KMutableProperty0&lt;ElemBase&gt;) -&gt; Unit&gt;</code></p>\n\n<p>or</p>\n\n<p><code>KFunction&lt;Structure.(KMutableProperty0&lt;ElemBase?&gt;) -&gt; Unit&gt;</code></p>\n\n<p>I always get error whenever I try to add anything to <code>converters</code></p>\n\n<pre><code>Error:(276, 9) Kotlin: Type inference failed: Cannot infer type parameter V in operator inline fun &lt;K, V&gt; MutableMap&lt;K, V&gt;.set(key: K, value: V): Unit\nNone of the following substitutions\nreceiver: MutableMap&lt;String, Pair&lt;Int, KFunction&lt;Structure.(KMutableProperty0&lt;ElemBase?&gt;) -&gt; Unit&gt;&gt;&gt;  arguments: (String,Pair&lt;Int, KFunction&lt;Structure.(KMutableProperty0&lt;ElemBase?&gt;) -&gt; Unit&gt;&gt;)\nreceiver: MutableMap&lt;String, Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;&gt;  arguments: (String,Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;)\ncan be applied to\nreceiver: MutableMap&lt;String, Pair&lt;Int, KFunction&lt;Structure.(KMutableProperty0&lt;ElemBase?&gt;) -&gt; Unit&gt;&gt;&gt;  arguments: (String,Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;)\n</code></pre>\n\n<p>but no lucks so far</p>\n\n<p>It's interesting to notice that if I assign <code>::Camera to Structure::convertCamera</code> to a variable, I get the following type:\n<code>Pair&lt;KFunction0&lt;ElemBase&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;ElemBase&gt;, Unit&gt;&gt;</code></p>\n\n<p>But I do not have <code>KFunction0</code> neither <code>KFunction2</code>... what the hell?</p>\n\n<p>Edit: found <a href=\"https://fossies.org/linux/kotlin/spec-docs/function-types.md\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>Edit2: if I manually import <code>KFunction0</code> and <code>KFunction2</code> it seems it doesnt complain anymore about them. But if I click on them, it cannot resolve..</p>\n\n<p>I tried to import manually both, <code>KFunction0</code> and <code>KFunction2</code>, copying the type I saw when I assign the pair to a <code>var</code> and it looks like this is working:</p>\n\n<p><code>val converters = mutableMapOf&lt;String, Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;&gt;()</code></p>\n\n<p>But not the corresponding <code>ElemBase</code> version:</p>\n\n<p><code>val converters = mutableMapOf&lt;String, Pair&lt;KFunction0&lt;ElemBase&gt;, KFunction2&lt;Structure, KMutableProperty0&lt;ElemBase&gt;, Unit&gt;&gt;&gt;()</code></p>\n\n<pre><code>Error:(277, 9) Kotlin: Type inference failed: Cannot infer type parameter V in operator inline fun &lt;K, V&gt; MutableMap&lt;K, V&gt;.set(key: K, value: V): Unit\nNone of the following substitutions\nreceiver: MutableMap&lt;String, Pair&lt;KFunction0&lt;ElemBase&gt;, KFunction2&lt;Structure, KMutableProperty0&lt;ElemBase&gt;, Unit&gt;&gt;&gt;  arguments: (String,Pair&lt;KFunction0&lt;ElemBase&gt;, KFunction2&lt;Structure, KMutableProperty0&lt;ElemBase&gt;, Unit&gt;&gt;)\nreceiver: MutableMap&lt;String, Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;&gt;  arguments: (String,Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;)\ncan be applied to\nreceiver: MutableMap&lt;String, Pair&lt;KFunction0&lt;ElemBase&gt;, KFunction2&lt;Structure, KMutableProperty0&lt;ElemBase&gt;, Unit&gt;&gt;&gt;  arguments: (String,Pair&lt;KFunction0&lt;Camera&gt;, KFunction2&lt;Structure, @ParameterName KMutableProperty0&lt;Camera&gt;, Unit&gt;&gt;)\n</code></pre>\n\n<p>Although I still don't get what's going on with <code>KFunction*</code>, why they seems to not exist althought once manually imported, the compiler accept them</p>\n\n<p>In case the design smells, I'm porting some c++ code here and I'd like to stick to the original structure if possible </p>\n\n<p>Edit3: ok, I'll probably change design, but I'd like to find out what's going on anyway, for the sake of curiosity</p>\n"}, {"tags": ["maven", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1896, "user_id": 4506528, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4eKvX.png?s=128&g=1", "display_name": "Hay", "link": "https://stackoverflow.com/users/4506528/hay"}, "is_accepted": false, "score": 0, "last_activity_date": 1518639383, "creation_date": 1518639383, "answer_id": 48795486, "question_id": 48795485, "link": "https://stackoverflow.com/questions/48795485/since-migration-to-kotlin-maven-builds-fail-because-test-resources-are-not-adde/48795486#48795486", "title": "Since migration to Kotlin, Maven builds fail because test resources are not added to classpath", "body": "<p>In the Maven properties, disable incremental compilation. I don't why this is happening.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;kotlin.version&gt;1.2.21&lt;/kotlin.version&gt;\n    &lt;!--&lt;kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental&gt;--&gt;\n    &lt;junit.jupiter.version&gt;5.0.0&lt;/junit.jupiter.version&gt;\n    &lt;junit.platform.version&gt;1.0.0&lt;/junit.platform.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}], "owner": {"reputation": 1896, "user_id": 4506528, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4eKvX.png?s=128&g=1", "display_name": "Hay", "link": "https://stackoverflow.com/users/4506528/hay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518653143, "creation_date": 1518639383, "last_edit_date": 1518653143, "question_id": 48795485, "link": "https://stackoverflow.com/questions/48795485/since-migration-to-kotlin-maven-builds-fail-because-test-resources-are-not-adde", "title": "Since migration to Kotlin, Maven builds fail because test resources are not added to classpath", "body": "<p>I have a Java project migrated to Kotlin, with Maven modules.</p>\n\n<p>If I try to build one of the modules with IntelliJ, the test resources files will be present in the classpath (<code>/target/test-classes/</code>), causing a test to succeed.</p>\n\n<p>On the other hand, when I build the module with Maven, the resource will not be added to the classpath (<code>/target/test-classes/</code>), causing a test to fail.</p>\n\n<p>My Kotlin Maven configuration is pretty much <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">pulled from Kotlin documentation</a>.</p>\n\n<p>How can I properly add the resources to the test classpath?</p>\n"}, {"tags": ["kotlin", "mocha.js", "karma-mocha", "kotlin-interop", "kotlin-js-interop"], "answers": [{"comments": [{"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1518712369, "post_id": 48804082, "comment_id": 84627510, "body": "Yes, I eventually went with Mocha bindings and using <code>describe</code>/<code>it</code> to use the <code>done</code> callback."}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1518716683, "post_id": 48804082, "comment_id": 84630118, "body": "Note that it&#39;s also possible to implement using <code>Promise</code>. Make the test return promise and call <code>resolve</code> when done with the asserts."}], "tags": [], "owner": {"reputation": 470, "user_id": 4815713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92f538fcec16fee1bdbbae286291c95?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Georg Podlech", "link": "https://stackoverflow.com/users/4815713/paul-georg-podlech"}, "is_accepted": false, "score": 0, "last_activity_date": 1518687888, "creation_date": 1518687888, "answer_id": 48804082, "question_id": 48795171, "link": "https://stackoverflow.com/questions/48795171/how-to-properly-test-web-socket-connection-with-kotlinjs/48804082#48804082", "title": "How to properly test web socket connection with KotlinJS", "body": "<p>If you want to test async code, you need to tell the test framework when the test is done.\nSee this <a href=\"https://stackoverflow.com/a/32733027/4815713\">answer</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 56, "user_id": 9349935, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e6232b12e4672215450274280ab4df7e?s=128&d=identicon&r=PG", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9349935/anton-bannykh"}, "edited": false, "score": 0, "creation_date": 1518792610, "post_id": 48825561, "comment_id": 84662336, "body": "The Promise support was added in 1.2.20, should work in Mocha, Jasmine, and Jest. This is not a final design, most likely there will be a more convenient way."}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1518802988, "post_id": 48825561, "comment_id": 84668526, "body": "It would be convenient if tests could consume a <code>done: () -&gt; Unit</code> callback, similarly to how Mocha solves this. However, I think <code>Promise</code>-based approach is the best for now, as it does not require external bindings."}], "tags": [], "owner": {"reputation": 56, "user_id": 9349935, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/e6232b12e4672215450274280ab4df7e?s=128&d=identicon&r=PG", "display_name": "Anton Bannykh", "link": "https://stackoverflow.com/users/9349935/anton-bannykh"}, "is_accepted": true, "score": 3, "last_activity_date": 1518779609, "creation_date": 1518779609, "answer_id": 48825561, "question_id": 48795171, "link": "https://stackoverflow.com/questions/48795171/how-to-properly-test-web-socket-connection-with-kotlinjs/48825561#48825561", "title": "How to properly test web socket connection with KotlinJS", "body": "<p>Returning Promise from your @Test function should do the trick.\nSomething like:</p>\n\n<pre><code>@Test fun testWebSocket() = Promise&lt;Unit&gt; { resolve, reject -&gt;\n    val webSocket = WebSocket(\"ws://localhost:8888\")\n    window.setTimeout({\n        assertEquals(WebSocket.OPEN, webSocket.readyState)\n        resolve(Unit)\n    }, 1000)\n}\n</code></pre>\n"}], "owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 302, "favorite_count": 0, "accepted_answer_id": 48825561, "answer_count": 2, "score": 0, "last_activity_date": 1518779609, "creation_date": 1518638063, "question_id": 48795171, "link": "https://stackoverflow.com/questions/48795171/how-to-properly-test-web-socket-connection-with-kotlinjs", "title": "How to properly test web socket connection with KotlinJS", "body": "<p>I'm unable to test my code that uses a native <code>WebSocket</code>. This is the body of the test function:</p>\n\n<pre><code>val webSocket = WebSocket(\"ws://localhost:8888\")\nwindow.setTimeout({\n    assertEquals(WebSocket.OPEN, webSocket.readyState)\n}, 1000)\n</code></pre>\n\n<p>I'm using Karma with Mocha test runner. The following code executes without any errors, but the <code>setTimeout</code> is actually ignored and never executed.</p>\n\n<p>Mocha seems to support <code>setTimeout</code>-based tests with the <code>--delay</code>. However, when I use the flag with <code>client: { mocha: { delay: true } }</code> Karma configuration, the tests just freeze and fail, outputting the following cause message:</p>\n\n<blockquote>\n  <p>Disconnected, because no message in 60000 ms.</p>\n</blockquote>\n\n<p>What is the correct way to execute tests with <code>setTimeout</code>? If this is tricky, is there any other way I can perform assertions on the <code>WebSocket</code> after it's fully connected? I don't use any Mocha-specific features yet, so I don't mind changing the framework.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "edited": false, "score": 0, "creation_date": 1611314837, "post_id": 48794879, "comment_id": 116417324, "body": "<code>actual</code> denotes a platform-specific implementation in multiplatform projects - <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html#modifier-keywords\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1518638980, "post_id": 48795002, "comment_id": 84593120, "body": "Well so that works only with expect/actual pair. Thank you!"}, {"owner": {"reputation": 1330, "user_id": 3853712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L3ori.png?s=128&g=1", "display_name": "Jim Andreas", "link": "https://stackoverflow.com/users/3853712/jim-andreas"}, "edited": false, "score": 2, "creation_date": 1521788785, "post_id": 48795002, "comment_id": 85889769, "body": "I found more information on <code>expect</code> and <code>actual</code> use in multiplatform implementations at this link: <a href=\"http://kotlinlang.org/docs/reference/multiplatform.html#platform-specific-declarations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 27609, "user_id": 247013, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Z0y9n.jpg?s=128&g=1", "display_name": "Vit Khudenko", "link": "https://stackoverflow.com/users/247013/vit-khudenko"}, "edited": false, "score": 0, "creation_date": 1609180813, "post_id": 48795002, "comment_id": 115770287, "body": "I am not able to find <code>expect</code> declarations in the second link."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 6, "last_activity_date": 1555230439, "last_edit_date": 1555230439, "creation_date": 1518637316, "answer_id": 48795002, "question_id": 48794879, "link": "https://stackoverflow.com/questions/48794879/what-is-the-purpose-of-actual-keyword-in-kotlin/48795002#48795002", "title": "What is the purpose of actual keyword in Kotlin", "body": "<p>The kotlinx.coroutines library actually makes use of multiplatform projects since it supports both the JVM and JS compilation targets. </p>\n\n<p>You can find the common module <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/kotlinx-coroutines-core/common\" rel=\"nofollow noreferrer\">here</a>, and the specific <code>expect</code> declarations for the functions you've mentioned <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-core/common/src/Builders.common.kt\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3236, "favorite_count": 1, "accepted_answer_id": 48795002, "answer_count": 1, "score": 13, "last_activity_date": 1555230439, "creation_date": 1518636905, "last_edit_date": 1518638879, "question_id": 48794879, "link": "https://stackoverflow.com/questions/48794879/what-is-the-purpose-of-actual-keyword-in-kotlin", "title": "What is the purpose of actual keyword in Kotlin", "body": "<p>I noticed that some functions for coroutines are marked with <code>actual</code> keyword.</p>\n\n<p>From <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>actual denotes a platform-specific implementation in multiplatform\n  projects</p>\n</blockquote>\n\n<p>As I understood from <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"noreferrer\">documentation</a> <code>actual</code> keyword is used for multiplatform projects and should work in pair with <code>expect</code> keyword.</p>\n\n<p>Something like this:</p>\n\n<p>Common module:</p>\n\n<pre><code>package org.jetbrains.foo\n\nexpect class Foo(bar: String) {\n    fun frob()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Foo(\"Hello\").frob()\n}\n</code></pre>\n\n<p>Corresponding module:</p>\n\n<pre><code>package org.jetbrains.foo\n\nactual class Foo actual constructor(val bar: String) {\n    actual fun frob() {\n        println(\"Frobbing the $bar\")\n    }\n}\n</code></pre>\n\n<p>That case is clear.</p>\n\n<p>But in package <code>kotlinx.coroutines.experimental</code> I noticed that some functions like <code>launch</code> or <code>withContext</code> are marked as <code>actual</code> but there are no <code>expect</code> functions in package.</p>\n\n<p>So what is the purpose of <code>actual</code> keyword <strong>without</strong> <code>expect</code>?</p>\n"}, {"tags": ["android", "kotlin", "android-animation", "android-orientation"], "owner": {"reputation": 11, "user_id": 9361539, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Milan Schramm", "link": "https://stackoverflow.com/users/9361539/milan-schramm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518632589, "creation_date": 1518632589, "question_id": 48793856, "link": "https://stackoverflow.com/questions/48793856/android-load-animation-on-configuration-change", "title": "Android load animation on configuration change", "body": "<p>I want to <strong>play a animation</strong> when a <strong>orientation change</strong> happened. Its a loader/placeholder for a webview. \nBut when the screen rotates, the loader shows up but <strong>no animation</strong> is playing.\n<strong>What do I do wrong?</strong></p>\n\n<pre><code>override fun onConfigurationChanged(newConfig: Configuration?) {\n    when (newConfig?.orientation) {\n        Configuration.ORIENTATION_LANDSCAPE -&gt; {\n            loader_logo?.visibility = View.VISIBLE\n            pulseAnimation(loader_logo)\n        }\n        Configuration.ORIENTATION_PORTRAIT -&gt; {\n            loader_logo?.visibility = View.VISIBLE\n            pulseAnimation(loader_logo)\n        }\n    }\n    super.onConfigurationChanged(newConfig)\n}\n</code></pre>\n\n<p><strong>Here is the animation function:</strong> </p>\n\n<pre><code>private fun pulseAnimation(view: View?) {\n    val pulse = AnimationUtils.loadAnimation(this, R.anim.pulse)\n    view?.startAnimation(pulse)\n}\n</code></pre>\n\n<p><strong>Here is my WebView setup:</strong></p>\n\n<pre><code>private fun initWebView() {\n    val webSettings = webview.settings\n    webSettings.javaScriptEnabled = true\n    webview.webViewClient = object : WebViewClient() {\n        override fun onPageFinished(view: WebView?, url: String?) {\n            refresher.isRefreshing = false\n            loader_logo.visibility = View.GONE\n            if (loader_logo.visibility == View.GONE) loader_logo.clearAnimation()\n        }\n        override fun onReceivedError(view: WebView?, request: WebResourceRequest?, error: WebResourceError?) {\n            val locale = Locale.getDefault().toString()\n            if (locale == \"de_DE\") webview.loadUrl(\"file:///android_asset/error_de.html\")\n            else webview.loadUrl(\"file:///android_asset/error_en.html\")\n            isError = true\n        }\n    }\n    webview.loadUrl(url)\n}\n</code></pre>\n"}, {"tags": ["android", "build", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1518635292, "post_id": 48793333, "comment_id": 84591211, "body": "Why quote an exact answer instead of flagging as a duplicate though?"}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1518635376, "post_id": 48793333, "comment_id": 84591252, "body": "May be the answer was similar, but the question seemed to be a little different to me."}], "tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": true, "score": 0, "last_activity_date": 1518630521, "creation_date": 1518630521, "answer_id": 48793333, "question_id": 48792546, "link": "https://stackoverflow.com/questions/48792546/what-is-the-purpose-of-the-kotlin-folder-inside-an-android-apk/48793333#48793333", "title": "What is the purpose of the kotlin/ folder inside an Android apk?", "body": "<p>Quoting from <a href=\"https://stackoverflow.com/questions/41052868/what-are-kotlin-builtins-files-and-can-i-omit-them-from-my-uberjars\">this answer</a>,</p>\n\n<blockquote>\n  <p>These files contain data for declarations of standard (\"built-in\") Kotlin classes which are not compiled to .class files, but rather are mapped to the existing types on the platform (in this case, JVM). For example, kotlin/kotlin.kotlin_builtins contains the information for non-physical classes in package kotlin: Int, String, Enum, Annotation, Collection, etc.</p>\n</blockquote>\n"}], "owner": {"reputation": 743, "user_id": 1265010, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WWey3.jpg?s=128&g=1", "display_name": "Marcelo Benites", "link": "https://stackoverflow.com/users/1265010/marcelo-benites"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "closed_date": 1518635272, "accepted_answer_id": 48793333, "answer_count": 1, "score": 3, "last_activity_date": 1518630521, "creation_date": 1518627716, "question_id": 48792546, "link": "https://stackoverflow.com/questions/48792546/what-is-the-purpose-of-the-kotlin-folder-inside-an-android-apk", "closed_reason": "Duplicate", "title": "What is the purpose of the kotlin/ folder inside an Android apk?", "body": "<p>I've built an Android project with Kotlin support. I've used APK analyser on the resulting APK and noticed it contains a folder named kotlin/ outside classes.dex:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8O3PR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8O3PR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Looks like there are .class files inside the folder. </p>\n\n<p>Anyone can explain what is the purpose of that folder? Shouldn't all bytecode be translated into .dex?</p>\n"}, {"tags": ["kotlin", "rx-java2", "subscribe"], "comments": [{"owner": {"reputation": 303, "user_id": 5348135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b1dd38d2d02568e15c4540bbdf52be?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Ikryanov", "link": "https://stackoverflow.com/users/5348135/dmitry-ikryanov"}, "edited": false, "score": 0, "creation_date": 1518680574, "post_id": 48790926, "comment_id": 84606833, "body": "Do you sure that <code>initSession</code> called only once?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1518685257, "post_id": 48790926, "comment_id": 84609276, "body": "You are reusing the same instance of <code>DisposableObserver</code> which is not allowed. Don&#39;t save the instance in a field but create it for <code>subscribeWith</code>, just like Dmitry&#39;s example."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518817812, "post_id": 48790926, "comment_id": 84675429, "body": "@akamokd, does it have to create a new DisposableObserver every time calling the subscribeWith()?   I am not sure what do you mean by &quot;You are reusing the same instance of DisposableObserver&quot;, the <code>observer: Observer&lt;DataEvent&gt; = object : Observer&lt;DataEvent&gt;</code> is only used once in that subscribeWith().  @Dimity, yes the initSession is called only once."}], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518634726, "post_id": 48793640, "comment_id": 84590914, "body": "with <code>mDisposable = RxBus.listen(DataEvent::class.java).subscribeWith(observer)&#47;&zwnj;&#8203;&#47;subscribe(observer)</code>  the error becomes: ` Type inference failed, Expected type mismatch. Required: Disposable?. Found Observer&lt;DataEvent&gt;!`"}, {"owner": {"reputation": 303, "user_id": 5348135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b1dd38d2d02568e15c4540bbdf52be?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Ikryanov", "link": "https://stackoverflow.com/users/5348135/dmitry-ikryanov"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518636890, "post_id": 48793640, "comment_id": 84592026, "body": "Can you modify your question and add new code with <code>subscribeWith</code>?"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518641081, "post_id": 48793640, "comment_id": 84594203, "body": "I update the question, subscribeWith DisposableObserver compiles, but crashes."}], "tags": [], "owner": {"reputation": 303, "user_id": 5348135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b1dd38d2d02568e15c4540bbdf52be?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Ikryanov", "link": "https://stackoverflow.com/users/5348135/dmitry-ikryanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1518632279, "last_edit_date": 1518632279, "creation_date": 1518631720, "answer_id": 48793640, "question_id": 48790926, "link": "https://stackoverflow.com/questions/48790926/kotlin-got-type-mismatch-required-disposable-found-unit-when-using-observ/48793640#48793640", "title": "kotlin, got \u201cType mismatch. Required: Disposable? Found: Unit\u201d when using observer object instance in the subscribe()", "body": "<p>It's because in <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html\" rel=\"nofollow noreferrer\">RxJava 2.0</a> method <code>subscribe(observer)</code> was changed and return nothing.</p>\n\n<blockquote>\n  <p>Unlike the Observable of version 1.x, subscribe(Observer) does not allow external cancellation of a subscription and the Observer instance is expected to expose such capability.</p>\n</blockquote>\n\n<p>You can use <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#subscribeWith-E-\" rel=\"nofollow noreferrer\"><code>subscribeWith(observer)</code></a>.<br>\nExample:</p>\n\n<pre><code>val disposable = Observable.just(\"Hello world!\")\n                .delay(1, TimeUnit.SECONDS)\n                .subscribeWith(object : DisposableObserver&lt;String&gt;() {\n                    public override fun onStart() {\n                        println(\"Start!\")\n                    }\n\n                    fun onNext(t: Int?) {\n                        println(t)\n                    }\n\n                    override fun onError(t: Throwable) {\n                        t.printStackTrace()\n                    }\n\n                    override fun onComplete() {\n                        println(\"Done!\")\n                    }\n                })\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4007, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518641032, "creation_date": 1518622721, "last_edit_date": 1518641032, "question_id": 48790926, "link": "https://stackoverflow.com/questions/48790926/kotlin-got-type-mismatch-required-disposable-found-unit-when-using-observ", "title": "kotlin, got \u201cType mismatch. Required: Disposable? Found: Unit\u201d when using observer object instance in the subscribe()", "body": "<p>Edit:</p>\n\n<p>based on Dmitry Ikryanov's suggestion, \nusing DisposableObserver will compile, but it causes crash</p>\n\n<pre><code>io.reactivex.exceptions.ProtocolViolationException: It is not allowed to \nsubscribe with a(n) com.DataManager$theObserver$1 multiple times. Please \ncreate a fresh instance of com.DataManager$theObserver$1 and subscribe that \nto the target source instead.\n</code></pre>\n\n<p>the only code of subecribWith(), which has been called only once</p>\n\n<pre><code>fun initSession() {\n    if (mDisposable != null &amp;&amp; mDisposable!!.isDisposed) {\n        mDisposable!!.dispose()\n    }\n\n    mDisposable = RxBus.listen(DataEvent::class.java).subscribeWith(theObserver)  &lt;=== crash at here\n}\n</code></pre>\n\n<p>the DisposableObserver is a member variable of the class:</p>\n\n<pre><code>var theObserver: DisposableObserver&lt;DataEvent&gt; = object : DisposableObserver&lt;DataEvent&gt;() {\n    override fun onComplete() {\n        Log.e(TAG, \"onComplete: All Done!\")        }\n\n    override fun onNext(t: DataEvent) {\n        Log.e(TAG, \"Next: \" + t)\n        onDataReady(t)        }\n\n    override fun onError(e: Throwable) {\n        Log.e(TAG, \"onError: \")\n    }\n}\n</code></pre>\n\n<p>===</p>\n\n<p>Original question:</p>\n\n<p>trying to use RxJava subscribe() in kotlin, get an error <code>\u201cType mismatch. Required: Disposable? Found: Unit\u201d</code>, not sure what it means, anyone knows?</p>\n\n<pre><code>class DataEvent {}\n</code></pre>\n\n<p>using <a href=\"https://android.jlelse.eu/super-simple-event-bus-with-rxjava-and-kotlin-f1f969b21003\" rel=\"nofollow noreferrer\">RxBus</a> </p>\n\n<pre><code>object RxBus {\n\nprivate val publisher = PublishSubject.create&lt;Any&gt;()\n\nfun publish(event: Any) {\n    publisher.onNext(event)\n}\n\n// Listen should return an Observable and not the publisher\n// Using ofType we filter only events that match that class type\nfun &lt;T&gt; listen(eventType: Class&lt;T&gt;): Observable&lt;T&gt; = publisher.ofType(eventType)\n\n}\n</code></pre>\n\n<p>when call like this, it is ok:</p>\n\n<pre><code>mDisposable = RxBus.listen(DataEvent::class.java).subscribe({\n        onDataReady(it)\n    })\n</code></pre>\n\n<p>but when call the <code>RxBus.listen(DataEvent::class.java).subscribe(observer)</code> with defined <code>observer</code> instance\nit shows red underline:  \u201cType mismatch. Required: Disposable? Found: Unit\u201d</p>\n\n<pre><code>mDisposable = RxBus.listen(DataEvent::class.java).subscribe(observer)\n</code></pre>\n\n<p>the observer is:</p>\n\n<pre><code>var observer: Observer&lt;DataEvent&gt; = object : Observer&lt;DataEvent&gt; {\n    override fun onSubscribe(d: Disposable) {\n        Log.e(TAG, \"onSubscribe: \")\n    }\n\n    override fun onNext(@NonNull t: DataEvent) {\n        Log.e(TAG, \"onNext: \" + t)\n        onDataReady(t)\n    }\n\n    override fun onError(e: Throwable) {\n        Log.e(TAG, \"onError: \")\n    }\n\n    override fun onComplete() {\n        Log.e(TAG, \"onComplete: All Done!\")\n     }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1518620715, "post_id": 48789958, "comment_id": 84582462, "body": "In addition to @RDO&#39;s answer, make sure IntelliJ is delegating the build task to gradle, otherwise when building your project, it will only compile your Java/Kotlin files, without calling <code>kapt</code>"}], "answers": [{"tags": [], "owner": {"reputation": 417, "user_id": 7162213, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EjJaImll0uc/AAAAAAAAAAI/AAAAAAAAAAo/wm8o5HCus7Q/photo.jpg?sz=128", "display_name": "RDO", "link": "https://stackoverflow.com/users/7162213/rdo"}, "is_accepted": true, "score": 1, "last_activity_date": 1518620191, "creation_date": 1518620191, "answer_id": 48790132, "question_id": 48789958, "link": "https://stackoverflow.com/questions/48789958/android-kotlin-doesnt-show-dagger-error-log/48790132#48790132", "title": "Android kotlin doesn&#39;t show dagger error log", "body": "<p>You have to check in gradle console in the bottom/right of the window, not in logcat</p>\n"}], "owner": {"reputation": 927, "user_id": 5732539, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/6RUuh.jpg?s=128&g=1", "display_name": "Gre\u015fanu Emanuel - Vasile", "link": "https://stackoverflow.com/users/5732539/gre%c5%9fanu-emanuel-vasile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 48790132, "answer_count": 1, "score": -1, "last_activity_date": 1518620191, "creation_date": 1518619689, "question_id": 48789958, "link": "https://stackoverflow.com/questions/48789958/android-kotlin-doesnt-show-dagger-error-log", "title": "Android kotlin doesn&#39;t show dagger error log", "body": "<p>I will get straight to the problem. Android studio isn't showing me, the Dagger 2 ( version 2.14.1 )  errors in the logcat. By this I mean. In the below image you can see the error \"Error:(29, 10) Unresolved reference: DaggerAppComponent\". Which for me is very unclear. Is there any way to configure the project in such a way to see more information? ( I am hoping to see ( in the logcat ) something like in the second picture )</p>\n\n<p><strong>First Image</strong>\n<a href=\"https://i.stack.imgur.com/VXe8k.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VXe8k.jpg\" alt=\"First Image\"></a></p>\n\n<p><strong>Second Image</strong>\n<a href=\"https://i.stack.imgur.com/tJiF1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tJiF1.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is a link to the project: <a href=\"https://drive.google.com/file/d/1bZ8niQK01xP-khD_20o4h7QI5XXrMYvx/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1bZ8niQK01xP-khD_20o4h7QI5XXrMYvx/view?usp=sharing</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1518619021, "post_id": 48789482, "comment_id": 84581235, "body": "You can convert it all at once, BUT don&#39;t expect it to compile immediately :D"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "edited": false, "score": 0, "creation_date": 1518619241, "post_id": 48789482, "comment_id": 84581399, "body": "Try to keep old file and add Kotlin for new files only, 500 files to convert ... Good luck"}, {"owner": {"reputation": 1979, "user_id": 3914166, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/4jU6D.jpg?s=128&g=1", "display_name": "Bachiri Taoufiq Abderrahman", "link": "https://stackoverflow.com/users/3914166/bachiri-taoufiq-abderrahman"}, "edited": false, "score": 0, "creation_date": 1518619857, "post_id": 48789482, "comment_id": 84581843, "body": "So the transition from Java to Kotlin is seamless but not straightforward if the project is complex"}], "answers": [{"tags": [], "owner": {"reputation": 1894, "user_id": 2001566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eff94f193bc99604d15ebd7d7a9f846?s=128&d=identicon&r=PG", "display_name": "Mikel Pascual", "link": "https://stackoverflow.com/users/2001566/mikel-pascual"}, "is_accepted": true, "score": 26, "last_activity_date": 1518621183, "creation_date": 1518621183, "answer_id": 48790422, "question_id": 48789482, "link": "https://stackoverflow.com/questions/48789482/android-java-project-converts-to-kotlin-in-android-studio/48790422#48790422", "title": "Android Java Project Converts to Kotlin in Android Studio", "body": "<p>You can definitely try. You just need to select a module or a folder in the <code>Project navigator</code> and select <code>Code --&gt; Convert Java file to Kotlin file</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VoBNj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VoBNj.png\" alt=\"Convert complete module to Kotlin\"></a></p>\n\n<p>You, though, need to keep in mind that the conversion is not perfect. For instance, Android Studio will have to guess whether a whole lot of properties are nullable or not. It will not get them all right... you will get a lot of crashes.</p>\n\n<p>My suggestion would be to batch files in sensible chunks, so you can fix those Kotlinized files without getting swamped with errors.</p>\n\n<p>Note: after converting a file to Kotlin you still will need to review it. A lot of things will be kept in Java for the sake of safety, but now that you have Kotlin you can use collection extensions, default constructor parameters, ...</p>\n"}, {"tags": [], "owner": {"reputation": 688, "user_id": 5777510, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YNZVK.jpg?s=128&g=1", "display_name": "Haileapp", "link": "https://stackoverflow.com/users/5777510/haileapp"}, "is_accepted": false, "score": 3, "last_activity_date": 1518622963, "creation_date": 1518622963, "answer_id": 48791012, "question_id": 48789482, "link": "https://stackoverflow.com/questions/48789482/android-java-project-converts-to-kotlin-in-android-studio/48791012#48791012", "title": "Android Java Project Converts to Kotlin in Android Studio", "body": "<ol>\n<li><p>Select your <strong>app</strong> folder and go to Code  <strong><code>Convert Java File to Kotlin File</code></strong></p></li>\n<li><p>Then after you convert the file,it says <strong><code>kotlin not configured</code></strong>.Click the <strong><code>Configure</code></strong> text then select the type of module you want to apply kotlin and it comes with the latest kotlin version press <strong>ok</strong> </p></li>\n</ol>\n\n<p><strong>N.B After you convert the code,you must convert some parameters that the compiler found it as a warning or error message.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 10584425, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JNw1W7Wvmqc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB6xBgQ_2joTikt8o0R9a0yZsNZow/mo/photo.jpg?sz=128", "display_name": "Suvarthee Chakravarti", "link": "https://stackoverflow.com/users/10584425/suvarthee-chakravarti"}, "is_accepted": false, "score": 3, "last_activity_date": 1542870551, "creation_date": 1542870551, "answer_id": 53425564, "question_id": 48789482, "link": "https://stackoverflow.com/questions/48789482/android-java-project-converts-to-kotlin-in-android-studio/53425564#53425564", "title": "Android Java Project Converts to Kotlin in Android Studio", "body": "<p>It's easy, android-studio will do most of the work for you. To convert the existing javacode into kotlin, simply select the src/main/java folder in the project and choose Code->\u201cConvert Java File to Kotlin File\u201d. Android studio will then try as best as it can to convert all your java-code to kotlin-code.</p>\n"}], "owner": {"reputation": 37896, "user_id": 776244, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3zhjF.jpg?s=128&g=1", "display_name": "Samir Mangroliya", "link": "https://stackoverflow.com/users/776244/samir-mangroliya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10745, "favorite_count": 0, "accepted_answer_id": 48790422, "answer_count": 3, "score": 11, "last_activity_date": 1542870551, "creation_date": 1518618233, "last_edit_date": 1518677730, "question_id": 48789482, "link": "https://stackoverflow.com/questions/48789482/android-java-project-converts-to-kotlin-in-android-studio", "title": "Android Java Project Converts to Kotlin in Android Studio", "body": "<p>I want to convert my java project to Kotlin, there are more than 500 java files. How can I convert it into Kotlin easily?</p>\n\n<p>I know that we can convert one by one java file to Kotlin, But there are many files. </p>\n\n<p>Can I convert it at once?</p>\n"}, {"tags": ["unit-testing", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1518620943, "post_id": 48788859, "comment_id": 84582617, "body": "In your code example, <code>loadView</code> is not an extension function."}, {"owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1518621185, "post_id": 48788859, "comment_id": 84582773, "body": "@yole It&#39;s the consumeEach I&#39;m referring to"}], "owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518691376, "creation_date": 1518616356, "last_edit_date": 1518691376, "question_id": 48788859, "link": "https://stackoverflow.com/questions/48788859/unit-testing-when-using-a-kotlin-extension-function-with-receiver", "title": "Unit testing when using a kotlin extension function with receiver", "body": "<p>Is it possible to pass a specific value into an extension function with receiver, in a unit test?</p>\n\n<p>I'm trying to test the folowing <strong>subscribe method</strong>:</p>\n\n<pre><code>...\nprivate lateinit var subscription: SubscriptionReceiveChannel&lt;UiStateModel&gt;\n\nsuspend fun subscribe(model: MainViewModel) {\n        subscription = model.connect()\n        subscription.consumeEach { value -&gt; loadView(value) /** or loadView(it) */ }\n    }\n\nprivate fun loadView(uiState: UiStateModel) {\n        when(uiState) {\n            is Loading -&gt; view.isLoading()\n            is Error -&gt; view.isError(uiState.exception.localizedMessage)\n            is Success -&gt; when {\n                uiState.result != null -&gt; view.isSuccess(uiState.result)\n                else -&gt; view.isEmpty()\n            }\n        }\n    }\n</code></pre>\n\n<p>I want to be able to apply a specific value to the <code>consumeEach</code> function, but how can this be done?</p>\n\n<p>Here's my unit test:</p>\n\n<pre><code>...\nprivate val view = mock&lt;MainView&gt;()\n    private val model = mock&lt;MainViewModel&gt;()\n    private val subscription = mock&lt;SubscriptionReceiveChannel&lt;UiStateModel&gt;&gt;()\n\n    private val presenter = MainPresenter(view)\n\n    @Test\n    fun `When uistate is loading, view should show loading message`() = runBlocking {\n        // Given\n        val state = UiStateModel.Loading()\n        whenever(model.connect()).thenReturn(subscription)\n        whenever(subscription.consumeEach { any() }).thenAnswer({ state })\n\n        // When\n        presenter.subscribe(model)\n\n        // Then\n        verify(model).connect()\n        verify(view).isLoading()\n        verify(view, never()).isSuccess(anyString())\n        verify(view, never()).isEmpty()\n        verify(view, never()).isError(anyString())\n    }\n...\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "edited": false, "score": 0, "creation_date": 1518617465, "post_id": 48788989, "comment_id": 84580109, "body": "I have an iterop in this part of project. So, incoming stream is a must"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "edited": false, "score": 0, "creation_date": 1518617602, "post_id": 48788989, "comment_id": 84580219, "body": "@SergeyRybalkin alright, I suppose the extension method would be the better way as it involves fewer conversions"}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 3, "last_activity_date": 1518617539, "last_edit_date": 1518617539, "creation_date": 1518616717, "answer_id": 48788989, "question_id": 48788777, "link": "https://stackoverflow.com/questions/48788777/kotlin-smart-cast-with-stream/48788989#48788989", "title": "Kotlin smart cast with Stream", "body": "<blockquote>\n  <p>Is there a way to write this using Kotlin smart casts?</p>\n</blockquote>\n\n<p>No, this is not possible with basic static analysis as there no indicator that <code>a</code>, after being filtered, only contains <code>B</code>s, as it is still a <code>Stream&lt;A&gt;</code>, so you must check this yourself. Kotlin's smart casting is applied only to the value of a variable and not to a type parameter.</p>\n\n<p>AFAIK there isn't anything that does this in the Java or Kotlin libraries for <code>Stream</code>s, but you could <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.streams/java.util.stream.-stream/as-sequence.html\" rel=\"nofollow noreferrer\">convert the stream to a <code>Sequence</code></a> and use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-is-instance.html\" rel=\"nofollow noreferrer\"><code>filterIsInstance</code></a>:</p>\n\n<pre><code>a.asSequence().filterIsInstance&lt;B&gt;().asStream()\n</code></pre>\n\n<p>Of course, you could also implement this functionality directly on streams with an extension method:</p>\n\n<pre><code>inline fun &lt;reified B&gt; Stream&lt;*&gt;.filterIsInstance() = a.filter { it is B }.map { it as B }\n\n...\n\nval a: Stream&lt;A&gt;\nval b: Stream&lt;B&gt; = a.filterIsInstance&lt;B&gt;()\n</code></pre>\n\n<hr>\n\n<p>Just a comment: do you need to use <code>Stream</code>s? I would consider using Kotlin's <code>Sequence</code>s from the start instead.</p>\n"}], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 641, "favorite_count": 1, "accepted_answer_id": 48788989, "answer_count": 1, "score": 2, "last_activity_date": 1518617539, "creation_date": 1518616122, "last_edit_date": 1518616921, "question_id": 48788777, "link": "https://stackoverflow.com/questions/48788777/kotlin-smart-cast-with-stream", "title": "Kotlin smart cast with Stream", "body": "<p>I have interface <code>A</code> and class <code>B: A</code></p>\n\n<pre><code>val a: Stream&lt;A&gt;\n\nval b: Stream&lt;B&gt; = a.filter { it is B }\n                    .map { it as B }\n</code></pre>\n\n<p>Is there a way to write this using Kotlin smart casts?</p>\n"}, {"tags": ["android", "jackson", "kotlin", "retrofit", "turkish"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1518622102, "post_id": 48788755, "comment_id": 84583393, "body": "So, you need to replace Turkish letters with English ones. But I can&#39;t see why on earth you may need this."}, {"owner": {"reputation": 905, "user_id": 2568647, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1024f63ed8b7b731e503f4ce18317b9f?s=128&d=identicon&r=PG", "display_name": "oleg.v", "link": "https://stackoverflow.com/users/2568647/oleg-v"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1518716217, "post_id": 48788755, "comment_id": 84629855, "body": "No, actually what is happening is that when turkish language enabled english letter <code>i</code> gets automatically replaced (I don&#39;t want this) with turkish dotless i, then it is getting converted to <code>%C4%B1</code> somewhere on Retrofit&#39;s or OkHTTP&#39;s side. I don&#39;t understand this because I specified latin word <code>fruit</code> in <code>@JsonProperty(&quot;fruit&quot;)</code> without any turkish letters."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1518724917, "post_id": 48788755, "comment_id": 84634496, "body": "Your <code>furit_param</code>&#39;s value contains non-latin characters inputted by user. They are prohibited by HTTP, so it&#39;s absolutely normal that they are being encoded. Every web-server/web-framework handling requests on the other side will decode them back."}], "owner": {"reputation": 905, "user_id": 2568647, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1024f63ed8b7b731e503f4ce18317b9f?s=128&d=identicon&r=PG", "display_name": "oleg.v", "link": "https://stackoverflow.com/users/2568647/oleg-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518616032, "creation_date": 1518616032, "question_id": 48788755, "link": "https://stackoverflow.com/questions/48788755/android-retrofit-jackson-wrong-query-parameter-serialization-if-turkish-language", "title": "Android retrofit jackson wrong query parameter serialization if turkish language", "body": "<p>For example, I have an enum object <code>FruitEnum.FRUIT</code>:</p>\n\n<pre><code>enum class FruitEnum {\n    @JsonProperty(\"fruit\") FRUIT\n}\n</code></pre>\n\n<p>which I want to pass as query parameter in my request:</p>\n\n<pre><code>@GET(\"fruit_request\")\nfun fruitRequest(\n        @Query(\"fruit_param\") fruitParam: FruitEnum \n): Single&lt;FruitResponse&gt;\n</code></pre>\n\n<p>If I switch to turkish language on my phone letter <code>i</code> from <code>@JsonProperty(\"fruit\")</code> will be serialized as <code>%C4%B1</code>, which is, as far as I know, percent encoding for URIs of turkish letter <code>\u0131</code> (<a href=\"https://en.wikipedia.org/wiki/Dotted_and_dotless_I\" rel=\"nofollow noreferrer\">dotless i</a>). However, I still need it to be just <code>fruit</code> instead of <code>fru%C4%B1t</code>. What can I do about it?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 9327381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23505a399911e003dd3574076a483f?s=128&d=identicon&r=PG&f=1", "display_name": "CodingDays", "link": "https://stackoverflow.com/users/9327381/codingdays"}, "edited": false, "score": 0, "creation_date": 1518612943, "post_id": 48787739, "comment_id": 84577076, "body": "Error:(84, 0) Could not get unknown property &#39;gradle_version&#39; for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDe&zwnj;&#8203;pendencyHandler."}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 131, "user_id": 9327381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23505a399911e003dd3574076a483f?s=128&d=identicon&r=PG&f=1", "display_name": "CodingDays", "link": "https://stackoverflow.com/users/9327381/codingdays"}, "edited": false, "score": 1, "creation_date": 1518613001, "post_id": 48787739, "comment_id": 84577121, "body": "replace <code>$gradle_version</code> with your version of gradle"}, {"owner": {"reputation": 131, "user_id": 9327381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23505a399911e003dd3574076a483f?s=128&d=identicon&r=PG&f=1", "display_name": "CodingDays", "link": "https://stackoverflow.com/users/9327381/codingdays"}, "edited": false, "score": 0, "creation_date": 1518613447, "post_id": 48787739, "comment_id": 84577409, "body": "It says under project structure its 4.1 and also under wrapper properties but when I set as 4.1 or 4.1.0 I get  error: could not find com.android.databinding.compiler:4.1  I tried with exactly:   kapt &quot;com.android.databinding:compiler:4.1&quot;"}, {"owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "reply_to_user": {"reputation": 131, "user_id": 9327381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23505a399911e003dd3574076a483f?s=128&d=identicon&r=PG&f=1", "display_name": "CodingDays", "link": "https://stackoverflow.com/users/9327381/codingdays"}, "edited": false, "score": 0, "creation_date": 1518613604, "post_id": 48787739, "comment_id": 84577495, "body": "Use the version defined in your top level <code>build.gradle</code>. You should have something like this: <code>classpath &quot;com.android.tools.build:gradle:3.0.1&quot;</code>. In this case, use <code>3.0.1</code> as gradle version."}], "tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": true, "score": 0, "last_activity_date": 1518612876, "last_edit_date": 1518612876, "creation_date": 1518612782, "answer_id": 48787739, "question_id": 48787395, "link": "https://stackoverflow.com/questions/48787395/unresolved-data-binding-after-changing-file-name/48787739#48787739", "title": "Unresolved Data Binding After Changing File Name", "body": "<p>You should also add this to your <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nkapt \"com.android.databinding:compiler:$gradle_version\"\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 9327381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce23505a399911e003dd3574076a483f?s=128&d=identicon&r=PG&f=1", "display_name": "CodingDays", "link": "https://stackoverflow.com/users/9327381/codingdays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 48787739, "answer_count": 1, "score": 0, "last_activity_date": 1518613656, "creation_date": 1518611747, "last_edit_date": 1518613656, "question_id": 48787395, "link": "https://stackoverflow.com/questions/48787395/unresolved-data-binding-after-changing-file-name", "title": "Unresolved Data Binding After Changing File Name", "body": "<p>I changed globally replaced class name in AndroidKotlin app. Afterwards it says UnresolvedDataBinding for the new name.  So I changed AName to BName and now\nFragmentBName data binding is not found anywhere.  I checked that</p>\n\n<pre><code>   dataBinding {\n    enabled = true\n   }\n</code></pre>\n\n<p>Why would just changing the file names cleaning and rebuilding not work to regenerate the Bindings?</p>\n\n<p>Here is by gradle.build for module</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    buildToolsVersion rootProject.ext.buildToolsVersion\n    flavorDimensions \"default\"\n\n    defaultConfig {\n        applicationId \"com.example.android.architecture.blueprints.todomvvmlive\"\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner 'android.support.test.runner.AndroidJUnitRunner'\n    }\n\n    buildTypes {\n        debug {\n            //TODO fix minify for HolderFragment\n            minifyEnabled false\n            // Uses new built-in shrinker http://tools.android.com/tech-docs/new-build-system/built-in-shrinker\n            useProguard false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            testProguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguardTest-rules.pro'\n        }\n\n        release {\n            minifyEnabled true\n            useProguard true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            testProguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguardTest-rules.pro'\n        }\n    }\n\n    // If you need to add more flavors, consider using flavor dimensions.\n    productFlavors {\n        mock {\n            applicationIdSuffix = \".mock\"\n        }\n        prod\n    }\n\n    // Remove mockRelease as it's not needed.\n    android.variantFilter { variant -&gt;\n        if(variant.buildType.name.equals('release')\n                &amp;&amp; variant.getFlavors().get(0).name.equals('mock')) {\n            variant.setIgnore(true);\n        }\n    }\n\n    // Always show the result of every unit test, even if it passes.\n    testOptions.unitTests.all {\n        testLogging {\n            events 'passed', 'skipped', 'failed', 'standardOut', 'standardError'\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n    buildToolsVersion '26.0.2'\n}\n\n/*\n Dependency versions are defined in the top level build.gradle file. This helps keeping track of\n all versions in a single place. This improves readability and helps managing project complexity.\n */\ndependencies {\n    // App's dependencies, including test\n    compile \"com.android.support:appcompat-v7:$rootProject.supportLibraryVersion\"\n    compile \"com.android.support:cardview-v7:$rootProject.supportLibraryVersion\"\n    compile \"com.android.support:design:$rootProject.supportLibraryVersion\"\n    compile \"com.android.support:recyclerview-v7:$rootProject.supportLibraryVersion\"\n    compile \"com.android.support:support-v4:$rootProject.supportLibraryVersion\"\n    compile \"com.android.support.test.espresso:espresso-idling-resource:$rootProject.espressoVersion\"\n    compile \"com.google.guava:guava:$rootProject.guavaVersion\"\n\n    compile \"android.arch.lifecycle:extensions:$rootProject.archLifecycleVersion\"\n    annotationProcessor \"android.arch.lifecycle:compiler:$rootProject.archLifecycleVersion\"\n    kapt \"com.android.databinding:compiler:4.1\"\n   // kapt 'com.android.databinding:compiler:2.3.1'\n\n    // Dependencies for local unit tests\n//    testCompile \"junit:junit:$rootProject.ext.junitVersion\"\n//    testCompile \"org.mockito:mockito-all:$rootProject.ext.mockitoVersion\"\n//    testCompile \"org.hamcrest:hamcrest-all:$rootProject.ext.hamcrestVersion\"\n//\n//    testCompile \"android.arch.core:core-testing:$rootProject.archLifecycleVersion\"\n\n    // Android Testing Support Library's runner and rules\n//    androidTestCompile \"com.android.support.test:runner:$rootProject.ext.runnerVersion\"\n//    androidTestCompile \"com.android.support.test:rules:$rootProject.ext.runnerVersion\"\n\n    // Dependencies for Android unit tests\n//    androidTestCompile \"junit:junit:$rootProject.ext.junitVersion\"\n//    androidTestCompile \"org.mockito:mockito-core:$rootProject.ext.mockitoVersion\"\n//    androidTestCompile 'com.google.dexmaker:dexmaker:1.2'\n//    androidTestCompile 'com.google.dexmaker:dexmaker-mockito:1.2'\n\n    // Espresso UI Testing\n//    androidTestCompile \"com.android.support.test.espresso:espresso-core:$rootProject.espressoVersion\"\n//    androidTestCompile \"com.android.support.test.espresso:espresso-contrib:$rootProject.espressoVersion\"\n//    androidTestCompile \"com.android.support.test.espresso:espresso-intents:$rootProject.espressoVersion\"\n\n    // Resolve conflicts between main and test APK:\n//    androidTestCompile \"com.android.support:support-annotations:$rootProject.supportLibraryVersion\"\n//    androidTestCompile \"com.android.support:support-v4:$rootProject.supportLibraryVersion\"\n//    androidTestCompile \"com.android.support:recyclerview-v7:$rootProject.supportLibraryVersion\"\n//    androidTestCompile \"com.android.support:appcompat-v7:$rootProject.supportLibraryVersion\"\n//    androidTestCompile \"com.android.support:support-compat:$rootProject.supportLibraryVersion\"\n//    androidTestCompile \"com.android.support:design:$rootProject.supportLibraryVersion\"\n    compile \"com.google.code.findbugs:jsr305:2.0.1\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1518607474, "post_id": 48785899, "comment_id": 84573314, "body": "You only need the Kotlin plugin in your project level <code>build.gradle</code> file, as it itself includes Kotlin Android Extensions. That would be the following: <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code>. If this doesn&#39;t help, post both of your <code>build.gradle</code> files if possible."}, {"owner": {"reputation": 689, "user_id": 6083135, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TduY7.jpg?s=128&g=1", "display_name": "Daksh Agrawal", "link": "https://stackoverflow.com/users/6083135/daksh-agrawal"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1518608052, "post_id": 48785899, "comment_id": 84573702, "body": "It worked @zsmb13 . Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 689, "user_id": 6083135, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TduY7.jpg?s=128&g=1", "display_name": "Daksh Agrawal", "link": "https://stackoverflow.com/users/6083135/daksh-agrawal"}, "edited": false, "score": 0, "creation_date": 1518608216, "post_id": 48786090, "comment_id": 84573800, "body": "@DakshAgrawal  nope, You should call <code>org.jetbrains.kotlin:kotlin-gradle-plugin</code>"}, {"owner": {"reputation": 689, "user_id": 6083135, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TduY7.jpg?s=128&g=1", "display_name": "Daksh Agrawal", "link": "https://stackoverflow.com/users/6083135/daksh-agrawal"}, "edited": false, "score": 0, "creation_date": 1518608462, "post_id": 48786090, "comment_id": 84573958, "body": "I didn&#39;t mention it in the question but it was there"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 689, "user_id": 6083135, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TduY7.jpg?s=128&g=1", "display_name": "Daksh Agrawal", "link": "https://stackoverflow.com/users/6083135/daksh-agrawal"}, "edited": false, "score": 2, "creation_date": 1518609822, "post_id": 48786090, "comment_id": 84574908, "body": "@DakshAgrawal no need <code>kotlin-android-extensions</code>"}, {"owner": {"reputation": 31685, "user_id": 277826, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/243fa25a38ec7aad2b0dcdb79276602d?s=128&d=identicon&r=PG", "display_name": "sdaau", "link": "https://stackoverflow.com/users/277826/sdaau"}, "edited": false, "score": 0, "creation_date": 1599314263, "post_id": 48786090, "comment_id": 112739817, "body": "What do you mean &quot;You should use <code>kotlin-gradle-plugin</code> instead of <code>kotlin-gradle-plugin</code>&quot; - aren&#39;t those the same words?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1599319000, "post_id": 48786090, "comment_id": 112741104, "body": "Sorry, big mistake"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1599318951, "last_edit_date": 1599318951, "creation_date": 1518607660, "answer_id": 48786090, "question_id": 48785899, "link": "https://stackoverflow.com/questions/48785899/unresolved-reference-kotlinx/48786090#48786090", "title": "Unresolved Reference kotlinx", "body": "<blockquote>\n<p>Unresolved reference: kotlin</p>\n</blockquote>\n<p>The <strong><code>kotlin-gradle-plugin</code></strong> compiles <strong>Kotlin</strong> sources and modules.</p>\n<p>The version of <strong>Kotlin</strong> to use is usually defined as the <strong><code>kotlin_version</code></strong> property:</p>\n<pre><code>  classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n</code></pre>\n<p>Your <strong><code>build.gradle</code></strong> <em><strong>(Project Level)</strong></em> will be</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4805, "user_id": 1085264, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b8e1b984756a7ed46d210e80c0957895?s=128&d=identicon&r=PG", "display_name": "straya", "link": "https://stackoverflow.com/users/1085264/straya"}, "edited": false, "score": 0, "creation_date": 1606879402, "post_id": 48786307, "comment_id": 115094366, "body": "Perhaps something changed, or perhaps you just weren&#39;t using synthetics across multiple modules, but for synthetics to resolve one must include apply plugin: &#39;kotlin-android-extensions&#39;"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1518608293, "creation_date": 1518608293, "answer_id": 48786307, "question_id": 48785899, "link": "https://stackoverflow.com/questions/48785899/unresolved-reference-kotlinx/48786307#48786307", "title": "Unresolved Reference kotlinx", "body": "<p>You only need the Kotlin plugin in your project level build.gradle file, as it itself includes Kotlin Android Extensions - there's no need for another Gradle dependency. That would look something like this: </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 689, "user_id": 6083135, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TduY7.jpg?s=128&g=1", "display_name": "Daksh Agrawal", "link": "https://stackoverflow.com/users/6083135/daksh-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5823, "favorite_count": 1, "accepted_answer_id": 48786307, "answer_count": 2, "score": 1, "last_activity_date": 1599318951, "creation_date": 1518607092, "question_id": 48785899, "link": "https://stackoverflow.com/questions/48785899/unresolved-reference-kotlinx", "title": "Unresolved Reference kotlinx", "body": "<p>I am encountering with an error like </p>\n\n<pre><code>Unresolved reference: kotlinx\n</code></pre>\n\n<p>and the import statement is like </p>\n\n<p><strong>kotlinx</strong>.android.synthetic.main.activity_main.*</p>\n\n<p>The bold code goes red and I am not able to use Kotlin Android extensions.This project was working fine for the past 2 days. </p>\n\n<p>Seeing the other <a href=\"https://stackoverflow.com/questions/34169562/unresolved-reference-kotlinx\">post</a>,I added </p>\n\n<pre><code>classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n</code></pre>\n\n<p>in the Project level build.gradle and </p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>in module level but they also fail.</p>\n\n<p>Android studio version : <strong>3.0.1</strong></p>\n\n<p>Kotlin version : <strong>1.1.51</strong></p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 13966, "user_id": 606351, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Z6uDY.jpg?s=128&g=1", "display_name": "Vaiden", "link": "https://stackoverflow.com/users/606351/vaiden"}, "edited": false, "score": 0, "creation_date": 1518603454, "post_id": 48784425, "comment_id": 84570642, "body": "Please add the code for LocationResponseModel, since the exception happens while processing it"}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1518604187, "post_id": 48784425, "comment_id": 84571138, "body": "do you have latest version of kotlin plugin installed? Preferences-&gt;Plugins-&gt;Kotlin"}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "reply_to_user": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1518608081, "post_id": 48784425, "comment_id": 84573721, "body": "@ViktorYakunin Yes, I do. I updated kotlin plugin yesterday to Version: 1.2.21-release-Studio3.0-1"}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "reply_to_user": {"reputation": 13966, "user_id": 606351, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Z6uDY.jpg?s=128&g=1", "display_name": "Vaiden", "link": "https://stackoverflow.com/users/606351/vaiden"}, "edited": false, "score": 0, "creation_date": 1518608196, "post_id": 48784425, "comment_id": 84573792, "body": "@Vaiden I think it is not relevant. The classes printed in this log are random, but here is the <a href=\"https://pastebin.com/CkGM0XgJ\" rel=\"nofollow noreferrer\">code</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518608012, "post_id": 48784842, "comment_id": 84573674, "body": "It doesn&#39;t work, but I have a new <a href=\"https://pastebin.com/WRw9F9md\" rel=\"nofollow noreferrer\">error</a>"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518608309, "post_id": 48784842, "comment_id": 84573848, "body": "Try to remove apply plugin kapt from Gradle"}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518608692, "post_id": 48784842, "comment_id": 84574129, "body": "I need kapt for dagger, which I have in dependencies."}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518609556, "post_id": 48784842, "comment_id": 84574726, "body": "Previous log is in my original post. Log after enabling D8 is in the first comment. Here is the link: <a href=\"https://pastebin.com/WRw9F9md\" rel=\"nofollow noreferrer\">pastebin.com/WRw9F9md</a>"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518612280, "post_id": 48784842, "comment_id": 84576623, "body": "try to add :    defaultConfig {multiDexEnabled true } to you app/build.gradle.heve you enabled Advanced profiling in your run/debug Configuration ?"}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518612524, "post_id": 48784842, "comment_id": 84576801, "body": "I have multidex enabled in my gradle file. I also have advanced profiling enabled."}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518612682, "post_id": 48784842, "comment_id": 84576912, "body": "You have to disable advanced profiling, and clean your project and rebuild"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518615702, "post_id": 48784842, "comment_id": 84578856, "body": "I think that you have to check and update all your dependencies versions, replace testCompile by testImplementation, may be you have some of your dependencies which require Java 7 and your are using only Java 8 in your build script.   compileOptions { sourceCompatibility JavaVersion.VERSION_1_7 targetCompatibility JavaVersion.VERSION_1_7 }"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518616858, "post_id": 48784842, "comment_id": 84579679, "body": "Try also to clean deeply your Gradle cash: Inside Android Studio, went to File &gt; Invalidate caches / Restart... and invalidated the caches and restarted it."}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518618056, "post_id": 48784842, "comment_id": 84580524, "body": "I changed compileOptions to :   compileOptions {         sourceCompatibility JavaVersion.VERSION_1_7         targetCompatibility JavaVersion.VERSION_1_7   }, but I still have the same problem. The compiler complains for domain.jar file which is set as dependency in gradle file."}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518618802, "post_id": 48784842, "comment_id": 84581078, "body": "Try to remove your_app/.gradle/ folder, before close Android studio and reimport your project."}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518619079, "post_id": 48784842, "comment_id": 84581283, "body": "Replace your mavenCentral repository by adding google()   jcenter()"}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518620047, "post_id": 48784842, "comment_id": 84581987, "body": "Nothing changed :("}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518620862, "post_id": 48784842, "comment_id": 84582555, "body": "I removed whole domain module from the project ( kotlin module) and  the project is compiling with no problem. There is a problem between these two modules ;/"}, {"owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "reply_to_user": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518621076, "post_id": 48784842, "comment_id": 84582694, "body": "Congratulations for resolving your problem :-)"}, {"owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "edited": false, "score": 0, "creation_date": 1518621928, "post_id": 48784842, "comment_id": 84583289, "body": "It didn&#39;t resolve my problem because I want to have domain logic separate for the rest of the application. Happily  I found this line: kapt {     generateStubs = true } . Probably it should be use with current kotlin version and it was causing the problem. Thank you a lot for help and your time :)"}], "tags": [], "owner": {"reputation": 492, "user_id": 8126192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lNuac.png?s=128&g=1", "display_name": "Sparow199", "link": "https://stackoverflow.com/users/8126192/sparow199"}, "is_accepted": false, "score": 0, "last_activity_date": 1518603941, "creation_date": 1518603941, "answer_id": 48784842, "question_id": 48784425, "link": "https://stackoverflow.com/questions/48784425/unable-to-build-android-project-after-update-kotlin-to-1-2-21/48784842#48784842", "title": "Unable to build android project after update kotlin to 1.2.21", "body": "<p>Try to add <code>android.enableD8=true</code> to gradle.properties and replace <code>compile</code> with <code>implementation</code></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "is_accepted": true, "score": 0, "last_activity_date": 1518622370, "creation_date": 1518622370, "answer_id": 48790814, "question_id": 48784425, "link": "https://stackoverflow.com/questions/48784425/unable-to-build-android-project-after-update-kotlin-to-1-2-21/48790814#48790814", "title": "Unable to build android project after update kotlin to 1.2.21", "body": "<p>After a discussion with @Sparow199 we found the solution. The problem was kotlin module which was added as a dependency in android module. In kotlin modul's gradle file, there was a line: </p>\n\n<pre><code>kapt {\ngenerateStubs = true\n}\n</code></pre>\n\n<p>It looks like there is no more need to generate stubs for kotlin classes. </p>\n"}], "owner": {"reputation": 1, "user_id": 3120962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0df096e4397cd273c494f0184e006455?s=128&d=identicon&r=PG&f=1", "display_name": "Damian Kwasniak", "link": "https://stackoverflow.com/users/3120962/damian-kwasniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 0, "accepted_answer_id": 48790814, "answer_count": 2, "score": 0, "last_activity_date": 1518622370, "creation_date": 1518602794, "last_edit_date": 1518603127, "question_id": 48784425, "link": "https://stackoverflow.com/questions/48784425/unable-to-build-android-project-after-update-kotlin-to-1-2-21", "title": "Unable to build android project after update kotlin to 1.2.21", "body": "<p>I am unable to build my project after updating kotlin version to 1.2.21. I was looking for a solution for a long time but without any success. My previous kotlin version was 1.1.2-4, and it was working like a charm. Some time ago I was trying to update kotlin to the newer version ( different/lower than 1.2.21) but I also finished with no success. After that I decided to leave it as it was, but now I have to update kotlin because I want to use new features from the recent version.</p>\n\n<p>Here is my error: </p>\n\n<pre><code>Error:com.android.builder.dexing.DexArchiveBuilderException: Failed to process /Users/damiankwasniak/Workspace/foodtruck_android/app/build/intermediates/transforms/desugar/debug/0.jar\n\ncom.android.builder.dexing.DexArchiveBuilderException: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /Users/damiankwasniak/Workspace/foodtruck_android/app/build/intermediates/transforms/desugar/debug/0.jar\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:593)\nat java.util.concurrent.ForkJoinTask.reportException(ForkJoinTask.java:677)\nat java.util.concurrent.ForkJoinTask.join(ForkJoinTask.java:720)\nat com.android.ide.common.internal.WaitableExecutor.waitForTasksWithQuickFail(WaitableExecutor.java:146)\nat com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.transform(DexArchiveBuilderTransform.java:235)\nat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\nat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\nat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\nat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\nat sun.reflect.GeneratedMethodAccessor2121.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\nat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\nat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\nat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: Failed to process /Users/damiankwasniak/Workspace/foodtruck_android/app/build/intermediates/transforms/desugar/debug/0.jar\nat com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.launchProcessing(DexArchiveBuilderTransform.java:550)\nat com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.lambda$convertToDexArchive$1(DexArchiveBuilderTransform.java:488)\nat java.util.concurrent.ForkJoinTask$AdaptedCallable.exec(ForkJoinTask.java:1424)\nat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\nat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\nat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\nat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\nCaused by: com.android.builder.dexing.DexArchiveBuilderException: Error while dexing com/lignt/domain/api/models/foodtruck/LocationResponseModel.class\n\nat com.android.builder.dexing.DxDexArchiveBuilder.getExceptionToRethrow(DxDexArchiveBuilder.java:143)\nat com.android.builder.dexing.DxDexArchiveBuilder.convert(DxDexArchiveBuilder.java:89)\nat com.android.build.gradle.internal.transforms.DexArchiveBuilderTransform.launchProcessing(DexArchiveBuilderTransform.java:545)\n... 6 more\nCaused by: com.android.dex.util.ExceptionWithContext\nat com.android.dex.util.ExceptionWithContext.withContext(ExceptionWithContext.java:45)\nat com.android.dx.dex.cf.CfTranslator.processMethods(CfTranslator.java:398)\nat com.android.dx.dex.cf.CfTranslator.translate0(CfTranslator.java:150)\nat com.android.dx.dex.cf.CfTranslator.translate(CfTranslator.java:102)\nat com.android.builder.dexing.DxDexArchiveBuilder.dex(DxDexArchiveBuilder.java:107)\nat com.android.builder.dexing.DxDexArchiveBuilder.convert(DxDexArchiveBuilder.java:86)\n... 7 more\nCaused by: java.lang.NullPointerException\n</code></pre>\n\n<p>Here is my gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-kapt'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    signingConfigs {\n        custom {\n            keyAlias '\"androiddebugkey\"'\n            keyPassword '\"android\"'\n            storeFile file('/home/avonil/.android/debug.keystore')\n            storePassword '\"android\"'\n        }\n    }\n    compileSdkVersion 27\n    buildToolsVersion '27.0.3'\n    defaultConfig {\n        applicationId \"com.lignt.foodtrack\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled false\n        }\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n\n    packagingOptions {\n        exclude 'LICENSE.txt'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/rxjava.properties'\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    compile project(':domain')\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n\n    def SUPPORT_VERSION = '27.0.2'\n\n\n    implementation 'com.android.support:support-v4:' + SUPPORT_VERSION\n    implementation 'com.android.support:appcompat-v7:' + SUPPORT_VERSION\n    implementation 'com.android.support:cardview-v7:' + SUPPORT_VERSION\n    implementation 'com.android.support:percent:' + SUPPORT_VERSION\n    implementation 'com.android.support:design:' + SUPPORT_VERSION\n\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    testImplementation 'junit:junit:4.12'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.github.Zhuinden:simple-stack:1.7.2'\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'io.reactivex:rxkotlin:1.0.0'\n    implementation 'com.google.code.gson:gson:2.8.2'\n    implementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n    implementation 'com.squareup.retrofit2:adapter-rxjava:2.2.0'\n    implementation 'com.google.dagger:dagger:2.13'\n    implementation 'io.reactivex:rxandroid:1.2.1'\n    implementation 'blue.aodev:material-values:1.1.1'\n    implementation 'com.github.bumptech.glide:glide:3.7.0'\n    implementation 'jp.wasabeef:glide-transformations:2.0.2'\n    implementation 'com.jakewharton.timber:timber:4.5.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'nz.bradcampbell:paperparcel:2.0.1'\n    implementation 'nz.bradcampbell:paperparcel-kotlin:2.0.1'\n    implementation 'com.eyalbira.loadingdots:loading-dots:1.0.2'\n    implementation 'com.airbnb.android:airmapview:1.5.0'\n    implementation 'com.facebook.android:facebook-android-sdk:4.26.0'\n    implementation 'com.hannesdorfmann:adapterdelegates3:3.0.1'\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.5.+'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.8.0'\n    implementation 'com.google.android.gms:play-services-places:11.8.0'\n    implementation 'com.google.android.gms:play-services-maps:11.8.0'\n    implementation 'com.google.android.gms:play-services-location:11.8.0'\n    implementation 'me.relex:circleindicator:1.2.2@aar'\n    implementation 'com.jakewharton.rxbinding2:rxbinding:2.0.0'\n    implementation 'com.android.support:multidex:1.0.2'\n    implementation 'com.google.android:flexbox:0.3.2'\n    kapt \"com.google.dagger:dagger-compiler:2.13\"\n\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.0', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    testCompile 'org.amshove.kluent:kluent:1.14'\n    testCompile 'junit:junit:4.12'\n    testCompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n    testCompile 'com.nhaarman:mockito-kotlin:1.5.0'\n\n}\n</code></pre>\n\n<p>I also have got java/kotlin module in my project, but it is probably not a case because updating kotlin version in this module has no impact for building the project. </p>\n\n<p>Here is the gradle file for kotlin module: </p>\n\n<pre><code>    apply plugin: 'kotlin'\n\nbuildscript {\n    ext.kotlin_version = '1.2.21'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nsourceSets {\n    test.java.srcDirs += 'src/test/kotlin'\n}\n\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    compile 'io.reactivex:rxkotlin:1.0.0'\n    compile \"com.google.code.gson:gson:2.8.0\"\n    compile \"com.google.dagger:dagger:2.10\"\n    kapt \"com.google.dagger:dagger-compiler:2.10\"\n\n    testCompile 'junit:junit:4.12'\n    testCompile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    testCompile 'org.amshove.kluent:kluent:1.14'\n    testCompile \"com.nhaarman:mockito-kotlin:1.5.0\"\n}\n\n\nkapt {\n    generateStubs = true\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1518602424, "post_id": 48783945, "comment_id": 84569988, "body": "Have you tried to use <code>mAuth</code> instead of <code>mAuth!!</code>? Have you also tried to add the else part and print <code>task.getException()</code>? What does it print?"}, {"owner": {"reputation": 1, "user_id": 7615186, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8580e075969971d4f0e0055514cc30f1?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Verma", "link": "https://stackoverflow.com/users/7615186/bobby-verma"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1518602656, "post_id": 48783945, "comment_id": 84570132, "body": "Yeah Didnt work but i just noticed when i click create account button there is a warning icon which says update google play services"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1518602710, "post_id": 48783945, "comment_id": 84570170, "body": "So the Google Services was the problem."}, {"owner": {"reputation": 1, "user_id": 7615186, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8580e075969971d4f0e0055514cc30f1?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Verma", "link": "https://stackoverflow.com/users/7615186/bobby-verma"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1518602811, "post_id": 48783945, "comment_id": 84570233, "body": "How can i update it sorry i&#39;m still new to android"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1518602924, "post_id": 48783945, "comment_id": 84570293, "body": "<a href=\"https://developers.google.com/android/guides/setup\" rel=\"nofollow noreferrer\">developers.google.com/android/guides/setup</a>"}], "owner": {"reputation": 1, "user_id": 7615186, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8580e075969971d4f0e0055514cc30f1?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Verma", "link": "https://stackoverflow.com/users/7615186/bobby-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518601911, "creation_date": 1518601373, "last_edit_date": 1518601911, "question_id": 48783945, "link": "https://stackoverflow.com/questions/48783945/kotlin-firebase-userauthentication-need-assistance", "title": "Kotlin Firebase UserAuthentication need assistance", "body": "<p>Hey Guys Im trying to push the user data in kotlin to firebase but when i click the create account button nothing happends here is the code for Create account class</p>\n\n<pre><code>class CreateAccount : AppCompatActivity() {\nvar mAuth:FirebaseAuth?=null\nvar mdata:DatabaseReference?=null\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_create_account)\n    mAuth= FirebaseAuth.getInstance()\n    Createacc.setOnClickListener{\n        var email=acemail.text.toString().trim()\n        var pass=acpass.text.toString().trim()\n        var name=acname.text.toString().trim()\n\n        if(!TextUtils.isEmpty(email)||!TextUtils.isEmpty(name)||!TextUtils.isEmpty(pass)){\n            createAccount(email,pass,name)\n        }\n        else{\n            Toast.makeText(this,\"Please fill all the details\",Toast.LENGTH_LONG).show()\n        }\n    }\n}\n\nfun createAccount(email: String,password:String,dispname:String){\n\n    mAuth!!.createUserWithEmailAndPassword(email,password).addOnCompleteListener(this,{\n          task: Task&lt;AuthResult&gt; -&gt;\n        if(task.isSuccessful){\n            var curruser=mAuth!!.currentUser\n            var userid=curruser!!.uid\n            Toast.makeText(this,\"Building user wait\",Toast.LENGTH_LONG).show()\n            var uobject=HashMap&lt;String,String&gt;()\n            uobject.put(\"Display_name\",dispname)\n            uobject.put(\"Status\",\"Hi I'm New\")\n            uobject.put(\"image\",\"default\")\n            uobject.put(\"thumb image\",\"default\")\n\n            mdata=FirebaseDatabase.getInstance().reference.child(\"Users\").child(userid)\n            mdata!!.setValue(uobject).addOnCompleteListener{\n                task:Task&lt;Void&gt;  -&gt;\n                if(task.isSuccessful){\n                    Toast.makeText(this,\"User Created\",Toast.LENGTH_LONG).show()\n                }\n                else{\n                    Toast.makeText(this,\"OOPS!! User not Created\",Toast.LENGTH_LONG).show()\n                }\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>}\nMain problem is in create account function ,it is being called correctly but right after the createUserWithEmailAndPassword  function the task is not successfull hence the if loop does not run. There nothing is printed in the toast Neither \"User created \" nor \"OOPS not created\" i dont know whats going on.\nI have installed the firebase dependency and my app is connected to a firebase database.</p>\n"}, {"tags": ["android", "kotlin", "moshi"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 1, "creation_date": 1518596831, "post_id": 48782623, "comment_id": 84566486, "body": "What is <code>Kotshi</code>? Some links please?"}, {"owner": {"reputation": 21, "user_id": 9358923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/9358923/matt"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1518632346, "post_id": 48782623, "comment_id": 84589665, "body": "Here&#39;s the link! <a href=\"https://github.com/ansman/kotshi\" rel=\"nofollow noreferrer\">github.com/ansman/kotshi</a>"}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1518671432, "post_id": 48782623, "comment_id": 84603277, "body": "Possibly this issue? <a href=\"https://github.com/ansman/kotshi/issues/58\" rel=\"nofollow noreferrer\">github.com/ansman/kotshi/issues/58</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5882, "user_id": 1370087, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/g3ak7.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/1370087/benjamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1518614258, "creation_date": 1518614258, "answer_id": 48788199, "question_id": 48782623, "link": "https://stackoverflow.com/questions/48782623/kotshi-issue-unresolved-reference-for-kotshiapplicationjsonadapterfactory/48788199#48788199", "title": "Kotshi issue - unresolved reference for KotshiApplicationJsonAdapterFactory", "body": "<blockquote>\n  <p>@KotshiJsonAdapterFactory makes Kotshi generate a JsonAdapter factory.\n  Should be placed on an abstract class that implements\n  JsonAdapter.Factory.</p>\n</blockquote>\n\n<p>So yes, <code>KotshiApplicationJsonAdapterFactory</code> is a custom <code>class</code> that you've to setup and which fulfills the above condition.</p>\n"}, {"tags": [], "owner": {"reputation": 6155, "user_id": 699304, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6e1b4fb1960b220515c1673b728b3794?s=128&d=identicon&r=PG", "display_name": "Nicklas A.", "link": "https://stackoverflow.com/users/699304/nicklas-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1520765100, "last_edit_date": 1520765100, "creation_date": 1519138152, "answer_id": 48887941, "question_id": 48782623, "link": "https://stackoverflow.com/questions/48782623/kotshi-issue-unresolved-reference-for-kotshiapplicationjsonadapterfactory/48887941#48887941", "title": "Kotshi issue - unresolved reference for KotshiApplicationJsonAdapterFactory", "body": "<p><code>KotshiJsonAdapterFactory</code> is an annotation that you apply to a class that you write. This will make Kotshi generate a class with the same name as your class + the <code>Kotshi</code> prefix. That class will implement the actual factory.</p>\n\n<p>When you write your class it will look like you have a compile error, but it will not prevent compilation.</p>\n"}], "owner": {"reputation": 21, "user_id": 9358923, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/9358923/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 994, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1520765100, "creation_date": 1518596737, "last_edit_date": 1518613237, "question_id": 48782623, "link": "https://stackoverflow.com/questions/48782623/kotshi-issue-unresolved-reference-for-kotshiapplicationjsonadapterfactory", "title": "Kotshi issue - unresolved reference for KotshiApplicationJsonAdapterFactory", "body": "<p>So I'm trying to follow the simple read.me for <a href=\"https://github.com/ansman/kotshi\" rel=\"nofollow noreferrer\">Kotshi</a> and get it set up for my project but I seem to be hitting a little snag. \nI'm currently at this portion of the read.me</p>\n\n<pre><code>@KotshiJsonAdapterFactory\nobject ApplicationJsonAdapterFactory: KotshiApplicationJsonAdapterFactory()\n</code></pre>\n\n<p>but KotshiApplicationJsonAdapterFactory seems to give me an unresolved reference error.  Now this sounds like an absolutely silly question but is KotshiApplicationJsonAdapterFactory supposed to be a custom class that I set up?  If so I don't see anywhere in the documentation regarding it.  My gradle has the two dependencies added so I'm absolutely baffled.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "edited": false, "score": 0, "creation_date": 1518595212, "post_id": 48782262, "comment_id": 84565738, "body": "my code is private var quizQuestionList: ArrayList&lt;Quiz&gt; private var pickedItems: ArrayList&lt;Int&gt; private var random: Random = Random()  private fun pickItem(): Quiz {     var index = random?.nextInt(quizQuestionList!!.size)     if (pickedItems.contains(index)) {         index = random?.nextInt(quizQuestionList!!.size)         pickedItems.add(index)     } else {         pickedItems.add(index)     }     val item = quizQuestionList!!.get(index!!)     return item }"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 1, "creation_date": 1518595239, "post_id": 48782262, "comment_id": 84565749, "body": "edit your question to add the code"}, {"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1518595303, "post_id": 48782262, "comment_id": 84565778, "body": "am not able to add the code on question i have already tried many times. so i put my code on comment."}], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "edited": false, "score": 0, "creation_date": 1518608645, "post_id": 48783356, "comment_id": 84574088, "body": "thanks @ankit could you please explain. random.nextInt(High - Low) + Low.  How it is work, because if high=10, and always low=0, then (10-0)+0 always return high value, if high is changed to 15 then it return 15. i am not understand it please explain it."}, {"owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "reply_to_user": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "edited": false, "score": 0, "creation_date": 1518609057, "post_id": 48783356, "comment_id": 84574373, "body": "first time it always goes to high value because it Random class functionality, then it will start with random value generation."}], "tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": false, "score": 1, "last_activity_date": 1518608972, "last_edit_date": 1518608972, "creation_date": 1518599514, "answer_id": 48783356, "question_id": 48782262, "link": "https://stackoverflow.com/questions/48782262/how-to-pick-every-time-new-or-unique-random-item-from-a-array-list-in-android/48783356#48783356", "title": "How to pick every time new or unique random item from a array list in android?", "body": "<p>here is code for same::</p>\n\n<pre><code>val arrayList = ArrayList&lt;String&gt;()\n   arrayList.add(\"a\")\n    arrayList.add(\"b\")\n    arrayList.add(\"c\")\n    arrayList.add(\"d\")\n    arrayList.add(\"e\")\n    arrayList.add(\"f\")\n    arrayList.add(\"g\") \n    arrayList.add(\"h\") \n    arrayList.add(\"i\")\n    arrayList.add(\"j\") \n    arrayList.add(\"k\") \n    random = Random()\n\n    Low = 0\n    High = arrayList.size\n\n\n    val generateRandom = findViewById&lt;View&gt;(R.id.generateRandom) as Button\n    generateRandom.setOnClickListener {\n        val Result = random.nextInt(High - Low) + Low\n\n        Log.v(\"check\", arrayList[Result])\n    }\n</code></pre>\n\n<p>Please let me know if need more!!</p>\n"}, {"comments": [{"owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "edited": false, "score": 0, "creation_date": 1518608341, "post_id": 48785452, "comment_id": 84573875, "body": "thanku @willy its working for me. but can you please more explain one thing on your code. random.nextInt(to - from) + from, how this line is work i mean what is returned by this"}], "tags": [], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "is_accepted": true, "score": 1, "last_activity_date": 1518615858, "last_edit_date": 1518615858, "creation_date": 1518605794, "answer_id": 48785452, "question_id": 48782262, "link": "https://stackoverflow.com/questions/48782262/how-to-pick-every-time-new-or-unique-random-item-from-a-array-list-in-android/48785452#48785452", "title": "How to pick every time new or unique random item from a array list in android?", "body": "<p>It isn't obvious what you are looking for, but it looks like you want to show different Quiz question from ArrayList. In condition of, when that question is shown, no more same question will be shown. Here is how you should do, I will give you just the logic you could try it yourself:</p>\n\n<pre><code>import java.util.Random\n\nfun main(args: Array&lt;String&gt;) {\n\n    val random = Random()\n    var randomInt: Int\n    var pickedInt: MutableSet&lt;Int&gt; = mutableSetOf()\n\n    fun rand(from: Int, to: Int): Int{\n        do{\n            randomInt = random.nextInt(to - from) + from\n        }while(pickedInt.contains(randomInt))\n\n        pickedInt.add(randomInt)\n        return randomInt\n    }\n\n    while(pickedInt.size &lt; 9){\n        var differentNumber = rand(1,11)\n        println(differentNumber)\n    }\n}\n</code></pre>\n\n<p>This will print nine different Number. The way I choosing MutableSet is because it will only have unique values, no duplicated value. Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1576848589, "creation_date": 1576848589, "answer_id": 59426045, "question_id": 48782262, "link": "https://stackoverflow.com/questions/48782262/how-to-pick-every-time-new-or-unique-random-item-from-a-array-list-in-android/59426045#59426045", "title": "How to pick every time new or unique random item from a array list in android?", "body": "<p>Try this way</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var arrayList = ArrayList&lt;String&gt;()\n    private var lastItem = -1\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        for (i in 0..9) {\n            arrayList.add(i.toString())\n        }\n        btnData.setOnClickListener {\n            Log.e(\"RANDOM_NUMBER\", \"\" + getRandomItemFromList())\n        }\n    }\n\n    private fun getRandomItemFromList(): Int {\n        val randomValue = Random().nextInt(arrayList.size)\n\n        return if (randomValue != lastItem) {\n            lastItem = randomValue\n            randomValue\n        } else {\n            getRandomItemFromList()\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 623, "user_id": 7305947, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-d1VSNZaMY-E/AAAAAAAAAAI/AAAAAAAABx4/5ktGc6zGwXg/photo.jpg?sz=128", "display_name": "Davinder Goel", "link": "https://stackoverflow.com/users/7305947/davinder-goel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2000, "favorite_count": 0, "accepted_answer_id": 48785452, "answer_count": 3, "score": -1, "last_activity_date": 1576848589, "creation_date": 1518595200, "last_edit_date": 1575602954, "question_id": 48782262, "link": "https://stackoverflow.com/questions/48782262/how-to-pick-every-time-new-or-unique-random-item-from-a-array-list-in-android", "title": "How to pick every time new or unique random item from a array list in android?", "body": "<p>I need to pick a new item from a list that hasn't been picked already until there are no more.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>private var quizQuestionList: ArrayList&lt;Quiz&gt; \nprivate var pickedItems: ArrayList&lt;Int&gt;\nprivate var random: Random = Random()\n\nprivate fun pickItem(): Quiz {\n    var index = random?.nextInt(quizQuestionList!!.size)\n\n    if (pickedItems.contains(index)) {\n        index = random?.nextInt(quizQuestionList!!.size)\n        pickedItems.add(index)\n    } else {\n        pickedItems.add(index)\n    }\n\n    val item = quizQuestionList!!.get(index!!)\n    return item\n}\n</code></pre>\n\n<p>Please suggest any solution that gives me a new item every time. I used an int list for all previously picked items and check every time when picked new item but I didn't get success.</p>\n"}, {"tags": ["android", "android-layout", "android-edittext", "kotlin", "android-nestedscrollview"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1518593760, "post_id": 48781839, "comment_id": 84565037, "body": "not getting exactly.add some more details."}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "reply_to_user": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1518594058, "post_id": 48781839, "comment_id": 84565179, "body": "Edited the question. Please check"}, {"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1518594407, "post_id": 48781839, "comment_id": 84565342, "body": "i post the ans have look and apply, hope it will help you!!"}], "answers": [{"comments": [{"owner": {"reputation": 580, "user_id": 6864948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y6hJq.png?s=128&g=1", "display_name": "Andrew Grow", "link": "https://stackoverflow.com/users/6864948/andrew-grow"}, "edited": false, "score": 0, "creation_date": 1523799836, "post_id": 48782065, "comment_id": 86699769, "body": "Thanks a lot, your solution is helped me."}, {"owner": {"reputation": 447, "user_id": 4037411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-hZizbpJJvHw/AAAAAAAAAAI/AAAAAAAAAHE/5QQc1799fSM/photo.jpg?sz=128", "display_name": "Bagus Aji Santoso", "link": "https://stackoverflow.com/users/4037411/bagus-aji-santoso"}, "edited": false, "score": 0, "creation_date": 1599924089, "post_id": 48782065, "comment_id": 112928865, "body": "How do this convert to if?"}], "tags": [], "owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "is_accepted": false, "score": 4, "last_activity_date": 1518594380, "creation_date": 1518594380, "answer_id": 48782065, "question_id": 48781839, "link": "https://stackoverflow.com/questions/48781839/edittext-scrolling-inside-recyclerview-and-nestedscrollview-android/48782065#48782065", "title": "Edittext scrolling inside Recyclerview and NestedScrollView android", "body": "<p>You can achieve by this programmatically have look</p>\n\n<pre><code> EditText etYesDescription= (EditText) findViewById(R.id.etYesDescription);\n etYesDescription.setOnTouchListener(new OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                if (v.getId() == R.id.comment1) {\n                    v.getParent().requestDisallowInterceptTouchEvent(true);\n                    switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n                    case MotionEvent.ACTION_UP:\n                        v.getParent().requestDisallowInterceptTouchEvent(false);\n                        break;\n                    }\n                }\n                return false;\n            }\n        });\n</code></pre>\n\n<p>Hope it will help you!!</p>\n"}], "owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2264, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1518594380, "creation_date": 1518593516, "last_edit_date": 1518594044, "question_id": 48781839, "link": "https://stackoverflow.com/questions/48781839/edittext-scrolling-inside-recyclerview-and-nestedscrollview-android", "title": "Edittext scrolling inside Recyclerview and NestedScrollView android", "body": "<p>I have an edittext which is of inputType textMultiLine inside RecyclerView which again is in NestedScrollView. I have a functionality in which I have to take Recyclerview inside the NestedScrollview. RecyclerView scrolling has been disabled by NestedScrollingEnabled as false. Inside this Recyclerview, there is an itemtype which has edittext in it. This edittext is Multiline and of 100 dp, If vertically, the content won't fit, the content will get cut, cause of max height. So How can I make my edittext scrollable inside Nested Scroll View</p>\n\n<p>I have enabled Edittext scrolling with the following code:</p>\n\n<pre><code>&lt;EditText\n        android:id=\"@+id/etYesDescription\"\n        style=\"@style/EditTextStyle\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"100dp\"\n        android:inputType=\"textMultiLine\"\n        android:imeOptions=\"actionDone\"\n        android:overScrollMode=\"always\"\n        android:scrollbarStyle=\"insideInset\"\n        android:scrollbars=\"vertical\" /&gt;\n</code></pre>\n\n<p>But it is still not scrollable, How can I make my Edittext scroll work?</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-companion"], "answers": [{"comments": [{"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1518587517, "post_id": 48780384, "comment_id": 84562419, "body": "right, but is there a difference in memory allocation, or overall usage from using either or?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1518588184, "post_id": 48780384, "comment_id": 84562650, "body": "An additional method will be generated on bytecode level, which should be ok on most platforms I guess"}, {"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1518588227, "post_id": 48780384, "comment_id": 84562668, "body": "kind of. its an additional keyword on either side. if I use the <code>@JvmStatic</code>, I can skip the <code>Companion</code> call in the java side, but if I skip the <code>@JvmStatic</code> I have to add the <code>Companion</code> on the other side. Its sixes either way, but I want to know if there&#39;s a memory usage difference"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1518589058, "post_id": 48780384, "comment_id": 84562962, "body": "I added an example which shows some byte code repesentations"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1518589010, "last_edit_date": 1518589010, "creation_date": 1518586952, "answer_id": 48780384, "question_id": 48780003, "link": "https://stackoverflow.com/questions/48780003/why-and-when-to-use-jvmstatic-with-companion-objects/48780384#48780384", "title": "Why and when to use @JvmStatic with companion objects?", "body": "<p>In Kotlin, the <code>companion</code> object can be us used to imitate static behaviour, calls look like static calls in Java, the <code>\u201cCompanion\u201c</code> isn\u2019t part of if. If used in Java though, the <code>companion</code> object has to be named, unless <code>@JvmStatic</code> is applied. It\u2019d look less idiomatic otherwise.</p>\n\n<pre><code>TestKotlin.getSomeString() //this should be preferred whenever possible\n</code></pre>\n\n<p>Stated in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <h1>Companion Objects</h1>\n  \n  <p>An object declaration inside a class can be marked with the companion \n  keyword:</p>\n\n<pre><code>class MyClass {\n   companion object Factory {\n       fun create(): MyClass = MyClass()\n   }\n}\n</code></pre>\n  \n  <p>Members of the companion object can be called by using simply the class \n  name as the qualifier:</p>\n\n<pre><code>val instance = MyClass.create()\n</code></pre>\n  \n  <p>...</p>\n  \n  <p>However, on the JVM you can have members of companion objects generated \n  as real static methods and fields, if you use the <code>@JvmStatic</code>\n  annotation.  See the Java interoperability section for more details.</p>\n</blockquote>\n\n<p>Note that it will generate an <strong>additional</strong> method as stated <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>If you use this annotation, the compiler will generate both a static method in the enclosing class of the object and an instance method in the object itself.</p>\n</blockquote>\n\n<p>Let's see an <strong>example</strong>:</p>\n\n<p>The following class </p>\n\n<pre><code>class Outer {\n    companion object {\n        fun callMe() = \"\"\n    }\n}\n</code></pre>\n\n<p>looks like this on bytecode level, here represented as Java code:</p>\n\n<pre><code>@Metadata(...)\npublic final class Outer {\n   public static final Outer.Companion Companion = new Outer.Companion((DefaultConstructorMarker)null);\n\n   @Metadata(...)\n   public static final class Companion {\n      @NotNull\n      public final String callMe() {\n         return \"\";\n      }\n\n      private Companion() {\n      }\n\n      // $FF: synthetic method\n      public Companion(DefaultConstructorMarker $constructor_marker) {\n         this();\n      }\n   }\n}\n</code></pre>\n\n<p>If <code>@JvmStatic</code> is being applied to <code>callMe</code> method though, the bytecode changes to the following:</p>\n\n<pre><code>@Metadata(...)\npublic final class Outer {\n   public static final Outer.Companion Companion = new Outer.Companion((DefaultConstructorMarker)null);\n\n   @JvmStatic\n   @NotNull\n   public static final String callMe() {\n      return Companion.callMe();\n   }\n\n   @Metadata(...)\n   public static final class Companion {\n      @JvmStatic\n      @NotNull\n      public final String callMe() {\n         return \"\";\n      }\n\n      private Companion() {\n      }\n\n      // $FF: synthetic method\n      public Companion(DefaultConstructorMarker $constructor_marker) {\n         this();\n      }\n   }\n}\n</code></pre>\n\n<p>You can see, correctly documented, the static <code>callMe</code> function, as part of <code>Outer</code> is generated:</p>\n\n<pre><code>@JvmStatic\n@NotNull\npublic static final String callMe() {        \n    return Companion.callMe();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1518588291, "post_id": 48780521, "comment_id": 84562693, "body": "yeah i know how to use it either way. i want to know if there&#39;s a difference between them, primarily on how they handle memory"}], "tags": [], "owner": {"reputation": 3069, "user_id": 4613320, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/STVAg.jpg?s=128&g=1", "display_name": "Malik Motani", "link": "https://stackoverflow.com/users/4613320/malik-motani"}, "is_accepted": false, "score": 11, "last_activity_date": 1518587702, "creation_date": 1518587702, "answer_id": 48780521, "question_id": 48780003, "link": "https://stackoverflow.com/questions/48780003/why-and-when-to-use-jvmstatic-with-companion-objects/48780521#48780521", "title": "Why and when to use @JvmStatic with companion objects?", "body": "<p>You place the function in the \"companion object\".</p>\n\n<p>So the java code like this:</p>\n\n<pre><code>class DemoClass {\n  public static int myMethod() { return 1; }\n}\n</code></pre>\n\n<p>will become</p>\n\n<pre><code>class DemoClass {\n  companion object {\n     fun myMethod() : Int = 1\n  }\n}\n</code></pre>\n\n<p>You can then use it from inside Kotlin code as </p>\n\n<pre><code>DemoClass.myMethod();\n</code></pre>\n\n<p>But from within Java code, you would need to call it as</p>\n\n<pre><code>DemoClass.Companion.myMethod();\n</code></pre>\n\n<p>(Which also works from within Kotlin.)</p>\n\n<p>If you don't like having to specify the <code>Companion</code> bit you can either add a <code>@JvmStatic</code> annotation or name your companion class.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <h1>Companion Objects</h1>\n  \n  <p>An object declaration inside a class can be marked with the companion \n  keyword:</p>\n\n<pre><code>class MyClass {\n   companion object Factory {\n       fun create(): MyClass = MyClass()\n   }\n}\n</code></pre>\n  \n  <p>Members of the companion object can be called by using simply the class \n  name as the qualifier:</p>\n\n<pre><code>val instance = MyClass.create()\n</code></pre>\n  \n  <p>...</p>\n  \n  <p>However, on the JVM you can have members of companion objects generated \n  as real static methods and fields, if you use the <code>@JvmStatic</code>\n  annotation.  See the Java interoperability section for more details.</p>\n</blockquote>\n\n<p>Adding the <code>@JvmStatic</code> annotation looks like this</p>\n\n<pre><code>class DemoClass {\n  companion object {\n    @JvmStatic\n    fun myMethod() : Int = 1;\n  }\n}\n</code></pre>\n\n<p>and then a will exist as a real Java static function, accessible from\nboth Java and kotlin as <code>DemoClass.myMethod()</code>. </p>\n\n<p>If it is just disliked by the <code>Companion</code> name, then you can also \nprovide an explicit name for the companion object looks like this:</p>\n\n<pre><code>class DemoClass {\n  companion object Blah {\n    fun myMethod() : Int = 1;\n  }\n}\n</code></pre>\n\n<p>which will let you call it from Kotlin in the same way, but\nfrom java like <code>DemoClass.Blah.myMethod()</code> (which will also work in Kotlin). </p>\n"}, {"comments": [{"owner": {"reputation": 4780, "user_id": 3926506, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ex7wk.jpg?s=128&g=1", "display_name": "XIII-th", "link": "https://stackoverflow.com/users/3926506/xiii-th"}, "reply_to_user": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 1, "creation_date": 1547017925, "post_id": 48781460, "comment_id": 95041918, "body": "@TooManyEduardos &quot;... memory allocation&quot; - yes. You have rudimentary companion object everywhere you try (or need) to implement <b>stateless</b> &quot;Util&quot; class and you do it in &quot;java idiom&quot;. This think illustrated in question <a href=\"https://stackoverflow.com/q/54104719/3926506\">stackoverflow.com/q/54104719/3926506</a>"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 74, "last_activity_date": 1555181619, "last_edit_date": 1555181619, "creation_date": 1518591933, "answer_id": 48781460, "question_id": 48780003, "link": "https://stackoverflow.com/questions/48780003/why-and-when-to-use-jvmstatic-with-companion-objects/48781460#48781460", "title": "Why and when to use @JvmStatic with companion objects?", "body": "<p>The behavior of the <code>@JvmStatic</code> annotation is explained in detail in <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"noreferrer\">the documentation</a>. When reading the documentation, you should assume that it gives you all the important information, and behavior differences that are not mentioned in the documentation do not exist.</p>\n\n<p>In this case, the documentation says:</p>\n\n<blockquote>\n  <p>If you use this annotation, the compiler will generate both a static method in the enclosing class of the object and an instance method in the object itself. </p>\n</blockquote>\n\n<p>In other words, the effect of the annotation is that it tells the compiler to <em>generate an additional method</em>.</p>\n\n<p>Does the documentation mention that there is any difference in behavior or memory allocation? It does not. Therefore, it's safe to assume that there is none.</p>\n\n<p>Is there a preference on which one to use? Normally, an API is declared in one place and used from multiple places. If you're calling a method from Java, then you should declare it as <code>@JvmStatic</code>, because adding the <code>@JvmStatic</code> annotation in one place will allow you to leave out multiple <code>.Companion</code> references in multiple places.</p>\n\n<p>Do both create a pseudo static singleton object, like Java static does? This question does not make sense, because Java static does not create a \"pseudo static singleton object\". If you declare a static method in a Java class, and then call this method, no objects will be created.</p>\n"}, {"comments": [{"owner": {"reputation": 15235, "user_id": 505152, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c988366574e6e5f4fa0b3e01faa90a86?s=128&d=identicon&r=PG", "display_name": "htafoya", "link": "https://stackoverflow.com/users/505152/htafoya"}, "edited": false, "score": 1, "creation_date": 1618009648, "post_id": 66185909, "comment_id": 118481683, "body": "perfect explanation with the java decompiled examples"}], "tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 5, "last_activity_date": 1613224686, "creation_date": 1613224686, "answer_id": 66185909, "question_id": 48780003, "link": "https://stackoverflow.com/questions/48780003/why-and-when-to-use-jvmstatic-with-companion-objects/66185909#66185909", "title": "Why and when to use @JvmStatic with companion objects?", "body": "<p>A <code>companion object</code> is an instance of a real <code>class</code> called <code>Companion</code>. So, when you call the Kotlin code from Java, an object of the <code>Companion</code> class is first instantiated behind the scenes. To understand this, let's consider a simple example.</p>\n<hr />\n<h2>Behind the scenes without <code>@JvmStatic</code></h2>\n<p><strong>Kotlin code</strong></p>\n<pre><code>class Plant {\n    companion object {\n        fun waterAll() { }\n    }\n}\n</code></pre>\n<p><strong>Decompiled Java code</strong></p>\n<pre><code>public final class Plant {\n\n   public static final Plant.Companion Companion = new Plant.Companion();\n\n   public static final class Companion {\n\n      public final void waterAll() { }\n\n      private Companion() { }\n   }\n}\n</code></pre>\n<p>As you can see in the simplified decompiled Java code above, a class named <code>Companion</code> is generated to represent the <code>companion object</code>. The class <code>Plant</code> holds the singleton instance <code>new Plant.Companion()</code> of the class <code>Plant.Companion</code>. The instance is also named as <code>Companion</code>. This is the reason you need to call the functions/properties of the <code>companion object</code> in Java using the <code>Plant.Companion</code>:</p>\n<pre><code>Plant.Companion.waterAll();\n</code></pre>\n<hr />\n<h2>Behind the scenes with <code>@JvmStatic</code></h2>\n<p><strong>Kotlin code</strong></p>\n<pre><code>class Plant {\n    companion object {\n        @JvmStatic\n        fun waterAll() { }\n    }\n}\n</code></pre>\n<p><strong>Decompiled Java code</strong></p>\n<pre><code>public final class Plant {\n\n   public static final Plant.Companion Companion = new Plant.Companion();\n\n   @JvmStatic\n   public static final void waterAll() { Companion.waterAll();}\n\n   public static final class Companion {\n      @JvmStatic\n      public final void waterAll() { }\n\n      private Companion() { }\n   }\n}\n</code></pre>\n<p>When you annotate a function of a <code>companion object</code> with <code>@JvmStatic</code> in Kotlin, a pure <code>static</code> function <code>waterAll()</code> is generated in addition to the non static function <code>waterAll()</code>. So, now you are able to call the function without the <code>Companion</code> name which is more idiomatic to Java:</p>\n<pre><code>Plant.waterAll();\n</code></pre>\n<hr />\n<h2>Singleton</h2>\n<p>The singleton pattern is generated in both cases. As you can see, in both cases, the <code>Companion</code> instance holds the singleton object <code>new Plant.Companion()</code> and the constructor is made <code>private</code> to prevent multiple instances.</p>\n<p>The Java <code>static</code> keyword does not create the singletons. You will get the singleton feature only if you create a <code>companion object</code> in Kotlin and then use it from Java. To get singleton from Java, you'll need to write the singleton pattern, the code for which looks like the decompiled Java code shown above.</p>\n<hr />\n<h2>Performance</h2>\n<p>There is no performance gain or loss in terms of memory allocation. The reason is that, as you can see in the code above, the extra <code>static</code> function that is generated delegates its work to the non static function <code>Companion.waterAll()</code>. This means, creation of the <code>Companion</code> instance is required in both the cases, with <code>@JvmStatic</code> as well as without <code>@JvmStatic</code>.</p>\n<p>The behaviour of both the setups is the same apart from the extra method that is generated. In Android, if you worry about the method count, you may need to keep an eye on this because an extra copy is created for each annotated function.</p>\n<hr />\n<h2>When to use <code>@JvmStatic</code></h2>\n<p>When you know that your Kotlin code won't be used in Java, you don't have to worry about adding the <code>@JvmStatic</code> annotation. This keeps your code cleaner. However, if your Kotlin code is called from Java, it makes sense to add the annotation. This will prevent your Java code from polluting with the name <code>Companion</code> everywhere.</p>\n<p>It's not like an additional keyword on either side. If you add <code>@JvmStatic</code> in one place, you can prevent writing the extra <code>Companion</code> word in thousands of places, wherever you call that function. This is especially useful for library creators, if they add <code>@JvmStatic</code> in their Kotlin library, the users of that library won't have to use the <code>Companion</code> word in their Java code.</p>\n<hr />\n<p>That's it! Hopefully that helps get the clearer picture of the <code>@JvmStatic</code>.</p>\n"}], "owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25234, "favorite_count": 20, "accepted_answer_id": 48781460, "answer_count": 4, "score": 62, "last_activity_date": 1613224686, "creation_date": 1518584729, "last_edit_date": 1518585866, "question_id": 48780003, "link": "https://stackoverflow.com/questions/48780003/why-and-when-to-use-jvmstatic-with-companion-objects", "title": "Why and when to use @JvmStatic with companion objects?", "body": "<p>I'm trying to understand the difference between using/not using @JvmStatic, and when I should use either one.</p>\n\n<p>So, with Kotlin and Java, I can do this:</p>\n\n<p><code>TestKotlin.kt</code></p>\n\n<pre><code>class TestKotlin {\n    companion object {\n        val someString = \"hello world\"\n    }\n}\n</code></pre>\n\n<p>Which is then called by Java, like this:</p>\n\n<p><code>TestJava.java</code></p>\n\n<pre><code>public class TestJava {\n    String kotlinStaticString = TestKotlin.Companion.getSomeString();\n}\n</code></pre>\n\n<p>but then, there's this option 2:</p>\n\n<p><code>TestKotlin.kt</code> v2</p>\n\n<pre><code>class TestKotlin {\n    companion object {\n        @JvmStatic  // &lt;-- notice the @JvmStatic annotation\n        val someString = \"hello world\"\n    }\n}\n</code></pre>\n\n<p>And then, call it from Java, like this:</p>\n\n<p><code>TestJava.java</code> v2</p>\n\n<pre><code>public class TestJava {\n    String kotlinStaticString = TestKotlin.getSomeString();\n}\n</code></pre>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Are these 2 cases any different, in terms of behavior or memory allocation?</li>\n<li>Is there a preference on which one to use?</li>\n<li>Do both create a pseudo static singleton object, like Java static does?</li>\n</ul>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1518587073, "post_id": 48779785, "comment_id": 84562282, "body": "It&#39;s not an answer to this question, but I think <code>getJSONObject</code> needs a <code>String</code> parameter, but in your code <code>i</code> is <code>Int</code>."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1518591157, "last_edit_date": 1518591157, "creation_date": 1518587378, "answer_id": 48780452, "question_id": 48779785, "link": "https://stackoverflow.com/questions/48779785/convert-for-loop-to-stdlib-operations/48780452#48780452", "title": "convert for loop to stdlib operations", "body": "<p>It actually depends on the type of <code>sites</code>, which I expect to be <code>org.json.JSONArray</code>. You can apply a range and make use of functional methods like <code>map</code> then:</p>\n\n<pre><code>(0 until sites.length())\n    .map { sites[it] }\n    .forEach { siteOptions.add(Site(it.getInt(\"id\"), it.getString(\"name\")) }\n</code></pre>\n\n<p>AndroidStudio even gives you the option to convert it.</p>\n"}, {"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1518592080, "creation_date": 1518592080, "answer_id": 48781509, "question_id": 48779785, "link": "https://stackoverflow.com/questions/48779785/convert-for-loop-to-stdlib-operations/48781509#48781509", "title": "convert for loop to stdlib operations", "body": "<p>Whenever an IDE suggests you to perform a transformation of your code, you do this by pressing Alt-Enter and selecting the necessary quickfix from the menu.</p>\n"}, {"tags": [], "owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "is_accepted": false, "score": 0, "last_activity_date": 1518601824, "creation_date": 1518601824, "answer_id": 48784079, "question_id": 48779785, "link": "https://stackoverflow.com/questions/48779785/convert-for-loop-to-stdlib-operations/48784079#48784079", "title": "convert for loop to stdlib operations", "body": "<p>Assuming <code>sites: JSONArray</code> and <code>siteOptions: MutableList&lt;Site&gt;</code> I'll do something like this with stdlib operations </p>\n\n<pre><code>siteOptions += (0 until sites.length())\n        .mapNotNull { sites.optJSONObject(it) }\n        .map { Site(it.getInt(\"id\"), it.getString(\"name\")) }\n</code></pre>\n\n<p>Less readeable but more memory efficient :</p>\n\n<pre><code>siteOptions += (0 until sites.length())\n        .mapNotNull { sites.optJSONObject(it)\n                ?.let { Site(it.getInt(\"id\"), it.getString(\"name\")) }\n        }\n</code></pre>\n"}], "owner": {"reputation": 1171, "user_id": 1384170, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2abd33e72e108169bde84b01290531a?s=128&d=identicon&r=PG", "display_name": "Moses Liao GZ", "link": "https://stackoverflow.com/users/1384170/moses-liao-gz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 48781509, "answer_count": 3, "score": 0, "last_activity_date": 1518601824, "creation_date": 1518583326, "last_edit_date": 1518592192, "question_id": 48779785, "link": "https://stackoverflow.com/questions/48779785/convert-for-loop-to-stdlib-operations", "title": "convert for loop to stdlib operations", "body": "<p>I have the following code</p>\n\n<pre><code>for (i in 0..(sites.length()-1)) {\n    val site = sites.getJSONObject(i)\n    siteOptions.add(Site(site.getInt(\"id\"), site.getString(\"name\")))\n}\n</code></pre>\n\n<p>Android studio suggest using stdlib operations. How do I do that?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-bitmap"], "owner": {"reputation": 1348, "user_id": 6217595, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Xlsnf.jpg?s=128&g=1", "display_name": "zihadrizkyef", "link": "https://stackoverflow.com/users/6217595/zihadrizkyef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518579817, "creation_date": 1518579817, "question_id": 48779296, "link": "https://stackoverflow.com/questions/48779296/save-inflated-view-as-png-without-showing-it-on-screen", "title": "Save inflated view as PNG without showing it on screen", "body": "<p>I want to make a <strong><em>card generator</em></strong> app. So user choose their photo then press save button and they got generated card (their photo, with name, and profession). I want to use XML layout to generate card. So that i just need to <code>setImageBitmap</code>, and <code>setText</code> without drawing it manually in canvas. But i unable to save it as PNG. I've tried my code but i got black blank..</p>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var bitmap: Bitmap\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        GlideApp.with(this)\n                .asBitmap()\n                .load(\"https://i.stack.imgur.com/Xlsnf.jpg\")\n                .diskCacheStrategy(DiskCacheStrategy.NONE)\n                .skipMemoryCache(true)\n                .placeholder(R.drawable.ic_downloading)\n                .error(R.drawable.ic_error)\n                .into(object : BitmapImageViewTarget(ivImage) {\n                    override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n                        super.onResourceReady(resource, transition)\n                        bitmap = resource\n                        ivImage.setImageBitmap(resource)\n                    }\n                })\n\n        btSave.setOnClickListener { saveBitmap2() }\n    }\n\n    fun saveBitmap2() {\n        val inflated = layoutInflater.inflate(R.layout.layout_image_saved, null)\n        inflated.ivProfile.setImageBitmap(bitmap)\n        inflated.tvName.setText(\"Zihad Rizky Edwin Fikri\")\n        inflated.tvProfession.setText(\"Android Programmer\")\n        inflated.layout(0, 0, 700, 700)\n        val savedBmp = Bitmap.createBitmap(inflated.width, inflated.height, Bitmap.Config.ARGB_8888)\n        val canvas = Canvas(savedBmp)\n        canvas.translate(0F, 0F)\n        inflated.draw(canvas)\n\n        val bos = ByteArrayOutputStream()\n        savedBmp.compress(Bitmap.CompressFormat.PNG, 100, bos)\n        val fos = FileOutputStream(File(Environment.getExternalStorageDirectory(), \"zihadtest2.png\"))\n        fos.write(bos.toByteArray())\n        fos.flush()\n        fos.close()\n    }\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"id.osman.viewtobitmaptopng.MainActivity\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/ivImage\"\n        android:layout_width=\"300dp\"\n        android:layout_height=\"300dp\"\n        android:scaleType=\"centerCrop\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/muslim_men\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/btSave\"\n        style=\"@style/Widget.AppCompat.Button.Colored\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"16dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"Save\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/ivImage\"\n        app:layout_constraintVertical_bias=\"1.0\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>layout_image_saved.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/constrainLayout\"\n    android:layout_width=\"700px\"\n    android:layout_height=\"700px\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/ivProfile\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/muslim_men\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvName\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"Abdullah Supri\"\n        android:textColor=\"#111\"\n        android:textSize=\"50px\"\n        android:textStyle=\"bold\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvProfession\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:text=\"Asisten Pilot\"\n        android:textColor=\"#111\"\n        android:textSize=\"30px\"\n        android:textStyle=\"bold\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/tvName\"/&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 2433, "user_id": 4384155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9yrA8PyjRxQ/AAAAAAAAAAI/AAAAAAAAAEQ/-hY5lMKN4oI/photo.jpg?sz=128", "display_name": "Rahul Chandrabhan", "link": "https://stackoverflow.com/users/4384155/rahul-chandrabhan"}, "edited": false, "score": 0, "creation_date": 1518582105, "post_id": 48778615, "comment_id": 84560843, "body": "Are you using release version for your testing?"}, {"owner": {"reputation": 1, "user_id": 4236301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a347d2869cd253543d98018642d404?s=128&d=identicon&r=PG", "display_name": "marcossilvajnr", "link": "https://stackoverflow.com/users/4236301/marcossilvajnr"}, "reply_to_user": {"reputation": 2433, "user_id": 4384155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9yrA8PyjRxQ/AAAAAAAAAAI/AAAAAAAAAEQ/-hY5lMKN4oI/photo.jpg?sz=128", "display_name": "Rahul Chandrabhan", "link": "https://stackoverflow.com/users/4384155/rahul-chandrabhan"}, "edited": false, "score": 0, "creation_date": 1518582840, "post_id": 48778615, "comment_id": 84561065, "body": "@RahulChandrabhan no, I am testing in debug version"}, {"owner": {"reputation": 2433, "user_id": 4384155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9yrA8PyjRxQ/AAAAAAAAAAI/AAAAAAAAAEQ/-hY5lMKN4oI/photo.jpg?sz=128", "display_name": "Rahul Chandrabhan", "link": "https://stackoverflow.com/users/4384155/rahul-chandrabhan"}, "edited": false, "score": 0, "creation_date": 1518582992, "post_id": 48778615, "comment_id": 84561108, "body": "Have you tested on phone or emulator, because I face problems whenever I use emulator for login purpose."}, {"owner": {"reputation": 1, "user_id": 4236301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a347d2869cd253543d98018642d404?s=128&d=identicon&r=PG", "display_name": "marcossilvajnr", "link": "https://stackoverflow.com/users/4236301/marcossilvajnr"}, "reply_to_user": {"reputation": 2433, "user_id": 4384155, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9yrA8PyjRxQ/AAAAAAAAAAI/AAAAAAAAAEQ/-hY5lMKN4oI/photo.jpg?sz=128", "display_name": "Rahul Chandrabhan", "link": "https://stackoverflow.com/users/4384155/rahul-chandrabhan"}, "edited": false, "score": 0, "creation_date": 1518583583, "post_id": 48778615, "comment_id": 84561257, "body": "@RahulChandrabhan I using a phone for testing, even used in release version, very estrange issue"}], "owner": {"reputation": 1, "user_id": 4236301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a347d2869cd253543d98018642d404?s=128&d=identicon&r=PG", "display_name": "marcossilvajnr", "link": "https://stackoverflow.com/users/4236301/marcossilvajnr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1518574115, "creation_date": 1518574115, "question_id": 48778615, "link": "https://stackoverflow.com/questions/48778615/firebaseauth-with-google-sign-failed-to-handle-onactivityresult", "title": "FirebaseAuth with Google Sign failed to handle onActivityResult", "body": "<p>when handling the return of sign google activity i have the following error:</p>\n\n<blockquote>\n  <p>02-13 23:53:33.729 14395-14395/br.com.easytrip E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                   Process: br.com.easytrip, PID: 14395\n                                                                   java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=711, result=-1, data=Intent { (has extras) }} to activity {br.com.easytrip/br.com.easytrip.features.login.view.LoginGoogleActivity}: com.google.android.gms.common.api.ApiException: 8: \n                                                                       at android.app.ActivityThread.deliverResults(ActivityThread.java:4130)\n                                                                       at android.app.ActivityThread.handleSendResult(ActivityThread.java:4173)\n                                                                       at android.app.ActivityThread.-wrap20(ActivityThread.java)\n                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1546)\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                       at android.os.Looper.loop(Looper.java:154)\n                                                                       at android.app.ActivityThread.main(ActivityThread.java:6165)\n                                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\n                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)\n                                                                    Caused by: com.google.android.gms.common.api.ApiException: 8: \n                                                                       at com.google.android.gms.common.internal.zzb.zzy(Unknown Source)\n                                                                       at com.google.android.gms.auth.api.signin.GoogleSignIn.getSignedInAccountFromIntent(Unknown Source)\n                                                                       at br.com.easytrip.features.login.view.LoginGoogleActivity.onActivityResult(LoginGoogleActivity.kt:46)\n                                                                       at android.app.Activity.dispatchActivityResult(Activity.java:6946)\n                                                                       at android.app.ActivityThread.deliverResults(ActivityThread.java:4126)\n                                                                       at android.app.ActivityThread.handleSendResult(ActivityThread.java:4173)\u00a0\n                                                                       at android.app.ActivityThread.-wrap20(ActivityThread.java)\u00a0\n                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1546)\u00a0\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                       at android.os.Looper.loop(Looper.java:154)\u00a0\n                                                                       at android.app.ActivityThread.main(ActivityThread.java:6165)\u00a0\n                                                                       at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:888)\u00a0\n                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:778)\u00a0</p>\n</blockquote>\n\n<p>My code snippet for onActivityResult:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (resultCode == Activity.RESULT_OK &amp;&amp; requestCode == GOOGLE_SIGN_IN_REQUEST) {\n        data?.let {\n            val signedInAccountFromIntent = GoogleSignIn.getSignedInAccountFromIntent(intent)\n            presenter.handleGoogleLogin(signedInAccountFromIntent)\n        } ?: handleGoogleSignInError()\n    } else {\n        handleGoogleSignInError()\n    }\n}\n</code></pre>\n\n<p>My code snippet for google sign in Intent:</p>\n\n<pre><code>private fun setUp() {\n    val googleSignInOptions = GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(getString(R.string.default_web_client_id))\n            .requestEmail()\n            .build()\n\n    googleSignInClient = GoogleSignIn.getClient(this, googleSignInOptions)\n\n    val account = GoogleSignIn.getLastSignedInAccount(this)\n    if (account != null &amp;&amp; account.idToken != null) {\n        account.idToken?.let{\n            setResult(it)\n        } ?: showGenericError()\n    } else {\n        val signInIntent = googleSignInClient.signInIntent\n        startActivityForResult(signInIntent, GOOGLE_SIGN_IN_REQUEST)\n    }\n}\n</code></pre>\n\n<p>I have added a sha1 debug key in firebase console.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "is_accepted": true, "score": 1, "last_activity_date": 1518590339, "creation_date": 1518590339, "answer_id": 48781105, "question_id": 48778082, "link": "https://stackoverflow.com/questions/48778082/android-add-divider-to-top-of-recyclerview/48781105#48781105", "title": "Android: add divider to top of RecyclerView", "body": "<p>First, you shouldn't make same divider between Header and items/Footer and items. User will get confused if it could be selected or not. For a good User Interface, I recommended to make colour background on header/footer. Like this one :</p>\n\n<p><a href=\"https://i.stack.imgur.com/eUJxf.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUJxf.gif\" alt=\"enter image description here\"></a></p>\n\n<p>If you insist on adding the divider in header, you could edit it on your ItemDecoration just like the item divider. Use this divider for your Header Item Decoration. More detail visit <a href=\"https://gist.github.com/alexfu/0f464fc3742f134ccd1e\" rel=\"nofollow noreferrer\">DividerItemDecoration</a></p>\n\n<pre><code>fun drawVertical(Canvas c, RecyclerView parent) {\n        val left = parent.getPaddingLeft()\n        val right = parent.getWidth() - parent.getPaddingRight()\n\n        val childCount = parent.getChildCount()\n        val child : View = parent.getChildAt(i)\n        val params : RecyclerView.LayoutParams = child.getLayoutParams();\n        val top = child.getBottom() + params.bottomMargin;\n        val bottom = top + mDivider.getIntrinsicHeight();\n        mDivider.setBounds(left, top, right, bottom);\n        mDivider.draw(c);\n    }\n</code></pre>\n"}], "owner": {"reputation": 1449, "user_id": 5361456, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4b6a9a3c7b529ca94380acfeac705aee?s=128&d=identicon&r=PG&f=1", "display_name": "Archie Gertsman", "link": "https://stackoverflow.com/users/5361456/archie-gertsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2494, "favorite_count": 2, "accepted_answer_id": 48781105, "answer_count": 1, "score": 2, "last_activity_date": 1518590339, "creation_date": 1518569679, "question_id": 48778082, "link": "https://stackoverflow.com/questions/48778082/android-add-divider-to-top-of-recyclerview", "title": "Android: add divider to top of RecyclerView", "body": "<p>I was able to add dividers on the bottoms of cells in a <code>RecyclerView</code>:</p>\n\n<pre><code>this.recyclerView.layoutManager = layoutManager\nval dividerItemDecoration = DividerItemDecoration(this.recyclerView.context, layoutManager.orientation)\nthis.recyclerView.addItemDecoration(dividerItemDecoration)\n</code></pre>\n\n<p>Here is the result:</p>\n\n<p><a href=\"https://i.imgur.com/9lv5aXK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/9lv5aXK.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I add a line to the top of the very first cell?</p>\n"}, {"tags": ["intellij-idea", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1518605406, "post_id": 48777697, "comment_id": 84571987, "body": "Is the Gradle build successful? IntelliJ IDEA could have tried to run the program even though the compilation failed and no such class was produced. Please try to run Gradle build separately from running a class (e.g. from the Gradle panel in the IDE or command line)."}, {"owner": {"reputation": 411, "user_id": 9247087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f67a8c2c2bdb8174040a33c31d5aee?s=128&d=identicon&r=PG&f=1", "display_name": "James B.", "link": "https://stackoverflow.com/users/9247087/james-b"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1518707790, "post_id": 48777697, "comment_id": 84624395, "body": "Hi, sorry for the late reply. The gradle projects build successfully but when I attempt to run .jar produced or directly through IntelliJ, this error occurs."}], "answers": [{"tags": [], "owner": {"reputation": 1695, "user_id": 4487858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/08fvj.jpg?s=128&g=1", "display_name": "Robert Nagy", "link": "https://stackoverflow.com/users/4487858/robert-nagy"}, "is_accepted": false, "score": 0, "last_activity_date": 1576496066, "creation_date": 1576496066, "answer_id": 59355822, "question_id": 48777697, "link": "https://stackoverflow.com/questions/48777697/kotlin-multi-platform-error-could-not-find-or-load-main-class-mainkt/59355822#59355822", "title": "Kotlin Multi-Platform - &quot;Error: Could not find or load main class MainKt&quot;", "body": "<p>Try updating the location of your <code>Main.kt</code> in gradle.</p>\n\n<p>Example <code>application {\n    mainClassName = \"com.your.package.name.MainKt\"\n}</code></p>\n"}], "owner": {"reputation": 411, "user_id": 9247087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14f67a8c2c2bdb8174040a33c31d5aee?s=128&d=identicon&r=PG&f=1", "display_name": "James B.", "link": "https://stackoverflow.com/users/9247087/james-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 832, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1576496066, "creation_date": 1518566859, "last_edit_date": 1518782748, "question_id": 48777697, "link": "https://stackoverflow.com/questions/48777697/kotlin-multi-platform-error-could-not-find-or-load-main-class-mainkt", "title": "Kotlin Multi-Platform - &quot;Error: Could not find or load main class MainKt&quot;", "body": "<p>When trying to run a main function of a Kotlin JVM module in IntelliJ IDEA using the green triangle next to the function name, I get the following error:</p>\n\n<p><code>Error: Could not find or load main class MainKt</code></p>\n\n<p>Has anyone experienced this before and knows how to fix it? I've tried the suggestions on Google but they seem to not work.</p>\n\n<p>I'm pretty new to Kotlin and Kotlin MultiPlatform as well as Gradle so if you need more details, please let me know.</p>\n\n<p>Thanks in advance,\nJames.  </p>\n\n<p><b>EDIT: To clarify, I can run the built .jar file from the command line but cannot run it from inside IntelliJ without this error being produced. If anyone could help so that I can debug the application, I'd be really grateful, I just can't seem to figure it out :)</b></p>\n"}, {"tags": ["java", "android", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 0, "creation_date": 1528838326, "post_id": 48777585, "comment_id": 88656761, "body": "Did you ever solve this? I&#39;m in the same position as you and I&#39;m starting to avoid writing Kotlin classes if they need to reference Java classes that are in different flavors. If I have time I spend the time converting the old classes to Kotlin, but this is not always an option, being on a tight deadline and you can&#39;t always trust the built-in converter to convert the Java code to something meaningful in Kotlin in my experience."}, {"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "reply_to_user": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 0, "creation_date": 1528873040, "post_id": 48777585, "comment_id": 88665855, "body": "I actually can&#39;t remember but I don&#39;t think so since I would have posted the answer. I may have just converted more classes to Kotlin."}, {"owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 0, "creation_date": 1528885374, "post_id": 48777585, "comment_id": 88673450, "body": "Ok, thanks. You wrote, that based on your search, you&#39;ve found out that if you have a <code>Kotlin source set</code> folder, it should also work. I haven&#39;t found anything about that approach - do you have a link as to what to change to use this approach?"}, {"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "reply_to_user": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 0, "creation_date": 1528933837, "post_id": 48777585, "comment_id": 88698952, "body": "I don&#39;t have any saved links and I don&#39;t know for sure if using separate sourceSets would do anything since it shouldn&#39;t be required. I think it&#39;s probably a bug. Fortunately this was the only time it happened. I would just convert to Kotlin if you can."}, {"owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 1, "creation_date": 1528963841, "post_id": 48777585, "comment_id": 88707984, "body": "Ok, I&#39;ve created a bug in the big tracker for Android Studio now with a small sample project that has the exact same issue. I could always convert to Kotlin, but it&#39;s not a good solution right now, because every time I convert one file I end up having to convert 10 more because the next file uses a file that are in a flavour, so a small story ends up taking a day for something that should&#39;ve taken 10 minutes. I don&#39;t have that extra time right now with a deadline coming up, so I&#39;ll have to stick to Java still for some features."}, {"owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "edited": false, "score": 0, "creation_date": 1529075090, "post_id": 48777585, "comment_id": 88758495, "body": "Ok, so I&#39;ve reported the issue in the bug tracker and got a response from a Google engineer - I&#39;ll post it as an answer to your question as our comments will just clutter the answer :-)"}], "answers": [{"comments": [{"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "edited": false, "score": 0, "creation_date": 1529203156, "post_id": 50878237, "comment_id": 88786864, "body": "Since this was a while ago and I converted to Kotlin, I can&#39;t actually verify that it was the same issue for my project and that it would fix it. However since as far as I know your problem was identical to mine and this resolved your issue I&#39;ll mark it as accepted as if the question was yours. Thanks for chasing this up and providing an answer!"}, {"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "edited": false, "score": 0, "creation_date": 1529203369, "post_id": 50878237, "comment_id": 88786893, "body": "It&#39;s actually an interesting answer because as far I know, com.example.mypackage is exactly the same thing. If you click &quot;Hide/Compact empty middle packages&quot; it converts back and forth. So I don&#39;t see it makes any difference or how you would know. But it fixed your issue so I&#39;ll take your word for it and I&#39;ll know what to try if I run into it again."}, {"owner": {"reputation": 392, "user_id": 389869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YOvrQ.jpg?s=128&g=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/389869/carlos-ferreira"}, "edited": false, "score": 1, "creation_date": 1542466894, "post_id": 50878237, "comment_id": 93582433, "body": "You are a life saver! I had one dir that had the namespace instead of having it represented as a tree of directories. Creating the tree of directories to match the namespace fixed !"}, {"owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "reply_to_user": {"reputation": 392, "user_id": 389869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/YOvrQ.jpg?s=128&g=1", "display_name": "Carlos Ferreira", "link": "https://stackoverflow.com/users/389869/carlos-ferreira"}, "edited": false, "score": 0, "creation_date": 1542579784, "post_id": 50878237, "comment_id": 93608669, "body": "@CarlosFerreira you most welcome - I&#39;m glad to hear that there are other people out there, that had the same issue ;-)"}], "tags": [], "owner": {"reputation": 6925, "user_id": 882251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcbed75edf82be759579f3fed59ab55?s=128&d=identicon&r=PG&f=1", "display_name": "Darwind", "link": "https://stackoverflow.com/users/882251/darwind"}, "is_accepted": true, "score": 11, "last_activity_date": 1529075109, "creation_date": 1529075109, "answer_id": 50878237, "question_id": 48777585, "link": "https://stackoverflow.com/questions/48777585/unresolved-reference-for-java-file-in-a-different-flavor-when-referencing-from-k/50878237#50878237", "title": "Unresolved reference for Java file in a different flavor when referencing from kotlin", "body": "<p>So I had the same issue and I couldn't just change everything on the fly to Kotlin as our app is a production app and we couldn't afford the time to change to Kotlin right away - the legacy code should stay Java for now at least.</p>\n\n<p>I reported a bug to Google regarding this: <a href=\"https://issuetracker.google.com/issues/110100405\" rel=\"noreferrer\">https://issuetracker.google.com/issues/110100405</a></p>\n\n<p>And lo and behold, a Google engineer actually answered my bug report quite fast :-)</p>\n\n<p>If you don't want to read the conversation we had, I'll make it short:</p>\n\n<p><strong>TL;DR version:</strong></p>\n\n<p>The reason this doesn't work with Kotlin is because your packages are wrongly set up.\nI will bet you, that in some of your flavors you've done the same mistake as me and created <code>directories</code> like <code>com.example.mypackage</code> instead of creating the parent directory called <code>com</code> and then a sub-directory with the name <code>example</code> and then a sub-sub-directory called <code>mypackage</code>.</p>\n\n<p>So if your folders look <code>com.example.mypackage</code> change them to <code>com</code> with sub-directories and all should be fine.</p>\n\n<p>Another solution, which is probably the easiest is to create packages with the name <code>com.example.mypackage</code> in the different flavors, but this can only be done, when you've selected the flavor you want to create a package for.</p>\n\n<p>As to why, this doesn't create issues with Java, I have no idea and the Google guy didn't either, but it's probably an IntelliJ issue, which I'll report to JetBrains unless they're already aware of it.</p>\n\n<p>It's also a big issue that the Kotlin compiler just spits out a vague error saying <code>Unresolved reference</code>, but that's a talk for another day and another bug report or enhancement.</p>\n"}], "owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1591, "favorite_count": 4, "accepted_answer_id": 50878237, "answer_count": 1, "score": 6, "last_activity_date": 1529075109, "creation_date": 1518566093, "last_edit_date": 1518569404, "question_id": 48777585, "link": "https://stackoverflow.com/questions/48777585/unresolved-reference-for-java-file-in-a-different-flavor-when-referencing-from-k", "title": "Unresolved reference for Java file in a different flavor when referencing from kotlin", "body": "<h2>Problem:</h2>\n\n<p>This question has likely been answered implicitly from all the other similar questions but I can't seem to get it to work.</p>\n\n<ul>\n<li><p>If I reference a particular java file in another flavor (different source set) from a java file in the main source set it works.</p></li>\n<li><p>If I try to reference that same file from a Kotlin file in the main source set it complains that it can't see it (\"Unresolved reference\").</p></li>\n<li><p>If I move the same file to the main source set it works (so it's not the file itself).</p></li>\n<li><p>If I convert the Java file to Kotlin it works (and this is my current solution) but I'd like to know why it doesn't work since it's not always so easy to convert and it should work without converting.</p></li>\n</ul>\n\n<p>Based on my Googling it seems it's related to the source sets in Gradle but I don't want a separate Kotlin folder alongside the Java folder so I'm not sure I need this. Also, another project where I have both Java and Kotlin doesn't have this configured and works fine.</p>\n\n<p>I'm using productFlavors with flavorDimensions and have a source set called \"dimension1Dimension2\" (that's where the Java file I'm trying to reference is located).</p>\n\n<p>Looking at my setup below, what am I possibly doing wrong or missing? This project is mostly Java so I'm just starting to add Kotlin to it. I can't see any differences with my other project that is mostly Kotlin and some Java.</p>\n\n<p><strong>One other thing that is weird is that it does work for one of the three flavors. There are two types of dimension1 and three types of dimension2. Just one of the dimension2 types works.</strong></p>\n\n<p>Maybe code is clearer:</p>\n\n<pre><code>flavorDimensions \"product\", \"mode\"    \nproductFlavors {\n        mock { // only this one works (e.g. &lt;company_name&gt;Mock is the source set)\n            applicationIdSuffix = \".mock\"\n            dimension \"mode\"\n        }\n        dev {\n            applicationIdSuffix = \".dev\"\n            dimension \"mode\"\n        }\n        prod {\n            dimension \"mode\"\n        }\n        demo {\n            applicationIdSuffix = \".demo\"\n            dimension \"product\"\n            buildConfigField \"String\", \"UPDATE_DIRECTORY\", \"\\\"/release/\\\"\"\n            buildConfigField \"boolean\", \"SHOW_STREAM_STATUS\", \"false\"\n        }\n        &lt;company_name&gt; {\n            applicationIdSuffix = \".&lt;company_name&gt;\"\n            dimension \"product\"\n        }\n    }\n</code></pre>\n\n<hr>\n\n<h2>Setup:</h2>\n\n<ul>\n<li>Kotlin version: 1.2.21</li>\n<li>Gradle version: 3.0.1</li>\n<li>Plugins:\n\n<ul>\n<li>apply plugin: 'kotlin-android'</li>\n<li>apply plugin: 'kotlin-kapt'</li>\n<li>apply plugin: 'kotlin-android-extensions'</li>\n</ul></li>\n<li>Project level dependencies:\n\n<ul>\n<li>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"</li>\n</ul></li>\n<li>App level dependencies:\n\n<ul>\n<li>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"</li>\n</ul></li>\n<li>Using Java 8 in project settings</li>\n</ul>\n"}, {"tags": ["android", "mvvm", "dependency-injection", "kotlin", "viewmodel"], "answers": [{"comments": [{"owner": {"reputation": 767, "user_id": 7968986, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uejt9-7zeTI/AAAAAAAAAAI/AAAAAAAAB0A/o4pQ5v44KeE/photo.jpg?sz=128", "display_name": "Merthan E", "link": "https://stackoverflow.com/users/7968986/merthan-e"}, "edited": false, "score": 0, "creation_date": 1580863212, "post_id": 48832074, "comment_id": 106235550, "body": "This doesn&#39;t work, it is still asking for a reified type parameter"}, {"owner": {"reputation": 639, "user_id": 3900842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a437c5e293379a503e7fe7b8be3e61?s=128&d=identicon&r=PG&f=1", "display_name": "Shalan93", "link": "https://stackoverflow.com/users/3900842/shalan93"}, "edited": false, "score": 0, "creation_date": 1590956023, "post_id": 48832074, "comment_id": 109870534, "body": "This won&#39;t work as it&#39;s reified type parameter and you have to use class itself"}], "tags": [], "owner": {"reputation": 15, "user_id": 4615820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c74710fea4110c622f35cfed895de686?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud Giuliani", "link": "https://stackoverflow.com/users/4615820/arnaud-giuliani"}, "is_accepted": false, "score": -3, "last_activity_date": 1544186925, "last_edit_date": 1544186925, "creation_date": 1518802499, "answer_id": 48832074, "question_id": 48777536, "link": "https://stackoverflow.com/questions/48777536/how-to-initialize-inject-generic-viewmodel-in-baseactivity-by-koin-injection-on/48832074#48832074", "title": "How to initialize/inject generic ViewModel in BaseActivity by Koin injection on Android/Kotlin App", "body": "<p>you can use a delegate version declaration for your ViewModel and avoid using directly a lazy expression. Try with this:</p>\n\n<pre><code>abstract class BaseActivity&lt;T : ViewModel&gt; : AppCompatActivity() {\n\n    val model by viewModel&lt;T&gt;()\n\n}\n</code></pre>\n\n<p>This will give you a lazy of </p>\n\n<pre><code>getViewModel&lt;T&gt;()\n</code></pre>\n\n<p>Throw an eye on the quick ref: <a href=\"https://insert-koin.io/docs/1.0/getting-started/android-viewmodel/\" rel=\"nofollow noreferrer\">https://insert-koin.io/docs/1.0/getting-started/android-viewmodel/</a></p>\n\n<p>Hope it will help.</p>\n"}, {"comments": [{"owner": {"reputation": 874, "user_id": 3440562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Elxql.jpg?s=128&g=1", "display_name": "Rohit P Soman", "link": "https://stackoverflow.com/users/3440562/rohit-p-soman"}, "edited": false, "score": 1, "creation_date": 1549289615, "post_id": 49075309, "comment_id": 95838732, "body": "Replace <code>val viewModel: ViewModelType by viewModel(clazz)</code> with <code>val viewModel: ViewModelType by viewModelByClass(clazz)</code>"}, {"owner": {"reputation": 767, "user_id": 7968986, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Uejt9-7zeTI/AAAAAAAAAAI/AAAAAAAAB0A/o4pQ5v44KeE/photo.jpg?sz=128", "display_name": "Merthan E", "link": "https://stackoverflow.com/users/7968986/merthan-e"}, "edited": false, "score": 1, "creation_date": 1580863038, "post_id": 49075309, "comment_id": 106235510, "body": "Is there no way to prevent having to pass Class and Generic? When extending you have to do this:  class Other:BaseActivity&lt;VMClass&gt;(VMClass::class)"}], "tags": [], "owner": {"reputation": 348, "user_id": 2144828, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vdGt8.jpg?s=128&g=1", "display_name": "silvio.pereira", "link": "https://stackoverflow.com/users/2144828/silvio-pereira"}, "is_accepted": true, "score": 5, "last_activity_date": 1520015640, "creation_date": 1520015640, "answer_id": 49075309, "question_id": 48777536, "link": "https://stackoverflow.com/questions/48777536/how-to-initialize-inject-generic-viewmodel-in-baseactivity-by-koin-injection-on/49075309#49075309", "title": "How to initialize/inject generic ViewModel in BaseActivity by Koin injection on Android/Kotlin App", "body": "<p>The solution was provided by the koin team in version <code>0.9.0-alpha-11</code> and the final code looks like this:</p>\n\n<pre><code>open class BaseActivity&lt;out ViewModelType : BaseViewModel&gt;(clazz: KClass&lt;ViewModelType&gt;) :\n    AppCompatActivity() {\n\n    val viewModel: ViewModelType by viewModel(clazz)\n\n    fun snackbar(message: String?) {\n        message?.let { longSnackbar(find(android.R.id.content), it) }\n    }\n\n    fun toast(message: String?) {\n        message?.let { longToast(message) }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 2144828, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/vdGt8.jpg?s=128&g=1", "display_name": "silvio.pereira", "link": "https://stackoverflow.com/users/2144828/silvio-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3841, "favorite_count": 1, "accepted_answer_id": 49075309, "answer_count": 2, "score": 3, "last_activity_date": 1544186925, "creation_date": 1518565747, "question_id": 48777536, "link": "https://stackoverflow.com/questions/48777536/how-to-initialize-inject-generic-viewmodel-in-baseactivity-by-koin-injection-on", "title": "How to initialize/inject generic ViewModel in BaseActivity by Koin injection on Android/Kotlin App", "body": "<p>I'm building the architecture of a new Android application using Kotlin and Android Architecture Components (ViewModel, LiveData) and I'm also using Koin as my dependency injection provider.</p>\n\n<p>The problem is that I'm not been able to initialize the ViewModel in a generic way inside my BaseActivity via koin injection. The current code looks like this:</p>\n\n<pre><code>abstract class BaseActivity&lt;ViewModelType : ViewModel&gt; : AppCompatActivity() {\n\n    // This does not compile because of the generic type\n    private val viewModel by lazy {\n        // Koin implementation to inject ViewModel\n        getViewModel&lt;ViewModelType&gt;()\n    }\n\n    @CallSuper\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        Fabric.with(this, Crashlytics())\n    }\n\n    /**\n     * Method needed for Calligraphy library configuration\n     */\n    @CallSuper\n    override fun attachBaseContext(newBase: Context) {\n        super.attachBaseContext(CalligraphyContextWrapper.wrap(newBase))\n    }\n}\n</code></pre>\n\n<p>I'd like to know if is there a way to do this in Kotlin because I'm pretty sure I would be able to do in Java easily.\nThanks.</p>\n"}, {"tags": ["kotlin", "jsr223"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1518571815, "post_id": 48777423, "comment_id": 84558302, "body": "From what I saw, there&#39;s some expensive initialization during the first evaluation of an expression, and the consequent calls happen much faster."}, {"owner": {"reputation": 1832, "user_id": 1370536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/440bcf7001875bacfa774245efbe7d56?s=128&d=identicon&r=PG", "display_name": "silentorb", "link": "https://stackoverflow.com/users/1370536/silentorb"}, "edited": false, "score": 0, "creation_date": 1519842231, "post_id": 48777423, "comment_id": 85077235, "body": "I&#39;m running into the same slowness.  The first eval does seem like it is longer than later evals, but the later evals are still staggeringly slow, even when the expression is just &quot;1 + 1&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 76, "user_id": 11086732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTvZ4.jpg?s=128&g=1", "display_name": "Imran", "link": "https://stackoverflow.com/users/11086732/imran"}, "edited": false, "score": 0, "creation_date": 1578315809, "post_id": 52400448, "comment_id": 105388305, "body": "Is there a sciptEngine for Kotlin in groovy? May you add a ressource, please. I could not find something."}], "tags": [], "owner": {"reputation": 51, "user_id": 1041349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00fd5c5ba5d57a5f16c03aa6a2bb0a3f?s=128&d=identicon&r=PG", "display_name": "kentchenj", "link": "https://stackoverflow.com/users/1041349/kentchenj"}, "is_accepted": false, "score": 4, "last_activity_date": 1537342179, "creation_date": 1537342179, "answer_id": 52400448, "question_id": 48777423, "link": "https://stackoverflow.com/questions/48777423/running-kotlin-through-jsr-223-is-incredibly-slow/52400448#52400448", "title": "Running kotlin through JSR-223 is incredibly slow", "body": "<p>I compared kotlin and groovy, both of which are precompiled: engine.compile(script)</p>\n\n<p>Executing kotlin script via jsr223 is one hundred times slower than groovy script.</p>\n"}, {"tags": [], "owner": {"reputation": 592, "user_id": 2336165, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/049d406ef5ee5efae29c10cbd1ca7cd0?s=128&d=identicon&r=PG", "display_name": "lfmunoz", "link": "https://stackoverflow.com/users/2336165/lfmunoz"}, "is_accepted": false, "score": 1, "last_activity_date": 1585777824, "creation_date": 1585777824, "answer_id": 60980910, "question_id": 48777423, "link": "https://stackoverflow.com/questions/48777423/running-kotlin-through-jsr-223-is-incredibly-slow/60980910#60980910", "title": "Running kotlin through JSR-223 is incredibly slow", "body": "<p>The engine is lazy loaded so you are basically measuring the engine load time. Try doing the following before running your test. </p>\n\n<pre><code>val engine = ScriptEngineManager().getEngineByExtension(\"kts\")\nassert(engine.eval(\"true\") as Boolean)\n</code></pre>\n\n<p>Also you should loop around a few times to get a better measure. Also you can pre-compile to make it faster. Also for real code you can return a lambda so you don't have to evaluate each time. </p>\n"}], "owner": {"reputation": 201, "user_id": 4670266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15be95246f8ba0715465ab98e2526d8c?s=128&d=identicon&r=PG&f=1", "display_name": "L Morris", "link": "https://stackoverflow.com/users/4670266/l-morris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1585777824, "creation_date": 1518564980, "question_id": 48777423, "link": "https://stackoverflow.com/questions/48777423/running-kotlin-through-jsr-223-is-incredibly-slow", "title": "Running kotlin through JSR-223 is incredibly slow", "body": "<p>I'm running the following code and it's taking between 3 and 6 seconds to execute on both OSX (Sierra) and Windows 10.  I've never seen such slowness using JSR-223, especially considering the simplicity of what's being evaluated.  Digging through the call tree in YourKit it seems to be spending most of this time in KotlinJsr223JvmLocalScriptEngine.getReplEvaluator, but I can't see past that.</p>\n\n<p>This is using jdk1.8.0_71 and kotlin 1.2.10.</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n\n<pre><code>import javax.script.ScriptEngineManager\n\nfun main(args: Array&lt;String&gt;) {\n    System.setProperty(\"idea.io.use.fallback\", \"true\") // need this on windows, not required on osx it seems!\n    val engine = ScriptEngineManager().getEngineByExtension(\"kts\")!!\n\n    val startTime = System.currentTimeMillis()\n\n    engine.eval(\"val x = 5\")\n\n    println(System.currentTimeMillis() - startTime)\n}\n</code></pre>\n\n<p>My build script is as follows:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.10'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\ngroup 'xxx'\nversion '1.0-SNAPSHOT'\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-script-util:$kotlin_version\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-arrayadapter", "getview"], "comments": [{"owner": {"reputation": 431, "user_id": 6386583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z98ip.png?s=128&g=1", "display_name": "G. Kalender", "link": "https://stackoverflow.com/users/6386583/g-kalender"}, "edited": false, "score": 0, "creation_date": 1518559351, "post_id": 48776372, "comment_id": 84554603, "body": "Never screenshot the log, post it as code, please."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1518559644, "post_id": 48776372, "comment_id": 84554689, "body": "Which one the affected line is would be good to know."}, {"owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1518559792, "post_id": 48776372, "comment_id": 84554748, "body": "@leoderprofi this &#246;ne in ArrayAdapter: val tvCopiedText:TextView = view!!.findViewById&lt;TextView&gt;(R.id.tv_copiedText)"}, {"owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "reply_to_user": {"reputation": 431, "user_id": 6386583, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z98ip.png?s=128&g=1", "display_name": "G. Kalender", "link": "https://stackoverflow.com/users/6386583/g-kalender"}, "edited": false, "score": 0, "creation_date": 1518559843, "post_id": 48776372, "comment_id": 84554767, "body": "@G.K. &#214;k, I will."}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518562009, "creation_date": 1518562009, "answer_id": 48776955, "question_id": 48776372, "link": "https://stackoverflow.com/questions/48776372/arrayadapter-getview-causes-an-error/48776955#48776955", "title": "ArrayAdapter- Getview() causes an error", "body": "<p>You make use of the double exclamation mark operator and get a <code>NullpointerException</code>, it\u2019s the price you have to pay ;-)\nIt is used for converting nullable types (T?) to non-nullable types (T) in an unsafe way.</p>\n\n<pre><code>view!!.findViewById(R.id.tv_copiedText)\n</code></pre>\n\n<p>Your <code>view</code> is null and thus the exception is thrown. You should consider applying reasonable nullability handling instead. There\u2019s almost always a <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">better solution</a> than <code>!!</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 1235, "user_id": 9119277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d2gW1.jpg?s=128&g=1", "display_name": "Napster", "link": "https://stackoverflow.com/users/9119277/napster"}, "is_accepted": true, "score": 1, "last_activity_date": 1518563260, "creation_date": 1518563260, "answer_id": 48777157, "question_id": 48776372, "link": "https://stackoverflow.com/questions/48776372/arrayadapter-getview-causes-an-error/48777157#48777157", "title": "ArrayAdapter- Getview() causes an error", "body": "<p>The reason why you are getting a null pointer is because you are not assigning the <code>view</code> variable to anything in case <code>convertView</code> is not null. Change this code </p>\n\n<pre><code>var view: View? = null\n    val copiedText:CopiedText = getItem(position)\n    if (convertView == null){\n        view = LayoutInflater.from(context).inflate(R.layout.item_layout, parent, false)\n\n    }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var view: View? = convertView\n    val copiedText:CopiedText = getItem(position)\n    if (view == null){\n        view = LayoutInflater.from(context).inflate(R.layout.item_layout, parent, false)\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 48777157, "answer_count": 2, "score": 0, "last_activity_date": 1518563260, "creation_date": 1518559183, "last_edit_date": 1518560125, "question_id": 48776372, "link": "https://stackoverflow.com/questions/48776372/arrayadapter-getview-causes-an-error", "title": "ArrayAdapter- Getview() causes an error", "body": "<p>I have a little problem I couldn't solve. I've searched and I tried a lot of things, Unfortunately no results. \nGetview is causing an error</p>\n\n<p>The line causnig an error is this one below in ArrayAdapter:</p>\n\n<p><em>val tvCopiedText:TextView = view!!.findViewById(R.id.tv_copiedText)</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/WQlZ0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WQlZ0.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the code:</p>\n\n<p><strong>ArrayAdapter</strong></p>\n\n<pre><code>class MyArrayAdapter: ArrayAdapter&lt;CopiedText&gt; {\nconstructor(context: Context, resource:Int, copiedTexts: List&lt;CopiedText&gt;) : super(context, resource, copiedTexts) {\n}\n\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n    var view: View? = null\n    val copiedText:CopiedText = getItem(position)\n    if (convertView == null){\n        view = LayoutInflater.from(context).inflate(R.layout.item_layout, parent, false)\n\n    }\n\n    val tvCopiedText:TextView = view!!.findViewById&lt;TextView&gt;(R.id.tv_copiedText)\n    val tvTime:TextView = view.findViewById&lt;TextView&gt;(R.id.tv_time)\n    //val tvCopiedText = retView!!.findViewById&lt;TextView&gt;(R.id.tv_copiedText)\n    //val tvCopiedText = retView!!.findViewById&lt;TextView&gt;(R.id.tv_copiedText)\n\n    tvCopiedText.text = copiedText.ctText\n    tvTime.text = copiedText.ctTime.toString()\n\n    return  view\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Adapter in MainActivity:</strong> </p>\n\n<pre><code>ctAdapter = MyArrayAdapter(this, R.layout.item_layout, listCopiedText)\n    myListView.adapter = ctAdapter\n</code></pre>\n\n<p><strong>item_layout:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"horizontal\"\r\n    android:paddingBottom=\"8dp\"\r\n    android:paddingLeft=\"16dp\"\r\n    android:paddingRight=\"16dp\"\r\n    android:paddingTop=\"8dp\"\r\n    &gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tv_copiedText\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_weight=\"1\"\r\n        android:textSize=\"14sp\"\r\n        tools:text=\"Here will be the copied Text\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tv_time\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:textSize=\"14sp\"\r\n        tools:text=\"Time\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["email", "android-studio", "onclick", "kotlin"], "owner": {"reputation": 11, "user_id": 9335900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab2906ec256751c787a8f2de7b212054?s=128&d=identicon&r=PG&f=1", "display_name": "Lynn Haoran L", "link": "https://stackoverflow.com/users/9335900/lynn-haoran-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518558738, "creation_date": 1518558738, "question_id": 48776254, "link": "https://stackoverflow.com/questions/48776254/how-to-send-a-password-reset-email-on-button-click-without-using-firebase-in-k", "title": "How to send a &quot;password reset&quot; email on button click without using firebase in kotlin?", "body": "<p>I have an activity called \"password reset activity\", and a button called \"send\" and an edittext to ask for user's input(their email address) so i can automatically send them an email with a link for them to reset/recover their password when they click the button.  All the solutions i found are using firebase, i was wondering can i do it without using firebase? or can i just use this one feature of firebase without setting up all the other features (eg. user login information ..) and the language im using is kotlin\nthank you!</p>\n"}, {"tags": ["spring", "kotlin", "aspectj"], "comments": [{"owner": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "edited": false, "score": 0, "creation_date": 1518569766, "post_id": 48776198, "comment_id": 84557802, "body": "Does the aspect work without the parameter?"}, {"owner": {"reputation": 1927, "user_id": 4060708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5feea78eae6eac8efb6d9a3bba841ce1?s=128&d=identicon&r=PG&f=1", "display_name": "amdg", "link": "https://stackoverflow.com/users/4060708/amdg"}, "edited": false, "score": 0, "creation_date": 1518590475, "post_id": 48776198, "comment_id": 84563595, "body": "I think, it is looking for a default constructor of <code>ExceptionAspect</code>"}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "reply_to_user": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "edited": false, "score": 0, "creation_date": 1518591647, "post_id": 48776198, "comment_id": 84564066, "body": "@kriegaex yes. when I replace the mail sending with a <code>println</code> then it works fine(if that&#39;s what you meant, I might have misunderstood)"}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "reply_to_user": {"reputation": 1927, "user_id": 4060708, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5feea78eae6eac8efb6d9a3bba841ce1?s=128&d=identicon&r=PG&f=1", "display_name": "amdg", "link": "https://stackoverflow.com/users/4060708/amdg"}, "edited": false, "score": 0, "creation_date": 1518592769, "post_id": 48776198, "comment_id": 84564572, "body": "@amdg <code>if all of the parameters of the primary constructor have default values, the compiler will generate an additional parameterless constructor which will use the default values.</code>"}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "edited": false, "score": 0, "creation_date": 1518594753, "post_id": 48776198, "comment_id": 84565515, "body": "Same problem persists when I port it to Java."}, {"owner": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "edited": false, "score": 0, "creation_date": 1518612666, "post_id": 48776198, "comment_id": 84576903, "body": "(1) No, that is not what I meant. I was talking about the primary constructor. As AspectJ or Spring AOP - depending on which one you use - usually instantiate aspects by themselves, you need a default constructor without parameters. I just wanted to know if the aspect as such works. (2) Your primary constructor parameter does not have a default value, so there will be no default parameter-less constructor. (3) Do you use full AspectJ with LTW or proxy-based Spring AOP?"}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "reply_to_user": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "edited": false, "score": 0, "creation_date": 1518613431, "post_id": 48776198, "comment_id": 84577398, "body": "@kriegaex i use AspectJ with LTW, although I had to make a configuration (in Spring) class, this one exactly: <a href=\"https://hastebin.com/dubotipero.scala\" rel=\"nofollow noreferrer\">hastebin.com/dubotipero.scala</a> otherwise the aspect wouldn&#39;t work."}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "edited": false, "score": 0, "creation_date": 1518613800, "post_id": 48776198, "comment_id": 84577618, "body": "I defined a constructor without parameters and the problem still persists."}, {"owner": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "edited": false, "score": 1, "creation_date": 1518615023, "post_id": 48776198, "comment_id": 84578406, "body": "I am not a Spring expert, only an AspectJ one. But somehow this looks different from what the Spring manual suggests. Maybe it makes sense to share an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> on GitHub for everyone to be able to see and reproduce your problem."}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "edited": false, "score": 0, "creation_date": 1518621210, "post_id": 48776198, "comment_id": 84582792, "body": "i added the example to the question, please take a look if you want (i removed the InstrumentationLoadTimeWeaver since I noticed the problem still persists without it)"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "is_accepted": false, "score": 0, "last_activity_date": 1518679228, "creation_date": 1518679228, "answer_id": 48801820, "question_id": 48776198, "link": "https://stackoverflow.com/questions/48776198/aspectj-and-kotlin-injecting-a-spring-service/48801820#48801820", "title": "AspectJ and Kotlin - injecting a Spring service", "body": "<p>I had to declare an aspect Bean in my configuration class and use aspectOf(), also add @Inject(or @Autowired) on the service in the aspect. And that's it.</p>\n\n<pre><code>@EnableLoadTimeWeaving(aspectjWeaving = EnableLoadTimeWeaving.AspectJWeaving.ENABLED)\n@Configuration\nopen class AspectConfiguration : LoadTimeWeavingConfigurer\n{\n   override fun getLoadTimeWeaver(): LoadTimeWeaver = InstrumentationLoadTimeWeaver()\n\n   @Bean\n   open fun aspect(): ExceptionAspect = Aspects.aspectOf(ExceptionAspect::class.java)\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518679228, "creation_date": 1518558533, "last_edit_date": 1518621087, "question_id": 48776198, "link": "https://stackoverflow.com/questions/48776198/aspectj-and-kotlin-injecting-a-spring-service", "title": "AspectJ and Kotlin - injecting a Spring service", "body": "<pre><code>@Aspect\n@Component\nclass ExceptionAspect(private val mailSenderServiceImpl: MailSenderServiceImpl)\n{\n    @AfterThrowing(pointcut = \"execution(* myproject.mail..*(..))\", throwing = \"throwable\")\n    fun sendError(throwable: Throwable)\n    {\n    mailSenderServiceImpl.send(recipient = \"email@gmail.com\", subject = \"Exception\", content = \"We have got a problem here!\")\n    }\n}\n</code></pre>\n\n<p>This part of code gives me this stacktrace:</p>\n\n<pre><code>Caused by: org.aspectj.lang.NoAspectBoundException: Exception while initializing myproject.mail.aspect.ExceptionAspect: java.lang.NoSuchMethodError: myproject.mail.aspect.ExceptionAspect: method &lt;init&gt;()V not found\nat myproject.mail.aspect.ExceptionAspect.aspectOf(ExceptionAspect.kt:1)\nat myproject.mail.handler.MessageHandler.handleMessage(MessageHandler.kt:23)\nat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:116)\nat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132)\nat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105)\nat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73)\nat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:438)\n... 40 more\nCaused by: java.lang.NoSuchMethodError: myproject.mail.aspect.ExceptionAspect: method &lt;init&gt;()V not found\nat myproject.mail.aspect.ExceptionAspect.ajc$postClinit(ExceptionAspect.kt:1)\nat myproject.mail.aspect.ExceptionAspect.&lt;clinit&gt;(ExceptionAspect.kt:1)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat kotlin.reflect.jvm.internal.FunctionCaller$Constructor.call(FunctionCaller.kt:66)\nat kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:107)\nat kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod(KCallableImpl.kt:149)\nat kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:111)\nat org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:738)\nat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:118)\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:271)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1269)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1126)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:502)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:751)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:387)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\nat myproject.mail.MailBotKt.main(MailBot.kt:15)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n\n<p>I tried injecting it to the field by using lateinit var or by setting it to null by default, but I had no success(NPE, in case of lateinit - tells me that the field has not been initialized..). What can be done about it?</p>\n\n<p>Thanks!</p>\n\n<p>I made a minimal example that reproduces the problem:\n<a href=\"https://github.com/ashofthephoenix/spring-boot-ltw\" rel=\"nofollow noreferrer\">https://github.com/ashofthephoenix/spring-boot-ltw</a></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1518557363, "post_id": 48775871, "comment_id": 84553600, "body": "Exactly what is expected."}, {"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 1, "creation_date": 1578353222, "post_id": 48775871, "comment_id": 105403976, "body": "Note: starting from Kotlin 1.4, a <code>java.lang.NullPointerException</code> will be thrown instead of <code>KotlinNullPointerException</code> (<a href=\"https://blog.jetbrains.com/kotlin/2019/08/kotlin-1-3-50-released/\" rel=\"nofollow noreferrer\">source</a>). In Kotlin/JVM, the former exists <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-null-pointer-exception/index.html\" rel=\"nofollow noreferrer\">as a typealias <code>kotlin.NullPointerException</code></a>, so you don&#39;t need to explicitly import/qualify the <code>java.lang</code> package."}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 15, "last_activity_date": 1596913149, "last_edit_date": 1596913149, "creation_date": 1518557009, "answer_id": 48775871, "question_id": 48775773, "link": "https://stackoverflow.com/questions/48775773/is-double-exclamation-same-as-as-in-kotlin/48775871#48775871", "title": "Is &quot;double exclamation&quot; same as &quot;as&quot; in Kotlin?", "body": "<p>They are basically the same thing.</p>\n<p>In Kotlin 1.3 (or older) first one will throw  <code>KotlinNullPointerExcption</code> for <code>null</code>, and second one will  throw <code>TypeCastException</code>.</p>\n<p>Kotlin 1.4 stops using its own exceptions and both expressions fail with regular NPE but <code>as</code> version has a detailed message:\n<code>Exception in thread &quot;main&quot; java.lang.NullPointerException: null cannot be cast to non-null type kotlin.String</code></p>\n"}, {"tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": false, "score": 1, "last_activity_date": 1518557043, "creation_date": 1518557043, "answer_id": 48775882, "question_id": 48775773, "link": "https://stackoverflow.com/questions/48775773/is-double-exclamation-same-as-as-in-kotlin/48775882#48775882", "title": "Is &quot;double exclamation&quot; same as &quot;as&quot; in Kotlin?", "body": "<p>They are the same in the sense that they will throw an exception error if used incorrectly. According to the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">docs</a> when using the <code>as</code> operator you're performing an unsafe operation and if they are not of the same type it will throw an error, whereas the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">force unwrap</a> <code>!!</code> will throw an error only if the variable being unwraped is null.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1518557499, "creation_date": 1518557499, "answer_id": 48775985, "question_id": 48775773, "link": "https://stackoverflow.com/questions/48775773/is-double-exclamation-same-as-as-in-kotlin/48775985#48775985", "title": "Is &quot;double exclamation&quot; same as &quot;as&quot; in Kotlin?", "body": "<p>It's different in the resulting exception:</p>\n\n<p>The cast of a nullable value to its non-null type causes a <code>TypeCastException</code> if <code>null</code>:</p>\n\n<pre><code>val s: String? = null\nval s2 = s as String //kotlin.TypeCastException: null cannot be cast to non-null type kotlin.String\n</code></pre>\n\n<p>The double exclamation mark, double bang, means that you don't care of a type's nullability information and just want to use it as if it can't be <code>null</code>. In case it is, a <code>NullpointerException</code> is thrown:</p>\n\n<pre><code>val s: String? = null\nval s2: String = s!! //Exception in thread \"main\" kotlin.KotlinNullPointerException\n</code></pre>\n\n<p>You should rarely use either of the two options and handle nullability cautiously instead:</p>\n\n<pre><code>s?.let {\n    //it's safe here!\n} ?: //optionally handle null case\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">Smart casting</a> will help you, too.</p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1518640106, "post_id": 48776118, "comment_id": 84593684, "body": "The behavior is likely to change in the sense that if <code>String?</code> is changed to something else (and we don&#39;t know how likely it is), <code>as String</code> means two places have to be changed, and <code>!!</code> only one."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1518701169, "post_id": 48776118, "comment_id": 84619690, "body": "@AlexeyRomanov do you mean if the program changes or that Kotlin will change?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1518703302, "post_id": 48776118, "comment_id": 84621269, "body": "If the program changes."}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 3, "last_activity_date": 1518558113, "creation_date": 1518558113, "answer_id": 48776118, "question_id": 48775773, "link": "https://stackoverflow.com/questions/48775773/is-double-exclamation-same-as-as-in-kotlin/48776118#48776118", "title": "Is &quot;double exclamation&quot; same as &quot;as&quot; in Kotlin?", "body": "<p>The difference is the exception (either <code>KotlinNullPointerExcption</code> or <code>TypeCastException</code>) you get when <code>text == null</code> (as @Miha_x64 has stated) in every other regard they generate the same bytecode. Also the cast and the !! are only valid in the current statement, so the behaviour is unlikely to change. I would go for <code>!!</code> every time, because the exception reflects the error better.</p>\n\n<pre><code>fun foo() {\n    var s = \"\"\n    val t: String? = \"\"\n\n    if (t as String != \"\") s = \"1\"\n    if (t!! != \"\") s = \"2\"\n}\n</code></pre>\n\n<p>yields </p>\n\n<pre><code>public final foo()V\nL0\n  LINENUMBER 9 L0\n  LDC \"\"\n  ASTORE 1\nL1\n  LINENUMBER 10 L1\n  LDC \"\"\n  ASTORE 2\nL2\n  LINENUMBER 12 L2\n  ALOAD 2\nL3\n  LDC \"\"\n  INVOKESTATIC kotlin/jvm/internal/Intrinsics.areEqual (Ljava/lang/Object;Ljava/lang/Object;)Z\n  ICONST_1\n  IXOR\n  IFEQ L4\n  LDC \"1\"\n  ASTORE 1\nL4\n  LINENUMBER 13 L4\n  ALOAD 2\nL5\nLDC \"\"\n  INVOKESTATIC kotlin/jvm/internal/Intrinsics.areEqual (Ljava/lang/Object;Ljava/lang/Object;)Z\n  ICONST_1\n  IXOR\n  IFEQ L6\n  LDC \"2\"\n  ASTORE 1\nL6\n  LINENUMBER 14 L6\n  RETURN\nL7\n  LOCALVARIABLE t Ljava/lang/String; L2 L7 2\n  LOCALVARIABLE s Ljava/lang/String; L1 L7 1\n  LOCALVARIABLE this Lde/leo; L0 L7 0\n  MAXSTACK = 2\n  MAXLOCALS = 3\n</code></pre>\n\n<p>The interesting part is <strong>L3</strong> and <strong>L5</strong></p>\n"}], "owner": {"reputation": 990, "user_id": 5111725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZodDn.jpg?s=128&g=1", "display_name": "Wojtek", "link": "https://stackoverflow.com/users/5111725/wojtek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3386, "favorite_count": 3, "accepted_answer_id": 48775871, "answer_count": 4, "score": 17, "last_activity_date": 1596913149, "creation_date": 1518556576, "question_id": 48775773, "link": "https://stackoverflow.com/questions/48775773/is-double-exclamation-same-as-as-in-kotlin", "title": "Is &quot;double exclamation&quot; same as &quot;as&quot; in Kotlin?", "body": "<p>Assume that we have variable like <code>var text: String?</code>.</p>\n\n<p>When I want to cast it to non nullable type I can use:</p>\n\n<ul>\n<li><code>text!!</code></li>\n<li><code>text as String</code></li>\n</ul>\n\n<p>Does they mean the same?</p>\n\n<p>I know that these ways will throw an exception if <code>text</code> is <code>null</code>.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1518555770, "post_id": 48775251, "comment_id": 84552851, "body": "-ty sir  well I want to be able to call &quot;User.firstName&quot; from anywhere in my aplication and get firstName tha has been assign from firestore so I need a object/singelton for that - thank you again for a code above (y)"}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "reply_to_user": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1518555876, "post_id": 48775251, "comment_id": 84552912, "body": "You can store it in shared preferences or create a custom singleton class wrapper around it."}, {"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 0, "creation_date": 1518556241, "post_id": 48775251, "comment_id": 84553086, "body": "could You please clearified  &quot; custom singleton class wrapper around it&quot; - like You said object is like a singeltone in kotlin so that&#39;s what I just did ,I put my User in a singeltone-guessing I am missunderstanding something here...:S"}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "reply_to_user": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 1, "creation_date": 1518556632, "post_id": 48775251, "comment_id": 84553240, "body": "<code>object MySingleton {     lateinit var myUser: User  } &#47;* Somewhere after getting the data from the FireStore  *&#47; MySingleton.myUser=user </code> After this you can access using your singleton class anywhere."}, {"owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "edited": false, "score": 1, "creation_date": 1518556833, "post_id": 48775251, "comment_id": 84553333, "body": "great -  now I uderstand -that was to big help sig -ty (y)"}], "tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1518554803, "last_edit_date": 1518554803, "creation_date": 1518554362, "answer_id": 48775251, "question_id": 48775188, "link": "https://stackoverflow.com/questions/48775188/assign-firestore-json-object-to-a-variable-in-kotlin/48775251#48775251", "title": "Assign Firestore JSON object to a variable in Kotlin", "body": "<p>Don't use <code>object</code>. <code>object</code> are singleton classes in kotlin. Instead use normal classes in kotlin and use composition.</p>\n\n<pre><code>class User{\nval firstName: String = \"\";\nval lastName: String = \"\";\nval employeeId:String=\"\";\nval city:String = \"\";\nval email:String=\"\";\nval salary:Number=0;\nval imgUrl:String=\"\";\nval employmentStatus:String=\"\";\nvar employmentDate: EmploymentDate = EmploymentDate()\n\nclass EmploymentDate{\nval day:Int=0\nval month:Int=0\nval year:Int=0\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 48775251, "answer_count": 1, "score": 0, "last_activity_date": 1518588235, "creation_date": 1518554113, "last_edit_date": 1518588235, "question_id": 48775188, "link": "https://stackoverflow.com/questions/48775188/assign-firestore-json-object-to-a-variable-in-kotlin", "title": "Assign Firestore JSON object to a variable in Kotlin", "body": "<p>In my Firestore I have a \"employee\" node that looks like that :</p>\n\n<p><a href=\"https://i.stack.imgur.com/BghEl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BghEl.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm asigning that node to a \"User\" object in Kotlin:</p>\n\n<pre><code>object User {\n    val firstName: String = \"\";\n    val lastName: String = \"\";\n    val employeeId:String=\"\";\n    val city:String = \"\";\n    val email:String=\"\";\n    val salary:Number=0;\n    val imgUrl:String=\"\";\n    val employmentStatus:String=\"\";\n    val employmentDate: ??????\n}\n</code></pre>\n\n<p>My question is what type should \"employmentDate\" be? In Typescript I'm doing just:</p>\n\n<pre><code>employmentDate:{day:number,month:number,year:number}\n</code></pre>\n\n<p>can I do something similar in Kotlin?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "android-architecture-components", "android-viewmodel"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1518550058, "post_id": 48774196, "comment_id": 84549930, "body": "It feels like it is not using your factory for some reason. Are you sure that&#39;s the code that you are executing?"}, {"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1518550366, "post_id": 48774196, "comment_id": 84550096, "body": "yes it is, but it never reaches the <code>create</code> overridden method in the <code>GameViewModelFactory</code>. Is there any other step for using the factory, apart from the one I&#39;m doing it in the code? Maybe I missed something"}, {"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 0, "creation_date": 1593424996, "post_id": 48774196, "comment_id": 110766760, "body": "@noloman would you like to share your finding?"}, {"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 0, "creation_date": 1593428054, "post_id": 48774196, "comment_id": 110768175, "body": "CommonsWare is right I was getting the similar error and his suggestion works"}], "owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1518, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1534946331, "creation_date": 1518549862, "last_edit_date": 1518593384, "question_id": 48774196, "link": "https://stackoverflow.com/questions/48774196/android-viewmodelprovider-factory-caused-by-java-lang-runtimeexception-cannot", "title": "Android ViewModelProvider.Factory: Caused by: java.lang.RuntimeException: Cannot create an instance of class GameViewModel", "body": "<p>I'm trying to create a ViewModelFactory for creating my ViewModel.</p>\n\n<p>The factory class is:</p>\n\n<pre><code>class GameViewModelFactory(private val application: GameApplication) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T {\n        if (modelClass.isAssignableFrom(GameViewModel::class.java)) {\n            return GameViewModel(application) as T\n        }\n        throw IllegalArgumentException(\"Unknown ViewModel class\")\n    }\n}\n</code></pre>\n\n<p>I also tried to extend from <code>ViewModelProvider.AndroidViewModelFactory(application)</code> but the result is the same.</p>\n\n<p>And the constuctor of the ViewModel class is:</p>\n\n<pre><code>class GameViewModel(private val gameApplication: GameApplication) : AndroidViewModel(gameApplication)\n</code></pre>\n\n<p>The way I'm calling it altogether in my fragment is the following:</p>\n\n<pre><code>val remoteViewModelFactory = GameViewModelFactory(GameApplication())\n        gameViewModel = ViewModelProviders\n                .of(this, remoteViewModelFactory)\n                .get(GameViewModel::class.java)\n</code></pre>\n\n<p>The problem comes that it does not seem to get it, and I think it could be because of the <code>Application</code> object.\nI have already tried to create a singleton in my <code>GameApplication</code> class, but it is still the same:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Cannot create an instance of class trate.data.viewmodel.GameViewModel\n    at android.arch.lifecycle.ViewModelProvider$AndroidViewModelFactory.create(ViewModelProvider.java:199)\n    at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:133)\n    at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:101)\n    at trate.ui.game.GameFragment.onCreate(GameFragment.kt:70)\n</code></pre>\n\n<p>Thanks a lot!</p>\n\n<p>EDIT: If I debug and get into the VieWModelProvider class, I see that it reaches the <code>AndroidViewModelFactory</code>class and gets into the <code>get</code> create method.\nIt then tries to return <code>modelClass.getConstructor(Application.class).newInstance(mApplication)</code> but then it throws the following <code>RuntimeException</code>:</p>\n\n<pre><code>result = {NoSuchMethodException@5072} \"java.lang.NoSuchMethodException: &lt;init&gt; [class android.app.Application]\"\n backtrace = {Object[32]@5085} \n cause = {NoSuchMethodException@5072} \"java.lang.NoSuchMethodException: &lt;init&gt; [class android.app.Application]\"\n detailMessage = \"&lt;init&gt; [class android.app.Application]\"\n stackTrace = {StackTraceElement[0]@5087} \n suppressedExceptions = {Collections$EmptyList@5088}  size = 0\n shadow$_klass_ = {Class@3232} \"class java.lang.NoSuchMethodException\"\n shadow$_monitor_ = -2097726229\n</code></pre>\n"}, {"tags": ["android-studio", "kotlin", "lint"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3697580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a71a999a858fb76da76c52ac3a282a54?s=128&d=identicon&r=PG&f=1", "display_name": "InvisibleGorilla", "link": "https://stackoverflow.com/users/3697580/invisiblegorilla"}, "is_accepted": false, "score": 0, "last_activity_date": 1533403244, "creation_date": 1533403244, "answer_id": 51687962, "question_id": 48773257, "link": "https://stackoverflow.com/questions/48773257/how-to-find-hardcoded-strings-in-kotlin/51687962#51687962", "title": "How to find hardcoded strings in kotlin", "body": "<p>Use Edit/Find/\"Find in Path\" (shortcut is Cmd+Shift+F on Mac).</p>\n\n<p>Then select the check on \"Regex?\" at the top of the \"Find in Path\" window and type <code>\\\"*\\\"</code> in the search input.</p>\n\n<p>Then choose to search in Directory and then select the directory with kotlin files. Search separately in <code>/activities</code> and in <code>/fragments</code> (and any other directory where you might have kotlin code).</p>\n\n<p>(To search for raw strings use <code>\\\"\\\"\\\"*\\\"</code>.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/Tf5sW.png\" rel=\"nofollow noreferrer\">Screenshot of \"Find in Path\" search for strings example</a></p>\n\n<p>I'm not sure if this is a 100% reliable solution but it worked for me. <em>\"Analyse -> Run inspection By Name\" then type \"Hardcoded strings\"</em> does not work for me.</p>\n"}, {"tags": [], "owner": {"reputation": 2055, "user_id": 5242161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/855b81dcb037ddf623d4cdcdf21799bd?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/5242161/abhishek"}, "is_accepted": false, "score": 2, "last_activity_date": 1536232303, "creation_date": 1536232303, "answer_id": 52202788, "question_id": 48773257, "link": "https://stackoverflow.com/questions/48773257/how-to-find-hardcoded-strings-in-kotlin/52202788#52202788", "title": "How to find hardcoded strings in kotlin", "body": "<p>Do these steps it worked for me</p>\n\n<ul>\n<li>Download Android Studio 3.2 (in preview right now)</li>\n<li>Open find in project window (cmd + shift + F for Mac)</li>\n<li>Check Regex checkbox(Top right corner).</li>\n<li>Check file mask(next to Regex) and type <code>*.kt</code> or choose <code>kt</code> from the\ndrop down.</li>\n<li>Type this regex <code>= \\\"\\w+\\\"</code> you can see the results now.</li>\n<li>Search with this regex <code>=\\\"\\w+\\\"</code> in case code is not formatted\nproperly.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2691, "user_id": 202059, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/d7PGT.jpg?s=128&g=1", "display_name": "cmaynard", "link": "https://stackoverflow.com/users/202059/cmaynard"}, "is_accepted": false, "score": 0, "last_activity_date": 1569603522, "creation_date": 1569603522, "answer_id": 58138752, "question_id": 48773257, "link": "https://stackoverflow.com/questions/48773257/how-to-find-hardcoded-strings-in-kotlin/58138752#58138752", "title": "How to find hardcoded strings in kotlin", "body": "<p>I suggest using <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">Detekt</a> for static analysis in Kotlin, specifically the <a href=\"https://github.com/arturbosch/detekt/blob/29caec95eb1a866a5e2a3fa327f07a325d0e6cc5/detekt-rules/src/main/kotlin/io/gitlab/arturbosch/detekt/rules/complexity/StringLiteralDuplication.kt\" rel=\"nofollow noreferrer\">string literal duplication</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 576, "user_id": 9223264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hd8CHstY9js/AAAAAAAAAAI/AAAAAAAAAOk/pJ463aKM9HY/photo.jpg?sz=128", "display_name": "Jaspalsinh Gohil", "link": "https://stackoverflow.com/users/9223264/jaspalsinh-gohil"}, "is_accepted": false, "score": 0, "last_activity_date": 1600953629, "last_edit_date": 1600953629, "creation_date": 1570530356, "answer_id": 58284527, "question_id": 48773257, "link": "https://stackoverflow.com/questions/48773257/how-to-find-hardcoded-strings-in-kotlin/58284527#58284527", "title": "How to find hardcoded strings in kotlin", "body": "<p>Ah, well actually there's an update.\nKotlin IDE does understand org.jetbrains.annotations.PropertyKey 11, but it does not always work.\nI have had problems if the bundle contains more than one language.</p>\n<p>Example:</p>\n<pre><code>fun message(@PropertyKey(resourceBundle = &quot;Messages&quot;) id: String) =\n        ResourceBundle.getBundle(&quot;Messages&quot;).getString(sid) ?: &quot;###$id###&quot;\n</code></pre>\n<p>For more visit:<a href=\"https://developer.android.com/studio/write/lint#src\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/lint#src</a></p>\n"}], "owner": {"reputation": 153, "user_id": 3250462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1204948631/picture?type=large", "display_name": "Monotype", "link": "https://stackoverflow.com/users/3250462/monotype"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "answer_count": 4, "score": 12, "last_activity_date": 1600953629, "creation_date": 1518546227, "question_id": 48773257, "link": "https://stackoverflow.com/questions/48773257/how-to-find-hardcoded-strings-in-kotlin", "title": "How to find hardcoded strings in kotlin", "body": "<p>Android studio lint don't work for a kotlin project.\nI can't find hardcoded strings. \nWhat can be solution for this?</p>\n"}, {"tags": ["spring", "spring-boot", "jackson", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 9152062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef444a32018332c23f86ac7625e9b12?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rio S&#233;rgio Esteves Alvial", "link": "https://stackoverflow.com/users/9152062/m%c3%a1rio-s%c3%a9rgio-esteves-alvial"}, "edited": false, "score": 0, "creation_date": 1518541747, "post_id": 48771780, "comment_id": 84545395, "body": "I&#39;m feeling very stupid right now haha, thanks for helping me with my problem"}, {"owner": {"reputation": 186, "user_id": 1014644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150e58a4e5d7e72f374d81f5bab76980?s=128&d=identicon&r=PG", "display_name": "Corey Kaylor", "link": "https://stackoverflow.com/users/1014644/corey-kaylor"}, "reply_to_user": {"reputation": 159, "user_id": 9152062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef444a32018332c23f86ac7625e9b12?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rio S&#233;rgio Esteves Alvial", "link": "https://stackoverflow.com/users/9152062/m%c3%a1rio-s%c3%a9rgio-esteves-alvial"}, "edited": false, "score": 0, "creation_date": 1518541830, "post_id": 48771780, "comment_id": 84545455, "body": "Happens to everyone, especially as the new thing comes along."}], "tags": [], "owner": {"reputation": 186, "user_id": 1014644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/150e58a4e5d7e72f374d81f5bab76980?s=128&d=identicon&r=PG", "display_name": "Corey Kaylor", "link": "https://stackoverflow.com/users/1014644/corey-kaylor"}, "is_accepted": true, "score": 3, "last_activity_date": 1518540685, "creation_date": 1518540685, "answer_id": 48771780, "question_id": 48771518, "link": "https://stackoverflow.com/questions/48771518/spring-boot-isnt-serializing-kotlin-class/48771780#48771780", "title": "Spring boot isn&#39;t serializing kotlin class", "body": "<p>Everything in your data class is private. Typically serialization ignores private members in a class. If you make the necessary fields you desire to get serialized public, or just remove the private keyword I'm betting it works for you.</p>\n"}], "owner": {"reputation": 159, "user_id": 9152062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef444a32018332c23f86ac7625e9b12?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rio S&#233;rgio Esteves Alvial", "link": "https://stackoverflow.com/users/9152062/m%c3%a1rio-s%c3%a9rgio-esteves-alvial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 48771780, "answer_count": 1, "score": 0, "last_activity_date": 1518540685, "creation_date": 1518539887, "question_id": 48771518, "link": "https://stackoverflow.com/questions/48771518/spring-boot-isnt-serializing-kotlin-class", "title": "Spring boot isn&#39;t serializing kotlin class", "body": "<p>I'm trying to build a simple api with spring boot and kotlin. When I make a request to save a new user everything goes well, a new user is persisted, but response body is empty. I don't know why, I return the new user. Please help me to understand why Jackson isn't serializing my kotlin class.</p>\n\n<p>I can assure that the user returned is not null.</p>\n\n<p>Entity:</p>\n\n<pre><code>@Entity\ndata class User(@Id\n                @GeneratedValue(strategy = GenerationType.IDENTITY)\n                private val id: Long = 0L,\n                private var createdAt: LocalDateTime = LocalDateTime.now(),\n                private var enabled: Boolean = false,\n                private val username: String = \"\",\n                private val password: String = \"\",\n                private val name: String = \"\") {\n\n    @PrePersist\n    private fun onCreate() {\n        this.enabled = true\n        this.createdAt = LocalDateTime.now();\n    }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"users\")\nclass UserController {\n\n    @Autowired\n    private lateinit var userService: UserService\n\n    @PostMapping\n    fun save(@RequestBody user: User): User {\n        return this.userService.save(user)\n    }\n}\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.2.20'\n        springBootVersion = '2.0.0.RC1'\n    }\n    repositories {\n        mavenCentral()\n        maven { url \"https://repo.spring.io/snapshot\" }\n        maven { url \"https://repo.spring.io/milestone\" }\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'br.com'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url \"https://repo.spring.io/snapshot\" }\n    maven { url \"https://repo.spring.io/milestone\" }\n}\n\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-data-jpa')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    //JACKSON\n    compile \"com.fasterxml.jackson.core:jackson-annotations\"\n    compile \"com.fasterxml.jackson.core:jackson-core\"\n    compile \"com.fasterxml.jackson.core:jackson-databind\"\n    runtime \"com.fasterxml.jackson.datatype:jackson-datatype-jdk8\"\n    runtime \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\"\n    runtime \"com.fasterxml.jackson.module:jackson-module-kotlin\"\n    runtime('mysql:mysql-connector-java')\n    runtime('org.springframework.boot:spring-boot-devtools')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>#DATA SOURCE\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc\\:mysql\\://localhost:3307/kotlin-library\nspring.datasource.username = root\nspring.datasource.password =\n\n#JPA\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n\n#SERVER\nserver.servlet.context-path=/\n\n#JACKSON\nspring.jackson.serialization.indent-output=true\nspring.jackson.serialization.write-dates-as-timestamps=false\nspring.jackson.serialization.write-durations-as-timestamps=false\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 1, "creation_date": 1518537642, "post_id": 48770711, "comment_id": 84542662, "body": "Is the api returning an optional?"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1518537772, "post_id": 48770711, "comment_id": 84542768, "body": "@Submersed I&#39;m not sure actually, if so I should be able to force it using &#39;!!&#39; at the end of the return statement right? This does not seem to work. The documentation for this API is still in Java only, so I&#39;m trying to port it to kotlin"}, {"owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1518540810, "post_id": 48770711, "comment_id": 84544729, "body": "What version of the tasks api are you using?"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1518541094, "post_id": 48770711, "comment_id": 84544946, "body": "@Submersed I imported this one &#39;import com.google.android.gms.tasks.Tasks&#39; and the gms version is the latest one, not quite sure what you mean"}, {"owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1518542319, "post_id": 48770711, "comment_id": 84545759, "body": "It&#39;s probably an issue with how generics are being used, since you&#39;re kind of trying to use a lamba(ish).  Have you tried just using Task.continueWith?"}, {"owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "reply_to_user": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1518542405, "post_id": 48770711, "comment_id": 84545820, "body": "@Submersed Thanks for the help, but none of those were the problem. I managed to fix it in the end. If you are interested have a look at my answer below."}], "answers": [{"tags": [], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "is_accepted": true, "score": 1, "last_activity_date": 1518542305, "creation_date": 1518542305, "answer_id": 48772262, "question_id": 48770711, "link": "https://stackoverflow.com/questions/48770711/kotlin-expected-a-value-of-type-taskdrivefile/48772262#48772262", "title": "Kotlin - Expected a value of type Task&lt;DriveFile&gt;!", "body": "<p>I forgot to use the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">Object Expression</a></p>\n\n<p>by replacing:</p>\n\n<pre><code>Tasks.whenAll(appFolderTask, createContentsTask)\n                .continueWithTask(com.google.android.gms.tasks.Continuation&lt;Void, Task&lt;DriveFile&gt;&gt; {}\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>Tasks.whenAll(appFolderTask, createContentsTask)\n                .continueWithTask(object: com.google.android.gms.tasks.Continuation&lt;Void, Task&lt;DriveFile&gt;&gt; {}\n</code></pre>\n\n<p>I fixed the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 5063, "user_id": 561259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4262a93ff76921c138e8fe7c551107c5?s=128&d=identicon&r=PG", "display_name": "Desmond Lua", "link": "https://stackoverflow.com/users/561259/desmond-lua"}, "is_accepted": false, "score": 0, "last_activity_date": 1524710242, "creation_date": 1524710242, "answer_id": 50034013, "question_id": 48770711, "link": "https://stackoverflow.com/questions/48770711/kotlin-expected-a-value-of-type-taskdrivefile/50034013#50034013", "title": "Kotlin - Expected a value of type Task&lt;DriveFile&gt;!", "body": "<p>The following is the shortest form</p>\n\n<pre><code>Tasks.whenAll(appFolderTask, createContentsTask)\n        .continueWithTask({ task -&gt;\n\n        })\n</code></pre>\n"}], "owner": {"reputation": 3475, "user_id": 6427630, "user_type": "registered", "accept_rate": 99, "profile_image": "https://graph.facebook.com/10209535920773773/picture?type=large", "display_name": "Daniele", "link": "https://stackoverflow.com/users/6427630/daniele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1011, "favorite_count": 0, "accepted_answer_id": 48772262, "answer_count": 2, "score": 0, "last_activity_date": 1524710242, "creation_date": 1518537322, "last_edit_date": 1518538944, "question_id": 48770711, "link": "https://stackoverflow.com/questions/48770711/kotlin-expected-a-value-of-type-taskdrivefile", "title": "Kotlin - Expected a value of type Task&lt;DriveFile&gt;!", "body": "<p>I'm trying to add a file to the app's AppFolder using this function:</p>\n\n<pre><code>private fun syncListToDrive() {\n        val jsonList = Gson().toJson(activeSubs)\n\n        val appFolderTask = mDriveResourceClient?.appFolder\n        val createContentsTask = mDriveResourceClient?.createContents()\n        Tasks.whenAll(appFolderTask, createContentsTask)\n                .continueWithTask(com.google.android.gms.tasks.Continuation&lt;Void, Task&lt;DriveFile&gt;&gt; {\n                    override fun then(task:Task&lt;Void&gt;):Task&lt;DriveFile&gt; {\n                        val parent = appFolderTask?.result\n                        val contents = createContentsTask?.result\n                        val outputStream = contents?.outputStream\n\n                        val writer = OutputStreamWriter(outputStream)\n                        writer.write(jsonList)\n\n                        val changeSet = MetadataChangeSet.Builder()\n                                .setTitle(\"list\")\n                                .setMimeType(\"json\")\n                                .setStarred(true)\n                                .build()\n\n                        return mDriveResourceClient.createFile(parent!!, changeSet, contents)\n                    }\n                })\n    }\n</code></pre>\n\n<p>specifically the <code>then</code> function has an error that the compiler describes as</p>\n\n<blockquote>\n  <p><code>Expected a value of type Task&lt;DriveFile&gt;!</code></p>\n</blockquote>\n\n<p>which to me looks like is just the one returned by the function. What am I missing?</p>\n\n<p>Looking into the API I found out that the <code>createFile()</code> function returns a <code>Task&lt;DriveFile!&gt;!</code></p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-console"], "comments": [{"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1518533935, "post_id": 48769428, "comment_id": 84540161, "body": "Did you tried here : <a href=\"https://console.firebase.google.com/u/0/\" rel=\"nofollow noreferrer\">console.firebase.google.com/u/0</a>   maybe it happends because you are with another gmail account"}, {"owner": {"reputation": 625, "user_id": 7668336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b9792920c51ecc5f2e60350d4e44c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dinu Nicolae", "link": "https://stackoverflow.com/users/7668336/dinu-nicolae"}, "reply_to_user": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1518537370, "post_id": 48769428, "comment_id": 84542488, "body": "yes I did, and I made sure the account is correct."}, {"owner": {"reputation": 625, "user_id": 7668336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b9792920c51ecc5f2e60350d4e44c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dinu Nicolae", "link": "https://stackoverflow.com/users/7668336/dinu-nicolae"}, "reply_to_user": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1518537423, "post_id": 48769428, "comment_id": 84542528, "body": "maybe there is a limit, I already had some projects I made for iOS, is there any limit?"}, {"owner": {"reputation": 8866, "user_id": 9164141, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uiNcT.jpg?s=128&g=1", "display_name": "Gast&#243;n Saill&#233;n", "link": "https://stackoverflow.com/users/9164141/gast%c3%b3n-saill%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1518558166, "post_id": 48769428, "comment_id": 84553993, "body": "its weird because it dosnt let you create new projects if you have the limit complete"}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 7668336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b9792920c51ecc5f2e60350d4e44c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dinu Nicolae", "link": "https://stackoverflow.com/users/7668336/dinu-nicolae"}, "edited": false, "score": 0, "creation_date": 1522662504, "post_id": 49602822, "comment_id": 86224363, "body": "it was a bug from Google, I wrote them and they fixed for me."}], "tags": [], "owner": {"reputation": 23, "user_id": 2011592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c1b7da412301399b484fd4df6e935c?s=128&d=identicon&r=PG", "display_name": "Amin9", "link": "https://stackoverflow.com/users/2011592/amin9"}, "is_accepted": false, "score": 1, "last_activity_date": 1522618318, "creation_date": 1522618318, "answer_id": 49602822, "question_id": 48769428, "link": "https://stackoverflow.com/questions/48769428/android-firebase-cant-see-project-in-firebase-console/49602822#49602822", "title": "Android firebase can&#39;t see project in firebase console", "body": "<p>I faced the same problem.</p>\n\n<p>What I found in my case:\nFew days back, I was deleting some unnecessary projects from Google Developer Console, (not from \"firebase console\") and I deleted this project by mistake. \nMy good luck, it was not too delaied, not deleted permanently.</p>\n\n<p>Solution: Restore the project through Google Developer Console, from Pending Deletion list. <a href=\"https://console.developers.google.com/cloud-resource-manager?pendingDeletion=true\" rel=\"nofollow noreferrer\">https://console.developers.google.com/cloud-resource-manager?pendingDeletion=true</a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8485413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870a3f1f62712c5be50a23683392d353?s=128&d=identicon&r=PG&f=1", "display_name": "Gretel", "link": "https://stackoverflow.com/users/8485413/gretel"}, "is_accepted": false, "score": 3, "last_activity_date": 1539119647, "creation_date": 1539119647, "answer_id": 52729421, "question_id": 48769428, "link": "https://stackoverflow.com/questions/48769428/android-firebase-cant-see-project-in-firebase-console/52729421#52729421", "title": "Android firebase can&#39;t see project in firebase console", "body": "<p>I went to google-services.json file in the app directory from Project view in Android Studio and if you select the url \"firebase_url\" and put it in a browser, you can access without problem.</p>\n"}, {"comments": [{"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1560574020, "post_id": 56607413, "comment_id": 99790458, "body": "you should attach the image to answer"}, {"owner": {"reputation": 11, "user_id": 11650744, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iRdaTFMtopo/AAAAAAAAAAI/AAAAAAAAABI/TSsmwd5WWbM/photo.jpg?sz=128", "display_name": "Rahamat -E-Elahi", "link": "https://stackoverflow.com/users/11650744/rahamat-e-elahi"}, "reply_to_user": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "edited": false, "score": 0, "creation_date": 1560668869, "post_id": 56607413, "comment_id": 99807470, "body": "I have attached the image like a link. Click the hyperlinked &quot;this image&quot; to see the image. I don&#39;t know how to display the image in the answer directly."}], "tags": [], "owner": {"reputation": 11, "user_id": 11650744, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iRdaTFMtopo/AAAAAAAAAAI/AAAAAAAAABI/TSsmwd5WWbM/photo.jpg?sz=128", "display_name": "Rahamat -E-Elahi", "link": "https://stackoverflow.com/users/11650744/rahamat-e-elahi"}, "is_accepted": false, "score": 1, "last_activity_date": 1560573899, "creation_date": 1560573899, "answer_id": 56607413, "question_id": 48769428, "link": "https://stackoverflow.com/questions/48769428/android-firebase-cant-see-project-in-firebase-console/56607413#56607413", "title": "Android firebase can&#39;t see project in firebase console", "body": "<p>If you have any previous project then click one of them in <a href=\"https://console.firebase.google.com\" rel=\"nofollow noreferrer\">console.firebase.google.com</a><br>\nIf you don't have any project then simply create a new one.<br>\nYou will see the project introduction page like <a href=\"https://i.stack.imgur.com/09VLd.png\" rel=\"nofollow noreferrer\">this image</a> Click the arrow denoted circle area. Now here you can see all the projects including the project you created in the firebase assistant in android studio. You will see the project in \"Other projects\"</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 11868566, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VtyrQhEX_mI/AAAAAAAAAAI/AAAAAAAAACk/G0juPIdH1bs/photo.jpg?sz=128", "display_name": "Yorbj&#246;rn", "link": "https://stackoverflow.com/users/11868566/yorbj%c3%b6rn"}, "is_accepted": false, "score": 0, "last_activity_date": 1592814019, "creation_date": 1592814019, "answer_id": 62510194, "question_id": 48769428, "link": "https://stackoverflow.com/questions/48769428/android-firebase-cant-see-project-in-firebase-console/62510194#62510194", "title": "Android firebase can&#39;t see project in firebase console", "body": "<p>Maybe a &quot;good-to-know&quot; thing for people that stumble upon this.. I had a plugin that allows the user to enable CORS everywhere by altering http responses, when this is activated my firebase projects wouldn't load</p>\n<ul>\n<li>CORS Everywhere (Firefox)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/8nlzR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8nlzR.png\" alt=\"CORS Everywhere\" /></a></p>\n<ul>\n<li>Allow CORS: Access-Control-Allow-Origin</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ak79A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ak79A.png\" alt=\"Allow CORS: Access-Control-Allow-Origin\n\" /></a></p>\n"}], "owner": {"reputation": 625, "user_id": 7668336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b9792920c51ecc5f2e60350d4e44c1?s=128&d=identicon&r=PG&f=1", "display_name": "Dinu Nicolae", "link": "https://stackoverflow.com/users/7668336/dinu-nicolae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4875, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1592814019, "creation_date": 1518533186, "last_edit_date": 1518599901, "question_id": 48769428, "link": "https://stackoverflow.com/questions/48769428/android-firebase-cant-see-project-in-firebase-console", "title": "Android firebase can&#39;t see project in firebase console", "body": "<p>I have connected my app to Firebase by using android studio (tools/Firebase ...) and created a new Firebase project, but it did not appear in the Firebase console, I have followed the exact same steps I did see in a video and in the video a new Firebase project was created in the Firebase console. I do see the project in <a href=\"https://console.developers.google.com/cloud-resource-manager\" rel=\"nofollow noreferrer\">https://console.developers.google.com/cloud-resource-manager</a>, but it just won't appear in the Firebase console, why?</p>\n"}, {"tags": ["java", "android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 804, "user_id": 8258872, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cadd7ad672077a70380fee38537939cb?s=128&d=identicon&r=PG&f=1", "display_name": "ColonD", "link": "https://stackoverflow.com/users/8258872/colond"}, "edited": false, "score": 1, "creation_date": 1518528369, "post_id": 48767654, "comment_id": 84536134, "body": "Check your view hierarchy using Layout Inspector, and see which all views are there on screen"}, {"owner": {"reputation": 1183, "user_id": 4794878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bd79c9187f977e4e89b6dd74ac0280?s=128&d=identicon&r=PG&f=1", "display_name": "Suhayl SH", "link": "https://stackoverflow.com/users/4794878/suhayl-sh"}, "edited": false, "score": 0, "creation_date": 1518528401, "post_id": 48767654, "comment_id": 84536154, "body": "Can you paste the XML of MainActivity?"}], "owner": {"reputation": 51, "user_id": 9276379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a171aeea3dfa571e8e1c2c10d9b0dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Chaudhary", "link": "https://stackoverflow.com/users/9276379/pankaj-chaudhary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1518529122, "creation_date": 1518527537, "last_edit_date": 1518529122, "question_id": 48767654, "link": "https://stackoverflow.com/questions/48767654/getting-a-blank-screen-instead-of-fragment", "title": "Getting a Blank Screen instead of Fragment", "body": "<p>I am working on a Music Player app that consists some fragments and adapters. The main screen of the app has a recycler view that shows a list of songs with the help of adapter and fragment. But when I am running my app I am getting a blank screen. What I am missing? Here is the code of the app: (Please comment, if any other file needed to attach).</p>\n\n<p>My MainActivity.kt File:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(){\n\nvar navigationDrawerIconList : ArrayList&lt;String&gt; = arrayListOf()\n\nvar images_for_navdrawer = intArrayOf(R.drawable.navigation_allsongs, R.drawable.navigation_favorites,\n        R.drawable.navigation_settings, R.drawable.navigation_aboutus)\n\nobject Statified{\n    var drawerLayout : DrawerLayout?=null\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n\n    setContentView(R.layout.activity_main)\n    val toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n    setSupportActionBar(toolbar)\n   MainActivity.Statified.drawerLayout=findViewById(R.id.drawer_layout)\n\n   // drawerLayout=findViewById&lt;DrawerLayout&gt;(R.id.drawer_layout) as DrawerLayout\n\n\n    navigationDrawerIconList.add(\"All Songs\")\n    navigationDrawerIconList.add(\"Favorites\")\n    navigationDrawerIconList.add(\"Settings\")\n    navigationDrawerIconList.add(\"About Us\")\n\n    val toggle = ActionBarDrawerToggle(this@MainActivity, MainActivity.Statified.drawerLayout, toolbar,\n            R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n    MainActivity.Statified.drawerLayout?.setDrawerListener(toggle)\n    toggle.syncState()\n\n    val mainScreenFragment = MainScreenFragment()\n    this.supportFragmentManager\n            .beginTransaction()\n            .add(R.id.details_fragment, mainScreenFragment, \"MainScreenFragment\")\n            .commit()\n\n\n\n\n    //Navigation Drawer\n\n    var _navigationAdapter = NavigationDrawerAdapter(navigationDrawerIconList, images_for_navdrawer, this@MainActivity)\n\n    _navigationAdapter.notifyDataSetChanged()\n\n    var navigation_recycler_view = findViewById&lt;RecyclerView&gt;(R.id.navigation_recycler_view)\n    navigation_recycler_view.layoutManager = LinearLayoutManager(this@MainActivity)\n    navigation_recycler_view.itemAnimator = DefaultItemAnimator()\n    navigation_recycler_view.adapter = _navigationAdapter\n    navigation_recycler_view.setHasFixedSize(true)\n\n\n  //  var navigation_recycler_view = findViewById&lt;RecyclerView&gt;(R.id.navigation_recycler_view)\n    //navigation_recycler_view.layoutManager = LinearLayoutManager(this)\n    //navigation_recycler_view.itemAnimator = DefaultItemAnimator()\n\n}\n\noverride fun onStart() {\n    super.onStart()\n}\n\n}\n</code></pre>\n\n<p>My MainScreenFragment.kt File:</p>\n\n<pre><code>class MainScreenAdapter(_songDetails:ArrayList&lt;Songs&gt;, _context: Context) : RecyclerView.Adapter&lt;MainScreenAdapter.MyViewHolder&gt;(){\n\nvar songDetail: ArrayList&lt;Songs&gt;?=null\nvar mContext: Context?=null\n\ninit {\n    this.songDetail = _songDetails\n    this.mContext = _context\n}\n\noverride fun onBindViewHolder(holder: MyViewHolder?, position: Int) {\n\n    val songObject = songDetail?.get(position)\n    holder?.trackTitle?.text = songObject?.songTitle\n    holder?.trackArtist?.text = songObject?.artist\n    holder?.contentHolder?.setOnClickListener({\n        val songPlayingFragment = SongPlayingFragment()\n        var args = Bundle()\n        args.putString(\"songArtist\",songObject?.artist)\n        args.putString(\"path\", songObject?.songData)\n        args.putString(\"songTitle\", songObject?.songTitle)\n        args.putInt(\"SongId\", songObject?.songId?.toInt() as Int)\n        args.putInt(\"songPosition\", position)\n        args.putParcelableArrayList(\"songData\", songDetail)\n        songPlayingFragment.arguments = args\n        (mContext as FragmentActivity).supportFragmentManager\n                .beginTransaction()\n                .replace(R.id.details_fragment,songPlayingFragment)\n                .commit()\n    })\n\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): MyViewHolder {\n    val itemView = LayoutInflater.from(parent?.context)\n            .inflate(R.layout.row_custom_mainscreen_adapter,parent,false)\n\n    return MyViewHolder(itemView)\n\n}\n\noverride fun getItemCount(): Int {\n\n    if(songDetail == null){\n        return 0\n    } else{\n        return (songDetail as ArrayList&lt;Songs&gt;).size\n    }\n\n}\n\nclass MyViewHolder(view: View): RecyclerView.ViewHolder(view) {\n\n    var trackTitle: TextView? = null\n    var trackArtist: TextView? = null\n    var contentHolder: RelativeLayout? = null\n\n    init {\n        trackTitle = view.findViewById&lt;TextView&gt;(R.id.trackTitle)\n        trackArtist = view.findViewById&lt;TextView&gt;(R.id.trackArtist)\n        contentHolder = view.findViewById&lt;RelativeLayout&gt;(R.id.contentRow)\n    }\n\n}\n}\n</code></pre>\n\n<p>and my MainScreenFragment.kt File:</p>\n\n<pre><code>class MainScreenFragment : Fragment() {\n\n\nvar getSongList : ArrayList&lt;Songs&gt;? = null\nvar nowPlayingBottomBar: RelativeLayout?=null\nvar playPauseButton: ImageView?=null\nvar songTitle: TextView?=null\nvar visibleLayout: RelativeLayout?=null\nvar noSongs: RelativeLayout?=null\nvar recyclerView: RecyclerView?= null\n\nvar myActivity:Activity?=null\n\nvar _mainScreenAdapter : MainScreenAdapter?=null\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    val view = inflater?.inflate(R.layout.content_main, container, false)\n    setHasOptionsMenu(true)\n    activity.title = \"All songs\"\n    visibleLayout = view?.findViewById&lt;RelativeLayout&gt;(R.id.visibleLayout)\n    noSongs = view?.findViewById&lt;RelativeLayout&gt;(R.id.noSongs)\n    nowPlayingBottomBar = view?.findViewById&lt;RelativeLayout&gt;(R.id.hiddenBarMainScreen)\n    songTitle = view?.findViewById&lt;TextView&gt;(R.id.songTitleMainScreen)\n    playPauseButton = view?.findViewById&lt;ImageButton&gt;(R.id.playpauseButton)\n    (nowPlayingBottomBar as RelativeLayout).isClickable = false\n    recyclerView = view?.findViewById&lt;RecyclerView&gt;(R.id.contentMain)\n\n    if (getSongList == null) {\n        getSongList = getSongsFromPhone()\n        if (getSongList == null) {\n            visibleLayout?.visibility = View.INVISIBLE\n            noSongs?.visibility = View.VISIBLE\n        }\n    } else {\n        Log.d(MainScreenFragment::class.java.simpleName, \" Data already there\")\n    }\n\n\n\n    getSongList = getSongsFromPhone()\n    _mainScreenAdapter = MainScreenAdapter(getSongList as ArrayList&lt;Songs&gt;, activity)\n    val mLayoutManager = LinearLayoutManager(activity)\n    (recyclerView as RecyclerView).layoutManager = mLayoutManager\n    (recyclerView as RecyclerView).itemAnimator = DefaultItemAnimator()\n    (recyclerView as RecyclerView).adapter = _mainScreenAdapter\n    return view\n\n\n\n    // Inflate the layout for this fragment\n   /* val view = inflater!!.inflate(R.layout.fragment_main_screen, container, false)\n    visibleLayout = view?.findViewById&lt;RelativeLayout&gt;(R.id.visibleLayout)\n    noSongs = view?.findViewById&lt;RelativeLayout&gt;(R.id.noSongs)\n    nowPlayingBottomBar = view?.findViewById&lt;RelativeLayout&gt;(R.id.hiddenBarMainScreen)\n    songTitle = view?.findViewById&lt;TextView&gt;(R.id.songTitleMainScreen)\n    playPauseButton = view?.findViewById&lt;ImageButton&gt;(R.id.playPauseButton)\n    recyclerView = view?.findViewById&lt;RecyclerView&gt;(R.id.contentMain)\n\n\n    return view*/\n}\n\nfun getSongsFromPhone(): ArrayList&lt;Songs&gt;{\n    var arrayList = ArrayList&lt;Songs&gt;()\n    var contentResolver = myActivity?.contentResolver\n    var songUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\n    var songCursor = contentResolver?.query(songUri, null, null, null, null)\n    if(songCursor!=null &amp;&amp; songCursor.moveToFirst()){\n        val songId = songCursor.getColumnIndex(MediaStore.Audio.Media._ID)\n        val SongTitle = songCursor.getColumnIndex((MediaStore.Audio.Media.TITLE))\n        val songArtist = songCursor.getColumnIndex(MediaStore.Audio.Media.ARTIST)\n        val songData = songCursor.getColumnIndex(MediaStore.Audio.Media.DATA)\n        val dateIndex = songCursor.getColumnIndex(MediaStore.Audio.Media.DATE_ADDED)\n\n        while(songCursor.moveToNext()){\n            var currentId = songCursor.getLong(songId)\n            var currentTitle = songCursor.getString(SongTitle)\n            var currentArtist = songCursor.getString(songArtist)\n            var currentData = songCursor.getString(songData)\n            var currentDate = songCursor.getString(dateIndex)\n        }\n    }\n    return arrayList\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    getSongList = getSongsFromPhone()\n   _mainScreenAdapter = MainScreenAdapter(getSongList as ArrayList&lt;Songs&gt;, myActivity as Context)\n    val mLayoutManager = LinearLayoutManager(myActivity)\n    recyclerView?.layoutManager = mLayoutManager\n    recyclerView?.itemAnimator = DefaultItemAnimator()\n    recyclerView?.adapter = _mainScreenAdapter\n}\n\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    myActivity = context as Activity\n}\n\noverride fun onAttach(activity: Activity?) {\n    super.onAttach(activity)\n    myActivity = activity\n}\n\n}\n</code></pre>\n\n<p>FragmentMainScreen.xml file:</p>\n\n<pre><code>&lt;RelativeLayout \nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:id=\"@+id/content_main\"\nandroid:clickable=\"true\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/visibleLayout\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/contentMain\"&gt;\n    &lt;/android.support.v7.widget.RecyclerView&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"100dp\"\n        android:id=\"@+id/hiddenBarMainScreen\"\n        android:visibility=\"visible\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@color/colorPrimary\"&gt;\n\n        &lt;ImageButton\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/playPauseButton\"\n            android:layout_centerVertical=\"true\"\n            android:layout_alignParentRight=\"true\"\n            android:layout_marginRight=\"31dp\"\n            android:background=\"@drawable/pause_icon\"\n            /&gt;\n        &lt;ImageView\n            android:layout_width=\"50dp\"\n            android:layout_height=\"50dp\"\n            android:id=\"@+id/defaultMusic\"\n            android:layout_alignParentLeft=\"true\"\n            android:layout_centerVertical=\"true\"\n            android:background=\"@drawable/now_playing_bar_eq_image\"\n            android:layout_marginLeft=\"13dp\"\n            android:minHeight=\"0dp\"\n            android:minWidth=\"0dp\"/&gt;\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Now Playing\"\n            android:id=\"@+id/nowPlaying\"\n            android:layout_toRightOf=\"@id/defaultMusic\"\n            android:textColor=\"#bdbdbd\"\n            android:layout_marginLeft=\"15dp\"\n            android:layout_marginTop=\"11dp\" /&gt;\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/songTitleMainScreen\"\n            android:layout_below=\"@id/nowPlaying\"\n            android:ellipsize=\"end\"\n            android:maxLines=\"1\"\n            android:maxWidth=\"160dp\"\n            android:singleLine=\"true\"\n            android:text=\"...\"\n            android:textColor=\"#ffffff\"\n            android:textAppearance=\"?android:attr/textAppearanceMedium\"\n            android:layout_alignLeft=\"@id/nowPlaying\"\n            android:layout_alignStart=\"@id/nowPlaying\"\n            android:layout_marginTop=\"5dp\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n\n&lt;RelativeLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    android:visibility=\"invisible\"\n    android:id=\"@+id/noSongs\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerInParent=\"true\"\n        android:text=\"You do not have any Songs\"\n        android:textColor=\"#000000\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>Activity_main.xml file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/app_bar_main\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"&gt;\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"200dp\"\n            android:id=\"@+id/header\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:background=\"@drawable/bg_gradient\"/&gt;\n\n            &lt;ImageView\n                android:layout_width=\"100dp\"\n                android:layout_height=\"50dp\"\n                android:background=\"@drawable/echo_logo\"\n                android:layout_centerInParent=\"true\"/&gt;\n        &lt;/RelativeLayout&gt;\n\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:id=\"@+id/navigation_recycler_view\"\n            android:layout_below=\"@+id/header\"&gt;\n        &lt;/android.support.v7.widget.RecyclerView&gt;\n\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;/android.support.design.widget.NavigationView&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 5881, "user_id": 2702368, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Didw2.gif?s=128&g=1", "display_name": "metacubed", "link": "https://stackoverflow.com/users/2702368/metacubed"}, "edited": false, "score": 3, "creation_date": 1518541324, "post_id": 48766051, "comment_id": 84545106, "body": "I do get a warning: &quot;private data class constructor is exposed via the &#39;generated&#39; copy method&quot;."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 5881, "user_id": 2702368, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Didw2.gif?s=128&g=1", "display_name": "metacubed", "link": "https://stackoverflow.com/users/2702368/metacubed"}, "edited": false, "score": 2, "creation_date": 1518541929, "post_id": 48766051, "comment_id": 84545513, "body": "Basically, the warning means that, while usually you want a private constructor to restrict its calls and have the control over where it&#39;s called, here, the constructor is also implicitly called in the generated <code>copy</code> implementation. You can make the constructor non-private (<code>protected constructor</code> will go, though it may look meaningless) or suppress the warning with <code>@Suppress(&quot;DataClassPrivateConstructor&quot;)</code> (that&#39;s what IntelliJ suppress quick fix inserts)."}, {"owner": {"reputation": 5881, "user_id": 2702368, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Didw2.gif?s=128&g=1", "display_name": "metacubed", "link": "https://stackoverflow.com/users/2702368/metacubed"}, "edited": false, "score": 0, "creation_date": 1518552884, "post_id": 48766051, "comment_id": 84551371, "body": "Yeah the class will be closed by default anyway. Thanks again for the solution."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1518522205, "creation_date": 1518522205, "answer_id": 48766051, "question_id": 48765995, "link": "https://stackoverflow.com/questions/48765995/kotlin-data-class-with-different-backing-field-type/48766051#48766051", "title": "Kotlin data class with different backing field type", "body": "<p>You can use a combination of a private <code>ComplexInfo</code> property declared in the primary constructor and a <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">secondary constructor</a> that accepts a <code>String</code>.</p>\n\n<p>Optionally, make the primary constructor private.</p>\n\n<p>Example:</p>\n\n<pre><code>data class TheClass private constructor(private val complexInfo: ComplexInfo) {\n\n    constructor(infoString: String) : this(ComplexInfo(infoString))\n\n    val info: String get() = complexInfo.getAsString()\n}\n</code></pre>\n\n<p>Note that it's the <code>complexInfo</code> property that is used in the data class generated members implementations.</p>\n"}], "owner": {"reputation": 5881, "user_id": 2702368, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Didw2.gif?s=128&g=1", "display_name": "metacubed", "link": "https://stackoverflow.com/users/2702368/metacubed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 798, "favorite_count": 0, "accepted_answer_id": 48766051, "answer_count": 1, "score": 2, "last_activity_date": 1518522205, "creation_date": 1518522020, "question_id": 48765995, "link": "https://stackoverflow.com/questions/48765995/kotlin-data-class-with-different-backing-field-type", "title": "Kotlin data class with different backing field type", "body": "<p>I have a simple class used for JSON serialization. For this purpose, the external interface uses <code>String</code>s, but the internal representation is different.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class TheClass {\n\n    private final ComplexInfo info;\n\n    public TheClass(String info) {\n        this.info = new ComplexInfo(info);\n    }\n\n    public String getInfo() {\n        return this.info.getAsString();\n    }\n\n    // ...more stuff which uses the ComplexInfo...\n}\n</code></pre>\n\n<p>I have this working in Kotlin (not sure if there's a better way). But the non-val/var constructor prevents me from using <code>data</code>.</p>\n\n<pre><code>/*data*/ class TheClass(info: String) {\n\n    private val _info = ComplexInfo(info)\n\n    val info: String\n        get() = _info.getAsString()\n\n\n    // ...more stuff which uses the ComplexInfo...\n}\n</code></pre>\n\n<p>How do I get this working as a <code>data class</code>?</p>\n"}, {"tags": ["android", "kotlin", "ormlite"], "answers": [{"comments": [{"owner": {"reputation": 2500, "user_id": 1497597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e86c15a7b980952c674a567853249751?s=128&d=identicon&r=PG", "display_name": "D T", "link": "https://stackoverflow.com/users/1497597/d-t"}, "edited": false, "score": 0, "creation_date": 1519180945, "post_id": 48766368, "comment_id": 84800347, "body": "Thank you. i init username= empty, it is ok."}], "tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1518523280, "creation_date": 1518523280, "answer_id": 48766368, "question_id": 48765963, "link": "https://stackoverflow.com/questions/48765963/why-occur-error-cant-find-a-no-arg-constructor-for-class-com-example-son-kotli/48766368#48766368", "title": "Why occur error: Can&#39;t find a no-arg constructor for class com.example.son.kotlinandroiddemo.db.dao.M_Data?", "body": "<p>Your <code>var username: String</code> is not initialised, therefore compiler can't create a default constructor for your class, which seems to be the requirement for the library you are using.</p>\n"}], "owner": {"reputation": 2500, "user_id": 1497597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e86c15a7b980952c674a567853249751?s=128&d=identicon&r=PG", "display_name": "D T", "link": "https://stackoverflow.com/users/1497597/d-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 48766368, "answer_count": 1, "score": 3, "last_activity_date": 1518523280, "creation_date": 1518521936, "question_id": 48765963, "link": "https://stackoverflow.com/questions/48765963/why-occur-error-cant-find-a-no-arg-constructor-for-class-com-example-son-kotli", "title": "Why occur error: Can&#39;t find a no-arg constructor for class com.example.son.kotlinandroiddemo.db.dao.M_Data?", "body": "<p>This is my class <code>DatabaseHelper</code>:</p>\n\n<pre><code>object DatabaseHelper : OrmLiteSqliteOpenHelper(App.instance, \"test.db\", null, 1) {\n\n    override fun onCreate(database: SQLiteDatabase?, connectionSource: ConnectionSource?) {\n        TableUtils.createTableIfNotExists(connectionSource, Table::class.java)\n        TableUtils.createTableIfNotExists(connectionSource, M_User::class.java)\n        TableUtils.createTableIfNotExists(connectionSource, M_Data::class.java)\n    }\n\n    override fun onUpgrade(database: SQLiteDatabase?, connectionSource: ConnectionSource?, oldVersion: Int, newVersion: Int) {\n\n            TableUtils.dropTable&lt;Table, Any&gt;(connectionSource, Table::class.java, true)\n            TableUtils.dropTable&lt;M_User, Any&gt;(connectionSource, M_User::class.java, true)\n            TableUtils.dropTable&lt;M_Data, Any&gt;(connectionSource, M_Data::class.java, true)\n            onCreate(database, connectionSource)\n\n    }\n\n}\n</code></pre>\n\n<p>This is my class <code>Table</code>:</p>\n\n<pre><code>@DatabaseTable(tableName = \"table\")\ndata class Table(\n\n        @DatabaseField(generatedId = true)\n        var id: Int? = null,\n\n        @DatabaseField\n        var category: String = \"\",\n\n        @DatabaseField\n        var content: String = \"\"\n)\n\nclass TableDao {\n\n    companion object {\n        lateinit var dao: Dao&lt;Table, Int&gt;\n    }\n\n    init {\n        dao = DatabaseHelper.getDao(Table::class.java)\n    }\n\n    fun add(table: Table) = dao.createOrUpdate(table)\n\n    fun update(table: Table) = dao.update(table)\n\n    fun delete(table: Table) = dao.delete(table)\n\n    fun queryForAll() = dao.queryForAll()\n\n    fun removeAll() {\n        for (table in queryForAll()) {\n            dao.delete(table)\n        }\n    }\n\n}\n</code></pre>\n\n<p>This is my class <code>M_User</code>:</p>\n\n<pre><code>@DatabaseTable(tableName = \"m_user\")\ndata class M_User(\n\n        @DatabaseField(generatedId = true)\n        var id: Int? = null,\n\n        @DatabaseField\n        var username: String = \"\",\n\n        @DatabaseField\n        var password: String = \"\"\n)\nclass M_UserDao\n{\n    companion object {\n        lateinit var dao: Dao&lt;M_User, Int&gt;\n    }\n\n    init {\n        dao = DatabaseHelper.getDao(M_User::class.java)\n    }\n\n    fun add(table: M_User) = dao.createOrUpdate(table)\n\n    fun update(table: M_User) = dao.update(table)\n\n    fun delete(table: M_User) = dao.delete(table)\n\n    fun queryForAll() = dao.queryForAll()\n\n    fun removeAll() {\n        for (table in queryForAll()) {\n            dao.delete(table)\n        }\n    }\n}\n</code></pre>\n\n<p>This is my class <code>M_Data</code>:</p>\n\n<pre><code>@DatabaseTable(tableName = \"m_data\")\ndata class M_Data(\n\n        @DatabaseField(generatedId = true)\n        var id: Int? = null,\n\n        @DatabaseField\n        var username: String,\n\n        @DatabaseField\n        var insert_date: String = \"\"\n)\nclass M_DataDao\n{\n    companion object {\n        lateinit var dao: Dao&lt;M_Data, Int&gt;\n    }\n\n    init {\n        dao = DatabaseHelper.getDao(M_Data::class.java)\n    }\n\n    fun add(table: M_Data) = dao.createOrUpdate(table)\n\n    fun update(table: M_Data) = dao.update(table)\n\n    fun delete(table: M_Data) = dao.delete(table)\n\n    fun queryForAll() = dao.queryForAll()\n\n    fun removeAll() {\n        for (table in queryForAll()) {\n            dao.delete(table)\n        }\n    }\n\n    fun getListUserAddData(username:String):List&lt;Array&lt;String&gt;&gt;\n    {\n          val sql=\"select b.username,b.insert_date from M_User a join M_Data b on a.username=b.username where a.username ='\"+username +\"'\"\n        val rawResults = dao.queryRaw(sql)\n\n        val results = rawResults.getResults()\n        return results\n    }\n}\n</code></pre>\n\n<p>This my code add data to 3 tables:</p>\n\n<pre><code>btnAdd.setOnClickListener(View.OnClickListener {\n            try {\n                val dao = TableDao()\n                dao.add(Table(null, \"1\", \"a1\"))\n                val usr= M_UserDao()\n                usr.add(M_User(null,txtUserName.text.toString(),txtPassword.text.toString()))\n                val data= M_DataDao()\n                data.add(M_Data(null, txtUserName.text.toString(), Utilities.dateTimeNow))\n            } catch (e: Exception) {\n                print(e.message)\n            }\n\n\n        })\n</code></pre>\n\n<p>But it occur Exception:</p>\n\n<pre><code>Can't find a no-arg constructor for class com.example.son.kotlinandroiddemo.db.dao.M_Data\n</code></pre>\n"}, {"tags": ["java", "kotlin", "guice", "graphql", "graphql-java"], "comments": [{"owner": {"reputation": 10749, "user_id": 294657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf6a123b877d32265e37c0fb592d5965?s=128&d=identicon&r=PG", "display_name": "kaqqao", "link": "https://stackoverflow.com/users/294657/kaqqao"}, "edited": false, "score": 0, "creation_date": 1518613540, "post_id": 48765940, "comment_id": 84577470, "body": "Are you sure this has <i>really</i> anything to do with GraphQL? It sounds like you&#39;re asking a general Guice (or Guice+Kotlin) question: how to inject all instances of a generic interface (or something along those lines)."}, {"owner": {"reputation": 71, "user_id": 5380152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2c58f15024a91501f2ae45542c9f5c?s=128&d=identicon&r=PG&f=1", "display_name": "evad3", "link": "https://stackoverflow.com/users/5380152/evad3"}, "reply_to_user": {"reputation": 10749, "user_id": 294657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf6a123b877d32265e37c0fb592d5965?s=128&d=identicon&r=PG", "display_name": "kaqqao", "link": "https://stackoverflow.com/users/294657/kaqqao"}, "edited": false, "score": 0, "creation_date": 1518808956, "post_id": 48765940, "comment_id": 84671443, "body": "Effectively yes, this could be asked in a more general context, I was using graphQL as it was the particular case I had at the time."}, {"owner": {"reputation": 10749, "user_id": 294657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bf6a123b877d32265e37c0fb592d5965?s=128&d=identicon&r=PG", "display_name": "kaqqao", "link": "https://stackoverflow.com/users/294657/kaqqao"}, "edited": false, "score": 0, "creation_date": 1518815867, "post_id": 48765940, "comment_id": 84674598, "body": "I just think it needlessly limited your chances to get an answer, as now your question targets a tiny niche of Kotlin+Guice+graphql-java users."}], "owner": {"reputation": 71, "user_id": 5380152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c2c58f15024a91501f2ae45542c9f5c?s=128&d=identicon&r=PG&f=1", "display_name": "evad3", "link": "https://stackoverflow.com/users/5380152/evad3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518521878, "creation_date": 1518521878, "question_id": 48765940, "link": "https://stackoverflow.com/questions/48765940/using-guice-to-inject-a-listor-set-of-graphql-resolvers", "title": "Using Guice to inject a list(or set) of GraphQL Resolvers", "body": "<p>Is it possible to use Guice to inject a List (or Set) of GraphQLResolvers? </p>\n\n<p>The GraphQLResolver interface has the following signature:</p>\n\n<p><code>public interface GraphQLResolver&lt;DataClass&gt;</code></p>\n\n<p>I am using a Multibinder, and guess I need to resolve the type</p>\n\n<p><code>GraphQLResolver&lt;? extends DataClass&gt;</code> </p>\n\n<p>so I would end up with the following (in Kotlin)</p>\n\n<p><code>\n    val resolverBinder = Multibinder.newSetBinder(binder(), GraphQLResolver::class.java)\n    resolverBinder.addBinding().to(BookResolver::class.java)\n    resolverBinder.addBinding().to(AuthorResolver::class.java)\n</code></p>\n\n<p>The class signature I would like to inject to would be along the lines of\n<code>\n    class SchemaLoaderImpl @Inject constructor(resolvers: Set&lt;@JvmSuppressWildcards GraphQLResolver>\n</code></p>\n"}, {"tags": ["java", "amazon-web-services", "kotlin", "amazon-simpledb"], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 1565424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hYtGr.jpg?s=128&g=1", "display_name": "Manoj Shevate", "link": "https://stackoverflow.com/users/1565424/manoj-shevate"}, "is_accepted": true, "score": 0, "last_activity_date": 1519216242, "creation_date": 1519216242, "answer_id": 48906008, "question_id": 48765258, "link": "https://stackoverflow.com/questions/48765258/select-item-using-itemname-in-aws-simpledb/48906008#48906008", "title": "Select item using ItemName in AWS simpledb", "body": "<p>I was using fake SimpleDB for testing, <a href=\"https://github.com/stephenh/fakesdb\" rel=\"nofollow noreferrer\">https://github.com/stephenh/fakesdb</a></p>\n\n<p>When I go through their code, I found that search by itemName() is not implemented there.</p>\n\n<p>So, when testing against the real SimpleDB I'm able to get the data with itemName(). </p>\n\n<p>Closing this question!</p>\n"}], "owner": {"reputation": 742, "user_id": 1565424, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hYtGr.jpg?s=128&g=1", "display_name": "Manoj Shevate", "link": "https://stackoverflow.com/users/1565424/manoj-shevate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 48906008, "answer_count": 1, "score": 0, "last_activity_date": 1519216242, "creation_date": 1518519703, "question_id": 48765258, "link": "https://stackoverflow.com/questions/48765258/select-item-using-itemname-in-aws-simpledb", "title": "Select item using ItemName in AWS simpledb", "body": "<p>I've recently started exploring SimpleDB java sdk. and I'm trying to get the item using the ItemName. \nplease refer below test code - </p>\n\n<pre><code>    val demoItem = Item(\"id1\", listOf(Attribute(\"fName\", \"Test7\"), Attribute(\"age\", \"21\")))\n\n    val result = client.select(SelectRequest().withSelectExpression(\"select * from demo where itemName() = 'id1' \"))\n\n    assertEquals(listOf(demoItem), result.items)\n</code></pre>\n\n<p>the result actually returns zero records. I'm not sure about where I'm doing wrong with this query.</p>\n\n<p>PS: I'm able to select item using attribute 'fName' and 'age'</p>\n"}, {"tags": ["java", "split", "kotlin"], "comments": [{"owner": {"reputation": 23877, "user_id": 1428606, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5daf03972dae4f96a2d09ca5cc681920?s=128&d=identicon&r=PG", "display_name": "Harald K", "link": "https://stackoverflow.com/users/1428606/harald-k"}, "edited": false, "score": 4, "creation_date": 1518518666, "post_id": 48764841, "comment_id": 84530181, "body": "The carriage returns (CR or <code>\\r</code>)? I think the output of your program is actually correct, but as the output contains CR characters but no line feed (LF or <code>\\n</code>), each line overwrites the previous. Try splitting on <code>\\r?\\n</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1519, "user_id": 2972348, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6f9edd3f6213aca1c54edefed5796033?s=128&d=identicon&r=PG&f=1", "display_name": "Ishan Khare", "link": "https://stackoverflow.com/users/2972348/ishan-khare"}, "is_accepted": true, "score": 0, "last_activity_date": 1518645568, "creation_date": 1518645568, "answer_id": 48796951, "question_id": 48764841, "link": "https://stackoverflow.com/questions/48764841/kotlin-split-giving-different-results-in-scripted-and-compiled-mode/48796951#48796951", "title": "Kotlin `split` giving different results in scripted and compiled mode", "body": "<p>As pointed out by @haraldK in the comments, I got it working properly by splitting at <code>\"\\r\\n\"</code></p>\n"}], "owner": {"reputation": 1519, "user_id": 2972348, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6f9edd3f6213aca1c54edefed5796033?s=128&d=identicon&r=PG&f=1", "display_name": "Ishan Khare", "link": "https://stackoverflow.com/users/2972348/ishan-khare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 48796951, "answer_count": 1, "score": 3, "last_activity_date": 1518645568, "creation_date": 1518518510, "question_id": 48764841, "link": "https://stackoverflow.com/questions/48764841/kotlin-split-giving-different-results-in-scripted-and-compiled-mode", "title": "Kotlin `split` giving different results in scripted and compiled mode", "body": "<p>I am having the following string (basically a raw HTTP request):</p>\n\n<pre><code>GET / HTTP/1.1            \nUser-Agent: Wget/1.19.1 (linux-gnu)                  \nAccept: */*               \nAccept-Encoding: identity \nHost: 0.0.0.0:5000        \nConnection: Keep-Alive    \n</code></pre>\n\n<p>It is stored in <code>this.requestData</code>. My function is something like:</p>\n\n<pre><code>println(this.requestData)                                                                                                                                                                         \nvar lines = this.requestData.split(\"\\n\")                                                                                                                                                          \nprintln(lines)\n</code></pre>\n\n<p>this output I'm getting on compiling and running the program is:</p>\n\n<pre><code>GET / HTTP/1.1           \nUser-Agent: Wget/1.19.1 (linux-gnu)                  \nAccept: */*               \nAccept-Encoding: identity \nHost: 0.0.0.0:5000        \nConnection: Keep-Alive    \n\n\n, ]onnection: Keep-Aliveitylinux-gnu)\n</code></pre>\n\n<p>This means there's definitely something wrong with the <code>split</code> call. However if I test my code in the interactive shell:</p>\n\n<pre><code>$ kotlinc                                                                       \nWelcome to Kotlin version 1.2.21 (JRE 1.8.0_151-8u151-b12-0ubuntu0.17.10.2-b12)                           \nType :help for help, :quit for quit                  \n&gt;&gt;&gt; var requestData = \"\"\"GET / HTTP/1.1                                                                   \n... User-Agent: Wget/1.19.1 (linux-gnu)                                                                   \n... Accept: */*                                      \n... Accept-Encoding: identity                        \n... Host: 0.0.0.0:5000                               \n... Connection: Keep-Alive                           \n...                       \n...                       \n... \"\"\"                   \n&gt;&gt;&gt; var lines = requestData.split(\"\\n\")\n&gt;&gt;&gt; lines\n[GET / HTTP/1.1           , User-Agent: Wget/1.19.1 (linux-gnu)                  , Accept: */*               , Accept-Encoding: identity , Host: 0.0.0.0:5000        , Connection: Keep-Alive    , , , ]\n</code></pre>\n\n<p>I get the expected result. What am I missing here?</p>\n"}, {"tags": ["java", "android", "rotation", "kotlin", "drawable"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518513258, "post_id": 48762871, "comment_id": 84526662, "body": "see <code>RotateDrawable</code> class"}, {"owner": {"reputation": 21, "user_id": 7923623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12461ad2f97edd0115e3da22331d87b8?s=128&d=identicon&r=PG&f=1", "display_name": "Rik van der Werf", "link": "https://stackoverflow.com/users/7923623/rik-van-der-werf"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518514181, "post_id": 48762871, "comment_id": 84527309, "body": "@pskink I don&#39;t know how i add a RotateDrawable inside the textView"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1518514228, "post_id": 48762871, "comment_id": 84527345, "body": "<code>TextView#setCompoundDrawablesWithIntrinsicBounds</code>"}, {"owner": {"reputation": 21, "user_id": 7923623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12461ad2f97edd0115e3da22331d87b8?s=128&d=identicon&r=PG&f=1", "display_name": "Rik van der Werf", "link": "https://stackoverflow.com/users/7923623/rik-van-der-werf"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518517321, "post_id": 48762871, "comment_id": 84529297, "body": "@pskink That function takes <code>Drawable</code>. Not <code>RotateDrawable</code>?"}, {"owner": {"reputation": 417, "user_id": 920379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2luTf.jpg?s=128&g=1", "display_name": "Nafiz Bay\u0131nd\u0131r", "link": "https://stackoverflow.com/users/920379/nafiz-bay%c4%b1nd%c4%b1r"}, "edited": false, "score": 0, "creation_date": 1518519331, "post_id": 48762871, "comment_id": 84530607, "body": "RotateDrawable extends Drawable."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1518523947, "post_id": 48762871, "comment_id": 84533259, "body": "@RikvanderWerf yes indeed, <code>RotateDrawable</code> is also <code>Drawable</code>"}, {"owner": {"reputation": 1411, "user_id": 2933050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/73ghS.jpg?s=128&g=1", "display_name": "Ali mohammadi", "link": "https://stackoverflow.com/users/2933050/ali-mohammadi"}, "edited": false, "score": 0, "creation_date": 1518524410, "post_id": 48762871, "comment_id": 84533552, "body": "Look at this : <a href=\"https://stackoverflow.com/questions/27964973/set-rotated-drawable-as-textviews-drawableleft\" title=\"set rotated drawable as textviews drawableleft\">stackoverflow.com/questions/27964973/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 7923623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12461ad2f97edd0115e3da22331d87b8?s=128&d=identicon&r=PG&f=1", "display_name": "Rik van der Werf", "link": "https://stackoverflow.com/users/7923623/rik-van-der-werf"}, "edited": false, "score": 0, "creation_date": 1518525251, "post_id": 48762871, "comment_id": 84534108, "body": "Got it to work!, thanks"}], "owner": {"reputation": 21, "user_id": 7923623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12461ad2f97edd0115e3da22331d87b8?s=128&d=identicon&r=PG&f=1", "display_name": "Rik van der Werf", "link": "https://stackoverflow.com/users/7923623/rik-van-der-werf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 894, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518512265, "creation_date": 1518512265, "question_id": 48762871, "link": "https://stackoverflow.com/questions/48762871/how-to-rotate-a-drawable-inside-a-textview-in-android", "title": "How to rotate a drawable inside a textView in Android", "body": "<p>I have a <code>collapsingToolbarLayout</code> with a calendar inside it. The title of the toolbar is the current month selected. (It's identical to the google calendar mobile app).</p>\n\n<p>When swiping from month to month the title changes. I'm doing this with a <code>Textswitcher</code>. I have an arrow drawable inside the <code>textView</code> (which i add from inside the code) next to the title which I want to rotate when collapsing and expanding the calendar.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>&lt;TextSwitcher\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/date_title\"\n    android:layout_gravity=\"center_vertical\"&gt;\n    &lt;TextView\n        android:textColor=\"@android:color/white\"\n        android:maxLines=\"1\"\n        android:id=\"@+id/main_title\"\n        android:ellipsize=\"end\"\n        android:layout_gravity=\"center_vertical\"\n        android:textAppearance=\"@style/TextAppearance.Widget.AppCompat.Toolbar.Title\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"/&gt;\n    &lt;TextView\n        android:textColor=\"@android:color/white\"\n        android:maxLines=\"1\"\n        android:ellipsize=\"end\"\n        android:id=\"@+id/main_title_2\"\n        android:layout_gravity=\"center_vertical\"\n        android:textAppearance=\"@style/TextAppearance.Widget.AppCompat.Toolbar.Title\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"/&gt;\n&lt;/TextSwitcher&gt;\n</code></pre>\n\n<p>And I add the arrow by doing:</p>\n\n<pre><code>arrow = ContextCompat.getDrawable(context!!,R.drawable.ic_arrow_drop_down_white)!!\nmainTitle = toolbarTitle.main_title\nsecondTitle = toolbarTitle.main_title_2\nmainTitle.setCompoundDrawablesWithIntrinsicBounds(0,0,R.drawable.ic_arrow_drop_down_white,0)\nsecondTitle.setCompoundDrawablesWithIntrinsicBounds(0,0,R.drawable.ic_arrow_drop_down_white,0)\n</code></pre>\n\n<p>How to I rotate the arrow?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6835, "user_id": 6021597, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/iyl6H.jpg?s=128&g=1", "display_name": "Ayush Gupta", "link": "https://stackoverflow.com/users/6021597/ayush-gupta"}, "edited": false, "score": 0, "creation_date": 1518507213, "post_id": 48761525, "comment_id": 84523456, "body": "will the numbers always be sequential?"}, {"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "reply_to_user": {"reputation": 6835, "user_id": 6021597, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/iyl6H.jpg?s=128&g=1", "display_name": "Ayush Gupta", "link": "https://stackoverflow.com/users/6021597/ayush-gupta"}, "edited": false, "score": 0, "creation_date": 1518507269, "post_id": 48761525, "comment_id": 84523486, "body": "Yes, i want to start new line with every number"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1518507425, "post_id": 48761525, "comment_id": 84523567, "body": "The data is one column &amp; row in SQLite? If so, why?"}, {"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "edited": false, "score": 0, "creation_date": 1518507474, "post_id": 48761525, "comment_id": 84523587, "body": "It is and i need it to be like this"}, {"owner": {"reputation": 3340, "user_id": 515621, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/da0e0458d61390b33ad4a00411e76dd7?s=128&d=identicon&r=PG", "display_name": "j-p", "link": "https://stackoverflow.com/users/515621/j-p"}, "edited": false, "score": 0, "creation_date": 1518507842, "post_id": 48761525, "comment_id": 84523786, "body": "i&#39;d suspect you could use Regex to find &#39;integer[space]&#39; and replace it with &#39;[line break]integer[space]&#39; - Kotlin should understand javascript, if my limited understanding is correct.  - Im sorry I&#39;m not good with regex...but try searching on find and replace using regex."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1518511173, "post_id": 48761525, "comment_id": 84525436, "body": "Your input text <code>my_text</code> looks like it is already multi-line. Is it intentional?"}, {"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "edited": false, "score": 0, "creation_date": 1518511496, "post_id": 48761525, "comment_id": 84525611, "body": "Yes it is, this is arabic"}], "answers": [{"tags": [], "owner": {"reputation": 17779, "user_id": 1303324, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ArFzi.jpg?s=128&g=1", "display_name": "Krzysztof At\u0142asik", "link": "https://stackoverflow.com/users/1303324/krzysztof-at%c5%82asik"}, "is_accepted": true, "score": 3, "last_activity_date": 1518510924, "last_edit_date": 1518510924, "creation_date": 1518507807, "answer_id": 48761759, "question_id": 48761525, "link": "https://stackoverflow.com/questions/48761525/how-to-arrange-string-in-kotlin-by-the-numbers/48761759#48761759", "title": "How to arrange string in kotlin by the numbers?", "body": "<p>You can just split this string by regex.</p>\n\n<p>One option would be to use <code>\\\\s(?=\\\\d+)</code>, which will match whitespace character followed by any number of digits. For example:</p>\n\n<pre><code>val str = \"1 Hello world 2 how are you 3 im fine here\"\n\nval r = str.split(\"\\\\s(?=\\\\d+)\".toRegex())\n\nr.forEach(::println)\n</code></pre>\n\n<p>and then to create one string with newlines use <code>joinToString</code>:</p>\n\n<pre><code>println(r.joinToString(\"\\n\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "is_accepted": false, "score": 1, "last_activity_date": 1518509410, "creation_date": 1518509410, "answer_id": 48762157, "question_id": 48761525, "link": "https://stackoverflow.com/questions/48761525/how-to-arrange-string-in-kotlin-by-the-numbers/48762157#48762157", "title": "How to arrange string in kotlin by the numbers?", "body": "<p>I have used one kotlin method to remove whitespace with trimMargin() function and By default | is used as margin prefix.</p>\n\n<pre><code>        var text = \"\"\"|1 Hello world\n                |2 how are you\n                |3 im fine here\"\"\".trimMargin()\n    println(text)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3340, "user_id": 515621, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/da0e0458d61390b33ad4a00411e76dd7?s=128&d=identicon&r=PG", "display_name": "j-p", "link": "https://stackoverflow.com/users/515621/j-p"}, "edited": false, "score": 0, "creation_date": 1518511040, "post_id": 48762457, "comment_id": 84525370, "body": "ok, whoever -1&#39;d me for giving a workable answer, check yourself. that&#39;s rude."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1518511315, "post_id": 48762457, "comment_id": 84525503, "body": "If I am not mistaken, your answer is in JavaScript for some reason"}, {"owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "edited": false, "score": 0, "creation_date": 1518511556, "post_id": 48762457, "comment_id": 84525648, "body": "I don&#39;t know if you are talking about me but your answer didn&#39;t work but thanks for the help Anyway and sorry for bothering"}], "tags": [], "owner": {"reputation": 3340, "user_id": 515621, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/da0e0458d61390b33ad4a00411e76dd7?s=128&d=identicon&r=PG", "display_name": "j-p", "link": "https://stackoverflow.com/users/515621/j-p"}, "is_accepted": false, "score": -1, "last_activity_date": 1518510753, "creation_date": 1518510753, "answer_id": 48762457, "question_id": 48761525, "link": "https://stackoverflow.com/questions/48761525/how-to-arrange-string-in-kotlin-by-the-numbers/48762457#48762457", "title": "How to arrange string in kotlin by the numbers?", "body": "<p>Try this ..use '&lt; br >' instead of '\\n' if kotlin doesn't like it</p>\n\n<p>example string</p>\n\n<pre><code>str = '1 one 2 two, two and a half, 3 three and four and five';\nconsole.log(str); \n\n-- \n1 one 2 two, two and a half, 3 three and four and five\n</code></pre>\n\n<p>example solution</p>\n\n<pre><code>str2 = str.replace(/.(?=[0-9]\\s)/gi, '\\n');\nconsole.log(str2); \n\n--\n1 one \n2 two, two and a half, \n3 three and four and five\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1518512041, "creation_date": 1518512041, "answer_id": 48762807, "question_id": 48761525, "link": "https://stackoverflow.com/questions/48761525/how-to-arrange-string-in-kotlin-by-the-numbers/48762807#48762807", "title": "How to arrange string in kotlin by the numbers?", "body": "<p>This is a combination of @RandallFlagg's and @user3357604's answers and it does literally what was asked for, possible more efficently:</p>\n\n<pre><code>val text = \"1 \u0641\u0650\u064a \u0627\u0644\u0652\u0628\u064e\u062f\u0652\u0621\u0650 \u062e\u064e\u0644\u064e\u0642\u064e \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0633\u0651\u064e\u0645\u064e\u0627\u0648\u064e\u0627\u062a\u0650 \u0648\u064e\u0627\u0644\u0623\u064e\u0631\u0652\u0636\u064e. 2 \u0648\u064e\u0643\u064e\u0627\u0646\u064e\u062a\u0650 \u0627\u0644\u0623\u064e\u0631\u0652\u0636\u064f \u062e\u064e\u0631\u0650\u0628\u064e\u0629\u064b \u0648\u064e\u062e\u064e\u0627\u0644\u0650\u064a\u064e\u0629\u064b\u060c \u0648\u064e\u0639\u064e\u0644\u064e\u0649 \u0648\u064e\u062c\u0652\u0647\u0650 \u0627\u0644\u0652\u063a\u064e\u0645\u0652\u0631\u0650 \u0638\u064f\u0644\u0652\u0645\u064e\u0629\u064c\u060c \u0648\u064e\u0631\u064f\u0648\u062d\u064f \u0627\u0644\u0644\u0647\u0650 \u064a\u064e\u0631\u0650\u0641\u0651\u064f \u0639\u064e\u0644\u064e\u0649 \u0648\u064e\u062c\u0652\u0647\u0650 \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650. 3 \u0648\u064e\u0642\u064e\u0627\u0644\u064e \u0627\u0644\u0644\u0647\u064f: \u00ab\u0644\u0650\u064a\u064e\u0643\u064f\u0646\u0652 \u0646\u064f\u0648\u0631\u064c\u00bb\u060c \u0641\u064e\u0643\u064e\u0627\u0646\u064e \u0646\u064f\u0648\u0631\u064c. 4 \u0648\u064e\u0631\u064e\u0623\u064e\u0649 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0646\u0651\u064f\u0648\u0631\u064e \u0623\u064e\u0646\u0651\u064e\u0647\u064f \u062d\u064e\u0633\u064e\u0646\u064c. \u0648\u064e\u0641\u064e\u0635\u064e\u0644\u064e \u0627\u0644\u0644\u0647\u064f \u0628\u064e\u064a\u0652\u0646\u064e \u0627\u0644\u0646\u0651\u064f\u0648\u0631\u0650 \u0648\u064e\u0627\u0644\u0638\u0651\u064f\u0644\u0652\u0645\u064e\u0629\u0650. 5 \u0648\u064e\u062f\u064e\u0639\u064e\u0627 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0646\u0651\u064f\u0648\u0631\u064e \u0646\u064e\u0647\u064e\u0627\u0631\u064b\u0627\u060c \u0648\u064e\u0627\u0644\u0638\u0651\u064f\u0644\u0652\u0645\u064e\u0629\u064f \u062f\u064e\u0639\u064e\u0627\u0647\u064e\u0627 \u0644\u064e\u064a\u0652\u0644\u0627\u064b. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0645\u064e\u0633\u064e\u0627\u0621\u064c \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0635\u064e\u0628\u064e\u0627\u062d\u064c \u064a\u064e\u0648\u0652\u0645\u064b\u0627 \u0648\u064e\u0627\u062d\u0650\u062f\u064b\u0627.6 \u0648\u064e\u0642\u064e\u0627\u0644\u064e \u0627\u0644\u0644\u0647\u064f: \u00ab\u0644\u0650\u064a\u064e\u0643\u064f\u0646\u0652 \u062c\u064e\u0644\u064e\u062f\u064c \u0641\u0650\u064a \u0648\u064e\u0633\u064e\u0637\u0650 \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650. \u0648\u064e\u0644\u0652\u064a\u064e\u0643\u064f\u0646\u0652 \u0641\u064e\u0627\u0635\u0650\u0644\u0627\u064b \u0628\u064e\u064a\u0652\u0646\u064e \u0645\u0650\u064a\u064e\u0627\u0647\u064d \u0648\u064e\u0645\u0650\u064a\u064e\u0627\u0647\u064d\u00bb. 7 \u0641\u064e\u0639\u064e\u0645\u0650\u0644\u064e \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u064e\u060c \u0648\u064e\u0641\u064e\u0635\u064e\u0644\u064e \u0628\u064e\u064a\u0652\u0646\u064e \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650 \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u062a\u064e\u062d\u0652\u062a\u064e \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u0650 \u0648\u064e\u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650 \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0641\u064e\u0648\u0652\u0642\u064e \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u0650. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0643\u064e\u0630\u0644\u0650\u0643\u064e. 8 \u0648\u064e\u062f\u064e\u0639\u064e\u0627 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u064e \u0633\u064e\u0645\u064e\u0627\u0621\u064b. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0645\u064e\u0633\u064e\u0627\u0621\u064c \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0635\u064e\u0628\u064e\u0627\u062d\u064c \u064a\u064e\u0648\u0652\u0645\u064b\u0627 \u062b\u064e\u0627\u0646\u0650\u064a\u064b\u0627.9 \u0648\u064e\u0642\u064e\u0627\u0644\u064e \u0627\u0644\u0644\u0647\u064f: \u00ab\u0644\u0650\u062a\u064e\u062c\u0652\u062a\u064e\u0645\u0650\u0639\u0650 \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u064f \u062a\u064e\u062d\u0652\u062a\u064e \u0627\u0644\u0633\u0651\u064e\u0645\u064e\u0627\u0621\u0650 \u0625\u0650\u0644\u064e\u0649 \u0645\u064e\u0643\u064e\u0627\u0646\u064d \u0648\u064e\u0627\u062d\u0650\u062f\u064d\u060c \u0648\u064e\u0644\u0652\u062a\u064e\u0638\u0652\u0647\u064e\u0631\u0650 \u0627\u0644\u0652\u064a\u064e\u0627\u0628\u0650\u0633\u064e\u0629\u064f\u00bb. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0643\u064e\u0630\u0644\u0650\u0643\u064e. 10 \u0648\u064e\u062f\u064e\u0639\u064e\u0627 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0652\u064a\u064e\u0627\u0628\u0650\u0633\u064e\u0629\u064e \u0623\u064e\u0631\u0652\u0636\u064b\u0627\u060c \u0648\u064e\u0645\u064f\u062c\u0652\u062a\u064e\u0645\u064e\u0639\u064e \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650 \u062f\u064e\u0639\u064e\u0627\u0647\u064f \u0628\u0650\u062d\u064e\u0627\u0631\u064b\u0627. \u0648\u064e\u0631\u064e\u0623\u064e\u0649 \u0627\u0644\u0644\u0647\u064f \u0630\u0644\u0650\u0643\u064e \u0623\u064e\u0646\u0651\u064e\u0647\u064f \u062d\u064e\u0633\u064e\u0646\u064c. \"\n\nval res = text.replace(Regex(\"\"\"(\\d+)\\s\"\"\")) { match -&gt; \n    val (num) = match.destructured \n    \"\\n$num \"\n}\n\nprintln(res)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 9281761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hYbR9.jpg?s=128&g=1", "display_name": "marcel_maro", "link": "https://stackoverflow.com/users/9281761/marcel-maro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 2, "accepted_answer_id": 48761759, "answer_count": 4, "score": 2, "last_activity_date": 1518530482, "creation_date": 1518506915, "last_edit_date": 1518511112, "question_id": 48761525, "link": "https://stackoverflow.com/questions/48761525/how-to-arrange-string-in-kotlin-by-the-numbers", "title": "How to arrange string in kotlin by the numbers?", "body": "<p>I have string with text and numbers like this for example </p>\n\n<p><code>var text = \"1 Hello world 2 how are you 3 im fine here\"</code>  </p>\n\n<p>How i can make it start new line by every number?? Like this</p>\n\n<pre><code>1 Hello world\n2 how are you\n3 I'm fine \n</code></pre>\n\n<p>And That is the text <code>var my_text = \"1 \u0641\u0650\u064a \u0627\u0644\u0652\u0628\u064e\u062f\u0652\u0621\u0650 \u062e\u064e\u0644\u064e\u0642\u064e \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0633\u0651\u064e\u0645\u064e\u0627\u0648\u064e\u0627\u062a\u0650 \u0648\u064e\u0627\u0644\u0623\u064e\u0631\u0652\u0636\u064e. \n2 \u0648\u064e\u0643\u064e\u0627\u0646\u064e\u062a\u0650 \u0627\u0644\u0623\u064e\u0631\u0652\u0636\u064f \u062e\u064e\u0631\u0650\u0628\u064e\u0629\u064b \u0648\u064e\u062e\u064e\u0627\u0644\u0650\u064a\u064e\u0629\u064b\u060c \u0648\u064e\u0639\u064e\u0644\u064e\u0649 \u0648\u064e\u062c\u0652\u0647\u0650 \u0627\u0644\u0652\u063a\u064e\u0645\u0652\u0631\u0650 \u0638\u064f\u0644\u0652\u0645\u064e\u0629\u064c\u060c \u0648\u064e\u0631\u064f\u0648\u062d\u064f \u0627\u0644\u0644\u0647\u0650 \u064a\u064e\u0631\u0650\u0641\u0651\u064f \u0639\u064e\u0644\u064e\u0649 \u0648\u064e\u062c\u0652\u0647\u0650 \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650. \n3 \u0648\u064e\u0642\u064e\u0627\u0644\u064e \u0627\u0644\u0644\u0647\u064f: \u00ab\u0644\u0650\u064a\u064e\u0643\u064f\u0646\u0652 \u0646\u064f\u0648\u0631\u064c\u00bb\u060c \u0641\u064e\u0643\u064e\u0627\u0646\u064e \u0646\u064f\u0648\u0631\u064c. \n4 \u0648\u064e\u0631\u064e\u0623\u064e\u0649 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0646\u0651\u064f\u0648\u0631\u064e \u0623\u064e\u0646\u0651\u064e\u0647\u064f \u062d\u064e\u0633\u064e\u0646\u064c. \u0648\u064e\u0641\u064e\u0635\u064e\u0644\u064e \u0627\u0644\u0644\u0647\u064f \u0628\u064e\u064a\u0652\u0646\u064e \u0627\u0644\u0646\u0651\u064f\u0648\u0631\u0650 \u0648\u064e\u0627\u0644\u0638\u0651\u064f\u0644\u0652\u0645\u064e\u0629\u0650. \n5 \u0648\u064e\u062f\u064e\u0639\u064e\u0627 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0646\u0651\u064f\u0648\u0631\u064e \u0646\u064e\u0647\u064e\u0627\u0631\u064b\u0627\u060c \u0648\u064e\u0627\u0644\u0638\u0651\u064f\u0644\u0652\u0645\u064e\u0629\u064f \u062f\u064e\u0639\u064e\u0627\u0647\u064e\u0627 \u0644\u064e\u064a\u0652\u0644\u0627\u064b. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0645\u064e\u0633\u064e\u0627\u0621\u064c \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0635\u064e\u0628\u064e\u0627\u062d\u064c \u064a\u064e\u0648\u0652\u0645\u064b\u0627 \u0648\u064e\u0627\u062d\u0650\u062f\u064b\u0627.\n6 \u0648\u064e\u0642\u064e\u0627\u0644\u064e \u0627\u0644\u0644\u0647\u064f: \u00ab\u0644\u0650\u064a\u064e\u0643\u064f\u0646\u0652 \u062c\u064e\u0644\u064e\u062f\u064c \u0641\u0650\u064a \u0648\u064e\u0633\u064e\u0637\u0650 \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650. \u0648\u064e\u0644\u0652\u064a\u064e\u0643\u064f\u0646\u0652 \u0641\u064e\u0627\u0635\u0650\u0644\u0627\u064b \u0628\u064e\u064a\u0652\u0646\u064e \u0645\u0650\u064a\u064e\u0627\u0647\u064d \u0648\u064e\u0645\u0650\u064a\u064e\u0627\u0647\u064d\u00bb. \n7 \u0641\u064e\u0639\u064e\u0645\u0650\u0644\u064e \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u064e\u060c \u0648\u064e\u0641\u064e\u0635\u064e\u0644\u064e \u0628\u064e\u064a\u0652\u0646\u064e \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650 \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u062a\u064e\u062d\u0652\u062a\u064e \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u0650 \u0648\u064e\u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650 \u0627\u0644\u0651\u064e\u062a\u0650\u064a \u0641\u064e\u0648\u0652\u0642\u064e \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u0650. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0643\u064e\u0630\u0644\u0650\u0643\u064e. \n8 \u0648\u064e\u062f\u064e\u0639\u064e\u0627 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0652\u062c\u064e\u0644\u064e\u062f\u064e \u0633\u064e\u0645\u064e\u0627\u0621\u064b. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0645\u064e\u0633\u064e\u0627\u0621\u064c \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0635\u064e\u0628\u064e\u0627\u062d\u064c \u064a\u064e\u0648\u0652\u0645\u064b\u0627 \u062b\u064e\u0627\u0646\u0650\u064a\u064b\u0627.\n9 \u0648\u064e\u0642\u064e\u0627\u0644\u064e \u0627\u0644\u0644\u0647\u064f: \u00ab\u0644\u0650\u062a\u064e\u062c\u0652\u062a\u064e\u0645\u0650\u0639\u0650 \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u064f \u062a\u064e\u062d\u0652\u062a\u064e \u0627\u0644\u0633\u0651\u064e\u0645\u064e\u0627\u0621\u0650 \u0625\u0650\u0644\u064e\u0649 \u0645\u064e\u0643\u064e\u0627\u0646\u064d \u0648\u064e\u0627\u062d\u0650\u062f\u064d\u060c \u0648\u064e\u0644\u0652\u062a\u064e\u0638\u0652\u0647\u064e\u0631\u0650 \u0627\u0644\u0652\u064a\u064e\u0627\u0628\u0650\u0633\u064e\u0629\u064f\u00bb. \u0648\u064e\u0643\u064e\u0627\u0646\u064e \u0643\u064e\u0630\u0644\u0650\u0643\u064e. \n10 \u0648\u064e\u062f\u064e\u0639\u064e\u0627 \u0627\u0644\u0644\u0647\u064f \u0627\u0644\u0652\u064a\u064e\u0627\u0628\u0650\u0633\u064e\u0629\u064e \u0623\u064e\u0631\u0652\u0636\u064b\u0627\u060c \u0648\u064e\u0645\u064f\u062c\u0652\u062a\u064e\u0645\u064e\u0639\u064e \u0627\u0644\u0652\u0645\u0650\u064a\u064e\u0627\u0647\u0650 \u062f\u064e\u0639\u064e\u0627\u0647\u064f \u0628\u0650\u062d\u064e\u0627\u0631\u064b\u0627. \u0648\u064e\u0631\u064e\u0623\u064e\u0649 \u0627\u0644\u0644\u0647\u064f \u0630\u0644\u0650\u0643\u064e \u0623\u064e\u0646\u0651\u064e\u0647\u064f \u062d\u064e\u0633\u064e\u0646\u064c. \"</code></p>\n\n<p>Just for the info:the text is in sqlite database and \nI want to show it in android text view</p>\n"}, {"tags": ["android", "json", "parsing", "kotlin"], "comments": [{"owner": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "edited": false, "score": 2, "creation_date": 1518506481, "post_id": 48761390, "comment_id": 84523135, "body": "Show your <code>json</code> data ."}, {"owner": {"reputation": 10997, "user_id": 182289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8a9e9df04ece9865fed808e9fdcdc41b?s=128&d=identicon&r=PG", "display_name": "stepanian", "link": "https://stackoverflow.com/users/182289/stepanian"}, "edited": false, "score": 0, "creation_date": 1518508093, "post_id": 48761390, "comment_id": 84523880, "body": "If it works in Java, why use Kotlin? Please format your code, it looks pretty awful."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1518511543, "post_id": 48761390, "comment_id": 84525639, "body": "Also, if it works in Java you can get an idea of how Kotlin code should be by letting IntelliJ convert Java to Kotlin (<code>Code -&gt; Convert Java file to Kotlin file</code>). The result might not be perfect, but it&#39;s a good starting point"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1518512411, "post_id": 48761390, "comment_id": 84526168, "body": "post your json url or data"}, {"owner": {"reputation": 29, "user_id": 9288201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08c29ca170276df5f2791594dbb0421?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/9288201/developer"}, "edited": false, "score": 0, "creation_date": 1518517127, "post_id": 48761390, "comment_id": 84529156, "body": "This is my Json array: I need particular json object( such as name)  { \t&quot;Users&quot;: [{ \t\t\t&quot;id&quot;: &quot;U1&quot;, \t\t\t&quot;name&quot;: &quot;John&quot;, \t\t\t&quot;age&quot;: &quot;20&quot;, \t\t\t&quot;gender&quot;: &quot;male&quot;, \t\t\t&quot;email&quot;: { \t\t\t\t&quot;primary&quot;: &quot;john@gmail.com&quot;, \t\t\t\t&quot;secondary&quot;: &quot;many@gmail.com&quot; \t\t\t} \t\t}, \t\t{ \t\t\t&quot;id&quot;: &quot;U2&quot;, \t\t\t&quot;name&quot;: &quot;Sam&quot;, \t\t\t&quot;age&quot;: &quot;28&quot;, \t\t\t&quot;gender&quot;: &quot;male&quot;, \t\t\t&quot;email&quot;: { \t\t\t\t&quot;primary&quot;: &quot;sam@gmail.com&quot;, \t\t\t\t&quot;secondary&quot;: &quot;kid@gmail.com&quot; \t\t\t} \t\t}  \t] }"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 1, "creation_date": 1554884026, "post_id": 48761390, "comment_id": 97910151, "body": "just use [Gson ](<a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">github.com/google/gson</a>)"}, {"owner": {"reputation": 6412, "user_id": 860488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33cda947b1847d58e3b2bdc037aa8bc8?s=128&d=identicon&r=PG", "display_name": "Morten Holmgaard", "link": "https://stackoverflow.com/users/860488/morten-holmgaard"}, "edited": false, "score": 0, "creation_date": 1558691592, "post_id": 48761390, "comment_id": 99192692, "body": "Use Moshi - gson 3.0 <a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">github.com/square/moshi</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 0, "last_activity_date": 1523830369, "creation_date": 1523830369, "answer_id": 49847291, "question_id": 48761390, "link": "https://stackoverflow.com/questions/48761390/how-to-parse-json-in-kotlin/49847291#49847291", "title": "How to parse JSON in Kotlin", "body": "<p>Use <code>jsonObject.getString(paramName: String)</code>, not <code>jsonObject.get(paramName: String).toString()</code>.</p>\n\n<p>Or you can also cast this object to string.\nSee <a href=\"http://www.docjar.com/docs/api/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">http://www.docjar.com/docs/api/org/json/JSONObject.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2223, "user_id": 496895, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/tcfXe.jpg?s=128&g=1", "display_name": "Syed Absar", "link": "https://stackoverflow.com/users/496895/syed-absar"}, "is_accepted": false, "score": 0, "last_activity_date": 1554883214, "creation_date": 1554883214, "answer_id": 55607539, "question_id": 48761390, "link": "https://stackoverflow.com/questions/48761390/how-to-parse-json-in-kotlin/55607539#55607539", "title": "How to parse JSON in Kotlin", "body": "<p>The best and quick practice is instead of manually checking for each key, generate native Kotlin \"data classes\" using tools e.g. <a href=\"https://json2kotlin.com\" rel=\"nofollow noreferrer\">https://json2kotlin.com</a></p>\n\n<p>So your API response turns into the following couple of data classes corresponding to the JSON structure:</p>\n\n<pre><code>data class Json4Kotlin_Base (\n\n    val users : List&lt;Users&gt;\n)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>data class Users (\n\n    val id : String,\n    val name : String,\n    val age : Int,\n    val gender : String,\n    val email : Email\n)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>data class Email (\n\n    val primary : String,\n    val secondary : String\n)\n</code></pre>\n\n<p>When you get the result, you simple map the JSON response to these data classes. The <a href=\"https://www.youtube.com/watch?v=n46WbgNoEnE\" rel=\"nofollow noreferrer\">video here</a> shows how to do it step by step, and includes more sample code.</p>\n"}], "owner": {"reputation": 29, "user_id": 9288201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08c29ca170276df5f2791594dbb0421?s=128&d=identicon&r=PG&f=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/9288201/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 10604, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1617868980, "creation_date": 1518506291, "last_edit_date": 1523903931, "question_id": 48761390, "link": "https://stackoverflow.com/questions/48761390/how-to-parse-json-in-kotlin", "title": "How to parse JSON in Kotlin", "body": "<p>How can I parse JSON in Kotlin?  It gets the entire array from JSON but can not get a particular object from the Array.</p>\n\n<p>It worked in Java but not in Kotlin.</p>\n\n<pre><code>try {\n    val jsonObject = JSONObject(result)\n    val users = jsonObject.getJSONArray(\"Users\")\n    for (i in 0 until users.length())\n    {\n        Toast.makeText(applicationContext,\"Json Result is----\"+result,Toast.LENGTH_LONG).show()\n        val obj = users.getJSONObject(i)\n        val name = obj.get(\"name\").toString()\n        Toast.makeText(applicationContext, \"User name: \"+name , Toast.LENGTH_LONG).show();\n    }\n}catch(e: JSONException){}\n</code></pre>\n"}, {"tags": ["json", "xmlhttprequest", "kotlin", "ktor"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1518507610, "post_id": 48760620, "comment_id": 84523674, "body": "Does the request have the correct content type?"}, {"owner": {"reputation": 31, "user_id": 8738243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/316408214b962818646fac95e991b5ec?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Heller", "link": "https://stackoverflow.com/users/8738243/aidan-heller"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1518558402, "post_id": 48760620, "comment_id": 84554142, "body": "That seems to have been my problem. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": false, "score": 2, "last_activity_date": 1518591254, "creation_date": 1518591254, "answer_id": 48781292, "question_id": 48760620, "link": "https://stackoverflow.com/questions/48760620/how-do-i-convert-json-into-a-kotlin-object-in-ktor-using-content-negotiation/48781292#48781292", "title": "How do I convert json into a kotlin object in ktor using content negotiation?", "body": "<p>For completeness, since my comment seems to have helped:</p>\n\n<p>You need to be sure that the request's <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"nofollow noreferrer\"><code>Content-Type</code> header</a> is set to the correct value, in this case, <a href=\"https://stackoverflow.com/questions/9254891/what-does-content-type-application-json-charset-utf-8-really-mean\"><code>application/json</code></a>, otherwise the server cannot be entirely sure what to do with the received content.</p>\n\n<blockquote>\n  <p>In requests, (such as <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\"><code>POST</code></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/PUT\" rel=\"nofollow noreferrer\"><code>PUT</code></a>), the client tells the server what type of data is actually sent.</p>\n</blockquote>\n\n<pre><code>xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8738243, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/316408214b962818646fac95e991b5ec?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Heller", "link": "https://stackoverflow.com/users/8738243/aidan-heller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518591254, "creation_date": 1518502867, "question_id": 48760620, "link": "https://stackoverflow.com/questions/48760620/how-do-i-convert-json-into-a-kotlin-object-in-ktor-using-content-negotiation", "title": "How do I convert json into a kotlin object in ktor using content negotiation?", "body": "<p>I'm new to Ktor, and I'm trying to build a backend that processes login credentials. I'm attempting to use the content negotiation feature to convert JSON into a native Kotlin object, but I keep getting an unsupported media type exception. Here is my code:</p>\n\n<pre><code>fun Application.main() {\n    install(CallLogging)\n    install(DefaultHeaders)\n    install(ContentNegotiation) {\n        register(ContentType.Application.Json, GsonConverter())\n    }\n    routing {\n        get(\"/\") {\n            call.respondHtml {\n                head {\n                    title(\"Kotlin Webapp\")\n                    script {\n                        type = ScriptType.textJScript\n                        src = \"main.bundle.js\"\n                    }\n                }\n                body {\n                    div {\n                        id = \"root\"\n                    }\n                }\n            }\n        }\n        post(\"/login\") {\n            val credentials = call.receive&lt;Credentials&gt;()\n            println(credentials)\n        }\n    }\n}\n\ndata class Credentials(val username: String, val password: String)\n</code></pre>\n\n<p>And here is the incoming Json I am trying to convert, which I am sending via XMLHttpRequest:</p>\n\n<pre><code>{\"username\":\"Jamdan2\",\"password\":\"sometext\"}\n</code></pre>\n\n<p>I have searched the web for answers, but could not find what I am doing wrong. Can anybody help?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1518499525, "post_id": 48759979, "comment_id": 84520490, "body": "show logcat please"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1518499688, "post_id": 48759979, "comment_id": 84520551, "body": "post your crash report"}], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1518501284, "creation_date": 1518501284, "answer_id": 48760288, "question_id": 48759979, "link": "https://stackoverflow.com/questions/48759979/kotlin-kotlinnull-on-fragment-android/48760288#48760288", "title": "kotlin.KotlinNull on Fragment Android", "body": "<p>Your fragment is null so  Before call fragment method commit it first. then use fragment methods </p>\n\n<pre><code>private var mProfile: ProfileFragment? = null\n</code></pre>\n\n<p>Inside onCreate</p>\n\n<pre><code>    if(savedInstanceState == null)\n    {\n    mProfile = new ProfileFragment();\n    mProfile.setTag(R.id.myfragmentId);\n    getFragmentManager().beginTransaction()\n        .add(R.id.container, mProfile).commit();\n    }\n   else\n   {\n    if(mProfile == null)\n    {\n        mProfile = (ProfileFragment) getFragmentManager().findFragmentByTag(R.id.myfragmentId);\n    }\n    }\n</code></pre>\n\n<p>then</p>\n\n<pre><code>  mProfile!!.getAdapter()!!.setOnStatusChangeListener(mStatusListener)\n                if (mProfile!!.getAdapter()!!.hasErrors())\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9010375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc92edf79f02f8249ca85458e792b57?s=128&d=identicon&r=PG&f=1", "display_name": "James Deak", "link": "https://stackoverflow.com/users/9010375/james-deak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 0, "accepted_answer_id": 48760288, "answer_count": 1, "score": -1, "last_activity_date": 1518501284, "creation_date": 1518499462, "last_edit_date": 1518500582, "question_id": 48759979, "link": "https://stackoverflow.com/questions/48759979/kotlin-kotlinnull-on-fragment-android", "title": "kotlin.KotlinNull on Fragment Android", "body": "<p>I always get this error </p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{batstate.companionemergencybutton/batstate.commutersalertbutton.SetupActivity}: kotlin.KotlinNullPointerException. </p>\n</blockquote>\n\n<p>When starting my activity. The part of getAdapter on the setupActivity always crashes. I have checked my XML and i have already added the fragment component that includes the ProfileFragment. I think that i have not initialized my Profile fragment on the setup activity. But how can i setup that ? </p>\n\n<p><strong>SetupActivity</strong></p>\n\n<pre><code>     private var mProfile: ProfileFragment? = null\n\n override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_setup)\n\n        mProfile = ProfileFragment()\n\n        mStatusListener = OnStatusChangeListener { status -&gt;\n            if (status === OnStatusChangeListener.Status.NO_ERROR)\n                next_button!!.setEnabled(true)\n            else\n                next_button!!.setEnabled(false)\n        }\n\n     mProfile!!.getAdapter()!!.setOnStatusChangeListener(mStatusListener)\n                    if (mProfile!!.getAdapter()!!.hasErrors())\n</code></pre>\n\n<p><strong>ProfileFragment</strong></p>\n\n<pre><code>class ProfileAdapter(private val mContext: Context) : BaseAdapter(), AdapterView.OnItemClickListener {\n\n    private val mInflater: LayoutInflater = mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    private val mData: ArrayList&lt;HashMap&lt;String, Any&gt;&gt; = ArrayList()\n\n    // Event Listeners\n    private var mOnStatusChangeListener: OnStatusChangeListener? = null\n\n    override fun getItem(i: Int): HashMap&lt;String, Any&gt; {\n        return mData[i]\n    }\n\n    override fun getItemId(i: Int): Long {\n        return i.toLong()\n    }\n\n    override fun getCount(): Int {\n        return mData.size\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n        var convertView = convertView\n        val data = mData[position]\n        val holder: ViewHolder\n        if (convertView == null) {\n            convertView = mInflater.inflate(android.R.layout.simple_list_item_2, parent, false)\n            holder = ViewHolder()\n            holder.text1 = convertView!!.findViewById&lt;View&gt;(android.R.id.text1) as TextView\n            holder.text2 = convertView.findViewById&lt;View&gt;(android.R.id.text2) as TextView\n            convertView.tag = holder\n        } else\n            holder = convertView.tag as ViewHolder\n\n        holder.text1!!.text = data[\"title\"].toString()\n        var value = data[\"value\"].toString()\n        if (value.isEmpty())\n            value = \"Tap to select\"\n\n        holder.text2!!.text = value\n\n        return convertView\n    }\n\n    private class ViewHolder {\n        internal var text1: TextView? = null\n        internal var text2: TextView? = null\n    }\n\n    fun hasErrors(): Boolean {\n        for (data in mData) {\n            if (data[\"value\"].toString().isEmpty())\n                return true\n        }\n        return false\n    }\n}\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                                                   Process: batstate.companionemergencybutton, PID: 20824\n                                                                                   java.lang.RuntimeException: Unable to start activity ComponentInfo{batstate.companionemergencybutton/batstate.commutersalertbutton.SetupActivity}: kotlin.KotlinNullPointerException\n                                                                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\n                                                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n                                                                                       at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n                                                                                       at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                       at android.os.Looper.loop(Looper.java:154)\n                                                                                       at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n                                                                                    Caused by: kotlin.KotlinNullPointerException\n                                                                                       at batstate.commutersalertbutton.SetupActivity.updateContent(SetupActivity.kt:102)\n                                                                                       at batstate.commutersalertbutton.SetupActivity.onControlClicked(SetupActivity.kt:71)\n                                                                                       at batstate.commutersalertbutton.SetupActivity.onCreate(SetupActivity.kt:36)\n                                                                                       at android.app.Activity.performCreate(Activity.java:6679)\n                                                                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                                       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\n</code></pre>\n\n<p>BTW the </p>\n\n<blockquote>\n  <p>(SetupActivity.kt:102)</p>\n</blockquote>\n\n<p>error is <code>mProfile!!.getAdapter()!!.setOnStatusChangeListener(mStatusListener)</code></p>\n"}, {"tags": ["java", "intellij-idea", "autocomplete", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7399492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPzbv.png?s=128&g=1", "display_name": "entenfuss", "link": "https://stackoverflow.com/users/7399492/entenfuss"}, "edited": false, "score": 0, "creation_date": 1582634808, "post_id": 48755480, "comment_id": 106838299, "body": "I am new in Kotlin. What is the idea of using the star syntax for the java.util package?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 17, "last_activity_date": 1554119917, "last_edit_date": 1554119917, "creation_date": 1518469442, "answer_id": 48755480, "question_id": 48755419, "link": "https://stackoverflow.com/questions/48755419/disable-intellij-kotlin-starred-imports/48755480#48755480", "title": "Disable IntelliJ kotlin starred Imports?", "body": "<p>You can configure this in the settings. Go to <em>Editor -> Code Style -> Kotlin -> Imports</em> in the preferences dialog. The <code>java.util</code> package is probably listed in <strong>Packages to Use Import with '*'</strong>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/OmsWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmsWf.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 11971, "user_id": 1100135, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7b273722f4261cd61c3256374da73cc?s=128&d=identicon&r=PG", "display_name": "piotrek", "link": "https://stackoverflow.com/users/1100135/piotrek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2261, "favorite_count": 1, "accepted_answer_id": 48755480, "answer_count": 1, "score": 8, "last_activity_date": 1554119917, "creation_date": 1518469129, "question_id": 48755419, "link": "https://stackoverflow.com/questions/48755419/disable-intellij-kotlin-starred-imports", "title": "Disable IntelliJ kotlin starred Imports?", "body": "<p>in java i have star import disabled and it works correctly. but in kotlin when i import UUID it adds\n<code>import java.util.*</code> instead of <code>import java.util.UUID</code>. there is no <code>&lt;alt&gt;+enter</code> option to change it, i see no option in settings to change it. any idea how to change this behavior?</p>\n\n<p>IntelliJ IDEA 2017.3.4 (Community Edition)\nBuild #IC-173.4548.28, built on January 30, 2018</p>\n"}, {"tags": ["java", "kotlin", "aop", "aspectj", "spring-aop"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "edited": false, "score": 0, "creation_date": 1518513463, "post_id": 48757851, "comment_id": 84526822, "body": "Thanks for a very comprehensive response!"}], "tags": [], "owner": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "is_accepted": true, "score": 1, "last_activity_date": 1518519789, "last_edit_date": 1518519789, "creation_date": 1518482693, "answer_id": 48757851, "question_id": 48755263, "link": "https://stackoverflow.com/questions/48755263/spring-and-aop-handling-every-thrown-exception/48757851#48757851", "title": "Spring and AOP - handling every thrown exception", "body": "<p>Yes, Spring AOP only works for Spring components and only for public methods (plus protected and package-protected ones for CGLIB proxies). It also does not work for self-invoked methods like <code>this.doSomething()</code> because those do not go through the proxy. Only if your exceptions escalate outside a method called via proxy, Spring AOP will be able to intercept it.</p>\n\n<p>AspectJ with LTW (load-time weaving) or CTW (compile-time weaving) does not have any of those limitations, plus you can also handle exceptions in constructors, not just in methods.</p>\n\n<p>Never having used Kotlin before, I cannot tell you what possible problems might be there, but final classes should not be a problem as such because AspectJ instruments the classes' bytecode directly, not via proxies. Just give it a try.</p>\n\n<p>BTW, just in case you only use Spring because of AOP: You do not need to use Spring at all in order to apply AOP to your classes because AspectJ is 100% independent of Spring. You can use them together or not, your choice. I for example never use Spring, but just Java SE + AspectJ.</p>\n"}], "owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "accepted_answer_id": 48757851, "answer_count": 1, "score": 0, "last_activity_date": 1518519789, "creation_date": 1518468391, "question_id": 48755263, "link": "https://stackoverflow.com/questions/48755263/spring-and-aop-handling-every-thrown-exception", "title": "Spring and AOP - handling every thrown exception", "body": "<p>I have a requirement to intercept every thrown exception and do something with it. I am using this part of code:</p>\n\n<pre><code>@Aspect\n@Component\nclass Advice\n{\n    @AfterThrowing(pointcut = \"execution(* mail.service..*.*(..))\", throwing = \"throwable\")\n    public void sendError(Throwable throwable)\n    {\n    System.out.println(\"exception thrown\");\n    }\n}\n</code></pre>\n\n<p>This somehow does not work as I expected. This pointcut seems to 'affect' only the public methods(which is expected from Spring AOP, I suppose?) but it prints the String only in certain methods, for example, methods that are declared in my Spring configuration class(i guess its because they are initialized before the app starts) and not in the other ones. </p>\n\n<p>I tried to get this aspect working for any exception thrown, but I had no success. Is this somehow connected with the fact that I am using Spring AOP and not full AspectJ?</p>\n\n<p>Also, my project is written in Kotlin(I wrote the aspect in Java so IJ can support it), will this have an impact on using AspectJ? I had a lot of troubles to get it working (because of final classes) and I am wondering if it's going to be a lot harder when I start writing more advanced AspectJ code.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1518470614, "post_id": 48755331, "comment_id": 84512424, "body": "thank you for your insight, but I only use Int in one place and that is putting an integer in a stared preference. So I commented the code out and hard wired an int. After deleting the current shared preferences, the error still occurs."}, {"owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "reply_to_user": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1518470659, "post_id": 48755331, "comment_id": 84512449, "body": "can you try a fresh install?"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1518470873, "post_id": 48755331, "comment_id": 84512555, "body": "Good idea. I did that and the same thing happens."}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1518471129, "post_id": 48755331, "comment_id": 84512695, "body": "It was in the XML. I set the default value to &quot;21&quot; which I think set the SP key/value pair to a String. SO every time I deleted the SharedPreferences it reset it to a string. You were right, thank you."}], "tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1518468775, "creation_date": 1518468775, "answer_id": 48755331, "question_id": 48754641, "link": "https://stackoverflow.com/questions/48754641/android-inflateexception-caused-on-menu-selection/48755331#48755331", "title": "Android InflateException caused on Menu Selection", "body": "<p>The problem is <code>Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String</code></p>\n\n<p>You must have changed the data types somewhere.</p>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 48755331, "answer_count": 1, "score": 0, "last_activity_date": 1518468775, "creation_date": 1518465822, "last_edit_date": 1518466536, "question_id": 48754641, "link": "https://stackoverflow.com/questions/48754641/android-inflateexception-caused-on-menu-selection", "title": "Android InflateException caused on Menu Selection", "body": "<p>I am using a preference fragment, and I get a exception on my XML. It used to work, but I've tweaked something and now it consistently crashes when I press the 3 dots in the top right hand for the menu.</p>\n\n<p>The actual error is:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{org.sherman.android.babynme/org.sherman.android.babynme.Activites.SettingsActivity}: android.view.InflateException: Binary XML file line #0: Binary XML file line #0: Error inflating class fragment</p>\n</blockquote>\n\n<p>Here is my activity_settings.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;fragment xmlns:android='http://schemas.android.com/apk/res/android'\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/activity_settings\"\n\n    android:name=\"org.sherman.android.babynme.Fragments.SettingsFragment\" /&gt;\n</code></pre>\n\n<p>my preferencesXML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;EditTextPreference\n        android:defaultValue=\"Name\"\n        android:key=\"baby_name\"\n        android:title=\"Baby's Name\" /&gt;\n    &lt;EditTextPreference\n        android:defaultValue=\"01/01/01\"\n        android:key=\"baby_dob\"\n        android:title=\"Baby's Birthday\" /&gt;\n    &lt;EditTextPreference\n        android:numeric=\"integer\"\n        android:defaultValue=\"21\"\n        android:key=\"mum_age\"\n        android:singleLine=\"true\"\n        android:title=\"Your age\" /&gt;\n&lt;/PreferenceScreen&gt;\n</code></pre>\n\n<p>My SettingsActivity.kt:</p>\n\n<pre><code>class SettingsActivity : AppCompatActivity(){\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_settings)\n\n        val sharedPreferences: SharedPreferences = PreferenceManager.getDefaultSharedPreferences(this)\n        val babyName:String = sharedPreferences.getString(\"baby_name\", \"Baby\")\n        title = babyName+\" 'n Me\"\n\n\n\n        val actionBar = this.supportActionBar\n        if(actionBar != null){\n            actionBar.setDisplayHomeAsUpEnabled(true)\n        }\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n        val id = item?.itemId\n        if(id == android.R.id.home){\n            NavUtils.navigateUpFromSameTask(this)\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}\n</code></pre>\n\n<p>And the code for the SettingsFragment:</p>\n\n<pre><code>class SettingsFragment: PreferenceFragmentCompat(), SharedPreferences.OnSharedPreferenceChangeListener {\n    val mContext = context\n\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        addPreferencesFromResource(R.xml.pref_baby)\n        val sharedPreferences: SharedPreferences = android.preference.PreferenceManager.getDefaultSharedPreferences(activity.applicationContext)\n        onSharedPreferenceChanged(sharedPreferences, \"baby_name\")\n        onSharedPreferenceChanged(sharedPreferences, \"baby_dob\")\n        onSharedPreferenceChanged(sharedPreferences, \"mum_age\")\n\n    }\n\n    override fun onResume() {\n        super.onResume()\n        preferenceScreen.sharedPreferences.registerOnSharedPreferenceChangeListener(this)\n        //activity.getSharedPreferences(context.packageName, Context.MODE_PRIVATE).registerOnSharedPreferenceChangeListener(this)\n    }\n\n    override fun onPause() {\n        super.onPause()\n        preferenceScreen.sharedPreferences.unregisterOnSharedPreferenceChangeListener(this)\n        //activity.getSharedPreferences(context.packageName,Context.MODE_PRIVATE).unregisterOnSharedPreferenceChangeListener(this)\n    }\n\n    override fun onSharedPreferenceChanged(p0: SharedPreferences?, key: String?) {\n        Log.d(DEBUG, \"Ospc called\")\n\n        val pref: Preference = findPreference(key)\n        val etp: EditTextPreference = pref as EditTextPreference\n        pref.setSummary(etp.text)\n\n    }\n</code></pre>\n\n<p>Here is the full error log:</p>\n\n<pre><code>                                                                           --------- beginning of crash\n02-12 19:44:06.931 4518-4518/org.sherman.android.babynme E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                           Process: org.sherman.android.babynme, PID: 4518\n                                                                           java.lang.RuntimeException: Unable to start activity ComponentInfo{org.sherman.android.babynme/org.sherman.android.babynme.Activites.SettingsActivity}: android.view.InflateException: Binary XML file line #0: Binary XML file line #0: Error inflating class fragment\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n                                                                               at android.app.ActivityThread.-wrap11(Unknown Source:0)\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:105)\n                                                                               at android.os.Looper.loop(Looper.java:164)\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:6541)\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\n                                                                               at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n                                                                            Caused by: android.view.InflateException: Binary XML file line #0: Binary XML file line #0: Error inflating class fragment\n                                                                            Caused by: android.view.InflateException: Binary XML file line #0: Error inflating class fragment\n                                                                            Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String\n                                                                               at android.app.SharedPreferencesImpl.getString(SharedPreferencesImpl.java:255)\n                                                                               at android.support.v7.preference.Preference.getPersistedString(Preference.java:1601)\n                                                                               at android.support.v7.preference.EditTextPreference.onSetInitialValue(EditTextPreference.java:92)\n                                                                               at android.support.v7.preference.Preference.dispatchSetInitialValue(Preference.java:1517)\n                                                                               at android.support.v7.preference.Preference.onAttachedToHierarchy(Preference.java:1245)\n                                                                               at android.support.v7.preference.Preference.onAttachedToHierarchy(Preference.java:1257)\n                                                                               at android.support.v7.preference.PreferenceGroup.addPreference(PreferenceGroup.java:194)\n                                                                               at android.support.v7.preference.PreferenceGroup.addItemFromInflater(PreferenceGroup.java:126)\n                                                                               at android.support.v7.preference.PreferenceInflater.rInflate(PreferenceInflater.java:355)\n                                                                               at android.support.v7.preference.PreferenceInflater.inflate(PreferenceInflater.java:162)\n                                                                               at android.support.v7.preference.PreferenceInflater.inflate(PreferenceInflater.java:112)\n                                                                               at android.support.v7.preference.PreferenceManager.inflateFromResource(PreferenceManager.java:138)\n                                                                               at android.support.v7.preference.PreferenceFragmentCompat.addPreferencesFromResource(PreferenceFragmentCompat.java:432)\n                                                                               at org.sherman.android.babynme.Fragments.SettingsFragment.onCreatePreferences(SettingsFragment.kt:20)\n                                                                               at android.support.v7.preference.PreferenceFragmentCompat.onCreate(PreferenceFragmentCompat.java:224)\n                                                                               at android.support.v4.app.Fragment.performCreate(Fragment.java:2339)\n                                                                               at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1377)\n                                                                               at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1640)\n                                                                               at android.support.v4.app.FragmentManagerImpl.addFragment(FragmentManager.java:1896)\n                                                                               at android.support.v4.app.FragmentManagerImpl.onCreateView(FragmentManager.java:3673)\n                                                                               at android.support.v4.app.FragmentController.onCreateView(FragmentController.java:111)\n                                                                               at android.support.v4.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:338)\n                                                                               at android.support.v4.app.BaseFragmentActivityApi14.onCreateView(BaseFragmentActivityApi14.java:39)\n                                                                               at android.support.v4.app.FragmentActivity.onCreateView(FragmentActivity.java:67)\n                                                                               at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:780)\n                                                                               at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n                                                                               at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n                                                                               at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\n02-12 19:44:06.933 4518-4518/org.sherman.android.babynme E/AndroidRuntime:     at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\n                                                                               at org.sherman.android.babynme.Activites.SettingsActivity.onCreate(SettingsActivity.kt:15)\n                                                                               at android.app.Activity.performCreate(Activity.java:6975)\n                                                                               at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n                                                                               at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n                                                                               at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n                                                                               at android.app.ActivityThread.-wrap11(Unknown Source:0)\n                                                                               at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n                                                                               at android.os.Handler.dispatchMessage(Handler.java:105)\n                                                                               at android.os.Looper.loop(Looper.java:164)\n                                                                               at android.app.ActivityThread.main(ActivityThread.java:6541)\n                                                                               at java.lang.reflect.Method.invoke(Native Method)\n                                                                               at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                               at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n\n<p>My Question is what did I change that caused the menu selection to crash now? (Thank You).</p>\n"}, {"tags": ["spring-mvc", "spring-boot", "kotlin", "thymeleaf"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9351418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d0f99fbbc1dcb89eabd23342bae759?s=128&d=identicon&r=PG&f=1", "display_name": "Simbon", "link": "https://stackoverflow.com/users/9351418/simbon"}, "edited": false, "score": 1, "creation_date": 1518466246, "post_id": 48754621, "comment_id": 84510201, "body": "I tried it just now. Your answer has worked very well. Thank you very much!"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1518465739, "creation_date": 1518465739, "answer_id": 48754621, "question_id": 48754267, "link": "https://stackoverflow.com/questions/48754267/thymeleaf-submit-form-caused-kotlinnullpointerexception/48754621#48754621", "title": "Thymeleaf submit form caused KotlinNullPointerException", "body": "<p>The problem is you are initializing a field to <code>null</code> and then telling Kotlin that you know it's not null (because of the <code>!!</code> operator)...</p>\n\n<pre><code>@OneToMany(mappedBy = \"record\", cascade = arrayOf(CascadeType.ALL))\nvar details: List&lt;Detail&gt;? = null\n    get() {\n        return field!!.sortedBy { it.value }\n    }\n</code></pre>\n\n<p>What this says is, define a field called <code>details</code> as a nullable <code>List&lt;Detail&gt;</code>, originally initialized to <code>null</code>. When somebody calls <code>get()</code>, ignore the null check on the possibly null <code>field</code> (which is `details) and sort the values.</p>\n\n<p>You probably need something like this, instead (untested):</p>\n\n<pre><code>@OneToMany(mappedBy = \"record\", cascade = arrayOf(CascadeType.ALL))\nvar details: List&lt;Detail&gt;? = null\n    get() {\n        return field?.sortedBy { it.value } \n    }\n</code></pre>\n\n<p>This will either return you a sorted list or a <code>null</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 9351418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d0f99fbbc1dcb89eabd23342bae759?s=128&d=identicon&r=PG&f=1", "display_name": "Simbon", "link": "https://stackoverflow.com/users/9351418/simbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 48754621, "answer_count": 1, "score": 1, "last_activity_date": 1518465739, "creation_date": 1518464415, "question_id": 48754267, "link": "https://stackoverflow.com/questions/48754267/thymeleaf-submit-form-caused-kotlinnullpointerexception", "title": "Thymeleaf submit form caused KotlinNullPointerException", "body": "<p>I used Java at first. Today I convert my Java code to Kotlin code and there's an error occured. When I submit the form, Thymeleaf shows <code>Invalid property 'details[0]' of bean class [org.example.website.model.Record]</code> and the debug console tells me that a KotlinNullPointerException was thrown from <code>Record.getDetails</code>. I set a breakpoint in the getter, and find that the object I submit is not the same one I set to Model's Attribute. The details property of the object is null.<br>\nHopes this problem can be resolved. Thanks very much.</p>\n\n<p>Entity class:</p>\n\n<pre><code>@Entity\nclass Record {\n    @Id\n    @GeneratedValue\n    var id: Long? = null\n\n    @OneToMany(mappedBy = \"record\", cascade = arrayOf(CascadeType.ALL))\n    var details: List&lt;Detail&gt;? = null\n        get() {\n            return field!!.sortedBy { it.value }\n        }\n\n    var instruction: Long? = null\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>@RequestMapping(\"/page\")\nfun page(model: Model): String {\n        // for form submission\n        val record = Record()\n        record.details = listOf(Detail(), Detail())\n        model.addAttribute(\"record\", record)\n\n        return \"page\"\n    }\n}\n</code></pre>\n\n<p>page.html</p>\n\n<pre><code>&lt;form th:action=\"@{/handle}\" th:object=\"${record}\" method=\"post\" class=\"form-inline\"&gt;\n    &lt;table class=\"table\"&gt;\n        &lt;tr th:each=\"detail, state: ${record.details}\"&gt;\n            &lt;td&gt;\n                &lt;input type=\"text\" th:field=\"*{details[__${state.index}__].value}\" required=\"\" /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;button class=\"btn btn-primary\" type=\"submit\"&gt;Finish&lt;/button&gt;\n&lt;form&gt;\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 12, "last_activity_date": 1518462334, "creation_date": 1518462334, "answer_id": 48753718, "question_id": 48753475, "link": "https://stackoverflow.com/questions/48753475/checking-the-array-size-and-list-size-inside-a-when-statement-in-kotlin/48753718#48753718", "title": "Checking the array size and list size inside a when statement in Kotlin", "body": "<pre><code>when(myL.size != myAr.size)\n</code></pre>\n\n<p>Here you specifed that the <code>when</code>-expression is a <code>Boolean</code> value, the result of comparing <code>MyL.size</code> and <code>myAr.size</code>. Let's say they are equal, this means you search for a match of the value <code>false</code>.</p>\n\n<p><code>myL.size &gt; myAr.size</code> -- your first <code>when</code>-clause. Since the sizes are equal, this evaluates to <code>false</code> and matches the when-expression.</p>\n\n<p>What you actually wanted to say was just</p>\n\n<pre><code>when {\n    myL.size &gt; myAr.size -&gt; {\n        println(\"myL.size &gt; myAr.size = ${myL.size &gt; myAr.size}\")\n      }\n    myL.size &lt; myAr.size -&gt; myAr.forEach { println(it) }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1518465569, "creation_date": 1518465569, "answer_id": 48754580, "question_id": 48753475, "link": "https://stackoverflow.com/questions/48753475/checking-the-array-size-and-list-size-inside-a-when-statement-in-kotlin/48754580#48754580", "title": "Checking the array size and list size inside a when statement in Kotlin", "body": "<p>The following is just a little showcase of another possibility, which might make sense in more complex scenarios. </p>\n\n<p>You could wrap the comparison result into a few objects which let the <code>when</code> clause look nicely as follows:</p>\n\n<pre><code>fun probablyBlind() {\n    when (ComparisonResult.of(myAr.size, myL.size)) {\n        Equal -&gt; {\n            println(\"equally sized\")\n        }\n        RightGreater -&gt; println(\"myL.size &gt; myAr.size = ${myL.size &gt; myAr.size}\")\n        LeftGreater -&gt; myAr.forEach { println(it) }\n    }\n}\n</code></pre>\n\n<p>To get it working simply create the following wrappers:</p>\n\n<pre><code>sealed class ComparisonResult {\n    companion object {\n        fun of(t1: Int, t2: Int): ComparisonResult = when {\n            t1 == t2 -&gt; Equal\n            t1 &gt; t2 -&gt; LeftGreater\n            t1 &lt; t2 -&gt; RightGreater\n            else -&gt; throw IllegalStateException()\n        }\n    }\n}\n\nobject Equal : ComparisonResult()\nobject LeftGreater : ComparisonResult()\nobject RightGreater : ComparisonResult()\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 7805267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da03f832239340a155d2027b784f277c?s=128&d=identicon&r=PG&f=1", "display_name": "Vdav", "link": "https://stackoverflow.com/users/7805267/vdav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13003, "favorite_count": 1, "answer_count": 2, "score": 9, "last_activity_date": 1518465569, "creation_date": 1518461461, "last_edit_date": 1518464489, "question_id": 48753475, "link": "https://stackoverflow.com/questions/48753475/checking-the-array-size-and-list-size-inside-a-when-statement-in-kotlin", "title": "Checking the array size and list size inside a when statement in Kotlin", "body": "<p>I am new to Kotlin and programming in general.\nI really like the idea of pattern matching and as you can see at the code below, I was experimenting with the when statement.  </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n\n    val myAr = arrayOf(1,2,3)\n    val myL = listOf(1,2,3)\n\n    fun probablyBlind() {\n\n       when(myL.size != myAr.size) {\n\n          myL.size &gt; myAr.size -&gt; {\n            println(\"myL.size &gt; myAr.size = ${myL.size &gt; myAr.size}\")\n          }\n          myL.size &lt; myAr.size -&gt; myAr.forEach { println(it) }\n      }\n\n      if(myL.size != myAr.size) {\n        println(\"Inside if. myL.size &gt; myAr.size = \n        ${myL.size &gt; myAr.size}\")\n      }\n   }\n\n   probablyBlind()\n }\n</code></pre>\n\n<p>If you run the code the result is :</p>\n\n<pre><code>myL.size &gt; myAr.size = false\n</code></pre>\n\n<p>So that means that at some point the size of the list is different from the size of the array. \nThen it evaluates to true the first comparison inside the when statement.\nBut then it prints out false. Which means it shouldn't run this part of the code.\nThe if statement never evaluates to true. </p>\n\n<p>Can anyone help me with this please?\nMaybe it's something really easy that I can't see at the moment. \nIf that's the case, excuse me.   </p>\n"}, {"tags": ["android", "kotlin", "android-service", "dagger-2"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1518471126, "post_id": 48753095, "comment_id": 84512694, "body": "Seems like a Dagger error when processing your source code. Could you check your Gradle Log to see if there is another error message generated by Dagger?"}, {"owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "edited": false, "score": 1, "creation_date": 1518506909, "post_id": 48753095, "comment_id": 84523322, "body": "If that is actually an android service, you should call <code>super.onCreate()</code> as well after injecting. (probably not your error though)"}], "owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518466833, "creation_date": 1518459938, "last_edit_date": 1518466833, "question_id": 48753095, "link": "https://stackoverflow.com/questions/48753095/illegalargumentexception-injection-dependencies-into-android-service", "title": "IllegalArgumentException injection dependencies into Android Service", "body": "<p>I'm trying to inject dependencies into a subclass of <code>FirebaseInstanceIdService</code>, but I'm getting a compile time exception that is very vague.</p>\n\n<p><strong>EDIT</strong>: When I comment out the inject method declaration, it compiles.</p>\n\n<p>AppComponent:</p>\n\n<pre><code>@Singleton\n@Component(modules = [AppModule::class, ApiModule::class])\ninterface AppComponent {\n\n  fun inject(app: MyApplication)\n\n  fun plus(someModule: SomeModule): SomeComponent\n  /* omitting others for sake of brevity */\n\n  //If I comment this one out, the project compiles and runs\n  fun plus(firebaseInstanceModule: FirebaseInstanceModule): FirebaseInstanceComponent     \n}\n</code></pre>\n\n<p>Module:</p>\n\n<pre><code>@Module\nclass FirebaseInstanceModule {\n\n  @Provides\n  fun providePresenter(userService: UserService): PushPresenter =\n      PushPresenterImpl(userService)\n\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>@Subcomponent(modules = [(FirebaseInstanceModule::class)])\ninterface FirebaseInstanceComponent {\n\n  //Commenting out this method, the project compiles\n  fun inject(service: MyFirebaseInstanceIdService)\n\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>class MyFirebaseInstanceIdService : FirebaseInstanceIdService() {\n\n  private val TAG = \"FirebaseInstanceId\"\n\n  @Inject\n  lateinit var pushPresenter: PushPresenter\n\n  override fun onCreate() {\n    Log.d(TAG, \"onCreate\")\n    mainApplication.appComponent.plus(FirebaseInstanceModule()).inject(this)\n  }\n\n  override fun onTokenRefresh() {\n    Log.d(TAG, \"onTokenRefresh\")\n    val token = FirebaseInstanceId.getInstance().token\n\n    token?.let { pushPresenter.updateToken(it) }\n  }\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>e: java.lang.IllegalStateException: failed to analyze: java.lang.IllegalArgumentException\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:137)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalArgumentException\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:108)\n    at dagger.internal.codegen.writer.ClassName.peerNamed(ClassName.java:130)\n    at dagger.internal.codegen.SourceFiles.membersInjectorNameForMembersInjectionBinding(SourceFiles.java:266)\n    at dagger.internal.codegen.InjectBindingRegistry.registerBinding(InjectBindingRegistry.java:199)\n    at dagger.internal.codegen.InjectBindingRegistry.getOrFindMembersInjectionBinding(InjectBindingRegistry.java:261)\n    at dagger.internal.codegen.BindingGraph$Factory$RequestResolver.rollUpMembersInjectionBindings(BindingGraph.java:374)\n    at dagger.internal.codegen.BindingGraph$Factory$RequestResolver.rollUpMembersInjectionBindings(BindingGraph.java:378)\n    at dagger.internal.codegen.BindingGraph$Factory$RequestResolver.lookUpBindings(BindingGraph.java:366)\n    at dagger.internal.codegen.BindingGraph$Factory$RequestResolver.resolve(BindingGraph.java:461)\n    at dagger.internal.codegen.BindingGraph$Factory$RequestResolver.resolve(BindingGraph.java:464)\n    at dagger.internal.codegen.BindingGraph$Factory.create(BindingGraph.java:228)\n    at dagger.internal.codegen.BindingGraph$Factory.create(BindingGraph.java:236)\n    at dagger.internal.codegen.BindingGraph$Factory.create(BindingGraph.java:151)\n    at dagger.internal.codegen.ComponentProcessingStep.process(ComponentProcessingStep.java:76)\n    at dagger.shaded.auto.common.BasicAnnotationProcessor.process(BasicAnnotationProcessor.java:228)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:73)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:376)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:367)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:132)\n    ... 29 more\n</code></pre>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1518461510, "post_id": 48753068, "comment_id": 84507656, "body": "Quick response: Either has a flatMap method on it, but you should never be creating the nested. Use fold, flatMap, flatMapLeft to ensure you only ever end up one-level deep.  If you have code examples, I may be able to help more."}, {"owner": {"reputation": 962, "user_id": 5473669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36798d3580a2113bd6babeeb2f0c666b?s=128&d=identicon&r=PG&f=1", "display_name": "MaxG", "link": "https://stackoverflow.com/users/5473669/maxg"}, "reply_to_user": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1518467916, "post_id": 48753068, "comment_id": 84511115, "body": "the <code>flatMap</code> is throwing away the <code>left</code> values. I want to preserve them all (something like <code>fold</code> with collections). About the code, I&#39;ll have to paste pretty reasonable amount of code... I&#39;ll do It soon."}, {"owner": {"reputation": 2784, "user_id": 4846736, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/EXXDZ.png?s=128&g=1", "display_name": "Lamour", "link": "https://stackoverflow.com/users/4846736/lamour"}, "edited": false, "score": 0, "creation_date": 1518474686, "post_id": 48753068, "comment_id": 84514369, "body": "isn&#39;t it you should get <code>Either.left()</code> as the return value, nothing should be calculated since you got an error I think"}], "answers": [{"comments": [{"owner": {"reputation": 962, "user_id": 5473669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36798d3580a2113bd6babeeb2f0c666b?s=128&d=identicon&r=PG&f=1", "display_name": "MaxG", "link": "https://stackoverflow.com/users/5473669/maxg"}, "edited": false, "score": 0, "creation_date": 1518481197, "post_id": 48756841, "comment_id": 84516329, "body": "Thanks for the quick reply! I&#39;ll use <code>flatten</code> for the meantime and check the <code>Validated</code> later."}], "tags": [], "owner": {"reputation": 499, "user_id": 2138809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad2476bf0540dfaa0fc30cb62c8e07da?s=128&d=identicon&r=PG", "display_name": "Ra&#250;l Raja Mart&#237;nez", "link": "https://stackoverflow.com/users/2138809/ra%c3%bal-raja-mart%c3%adnez"}, "is_accepted": true, "score": 15, "last_activity_date": 1554116070, "last_edit_date": 1554116070, "creation_date": 1518475814, "answer_id": 48756841, "question_id": 48753068, "link": "https://stackoverflow.com/questions/48753068/kotlin-arrow-kt-flatten-nested-either/48756841#48756841", "title": "Kotlin arrow-kt Flatten nested Either", "body": "<p>You may flatten such a structure with <code>flatten</code>:</p>\n\n<pre><code>import arrow.core.*\nimport arrow.typeclasses.*\n\nval result = Either.right(Either.right(Either.left(\"error\")))\nEither.monad&lt;String&gt;().flatten(result)\n// keep flattening until you are happy with the result\n// Right(b=Left(a=error))\n</code></pre>\n\n<p>Or just <code>flatMap</code>:</p>\n\n<pre><code>import arrow.core.*\nimport arrow.typeclasses.*\n\nval result = Either.right(Either.right(Either.left(\"error\")))\nresult.flatMap { it.flatMap { it } }\n// Left(a=error)\n</code></pre>\n\n<p>The fact that you ended up with such nested structure probably means that you are not using the right datatype or wrong abstraction at some point in your program as that is kind of a useless value.</p>\n\n<p>If you wish to preserve the left values as indicated in your comment I think a more suitable datatype would be <code>Validated</code> which allows for error accumulation as demonstrated here <a href=\"http://arrow-kt.io/docs/datatypes/validated/\" rel=\"noreferrer\">http://arrow-kt.io/docs/datatypes/validated/</a></p>\n\n<p>Alternatively <code>Either#fold</code> can help you contemplate both cases and coalesce then into whatever value you wish.</p>\n\n<p>I'm assuming you already run into these where most of this stuff is explained but just in case some useful links that will help you model this with Arrow</p>\n\n<ul>\n<li>Docs: <a href=\"http://arrow-kt.io/docs/datatypes/either/\" rel=\"noreferrer\">http://arrow-kt.io/docs/datatypes/either/</a> </li>\n<li>Video: <a href=\"https://www.youtube.com/watch?v=q6HpChSq-xc\" rel=\"noreferrer\">https://www.youtube.com/watch?v=q6HpChSq-xc</a></li>\n<li>FP Error handling with Arrow: <a href=\"http://arrow-kt.io/docs/patterns/error_handling/\" rel=\"noreferrer\">http://arrow-kt.io/docs/patterns/error_handling/</a></li>\n</ul>\n\n<p>Additionally feel free to swing by our chat channels if you need a more interactive experience with the maintainers and other contributors than SO where we frequently help people of all levels learning FP and Arrow.</p>\n\n<ul>\n<li>Gitter: <a href=\"https://gitter.im/arrow-kt/Lobby\" rel=\"noreferrer\">https://gitter.im/arrow-kt/Lobby</a></li>\n<li>Slack: <a href=\"https://kotlinlang.slack.com/messages/C5UPMM0A0\" rel=\"noreferrer\">https://kotlinlang.slack.com/messages/C5UPMM0A0</a></li>\n</ul>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 962, "user_id": 5473669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/36798d3580a2113bd6babeeb2f0c666b?s=128&d=identicon&r=PG&f=1", "display_name": "MaxG", "link": "https://stackoverflow.com/users/5473669/maxg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2691, "favorite_count": 0, "accepted_answer_id": 48756841, "answer_count": 1, "score": 5, "last_activity_date": 1554116070, "creation_date": 1518459840, "question_id": 48753068, "link": "https://stackoverflow.com/questions/48753068/kotlin-arrow-kt-flatten-nested-either", "title": "Kotlin arrow-kt Flatten nested Either", "body": "<p>I'm programming using the functional library <code>arrow-kt</code> (formerly known as <code>kategory</code>). I'm using <code>Either</code> monad to aggregate errors or success information of an api call. I got myself into a state (which shouldn't happen in the first place) in which I have a nestet <code>Either</code> monads. I'm trying to flatten the structure to get the inner monad. The documentation is very limited and I couldn't find a way to do It.</p>\n\n<p>Here's an example of a nested Either monad that I would like to flatten:</p>\n\n<pre><code>Either.right(Either.right(Either.left(\"error\")))\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-volley"], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "edited": false, "score": 0, "creation_date": 1518458459, "post_id": 48752552, "comment_id": 84506036, "body": "You are absolutely right. I&#39;ll accept your answer in a minute and I will edit with my new code."}], "tags": [], "owner": {"reputation": 1033, "user_id": 5570762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd9efa17afdc822c6f22dffc4f8d633?s=128&d=identicon&r=PG&f=1", "display_name": "Robert K.", "link": "https://stackoverflow.com/users/5570762/robert-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1518457928, "creation_date": 1518457928, "answer_id": 48752552, "question_id": 48752493, "link": "https://stackoverflow.com/questions/48752493/request-working-on-insomnia-but-not-android/48752552#48752552", "title": "Request working on Insomnia but not Android?", "body": "<p>In Insomnia you are making a request and the body is a form, while in Android you are trying to send a JSON. Make sure your body consists of key-value pairs and not a JSON object.</p>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 48752552, "answer_count": 1, "score": 0, "last_activity_date": 1518457928, "creation_date": 1518457701, "question_id": 48752493, "link": "https://stackoverflow.com/questions/48752493/request-working-on-insomnia-but-not-android", "title": "Request working on Insomnia but not Android?", "body": "<p>I have the following request on Insomnia:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LmVID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmVID.png\" alt=\"Params\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LzSaV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzSaV.png\" alt=\"Headers\"></a></p>\n\n<p>Which is working fine!</p>\n\n<p>But, if I try to do this on Android with volley I get a \"ServerError\":</p>\n\n<pre><code>fun createRequest() {\n    val params = JSONObject()\n    params.put(\"device_key\", Settings.Secure.getString(contentResolver, Settings.Secure.ANDROID_ID))\n    params.put(\"edition_date\", \"2018-02-12 00:00:00\")\n    params.put(\"publication\", 1)\n\n    val headers = hashMapOf&lt;String, String&gt;()\n    headers[\"Authorization\"] = \"My Token\"\n    headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\"\n\n    getPDF(this, params, headers)\n}\n\nfun getPDF(activity: Activity, params: JSONObject, headers: HashMap&lt;String, String&gt;) {\n    val request = object : JsonObjectRequest(Request.Method.POST, \"My URL\", params,\n    Response.Listener {\n        print(\"asd\")\n    },\n    Response.ErrorListener {\n        it.printStackTrace() \n    }\n    ) {\n    override fun getHeaders(): Map&lt;String, String&gt; { return headers } }\n    request.retryPolicy = DefaultRetryPolicy(0, DEFAULT_MAX_RETRIES, DEFAULT_BACKOFF_MULT)\n    Volley.newRequestQueue(activity).add(request)\n}\n</code></pre>\n\n<p>I'm only getting a \"ServerError\" with a code 500.\nWhat could I be doing wrong in Android? Am I not settings the header correctly? Or could be the params?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-room"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1518453430, "post_id": 48751232, "comment_id": 84502922, "body": "&quot;all kind of errors&quot; what errors?"}, {"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1518453842, "post_id": 48751232, "comment_id": 84503209, "body": "I don&#39;t mean errors in console, I mean errors when trying to write code like: <code>Type parameter bound is not satisfied</code>, <code>Required: Action! Found: Action1&lt;Throwable&gt; </code> etc. I&#39;m not able to write the subscribe() part."}], "answers": [{"comments": [{"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1518508647, "post_id": 48751657, "comment_id": 84524149, "body": "Thanks, but just writing <code>jsonString - &gt;</code> wouldn&#39;t compile. For throwable, I already defined an <code>Action&lt;Throwable&gt;</code>"}, {"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1518509191, "post_id": 48751657, "comment_id": 84524426, "body": "It doesn&#39;t know who is <code>jsonString</code>."}], "tags": [], "owner": {"reputation": 965, "user_id": 244745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd366d70e95e894b42c0d86a94e08ff8?s=128&d=identicon&r=PG", "display_name": "cwbowron", "link": "https://stackoverflow.com/users/244745/cwbowron"}, "is_accepted": false, "score": 0, "last_activity_date": 1518454692, "creation_date": 1518454692, "answer_id": 48751657, "question_id": 48751232, "link": "https://stackoverflow.com/questions/48751232/how-to-implement-a-rx-room-query/48751657#48751657", "title": "How to implement a RX room query", "body": "<p>I think the syntax you're looking for is this:</p>\n\n<pre><code>  DBManager.getEmployeesIdsJsonArray()\n        .subscribeOn(Schedulers.newThread())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe( { jsonString -&gt;\n           // onNext\n           // Do something with jsonString\n        }, { throwable -&gt;\n           // onError\n           // Do somethign with throwable\n        } )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1518509120, "post_id": 48751677, "comment_id": 84524392, "body": "Ok, I changed the function in <code>Dao</code> to return Single&lt;String&gt;. Now, could you please show me how <code>function1</code> should looks like? How can I pass the String parameter, and how can i access the String inside <code>subscribe()</code> block"}, {"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1518516431, "post_id": 48751677, "comment_id": 84528727, "body": "Ok, I figured it out. The problem was the syntax: <code>()</code> was unnecessary, instead just <code>subscribe{ function1(jsonSTring) }</code> din the job."}], "tags": [], "owner": {"reputation": 84, "user_id": 9031546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d237d8203794161b06f52a062ed6092?s=128&d=identicon&r=PG", "display_name": "600", "link": "https://stackoverflow.com/users/9031546/600"}, "is_accepted": true, "score": 0, "last_activity_date": 1518454754, "creation_date": 1518454754, "answer_id": 48751677, "question_id": 48751232, "link": "https://stackoverflow.com/questions/48751232/how-to-implement-a-rx-room-query/48751677#48751677", "title": "How to implement a RX room query", "body": "<p>Well. Completable returns nothing, just termination event onComplete/onError </p>\n\n<p>Try :</p>\n\n<ul>\n<li>Return Single in your Dao</li>\n<li>Your subscribe method should looks like subscribe({function1},{function2}) </li>\n</ul>\n\n<p>And never use Schedulers.newThread() for IO operations. Instead this prefer Schedulers.io(), because it use reusable threads from thread pool, while Schedulers.newThread() create just a new thread, which is not reusable</p>\n"}], "owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1174, "favorite_count": 0, "accepted_answer_id": 48751677, "answer_count": 2, "score": 0, "last_activity_date": 1518454754, "creation_date": 1518453302, "question_id": 48751232, "link": "https://stackoverflow.com/questions/48751232/how-to-implement-a-rx-room-query", "title": "How to implement a RX room query", "body": "<p>I'm quite new to <code>Room</code> and <code>RXJava</code> and I want to use them to perform a quite simple query but I have problem implementing the RX part and handle results.</p>\n\n<pre><code>@Dao\ninterface DepartmentDao{\n//....\n@Query (\"SELECT employeesIds FROM Department WHERE Department_name LIKE :name\")\n fun getEmployeesIds(name:String):String //this is a jsonArray stored as string\n}\n</code></pre>\n\n<p>Then I have <code>Kotlin</code> object where I write some other methods related to the database others than ones from <code>@Dao</code></p>\n\n<pre><code>object DBManager {\n  fun getEmployeesIdsJsonArray():Completable = Completable.fromCallable {\n        mDataBase.DepartmentDao().getEmployeesIds(deptName)\n    }\n}\n</code></pre>\n\n<p>I want to query this in my Fragment and use the query result (a string in this case) when the query completes. This is where I get locked and need your help.</p>\n\n<pre><code>DBManager.getEmployeesIdsJsonArray()\n                .subscribeOn(Schedulers.newThread())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe( //here I get locked, how can I handle this?)\n</code></pre>\n\n<p>I expect to have something like</p>\n\n<pre><code>{\n  onSuccess -&gt; jsonString , //this is the string resulted, feel free to use it\n  onError -&gt; Log.e(TAG, \"query failed\")\n}\n</code></pre>\n\n<p>but I'm not able to implement it successfully without all kind of errors regarding type expectations.</p>\n"}, {"tags": ["java", "kotlin", "junit5"], "comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1518510188, "post_id": 48750821, "comment_id": 84524911, "body": "Before or after what?"}, {"owner": {"reputation": 21, "user_id": 4412879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd6bed5a4d85e6d01bad5cf7b9dd421c?s=128&d=identicon&r=PG&f=1", "display_name": "user4412879", "link": "https://stackoverflow.com/users/4412879/user4412879"}, "reply_to_user": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1518597826, "post_id": 48750821, "comment_id": 84566974, "body": "I&#39;ve fixed my question"}, {"owner": {"reputation": 3039, "user_id": 5059725, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xGRtI.jpg?s=128&g=1", "display_name": "Anant Shah", "link": "https://stackoverflow.com/users/5059725/anant-shah"}, "edited": false, "score": 0, "creation_date": 1584951282, "post_id": 48750821, "comment_id": 107588167, "body": "@user4412879 you got any solution?"}], "owner": {"reputation": 21, "user_id": 4412879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd6bed5a4d85e6d01bad5cf7b9dd421c?s=128&d=identicon&r=PG&f=1", "display_name": "user4412879", "link": "https://stackoverflow.com/users/4412879/user4412879"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1518553085, "creation_date": 1518452073, "last_edit_date": 1518553085, "question_id": 48750821, "link": "https://stackoverflow.com/questions/48750821/how-to-create-a-junit-5-rule-for-android-activity", "title": "How to create a JUnit 5 rule for Android activity?", "body": "<p>How to create a JUnit 5 @rule for Android activity?</p>\n\n<p><strong>JUnit 4</strong></p>\n\n<pre><code>@get:Rule\n    val mActivityRule: ActivityTestRule&lt;GeralActivity&gt; = ActivityTestRule(GeralActivity::class.java)\n</code></pre>\n\n<p><strong>JUnit 5</strong></p>\n\n<pre><code>???\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "is_accepted": true, "score": 3, "last_activity_date": 1535992287, "last_edit_date": 1535992287, "creation_date": 1518495777, "answer_id": 48759412, "question_id": 48750541, "link": "https://stackoverflow.com/questions/48750541/adding-actionbar-to-a-fragment-with-drawerlayout-in-kotlin/48759412#48759412", "title": "adding actionBar to a fragment with DrawerLayout in Kotlin", "body": "<p>The way you set an action bar in the Fragment is a bad approach, because when the fragment is destroyed, that Action Bar will also be destroyed.</p>\n\n<p>DrawerLayout on Action Bar is a sliding menu that appears on the android screen with a hamburger menu icon. You shouldn't destroy it on every fragment creation. You need to set Action Bar in your MainActivity.</p>\n\n<pre><code>class MainActivity : AppCompatActivity(){\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n            // Set a Toolbar to replace the ActionBar.\n            val toolbar: Toolbar = findViewById&lt;Toolbar&gt;(R.id.toolbar)\n            toolbar.setTitle(R.string.e_mail)\n            setSupportActionBar(toolbar)\n\n            // Find our drawer view\n            val mDrawer: DrawerLayout = findViewById&lt;DrawerLayout&gt;(R.id.drawer_layout);\n        }\n}\n</code></pre>\n\n<p>It will solve your Action Bar title issue. Hope it helps!</p>\n"}], "owner": {"reputation": 1125, "user_id": 6124415, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dcf2e4e3a315e3b15b935b14c80d889c?s=128&d=identicon&r=PG&f=1", "display_name": "pb4now", "link": "https://stackoverflow.com/users/6124415/pb4now"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 48759412, "answer_count": 1, "score": 0, "last_activity_date": 1535992287, "creation_date": 1518451237, "question_id": 48750541, "link": "https://stackoverflow.com/questions/48750541/adding-actionbar-to-a-fragment-with-drawerlayout-in-kotlin", "title": "adding actionBar to a fragment with DrawerLayout in Kotlin", "body": "<p>going crazy with implementing aciton bar to my fragment,whatever I do I can not add a \"title\" or a menu to my toolbar (I used the code that is generated in android studio when creating new project with \"Navigation Drawe Activity and put it in fragment- for referance)this is how my fragment looks like:</p>\n\n<pre><code>class BaseFragment : Fragment() {\n\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    var appCompatActivity = activity as AppCompatActivity;\n    var view = inflater!!.inflate(R.layout.fragment_base, container, true);\n    var toolbar = view.findViewById&lt;android.support.v7.widget.Toolbar&gt;(R.id.toolbar)\n    toolbar.setTitle(R.string.e_mail)\n    appCompatActivity.setSupportActionBar(toolbar)\n\n    return inflater!!.inflate(R.layout.fragment_base, container, true)\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setHasOptionsMenu(true)\n}\n\noverride fun onCreateOptionsMenu(menu: Menu?, inflater: MenuInflater?) {\n    inflater?.inflate(R.menu.main, menu);\n}\n\n}\n</code></pre>\n\n<p>and my fragment_base:</p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/drawer_layout\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"\ntools:openDrawer=\"start\"&gt;\n\n&lt;include\n    layout=\"@layout/app_bar_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;android.support.design.widget.NavigationView\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    android:fitsSystemWindows=\"true\"\n    app:headerLayout=\"@layout/nav_header_main\"\n    app:menu=\"@menu/activity_main_drawer\" /&gt;\n</code></pre>\n\n<p></p>\n\n<p>and the result  is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ICYKw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ICYKw.png\" alt=\"enter image description here\"></a></p>\n\n<p>what am I doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1518450197, "post_id": 48749590, "comment_id": 84500663, "body": "What makes you say \u201ceven though that data was successfully Parcelized\u201d? How do you know? It sure looks like parceling does not succeed."}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1518451286, "post_id": 48749590, "comment_id": 84501497, "body": "@Ben P The data is an image and that image is passed to another view successfully. The problem occurs when the app is quit"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1518452089, "post_id": 48749590, "comment_id": 84502046, "body": "How do you pass it to the other view? Parceling in Android involves a number of shortcuts in situations where no IPC needs to be done. For instance, if you put a <code>Parcelable</code> object into an activity&#39;s <code>onSaveInstanceState()</code> bundle and then rotate your device you will find that you can successfully retrieve that <code>Parcelable</code> object from the <code>savedInstanceState</code> bundle even though it was never actually parceled. I suspect that hitting the phone&#39;s home button is the first time your object actually tries to serialize itself into a Parcel."}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1518452974, "post_id": 48749590, "comment_id": 84502625, "body": "@BenP.I just put it in the bundle <code>bundle.putParcelable (&quot;screenshot&quot;, screenShot)</code> then retrieve it in the other view."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1518456919, "post_id": 48749590, "comment_id": 84505177, "body": "Chances are very good that the system isn&#39;t actually serializing the data in that case, and is instead simply keeping it in-memory since you&#39;re working within the same process. I know the whole point of <code>@Parcelize</code> is that you don&#39;t have to manually write out the parceling code, but you can try to intentionally write bad parceling code for this class (maybe just throw an exception) and see if the bundle still works. I suspect it will."}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1518457792, "post_id": 48749590, "comment_id": 84505663, "body": "@BenP.Thanks for the help.  I fixed the problem."}], "answers": [{"tags": [], "owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "is_accepted": false, "score": 0, "last_activity_date": 1518457732, "creation_date": 1518457732, "answer_id": 48752501, "question_id": 48749590, "link": "https://stackoverflow.com/questions/48749590/android-app-crashes-when-i-quit-the-app-if-parcelised-data-has-been-used-at-some/48752501#48752501", "title": "Android app crashes when I quit the app if Parcelised data has been used at some point, even though that data was successfully Parcelized", "body": "<p>I changed my <code>ColourBoardScreenShot</code> to the following:</p>\n\n<pre><code>@Parcelize\ndata class ColourBoardScreenShot(var screenshot: ByteArray) : Parcelable\n</code></pre>\n\n<p>So instead of <code>@RawValue BitmapDrawable</code> I use <code>ByteArray</code> and the crash stopped.</p>\n"}], "owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1518457732, "creation_date": 1518448489, "last_edit_date": 1518453350, "question_id": 48749590, "link": "https://stackoverflow.com/questions/48749590/android-app-crashes-when-i-quit-the-app-if-parcelised-data-has-been-used-at-some", "title": "Android app crashes when I quit the app if Parcelised data has been used at some point, even though that data was successfully Parcelized", "body": "<p>I have a strange crash on both the <code>Genymotion</code> Android simulator and my <code>Huawei Nexus 6P</code>.  I have a screenshot that I am sending to another <code>Anko Component</code> successfully  - obviously it is Parcelable:</p>\n\n<pre><code>@Parcelize\ndata class ColourBoardScreenShot(var screenshot: @RawValue BitmapDrawable) : Parcelable\n</code></pre>\n\n<p>However, if I take the screenshot and anytime later quit the app by pressing the circle button at the bottom of the screen the app crashes with the following stack trace:</p>\n\n<pre><code>FATAL EXCEPTION: main\nProcess: uk.co.davechambers.pegboard, PID: 2292\njava.lang.RuntimeException: Parcel: unable to marshal value\nandroid.graphics.drawable.BitmapDrawable@4cdb04c\nat android.os.Parcel.writeValue(Parcel.java:1477)\nat uk.co.davechambers.pegboard.models.ColourBoardScreenShot.writeToParcel(ColourBoardScreenShot.kt:0)\nat android.os.Parcel.writeParcelable(Parcel.java:1496)\nat android.os.Parcel.writeValue(Parcel.java:1402)\nat android.os.Parcel.writeArrayMapInternal(Parcel.java:724)\nat android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1408)\nat android.os.Bundle.writeToParcel(Bundle.java:1157)\nat android.os.Parcel.writeBundle(Parcel.java:764)\nat android.support.v4.app.FragmentState.writeToParcel(Fragment.java:154)\nat android.os.Parcel.writeTypedArray(Parcel.java:1307)\nat android.support.v4.app.FragmentManagerState.writeToParcel(FragmentManager.java:617)\nat android.os.Parcel.writeParcelable(Parcel.java:1496)\nat android.os.Parcel.writeValue(Parcel.java:1402)\nat android.os.Parcel.writeArrayMapInternal(Parcel.java:724)\nat android.os.BaseBundle.writeToParcelInner(BaseBundle.java:1408)\nat android.os.Bundle.writeToParcel(Bundle.java:1157)\nat android.os.Parcel.writeBundle(Parcel.java:764)\nat android.app.ActivityManagerProxy.activityStopped(ActivityManagerNative.java:3633)\nat android.app.ActivityThread$StopInfo.run(ActivityThread.java:3773)\nat android.os.Handler.handleCallback(Handler.java:751)\nat android.os.Handler.dispatchMessage(Handler.java:95)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6119)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n\n<p>Can anyone tell me where I'm going wrong?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>If I try and replace the <code>ColourBoardScreenShot</code> by using a plugin to generate the Parcelize code I get <code>Unresolved reference</code> on <code>read</code> and <code>write</code>:</p>\n\n<pre><code>data class ColourBoardScreenShot(var screenshot: @RawValue BitmapDrawable) : Parcelable {\nconstructor(source: Parcel) : this(\n        source.read[@kotlinx.android.parcel.RawValue] BitmapDrawable ()\n)\n\noverride fun describeContents() = 0\n\noverride fun writeToParcel(dest: Parcel, flags: Int) = with(dest) {\n    write[@kotlinx.android.parcel.RawValue] BitmapDrawable (screenshot)\n}\n\ncompanion object {\n    @JvmField\n    val CREATOR: Parcelable.Creator&lt;ColourBoardScreenShot&gt; = object : Parcelable.Creator&lt;ColourBoardScreenShot&gt; {\n        override fun createFromParcel(source: Parcel): ColourBoardScreenShot = ColourBoardScreenShot(source)\n        override fun newArray(size: Int): Array&lt;ColourBoardScreenShot?&gt; = arrayOfNulls(size)\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1518449016, "post_id": 48749277, "comment_id": 84499829, "body": "And why do you think this is a problem with Spring instead of your terminal configuration?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1518450769, "post_id": 48749277, "comment_id": 84501091, "body": "Couse I have also tested with debuging, and also passed this param in jsp, which is nicely renders Unicode characters, and also saved it into the database"}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1518467563, "post_id": 48749277, "comment_id": 84510928, "body": "All of which suggest that it&#39;s <code>println</code> that&#39;s weird, not the actual transmission."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1518505731, "post_id": 48749277, "comment_id": 84522818, "body": "Do you have any suggestion?  To detect the problem?"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1519128152, "creation_date": 1518447452, "last_edit_date": 1519128152, "question_id": 48749277, "link": "https://stackoverflow.com/questions/48749277/spring-mvc-requestparam-not-supports-unicode-characters", "title": "Spring-mvc requestParam not supports unicode characters", "body": "<p>I'm new in spring-mvc, I 'm trying to post unicode characters to my method</p>\n\n<pre><code>@RequestMapping(value = [\"api/test\"], method = [RequestMethod.POST], produces = [\"text/plain; charset=utf-8\"])\n@ResponseBody\nfun saveData(@RequestParam(value = \"myParam\") myParam: String): String {\n    println(myParam) // prints characters like \u00e1?\u00a5\u00e1??\u00e1?\u00a0\u00e1??\u00e1?\u00a3\u00e1??\u00e1??\u00e1?\n    return myParam\n}\n</code></pre>\n\n<p>It doesn't have any problem with ASCII character encoding params.\nI'm testing this service using postman. \nI think I have saw the all questions about this issue, but nothing worked for me, the result is same :/ </p>\n"}, {"tags": ["android", "android-fragments", "mvvm", "kotlin", "android-livedata"], "comments": [{"owner": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "edited": false, "score": 0, "creation_date": 1518447831, "post_id": 48748301, "comment_id": 84498879, "body": "Try to pass ViewModelProviders.of(getActivity) in fragment istead of &quot;this&quot;"}, {"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "reply_to_user": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "edited": false, "score": 0, "creation_date": 1518448211, "post_id": 48748301, "comment_id": 84499153, "body": "That did it! I changed my fragment <code>initVM()</code> code to <code>val myActivity = activity ?: return         eVM = ViewModelProviders.of(myActivity).get(EquipmentViewModel::cl&zwnj;&#8203;ass.java)</code> and it triggered both.  If you could explain why it works in an answer I&#39;ll mark it accepted &amp; upvote."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1582649243, "post_id": 48748301, "comment_id": 106846876, "body": "How about using <code>viewLifecycleOwner</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2538, "user_id": 5026136, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/AWrTU.jpg?s=128&g=1", "display_name": "Elliptica", "link": "https://stackoverflow.com/users/5026136/elliptica"}, "edited": false, "score": 0, "creation_date": 1528394860, "post_id": 48749639, "comment_id": 88502747, "body": "I thought the point was there is only ever one ViewModel? Why is it a new instance?"}, {"owner": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "reply_to_user": {"reputation": 2538, "user_id": 5026136, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/AWrTU.jpg?s=128&g=1", "display_name": "Elliptica", "link": "https://stackoverflow.com/users/5026136/elliptica"}, "edited": false, "score": 0, "creation_date": 1618255264, "post_id": 48749639, "comment_id": 118542417, "body": "The point is only ever one <code>ViewModel</code> per component, per <code>Fragment</code> or pet <code>Activity</code>"}], "tags": [], "owner": {"reputation": 3673, "user_id": 5827565, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XcSLL.jpg?s=128&g=1", "display_name": "Pavel Poley", "link": "https://stackoverflow.com/users/5827565/pavel-poley"}, "is_accepted": true, "score": 32, "last_activity_date": 1618256997, "last_edit_date": 1618256997, "creation_date": 1518448629, "answer_id": 48749639, "question_id": 48748301, "link": "https://stackoverflow.com/questions/48748301/livedata-observer-not-called/48749639#48749639", "title": "LiveData Observer not Called", "body": "<p>To get same reference of <code>ViewModel</code> of your <code>Activity</code> you need to pass the same <strong>Activity</strong> instance, you should use <code>ViewModelProviders.of(getActivity)</code>. When you pass <code>this</code> as argument, you receive instance of <code>ViewModel</code> that associates with your <code>Fragment</code>.</p>\n<p>There are two overloaded methods:</p>\n<pre><code>ViewModelProvider.of(Fragment fragment)\n\nViewModelProvider.of(FragmentActivity activity)\n</code></pre>\n<p>For more info <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel.html#sharing\" rel=\"nofollow noreferrer\">Share data between fragments</a></p>\n"}, {"tags": [], "owner": {"reputation": 2495, "user_id": 6925888, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/pq1wE.jpg?s=128&g=1", "display_name": "iamkdblue", "link": "https://stackoverflow.com/users/6925888/iamkdblue"}, "is_accepted": false, "score": 1, "last_activity_date": 1594842380, "creation_date": 1594842380, "answer_id": 62922702, "question_id": 48748301, "link": "https://stackoverflow.com/questions/48748301/livedata-observer-not-called/62922702#62922702", "title": "LiveData Observer not Called", "body": "<p>I put this code inside the <code>onActivityCreated</code> fragment, don't underestimate getActivity ;)</p>\n<pre><code>if (activity != null) {            \n     globalViewModel = ViewModelProvider(activity!!).get(GlobalViewModel::class.java)\n    }\n\n\nglobalViewModel.onStop.observe(viewLifecycleOwner, Observer { status -&gt;\n            Log.d(&quot;Parent Viewmodel&quot;, status.toString())\n        })\n</code></pre>\n<p>This code helps me to listening Parent ViewModel changes in fragment.</p>\n"}], "owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15432, "favorite_count": 2, "accepted_answer_id": 48749639, "answer_count": 2, "score": 18, "last_activity_date": 1618256997, "creation_date": 1518444234, "question_id": 48748301, "link": "https://stackoverflow.com/questions/48748301/livedata-observer-not-called", "title": "LiveData Observer not Called", "body": "<p>I have an activity, <code>TabBarActivity</code> that hosts a fragment, <code>EquipmentRecyclerViewFragment</code>.  The fragment receives the LiveData callback but the Activity does not (as proofed with breakpoints in debugging mode).  What's weird is the Activity callback does trigger if I call the ViewModel's <code>initData</code> method. Below are the pertinent sections of the mentioned components: </p>\n\n<p><strong>TabBarActivity</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    initVM()\n    setContentView(R.layout.activity_nav)\n    val equipmentRecyclerViewFragment = EquipmentRecyclerViewFragment()\n    supportFragmentManager\n            .beginTransaction()\n            .replace(R.id.frameLayout, equipmentRecyclerViewFragment, equipmentRecyclerViewFragment.TAG)\n            .commit()\n    navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n\n}\n\nvar eVM : EquipmentViewModel? = null\nprivate fun initVM() {\n    eVM = ViewModelProviders.of(this).get(EquipmentViewModel::class.java)\n    eVM?.let { lifecycle.addObserver(it) } //Add ViewModel as an observer of this fragment's lifecycle\n    eVM?.equipment?.observe(this, loadingObserver)//        eVM?.initData() //TODO: Not calling this causes Activity to never receive the observed \u2206\n}\nval loadingObserver = Observer&lt;List&lt;Gun&gt;&gt; { equipment -&gt;\n    ...}\n</code></pre>\n\n<p><strong>EquipmentRecyclerViewFragment</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    columnCount = 2\n    initVM()\n}\n\n//MARK: ViewModel Methods\nvar eVM : EquipmentViewModel? = null\nprivate fun initVM() {\n    eVM = ViewModelProviders.of(this).get(EquipmentViewModel::class.java)\n    eVM?.let { lifecycle.addObserver(it) } //Add ViewModel as an observer of this fragment's lifecycle\n    eVM?.equipment?.observe(this, equipmentObserver)\n    eVM?.initData()\n}\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_equipment_list, container, false)\n    if (view is RecyclerView) { // Set the adapter\n        val context = view.getContext()\n        view.layoutManager = GridLayoutManager(context, columnCount)\n        view.adapter = adapter\n    }\n    return view\n}\n</code></pre>\n\n<p><strong>EquipmentViewModel</strong></p>\n\n<pre><code>class EquipmentViewModel(application: Application) : AndroidViewModel(application), LifecycleObserver {\nvar equipment = MutableLiveData&lt;List&lt;Gun&gt;&gt;()\nvar isLoading = MutableLiveData&lt;Boolean&gt;()\n\nfun initData() {\n    isLoading.setValue(true)\n    thread { Thread.sleep(5000) //Simulates async network call\n        var gunList = ArrayList&lt;Gun&gt;()\n        for (i in 0..100){\n            gunList.add(Gun(\"Gun \"+i.toString()))\n        }\n        equipment.postValue(gunList)\n        isLoading.postValue(false)\n    }\n}\n</code></pre>\n\n<p>The ultimate aim is to have the activity just observe the <code>isLoading</code> MutableLiveData boolean, but since that wasn't working I changed the activity to observe just the equipment LiveData to minimize the number of variables at play.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 2, "creation_date": 1518434941, "post_id": 48745286, "comment_id": 84490555, "body": "<i>&quot;Of course it doesn&#39;t compile&quot;</i> So what is the <i>full, exact</i> error message you&#39;re getting?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1518435307, "post_id": 48745286, "comment_id": 84490761, "body": "<code>someObject.removeListener(this)</code> . Check zsmb13&#39;s answer"}], "answers": [{"comments": [{"owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "edited": false, "score": 0, "creation_date": 1518440293, "post_id": 48745533, "comment_id": 84493915, "body": "thanks a lot for the answer and as far as I tested here, that indeed is the correct answer for a <code>interface</code>. Please check my edit on the question, I just realized later that it&#39;s actually a <code>code: (T) -&gt; kotlin.Unit</code> that I&#39;m using. Is that possible ?"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 11, "last_activity_date": 1551439849, "last_edit_date": 1551439849, "creation_date": 1518435262, "answer_id": 48745533, "question_id": 48745286, "link": "https://stackoverflow.com/questions/48745286/remove-this-callback-in-kotlin/48745533#48745533", "title": "Remove &quot;this&quot; callback in kotlin", "body": "<p>You need to use a full <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a> syntax to refer to be able to refer to the instance itself:</p>\n\n<pre><code>private val myCallback = object: SomeInterfaceType() {\n    override fun onSomeEvent() {\n        if (it.something) {\n            someObject.removeListener(this)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1518439306, "last_edit_date": 1518439306, "creation_date": 1518437322, "answer_id": 48746185, "question_id": 48745286, "link": "https://stackoverflow.com/questions/48745286/remove-this-callback-in-kotlin/48746185#48746185", "title": "Remove &quot;this&quot; callback in kotlin", "body": "<p>There's also a workaround: wrap the reference to <code>myCallback</code> into a lambda passed to a function that calls it (e.g. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\"><code>run { ... }</code></a>):</p>\n\n<pre><code>private val myCallback: SomeInterfaceType = SomeInterfaceType {\n   if (it.something) {\n        someObject.removeListener(run { myCallback })\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1724, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1551439849, "creation_date": 1518434493, "last_edit_date": 1518440133, "question_id": 48745286, "link": "https://stackoverflow.com/questions/48745286/remove-this-callback-in-kotlin", "title": "Remove &quot;this&quot; callback in kotlin", "body": "<p>I'm a bit kotlin newbie and I'm trying to remove the callback instance inside the callback itself.</p>\n\n<p>What I'm trying to achieve it's something similar to the following code.</p>\n\n<pre><code>private val myCallback = SomeInterfaceType {\n   if(it.something) {\n        someObject.removeListener(this@SomeInterfaceType)\n   }\n}\n</code></pre>\n\n<p>Of course it doesn't compile or else I wouldn't be asking here. So I ask, how to remove the callback from inside the instance of the interface?</p>\n\n<p><strong>edit:</strong>\nthe error is \"inferred type is X but Y was expected.</p>\n\n<p><strong>edit 2:</strong> I just realized I've asked the wrong question, it's similar to it but not exactly a Interface.</p>\n\n<p>The object I'm using have the following constructor/interface</p>\n\n<p><code>public open class Watcher&lt;T&gt; public constructor(call: (T) -&gt; kotlin.Unit)\n</code></p>\n\n<p>so in reality I'm trying to reference the Watcher from inside the <code>call: (T) -&gt; kotlin.Unit</code> to remove the listener.</p>\n\n<p>Is that possible?</p>\n"}, {"tags": ["java", "android", "xml", "kotlin", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 4673764, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b93db48af56d908db0eab836a65bdfb0?s=128&d=identicon&r=PG&f=1", "display_name": "AnZ", "link": "https://stackoverflow.com/users/4673764/anz"}, "edited": false, "score": 1, "creation_date": 1518692489, "post_id": 48790217, "comment_id": 84613946, "body": "Woa, finally it works! Thank you so much. Using java inside kotlin project freaks me out :D"}, {"owner": {"reputation": 629, "user_id": 7406696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d8e99f62483082d6e035c172ac28b094?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo R.", "link": "https://stackoverflow.com/users/7406696/pablo-r"}, "edited": false, "score": 0, "creation_date": 1531999386, "post_id": 48790217, "comment_id": 89813655, "body": "I am trying to do the same but always get same error  Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: com.vipera.data.serversoap.EnvelopeKt  and my data class y Envelope.kt       data class Envelope (         @field:Element(name = &quot;soap-env:Body&quot;, required = false)         param:Element(name = &quot;soap-env:Body&quot;, required = false)         var body: Body? = null     )"}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 16, "last_activity_date": 1518621003, "last_edit_date": 1518621003, "creation_date": 1518620501, "answer_id": 48790217, "question_id": 48745152, "link": "https://stackoverflow.com/questions/48745152/kotlin-1-2-21-simplexml-2-3-0-consume-list-error-must-mark-set-get-method/48790217#48790217", "title": "Kotlin 1.2.21 + SimpleXml 2.3.0 - consume List error (must mark set get method)", "body": "<p>Try to add <code>@field</code> to your annotation <code>@Element*</code>. And you may move properties to constructor and also you could add <code>data</code> modifier to your classes. Like this:</p>\n\n<pre><code>@Root(name = \"feed\", strict = false)\ndata class Feed(\n        @field:ElementList(name = \"entry\", inline = true)\n        var entriesList: List&lt;Entry&gt;? = null\n)\n\n@Root(name = \"entry\", strict = true)\ndata class Entry(\n        @field:Element(name = \"id\")\n        var id: String? = null,\n\n        @field:Element(name = \"published\")\n        var published: String? = null\n)\n</code></pre>\n\n<p>With this I had successfully deserialise xml:</p>\n\n<pre><code>import org.simpleframework.xml.Element\nimport org.simpleframework.xml.ElementList\nimport org.simpleframework.xml.Root\nimport org.simpleframework.xml.core.Persister\n\nprivate val testXml = \"\"\"\n&lt;feed&gt;\n   &lt;entry&gt;\n        &lt;id&gt; someid &lt;/id&gt;\n        &lt;published&gt; somedate &lt;/published&gt;\n   &lt;/entry&gt;\n\n   &lt;entry&gt;\n        &lt;id&gt; someid2 &lt;/id&gt;\n        &lt;published&gt; somedate2 &lt;/published&gt;\n   &lt;/entry&gt;\n&lt;/feed&gt;\n\"\"\".trimIndent()\n\n@Root(name = \"feed\", strict = false)\ndata class Feed(\n        @field:ElementList(name = \"entry\", inline = true)\n        var entriesList: List&lt;Entry&gt;? = null\n)\n\n@Root(name = \"entry\", strict = true)\ndata class Entry(\n        @field:Element(name = \"id\")\n        var id: String? = null,\n\n        @field:Element(name = \"published\")\n        var published: String? = null\n)\n\nfun main(args: Array&lt;String&gt;) {\n    println(testXml)\n\n    val serializer = Persister()\n\n    val example = serializer.read(Feed::class.java, testXml)\n\n    println(example)\n}\n</code></pre>\n"}], "owner": {"reputation": 940, "user_id": 4673764, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b93db48af56d908db0eab836a65bdfb0?s=128&d=identicon&r=PG&f=1", "display_name": "AnZ", "link": "https://stackoverflow.com/users/4673764/anz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1832, "favorite_count": 1, "accepted_answer_id": 48790217, "answer_count": 1, "score": 11, "last_activity_date": 1518621003, "creation_date": 1518434127, "question_id": 48745152, "link": "https://stackoverflow.com/questions/48745152/kotlin-1-2-21-simplexml-2-3-0-consume-list-error-must-mark-set-get-method", "title": "Kotlin 1.2.21 + SimpleXml 2.3.0 - consume List error (must mark set get method)", "body": "<p>I'm trying to consume XML using SimpleXML by Retrofit 2. After hours of struggling with Kotlin I decided to try Java version and the convert then to Kotlin. And Java version worked well... </p>\n\n<p>error:</p>\n\n<pre><code>java.lang.RuntimeException: org.simpleframework.xml.core.MethodException: Annotation @org.simpleframework.xml.ElementList(data=false, empty=true, entry=, inline=true, name=entry, required=true, type=void) must mark a set or get method\n</code></pre>\n\n<p>I need a Kotlin model class that will be able to consume that XML.\nHere's input:</p>\n\n<pre><code>&lt;feed&gt;\n   &lt;entry&gt;\n        &lt;id&gt; someid &lt;/id&gt;\n        &lt;published&gt; somedate &lt;/published&gt;\n   &lt;/entry&gt;\n\n   &lt;entry&gt;\n        &lt;id&gt; someid2 &lt;/id&gt;\n        &lt;published&gt; somedate2 &lt;/published&gt;\n   &lt;/entry&gt;\n&lt;/feed&gt;\n</code></pre>\n\n<p>Java model class version (works fine):</p>\n\n<pre><code>@Root(name = \"feed\", strict = false)\npublic class MFeed {\n    @ElementList(name = \"entry\", inline = true)\n    private List&lt;MEntry&gt; entriesList;\n\n    public MFeed(List&lt;MEntry&gt; entriesList) {\n        this.entriesList = entriesList;\n    }\n\n    public MFeed() {\n    }\n\n    public List&lt;MEntry&gt; getEntriesList() {\n        return entriesList;\n    }\n\n    public void setEntriesList(List&lt;MEntry&gt; entriesList) {\n    this.entriesList = entriesList;\n    }\n}\n\n@Root(name = \"entry\", strict = false)\npublic class MEntry {\n\n    @Element(name = \"id\")\n    private String id;\n\n    @Element(name = \"published\")\n    private String published;\n\n    public MEntry() {\n    }\n\n    public MEntry(String id, String published) {\n        this.id = id;\n        this.published = published;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getPublished() {\n        return published;\n    }\n\n    public void setPublished(String published) {\n        this.published = published;\n    }\n}\n</code></pre>\n\n<p>and autogenerated Kotlin models look like this: </p>\n\n<pre><code>@Root(name = \"feed\", strict = false)\nclass Feed {\n    @ElementList(name = \"entry\", inline = true)\n    private var entriesList: List&lt;MEntry&gt;? = null\n\n    //autogenerated by converter java -&gt; kotlin\n    constructor(entriesList: List&lt;MEntry&gt;) {\n        this.entriesList = entriesList\n    }\n\n    //autogenerated by converter java -&gt; kotlin\n    constructor() {}\n}\n\n@Root(name = \"entry\", strict = false)\nclass Entry {\n    @Element(name = \"id\")\n    var id: String? = null\n\n    @Element(name = \"published\")\n    var published: String? = null\n\n    //autogenerated by converter java -&gt; kotlin\n    constructor() {}\n\n    //autogenerated by converter java -&gt; kotlin\n    constructor(id: String, published: String) {\n        this.id = id\n        this.published = published\n    }\n}\n</code></pre>\n\n<p>I've serfed a lot for consuming XML lists including <a href=\"https://stackoverflow.com/questions/35913391/retrofit2-simplexml-in-kotlin-methodexception-annotation-must-mark-a-set-or\">this</a> post, <a href=\"https://stackoverflow.com/questions/35847763/kotlin-data-class-bean-validation-jsr-303/35853200#35853200\">this</a> and <a href=\"https://www.mytrendin.com/parsing-xml-retrofit2-using-kotlin-android/\" rel=\"noreferrer\">this</a>. None worked. Perhaps they are obsolete. Anyone faced such problem? </p>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1518433720, "post_id": 48744935, "comment_id": 84489822, "body": "optional is the default - have you added the field to the schema using a migration?"}, {"owner": {"reputation": 524, "user_id": 1866914, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bqPyq.jpg?s=128&g=1", "display_name": "M3-n50", "link": "https://stackoverflow.com/users/1866914/m3-n50"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1518433853, "post_id": 48744935, "comment_id": 84489927, "body": "The field already existed as non-optional. Should I just remove and re-add these fields?"}], "answers": [{"comments": [{"owner": {"reputation": 524, "user_id": 1866914, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bqPyq.jpg?s=128&g=1", "display_name": "M3-n50", "link": "https://stackoverflow.com/users/1866914/m3-n50"}, "edited": false, "score": 0, "creation_date": 1518434153, "post_id": 48745056, "comment_id": 84490113, "body": "I know how to write Realm migrations, but I have no clue how to indicate a field has become optional. This is not explained in the links you provided."}], "tags": [], "owner": {"reputation": 424, "user_id": 5084056, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2EZ9HGZvMDU/AAAAAAAAAAI/AAAAAAAAA9k/znRbVRIEI0E/photo.jpg?sz=128", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5084056/arvind"}, "is_accepted": false, "score": -1, "last_activity_date": 1518433812, "creation_date": 1518433812, "answer_id": 48745056, "question_id": 48744935, "link": "https://stackoverflow.com/questions/48744935/optional-double-in-realm/48745056#48745056", "title": "Optional Double in Realm", "body": "<p>Its happening because you have changed the Database schema.</p>\n\n<p>you can check here for database migration rules.\n<a href=\"https://realm.io/docs/java/latest/api/io/realm/RealmMigration.html\" rel=\"nofollow noreferrer\">https://realm.io/docs/java/latest/api/io/realm/RealmMigration.html</a>\n<a href=\"https://medium.com/@budioktaviyans/android-realm-migration-schema-4fcef6c61e82\" rel=\"nofollow noreferrer\">https://medium.com/@budioktaviyans/android-realm-migration-schema-4fcef6c61e82</a></p>\n\n<p>A github sample for migration.\n<a href=\"https://github.com/realm/realm-java/tree/master/examples/migrationExample\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-java/tree/master/examples/migrationExample</a></p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 3, "last_activity_date": 1518434312, "creation_date": 1518434312, "answer_id": 48745223, "question_id": 48744935, "link": "https://stackoverflow.com/questions/48744935/optional-double-in-realm/48745223#48745223", "title": "Optional Double in Realm", "body": "<blockquote>\n  <p>The problem is I can't find anything about making properties optional in Realm.</p>\n</blockquote>\n\n<p>Well that's a shame, because you can actually do that in a migration.</p>\n\n<pre><code>public class MyMigration implements Realm.Migration {\n    @Override\n    public void migrate(DynamicRealm realm, long oldVersion, long newVersion) {\n        RealmSchema schema = realm.getSchema();\n        if(oldVersion == someNumber) {\n            RealmObjectSchema gasPipe = schema.get(\"GasPipe\");\n            if(gasPipe.isRequired(\"gasPressure\")) {\n               gasPipe.setRequired(false); // same as setNullable(true)\n            }\n            oldVersion++;\n        }\n    }\n\n    // equals, hashcode\n}\n</code></pre>\n\n<p>And you need to bump schemaVersion on the configuration</p>\n\n<pre><code>RealmConfiguration config = new RealmConfiguration.Builder()\n                                  .migration(new MyMigration())\n                                  .schemaVersion(someNumber+1)\n                                  .build();\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 1866914, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bqPyq.jpg?s=128&g=1", "display_name": "M3-n50", "link": "https://stackoverflow.com/users/1866914/m3-n50"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1798, "favorite_count": 0, "accepted_answer_id": 48745223, "answer_count": 2, "score": 1, "last_activity_date": 1518434312, "creation_date": 1518433437, "last_edit_date": 1592644375, "question_id": 48744935, "link": "https://stackoverflow.com/questions/48744935/optional-double-in-realm", "title": "Optional Double in Realm", "body": "<p>I've changed a Double property from non-nullable to a nullable property.</p>\n<pre><code>var gasPressure: Double? = null\n</code></pre>\n<p>When starting the app I get the expected RealmMigrationNeededException with the following error:</p>\n<blockquote>\n<p>Property 'Measurement.gasPressure' has been made optional.</p>\n</blockquote>\n<p>The problem is I can't find anything about making properties optional in Realm. I've found multiple people trying to do this in Swift but nothing about this in Java or Kotlin.</p>\n<p>In the docs I've found the following, but this only tells me how to indicate a property is required.</p>\n<blockquote>\n<p>The @Required annotation can be used to tell Realm to disallow null values in a field, making it required rather than optional. Only Boolean, Byte, Short, Integer, Long, Float, Double, String, byte[] and Date can be annotated with @Required. If you add it to other field types, compilation will fail.</p>\n<p>Fields with primitive types and the RealmList type are required implicitly. Fields with RealmObject type are always nullable.</p>\n</blockquote>\n<p>Is it possible at all to have a nullable Double as property in Realm or should I use a workaround?</p>\n"}, {"tags": ["android", "json", "web-services", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1518435120, "post_id": 48744348, "comment_id": 84490662, "body": "What is your issue exactly? To call your webservice, to transform the response into a JSON array, or something else? Could you also provide the code you wrote to reproduce your scenario?"}, {"owner": {"reputation": 3, "user_id": 6699541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0d0dbe991f7a4d7b1e935ac8e9cc1d3?s=128&d=identicon&r=PG&f=1", "display_name": "Karol", "link": "https://stackoverflow.com/users/6699541/karol"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1518435731, "post_id": 48744348, "comment_id": 84491026, "body": "@user2340612 in java I did something like this <a href=\"https://github.com/cr0nil/retrofit\" rel=\"nofollow noreferrer\">github.com/cr0nil/retrofit</a> now, I want to do the same in kotlin"}, {"owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "edited": false, "score": 1, "creation_date": 1518446869, "post_id": 48744348, "comment_id": 84498184, "body": "If you have a code that&#39;s already written in Java, you can convert it to Kotlin quite easy. Just open the java file in Android Studio and invoke action &quot;Convert Java to Kotlin&quot; (keyboard shortcut in macos: shift+alt+cmd+K)"}], "owner": {"reputation": 3, "user_id": 6699541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0d0dbe991f7a4d7b1e935ac8e9cc1d3?s=128&d=identicon&r=PG&f=1", "display_name": "Karol", "link": "https://stackoverflow.com/users/6699541/karol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 322, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518435027, "creation_date": 1518431678, "last_edit_date": 1518435027, "question_id": 48744348, "link": "https://stackoverflow.com/questions/48744348/get-json-data-by-kotlin-with-retrofit2-from-webservicepython-flask", "title": "get json data by kotlin with retrofit2 from webservice(python flask)", "body": "<p>I'm developing an application in Kotlin that uses Retrofit 2 to call my web-service (python flask) and I found only an example with <code>@Query(action=query&amp;format=json)</code>.  What I want is to get data from  a JSON array like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/wtfQ9.png\" alt=\"JSONarray\"></p>\n\n<p>How to do it?</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 682, "user_id": 2113106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/226f9ead3d9746aa7c9df64268be1f47?s=128&d=identicon&r=PG&f=1", "display_name": "Thijs", "link": "https://stackoverflow.com/users/2113106/thijs"}, "edited": false, "score": 0, "creation_date": 1518432070, "post_id": 48744337, "comment_id": 84488831, "body": "There is no direct API to achieve this, but you can set a class variable (boolean) from your runnable and check that var later."}, {"owner": {"reputation": 5317, "user_id": 2098878, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/FkPdT.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/2098878/rafael"}, "reply_to_user": {"reputation": 682, "user_id": 2113106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/226f9ead3d9746aa7c9df64268be1f47?s=128&d=identicon&r=PG&f=1", "display_name": "Thijs", "link": "https://stackoverflow.com/users/2113106/thijs"}, "edited": false, "score": 0, "creation_date": 1518437812, "post_id": 48744337, "comment_id": 84492332, "body": "I think I can achieve this by having object that will have both positive runnable and revertRunnable and flag for runnable completed action. Then I can check whether this action is completed or not."}], "owner": {"reputation": 5317, "user_id": 2098878, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/FkPdT.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/2098878/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518431644, "creation_date": 1518431644, "question_id": 48744337, "link": "https://stackoverflow.com/questions/48744337/how-to-track-manage-runnables-in-android", "title": "How to track/manage runnables in Android", "body": "<p>In my code I need to implement instant spam action for message. For this I change my message without waiting for server response. But sometime on server request errors I need to revert my message state to original. <code>handler.removeCallbacks(runnable)</code> not letting me know whether runnable has already run. How I can accomplish this? I also open to other suggestions to perform these delayed jobs via RxJava, or other technologies.</p>\n\n<pre><code>var handler = Handler()\n\nfun spamMessage(originalMessage: ContentMessage) {\n        var runnable: Runnable? = null\n        val modifiedMessage = originalMessage.cloneUsingJson()\n\n        if (modifiedMessage != null) {\n            modifiedMessage.setSpamReported(true)\n            runnable = Runnable {\n                updateMessage(message)\n            }\n            updateWithDelay(runnable)\n        }\n\n        ApiClient.service.spamMessage(message.serverId).subscribeAsync(subscriptions, object : ApiSubscriberNew&lt;Void&gt;() {\n            override fun onFailure() {\n                var canceled : Boolean = handler.removeCallbacks(runnable)\n                if (!canceled) {\n                    //if couldn't cancel, or was late, revert the changes\n                    revertMessageUpdate(originalMessage)\n                }\n\n            }\n\n        })\n    }\n\nprivate fun updateWithDelay(runnable: Runnable) {\n        handler.postDelayed(runnable, 100)\n}\n</code></pre>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 2, "creation_date": 1518431754, "post_id": 48742377, "comment_id": 84488654, "body": "Did you re-import the modified <code>build.gradle</code> file in IntelliJ?"}], "answers": [{"comments": [{"owner": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "edited": false, "score": 0, "creation_date": 1531749719, "post_id": 49103510, "comment_id": 89699493, "body": "The above answer also applies to custom gradle build plugins, if some errors like <code>KotlinReflectionNotSupportedError</code> arise."}, {"owner": {"reputation": 1645, "user_id": 632931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0a48c2ab9fe6f5338a15b357fec721?s=128&d=identicon&r=PG", "display_name": "MisterEd", "link": "https://stackoverflow.com/users/632931/mistered"}, "edited": false, "score": 5, "creation_date": 1537790570, "post_id": 49103510, "comment_id": 91898810, "body": "with the kotlin gradle DSL, assuming you have <code>plugins {     kotlin(&quot;jvm&quot;) version &quot;$kotlin_version&quot; }</code> then you can say <code>dependencies { compile(kotlin(&quot;reflect&quot;)) }</code>"}], "tags": [], "owner": {"reputation": 2961, "user_id": 4140069, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007399873093/picture?type=large", "display_name": "amlwin", "link": "https://stackoverflow.com/users/4140069/amlwin"}, "is_accepted": false, "score": 22, "last_activity_date": 1520224206, "creation_date": 1520224206, "answer_id": 49103510, "question_id": 48742377, "link": "https://stackoverflow.com/questions/48742377/kotlin-gradle-make-sure-you-have-kotlin-reflect-jar-in-the-classpath/49103510#49103510", "title": "Kotlin &amp; Gradle - Make sure you have kotlin-reflect.jar in the classpath", "body": "<p>add <code>implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"</code> in <code>build.gradle(Module:app)</code> </p>\n\n<p>remove <code>compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"</code> from project level <code>build.gradle</code></p>\n"}], "owner": {"reputation": 1224, "user_id": 6862286, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-ckSMRoJVka8/AAAAAAAAAAI/AAAAAAAAABM/KRZkqIenpZ4/photo.jpg?sz=128", "display_name": "Rohit Gupta", "link": "https://stackoverflow.com/users/6862286/rohit-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13063, "favorite_count": 2, "answer_count": 1, "score": 11, "last_activity_date": 1520224206, "creation_date": 1518424831, "question_id": 48742377, "link": "https://stackoverflow.com/questions/48742377/kotlin-gradle-make-sure-you-have-kotlin-reflect-jar-in-the-classpath", "title": "Kotlin &amp; Gradle - Make sure you have kotlin-reflect.jar in the classpath", "body": "<p>I am working on a app using Kotlin language and Gradle Build in IntelliJ IDEA IDE. I am getting following error:</p>\n\n<pre><code>Exception in thread \"main\" kotlin.jvm.KotlinReflectionNotSupportedError: Kotlin reflection implementation is not found at runtime. Make sure you have kotlin-reflect.jar in the classpath\n    at kotlin.jvm.internal.ClassReference.error(ClassReference.kt:86)\n    at kotlin.jvm.internal.ClassReference.getQualifiedName(ClassReference.kt:26)\n    at WorkerKt.main(Worker.kt:62)\n</code></pre>\n\n<p>I have included the dependencies as mentioned in following answer <a href=\"https://stackoverflow.com/a/36440329/6862286\">Add kotlin-reflect dependency in gradle</a></p>\n\n<p>Even I have added the jar file in libs folder but still I am getting above error at runtime.</p>\n\n<p>My Gradle file is as below:</p>\n\n<pre><code>group 'com.working.workerhelp'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.2.21'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>Is there something I need to configure for Gradle Build or am I missing something?</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "rx-android"], "answers": [{"tags": [], "owner": {"reputation": 1190, "user_id": 6517628, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bjZIrJg2rsc/AAAAAAAAAAI/AAAAAAAABC4/RdjEmxif1Bg/photo.jpg?sz=128", "display_name": "Kaskasi", "link": "https://stackoverflow.com/users/6517628/kaskasi"}, "is_accepted": true, "score": 3, "last_activity_date": 1518424399, "creation_date": 1518424399, "answer_id": 48742263, "question_id": 48741956, "link": "https://stackoverflow.com/questions/48741956/kotlin-rx-required-consumer-found-kfunction/48742263#48742263", "title": "Kotlin + Rx: required Consumer, found KFunction", "body": "<p>Instead of passing a Consumer as a parameter you could just pass a function</p>\n\n<pre><code>fun getDataAsync(onSuccess: (Data) -&gt; Unit, onError: (Throwable) -&gt; Unit) {\n     ApiManager.instance.api\n        .getData(\"some\", \"parameters\", \"here\")\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe({\n            time = System.currentTimeMillis()\n            onSuccess(it)\n        }, onError)\n}\n\n\nfun onButtonClick() {\n   getDataAsync(this::onSuccess, this::onError)\n}\n\nprivate fun onSuccess(data: Data) {}\n\nprivate fun onError(throwable: Throwable) {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1693, "user_id": 2285617, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6a3a918584842b0cb751711242c57536?s=128&d=identicon&r=PG", "display_name": "Semyon Danilov", "link": "https://stackoverflow.com/users/2285617/semyon-danilov"}, "edited": false, "score": 0, "creation_date": 1529165205, "post_id": 48742282, "comment_id": 88780220, "body": "In Java method reference can be passed as a Consumer. And any other single-method interface"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 3, "last_activity_date": 1518424474, "creation_date": 1518424474, "answer_id": 48742282, "question_id": 48741956, "link": "https://stackoverflow.com/questions/48741956/kotlin-rx-required-consumer-found-kfunction/48742282#48742282", "title": "Kotlin + Rx: required Consumer, found KFunction", "body": "<p>The issue is that your method <code>getDataAsync</code> requires an object of type <code>Consumer</code> for both arguments, while you are providing a method reference. Please note that the same error happens in Java.</p>\n\n<p>In order to solve it you can either declare both arguments of <code>getDataAsync</code> as function reference, or create an implementation of <code>Consumer</code>.</p>\n\n<h3>First solution</h3>\n\n<pre><code>fun getDataAsync(onSuccess: (Data) -&gt; Unit, onError: (Throwable) -&gt; Unit) {\n\n}\n\nfun onButtonClick() {\n    getDataAsync(::onSuccess, ::onError)\n}\n\n\nprivate fun onSuccess(data: Data) {\n\n}\n\nprivate fun onError(throwable: Throwable) {}\n</code></pre>\n\n<h3>Second solution</h3>\n\n<pre><code>fun getDataAsync(onSuccess: Consumer&lt;Data&gt;, onError: Consumer&lt;in Throwable&gt;) {\n\n}\n\nfun onButtonClick() {\n    getDataAsync(Consumer { data -&gt;\n        // do something\n    }, Consumer { throwable -&gt;\n        // do something\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2443, "favorite_count": 0, "accepted_answer_id": 48742263, "answer_count": 2, "score": 6, "last_activity_date": 1518424474, "creation_date": 1518423088, "question_id": 48741956, "link": "https://stackoverflow.com/questions/48741956/kotlin-rx-required-consumer-found-kfunction", "title": "Kotlin + Rx: required Consumer, found KFunction", "body": "<p>I am using Kotlin + Retrofit + Rx. I want to extract one of requests into function:</p>\n\n<pre><code>fun getDataAsync(onSuccess: Consumer&lt;Data&gt;, onError: Consumer&lt;in Throwable&gt;) {\n    ApiManager.instance.api\n            .getData(\"some\", \"parameters\", \"here\")\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(Consumer {\n                time = System.currentTimeMillis()\n                onSuccess.accept(it)\n            }, onError)\n}\n\n\nfun onButtonClick() {\n    getDataAsync(this::onSuccess, this::onError)\n}\n\nprivate fun onSuccess(data: Data) {}\n\nprivate fun onError(throwable: Throwable) {}\n</code></pre>\n\n<p>I get an errors in line <code>getDataAsync(this::onSuccess, this::onError)</code>:</p>\n\n<pre><code>Type mismatch: inferred type is KFunction1&lt;@ParameterName Data, Unit&gt; but Consumer&lt;Data&gt; was expected\n\nType mismatch: inferred type is KFunction1&lt;@ParameterName Throwable, Unit&gt; but Consumer&lt;in Throwable&gt; was expected\n</code></pre>\n\n<p>How to fix it?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1518432020, "post_id": 48741910, "comment_id": 84488783, "body": "oh...sloppy mistake!"}], "tags": [], "owner": {"reputation": 2010, "user_id": 7639117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YQfxCtpW3e0/AAAAAAAAAAI/AAAAAAAAAAo/m9WKuSuYUtE/photo.jpg?sz=128", "display_name": "karandeep singh", "link": "https://stackoverflow.com/users/7639117/karandeep-singh"}, "is_accepted": true, "score": 4, "last_activity_date": 1518424399, "last_edit_date": 1518424399, "creation_date": 1518422878, "answer_id": 48741910, "question_id": 48741822, "link": "https://stackoverflow.com/questions/48741822/unable-to-use-anko-intent-inside-recyclerview-adapter/48741910#48741910", "title": "Unable to use Anko Intent inside RecyclerView Adapter", "body": "<p>You need to access the context for that. </p>\n\n<pre><code>context.startActivity(intentFor&lt;DetailActivity&gt;())\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<pre><code>context.startActivity(context.intentFor&lt;DetailActivity&gt;())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8583580"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 48741910, "answer_count": 1, "score": 2, "last_activity_date": 1523611454, "creation_date": 1518422384, "last_edit_date": 1518423130, "question_id": 48741822, "link": "https://stackoverflow.com/questions/48741822/unable-to-use-anko-intent-inside-recyclerview-adapter", "title": "Unable to use Anko Intent inside RecyclerView Adapter", "body": "<p>I have context passed as an argument in the adapter of Recyclerview and hence as per the documentation of Anko, I should be able to start activity as shown below:</p>\n\n<pre><code>startActivity(intentFor&lt;DetailActivity&gt;())\n</code></pre>\n\n<p>I am writing this code in OnClickListener of an item inside onBindViewHolder method of RecyclerView Adapter. But, I am getting an error <strong>unable to resolve startActivity(intentFor())</strong></p>\n\n<p>I have already added the Anko commons dependency inside the gradle file. I am already using <strong>context.startActivity(intentFor())</strong></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1518420944, "post_id": 48741473, "comment_id": 84482420, "body": "Are you asking why someone would need an empty list? Or why there is a named function to create one such? Or why it is a function and not a constant value?"}, {"owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1518420988, "post_id": 48741473, "comment_id": 84482451, "body": "FWIW, Java also has <code>Collections.emptyList()</code>"}, {"owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "reply_to_user": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 0, "creation_date": 1518421190, "post_id": 48741473, "comment_id": 84482563, "body": "Actually i want to know why people using emptyList? What for?"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1518449045, "post_id": 48741473, "comment_id": 84499851, "body": "In Java you even have <code>Collections.singletonList()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 240688, "user_id": 14955, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/5DblQ.png?s=128&g=1", "display_name": "Thilo", "link": "https://stackoverflow.com/users/14955/thilo"}, "edited": false, "score": 2, "creation_date": 1518421325, "post_id": 48741539, "comment_id": 84482629, "body": "And the reason it has to be a function (instead of just exposing the underlying singleton object instance directly) is that it couldn&#39;t be generic otherwise: You want to use the same instance for empty String lists and empty BigDecimal lists. This works because you are never going to get any objects out of an empty list, so it is perfectly type-safe that way."}, {"owner": {"reputation": 1095, "user_id": 3726133, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bd1869f14535babac41274d3500ae3ac?s=128&d=identicon&r=PG&f=1", "display_name": "Raimund Kr&#228;mer", "link": "https://stackoverflow.com/users/3726133/raimund-kr%c3%a4mer"}, "edited": false, "score": 0, "creation_date": 1598431616, "post_id": 48741539, "comment_id": 112453947, "body": "I don&#39;t think this the correct use of the term &quot;singleton&quot;. It has only one of multiple things in common with singletons. I think this answer could be improved by avoiding possible confusions with singletons (e.g. that every encapsulated const/final variable is a singleton)."}, {"owner": {"reputation": 7501, "user_id": 1454, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a0e3ce2508a262749c9fc3afd681f2d4?s=128&d=identicon&r=PG", "display_name": "Raibaz", "link": "https://stackoverflow.com/users/1454/raibaz"}, "edited": false, "score": 0, "creation_date": 1605192023, "post_id": 48741539, "comment_id": 114580133, "body": "I was wondering about the differences between using emptyList() and listOf() and came across this answer that clarifies exactly what I needed. Thanks!"}], "tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 23, "last_activity_date": 1583085614, "last_edit_date": 1583085614, "creation_date": 1518421140, "answer_id": 48741539, "question_id": 48741473, "link": "https://stackoverflow.com/questions/48741473/what-is-the-function-of-emptylist-in-kotlin/48741539#48741539", "title": "What is the function of emptyList in Kotlin", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/empty-list.html\" rel=\"noreferrer\"><code>emptyList</code></a> is not a constructor but a function that returns and immutable empty list implementation. </p>\n\n<p>The main reason such function exists is to save allocations. Since <code>emptyList</code> returns the same <strong>singleton</strong> instance every time it is called so one can use it in allocation free manner. Note that the very same object is returned regardless of the element type i.e. <code>emptyList&lt;String&gt;() === emptyList&lt;Int&gt;()</code> is <code>true</code>. </p>\n\n<p>IMHO <code>emptyList</code> also reads a bit better than <code>listOf</code> when used as e.g. a default parameter value:</p>\n\n<pre><code>data class Person(val friends:List&lt;Person&gt; = emptyList())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4620, "user_id": 1737285, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WQInj.jpg?s=128&g=1", "display_name": "Daniel Lerps", "link": "https://stackoverflow.com/users/1737285/daniel-lerps"}, "edited": false, "score": 1, "creation_date": 1571896598, "post_id": 48742763, "comment_id": 103392785, "body": "Just one good example. It&#39;s also common for unit tests when you need to check for behaviour when inputs don&#39;t contain any elements..."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1518426418, "creation_date": 1518426418, "answer_id": 48742763, "question_id": 48741473, "link": "https://stackoverflow.com/questions/48741473/what-is-the-function-of-emptylist-in-kotlin/48742763#48742763", "title": "What is the function of emptyList in Kotlin", "body": "<p>To address </p>\n\n<blockquote>\n  <p>Actually i want to know why people using emptyList? What for?</p>\n</blockquote>\n\n<p>more directly: you need it e.g. to pass to methods taking lists, or when you have a list which is empty in one branch of your code and not another:</p>\n\n<pre><code>val commandLineOptions: List&lt;String&gt; = when {\n    x &gt; 0 -&gt; listOf(...)\n    else -&gt; emptyList()\n}\n\nrunCommand(command, commandLineOptions)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "is_accepted": false, "score": 3, "last_activity_date": 1558493894, "creation_date": 1558493894, "answer_id": 56248705, "question_id": 48741473, "link": "https://stackoverflow.com/questions/48741473/what-is-the-function-of-emptylist-in-kotlin/56248705#56248705", "title": "What is the function of emptyList in Kotlin", "body": "<p>@miensol provides a good answer addressing the lower-level details of using a singleton empty list object, minimizing allocations. In my opinion, the allocation of an empty list in JVM-based language is only marginally significant. You will be losing a few bytes of memory or wasting only a few clock cycles when instantiating via <code>listOf()</code>. Of course, if you create empty lists all of the time, this may add up, but it's difficult for me to see where this is applicable.</p>\n\n<p>While I do not know the design intent of the API, I definitely see a <strong><em>semantic</em></strong> reason for its inclusion.\nAs @miensol already stated, <code>emptyList()</code> appears like a good candidate for a default parameter. The reason this is true is because it adheres to the well-known <a href=\"https://en.wikipedia.org/wiki/Null_object_pattern\" rel=\"nofollow noreferrer\">Null-Object Pattern</a>.</p>\n\n<p>Briefly, the pattern suggests a design where we use semantically meaningful types to represent our empty, default, or null values. In languages susceptible to null-pointer exceptions, this is useful because a proper object allows the client to call any of the available class members.</p>\n\n<p>Consider the example below, where we use a default of <code>null</code>.</p>\n\n\n\n<pre><code>class AcademicProfile(val courseGradesAsPercent : List&lt;Double&gt;? = null) {\n\n    fun displayAverage() {\n        if (courseGradesAsPercent == null)\n            println(\"No average to calculate, please sign-up for a course!\")\n        else {\n            val sum = courseGradesAsPercent.reduce { accumulator, value -&gt; accumulator + value }\n            val average = sum / courseGradesAsPercent.count()\n            println(\"Your unweighted average is $average\")\n        }\n    }\n}\n</code></pre>\n\n<p>The intent expressed by this class is that the list of course grades can be in any of the following states:</p>\n\n<ul>\n<li>null</li>\n<li>not-null, but empty</li>\n<li>filled with elements</li>\n</ul>\n\n<p>Now, suppose we used <code>emptyList()</code> instead as the default:</p>\n\n\n\n<pre><code>class AcademicProfile(val courseGradesAsPercent : List&lt;Double&gt; = emptyList()) {\n\n    fun displayAverage() {\n        if (courseGradesAsPercent.isEmpty())\n            println(\"No average to calculate, please sign-up for a course!\")\n        else {\n            val sum = courseGradesAsPercent.reduce { accumulator, value -&gt; accumulator + value }\n            val average = sum / courseGradesAsPercent.count()\n            println(\"Your unweighted average is $average\")\n        }\n    }\n}\n</code></pre>\n\n<p>In this scenario, there is no confusion between <code>null</code> and empty. If there are no grades, then the list is empty. These semantics are carried into the function by allowing us to call a member on the null-object's type (i.e. <code>List&lt;Double&gt;.isEmpty()</code>). Working with <code>null</code> expresses less about the domain and instead relies on the language's mechanics.</p>\n\n<p>The performance benefit of using the singleton empty list is just icing on the cake!</p>\n"}, {"comments": [{"owner": {"reputation": 750, "user_id": 1783734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/169c977d7c71e35679d4b1e1a5cf8bfc?s=128&d=identicon&r=PG", "display_name": "MFazio23", "link": "https://stackoverflow.com/users/1783734/mfazio23"}, "edited": false, "score": 0, "creation_date": 1586113039, "post_id": 60320765, "comment_id": 108001351, "body": "You&#39;re not adding to the original empty list, you&#39;re using it as the starting point and creating a new list with whatever you added to it.  In practice, it&#39;s similar, but still an important distinction."}], "tags": [], "owner": {"reputation": 1, "user_id": 7908124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2881cd826c3ae1f3eaf81fbbbcd8a49a?s=128&d=identicon&r=PG&f=1", "display_name": "JTforYuan", "link": "https://stackoverflow.com/users/7908124/jtforyuan"}, "is_accepted": false, "score": -1, "last_activity_date": 1584028479, "last_edit_date": 1584028479, "creation_date": 1582204397, "answer_id": 60320765, "question_id": 48741473, "link": "https://stackoverflow.com/questions/48741473/what-is-the-function-of-emptylist-in-kotlin/60320765#60320765", "title": "What is the function of emptyList in Kotlin", "body": "<p>Actually\uff0ceven if you declare an empty list\uff0cyou can still add elements to this empty list by using the <code>\"+\"</code>, because Kotlin override some operators in its libraries:</p>\n\n<pre><code>var l = emptyList&lt;Int&gt;() \nprint(l + 1) // output [1]\n</code></pre>\n"}], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4470, "favorite_count": 2, "accepted_answer_id": 48741539, "answer_count": 4, "score": 10, "last_activity_date": 1584028479, "creation_date": 1518420850, "question_id": 48741473, "link": "https://stackoverflow.com/questions/48741473/what-is-the-function-of-emptylist-in-kotlin", "title": "What is the function of emptyList in Kotlin", "body": "<p>Why there is such emptyList constructor in Kotlin?\nIt was a immutable List, so there is no way to add or remove its elements and it was empty!\nSo, what is the function of this emptyList?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11561, "user_id": 424413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/H4Mw9.jpg?s=128&g=1", "display_name": "Sankar Ganesh PMP", "link": "https://stackoverflow.com/users/424413/sankar-ganesh-pmp"}, "edited": false, "score": 0, "creation_date": 1518406784, "post_id": 48739045, "comment_id": 84478064, "body": "Could you please post what is the value of result in the response callback, i.e., Log.e(&quot;fetchProfileImage&quot;, request.toString())"}, {"owner": {"reputation": 3871, "user_id": 2203324, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/054631c090c610bb1ed8c3e76e1f3b38?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2203324/dan"}, "reply_to_user": {"reputation": 11561, "user_id": 424413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/H4Mw9.jpg?s=128&g=1", "display_name": "Sankar Ganesh PMP", "link": "https://stackoverflow.com/users/424413/sankar-ganesh-pmp"}, "edited": false, "score": 0, "creation_date": 1518408511, "post_id": 48739045, "comment_id": 84478453, "body": "Request:  &quot;Body : (empty)&quot; &quot;Headers : (1)&quot; Accept-Encoding : compress;q=0.5, gzip;q=1.0"}, {"owner": {"reputation": 3871, "user_id": 2203324, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/054631c090c610bb1ed8c3e76e1f3b38?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2203324/dan"}, "reply_to_user": {"reputation": 11561, "user_id": 424413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/H4Mw9.jpg?s=128&g=1", "display_name": "Sankar Ganesh PMP", "link": "https://stackoverflow.com/users/424413/sankar-ganesh-pmp"}, "edited": false, "score": 0, "creation_date": 1518408680, "post_id": 48739045, "comment_id": 84478486, "body": "Response: In edited question above."}, {"owner": {"reputation": 11561, "user_id": 424413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/H4Mw9.jpg?s=128&g=1", "display_name": "Sankar Ganesh PMP", "link": "https://stackoverflow.com/users/424413/sankar-ganesh-pmp"}, "edited": false, "score": 0, "creation_date": 1518412002, "post_id": 48739045, "comment_id": 84479266, "body": "Could you please post the value of data in the else block of response callback, as it goes for the else block, because there&#39;s no problem with regards to establishing the connection with server as we are getting the value of response as &quot;200&quot;."}, {"owner": {"reputation": 3871, "user_id": 2203324, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/054631c090c610bb1ed8c3e76e1f3b38?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2203324/dan"}, "reply_to_user": {"reputation": 11561, "user_id": 424413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/H4Mw9.jpg?s=128&g=1", "display_name": "Sankar Ganesh PMP", "link": "https://stackoverflow.com/users/424413/sankar-ganesh-pmp"}, "edited": false, "score": 0, "creation_date": 1518434536, "post_id": 48739045, "comment_id": 84490322, "body": "What I\u2019ve posted is from the else block"}, {"owner": {"reputation": 1635, "user_id": 3561494, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/19c386ce6d5108ebec4f80258ea6fe2e?s=128&d=identicon&r=PG&f=1", "display_name": "user3561494", "link": "https://stackoverflow.com/users/3561494/user3561494"}, "edited": false, "score": 1, "creation_date": 1522702477, "post_id": 48739045, "comment_id": 86244347, "body": "I am getting this problem too."}, {"owner": {"reputation": 1710, "user_id": 1443182, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/U6MEM.jpg?s=128&g=1", "display_name": "Mark Gilchrist", "link": "https://stackoverflow.com/users/1443182/mark-gilchrist"}, "edited": false, "score": 0, "creation_date": 1532635462, "post_id": 48739045, "comment_id": 90061150, "body": "do you still have this problem?"}], "answers": [{"tags": [], "owner": {"reputation": 1710, "user_id": 1443182, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/U6MEM.jpg?s=128&g=1", "display_name": "Mark Gilchrist", "link": "https://stackoverflow.com/users/1443182/mark-gilchrist"}, "is_accepted": true, "score": 2, "last_activity_date": 1532640029, "creation_date": 1532640029, "answer_id": 51547660, "question_id": 48739045, "link": "https://stackoverflow.com/questions/48739045/fuel-download-returns-empty-bytes/51547660#51547660", "title": "Fuel download returns empty bytes?", "body": "<p>This is a problem with the internal workings of Fuel</p>\n\n<p>I have raised a pr that fixes this issue (in a suitable manner I hope) <a href=\"https://github.com/kittinunf/Fuel/issues/275\" rel=\"nofollow noreferrer\">https://github.com/kittinunf/Fuel/issues/275</a></p>\n\n<p>This is not something you as a user have done wrong</p>\n"}], "owner": {"reputation": 3871, "user_id": 2203324, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/054631c090c610bb1ed8c3e76e1f3b38?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2203324/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1543, "favorite_count": 0, "accepted_answer_id": 51547660, "answer_count": 1, "score": 3, "last_activity_date": 1532640029, "creation_date": 1518405104, "last_edit_date": 1518408760, "question_id": 48739045, "link": "https://stackoverflow.com/questions/48739045/fuel-download-returns-empty-bytes", "title": "Fuel download returns empty bytes?", "body": "<p>I'm using Fuel library for Kotlin to download an image.</p>\n\n<p>The following code works as far as showing the download status ... but, the <code>Log.e(\"fetchProfileImage\", \"bytes --&gt; ${bytes.size}\")</code> line yields \"0\" for byte size, so I'm confused as to what's going on.</p>\n\n<p>Is this the expected behavior, or am I doing something wrong?</p>\n\n<pre><code>        Fuel.download(endpoint).destination { response, url -&gt;\n            File.createTempFile(\"profileImage\", \".jpg\")\n        }.progress { readBytes, totalBytes -&gt;\n            val fractionCompleted = readBytes.toFloat() / totalBytes.toFloat()\n            this.delegate?.downloadProgressDidChange(to = fractionCompleted)\n        }.response { request, response, result -&gt;\n            val (data, error) = result\n            if (error != null) {\n                Log.e(\"fetchProfileImage\", \"error: ${error}\")\n            } else {\n                result.fold({ bytes -&gt;\n\n                    Log.e(\"fetchProfileImage\", \"bytes --&gt; ${bytes.size}\")\n                    // delegate?.didReceiveProfileImage(bmp)\n                }, {err -&gt;\n                    Log.e(\"fetchProfileImage\", \"error: ${err}\")\n                })\n            }\n        }\n</code></pre>\n\n<p>Here's the response:</p>\n\n<pre><code>Response : OK \nLength : 426828\nBody : (426828 bytes of image/jpeg)\nHeaders : (8)\nContent-Length : [426828]\nContent-Type : [image/jpeg]\nDate : [Mon, 12 Feb 2018 04:10:27 GMT]\nServer : [Jetty(9.4.3.v20170317)]\nX-Android-Received-Millis : [1518408627531]\nX-Android-Response-Source : [NETWORK 200]\nX-Android-Selected-Protocol : [http/1.1]\nX-Android-Sent-Millis : [1518408627121]\n</code></pre>\n"}, {"tags": ["kotlin", "unique-constraint", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 1587, "user_id": 3861913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uKxic.jpg?s=128&g=1", "display_name": "Karthik Kompelli", "link": "https://stackoverflow.com/users/3861913/karthik-kompelli"}, "edited": false, "score": 3, "creation_date": 1561531846, "post_id": 48736187, "comment_id": 100089590, "body": "getting error : Assigning single elements to varargs in named form is forbidden"}, {"owner": {"reputation": 7443, "user_id": 361832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hb6yU.jpg?s=128&g=1", "display_name": "Dariusz Bacinski", "link": "https://stackoverflow.com/users/361832/dariusz-bacinski"}, "edited": false, "score": 0, "creation_date": 1582031540, "post_id": 48736187, "comment_id": 106629913, "body": "@Entity(indices = arrayOf(Index(value = arrayOf(&quot;authorid&quot;), unique = true)))"}], "tags": [], "owner": {"reputation": 303, "user_id": 5348135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12b1dd38d2d02568e15c4540bbdf52be?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Ikryanov", "link": "https://stackoverflow.com/users/5348135/dmitry-ikryanov"}, "is_accepted": true, "score": 8, "last_activity_date": 1518381468, "creation_date": 1518381468, "answer_id": 48736187, "question_id": 48735933, "link": "https://stackoverflow.com/questions/48735933/android-using-room-with-kotlin-how-to-add-unique-constrain-on-a-field/48736187#48736187", "title": "android, using Room with kotlin, how to add unique constrain on a field", "body": "<p>You missed <code>,</code> after <code>\"author\"</code><br>\n<code>@Entity(tableName = \"author\", indices = arrayOf(Index(value = \"authorid\", unique = true)))</code></p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3046, "favorite_count": 0, "accepted_answer_id": 48736187, "answer_count": 1, "score": 1, "last_activity_date": 1518381468, "creation_date": 1518379827, "question_id": 48735933, "link": "https://stackoverflow.com/questions/48735933/android-using-room-with-kotlin-how-to-add-unique-constrain-on-a-field", "title": "android, using Room with kotlin, how to add unique constrain on a field", "body": "<p>per <a href=\"https://developer.android.com/training/data-storage/room/defining-data.html\" rel=\"nofollow noreferrer\">Annotate indices and uniqueness</a>, seems it could add constrain unique like below,</p>\n\n<p>but got error in AndroidStudio 3 (the editor has red underline saying \"unresolved the reference:indices\"), :</p>\n\n<pre><code>/Users/application/database/DbAuthor.kt\nError:(14, 39) Expecting an element\n\n@Entity(tableName = \"author\" indices = arrayOf(Index(value = \"authorid\", unique = true)))\nclass DbAuthor(\n\n    @ColumnInfo(name = \"authorid\")\n    var authorid: Int? = null,\n</code></pre>\n\n<p>how to add unique constrain on a field when using kotlin?</p>\n\n<p>gradle is like:</p>\n\n<pre><code>buildscript {\next {\n    verAndroidSupport = '27.0.0'\n    arch = \"1.0.0\"\n    archRoomVersion = \"1.0.0\"\n\n}\next.kotlin_version = '1.2.20'\n</code></pre>\n\n<p>and </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\n\n//arch\nimplementation \"android.arch.lifecycle:runtime:${arch}\"\nimplementation \"android.arch.lifecycle:extensions:${arch}\"\nannotationProcessor \"android.arch.lifecycle:compiler:${arch}\"\n//room\ncompile \"android.arch.persistence.room:runtime:${archRoomVersion}\"\nannotationProcessor \"android.arch.lifecycle:compiler:${arch}\"\n\nannotationProcessor \"android.arch.persistence.room:compiler:${archRoomVersion}\"\nkapt \"android.arch.persistence.room:compiler:1.0.0-alpha1\"\n</code></pre>\n"}, {"tags": ["jackson", "kotlin"], "comments": [{"owner": {"reputation": 353, "user_id": 3711574, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d99cffa2ea59b24890e7f8f7259892ab?s=128&d=identicon&r=PG&f=1", "display_name": "R&#233;mi P", "link": "https://stackoverflow.com/users/3711574/r%c3%a9mi-p"}, "edited": false, "score": 0, "creation_date": 1520432655, "post_id": 48735608, "comment_id": 85312842, "body": "Did you find any answer on it, I still have the same issue, and i can&#39;t resolve it at the moment...?"}], "answers": [{"comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1566110454, "post_id": 48736001, "comment_id": 101548181, "body": "<code>you may to try add feature to kotlin-jackson module, with adding a new feature parameter, which will enable a null ignoring from json parameters and use default values</code>. How would that work? Any examples?"}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": false, "score": 1, "last_activity_date": 1518425677, "last_edit_date": 1518425677, "creation_date": 1518380231, "answer_id": 48736001, "question_id": 48735608, "link": "https://stackoverflow.com/questions/48735608/ignoring-null-fields-when-deserializing-with-jackson/48736001#48736001", "title": "Ignoring null fields when deserializing with Jackson", "body": "<p>You could try first to filter null values from <code>json</code> and after to deserialize it to Kotlin object. </p>\n\n<p>Or you may to try add feature to <code>kotlin-jackson</code> module, with adding a new feature parameter, which will enable a null ignoring from json parameters and use default values. \nYou may do this by modify this <a href=\"https://github.com/FasterXML/jackson-module-kotlin/blob/master/src/main/kotlin/com/fasterxml/jackson/module/kotlin/KotlinValueInstantiator.kt#L41\" rel=\"nofollow noreferrer\">line</a> (if I'm not mistaken)</p>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 4752052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2b7fb0b1f43e2149b3d9c8640e0cf7?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/4752052/george"}, "edited": false, "score": 0, "creation_date": 1518466862, "post_id": 48736558, "comment_id": 84510559, "body": "That would be the easy way out I agree. However, in this case, I don&#39;t control the source JSON so am trying to find a way to get the intended result when deserializing."}, {"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "reply_to_user": {"reputation": 403, "user_id": 4752052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2b7fb0b1f43e2149b3d9c8640e0cf7?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/4752052/george"}, "edited": false, "score": 0, "creation_date": 1518468166, "post_id": 48736558, "comment_id": 84511250, "body": "@George in such situation you could use a DTO and then create TestObject based on its properties"}], "tags": [], "owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1518383798, "creation_date": 1518383798, "answer_id": 48736558, "question_id": 48735608, "link": "https://stackoverflow.com/questions/48735608/ignoring-null-fields-when-deserializing-with-jackson/48736558#48736558", "title": "Ignoring null fields when deserializing with Jackson", "body": "<p>If you don't have any value and field is non-nullable then you should not pass it in request body:</p>\n\n<pre><code>{\n    \"boolField\": true,\n    \"stringField\": \"string\"\n}\n</code></pre>\n\n<p>This results in following object, as expected:</p>\n\n<pre><code>{\n    \"boolField\": true,\n    \"stringField\": \"string\",\n    \"nullBoolField\": true,\n    \"nullStringField\": \"default\",\n    \"notThereBoolField\": true,\n    \"notThereStringField\": \"not there\"\n}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 4752052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2b7fb0b1f43e2149b3d9c8640e0cf7?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/4752052/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1994, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1518425677, "creation_date": 1518377772, "last_edit_date": 1518384069, "question_id": 48735608, "link": "https://stackoverflow.com/questions/48735608/ignoring-null-fields-when-deserializing-with-jackson", "title": "Ignoring null fields when deserializing with Jackson", "body": "<p>I have the following Kotlin data class:</p>\n\n<pre><code>data class TestObject(\n        val boolField: Boolean,\n        val stringField: String,\n        val nullBoolField: Boolean = true,\n        val nullStringField: String = \"default\",\n        val notThereBoolField: Boolean = true,\n        val notThereStringField: String = \"not there\"\n)\n</code></pre>\n\n<p>I am then attempting to deserialize some JSON into this class using Jackson v2.9.4 with the Jackson Kotlin plugin v2.9.4.1. The test JSON is as follows:</p>\n\n<pre><code>{\n    \"boolField\": true,\n    \"stringField\": \"string\",\n    \"nullBoolField\": null,\n    \"nullStringField\": null\n}\n</code></pre>\n\n<p>The first two and the last two fields deserialize successfully - with the values from the JSON and the default values from the Kotlin data class, as appropriate. However, when the middle pair of fields are present, the deserialization fails with:</p>\n\n<blockquote>\n  <p>Instantiation of [simple type, class com.example.TestObject] value\n  failed for JSON property nullStringField due to missing (therefore\n  NULL) value for creator parameter nullStringField which is a\n  non-nullable type</p>\n</blockquote>\n\n<p>I know I <em>could</em> solve the problem by changing the types of <code>nullBoolField</code> and <code>nullStringField</code> to <code>Boolean?</code> and <code>String?</code> respectively, but since default values are known I would rather not have to push the handling of <code>null</code> further down into the code by doing that.</p>\n\n<p>The question is: is there any way of configuring Jackson to use the Kotlin data class default values for non-nullable properties when the property is present in the JSON but set to null?</p>\n"}, {"tags": ["android", "junit", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "edited": false, "score": 0, "creation_date": 1553369804, "post_id": 48735268, "comment_id": 97362111, "body": "Have you found any other solution?, sealed classes don&#39;t scale, especially with dynamically generated test data."}, {"owner": {"reputation": 2577, "user_id": 3451639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fGkB6.jpg?s=128&g=1", "display_name": "Aleksander Mielczarek", "link": "https://stackoverflow.com/users/3451639/aleksander-mielczarek"}, "reply_to_user": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "edited": false, "score": 0, "creation_date": 1553432337, "post_id": 48735268, "comment_id": 97374306, "body": "@TWiStErRob So, annotation processor can be used to generate ui tests. But it also isn&#39;t perfect solution due to extra kapt step before run."}, {"owner": {"reputation": 38631, "user_id": 253468, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/eump2.jpg?s=128&g=1", "display_name": "TWiStErRob", "link": "https://stackoverflow.com/users/253468/twisterrob"}, "edited": false, "score": 0, "creation_date": 1553432574, "post_id": 48735268, "comment_id": 97374367, "body": "Ah, nice idea. With Incremental KAPT on the way, it could be a viable solution. Although I would prefer if it&#39;s &quot;just worked&quot; out of the box... i.e. <a href=\"https://github.com/android/android-test/issues/215\" rel=\"nofollow noreferrer\">github.com/android/android-test/issues/215</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1219, "user_id": 4026208, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002051163590/picture?type=large", "display_name": "Pavel Kataykin", "link": "https://stackoverflow.com/users/4026208/pavel-kataykin"}, "is_accepted": false, "score": 0, "last_activity_date": 1584828957, "creation_date": 1584828957, "answer_id": 60793885, "question_id": 48735268, "link": "https://stackoverflow.com/questions/48735268/unable-to-run-parameterized-tests-with-android-test-orchestrator/60793885#60793885", "title": "Unable to run parameterized tests with Android Test Orchestrator", "body": "<p>Parameterized tests aren't currently supported in Orchestrator:\n<a href=\"https://developer.android.com/jetpack/androidx/releases/archive/test#relnotes-20170725-known-issues\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/archive/test#relnotes-20170725-known-issues</a></p>\n"}], "owner": {"reputation": 2577, "user_id": 3451639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fGkB6.jpg?s=128&g=1", "display_name": "Aleksander Mielczarek", "link": "https://stackoverflow.com/users/3451639/aleksander-mielczarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 818, "favorite_count": 0, "answer_count": 1, "score": 16, "last_activity_date": 1595753507, "creation_date": 1518375778, "last_edit_date": 1595753507, "question_id": 48735268, "link": "https://stackoverflow.com/questions/48735268/unable-to-run-parameterized-tests-with-android-test-orchestrator", "title": "Unable to run parameterized tests with Android Test Orchestrator", "body": "<p>I'm trying to run parameterized tests using Android Test Orchestrator. But for some reason parameterized tests won't start. I can run all tests properly without Orchestrator but I need it to clear some data between tests.</p>\n<p>This is output from Gradle. It can see all 14 tests but only 12 are executed (missing 2 are parameterized):</p>\n<pre><code>Starting 14 tests on Nexus_5X_API_27(AVD) - 8.1.0\n\nTests on Nexus_5X_API_27(AVD) - 8.1.0 failed: Test run failed to complete. Expected 14 tests, received 12\n\nTest run failed to complete. Expected 14 tests, received 12\n</code></pre>\n<p><strong>Gradle:</strong></p>\n<pre><code>android {\n  \n    defaultConfig {       \n        testInstrumentationRunner &quot;foo.bar.CustomRunner&quot;\n    }\n \n    testOptions {\n        unitTests.returnDefaultValues = true\n        execution 'ANDROID_TEST_ORCHESTRATOR'\n    }\n}\n\ndependencies {  \n    androidTestImplementation &quot;com.android.support.test:runner:$runnerVersion&quot;   \n    androidTestUtil &quot;com.android.support.test:orchestrator:$runnerVersion&quot;\n}\n</code></pre>\n<p><strong>Test:</strong></p>\n<pre><code>@LargeTest\n@RunWith(Parameterized::class)\nclass ParamTest(val param1: String, val param2: String) {\n\n    companion object {\n        @JvmStatic\n        @Parameterized.Parameters\n        fun data(): Collection&lt;Array&lt;Any&gt;&gt; {\n            return listOf(\n                    arrayOf(&quot;param1&quot;, &quot;param2&quot;),\n                    arrayOf(&quot;param21&quot;, &quot;param22&quot;)\n            )\n        }\n    }\n\n    @Test\n    fun shouldDoSthWithParams() {\n       //some test\n    }\n\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>As a workaround sealed class can be used:</p>\n<pre><code>@LargeTest\n@RunWith(AndroidJUnit4::class)\nclass ParamTest1 : ParamTest(&quot;param1&quot;, &quot;param2&quot;)\n\n@LargeTest\n@RunWith(AndroidJUnit4::class)\nclass ParamTest2 : ParamTest(&quot;param21&quot;, &quot;param22&quot;)\n\nsealed class ParamTest(val param1: String, val param2: String) {\n  \n    @Test\n    fun shouldDoSthWithParams() {\n       //some test\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518380739, "post_id": 48735801, "comment_id": 84471493, "body": "thanks for the help!. The presentor() was copy/paste error, should be presentor().pullDataFromRemoteServer().     what I mean is when injecting the  InfiniteScrollListener it should have a way to allow a different &#39;handler function&#39; to the InfiniteScrollListener (currently it is hard coded presentor().pullDataFromRemoteServer()).  I guess your setter solution may work, will try your solution soon."}, {"owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518380887, "post_id": 48735801, "comment_id": 84471549, "body": "Note that when you call <code>presentor(). ...</code> you are creating a new instance of your presenter. Use the approach with the arguments to get the Presenter instance that you provide with your @provides annotated method"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518381142, "post_id": 48735801, "comment_id": 84471613, "body": "I am not sure if I got you right, in my mind in the PresentorModule the presentor() will always return the existing mPresentor which was instantiated in this module&#39;s constructor. Could it be still from a new instance?"}, {"owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "reply_to_user": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518381338, "post_id": 48735801, "comment_id": 84471670, "body": "oh yes you are correct in your case this is true. I thought that your presentor() method was creating a new presenter. Nervetheless the approach with the arguments would work regardless of what the presentor method did, because Dagger will respect the scope of the @Provides annotated method. So you would always get same presenter regardless of where it is coming from. So you can keep it as is for now, to keep it simple."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1518381424, "post_id": 48735801, "comment_id": 84471701, "body": "by the way, the @Provide fun scrollFunc(presenter:Presenter):()-&gt;Unit solution is  what I try to avoid. try to not hard code the &#39;handler function&#39; inside the Module."}], "tags": [], "owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "is_accepted": false, "score": 1, "last_activity_date": 1518379762, "last_edit_date": 1518379762, "creation_date": 1518378913, "answer_id": 48735801, "question_id": 48734281, "link": "https://stackoverflow.com/questions/48734281/how-to-provide-different-handling-function-to-the-injected-infinitescrolllistene/48735801#48735801", "title": "how to provide different handling function to the injected InfiniteScrollListener instance - in kotlin", "body": "<p>If I understand you correctly you want the Class that injects your InfiniteScrollListener not to know the LinearLayoutManager but to be in charge of writing the code that is executed?</p>\n\n<p>Alternatively you could inject your InfiniteScrollMethod and give it a setter method for the function.</p>\n\n<pre><code>class InfiniteScrollListener (val layoutManager: LinearLayoutManager) : ...\n\n    var func: (() -&gt; Unit)?=null\n\n    override fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n        super.onScrolled(recyclerView, dx, dy) \n        ...\n        func()\n        ...\n     }\n}\n</code></pre>\n\n<p>And then in your View:</p>\n\n<pre><code>infiniteOnScollListener.func = { code() }\naddOnScrollListener(infiniteScrollListener)\n</code></pre>\n\n<p>Also on a side note: In your dagger Modules there is no need to call the @Provides methods directly. E.g. </p>\n\n<pre><code>    @Provides\n    @ViewScope\n    fun provideInfiniteScrollListener(presenter:Presenter,linearLayoutManager: LinearLayoutManager) : InfiniteScrollListener {\n        return InfiniteScrollListener(\n            {\n                presenter\n            },\n            linearLayoutManager)\n    }\n</code></pre>\n\n<p>Dagger will take care of providing the arguments of the provides method.</p>\n\n<p>Also the function passed into InfiniteScollListener <code>{presentor()}</code> will not do anything apart from creating a new presenter when it is called (In case you are not aware and it is not just for the meantime of figuring out your solution).</p>\n\n<p>Edit: I think I might have understood what you want to do: You want the Listener to call a function on your presenter or something else, without the view knowing about the code?</p>\n\n<p>How about this:</p>\n\n<pre><code> @Provides\n@ViewScope\nfun provideInfiniteScrollListener(@Named(\"scrollFunc1\") func:()-&gt;Unit,presenter:Presenter,linearLayoutManager: LinearLayoutManager) : InfiniteScrollListener {\n    return InfiniteScrollListener(func,linearLayoutManager)\n}\n\n@Provides\n@Named(\"scrollFunc1\")\nfun scrollFunc(presenter:Presenter):()-&gt;Unit{\n   return { presenter.onScrolled() }\n}\n</code></pre>\n\n<p>I think what I am mostly confused about it what you mean with \"provide different implementations of the method to the InfiniteScrollListener\". Who is in fact the provider of the func?</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518380093, "creation_date": 1518369960, "last_edit_date": 1518380093, "question_id": 48734281, "link": "https://stackoverflow.com/questions/48734281/how-to-provide-different-handling-function-to-the-injected-infinitescrolllistene", "title": "how to provide different handling function to the injected InfiniteScrollListener instance - in kotlin", "body": "<p>This is related to\n<a href=\"https://stackoverflow.com/questions/48714046/using-dagger2-to-provide-a-type-with-params-got-error-cannot-be-provided-withou\">using Dagger2 to provide a type with params got error &quot;cannot be provided without an @Provides-annotated method&quot; mean</a></p>\n\n<p>Seems I find a work around (thanks @David Medenjak for explain the error), it works, but not sure if there is better way to do it, especially to provide the flexibility of proving different handling function to the injected InfiniteScrollListener instance. Current solution the handling function is hard coded in the PresentorModule. For that I don't think it is a really solution for the error of</p>\n\n<pre><code>@javax.inject.Named(\"func\") kotlin.jvm.functions.Function0&lt;kotlin.Unit&gt; cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>Here is the current solution:</p>\n\n<p>The subcomponent with ViewScope, now it provides LinearLayoutManager and InfiniteScrollListenerwhich are singlets to this scope</p>\n\n<pre><code>@ViewScope\n@Subcomponent(modules = arrayOf(PresentorModule::class))\ninterface PresentorComponent {\n\n    fun inject (fragment: ArticlesFragment)\n\n    fun getPresenter(): Presentor\n\n    fun getLinearLayoutManager(): LinearLayoutManager\n    fun getInfiniteScrollListener(): InfiniteScrollListener\n\n}\n</code></pre>\n\n<p>The PresentorModule provides linearLayoutManager (has dependency on the current context of this module), and InfiniteScrollListener which depends on the presentor and the linearLayoutManager, with a <code>hard coded implementation of the handling function</code></p>\n\n<pre><code>@Module\nclass PresentorModule {\n\n    var mContext: Context\n    var mPresentor: Presentor\n\n    constructor(context: Context) {\n        mContext = context\n        mPresentor = Presentor() \n    }\n    @Provides\n    @ViewScope\n    internal fun context(): Context {// not sure if it has to implement to provide this mContext\n        return mContext\n    }\n\n    @Provides\n    @ViewScope\n\n    fun presentor() : Presentor {\n      return mPresentor      \n    }\n\n    @Provides\n    @ViewScope\n\n    fun linearLayoutManager() : LinearLayoutManager {\n        return LinearLayoutManager(mContext)\n    }\n\n    @Provides\n    @ViewScope\n    fun infiniteScrollListener() : InfiniteScrollListener {\n        return InfiniteScrollListener(\n            {\n                presentor().pullDataFromRemoteServer()\n            },\n            linearLayoutManager())\n    }\n\n // really would like to have the flexibility of letting the consumer provides the \n // handling function to the InfiniteScrollListener instance,  \n // but don\u2019t know how to do it, so have to hard code the handling function\n // in the provider of InfiniteScrollListener listed above\n\n //    @Provides\n //    @ViewScope\n //    fun infiniteScrollListener(func: () -&gt; Unit, layoutManager: LinearLayoutManager) :     InfiniteScrollListener {\n //        return InfiniteScrollListener(func, layoutManager)\n //    }\n}\n</code></pre>\n\n<p>The definition of InfiniteScrollListener class, which takes a handling function and it is called in onScrolled()</p>\n\n<pre><code>class InfiniteScrollListener (val func: () -&gt; Unit,\n                          val layoutManager: LinearLayoutManager) : RecyclerView.OnScrollListener() {\n    init{\n    \u2026 \u2026\n}\n\noverride fun onScrolled(recyclerView: RecyclerView, dx: Int, dy: Int) {\n    super.onScrolled(recyclerView, dx, dy) \n\n    \u2026 \u2026\n    func()\n    \u2026 \u2026\n}\n</code></pre>\n\n<p>The use of presentorComponent:</p>\n\n<pre><code>private lateinit var presentorComponent: PresentorComponent\nvar infiniteScrollListener: InfiniteScrollListener? = null\n\n@Inject\nlateinit var presentor: Presentor\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n    \u2026\u2026\n\n   //use dagger to inject viewScope presentor\n    if (MyApp.graph != null) {\n        presentorComponent = MyApp.graph\n            .addChildModle(PresentorModule(getActivity()))\n\n        presentorComponent\n            .inject(this)\n    }\n    return view\n}\n\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    articlesList!!.apply {\n        setHasFixedSize(true)\n        clearOnScrollListeners()\n\n        infiniteScrollListener = presentorComponent.getInfiniteScrollListener()\n\n// old non-injection way to instantiate the InfiniteScrollListener with\n// a custom handling function passed in at this moment\n\n//            infiniteScrollListener = InfiniteScrollListener(\n//                    {\n//                        presentor.pullDataFromRemoteServer()                   \n//                    },\n//                    linearLayout)\n\n        addOnScrollListener(infiniteScrollListener)\n</code></pre>\n\n<p>I really would like to have the flexibility of provide different handling function when inject the\nclass InfiniteScrollListener,</p>\n\n<p>Like the old code was doing:</p>\n\n<pre><code>infiniteScrollListener = InfiniteScrollListener(\n    {\n        presentor.pullDataFromRemoteServer()           \n    },\n    linearLayout)\n</code></pre>\n\n<p>Instead of hardcoded in the</p>\n\n<pre><code>@Module\nclass PresentorModule {\n\n\u2026 \u2026\n    @Provides\n    @ViewScope\n    fun infiniteScrollListener() : InfiniteScrollListener {\n        return InfiniteScrollListener(\n            {\n                presentor()\n            },\n            linearLayoutManager())\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "httpurlconnection", "secure-random", "x509trustmanager"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518364308, "post_id": 48733271, "comment_id": 84465714, "body": "The code doesn&#39;t even compile... In the pbF method, end and start are undefined. And using findViewById every time the method is called is a waste of memory"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518365402, "post_id": 48733271, "comment_id": 84466065, "body": "I said why it doesn&#39;t compile. End and start in the pbF method are not defined. You&#39;re most likely using the wrong var to calculate the percentage"}, {"owner": {"reputation": 830, "user_id": 4688878, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/yrBuv.png?s=128&g=1", "display_name": "Vitalis Hommel", "link": "https://stackoverflow.com/users/4688878/vitalis-hommel"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518365780, "post_id": 48733271, "comment_id": 84466192, "body": "Fixed. Now what?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518365874, "post_id": 48733271, "comment_id": 84466217, "body": "So it was just a copy-paste error? The incompatible vars there could have been the actual problem"}, {"owner": {"reputation": 830, "user_id": 4688878, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/yrBuv.png?s=128&g=1", "display_name": "Vitalis Hommel", "link": "https://stackoverflow.com/users/4688878/vitalis-hommel"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518365972, "post_id": 48733271, "comment_id": 84466239, "body": "Zoe, I translated the code for non german speakers to understand and I missed translating the parameters passed to the function. The pbF works, but it gets the wrong data. So the issue is to be found in the code the pbF is called from."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518368282, "post_id": 48733271, "comment_id": 84467082, "body": "Have you seen <a href=\"https://stackoverflow.com/a/4352073/6296561\">this</a>?"}, {"owner": {"reputation": 830, "user_id": 4688878, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/yrBuv.png?s=128&g=1", "display_name": "Vitalis Hommel", "link": "https://stackoverflow.com/users/4688878/vitalis-hommel"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1518376113, "post_id": 48733271, "comment_id": 84469902, "body": "Yes. It turns out, the bottleneck is <code>val serverResponseCode = conn.responseCode</code>"}], "owner": {"reputation": 830, "user_id": 4688878, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/yrBuv.png?s=128&g=1", "display_name": "Vitalis Hommel", "link": "https://stackoverflow.com/users/4688878/vitalis-hommel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518366033, "creation_date": 1518363920, "last_edit_date": 1518366033, "question_id": 48733271, "link": "https://stackoverflow.com/questions/48733271/uploading-script-does-not-update-the-progress-bar", "title": "Uploading script does not update the progress bar", "body": "<p>I am uploading a file to a Simple Auth protected web-page using ssl. It works, but the progress bar is not working, ie, it shows no progress and all of a sudden it's finished. </p>\n\n<pre><code>private fun hochladen(dn: String?): Int {\n    var upLoadServerUri = \"https://www.example.com/upload.php\"\n    var conn: HttpURLConnection?\n    var dos: DataOutputStream?\n    val lineEnd = \"\\r\\n\"\n    val twoHyphens = \"--\"\n    val boundary = \"*****\"\n    var bytesRead: Int\n    var bytesAvailable: Int\n    var bufferSize: Int\n    val buffer: ByteArray\n    val sourceFile = File(dn)\n\n\n    if (!sourceFile.isFile) {\n        runOnUiThread { Log.e(TAG, \"Not found\") }\n        return 0\n\n    } else {\n        try { \n            val fileSize = sourceFile.length()\n            val fileInputStream = FileInputStream(sourceFile)\n            val url = URL(upLoadServerUri)\n            Authenticator.setDefault(object : Authenticator() {\n                override fun getPasswordAuthentication(): PasswordAuthentication {\n                    return PasswordAuthentication(getString(R.string.nutzername), getString(R.string.passwort).toCharArray())\n                }\n            })\n\n            var sentBytes: Long = 0\n            HttpsURLConnection.setDefaultHostnameVerifier(NullHostNameVerifier())\n            val context = SSLContext.getInstance(\"TLS\")\n            context.init(null, arrayOf&lt;X509TrustManager&gt;(NullX509TrustManager()), SecureRandom())\n            HttpsURLConnection.setDefaultSSLSocketFactory(context.socketFactory)\n\n            conn = url.openConnection() as HttpURLConnection\n            conn.doInput = true\n            conn.doOutput = true\n\n            conn.useCaches = false\n            conn.requestMethod = \"POST\"\n            conn.setRequestProperty(\"Connection\", \"Keep-Alive\")\n            conn.setRequestProperty(\"ENCTYPE\", \"multipart/form-data\")\n            conn.setRequestProperty(\"Content-Type\", \"multipart/form-data;boundary=\" + boundary)\n            conn.setRequestProperty(\"uploaded_file\", dn)\n\n            dos = DataOutputStream(conn.outputStream)\n\n            dos.writeBytes(twoHyphens + boundary + lineEnd)\n            dos.writeBytes(\"Content-Disposition: form-data; name=\\\"uploaded_file\\\";filename=\\\"$dn\\\"$lineEnd\")\n\n            dos.writeBytes(lineEnd)\n\n            bytesAvailable = fileInputStream.available()\n\n            bufferSize = bytesAvailable\n            buffer = ByteArray(bufferSize)\n            d(TAG,bytesAvailable.toString()+\", \"+bufferSize)\n\n            bytesRead = fileInputStream.read(buffer, 0, bufferSize)\n\n            while (bytesRead &gt; 0) {\n                dos.write(buffer, 0, bufferSize)\n                bytesAvailable = fileInputStream.available()\n                bufferSize = bytesAvailable\n                bytesRead = fileInputStream.read(buffer, 0, bufferSize)\n                sentBytes += bytesRead.toLong()\n                pbF(fileSize.toDouble(), sentBytes.toDouble())\n                d(TAG,fileSize.toString()+\", \"+sentBytes.toString())\n            }\n\n            dos.writeBytes(lineEnd)\n            dos.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd)\n\n            val serverResponseCode = conn.responseCode\n\n            if (serverResponseCode == 200) {\n                runOnUiThread {\n                    Log.i(TAG, \"Finished\")\n                    }\n            }\n            fileInputStream.close()\n            dos.flush()\n            dos.close()\n        } catch (ex: MalformedURLException) {\n            ex.printStackTrace()\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n        return 0\n    }\n}\n\nprivate fun pbF(end: Double, now: Double) {\n    runOnUiThread {\n        val progress = 100 / end * now\n        if (progress &lt;= 100)\n            pbProgress.progress = progress.toInt()\n    }\n}    \n</code></pre>\n\n<p><a href=\"https://www.example.com/upload.php\" rel=\"nofollow noreferrer\">https://www.example.com/upload.php</a>:    </p>\n\n<pre><code>&lt;?php\n    $file_path = basename( $_FILES['uploaded_file']['name']);\n    if(move_uploaded_file($_FILES['uploaded_file']['tmp_name'], './'.$file_path)) {\n        echo \"success\";\n    } else{\n        echo \"fail\";\n    }\n ?&gt;    \n</code></pre>\n\n<p>I thought, the problem was in the <code>pbF(fileSize.toDouble(), sentBytes.toDouble())</code>area. I replaced <code>fileSize.toDouble()</code> with <code>bytesAvailable</code>, but even that did not change the behaviour. I chunked the file but then for quite some time nothing happened, then the progress bar filled, to be followed by nothing happening to all of a sudden \"Finished\" to show up in the log.</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "aspectj"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1518365102, "post_id": 48732690, "comment_id": 84465959, "body": "Your observation is correct. Not all features of IntelliJ IDEA automatically work for all supported languages; this one is implemented only for Java."}, {"owner": {"reputation": 49359, "user_id": 1082681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/45ea14ad7f04aa78ce58cb2b52234f5b?s=128&d=identicon&r=PG", "display_name": "kriegaex", "link": "https://stackoverflow.com/users/1082681/kriegaex"}, "edited": false, "score": 1, "creation_date": 1518396321, "post_id": 48732690, "comment_id": 84475799, "body": "AspectJ support in general had a good start in older IntelliJ versions, but has been neglected for years. As much as I love IDEA, I usually switch to Eclipse + AJDT if I want to do anything aspect-related, even though AJDT has not improved much in the last few years either but it merely kept functioning. Still it is better than IDEA because AspectJ is an Eclipse project."}, {"owner": {"reputation": 362, "user_id": 6743176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a332b76f2dfadb352dbdad2deaed9970?s=128&d=identicon&r=PG&f=1", "display_name": "Kashish Malhotra", "link": "https://stackoverflow.com/users/6743176/kashish-malhotra"}, "edited": false, "score": 0, "creation_date": 1538034768, "post_id": 48732690, "comment_id": 92003355, "body": "How did you get aspectj working with kotlin? I tried following the link - <a href=\"https://stackoverflow.com/a/49319700/6743176\">stackoverflow.com/a/49319700/6743176</a>,  but no luck. Can you help?"}, {"owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "reply_to_user": {"reputation": 362, "user_id": 6743176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a332b76f2dfadb352dbdad2deaed9970?s=128&d=identicon&r=PG&f=1", "display_name": "Kashish Malhotra", "link": "https://stackoverflow.com/users/6743176/kashish-malhotra"}, "edited": false, "score": 0, "creation_date": 1538064003, "post_id": 48732690, "comment_id": 92021768, "body": "@KashishMalhotra could you please provide more information why is it not working? any stacktrace? code?"}, {"owner": {"reputation": 362, "user_id": 6743176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a332b76f2dfadb352dbdad2deaed9970?s=128&d=identicon&r=PG&f=1", "display_name": "Kashish Malhotra", "link": "https://stackoverflow.com/users/6743176/kashish-malhotra"}, "edited": false, "score": 0, "creation_date": 1538072132, "post_id": 48732690, "comment_id": 92025638, "body": "I used aspectj with kotlin in an android application. If I convert my @Aspect annotated class in Java, the code works fine. But if I use it in kotlin, the code simply doesn&#39;t get executed, no errors, nothing."}, {"owner": {"reputation": 362, "user_id": 6743176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a332b76f2dfadb352dbdad2deaed9970?s=128&d=identicon&r=PG&f=1", "display_name": "Kashish Malhotra", "link": "https://stackoverflow.com/users/6743176/kashish-malhotra"}, "edited": false, "score": 0, "creation_date": 1538072301, "post_id": 48732690, "comment_id": 92025719, "body": "I can&#39;t seem to find @Component annotation. Maybe that&#39;s the reason."}], "owner": {"reputation": 119, "user_id": 7827582, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e40c23ae764be2cfe4bccb1e86eddb0e?s=128&d=identicon&r=PG&f=1", "display_name": "user3285241", "link": "https://stackoverflow.com/users/7827582/user3285241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 632, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518360318, "creation_date": 1518360318, "question_id": 48732690, "link": "https://stackoverflow.com/questions/48732690/aspectj-and-kotlin-in-intellij-does-not-show-advised-methods", "title": "AspectJ and Kotlin in IntelliJ - does not show advised methods", "body": "<p>I have this snippet of code:</p>\n\n<pre><code>@Aspect\n@Component\nopen class Advice\n{\n    @AfterThrowing(pointcut = \"execution(* project.service..*(..)) &amp;&amp; !within(is(FinalType))\", throwing = \"throwable\")\n    open fun sendError(throwable: Exception)\n    {\n    println(\"exception thrown\")\n    }\n}\n</code></pre>\n\n<p>It seems to be working okay, except that IJ does not tell me what methods are advised - this functionality works only when I rewrite this class to Java.\n<a href=\"https://i.stack.imgur.com/MnW6e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MnW6e.png\" alt=\"q\"></a></p>\n\n<p>(this little icon on line 12 is what is missing in Kotlin - it shows the list of methods advised by the advice. It's present when the code is written in Java)</p>\n\n<p>Any ideas? Thanks in advance.</p>\n"}, {"tags": ["kotlin", "admob", "ads", "interstitial"], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1518370372, "creation_date": 1518370372, "answer_id": 48734354, "question_id": 48732547, "link": "https://stackoverflow.com/questions/48732547/admob-ads-get-shown-only-once/48734354#48734354", "title": "admob ads get shown only once", "body": "<p>put this line</p>\n\n<pre><code>MobileAds.initialize(this, \"ca-app-pub-3940256099942544~3347511712\")\n</code></pre>\n\n<p>just after</p>\n\n<pre><code>setContentView(R.layout.activity_profile)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 9348694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e78013f9fc077eed85429780e7ec76c4?s=128&d=identicon&r=PG&f=1", "display_name": "willy wijaya", "link": "https://stackoverflow.com/users/9348694/willy-wijaya"}, "is_accepted": false, "score": 0, "last_activity_date": 1518497646, "creation_date": 1518497646, "answer_id": 48759694, "question_id": 48732547, "link": "https://stackoverflow.com/questions/48732547/admob-ads-get-shown-only-once/48759694#48759694", "title": "admob ads get shown only once", "body": "<p>You ad display only once, it happen because you only set it first time without reload the ad again.</p>\n\n<p>You need to add the adListener to reload the ads :</p>\n\n<pre><code>class MainActivity : Activity() {\n\n    private lateinit var mInterstitialAd: InterstitialAd\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        MobileAds.initialize(this,\n            \"ca-app-pub-3940256099942544~3347511713\")\n\n        mInterstitialAd = InterstitialAd(this)\n        mInterstitialAd.adUnitId = \"ca-app-pub-3940256099942544/1033173712\"\n        mInterstitialAd.loadAd(AdRequest.Builder().build())\n\n        mInterstitialAd.adListener = object : AdListener() {\n              override fun onAdClosed() {\n                     mInterstitialAd.loadAd(AdRequest.Builder().build())\n              }\n        }\n    }\n}\n</code></pre>\n\n<p>If it's still doesn't work, it might be your interstitial is not ready yet to display. You could check if it ready by doing this :</p>\n\n<pre><code>mMyButton.setOnClickListener {\n    if (mInterstitialAd.isLoaded) {\n        mInterstitialAd.show()\n    } else {\n        Log.d(\"TAG\", \"The interstitial wasn't loaded yet.\")\n    }\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 1, "user_id": 9106825, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ef2089d662eabf7a57b94df082debda?s=128&d=identicon&r=PG&f=1", "display_name": "a k", "link": "https://stackoverflow.com/users/9106825/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 700, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518497646, "creation_date": 1518359314, "question_id": 48732547, "link": "https://stackoverflow.com/questions/48732547/admob-ads-get-shown-only-once", "title": "admob ads get shown only once", "body": "<p>i have admob interstitial ad in my activity .\nmy ad gets shown only once when button is clicked but does not show when user comes back to same activity</p>\n\n<p>how do i implement interstitial ad to be shown when the activity opens?\nmy code works only when the show() is added in Onclicklistner.</p>\n\n<p>here is my code</p>\n\n<pre><code>class ProfileActivity : AppCompatActivity() {\n    private lateinit var mInterstitialAd: InterstitialAd\n    lateinit var profileimage:ImageView\n    lateinit var username:EditText\n    lateinit var cityname:EditText\n    lateinit var aboutMe:EditText\n    lateinit var addbutton:ImageButton\n    lateinit var saveProfileImage:Button\n    var GALLERY_IMAGE =0\n      var ref = FirebaseDatabase.getInstance().reference\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_profile)\n        val h = supportActionBar\n        h!!.title = \"My Profile\"\n        profileimage=findViewById(R.id.imageViewProfile)\n        aboutMe=findViewById(R.id.aboutId)\n        addbutton=findViewById(R.id.addprofilepic)\n        saveProfileImage=findViewById(R.id.Saveprofileimage)\n        username = findViewById(R.id.usernameId)\n        cityname =findViewById(R.id.cityId)\n        addbutton.setOnClickListener {\n            val z =Intent(Intent.ACTION_PICK)\n           z.type=(\"image/*\")\n            startActivityForResult(z,GALLERY_IMAGE)\n            if (mInterstitialAd.isLoaded) {\n                mInterstitialAd.show()\n            } else {\n                Log.d(\"TAG\", \"The interstitial wasn't loaded yet.\")\n            }\n        }\n\n\n        // Sample AdMob app ID: ca-app-pub-3940256099942544~3347511713\n        MobileAds.initialize(this, \"ca-app-pub-3940256099942544~3347511712\")\n        mInterstitialAd = InterstitialAd(this)\n        mInterstitialAd.adUnitId = \"ca-app-pub-3940256099942544/1033173712\"\n        mInterstitialAd.loadAd(AdRequest.Builder().build())\n//        mInterstitialAd.show()\n\n    }\n</code></pre>\n\n<p>mInterstitialAd.show() does not work when added oncreate but works only in setonclicklistner..\ncan anyboy explain me why??</p>\n"}, {"tags": ["mongodb", "kotlin", "spring-data"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1518357037, "creation_date": 1518357037, "answer_id": 48732193, "question_id": 48731916, "link": "https://stackoverflow.com/questions/48731916/spring-data-mongo-with-kotlin-error-must-be-a-compile-time-constant/48732193#48732193", "title": "Spring Data Mongo with Kotlin error: &quot;must be a compile-time constant&quot;", "body": "<blockquote>\n  <p>Does it have something to do with the $. Since its used in Strings to reference a variable?</p>\n</blockquote>\n\n<p>Yes, it does, and <code>in</code> is a reserved word in Kotlin, which is why you get the error <code>Keyword cannot be used as a reference</code>. You must escape the dollar sign to remove its special meaning:</p>\n\n<pre><code>@Query(\"{ 'contacts': { \\$in: ?0 } }\")\n</code></pre>\n"}], "owner": {"reputation": 2702, "user_id": 7432865, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6939393bd372c29755451b6226db08ee?s=128&d=identicon&r=PG&f=1", "display_name": "Dachstein", "link": "https://stackoverflow.com/users/7432865/dachstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 399, "favorite_count": 0, "accepted_answer_id": 48732193, "answer_count": 1, "score": 1, "last_activity_date": 1518357037, "creation_date": 1518355270, "last_edit_date": 1518355620, "question_id": 48731916, "link": "https://stackoverflow.com/questions/48731916/spring-data-mongo-with-kotlin-error-must-be-a-compile-time-constant", "title": "Spring Data Mongo with Kotlin error: &quot;must be a compile-time constant&quot;", "body": "<p>I am trying to create a Spring Data Mongo Query with <strong>Kotlin</strong> in my ReactiveCrudRepository:</p>\n\n<pre><code>@Query(\"{ 'contacts': { $in: ?0 } }\")\nfun isInContacts(aContact: String): Flux&lt;User&gt;\n</code></pre>\n\n<p>However, I am getting a compile error:</p>\n\n<pre><code>\"An annotation parameter must be a compile-time constant\"\n\"Keyword cannot be used as a reference\"\n</code></pre>\n\n<p>How to solve this problem?</p>\n\n<p>Does it have something to do with the <code>$</code>. Since its used in Strings to reference a variable?</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener", "android-constraintlayout"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518353769, "post_id": 48731670, "comment_id": 84462518, "body": "post complete code"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518353897, "post_id": 48731670, "comment_id": 84462555, "body": "The complete view is very vig. I post only the part relative with the problem. Do you really need the complete layout ?"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518353942, "post_id": 48731670, "comment_id": 84462573, "body": "no, just the kotlin code"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518354111, "post_id": 48731670, "comment_id": 84462627, "body": "<a href=\"https://gist.github.com/vmichalak/510063b5925c00c8c633e6c1b2c7258e\" rel=\"nofollow noreferrer\">gist.github.com/vmichalak/510063b5925c00c8c633e6c1b2c7258e</a> &lt;&lt; The complete kotlin code here"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518354152, "post_id": 48731670, "comment_id": 84462640, "body": "try removing <code>android:clickable=&quot;false&quot;</code>"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518354318, "post_id": 48731670, "comment_id": 84462701, "body": "It change nothing."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518354644, "post_id": 48731670, "comment_id": 84462797, "body": "and move <code>keyboard_touch_1.setOnClickListener {...}</code> at the end of onresume"}, {"owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1518354809, "post_id": 48731670, "comment_id": 84462847, "body": "Thanks you it works !"}], "answers": [{"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": true, "score": 5, "last_activity_date": 1518355573, "last_edit_date": 1518355573, "creation_date": 1518354258, "answer_id": 48731776, "question_id": 48731670, "link": "https://stackoverflow.com/questions/48731670/onclicklistener-not-fired-on-constraintlayout/48731776#48731776", "title": "OnClickListener not fired on ConstraintLayout", "body": "<p>Remove </p>\n\n<pre><code>android:clickable=\"false\"\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/android/R.attr.html#clickable\" rel=\"nofollow noreferrer\">From Docs</a> </p>\n\n<blockquote>\n  <p>Defines whether this view reacts to click events</p>\n</blockquote>\n\n<p>and move <code>keyboard_touch_1.setOnClickListener {...}</code> at the end of <code>onResume</code> because \n<a href=\"https://developer.android.com/reference/android/databinding/DataBindingUtil.html#setContentView(android.app.Activity,%20int)\" rel=\"nofollow noreferrer\"><code>DataBindingUtil.setContentView</code></a>  will reset the previously set layout (<code>setContentView</code>) therefore you have a new layout with new views.</p>\n\n<p>Note :  you are using data-binding along with normal initialization <code>setContentView(R.layout.activity_game)</code> technique so the optimal way would be to use </p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/data-binding/index.html#event_handling\" rel=\"nofollow noreferrer\"><strong>Event Handling via data binding</strong></a> </p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 1980025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07975dd30ba7c9d099ef622b823f19e?s=128&d=identicon&r=PG", "display_name": "RhysP", "link": "https://stackoverflow.com/users/1980025/rhysp"}, "is_accepted": false, "score": 1, "last_activity_date": 1518354760, "creation_date": 1518354760, "answer_id": 48731843, "question_id": 48731670, "link": "https://stackoverflow.com/questions/48731670/onclicklistener-not-fired-on-constraintlayout/48731843#48731843", "title": "OnClickListener not fired on ConstraintLayout", "body": "<p>As I cannot comment due to my low rep I will have to post an answer. </p>\n\n<p>Based on the code you have provided via your GitHub link you are actually trying to set the content view twice. </p>\n\n<p>Firstly you are calling <code>setContentView(R.layout.activity_game)</code> within your onCreate() method and then <code>DataBindingUtil.setContentView(this, R.layout.activity_game)</code> within your onResume() method.</p>\n\n<p>Please try deleting <code>setContentView(R.layout.activity_game)</code> and then move your data binding setup code to your onCreate method(). You can then access your constraint layout view via your \"binding\" object as a property.</p>\n\n<p>For example:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        viewModel = GameViewModel()\n        val binding: ActivityGameBinding = DataBindingUtil.setContentView(this, R.layout.activity_game)\n        binding.viewModel = viewModel\n\n        binding.keyboardTouch1.setOnClickListener {\n            Toast.makeText(this, \"IT WORKS !!!\", Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    override fun onResume() {\n        super.onResume()\n        viewModel.startUpdate()\n    }\n\n    override fun onPause() {\n        super.onPause()\n        viewModel.stopUpdate()\n    }\n</code></pre>\n"}], "owner": {"reputation": 1757, "user_id": 5912422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V2n6g.jpg?s=128&g=1", "display_name": "Valentin Michalak", "link": "https://stackoverflow.com/users/5912422/valentin-michalak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9761, "favorite_count": 0, "accepted_answer_id": 48731776, "answer_count": 2, "score": 8, "last_activity_date": 1518355573, "creation_date": 1518353534, "question_id": 48731670, "link": "https://stackoverflow.com/questions/48731670/onclicklistener-not-fired-on-constraintlayout", "title": "OnClickListener not fired on ConstraintLayout", "body": "<p>On my android app project i have to make a button with a ProgressBar on background and two TextView.</p>\n\n<p>I make a first attempt like this:</p>\n\n<pre><code>    &lt;android.support.constraint.ConstraintLayout\n        android:id=\"@+id/keyboard_touch_1\"\n        android:layout_width=\"60dp\"\n        android:layout_height=\"85dp\"\n        android:layout_marginBottom=\"150dp\"\n        android:layout_marginStart=\"10dp\"\n        android:focusable=\"true\"\n        android:clickable=\"true\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"&gt;\n\n        &lt;ProgressBar\n            android:id=\"@+id/keyboard_touch_1_progress_bar\"\n            style=\"@android:style/Widget.ProgressBar.Horizontal\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:indeterminate=\"false\"\n            android:max=\"100\"\n            android:progress=\"50\"\n            android:progressDrawable=\"@drawable/button_progress_bar_default\"\n            android:clickable=\"false\"\n            android:focusable=\"false\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/keyboard_touch_1_score\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:text=\"2\"\n            android:textColor=\"@color/colorAccent\"\n            android:textSize=\"11dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            tools:text=\"3\"\n            android:clickable=\"false\"\n            android:focusable=\"false\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/keyboard_touch_1_letter\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginTop=\"13dp\"\n            android:text=\"A\"\n            android:textColor=\"@color/colorAccent\"\n            android:textSize=\"45dp\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            android:clickable=\"false\"\n            android:focusable=\"false\" /&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>It looks good but when i attempt to add an OnClickListener it doesn't work correctly.</p>\n\n<pre><code>keyboard_touch_1.setOnClickListener {\n    Toast.makeText(this, \"IT WORKS !!!\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>The OnClickListener is not fired and i have no idea of why. It's probably very simple but i doesn't understand why.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "screenshot"], "answers": [{"comments": [{"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1518360253, "post_id": 48732365, "comment_id": 84464461, "body": "Thanks but no, the verticalInc is not zero. The cropping works but it crops the bottom and I want it to crop the top."}, {"owner": {"reputation": 884, "user_id": 5891893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea573624f7f8a8ccb33d772831d6e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sally", "link": "https://stackoverflow.com/users/5891893/sally"}, "reply_to_user": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1518360923, "post_id": 48732365, "comment_id": 84464638, "body": "Try `  canvas.translate(0, gameDimensions.verticalInc.toInt()) ` before  <code>wholeScreen.draw(canvas)</code>"}, {"owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "edited": false, "score": 0, "creation_date": 1518369589, "post_id": 48732365, "comment_id": 84467586, "body": "<code>canvas.translate(0.toFloat(), -gameDimensions.verticalInc)</code> did the trick.  Edit your answer accordingly and I&#39;ll mark it as correct.  All the best"}], "tags": [], "owner": {"reputation": 884, "user_id": 5891893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea573624f7f8a8ccb33d772831d6e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sally", "link": "https://stackoverflow.com/users/5891893/sally"}, "is_accepted": true, "score": 1, "last_activity_date": 1518373217, "last_edit_date": 1518373217, "creation_date": 1518358049, "answer_id": 48732365, "question_id": 48731316, "link": "https://stackoverflow.com/questions/48731316/how-can-i-adapt-my-code-to-take-the-desired-screenshot-cropping-both-top-and-bo/48732365#48732365", "title": "How can I adapt my code to take the desired screenshot, cropping both top and bottom?", "body": "<p>You need to move the canvas position from 0,0 to the new position by  Add</p>\n\n<p><code>canvas.translate(0, -gameDimensions.verticalInc.toInt())</code> before wholeScreen.draw(canvas) </p>\n"}], "owner": {"reputation": 2161, "user_id": 1390035, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1aa41b417d7fb6398f18864fe23f736?s=128&d=identicon&r=PG", "display_name": "Dave Chambers", "link": "https://stackoverflow.com/users/1390035/dave-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 48732365, "answer_count": 1, "score": 1, "last_activity_date": 1518373217, "creation_date": 1518350915, "last_edit_date": 1518352108, "question_id": 48731316, "link": "https://stackoverflow.com/questions/48731316/how-can-i-adapt-my-code-to-take-the-desired-screenshot-cropping-both-top-and-bo", "title": "How can I adapt my code to take the desired screenshot, cropping both top and bottom?", "body": "<p>I have the following <code>Kotlin</code> code which takes a screenshot of the area shown:</p>\n\n<pre><code>fun screenShot() {\n    val bitmap = Bitmap.createBitmap(wholeScreen.width,wholeScreen.height-gameDimensions.bottomNavigationViewHeight, Bitmap.Config.ARGB_8888)\n    val croppedBitmap = Bitmap.createBitmap(bitmap, 0, gameDimensions.verticalInc.toInt(), bitmap.width, (bitmap.height - gameDimensions.verticalInc).toInt())\n    val canvas = Canvas(croppedBitmap)\n    wholeScreen.draw(canvas)\n    val out = ByteArrayOutputStream()\n    croppedBitmap.compress(Bitmap.CompressFormat.PNG, 100, out)\n    val screenShot = ColourBoardScreenShot(BitmapDrawable(theUi.resources, croppedBitmap))\n    bundle.putParcelable (\"screenshot\", screenShot)\n}\n</code></pre>\n\n<p>Original screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xuOfm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xuOfm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Current Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D0mJT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D0mJT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Desired Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/k7fUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7fUi.png\" alt=\"enter image description here\"></a></p>\n\n<p>It's somewhat embarrassing but I cannot figure out how to take the screenshot in blue!</p>\n"}, {"tags": ["reactjs", "kotlin", "kotlin-js-interop", "kotlin-frontend"], "answers": [{"comments": [{"owner": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "edited": false, "score": 0, "creation_date": 1518382874, "post_id": 48736344, "comment_id": 84472176, "body": "what if i use both? could you please explain the difference for dummies? are they interchangeable?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "edited": false, "score": 0, "creation_date": 1518383048, "post_id": 48736344, "comment_id": 84472233, "body": "@ deviant you&#39;ll need the react-dom if ReactDOM is used: <a href=\"https://reactjs.org/docs/react-dom.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/react-dom.html</a>; the following gives more information on the differences of both libs: <a href=\"https://stackoverflow.com/a/34114665/8073652\">stackoverflow.com/a/34114665/8073652</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1518382326, "creation_date": 1518382326, "answer_id": 48736344, "question_id": 48731202, "link": "https://stackoverflow.com/questions/48731202/whats-difference-between-rbuilder-and-rdombuilder/48736344#48736344", "title": "What&#39;s difference between RBuilder and RDomBuilder?", "body": "<p><code>RDOMBuilder</code> is part of the <a href=\"https://github.com/JetBrains/kotlin-wrappers/tree/master/kotlin-react-dom\" rel=\"nofollow noreferrer\">kotlin-react-dom</a> wrapper, whereas <code>RBuilder</code> is part of the <a href=\"https://github.com/JetBrains/kotlin-wrappers/tree/master/kotlin-react\" rel=\"nofollow noreferrer\">kotlin-react</a> wrapper. Depending on what library you want to use, the one or the other <code>Builder</code> may be used.</p>\n"}], "owner": {"reputation": 3044, "user_id": 926568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mOOGR.png?s=128&g=1", "display_name": "deviant", "link": "https://stackoverflow.com/users/926568/deviant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 48736344, "answer_count": 1, "score": 1, "last_activity_date": 1518382326, "creation_date": 1518350065, "last_edit_date": 1518351719, "question_id": 48731202, "link": "https://stackoverflow.com/questions/48731202/whats-difference-between-rbuilder-and-rdombuilder", "title": "What&#39;s difference between RBuilder and RDomBuilder?", "body": "<p>In the kotlin react demo projects i see both</p>\n\n<p><code>fun RBuilder.someComponent(){...}</code></p>\n\n<p>and</p>\n\n<p><code>fun RDOMBuilder&lt;*&gt;.someComponent(){...}</code></p>\n\n<p>What is the difference between these two?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1518348060, "post_id": 48730927, "comment_id": 84460850, "body": "There is a useful comparison table here: <a href=\"https://proandroiddev.com/the-difference-between-kotlins-functions-let-apply-with-run-and-else-ca51a4c696b8\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a>."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518348224, "post_id": 48730927, "comment_id": 84460894, "body": "The closest analogue of <code>with</code> is <code>let</code>, not <code>apply</code>. In your case there&#39;s very little difference between <code>let</code> and <code>apply</code> because you know the target is non-null."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1518348609, "post_id": 48730927, "comment_id": 84461004, "body": "@MarkoTopolnik, It&#39;s more like <code>run</code> (the extension method version). Both use a receiver and return the block&#39;s return value. <code>let</code> doesn&#39;t use a receiver."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1518348703, "post_id": 48730927, "comment_id": 84461034, "body": "@chris True, <code>let</code> converts the receiver to the lambda argument."}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1518348125, "answer_count": 0, "score": 0, "last_activity_date": 1518347943, "creation_date": 1518347943, "question_id": 48730927, "link": "https://stackoverflow.com/questions/48730927/difference-between-with-and-apply-functions-in-kotlin", "closed_reason": "Duplicate", "title": "Difference between with and apply functions in kotlin", "body": "<p>I am new to Kotlin and just started learning it. I came across <code>with</code> and <code>apply</code> functions in Kotlin. I just want to understand the difference between them in the below scenario:</p>\n\n<p>I have a class <code>Person</code> and I assigning values to the properties of its object like this:</p>\n\n<pre><code>val andre = Person().apply {\n    name = \"Andre\"\n    company = \"Viacom\"\n    hobby = \"losing in ping pong\"\n}\n</code></pre>\n\n<p>But this can be done using the <code>with</code> function as well:</p>\n\n<pre><code>val andre = Person()\nwith(andre){\n    name = \"Andre\"\n    company = \"Viacom\"\n    hobby = \"losing in ping pong\"\n}\n</code></pre>\n\n<p>Now what is the difference between <code>with</code> and <code>apply</code> functions in this context ?</p>\n"}, {"tags": ["android", "android-edittext", "kotlin"], "comments": [{"owner": {"reputation": 731, "user_id": 6093078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ukeam.jpg?s=128&g=1", "display_name": "Yashaswi N P", "link": "https://stackoverflow.com/users/6093078/yashaswi-n-p"}, "edited": false, "score": 0, "creation_date": 1518347245, "post_id": 48730795, "comment_id": 84460625, "body": "Can you please share the entire layout and the code where you using this Edittext. Because the error log doesn&#39;t give any hint on isssue with the Edittext alone but the layout itself."}, {"owner": {"reputation": 61, "user_id": 277657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e694dfc5759ca98fefef74370e95328?s=128&d=identicon&r=PG", "display_name": "Mikael", "link": "https://stackoverflow.com/users/277657/mikael"}, "reply_to_user": {"reputation": 731, "user_id": 6093078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ukeam.jpg?s=128&g=1", "display_name": "Yashaswi N P", "link": "https://stackoverflow.com/users/6093078/yashaswi-n-p"}, "edited": false, "score": 0, "creation_date": 1518366578, "post_id": 48730795, "comment_id": 84466392, "body": "@YashaswiNP I have updated the description with more information. The screen where this occurs is very simple and does not contain any complex layouts, except for the constraints (included in the XML code above)"}, {"owner": {"reputation": 884, "user_id": 5891893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea573624f7f8a8ccb33d772831d6e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sally", "link": "https://stackoverflow.com/users/5891893/sally"}, "edited": false, "score": 0, "creation_date": 1518374135, "post_id": 48730795, "comment_id": 84469191, "body": "@Mikael I don&#39;t think the problem from xml, Could you please share how you set the value to EditText"}, {"owner": {"reputation": 7265, "user_id": 568898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e6393f15a54d471a1586d34518676d5?s=128&d=identicon&r=PG", "display_name": "Jahnold", "link": "https://stackoverflow.com/users/568898/jahnold"}, "edited": false, "score": 0, "creation_date": 1518374382, "post_id": 48730795, "comment_id": 84469276, "body": "Are the crashes limited to any particular manufacturer?"}, {"owner": {"reputation": 61, "user_id": 277657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e694dfc5759ca98fefef74370e95328?s=128&d=identicon&r=PG", "display_name": "Mikael", "link": "https://stackoverflow.com/users/277657/mikael"}, "reply_to_user": {"reputation": 884, "user_id": 5891893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea573624f7f8a8ccb33d772831d6e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Sally", "link": "https://stackoverflow.com/users/5891893/sally"}, "edited": false, "score": 0, "creation_date": 1518442808, "post_id": 48730795, "comment_id": 84495517, "body": "@Sally I set the value simply by using the setText() method. The text will never contain any spans or formatted data. It shall only be digits."}, {"owner": {"reputation": 61, "user_id": 277657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e694dfc5759ca98fefef74370e95328?s=128&d=identicon&r=PG", "display_name": "Mikael", "link": "https://stackoverflow.com/users/277657/mikael"}, "reply_to_user": {"reputation": 7265, "user_id": 568898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e6393f15a54d471a1586d34518676d5?s=128&d=identicon&r=PG", "display_name": "Jahnold", "link": "https://stackoverflow.com/users/568898/jahnold"}, "edited": false, "score": 0, "creation_date": 1518442991, "post_id": 48730795, "comment_id": 84495636, "body": "@Jahnold No, it seems to occur for multiple devices/vendors. I see crashes from Galaxy* devices, Huawei devices, Motorola devices.  I have also started to see more related crashes in android.text.SpannableStringBuilder.charAt for example. This is weird, it used to work fine but suddenly became problematic with no code changes at all."}], "owner": {"reputation": 61, "user_id": 277657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e694dfc5759ca98fefef74370e95328?s=128&d=identicon&r=PG", "display_name": "Mikael", "link": "https://stackoverflow.com/users/277657/mikael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "closed_date": 1518502791, "answer_count": 0, "score": 0, "last_activity_date": 1518356874, "creation_date": 1518346960, "last_edit_date": 1518356874, "question_id": 48730795, "link": "https://stackoverflow.com/questions/48730795/android-problems-with-edittext", "closed_reason": "Duplicate", "title": "Android: Problems with EditText", "body": "<p>I have an application written in Kotlin, using the most recent support libraries, which recently have started to get some problems.\nI cannot reproduce the issues myself, but I can see multiple occurances of similar crashes reported to Google Play Developer console, under ANRs &amp; Crashes.</p>\n\n<p>The EditText is defined like this:</p>\n\n<pre><code>&lt;EditText\n    android:id=\"@+id/editTextAmount\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:digits=\"0123456789\"\n    android:ems=\"10\"\n    android:inputType=\"numberDecimal\"\n    android:maxLines=\"1\"\n    android:textColor=\"@color/buttonText\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/textViewAmountHeader\" /&gt;\n</code></pre>\n\n<p>I'm not doing anything special with my EditText and it is not custom styled in anyway so I think this might be a bug in the framework.\nIt seems to occur for all Android versions (4-8)</p>\n\n<p>A sample stacktrace is included below.</p>\n\n<p>Does anyone have a tip how to solve this issue?</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: \n  at android.text.SpannableStringBuilder.checkRange (SpannableStringBuilder.java:1018)\n  at android.text.SpannableStringBuilder.getChars (SpannableStringBuilder.java:915)\n  at android.text.TextUtils.getChars (TextUtils.java:83)\n  at android.text.TextUtils.indexOf (TextUtils.java:116)\n  at android.text.StaticLayout.generate (StaticLayout.java:200)\n  at android.text.DynamicLayout.reflow (DynamicLayout.java:284)\n  at android.text.DynamicLayout.&lt;init&gt; (DynamicLayout.java:170)\n  at android.widget.TextView.makeSingleLayout (TextView.java:7578)\n  at android.widget.TextView.makeNewLayout (TextView.java:7421)\n  at android.widget.TextView.onMeasure (TextView.java:7854)\n  at android.view.View.measure (View.java:17495)\n  at android.support.constraint.ConstraintLayout.internalMeasureChildren (ConstraintLayout.java:934)\n  at android.support.constraint.ConstraintLayout.onMeasure (ConstraintLayout.java:973)\n  at android.view.View.measure (View.java:17495)\n  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:5363)\n  at android.widget.FrameLayout.onMeasure (FrameLayout.java:310)\n  at android.support.v7.widget.ContentFrameLayout.onMeasure (ContentFrameLayout.java:139)\n  at android.view.View.measure (View.java:17495)\n  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:5363)\n  at android.support.v7.widget.ActionBarOverlayLayout.onMeasure (ActionBarOverlayLayout.java:400)\n  at android.view.View.measure (View.java:17495)\n  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:5363)\n  at android.widget.FrameLayout.onMeasure (FrameLayout.java:310)\n  at android.view.View.measure (View.java:17495)\n  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:5363)\n  at android.widget.LinearLayout.measureChildBeforeLayout (LinearLayout.java:1410)\n  at android.widget.LinearLayout.measureVertical (LinearLayout.java:695)\n  at android.widget.LinearLayout.onMeasure (LinearLayout.java:588)\n  at android.view.View.measure (View.java:17495)\n  at android.view.ViewGroup.measureChildWithMargins (ViewGroup.java:5363)\n  at android.widget.FrameLayout.onMeasure (FrameLayout.java:310)\n  at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure (PhoneWindow.java:2548)\n  at android.view.View.measure (View.java:17495)\n  at android.view.ViewRootImpl.performMeasure (ViewRootImpl.java:2285)\n  at android.view.ViewRootImpl.measureHierarchy (ViewRootImpl.java:1396)\n  at android.view.ViewRootImpl.performTraversals (ViewRootImpl.java:1595)\n  at android.view.ViewRootImpl.doTraversal (ViewRootImpl.java:1254)\n  at android.view.ViewRootImpl$TraversalRunnable.run (ViewRootImpl.java:6637)\n  at android.view.Choreographer$CallbackRecord.run (Choreographer.java:814)\n  at android.view.Choreographer.doCallbacks (Choreographer.java:614)\n  at android.view.Choreographer.doFrame (Choreographer.java:584)\n  at android.view.Choreographer$FrameDisplayEventReceiver.run (Choreographer.java:800)\n  at android.os.Handler.handleCallback (Handler.java:733)\n  at android.os.Handler.dispatchMessage (Handler.java:95)\n  at android.os.Looper.loop (Looper.java:146)\n  at android.app.ActivityThread.main (ActivityThread.java:5602)\n  at java.lang.reflect.Method.invokeNative (Native Method)\n  at java.lang.reflect.Method.invoke (Method.java:515)\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1283)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1099)\n  at dalvik.system.NativeStart.main (Native Method)\n</code></pre>\n\n<p>Edit: \nIt does not help to set the selection as suggested in another thread. This issue is randomly thrown from the framework. I'm not working with selections programatically in my code.</p>\n\n<p>The layout is very clean, it is a ConstraintLayout view and there's just a TextView above the EditText with a header text.</p>\n\n<p>In the code I'm only setting the text in the EditText once upon startup then it is up to the user to modify it.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1369, "user_id": 5994926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NqywN.jpg?s=128&g=1", "display_name": "Ryan Pierce", "link": "https://stackoverflow.com/users/5994926/ryan-pierce"}, "edited": false, "score": 0, "creation_date": 1518329868, "post_id": 48728832, "comment_id": 84456666, "body": "According to <a href=\"https://discuss.kotlinlang.org/t/fall-through-in-when/2540/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/fall-through-in-when/2540/2</a>, the &quot;fallthrough&quot; feature doesn&#39;t yet exist for kotlin but they want to implement &quot;continue&quot; at some point."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1518337114, "post_id": 48728832, "comment_id": 84458160, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30832215/when-statement-vs-java-switch-statement\">&quot;When&quot; statement vs Java &quot;switch&quot; statement</a>"}], "answers": [{"comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1518329922, "post_id": 48728884, "comment_id": 84456678, "body": "That&#39;s not much of a parallel."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 2, "creation_date": 1518330004, "post_id": 48728884, "comment_id": 84456698, "body": "@shmosel it appears to be the JetBrains recommended way to mimic java-style fallthrough: <a href=\"https://discuss.kotlinlang.org/t/fall-through-in-when/2540/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/fall-through-in-when/2540/2</a>"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1518329814, "creation_date": 1518329814, "answer_id": 48728884, "question_id": 48728832, "link": "https://stackoverflow.com/questions/48728832/android-kotlin-how-to-have-switch-conditions-without-break-statement/48728884#48728884", "title": "Android kotlin how to have switch conditions without break statement", "body": "<p>How about:</p>\n\n<pre><code>if (version &lt;= 1) {\n    onCreate(db)\n}\n\nif (version &lt;= 2) {\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \")\n    db.execSQL(\"CREATE TABLE IF NOT EXISTS \")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1069, "user_id": 3479012, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hlPX4.jpg?s=128&g=1", "display_name": "Jolson Da Costa", "link": "https://stackoverflow.com/users/3479012/jolson-da-costa"}, "edited": false, "score": 0, "creation_date": 1518331618, "post_id": 48728984, "comment_id": 84457044, "body": "NAh. this wont work, coz i dont want same case statement to execute again everytime."}], "tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1518332281, "last_edit_date": 1518332281, "creation_date": 1518330705, "answer_id": 48728984, "question_id": 48728832, "link": "https://stackoverflow.com/questions/48728832/android-kotlin-how-to-have-switch-conditions-without-break-statement/48728984#48728984", "title": "Android kotlin how to have switch conditions without break statement", "body": "<p>You can always customise your when with ranges in kotlin <a href=\"https://antonioleiva.com/when-expression-kotlin/\" rel=\"nofollow noreferrer\">here</a> read more</p>\n\n<pre><code>     when {\n            version in 0..1  -&gt; {\n                onCreate(db)\n            }\n            version in 1..2 -&gt; {\n                //do something else\n                onCreate(db)\n                dbExe(db)\n            }\n            else -&gt;{\n               //handle unexpected here    \n            }\n        }\n\nfun onCreate(val db: SQLiteOpenHelper){\n  //oncreate goes here\n}\n\nfun dbExe(val db: SQLiteOpenHelper){\n  // execute sql statement goes here\n     db.execSQL(\"CREATE TABLE IF NOT EXISTS \")\n     db.execSQL(\"CREATE TABLE IF NOT EXISTS \")\n}\n</code></pre>\n"}], "owner": {"reputation": 1069, "user_id": 3479012, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hlPX4.jpg?s=128&g=1", "display_name": "Jolson Da Costa", "link": "https://stackoverflow.com/users/3479012/jolson-da-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 0, "accepted_answer_id": 48728884, "answer_count": 2, "score": 0, "last_activity_date": 1518332281, "creation_date": 1518329212, "question_id": 48728832, "link": "https://stackoverflow.com/questions/48728832/android-kotlin-how-to-have-switch-conditions-without-break-statement", "title": "Android kotlin how to have switch conditions without break statement", "body": "<p>I had <code>switch</code> in Java without break statement. when i converted to Kotlin. it has put <code>When</code> which i tested and executed only the condition i pass to that function</p>\n\n<p>here is the code of <strong>JAVA</strong></p>\n\n<pre><code> switch (version) {\n            case 1:\n                onCreate(db);\n\n            case 2:\n                db.execSQL(\"CREATE TABLE IF NOT EXISTS \");\n                db.execSQL(\"CREATE TABLE IF NOT EXISTS \");\n        }\n</code></pre>\n\n<p><strong>KOTLIN</strong>:</p>\n\n<pre><code> when (version) {\n                1 -&gt; {\n                    onCreate(db)\n                }\n\n                2 -&gt; {\n                    db.execSQL(\"CREATE TABLE IF NOT EXISTS \")\n                    db.execSQL(\"CREATE TABLE IF NOT EXISTS \")\n                }\n            }\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "spek"], "answers": [{"comments": [{"owner": {"reputation": 2067, "user_id": 5435658, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/92a5439c20610a55fe6fe43b2677d542?s=128&d=identicon&r=PG&f=1", "display_name": "raditya gumay", "link": "https://stackoverflow.com/users/5435658/raditya-gumay"}, "edited": false, "score": 0, "creation_date": 1518330110, "post_id": 48728887, "comment_id": 84456723, "body": "so, do you mean by using interface and in implementation level will return that particular values that used for propagate dummy value?  i&#39;ve think about that. but, if we had another approach that might be better than this, will be good.  anyway, that will be works. tho"}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1563815623, "post_id": 48728887, "comment_id": 100816826, "body": "Does AndroidX Test allow testing shared prefs directly?"}], "tags": [], "owner": {"reputation": 4293, "user_id": 4069913, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/100007329305829/picture?type=large", "display_name": "Orest Savchak", "link": "https://stackoverflow.com/users/4069913/orest-savchak"}, "is_accepted": true, "score": 3, "last_activity_date": 1518331273, "last_edit_date": 1518331273, "creation_date": 1518329826, "answer_id": 48728887, "question_id": 48728748, "link": "https://stackoverflow.com/questions/48728748/how-to-test-sharedpreference-that-inject-in-repository-in-android-mvp-clean-arch/48728887#48728887", "title": "How to test sharedpreference that inject in repository in Android MVP Clean Architecture", "body": "<p>I would recommend you not to depend on <code>SharedPreferences</code> directly, but to have some interface <code>LocalStorage</code>, so you can have your <code>SharedPrefsLocalStorage</code> being used in the code and <code>TestLocalStorage</code> in the tests. <code>SharedPrefsLocalStorage</code> will use <code>SharedPreferences</code> under the hood, and <code>TestLocalStorage</code> some <code>Map</code> implementation.</p>\n\n<p>Just a simple example:</p>\n\n<pre><code>// You may add other type, not Int only, or use the String and convert everything to String and back\ninterface LocalStorage {\n    fun save(key: String, value: Int)\n    fun get(key: String): Int? \n}\n\nclass SharedPrefsLocalStorage(val prefs: SharedPreferences) : LocalStorage {\n    override fun save(key: String, value: Int) {\n        with(prefs.edit()){\n            putInt(key, value)\n            commit()\n        }\n    }\n    override fun get(key: String): Int? = prefs.getInteger(key)\n}\n\nclass TestLocalStorage : LocalStorage {\n    val values = mutableMapOf&lt;String, Any&gt;()\n\n    override fun save(key: String, value: Int) {\n        values[key] = value\n    }\n\n    override fun get(key: String): Int? = map[value] as Int?\n}\n</code></pre>\n"}], "owner": {"reputation": 2067, "user_id": 5435658, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/92a5439c20610a55fe6fe43b2677d542?s=128&d=identicon&r=PG&f=1", "display_name": "raditya gumay", "link": "https://stackoverflow.com/users/5435658/raditya-gumay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 48728887, "answer_count": 1, "score": 1, "last_activity_date": 1518331273, "creation_date": 1518328347, "question_id": 48728748, "link": "https://stackoverflow.com/questions/48728748/how-to-test-sharedpreference-that-inject-in-repository-in-android-mvp-clean-arch", "title": "How to test sharedpreference that inject in repository in Android MVP Clean Architecture", "body": "<p>i've facing a problem to test sharedpreference in datastore. in actual datastore i implement three arguments, those include sharedpreference.</p>\n\n<p>in this case i want to store value, and get that value. mocking not help here.</p>\n\n<p>mocking cannot propagate actual value, that will be used by code. in second part.</p>\n\n<pre><code>class FooDataStoreTest : Spek({\ngiven(\"a foo data store\") {\n\n    val schedulerRule = TestSchedulerRule()\n    val service: FooRestService = mock()\n    val context: Context = mock()\n    val gson: Gson = mock()\n    val appFooPreference: SharedPreferences = mock()\n\n    var appFooSessionStoreService: AppFooSessionStoreService? = null\n    var fooStoredLocationService: FooStoredLocationService? = null\n\n    beforeEachTest {\n        appFooSessionStoreService = AppFooSessionStoreService.Builder()\n                .context(context)\n                .gson(gson)\n                .preference(appFooPreference)\n                .build()\n        fooStoredLocationService = FooStoredLocationService(appFooSessionStoreService)\n    }\n\n    val longitude = 106.803090\n    val latitude = -6.244285\n\n    on(\"should get foo service with request longitude $longitude and latitude $latitude\") {\n        it(\"should return success\") {\n            with(fooStoredLocationService) {\n                val location = Location()\n                location.latitude = latitude\n                location.longitude = longitude\n\n                // i want to store location in this\n                fooStoredLocationService?.saveLastKnownLocation(location)\n\n                // and retrieve in below code\n                val l = fooStoredLocationService?.lastKnownLocation\n\n                val dataStore = FooDataStore(service, preference, fooStoredLocationService!!)\n                service.getFooService(longitude, longitude) willReturnJust\n                        load(FooResponse::class.java, \"foo_response.json\")\n\n                val testObserver = dataStore.getFooService().test()\n                schedulerRule.testScheduler.advanceTimeBy(2, TimeUnit.SECONDS)\n                testObserver.assertNoErrors()\n                testObserver.awaitTerminalEvent()\n                testObserver.assertComplete()\n                testObserver.assertValue { actual -&gt;\n                    actual == load(FooResponse::class.java, \"foo_response.json\")\n                }\n            }\n        }\n    }\n\n    afterEachTest {\n        appFooSessionStoreService?.clear()\n        fooStoredLocationService?.clear()\n    }\n}})\n</code></pre>\n\n<p>and this datastore looks like</p>\n\n<pre><code>open class FooDataStore @Inject constructor(private val fooRestService: FooRestService,\n                                        private val fooPreference: FooPreference,\n                                        private val fooLocation: fooStoredLocationService) : FooRepository {\n\nprivate val serviceLocation by lazy {\n    fooLocation.lastKnownLocation\n}\n\noverride fun getFooService(): Single&lt;FooResponse&gt; {\n    safeWith(serviceLocation, {\n        return getFooLocal(it).flatMap({ (code, message, data) -&gt;\n            if (data != null) {\n                Single.just(FooResponse(code, message, data))\n            } else {\n                restService.getFooService(it.longitude, it.latitude).compose(singleIo())\n            }\n        })\n    })\n    return Single.error(httpExceptionFactory(GPS_NOT_SATISFYING))\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Actually i want to get value in from this field <code>serviceLocation</code>. Anyone has approach to do some test for that?, any advise very welcome.</p>\n\n<p>thanks!</p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "build.gradle"], "answers": [{"tags": [], "owner": {"reputation": 42524, "user_id": 936832, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cc1da0368f0874a66bd771c4d57f94b0?s=128&d=identicon&r=PG", "display_name": "Ingo Kegel", "link": "https://stackoverflow.com/users/936832/ingo-kegel"}, "is_accepted": false, "score": 0, "last_activity_date": 1518342708, "creation_date": 1518342708, "answer_id": 48730253, "question_id": 48727682, "link": "https://stackoverflow.com/questions/48727682/including-class-files-in-gradle-build-script/48730253#48730253", "title": "Including class files in gradle build script", "body": "<p><code>com</code> is your top-level package and not the directory root. You have to add the dependency</p>\n\n<pre><code> compile files('../oldProject')\n</code></pre>\n\n<p>IntelliJ can detect directory prefixes, but Gradle does not do that.</p>\n"}], "owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 659, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518342708, "creation_date": 1518316038, "question_id": 48727682, "link": "https://stackoverflow.com/questions/48727682/including-class-files-in-gradle-build-script", "title": "Including class files in gradle build script", "body": "<p>I have useful java class files from a old project on my computer and would like to include them in a build.gradle script for a new project.  I also am using a library off the Maven repository and a jar file on my computer. I'm only have problem with including the classes and no problem with either of the others. Here is the dependency block.</p>\n\n<pre><code>dependencies {\ncompile 'no.tornado:tornadofx:1.7.14' //works\ncompile files('../lib/opencv-320.jar') //works\ncompile files('../oldProject/com')  } //seems ok in IntelliJ, but won't compile\n</code></pre>\n\n<p>By including the oldProject/com in this way IntelliJ is able to see the dependency and recognize the class.  However, when proceeding to run the app, here is the error that suggests the package \"util\" and class \"MultiArray\" in oldProject/com are not being seen by the Kotlin compiler.</p>\n\n<pre><code>Information: Kotlin: kotlinc -jvm 1.2.21 (JRE 1.80_71-b15)\nError:(3,8) Kotlin: Unresolved reference util\nError:(18,17) Kotlin: Unresolved reference MultiArray\n</code></pre>\n\n<p>Here is the include line in the top level settings.gradle file</p>\n\n<pre><code>include ('../oldProject/com')\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 2, "last_activity_date": 1518432395, "last_edit_date": 1518432395, "creation_date": 1518345260, "answer_id": 48730568, "question_id": 48726830, "link": "https://stackoverflow.com/questions/48726830/is-there-a-way-to-suppress-kotlins-default-import/48730568#48730568", "title": "Is there a way to suppress Kotlin&#39;s default import?", "body": "<p>This is easy, just use your alternative to replace it by using <code>as</code>, and the default import will be replaced by your one.</p>\n\n<p>Here's a simple example, if you want to use <code>java.lang.String</code> instead of <code>kotlin.String</code>, although it's not recommended, this is just an example.</p>\n\n<pre><code>import java.lang.String as String\n\n// here, String is not `kotlin.String`. \nprivate fun main(vararg args: String) {\n\n}\n</code></pre>\n\n<p>BTW there's a trick about refactoring, like if you want to replace all <code>Any</code> used in a file with <code>java.lang.Object</code>, put this after the package declaration:</p>\n\n<pre><code>import java.lang.Object as Any\n</code></pre>\n\n<p>And the implicit import to <code>Any</code> is suppressed and superseded by <code>Object</code>.</p>\n"}], "owner": {"reputation": 28191, "user_id": 27198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9420b13f41ea0c28b268d819209069a9?s=128&d=identicon&r=PG", "display_name": "Itay Maman", "link": "https://stackoverflow.com/users/27198/itay-maman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48730568, "answer_count": 1, "score": 1, "last_activity_date": 1518432395, "creation_date": 1518306618, "question_id": 48726830, "link": "https://stackoverflow.com/questions/48726830/is-there-a-way-to-suppress-kotlins-default-import", "title": "Is there a way to suppress Kotlin&#39;s default import?", "body": "<p>Is there a way to suppress (e.g., via a commnad line flag passed to the compiler) Kotlin's default import of multiple packages? or - alternatively - to be selective about it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "edited": false, "score": 0, "creation_date": 1518307788, "post_id": 48726657, "comment_id": 84452776, "body": "Performance critical  !=  performant"}, {"owner": {"reputation": 28191, "user_id": 27198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9420b13f41ea0c28b268d819209069a9?s=128&d=identicon&r=PG", "display_name": "Itay Maman", "link": "https://stackoverflow.com/users/27198/itay-maman"}, "reply_to_user": {"reputation": 6636, "user_id": 76237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E0QaY.jpg?s=128&g=1", "display_name": "diginoise", "link": "https://stackoverflow.com/users/76237/diginoise"}, "edited": false, "score": 0, "creation_date": 1518308222, "post_id": 48726657, "comment_id": 84452865, "body": "@diginoise - rephrased"}], "answers": [{"comments": [{"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 0, "creation_date": 1518317218, "post_id": 48727053, "comment_id": 84454503, "body": "You can also use the assignment approach. Not much difference in this case, but could code in the apply with <code>this[a] = b</code>. I prefer the myMap[a] = b, but obviously it&#39;s preference."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 13, "last_activity_date": 1518310086, "last_edit_date": 1518310086, "creation_date": 1518309367, "answer_id": 48727053, "question_id": 48726657, "link": "https://stackoverflow.com/questions/48726657/why-is-kotlins-mapofa-to-b-c-to-d-considered-not-suitable-for-performance-cr/48727053#48727053", "title": "Why is Kotlin&#39;s mapOf(a to b, c to d) considered not suitable for performance-critical code?", "body": "<p>There are two things that happen under the hood that might affect performance:</p>\n\n<ul>\n<li><p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-of.html\" rel=\"noreferrer\"><code>mapOf(...)</code></a> function expects a <code>vararg</code> of pairs, and, during a call, an array is created for the arguments and then passed to the function. This operation involves allocating an array and then filling it with the items.</p></li>\n<li><p>As you correctly noted, the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to.html\" rel=\"noreferrer\"><code>a to b</code></a> <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"noreferrer\">infix function</a> creates a pair (equivalent to <code>Pair(a, b)</code>), which is another object allocation.</p></li>\n</ul>\n\n<p>Allocating many objects affects performance when done many times in <em>tight loops</em> (including additional load on garbage collector, when dealing with short-living objects). </p>\n\n<p>Additionally, using an array for the <code>vararg</code> may affect <em>locality of reference</em> (instead of passing the arguments through the stack, they are placed into a separate memory region located somewhere else in the heap).</p>\n\n<p>While JVMs are usually good at local optimizations and can sometimes even <a href=\"https://stackoverflow.com/questions/38521299/will-the-jit-optimize-new-objects\">eliminate allocations</a>, these optimizations are not guaranteed to happen.</p>\n\n<p>A more performant way to create a map and fill it with items is:</p>\n\n<pre><code>val map: Map&lt;Foo, Bar&gt; = HashMap().apply { \n    put(a, b)\n    put(c, d)\n}\n</code></pre>\n\n<p><sup>Using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"noreferrer\"><code>apply { ... }</code></a> introduces no overhead since it is an <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\">inline function</a>.</sup> <sup>An explicit type annotation <code>Map&lt;Foo, Bar&gt;</code> shows the intention not to mutate the map after it is created.</sup></p>\n"}], "owner": {"reputation": 28191, "user_id": 27198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/9420b13f41ea0c28b268d819209069a9?s=128&d=identicon&r=PG", "display_name": "Itay Maman", "link": "https://stackoverflow.com/users/27198/itay-maman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 1, "accepted_answer_id": 48727053, "answer_count": 1, "score": 5, "last_activity_date": 1518310086, "creation_date": 1518305139, "last_edit_date": 1518308208, "question_id": 48726657, "link": "https://stackoverflow.com/questions/48726657/why-is-kotlins-mapofa-to-b-c-to-d-considered-not-suitable-for-performance-cr", "title": "Why is Kotlin&#39;s mapOf(a to b, c to d) considered not suitable for performance-critical code?", "body": "<p>Kotlin's <a href=\"https://kotlinlang.org/docs/reference/collections.html\" rel=\"noreferrer\">official \"collections\" page</a> contains the following remark:</p>\n\n<blockquote>\n  <p>Map creation in NOT performance-critical code can be accomplished with\n  simple idiom: mapOf(a to b, c to d).</p>\n</blockquote>\n\n<p>Questions: </p>\n\n<p>a/ What is the reason behind this remark (the best explanation I could come up with is that the \"a to b\" expressions create an extra, transient, Pair object, but I am not sure). </p>\n\n<p>b/ What is the suggested best practice for initializing a map in a way that <em>is</em> suitable for performance-critical code?</p>\n"}, {"tags": ["android", "kotlin", "weak-references", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1518305646, "post_id": 48726354, "comment_id": 84452309, "body": "Surely once <code>.addSource</code> method returns then there is no strong reference to you&#39;re functional interface  (where you want to invoke <code>mMediatorLiveData::setValue</code>) meaning it is up for GC - there is never an instance variable reference to the function itself, its only a method parameter.  ?"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1518306401, "post_id": 48726354, "comment_id": 84452481, "body": "Also could be the difference between <code>inline</code> and <code>noinline</code> on the functional interface."}, {"owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1518307677, "post_id": 48726354, "comment_id": 84452762, "body": "That was it. In the ViewModel I created a reference like so:  private val mCallback = mMediatorLiveData::setValue  and passed that to the AsyncTask&#39;s constructor. Feel free to write an answer and I&#39;ll mark it as accepted."}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1518308978, "post_id": 48726354, "comment_id": 84452999, "body": "Glad its solved!"}], "answers": [{"tags": [], "owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "is_accepted": true, "score": 0, "last_activity_date": 1518308879, "creation_date": 1518308879, "answer_id": 48727016, "question_id": 48726354, "link": "https://stackoverflow.com/questions/48726354/weakreference-to-function-type-parameter-null-behavior/48727016#48727016", "title": "WeakReference to function type parameter null behavior", "body": "<p>When your method <code>MediatorLiveData::addSource</code> returns then there is no strong reference to you're functional interface (where you want to invoke <code>mMediatorLiveData::setValue</code>) meaning it is up for GC.</p>\n\n<p>There is never an instance variable reference to the function itself, its only a method parameter.</p>\n\n<p>You should hold a reference to the functional interface itself, for as long as you need it, so it can invoke <code>setValue</code>.</p>\n"}], "owner": {"reputation": 1670, "user_id": 5057537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb43d5002c7fa8c47bc301341e9acd29?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer001", "link": "https://stackoverflow.com/users/5057537/programmer001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 48727016, "answer_count": 1, "score": 0, "last_activity_date": 1518308879, "creation_date": 1518302568, "question_id": 48726354, "link": "https://stackoverflow.com/questions/48726354/weakreference-to-function-type-parameter-null-behavior", "title": "WeakReference to function type parameter null behavior", "body": "<p>I understand that a WeakReference will allow the garbage collector to clean up its reference if it is no longer needed as a strong reference (such as an Activity being destroyed or ViewModel being cleaned up). But I'm trying to understand a case where my WeakReference to a function is returning a null reference at random points when the function's owning instance hasn't been garbage collected...</p>\n\n<p><strong>Consider the following ViewModel:</strong></p>\n\n<pre><code>class SampleVM(dao: MyRoomDao) : ViewModel() {\n    private val mLiveData: LiveData&lt;List&lt;Object&gt;&gt; = dao.loadAll()\n    private val mMediatorLiveData: MediatorLiveData&lt;List&lt;Object&gt;&gt; = MediatorLiveData()\n\n    init {\n        mMediatorLiveData.addSource(mLiveData, { dbResult -&gt;\n            MyAsyncTask(\n               mMediatorLiveData::setValue\n        ).execute(dbResult ?: ArrayList())\n    })\n\n    ...\n}\n</code></pre>\n\n<p>I pass the results of the original LiveData for further processing to an AsyncTask as well as a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow noreferrer\">function type reference</a> to setValue so the AsyncTask can call the mediator's setValue() in onPostExecute().</p>\n\n<p><strong>Consider the following AsyncTask:</strong></p>\n\n<pre><code>class MyAsyncTask(onFinishCallback: (List&lt;Object&gt;) -&gt; Unit) : AsyncTask&lt;...,...,...&gt;() {\n   private val mOnFinishCallback = WeakReference&lt;(List&lt;Object&gt;) -&gt; Unit&gt;(onFinishCallback)\n\n   ...(overrides)...\n\n   override fun onPostExecute(result: List&lt;Object&gt;?) {\n      result?.let {\n         mOnFinishCallback.get()?.invoke(it)\n   }\n</code></pre>\n\n<p>I would think so long as onCleared() hasn't been called on the ViewModel, and it hasn't been garbage collected, that the WeakReference will always contain a non-null reference. But it so happens that there are two cases I've seen where mOnFinishCallback.get() returns null.</p>\n\n<ol>\n<li>While the app is running, restart the app via Android Studio by pressing Run (Shift + F10). The app will close, restart and my RecyclerView which before had items, is now blank. Via some sysouts, I can see the WeakReference has a null reference.</li>\n<li>While adding new items to the list via a FAB (processes an insert through a DAO instance) and watching my logs, most of the time the WeakReference is still referencing my the MediatorLiveData's setValue() function but at random times it will be null, but the next time I insert an item and this process repeats it is not null.</li>\n</ol>\n\n<p>Any idea why this might be? If my ViewModel, and thus MediatorLiveData are still active and not being garbage collected, shouldn't the MediatorLiveData's setValue() function reference be valid the whole time?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1518298457, "post_id": 48725553, "comment_id": 84450595, "body": "Could you clarify how your project is setup, what version of kotlin you are using etc."}, {"owner": {"reputation": 11, "user_id": 9343787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2JoS.jpg?s=128&g=1", "display_name": "Sina Shahriary", "link": "https://stackoverflow.com/users/9343787/sina-shahriary"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1518298639, "post_id": 48725553, "comment_id": 84450628, "body": "create project &gt; java &gt; Kotlin JS.....and my kotlin is the default version @jrtapsell"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 2, "creation_date": 1518298854, "post_id": 48725553, "comment_id": 84450698, "body": "Can you try adding a main method and see if the run button appears if you make it with java kotlin rather than js"}, {"owner": {"reputation": 11, "user_id": 9343787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2JoS.jpg?s=128&g=1", "display_name": "Sina Shahriary", "link": "https://stackoverflow.com/users/9343787/sina-shahriary"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1518312272, "post_id": 48725553, "comment_id": 84453602, "body": "thank you so much for the solution....i&#39;m in your debt @jrtapsell"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9343787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2JoS.jpg?s=128&g=1", "display_name": "Sina Shahriary", "link": "https://stackoverflow.com/users/9343787/sina-shahriary"}, "edited": false, "score": 0, "creation_date": 1518336808, "post_id": 48728756, "comment_id": 84458085, "body": "i wrote the code in java &gt; kotlin JVM , however my kotlin &gt; kotlin JS still not working even when i add the main method !!....anyway thank you so much for your answer @Adya"}, {"owner": {"reputation": 868, "user_id": 8310827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RwDqC.jpg?s=128&g=1", "display_name": "Adya", "link": "https://stackoverflow.com/users/8310827/adya"}, "reply_to_user": {"reputation": 11, "user_id": 9343787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2JoS.jpg?s=128&g=1", "display_name": "Sina Shahriary", "link": "https://stackoverflow.com/users/9343787/sina-shahriary"}, "edited": false, "score": 0, "creation_date": 1518349981, "post_id": 48728756, "comment_id": 84461398, "body": "Can you please attach screenshot of what you have written? @SinaShahriary"}, {"owner": {"reputation": 868, "user_id": 8310827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RwDqC.jpg?s=128&g=1", "display_name": "Adya", "link": "https://stackoverflow.com/users/8310827/adya"}, "reply_to_user": {"reputation": 11, "user_id": 9343787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2JoS.jpg?s=128&g=1", "display_name": "Sina Shahriary", "link": "https://stackoverflow.com/users/9343787/sina-shahriary"}, "edited": false, "score": 0, "creation_date": 1518353635, "post_id": 48728756, "comment_id": 84462471, "body": "Check this solution, I hope this will help you out. @SinaShahriary"}], "tags": [], "owner": {"reputation": 868, "user_id": 8310827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RwDqC.jpg?s=128&g=1", "display_name": "Adya", "link": "https://stackoverflow.com/users/8310827/adya"}, "is_accepted": false, "score": 0, "last_activity_date": 1518670824, "last_edit_date": 1518670824, "creation_date": 1518328426, "answer_id": 48728756, "question_id": 48725553, "link": "https://stackoverflow.com/questions/48725553/cant-run-or-debug-kotlin-in-intellij-idea/48728756#48728756", "title": "Cant Run or Debug Kotlin In IntelliJ Idea", "body": "<p>You are unable to run or debug because you have written nothing in your class. \n<a href=\"https://i.stack.imgur.com/l7qq0.png\" rel=\"nofollow noreferrer\">.This screenshot shows how to add run configuration for your js file.</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/DVniu.png\" rel=\"nofollow noreferrer\">This second link is screenshot of simple Hello World program and you get run/ debug option when you right click on class, go through it please.</a></p>\n\n<p>I hope this helps, if you find it useful then upvote please. </p>\n"}], "owner": {"reputation": 11, "user_id": 9343787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P2JoS.jpg?s=128&g=1", "display_name": "Sina Shahriary", "link": "https://stackoverflow.com/users/9343787/sina-shahriary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1661, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518670824, "creation_date": 1518296667, "last_edit_date": 1518302039, "question_id": 48725553, "link": "https://stackoverflow.com/questions/48725553/cant-run-or-debug-kotlin-in-intellij-idea", "title": "Cant Run or Debug Kotlin In IntelliJ Idea", "body": "<p>since Jetbrains released a new version of IJ, i removed my old version and installed (2017.3.4) the final version !! but when i start a new kotlin project i don't have Run/Debug on my right click !! and when i click on Run from Run menu it gives me a small window that says [Run:Edit Configuration] !! i haven't seen something like this before!! and by the way when i enable the REPL from kotlin sub menu it shows an error :</p>\n\n<p>You\u2019re running the REPL with outdated classes !!</p>\n\n<p>i reinstalled it but its still the same.....even removed the java...nothing changed.\nhelp me please, attached a screenshot....</p>\n\n<p>screen shot from IJ</p>\n\n<p><a href=\"https://i.stack.imgur.com/7iG97.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7iG97.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1518295787, "post_id": 48724923, "comment_id": 84449807, "body": "Which version of kotlin are you using?"}, {"owner": {"reputation": 51, "user_id": 7995634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a115f1acf1bf4f494bb56486f10a135?s=128&d=identicon&r=PG&f=1", "display_name": "Y. Okese", "link": "https://stackoverflow.com/users/7995634/y-okese"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1518298874, "post_id": 48724923, "comment_id": 84450706, "body": "@jrtapsell 1.2.21"}, {"owner": {"reputation": 1077, "user_id": 4050911, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LH5r7weipjc/AAAAAAAAAAI/AAAAAAAAAd4/Z07jjq6pTtM/photo.jpg?sz=128", "display_name": "osipxd", "link": "https://stackoverflow.com/users/4050911/osipxd"}, "edited": false, "score": 0, "creation_date": 1518334760, "post_id": 48724923, "comment_id": 84457631, "body": "It looks like Kotlin can&#39;t use <code>.call</code> on extension functions. Because for <code>toString</code> it works fine. And why you search function in <code>destClass</code>?"}, {"owner": {"reputation": 51, "user_id": 7995634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a115f1acf1bf4f494bb56486f10a135?s=128&d=identicon&r=PG&f=1", "display_name": "Y. Okese", "link": "https://stackoverflow.com/users/7995634/y-okese"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1518355770, "post_id": 48724923, "comment_id": 84463111, "body": "@jrtapsell yes, it was wrong. But what&#39;s the alternative?"}], "owner": {"reputation": 51, "user_id": 7995634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a115f1acf1bf4f494bb56486f10a135?s=128&d=identicon&r=PG&f=1", "display_name": "Y. Okese", "link": "https://stackoverflow.com/users/7995634/y-okese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 797, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1518355630, "creation_date": 1518292252, "last_edit_date": 1518355630, "question_id": 48724923, "link": "https://stackoverflow.com/questions/48724923/kotlin-reflection-error-when-calling-function", "title": "Kotlin reflection error when calling function", "body": "<p>I was trying to cast an unknown given object to the required class using kotlin primitives conversion methods like this:</p>\n\n<pre><code>private fun callSelfParser(origObj: Any, destClazz: KClass&lt;*&gt;): Any {\n        val methodName = when (destClazz) {\n            Int::class -&gt; \"toInt\"\n            Char::class -&gt; \"toChar\"\n            Long::class -&gt; \"toLong\"\n            Byte::class -&gt; \"toByte\"\n            Float::class -&gt; \"toFloat\"\n            Short::class -&gt; \"toShort\"\n            Double::class -&gt; \"toDouble\"\n            Boolean::class -&gt; \"toBoolean\"\n            else -&gt; \"\"\n        }\n\n        val parsingMethod: KFunction&lt;*&gt;\n        try {\n            parsingMethod = origObj::class.functions.toList().first { it -&gt;\n                it.name == methodName\n            }\n        } catch (e: NoSuchElementException) {\n            throw ObjectMapperEx(\"Element $origObj doesn't have a method for parsing to $destClazz\")\n        }\n\n        return parsingMethod.call(origObj)!!\n    }\n</code></pre>\n\n<p>But I got the following exception when executing the .call():</p>\n\n<pre><code>Exception in thread \"main\" kotlin.reflect.jvm.internal.KotlinReflectionInternalError: Reflection on built-in Kotlin types is not yet fully supported. No metadata found for public open val length: kotlin.Int defined in kotlin.String[DeserializedPropertyDescriptor@1cbb87f3]\n</code></pre>\n\n<p>Can someone say whats wrong or, if there's another way to achieve my goal?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 14696, "user_id": 2067527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f6e8dffbb19acf405198c8fb917337?s=128&d=identicon&r=PG", "display_name": "mp911de", "link": "https://stackoverflow.com/users/2067527/mp911de"}, "edited": false, "score": 1, "creation_date": 1518286535, "post_id": 48723880, "comment_id": 84446823, "body": "Why don&#39;t you use <a href=\"https://github.com/unitsofmeasurement\" rel=\"nofollow noreferrer\">github.com/unitsofmeasurement</a> ?"}, {"owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1518286680, "post_id": 48723880, "comment_id": 84446870, "body": "I don&#39;t quite get your question: 1) Why Measurement extends Number() ? 2) You want to have unaryMinus() implemented on Measurement so you don&#39;t have to override it for all subclasses? 3) Length vs Inches classes is really bizarre IMO."}, {"owner": {"reputation": 636, "user_id": 7267809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLvd4.jpg?s=128&g=1", "display_name": "Aanand Kainth", "link": "https://stackoverflow.com/users/7267809/aanand-kainth"}, "reply_to_user": {"reputation": 14696, "user_id": 2067527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f6e8dffbb19acf405198c8fb917337?s=128&d=identicon&r=PG", "display_name": "mp911de", "link": "https://stackoverflow.com/users/2067527/mp911de"}, "edited": false, "score": 0, "creation_date": 1518287322, "post_id": 48723880, "comment_id": 84447126, "body": "@mp911de I&#39;m still learning, so I&#39;m trying to do this on my own."}, {"owner": {"reputation": 636, "user_id": 7267809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLvd4.jpg?s=128&g=1", "display_name": "Aanand Kainth", "link": "https://stackoverflow.com/users/7267809/aanand-kainth"}, "reply_to_user": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "edited": false, "score": 0, "creation_date": 1518287346, "post_id": 48723880, "comment_id": 84447137, "body": "@RafalG., I thought a measurement is a number, so I extended Number. Yes, I don&#39;t want to override it in every subclass, and I don&#39;t understand your third question."}], "answers": [{"tags": [], "owner": {"reputation": 3234, "user_id": 289686, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/psWEN.jpg?s=128&g=1", "display_name": "logcat", "link": "https://stackoverflow.com/users/289686/logcat"}, "is_accepted": true, "score": 1, "last_activity_date": 1518287375, "creation_date": 1518287375, "answer_id": 48724182, "question_id": 48723880, "link": "https://stackoverflow.com/questions/48723880/creating-new-instance-of-subclass-of-unknown-type/48724182#48724182", "title": "Creating new instance of subclass of unknown type", "body": "<p>If you make Measurement cloneable, you can clone it and cast (LOL) back to Measurement </p>\n\n<pre><code>abstract class Measurement : Cloneable {\n  abstract val units: String\n  abstract val value: Number\n\n  fun unaryMinus() : Measurement {\n      val measurement = this.clone() as Measurement\n      return measurement\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 7267809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oLvd4.jpg?s=128&g=1", "display_name": "Aanand Kainth", "link": "https://stackoverflow.com/users/7267809/aanand-kainth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48724182, "answer_count": 1, "score": 2, "last_activity_date": 1518287375, "creation_date": 1518285561, "last_edit_date": 1518286450, "question_id": 48723880, "link": "https://stackoverflow.com/questions/48723880/creating-new-instance-of-subclass-of-unknown-type", "title": "Creating new instance of subclass of unknown type", "body": "<p>I have a class, Measurement</p>\n\n<pre><code>package robokt.measurement\n\nabstract class Measurement : Number() {\n    /**\n     * The abbreviation for this unit of measurement\n     */\n    abstract val units: String\n    /**\n     * The abbreviation for this unit of measurement\n     */\n    abstract val value: Number\n}\n</code></pre>\n\n<p>How can I implement the <code>unaryMinus()</code> operator fun, given that there are other classes implementing measurement, for example Inches:</p>\n\n<pre><code>package robokt.measurement.length\n\nclass Inches(override val value: Number) : Length() {\n    override fun toCentimeters() = Centimeters(toDouble() * 2.54)\n\n    override fun toFeet() = Feet(toDouble() / 12)\n\n    override fun toInches() = this\n\n    override fun toMeters() = Meters(toDouble() * 0.0254)\n\n    override val units: String = \"in\"\n}\n</code></pre>\n\n<p>Length is a simple abstract class that extends Measurement.</p>\n\n<p>I would like to have <code>-Inches(5)</code> return <code>Inches(-5)</code>, but have that for any other class I create, like <code>-Degrees(30)</code> returning <code>Degrees(-30)</code>. Is there any way this is possible? I have tried generics, which ended up being a dead end.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 0, "last_activity_date": 1519413926, "last_edit_date": 1519413926, "creation_date": 1518278485, "answer_id": 48722690, "question_id": 48722642, "link": "https://stackoverflow.com/questions/48722642/equivalent-kotlin-code-to-my-f-functional-code/48722690#48722690", "title": "Equivalent Kotlin code to my F# functional code", "body": "<p>The main problem I found was finding an equivalent operator to the pipeOperator<code>|&gt;</code>, then i found three potential alternatives:</p>\n\n<p>using <code>.let</code>\nusing <code>.run</code>\nusing <code>infix function</code></p>\n\n<p>Below example was good startup for me to solve my issue:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var a = 3\n    val b: Int = 6\n\n\n    println(\"Hello World! doubling, then tripling the sume of $a and $b is \" +\n            \"${(sumx(a,b)\n                    next ::dbl\n                    next ::trpl\n                    )}\")\n\n    println(\"Hello World! doubling, then tripling the sume of $a and $b is \" +\n            \"${(sumx(a,b)\n                    .let (::dbl)\n                    .let (::trpl)\n                    )}\")\n    println(\"Hello World! doubling, then tripling the sume of $a and $b is \" +\n            \"${(sumx(a,b)\n                    .run (::dbl)\n                    .run (::trpl)\n                    )}\")\n\n    println(\"Hello World! doubling, then tripling the sume of $a and $b is \" +\n            \"${(sumx(a,b)\n                    into (::dbl)\n                    into (::trpl)\n                    )}\")\n}\n\nfun sumx (x: Int, y: Int) : Int = x + y\nfun dbl (x: Int): Int = x * 2\nfun trpl (x: Int): Int = x * 3\n\ninfix fun &lt;T, R&gt; T.next(map : (T) -&gt; R) : R = map(this)\ninfix fun &lt;T, R&gt; T.into(func: (T) -&gt; R) = func(this)\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I Created the gradle project using this command: <code>gradle init --type java-library</code></p>\n\n<p>Deleted the <code>src/main</code> and the <code>src/test</code> folders</p>\n\n<p>Created the <code>src/kotlin</code> and <code>src/resources</code> folders</p>\n\n<p>Created my file at <code>src/kotlin/Main.kt</code> as below:</p>\n\n<pre><code>import kotlin.coroutines.experimental.buildSequence\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"Hi, Let's start\")\n\n    val series = listOf(\n            30, 21, 29, 31, 40, 48, 53, 47, 37, 39, 31, 29, 17, 9, 20, 24, 27, 35, 41, 38,\n            27, 31, 27, 26, 21, 13, 21, 18, 33, 35, 40, 36, 22, 24, 21, 20, 17, 14, 17, 19,\n            26, 29, 40, 31, 20, 24, 18, 26, 17, 9, 17, 21, 28, 32, 46, 33, 23, 28, 22, 27,\n            18, 8, 17, 21, 31, 34, 44, 38, 31, 30, 26, 32\n    )\n\n    fun initialSeasonalComponents(series: List&lt;Int&gt;, slen: Int): Map&lt;Int, Double&gt; {\n        val nSeasons = (series.size / slen).toFloat()\n        val grouped = series.map { it.toFloat() }.chunked(slen)\n        val seasonAverages = grouped.map { it.average() }\n        return (0 until slen).associate {\n            Pair(it, grouped.zip(seasonAverages)\n                    .fold(0.0) { s, (els, av) -&gt; els[it] + s - av }\n                    / nSeasons)\n        }\n    }\n\n    println(\"Seasons Average\u00df: \\n ${initialSeasonalComponents(series, 12)}\")\n\n    fun initialTrend(series: List&lt;Int&gt;, slen: Int): Double =\n            series.windowed(slen)\n                    .fold(0) { s, x -&gt; x.last() - x.first() + s }\n                    .toFloat() / slen.toDouble()\n\n    println(\"Initial Trend: \\n ${initialTrend(series, 12)}\")\n\n    fun tripleExponentialSmoothing(series: List&lt;Int&gt;, slen: Int, alpha: Double, beta: Double, gamma: Double, nPreds: Int): Sequence&lt;Double&gt; {\n        var smooth = 0.0\n        var trend = 0.0\n        val seasonals = initialSeasonalComponents(series, 12).toMutableMap()\n        return buildSequence {\n            for (i in 0 until (series.size + nPreds)) {\n                when {\n                    i == 0 -&gt; {\n                        smooth = series.first().toDouble()\n                        trend = initialTrend(series, slen)\n                        yield(series.first().toDouble())\n                    }\n                    i &gt;= series.size -&gt; {\n                        val m = i - series.size + 1\n                        yield((smooth + m * trend) + (seasonals[i % slen] ?: 0.0 /* Need default values because of null safety */))\n                    }\n                    else -&gt; {\n                        val v = series.first().toDouble()\n                        val lastSmooth = smooth\n                        smooth = alpha * (v - (seasonals[i % slen] ?: 0.0)) + (1.0 - alpha) * (smooth + trend)\n                        trend = beta * (smooth - lastSmooth) + (1.0 - beta) * trend\n                        seasonals[i % slen] = gamma * (v - smooth) + (1.0 - gamma) * (seasonals[i % slen] ?: 0.0)\n                        yield(smooth + trend + (seasonals[i % slen] ?: 0.0))\n                    }\n                }\n            }\n        }\n    }\n\n    val f = tripleExponentialSmoothing(series, 12, 0.716, 0.029, 0.993, 24).toList()\n    val res = f.map {it.format(2)} // used to format the numbers, can be avoided.\n\n    println(\"Forecast: \\n $res\")\n}\n\nfun Double.format(digits: Int) = java.lang.String.format(\"%.${digits}f\", this) // Extension function to format the numbers\n</code></pre>\n\n<p>The <code>0.0</code> is the initial state for the <code>fold</code> function, <code>{ s, (els, av) -&gt; }</code> is the operation applied to each element, where s is the accumulator and <code>(els, av)</code> is the current element (in this case an entry of a map), which has been deconstructed1, leaving <code>els</code> as the key and <code>av</code> as the value of the current entry.</p>\n\n<p>My <code>gradle.build</code> is:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.21'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"   // for gradle build\n    }\n}\napply plugin: 'kotlin'\n\nrepositories {     jcenter()    }\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n\nsourceSets.main {\n    kotlin.srcDirs += 'src/kotlin'\n    resources.srcDirs += 'src/resources'\n}\n\njar {\n    baseName 'myApp'\n    manifest.attributes 'Main-Class': 'MainKt'  // '[namespace].[arctifact/file]Kt'\n    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>The generated <code>jar</code> file was saved at <code>build/libs/MyApp.jar</code> and i run it using command <code>java -jar myApp.jar</code></p>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1518344538, "accepted_answer_id": 48722690, "answer_count": 1, "score": -5, "last_activity_date": 1519413926, "creation_date": 1518278156, "question_id": 48722642, "link": "https://stackoverflow.com/questions/48722642/equivalent-kotlin-code-to-my-f-functional-code", "closed_reason": "Needs more focus", "title": "Equivalent Kotlin code to my F# functional code", "body": "<p>Can any one help me converting my below <code>F#</code> code into <code>Kotlin</code>:</p>\n\n<pre><code>//namespace SysIO\n\nopen System.Collections.Generic  // for Dictionary\n\nprintf \"Hi, Let's start \\n\"\n\nlet series = [|30;21;29;31;40;48;53;47;37;39;31;29;17;9;20;24;27;35;41;38;\n          27;31;27;26;21;13;21;18;33;35;40;36;22;24;21;20;17;14;17;19;\n          26;29;40;31;20;24;18;26;17;9;17;21;28;32;46;33;23;28;22;27;\n          18;8;17;21;31;34;44;38;31;30;26;32|]\n\nlet initialSeasonalComponents (series : int []) slen : IDictionary&lt;int, double&gt;  =\n    let nSeasons = float  (series.Length / slen)\n    let grouped = \n        series \n            |&gt; Array.map float \n            |&gt; Array.chunkBySize slen\n    let seasonAverages = grouped |&gt; Array.map Array.average\n    Array.init slen (fun i -&gt; i, (Array.zip grouped seasonAverages \n                                    |&gt; Array.fold (fun s (els, av) -&gt; els.[i] + s - av) 0.)\n                                        / nSeasons) |&gt; dict\n\nprintfn \"Seasons Average\u00df: \\n %A\" (initialSeasonalComponents series 12)\n\nlet initialTrend (series : int []) (slen : int) : double =\n     series |&gt; Array.windowed slen\n            |&gt; Array.fold (fun s x -&gt; \n                            (x |&gt; Array.rev |&gt; Array.head) -  (x |&gt; Array.head) + s) 0\n            |&gt; float\n            |&gt; fun x -&gt; x / (float slen)\n\nprintfn \"Initial Trend: \\n %A\" (initialTrend series 12)\n\nlet tripleExponentialSmoothing series slen alpha beta gamma nPreds =\n    let mutable smooth = 0.\n    let mutable trend = 0.\n    let seasonals = initialSeasonalComponents series 12 |&gt; Dictionary \n    seq {\n        for i in 0..(series.Length+nPreds-1) do\n          match i with\n          | 0 -&gt;     // initial values        \n              smooth &lt;- series |&gt; Array.head |&gt; float\n              trend &lt;- initialTrend series slen\n              yield series |&gt; Array.head |&gt; float\n          | i when i &gt;= series.Length -&gt; // we are forecasting\n              let m = i - series.Length + 1\n              yield (smooth + float m * trend) + seasonals.[i%slen]\n          | _ -&gt; \n              let v = series |&gt; Array.head  |&gt; float\n              let lastSmooth = smooth\n              smooth &lt;- alpha*(v-seasonals.Item(i%slen)) + (1.-alpha)*(smooth+trend)\n              trend &lt;- beta * (smooth-lastSmooth) + (1.-beta)*trend\n              seasonals.[i%slen] &lt;- gamma*(v-smooth) + (1.-gamma)*seasonals.[i%slen]\n              yield smooth + trend + seasonals.Item(i%slen) }\n   // result\n\nlet f = tripleExponentialSmoothing series 12 0.716 0.029 0.993 24\nprintfn \"Forecast: \\n %A\" f\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "edited": false, "score": 1, "creation_date": 1518269641, "post_id": 48721142, "comment_id": 84441536, "body": "It is not necessary to mix AsyncTask and RxJava. Your network call is already running on a background thread du to <code>.subsribeOn(Schedulers.newThread())</code>."}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "reply_to_user": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "edited": false, "score": 0, "creation_date": 1518269956, "post_id": 48721142, "comment_id": 84441614, "body": "Thanks will fix my code"}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1518271374, "post_id": 48721474, "comment_id": 84442040, "body": "The error is actually on <code>-1 -&gt; e(statusCode.toString(), result.component2()?.cause.toString())</code>"}, {"owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "reply_to_user": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1518271994, "post_id": 48721474, "comment_id": 84442216, "body": "I see. I added a mapping to my code where if there is an exception it will throw it and if not it will return the response."}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1518272156, "post_id": 48721474, "comment_id": 84442273, "body": "I&#39;ve taken a look at your code , the returned method is Type mismatch. <code>Required: Observable&lt;WikiResult&gt;? Found: Single&lt;Result&lt;WikiResult, FuelError&gt;!&gt;</code>"}, {"owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "reply_to_user": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1518272656, "post_id": 48721474, "comment_id": 84442418, "body": "Yeah I assumed a bit about the return types of the other functions, it was more meant as an pseudo codish example. I updated the above code, but it might still need some tweaking as I do not have all the classes to compile a working example with your classes etc."}, {"owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "edited": false, "score": 0, "creation_date": 1518273113, "post_id": 48721474, "comment_id": 84442548, "body": "Thanks dude. This has greatly helped me. I&#39;ve had to do a bit of changes as there is no <code>doOnCompleted</code> but i&#39;ve changed it to <code>doOnSuccess</code>. I am in the middle of changing the other methods and I will commit this code full access to the code is available on  <a href=\"https://github.com/limpep/android-kotlin-wikipedia\" rel=\"nofollow noreferrer\">github.com/limpep/android-kotlin-wikipedia</a> under branch feature/rxjava much appreciated"}], "tags": [], "owner": {"reputation": 659, "user_id": 7464072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GSsnXTlOFMY/AAAAAAAAAAI/AAAAAAAAD2I/rv9D0zP26w8/photo.jpg?sz=128", "display_name": "Hendrik Marx", "link": "https://stackoverflow.com/users/7464072/hendrik-marx"}, "is_accepted": true, "score": 1, "last_activity_date": 1518272372, "last_edit_date": 1518272372, "creation_date": 1518270365, "answer_id": 48721474, "question_id": 48721142, "link": "https://stackoverflow.com/questions/48721142/error-handle-on-ui-thread-when-http-request-returns-an-error/48721474#48721474", "title": "Error Handle on UI thread when http request returns an error", "body": "<p>It is hard to say how to write good code for this in your structure because your code is not very clear in its separation and it is not necessary to use <code>AsyncTask</code> and <code>runOnUIThread</code> when you are already using <code>.subscribeOn()</code> and <code>.observeOn()</code> on your observable.</p>\n\n<p>Maybe this would be a better basis for structure:</p>\n\n<pre><code>fun getRandom(take: Int): Single&lt;WikiResult&gt; {\n   return Urls.getRandomURl(take)\n            .httpGet()\n            .timeout(timeout)\n            .timeoutRead(readTimeout)\n            .rx_object(WikipediaDataDeserializer())\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .map{ if(it.component2()!=null) throw it.component2() else it.component1() as WikiResult }\n\n}\n\n\nprivate fun getRandomArticles() {\n    refresher?.isRefreshing = true\n\n    getRandom().doOnCompleted{refresher?.isRefreshing = false}\n               .subscribe(this::handleResponse,this::reportException)    \n}\n\nprivate fun handleResponse(wikiResult:WikiResult){\n    adapter.currentResults.clear()\n    adapter.currentResults.addAll(wikiResult.query!!.pages)\n    adapter.notifyDataSetChanged()                \n}\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 481791, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59a73eb8562898b52113ed908f9b4686?s=128&d=identicon&r=PG", "display_name": "Ergun Polat", "link": "https://stackoverflow.com/users/481791/ergun-polat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "accepted_answer_id": 48721474, "answer_count": 1, "score": 0, "last_activity_date": 1518272372, "creation_date": 1518268171, "last_edit_date": 1518270009, "question_id": 48721142, "link": "https://stackoverflow.com/questions/48721142/error-handle-on-ui-thread-when-http-request-returns-an-error", "title": "Error Handle on UI thread when http request returns an error", "body": "<p>I am using Fuel and Rxjava to make network calls. I have set my base URL to localhost, which at isn't serving anything. I want to be able to handle network errors so I can show some sort of error message on the UI to the user.</p>\n\n<p>Here is an example of my GET request </p>\n\n<pre><code>   fun getRandom(take: Int, responseHandler: (result: WikiResult) -&gt; Unit?) {\n    Urls.getRandomURl(take)\n            .httpGet()\n            .timeout(timeout)\n            .timeoutRead(readTimeout)\n            .rx_object(WikipediaDataDeserializer())\n            .subscribeOn(Schedulers.newThread())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({ result -&gt;\n                val statusCode = result.component2()?.response?.statusCode\n\n                when(statusCode) {\n                    -1 -&gt; e(statusCode.toString(), result.component2()?.cause.toString())\n                    else -&gt; {\n                        val (data, _) = result\n                        responseHandler.invoke(data as WikiResult)\n                    }\n                }\n\n            }, {\n                error -&gt; e(error.cause.toString())\n            })\n}\n</code></pre>\n\n<p>And on my fragment I am calling the above function in a async task </p>\n\n<pre><code>private fun getRandomArticles() {\n    refresher?.isRefreshing = true\n            wikiManager?.getRandom(15, { wikiResult -&gt;\n                adapter.currentResults.clear()\n                adapter.currentResults.addAll(wikiResult.query!!.pages)\n                onUiThread {\n                    adapter.notifyDataSetChanged()\n                    refresher?.isRefreshing = false\n                }\n            })\n\n\n}\n\nprivate fun reportException(e: Throwable) {\n    refresher?.isRefreshing = false\n    val builder = AlertDialog.Builder(activity)\n    builder.setMessage(e.message).setTitle(\"Error\")\n    val dialog = builder.create()\n    dialog.show()\n}\n</code></pre>\n\n<p>So I get a network error <code>java.net.ConnectException: Failed to connect to localhost/127.0.0.1:80</code> </p>\n\n<p>I want to be able to get this on my fragment and display an error on the fragment. Not sure what the best approach is for this. </p>\n\n<p>You can see the full project code on here \n<a href=\"https://github.com/limpep/android-kotlin-wikipedia\" rel=\"nofollow noreferrer\">https://github.com/limpep/android-kotlin-wikipedia</a> \nunder branch feature/rxjava</p>\n\n<p>any help would be much appreciated </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 3, "creation_date": 1518260924, "post_id": 48720019, "comment_id": 84439054, "body": "You seem to identify &quot;beautiful&quot; with &quot;short&quot;. However, it is better to strive for clarity."}, {"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "reply_to_user": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1518261725, "post_id": 48720019, "comment_id": 84439273, "body": "For me, the two are not mutually exclusive."}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 1, "creation_date": 1518262043, "post_id": 48720019, "comment_id": 84439357, "body": "True, they are not strictly exclusive, but often enough the shortest possible program is also somewhat cryptic. For instance in your example I would not combine toggling <code>isActivated</code> with the assignment to <code>visibility</code>. (Although this can be done and makes for shorter code)."}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 5, "last_activity_date": 1518266812, "last_edit_date": 1518266812, "creation_date": 1518262923, "answer_id": 48720372, "question_id": 48720019, "link": "https://stackoverflow.com/questions/48720019/is-there-a-way-to-avoid-multiple-instances-of-code-when-mutating-itself/48720372#48720372", "title": "Is there a way to avoid multiple instances of code when mutating itself?", "body": "<p>The primary part of the presented code that is far from being pretty is the repetition of the long <code>availableReportRecycler</code> name. Combining scoping function <code>with</code> from the Kotlin standard library with imports and <code>if</code> expression lets us make this code much cleaner without making it harder to understand:</p>\n\n<pre><code>something.setOnClickListener {\n    with (availableReportRecycler) {\n        isActivated = !isActivated\n        visibility = if (isActivated) VISIBLE else GONE\n    }\n}\n</code></pre>\n\n<p>You can apply further scoping function like <code>also</code> to avoid repeating <code>isActivated</code> on the second statement, but, for my taste, it would not make this particular code better.</p>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 1, "last_activity_date": 1518273902, "last_edit_date": 1518273902, "creation_date": 1518273522, "answer_id": 48721892, "question_id": 48720019, "link": "https://stackoverflow.com/questions/48720019/is-there-a-way-to-avoid-multiple-instances-of-code-when-mutating-itself/48721892#48721892", "title": "Is there a way to avoid multiple instances of code when mutating itself?", "body": "<p>I think Roman Elizarov has a good approach. But if you want to link activated and visibility \nyou might want to consider overriding the <code>setActivated</code> like this:</p>\n\n<pre><code>class AvailableReportRecycler(context: Context) : View(context) {\n    override fun setActivated(value : Boolean) {\n        super.setActivated(value)\n        visibility = if(value) View.VISIBLE else View.GONE\n    }\n}\n</code></pre>\n\n<p>This way you link the visibility to the state of activated. and you can call it like this:</p>\n\n<pre><code>something.setOnClickListener {\n     availableReportRecycler.isActivated = !availableReportRecycler.isActivated\n}\n</code></pre>\n\n<p>Isn't object-orientation beautiful? :)</p>\n"}], "owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 2, "accepted_answer_id": 48720372, "answer_count": 2, "score": 0, "last_activity_date": 1518273902, "creation_date": 1518260582, "last_edit_date": 1518260678, "question_id": 48720019, "link": "https://stackoverflow.com/questions/48720019/is-there-a-way-to-avoid-multiple-instances-of-code-when-mutating-itself", "title": "Is there a way to avoid multiple instances of code when mutating itself?", "body": "<p>This is written in kotlin but I'm pretty sure it's almost the same in java.</p>\n\n<pre><code>something.setOnClickListener {\n            availableReportRecycler.isActivated = !availableReportRecycler.isActivated\n            if (availableReportRecycler.isActivated) availableReportRecycler.visibility = View.VISIBLE\n            else availableReportRecycler.visibility = View.GONE\n        }\n</code></pre>\n\n<p>Is there a way in kotlin/java to simplify this code?</p>\n\n<p>I feel like it should be able to reduce it to something like (pseudo code):</p>\n\n<pre><code>something.setOnClickListener {\n   availableReportRecycler.visibility = \n      {availableReportRecycler.isActivated = !self}  ? View.VISIBLE:View.GONE\n}\n</code></pre>\n\n<p>I've brute forced all kinds of combinations after not finding anything relevant online and still cant get it to work.</p>\n\n<p>How beautiful can you make it?\nBest answer gets a virtual beer and an \"I'm alright\" sticker!</p>\n"}, {"tags": ["constructor", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1518248682, "creation_date": 1518248682, "answer_id": 48718467, "question_id": 48717599, "link": "https://stackoverflow.com/questions/48717599/how-are-secondary-kotlin-constructor-variables-passed-in/48718467#48718467", "title": "How are secondary kotlin constructor variables passed in?", "body": "<p>The secondary constructor just forwards the call to primary constructor with the <code>: this()</code> syntax, while creating the required <code>LocalDateTime</code> object from the <code>LocalDate</code> that it received as its parameter.</p>\n\n<p>You could think of the secondary constructor as a function that does the following:</p>\n\n<pre><code>fun createGigaSecond(dateOfBirth: LocalDate): Gigasecond {\n    return Gigasecond(dateOfBirth.atStartOfDay())\n}\n</code></pre>\n\n<p>Except it gets to use the usual constructor syntax instead, and so it can be called as <code>Gigasecond(dataOfBirth)</code> instead of <code>createGigaSecond(dateOfBirth)</code>.</p>\n\n<hr>\n\n<p>From the official documentation about <a href=\"https://kotlinlang.org/docs/reference/classes.html#secondary-constructors\" rel=\"noreferrer\">secondary constructors</a>:</p>\n\n<blockquote>\n  <p>If the class has a primary constructor, each secondary constructor needs to delegate to the primary constructor, either directly or indirectly through another secondary constructor(s). Delegation to another constructor of the same class is done using the <code>this</code> keyword.</p>\n</blockquote>\n\n<p>This is what's happening here.</p>\n"}], "owner": {"reputation": 6831, "user_id": 501800, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5fc72638da7598b350733c5a51fce596?s=128&d=identicon&r=PG", "display_name": "Muhammad Lukman Low", "link": "https://stackoverflow.com/users/501800/muhammad-lukman-low"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518248682, "creation_date": 1518240744, "question_id": 48717599, "link": "https://stackoverflow.com/questions/48717599/how-are-secondary-kotlin-constructor-variables-passed-in", "title": "How are secondary kotlin constructor variables passed in?", "body": "<p>I am looking at the solution for the <code>gigasecond</code> exercism exercise for <code>Kotlin</code>: <a href=\"http://exercism.io/exercises/kotlin/gigasecond/readme\" rel=\"nofollow noreferrer\">http://exercism.io/exercises/kotlin/gigasecond/readme</a>. I can understand how it needs two two constructor because <code>LocalDate</code> and <code>LocalDateTime</code> arguments are passed in when creating the class. What I don't understand is how the below secondary class constructor variables are passed in and used in the class. It seems like the calculation only happens when <code>LocalDateTime</code> arguments are passed in, as calculation is only done with <code>dobWithTime</code>. What magic is happening here ?</p>\n\n<pre><code>data class Gigasecond(val dobWithTime: LocalDateTime) {\n    constructor(dateOfBirth: LocalDate) : this(dateOfBirth.atStartOfDay())\n\n    val date: LocalDateTime = dobWithTime.plusSeconds(1000000000)\n}\n</code></pre>\n"}]