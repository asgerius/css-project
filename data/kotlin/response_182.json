[{"tags": ["android", "kotlin", "android-instant-apps"], "comments": [{"owner": {"reputation": 7329, "user_id": 127826, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/550d8e560b41ac68e1ba3df892095600?s=128&d=identicon&r=PG", "display_name": "Cobus Kruger", "link": "https://stackoverflow.com/users/127826/cobus-kruger"}, "edited": false, "score": 0, "creation_date": 1530775592, "post_id": 51179769, "comment_id": 89352963, "body": "Can you show your <code>manifest.xml</code>?"}, {"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1530776242, "post_id": 51179769, "comment_id": 89353351, "body": "Can you add any details like: code used, error problem encountered? <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>, <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> Show the community what you have tried."}, {"owner": {"reputation": 23, "user_id": 8067022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f92691b7e40d576ed6d630503cbea2?s=128&d=identicon&r=PG&f=1", "display_name": "HanJo Jang", "link": "https://stackoverflow.com/users/8067022/hanjo-jang"}, "edited": false, "score": 0, "creation_date": 1530799565, "post_id": 51179769, "comment_id": 89368199, "body": "feature manifest file is added."}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1530837440, "post_id": 51179769, "comment_id": 89384551, "body": "How are you running the instant app version?"}, {"owner": {"reputation": 23, "user_id": 8067022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f92691b7e40d576ed6d630503cbea2?s=128&d=identicon&r=PG&f=1", "display_name": "HanJo Jang", "link": "https://stackoverflow.com/users/8067022/hanjo-jang"}, "edited": false, "score": 0, "creation_date": 1530838135, "post_id": 51179769, "comment_id": 89384686, "body": "Not sure what you mean by instant app version. Do you mean emulated device API version? it use API 27 or API 28"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1530838910, "post_id": 51179769, "comment_id": 89384853, "body": "How are you launching the app as an instant app?"}, {"owner": {"reputation": 23, "user_id": 8067022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f92691b7e40d576ed6d630503cbea2?s=128&d=identicon&r=PG&f=1", "display_name": "HanJo Jang", "link": "https://stackoverflow.com/users/8067022/hanjo-jang"}, "edited": false, "score": 0, "creation_date": 1530839034, "post_id": 51179769, "comment_id": 89384878, "body": "Beside run button in android studio, there is menu, you can select either app or instant. I pick instant one, and run it."}, {"owner": {"reputation": 4583, "user_id": 6668797, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FgETn.jpg?s=128&g=1", "display_name": "TWL", "link": "https://stackoverflow.com/users/6668797/twl"}, "edited": false, "score": 1, "creation_date": 1530912147, "post_id": 51179769, "comment_id": 89416689, "body": "Go to Edit Configuration / instantapp / General / Launch Options, then select the URL that matches your splash activity&#39;s."}], "owner": {"reputation": 23, "user_id": 8067022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f92691b7e40d576ed6d630503cbea2?s=128&d=identicon&r=PG&f=1", "display_name": "HanJo Jang", "link": "https://stackoverflow.com/users/8067022/hanjo-jang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530799520, "creation_date": 1530731894, "last_edit_date": 1530799520, "question_id": 51179769, "link": "https://stackoverflow.com/questions/51179769/google-instant-app-starts-wrong-activity", "title": "google instant app starts wrong activity", "body": "<p>I am developing google instant app with kotlin; I use android studio(latest version).\nIn my feature module, I have tree activities.\nThey are </p>\n\n<pre><code>mainActivity\nsplashActivity\naboutActivity\n</code></pre>\n\n<p>The flow would be splashActivity -> mainActivity -> aboutActivity</p>\n\n<p>When the app is open, splashActivity runs for 3sec and move to mainActivity. Once user click a button, aboutActivity is loaded (intent is used)</p>\n\n<p>If I run the app in installed version, the app behaves the way suppose to be.</p>\n\n<p>However, if I run it in instant version, it goes directly aboutActivity. \nI debug the app, the app does not go through splashActivity and mainActivity at all.</p>\n\n<p>The following is feature module's manifest file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"package=\"com.example.tomjangtestgg.testapp.feature\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n&lt;application&gt;\n    &lt;activity android:name=\".SplashActivity\"&gt;\n        &lt;intent-filter android:order=\"1\"&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n            &lt;data\n                android:host=\"tomjangtestgg.example.com\"\n                android:pathPattern=\"/splash\"\n                android:scheme=\"https\" /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter android:order=\"1\"&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n            &lt;data\n                android:host=\"tomjangtestgg.example.com\"\n                android:pathPattern=\"/main\"\n                android:scheme=\"https\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=\".AboutActivity\"&gt;\n        &lt;intent-filter android:order=\"1\"&gt;\n            &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n\n            &lt;data\n                android:host=\"tomjangtestgg.example.com\"\n                android:pathPattern=\"/about\"\n                android:scheme=\"https\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n\n<p>Has anybody have similar problem and solve it?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530742201, "post_id": 51178996, "comment_id": 89344935, "body": "&quot;in Kotlin&quot; did it work in Java?"}], "answers": [{"tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": false, "score": 0, "last_activity_date": 1530728014, "creation_date": 1530728014, "answer_id": 51179102, "question_id": 51178996, "link": "https://stackoverflow.com/questions/51178996/no-apps-can-perform-this-action-android-intent-using-kotlin/51179102#51179102", "title": "No apps can perform this action Android Intent using Kotlin", "body": "<p>The following code works instead of above posted in the question.</p>\n\n<pre><code>val i = Intent(Intent.ACTION_SEND)\ni.type = \"text/plain\"\ni.putExtra(Intent.EXTRA_TEXT, \"Content to share\")\nstartActivity(Intent.createChooser(i, \"Sharing\"))\n</code></pre>\n\n<p>I am not sure why the code in the question does not work but my guess is that <code>intent</code> is related to the activity's intent and it works when I instantiated another object from <code>Intent</code> class.</p>\n"}, {"comments": [{"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1530733089, "post_id": 51179113, "comment_id": 89342296, "body": "I tried this before but it didn\u2019t work. The reason could be setting content on the activity intent in apply block not the on newly created"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 2, "last_activity_date": 1530728050, "creation_date": 1530728050, "answer_id": 51179113, "question_id": 51178996, "link": "https://stackoverflow.com/questions/51178996/no-apps-can-perform-this-action-android-intent-using-kotlin/51179113#51179113", "title": "No apps can perform this action Android Intent using Kotlin", "body": "<p>I think you should change your intent initialization with apply to this:</p>\n\n<pre><code>val intent = Intent().apply {\n    action = Intent.ACTION_SEND\n    type = \"text/plain\"\n    putExtra(Intent.EXTRA_TEXT, \"Text to share\")\n}\n</code></pre>\n\n<p>When you modify the intent variable inside the apply you are modifying the activity intent not the brand new intent.</p>\n\n<p>copy this code and you will see what i'm talking about:</p>\n\n<pre><code>val intent_1 = Intent().apply {\n    intent.action = Intent.ACTION_SEND\n    intent.type = \"text/plain\"\n    intent.putExtra(Intent.EXTRA_TEXT, \"Text to share\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "edited": false, "score": 0, "creation_date": 1530809317, "post_id": 51196094, "comment_id": 89374456, "body": "Accepted this answer for pointing out the <code>this</code> keyword which refers to initialized intent."}], "tags": [], "owner": {"reputation": 363, "user_id": 5643911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f090580bce282cd54ad6f29f0943c?s=128&d=identicon&r=PG&f=1", "display_name": "ininmm", "link": "https://stackoverflow.com/users/5643911/ininmm"}, "is_accepted": true, "score": 1, "last_activity_date": 1530807932, "creation_date": 1530807932, "answer_id": 51196094, "question_id": 51178996, "link": "https://stackoverflow.com/questions/51178996/no-apps-can-perform-this-action-android-intent-using-kotlin/51196094#51196094", "title": "No apps can perform this action Android Intent using Kotlin", "body": "<p>This is what I know:</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/6386664/fredy-mederos\">Fredy Mederos</a> said, the value that you are modified is the <code>Activity.getIntent</code>, not the <code>new Intent</code>.</p>\n\n<p>You should write like this: </p>\n\n<pre><code>val intent = Intent().apply {\n        action = Intent.ACTION_SEND\n        type = \"text/plain\"\n        putExtra(Intent.EXTRA_TEXT, \"Text to share\")\n    }\n</code></pre>\n\n<p>or more precise:</p>\n\n<pre><code>val intent = Intent().apply {\n        this.action = Intent.ACTION_SEND\n        this.type = \"text/plain\"\n        this.putExtra(Intent.EXTRA_TEXT, \"Text to share\")\n    }\n</code></pre>\n\n<p>the <code>this</code> is pointed to your initialized <code>new Intent()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 6486, "user_id": 1116230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a894894150db28d6641f0c57e48bac?s=128&d=identicon&r=PG", "display_name": "Nico Haase", "link": "https://stackoverflow.com/users/1116230/nico-haase"}, "edited": false, "score": 3, "creation_date": 1550143895, "post_id": 54689028, "comment_id": 96166462, "body": "Can you explain why that should be neccessary?"}, {"owner": {"reputation": 535, "user_id": 3729805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5475b39d5a83a665169c59cd774a9b03?s=128&d=identicon&r=PG", "display_name": "Ben.Slama.Jihed", "link": "https://stackoverflow.com/users/3729805/ben-slama-jihed"}, "edited": false, "score": 0, "creation_date": 1550154278, "post_id": 54689028, "comment_id": 96172595, "body": "<a href=\"https://developer.android.com/training/basics/intents/sending\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/intents/sending</a> before use createChooser  please Verify the intent will resolve to at least one activity    if (intent.resolveActivity(packageManager) != null) {     startActivity(chooser) }"}], "tags": [], "owner": {"reputation": 535, "user_id": 3729805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5475b39d5a83a665169c59cd774a9b03?s=128&d=identicon&r=PG", "display_name": "Ben.Slama.Jihed", "link": "https://stackoverflow.com/users/3729805/ben-slama-jihed"}, "is_accepted": false, "score": 0, "last_activity_date": 1550142501, "creation_date": 1550142501, "answer_id": 54689028, "question_id": 51178996, "link": "https://stackoverflow.com/questions/51178996/no-apps-can-perform-this-action-android-intent-using-kotlin/54689028#54689028", "title": "No apps can perform this action Android Intent using Kotlin", "body": "<p>you can replace <code>startActivity(Intent.createChooser(i, \"Sharing\"))</code>\nby  <code>startActivity(i)</code></p>\n"}], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1200, "favorite_count": 0, "accepted_answer_id": 51196094, "answer_count": 4, "score": 0, "last_activity_date": 1550142501, "creation_date": 1530727481, "question_id": 51178996, "link": "https://stackoverflow.com/questions/51178996/no-apps-can-perform-this-action-android-intent-using-kotlin", "title": "No apps can perform this action Android Intent using Kotlin", "body": "<p>I am using the following code snippets from Android official documentation to share content through applications using <code>Intent</code> but it says \"No apps can perform this action.\" on a physical device. I have messengers, email client and text message clients installed.</p>\n\n<pre><code>val intent = Intent().apply {\n    intent.action = Intent.ACTION_SEND\n    intent.type = \"text/plain\"\n    intent.putExtra(Intent.EXTRA_TEXT, \"Text to share\")\n}\n\nstartActivity(Intent.createChooser(intent, \"Sharing\"))\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1530725006, "post_id": 51178498, "comment_id": 89339621, "body": "<code>java.util.Date</code> and <code>java.util.Calendar</code> have been around since API Level 1. Create two <code>Calendar</code> objects representing your two dates, call <code>getTimeInMillis()</code> on each, and subtract them to find the difference in milliseconds."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1530725048, "creation_date": 1530725048, "answer_id": 51178537, "question_id": 51178498, "link": "https://stackoverflow.com/questions/51178498/how-can-you-work-with-dates-on-android-kotlin-with-minsdk-21/51178537#51178537", "title": "How can you work with dates on Android/Kotlin with minSDK = 21?", "body": "<p>You can't - those Java 8 APIs aren't available on those lower API levels. There are a couple of backports available, however, for example <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>.</p>\n"}], "owner": {"reputation": 197, "user_id": 1088288, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3B6tx.jpg?s=128&g=1", "display_name": "Ghislain Leblanc", "link": "https://stackoverflow.com/users/1088288/ghislain-leblanc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530725048, "creation_date": 1530724875, "question_id": 51178498, "link": "https://stackoverflow.com/questions/51178498/how-can-you-work-with-dates-on-android-kotlin-with-minsdk-21", "title": "How can you work with dates on Android/Kotlin with minSDK = 21?", "body": "<p>I'm trying to find the difference between two dates (in milliseconds) and all the date/time related functions require API 26.</p>\n\n<pre><code>private var timerStartTime: LocalDateTime? = null\nval now = now()\n\n[...]\n\nif () {\n} else if (now.nano - timerStartTime!!.nano &lt;= 800000000) {\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 686, "user_id": 2933028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9b7e442f436f6bff504442b211470f?s=128&d=identicon&r=PG&f=1", "display_name": "Wess", "link": "https://stackoverflow.com/users/2933028/wess"}, "edited": false, "score": 0, "creation_date": 1531376171, "post_id": 51177913, "comment_id": 89573956, "body": "For what it&#39;s worth, we also use a multi-module project except that we have one library module and multiple app modules. Although we don&#39;t usually override library layouts in the app module I&#39;ve tested it now and it&#39;s working perfectly. Only our unit tests are in Kotlin, the rest is Java. Android Studio 3.1.2."}, {"owner": {"reputation": 829, "user_id": 2396980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a097b9ee3ba24f36c90f59b1fef6f3f?s=128&d=identicon&r=PG", "display_name": "lookashc", "link": "https://stackoverflow.com/users/2396980/lookashc"}, "reply_to_user": {"reputation": 686, "user_id": 2933028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9b7e442f436f6bff504442b211470f?s=128&d=identicon&r=PG&f=1", "display_name": "Wess", "link": "https://stackoverflow.com/users/2933028/wess"}, "edited": false, "score": 1, "creation_date": 1538765049, "post_id": 51177913, "comment_id": 92272970, "body": "The root cause of the issue was <a href=\"https://github.com/woxblom/DragListView\" rel=\"nofollow noreferrer\">github.com/woxblom/DragListView</a> added as <code>implementation</code> dependency to one of the library projects. Changing it to <code>api</code> dependency fixed the problem. Strange thing though, as the lib itself doesn&#39;t contain any databingings."}], "answers": [{"tags": [], "owner": {"reputation": 404, "user_id": 2948835, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6f77649a2880418b112fdd5733702b93?s=128&d=identicon&r=PG&f=1", "display_name": "wzieba", "link": "https://stackoverflow.com/users/2948835/wzieba"}, "is_accepted": true, "score": 3, "last_activity_date": 1540915282, "creation_date": 1540915282, "answer_id": 53068360, "question_id": 51177913, "link": "https://stackoverflow.com/questions/51177913/android-databinding-v2-fails-for-multi-module-project/53068360#53068360", "title": "Android Databinding V2 fails for multi-module project", "body": "<p>I've had similar issue after migrating to <code>androidx</code> namespace. Make sure you've updated:</p>\n\n<p>1.your gradle wrapper to <code>4.10.1</code> in <code>gradle-wrapper-properties</code></p>\n\n<p>2.you use gradle build plugin <code>3.3.0-beta-1</code></p>\n\n<p>With this configuration everything works fine. Make also sure you don't have any databinding <code>kapt</code> or <code>apt</code> annotated dependencies in <code>app.gradle</code> as since <code>3.2.0</code> it is already bundled to gradle</p>\n"}], "owner": {"reputation": 829, "user_id": 2396980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a097b9ee3ba24f36c90f59b1fef6f3f?s=128&d=identicon&r=PG", "display_name": "lookashc", "link": "https://stackoverflow.com/users/2396980/lookashc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 3, "accepted_answer_id": 53068360, "answer_count": 1, "score": 8, "last_activity_date": 1540915282, "creation_date": 1530721904, "question_id": 51177913, "link": "https://stackoverflow.com/questions/51177913/android-databinding-v2-fails-for-multi-module-project", "title": "Android Databinding V2 fails for multi-module project", "body": "<p>I have a multi-module Android project, with Kotlin, databinding v2, under Android Studio 3.1.3. Most of my databinding-enabled layouts are enclosed in library modules, which the final application module aggregates.</p>\n\n<p>Problem starts when I want to add new layout in my application module, or override layout from one of library modules. After adding a test layout with <code>&lt;layout&gt;</code> tag to the application module, databinding stops generating, with the following error:</p>\n\n<pre><code>error: cannot find symbol\n  public static TestBinding bind(@NonNull View view, @Nullable DataBindingComponent component) {\n                                                               ^\n  symbol:   class DataBindingComponent\n  location: class TestBinding\ne: error: cannot generate view binders java.lang.NullPointerException\n        at android.databinding.tool.store.SetterStore.getMatchingMultiAttributeSetters(SetterStore.java:633)\n        at android.databinding.tool.store.SetterStore.getMultiAttributeSetterCalls(SetterStore.java:520)\n        at android.databinding.tool.BindingTarget.resolveMultiSetters(BindingTarget.java:220)\n        at android.databinding.tool.LayoutBinder.&lt;init&gt;(LayoutBinder.java:256)\n        at android.databinding.tool.DataBinder.&lt;init&gt;(DataBinder.java:55)\n        at android.databinding.tool.CompilerChef.ensureDataBinder(CompilerChef.java:95)\n        at android.databinding.tool.CompilerChef.sealModels(CompilerChef.java:259)\n        at android.databinding.annotationprocessor.ProcessExpressions.writeResourceBundle(ProcessExpressions.java:213)\n        at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:111)\n        at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:203)\n        at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:188)\n        at android.databinding.annotationprocessor.ProcessDataBinding.doProcess(ProcessDataBinding.java:90)\n        at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:65)\n        at org.jetbrains.kotlin.kapt3.ProcessorWrapper.process(annotationProcessing.kt:131)\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n        at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n        at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n        at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:87)\n        at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:45)\n        at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:257)\n        at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:212)\n        at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:95)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:97)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:107)\n        at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:84)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:374)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:64)\n        at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:365)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:130)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:405)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:98)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:404)\n        at sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>All <code>DataBindingComponent</code> interfaces from library modules are being generated, only the one from the application module is not generated.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1530778499, "post_id": 51177681, "comment_id": 89354677, "body": "Side note: you should replace <code>var someDataFromServer = listOf&lt;Bar&gt;(); async(CommonPool) { someDataFromServer = someSuspendMethod() }.await()</code> with just <code>var someDataFromServer = withContext(CommonPool) { someSuspendMethod() }</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1530778594, "post_id": 51177681, "comment_id": 89354739, "body": "Also, you should have <code>requestInFlight = launch(UI) ...</code>, not <code>async(UI)</code> because you don&#39;t expect a return value from it."}], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 1, "last_activity_date": 1530727416, "creation_date": 1530727416, "answer_id": 51178981, "question_id": 51177681, "link": "https://stackoverflow.com/questions/51177681/how-to-save-some-data-in-a-recycler-adapter-item-to-cancel-requests-in-flight-wh/51178981#51178981", "title": "How to save some data in a recycler adapter item to cancel requests in flight when a view is recyclerd?", "body": "<p>Make <code>requestInFlight</code> and <code>requestInFlight2</code> into <code>ViewHolder</code> fields since each one has it's own loading, as it is now you're incorrectly overwriting the Jobs during scroll.</p>\n\n<p>Then move your cancellation logic into <code>onViewRecycled</code>:</p>\n\n<pre><code>override fun onViewRecycled(holder: ViewHolder){\n    holder.requestInFlight?.cancel()\n    holder.requestInFlight2?.cancel()\n}\n</code></pre>\n\n<p>Note that coroutines hold strong references to whatever object they reference inside async block, so You might leak context on screen rotation.</p>\n"}], "owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 51178981, "answer_count": 1, "score": 0, "last_activity_date": 1530727416, "creation_date": 1530720880, "question_id": 51177681, "link": "https://stackoverflow.com/questions/51177681/how-to-save-some-data-in-a-recycler-adapter-item-to-cancel-requests-in-flight-wh", "title": "How to save some data in a recycler adapter item to cancel requests in flight when a view is recyclerd?", "body": "<p>I have a recycler adapter that loads content from the network as it is scrolled (including thumbnails and some other data).</p>\n\n<p>However, when I scroll a really long distance, the adapter tries to queue up requests such that all of the items in between the start point and and point are loaded and then displayed before the new position's items are.  I don't want to continue loading these intermediate items when they are scrolled past quickly like this.</p>\n\n<p>I tried writing the below code to do this:</p>\n\n<pre><code>class SomeRecyclerAdapter(private val dataset: MutableList&lt;SomeData&gt;)\n    : RecyclerView.Adapter&lt;SongsRecylerAdapter.ViewHolder&gt;() {\n\n    // ... irrelevant fields here\n\n    var requestInFlight: Job? = null\n    var requestInFlight2: Job? = null\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val someListItem = LayoutInflater.from(parent.context)\n                .inflate(R.layout.list_item_foo, parent, false)\n\n        return ViewHolder(someListItem)\n    }\n\n    override fun getItemCount() = dataset.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        val someData = dataset[position]\n        holder.someView.text = someData.toString()\n        holder.thumbnailView.imageResource = R.drawable.default_thumbnail\n\n        // Cancel any requests currently in flight, to prevent janky stuff on long scrolls\n        // Otherwise, if scrolling far, it will load all of the data in sequence\n        // We don't want to load the stuff in between before loading the stuff where we are at\n        requestInFlight?.cancel()\n        requestInFlight2?.cancel()\n\n        requestInFlight = async(UI) {\n            var someDataFromServer = listOf&lt;Bar&gt;()\n\n            async(CommonPool) {\n                someDataFromServer = someSuspendMethod()\n            }.await()\n\n            someData.thumbnailUri = someDataFromServer.thumbnailUri\n\n            GlideApp.with(holder.thumbnailView.context)\n                    .load(dataset[position].thumbnailUri)\n                    .placeholder(R.drawable.default_thumbnail)\n                    .into(holder.thumbnailView)\n        }\n    }\n\n    // Viewholder here...\n\n}\n</code></pre>\n\n<p>So, I think I know why it's not working. The when I cancel the job in flight, I'm really cancelling the previous call that was launched, not the one for the recycler view element that is being reloaded. However, I'm not sure how to associate the job with this element, such that when this view gets recycled, it cancels it's own in-flight request.</p>\n\n<p>Any help?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6009, "user_id": 132127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TnwQX.jpg?s=128&g=1", "display_name": "anta40", "link": "https://stackoverflow.com/users/132127/anta40"}, "edited": false, "score": 1, "creation_date": 1530838073, "post_id": 51177636, "comment_id": 89384674, "body": "I noticed in my build.gradle <code>apply plugin: &#39;kotlin-android-extensions&#39;</code>. I used the wrong import, though. Thanks :)"}], "tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": true, "score": 4, "last_activity_date": 1530850369, "last_edit_date": 1530850369, "creation_date": 1530720638, "answer_id": 51177636, "question_id": 51177591, "link": "https://stackoverflow.com/questions/51177591/kotlin-required-xxx-found-int/51177636#51177636", "title": "Kotlin: required &#39;XXX&#39;, found: Int", "body": "<blockquote>\n  <p>Required: ViewPager, found: Int, Required: LinearLayout, found: Int,\n  Required: Button, found: Int</p>\n</blockquote>\n\n<p>If you have (if you don't please add it) in your grade,</p>\n\n<p><code>apply plugin: 'kotlin-android-extensions'</code></p>\n\n<p>Then  you probably have the wrong import. It should be something like</p>\n\n<pre><code>import kotlinx.android.synthetic.main.bottom_sheet.*\n</code></pre>\n\n<p>and no something like</p>\n\n<pre><code>import you.package.name.R.id.bottom_sheet\n</code></pre>\n"}], "owner": {"reputation": 6009, "user_id": 132127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TnwQX.jpg?s=128&g=1", "display_name": "anta40", "link": "https://stackoverflow.com/users/132127/anta40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 51177636, "answer_count": 1, "score": 1, "last_activity_date": 1530850369, "creation_date": 1530720443, "question_id": 51177591, "link": "https://stackoverflow.com/questions/51177591/kotlin-required-xxx-found-int", "title": "Kotlin: required &#39;XXX&#39;, found: Int", "body": "<p>I'm translating a WelcomeActivity class (original source: <a href=\"https://www.androidhive.info/2016/05/android-build-intro-slider-app/\" rel=\"nofollow noreferrer\">here</a>). Here's the result:</p>\n\n<pre><code>class WelcomeActivity: AppCompatActivity()\n{\n    private lateinit var viewPager: ViewPager\n    private lateinit var myViewPagerAdapter: MyViewPagerAdapter\n    private lateinit var dotsLayout: LinearLayout\n    private lateinit var dots: Array&lt;TextView&gt;\n    private lateinit var layouts: IntArray\n    private lateinit var btnSkip: Button\n    private lateinit var btnNext: Button\n\n    val viewPagerPageChangeListener = object : ViewPager.OnPageChangeListener{\n\n        override fun onPageSelected(position: Int) {\n            addBottomDots(position)\n\n            // changing the next button text 'NEXT' / 'GOT IT'\n            if (position == layouts.size - 1) {\n                // last page. make button text to GOT IT\n                btnNext.text = \"GOT IT\"\n                btnSkip.visibility = View.GONE\n            } else {\n                // still pages are left\n                btnNext.text = \"NEXT\"\n                btnSkip.visibility = View.VISIBLE\n            }\n        }\n\n        override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n            TODO(\"not implemented\")\n        }\n\n        override fun onPageScrollStateChanged(state: Int) {\n            TODO(\"not implemented\")\n        }\n    }\n    private lateinit var prefManager: PrefManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        // Checking for first time launch - before calling setContentView()\n        prefManager = PrefManager(this)\n        if(!prefManager.isFirstTimeLaunch()){\n            launchHomeScreen()\n            finish()\n        }\n\n        if(Build.VERSION.SDK_INT &gt;= 21){\n            window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_LAYOUT_STABLE or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n        }\n\n        setContentView(R.layout.activity_intro)\n\n        viewPager = view_pager\n        dotsLayout = layoutDots\n        btnSkip = btn_skip\n        btnNext = btn_next\n\n        // layouts of all welcome sliders\n        // add few more layouts if you want\n        layouts = intArrayOf(\n                R.layout.introslide1,\n                R.layout.introslide2,\n                R.layout.introslide3\n        )\n\n        // adding bottom dots\n        addBottomDots(0)\n\n        // making notification bar transparent\n        changeStatusBarColor()\n\n        myViewPagerAdapter = MyViewPagerAdapter()\n        viewPager.adapter = myViewPagerAdapter\n        viewPager.addOnPageChangeListener(viewPagerPageChangeListener)\n\n        btnSkip.setOnClickListener {launchHomeScreen()}\n\n        btnNext.setOnClickListener {\n            // checking for last page\n            // if last page home screen will be launched\n            val current: Int = getItem(+1)\n            if (current &lt; layouts.size) {\n                // move to next screen\n                viewPager.currentItem = current\n            } else {\n                launchHomeScreen()\n            }\n        }\n    }\n\n    private fun addBottomDots(currentPage: Int){\n\n        dots = Array(layouts.size, {TextView(this)})\n\n        val colorsActive = resources.getIntArray(R.array.array_dot_active)\n        val colorsInactive = resources.getIntArray(R.array.array_dot_inactive)\n\n        dotsLayout.removeAllViews()\n        for(i in 0 until dots.size)\n        {\n            dots[i] = TextView(this)\n            dots[i].setText(Html.fromHtml(\"&amp;#8226;\")) // this function (Html.fromHtml) are deprecated\n            dots[i].textSize = 35.toFloat()\n            dots[i].setTextColor(colorsInactive[currentPage])\n            dotsLayout.addView(dots[i])\n        }\n\n        if(dots.size &gt; 0)\n            dots[currentPage].setTextColor(colorsActive[currentPage])\n\n    }\n\n    private fun getItem(i: Int): Int{\n        return viewPager.currentItem + i\n    }\n\n    private fun launchHomeScreen(){\n        prefManager.setFirstTimeLaunch(false)\n        startActivity(Intent(this, MainActivity::class.java))\n        finish()\n    }\n\n    /**\n     * Making notification bar transparent\n     */\n    private fun changeStatusBarColor(){\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            this.window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)\n            this.window.statusBarColor = Color.TRANSPARENT\n        }\n    }\n\n    /**\n     * View pager adapter\n     */\n    inner class MyViewPagerAdapter: PagerAdapter() {\n\n        private lateinit var layoutInflater: LayoutInflater\n\n        override fun instantiateItem(container: ViewGroup, position: Int): Any {\n            layoutInflater = LayoutInflater.from(container.context)\n\n            val view: View = layoutInflater.inflate(layouts[position], container, false)\n            container.addView(view)\n\n            return view\n        }\n\n        override fun getCount(): Int{\n            return layouts.size\n        }\n\n        override fun isViewFromObject(view: View, obj: Any): Boolean {\n            return view == obj\n        }\n\n        override fun destroyItem(container: ViewGroup, position: Int, `object`: Any) {\n            val view: View = `object` as View\n            container.removeView(view)\n        }\n    }\n}\n</code></pre>\n\n<p>At this part:</p>\n\n<pre><code>viewPager = view_pager\ndotsLayout = layoutDots\nbtnSkip = btn_skip\nbtnNext = btn_next\n</code></pre>\n\n<p>Android Studio (I'm using 3.1.3 and Kotlin plugin 1.2.21) pointed some errors, like</p>\n\n<blockquote>\n  <p>Required: ViewPager, found: Int, Required: LinearLayout, found: Int,\n  Required: Button, found: Int</p>\n</blockquote>\n\n<p>How to solve this</p>\n"}, {"tags": ["java", "android", "kotlin", "google-play", "install-referrer"], "comments": [{"owner": {"reputation": 3208, "user_id": 449007, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54a73ed602ae807913554ea6816d01c5?s=128&d=identicon&r=PG", "display_name": "yozhik", "link": "https://stackoverflow.com/users/449007/yozhik"}, "edited": false, "score": 0, "creation_date": 1533888420, "post_id": 51177024, "comment_id": 90521241, "body": "Have you resolved your issue? do you have some working code for this? from what place have you start tracking your first installation? Have you added a broadcast receiver for listening to Intent.ACTION_PACKAGE_FIRST_LAUNCH or just wrote code in mainActivity?"}], "answers": [{"comments": [{"owner": {"reputation": 2004, "user_id": 2529315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/xraFC.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2529315/johnny"}, "edited": false, "score": 0, "creation_date": 1530870657, "post_id": 51186636, "comment_id": 89396052, "body": "Thank you very much, it work with a service (AIDL) \ud83d\udc4c\ud83c\udffe"}], "tags": [], "owner": {"reputation": 12131, "user_id": 7635471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IMcCwmKtWO8/AAAAAAAAAAI/AAAAAAAAAtA/d_2wzRcXeEQ/photo.jpg?sz=128", "display_name": "Nick Fortescue", "link": "https://stackoverflow.com/users/7635471/nick-fortescue"}, "is_accepted": true, "score": 2, "last_activity_date": 1530779366, "creation_date": 1530779366, "answer_id": 51186636, "question_id": 51177024, "link": "https://stackoverflow.com/questions/51177024/user-migration-to-a-new-app-using-old-auth-token-installreferrer-custom-parame/51186636#51186636", "title": "User migration to a new app using old auth token - InstallReferrer custom parameter", "body": "<p>This sounds like a nice thing to do for users, but seems very dangerous. You are sending an Auth token - something which if someone has it could allow them to login as that user anywhere off through untrusted systems like world readable files or referral parameters in URLs.</p>\n\n<p>If you really need to do this, I'd suggest using some form of inter-app RPC (IPC) to communicate the token after the app is installed. One option would be <a href=\"https://developer.android.com/guide/components/bound-services\" rel=\"nofollow noreferrer\">a binder</a> to a service that supplies the auth.</p>\n"}], "owner": {"reputation": 2004, "user_id": 2529315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/xraFC.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2529315/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "accepted_answer_id": 51186636, "answer_count": 1, "score": 2, "last_activity_date": 1530779366, "creation_date": 1530718213, "last_edit_date": 1530718976, "question_id": 51177024, "link": "https://stackoverflow.com/questions/51177024/user-migration-to-a-new-app-using-old-auth-token-installreferrer-custom-parame", "title": "User migration to a new app using old auth token - InstallReferrer custom parameter", "body": "<p>I have two app on Google Play. The old and new one. And I would like to use old auth token to the new app to be easier for users.</p>\n\n<ol>\n<li>On the old app, the user has a popup to install the new app on Google Play.</li>\n<li>I would like to pass the auth token in parameter to Google Play.</li>\n<li>After new app has been installed, I would like to save the token in the new one app.</li>\n</ol>\n\n<p>I tried to use <a href=\"https://developer.android.com/google/play/installreferrer/library\" rel=\"nofollow noreferrer\">Play Install Referrer Library</a> but it didn't work.</p>\n\n<p>The other way was to use <code>SharedPreferences</code> but <code>MODE_WORLD_READABLE</code> has been deprecated.</p>\n\n<p><strong>Old APP :</strong></p>\n\n<pre><code>try {\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"market://details?id=com.&lt;PACKAGENAME&gt;&amp;token=pokpok&amp;refresh_token=lolol\"));\n    startActivity(intent);\n} catch (Exception e) {\n    e.printStackTrace();\n    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(\"https://play.google.com/store/apps/details?id=com.&lt;PACKAGENAME&gt;?token=pokpok&amp;refresh_token=lolol\")));\n}\n</code></pre>\n\n<p><strong>New APP code :</strong></p>\n\n<pre><code>    private fun shouldGetTokenFromOldApp() {\n        mReferrerClient = InstallReferrerClient.newBuilder(this).build()\n        mReferrerClient.startConnection(object : InstallReferrerStateListener {\n\n            override fun onInstallReferrerSetupFinished(responseCode: Int) {\n                when (responseCode) {\n                    InstallReferrerClient.InstallReferrerResponse.OK -&gt; {\n                        // Connection established\n                        val response: ReferrerDetails = mReferrerClient.installReferrer\n                        val url = \"https://play.google.com/store?${response.installReferrer}\"\n                        Log.d(\"APP\", \"Token old app 1 : $url\")\n                        val uri: Uri = Uri.parse(url)\n                        val token = uri.getQueryParameter(\"token\")\n                        val refreshToken = uri.getQueryParameter(\"refresh_token\")\n\n                        Log.d(\"APP\", \"Token old app 2 : $token - $refreshToken\")\n                        mReferrerClient.endConnection()\n                    }\n                    InstallReferrerClient.InstallReferrerResponse.FEATURE_NOT_SUPPORTED -&gt; {\n                        // API not available on the current Play Store app\n                    }\n                    InstallReferrerClient.InstallReferrerResponse.SERVICE_UNAVAILABLE -&gt; {\n                        // Connection could not be established\n                    }\n                }\n            }\n\n            override fun onInstallReferrerServiceDisconnected() {\n                // Try to restart the connection on the next request to\n                // Google Play by calling the startConnection() method.\n            }\n        })\n    }\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 241, "user_id": 1892364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/509a9b5c52bf83f7696322af0be2f7e9?s=128&d=identicon&r=PG", "display_name": "user1892364", "link": "https://stackoverflow.com/users/1892364/user1892364"}, "edited": false, "score": 6, "creation_date": 1530716292, "post_id": 51176353, "comment_id": 89335651, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin-android\">Setting text in EditText Kotlin,Android</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9683603, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adham Ahmad", "link": "https://stackoverflow.com/users/9683603/adham-ahmad"}, "edited": false, "score": 0, "creation_date": 1530716749, "post_id": 51176495, "comment_id": 89335902, "body": "It worked thanks, but can you explain why it was giving me an error when using text="}, {"owner": {"reputation": 473, "user_id": 5945316, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9dadd5efaad635890746ae31f1efc85?s=128&d=identicon&r=PG", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/5945316/alvaro"}, "reply_to_user": {"reputation": 11, "user_id": 9683603, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adham Ahmad", "link": "https://stackoverflow.com/users/9683603/adham-ahmad"}, "edited": false, "score": 0, "creation_date": 1530716827, "post_id": 51176495, "comment_id": 89335931, "body": "There is a duplicate where you can find the complete explanation posted before  <a href=\"https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin-android\" title=\"setting text in edittext kotlin android\">stackoverflow.com/questions/44493908/&hellip;</a>"}], "tags": [], "owner": {"reputation": 473, "user_id": 5945316, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a9dadd5efaad635890746ae31f1efc85?s=128&d=identicon&r=PG", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/5945316/alvaro"}, "is_accepted": true, "score": 0, "last_activity_date": 1530716301, "creation_date": 1530716301, "answer_id": 51176495, "question_id": 51176353, "link": "https://stackoverflow.com/questions/51176353/type-mismatch-requirededitabel-foundstring/51176495#51176495", "title": "type mismatch required:Editabel Found:String", "body": "<p>Use <code>.setText()</code> instead of <code>text=</code></p>\n"}], "owner": {"reputation": 11, "user_id": 9683603, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adham Ahmad", "link": "https://stackoverflow.com/users/9683603/adham-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 51176495, "answer_count": 1, "score": 0, "last_activity_date": 1530716301, "creation_date": 1530715799, "question_id": 51176353, "link": "https://stackoverflow.com/questions/51176353/type-mismatch-requirededitabel-foundstring", "title": "type mismatch required:Editabel Found:String", "body": "<h2>I am new to programming so any help would be appreciated</h2>\n\n<pre><code>buFindAge.setOnClickListener {\nval YearOfBirth:Int=txtYearOfBirth.toString().toInt()\nval myAge:Int=2018-YearOfBirth\n tvShowAge.text=myAge.toString()\n tvShowAge.text=\"$myAge\"  // Same error\n    }\n</code></pre>\n"}, {"tags": ["android", "android-activity", "kotlin", "android-launcher", "main-activity"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1530714030, "post_id": 51175812, "comment_id": 89334381, "body": "you can only have 1 launcher. Make a splash activity or something that you use as entry point and determine in that whether to show screen A or B"}, {"owner": {"reputation": 49, "user_id": 9731299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d157a741aa800076e36e423f0d92d329?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/9731299/alice"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1530715911, "post_id": 51175812, "comment_id": 89335473, "body": "I&#39;m not familar with the splash activity, can you explain it to me?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9731299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d157a741aa800076e36e423f0d92d329?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/9731299/alice"}, "edited": false, "score": 0, "creation_date": 1530716078, "post_id": 51175877, "comment_id": 89335557, "body": "And I put this code on the activity that I want to launche the first time our in the activity I want to launche in the second time?"}, {"owner": {"reputation": 2823, "user_id": 284308, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2c8a794aa76ea553382198aa9d4f9b36?s=128&d=identicon&r=PG", "display_name": "Prexx", "link": "https://stackoverflow.com/users/284308/prexx"}, "reply_to_user": {"reputation": 49, "user_id": 9731299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d157a741aa800076e36e423f0d92d329?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/9731299/alice"}, "edited": false, "score": 0, "creation_date": 1530716195, "post_id": 51175877, "comment_id": 89335614, "body": "In your main activity that should always launch after configuration. Do you need the Java code or is Kotlin ok?"}, {"owner": {"reputation": 49, "user_id": 9731299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d157a741aa800076e36e423f0d92d329?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/9731299/alice"}, "edited": false, "score": 0, "creation_date": 1530716578, "post_id": 51175877, "comment_id": 89335799, "body": "Ah, then I put it in the right place. Kotlin is ok."}], "tags": [], "owner": {"reputation": 2823, "user_id": 284308, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2c8a794aa76ea553382198aa9d4f9b36?s=128&d=identicon&r=PG", "display_name": "Prexx", "link": "https://stackoverflow.com/users/284308/prexx"}, "is_accepted": true, "score": 3, "last_activity_date": 1530716444, "last_edit_date": 1530716444, "creation_date": 1530714073, "answer_id": 51175877, "question_id": 51175812, "link": "https://stackoverflow.com/questions/51175812/main-launcher-on-android/51175877#51175877", "title": "Main Launcher on Android", "body": "<p>You could check if the app was started the first time using <code>SharedPreferences</code> in your <code>onCreate</code> and if so, start your configuration activity:</p>\n\n<pre><code>val prefs = getSharedPreferences(\"com.example\", Context.MODE_PRIVATE)\nval startedFirstTime = prefs.getBoolean(\"firstTime\", true) // Returns true, if nothing was saved before\nif(startedFirstTime) {\n    prefs.edit().putBoolean(\"firstTime\", false).apply()\n    // TODO Start your configuration activity\n}\n</code></pre>\n\n<p>SharedPreferences are used to store simple data.</p>\n"}], "owner": {"reputation": 49, "user_id": 9731299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d157a741aa800076e36e423f0d92d329?s=128&d=identicon&r=PG&f=1", "display_name": "Alice", "link": "https://stackoverflow.com/users/9731299/alice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 51175877, "answer_count": 1, "score": 0, "last_activity_date": 1530716444, "creation_date": 1530713840, "question_id": 51175812, "link": "https://stackoverflow.com/questions/51175812/main-launcher-on-android", "title": "Main Launcher on Android", "body": "<p>I'm developing an android aplication that in the first time its used asks to configure the data and a keyword, after completing this form is directed to a homepage. In the second use, and in the following the main launcher happens to be a login, where you have to put the keyword that you configured previously and only after that you have access to the application's menu. My difficulty is in the first use, I use a main launcher and in the following I need to use a different main launcher. </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 1, "creation_date": 1530710549, "post_id": 51174434, "comment_id": 89332222, "body": "<b>FYI</b> layout don&#39;t have to do anything with <b><i>java</i></b> and <b><i>kotlin</i></b>. Still can you provide the link to the <b>java solution</b>."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10032242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OLnNn.jpg?s=128&g=1", "display_name": "E. Thomas", "link": "https://stackoverflow.com/users/10032242/e-thomas"}, "edited": false, "score": 0, "creation_date": 1530748158, "post_id": 51175098, "comment_id": 89345988, "body": "Thanks for helping out. I tried this and it had an effect on only the first icon. bottomNavigationView.childCount returns 1 instead of 3. Please do you know why this is the case?"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 3, "user_id": 10032242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OLnNn.jpg?s=128&g=1", "display_name": "E. Thomas", "link": "https://stackoverflow.com/users/10032242/e-thomas"}, "edited": false, "score": 0, "creation_date": 1530765071, "post_id": 51175098, "comment_id": 89348700, "body": "@E.Thomas Ya i see that. Please check my updated answer."}], "tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1530765047, "last_edit_date": 1530765047, "creation_date": 1530711587, "answer_id": 51175098, "question_id": 51174434, "link": "https://stackoverflow.com/questions/51174434/increase-the-size-of-the-bottom-navigation-bar-icons-delete-the-white-space-be/51175098#51175098", "title": "Increase the size of the bottom navigation bar icons &amp; delete the white space below when there is no text", "body": "<p>Try this in your activity</p>\n\n<pre><code>    var i = 0\n    val navigationMenuViews = bottomNavigationView.getChildAt(0) as BottomNavigationMenuView\n    while (i &lt; navigationMenuViews.childCount) {\n        val iconView = navigationMenuViews.getChildAt(i).findViewById(android.support.design.R.id.icon) as ImageView\n        val layoutParams = iconView.layoutParams\n        layoutParams.height = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 48F, resources.displayMetrics).toInt()\n        layoutParams.width = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 48F, resources.displayMetrics).toInt()\n        iconView.layoutParams = layoutParams\n        i++\n    }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10032242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OLnNn.jpg?s=128&g=1", "display_name": "E. Thomas", "link": "https://stackoverflow.com/users/10032242/e-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 667, "favorite_count": 0, "accepted_answer_id": 51175098, "answer_count": 1, "score": 0, "last_activity_date": 1530765047, "creation_date": 1530709512, "question_id": 51174434, "link": "https://stackoverflow.com/questions/51174434/increase-the-size-of-the-bottom-navigation-bar-icons-delete-the-white-space-be", "title": "Increase the size of the bottom navigation bar icons &amp; delete the white space below when there is no text", "body": "<p>Noob here. First time learning to develop Android apps. Using Kotlin. Sorry if this has been answered already but the closest answer I found was in Java. I couldn't get it to work.</p>\n\n<p>Please how can I increase the size of the icons in the bottom navigation bar? Also, how can I reduce/remove the white space that appears after I take out the text for the icons. I want the bar to look like the Twitter app bottom navigation bar. Please find my screen grab below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/f702B.png\" rel=\"nofollow noreferrer\">A screen grab of the app showing the bottom nav bar</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1530709530, "post_id": 51174376, "comment_id": 89331564, "body": "It is pretty much impossible to answer this question since your link does not include the actual source code of the library, so pointing out why the code does not execute would be pure guesswork."}, {"owner": {"reputation": 1057, "user_id": 3678807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac38d89c71733cecb295c73413ebcd1c?s=128&d=identicon&r=PG", "display_name": "Vinay Rathod", "link": "https://stackoverflow.com/users/3678807/vinay-rathod"}, "edited": false, "score": 0, "creation_date": 1530711502, "post_id": 51174376, "comment_id": 89332839, "body": "I will check that.."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 2260695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b09fe150e19280d4f27991f1453991a5?s=128&d=identicon&r=PG", "display_name": "Skav", "link": "https://stackoverflow.com/users/2260695/skav"}, "is_accepted": true, "score": 1, "last_activity_date": 1530712094, "creation_date": 1530712094, "answer_id": 51175242, "question_id": 51174376, "link": "https://stackoverflow.com/questions/51174376/kotlin-code-inside-lamda-function-is-unreachable-while-using-library-written-in/51175242#51175242", "title": "Kotlin: Code inside lamda function is unreachable while using library written in java", "body": "<p>I tried your code like this :</p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport android.util.Log\nimport com.vinay.utillib.UtilLib\nimport com.vinay.utillib.imagechooser.ChooseType\n\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n\n        fab.setOnClickListener { view -&gt;\n            UtilLib.getPhoto(this, ChooseType.REQUEST_ANY)\n                    .enqueue({ path -&gt;\n                        Log.d(\"ok\", \"executed: $path\")\n                    })\n        }\n    }\n}\n</code></pre>\n\n<p>And it seems to work : \n <code>D/ok: executed: /storage/emulated/0/bichooser/1530711668746.myimage.png</code></p>\n"}], "owner": {"reputation": 1536, "user_id": 9840325, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nLKuHEODdqM/AAAAAAAAAAI/AAAAAAAAAmk/hc-BMUs8nfs/photo.jpg?sz=128", "display_name": "Gaurang Goda", "link": "https://stackoverflow.com/users/9840325/gaurang-goda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 51175242, "answer_count": 1, "score": 1, "last_activity_date": 1530712094, "creation_date": 1530709331, "last_edit_date": 1530710605, "question_id": 51174376, "link": "https://stackoverflow.com/questions/51174376/kotlin-code-inside-lamda-function-is-unreachable-while-using-library-written-in", "title": "Kotlin: Code inside lamda function is unreachable while using library written in java", "body": "<p>I have used an image picker library (written in Java). It provides the pick-result to the caller activity using the overridden function. As my caller activity is in kotlin, the overridden function gets converted into lambda function. But the code inside lambda function doesn't get executed. Is this a Java-to-Kotlin issue? Or is there a mistake in code?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>   UtilLib.getPhoto(this, ChooseType.REQUEST_ANY)\n                .enqueue({ path -&gt;\n                    Picasso.with(applicationContext)\n                            .load(\"file://$path\")\n                            .error(R.drawable.profile)\n                            .resize(150, 150)\n                            .into(ivProfilePic)\n                })\n</code></pre>\n\n<p>Library link: <a href=\"https://github.com/VinayRathod/UtilLib\" rel=\"nofollow noreferrer\">https://github.com/VinayRathod/UtilLib</a></p>\n\n<p><strong>Here is the Java Code also which will work perfectly(Java).</strong></p>\n\n<pre><code>            ChooseType chooseType =\n                    ((RadioButton) findViewById(R.id.choose_gallery)).isChecked() ? ChooseType.REQUEST_PICK_PICTURE :\n                            ((RadioButton) findViewById(R.id.choose_camera)).isChecked() ? ChooseType.REQUEST_CAPTURE_PICTURE :\n                                    ChooseType.REQUEST_ANY;\n            UtilLib.getPhoto(this, chooseType)\n                    .enqueue(new OnImageChooserListener() {\n\n                        @Override\n                        public void onImageChoose(String path) {\n                            ivPath.setText(\"\" + path);\n                            Glide.with(MainActivity.this).load(new File(path)).into(iv);\n                        }\n                    });\n</code></pre>\n"}, {"tags": ["kotlin", "overriding", "method-reference", "default-parameters"], "answers": [{"comments": [{"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530711946, "post_id": 51175118, "comment_id": 89333096, "body": "Well, the very same candidates apply to the direct call to <code>f</code> (i.e. without using method referencing)."}, {"owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 0, "creation_date": 1530714522, "post_id": 51175118, "comment_id": 89334681, "body": "I see your point, resolving a method reference, s.a. <code>Dummy::f</code> is not the same as resolving a method call, s.a. <code>f(42)</code>. However, in this case, it is a \u201cmethod reference call\u201d:  <code>(Dummy::f)(42)</code> the reference is surrounded by parenthesis."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "edited": false, "score": 1, "creation_date": 1530714931, "post_id": 51175118, "comment_id": 89334938, "body": "I&#39;m sorry I think you are limited by the language, you may fill a <a href=\"https://github.com/Kotlin/KEEP\" rel=\"nofollow noreferrer\">KEEP</a> to solve this"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1530715107, "post_id": 51175118, "comment_id": 89335029, "body": "Yes, but why complicate the language and the compiler to handle this case when just writing <code>Dummy().f(Unit)</code> would make the code more clear?"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 3, "last_activity_date": 1591193148, "last_edit_date": 1591193148, "creation_date": 1530711661, "answer_id": 51175118, "question_id": 51174065, "link": "https://stackoverflow.com/questions/51174065/overload-resolution-ambiguity-or-not/51175118#51175118", "title": "Overload resolution ambiguity... or not?", "body": "<p>When you are calling <code>Dummy::f</code> there are two candidates with the same name <strong>f</strong>:</p>\n\n<pre><code>fun f(x: Unit) : String = \"Disco\"\nfun f(x: Unit, y: Unit = Unit) : String = \"Mambo\"\n</code></pre>\n\n<p>The compiler does not know which one to take. This is because the function reference does not specify parameters, even if you change the signature of one of them to:</p>\n\n<pre><code>fun f(x: Int) : String = \"Disco\"\nfun f(s: String) : String = \"Mambo\"\n</code></pre>\n\n<p>You will still have a problem because there is no way to infer the type with this statement: <code>Dummy::f</code>. </p>\n\n<p>As a note, function references are used mostly to avoid lambda creations.</p>\n\n<hr>\n\n<p>For example, if you have: <sub>(different names)</sub></p>\n\n<pre><code>class Dummy() {\n    fun f(x: Unit) : String = \"Disco\"\n    fun g(x: Int) : String = \"Mambo\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val f = Dummy::f\n    val g = Dummy::g\n}\n</code></pre>\n\n<p>the type of <code>f</code> is <code>KFunction2&lt;Dummy, Unit, String&gt;</code>\nand <code>g</code>type is <code>KFunction2&lt;Dummy, Int, String&gt;</code></p>\n\n<p>But if you define: <sub>(equal names)</sub></p>\n\n<pre><code>class Dummy() {\n    fun f(x: Unit) : String = \"Disco\"\n    fun f(x: Int) : String = \"Mambo\"\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val f = Dummy::f\n    val g = Dummy::f\n}\n</code></pre>\n\n<p>You will have the \u201cOverload resolution ambiguity\u201d error because the compiler's information is too restricted to infer the correct function  from the two with the same name.</p>\n\n<p>The problem is not the number of arguments, but using a function reference with many candidates.</p>\n"}, {"tags": [], "owner": {"reputation": 826, "user_id": 5142776, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AZ6X1.jpg?s=128&g=1", "display_name": "Ahmed na", "link": "https://stackoverflow.com/users/5142776/ahmed-na"}, "is_accepted": false, "score": 1, "last_activity_date": 1587868721, "creation_date": 1587868721, "answer_id": 61435177, "question_id": 51174065, "link": "https://stackoverflow.com/questions/51174065/overload-resolution-ambiguity-or-not/61435177#61435177", "title": "Overload resolution ambiguity... or not?", "body": "<p>If changing the function name is simple then just change it ,</p>\n\n<p>if you are using a library or even primitive class like <code>String</code> you can create an extension as the following :</p>\n\n<pre><code>fun String.myToLowerCase(): String = this.toLowerCase()\nfun Dummy.myF(): String = \"Disco\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 1655124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4db810ed082b06d7c820c29270589e86?s=128&d=identicon&r=PG", "display_name": "medavox", "link": "https://stackoverflow.com/users/1655124/medavox"}, "is_accepted": false, "score": 0, "last_activity_date": 1591185090, "creation_date": 1591185090, "answer_id": 62172184, "question_id": 51174065, "link": "https://stackoverflow.com/questions/51174065/overload-resolution-ambiguity-or-not/62172184#62172184", "title": "Overload resolution ambiguity... or not?", "body": "<p>If you can't change the name of one of the functions to resolve the ambiguous reference (eg because they are in a library), you can also create a simple function proxy.</p>\n\n<p>This can even be made into an extension function:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>// unchangeable overloaded functions\nclass Dummy() {\n    fun f(x: Unit) : String = \"Disco\"\n    fun f(x: Unit, y: Unit = Unit) : String = \"Mambo\"\n}\n</code></pre>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>//your code\n\nfun Dummy.g(x:Unit, y:Unit = Unit) = f(x, y)\n\nval functionF = Dummy::f //fine\nval functionF2 = Dummy::g //fine\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 3168630, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5h4EN.png?s=128&g=1", "display_name": "cuihtlauac", "link": "https://stackoverflow.com/users/3168630/cuihtlauac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1591193148, "creation_date": 1530708415, "last_edit_date": 1530711246, "question_id": 51174065, "link": "https://stackoverflow.com/questions/51174065/overload-resolution-ambiguity-or-not", "title": "Overload resolution ambiguity... or not?", "body": "<p>Here is some dull overloading:</p>\n\n<pre><code>class Dummy() {\n    fun f(x: Unit) : String = \"Disco\"\n    fun f(x: Unit, y: Unit = Unit) : String = \"Mambo\"\n}\n</code></pre>\n\n<p>I'm not sure to understand why, but this works:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(Dummy().f(Unit))           // Echoes \u201cDisco\u201d\n}\n</code></pre>\n\n<p>However, that does not:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println((Dummy::f)(Dummy(), Unit)) // Fails: \u201cOverload resolution ambiguity\u201d\n}\n</code></pre>\n\n<p>Any insight on the outcome difference?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "onscrolllistener"], "owner": {"reputation": 111, "user_id": 2822453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463881f51d98fa4a21ae6057f7f46d49?s=128&d=identicon&r=PG&f=1", "display_name": "Yogesh", "link": "https://stackoverflow.com/users/2822453/yogesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530703683, "creation_date": 1530703683, "question_id": 51172594, "link": "https://stackoverflow.com/questions/51172594/scroollistener-detaches-from-recyclerview-when-data-cleared-from-adapter", "title": "scroolListener detaches from recyclerView when data cleared from adapter", "body": "<p>In Kotlin, I attach scroll listener to recyclerview in onViewCreated() of fragment.\nI load first 20 records, then next 20 and so on..., when I clear data of adapter for the purpose of search and reload with searched data then scroll listener is not working.\nI face this issue in load more functionality.</p>\n\n<p>I resolved this by reattaching scroll listener after clear the adapter.</p>\n\n<p>Why scroll listener is detached after clearing adapter?</p>\n\n<p>Below is my fragment</p>\n\n<pre><code>class Fragment: MvpFragment&lt;View, PresenterImpl&gt;(), View{\n\nprivate lateinit var presenterImpl: PresenterImpl\nprivate lateinit var myListAdapter: MyListAdapter\nprivate var OFFSET: Long = 0\nprivate var layoutManager: LinearLayoutManager? = null\n\nprivate var mSearchTextWatcher: TextWatcher = object : EditextTextWatcher() {\n    override fun afterTextChanged(editable: Editable) {\n        if (TextUtils.isEmpty(editable)) {\n            addScrool()\n            myListAdapter.clear()\n            loadData()\n\n        } else {\n            recyclerView.clearOnScrollListeners()\n\n        }\n    }\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    recyclerView!!.setHasFixedSize(true)\n    addData!!.visibility = View.GONE\n    layoutManager = LinearLayoutManager(activity)\n    recyclerView!!.layoutManager = layoutManager\n\n    searchData!!.addTextChangedListener(mSearchTextWatcher)\n\n    myListAdapter= MyListAdapter(context!!, mutableListOf&lt;Bean&gt;(), this)\n    recyclerView!!.adapter = myListAdapter\n\n    idBtSearch.setOnClickListener {\n        searchClick()\n    }\n\n    addScrool()\n\n}\n\nprivate fun addScrool() {\n\n    recyclerView.addOnScrollListener(object : RecyclerViewScrollListener() {\n        override fun onScrollUp() {\n\n        }\n\n        override fun onScrollDown() {\n\n        }\n\n        override fun onLoadMore(totalItemsCount: Int) {\n            myListAdapter.setLoaded(true)\n            myListAdapter.notifyItemInserted(myListAdapter.getListSize() - 1)\n            myListAdapter.notifyDataSetChanged()\n\n            OFFSET = totalItemsCount.toLong()\n\n            Handler().postDelayed({\n                if (search_name != null &amp;&amp; search_name.text.toString().isEmpty()) {\n                    if (idSortedOption.text == getString(R.string.name)) {\n                        presenterImpl.loadDataByName(context!!, OFFSET, LIMIT)\n                    } else {\n                        presenterImpl.loadDataByDate(context!!, OFFSET, LIMIT)\n                    }\n                }\n            }, 1000)\n\n        }\n    })\n}\n\noverride fun onResume() {\n    super.onResume()\n    if (TextUtils.isEmpty(search_patient!!.text.toString())) {\n        loadData()\n    } else {\n        searchClick()\n    }\n    OFFSET = 0\n}\n\nprivate fun searchClick() {\n    val searchText = search_name!!.text.toString()\n    if (searchText.length &lt; 3) {\n        Aarogya.showToastShort(context, getString(R.string.pls_enter_at_least_3_char))\n    } else {\n        Aarogya.hideKeyboard(activity!!)\n        presenterImpl.searchData(context!!, search_name!!.text.toString().trim { it &lt;= ' ' }, 1L, 20L)\n    }\n}\n\noverride fun createPresenter(): PresenterImpl {\n    presenterImpl = PresenterImpl(this)\n    return presenterImpl\n}\n\noverride fun showData(list: MutableList&lt;Bean&gt;) {\n    myListAdapter.setLoaded(false)\n\n    if (OFFSET == 0L) {\n        myListAdapter.run {\n            clear()\n            addAll(list)\n        }\n    } else {\n        myListAdapter.addAll(list)\n    }\n}\n\noverride fun showSearchData(beanList: MutableList&lt;Bean&gt;) {\n    myListAdapter.setLoaded(false)\n    myListAdapter.clear()\n    myListAdapter.addAll(beanList)\n\n}\n\nprivate fun loadData() {\n    presenterImpl.loadDataByName(context!!, 0L, LIMIT)\n}\n\ncompanion object {\n    private val LIMIT = 20L\n\n    fun newInstance(): Fragment {\n        return Fragment()\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530702166, "post_id": 51172106, "comment_id": 89326823, "body": "Here when i run this , my application is crashed"}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1530702193, "post_id": 51172106, "comment_id": 89326841, "body": "Where did you initialize <code>et21</code>?"}, {"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530703108, "post_id": 51172106, "comment_id": 89327410, "body": "this is my main activity     &lt;EditText         android:id=&quot;@+id/EditText1&quot;         android:layout_width=&quot;match_parent&quot;         android:layout_height=&quot;wrap_content&quot;         android:hint=&quot;enter name&quot;         android:inputType=&quot;textPersonName&quot;         /&gt;      &lt;Button         android:id=&quot;@+id/btnlink&quot;         android:layout_width=&quot;match_parent&quot;         android:layout_height=&quot;wrap_content&quot;         android:onClick=&quot;go&quot;         android:text=&quot;go to...&quot; /&gt;"}, {"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530703176, "post_id": 51172106, "comment_id": 89327442, "body": "this is my main activity2         &lt;EditText             android:id=&quot;@+id/et21&quot;             android:layout_width=&quot;match_parent&quot;             android:layout_height=&quot;wrap_content&quot;             android:inputType=&quot;textPersonName&quot;         /&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "reply_to_user": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530702894, "post_id": 51172256, "comment_id": 89327276, "body": "updated the answer it runs  , take this above code and let me know"}, {"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530703364, "post_id": 51172256, "comment_id": 89327571, "body": "still it gives me that unfortunetoly stop the app"}, {"owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "edited": false, "score": 0, "creation_date": 1530704079, "post_id": 51172256, "comment_id": 89328047, "body": "@Thunder the design of the let block for nullable types in kotlin is such that you will automatically get the non nullable value inside let block is that nullable has some value. And which can be accessed using &quot;it&quot; keyword. For me it does not make sense to call intent.getStringExtra(&quot;name&quot;) again inside the let block. Check <a href=\"https://kotlinlang.org/docs/reference/idioms.html#map-nullable-value-if-not-null\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "edited": false, "score": 0, "creation_date": 1530704245, "post_id": 51172256, "comment_id": 89328169, "body": "inside your first activity add .toString   var aa=EditText1.text.toString()"}], "tags": [], "owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "is_accepted": false, "score": 1, "last_activity_date": 1530704561, "last_edit_date": 1530704561, "creation_date": 1530702591, "answer_id": 51172256, "question_id": 51172106, "link": "https://stackoverflow.com/questions/51172106/how-to-convert-string-to-edit-text-box-in-android-in-intent/51172256#51172256", "title": "How to convert string to edit text box in android in intent?", "body": "<blockquote>\n  <p>Its because you was trying to set <code>charSequence</code> to your <code>EditText</code> , just convert to <code>String</code> while getting value from <code>FirstEditText</code>.</p>\n</blockquote>\n\n<p>inside your Second Activity - </p>\n\n<pre><code>  class Main2Activity : AppCompatActivity() {\n                override fun onCreate(savedInstanceState: Bundle?) {\n                    super.onCreate(savedInstanceState)\n                    setContentView(R.layout.activity_main2)\n                    intent.getStringExtra(\"name\")?.let {\n                     et21.setText(it)\n                    }\n                }\n            }\n</code></pre>\n\n<p>Inside your first activity </p>\n\n<pre><code>fun go(v:View){\n        val intent=Intent(this@MainActivity,Main2Activity::class.java)\n        var aa=EditText1.text.toString()\n        intent.putExtra(\"name\",aa)\n        startActivity(intent)\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "reply_to_user": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "edited": false, "score": 0, "creation_date": 1530703928, "post_id": 51172343, "comment_id": 89327946, "body": "@Thunder bro,here i go to the second activity but i can&#39;t get a data in second activity in edittext in et21"}, {"owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "reply_to_user": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530704239, "post_id": 51172343, "comment_id": 89328162, "body": "@hardikgosai please check the edited answer. You need change go func as well. please let me know if it works,"}], "tags": [], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "is_accepted": false, "score": 1, "last_activity_date": 1530704539, "last_edit_date": 1530704539, "creation_date": 1530702908, "answer_id": 51172343, "question_id": 51172106, "link": "https://stackoverflow.com/questions/51172106/how-to-convert-string-to-edit-text-box-in-android-in-intent/51172343#51172343", "title": "How to convert string to edit text box in android in intent?", "body": "<p>In your first activity change go function as below,</p>\n\n<pre><code> fun go(v:View){\n        val intent=Intent(this@MainActivity,Main2Activity::class.java)\n        var aa=EditText1.text.toString()\n        intent.putExtra(\"name\",aa)\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>In your second activity change the last line of onCreate as below, you need to unwrap the value from an nullable type. Which can be done using let block over nullable type. Also I am assuming et21 is reference to the edit text and is properly initialised.\nThis solution is null safe</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n    intent.getStringExtra(\"name\")?.let {\n        et21.setText(it)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "is_accepted": true, "score": 0, "last_activity_date": 1531037899, "creation_date": 1531037899, "answer_id": 51230073, "question_id": 51172106, "link": "https://stackoverflow.com/questions/51172106/how-to-convert-string-to-edit-text-box-in-android-in-intent/51230073#51230073", "title": "How to convert string to edit text box in android in intent?", "body": "<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n    val extras:Bundle =intent.extras\n    val nn=extras.getString(\"name\")\n    eT21.setText(\"${nn}\")\n}\n\nOr\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n    eT21.setText(intent.getStringExtra(\"name\"))\n}\n</code></pre>\n"}], "owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 51230073, "answer_count": 3, "score": 3, "last_activity_date": 1531037899, "creation_date": 1530702081, "last_edit_date": 1530702161, "question_id": 51172106, "link": "https://stackoverflow.com/questions/51172106/how-to-convert-string-to-edit-text-box-in-android-in-intent", "title": "How to convert string to edit text box in android in intent?", "body": "<p>How to convert a string to EditText , i make a EditText in one activity and then make a second activity and i get this edittext through the intent in the string then<br>\nhow to assign it to the second activity's edittext , but i don't find it how to assign string to edittext.Here i used a go function that is used when onclick event is occured of button</p>\n\n<pre><code>This is my first activity\n\nclass MainActivity : AppCompatActivity() , View.OnClickListener{ \n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n    fun go(v:View){\n        val intent=Intent(this@MainActivity,Main2Activity::class.java)\n        var aa=EditText1.text\n        intent.putExtra(\"name\",aa)\n        startActivity(intent)\n    }\n}\n\nThis is my second activity\n\nclass Main2Activity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main2)\n        var str=intent.getStringExtra(\"name\").toString()\n        et21.setText(str)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1530698823, "post_id": 51170919, "comment_id": 89324705, "body": "you can achieve only single broadcast , share your code where you receive broadcast."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1530699034, "post_id": 51170919, "comment_id": 89324829, "body": "It should work as expected. I have used broadcast receiver inside chat app (which fires broadcast very fast). Can you post your register receiver code?"}, {"owner": {"reputation": 100, "user_id": 6551149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5dc5e2dbeaeddd6e9e42ae1c55a9df?s=128&d=identicon&r=PG&f=1", "display_name": "alex samsung", "link": "https://stackoverflow.com/users/6551149/alex-samsung"}, "edited": false, "score": 0, "creation_date": 1530699352, "post_id": 51170919, "comment_id": 89325020, "body": "I&#39;ve added the receiver code"}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 6551149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5dc5e2dbeaeddd6e9e42ae1c55a9df?s=128&d=identicon&r=PG&f=1", "display_name": "alex samsung", "link": "https://stackoverflow.com/users/6551149/alex-samsung"}, "is_accepted": false, "score": 0, "last_activity_date": 1530701603, "last_edit_date": 1530701603, "creation_date": 1530700689, "answer_id": 51171687, "question_id": 51170919, "link": "https://stackoverflow.com/questions/51170919/broadcast-receiver-receive-information-only-once/51171687#51171687", "title": "Broadcast Receiver receive information only once", "body": "<p>The problem is in LiveData, the events are not being transmitted as needed.</p>\n\n<p>This <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData#postValue(T)\" rel=\"nofollow noreferrer\">document</a> explains why postValue posts only once. That is why the solution would be the following:</p>\n\n<pre><code>private val receiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context?, intent: Intent?) {\n        value = intent\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "is_accepted": true, "score": 1, "last_activity_date": 1530704162, "last_edit_date": 1530704162, "creation_date": 1530703717, "answer_id": 51172604, "question_id": 51170919, "link": "https://stackoverflow.com/questions/51170919/broadcast-receiver-receive-information-only-once/51172604#51172604", "title": "Broadcast Receiver receive information only once", "body": "<p>Your second <code>onReceive</code> is called before a <code>postValue</code> task from the first <code>onReceive</code> is executed on the main thread and hence the value set the second time is ignored. You can also see this from the implementation of <code>postValue</code>:</p>\n\n<pre><code>    ...\n    synchronized (mDataLock) {\n        // for your second call this will be false as there's a pending value\n        postTask = mPendingData == NOT_SET;\n        mPendingData = value;\n    }\n    // so this is true and so the method returns prematurely\n    if (!postTask) {\n        return;\n    }\n    ...\n</code></pre>\n\n<p>Thereof, use <code>setValue</code> because it sets the value immediately and is called from the main thread.</p>\n"}], "owner": {"reputation": 100, "user_id": 6551149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5dc5e2dbeaeddd6e9e42ae1c55a9df?s=128&d=identicon&r=PG&f=1", "display_name": "alex samsung", "link": "https://stackoverflow.com/users/6551149/alex-samsung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 51172604, "answer_count": 2, "score": 1, "last_activity_date": 1530704162, "creation_date": 1530698338, "last_edit_date": 1530699313, "question_id": 51170919, "link": "https://stackoverflow.com/questions/51170919/broadcast-receiver-receive-information-only-once", "title": "Broadcast Receiver receive information only once", "body": "<p>I have a service which sends two broadcasts at the same time.</p>\n\n<pre><code>val i = Intent(PlayerService.INTENT_ACTION)\ni.putExtra(EVENT_EXTRAS, PlayerEvent.PLAYER_READY.ordinal)\ni.putExtra(DURATION_EXTRAS, mp.duration) //some duration\nsendBroadcast(i)\n\nval i1 = Intent(PlayerService.INTENT_ACTION)\ni1.putExtra(EVENT_EXTRAS, PlayerEvent.ON_SECOND_CHANGED.ordinal)\ni1.putExtra(DURATION_EXTRAS, player.duration) //another duration\nsendBroadcast(i1)\n</code></pre>\n\n<p>The action of intents is the same, but the extras is different. Finally, I only get the answer from the second broadcast. Who knows what the cause is?</p>\n\n<p>My Receiver Live Data:</p>\n\n<pre><code>class PlayerLiveEvent(val context: Context) : LiveData&lt;Intent&gt;() {\n\noverride fun onActive() {\n    super.onActive()\n    context.registerReceiver(receiver, IntentFilter(PlayerService.INTENT_ACTION))\n}\n\noverride fun onInactive() {\n    super.onInactive()\n    context.unregisterReceiver(receiver)\n}\n\nprivate val receiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context?, intent: Intent?) {\n        postValue(intent)\n    }\n  }\n}\n</code></pre>\n\n<p>Fragment where I observe these events:</p>\n\n<pre><code>PlayerLiveEvent(activity!!).observe(this, Observer {\n        it?.apply {\n            val event = PlayerEvent.values()[getIntExtra(EVENT_EXTRAS, 0)]\n            when (event) {\n                PlayerEvent.PLAYER_READY -&gt; {\n                    println(\"PLAYER_READY\")\n                }\n                PlayerEvent.ON_SECOND_CHANGED -&gt; {\n                    println(\"ON_SECOND_CHANGED\")\n                }\n                else -&gt; println()\n            }\n        }\n    })\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530698041, "post_id": 51170633, "comment_id": 89324193, "body": "Now see my code fun sum() {          super.sum()          println(&quot;sum function&quot;)      }  here aa() and sum() both are member function , we can call aa() using super then why we can&#39;t call the sum() ?"}], "tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 3, "last_activity_date": 1530697418, "creation_date": 1530697418, "answer_id": 51170633, "question_id": 51170152, "link": "https://stackoverflow.com/questions/51170152/extension-function-in-a-kotlin-using-super/51170633#51170633", "title": "extension function in a kotlin using super", "body": "<p>This type of namespace conflict is a general drawback of extension methods. Extension methods are essentially static and <a href=\"https://stackoverflow.com/questions/1802380/are-extension-methods-an-object-oriented-feature-of-c\">do not mix well with inheritance</a>.</p>\n\n<p>In your particular case, there doesn't seem to be a need for the function <code>sum</code> to be an extension method. If you change it to an <code>open</code> virtual method, you will be able to design better for inheritance and potential overriding in a subclass.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 10, "last_activity_date": 1530698044, "last_edit_date": 1530698044, "creation_date": 1530697568, "answer_id": 51170685, "question_id": 51170152, "link": "https://stackoverflow.com/questions/51170152/extension-function-in-a-kotlin-using-super/51170685#51170685", "title": "extension function in a kotlin using super", "body": "<p>This will do: </p>\n\n<pre><code>(this as abc).sum()\n</code></pre>\n\n<p><code>super</code> does not work as extension functions are not members of the base class to be overridden in derived classes.</p>\n"}, {"comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1530698089, "post_id": 51170812, "comment_id": 89324225, "body": "Please don&#39;t paste pictures of code as these are not searchable."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 1, "creation_date": 1530698152, "post_id": 51170812, "comment_id": 89324278, "body": "@DavidRawson Just showing the output of the code given in the question."}, {"owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "edited": false, "score": 0, "creation_date": 1530698422, "post_id": 51170812, "comment_id": 89324464, "body": "Sorry , i have done mistake , make a sum function as shown here.  fun sum() {          super.sum()          println(&quot;sum function&quot;)      }"}], "tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": true, "score": 3, "last_activity_date": 1530700363, "last_edit_date": 1530700363, "creation_date": 1530697952, "answer_id": 51170812, "question_id": 51170152, "link": "https://stackoverflow.com/questions/51170152/extension-function-in-a-kotlin-using-super/51170812#51170812", "title": "extension function in a kotlin using super", "body": "<p>As you created the extension out of the class it is no more member of that class. You are able to call <code>super.aa()</code> as it is the member of the <code>abc</code> class.</p>\n\n<p>In order to use that method you have to call it in following way. </p>\n\n<pre><code>open class abc {\n    open fun aa() {\n        println(\"function in abc\")\n    }\n}\nfun abc.sum() {\n    println(\"extension function\")\n}\nclass ab: abc() {\n\n    override fun aa() {\n        super.aa()\n        println(\"functon in ab\")\n    }\n    fun sum() {\n        (this as abc).sum()\n        println(\"sum function\")\n    }\n}\nfun main(args: Array &lt; String &gt; ) {\n    var aa: ab = ab()\n    aa.aa()\n    aa.aa()\n    aa.sum()\n}\n</code></pre>\n\n<p>For more info refer this <a href=\"https://discuss.kotlinlang.org/t/allow-extensions-to-override-member-functions-in-selected-cases/6294\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 250, "user_id": 10030326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sGBj6.jpg?s=128&g=1", "display_name": "hardik gosai", "link": "https://stackoverflow.com/users/10030326/hardik-gosai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1583, "favorite_count": 0, "accepted_answer_id": 51170812, "answer_count": 3, "score": 7, "last_activity_date": 1530778296, "creation_date": 1530696073, "last_edit_date": 1530778296, "question_id": 51170152, "link": "https://stackoverflow.com/questions/51170152/extension-function-in-a-kotlin-using-super", "title": "extension function in a kotlin using super", "body": "<p>How to call extension function of the base class in a derived class using the super keyword? </p>\n\n<p>I tried to call using super but it doesn't work.</p>\n\n<pre><code> open class abc {\n     open fun aa() {\n         println(\"function in abc\")\n     }\n }\n fun abc.sum() {\n     println(\"extension function\")\n }\n class ab: abc() {\n\n     override fun aa() {\n         super.aa()\n         println(\"functon in ab\")\n     }\n     fun sum() {\n         super.sum()\n         println(\"sum function\")\n     }\n }\n fun main(args: Array &lt; String &gt; ) {\n     var aa: ab = ab()\n     aa.aa()\n     aa.aa()\n     aa.sum()\n }\n</code></pre>\n\n<p>Here is the 16th number line error comes, I can't call the extension function.</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-android"], "comments": [{"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "edited": false, "score": 0, "creation_date": 1530694916, "post_id": 51169608, "comment_id": 89322166, "body": "its happening bcs Some other thread or activity is modifying your map while you are observing it. <a href=\"https://github.com/ReactiveX/RxJava/issues/3749\" rel=\"nofollow noreferrer\">github.com/ReactiveX/RxJava/issues/3749</a>"}], "answers": [{"tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 5, "last_activity_date": 1530695555, "creation_date": 1530695555, "answer_id": 51169997, "question_id": 51169608, "link": "https://stackoverflow.com/questions/51169608/rxjava-concurrentmodificationexception/51169997#51169997", "title": "RxJava ConcurrentModificationException", "body": "<p>The problem is this:</p>\n\n<pre><code>val taskList = ArrayList&lt;Task&gt;()\n\neventPlanners.forEach { eventPlanner -&gt;\n\n    // ...\n\n    compositeDisposable.add(wfmStorageDomain.saveTasks(taskList)\n\n    // ...\n}\n</code></pre>\n\n<p>You have a list which you keep adding from different eventPlanner items and submitting that partial list to the save task. If there are more than one item in <code>eventPlanners</code> this will result in the <code>ConcurrentModificationException</code> error. Either make <code>taskList</code> local to the <code>forEach</code> loop or move the <code>saveTasks</code> out of <code>forEach</code>.</p>\n"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "accepted_answer_id": 51169997, "answer_count": 1, "score": 3, "last_activity_date": 1530695555, "creation_date": 1530694422, "question_id": 51169608, "link": "https://stackoverflow.com/questions/51169608/rxjava-concurrentmodificationexception", "title": "RxJava ConcurrentModificationException", "body": "<p>I'm noob in RxJava but someday... ; )</p>\n\n<p>What I have: </p>\n\n<ul>\n<li>Receiving json with Event Planner Model </li>\n<li>inside this model the are Tasks</li>\n<li>I want to save this tasks into local db but also want add to them parent_id in case of relationship</li>\n</ul>\n\n<p>Can someone with more experience take a look at this code:</p>\n\n<pre><code>    private fun saveEventPlanners(eventPlanners: ArrayList&lt;EventPlanner&gt;) {\n    LogMgr.d(TAG, \"saveEventPlanners() events:$eventPlanners\")\n\n    compositeDisposable.add(wfmStorageDomain.saveEventPlanners(eventPlanners)\n            .subscribeOn(rxSchedulers.computation())\n            .observeOn(rxSchedulers.computation())\n            .subscribe({ saved -&gt;\n                LogMgr.v(TAG, \"event planners saved successfully, value: $saved\")\n\n                val taskList = ArrayList&lt;Task&gt;()\n\n                eventPlanners.forEach { eventPlanner -&gt;\n\n                    if (eventPlanner.status == EventPlanner.EventPlannerStatus.NEW) {\n                        FS.get().wfmComponent.getEventPlannerStatusChanger().updateEventPlannersStatus(eventPlanner.event_id!!, EventPlanner.EventPlannerStatus.RECEIVED)\n                    }\n\n                    (eventPlanner.tasks as ArrayList&lt;Task&gt;).forEach {\n                        val task = Task()\n                        task.id = it.id\n                        task.status_id = Task.STATUS.NEW\n                        task.name = it.name\n                        task.end_scenario_id = it.end_scenario_id\n                        task.start_scenario_id = it.start_scenario_id\n                        task.isBind = it.isBind\n                        task.parent_event_planner_id = eventPlanner.event_planner_id\n\n                        taskList.add(task)\n                    }\n                    compositeDisposable.add(wfmStorageDomain.saveTasks(taskList)\n                            .subscribeOn(rxSchedulers.computation())\n                            .observeOn(rxSchedulers.computation())\n                            .subscribe({\n                                LogMgr.d(TAG, \"tasks saved successfully = $it\")\n                            }, {\n                                LogMgr.e(TAG, \"Error while saving tasks\", it)\n                            }))\n\n                }\n            }, {\n                LogMgr.e(TAG, \"Error while saving event planners\", it)\n            }))\n\n    notifyObservers(eventPlanners)\n}\n</code></pre>\n\n<p>I'm getting error in this function: </p>\n\n<pre><code>java.util.ConcurrentModificationException\n    at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\n    at com.raizlabs.android.dbflow.sql.saveable.ListModelSaver.saveAll(ListModelSaver.java:32)\n    at com.raizlabs.android.dbflow.sql.saveable.ListModelSaver.saveAll(ListModelSaver.java:19)\n    at com.raizlabs.android.dbflow.structure.ModelAdapter.saveAll(ModelAdapter.java:196)\n    at com.raizlabs.android.dbflow.rx2.structure.RXModelAdapter$3.call(RXModelAdapter.java:61)\n    at com.raizlabs.android.dbflow.rx2.structure.RXModelAdapter$3.call(RXModelAdapter.java:58)\n    at io.reactivex.internal.operators.completable.CompletableFromCallable.subscribeActual(CompletableFromCallable.java:35)\n    at io.reactivex.Completable.subscribe(Completable.java:1919)\n    at io.reactivex.internal.operators.completable.CompletableSubscribeOn$SubscribeOnObserver.run(CompletableSubscribeOn.java:64)\n    at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:579)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\n    at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:234)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:153)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:267)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n    at java.lang.Thread.run(Thread.java:841)\n</code></pre>\n\n<p>And this is how looks saving into db:</p>\n\n<pre><code>    override fun saveTasks(tasks: ArrayList&lt;Task&gt;): Single&lt;Boolean&gt; {\n    LogMgr.d(TAG, \"saveTasks() : $tasks\")\n    return Single.create({ emitter -&gt;\n        RXModelAdapter.from(Task::class.java)\n                .saveAll(tasks)\n                .subscribeOn(getSubscriptionScheduler())\n                .subscribe({\n                    LogMgr.d(TAG, \"saveTasks() onComplete\")\n                    emitter.onSuccess(true)\n\n                }, {\n                    LogMgr.e(TAG, \"saveTasks() onError \", it)\n                    emitter.onError(it)\n                })\n    })\n}\n\n  private fun getSubscriptionScheduler(): Scheduler {\n    return FS.get().commonComponent.rxSchedulers.get().sqlite()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1530693859, "post_id": 51169392, "comment_id": 89321513, "body": "<code>it stops the app without showing me any error</code> - any crash has a stracktrace. Also, I guarantee you it&#39;s a NullPointerException for accessing the Context before initialization. Use lateinit and initialize it in onCreate"}, {"owner": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530694044, "post_id": 51169392, "comment_id": 89321624, "body": "any good reason for negative vote?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530694310, "post_id": 51169392, "comment_id": 89321775, "body": "Add the full stacktrace."}], "answers": [{"comments": [{"owner": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "edited": false, "score": 0, "creation_date": 1530698701, "post_id": 51170757, "comment_id": 89324634, "body": "I tried with <code>lateinit var sample: TextView</code> and following code to instantiate. <code>var sample = TextView(this)</code> but it didn&#39;t work."}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "reply_to_user": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "edited": false, "score": 0, "creation_date": 1530698814, "post_id": 51170757, "comment_id": 89324695, "body": "What does &quot;didn&#39;t work&quot; mean? What&#39;s the stacktrace/problem you are getting? BTW just merely instantiating the <code>TextView</code> is not enough - you will need to add it to your layout somehow."}, {"owner": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "edited": false, "score": 0, "creation_date": 1530699653, "post_id": 51170757, "comment_id": 89325225, "body": "It worked, I was making a mistake in the initialization. The correct code to initialize was without re-declaring var keyword.  Thanks a lot for your help."}, {"owner": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "edited": false, "score": 0, "creation_date": 1530699813, "post_id": 51170757, "comment_id": 89325331, "body": "I&#39;m new in Android and things are a lot different than we experience in Xcode. LOGCAT was continuously outputting. I had to then reset the simulator. Now showing this <code>Emulator: main-loop: WARNING: I&#47;O thread spun for 1000 iterations</code> I guess I can live with that."}], "tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": true, "score": 2, "last_activity_date": 1530697768, "creation_date": 1530697768, "answer_id": 51170757, "question_id": 51169392, "link": "https://stackoverflow.com/questions/51169392/java-to-kotlin-access-class-specific-variables-in-different-methods/51170757#51170757", "title": "Java to Kotlin access class specific variables in different methods", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n\n   val sample = TextView(this)\n</code></pre>\n\n<p>This won't work - and your Android book or tutorial should cover the reason why. It's not enough to instantiate the <code>AppCompatActivity</code> using the constructor to get a fully-fledged instance of the <code>Activity</code>.</p>\n\n<p>In general, it's probably better to wait until <code>onCreate</code> before trying to programatically instantiate a view.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    lateinit var myTextView: TextView\n\n    override fun onCreate(savedInstanceState: Bundle) {\n        //instantiate myTextView here if you must \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1051, "user_id": 797819, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/210cb415683add8cb36c896017d3baa8?s=128&d=identicon&r=PG", "display_name": "Naveed Abbas", "link": "https://stackoverflow.com/users/797819/naveed-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 51170757, "answer_count": 1, "score": 1, "last_activity_date": 1530697768, "creation_date": 1530693789, "last_edit_date": 1530696840, "question_id": 51169392, "link": "https://stackoverflow.com/questions/51169392/java-to-kotlin-access-class-specific-variables-in-different-methods", "title": "Java to Kotlin access class specific variables in different methods", "body": "<p>I'm from Objective-C background. I have to create objects programmatically, so trying to explore it in Java and in Kotlin. </p>\n\n<p>In Objective-C We used to declare the instance variables in .h files and access them anywhere in the .m files, is there something similar interface where we declare the variables and object types somewhere and then access them in our kotlin class?</p>\n\n<p>I'm trying to declare a variable that I can access in different methods inside of a class (e.g MainActivity). In Java, it works fine however in Kotlin, I guess I'm having trouble to declare it without initializing it. Need help.</p>\n\n<pre><code>//Here is the Java Code that works fine.\npublic class MainActivity extends AppCompatActivity {\n\n    **LinearLayout box;**\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        **box = new LinearLayout(this);**\n\n    }\n\n    private void SampleMethod () {\n        **box.setBackgroundColor(Color.RED);**\n     }\n   }\n</code></pre>\n\n<p>If I try to achieve this in Kotlin, it stops the app with the ERROR provided in stacktrace.</p>\n\n<pre><code>//Here is Kotlin code that is stopping the app. \nclass MainActivity : AppCompatActivity() {\n\n   **val sample = TextView(this)** // I need to declare variable here.\n\n   override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    **sample.setText(\"Hello!\")**\n    MainContainer.addView(sample)\n   }\n\n fun Test() {\n    **sample.setBackgroundColor(Color.RED)**\n }\n}\n</code></pre>\n\n<p>Here is the Stacktrace</p>\n\n<pre><code>07-04 13:16:14.690 12663-12663/? I/zygote: Not late-enabling -Xcheck:jni (already on)\n07-04 13:16:15.230 12663-12663/? W/zygote: Unexpected CPU variant for X86 using defaults: x86\n07-04 13:16:16.639 12663-12663/com.example.sample.kotlinproject I/InstantRun: starting instant run server: is main process\n07-04 13:16:16.938 12663-12663/com.example.sample.kotlinproject D/AndroidRuntime: Shutting down VM\n07-04 13:16:16.940 12663-12663/com.example.sample.kotlinproject E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.sample.kotlinproject, PID: 12663\njava.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.sample.kotlinproject/com.example.sample.kotlinproject.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2679)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n    at android.content.ContextWrapper.getResources(ContextWrapper.java:89)\n    at android.view.ContextThemeWrapper.getResourcesInternal(ContextThemeWrapper.java:127)\n    at android.view.ContextThemeWrapper.getResources(ContextThemeWrapper.java:121)\n    at android.support.v7.app.AppCompatActivity.getResources(AppCompatActivity.java:542)\n    at android.view.View.&lt;init&gt;(View.java:4563)\n    at android.view.View.&lt;init&gt;(View.java:4706)\n    at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:597)\n    at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:234)\n    at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:230)\n    at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:226)\n    at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:222)\n    at com.example.sample.kotlinproject.MainActivity.&lt;init&gt;(MainActivity.kt:18)\n    at java.lang.Class.newInstance(Native Method)\n    at android.app.Instrumentation.newActivity(Instrumentation.java:1174)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2669)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\u00a0\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:106)\u00a0\n    at android.os.Looper.loop(Looper.java:164)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\u00a0\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 805, "user_id": 6455501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xYuC.jpg?s=128&g=1", "display_name": "glagarto", "link": "https://stackoverflow.com/users/6455501/glagarto"}, "edited": false, "score": 0, "creation_date": 1530691808, "post_id": 51168655, "comment_id": 89320385, "body": "That  <code>Observable</code> is that RxJava or LiveData?"}, {"owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "reply_to_user": {"reputation": 805, "user_id": 6455501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7xYuC.jpg?s=128&g=1", "display_name": "glagarto", "link": "https://stackoverflow.com/users/6455501/glagarto"}, "edited": false, "score": 0, "creation_date": 1530691860, "post_id": 51168655, "comment_id": 89320418, "body": "it&#39;s part of RxJava, I&#39;m not using LiveData in this project. Thanks!"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1530692286, "post_id": 51168655, "comment_id": 89320662, "body": "retrofit api calling not working."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1530692344, "post_id": 51168655, "comment_id": 89320700, "body": "why used Observable here define Call&lt;ResponseClass&gt;."}, {"owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "reply_to_user": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1530692424, "post_id": 51168655, "comment_id": 89320753, "body": "@AndroidTeam I use retrofit with Rx thus I use Observable instead of Call."}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1530692525, "post_id": 51168655, "comment_id": 89320809, "body": "Observable method put server response pojo class."}, {"owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "reply_to_user": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1530692608, "post_id": 51168655, "comment_id": 89320861, "body": "@AndroidTeam can you give me some page talk about that? Maybe I misunderstand"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1530692703, "post_id": 51168655, "comment_id": 89320903, "body": "refer this link <a href=\"https://medium.freecodecamp.org/rxandroid-and-retrofit-2-0-66dc52725fff\" rel=\"nofollow noreferrer\">medium.freecodecamp.org/rxandroid-and-retrofit-2-0-66dc52725&zwnj;&#8203;fff</a>"}, {"owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "edited": false, "score": 0, "creation_date": 1530693077, "post_id": 51168655, "comment_id": 89321108, "body": "sorry, but it seem be just a rx function. &quot;As you\u2019ll notice, I\u2019m returning the Observable of WeatherData. That\u2019s Rx right there!&quot;"}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530706933, "post_id": 51168655, "comment_id": 89329886, "body": "try <code>Observable&lt;Response&lt;ResponseBody&gt;&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "is_accepted": false, "score": 0, "last_activity_date": 1530757926, "creation_date": 1530757926, "answer_id": 51182665, "question_id": 51168655, "link": "https://stackoverflow.com/questions/51168655/how-to-get-response-with-header-code-body-without-gson-converter-in-retrofi/51182665#51182665", "title": "How to get response with header code, body,... without Gson converter in Retrofit2 and Rx", "body": "<p>I've found out solution. Use <code>Observable&lt;Response&lt;ResponseBody&gt;&gt;</code> to handle this case. Thank every one!</p>\n"}], "owner": {"reputation": 594, "user_id": 4796198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf2185da20004e8c40b8f0d495635dde?s=128&d=identicon&r=PG&f=1", "display_name": "M\u1ea1nh Ho&#224;ng Huynh", "link": "https://stackoverflow.com/users/4796198/m%e1%ba%a1nh-ho%c3%a0ng-huynh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530757926, "creation_date": 1530691315, "question_id": 51168655, "link": "https://stackoverflow.com/questions/51168655/how-to-get-response-with-header-code-body-without-gson-converter-in-retrofi", "title": "How to get response with header code, body,... without Gson converter in Retrofit2 and Rx", "body": "<p>I've an issue. I want to get raw response (as byte stream) and manual convert body to model object (not using converter). </p>\n\n<pre><code>@GET(\"searchShop\")\nfun search(\n        @Query(\"keyword\") keyword: String,\n        @Query(\"lat\") location: Double? = null,\n        @Query(\"lng\") limit: Double? = null\n): Observable&lt;?????&gt; // what should I put in there ? \n</code></pre>\n\n<p>I've search but I can't find out any solutions. Some bro tell me that pass <code>Response&lt;T&gt;</code> in <code>\"?????\"</code> but it throw exception: </p>\n\n<blockquote>\n  <p>Unable to create converter for class T</p>\n</blockquote>\n\n<p>What should I do? Many thanks! </p>\n"}, {"tags": ["android", "arraylist", "nullpointerexception", "kotlin", "indexoutofboundsexception"], "comments": [{"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 1, "creation_date": 1530690900, "post_id": 51168486, "comment_id": 89319947, "body": "Since the indexing of the <code>Array</code> is zero-based, the last element would be <code>files.size - 1</code>."}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "reply_to_user": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 0, "creation_date": 1530691389, "post_id": 51168486, "comment_id": 89320178, "body": "thanks, it fixed the first exception, but NullPointerException still there, any idea  ?"}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "edited": false, "score": 0, "creation_date": 1530691716, "post_id": 51168486, "comment_id": 89320344, "body": "@evals Please provide full <i>logcat</i> error and code where you trying to call function."}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "edited": false, "score": 0, "creation_date": 1530692077, "post_id": 51168486, "comment_id": 89320539, "body": "@evals It seems looking you need to pass <i>fullpath</i> instead of <i>path</i> in <i>var list = imageReader(path)</i> check my answer for same and apply."}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "edited": false, "score": 0, "creation_date": 1530693642, "post_id": 51168486, "comment_id": 89321399, "body": "@evals Check my updated answer for your solution."}], "answers": [{"comments": [{"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1530691629, "post_id": 51168560, "comment_id": 89320280, "body": "greatly fixed the first exception but NullPointerException still there, any idea?"}], "tags": [], "owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "is_accepted": false, "score": 4, "last_activity_date": 1530690945, "creation_date": 1530690945, "answer_id": 51168560, "question_id": 51168486, "link": "https://stackoverflow.com/questions/51168486/getting-list-of-images-from-a-folder-in-android-kotlin/51168560#51168560", "title": "Getting list of images from a folder in android kotlin", "body": "<pre><code>fun imageReader(root : File):ArrayList&lt;File&gt;{\n    val a : ArrayList&lt;File&gt; ? = null\n    val files = root.listFiles()\n    for (i in 0..files.size-1){\n        if (files[i].name.endsWith(\".jpg\")){\n            a?.add(files[i])\n        }\n    }\n    return a!!\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1530692390, "post_id": 51168870, "comment_id": 89320729, "body": "sorry my wrong , i edited the question, but this is not the problem, using debugging mode and BreakPoints i see the the function return (a) as null"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1530692469, "post_id": 51168870, "comment_id": 89320773, "body": "and im 100% certain there are .jpg files in the provided path"}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1530693592, "post_id": 51168870, "comment_id": 89321368, "body": "@evals Check my updated answer made few changes in function and improved this will solve you all issues. Made it easy."}, {"owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1530698849, "post_id": 51168870, "comment_id": 89324722, "body": "@evals Glad to help you !! Also Upvote the answer so it will be helpful to future visitors. :)"}, {"owner": {"reputation": 3361, "user_id": 586006, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/mker6.jpg?s=128&g=1", "display_name": "Chewie The Chorkie", "link": "https://stackoverflow.com/users/586006/chewie-the-chorkie"}, "edited": false, "score": 0, "creation_date": 1618864534, "post_id": 51168870, "comment_id": 118727472, "body": "I get &quot;Unresolved reference: Environment&quot;"}], "tags": [], "owner": {"reputation": 10231, "user_id": 3152529, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/gZ3qm.jpg?s=128&g=1", "display_name": "Jay Rathod RJ", "link": "https://stackoverflow.com/users/3152529/jay-rathod-rj"}, "is_accepted": true, "score": 6, "last_activity_date": 1530693550, "last_edit_date": 1530693550, "creation_date": 1530692038, "answer_id": 51168870, "question_id": 51168486, "link": "https://stackoverflow.com/questions/51168486/getting-list-of-images-from-a-folder-in-android-kotlin/51168870#51168870", "title": "Getting list of images from a folder in android kotlin", "body": "<p>For <em>Null Pointer</em> you may need to change and pass <em>fullpath</em> instead of <em>path</em> inside <code>var list = imageReader(path)</code>.</p>\n\n<p><strong>Wrong</strong></p>\n\n<pre><code>var fullpath = File(gpath + File.separator + spath)\nvar list = imageReader(path)\n</code></pre>\n\n<p><strong>Right</strong></p>\n\n<pre><code>var gpath:String = Environment.getExternalStorageDirectory().absolutePath\nvar spath = \"testfolder\"\nvar fullpath = File(gpath + File.separator + spath)\nvar list = imageReader(fullpath)\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>I have made few changes to function and apply it inside <em>override fun onCreate</em> as below.</p>\n\n<pre><code>var gpath: String = Environment.getExternalStorageDirectory().absolutePath\nvar spath = \"Download\"\nvar fullpath = File(gpath + File.separator + spath)\nLog.w(\"fullpath\", \"\" + fullpath)\nimageReaderNew(fullpath)\n</code></pre>\n\n<p><strong>Function</strong></p>\n\n<pre><code>fun imageReaderNew(root: File) {\n    val fileList: ArrayList&lt;File&gt; = ArrayList()\n    val listAllFiles = root.listFiles()\n\n    if (listAllFiles != null &amp;&amp; listAllFiles.size &gt; 0) {\n        for (currentFile in listAllFiles) {\n            if (currentFile.name.endsWith(\".jpeg\")) {\n                // File absolute path\n                Log.e(\"downloadFilePath\", currentFile.getAbsolutePath())\n                // File Name\n                Log.e(\"downloadFileName\", currentFile.getName())\n                fileList.add(currentFile.absoluteFile)\n            }\n        }\n        Log.w(\"fileList\", \"\" + fileList.size)\n    }\n}\n</code></pre>\n\n<p><strong>Logcat Output</strong></p>\n\n<pre><code>W/fullpath: /storage/emulated/0/Download\nE/downloadFilePath: /storage/emulated/0/Download/download.jpeg\nE/downloadFileName: download.jpeg\nE/downloadFilePath: /storage/emulated/0/Download/images.jpeg\nE/downloadFileName: images.jpeg\nE/downloadFilePath: /storage/emulated/0/Download/images (1).jpeg\nE/downloadFileName: images (1).jpeg\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28, "user_id": 9303834, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J3VxcYoAOZc/AAAAAAAAAAI/AAAAAAAAABU/Or8gNQeHnOY/photo.jpg?sz=128", "display_name": "umar ali Khan", "link": "https://stackoverflow.com/users/9303834/umar-ali-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1578340157, "last_edit_date": 1578340157, "creation_date": 1578337379, "answer_id": 59617564, "question_id": 51168486, "link": "https://stackoverflow.com/questions/51168486/getting-list-of-images-from-a-folder-in-android-kotlin/59617564#59617564", "title": "Getting list of images from a folder in android kotlin", "body": "<p>The above answer is right but it declares <code>a</code> as <code>null</code> and then in loop uses <code>null</code> save. Therefore it detects images but does not add them to the list and the list returns null.</p>\n\n<pre><code>fun imageReader(root: File): ArrayList &lt; File &gt; {\n  val a: ArrayList &lt; File &gt; = ArrayList()\n  if (root.exists()) {\n    val files = root.listFiles()\n    if (files.isNotEmpty()) {\n      for (i in 0..files.size - 1) {\n        if (files[i].name.endsWith(\".jpg\")) {\n          a.add(files[i])\n        }\n      }\n    }\n  }\n  return a!!\n}\n</code></pre>\n"}], "owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7064, "favorite_count": 1, "accepted_answer_id": 51168870, "answer_count": 3, "score": 5, "last_activity_date": 1578340157, "creation_date": 1530690714, "last_edit_date": 1530693934, "question_id": 51168486, "link": "https://stackoverflow.com/questions/51168486/getting-list-of-images-from-a-folder-in-android-kotlin", "title": "Getting list of images from a folder in android kotlin", "body": "<p>I'm trying to get list of images from a folder using this function</p>\n\n<pre><code>var gpath:String = Environment.getExternalStorageDirectory().absolutePath\nvar spath = \"testfolder\"\nvar fullpath = File(gpath + File.separator + spath)\nvar list = imageReader(fullpath)\n\nfun imageReader(root : File):ArrayList&lt;File&gt;{\n    val a : ArrayList&lt;File&gt; ? = null\n    val files = root.listFiles()\n    for (i in 0..files.size){\n        if (files[i].name.endsWith(\".jpg\")){\n            a?.add(files[i])\n        }\n    }\n    return a!!\n}\n</code></pre>\n\n<p>but i have these exceptions :</p>\n\n<p><em>java.lang.ArrayIndexOutOfBoundsException:length=3;index=3</em></p>\n\n<p><em>kotin.kotlinNullPointerException</em></p>\n\n<p>I've read about this problem but i have no idea how to fix it,</p>\n\n<p>any help please?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "annotations", "kotlin-extension"], "comments": [{"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1530708903, "post_id": 51168378, "comment_id": 89331155, "body": "@DavidRawson How does question from 2 years ago answers this one? There is nothing about receivers"}, {"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1530709820, "post_id": 51168378, "comment_id": 89331728, "body": "@IntDef compile time lint check is not fully supported in Kotlin"}, {"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "reply_to_user": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 0, "creation_date": 1530711060, "post_id": 51168378, "comment_id": 89332548, "body": "@DavidRawson But it&#39;s <code>@IdRes</code>, not <code>@IntDef</code>"}], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530709144, "creation_date": 1530690305, "last_edit_date": 1530709144, "question_id": 51168378, "link": "https://stackoverflow.com/questions/51168378/android-studio-doesnt-highlight-invalid-kotlin-receiver-when-using-idres", "title": "Android Studio doesn&#39;t highlight invalid Kotlin receiver when using @IdRes", "body": "<p>I expected that using extension:</p>\n\n<pre><code>fun @receiver:IdRes Int.findView() = findViewById&lt;View&gt;(this)\n</code></pre>\n\n<p>On resource that is not defined in <code>R.id</code> would highlight the call, but it doesn't:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3mjri.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3mjri.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this a bug?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Linked question and answers do not answer this question. In this case, I asked specifically about Kotlin's <code>@receiver</code> annotation, not some enum <code>@IntDef</code> annotation. Also, the current version of Kotlin is 1.2.51, not 1.0.3</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 828, "user_id": 2794507, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005715910469/picture?type=large", "display_name": "Hardik Vasani", "link": "https://stackoverflow.com/users/2794507/hardik-vasani"}, "edited": false, "score": 0, "creation_date": 1530681952, "post_id": 51166264, "comment_id": 89315674, "body": "<a href=\"https://androidforums.com/threads/drawing-a-spiral.1225631/\" rel=\"nofollow noreferrer\">check this link</a>"}, {"owner": {"reputation": 828, "user_id": 2794507, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005715910469/picture?type=large", "display_name": "Hardik Vasani", "link": "https://stackoverflow.com/users/2794507/hardik-vasani"}, "edited": false, "score": 0, "creation_date": 1530682064, "post_id": 51166264, "comment_id": 89315709, "body": "<a href=\"https://stackoverflow.com/questions/13894715/draw-equidistant-points-on-a-spiral\">also check this link</a>"}, {"owner": {"reputation": 234, "user_id": 2531057, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c2e601d82c44f651d399f373c64c93f9?s=128&d=identicon&r=PG", "display_name": "Kishor", "link": "https://stackoverflow.com/users/2531057/kishor"}, "reply_to_user": {"reputation": 828, "user_id": 2794507, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005715910469/picture?type=large", "display_name": "Hardik Vasani", "link": "https://stackoverflow.com/users/2794507/hardik-vasani"}, "edited": false, "score": 0, "creation_date": 1530686589, "post_id": 51166264, "comment_id": 89317702, "body": "thanks for the links , it is working fine. I want give animation to spiral ,can you tel me how it can be done?"}], "answers": [{"tags": [], "owner": {"reputation": 374, "user_id": 12201062, "user_type": "registered", "profile_image": "https://graph.facebook.com/376646586550474/picture?type=large", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/12201062/jarvis"}, "is_accepted": false, "score": 1, "last_activity_date": 1571026520, "creation_date": 1571026520, "answer_id": 58370033, "question_id": 51166264, "link": "https://stackoverflow.com/questions/51166264/draw-spiral-view-in-android-kotlin/58370033#58370033", "title": "Draw spiral view in android Kotlin", "body": "<p>Today I added spiral drawing to this custom scrolling shapes app I'm building. My implementation makes use of Android  <code>import android.graphics.Path;</code>. The spiral drawing is based on the user scrolling, with more segments added as the user scrolls.  </p>\n\n<p>The gist of the solution is as follows: I start with an initial arc and draw that. That arc is the initial arc of the spiral. On that arc has been added to the path, then use the bounding Rect of the Path to determine the bounds for the next segment of the arc.</p>\n\n<p>The below is a sample but for full context you'll need to view the project: <a href=\"https://github.com/jdgreene2008/android_custom_views\" rel=\"nofollow noreferrer\">https://github.com/jdgreene2008/android_custom_views</a></p>\n\n<pre><code>         private void addTopSpiralSegment(Path path, RectF bounds, SpiralSegment spiralSegment) {\n                float centerX = bounds.centerX();\n                float centerY = bounds.centerY();\n\n                float segmentBoundsLeft;\n                float segmentBoundsRight;\n                float segmentBoundsTop;\n                float segmentBoundsBottom;\n\n                if (path.isEmpty()) {\n                    segmentBoundsLeft = centerX - spiralSegment.getWidth() / 2;\n                    segmentBoundsRight = centerX + spiralSegment.getWidth() / 2;\n                    segmentBoundsTop = centerY - spiralSegment.getHeight() / 2;\n                    segmentBoundsBottom = centerY + spiralSegment.getHeight() / 2;\n                } else {\n                    RectF pathBounds = new RectF();\n                    path.computeBounds(pathBounds, true);\n\n                    segmentBoundsLeft = pathBounds.left;\n                    segmentBoundsRight = segmentBoundsLeft + spiralSegment.getWidth();\n                    segmentBoundsTop = centerY - spiralSegment.getHeight() / 2;\n                    segmentBoundsBottom = centerY + spiralSegment.getHeight() / 2;\n                }\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                    path.addArc(segmentBoundsLeft, segmentBoundsTop, segmentBoundsRight,\n                            segmentBoundsBottom, 180, 180);\n                }\n            }\n\n    private void addBottomSpiralSegment(Path path, RectF bounds, SpiralSegment spiralSegment) {\n            float centerX = bounds.centerX();\n            float centerY = bounds.centerY();\n\n            float segmentBoundsLeft;\n            float segmentBoundsRight;\n            float segmentBoundsTop;\n            float segmentBoundsBottom;\n\n            if (path.isEmpty()) {\n                segmentBoundsLeft = centerX - spiralSegment.getWidth() / 2;\n                segmentBoundsRight = centerX + spiralSegment.getWidth() / 2;\n                segmentBoundsTop = centerY - spiralSegment.getHeight() / 2;\n                segmentBoundsBottom = centerY + spiralSegment.getHeight() / 2;\n            } else {\n                RectF pathBounds = new RectF();\n                path.computeBounds(pathBounds, true);\n\n                segmentBoundsLeft = pathBounds.right - spiralSegment.getWidth();\n                segmentBoundsRight = pathBounds.right;\n                segmentBoundsTop = centerY - spiralSegment.getHeight() / 2;\n                segmentBoundsBottom = centerY + spiralSegment.getHeight() / 2;\n            }\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                path.addArc(segmentBoundsLeft, segmentBoundsTop, segmentBoundsRight,\n                        segmentBoundsBottom, 0, 180);\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 234, "user_id": 2531057, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c2e601d82c44f651d399f373c64c93f9?s=128&d=identicon&r=PG", "display_name": "Kishor", "link": "https://stackoverflow.com/users/2531057/kishor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1571026520, "creation_date": 1530681735, "last_edit_date": 1530681984, "question_id": 51166264, "link": "https://stackoverflow.com/questions/51166264/draw-spiral-view-in-android-kotlin", "title": "Draw spiral view in android Kotlin", "body": "<p>I am trying to draw spiral view as in screenshot attached,\nI have array of points to draw based on number on circles.\nI am new to android and kotlin . </p>\n\n<p>Can anyone please suggest how to do this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/xuhvZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xuhvZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "netty", "rpc", "avro", "idl"], "answers": [{"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": true, "score": 1, "last_activity_date": 1530675615, "creation_date": 1530675615, "answer_id": 51165406, "question_id": 51165405, "link": "https://stackoverflow.com/questions/51165405/avro-rpc-multiple-responders-for-one-nettyserver/51165406#51165406", "title": "Avro RPC multiple Responders for one NettyServer", "body": "<p>A post by Doug Cutting in <a href=\"http://grokbase.com/t/avro/user/128e5qne9d/registering-multiple-classes-to-a-responder\" rel=\"nofollow noreferrer\">GrokBase</a> states:</p>\n\n<blockquote>\n  <p>A separate Responder is currently required for each protocol. If HTTP\n  is used, different ResponderServlet's can be configured so that\n  different protocols are run at different URLs. For NettyServer and\n  SaslSocketServer one must run different protocols on different ports.</p>\n  \n  <p>Note however that one can create a protocol that's the combination of\n  several other protocols and serve that. For example, with Java\n  reflection, if you have Java interface A that's one protocol and Java\n  interface B that's another then you can implement \"interface C extends\n  A, B\" and serve that protocol. Clients that speak either A, B or C\n  can then connect. A similar effect can be accomplished with Java's\n  specific compiler by importing various client protocols into the\n  server's protocol.</p>\n  \n  <p><a href=\"http://avro.apache.org/docs/current/idl.html#imports\" rel=\"nofollow noreferrer\">http://avro.apache.org/docs/current/idl.html#imports</a></p>\n</blockquote>\n\n<p>So an alternative is to create a <code>protocol</code> that \"implements\" all your protocols, such as:</p>\n\n<pre><code>@namespace(\"foo.bar\")\nprotocol AllProtocols {\n    import idl \"foo.avdl\"\n    import idl \"bar.avdl\"\n}\n</code></pre>\n\n<p>and creating your class that implements this protocol:</p>\n\n<pre><code>object AllProtocolsImpl : AllProtocols {\n    override fun foo(): Void? {return null}\n    override fun bar(): Void? {return null}\n</code></pre>\n\n<p>}</p>\n\n<p>then creating your server that serves this protocol:</p>\n\n<pre><code>val server = NettyServer(SpecificResponder(AllProtocols.PROTOCOL, AllProtocolsImpl), InetSocketAddress(9090))\n</code></pre>\n\n<p>Any client requiring Foo or Bar may connect to this server and use its protocol.</p>\n"}], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 51165406, "answer_count": 1, "score": 1, "last_activity_date": 1549539859, "creation_date": 1530675615, "last_edit_date": 1549539859, "question_id": 51165405, "link": "https://stackoverflow.com/questions/51165405/avro-rpc-multiple-responders-for-one-nettyserver", "title": "Avro RPC multiple Responders for one NettyServer", "body": "<p>I'm studying Avro RPC and I'm trying to create a simple example to better understand it.</p>\n\n<p>But I'm facing a difficulty: I can't run a server with more than one <code>Responder</code>, as the NettyServer constructor only allows me to use one:</p>\n\n<pre><code>public NettyServer(Responder responder, InetSocketAddress addr)\n</code></pre>\n\n<p>So, if I have more than one IDL, like this:</p>\n\n<pre><code>@namespace(\"foo.bar\")\nprotocol FooProtocol {\n    void foo();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>@namespace(\"foo.bar\")\nprotocol BarProtocol {\n    void bar();\n}\n</code></pre>\n\n<p>I'm not able to add both to my NettyServer (as in listening to the same port):</p>\n\n<pre><code>object FooProtocolImpl : FooProtocol {\n\n    override fun foo(): Void? {return null}\n}\nobject BarProtocolImpl : BarProtocol {\n    override fun bar(): Void? {return null}\n}\n</code></pre>\n\n<hr>\n\n<pre><code>val server = NettyServer(SpecificResponder(FooProtocol.PROTOCOL, FooProtocolImpl), InnetSocketAddress(9090))\n</code></pre>\n\n<p>How to add BarProtocol to my server? How to make this NettyServer useful for both Protocols?</p>\n"}, {"tags": ["kotlin", "coding-style"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1530692585, "post_id": 51165337, "comment_id": 89320844, "body": "Recent versions of the Kotlin plugin (starting from 1.2.20 I think) do generate the package name when you create new Kotlin files in the root folder, if all other files in that folder have the same package declaration."}], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1530686835, "post_id": 51166290, "comment_id": 89317823, "body": "Yes, defualt package is a bad practice, but in case of Koltin coding conventions, they did not recommend use defualt package, they recommend omit root package in directory structure and define package directive in your source code files like root package is exists"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1530688423, "post_id": 51166290, "comment_id": 89318632, "body": "Yes, this has absolutely nothing to do with default package."}], "tags": [], "owner": {"reputation": 172, "user_id": 8969842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r-Xb0TkLqec/AAAAAAAAAAI/AAAAAAAAHcs/l5S9gwdmE9k/photo.jpg?sz=128", "display_name": "Ivan Samborskii", "link": "https://stackoverflow.com/users/8969842/ivan-samborskii"}, "is_accepted": false, "score": -2, "last_activity_date": 1530681879, "creation_date": 1530681879, "answer_id": 51166290, "question_id": 51165337, "link": "https://stackoverflow.com/questions/51165337/why-in-the-official-kotlin-coding-conventions-we-should-omit-root-package-in-dir/51166290#51166290", "title": "Why in the official Kotlin coding conventions we should omit root package in directory structure?", "body": "<p>I think this rule is inherited from Java code style where using of default package is a bad practice.</p>\n\n<p>You can check <a href=\"https://stackoverflow.com/questions/7849421/is-the-use-of-javas-default-package-a-bad-practice\">this topic</a> to obtain more information about default package in Java.</p>\n"}, {"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1530690426, "post_id": 51167812, "comment_id": 89319719, "body": "Thanks for information about package prefix! But is there some explanation why do we need omit the root package directory? Why is it good for project source code?  I heard about one advantage: refactoring root package does not move files from one directory to another - but I dont think that it is advantage"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1530691154, "post_id": 51167812, "comment_id": 89320069, "body": "I don&#39;t think there is any &quot;need&quot;, it&#39;s just to get a simpler and easier-to-navigate directory structure with no disadvantages once you set package prefix (unless you use tools assuming complete correspondence between directory and package structure and which can&#39;t be taught this difference)."}, {"owner": {"reputation": 61, "user_id": 5719959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9587f44542a96aaa16eaba342e12622?s=128&d=identicon&r=PG&f=1", "display_name": "Sola", "link": "https://stackoverflow.com/users/5719959/sola"}, "edited": false, "score": 0, "creation_date": 1543144942, "post_id": 51167812, "comment_id": 93804570, "body": "@AlexeyRomanov But how can I set the package prefix by using build tools (e.g. Gradle)? Because once I refreshed my gradle project, the package prefix got reset."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 61, "user_id": 5719959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9587f44542a96aaa16eaba342e12622?s=128&d=identicon&r=PG&f=1", "display_name": "Sola", "link": "https://stackoverflow.com/users/5719959/sola"}, "edited": false, "score": 0, "creation_date": 1543149734, "post_id": 51167812, "comment_id": 93805728, "body": "@Sola I don&#39;t know. You may want to make it a separate question here or at <a href=\"https://discuss.kotlinlang.org/\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org</a>."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1530688369, "creation_date": 1530688369, "answer_id": 51167812, "question_id": 51165337, "link": "https://stackoverflow.com/questions/51165337/why-in-the-official-kotlin-coding-conventions-we-should-omit-root-package-in-dir/51167812#51167812", "title": "Why in the official Kotlin coding conventions we should omit root package in directory structure?", "body": "<p>From a <a href=\"https://www.reddit.com/r/androiddev/comments/7mwopn/new_official_kotlin_style_guide/ds80nnl/\" rel=\"nofollow noreferrer\">Reddit comment</a>:</p>\n\n<blockquote>\n  <p>I guess you're supposed to use the package prefix\n  <a href=\"https://i.stack.imgur.com/35nRe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35nRe.png\" alt=\"enter image description here\"></a>\n   in the project structure, but sadly that feature is only available in IDEA and not Android Studio.</p>\n</blockquote>\n\n<p>I agree it's weird that it's not documented more explicitly, I've only found <a href=\"https://www.jetbrains.com/help/idea/creating-and-managing-modules.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/creating-and-managing-modules.html</a>. You may want to consider raising the issue on <a href=\"http://discuss.kotlinlang.org/\" rel=\"nofollow noreferrer\">http://discuss.kotlinlang.org/</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1558328807, "post_id": 56177795, "comment_id": 99049949, "body": "Cool! Thanks for info"}], "tags": [], "owner": {"reputation": 66, "user_id": 490369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84dd3ab32fba1591fa58565ece2f090c?s=128&d=identicon&r=PG", "display_name": "alshan", "link": "https://stackoverflow.com/users/490369/alshan"}, "is_accepted": false, "score": 1, "last_activity_date": 1558049433, "creation_date": 1558049433, "answer_id": 56177795, "question_id": 51165337, "link": "https://stackoverflow.com/questions/51165337/why-in-the-official-kotlin-coding-conventions-we-should-omit-root-package-in-dir/56177795#56177795", "title": "Why in the official Kotlin coding conventions we should omit root package in directory structure?", "body": "<p>Looks like support for <code>packagePrefix</code> was added to <code>idea-ext</code> gradle plugin in version 0.5 : <a href=\"https://github.com/JetBrains/gradle-idea-ext-plugin/wiki/DSL-spec-v.-0.5#package-prefix-requires-idea-20191\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/gradle-idea-ext-plugin/wiki/DSL-spec-v.-0.5#package-prefix-requires-idea-20191</a></p>\n"}], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1558049433, "creation_date": 1530674844, "last_edit_date": 1530686711, "question_id": 51165337, "link": "https://stackoverflow.com/questions/51165337/why-in-the-official-kotlin-coding-conventions-we-should-omit-root-package-in-dir", "title": "Why in the official Kotlin coding conventions we should omit root package in directory structure?", "body": "<p>In the official Kotlin coding conventions (<a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coding-conventions.html</a>) they recommend to us to omit root package in directory structure. It is not comfortable, when you create a new file in your <code>kotlin</code> source folder and then edit the package name, because it did not generated automatically.</p>\n"}, {"tags": ["android", "menu", "kotlin", "right-to-left"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1530687209, "post_id": 51165248, "comment_id": 89318022, "body": "Is your device configuration RTL?"}, {"owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "edited": false, "score": 0, "creation_date": 1530721369, "post_id": 51165248, "comment_id": 89338113, "body": "@mTak do you mean the configuration RTL from setting and choice <code>developer option</code> and then <code>Force RTL layout</code>? but this  option does not exist  on my device (API  level 18)"}], "owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1530674974, "creation_date": 1530673947, "last_edit_date": 1530674974, "question_id": 51165248, "link": "https://stackoverflow.com/questions/51165248/rtl-layout-direction-of-menu-items-by-using-kotlin", "title": "RTL layout Direction of menu items by using Kotlin", "body": "<p>How to apply <code>layoutDirection</code> RTL because I have a Slide menu And I need to <code>align</code> the Direction items for (drawable image and text) to be right to left And when I Try adding these attributes</p>\n\n<pre><code>    android:layoutDirection=\"rtl\"\n    android:textDirection=\"rtl\"\n</code></pre>\n\n<p>It's not working, Any help?</p>\n\n<p>Note: in the Manifest file I'm using <code>android:supportsRtl=\"true\"</code></p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>    class MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\n    private var myToolbar:Toolbar? = null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        myToolbar= findViewById(R.id.toolbar)\n        setSupportActionBar(myToolbar)\n        title = \"\"\n\n         val drawer = findViewById&lt;View&gt;(R.id.drawer_layout) as DrawerLayout\n         val menuRight = findViewById&lt;View&gt;(R.id.menuRight) as ImageButton\n        menuRight.setOnClickListener {\n            if (drawer.isDrawerOpen(GravityCompat.END)) {\n                drawer.closeDrawer(GravityCompat.END)\n            } else {\n                drawer.openDrawer(GravityCompat.END)\n            }\n        }\n        val navigationView2 = findViewById&lt;View&gt;(R.id.nav_view2) as NavigationView\n        navigationView2.setNavigationItemSelectedListener(this)\n    }\n\n    override fun onNavigationItemSelected(item: MenuItem): Boolean {\n    // Handle navigation view item clicks here.\n        val id = item.itemId\n         var text = \"\"\n    if (id == R.id.nav_home)\n            {\n                text = \"home\"\n            } else if (id == R.id.nav_bar) {\n                text = \"bar\"\n                val i = Intent(this, ViewDatabase::class.java)\n                startActivity(i)\n            } else if (id == R.id.nav_pool) {\n                text = \"pool\"\n            } else if (id == R.id.nav_exit) {\n                text = \"exit\"\n                signOut()\n            }\n    Toast.makeText(this, \"You have chosen $text\", Toast.LENGTH_LONG).show()\n        val drawer = findViewById&lt;View&gt;(R.id.drawer_layout) as DrawerLayout\n        drawer.closeDrawer(GravityCompat.END)\n        return true\n    }\n</code></pre>\n\n<p><strong>activity_main_drawer1.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layoutDirection=\"rtl\"\n    android:textDirection=\"rtl\"\n    android:layout_gravity=\"end\"\n    android:gravity=\"end\"\n    tools:ignore=\"UnusedAttribute\"&gt;\n\n    &lt;group android:checkableBehavior=\"single\"\n        android:layout_gravity=\"end\"\n        android:gravity=\"end\"&gt;\n        &lt;item\n            android:id=\"@+id/nav_home\"\n            android:icon=\"@drawable/ic_home_white_24dp\"\n            android:title=\"Home\"\n            android:layout_gravity=\"end\"\n            android:gravity=\"end\" /&gt;\n        &lt;item\n            android:id=\"@+id/nav_bar\"\n            android:icon=\"@drawable/ic_local_bar_white_24dp\"\n            android:title=\"Bar\"\n            android:layout_gravity=\"end\"\n            android:gravity=\"end\"/&gt;\n        &lt;item\n            android:id=\"@+id/nav_pool\"\n            android:icon=\"@drawable/ic_pool_white_24dp\"\n            android:title=\"Pool\"\n            android:layout_gravity=\"end\"\n            android:gravity=\"end\"/&gt;\n    &lt;/group&gt;\n\n    &lt;item android:title=\"Communicate\"\n        android:layout_gravity=\"end\"\n        android:gravity=\"end\"&gt;\n        &lt;menu&gt;\n            &lt;item\n                android:id=\"@+id/nav_exit\"\n                android:icon=\"@drawable/ic_menu_send\"\n                android:title=\"exit\"\n                android:layout_gravity=\"end\"\n                android:gravity=\"end\"/&gt;\n        &lt;/menu&gt;\n    &lt;/item&gt;\n\n    &lt;/menu&gt;\n</code></pre>\n\n<p><strong>app_bar_main.xml</strong></p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;android.support.design.widget.CoordinatorLayout   xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    tools:context=\"com.example.android.mbdb.MainActivity\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/xx\"\n        app:elevation=\"0dp\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?android:attr/actionBarSize\"\n            android:background=\"@android:color/transparent\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\"&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"@string/app_name\"\n                    android:textColor=\"@color/e\"\n                    android:textStyle=\"bold\"\n                    android:textSize=\"15sp\"\n                    android:layout_centerHorizontal=\"true\"\n                      android:layout_margin=\"@dimen/activity_horizontal_margin\"/&gt;\n\n                &lt;ImageButton\n                    android:id=\"@+id/menuRight\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_alignParentRight=\"true\"\n                    android:layout_alignParentEnd=\"true\"\n                    android:src=\"@drawable/ic_menu_white_24dp\"\n                    android:tint=\"@color/xx\" /&gt;\n            &lt;/RelativeLayout&gt;\n        &lt;/android.support.v7.widget.Toolbar&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p><strong>nav_header.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"176dp\"\n    android:background=\"@color/colorAccent\"\n    android:gravity=\"bottom\"\n    android:orientation=\"vertical\"\n    android:padding=\"16dp\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:src=\"@mipmap/logo5\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:paddingTop=\"8dp\"\n        android:text=\"Coding new\"\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "spring", "intellij-idea", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530683373, "post_id": 51165159, "comment_id": 89316197, "body": "Are you using proguard?"}, {"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530701619, "post_id": 51165159, "comment_id": 89326457, "body": "@BrijeshJoshi No, I don&#39;t use proguard"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530701740, "post_id": 51165159, "comment_id": 89326530, "body": "Can you add your gradle file here."}, {"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702110, "post_id": 51165159, "comment_id": 89326778, "body": "@BrijeshJoshi it has been added"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702129, "post_id": 51165159, "comment_id": 89326790, "body": "Yes let me check it"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702230, "post_id": 51165159, "comment_id": 89326865, "body": "Are you getting error at runtime?"}, {"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702353, "post_id": 51165159, "comment_id": 89326958, "body": "@BrijeshJoshi No, I am not getting any error at runtime."}, {"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702365, "post_id": 51165159, "comment_id": 89326963, "body": "@BrijeshJoshi No, I am not getting any error at runtime."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702397, "post_id": 51165159, "comment_id": 89326984, "body": "Than? at compile?"}, {"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "reply_to_user": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530702520, "post_id": 51165159, "comment_id": 89327042, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/174339/discussion-between-ace-falobi-and-brijesh-joshi\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "edited": false, "score": 0, "creation_date": 1530702081, "post_id": 51166349, "comment_id": 89326751, "body": "Yes, I have the Jackson Module for Kotlin. It&#39;s also worth noting that I have used other Jackson annotations in this same project like <code>@JsonIgnoreProperties</code> and <code>@JsonIgnore</code>"}], "tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1530682198, "creation_date": 1530682198, "answer_id": 51166349, "question_id": 51165159, "link": "https://stackoverflow.com/questions/51165159/jsonview-annotation-not-working/51166349#51166349", "title": "@JsonView annotation not working", "body": "<p>Make sure you have <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">Jackson Module for Kotlin</a> on your classpath and registered on an instance of ObjectMapper.</p>\n"}, {"comments": [{"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "edited": false, "score": 0, "creation_date": 1530705589, "post_id": 51172615, "comment_id": 89329033, "body": "Thanks for the answer. Any idea how to add proguard to my project?"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "edited": false, "score": 0, "creation_date": 1530705734, "post_id": 51172615, "comment_id": 89329136, "body": "There will be a file name <code>proguard-rules.pro</code> in your app module already. That is your proguard file"}, {"owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "edited": false, "score": 0, "creation_date": 1530706090, "post_id": 51172615, "comment_id": 89329354, "body": "I can&#39;t find any proguard-rules file in my app or project module"}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "reply_to_user": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "edited": false, "score": 0, "creation_date": 1530706321, "post_id": 51172615, "comment_id": 89329497, "body": "Create a file <code>proguard-rules.pro</code> in your app module. And than from the <b>app settings-&gt;Flavours-&gt;Proguard File</b> select your  created file there it will be than added to your project"}], "tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1530703747, "creation_date": 1530703747, "answer_id": 51172615, "question_id": 51165159, "link": "https://stackoverflow.com/questions/51165159/jsonview-annotation-not-working/51172615#51172615", "title": "@JsonView annotation not working", "body": "<ol>\n<li><p>As said in documentation of <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">FasterXML</a>. If using <strong>proguard</strong>, kotlin.Metadata annotations may be stripped, preventing deserialization. Add a proguard rule to keep the kotlin.Metadata class: <code>-keep class kotlin.Metadata { *; }</code> </p></li>\n<li><p>Try using <code>@field:JsonView(View.AlbumSummary::class)</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3321, "user_id": 2323964, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e348b1e9034b66bcd141fe0e65eacb83?s=128&d=identicon&r=PG&f=1", "display_name": "Novaterata", "link": "https://stackoverflow.com/users/2323964/novaterata"}, "is_accepted": false, "score": 0, "last_activity_date": 1591052755, "creation_date": 1591052755, "answer_id": 62142307, "question_id": 51165159, "link": "https://stackoverflow.com/questions/51165159/jsonview-annotation-not-working/62142307#62142307", "title": "@JsonView annotation not working", "body": "<p>I had this same problem, and the JsonView only worked after I moved the fields out of the constructor and into the class body. You wouldn't use a data class in this case, but you can still delegate equals hashcode toString to a private inner data class.</p>\n"}], "owner": {"reputation": 651, "user_id": 7810510, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-SNcXdpmt0wE/AAAAAAAAAAI/AAAAAAAAREk/lCycUtX9GDc/photo.jpg?sz=128", "display_name": "Ace Falobi", "link": "https://stackoverflow.com/users/7810510/ace-falobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1591052755, "creation_date": 1530672984, "last_edit_date": 1530707395, "question_id": 51165159, "link": "https://stackoverflow.com/questions/51165159/jsonview-annotation-not-working", "title": "@JsonView annotation not working", "body": "<p>I am trying to deserialize several fields from my object in Spring using the <code>@JsonView</code> annotation. However, I add the annotation to my method, instead of deserializing the specified field, it returns an empty object.</p>\n\n<p>Here is my POJO:</p>\n\n<pre><code>@Entity\ndata class Album(\n        @JsonView(View.AlbumSummary::class)\n        val title: String,\n\n        @JsonView(View.AlbumSummary::class)\n        @ManyToMany\n        val artists: List&lt;Account&gt;,\n\n        val dateReleased: LocalDate,\n\n        val genre: String = GENRE_NA,\n\n        @OneToMany(mappedBy = \"album\")\n        val songs: List&lt;Song&gt; = ArrayList(),\n\n        val description: String = \"\"\n)\n</code></pre>\n\n<p>And also, the method that implements the <code>@JsonView</code> annotation:</p>\n\n<pre><code>@JsonView(View.AlbumSummary::class)\n@RequestMapping(\"/home-recommendations/{userId}\")\nfun getHomeRecommendations(@PathVariable userId: String): List&lt;Recommendation&gt; {\n\n    val recommendations = ArrayList&lt;Recommendation&gt;()\n\n    val user = accountRepository.findById(userId).get()\n    val followingArtists = user.following.filter {\n        it.following.isArtist\n    }\n    val suggestedArtists = followingArtists.shuffled().take(Random().nextInt(11) + 10)\n\n    for (i in 0 until suggestedArtists.size) {\n\n        val suggestedArtist = suggestedArtists[i].following\n\n        val recommendedAlbums = suggestedArtist.albums.shuffled().take(Random().nextInt(6) + 10)\n\n        recommendations.add(Recommendation(\"Because you listened to ${suggestedArtist.fullName}\", Recommendation.TYPE_ALBUM, albums = recommendedAlbums))\n\n    }\n\n    return recommendations\n\n}\n</code></pre>\n\n<p>Edit: My gradle configuration:</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.2.50'\n        springBootVersion = '2.0.3.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-noarg:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'kotlin-jpa'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.aceinteract'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-data-jpa')\n    compile('org.springframework.boot:spring-boot-starter-data-rest')\n    compile('org.springframework.boot:spring-boot-starter-jdbc')\n    compile('org.springframework.boot:spring-boot-starter-mustache')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('com.fasterxml.jackson.module:jackson-module-kotlin')\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    runtime('org.postgresql:postgresql')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n    testCompile('org.springframework.restdocs:spring-restdocs-mockmvc')\n}\n</code></pre>\n\n<p>I can provide more code if needed. Thanks in advance.</p>\n\n<p>P.S. The same code works perfectly when the <code>@JsonView</code> annotation is removed from the method</p>\n\n<p>Also, I'm using IntelliJ Idea</p>\n"}, {"tags": ["android", "firebase", "push-notification", "kotlin", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 1154, "user_id": 734659, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3cf297229a5fa7bb4cc2dc97f26fa096?s=128&d=identicon&r=PG", "display_name": "Mike T", "link": "https://stackoverflow.com/users/734659/mike-t"}, "edited": false, "score": 0, "creation_date": 1554308841, "post_id": 51164610, "comment_id": 97706678, "body": "Experiencing the same thing. Did you solve that issue? What was the problem?"}, {"owner": {"reputation": 1154, "user_id": 734659, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3cf297229a5fa7bb4cc2dc97f26fa096?s=128&d=identicon&r=PG", "display_name": "Mike T", "link": "https://stackoverflow.com/users/734659/mike-t"}, "edited": false, "score": 0, "creation_date": 1554358241, "post_id": 51164610, "comment_id": 97723142, "body": "After a little investigation I found out that my issue had nothing todo with the <b>_fbSourceApplicationHasBeenSet</b>  In my case I just read the intent from the wrong activity."}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1530678478, "creation_date": 1530678478, "answer_id": 51165768, "question_id": 51164610, "link": "https://stackoverflow.com/questions/51164610/get-extras-from-notifcation-fcm/51165768#51165768", "title": "Get extras from notifcation - FCM", "body": "<p>This is the code I used earlier when I had faced the similar issue.</p>\n\n<pre><code>Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n    intent.putExtra(\"Message\", message);\n    intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingNotificationIntent = PendingIntent.getActivity(getApplicationContext(),notificationIndex,intent ,PendingIntent.FLAG_UPDATE_CURRENT);\n    notification.flags |= Notification.FLAG_AUTO_CANCEL;\n    notification.setLatestEventInfo(getApplicationContext(), notificationTitle, notificationMessage, pendingNotificationIntent);\n</code></pre>\n\n<p>In your MainActivity:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    onNewIntent(getIntent());\n}\n\n@Override\npublic void onNewIntent(Intent intent){\n    Bundle extras = intent.getExtras();\n    if(extras != null){\n        if(extras.containsKey(\"Message\"))\n        {\n            // get extras Notification\n            String msg = extras.getString(\"Message\");\n            //next you can continue using the msg wherever the MainActivity wants\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 3148943, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1SumD.jpg?s=128&g=1", "display_name": "Muhammad", "link": "https://stackoverflow.com/users/3148943/muhammad"}, "is_accepted": false, "score": 0, "last_activity_date": 1557319587, "creation_date": 1557319587, "answer_id": 56041157, "question_id": 51164610, "link": "https://stackoverflow.com/questions/51164610/get-extras-from-notifcation-fcm/56041157#56041157", "title": "Get extras from notifcation - FCM", "body": "<p>If you are using SplashActivity in your app then it is the one to get the data from</p>\n\n<p>inside onCreate()</p>\n\n<pre><code>if (getIntent().getExtras()!=null){\n   JSONObject json = new JSONObject();\n        Set&lt;String&gt; keys = getIntent().getExtras().keySet();\n        for (String key : keys) {\n            try {\n                json.put(key, JSONObject.wrap(extras.get(key)));\n            } catch (JSONException e) {\n            }\n        }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 7377234, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10207297040896733/picture?type=large", "display_name": "Wellington Yogui", "link": "https://stackoverflow.com/users/7377234/wellington-yogui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1834, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1557319587, "creation_date": 1530666980, "last_edit_date": 1530702571, "question_id": 51164610, "link": "https://stackoverflow.com/questions/51164610/get-extras-from-notifcation-fcm", "title": "Get extras from notifcation - FCM", "body": "<p>I'm trying to get extra from bundle when I open the app when click on notification. </p>\n\n<p>I have this method on MainActivity:</p>\n\n<pre><code>    private void getBundleFromFirebaseMessaging(){\n    Intent intent = this.getIntent();\n    if (intent != null &amp;&amp; intent.getExtras() != null) {\n        Bundle b = getIntent().getExtras();\n        boolean cameFromNotification = b.getBoolean(\"fromNotification\");\n        if (cameFromNotification) {\n            Toast.makeText(this, \"FROM PUSH\", Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n\n<p>The only bundle I get is the _fbSourceApplicationHasBeenSet.</p>\n\n<p>This is my method on my FirebaseMessaging class</p>\n\n<pre><code>    private fun sendNotification(message: RemoteMessage) {\n    val messageBody = message.notification?.body\n    val intent = Intent(this, MainActivity::class.java)\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)\n    intent.putExtra(\"fromNotification\", true)\n    val pendingIntent = PendingIntent.getActivity(this,\n            0 /* Request code */, intent,\n            PendingIntent.FLAG_ONE_SHOT)\n\n    val channelId = getString(R.string.notification_channel)\n    val channelName = getString(R.string.notification_channel_name)\n\n    val defaultSoundUri = RingtoneManager\n            .getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\n\n    val notificationBuilder = NotificationCompat\n            .Builder(this, channelId)\n            .setSmallIcon(R.drawable.login_logo)\n            .setContentTitle(\"Title\")\n            .setContentText(messageBody)\n            .setAutoCancel(true)\n            .setSound(defaultSoundUri)\n            .setContentIntent(pendingIntent)\n\n    notificationManager = getSystemService(Context.NOTIFICATION_SERVICE)\n            as NotificationManager\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        val channel = NotificationChannel(channelId,\n                channelName,\n                NotificationManager.IMPORTANCE_DEFAULT)\n        notificationManager.createNotificationChannel(channel)\n    }\n\n    notificationManager.notify(0 /* ID of notification */, notificationBuilder.build())\n}\n</code></pre>\n"}, {"tags": ["android", "animation", "android-activity", "kotlin", "transition"], "comments": [{"owner": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530678665, "post_id": 51164587, "comment_id": 89314688, "body": "What I understood from your question is that you would like to animate a view inside an Activity and not an Activity itself. Is that right?"}, {"owner": {"reputation": 719, "user_id": 3292107, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fa6ec87251f7fe8862e11530655aafd?s=128&d=identicon&r=PG&f=1", "display_name": "M. Johnson", "link": "https://stackoverflow.com/users/3292107/m-johnson"}, "reply_to_user": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530684263, "post_id": 51164587, "comment_id": 89316569, "body": "i want to create animation right to left in certain layout after onCreate activity using <code>Slide()</code>, i try like my code, not working, but i remove <code>addTarget</code> of view id what i want to animate, animation working but all window have animation right to left"}, {"owner": {"reputation": 719, "user_id": 3292107, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fa6ec87251f7fe8862e11530655aafd?s=128&d=identicon&r=PG&f=1", "display_name": "M. Johnson", "link": "https://stackoverflow.com/users/3292107/m-johnson"}, "reply_to_user": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530684324, "post_id": 51164587, "comment_id": 89316600, "body": "yes like that @VijayE"}, {"owner": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530685712, "post_id": 51164587, "comment_id": 89317281, "body": "Please look into this answer, it is well explained with code.  <a href=\"https://stackoverflow.com/questions/20696801/how-to-make-a-right-to-left-animation-in-a-layout\" title=\"how to make a right to left animation in a layout\">stackoverflow.com/questions/20696801/&hellip;</a>"}, {"owner": {"reputation": 719, "user_id": 3292107, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fa6ec87251f7fe8862e11530655aafd?s=128&d=identicon&r=PG&f=1", "display_name": "M. Johnson", "link": "https://stackoverflow.com/users/3292107/m-johnson"}, "reply_to_user": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530686909, "post_id": 51164587, "comment_id": 89317851, "body": "thanks alot, you are the best @VijayE"}, {"owner": {"reputation": 719, "user_id": 3292107, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fa6ec87251f7fe8862e11530655aafd?s=128&d=identicon&r=PG&f=1", "display_name": "M. Johnson", "link": "https://stackoverflow.com/users/3292107/m-johnson"}, "reply_to_user": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530689364, "post_id": 51164587, "comment_id": 89319159, "body": "but if using like that, not smooth in certain device"}, {"owner": {"reputation": 459, "user_id": 7556310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/795408d8f1b2d3850b6c714b43dfebe5?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay E", "link": "https://stackoverflow.com/users/7556310/vijay-e"}, "edited": false, "score": 0, "creation_date": 1530693516, "post_id": 51164587, "comment_id": 89321327, "body": "You are welcome @Bekti. If you can be specific what view you want to animate that would help me to find appropriate solution for you."}], "owner": {"reputation": 719, "user_id": 3292107, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fa6ec87251f7fe8862e11530655aafd?s=128&d=identicon&r=PG&f=1", "display_name": "M. Johnson", "link": "https://stackoverflow.com/users/3292107/m-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530667268, "creation_date": 1530666852, "last_edit_date": 1530667268, "question_id": 51164587, "link": "https://stackoverflow.com/questions/51164587/android-slide-trantition-animation-not-working-when-using-target", "title": "Android Slide Trantition animation not working when using target", "body": "<p>i want to crate animation from right to left when change activity, but not of window only certain layout, this is my code :</p>\n\n<pre><code>    val transition = Slide()\n    transition.duration = 300\n    transition.slideEdge = Gravity.END\n    transition.mode = Visibility.MODE_IN\n    transition.interpolator = DecelerateInterpolator(2f)\n    transition.addTarget(R.id.ln_verification_phone)\n    window.enterTransition = transition\n</code></pre>\n\n<p>but when i remove <code>transition.addTarget(R.id.ln_verification_phone)</code>, animation working but all of window, i want to target of view, are there wrong in my code, i try using <code>exclude</code> also not work</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "android-contentprovider", "android-image"], "answers": [{"tags": [], "owner": {"reputation": 2256, "user_id": 5690248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dabe0ffbb33a4bffa6ed4801272c759b?s=128&d=identicon&r=PG&f=1", "display_name": "The Dreams Wind", "link": "https://stackoverflow.com/users/5690248/the-dreams-wind"}, "is_accepted": false, "score": 0, "last_activity_date": 1530732544, "last_edit_date": 1530732544, "creation_date": 1530656629, "answer_id": 51163519, "question_id": 51163446, "link": "https://stackoverflow.com/questions/51163446/open-an-image-in-internal-storage-using-content-provider/51163519#51163519", "title": "Open an Image in Internal Storage Using Content Provider", "body": "<p>You won't be able to open an image packaged with the app (in drawable or whatever resources) through an external application. You should first copy it into (at least) an <a href=\"https://developer.android.com/guide/topics/data/data-storage#filesInternal\" rel=\"nofollow noreferrer\">internal file storage</a>. After that you can implement a <a href=\"https://developer.android.com/reference/android/support/v4/content/FileProvider\" rel=\"nofollow noreferrer\">FileProvider</a> to provide access to this file.</p>\n\n<p>Let me know if you need more details on this. Hope it helped.</p>\n"}], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530732544, "creation_date": 1530656195, "question_id": 51163446, "link": "https://stackoverflow.com/questions/51163446/open-an-image-in-internal-storage-using-content-provider", "title": "Open an Image in Internal Storage Using Content Provider", "body": "<p>Let's say I package an image with my app and I want to open it with the default image viewer/whatever image viewer the user has chosen to be the default. How would I do that?</p>\n\n<p>There's already this post: <a href=\"https://stackoverflow.com/questions/5383797/open-an-image-using-uri-in-androids-default-gallery-image-viewer\">Open an image using URI in Android&#39;s default gallery image viewer</a> but many of the answers are obsolete because due to the introduction of android N, a content provider must be used.</p>\n\n<p>The only answer I can find is this one: </p>\n\n<pre><code>File file = ...;\nfinal Intent intent = new Intent(Intent.ACTION_VIEW)//\n                                    .setDataAndType(VERSION.SDK_INT &gt;= VERSION_CODES.N ?\n                                                    android.support.v4.content.FileProvider.getUriForFile(this,getPackageName() + \".provider\", file) : Uri.fromFile(file),\n                            \"image/*\").addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n</code></pre>\n\n<p>but, according to the author of this solution, this code only works for images stored externally, not ones that may be packaged with my app. </p>\n"}, {"tags": ["android", "tabs", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530708015, "post_id": 51161915, "comment_id": 89330574, "body": "can you add an image to illustrate your problem better?"}, {"owner": {"reputation": 873, "user_id": 3999351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6GkO9.jpg?s=128&g=1", "display_name": "MFAL", "link": "https://stackoverflow.com/users/3999351/mfal"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530724924, "post_id": 51161915, "comment_id": 89339586, "body": "@HawkPriest. At the moment I am keeping all buttons in one tab to do some progress. I will try to take small recording later on. Thanks"}], "owner": {"reputation": 873, "user_id": 3999351, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6GkO9.jpg?s=128&g=1", "display_name": "MFAL", "link": "https://stackoverflow.com/users/3999351/mfal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530647229, "creation_date": 1530647229, "question_id": 51161915, "link": "https://stackoverflow.com/questions/51161915/android-buttons-behind-tabs-are-getting-selected-instead-of-the-one-in-the-selec", "title": "Android Buttons behind tabs are getting selected instead of the one in the selected tab", "body": "<p>I'm facing a weird and unexpected behaviour. I have an Android app built in kotlin 1.2.50 targeting vs 27 (min 24) that is using several tabs. \nOn SectionsPagerAdapter getItem I am returning a different fragment that contains a list of buttons into a table layout. The problem is that when I click on a button the clicked event is raised by a non visible tab. The top most button setOnClickListener in the visible tab is not fired</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 132, "user_id": 6168139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d766e56f7b9766912ab9aacdb383e05?s=128&d=identicon&r=PG", "display_name": "rushi", "link": "https://stackoverflow.com/users/6168139/rushi"}, "edited": false, "score": 1, "creation_date": 1530647944, "post_id": 51161792, "comment_id": 89307462, "body": "Why don&#39;t you use IntelliJ IDEA? It has similar (rather identical) workflow to Android Studio. Its community edition is free. It handles the SDK installation part. <a href=\"https://kotlinlang.org/docs/tutorials/getting-started.html\" rel=\"nofollow noreferrer\">reference</a>"}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "reply_to_user": {"reputation": 132, "user_id": 6168139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d766e56f7b9766912ab9aacdb383e05?s=128&d=identicon&r=PG", "display_name": "rushi", "link": "https://stackoverflow.com/users/6168139/rushi"}, "edited": false, "score": 0, "creation_date": 1530648180, "post_id": 51161792, "comment_id": 89307557, "body": "@rushi Thank you,  I have seen that page (but didn&#39;t realise it dealt with the SDK for me),  while I understand it&#39;s the easiest option I don&#39;t really want to keep installing extra tools, to remove them later.  I was hoping I could just run in Android Studio until I moved on from complete basics and to developing Android properly but if I have no other option that is what I will have to do."}, {"owner": {"reputation": 132, "user_id": 6168139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d766e56f7b9766912ab9aacdb383e05?s=128&d=identicon&r=PG", "display_name": "rushi", "link": "https://stackoverflow.com/users/6168139/rushi"}, "edited": false, "score": 2, "creation_date": 1530648231, "post_id": 51161792, "comment_id": 89307578, "body": "Also, <a href=\"https://stackoverflow.com/questions/16626810/can-android-studio-be-used-to-run-standard-java-projects\">this question</a> might be helpful. I guess running &quot;pure&quot; kotlin script would be same as for &quot;pure&quot; java. However, I have not done this myself."}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "reply_to_user": {"reputation": 132, "user_id": 6168139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d766e56f7b9766912ab9aacdb383e05?s=128&d=identicon&r=PG", "display_name": "rushi", "link": "https://stackoverflow.com/users/6168139/rushi"}, "edited": false, "score": 0, "creation_date": 1530648447, "post_id": 51161792, "comment_id": 89307665, "body": "@rushi  Thank you, that is exactly what I am hoping to acieve only in Kotlin, I might be able to get it working ;)"}], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 3, "last_activity_date": 1530691302, "creation_date": 1530691302, "answer_id": 51168647, "question_id": 51161792, "link": "https://stackoverflow.com/questions/51161792/running-kotlin-scripts-on-desktop-in-android-studio/51168647#51168647", "title": "Running Kotlin scripts on desktop in Android Studio", "body": "<p>This is how I got it working:</p>\n\n<p>First create a normal project. Then go to:</p>\n\n<blockquote>\n  <p>File menu -> New -> New Module -> Java Library</p>\n</blockquote>\n\n<p>After that set your build.gradle as:</p>\n\n<pre><code>apply plugin: 'kotlin'\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>Then create a new kotlin file with the main method </p>\n\n<p><a href=\"https://i.stack.imgur.com/RDXJL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RDXJL.png\" alt=\"kotlin code\"></a></p>\n\n<p>To execute just click on the play/run green button on the left of the main method as seen in the image above. </p>\n\n<p>And you are good to go!</p>\n"}, {"tags": [], "owner": {"reputation": 1976, "user_id": 9937309, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cALD0EpWqls/AAAAAAAAAAI/AAAAAAAAARs/RaQzFwo3fzo/photo.jpg?sz=128", "display_name": "Shahzad Akram", "link": "https://stackoverflow.com/users/9937309/shahzad-akram"}, "is_accepted": false, "score": 1, "last_activity_date": 1531144070, "last_edit_date": 1531144070, "creation_date": 1531143759, "answer_id": 51247046, "question_id": 51161792, "link": "https://stackoverflow.com/questions/51161792/running-kotlin-scripts-on-desktop-in-android-studio/51247046#51247046", "title": "Running Kotlin scripts on desktop in Android Studio", "body": "<p>I think Kotlin single file doesn't run as a module like java.\nThe easiest way is to create a new Java library module like <a href=\"https://stackoverflow.com/questions/16626810/can-android-studio-be-used-to-run-standard-java-projects/26196451#26196451\">this</a>, and configure it for Kotlin. After that make 2 classes, a Java class and a Kotlin class. Call your Kotlin methods from the Java main function. <a href=\"https://stackoverflow.com/a/51234812/9937309\">Check my complete answer here</a>..</p>\n"}], "owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2363, "favorite_count": 0, "accepted_answer_id": 51168647, "answer_count": 2, "score": 2, "last_activity_date": 1546997299, "creation_date": 1530646541, "question_id": 51161792, "link": "https://stackoverflow.com/questions/51161792/running-kotlin-scripts-on-desktop-in-android-studio", "title": "Running Kotlin scripts on desktop in Android Studio", "body": "<p>I have Android Studio installed,  I know Android Studio has Kotlin support for <em>android applications</em>, however I am still learning the basics (Hello World, printing, basic things) and I would just like to run some basic programs.</p>\n\n<p>Is there a way I can run simple (preferably single file) Kotlin scripts from Android Studio (maybe something <a href=\"https://try.kotlinlang.org/\" rel=\"nofollow noreferrer\">the online tester</a>) for testing, without going straight into the Android API and going straight on Android?</p>\n\n<p>Installing the command line <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html\" rel=\"nofollow noreferrer\">version</a> is not a desirable option for me as I don't have the Java SDK (I am hoping for a way around intalling it).  I also do not have Intellij Idea .</p>\n"}, {"tags": ["list", "kotlin", "variadic-functions"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 2, "creation_date": 1530708093, "post_id": 51161558, "comment_id": 89330645, "body": "would be easier to use <code>mapNotNull{}</code> to avoid some surprises or exceptions"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 4, "last_activity_date": 1530687078, "creation_date": 1530687078, "answer_id": 51167449, "question_id": 51161558, "link": "https://stackoverflow.com/questions/51161558/kotlin-convert-list-to-vararg/51167449#51167449", "title": "Kotlin convert List to vararg", "body": "<p>No, that's the correct way to do it (assuming you want to throw an exception when <code>it.unit</code> is <code>null</code> for some element of the list).</p>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 1, "last_activity_date": 1609415058, "creation_date": 1609415058, "answer_id": 65520425, "question_id": 51161558, "link": "https://stackoverflow.com/questions/51161558/kotlin-convert-list-to-vararg/65520425#65520425", "title": "Kotlin convert List to vararg", "body": "<pre><code>fun foo(vararg strings: String) { /*...*/ }\n</code></pre>\n<h3>Using</h3>\n<pre><code>foo(strings = arrayOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))\n\nval list: MutableList&lt;String&gt; = listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;) as MutableList&lt;String&gt;\nfoo(strings = list.map { it }.toTypedArray())\n</code></pre>\n<hr />\n<blockquote>\n<p>Named arguments are not allowed for non-Kotlin functions (*.java)</p>\n</blockquote>\n<p>So, in this case you should replace:</p>\n<p>From: <code>strings = list.map { it }.toTypedArray()</code></p>\n<p>To: <code>*list.map { it }.toTypedArray()</code></p>\n<p>GL</p>\n<p><a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">Source</a></p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7701, "favorite_count": 1, "accepted_answer_id": 51167449, "answer_count": 2, "score": 15, "last_activity_date": 1609415058, "creation_date": 1530645313, "question_id": 51161558, "link": "https://stackoverflow.com/questions/51161558/kotlin-convert-list-to-vararg", "title": "Kotlin convert List to vararg", "body": "<p>I have input data of type <code>List&lt;UnitWithComponents&gt;</code> </p>\n\n<pre><code>class UnitWithComponents {\n    var unit: Unit? = null\n    var components: List&lt;Component&gt; = ArrayList()\n}\n</code></pre>\n\n<p>I want to convert the data to a <code>vararg</code> of <code>Unit</code></p>\n\n<p>Currently I am doing <code>*data.map { it.unit!! }.toTypedArray()</code>. Is there a better way to do it?</p>\n"}, {"tags": ["xml", "spring", "kotlin", "jackson", "jackson2"], "answers": [{"tags": [], "owner": {"reputation": 1854, "user_id": 545353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o0daF.png?s=128&g=1", "display_name": "Pavel Molchanov", "link": "https://stackoverflow.com/users/545353/pavel-molchanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1530649956, "creation_date": 1530649956, "answer_id": 51162456, "question_id": 51161496, "link": "https://stackoverflow.com/questions/51161496/jackson-xml-conflicting/51162456#51162456", "title": "Jackson XML conflicting", "body": "<p>You are re-defining element 'i' with different Java class members in the same class.</p>\n\n<p>Providing different names for different entities is definitely a better approach. </p>\n\n<p>XML element is not just a tag. It's an object with attributes and nested elements (complex structure). It's better to define different objects with different tags. </p>\n\n<p>In your case, following structure will look better:</p>\n\n<pre><code>&lt;promotions&gt;\n    &lt;promotion ... /&gt;\n&lt;/promotions&gt;\n\n&lt;banners&gt;\n    &lt;banner ... /&gt;\n&lt;/banners&gt;\n\n&lt;whatsnews&gt;\n    &lt;whatsnew ... /&gt;\n    &lt;whatsnew ... /&gt;\n    &lt;whatsnew ... /&gt;\n    &lt;whatsnew ... /&gt;\n&lt;/whatsnews&gt;\n</code></pre>\n\n<p>Wrapper elements are optional. The same XML can be written without wrapping elements. It is not possible in your original XML:</p>\n\n<pre><code>&lt;promotion ... /&gt;\n&lt;banner ... /&gt;\n&lt;whatsnew ... /&gt;\n&lt;whatsnew ... /&gt;\n&lt;whatsnew ... /&gt;\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8331974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sim1TXCRpdY/AAAAAAAAAAI/AAAAAAAAABM/hFmXBQJ8B0w/photo.jpg?sz=128", "display_name": "Anton Shadrin", "link": "https://stackoverflow.com/users/8331974/anton-shadrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 51162456, "answer_count": 1, "score": 0, "last_activity_date": 1530649956, "creation_date": 1530645043, "question_id": 51161496, "link": "https://stackoverflow.com/questions/51161496/jackson-xml-conflicting", "title": "Jackson XML conflicting", "body": "<p>Today i got stuck with a problem. I need to get this xml view:</p>\n\n<pre><code>&lt;promotion&gt;\n    &lt;i ... /&gt;\n&lt;/promotion&gt;\n\n&lt;promotion_banner&gt;\n    &lt;i ... /&gt;\n&lt;/promotion_banner&gt;\n\n&lt;promotion_whats_new&gt;\n    &lt;i ... /&gt;\n    &lt;i ... /&gt;\n    &lt;i ... /&gt;\n    &lt;i ... /&gt;\n    &lt;i ... /&gt;\n&lt;/promotion_whats_new&gt;\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>@JacksonXmlRootElement\nclass Response {\n    @JacksonXmlProperty(isAttribute = true)\n    var notAuthenticated: Boolean = false\n\n    @get:[JacksonXmlProperty(localName = \"i\")\n    JacksonXmlElementWrapper(localName = \"promotion\")]\n    var promotionItems: MutableList&lt;I&gt; = mutableListOf()\n\n    @get:[JacksonXmlProperty(localName = \"i\")\n    JacksonXmlElementWrapper(localName = \"promotion_banner\")]\n    var promotionBannerItems: MutableList&lt;I&gt; = mutableListOf()\n\n    @get:[JacksonXmlProperty(localName = \"i\")\n    JacksonXmlElementWrapper(localName = \"promotion_whats_new\")]\n    var promotionWhatsNewItems: MutableList&lt;I&gt; = mutableListOf()\n\n    @get:[JacksonXmlProperty(localName = \"i\")\n    JacksonXmlElementWrapper(localName = \"preloader\")]\n    var preloaderItems: MutableList&lt;I&gt; = mutableListOf()\n\n    override fun toString(): String {\n        return \"Response(notAuthenticated=$notAuthenticated, promotionItems=$promotionItems, promotionBannerItems=$promotionBannerItems, promotionWhatsNewItems=$promotionWhatsNewItems, preloaderItems=$preloaderItems)\"\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Conflicting getter definitions for property \"i\": Response#getPromotionItems(0 params) vs Response#getPromotionBannerItems(0 params)\n</code></pre>\n\n<p>Is it a bug or i did smth wrong?</p>\n\n<p>Of course, i can implement it providing new class (like Promotion), but maybe there is a better solution.</p>\n"}, {"tags": ["java", "sockets", "server", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530649201, "post_id": 51161373, "comment_id": 89307954, "body": "declare <code>var count</code> before loop and only reassign the value inside it?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530649865, "post_id": 51161373, "comment_id": 89308206, "body": "@Pawel Why? What difference would that make?"}], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 6461246, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-rIZkC_15OC4/AAAAAAAAAAI/AAAAAAAAABE/aax3xQRURPM/photo.jpg?sz=128", "display_name": "Adizbek Ergashev", "link": "https://stackoverflow.com/users/6461246/adizbek-ergashev"}, "edited": false, "score": 0, "creation_date": 1530679697, "post_id": 51162435, "comment_id": 89314971, "body": "Let&#39;s say my client sent message. Server opened connection, closed. Client send again. Server again opened and closed ? What is best way? Client will send many messages. Every time server should open and close connection?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 520, "user_id": 6461246, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-rIZkC_15OC4/AAAAAAAAAAI/AAAAAAAAABE/aax3xQRURPM/photo.jpg?sz=128", "display_name": "Adizbek Ergashev", "link": "https://stackoverflow.com/users/6461246/adizbek-ergashev"}, "edited": false, "score": 0, "creation_date": 1530680709, "post_id": 51162435, "comment_id": 89315289, "body": "That&#39;s a new question, and it doesn&#39;t bear on this answer in any way, but it&#39;s better for the server to loop reading and responding to requests until the client closes the connection. Then the client can <i>decide</i> whether to use one persistent connection or a new one per request. Persistent is better, but on the other hand the client should not tie up an idle connection for very long."}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": 2, "last_activity_date": 1530680791, "last_edit_date": 1530680791, "creation_date": 1530649809, "answer_id": 51162435, "question_id": 51161373, "link": "https://stackoverflow.com/questions/51161373/javakotlin-socket-server-read-continously/51162435#51162435", "title": "Java(Kotlin) Socket Server. Read continously", "body": "<blockquote>\n  <p>And loop is running forever</p>\n</blockquote>\n\n<p>You're looping at end of stream. If <code>count</code> is -1 you should close the socket and exit the loop.</p>\n\n<blockquote>\n  <p>and count is -1</p>\n</blockquote>\n\n<p>Exactly my point.</p>\n"}], "owner": {"reputation": 520, "user_id": 6461246, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-rIZkC_15OC4/AAAAAAAAAAI/AAAAAAAAABE/aax3xQRURPM/photo.jpg?sz=128", "display_name": "Adizbek Ergashev", "link": "https://stackoverflow.com/users/6461246/adizbek-ergashev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 961, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530680791, "creation_date": 1530644496, "last_edit_date": 1530679860, "question_id": 51161373, "link": "https://stackoverflow.com/questions/51161373/javakotlin-socket-server-read-continously", "title": "Java(Kotlin) Socket Server. Read continously", "body": "<p>My server reading looks like this:</p>\n\n<pre><code>private fun init() {\n        val inStream = BufferedInputStream(socket.getInputStream())\n        val bytes = ByteArray(bufferSize)\n\n        outStream = DataOutputStream(socket.getOutputStream())\n\n\n        while (true) {\n            val count = inStream.read(bytes, 0, bufferSize)\n\n            if (count &gt;= 0) {\n                server.onReceive(this, bytes, count)\n            }\n\n        }\n    }\n</code></pre>\n\n<p>First read waits until bytes received. But second doesn't wait. And loop is running forever and count is -1. I want to read bytes only when they received.</p>\n"}, {"tags": ["android", "android-studio", "build", "compiler-errors", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10028268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1a1713f31a958450472e4cdd3c8214b?s=128&d=identicon&r=PG&f=1", "display_name": "lemur", "link": "https://stackoverflow.com/users/10028268/lemur"}, "is_accepted": true, "score": 0, "last_activity_date": 1531075900, "creation_date": 1531075900, "answer_id": 51235100, "question_id": 51161032, "link": "https://stackoverflow.com/questions/51161032/why-is-tmp-kotlin-classes-folder-empty-and-path-not-found-during-compile-stage-o/51235100#51235100", "title": "Why is tmp\\kotlin-classes folder empty and path not found during compile stage of kotlin module build in Android Studio?", "body": "<p><strong>SOLVED: Windows does not allow folder name of \"aux\"</strong> (this is a legacy reserved word)...</p>\n\n<p>Therefore, code modules that worked on Macs failed to build when incorporated into a different project on the Windows machine I was using.</p>\n\n<p>As soon as a folder is placed on the file system in Windows via unzip, etc., with the name \"aux\" then <strong>Windows automatically changes the folder name to \"_aux\"</strong> w/o telling the user.</p>\n"}], "owner": {"reputation": 21, "user_id": 10028268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1a1713f31a958450472e4cdd3c8214b?s=128&d=identicon&r=PG&f=1", "display_name": "lemur", "link": "https://stackoverflow.com/users/10028268/lemur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 0, "accepted_answer_id": 51235100, "answer_count": 1, "score": 2, "last_activity_date": 1531075900, "creation_date": 1530642946, "question_id": 51161032, "link": "https://stackoverflow.com/questions/51161032/why-is-tmp-kotlin-classes-folder-empty-and-path-not-found-during-compile-stage-o", "title": "Why is tmp\\kotlin-classes folder empty and path not found during compile stage of kotlin module build in Android Studio?", "body": "<p>The module (not the main app) won't build because it fails this step:</p>\n\n<p>:compileDebugKotlin</p>\n\n<p><strong>ERROR MESSAGES</strong>:\ne: java.lang.IllegalStateException: Backend Internal error: Exception during code generation</p>\n\n<p>Cause: [Path-deleted-for-SO-post]\\message-classes\\build\\tmp\\kotlin-classes\\debug\\com[Path-deleted-for-SO-post]\\ble\\aux\\AlarmResponseTypes.class <strong>(The system cannot find the path specified)</strong></p>\n\n<p>File being compiled at position: file://[Path-deleted-for-SO-post]/message-classes/src/main/java/com/[Path-deleted-for-SO-post]/ble/_aux/AlarmResponseTypes.kt</p>\n\n<hr>\n\n<p>Does it have anything to do with the \"_aux\" in src path vs \"aux\" in build path?</p>\n\n<p><strong>When I look in tmp\\kotlin-classes folder, it's empty.</strong> The rest of the parent path back to C drive that I deleted for this post is correct.  Even when I try to make the folder path, it gets deleted as soon as build runs of course.</p>\n\n<p><strong>Things I've tried many times</strong>:</p>\n\n<p>Clean - rebuild - restart - etc.<br>\nInvalidate - restart - etc.<br>\nUpdated kotlin plugin, Android Studio, Gradle versions, etc.<br>\nOnly building this module and not entire app.</p>\n\n<p>Always comes back to same error.</p>\n\n<p>AND, it did build properly (although I did not run or build into apk file after that) before updating kotlin plugin -- but not sure that had anything to do with it.</p>\n\n<p><strong>Versions, etc.</strong>:</p>\n\n<p>AS - 3.1.3<br>\nkotlin_version = '1.2.50'</p>\n\n<p>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"</p>\n\n<hr>\n\n<p>Full build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.library'  \napply plugin: 'kotlin-android'  \napply plugin: 'kotlin-android-extensions'\n\nandroid {  \n    compileSdkVersion 27  \n    defaultConfig {  \n        minSdkVersion 23  \n        targetSdkVersion 27  \n        versionCode 1  \n        versionName \"1.0\"  \n        testInstrumentationRunner  \n \"android.support.test.runner.AndroidJUnitRunner\"  \n    }  \n    buildTypes {  \n        release {  \n            minifyEnabled false  \n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'  \n        }  \n    }  \n    // project configuration  \n    sourceSets {  \n        androidTest.java.srcDirs += 'src/androidTest/kotlin'  \n    }  \n}\n\ndependencies {  \n    implementation fileTree(include: ['*.jar'], dir: 'libs')  \n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"  \n    testImplementation 'junit:junit:4.12'  \n    androidTestImplementation 'com.android.support.test:runner:1.0.1'  \n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'  \n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "imageview"], "answers": [{"tags": [], "owner": {"reputation": 977, "user_id": 1671672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e955d0ec41e5633e1fc26360f5a34d?s=128&d=identicon&r=PG", "display_name": "Udit", "link": "https://stackoverflow.com/users/1671672/udit"}, "is_accepted": true, "score": 1, "last_activity_date": 1530644432, "creation_date": 1530644432, "answer_id": 51161362, "question_id": 51160964, "link": "https://stackoverflow.com/questions/51160964/an-image-view-with-more-possibilities/51161362#51161362", "title": "An image view with more possibilities", "body": "<p>ImageView by themselves are used only to display a particular image. To have a custom behaviour or UI, such as the delete icon, you need to make a custom view.</p>\n\n<p>You can do so by extending one of the ViewGroup, such as a RelativeLayout, and make your view.</p>\n\n<p>For details on custom views, please refer to: <a href=\"https://developer.android.com/training/custom-views/create-view\" rel=\"nofollow noreferrer\">https://developer.android.com/training/custom-views/create-view</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9978028"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 51161362, "answer_count": 1, "score": 0, "last_activity_date": 1530644432, "creation_date": 1530642690, "question_id": 51160964, "link": "https://stackoverflow.com/questions/51160964/an-image-view-with-more-possibilities", "title": "An image view with more possibilities", "body": "<p>If you take a look at this app (<a href=\"https://play.google.com/store/apps/details?id=fr.recettetek&amp;hl=en_GB\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=fr.recettetek&amp;hl=en_GB</a>) you'll see it provides image views with a little trash can icon in the top corner which deletes the image. Also the image views have borders around them and show the images without changing their length to width ratio. How is it possible to provide these features or any other feature in image views? Generally how is it possible to customize image views and make them more practical?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1530725740, "post_id": 51162936, "comment_id": 89339895, "body": "Thank you! The most important part is <b>it has to be initialized like this together with declaration</b>, to avoid explicit type declaration of <code>variable</code>, to avoid the &quot;type narrowing&quot; of <code>variable</code>, which will make <code>variable</code> lost that <code>bFunction</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1530727285, "post_id": 51162936, "comment_id": 89340435, "body": "Yes, that&#39;s exactly the reason."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1530686847, "last_edit_date": 1530686847, "creation_date": 1530652730, "answer_id": 51162936, "question_id": 51160204, "link": "https://stackoverflow.com/questions/51160204/how-to-add-an-outside-callable-member-functions-to-an-anonymous-object/51162936#51162936", "title": "How to add an outside callable member functions to an anonymous object?", "body": "<p>Actually, this code (with <code>bFunction</code> inside the declaration of anonymous object) will work perfectly well and will make <code>bFunction</code> accessible outside... but only if <code>variable</code> is local or private. In both cases it has to be initialized like this together with declaration, i.e. <code>val variable = object : AClass() ...</code>. </p>\n\n<p>Public/protected properties need a type which can be used outside the class which declares them, unsurprisingly. In that case you'll have to name the subclass.</p>\n\n<p>The page you link covers this</p>\n\n<blockquote>\n  <p>Note that anonymous objects can be used as types only in local and private declarations. If you use an anonymous object as a return type of a public function or the type of a public property, the actual type of that function or property will be the declared supertype of the anonymous object, or Any if you didn't declare any supertype. Members added in the anonymous object will not be accessible.</p>\n</blockquote>\n"}], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 51162936, "answer_count": 1, "score": 1, "last_activity_date": 1530686847, "creation_date": 1530639375, "question_id": 51160204, "link": "https://stackoverflow.com/questions/51160204/how-to-add-an-outside-callable-member-functions-to-an-anonymous-object", "title": "How to add an outside callable member functions to an anonymous object?", "body": "<p>This is the first time I ask a question, please excuse my mistake on asking a question, and tell me how to ask a better question if that happens.</p>\n\n<p><strong>What I am asking:</strong></p>\n\n<p>How can I add a member function, into an anonymous object, which is callable outside this object? Or this requirement is too strange that shouldn't be implemented?</p>\n\n<p>Consider this <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a> below:</p>\n\n<pre><code>variable = object : AClass()\n{\n    // inside the declaration of anonymous object\n\n    override fun aFunction(i: Int)\n    {\n        // do something inside aFunction\n    }\n}.apply {\n    // do something inside apply\n}\n</code></pre>\n\n<p>How can I add a function <code>fun bFunction(i: Int)</code>, that <em>just</em> belongs to <code>variable</code>, <em>not</em> belongs to <code>AClass</code>, that can be callable by directly using </p>\n\n<pre><code>variable.bFunction(1)\n</code></pre>\n\n<p>? Or, it is impossible to do so?</p>\n\n<p><strong>What I have tried (and, of course, not satisfy what I want):</strong></p>\n\n<ul>\n<li>I can create an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension function</a> <code>fun AClass.bFunction(i: Int)</code> to solve it, however this maybe \"unfair\" to other instance of <code>AClass</code>, since they actually don't need that. </li>\n<li>I can create a class instead of using an anonymous object locally, however it seems too heavy to create a class for ONE variable.</li>\n<li>I have tried adding <code>bFunction</code> inside the declaration of anonymous object, where the position is mentioned above. However I can just only access this function inside <code>.apply {}</code>, not outside this assignment.</li>\n<li>I have tried adding <code>bFunction</code> inside <code>.apply {}</code>, however it also make me just access it inside <code>.apply {}</code>, not outside this assignment.</li>\n</ul>\n\n<p><strong>To be more specific of the original question (which is solved by myself, while typing this question) to avoid an X - Y question:</strong></p>\n\n<p>I am struggling on painting on Java GUI components. What I want to achieve is like a \"canvas\" or a \"paper\" inside a <code>JFrame</code>, where I can paint anything I like on it, by pixel control, totally using Kotlin.</p>\n\n<p>After some searching, I found that the core solution to the question of, \"if I draw something by using <code>contentPane.graphics.drawXXX</code> series function, this draw will be disappear when (I resize or minimize this JFrame, or just called this draw function too early, when this JFrame is showing (note: we can use <code>Thread.sleep</code> to delay too-early call))\", is <a href=\"https://stackoverflow.com/questions/10110467/windows-content-disappears-when-minimized\">by overriding <code>paint</code> function</a>. Then, in order to override it, I use <code>var image = BufferedImage(...)</code> to store what I have painted, and use an anonymous object </p>\n\n<pre><code>painting = object : JFrame()\n{\n    override fun paint(g: Graphics?)\n    {\n        contentPane.graphics.drawImage(image, 0, 0, this)\n    }\n}.apply { /* do some initialization */ }\n</code></pre>\n\n<p>to override <code>paint</code> function, and draw this buffered image into contentPane, which seems achieved what I want, and just a \"static\" painting.</p>\n\n<p>I was wondering how can I add a <code>updatePainting()</code> function to this <code>painting</code>, which make me can just modify this buffered image, then call this function to update the painting, as a \"dynamic\" painting. <em>However, during the time I am typing this question, I accidentally find that, just modify this image, will <strong>automatically</strong> update this painting, no need to manually update this painting.</em> So this original question actually solved: <em>this bFunction is not necessary in my current situation</em>. But, I just wondering, are there any way to implement this things that can fit this (may be strange) issue?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1530711843, "post_id": 51158524, "comment_id": 89333037, "body": "I&#39;ve assumed that guarantee for &quot;if you didn&#39;t get CancellationException, then the handler code will run&quot; is implicit for all select clauses (not just for the one that are atomically cancellable). In fact, the guaranteed is that if the event that the clause is waiting for happens, then the handler code will run, unless there is a cancellation. Anyway, you are welcome to contribute clarification to the docs."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1530777645, "post_id": 51158524, "comment_id": 89354202, "body": "Isn&#39;t (2) the side effect of &quot;if you didn&#39;t get CancellationException, then the handler code will run&quot;? So it isn&#39;t a side-effect of atomic cancellation?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1530778181, "post_id": 51158524, "comment_id": 89354490, "body": "I&#39;m still confused with <code>it means that those clauses had not performed their respective operations.</code> This is not guaranteed for non-atomic clauses?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1530807175, "post_id": 51158524, "comment_id": 89373293, "body": "Atomicity of clauses is a side-effect of atomicity of the corresponding operations, so let&#39;s talk about them. <code>Deferred.await</code> is not atomic and if you got cancellation exception it does not mean deferred was not triggered (it might have been). However, <code>Channel.receive</code> is atomic and if you got cancellation exception it is guaranteed that the element was not received (retrieved) from the channel."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1530940434, "post_id": 51158524, "comment_id": 89421105, "body": "Now I understand. I thought &quot;the clause performing its respective operation&quot; referred to the actions taken by the handler code. So the contract prevents receiving an item without handling it."}], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530633025, "creation_date": 1530632647, "last_edit_date": 1530633025, "question_id": 51158524, "link": "https://stackoverflow.com/questions/51158524/confusing-contract-of-select", "title": "Confusing contract of `select`", "body": "<p>I'm banging my head trying to understand this contract of <code>select</code>:</p>\n\n<ol>\n<li><blockquote>\n  <p><code>onSend</code>, <code>onReceive</code>, <code>onReceiveOrNull</code>, and <code>onLock</code> clauses are atomically cancellable. When select throws <code>CancellationException</code> it means that those clauses had not performed their respective operations.</p>\n</blockquote></li>\n<li><blockquote>\n  <p>As a side-effect of atomic cancellation, a thread-bound coroutine (to some UI thread, for example) may continue to execute even after it was cancelled from the same thread in the case when this select operation was already resumed on atomically cancellable clause and the continuation was posted for execution to the thread's queue.</p>\n</blockquote></li>\n</ol>\n\n<p>This is what makes sense to me, on the example of the <code>UI</code> context:</p>\n\n<ul>\n<li>the <code>select</code> expression chooses a clause and posts its code to the UI event queue</li>\n<li>when the code is picked from the queue, the first thing it checks is the <code>isActive</code> flag. If it's lowered, the code doesn't run</li>\n<li>this would break atomicity of cancellation: neither you got the <code>CancellationException</code> in the <code>select</code> clause nor did the code run (cancellation occurred while the clause's callback was waiting in the queue)</li>\n<li>that's why the <code>isActive</code> check is skipped and the code runs even though it was cancelled in the meantime</li>\n</ul>\n\n<p>However, that's <em>not</em> the guarantee given in (1). It doesn't say \"either your handling code runs, or you get a <code>CancellationException</code> in the <code>select</code> expression\". It only says \"if you got the exception, it means the code had not run\". This guarantee can be achieved without the behavior given in (2), so it's not the side-effect of (1).</p>\n\n<p>It seems that the description of behavior in (2) is correct, but the guarantee it provides is not as described in (1). It is \"if you didn't get <code>CancellationException</code>, then the handler code will run\".</p>\n\n<p>Shouldn't the documentation state the stronger <em>either-or</em> guarantee?</p>\n"}, {"tags": ["kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "edited": false, "score": 3, "creation_date": 1530697394, "post_id": 51158356, "comment_id": 89323769, "body": "You can try to use <code>Table.insertIgnore</code> for &#39;insert if not exists&#39; and <code>upsert</code> (<a href=\"https://github.com/JetBrains/Exposed/wiki/FAQ#q-is-upsert-supported\" rel=\"nofollow noreferrer\">github.com/JetBrains/Exposed/wiki/FAQ#q-is-upsert-supported</a>&zwnj;&#8203;) for  &#39;insert on conflict&#39; ."}, {"owner": {"reputation": 75, "user_id": 5473116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e0c3aa02b9fe6d36faad61e3036d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev909", "link": "https://stackoverflow.com/users/5473116/dev909"}, "reply_to_user": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "edited": false, "score": 0, "creation_date": 1530786824, "post_id": 51158356, "comment_id": 89359748, "body": "Ah thanks! I didn&#39;t really know what .insertIgnore meant when I read through the code. Works perfectly. I haven&#39;t tried the upsert yet, but I have looked at the link, I think I should fine there now. Thanks again!"}], "owner": {"reputation": 75, "user_id": 5473116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/108e0c3aa02b9fe6d36faad61e3036d5?s=128&d=identicon&r=PG&f=1", "display_name": "Dev909", "link": "https://stackoverflow.com/users/5473116/dev909"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5331, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1530787125, "creation_date": 1530632106, "last_edit_date": 1530787125, "question_id": 51158356, "link": "https://stackoverflow.com/questions/51158356/kotlin-exposed-how-to-insert-if-not-exists-and-on-conflict", "title": "Kotlin Exposed - How to insert if not exists, and on conflict?", "body": "<p>I've looked around but cannot seem to find how in the world to 'insert if not exists' or 'insert on conflict' using the Exposed SQL framework for Kotlin. I am currently writing raw SQL statements and executing them as is. I don't think I can avoid that for some cases, but I would much rather use the framework if possible. I don't see any options for either DSL or DAO syntaxs.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>For anyone that may come across this, Tapac's comment worked for me.</p>\n\n<p>Use Table.insertIgnore() for 'insert if not exists', and an example for upsert exists at <a href=\"https://github.com/JetBrains/Exposed/wiki/FAQ#q-is-upsert-supported\" rel=\"noreferrer\">https://github.com/JetBrains/Exposed/wiki/FAQ#q-is-upsert-supported</a>.</p>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 3, "creation_date": 1530633350, "post_id": 51158346, "comment_id": 89300751, "body": "Please edit the question to include relevant code samples rather than just linking to them."}, {"owner": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1530634186, "post_id": 51158346, "comment_id": 89301199, "body": "Edited the main post, should be fine now"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1530636449, "post_id": 51158346, "comment_id": 89302261, "body": "Creating a LiveData subclass is the right thing to do, since it understands when clients are observing.  Why are you against it?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1530636514, "post_id": 51158346, "comment_id": 89302301, "body": "See also my blog, it is exactly what I recommend: <a href=\"https://firebase.googleblog.com/2017/12/using-android-architecture-components.html\" rel=\"nofollow noreferrer\">firebase.googleblog.com/2017/12/&hellip;</a>"}, {"owner": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1530638208, "post_id": 51158346, "comment_id": 89303138, "body": "That&#39;s exactly what I needed, I&#39;ll go with the LiveData subclass then. I was not sure whether or not it was the best approach because all of the others operations (upload, delete, etc.) were performed through simple MutableLiveDatas, but I guess it makes sense for a continuously observed source to have its own LiveData subclass. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "edited": false, "score": 0, "creation_date": 1530633857, "post_id": 51158859, "comment_id": 89301035, "body": "Unfortunately none of them are possible because the listener is created inside a Repository which does not have access to an Activity or its lifecycle methods."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "edited": false, "score": 0, "creation_date": 1530634517, "post_id": 51158859, "comment_id": 89301337, "body": "But the activity can have access to the function inside the class so you can pass your activity when creating the <code>registration</code> object."}, {"owner": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "edited": false, "score": 0, "creation_date": 1530634790, "post_id": 51158859, "comment_id": 89301469, "body": "I might have misunderstood what you wrote, are you suggesting I pass the activity as a parameter for the function inside the repository? I&#39;m pretty sure that would result in a severe memory leak and break the separation of the layers."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "edited": false, "score": 0, "creation_date": 1530635267, "post_id": 51158859, "comment_id": 89301672, "body": "There are seven overloaded functions of<code>addSnapshotListener()</code>. I&#39;m reffering to this <b><a href=\"https://developers.google.com/android/reference/com/google/firebase/firestore/DocumentReference#addSnapshotListener(android.app.Activity,%20com.google.firebase.firestore.EventListener%3Ccom.google.firebase.firestore.DocumentSnapshot%3E)\" rel=\"nofollow noreferrer\">public ListenerRegistration addSnapshotListener (Activity activity, EventListener&lt;DocumentSnapshot&gt; listener)</a></b>."}, {"owner": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "edited": false, "score": 0, "creation_date": 1530779577, "post_id": 51158859, "comment_id": 89355259, "body": "I actually used Doug Stevenson&#39;s response because it went better with my architecture. Thanks for your advice though, I&#39;m sure it would have worked just as fine on another architecture."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 5, "last_activity_date": 1530633739, "creation_date": 1530633739, "answer_id": 51158859, "question_id": 51158346, "link": "https://stackoverflow.com/questions/51158346/removing-firestore-snapshot-listener-inside-of-livedata-returning-function/51158859#51158859", "title": "Removing Firestore snapshot listener inside of LiveData-returning function", "body": "<p>There are two ways in which you can achieve this. The first one would be to stop listening for changes and this can be done in your <code>onStop()</code> function by calling <code>remove()</code> function on your <code>ListenerRegistration</code> object like this:</p>\n\n<pre><code>if (registration != null) {\n    registration.remove();\n}\n</code></pre>\n\n<p>The approach would be to you pass your activity as the first argument in the <code>addSnapshotListener()</code> function, so Firestore can clean up the listeners automatically when the activity is stopped.</p>\n\n<pre><code>var registration = dataDocumentReference\n        .addSnapshotListener(yourActivity, listener)\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 10026736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pK4EuEiE354/AAAAAAAAAAI/AAAAAAAAN4A/dpwn6zkDvec/photo.jpg?sz=128", "display_name": "Emilio Schepis", "link": "https://stackoverflow.com/users/10026736/emilio-schepis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2436, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530634162, "creation_date": 1530632048, "last_edit_date": 1530634162, "question_id": 51158346, "link": "https://stackoverflow.com/questions/51158346/removing-firestore-snapshot-listener-inside-of-livedata-returning-function", "title": "Removing Firestore snapshot listener inside of LiveData-returning function", "body": "<p>I'm trying to optimise the performances in my app and I noticed that I do not remove Firestore listeners from my repository.</p>\n\n<p>My repository has a number of functions that return a <code>LiveData</code>, that is then observed via Transformations from <code>ViewModels</code> and then the views.</p>\n\n<p>One-time operations work absolutely fine (upload, delete etc.) but permanent listeners don't get garbage collected when the activity finishes.</p>\n\n<p>Right now the function inside the repository looks like this: </p>\n\n<pre><code>// [...]\nclass Repository {   \n  // [...]\n  fun retrieveCode() {\n  val observable = MutableLiveData&lt;Code&gt;()\n  val reference = \n    FirebaseFirestore.getInstance().collection(/**/).document(/**/)\n\n  reference\n    .addSnapshotListener { snapshot, exception -&gt; \n      if(exception != null) {\n        observable.value = null\n      }\n\n      if(snapshot != null {\n        observable.value = snapshot.//[convert to object]\n      }\n   }\n\n   return observable\n  }\n}\n</code></pre>\n\n<p>I found a workaround which is to create a custom <code>LiveData</code> object that handles the listener removal when it becomes inactive, like this: </p>\n\n<pre><code>class CodeLiveData(private val reference: DocumentReference): \n  LiveData&lt;Code&gt;(), EventListener&lt;DocumentSnapshot&gt;{\n  private var registration: ListenerRegistration? = null\n\n  override fun onEvent(snapshot: DocumentSnapshot?, \n    exception: FirebaseFirestoreException?) {\n    if(exception != null) {\n      this.value = null\n    }\n\n    if(snapshot != null) {\n      this.value = snapshot.//[convert to object]\n    }\n  }\n\n  override fun onActive() {\n    super.onActive()\n    registration = reference.addSnapshotListener(this)\n  }\n\n  override fun onInactive() {\n    super.onInactive()\n    registration?.remove()\n  }\n}\n</code></pre>\n\n<p>Is there a way to solve this problem without creating a custom class, but rather by improving a function similar to the first example? </p>\n\n<p>Thanks,</p>\n\n<p>Emilio</p>\n"}, {"tags": ["java", "android", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1530630491, "post_id": 51157737, "comment_id": 89299051, "body": "read the docs <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-to-kotlin-interop.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5453, "user_id": 1181261, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/yH1mw.png?s=128&g=1", "display_name": "Primo\u017e Kralj", "link": "https://stackoverflow.com/users/1181261/primo%c5%be-kralj"}, "edited": false, "score": 0, "creation_date": 1593498978, "post_id": 51157876, "comment_id": 110794578, "body": "I am getting <code>error: INSTANCE has private access</code>. How to do this if there is no @JvmStatic annotation (for some other SDK and I can&#39;t change the code)?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 5453, "user_id": 1181261, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/yH1mw.png?s=128&g=1", "display_name": "Primo\u017e Kralj", "link": "https://stackoverflow.com/users/1181261/primo%c5%be-kralj"}, "edited": false, "score": 0, "creation_date": 1593504862, "post_id": 51157876, "comment_id": 110797332, "body": "I think there was a mistake in the answer, if you don&#39;t have <code>@JvmStatic</code> on the accessor method, your syntax would be <code>WppDb.Companion.getInstance(context)</code> in Java."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 11, "last_activity_date": 1593504892, "last_edit_date": 1593504892, "creation_date": 1530630650, "answer_id": 51157876, "question_id": 51157737, "link": "https://stackoverflow.com/questions/51157737/call-kotlin-function-in-java/51157876#51157876", "title": "Call Kotlin function in Java", "body": "<p>If you want the equivalent of what Room samples usually show with a static Java field and static getter method for it, you can place those functions in the <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">companion object</a> of your class:</p>\n<pre><code>@Database(entities = arrayOf(Indirizzo::class, Dispositivo::class), version = 1, exportSchema = false)\nabstract class WppDb : RoomDatabase() {\n    abstract fun DispositivoDao(): DispositivoDao\n    abstract fun IndirizzoDao() : IndirizzoDao\n\n    companion object {\n        private var INSTANCE : WppDb? =  null\n\n        @JvmStatic\n        fun getInstance(context: Context): WppDb? {\n            if (INSTANCE == null) {\n                synchronized(WppDb::class) {\n                    INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                                    WppDb::class.java, &quot;weather.db&quot;)\n                                   .build()\n                }\n            }\n            return INSTANCE\n        }\n\n        @JvmStatic\n        fun destroyInstance() {\n            INSTANCE = null\n        }\n    }\n}\n</code></pre>\n<p>You can then call <code>WppDb.getInstance(context)</code> from either Kotlin or Java code. Note the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-static/index.html\" rel=\"noreferrer\"><code>@JvmStatic</code></a> annotations which make these calls nicer in Java - without them, you'd have to use <code>WppDb.Companion</code> to get the companion object, and then call the <code>getInstance</code> function on that (so <code>WppDb.Companion.getInstance(context)</code> altogether).</p>\n"}], "owner": {"reputation": 787, "user_id": 2516977, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035b1fd0c2a677fb66dab7d466cb3920?s=128&d=identicon&r=PG", "display_name": "Anto", "link": "https://stackoverflow.com/users/2516977/anto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3043, "favorite_count": 0, "accepted_answer_id": 51157876, "answer_count": 1, "score": 5, "last_activity_date": 1593504892, "creation_date": 1530630181, "last_edit_date": 1530630815, "question_id": 51157737, "link": "https://stackoverflow.com/questions/51157737/call-kotlin-function-in-java", "title": "Call Kotlin function in Java", "body": "<p>I am a neophite in Kotlin. I need to call a method in a class created in Kotlin from a Java class.\nThe class in question concerns the creation of the db.</p>\n\n<pre><code>@Database(entities = arrayOf(Indirizzo::class, Dispositivo::class), version = 1, exportSchema = false)\nabstract class WppDb : RoomDatabase() {\n    abstract fun DispositivoDao(): DispositivoDao\n    abstract fun IndirizzoDao(): IndirizzoDao\n\n    private var INSTANCE : WppDb? = null\n\n    fun getInstance(context: Context): WppDb? {\n        if (INSTANCE == null) {\n            synchronized(WppDb::class) {\n                INSTANCE = Room.databaseBuilder(context.getApplicationContext(),\n                            WppDb::class.java, \"weather.db\")\n                           .build()\n            }\n        }\n        return INSTANCE\n    }\n\n    fun destroyInstance() {\n        INSTANCE = null\n    }\n}\n</code></pre>\n\n<p>I need to call the <code>getInstance()</code> method from a Java Activity.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 0, "creation_date": 1530629967, "post_id": 51157572, "comment_id": 89298681, "body": "Are you sure you have the correct reference? Have you tried it with hard-coded (basic) values?"}, {"owner": {"reputation": 409, "user_id": 6022725, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-UQT0J-vOAJ4/AAAAAAAAAAI/AAAAAAAASJc/6UIiBrR_iD8/photo.jpg?sz=128", "display_name": "Tgo1014", "link": "https://stackoverflow.com/users/6022725/tgo1014"}, "reply_to_user": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 0, "creation_date": 1530630077, "post_id": 51157572, "comment_id": 89298761, "body": "Removing &quot;startAt()&quot; and &quot;endAt()&quot; works, but it returns all values from firebase, so I guess the filter is not working but idk why"}, {"owner": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 1, "creation_date": 1530631301, "post_id": 51157572, "comment_id": 89299556, "body": "I think we are going to need more info here. Like what is your searchTerm? Does it work with, for example, a hardcoded value like &quot;Fog&quot;?"}, {"owner": {"reputation": 409, "user_id": 6022725, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-UQT0J-vOAJ4/AAAAAAAAAAI/AAAAAAAASJc/6UIiBrR_iD8/photo.jpg?sz=128", "display_name": "Tgo1014", "link": "https://stackoverflow.com/users/6022725/tgo1014"}, "reply_to_user": {"reputation": 4408, "user_id": 4916627, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ainvx.jpg?s=128&g=1", "display_name": "Andr&#233; Kool", "link": "https://stackoverflow.com/users/4916627/andr%c3%a9-kool"}, "edited": false, "score": 0, "creation_date": 1530635400, "post_id": 51157572, "comment_id": 89301741, "body": "It&#39;s the title the people is searching for, like &quot;fog&quot;. It do not work neither with my variable nor with a hardcoded value. Always returns null when i&#39;m using &quot;startAt()&quot; and &quot;endAt()&quot;."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1530636750, "post_id": 51157572, "comment_id": 89302405, "body": "Please take a moment to reproduce the problem with only hardcoded values. Right now we don&#39;t know what <code>firebase</code>, <code>MUSIC_COLLECTION</code>, <code>MUSIC_FIELD_TITLE</code> and <code>searchTerm</code> are (plus the <code>&quot;$searchTerm\\uf8ff&quot;</code> looks like an intended hardcoded string), and your <code>onDataChange</code> does nothing. Have a look at <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal complete verifiable example</a> for the best approach to get help getting your code to work."}, {"owner": {"reputation": 409, "user_id": 6022725, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-UQT0J-vOAJ4/AAAAAAAAAAI/AAAAAAAASJc/6UIiBrR_iD8/photo.jpg?sz=128", "display_name": "Tgo1014", "link": "https://stackoverflow.com/users/6022725/tgo1014"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1530637170, "post_id": 51157572, "comment_id": 89302593, "body": "@FrankvanPuffelen I edited the question with hardcoded values"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1530645846, "post_id": 51157572, "comment_id": 89306647, "body": "Firebase is case sensitive. You have <code>.startAt(&quot;fog&quot;)</code>, but none of your nodes start with <code>fog</code>. Use <code>.startAt(&quot;Fog&quot;).endAt(&quot;Fog\\uf8ff&quot;)</code>. See <a href=\"https://stackoverflow.com/questions/38590937/firebase-query-methods-startat-taking-case-sensitive-parameters\" title=\"firebase query methods startat taking case sensitive parameters\">stackoverflow.com/questions/38590937/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/37643459/case-insensitive-sorting-with-firebase-orderbychild\" title=\"case insensitive sorting with firebase orderbychild\">stackoverflow.com/questions/37643459/&hellip;</a>"}], "owner": {"reputation": 409, "user_id": 6022725, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-UQT0J-vOAJ4/AAAAAAAAAAI/AAAAAAAASJc/6UIiBrR_iD8/photo.jpg?sz=128", "display_name": "Tgo1014", "link": "https://stackoverflow.com/users/6022725/tgo1014"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530637150, "creation_date": 1530629641, "last_edit_date": 1530637150, "question_id": 51157572, "link": "https://stackoverflow.com/questions/51157572/how-to-implementing-a-search-in-a-specific-field-in-firebase", "title": "How to implementing a search in a specific field in Firebase?", "body": "<p>I've the following structure in my firebase:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wm9Ow.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wm9Ow.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I make a search filtering by title? I know that firebase does not have LIKE operator, but a search by the starting chars would be possible? </p>\n\n<p>I've already searched over StackOverflow and the most common anwers seems to be something like this:</p>\n\n<pre><code>firebase.reference.child(\"music\")\n            .orderByChild(\"title\")\n            .startAt(\"fog\")\n            .endAt(\"fog\" + \"\\uf8ff\")\n            .addListenerForSingleValueEvent(object : ValueEventListener {\n                override fun onCancelled(p0: DatabaseError) {}\n\n                override fun onDataChange(p0: DataSnapshot) {\n                    Log.i(\"DATABASE_RETURN\", p0.toString())\n                }\n            })\n</code></pre>\n\n<p>That code returns always null, here's what it's printing:</p>\n\n<blockquote>\n  <p>I/DATABASE_RETURN: DataSnapshot { key = music, value = null }</p>\n</blockquote>\n"}, {"tags": ["android", "datepicker", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 6229448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234a745b02fefc03fd5917dea58f0b40?s=128&d=identicon&r=PG&f=1", "display_name": "pau1adam", "link": "https://stackoverflow.com/users/6229448/pau1adam"}, "reply_to_user": {"reputation": 36, "user_id": 9784196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a7b69bc560fa773e702e7d4e95027a8?s=128&d=identicon&r=PG&f=1", "display_name": "rohithsai", "link": "https://stackoverflow.com/users/9784196/rohithsai"}, "edited": false, "score": 0, "creation_date": 1530708585, "post_id": 51172901, "comment_id": 89330963, "body": "I am afraid that is beyond the scope of your question."}], "tags": [], "owner": {"reputation": 439, "user_id": 6229448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/234a745b02fefc03fd5917dea58f0b40?s=128&d=identicon&r=PG&f=1", "display_name": "pau1adam", "link": "https://stackoverflow.com/users/6229448/pau1adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1530704701, "creation_date": 1530704701, "answer_id": 51172901, "question_id": 51157182, "link": "https://stackoverflow.com/questions/51157182/unable-to-use-arguments-in-datepicker/51172901#51172901", "title": "Unable to use arguments in datepicker", "body": "<p>You will not be able to use them at the place you want to.</p>\n\n<p><strong>see here</strong> is inside your <code>onCreate()</code> method and the values you want to use (<strong>selday1 selmonth1, selyear1, selday2, selmonth2</strong> and <strong>selyear2</strong>) are in defined in separate <code>DatePickerDialog.OnDateSetListeners</code>.</p>\n\n<p>The scopes are different and the OnDateSetListeners will be triggered way after onCreate has finished anyway.</p>\n\n<p>It can't work like this, you will have to redesign your code.</p>\n"}], "owner": {"reputation": 36, "user_id": 9784196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a7b69bc560fa773e702e7d4e95027a8?s=128&d=identicon&r=PG&f=1", "display_name": "rohithsai", "link": "https://stackoverflow.com/users/9784196/rohithsai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530704701, "creation_date": 1530628372, "last_edit_date": 1530667274, "question_id": 51157182, "link": "https://stackoverflow.com/questions/51157182/unable-to-use-arguments-in-datepicker", "title": "Unable to use arguments in datepicker", "body": "<p>How to use the arguments outside the parenthesis.\nI am trying to take the inputs from two dates pickers <strong>picker1</strong> and <strong>picker2</strong> and want to subtract the dates.here is my code</p>\n\n<pre><code>package com.rohithsai.simpleintrest\n\nimport android.app.DatePickerDialog\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Toast\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.text.SimpleDateFormat\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\nvar formate = SimpleDateFormat(\"dd MMM, YYYY\", Locale.US)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val c = Calendar.getInstance()\n        var preday = c.get(Calendar.DAY_OF_MONTH)\n        val premonth = c.get(Calendar.MONTH)\n        val preyear = c.get(Calendar.YEAR)\n\n    picker1.setOnClickListener() {\n\n        val dpd = DatePickerDialog(this, android.R.style.Theme_Holo_Dialog, DatePickerDialog.OnDateSetListener { datePicker, selyear1, selmonth1, selday1 -&gt;\n        }, preyear, premonth, preday)\n\n        //show datepicker\n        dpd.show()\n    }\n    picker2.setOnClickListener() {\n\n\n        val dpd = DatePickerDialog(this, android.R.style.Theme_Holo_Dialog, DatePickerDialog.OnDateSetListener { datePicker, selyear2,selmonth2, selday2 -&gt;\n        }, preyear, premonth, preday)\n\n        //show datepicker\n        dpd.show()\n    }\n     //see here\n    //tv1.text=\"$selday1/$selmonth1/selyear1\"\n\n  }\n }\n</code></pre>\n\n<p>i want to access the arguments <strong>selday1 selmonth1 selyear1</strong>\n and <strong>selday2 selmonth2 selyear2</strong> outside the parenthesis.i cant able to use it in the place of <strong>see here</strong> in the code.please help me.correct answers may be appreciated</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1530627757, "post_id": 51156920, "comment_id": 89297268, "body": "just add <code>android:label=&quot;&quot;</code> to the activity tag"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1530628011, "post_id": 51156920, "comment_id": 89297462, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6325018/android-activity-as-dialog-but-without-a-title-bar\">Android activity as dialog, but without a title bar</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "edited": false, "score": 0, "creation_date": 1530628032, "post_id": 51156993, "comment_id": 89297477, "body": "I have tried this but I dont want the empty space left behind."}], "tags": [], "owner": {"reputation": 193, "user_id": 6458399, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6J65r.jpg?s=128&g=1", "display_name": "Manan Adhvaryu", "link": "https://stackoverflow.com/users/6458399/manan-adhvaryu"}, "is_accepted": false, "score": 1, "last_activity_date": 1530627766, "creation_date": 1530627766, "answer_id": 51156993, "question_id": 51156920, "link": "https://stackoverflow.com/questions/51156920/how-to-hide-title-bar-of-a-pop-up-activity/51156993#51156993", "title": "How to hide Title Bar of a pop-up activity", "body": "<p>You can simply call the <code>setTitle(\"\")</code> function from within your Activity.</p>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 10017911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zfl0W.gif?s=128&g=1", "display_name": "Thawindu Angesh Tuto", "link": "https://stackoverflow.com/users/10017911/thawindu-angesh-tuto"}, "is_accepted": true, "score": 2, "last_activity_date": 1530635935, "creation_date": 1530635935, "answer_id": 51159405, "question_id": 51156920, "link": "https://stackoverflow.com/questions/51156920/how-to-hide-title-bar-of-a-pop-up-activity/51159405#51159405", "title": "How to hide Title Bar of a pop-up activity", "body": "<p>Add this code to the <em>top</em> of the <code>onCreate()</code> method of the Activity:</p>\n\n<pre><code>setTheme(R.style.{style}\n</code></pre>\n\n<ul>\n<li><p>The {style} should be ended with <code>NoActionBar</code>. i.e. <code>R.style.Theme_AppCompat_NoActionBar</code></p></li>\n<li><p>And most importantly, add the code <strong>before</strong> these two lines of code (add it to the top of the method):</p>\n\n<pre><code>super.onCreate(savedInstanceState);\nsetContentView(R.layout.{your layout});\n</code></pre></li>\n</ul>\n\n<p><strong>Hope this answer helped!</strong></p>\n"}], "owner": {"reputation": 2171, "user_id": 8150077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cu35k.jpg?s=128&g=1", "display_name": "Nux", "link": "https://stackoverflow.com/users/8150077/nux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 51159405, "answer_count": 2, "score": 0, "last_activity_date": 1530635935, "creation_date": 1530627522, "last_edit_date": 1530628134, "question_id": 51156920, "link": "https://stackoverflow.com/questions/51156920/how-to-hide-title-bar-of-a-pop-up-activity", "title": "How to hide Title Bar of a pop-up activity", "body": "<p>I created an activity which is shown as pop up/ Dialog by following answers given in this <a href=\"https://stackoverflow.com/questions/3351553/how-to-show-an-activity-as-pop-up-on-other-activity\">question</a>.</p>\n\n<p>I did it by adding these lines in AndroidManifest</p>\n\n<pre><code> &lt;activity\n        android:name=\".package.Activity\"\n        android:theme=\"@style/Theme.AppCompat.Light.Dialog.Alert\" /&gt;\n</code></pre>\n\n<p>It works well as intended but the problem it shows Appname as title. I want to make it appear as AlertDialog. How to fix this?</p>\n\n<p>I also cant use setTitle(\"\") or label=\"\" because empty space is left where appname was before.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530627244, "post_id": 51156734, "comment_id": 89296939, "body": "I mean if you have memory leaks then clearly the memory leak itself is elsewhere. though your backstack most definitely won&#39;t work if you check against process death, see <a href=\"https://stackoverflow.com/a/49107399/2413303\">stackoverflow.com/a/49107399/2413303</a>"}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530627920, "post_id": 51156734, "comment_id": 89297384, "body": "@EpicPandaForce The Backstack works good and with configuration changes. No crashes at all. The main problem is memory leak. CanaryLeak tracked it back to the BackStack. There is no other place that would keep an instance of unused Fragments."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530628184, "post_id": 51156734, "comment_id": 89297587, "body": "Have you tested across <b>process death</b>, which is completely different from configuration changes?"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530642120, "post_id": 51156734, "comment_id": 89305069, "body": "Why would you need a custom backstack? You obviously can&#39;t keep fragment instances because they will leak host activity context."}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530691516, "post_id": 51156734, "comment_id": 89320235, "body": "@EpicPandaForce yes, everything works as usual. Maybe the app will start 1 sec longer but there are no problems."}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1530691639, "post_id": 51156734, "comment_id": 89320284, "body": "@Pawel Because the native backstack is too simple and it doesn&#39;t give you that much control over the app. And I know that It causes memory leaks, that&#39;s why I&#39;m here, asking for possible fixes."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530696301, "post_id": 51156734, "comment_id": 89323110, "body": "Huh, that&#39;s a surprise to me, just making sure :D i maintain a library for <a href=\"https://github.com/Zhuinden/simple-stack\" rel=\"nofollow noreferrer\">managing navigation state in a list/backstack</a> and I don&#39;t store the Fragment instances directly because they&#39;re re-created by the system after process death and you&#39;d need to find them by tag anyways."}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530708822, "post_id": 51156734, "comment_id": 89331110, "body": "is your <code>fragmentManager</code> in <code>FragmentUtils</code> holding a reference to the activity&#39;s FM? and being re-referenced every time on new activity? Also I don&#39;t see the advantage of performing <code>removeFragment()</code> manually. If you need to handle a case where something should happen when fragment is removed from the stack use <code>addOnBackStackChangedListener</code> in the FM and implement your calls there. Further make sure you have <code>WeakReference&lt;FragmentManager&gt;</code> that would be safety mechanism for a class not to hold any collectable references."}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530806306, "post_id": 51156734, "comment_id": 89372801, "body": "@HawkPriest, WeakReference doesn&#39;t work, cus GC collects Fragments once they go to backstack. But SoftReference seems to work. Gonna test that out later. Thanks for the clue though!"}], "owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530626985, "creation_date": 1530626985, "question_id": 51156734, "link": "https://stackoverflow.com/questions/51156734/completely-destroy-fragment-instance", "title": "Completely destroy Fragment Instance", "body": "<p>I am using a custom Backstack to manage the Application screens. Basically, the custom BackStack is a List. The problem is that this method does memory leaks. </p>\n\n<p>This method checks if there is a Fragment in the cell already:</p>\n\n<pre><code>    private fun addToBackStack(fragment: Fragment){\n    try {\n        if (backStack.isNotEmpty() &amp;&amp; backStack[backStackPosition] != null)\n            fragmentUtils.removeFragment(backStack[backStackPosition]!!)\n    } catch (e: IndexOutOfBoundsException) {\n        e.printStackTrace()\n    }\n    backStack.add(backStackPosition, fragment)\n}\n</code></pre>\n\n<p>And this is how I try to remove it:</p>\n\n<pre><code>fun removeFragment(fragment: Fragment?){\n    fm.beginTransaction().remove(fragment).commit()\n}\n</code></pre>\n\n<p>But I still have memory leaks, according to LeakCanary. What am I doing wrong, or how to completely destroy a Fragment?</p>\n"}, {"tags": ["android", "kotlin", "annotations", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1530689712, "post_id": 51156847, "comment_id": 89319321, "body": "This doesn&#39;t highlight the call when <code>R.color.colorPrimary.find()</code> is used"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 1, "creation_date": 1530691998, "post_id": 51156847, "comment_id": 89320491, "body": "Most likely the lint checks don&#39;t handle annotations on the receiver. You can file an issue in the Android issue tracker."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 4, "last_activity_date": 1530627300, "creation_date": 1530627300, "answer_id": 51156847, "question_id": 51156576, "link": "https://stackoverflow.com/questions/51156576/kotlin-annotate-receiver-of-extension-function/51156847#51156847", "title": "Kotlin annotate receiver of extension function", "body": "<p>As described in <a href=\"http://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">the documentation</a>, you can use the following syntax:</p>\n\n<pre><code>fun @receiver:IdRes &lt;T : View&gt; Int.find() = ...\n</code></pre>\n\n<p>However, note that the Kotlin compiler is not aware of the semantics of the Android annotations, so their incorrect use is never a compilation error; it's at best a failed lint check.</p>\n"}], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1530627300, "creation_date": 1530626531, "question_id": 51156576, "link": "https://stackoverflow.com/questions/51156576/kotlin-annotate-receiver-of-extension-function", "title": "Kotlin annotate receiver of extension function", "body": "<p>I would like to restrict on which constant value extension function can be called. For example function like:</p>\n\n<pre><code>@IdRes\nfun &lt;T : View&gt; Int.find() = findViewById&lt;T&gt;(this)\n</code></pre>\n\n<p>If this was called on real id, it's fine:</p>\n\n<pre><code>R.id.someView.find&lt;TextView&gt;() // ok\n</code></pre>\n\n<p>But this should make compilation error:</p>\n\n<pre><code>42.find&lt;TextView&gt;() // should be compile error\n</code></pre>\n\n<p>Is annotating extension receiver supported in Kotlin?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-gradle-plugin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "is_accepted": true, "score": 2, "last_activity_date": 1530888583, "creation_date": 1530888583, "answer_id": 51212954, "question_id": 51156560, "link": "https://stackoverflow.com/questions/51156560/android-studio-cant-find-kotlinx-module-generated-from-layout/51212954#51212954", "title": "Android Studio can&#39;t find kotlinx module generated from layout", "body": "<p>I was able to work around this by making a separate Android library module with just the platform-specific bits (and, importantly, no <code>kotlinx</code> usage), and then importing that into the main app module. This means the main app module no longer needs to use <code>kotlin-platform-android</code> and can just be <code>kotlin-android</code> instead. </p>\n\n<p>So in summary, in the module containing the platform-specific bits:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-platform-android'\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    expectedBy project(':engine')\n}\n</code></pre>\n\n<p>and in the main module:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xmulti-platform\"]\n    }\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation project(':engine-android')\n}\n</code></pre>\n\n<p>Note that we still need to pass <code>-Xmulti-platform</code> to the Kotlin compiler to be able to link to <code>:engine-android</code>; but we're using the vanilla <code>kotlin-android</code> plugin which seems to work OK with <code>kotlin-android-extensions</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1861587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b398ed5f8e6cdc0d6528d16fc0fb68c?s=128&d=identicon&r=PG", "display_name": "Shahar Gluzman", "link": "https://stackoverflow.com/users/1861587/shahar-gluzman"}, "is_accepted": false, "score": 1, "last_activity_date": 1613040290, "last_edit_date": 1613040290, "creation_date": 1613039970, "answer_id": 66153102, "question_id": 51156560, "link": "https://stackoverflow.com/questions/51156560/android-studio-cant-find-kotlinx-module-generated-from-layout/66153102#66153102", "title": "Android Studio can&#39;t find kotlinx module generated from layout", "body": "<p>Please add the following code, into the apply plugin from build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n}\n</code></pre>\n"}], "owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 1, "accepted_answer_id": 51212954, "answer_count": 2, "score": 0, "last_activity_date": 1613040290, "creation_date": 1530626499, "question_id": 51156560, "link": "https://stackoverflow.com/questions/51156560/android-studio-cant-find-kotlinx-module-generated-from-layout", "title": "Android Studio can&#39;t find kotlinx module generated from layout", "body": "<p>I'm using the standard Kotlin Android extensions to refer to <code>View</code>s defined in a layout XML using the typed IDs in <code>kotlinx.android.synthetic.main.activity_main</code>. I am able to compile my project both from Android Studio and from the CLI, so these references seem to be resolved correctly; however, in  Android Studio the import statement is shown as unresolved, and so none of the typed IDs work.</p>\n\n<p>My <code>build.gradle</code> is as follows:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-platform-android'\napply plugin: 'kotlin-android-extensions'\n\nbuildscript {\n    ext.kotlin_version = '1.2.50'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nandroidExtensions {\n    experimental = true\n}\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.example\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 2\n        versionName \"0.3.0\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation \"org.jetbrains.anko:anko-sdk15:0.8.3\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.android.support:support-vector-drawable:27.1.1'\n    implementation 'org.apache.commons:commons-io:1.3.2'\n    expectedBy project(':engine')\n    implementation project(':dialogue')\n    implementation 'com.android.support:cardview-v7:27.1.1'\n    implementation 'com.github.daniel-stoneuk:material-about-library:2.3.0'\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "overloading"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1530640151, "post_id": 51157491, "comment_id": 89304108, "body": "&quot;The two functions will compile down to the same function signature after the generics have been erased.&quot; No, they don&#39;t: the return types are different."}, {"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1546590384, "post_id": 51157491, "comment_id": 94906057, "body": "@AlexeyRomanov The return type is not part of the signature, see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">here</a> for example: <i>Definition: Two of the components of a method declaration comprise the method signature\u2014the method&#39;s name and the parameter types.</i>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1546632301, "post_id": 51157491, "comment_id": 94926259, "body": "That&#39;s true for Java language, but JVM does allow overloading based on return types (though after checking, the relevant term is &quot;descriptor&quot; and &quot;signature&quot; there includes generics as well)."}], "tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1530629400, "creation_date": 1530629400, "answer_id": 51157491, "question_id": 51155836, "link": "https://stackoverflow.com/questions/51155836/kotlin-bound-type-parameters-extension-overload/51157491#51157491", "title": "Kotlin bound type parameters extension overload", "body": "<p>The two functions will compile down to the same function signature after the generics have been erased. </p>\n\n<p>For example, this is what it might look like:</p>\n\n<pre><code>@NotNull\npublic final String get() {\n  ...\n}\n</code></pre>\n\n<p>The compiler has no way of knowing which function to call. </p>\n\n<p>A solution to this could be reified type parameters. </p>\n\n<pre><code>    interface Some\n    interface Other\n\n    inline fun &lt;reified T&gt; get() = when (T::class) {\n        Some::class -&gt; \"hey\"\n        Other::class -&gt; null\n        else -&gt; throw UnsupportedOperationException()\n    }\n</code></pre>\n\n<p>However then you have to lift the type restrictions. </p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1530639898, "creation_date": 1530639898, "answer_id": 51160316, "question_id": 51155836, "link": "https://stackoverflow.com/questions/51155836/kotlin-bound-type-parameters-extension-overload/51160316#51160316", "title": "Kotlin bound type parameters extension overload", "body": "<blockquote>\n  <p>Is it possible to overload extension functions based on their bound type parameters?</p>\n</blockquote>\n\n<p>Generally speaking, yes. The problem is that the parameters only appear in return types, and the rules of Java (which Kotlin follows in this respect) don't allow overloading methods based on their return types, because return types aren't used for overload resolution. This decision was made before generics appeared in Java, because then the compiler could never choose a more specific method. Afterwards it could have been revised, but wasn't.</p>\n\n<p>If you had a <code>T</code> <em>parameter</em>, it would work.</p>\n"}, {"comments": [{"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1557523867, "post_id": 56084929, "comment_id": 98808346, "body": "Nice. About Kotlin Android extensions, <a href=\"https://www.reddit.com/r/androiddev/comments/ala9p2/why_kotlinx_synthetic_is_no_longer_a_recommended/\" rel=\"nofollow noreferrer\">it&#39;s no longer advocated for usage</a>"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 0, "creation_date": 1557526240, "post_id": 56084929, "comment_id": 98808933, "body": "I don&#39;t follow Google&#39;s crappy advice. They can invent and deprecate things 256 times a day while I just want to solve my problems. And no matter how good Kotlin Android extensions are, XML layouts and drawables should be burnt to the ground."}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 1, "last_activity_date": 1557525861, "last_edit_date": 1557525861, "creation_date": 1557522928, "answer_id": 56084929, "question_id": 51155836, "link": "https://stackoverflow.com/questions/51155836/kotlin-bound-type-parameters-extension-overload/56084929#56084929", "title": "Kotlin bound type parameters extension overload", "body": "<p>The 'normal' way with resolving platform declaration clash using <code>@JvmName</code> won't work here: Kotlin allows overloading by types of value parameters, not by bounds of type parameters.</p>\n\n<p>This can be (uglily) worked around by adding useless value parameters with (just as useless) default values.</p>\n\n<pre><code>// unchanged\nfun &lt;T : Drawable&gt; Int.get(): T? =\n        ContextCompat.getDrawable(this@BaseActivity, this@get) as T?\n\n// added a parameter\nfun &lt;T : View&gt; Int.get(dummy: Nothing? = null): T =\n        findViewById(this)\n</code></pre>\n\n<p>Some unrelated notes:</p>\n\n<ul>\n<li>such small methods should be <code>inline</code>, especially ones with default values for parameters</li>\n<li><code>findViewById</code> could be replaced with <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin Android extensions</a></li>\n<li><a href=\"https://github.com/Kotlin/anko/\" rel=\"nofollow noreferrer\">Anko</a> library has many useful extensions and shortcuts, including ones for fetching resources and even building layouts from code without XML</li>\n</ul>\n"}], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1557525861, "creation_date": 1530624443, "question_id": 51155836, "link": "https://stackoverflow.com/questions/51155836/kotlin-bound-type-parameters-extension-overload", "title": "Kotlin bound type parameters extension overload", "body": "<p>Is it possible to overload extension functions based on their bound type parameters? For example:</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n\n    fun &lt;T : Drawable&gt; Int.get(): T? \n        = ContextCompat.getDrawable(this@BaseActivity, this@get) as T?\n    fun &lt;T : View&gt; Int.get(): T \n        = findViewById(this)\n\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>R.id.webView.get&lt;WebView&gt;() // finds webView\nR.drawable.image.get&lt;Drawable&gt;() // gets drawable from resources\n</code></pre>\n\n<p>(Android code is unrelated to the issue, it's just what I had)</p>\n\n<p>But it gives me error:</p>\n\n<pre><code>Conflicting overloads: public fun &lt;T : Drawable&gt; Int.get(): T? defined in xxx.BaseActivity, \npublic final fun &lt;T : View&gt; Int.get(): T defined in xxx.BaseActivity\n</code></pre>\n\n<p>Shouldn't it be possible?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "grpc", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8265261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6995816d996e43e17cb36c8a54a737?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mahajan", "link": "https://stackoverflow.com/users/8265261/harsh-mahajan"}, "edited": false, "score": 0, "creation_date": 1531359597, "post_id": 51237514, "comment_id": 89569833, "body": "Does &quot;3rd-party Gradle plug-ins may be the cause&quot; warning matter ?"}, {"owner": {"reputation": 11, "user_id": 8265261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6995816d996e43e17cb36c8a54a737?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mahajan", "link": "https://stackoverflow.com/users/8265261/harsh-mahajan"}, "edited": false, "score": 0, "creation_date": 1531359615, "post_id": 51237514, "comment_id": 89569838, "body": "No, it doesn&#39;t. :)"}, {"owner": {"reputation": 11, "user_id": 8265261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6995816d996e43e17cb36c8a54a737?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mahajan", "link": "https://stackoverflow.com/users/8265261/harsh-mahajan"}, "edited": false, "score": 0, "creation_date": 1542545649, "post_id": 51237514, "comment_id": 93598761, "body": "You&#39;ll need to remove debug.java... to generate signed APKs"}], "tags": [], "owner": {"reputation": 11, "user_id": 8265261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6995816d996e43e17cb36c8a54a737?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mahajan", "link": "https://stackoverflow.com/users/8265261/harsh-mahajan"}, "is_accepted": true, "score": 0, "last_activity_date": 1531102725, "creation_date": 1531102725, "answer_id": 51237514, "question_id": 51155663, "link": "https://stackoverflow.com/questions/51155663/android-integrating-kotlin-with-dagger-and-protobuf/51237514#51237514", "title": "Android: Integrating Kotlin with Dagger and Protobuf", "body": "<p>I had to add this to my app level gradle file in android closure.</p>\n\n<pre><code>sourceSets {\n        debug.java.srcDirs += 'build/generated/source/proto/debug/java'\n        debug.java.srcDirs += 'build/generated/source/proto/debug/grpc'\n        debug.java.srcDirs += 'build/generated/source/proto/debug/javalite'\n        release.java.srcDirs += 'build/generated/source/proto/release/java'\n        release.java.srcDirs += 'build/generated/source/proto/release/grpc'\n        release.java.srcDirs += 'build/generated/source/proto/release/javalite'\n        main.proto.srcDirs += 'src/main/proto'\n        main.kotlin.srcDirs 'build/generated/source/proto'\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8265261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd6995816d996e43e17cb36c8a54a737?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Mahajan", "link": "https://stackoverflow.com/users/8265261/harsh-mahajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 51237514, "answer_count": 1, "score": 0, "last_activity_date": 1531102725, "creation_date": 1530623906, "question_id": 51155663, "link": "https://stackoverflow.com/questions/51155663/android-integrating-kotlin-with-dagger-and-protobuf", "title": "Android: Integrating Kotlin with Dagger and Protobuf", "body": "<p>I have existing project that builds successfully with Java, <a href=\"https://grpc.io/\" rel=\"nofollow noreferrer\">gRPC</a>(Protobuf) and Dagger2. I want to add Kotlin to the project.</p>\n\n<p>I have converted data files to Kotlin quite easily. When I converted first activity (containing Dagger2) build failed. After adding <code>apply plugin: 'kotlin-kapt'</code> and pressing Sync Now it says</p>\n\n<pre><code>Folder C:\\AndroidStudioProjects\\Bingo\\app\\build\\generated\\source\\kaptKotlin\\debug\n\n\nFolder C:\\AndroidStudioProjects\\Bingo\\app\\build\\generated\\source\\kaptKotlin\\release\n\n\n3rd-party Gradle plug-ins may be the cause\n</code></pre>\n\n<p>The build still fails, now it doesn't recognize files generated by protobuf also.</p>\n\n<p>Has anyone tried Kotlin, Dagger, Protobuf together? I don't want to completely replace Java with Kotlin.</p>\n\n<p>This is my module level gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: 'com.google.protobuf'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion '28.0.0'\n    defaultConfig {\n        applicationId \"com.productions.bingo\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        multiDexEnabled true\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        targetCompatibility JavaVersion.VERSION_1_8\n        sourceCompatibility JavaVersion.VERSION_1_8\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n}\n\nprotobuf {\n    protoc {\n        artifact = 'com.google.protobuf:protoc:3.4.0'\n    }\n    plugins {\n        javalite {\n            artifact = \"com.google.protobuf:protoc-gen-javalite:3.0.0\"\n        }\n        grpc {\n            artifact = 'io.grpc:protoc-gen-grpc-java:1.8.0'\n        }\n    }\n    generateProtoTasks {\n        all().each { task -&gt;\n            task.plugins {\n                javalite {}\n                grpc {\n                    // Options added to --grpc_out\n                    option 'lite'\n                }\n            }\n        }\n    }\n}\n\n// Inform IDEs like IntelliJ IDEA, Eclipse or NetBeans about the generated code.\nsourceSets {\n    main.java.srcDirs += \"${protobuf.generatedFilesBaseDir}/main/javalite\"\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    // Butterknife\n    implementation 'com.jakewharton:butterknife:8.8.1'\n    kapt 'com.jakewharton:butterknife-compiler:8.8.1'\n\n    // Support Libraries\n    implementation 'com.android.support:appcompat-v7:28.0.0-alpha1'\n    implementation 'com.android.support:design:28.0.0-alpha1'\n    implementation 'com.android.support:support-v4:28.0.0-alpha1'\n    implementation 'com.android.support:preference-v7:28.0.0-alpha1'\n    implementation \"com.android.support:support-core-utils:28.0.0-alpha1\"\n    implementation 'com.android.support:cardview-v7:28.0.0-alpha1'\n    implementation 'com.android.support:customtabs:28.0.0-alpha1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    implementation 'com.google.android.gms:play-services-auth:15.0.1'\n\n    // gRPC\n    implementation 'io.grpc:grpc-okhttp:1.11.0'\n    implementation 'io.grpc:grpc-protobuf-lite:1.11.0'\n    implementation 'io.grpc:grpc-stub:1.11.0'\n    implementation 'javax.annotation:javax.annotation-api:1.2'\n\n    //Dagger\n    implementation 'com.google.dagger:dagger:2.13'\n    kapt \"com.google.dagger:dagger-compiler:2.13\"\n\n    implementation 'com.google.code.gson:gson:2.8.5'\n\n    // Celebration\n    implementation 'nl.dionsegijn:konfetti:1.1.2'\n    implementation 'com.getkeepsafe.taptargetview:taptargetview:1.11.0'\n    implementation 'com.facebook.shimmer:shimmer:0.2.0'\n\n    // Testing-only dependencies\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-intents:3.0.2'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support:support-annotations:27.1.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-contrib:3.0.2'\n    testImplementation 'junit:junit:4.12'\n\n    // Kotlin libraries\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation \"org.jetbrains.anko:anko:0.10.5\"\n}\n</code></pre>\n\n<p>This is my project gradle file:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.50'\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath 'com.google.gms:google-services:3.1.1'\n        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenCentral()\n        jcenter()\n        google()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 4779, "user_id": 2073920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aabfa1f12f2c0da4856f2c85c3c7d4be?s=128&d=identicon&r=PG", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/2073920/abdul-rauf"}, "edited": false, "score": 0, "creation_date": 1530619691, "post_id": 51154103, "comment_id": 89291579, "body": "Welcome to stackoverflow. Kindly read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> . Introduce the problem and explain what have you tried to fix this issue"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10010043, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tGmcz-vIVoI/AAAAAAAAAAI/AAAAAAAAE-4/CecbfGI4wnA/photo.jpg?sz=128", "display_name": "SHIVAM KAPILA", "link": "https://stackoverflow.com/users/10010043/shivam-kapila"}, "edited": false, "score": 0, "creation_date": 1530776002, "post_id": 51154515, "comment_id": 89353206, "body": "This approach works good for true case and the value is never set to false. Also super.onBackPressed() does not work correctly.\\"}], "tags": [], "owner": {"reputation": 218, "user_id": 9988706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JQJuPunbTvg/AAAAAAAAAAI/AAAAAAAAB_w/ME27t_W2Yz8/photo.jpg?sz=128", "display_name": "Gobu CSG", "link": "https://stackoverflow.com/users/9988706/gobu-csg"}, "is_accepted": false, "score": 1, "last_activity_date": 1530620408, "creation_date": 1530620408, "answer_id": 51154515, "question_id": 51154103, "link": "https://stackoverflow.com/questions/51154103/i-want-that-when-i-press-hardware-back-button-in-songplayingfragment-i-should-re/51154515#51154515", "title": "I want that when I press hardware back button in SongPlayingFragment I should return to main screen. How can I do it?", "body": "<p>Let try this ,</p>\n\n<p>This is java code Just u can convert to kotlin it will work fine.</p>\n\n<p>In your Activity</p>\n\n<p>Declare a static variable</p>\n\n<pre><code>public static boolean IS_MUSIC_SCREEN = false;\n</code></pre>\n\n<p>Implement this method</p>\n\n<pre><code>      @Override\n    public void onBackPressed() {\n        if (IS_MUSIC_SCREEN) {\n            IS_MUSIC_SCREEN=false;\n            startActivity(new Activity(this,MainActivity.class));\n        }else{\n            super.onBackPressed();\n        }\n    }\n</code></pre>\n\n<p>In your Fragment,</p>\n\n<p>IS_MUSIC_SCREEN is true set in onCreateView</p>\n\n<p>Like this ,</p>\n\n<pre><code> @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_song_playing, container, false);\n        MainActivity.IS_MUSIC_SCREEN =true;\n        return view;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "reply_to_user": {"reputation": 11, "user_id": 10010043, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tGmcz-vIVoI/AAAAAAAAAAI/AAAAAAAAE-4/CecbfGI4wnA/photo.jpg?sz=128", "display_name": "SHIVAM KAPILA", "link": "https://stackoverflow.com/users/10010043/shivam-kapila"}, "edited": false, "score": 0, "creation_date": 1530976392, "post_id": 51175694, "comment_id": 89429168, "body": "For which line?"}, {"owner": {"reputation": 11, "user_id": 10010043, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tGmcz-vIVoI/AAAAAAAAAAI/AAAAAAAAE-4/CecbfGI4wnA/photo.jpg?sz=128", "display_name": "SHIVAM KAPILA", "link": "https://stackoverflow.com/users/10010043/shivam-kapila"}, "edited": false, "score": 0, "creation_date": 1531034925, "post_id": 51175694, "comment_id": 89439024, "body": "This      val lifecycleReferrals&lt;WeakReference&lt;LifecycleAdapter&gt;&gt; = mutableListOf()"}], "tags": [], "owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "is_accepted": false, "score": 0, "last_activity_date": 1531052395, "last_edit_date": 1531052395, "creation_date": 1530713464, "answer_id": 51175694, "question_id": 51154103, "link": "https://stackoverflow.com/questions/51154103/i-want-that-when-i-press-hardware-back-button-in-songplayingfragment-i-should-re/51175694#51175694", "title": "I want that when I press hardware back button in SongPlayingFragment I should return to main screen. How can I do it?", "body": "<p>A simple approach would be to initialise a <code>BackHandler</code> mechanism with the <code>Fragment</code>. I have such an approach with my <code>BaseFragment</code> class that would return a boolean to true if the back action is to be handled by the fragment instead of activity. For this you can have a custom <code>LifecycleAdapter</code>:</p>\n\n<pre><code>interface LifecycleAdapter {\n   fun onBackPressed() : Boolean = false\n\n   // add other methods like onActivityResult or similar \n   // if needed that is to be delegated to the fragment\n}\n</code></pre>\n\n<p>Now in the <code>BaseActivity</code> you would have 2 functions one for addingFragment and a register function for <code>MutableList&lt;WeakReference&lt;LifecycleAdapter&gt;&gt;</code></p>\n\n<pre><code>open class BaseActivity : AppCompatActivity() { // which ever type\n    protected open val lifecycleReferrals : MutableList&lt;WeakReference&lt;LifecycleAdapter&gt;&gt; = mutableListOf()\n\n    fun addFragment(fragment: BaseFragment, \n            @IdRes containerId: Int = R.id.fragment_container, \n            replace: Boolean = true, \n            addToBackstack: Boolean = false) {\n\n        supportFragmentManager?.beginTransaction()?.run {\n            if (addToBackstack){\n                addToBackStack(fragment.javaClass.simpleName)          \n            }\n            if (replace) {\n                replace(containerId, fragment) // add tag when needed\n            } else {\n                add(containerId, fragment)\n            }\n            registerLifecycleReferrals(fragment)\n            commit()\n\n        }\n    }\n\n    fun registerLifecycleReferrals(adapter: LifecycleAdapter){\n        lifecycleReferrals.add(WeakReference(adapter))\n    }\n\n\n    override fun onBackPressed() {\n        if (lifecycleReferrals.none { it.get()?.onBackPressed(0) == true }) {\n            super.onBackPressed()\n        }\n    }\n\n}\n</code></pre>\n\n<p>when ever you need a any class accessing the controller methods like <code>onBackPressed()</code> you can implement the interface in the required class and call <code>registerLifecycleReferrals(obj)</code> from the <code>activity</code>.</p>\n\n<p>Now your base fragment class would be:</p>\n\n<pre><code>open class BaseFragment : Fragment(), LifecycleAdapter{\n    // have parent level constructs and implementation\n    // that would serve you well across the entire project\n}\n</code></pre>\n\n<p>and your current fragment can be:</p>\n\n<pre><code>class SongPlayingFragment : BaseFragment() {\n    // do all fragment inits and override methods\n\n    override fun onBackPressed(): Boolean {\n        if (Statified.currentSongHelper?.isPlaying == true) {\n             // handle the call and switch to MainScreenActivity\n             context?.apply {\n                 startActivity&lt;MainScreenActivity&gt;() // anko extension\n                 return true\n             }\n        }\n        return super.onBackPressed()\n    }\n}\n</code></pre>\n\n<p>Note: The adapters are weak referenced in the <code>BaseActivity</code> class because if the <code>Fragment</code> undergoes a destruction process it can be easily freed up by the GC and list wouldn't withhold the reference to it.</p>\n"}], "owner": {"reputation": 11, "user_id": 10010043, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tGmcz-vIVoI/AAAAAAAAAAI/AAAAAAAAE-4/CecbfGI4wnA/photo.jpg?sz=128", "display_name": "SHIVAM KAPILA", "link": "https://stackoverflow.com/users/10010043/shivam-kapila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1531052395, "creation_date": 1530619217, "last_edit_date": 1530619442, "question_id": 51154103, "link": "https://stackoverflow.com/questions/51154103/i-want-that-when-i-press-hardware-back-button-in-songplayingfragment-i-should-re", "title": "I want that when I press hardware back button in SongPlayingFragment I should return to main screen. How can I do it?", "body": "<pre><code>package com.shivamkapila.echo.fragments\nimport android.app.Activity\nimport android.content.Context\nimport android.hardware.Sensor\nimport android.hardware.SensorEvent\nimport android.hardware.SensorEventListener\nimport android.hardware.SensorManager\nimport android.media.AudioManager\nimport android.media.MediaPlayer\nimport android.net.Uri\nimport android.os.Bundle\nimport android.os.Handler\nimport android.support.v4.app.Fragment\nimport android.support.v4.content.ContextCompat\nimport android.util.Log\nimport android.view.*\nimport android.widget.ImageButton\nimport android.widget.SeekBar\nimport android.widget.TextView\nimport android.widget.Toast\nimport com.cleveroad.audiovisualization.AudioVisualization\nimport com.cleveroad.audiovisualization.DbmHandler\nimport com.cleveroad.audiovisualization.GLAudioVisualizationView\nimport com.shivamkapila.echo.CurrentSongHelper\nimport com.shivamkapila.echo.R\nimport com.shivamkapila.echo.Songs\nimport com.shivamkapila.echo.activities.MainActivity\nimport com.shivamkapila.echo.databases.EchoDatabase\nimport com.shivamkapila.echo.utils.SeekBarController\nimport java.util.*\nimport java.util.concurrent.TimeUnit\n\nclass SongPlayingFragment : Fragment() {\n\nobject Statified {\n\n    var myActivity: Activity? = null\n    var mediaPlayer: MediaPlayer? = null\n    var startTimeNext: TextView? = null\n    var endTimeNext: TextView? = null\n    var playPauseImageButton: ImageButton? = null\n    var previousImageButton: ImageButton? = null\n    var nextImageButton: ImageButton? = null\n    var loopImageButton: ImageButton? = null\n    var seekbar: SeekBar? = null\n    var songArtistView: TextView? = null\n    var songTitleView: TextView? = null\n    var shuffleImageButton: ImageButton? = null\n    var check: Boolean = true\n    var _currentPosition: Int = 0\n    var fetchSongs: ArrayList&lt;Songs&gt;? = null\n\n    var currentSongHelper: CurrentSongHelper? = null\n\n    var audioVisualization: AudioVisualization? = null\n    var glView: GLAudioVisualizationView? = null\n    var fab: ImageButton? = null\n\n    var favoriteContent: EchoDatabase? = null\n    var counter: Int = 0\n    var mSensorManager: SensorManager? = null\n    var mSensorListener: SensorEventListener? = null\n    var MY_PREFS_NAME = \"ShakeFeature\"\n    var back: String? = null\n    var updateSongTime = object : Runnable {\n        override fun run() {\n            try {\n                val getCurrent = Statified.mediaPlayer?.getCurrentPosition()\n                startTimeNext?.setText(String.format(\"%02d:%02d\",\n                        TimeUnit.MILLISECONDS.toMinutes(getCurrent?.toLong() as Long),\n                        TimeUnit.MILLISECONDS.toSeconds(getCurrent?.toLong() as Long) -\n                                TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(getCurrent?.toLong() as Long))))\n\n                seekbar?.setProgress(getCurrent?.toInt() as Int)\n                Statified.check = true\n                Handler().postDelayed(this, 1000)\n\n            } catch (e: Exception) {\n                e.printStackTrace()\n            }\n        }\n    }\n\n}\n\n\nobject Staticated {\n\n    var MY_PREFS_SHUFFLE = \"Shuffle feature\"\n    var MY_PREFS_LOOP = \"Loop feature\"\n\n    fun onSongComplete() {\n\n        if (Statified.currentSongHelper?.isShuffle as Boolean) {\n            playNext(\"PlayNextLikeNormalShuffle\")\n            Statified.currentSongHelper?.isPlaying = true\n\n        } else {\n            if (Statified.currentSongHelper?.isLoop as Boolean) {\n\n                Statified.currentSongHelper?.isPlaying = true\n\n                var nextSong = Statified.fetchSongs?.get(Statified._currentPosition)\n                Statified.currentSongHelper?.songPath = nextSong?.songData\n                Statified.currentSongHelper?.songTitle = nextSong?.songTitle\n                Statified.currentSongHelper?.songArtist = nextSong?.artist\n                Statified.currentSongHelper?.songId = nextSong?.songID as Long\n                Statified.currentSongHelper?.currentPosition = Statified._currentPosition\n\n                updateTextViews(Statified.currentSongHelper?.songTitle as String, Statified.currentSongHelper?.songArtist as String)\n\n                Statified.mediaPlayer?.reset()\n                try {\n                    Statified.mediaPlayer?.setDataSource(Statified.myActivity, Uri.parse(Statified.currentSongHelper?.songPath) as Uri)\n                    Statified.mediaPlayer?.prepare()\n                    Statified.mediaPlayer?.start()\n                    processInformation(Statified.mediaPlayer as MediaPlayer)\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                }\n\n            } else {\n                playNext(\"PlayNextNormal\")\n                Statified.currentSongHelper?.isPlaying = true\n\n            }\n\n        }\n\n        if (Statified.favoriteContent?.checkifIdExists(Statified.currentSongHelper?.songId?.toInt() as Int) as Boolean) {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_on))\n        } else {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_off))\n\n        }\n    }\n\n    fun updateTextViews(songTitle: String, songArtist: String) {\n        var songTitleUpdated = songTitle\n        var songArtistUpdated = songArtist\n        if (songTitle.equals(\"&lt;unknown&gt;\", true)) {\n            songTitleUpdated = \"unknown\"\n        }\n        if (songArtist.equals(\"&lt;unknown&gt;\", true)) {\n            songArtistUpdated = \"unknown\"\n        }\n        Statified.songTitleView?.setText(songTitleUpdated)\n        Statified.songArtistView?.setText(songArtistUpdated)\n    }\n\n\n    fun processInformation(mediaPlayer: MediaPlayer) {\n        val finalTime = mediaPlayer.duration\n        val startTime = mediaPlayer.currentPosition\n        Statified.seekbar?.max = finalTime\n        Statified.startTimeNext?.setText(String.format(\"%02d:%02d\",\n                TimeUnit.MILLISECONDS.toMinutes(startTime.toLong()),\n                TimeUnit.MILLISECONDS.toSeconds(startTime.toLong()) -\n                        TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(startTime.toLong()))))\n\n        Statified.endTimeNext?.setText(String.format(\"%02d:%02d\",\n                TimeUnit.MILLISECONDS.toMinutes(finalTime.toLong()),\n                TimeUnit.MILLISECONDS.toSeconds(finalTime.toLong()) -\n                        TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(finalTime.toLong()))))\n\n        Statified.seekbar?.setProgress(startTime)\n        Handler().postDelayed(Statified.updateSongTime, 1000)\n\n    }\n\n\n    fun playNext(check: String) {\n\n        if (check.equals(\"PlayNextNormal\", true)) {\n            Statified._currentPosition = Statified._currentPosition + 1\n        } else if (check.equals(\"PlayNextLikeNormalShuffle\", true)) {\n            var randomObject = Random()\n            var randomPosition = randomObject.nextInt(Statified.fetchSongs?.size?.plus(1) as Int)\n            Statified._currentPosition = randomPosition\n\n        }\n        if (Statified._currentPosition == Statified.fetchSongs?.size) {\n            Statified._currentPosition = 0\n        }\n        Statified.currentSongHelper?.isLoop = false\n        var nextSong = Statified.fetchSongs?.get(Statified._currentPosition)\n        Statified.currentSongHelper?.songPath = nextSong?.songData\n        Statified.currentSongHelper?.songTitle = nextSong?.songTitle\n        Statified.currentSongHelper?.songArtist = nextSong?.artist\n        Statified.currentSongHelper?.songId = nextSong?.songID as Long\n        Statified.currentSongHelper?.currentPosition = Statified._currentPosition\n        var editorLoop = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_LOOP, Context.MODE_PRIVATE)?.edit()\n\n        Statified.currentSongHelper?.isLoop = false\n        Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n        editorLoop?.putBoolean(\"feature\", false)\n        editorLoop?.apply()\n        if (Statified.currentSongHelper?.isPlaying as Boolean) {\n            Statified.playPauseImageButton?.setBackgroundResource(R.drawable.pause_icon)\n        } else {\n            Statified.playPauseImageButton?.setBackgroundResource(R.drawable.play_icon)\n        }\n        updateTextViews(Statified.currentSongHelper?.songTitle as String, Statified.currentSongHelper?.songArtist as String)\n\n        Statified.mediaPlayer?.reset()\n        try {\n            Statified.mediaPlayer?.setDataSource(Statified.myActivity, Uri.parse(Statified.currentSongHelper?.songPath) as Uri)\n            Statified.mediaPlayer?.prepare()\n            Statified.mediaPlayer?.start()\n            Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n            processInformation(Statified.mediaPlayer as MediaPlayer)\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n        if (Statified.favoriteContent?.checkifIdExists(Statified.currentSongHelper?.songId?.toInt() as Int) as Boolean) {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_on))\n        } else {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_off))\n        }\n\n    }\n\n    fun playPrevious() {\n\n        Statified._currentPosition = Statified._currentPosition - 1\n        if (Statified._currentPosition == -1) {\n            Statified._currentPosition = 0\n        }\n        if (Statified.currentSongHelper?.isPlaying as Boolean) {\n            Statified.playPauseImageButton?.setBackgroundResource(R.drawable.pause_icon)\n        } else {\n            Statified.playPauseImageButton?.setBackgroundResource(R.drawable.play_icon)\n        }\n\n        Statified.currentSongHelper?.isLoop = false\n\n        var nextSong = Statified.fetchSongs?.get(Statified._currentPosition)\n\n        Statified.currentSongHelper?.songPath = nextSong?.songData\n        Statified.currentSongHelper?.songTitle = nextSong?.songTitle\n        Statified.currentSongHelper?.songArtist = nextSong?.artist\n        Statified.currentSongHelper?.songId = nextSong?.songID as Long\n        Statified.currentSongHelper?.currentPosition = Statified._currentPosition\n\n        Staticated.updateTextViews(Statified.currentSongHelper?.songTitle as String, Statified.currentSongHelper?.songArtist as String)\n\n\n        Statified.mediaPlayer?.reset()\n        try {\n            Statified.mediaPlayer?.setDataSource(Statified.myActivity, Uri.parse(Statified.currentSongHelper?.songPath) as Uri)\n            Statified.mediaPlayer?.prepare()\n            Statified.mediaPlayer?.start()\n            Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n            processInformation(Statified.mediaPlayer as MediaPlayer)\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n        if (Statified.favoriteContent?.checkifIdExists(Statified.currentSongHelper?.songId?.toInt() as Int) as Boolean) {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_on))\n        } else {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_off))\n        }\n    }\n\n\n}\n\n\nvar mAcceleration: Float = 0f\nvar mAccelerationCurrent: Float = 0f\nvar mAccelerationLast: Float = 0f\n\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val view = inflater!!.inflate(R.layout.fragment_song_playing, container, false)\n\n    setHasOptionsMenu(true)\n\n    activity.title = \"Now Playing\"\n\n    Statified.seekbar = view?.findViewById(R.id.seekBar)\n    Statified.startTimeNext = view?.findViewById(R.id.startTime)\n    Statified.endTimeNext = view?.findViewById(R.id.endTime)\n    Statified.playPauseImageButton = view?.findViewById(R.id.playPauseButton)\n    Statified.nextImageButton = view?.findViewById(R.id.nextButton)\n    Statified.previousImageButton = view?.findViewById(R.id.previousButton)\n    Statified.loopImageButton = view?.findViewById(R.id.loopButton)\n    Statified.shuffleImageButton = view?.findViewById(R.id.shuffleButton)\n    Statified.songArtistView = view?.findViewById(R.id.songArtist)\n    Statified.songTitleView = view?.findViewById(R.id.songTitle)\n\n    Statified.glView = view?.findViewById(R.id.visualizer_view)\n    Statified.fab = view?.findViewById(R.id.favoriteIcon)\n    Statified.fab?.alpha = 0.8f\n    return view\n\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    Statified.audioVisualization = Statified.glView as AudioVisualization\n}\n\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    Statified.myActivity = context as Activity\n\n}\n\noverride fun onAttach(activity: Activity?) {\n    super.onAttach(activity)\n    Statified.myActivity = activity\n}\n\noverride fun onResume() {\n    super.onResume()\n    Statified.audioVisualization?.onResume()\n    Statified.mSensorManager?.registerListener(Statified.mSensorListener, Statified.mSensorManager?.getDefaultSensor(Sensor.TYPE_ACCELEROMETER),\n            SensorManager.SENSOR_DELAY_NORMAL)\n\n}\n\noverride fun onPause() {\n    Statified.audioVisualization?.onPause()\n    Statified.mSensorManager?.unregisterListener(Statified.mSensorListener)\n    super.onPause()\n}\n\noverride fun onDestroyView() {\n    super.onDestroyView()\n    Statified.audioVisualization?.release()\n\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    Statified.currentSongHelper = CurrentSongHelper()\n    Statified.currentSongHelper?.isPlaying = true\n    Statified.currentSongHelper?.isLoop = false\n    Statified.currentSongHelper?.isShuffle = false\n    Statified.favoriteContent = EchoDatabase(Statified.myActivity)\n\n    var path: String? = null\n    var _songTitle: String? = null\n    var _songArtist: String? = null\n    var songId: Long = 0\n    var fromFavBottomBar: String? = null\n    var fromMainScreenBottomBar: String? = null\n    try {\n\n        path = arguments.getString(\"path\")\n        _songTitle = arguments.getString(\"songTitle\")\n        _songArtist = arguments.getString(\"songArtist\")\n        songId = arguments.getInt(\"songId\").toLong()\n        Statified._currentPosition = arguments.getInt(\"songPosition\")\n        Statified.fetchSongs = arguments.getParcelableArrayList(\"songData\")\n        Statified.currentSongHelper?.songPath = path\n        Statified.currentSongHelper?.songTitle = _songTitle\n        Statified.currentSongHelper?.songArtist = _songArtist\n        Statified.currentSongHelper?.songId = songId\n        Statified.currentSongHelper?.currentPosition = Statified._currentPosition\n\n        fromFavBottomBar = arguments.get(\"FavBottomBar\") as? String\n        fromMainScreenBottomBar = arguments.get(\"MainScreenBottomBar\") as? String\n\n        Staticated.updateTextViews(Statified.currentSongHelper?.songTitle as String, Statified.currentSongHelper?.songArtist as String)\n\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    if (fromFavBottomBar != null) {\n        Statified.mediaPlayer = FavoriteFragment.Statified.mediaPlayer\n        Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n    } else if (fromMainScreenBottomBar != null) {\n        Statified.mediaPlayer = MainScreenFragment.Statified.mediaPlayer\n        Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n\n    } else {\n        Statified.mediaPlayer = MediaPlayer()\n        Statified.mediaPlayer?.setAudioStreamType(AudioManager.STREAM_MUSIC)\n        try {\n            Statified.mediaPlayer?.setDataSource(Statified.myActivity, Uri.parse(path) as Uri)\n            Statified.mediaPlayer?.prepare()\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n        Statified.mediaPlayer?.start()\n        Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n\n    }\n    Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n    if (Statified.mediaPlayer?.isPlaying as Boolean) {\n        Statified.playPauseImageButton?.setBackgroundResource(R.drawable.pause_icon)\n    } else {\n        Statified.playPauseImageButton?.setBackgroundResource(R.drawable.play_icon)\n    }\n\n    Statified.mediaPlayer?.setOnCompletionListener {\n        Staticated.onSongComplete()\n    }\n\n    clickHandler()\n\n    var visualizationHandler = DbmHandler.Factory.newVisualizerHandler(Statified.myActivity as Context, 0)\n    Statified.audioVisualization?.linkTo(visualizationHandler)\n\n    var prefsForShuffle = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_SHUFFLE, Context.MODE_PRIVATE)\n    var isShuffleAllowed = prefsForShuffle?.getBoolean(\"feature\", false)\n    if (isShuffleAllowed as Boolean) {\n        Statified.currentSongHelper?.isShuffle = true\n        Statified.currentSongHelper?.isLoop = false\n        Statified.shuffleImageButton?.setBackgroundResource(R.drawable.shuffle_icon)\n        Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n    } else {\n        Statified.currentSongHelper?.isShuffle = false\n        Statified.shuffleImageButton?.setBackgroundResource(R.drawable.shuffle_white_icon)\n    }\n\n\n    var prefsForLoop = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_LOOP, Context.MODE_PRIVATE)\n    var isLoopAllowed = prefsForLoop?.getBoolean(\"feature\", false)\n    if (isLoopAllowed as Boolean) {\n        Statified.currentSongHelper?.isShuffle = false\n        Statified.currentSongHelper?.isLoop = true\n        Statified.shuffleImageButton?.setBackgroundResource(R.drawable.shuffle_white_icon)\n        Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_icon)\n    } else {\n        Statified.currentSongHelper?.isLoop = false\n        Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n    }\n\n    if (Statified.favoriteContent?.checkifIdExists(Statified.currentSongHelper?.songId?.toInt() as Int) as Boolean) {\n        Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_on))\n    } else {\n        Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_off))\n\n    }\n    seekbarHandler()\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    Statified.mSensorManager = Statified.myActivity?.getSystemService(Context.SENSOR_SERVICE) as SensorManager\n    mAcceleration = 0.0f\n    mAccelerationCurrent = SensorManager.GRAVITY_EARTH\n    mAccelerationLast = SensorManager.GRAVITY_EARTH\n    bindShakeListener()\n\n\n}\n\noverride fun onCreateOptionsMenu(menu: Menu?, inflater: MenuInflater?) {\n    menu?.clear()\n    inflater?.inflate(R.menu.song_playing_menu, menu)\n    super.onCreateOptionsMenu(menu, inflater)\n\n}\n\noverride fun onPrepareOptionsMenu(menu: Menu?) {\n    super.onPrepareOptionsMenu(menu)\n    val item: MenuItem? = menu?.findItem(R.id.action_redirect)\n    item?.isVisible = true\n    val item2: MenuItem? = menu?.findItem(R.id.action_sort)\n    item2?.isVisible = false\n\n\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    when (item?.itemId) {\n        R.id.action_redirect -&gt; {\n            var pos = 0\n            if (Statified.back.equals(\"Favorite\", true)) {\n                pos = 0\n            }\n            if (Statified.back.equals(\"MainScreen\", true)) {\n                pos = 1\n            }\n            if (pos == 1) {\n                val mainScreenFragment = MainScreenFragment()\n                (context as MainActivity).supportFragmentManager\n                        .beginTransaction()\n                        .replace(R.id.details_fragment, mainScreenFragment)\n                        .commit()\n            }\n\n            if (pos == 0) {\n                val favoriteFragment = FavoriteFragment()\n                (context as MainActivity).supportFragmentManager\n                        .beginTransaction()\n                        .replace(R.id.details_fragment, favoriteFragment)\n                        .commit()\n            }\n            return false\n        }\n\n    }\n    return false\n}\n\n\nfun clickHandler() {\n\n    Statified.fab?.setOnClickListener({\n        if (Statified.favoriteContent?.checkifIdExists(Statified.currentSongHelper?.songId?.toInt() as Int) as Boolean) {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_off))\n            Statified.favoriteContent?.deleteFavourite(Statified.currentSongHelper?.songId?.toInt() as Int)\n            Toast.makeText(Statified.myActivity, \"Removed from favorites\", Toast.LENGTH_SHORT).show()\n        } else {\n            Statified.fab?.setImageDrawable(ContextCompat.getDrawable(Statified.myActivity, R.drawable.favorite_on))\n            Statified.favoriteContent?.storeAsFavorite(Statified.currentSongHelper?.songId?.toInt(), Statified.currentSongHelper?.songArtist,\n                    Statified.currentSongHelper?.songTitle, Statified.currentSongHelper?.songPath)\n            Toast.makeText(Statified.myActivity, \"Added to Favorites\", Toast.LENGTH_SHORT).show()\n\n\n        }\n    })\n\n    Statified.shuffleImageButton?.setOnClickListener({\n\n        var editorShuffle = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_SHUFFLE, Context.MODE_PRIVATE)?.edit()\n        var editorLoop = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_LOOP, Context.MODE_PRIVATE)?.edit()\n        if (Statified.currentSongHelper?.isShuffle as Boolean) {\n            Statified.currentSongHelper?.isShuffle = false\n            Statified.shuffleImageButton?.setBackgroundResource(R.drawable.shuffle_white_icon)\n            editorShuffle?.putBoolean(\"feature\", false)\n            editorShuffle?.apply()\n        } else {\n            Statified.currentSongHelper?.isLoop = false\n            Statified.currentSongHelper?.isShuffle = true\n            Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n            Statified.shuffleImageButton?.setBackgroundResource(R.drawable.shuffle_icon)\n            editorShuffle?.putBoolean(\"feature\", true)\n            editorShuffle?.apply()\n            editorLoop?.putBoolean(\"feature\", false)\n            editorLoop?.apply()\n        }\n    })\n\n    Statified.nextImageButton?.setOnClickListener({\n        Statified.currentSongHelper?.isPlaying = true\n        if (Statified.currentSongHelper?.isLoop as Boolean) {\n            Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n        }\n        if (Statified.currentSongHelper?.isShuffle as Boolean) {\n            Staticated.playNext(\"PlayNextLikeNormalShuffle\")\n        } else {\n            Staticated.playNext(\"PlayNextNormal\")\n        }\n    })\n\n    Statified.previousImageButton?.setOnClickListener({\n        Statified.currentSongHelper?.isPlaying = true\n        if (Statified.currentSongHelper?.isLoop as Boolean) {\n            Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n        }\n        Staticated.playPrevious()\n    })\n\n    Statified.loopImageButton?.setOnClickListener({\n\n        var editorShuffle = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_SHUFFLE, Context.MODE_PRIVATE)?.edit()\n        var editorLoop = Statified.myActivity?.getSharedPreferences(Staticated.MY_PREFS_LOOP, Context.MODE_PRIVATE)?.edit()\n\n        if (Statified.currentSongHelper?.isLoop as Boolean) {\n            Statified.currentSongHelper?.isLoop = false\n            Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n            editorLoop?.putBoolean(\"feature\", false)\n            editorLoop?.apply()\n        } else {\n            Statified.currentSongHelper?.isLoop = true\n            Statified.currentSongHelper?.isShuffle = false\n            Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_icon)\n            Statified.shuffleImageButton?.setBackgroundResource(R.drawable.shuffle_white_icon)\n            editorLoop?.putBoolean(\"feature\", true)\n            editorLoop?.apply()\n            editorShuffle?.putBoolean(\"feature\", false)\n            editorShuffle?.apply()\n        }\n\n    })\n\n    Statified.playPauseImageButton?.setOnClickListener({\n\n        if (Statified.mediaPlayer?.isPlaying as Boolean) {\n            Statified.mediaPlayer?.pause()\n            Statified.currentSongHelper?.isPlaying = false\n            Statified.playPauseImageButton?.setBackgroundResource(R.drawable.play_icon)\n        } else {\n            Statified.mediaPlayer?.start()\n            Statified.currentSongHelper?.isPlaying = true\n            Statified.playPauseImageButton?.setBackgroundResource(R.drawable.pause_icon)\n            Staticated.processInformation(Statified.mediaPlayer as MediaPlayer)\n        }\n\n    })\n\n\n}\n\n\nfun bindShakeListener() {\n\n    Statified.mSensorListener = object : SensorEventListener {\n        override fun onAccuracyChanged(p0: Sensor?, p1: Int) {\n\n        }\n\n        override fun onSensorChanged(p0: SensorEvent) {\n\n            val x = p0.values[0]\n            val y = p0.values[1]\n            val z = p0.values[2]\n\n            mAccelerationLast = mAccelerationCurrent\n            mAccelerationCurrent = Math.sqrt(((x * x + y * y + z * z).toDouble())).toFloat()\n            val delta = mAccelerationCurrent - mAccelerationLast\n            mAcceleration = mAcceleration * 0.9f + delta\n            if (mAcceleration &gt; 12) {\n                println(\"11111\")\n                val prefs = Statified.myActivity?.getSharedPreferences(Statified.MY_PREFS_NAME, Context.MODE_PRIVATE)\n                val isAllowed = prefs?.getBoolean(\"feature\", false)\n                if (isAllowed as Boolean &amp;&amp; Statified.check == true) {\n                    Statified.currentSongHelper?.isPlaying = true\n                    if (Statified.currentSongHelper?.isLoop as Boolean) {\n                        Statified.loopImageButton?.setBackgroundResource(R.drawable.loop_white_icon)\n                    }\n                    if (Statified.currentSongHelper?.isShuffle as Boolean) {\n                        Staticated.playNext(\"PlayNextLikeNormalShuffle\")\n                    } else {\n                        Staticated.playNext(\"PlayNextNormal\")\n                    }\n                    Statified.check = false\n                }\n            }\n        }\n\n    }\n}\n\nfun seekbarHandler() {\n    val seekbarListener = SeekBarController()\n    Statified.seekbar?.setOnSeekBarChangeListener(seekbarListener)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 1, "creation_date": 1530645387, "post_id": 51151647, "comment_id": 89306491, "body": "The definitions are filled with redundancies. It&#39;s not advisable to have have a foreignKey as also the primary key. User <code>@PrimaryKey</code> only for <code>id</code> even though <code>languageId</code> might be unique, it&#39;s a referential constraint for another table"}, {"owner": {"reputation": 3911, "user_id": 1512199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd7928e52c0f5f2fb9f718ffceffb58d?s=128&d=identicon&r=PG", "display_name": "santalu", "link": "https://stackoverflow.com/users/1512199/santalu"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530686643, "post_id": 51151647, "comment_id": 89317735, "body": "Hi, thanks for the advice. I was only following <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/vo/Contributor.kt\" rel=\"nofollow noreferrer\">samples for android architecture components</a>"}], "owner": {"reputation": 3911, "user_id": 1512199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fd7928e52c0f5f2fb9f718ffceffb58d?s=128&d=identicon&r=PG", "display_name": "santalu", "link": "https://stackoverflow.com/users/1512199/santalu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1598, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1530611799, "creation_date": 1530611799, "question_id": 51151647, "link": "https://stackoverflow.com/questions/51151647/android-room-foreign-key", "title": "Android Room foreign key", "body": "<blockquote>\n  <p><strong>error</strong>: Product has a foreign key (categoryId) that references Category\n  (id) but Category does not have a unique index on those columns nor\n  the columns are its primary key. SQLite requires having a unique\n  constraint on referenced parent columns so you must add a unique index\n  to Category that has (id) column(s).</p>\n</blockquote>\n\n<p><strong>Category</strong></p>\n\n<pre><code>@Entity(\n  tableName = \"categories\",\n  indices = [Index(\"id\"), Index(\"languageId\")],\n  primaryKeys = [\"id\", \"languageId\"],\n  foreignKeys = [(ForeignKey(\n    entity = Language::class,\n    parentColumns = [\"id\"],\n    childColumns = [\"languageId\"]\n  ))]\n)\n@TypeConverters(ChildCategoryTypeConverter::class)\ndata class Category(\n  val id: String,\n  val name: String,\n  val image: String?,\n  val children: List&lt;Category&gt;?\n) {\n\n  @field:Transient var selected = false\n  lateinit var languageId: String\n}\n</code></pre>\n\n<p><strong>Product</strong></p>\n\n<pre><code>@Entity(\n  tableName = \"products\",\n  indices = [Index(\"id\"), Index(\"languageId\"), Index(\"categoryId\")],\n  primaryKeys = [\"id\", \"languageId\", \"categoryId\"],\n  foreignKeys = [\n    (ForeignKey(\n      entity = Language::class,\n      parentColumns = [\"id\"],\n      childColumns = [\"languageId\"]\n    )),\n    (ForeignKey(\n      entity = Category::class,\n      parentColumns = [\"id\"],\n      childColumns = [\"categoryId\"]\n    ))\n  ]\n)\ndata class Product(\n  val id: String,\n  val title: String?,\n  val description: String?,\n  @field:SerializedName(\"calory\") val calorie: String?,\n  val delivery: String?,\n  val price: String?,\n  @field:SerializedName(\"main_image\") val mainImage: String?,\n  @field:SerializedName(\"detail_image\") val detailImage: String?\n) {\n\n  lateinit var languageId: String\n  lateinit var categoryId: String\n}\n</code></pre>\n\n<p>I know making <code>indices = [Index(\"id\", unique = true), Index(\"languageId\")]</code> in Category class solves the problem but i don't get what's the issue here. Referenced foreign key is already defined as primary key in Category class. </p>\n\n<p>Could you please guide me here? Thanks in advance.</p>\n"}, {"tags": ["arrays", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4527951"}, "edited": false, "score": 1, "creation_date": 1530609435, "post_id": 51150690, "comment_id": 89285136, "body": "println(Arrays.deepToString(twoDArray)) is giving me the same output as your code."}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": false, "score": 1, "last_activity_date": 1530609327, "last_edit_date": 1530609327, "creation_date": 1530608979, "answer_id": 51150690, "question_id": 51150636, "link": "https://stackoverflow.com/questions/51150636/print-multi-dimenstional-array-in-kotlin/51150690#51150690", "title": "Print Multi-dimenstional Array in Kotlin?", "body": "<p>There is built-in functionality for this:</p>\n\n<pre><code>val array = arrayOf(arrayOf(1, 2),\n                arrayOf(3, 4),\n                arrayOf(5, 6, 7))\n\nprintln(array.joinToString(prefix = \"[\", postfix = \"]\") {\n    it.joinToString(prefix = \"[\", postfix = \"]\")\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "edited": false, "score": 0, "creation_date": 1530609285, "post_id": 51150695, "comment_id": 89285044, "body": "Whoever down-voted can you please comment whats the reason for downvote ?"}], "tags": [], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "is_accepted": true, "score": 0, "last_activity_date": 1530609521, "last_edit_date": 1530609521, "creation_date": 1530608989, "answer_id": 51150695, "question_id": 51150636, "link": "https://stackoverflow.com/questions/51150636/print-multi-dimenstional-array-in-kotlin/51150695#51150695", "title": "Print Multi-dimenstional Array in Kotlin?", "body": "<p><strong>1. Using standard library</strong></p>\n\n<pre><code>val array = arrayOf(arrayOf(1, 2),\n            arrayOf(3, 4),\n            arrayOf(5, 6, 7))\n\nprint(Arrays.deepToString(array))\n</code></pre>\n\n<p><strong>2. Using for loop</strong></p>\n\n<pre><code>fun &lt;T&gt; print2DArray(twoDArray: Array&lt;Array&lt;T&gt;&gt;) {\n    for (i in 0 until twoDArray.size) {\n        for (j in 0 until twoDArray[i].size) {\n            print(twoDArray[i][j])\n            if (j != twoDArray[i].size - 1) print(\" \")\n        }\n        if (i != twoDArray.size - 1) println()\n    }\n}\n</code></pre>\n\n<blockquote>\n<pre><code>val array = arrayOf(arrayOf(1, 2),\n            arrayOf(3, 4),\n            arrayOf(5, 6, 7))\n\nprint2DArray(array)\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": -1, "last_activity_date": 1530622228, "last_edit_date": 1530622228, "creation_date": 1530610655, "answer_id": 51151256, "question_id": 51150636, "link": "https://stackoverflow.com/questions/51150636/print-multi-dimenstional-array-in-kotlin/51151256#51151256", "title": "Print Multi-dimenstional Array in Kotlin?", "body": "<p>That depends on the way you want to show it. </p>\n\n<h3>Option 1</h3>\n\n<pre><code>fun Array.contentDeepToString: String\n</code></pre>\n\n<blockquote>\n  <p>Returns a string representation of the contents of this array as if it is a List. Nested arrays are treated as lists too.\n  If any of arrays contains itself on any nesting level that reference is rendered as \"[...]\" to prevent recursion.</p>\n</blockquote>\n\n<p>Note this is an inlined function using <code>Arrays.deepToString(array)</code> under the hood.</p>\n\n<p>Then using <code>array.contentDeepToString()</code> you get in the output this string: </p>\n\n<blockquote>\n  <p>[[1, 2], [3, 4], [5, 6, 7]]</p>\n</blockquote>\n\n<h3>Option 2</h3>\n\n<p>I mostly use <code>Array.joinToString</code>, its allow to join the array using a given separator and applying a transformation to each element. From the doc:</p>\n\n<blockquote>\n  <p>Creates a string from all the elements separated using [separator] and using the given [prefix] and [postfix] if supplied. If the collection could be huge, you can specify a non-negative value of [limit], in which case only the first [limit]\n  elements will be appended, followed by the [truncated] string (which defaults to \"...\")</p>\n</blockquote>\n\n<p>In your case as each item of your array is a subarray, you have to apply a transformation for them also using</p>\n\n<pre><code>array.joinToString(\"\\n\") { subarray -&gt;\n    subarray.joinToString()\n}\n</code></pre>\n\n<p>This give you an output as:</p>\n\n<blockquote>\n  <p>1, 2<br>\n  3, 4<br>\n  5, 6, 7</p>\n</blockquote>\n\n<p>You can play with <em>separator, prefix, postfix, and transformation</em> parameters to get your wanted format.</p>\n\n<hr>\n\n<h3>Final notes</h3>\n\n<ul>\n<li>Looping is kind of the only way to format an array, either <code>contentDeepToString</code> and <code>joinToString</code> use for loop in their implementation, take this in consideration.</li>\n<li><code>joinToString</code> is also available for <code>Iterable</code> and <code>Sequence</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 211764, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f23c09f81295e7ec17a347eae1d41bd1?s=128&d=identicon&r=PG", "display_name": "Rob Hoff", "link": "https://stackoverflow.com/users/211764/rob-hoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1605179778, "creation_date": 1605179778, "answer_id": 64802870, "question_id": 51150636, "link": "https://stackoverflow.com/questions/51150636/print-multi-dimenstional-array-in-kotlin/64802870#64802870", "title": "Print Multi-dimenstional Array in Kotlin?", "body": "<p>Just do the following</p>\n<pre><code>println(array.contentDeepToString())\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4527951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 51150695, "answer_count": 4, "score": 3, "last_activity_date": 1605179778, "creation_date": 1530608790, "question_id": 51150636, "link": "https://stackoverflow.com/questions/51150636/print-multi-dimenstional-array-in-kotlin", "title": "Print Multi-dimenstional Array in Kotlin?", "body": "<p>Given the array below what is the simplest way to print it? Looping is one option but is there any other simpler option?</p>\n\n<pre><code>val array = arrayOf(arrayOf(1, 2),\narrayOf(3, 4),\narrayOf(5, 6, 7))\n</code></pre>\n"}, {"tags": ["eclipse", "math", "kotlin", "pow"], "answers": [{"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1530606270, "post_id": 51149823, "comment_id": 89283233, "body": "BTW InteliJ would do the imports automatically. Just saying."}, {"owner": {"reputation": 2836, "user_id": 3529197, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ceed214a6e603c456a8ebaacc036b407?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3529197/neo"}, "edited": false, "score": 0, "creation_date": 1530606844, "post_id": 51149823, "comment_id": 89283587, "body": "Solved the problem. Thank you very much."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 14, "last_activity_date": 1530606142, "creation_date": 1530606142, "answer_id": 51149823, "question_id": 51149551, "link": "https://stackoverflow.com/questions/51149551/unresolved-reference-pow-in-eclipse-using-kotlin/51149823#51149823", "title": "Unresolved reference: pow in Eclipse using Kotlin", "body": "<p>You need to import the function <code>pow</code> into your file:</p>\n\n<pre><code>import kotlin.math.*\n</code></pre>\n\n<p>My full code:</p>\n\n<pre><code>import kotlin.math.pow\n\nfun main(args: Array&lt;String&gt;)\n{\n    val d: Double = 1.1;\n    val d2: Double = d.pow(2.0); // Here's the error, on the token 'pow'.\n    println(d2);\n}\n</code></pre>\n"}], "owner": {"reputation": 2836, "user_id": 3529197, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ceed214a6e603c456a8ebaacc036b407?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3529197/neo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2234, "favorite_count": 0, "accepted_answer_id": 51149823, "answer_count": 1, "score": 4, "last_activity_date": 1530606142, "creation_date": 1530605203, "question_id": 51149551, "link": "https://stackoverflow.com/questions/51149551/unresolved-reference-pow-in-eclipse-using-kotlin", "title": "Unresolved reference: pow in Eclipse using Kotlin", "body": "<p>I'm trying to write something small in Kotlin and I'm having problems with finding the second power of a <code>Double</code> number.  </p>\n\n<p>According to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.math/pow.html\" rel=\"nofollow noreferrer\">this</a>, <code>Double</code> should implement a <code>pow</code> function receiving another <code>Double</code>, but when I try using this method I get <code>Unresolved reference: pow</code> and an error.</p>\n\n<p>Here's my sample code:</p>\n\n<pre><code>fun main()\n{\n    val d: Double = 1.1;\n    val d2: Double = d.pow(2.0); // Here's the error, on the token 'pow'.\n    println(d2);\n}\n</code></pre>\n\n<p>I can't find any reason to this. This feature is only from Kotlin 1.2, but the Kotlin record in the Eclipse Installation Details says <code>Kotlin language support for Kotlin 1.2.50</code>.  </p>\n\n<p>I created the project before I updated the Kotlin plugin and it's possible the project was created for Kotlin version before 1.2 but I can't find in the settings anywhere to change the configured Kotlin version so I assume the used version is the one installed i.e. 1.2.50.</p>\n\n<p>By the way, the error icon Eclipse presents is the error with light bulb one, suggesting available solutions exist, but none show up when I click the icon, which is weird.</p>\n\n<p>If anyone could suggest any reason for this, it would be great.<br>\nThanks in advance.</p>\n"}, {"tags": ["java", "android", "kotlin", "type-mismatch"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530604279, "post_id": 51149239, "comment_id": 89282191, "body": "post your code."}, {"owner": {"reputation": 9311, "user_id": 214525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7684a686e233476c6713ced10a9cef41?s=128&d=identicon&r=PG", "display_name": "f1sh", "link": "https://stackoverflow.com/users/214525/f1sh"}, "edited": false, "score": 0, "creation_date": 1530604287, "post_id": 51149239, "comment_id": 89282193, "body": "What is &quot;java library map&quot;? Where is your code?"}, {"owner": {"reputation": 9262, "user_id": 1426469, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a99e0f9b6711f185ae3fdefbc9dcaa0e?s=128&d=identicon&r=PG", "display_name": "Leo Aso", "link": "https://stackoverflow.com/users/1426469/leo-aso"}, "edited": false, "score": 2, "creation_date": 1530604712, "post_id": 51149239, "comment_id": 89282422, "body": "Show the code for your <code>JavaModel</code> class, in particular the <code>params</code> field declaration."}, {"owner": {"reputation": 1073, "user_id": 6237400, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vrn48D3pf28/AAAAAAAAAAI/AAAAAAAAAB8/TnhGv_u3zdA/photo.jpg?sz=128", "display_name": "DiRiNoiD", "link": "https://stackoverflow.com/users/6237400/dirinoid"}, "edited": false, "score": 0, "creation_date": 1530604833, "post_id": 51149239, "comment_id": 89282482, "body": "\u0130t is compiled code I am not able to see it. Only thing that I can say is JavaModel.params is Map&lt;String, Object&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 1266, "user_id": 905414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgrFf.jpg?s=128&g=1", "display_name": "3mpty", "link": "https://stackoverflow.com/users/905414/3mpty"}, "edited": false, "score": 0, "creation_date": 1530606372, "post_id": 51149715, "comment_id": 89283302, "body": "Kotlin will show Type mismatch for such code:     <code>var param: MutableMap&lt;String, Object?&gt; = hashMapOf(); param.put(&quot;key&quot;, &quot;&quot;)</code>"}, {"owner": {"reputation": 1073, "user_id": 6237400, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vrn48D3pf28/AAAAAAAAAAI/AAAAAAAAAB8/TnhGv_u3zdA/photo.jpg?sz=128", "display_name": "DiRiNoiD", "link": "https://stackoverflow.com/users/6237400/dirinoid"}, "edited": false, "score": 0, "creation_date": 1530607045, "post_id": 51149715, "comment_id": 89283719, "body": "Your are right 3mpty, so what is the solution? Both solution gives exact same error."}, {"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "reply_to_user": {"reputation": 1073, "user_id": 6237400, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vrn48D3pf28/AAAAAAAAAAI/AAAAAAAAAB8/TnhGv_u3zdA/photo.jpg?sz=128", "display_name": "DiRiNoiD", "link": "https://stackoverflow.com/users/6237400/dirinoid"}, "edited": false, "score": 0, "creation_date": 1530610025, "post_id": 51149715, "comment_id": 89285481, "body": "Seems right, @DiRiNoiD you should share more info about your <code>JavaModel</code>"}], "tags": [], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "is_accepted": false, "score": 0, "last_activity_date": 1530605768, "creation_date": 1530605768, "answer_id": 51149715, "question_id": 51149239, "link": "https://stackoverflow.com/questions/51149239/android-kotlin-object-any-type-mismatch/51149715#51149715", "title": "Android kotlin Object Any type mismatch", "body": "<p>Java's <code>Object</code> is not the same as Kotlin's <code>Any</code>, so the type <code>MutableMap&lt;String, Any&gt;</code> and <code>Map&lt;String, Object&gt;?</code> mismatched, because you cannot change the 3rd party java library, just declare the <code>params</code> as:</p>\n\n<pre><code>val params: MutableMap&lt;String, Object&gt; = HashMap()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1266, "user_id": 905414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgrFf.jpg?s=128&g=1", "display_name": "3mpty", "link": "https://stackoverflow.com/users/905414/3mpty"}, "is_accepted": false, "score": 0, "last_activity_date": 1530606120, "creation_date": 1530606120, "answer_id": 51149814, "question_id": 51149239, "link": "https://stackoverflow.com/questions/51149239/android-kotlin-object-any-type-mismatch/51149814#51149814", "title": "Android kotlin Object Any type mismatch", "body": "<p><code>JavaModel.params</code>requires explicitly <code>&lt;String, Object&gt;</code>. You cannot use Kotlin <code>Any</code> there. Also <code>HashMap</code> in Kotlin is mapped type so your best shot is to do simple workaround:</p>\n\n<p>Extend HashMap from java, ex. <code>ParamsMap.java</code>:</p>\n\n<pre><code>public class ParamsMap extends HashMap&lt;String, Object&gt; { }\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>val model = JavaModel()\n\nval params = ParamsMap()\nparams.put(\"key\",\"value\")\nmodel.params = params\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1073, "user_id": 6237400, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vrn48D3pf28/AAAAAAAAAAI/AAAAAAAAAB8/TnhGv_u3zdA/photo.jpg?sz=128", "display_name": "DiRiNoiD", "link": "https://stackoverflow.com/users/6237400/dirinoid"}, "is_accepted": false, "score": 0, "last_activity_date": 1530607506, "creation_date": 1530607506, "answer_id": 51150241, "question_id": 51149239, "link": "https://stackoverflow.com/questions/51149239/android-kotlin-object-any-type-mismatch/51150241#51150241", "title": "Android kotlin Object Any type mismatch", "body": "<p>The only thing I can achieve this is to create a new Java class and do the operation inside it. I give the params Java Map as parameter and and I made the operation inside the Java class.</p>\n\n<p>Kotlin automatically behaves any Object as Any so it gives type mismatch for the assignment.</p>\n\n<pre><code>public class ObjectMapper {\n    public static void setParam(Map&lt;String, Object&gt; params, String key, String value) {\n        params.put(key, value);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1073, "user_id": 6237400, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vrn48D3pf28/AAAAAAAAAAI/AAAAAAAAAB8/TnhGv_u3zdA/photo.jpg?sz=128", "display_name": "DiRiNoiD", "link": "https://stackoverflow.com/users/6237400/dirinoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5019, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1530607506, "creation_date": 1530604234, "last_edit_date": 1530604707, "question_id": 51149239, "link": "https://stackoverflow.com/questions/51149239/android-kotlin-object-any-type-mismatch", "title": "Android kotlin Object Any type mismatch", "body": "<p>How to assign kotlin map to java library map.\nThis gives type mismatch error for Object and Any.</p>\n\n<p>I need to assign java map variable in a 3rd party java library, from my kotlin code map.</p>\n\n<pre><code>val model = JavaModel() //from 3rd party java library\n\nval params:MutableMap&lt;String, Any&gt; = HashMap()\nparams.put(\"key\",\"value\")\nmodel.params = params //gives error below\n</code></pre>\n\n<p>Type mismatch: inferred type is <code>MutableMap&lt;String, Any&gt;</code> but <code>Map&lt;String, Object&gt;?</code> was expected</p>\n"}, {"tags": ["android", "kotlin", "parcelable"], "answers": [{"tags": [], "owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "is_accepted": false, "score": 0, "last_activity_date": 1530604438, "creation_date": 1530604438, "answer_id": 51149299, "question_id": 51148753, "link": "https://stackoverflow.com/questions/51148753/what-does-a-creator-field-look-like/51149299#51149299", "title": "What does a CREATOR field look like?", "body": "<p>A sample parcelable implementation would look like this:</p>\n\n<pre><code>data class WarriorParcelable(val name : String,\n                             val weapon : String) : Parcelable {\n\n    companion object CREATOR : Parcelable.Creator&lt;WarriorParcelable&gt; {\n        override fun createFromParcel(parcel: Parcel): WarriorParcelable = WarriorParcelable(parcel)\n\n        override fun newArray(size: Int): Array&lt;WarriorParcelable?&gt;  = arrayOfNulls(size)\n    }\n\n    private constructor(parcel: Parcel) : this (parcel.readString(),parcel.readString())\n\n    override fun writeToParcel(dest: Parcel, flags: Int) {\n        dest.writeString(name)\n        dest.writeString(weapon)\n    }\n\n    override fun describeContents(): Int = 0\n}\n</code></pre>\n\n<p>However, if you are using the @Parcelize, you don't need to write the implementation codes for the Parcelable. It will be implemented for you.</p>\n"}, {"tags": [], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "is_accepted": false, "score": 3, "last_activity_date": 1530604964, "creation_date": 1530604964, "answer_id": 51149475, "question_id": 51148753, "link": "https://stackoverflow.com/questions/51148753/what-does-a-creator-field-look-like/51149475#51149475", "title": "What does a CREATOR field look like?", "body": "<p>As <a href=\"https://proandroiddev.com/parcelable-in-kotlin-here-comes-parcelize-b998d5a5fcac\" rel=\"nofollow noreferrer\">Joao Alves</a> says:</p>\n\n<blockquote>\n  <p>There\u2019s still one small problem with Parcelize though. At the moment\n  there\u2019s an issue with Android Studio showing an error about an\n  incomplete implementation of the Parcelable interface:</p>\n  \n  <p><a href=\"https://i.stack.imgur.com/zIvuN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIvuN.png\" alt=\"image\"></a></p>\n  \n  <p>This is a known bug in the IDE itself and you can ignore it, there\u2019s\n  nothing wrong with the code and it works as expected. You can keep\n  track of the issue here. At the moment it\u2019s In Progress state.</p>\n</blockquote>\n\n<p>So you can just ignore this warning.</p>\n"}, {"tags": [], "owner": {"reputation": 634, "user_id": 5636936, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-20biufcHZwU/AAAAAAAAAAI/AAAAAAAAAFM/YcJx_gKmMOw/photo.jpg?sz=128", "display_name": "Dracarys", "link": "https://stackoverflow.com/users/5636936/dracarys"}, "is_accepted": false, "score": 0, "last_activity_date": 1530607640, "last_edit_date": 1530607640, "creation_date": 1530607094, "answer_id": 51150097, "question_id": 51148753, "link": "https://stackoverflow.com/questions/51148753/what-does-a-creator-field-look-like/51150097#51150097", "title": "What does a CREATOR field look like?", "body": "<p><strong><em>@Parcelize</em></strong> is still an experimental feature, upgrade to the latest kotlin plugin version and add this code to your <strong><em>build.grade</em></strong> file</p>\n\n<pre><code>android {\n    ...\n\n    androidExtensions {\n        experimental = true\n    }\n}\n</code></pre>\n\n<p>The IDE will stop complaining. As you can see below; I modified your class a bit but it's essentially this same thing. </p>\n\n<pre><code>@Parcelize\ndata class RecipeTemplate(var recipeHeader: String? = null,\n                      var recipeText: String? = null,\n                      var recipeImage: String? = null,\n                      var recipeKey: String? = null) : Parcelable\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1530607640, "creation_date": 1530602592, "last_edit_date": 1530607519, "question_id": 51148753, "link": "https://stackoverflow.com/questions/51148753/what-does-a-creator-field-look-like", "title": "What does a CREATOR field look like?", "body": "<p>My Parcelable class wants me to include a <code>CREATOR</code> field, but I have no idea what such a field looks like. I have silenced the complaint with <code>SupressLint</code> in the meanwhile but would like to have that <code>CREATOR</code> field. Any idea what it looks like?</p>\n\n<pre><code>@SuppressLint(\"ParcelCreator\")\n@Parcelize\nclass RecipeTemplate: Parcelable {\n    var recipeHeader: String? = null\n    var recipeText: String? = null\n    var recipeImage: String? = null\n    var recipeKey: String? = null\n}\n</code></pre>\n"}, {"tags": ["string", "kotlin", "jetbrains-ide"], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 0, "creation_date": 1530586315, "post_id": 51145964, "comment_id": 89276189, "body": "I tried changing the example as you suggested <code>s = s.padEnd(20, &#39; &#39;)</code> being the last line of my code, with the same result. Nothing changed"}, {"owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 2, "creation_date": 1530586411, "post_id": 51145964, "comment_id": 89276211, "body": "Ok sorry, I forgot that I added the spaces, and did not manage to see them :D"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 1, "creation_date": 1530586530, "post_id": 51145964, "comment_id": 89276240, "body": "A fun thing to debug by just looking at the output for sure :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1530585969, "creation_date": 1530585969, "answer_id": 51145964, "question_id": 51145756, "link": "https://stackoverflow.com/questions/51145756/kotlin-and-use-padend-twice/51145964#51145964", "title": "Kotlin and use padEnd() twice", "body": "<p><code>padEnd</code> doesn't add the given character to your String the given number of times - the first parameter is the target length that it will pad up to. From the docs:</p>\n\n<blockquote>\n  <p>Returns a char sequence of length at least <code>length</code> consisting of this char sequence appended with <code>padChar</code> as many times as are necessary to reach that length.</p>\n</blockquote>\n\n<p>So in your second call, you're trying to pad <code>\"Hi -&gt; 0000\"</code> until it's at least 5 characters long - which it already is, so no spaces are added at its end.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14634707, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d70909f78fd4ac0649543eda5ff313e0?s=128&d=identicon&r=PG", "display_name": "kalamazoo", "link": "https://stackoverflow.com/users/14634707/kalamazoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1605297618, "last_edit_date": 1605297618, "creation_date": 1605297237, "answer_id": 64827205, "question_id": 51145756, "link": "https://stackoverflow.com/questions/51145756/kotlin-and-use-padend-twice/64827205#64827205", "title": "Kotlin and use padEnd() twice", "body": "<p>You could also do something like:</p>\n<pre><code>val outerChar =  &quot;*&quot;\nval x = outerChar.padEnd(10)\n        .plus(&quot;hello&quot;)\n        .plus(outerChar.padStart(10))\nprintln(x)\n\n// Prints:\n// *         hello         *\n</code></pre>\n<p>This will put 10 spaces between the * and hello on each side. Also try swapping the calls to padEnd and padStart.</p>\n"}], "owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 51145964, "answer_count": 2, "score": 1, "last_activity_date": 1605297618, "creation_date": 1530583825, "last_edit_date": 1530586004, "question_id": 51145756, "link": "https://stackoverflow.com/questions/51145756/kotlin-and-use-padend-twice", "title": "Kotlin and use padEnd() twice", "body": "<p>I tried using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/pad-end.html\" rel=\"nofollow noreferrer\"><code>padEnd()</code></a> twice on a <code>String</code>. The first time the <code>padEnd()</code> extension function works as expected, but the second time, it does not add the any characters I tried.</p>\n\n<p>My code:</p>\n\n<pre><code>var s = \"Hi -&gt; \"\ns = s.padEnd(10, 'O')\ns = s.padEnd(5, ' ')\nprintln(s)\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>Hi -&gt; OOOO\n</code></pre>\n\n<p>I am using kotlin version 1.2.50. I also tried <a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"nofollow noreferrer\">Jetbrains' online compiler</a> to prevent the bug being only on my computer, with the same result. I also tried using a different version of kotlin (1.0.7 and 1.1.60), with still the same feature/bug.</p>\n\n<p>I also tried using the <code>padStart()</code>, with the same behaviour, just adding it in front of the <code>String</code>.</p>\n\n<p>Mixing the two extension functions also did not work as expected: Using <code>padStart()</code> and immediately after that <code>padEnd()</code></p>\n\n<p>Is this an expected feature? If so why is it expected? Or is it just a bug?</p>\n"}, {"tags": ["java", "android", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 2135, "user_id": 768419, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ba834d377c8f44dc94a3efc0e16a6853?s=128&d=identicon&r=PG", "display_name": "Perry Hoekstra", "link": "https://stackoverflow.com/users/768419/perry-hoekstra"}, "edited": false, "score": 0, "creation_date": 1530586550, "post_id": 51145885, "comment_id": 89276247, "body": "Yes, as I understand it, I am running into the issue documented in: <a href=\"https://stackoverflow.com/questions/26022133/how-can-i-delete-the-namevaluepairs-key-from-the-jsonobject\" title=\"how can i delete the namevaluepairs key from the jsonobject\">stackoverflow.com/questions/26022133/&hellip;</a> ...  And unfortunately, I am stuck with working with JSONObject as opposed to JsonObject."}], "tags": [], "owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "is_accepted": false, "score": 2, "last_activity_date": 1530585101, "creation_date": 1530585101, "answer_id": 51145885, "question_id": 51145643, "link": "https://stackoverflow.com/questions/51145643/populating-a-kotlin-data-class-using-gson/51145885#51145885", "title": "Populating a Kotlin Data Class using Gson", "body": "<p>Your JSON string actually has two JSON objects, the outer value (which has a key called <code>nameValuePairs</code>) and the value you actually want to deserialize (which is the value at key <code>nameValuePairs</code>). You need to dive one level deeper, either through an outer wrapper class which holds your User object or by manually getting the JsonObject at key <code>nameValuePairs</code> as a String and then passing that to Gson. If the string was just <code>{\"id\":\"1654488452866661\",\"name\":\"Bob Smith\",\"email\":\"bob.smith@test.net\",\"first_name\":\"Bob\",\"last_name\":\"Smith\"}</code> it would deserialize fine.</p>\n"}, {"comments": [{"owner": {"reputation": 2135, "user_id": 768419, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ba834d377c8f44dc94a3efc0e16a6853?s=128&d=identicon&r=PG", "display_name": "Perry Hoekstra", "link": "https://stackoverflow.com/users/768419/perry-hoekstra"}, "edited": false, "score": 0, "creation_date": 1530616090, "post_id": 51147780, "comment_id": 89289415, "body": "Thank you for the suggestion but it did not work.  I believe because nameValuePairs is not a JSON key but a member variable that is part of the JSON Object class."}, {"owner": {"reputation": 2135, "user_id": 768419, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ba834d377c8f44dc94a3efc0e16a6853?s=128&d=identicon&r=PG", "display_name": "Perry Hoekstra", "link": "https://stackoverflow.com/users/768419/perry-hoekstra"}, "edited": false, "score": 0, "creation_date": 1530616962, "post_id": 51147780, "comment_id": 89289920, "body": "Because nameValueParis is not a JSON key, identifying it as such (with SerializedName) means that it is not found and results in an empty data class."}], "tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": false, "score": 2, "last_activity_date": 1530598692, "creation_date": 1530598692, "answer_id": 51147780, "question_id": 51145643, "link": "https://stackoverflow.com/questions/51145643/populating-a-kotlin-data-class-using-gson/51147780#51147780", "title": "Populating a Kotlin Data Class using Gson", "body": "<p>Create a wrapper class</p>\n\n<pre><code>data class LoggedUserWrapper{\n    @SerializedName(\"nameValuePairs\") val nameValuePairs: LoggedUser\n}\n</code></pre>\n\n<p>and execute</p>\n\n<pre><code>val loggedUser = convertStringToObject(yourJsonString, LoggedUserWrapper::class.java)\n</code></pre>\n\n<p>This will help you.</p>\n"}], "owner": {"reputation": 2135, "user_id": 768419, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/ba834d377c8f44dc94a3efc0e16a6853?s=128&d=identicon&r=PG", "display_name": "Perry Hoekstra", "link": "https://stackoverflow.com/users/768419/perry-hoekstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1621, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1530598692, "creation_date": 1530582771, "question_id": 51145643, "link": "https://stackoverflow.com/questions/51145643/populating-a-kotlin-data-class-using-gson", "title": "Populating a Kotlin Data Class using Gson", "body": "<p>I am attempting to populate a Kotlin data class from a corresponding string value.  I looked at: <a href=\"https://stackoverflow.com/questions/44117970/kotlin-data-class-from-json-using-gson\">Kotlin Data Class from Json using GSON</a> but what I am attempting to do is not tracking exactly the same:</p>\n\n<pre><code>fun convertStringToObject(stringValue: String?, clazz: Class&lt;*&gt;): Any? {\n    return if (stringValue != null) {\n        try {\n            val gson = Gson()\n\n            gson.fromJson&lt;Any&gt;(stringValue, clazz)\n        }\n        catch (exception: Exception) {\n            // yes, we are swallowing the possible \n            // java.lang.IllegalStateException\n            null\n        }\n    }\n    else {\n        null\n    }\n}\n</code></pre>\n\n<p>Calling this function and attempting to populate the following class:</p>\n\n<pre><code>data class LoggedUser(\n    @SerializedName(\"id\") val id: Long,\n    @SerializedName(\"name\") val name: String,\n    @SerializedName(\"first_name\") val firstName: String,\n    @SerializedName(\"last_name\") val lastName: String,\n    @SerializedName(\"email\") val email: String\n)\n</code></pre>\n\n<p>It executes but LoggedUser values are empty (null).</p>\n\n<p>The stringValue is currently:</p>\n\n<pre><code>{\"nameValuePairs\":{\"id\":\"1654488452866661\",\"name\":\"Bob Smith\",\"email\":\"bob.smith@test.net\",\"first_name\":\"Bob\",\"last_name\":\"Smith\"}}\n</code></pre>\n\n<p>I even tried using a hardcoded class value like this:</p>\n\n<pre><code>gson.fromJson(stringValue, LoggedUser::class.java)\n</code></pre>\n\n<p>but there was no joy.  The <strong>stringValue</strong> is what <strong>gson.toJson(value)</strong> generated where <strong>value</strong> was a JSONObject.</p>\n\n<p>Anybody have an idea what my disconnect is?</p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 811, "user_id": 2649697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f1c3ce6e1c4b0e8e632aab208e5a90?s=128&d=identicon&r=PG", "display_name": "Vishnu M.", "link": "https://stackoverflow.com/users/2649697/vishnu-m"}, "edited": false, "score": 0, "creation_date": 1530583228, "post_id": 51144460, "comment_id": 89275641, "body": "In your current code, when the function b_avancar_c is called, it will check if your editTextNomeVelhinho is empty. If it is empty, it will simply set a click listener on buttonComecar. Then any time buttonComecar is pressed, even if the EditText is empty, it will call that Alert dialog. If you just want to show the dialog when the b_avancar_c function is called and the EditText is empty, you should remove the click listener and move the dialog builder stuff out of that block."}, {"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 0, "creation_date": 1530600745, "post_id": 51144460, "comment_id": 89280455, "body": "Can you share your layout file"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9179613"}, "reply_to_user": {"reputation": 811, "user_id": 2649697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f1c3ce6e1c4b0e8e632aab208e5a90?s=128&d=identicon&r=PG", "display_name": "Vishnu M.", "link": "https://stackoverflow.com/users/2649697/vishnu-m"}, "edited": false, "score": 0, "creation_date": 1530627046, "post_id": 51144460, "comment_id": 89296798, "body": "thx @VishnuM. that way it already gives"}], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 8117745, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kK4e6pBTECs/AAAAAAAAAAI/AAAAAAAAASE/WedaSO3VNq0/photo.jpg?sz=128", "display_name": "hetsgandhi", "link": "https://stackoverflow.com/users/8117745/hetsgandhi"}, "is_accepted": false, "score": 1, "last_activity_date": 1530616368, "creation_date": 1530616368, "answer_id": 51153188, "question_id": 51144460, "link": "https://stackoverflow.com/questions/51144460/dialog-alert-in-kotlin/51153188#51153188", "title": "Dialog Alert in kotlin", "body": "<p>Text from edittext is got when clicking on button so it will not be empty everytime.</p>\n\n<pre><code>fun b_avancar_c(view: View) {\n    val nomeIdoso :String\n    nomeIdoso=editTextNomeVelhinho.text.toString()\n\n    if(editTextNomeVelhinho.text.isEmpty()) {\n        buttonComecar.setOnClickListener {\n             val builder = AlertDialog.Builder(this@B_menu)\n             builder.setTitle(\"Aten\u00e7\u00e3o\")\n             builder.setMessage(\"Deve colocar o seu nome para continuar\")\n             builder.setPositiveButton(\"Continuar\") { dialog, which -&gt; \n           //Toast.makeText(applicationContext,\"continuar\",Toast.LENGTH_SHORT).show()\n           }\n             val dialog: AlertDialog = builder.create()\n             dialog.show()\n           }\n     }\n     else {\n           val it = Intent(this, C_aviso::class.java)\n           startActivity(it)\n     }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 6465703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2667e3b078fd2a54ba0995f69de9dba8?s=128&d=identicon&r=PG&f=1", "display_name": "dave o grady", "link": "https://stackoverflow.com/users/6465703/dave-o-grady"}, "is_accepted": false, "score": 0, "last_activity_date": 1583090552, "creation_date": 1583090552, "answer_id": 60478878, "question_id": 51144460, "link": "https://stackoverflow.com/questions/51144460/dialog-alert-in-kotlin/60478878#60478878", "title": "Dialog Alert in kotlin", "body": "<p>Here is a simple example on how to use an Alert Dialog using Kotlin found in the documentation here <a href=\"https://developer.android.com/guide/topics/ui/dialogs\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/dialogs</a></p>\n\n<pre><code>val builder: AlertDialog.Builder? = activity?.let {\n        AlertDialog.Builder(it)\n    }\n\n    builder!!.setMessage(\"Are you sure you want to log out?\")\n        .setTitle(\"Log Out\")\n\n    builder.apply {\n        setPositiveButton(R.string.user_log_out_dialog_no) { dialog, id -&gt;\n            val selectedId = id\n        }\n        setNegativeButton(R.string.user_log_out_dialog_yes) { dialog, id -&gt;\n            val selectedId = id\n        }\n    }\n    val dialog: AlertDialog? = builder.create()\n\n    dialog!!.show()\n</code></pre>\n\n<p>Keep in mind that some strings are hardcoded.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9179613"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6003, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1583090552, "creation_date": 1530570772, "last_edit_date": 1530617402, "question_id": 51144460, "link": "https://stackoverflow.com/questions/51144460/dialog-alert-in-kotlin", "title": "Dialog Alert in kotlin", "body": "<p>I need to click to button 'b_avanca_c' if the user don't fill the field 'editTextNomeVelhinho' present the dialog alert and after the user fill the 'editText' must forward for layout 'C_aviso', as well as if 'editText' is filled from the beginning. In this case the aplications always goes to 'if' and even after it is filled in the dialog box always appears.</p>\n\n<pre><code>   fun b_avancar_c(view: View) {\n    val nomeIdoso :String\n    nomeIdoso=editTextNomeVelhinho.text.toString()\n\n    if(editTextNomeVelhinho.text.isEmpty()) {\n        buttonComecar.setOnClickListener {\n            val builder = AlertDialog.Builder(this@B_menu)\n            builder.setTitle(\"Aten\u00e7\u00e3o\")\n            builder.setMessage(\"Deve colocar o seu nome para continuar\")\n            builder.setPositiveButton(\"Continuar\") { dialog, which -&gt;\n                //Toast.makeText(applicationContext, \"continuar\", Toast.LENGTH_SHORT).show()\n            }\n            val dialog: AlertDialog = builder.create()\n            dialog.show()\n\n\n        }\n    }\n    else {\n        val it = Intent(this, C_aviso::class.java)\n        startActivity(it)\n    }\n}\n</code></pre>\n\n<p>Code layout</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;android.support.constraint.ConstraintLayout                 xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"com.example.asus.aprendecomigovelhinho.B_menu\"&gt;\n\n\n        &lt;Button\n            android:id=\"@+id/buttonComecar\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:background=\"@android:color/holo_green_dark\"\n            android:text=\"Come\u00e7ar\"\n            android:onClick=\"b_avancar_c\"\n            android:textColor=\"@android:color/background_light\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.983\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.349\" /&gt;\n\n\n        &lt;EditText\n            android:id=\"@+id/editTextNomeVelhinho\"\n            android:layout_width=\"320dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"8dp\"\n            android:ems=\"10\"\n            android:inputType=\"text\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.921\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintVertical_bias=\"0.026\" /&gt;\n\n\n\n            &lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "rx-kotlin"], "comments": [{"owner": {"reputation": 3039, "user_id": 1510214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/E0yGs.jpg?s=128&g=1", "display_name": "Marcin Jedynak", "link": "https://stackoverflow.com/users/1510214/marcin-jedynak"}, "edited": false, "score": 0, "creation_date": 1530572297, "post_id": 51144111, "comment_id": 89273576, "body": "Dao provides you with a new version of data, whenever the source of your query is updated. Are you sure you want to transform this stream of datas to Single and not to Flowable&lt;Boolean&gt; to check if the list is empty every time?"}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "reply_to_user": {"reputation": 3039, "user_id": 1510214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/E0yGs.jpg?s=128&g=1", "display_name": "Marcin Jedynak", "link": "https://stackoverflow.com/users/1510214/marcin-jedynak"}, "edited": false, "score": 0, "creation_date": 1530573290, "post_id": 51144111, "comment_id": 89273786, "body": "@MarcinJedynak  have to use Observables.zip and for that I need Single&lt;Boolean&gt;."}], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 2, "last_activity_date": 1530571724, "creation_date": 1530571724, "answer_id": 51144570, "question_id": 51144111, "link": "https://stackoverflow.com/questions/51144111/converting-flowablelistt-to-singleboolean/51144570#51144570", "title": "Converting Flowable&lt;List&lt;T&gt;&gt; to Single&lt;Boolean&gt;", "body": "<p>You need to check what <code>singleOrError</code> actually does:</p>\n\n<blockquote>\n  <p>Returns a Single that emits the single item emitted by this Flowable, if this Flowable emits only a single item, otherwise if this Flowable completes without emitting any items a NoSuchElementException will be signaled and if this Flowable emits more than one item, an IllegalArgumentException will be signaled.</p>\n</blockquote>\n\n<p>What you're looking for is <code>firstOrError</code>, which returns just the first value emitted.</p>\n"}], "owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 51144570, "answer_count": 1, "score": 0, "last_activity_date": 1530571724, "creation_date": 1530567896, "question_id": 51144111, "link": "https://stackoverflow.com/questions/51144111/converting-flowablelistt-to-singleboolean", "title": "Converting Flowable&lt;List&lt;T&gt;&gt; to Single&lt;Boolean&gt;", "body": "<p>I have an function in <code>@Dao</code>. Lets call that class <code>DaoClass</code></p>\n\n<p><code>abstract fun getData() : Flowable&lt;List&lt;Data&gt;&gt;</code></p>\n\n<p>Now, I want to check if list of data returned is empty or not. I dug through the DaoClass_Impl (generated at build time) and I found out that the Flowable won't be empty. So, </p>\n\n<p><code>getData().isEmpty</code> will always return false.</p>\n\n<p>So what I did was \n<code>getData().singleOrError().map{it.isEmpty()}</code> to return if the returned list is actually empty. </p>\n\n<p>But I am having problem as the value is not getting emitted.</p>\n"}, {"tags": ["java", "android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1530613910, "post_id": 51143023, "comment_id": 89288048, "body": "Try a RecyclerView instead. It&#39;s basically the same, but it works differently in order to save memory"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "edited": false, "score": 0, "creation_date": 1530562855, "post_id": 51143089, "comment_id": 89270546, "body": "the picture is saved in my drawble i don&#39;t know if i can use Picasso or Glide for this case?  I mean, according to my information i use Picasso for loading picture only from Url into ImageView is that right ?"}, {"owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "reply_to_user": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "edited": false, "score": 0, "creation_date": 1530563059, "post_id": 51143089, "comment_id": 89270633, "body": "Not sure about Picasso (haven&#39;t used it in a long time) but you definitely can load Drawable assets with Glide. And vector Drawables should work in Glide v4+ also."}, {"owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "edited": false, "score": 0, "creation_date": 1530620616, "post_id": 51143089, "comment_id": 89292147, "body": "Thank you , u are right u sloved my problem i used Picasso as u said"}], "tags": [], "owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "is_accepted": true, "score": 1, "last_activity_date": 1530562069, "creation_date": 1530562069, "answer_id": 51143089, "question_id": 51143023, "link": "https://stackoverflow.com/questions/51143023/baseadapter-slow-and-lag-in-scrolling/51143089#51143089", "title": "Baseadapter slow and lag in scrolling", "body": "<p>If I had to guess, this line is the cause of your problems:\n<code>holder.img!!.setImageResource(item.picc!!)</code></p>\n\n<p>Because you are having performance issues, you should use an image loader like <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> or <a href=\"https://github.com/square/picasso\" rel=\"nofollow noreferrer\">Picasso</a> rather than directly calling <code>setImageResource</code>. The size of your Bitmaps/Drawables can severely degrade scrolling performance unless they are very small as they aren't cached and will be decoded at 1:1 size rather than to the size of the target ImageView. However, it's impossible to tell if that is your actual performance issue without seeing the more code/image assets.</p>\n"}], "owner": {"reputation": 23, "user_id": 9244622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e1e61c3ddcc9fe0cdecafa38bbf0f12?s=128&d=identicon&r=PG&f=1", "display_name": "Charaf", "link": "https://stackoverflow.com/users/9244622/charaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 51143089, "answer_count": 1, "score": 1, "last_activity_date": 1530613879, "creation_date": 1530561755, "last_edit_date": 1530613879, "question_id": 51143023, "link": "https://stackoverflow.com/questions/51143023/baseadapter-slow-and-lag-in-scrolling", "title": "Baseadapter slow and lag in scrolling", "body": "<p>I am trying to make a listview with baseAdapter that show's an ImageView's with text view for every item (Image and Text for every item). However, the listview scrolling is too laggy and slow.</p>\n\n<pre><code>class MyListAdapter:BaseAdapter {\nvar ListLocal = ArrayList&lt;Food&gt;()\nvar mCtx : Context?=null\nconstructor(List:ArrayList&lt;Food&gt;,mCtx:Context){\n    this.ListLocal = List\n    this.mCtx = mCtx\n}\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup?): \nView {\n    var convertView = convertView\n    var holder: ViewHolder\n\n    if (convertView == null) {\n        holder= ViewHolder()\n\n        var inflator = LayoutInflater.from(mCtx)\n        convertView  = inflator.inflate(R.layout.food_type,null)\n        holder.title= convertView.findViewById(R.id.txtT)\n        holder.img = convertView.findViewById(R.id.PicT)\n\n        convertView.tag = holder\n    }\n    else {\n        holder = convertView.tag as ViewHolder\n\n    }\n    val item = ListLocal[position]\n    holder.title!!.text = item.txtname\n    holder.img!!.setImageResource(item.picc!!)\n    return convertView!!\n\n}\n\noverride fun getItem(position: Int): Any {\n    return ListLocal[position]\n}\n\noverride fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\noverride fun getCount(): Int {\n    return ListLocal.size\n}\n\n\n\n\n }\n\ninternal class ViewHolder {\n    var title: TextView? = null\n    var img: ImageView? = null\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530564318, "post_id": 51142843, "comment_id": 89271125, "body": "Where and how is <code>mytextview</code> initialized?"}, {"owner": {"reputation": 23, "user_id": 7855088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154996923171223/picture?type=large", "display_name": "Tuite", "link": "https://stackoverflow.com/users/7855088/tuite"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530564753, "post_id": 51142843, "comment_id": 89271279, "body": "Using kotlin dont need initialized, just need the id, in this case is <b>android:id=&quot;@+id/mytextview&quot;</b>."}, {"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1530581159, "post_id": 51142843, "comment_id": 89275242, "body": "@user2340612 i think @Tuite means he&#39;s using Kotlin Android Extensions, whereby you can refer to <code>View</code>s in a declarative layout by their IDs."}], "answers": [{"tags": [], "owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "is_accepted": false, "score": 0, "last_activity_date": 1530588752, "last_edit_date": 1530588752, "creation_date": 1530583014, "answer_id": 51145669, "question_id": 51142843, "link": "https://stackoverflow.com/questions/51142843/kotlinnullpointerexception-in-textview-using-callback-with-dagger-2-object-ins/51145669#51145669", "title": "(Kotlin)NullPointerException in textview using callback with Dagger 2 object instance", "body": "<p>The problem is that in your Module, you are instantiating a new MainActivity that is different from the one instantiated by the framework. You need to realize that if you manually instantiated an activity, its views will not be inflated, hence the NullPointerException. I suggest you pass the instance of your activity in your module instead.</p>\n\n<pre><code>@Module\nclass MyModule(val res: MyCallBack) {\n\n    @Provides\n    fun providesMyObject(): MyObject = MyObject(res)\n}\n</code></pre>\n\n<p>Instantiate your component in MainActivity like</p>\n\n<pre><code>val myComponent = DaggerMyComponent.builder()\n    .myModule(MyModule(this))\n    .build()\nmyComponent.inject(this)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7855088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154996923171223/picture?type=large", "display_name": "Tuite", "link": "https://stackoverflow.com/users/7855088/tuite"}, "edited": false, "score": 0, "creation_date": 1530587184, "post_id": 51145754, "comment_id": 89276376, "body": "works like a charm, thx bro. I think doing <code>inject(this)</code> I was adding a MainActivity instance in the <b>graph</b>."}], "tags": [], "owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "is_accepted": true, "score": 1, "last_activity_date": 1530583818, "creation_date": 1530583818, "answer_id": 51145754, "question_id": 51142843, "link": "https://stackoverflow.com/questions/51142843/kotlinnullpointerexception-in-textview-using-callback-with-dagger-2-object-ins/51145754#51145754", "title": "(Kotlin)NullPointerException in textview using callback with Dagger 2 object instance", "body": "<p>the problem stems from the fact that you're manually instantiating <code>MainActivity</code> when constructing <code>MyObject</code> in your module. because it is manually constructed, it isn't managed by the framework and is therefore not run through it's expected lifecycle (e.g. <code>onCreate()</code>, <code>onStart()</code>, <code>onResume()</code>, etc). </p>\n\n<p>(side note - never do this in production code).</p>\n\n<p>since <code>onCreate()</code> never runs for that manually constructed instance, the layout for that instance isn't inflated, so <code>MyObject</code> is referring to an <code>Activity</code> (as an implementation of <code>MyCallBack</code>) that has no awareness of any <code>View</code>s.</p>\n\n<p>if you want to involve a valid, framework-managed instance of <code>MyActivity</code> in your object graph, one solution is to add it as a required constructor parameter to your module, like so:</p>\n\n<pre><code>@Module\nclass MyModule(private val myCallBack: MyCallBack) {\n    @Provides \n    fun providesMyObject(): MyObject = MyObject(myCallBack)\n}\n</code></pre>\n\n<p>...then, in <code>MainActivity</code> construct the component and perform self-injection, like so:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.activity_main2)\n\n    mytextview.text = \"first change\"\n\n    DaggerMyComponent.builder()\n            .myModule(MyModule(this))\n            .build()\n            .inject(this)\n}\n</code></pre>\n\n<p>hope that helps clear things up!</p>\n"}], "owner": {"reputation": 23, "user_id": 7855088, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154996923171223/picture?type=large", "display_name": "Tuite", "link": "https://stackoverflow.com/users/7855088/tuite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 51145754, "answer_count": 2, "score": 0, "last_activity_date": 1530588752, "creation_date": 1530560796, "last_edit_date": 1530562077, "question_id": 51142843, "link": "https://stackoverflow.com/questions/51142843/kotlinnullpointerexception-in-textview-using-callback-with-dagger-2-object-ins", "title": "(Kotlin)NullPointerException in textview using callback with Dagger 2 object instance", "body": "<p>NullPointerException in textview when I try to change text by dagger 2 instance object. Note: Using a common instance (new Myobjcet(this)) works. </p>\n\n<h1>Activity</h1>\n\n<pre><code>class MainActivity : AppCompatActivity(), MyCallBack{\n\n        @Inject\n        lateinit var myObject: MyObject\n\n        override fun onCreate(savedInstanceState: Bundle?) { \n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n            mytextview.text = \"first change\"\n\n            val myComponent = (application as App).myComponent\n            myComponent.inject(this)\n\n        }\n\n        override fun callBack(string: String) {\n            try {\n                mytextview.text = string\n            } catch (e: Exception) {\n                Log.d(\"xxx\", e.toString())\n            }\n        }\n    }\n</code></pre>\n\n<h1>Object</h1>\n\n<pre><code>    class MyObject(var res: MyCallBack) {\n    init {\n        res.callBack(\"second change\")\n    }\n}\n</code></pre>\n\n<h1>Component</h1>\n\n<pre><code>@Component(modules = MyModule.class)\npublic interface MyComponent {\n\n    void inject(MainActivity mainActivity);\n}\n</code></pre>\n\n<h1>Module</h1>\n\n<pre><code>@Module\nclass MyModule {\n\n@Provides\nfun proviesMyObject(): MyObject = MyObject(MainActivity())\n}\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin", "android-testing", "android-mvp"], "answers": [{"tags": [], "owner": {"reputation": 1783, "user_id": 1824773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6c41a8bdb6ca4da2cc7133dc71be66?s=128&d=identicon&r=PG", "display_name": "C B J", "link": "https://stackoverflow.com/users/1824773/c-b-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1530941005, "creation_date": 1530941005, "answer_id": 51220165, "question_id": 51142771, "link": "https://stackoverflow.com/questions/51142771/how-to-test-reading-from-updating-file-in-mvp/51220165#51220165", "title": "How to test reading from/updating file in MVP?", "body": "<p>Well, you might want to relocate your file read and write to your model (they are associated with data which doesn't really belong in your view).</p>\n\n<p>Then your test consists of instantiating your model object, and testing the methods which can be done without the view and presenter (simplifying the tests).</p>\n\n<p>I would be very tempted to abstract your file as some form of \"Repository\" object that knows how to read and write strings (but you don't care where or how). You would pass the repository object to your model as a construction property. The advantage of this is that you can create a mock or fake Repository object which you can use to \"feed\" test data and examine written data, making testing that part of your model a little easier.</p>\n\n<p>Don't forget, your view shouldn't have direct access to your model under MVP .. that would me more like MVC (one of the very few differences between MVP and MVC).</p>\n"}], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 51220165, "answer_count": 1, "score": 0, "last_activity_date": 1530941005, "creation_date": 1530560465, "question_id": 51142771, "link": "https://stackoverflow.com/questions/51142771/how-to-test-reading-from-updating-file-in-mvp", "title": "How to test reading from/updating file in MVP?", "body": "<p>I'm trying to change my app from having no design pattern to using MVP.</p>\n\n<p>Originally I had the following code:</p>\n\n<pre><code>override fun onCreateInputView(): View {\n\n    //favoritesData is an instance variable, same with \"Gson\", \"parser\", \"favorites\", and \"stringArrayListType\"\n    favoritesData = File(filesDir, \"favorites_data.json\")\n\n    if (favoritesData.exists()) {\n        favorites = Gson.fromJson(parser.parse(FileReader(favoritesData)), stringArrayListType)\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>fun updateFavoritesFile() {\n    favoritesData.writeText(Gson.toJson(favorites))\n}\n</code></pre>\n\n<p>After trying to use MVP I changed the code to:</p>\n\n<pre><code>class AnimeFaceKeyboardPresenter(val view : AnimeFaceKeyboardView, private val model : KeyboardModel = KeyboardModel()) : Presenter {\n\n    override fun onCreateInputView() {\n        model.favorites = view.loadFavoritesFile()\n\n        //At some point, call view.updateFavoritesFile(arrayListOf(\"test\",\"test2\"))\n\n    }\n\n    override fun onStartInputView() {\n    }\n\n}\n</code></pre>\n\n<p>and the code in the activity itself to:</p>\n\n<pre><code>override fun loadFavoritesFile() : ArrayList&lt;String&gt; {\n    val favoritesData = File(filesDir, favoritesFileName)\n    var favorites = ArrayList&lt;String&gt;()\n\n    //\"favorites\" is no longer an instance variable     \n\n    if (favoritesData.exists()) {\n        favorites = Gson.fromJson(parser.parse(FileReader(favoritesData)), stringArrayListType)\n    }\n\n    return favorites\n}\n\n\noverride fun updateFavoritesFile(favorites: ArrayList&lt;String&gt;) {\n    File(filesDir, favoritesFileName).writeText(Gson.toJson(favorites))\n}\n\noverride fun onCreateInputView(): View {\n       super.onCreateInputView()\n\n       presenter = AnimeFaceKeyboardPresenter(this)\n       presenter.onCreateInputView()\n\n}\n</code></pre>\n\n<p>I'm not sure if I'm using MVP correctly, but if I am, how would I go about testing this code. For example - writing a test that calls <code>updateFavoritesFile(arrayListOf(\"test1\",\"test2\"))</code> and uses <code>loadFavoritesFile()</code> to check if the contents is as expected. </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 2, "creation_date": 1530557084, "post_id": 51142014, "comment_id": 89268274, "body": "that code will return true if connected to wifi but no Internet connectivity"}, {"owner": {"reputation": 6037, "user_id": 5629056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdOZG.jpg?s=128&g=1", "display_name": "Naveen T P", "link": "https://stackoverflow.com/users/5629056/naveen-t-p"}, "reply_to_user": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1530557120, "post_id": 51142014, "comment_id": 89268292, "body": "@GenoChen Both the title and attached SO link is misleading here. Both talks about checking an internet connectivity"}, {"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 2, "creation_date": 1530557308, "post_id": 51142014, "comment_id": 89268371, "body": "@NaveenTP I think you are avoiding X - Y problems."}], "tags": [], "owner": {"reputation": 6037, "user_id": 5629056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdOZG.jpg?s=128&g=1", "display_name": "Naveen T P", "link": "https://stackoverflow.com/users/5629056/naveen-t-p"}, "is_accepted": false, "score": 4, "last_activity_date": 1530556721, "creation_date": 1530556721, "answer_id": 51142014, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/51142014#51142014", "title": "Check internet connectivity android in kotlin", "body": "<p>Try this utility method to check for the availability of internet.</p>\n\n<pre><code>fun isNetworkAvailable(context: Context): Boolean {\n        val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        var activeNetworkInfo: NetworkInfo? = null\n        activeNetworkInfo = cm.activeNetworkInfo\n        return activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnectedOrConnecting\n    }\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 811, "user_id": 2649697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f1c3ce6e1c4b0e8e632aab208e5a90?s=128&d=identicon&r=PG", "display_name": "Vishnu M.", "link": "https://stackoverflow.com/users/2649697/vishnu-m"}, "is_accepted": true, "score": 11, "last_activity_date": 1530558049, "creation_date": 1530558049, "answer_id": 51142279, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/51142279#51142279", "title": "Check internet connectivity android in kotlin", "body": "<p>Call the AsyncTask this way, it should work. You don't need to change anything in your InternetCheck AsyncTask. Basically you need to pass in an object that implements the Consumer interface that's defined in the InternetCheck class.</p>\n\n<pre><code>InternetCheck(object : InternetCheck.Consumer {\n    override fun accept(internet: Boolean?) {\n        Log.d(\"test\", \"asdasdas\")\n    }\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 1, "creation_date": 1530567284, "post_id": 51142283, "comment_id": 89272163, "body": "Thanks for the link and the answer. :)"}], "tags": [], "owner": {"reputation": 560, "user_id": 1879341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En094.jpg?s=128&g=1", "display_name": "Renan Arceno", "link": "https://stackoverflow.com/users/1879341/renan-arceno"}, "is_accepted": false, "score": 2, "last_activity_date": 1530558061, "creation_date": 1530558061, "answer_id": 51142283, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/51142283#51142283", "title": "Check internet connectivity android in kotlin", "body": "<p>You can use it like this:</p>\n\n<pre><code>   InternetCheck(object : InternetCheck.Consumer {\n      override fun accept(internet: Boolean?) {\n         Log.d(\"test\", \"asdasdas\")\n      }\n   })\n</code></pre>\n\n<p>For more infos you can see this thread: \n<a href=\"https://youtrack.jetbrains.com/issue/KT-7770\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-7770</a></p>\n"}, {"comments": [{"owner": {"reputation": 1055, "user_id": 3837808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M1zwB.jpg?s=128&g=1", "display_name": "Fuad Kamal", "link": "https://stackoverflow.com/users/3837808/fuad-kamal"}, "edited": false, "score": 10, "creation_date": 1576640766, "post_id": 51142910, "comment_id": 104961818, "body": "connectivityManager.activeNetworkInfo is deprecated"}], "tags": [], "owner": {"reputation": 188, "user_id": 9947420, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mDLkdSiRsDc/AAAAAAAAAAI/AAAAAAAAAA8/i9cxZQRMUl0/photo.jpg?sz=128", "display_name": "IramML", "link": "https://stackoverflow.com/users/9947420/iramml"}, "is_accepted": false, "score": 12, "last_activity_date": 1530561172, "creation_date": 1530561172, "answer_id": 51142910, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/51142910#51142910", "title": "Check internet connectivity android in kotlin", "body": "<pre><code> fun verifyAvailableNetwork(activity:AppCompatActivity):Boolean{\n      val connectivityManager=activity.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n      val networkInfo=connectivityManager.activeNetworkInfo\n      return  networkInfo!=null &amp;&amp; networkInfo.isConnected\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 642, "user_id": 2215337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/774f3829142daed13cdbe91de2cc97fa?s=128&d=identicon&r=PG", "display_name": "Wesley Abbenhuis", "link": "https://stackoverflow.com/users/2215337/wesley-abbenhuis"}, "edited": false, "score": 0, "creation_date": 1551649674, "post_id": 52831967, "comment_id": 96707234, "body": "I was required to add StrictMode in the MainActivity <code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();         StrictMode.setThreadPolicy(policy);</code> Source: <a href=\"https://stackoverflow.com/a/22395546/2215337\">stackoverflow.com/a/22395546/2215337</a>"}], "tags": [], "owner": {"reputation": 107, "user_id": 5480698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f9683632ff6e95496313b5291a8f6e49?s=128&d=identicon&r=PG&f=1", "display_name": "Radim Janda", "link": "https://stackoverflow.com/users/5480698/radim-janda"}, "is_accepted": false, "score": 3, "last_activity_date": 1539687296, "last_edit_date": 1539687296, "creation_date": 1539681260, "answer_id": 52831967, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/52831967#52831967", "title": "Check internet connectivity android in kotlin", "body": "<p>I modified your class to this</p>\n\n<pre><code>internal class InternetCheck(private val onInternetChecked: (Boolean) -&gt; Unit) : \nAsyncTask&lt;Void, Void, Boolean&gt;() {\n init {\n     execute()\n }\n\n override fun doInBackground(vararg voids: Void): Boolean {\n     return try {\n         val sock = Socket()\n         sock.connect(InetSocketAddress(\"8.8.8.8\", 53), 1500)\n         sock.close()\n         true\n     } catch (e: IOException) {\n         false\n     }\n\n }\n\n override fun onPostExecute(internet: Boolean) {\n     onInternetChecked(internet)\n }\n}\n</code></pre>\n\n<p>So you could use lambda function and you also dont have to deal with null check in there:</p>\n\n<pre><code>InternetCheck{ internet-&gt; Log.d(\"Connection\", \"Is connection enabled? \"+internet) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 597, "user_id": 2010496, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/f92df7dc2bf05395f5f5768046ab2195?s=128&d=identicon&r=PG", "display_name": "user2010496", "link": "https://stackoverflow.com/users/2010496/user2010496"}, "edited": false, "score": 0, "creation_date": 1560266497, "post_id": 54129598, "comment_id": 99675653, "body": "This only checks if we have network, not if we&#39;re &quot;online&quot; i.e. connected to the internet."}], "tags": [], "owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "is_accepted": false, "score": 5, "last_activity_date": 1547126325, "creation_date": 1547126325, "answer_id": 54129598, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/54129598#54129598", "title": "Check internet connectivity android in kotlin", "body": "<p>Shortest version</p>\n\n<pre><code>val Context.isConnected: Boolean\n    get() {\n        return (getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager)\n           .activeNetworkInfo?.isConnected == true\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "edited": false, "score": 12, "creation_date": 1568359509, "post_id": 57237708, "comment_id": 102256081, "body": "<code>connectivityManager.activeNetworkInfo</code> is deprecated"}], "tags": [], "owner": {"reputation": 113731, "user_id": 250260, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mLw78.png?s=128&g=1", "display_name": "Jorgesys", "link": "https://stackoverflow.com/users/250260/jorgesys"}, "is_accepted": false, "score": 28, "last_activity_date": 1587045554, "last_edit_date": 1592644375, "creation_date": 1564284372, "answer_id": 57237708, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/57237708#57237708", "title": "Check internet connectivity android in kotlin", "body": "<p>Update:\n<strong>Since Android 10 the use of the <a href=\"https://developer.android.com/reference/android/net/NetworkInfo\" rel=\"noreferrer\">NetWorkInfo</a> class and its methods is obsolete, now you must use the ConectivityManager class and <a href=\"https://developer.android.com/reference/android/net/ConnectivityManager#getNetworkCapabilities(android.net.Network)\" rel=\"noreferrer\">getNetworkCapabilities ()</a> method from <a href=\"https://developer.android.com/reference/android/net/NetworkCapabilities\" rel=\"noreferrer\">NetworkCapabilities</a> Class</strong>.</p>\n<h3>How to check connectivity in Android?</h3>\n<p><strong>Kotlin</strong> :</p>\n<pre><code>fun isOnline(context: Context): Boolean {\n    val connectivityManager =\n        context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    if (connectivityManager != null) {\n        val capabilities =\n            connectivityManager.getNetworkCapabilities(connectivityManager.activeNetwork)\n        if (capabilities != null) {\n            if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_CELLULAR&quot;)\n                return true\n            } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_WIFI&quot;)\n                return true\n            } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET)) {\n                Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_ETHERNET&quot;)\n                return true\n            }\n        }\n    }\n    return false\n}\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>public static boolean isOnline(Context context) {\n       ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\nif (connectivityManager != null) {\n       NetworkCapabilities capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.getActiveNetwork());\n        if (capabilities != null) {\n            if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR)) {\n                Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_CELLULAR&quot;);\n                return true;\n            } else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)) {\n                Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_WIFI&quot;);\n                return true;\n            }  else if (capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET)){\n                Log.i(&quot;Internet&quot;, &quot;NetworkCapabilities.TRANSPORT_ETHERNET&quot;);\n                return true;\n            }\n        }\n    }\n\nreturn false;\n}\n</code></pre>\n<p>both methods require the permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 10945105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aT6e7.jpg?s=128&g=1", "display_name": "Syed Afeef", "link": "https://stackoverflow.com/users/10945105/syed-afeef"}, "is_accepted": false, "score": 3, "last_activity_date": 1572344695, "creation_date": 1572344695, "answer_id": 58605532, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/58605532#58605532", "title": "Check internet connectivity android in kotlin", "body": "<p>Add these permission on top in Manifest </p>\n\n<pre><code>   &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n   &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n\n<p>and this function should do the trick. It will return boolean based on its connectivity</p>\n\n<pre><code>fun isOnline(context: Context): Boolean {\n    val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        val n = cm.activeNetwork\n        if (n != null) {\n            val nc = cm.getNetworkCapabilities(n)\n    //It will check for both wifi and cellular network\n            return nc!!.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) || nc.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)\n        }\n        return false\n    } else {\n        val netInfo = cm.activeNetworkInfo\n        return netInfo != null &amp;&amp; netInfo.isConnectedOrConnecting\n    }\n}\n</code></pre>\n\n<p>It has a deprecated method as well as a latest one based on your api version.</p>\n"}, {"comments": [{"owner": {"reputation": 492, "user_id": 7582101, "user_type": "registered", "profile_image": "https://graph.facebook.com/1688686734792497/picture?type=large", "display_name": "ejdrian313", "link": "https://stackoverflow.com/users/7582101/ejdrian313"}, "edited": false, "score": 2, "creation_date": 1594017971, "post_id": 59750435, "comment_id": 110967774, "body": "&gt;= Build.VERSION_CODES.Q  isn&#39;t Build.VERSION_CODES.M? This is what linter said in AndroidStudio"}, {"owner": {"reputation": 174, "user_id": 10905230, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/001bN.jpg?s=128&g=1", "display_name": "pentexnyx", "link": "https://stackoverflow.com/users/10905230/pentexnyx"}, "reply_to_user": {"reputation": 492, "user_id": 7582101, "user_type": "registered", "profile_image": "https://graph.facebook.com/1688686734792497/picture?type=large", "display_name": "ejdrian313", "link": "https://stackoverflow.com/users/7582101/ejdrian313"}, "edited": false, "score": 1, "creation_date": 1597443277, "post_id": 59750435, "comment_id": 112144766, "body": "@ejdrian313 this means that your current Buildversion (M = Marshmallow, Android 5) is below Q (Android 10), which is required to run the code within the if-statement."}], "tags": [], "owner": {"reputation": 1153, "user_id": 11369023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zFtbF.png?s=128&g=1", "display_name": "Aftab Alam", "link": "https://stackoverflow.com/users/11369023/aftab-alam"}, "is_accepted": false, "score": 15, "last_activity_date": 1579087516, "creation_date": 1579087516, "answer_id": 59750435, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin/59750435#59750435", "title": "Check internet connectivity android in kotlin", "body": "<blockquote>\n  <p>Check internet connectivity in android kotlin </p>\n</blockquote>\n\n<pre><code>fun isNetworkAvailable(context: Context?): Boolean {\n    if (context == null) return false\n    val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        val capabilities = connectivityManager.getNetworkCapabilities(connectivityManager.activeNetwork)\n        if (capabilities != null) {\n            when {\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; {\n                    return true\n                }\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_WIFI) -&gt; {\n                    return true\n                }\n                capabilities.hasTransport(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; {\n                    return true\n                }\n            }\n        }\n    } else {\n        val activeNetworkInfo = connectivityManager.activeNetworkInfo\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected) {\n            return true\n        }\n    }\n    return false\n}\n</code></pre>\n"}], "owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39906, "favorite_count": 2, "accepted_answer_id": 51142279, "answer_count": 9, "score": 32, "last_activity_date": 1587045554, "creation_date": 1530556479, "last_edit_date": 1530557176, "question_id": 51141970, "link": "https://stackoverflow.com/questions/51141970/check-internet-connectivity-android-in-kotlin", "title": "Check internet connectivity android in kotlin", "body": "<p>I tried the answer from <a href=\"https://stackoverflow.com/questions/1560788/how-to-check-internet-access-on-android-inetaddress-never-times-out\">this</a> (the accepted answer). I can use the \"PING\" method but the UI went black since it says it will block the UI Thread. It didn't look good and was disturbing so I tried to use the second method \"Connect to a Socket on the Internet\" but I don't know how to use the class in Kotlin. </p>\n\n<p>This is the result of converted Java to kotlin by android studio</p>\n\n<pre><code>package com.mockie.daikokuten.helpers\n\nimport android.os.AsyncTask.execute\nimport android.os.AsyncTask\nimport java.io.IOException\nimport java.net.InetSocketAddress\nimport java.net.Socket\n\n\ninternal class InternetCheck(private val mConsumer: Consumer) : AsyncTask&lt;Void, Void, Boolean&gt;() {\ninterface Consumer {\n    fun accept(internet: Boolean?)\n}\n\ninit {\n    execute()\n}\n\noverride fun doInBackground(vararg voids: Void): Boolean? {\n    try {\n        val sock = Socket()\n        sock.connect(InetSocketAddress(\"8.8.8.8\", 53), 1500)\n        sock.close()\n        return true\n    } catch (e: IOException) {\n        return false\n    }\n\n}\n\noverride fun onPostExecute(internet: Boolean?) {\n    mConsumer.accept(internet)\n}\n}\n</code></pre>\n\n<p>but <strong>I DONT KNOW HOW TO USE IT</strong>. I tried this way:</p>\n\n<pre><code>InternetCheck{ internet-&gt; Log.d(\"test\", \"asdasdas\") }\n</code></pre>\n\n<p>It didnt work and results in an error. It says I have to pass \"Consumer\". </p>\n\n<p>My question is <strong>How to use that class</strong>?</p>\n"}, {"tags": ["android", "kotlin", "iot", "android-things", "android-things-console"], "comments": [{"owner": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 1, "creation_date": 1530560707, "post_id": 51141700, "comment_id": 89269692, "body": "You should update your device operating system and the library to version 1.0.0 as a number of APIs have changed or been updated."}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1530572553, "post_id": 51141700, "comment_id": 89273621, "body": "@NickFelker How to I do this without necessarily pulling another install image and burning a sd card?"}, {"owner": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 2, "creation_date": 1530582629, "post_id": 51141700, "comment_id": 89275509, "body": "If you&#39;re still on the developer preview, your best bet is to install a new image. After that you&#39;ll be able to create new images and OTA update them to the device."}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1530645337, "post_id": 51141700, "comment_id": 89306467, "body": "@NickFelker I create: OS version 1.0.1 (latest).  I can run motors with pio i2c I2C1 0x1B write-raw  0x46 128  0x05 0x00 0xD1. But 1.0.1 not exist and compileOnly &#39;com.google.android.things:androidthings:1.0&#39; I have this issue: <a href=\"https://drive.google.com/file/d/1OeDRh23QEr0utkWrDglhI9iNjS4Z6ABS/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1OeDRh23QEr0utkWrDglhI9iNjS4Z6ABS/&hellip;</a> <a href=\"https://drive.google.com/file/d/10hCYyfJ0PGw0QflMiVjc12f-7B9h0Ryz/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/10hCYyfJ0PGw0QflMiVjc12f-7B9h0Ryz/&hellip;</a>"}, {"owner": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 1, "creation_date": 1530648569, "post_id": 51141700, "comment_id": 89307718, "body": "compileOnly &#39;com.google.android.things:androidthings:1.0&#39;  is the latest dependency. As you&#39;re seeing the permissions issue, you should add the permission to your manifest and then install the app again and then do a reboot."}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1530651683, "post_id": 51141700, "comment_id": 89308799, "body": "@NickFelker I do this: <a href=\"https://stackoverflow.com/questions/50752416/how-to-fix-java-lang-securityexception-caller-lacks-required-permission-com-goo\" title=\"how to fix java lang securityexception caller lacks required permission com goo\">stackoverflow.com/questions/50752416/&hellip;</a> see my manifest now pls: <a href=\"https://drive.google.com/file/d/1eIJm0bSiaPSavNZQLZwcp_2Jet4lNTPv/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1eIJm0bSiaPSavNZQLZwcp_2Jet4lNTPv/&hellip;</a>  But now I have this issue:  <a href=\"https://drive.google.com/file/d/18bife-nnTQU78o8yPsaDr2GUsrEUjP5T/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/18bife-nnTQU78o8yPsaDr2GUsrEUjP5T/&hellip;</a> and this: <a href=\"https://drive.google.com/file/d/1U6Dmw_i2YW-ZtHPYcndSc5sNNvJJdXXF/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1U6Dmw_i2YW-ZtHPYcndSc5sNNvJJdXXF/&hellip;</a>"}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1530723042, "post_id": 51141700, "comment_id": 89338825, "body": "@NickFelker, hI, Do you can help me more in question above"}, {"owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "reply_to_user": {"reputation": 10420, "user_id": 1491707, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/rOXkJ.png?s=128&g=1", "display_name": "Nick Felker", "link": "https://stackoverflow.com/users/1491707/nick-felker"}, "edited": false, "score": 0, "creation_date": 1530797611, "post_id": 51141700, "comment_id": 89366870, "body": "I solved with 3 changes: 1 - installed AT OS 1.0.1, 2 - put compileOnly &#39;com.google.android.things:androidthings:1.0&#39;  in build.gradle (module), 3 - change:   try {             PeripheralManager manager = PeripheralManager.getInstance();             device = manager.openI2cDevice(I2C_DEVICE_NAME, I2C_ADDRESS);         } catch (IOException e) {             Log.w(TAG, &quot;Unable to access I2C device&quot;, e);         }          to:      device = PeripheralManager.getInstance().openI2cDevice(i2cName, i2cAddress)"}], "answers": [{"tags": [], "owner": {"reputation": 3738, "user_id": 539171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60dc8649c7718067e2e66fe1aa84135e?s=128&d=identicon&r=PG", "display_name": "shalafi", "link": "https://stackoverflow.com/users/539171/shalafi"}, "is_accepted": true, "score": 1, "last_activity_date": 1530644537, "creation_date": 1530644537, "answer_id": 51161386, "question_id": 51141700, "link": "https://stackoverflow.com/questions/51141700/android-things-dp-7-retired-peripheralmanagerservice-and-i-have-issue-with-peri/51161386#51161386", "title": "Android things: DP 7 retired PeripheralManagerService and I have issue with PeripheralManager", "body": "<p>The class not found exception means that peripheral manager is not on the operating system. You are trying to use a new API on a device that has an older version.</p>\n\n<p>You need to have the Android things library dependency in sync with the version installed on your device.</p>\n\n<p>And as it has been suggested, you should get everything into the stable release.</p>\n"}], "owner": {"reputation": 64, "user_id": 10022565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a6a055163272daefe56d178e154510?s=128&d=identicon&r=PG&f=1", "display_name": "Neuber", "link": "https://stackoverflow.com/users/10022565/neuber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 51161386, "answer_count": 1, "score": 0, "last_activity_date": 1530644537, "creation_date": 1530555281, "question_id": 51141700, "link": "https://stackoverflow.com/questions/51141700/android-things-dp-7-retired-peripheralmanagerservice-and-i-have-issue-with-peri", "title": "Android things: DP 7 retired PeripheralManagerService and I have issue with PeripheralManager", "body": "<p>I have 1 project based on this: <a href=\"https://github.com/Nilhcem/i2cfun-androidthings\" rel=\"nofollow noreferrer\">https://github.com/Nilhcem/i2cfun-androidthings</a><br>\n<a href=\"https://github.com/neuberfran/SmartDrive5\" rel=\"nofollow noreferrer\">https://github.com/neuberfran/SmartDrive5</a> (the latter is my project)</p>\n\n<p>But, when I change PeripheralManagerService to PeripheralManager (DP 7 and APi level 27)</p>\n\n<pre><code> try {\n            PeripheralManager manager = PeripheralManager.getInstance();\n            mDevice = manager.openI2cDevice(I2C_DEVICE_NAME, I2C_ADDRESS);\n        } catch (IOException e) {\n            Log.w(TAG, \"Unable to access I2C device\", e);\n        }\n</code></pre>\n\n<p>I have this issue: <a href=\"https://drive.google.com/file/d/1kXfknYcu4RUF7AT1549_sjJiVSG2_Jjo/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1kXfknYcu4RUF7AT1549_sjJiVSG2_Jjo/view?usp=sharing</a>  <strong><em>in this line:</em></strong> <a href=\"https://drive.google.com/file/d/1nTXOV0qiQDe5XldzIuLsY26oIdyfs3x3/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1nTXOV0qiQDe5XldzIuLsY26oIdyfs3x3/view?usp=sharing</a></p>\n\n<p>I know about this: <a href=\"https://stackoverflow.com/questions/49141634/peripheralmanagerservice-throws-noclassdeffounderror\">PeripheralManagerService throws NoClassDefFoundError</a>\nbut not solved.</p>\n\n<p>Can you help me</p>\n"}, {"tags": ["kotlin", "mutable"], "comments": [{"owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "edited": false, "score": 0, "creation_date": 1530559699, "post_id": 51140498, "comment_id": 89269303, "body": "As far as I know, it&#39;s not possible. You should make a separate class or re-think your design. Unless you have hundreds of fields, just create the wrapper with your prototype and use it to initialize your var fields (i.e. var someVar = prototype.someVal). Hard to say without actually seeing your code, though."}, {"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1530629643, "post_id": 51140498, "comment_id": 89298470, "body": "Depending on your use-case you could try the <code>copy</code> function of data classes."}], "owner": {"reputation": 1009, "user_id": 3245855, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3759ad0106125fee2ac0347816e2256b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3245855/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530549868, "creation_date": 1530549868, "question_id": 51140498, "link": "https://stackoverflow.com/questions/51140498/immutable-data-class-to-mutable", "title": "Immutable data class to mutable", "body": "<p>I have a immutable data class which I use as a standard template. I want to create a wrapper which contains this prototype, but in the process I want to transform the prototype from immutable to mutable. Is there any way one would transform all fields from val to var, and collections from immutable to mutable, without creating duplicate class?</p>\n"}, {"tags": ["android", "kotlin", "onsaveinstancestate"], "answers": [{"tags": [], "owner": {"reputation": 2946, "user_id": 2038801, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WVnDF.jpg?s=128&g=1", "display_name": "The4thIceman", "link": "https://stackoverflow.com/users/2038801/the4thiceman"}, "is_accepted": true, "score": 4, "last_activity_date": 1530549864, "creation_date": 1530549864, "answer_id": 51140496, "question_id": 51140495, "link": "https://stackoverflow.com/questions/51140495/onsaveinstancestate-not-being-called-when-user-presses-home-button/51140496#51140496", "title": "onSaveInstanceState() not being called when user presses home button", "body": "<p>As it turns out, the issue was not with which Android version was being used, or how the code was written, the problem was in the manifest file. For some reason or another (copy paste, default setting), i had the tag noHistory marked as true for my activity.</p>\n\n<pre><code>&lt;activity android:name=\".MainActivity\" android:noHistory=\"true\"&gt;&lt;/activity&gt;\n</code></pre>\n\n<p>I am not sure why i had that there but it was causing all sorts of problems. I switched to:</p>\n\n<pre><code>&lt;activity android:name=\".MainActivity\"&gt;&lt;/activity&gt;\n</code></pre>\n\n<p>Having the noHistory tag marked to true prevented onSaveInstanceState() from being called when the user pressed the home button (app goes to background) <strong>but</strong> still allowed for the state to be saved when screen orientation changes happened.</p>\n\n<p>I had never encountered this behavior before and other questions that had issues with onSaveInstanceState not being called never mentioned checking the manifest file for this tag, so hopefully this helps to clarify any issues for other folks.</p>\n"}], "owner": {"reputation": 2946, "user_id": 2038801, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WVnDF.jpg?s=128&g=1", "display_name": "The4thIceman", "link": "https://stackoverflow.com/users/2038801/the4thiceman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 257, "favorite_count": 0, "accepted_answer_id": 51140496, "answer_count": 1, "score": 2, "last_activity_date": 1530550328, "creation_date": 1530549864, "last_edit_date": 1530550328, "question_id": 51140495, "link": "https://stackoverflow.com/questions/51140495/onsaveinstancestate-not-being-called-when-user-presses-home-button", "title": "onSaveInstanceState() not being called when user presses home button", "body": "<p>I ran into a frustrating issue while trying to preserve state through onSaveInstanceState() so I figured to offer up my scenario and answer my own question in order to help others. (The code is in Kotlin, but the concepts are the same)</p>\n\n<p>I have multiple fragments that the user can switch through via on screen navigation. In order to remember where the user is, i am saving the location in onSaveInstanceState()</p>\n\n<pre><code>override fun onSaveInstanceState(savedInstanceState: Bundle?){\n        super.onSaveInstanceState(savedInstanceState)\n        Log.d(TAG, \"whereAreWe ${appLocation.name}\")\n        with(savedInstanceState!!){\n            putInt(\"whereAreWe\", appLocation.ordinal)\n            putString(\"questionStatistics\", questionStatistics.toString())   \n        }\n    }\n</code></pre>\n\n<p>So then when the user rotates the screen or navigates back to the app from pressing the home button (in onCreate()):</p>\n\n<pre><code>      ....\n      if(savedInstanceState == null){\n            Log.d(TAG, \"Opening Dashboard\")\n            appLocation = AppLocation.DASHBOARD\n            supportFragmentManager.beginTransaction().replace(R.id.fragment_holder, DashboardFragment(), DashboardFragment.TAG).commit()\n        }\n        else {\n            appLocation = AppLocation.values()[savedInstanceState.getInt(\"whereAreWe\")]\n            Log.d(TAG, \"Opening Fragment: ${appLocation.name}\")\n            when (appLocation) {\n                AppLocation.DASHBOARD -&gt; supportFragmentManager.beginTransaction().replace(R.id.fragment_holder,\n                        supportFragmentManager.findFragmentByTag(DashboardFragment.TAG),\n                        DashboardFragment.TAG).commit()\n  ......\n</code></pre>\n\n<p>And everything worked great when the user rotates the screen, their location was remembered and the app navigated them to the appropriate fragment.</p>\n\n<p><strong>BUT</strong> when the user pressed the home button on the phone, then navigated back to the app, onSaveInstanceState() was not being called, and since savedInstanceState was null, the user would be forced back to the main dashboard fragment.</p>\n\n<p>I scoured online for a solution, but no scenario truly matched mine: where it worked for screen orientation changes, but <strong>not</strong> after pressing the home screen.</p>\n"}, {"tags": ["groovy", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1530571497, "post_id": 51140120, "comment_id": 89273403, "body": "where is the limit? why you can&#39;t create kotlin code that in byte code will look like this: <code>public final void withKotlinReceiver(groovy.lang.Closure fn) { &#47;* ... *&#47; }</code> ?"}, {"owner": {"reputation": 3962, "user_id": 2789327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/819a89b05f92171a5bb1e3e20f0832ae?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2789327/dan"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1530665951, "post_id": 51140120, "comment_id": 89312268, "body": "@daggett The Kotlin example in my workaround does exactly that, I&#39;m just trying to avoid having to write a wrapper like that by hand for every high-order function in my library. I thought there might be some combination of Groovy magic and/or Kotlin compiler attributes that could achieve the same syntax without tons of hand-written boilerplate."}, {"owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1530694182, "post_id": 51140120, "comment_id": 89321693, "body": "Please provide more details how do you see the groovy script/class and how it imports kotlin.."}, {"owner": {"reputation": 3962, "user_id": 2789327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/819a89b05f92171a5bb1e3e20f0832ae?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2789327/dan"}, "reply_to_user": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "edited": false, "score": 0, "creation_date": 1530715572, "post_id": 51140120, "comment_id": 89335286, "body": "I&#39;m not sure what you&#39;re asking, so I&#39;ve edited the question to try to make it clearer what I&#39;m trying to achieve. The context is that my Kotlin code is in a <code>buildSrc</code> folder, and I&#39;m trying to make it callable from gradle scripts written in Groovy. I&#39;ve checked the toy example, with compile instructions, <a href=\"https://gitlab.com/drmoose/so-how-can-i-call-with-receiver-from-groovy\" rel=\"nofollow noreferrer\">into gitlab</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18354, "user_id": 1276664, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/873470471a482071b8e085095cf89221?s=128&d=identicon&r=PG", "display_name": "daggett", "link": "https://stackoverflow.com/users/1276664/daggett"}, "is_accepted": true, "score": 2, "last_activity_date": 1530739217, "creation_date": 1530739217, "answer_id": 51180861, "question_id": 51140120, "link": "https://stackoverflow.com/questions/51140120/kotlin-function-parameter-with-receiver-called-from-groovy/51180861#51180861", "title": "Kotlin function parameter with receiver, called from Groovy", "body": "<p>in groovy you can define new functions dynamically</p>\n\n<pre><code>KotlinVersion.metaClass.withReceiver = { Closure c-&gt; \n    delegate.with(c) \n}\n</code></pre>\n\n<p>this will define new function <code>withReceiver</code> for class <code>KotlinVersion</code></p>\n\n<p>and will allow to use this syntax to <code>KotlinVersion</code> instance:</p>\n\n<pre><code>kv.withReceiver{ toString() }\n</code></pre>\n\n<p>in this case <code>toString()</code> will be called on <code>kv</code></p>\n\n<p>you can write the function that iterates through declared methods of your kotlin class with <code>kotlin.Function</code> parameter and declare new method but with <code>groovy.lang.Closure</code> parameter through metaClass. </p>\n"}], "owner": {"reputation": 3962, "user_id": 2789327, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/819a89b05f92171a5bb1e3e20f0832ae?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2789327/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 673, "favorite_count": 1, "accepted_answer_id": 51180861, "answer_count": 1, "score": 4, "last_activity_date": 1530739217, "creation_date": 1530548122, "last_edit_date": 1530715600, "question_id": 51140120, "link": "https://stackoverflow.com/questions/51140120/kotlin-function-parameter-with-receiver-called-from-groovy", "title": "Kotlin function parameter with receiver, called from Groovy", "body": "<p>Kotlin and Groovy both provide a way to write a high-order function where the function parameter has an implicit receiver.</p>\n\n<p><strong>Kotlin Version</strong></p>\n\n<pre><code>class KotlinReceiver { \n    fun hello() { \n        println(\"Hello from Kotlin\") \n    } \n}\n\nclass KotlinVersion {\n    fun withReceiver(fn: KotlinReceiver.() -&gt; Unit) {\n        KotlinReceiver().fn() \n    } \n}\n\n// And then I can call...\nval foo = KotlinVersion()\nfoo.withReceiver { hello() }\n</code></pre>\n\n<p><strong>Groovy Version</strong></p>\n\n<pre><code>class GroovyReceiver { \n    void hello() { \n        println(\"Hello from Groovy\") \n    } \n}\n\nclass GroovyVersion {\n    void withReceiver(Closure fn) {\n        fn.resolveStrategy = Closure.DELEGATE_FIRST\n        fn.delegate = new GroovyReceiver()\n        fn.run()\n    }\n}\n\n// And then I can call...\ndef foo = new GroovyVersion()\nfoo.withReceiver { hello() }\n</code></pre>\n\n<p>My goal is to write the <code>withReceiver</code> function in Kotlin, but call it from groovy and have <code>{ hello() }</code> work. As written, though, Kotlin generates bytecode like</p>\n\n<pre><code>public final void withReceiver(@NotNull Function1 fn) { /* ... */ }\n</code></pre>\n\n<p>which Groovy treats as a function with a parameter. In other words, to call Kotlin's <code>withReceiver</code> from Groovy, I have to do this:</p>\n\n<pre><code>(new KotlinVersion()).withReceiver { it -&gt; it.hello() }\n</code></pre>\n\n<p>In order to allow <code>{ hello() }</code> with no <code>it -&gt; it.</code>, I have to add an overload that takes a <code>groovy.lang.Closure</code> as its parameter.</p>\n\n<p><strong>Kotlin Version</strong></p>\n\n<pre><code>import groovy.lang.Closure\n\nclass KotlinVersion { \n    fun withReceiver(fn: KotlinReceiver.() -&gt; Unit) {\n         KotlinReceiver().fn()\n    }\n\n    fun withReceiver(fn: Closure&lt;Any&gt;) = withReceiver {\n        fn.delegate = this\n        fn.resolveStrategy = Closure.DELEGATE_FIRST\n        fn.run()\n    }\n}\n</code></pre>\n\n<p>With that overload in place, given a <code>KotlinVersion</code> instance called <code>foo</code> the following line works in both languages:</p>\n\n<pre><code>// If this line appears in Groovy code, it calls the Closure overload.\n// If it's in Kotlin, it calls the KotlinReceiver.() -&gt; Unit overload.\nfoo.withReceiver { hello() }\n</code></pre>\n\n<p>I'm trying to keep that syntax, but avoid having to write that extra boilerplate overload for each high-order function my Kotlin library defines. Is there a better (more seamless/automatic) way of making Kotlin's function-with-receiver syntax usable from Groovy so I don't have to manually add a boilerplate overload to each of my Kotlin functions?</p>\n\n<p>The complete code and compile instructions for my toy example above are <a href=\"https://gitlab.com/drmoose/so-how-can-i-call-with-receiver-from-groovy\" rel=\"nofollow noreferrer\">on gitlab</a>.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1530547258, "post_id": 51139833, "comment_id": 89263904, "body": "I do not know if there is an elegant way to do so in room . But you can query the row and check for null result . Or you can use <code>COUNT()</code>.  If no row exist count will be 0."}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530645879, "post_id": 51139833, "comment_id": 89306657, "body": "if you have your DAO with Rx as <code>interface MyDao { @Query(&quot;SELECT * FROM myTable&quot;) fun getAllEntries() : Single&lt;List&lt;Entries&gt;&gt;</code> and then in your repo you can have a <code>flatMap{ if (it.isEmpty()) { .. } else { .. } }</code> for the subscription call for manipulating your data constructs"}], "answers": [{"comments": [{"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 1, "creation_date": 1530553412, "post_id": 51140508, "comment_id": 89266618, "body": "The thing is if I am asking for an RxJava <code>Observable</code>, nothing would happen if none exists"}, {"owner": {"reputation": 3572, "user_id": 2226605, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/jMUyu.gif?s=128&g=1", "display_name": "Shahar", "link": "https://stackoverflow.com/users/2226605/shahar"}, "edited": false, "score": 1, "creation_date": 1531910551, "post_id": 51140508, "comment_id": 89770601, "body": "You don&#39;t have to use <code>Observable</code>, you can use <code>Single</code> or <code>Maybe</code>"}, {"owner": {"reputation": 4164, "user_id": 7132300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ef2cdd4c48a1a36e8395bf0d17431?s=128&d=identicon&r=PG&f=1", "display_name": "algrid", "link": "https://stackoverflow.com/users/7132300/algrid"}, "edited": false, "score": 0, "creation_date": 1544457736, "post_id": 51140508, "comment_id": 94273124, "body": "But if I have lots of records in my table the &quot;EXISTS&quot; query would be a lot more efficient than fetching everything."}], "tags": [], "owner": {"reputation": 11886, "user_id": 446461, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9HaOK.jpg?s=128&g=1", "display_name": "mreichelt", "link": "https://stackoverflow.com/users/446461/mreichelt"}, "is_accepted": true, "score": 5, "last_activity_date": 1530549909, "creation_date": 1530549909, "answer_id": 51140508, "question_id": 51139833, "link": "https://stackoverflow.com/questions/51139833/room-how-to-check-whether-row-exists/51140508#51140508", "title": "Room: how to check whether row exists", "body": "<p>As ADM suggested, you might get lucky using <code>COUNT()</code> to count the actual rows in a table.</p>\n\n<p>However, I would recommend just fetching the data anyway - if none exists Room will simply return an empty list, and this should not be less efficient than asking for the row count (if it's <code>0</code> anyway).</p>\n\n<p>As a plus you will have less code to write to get the functionality you want! :-)</p>\n"}, {"comments": [{"owner": {"reputation": 825, "user_id": 7906057, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100004916147744/picture?type=large", "display_name": "Mark Delphi", "link": "https://stackoverflow.com/users/7906057/mark-delphi"}, "edited": false, "score": 0, "creation_date": 1615204982, "post_id": 62470897, "comment_id": 117610559, "body": "Could you please provide more details how to use this solution?"}], "tags": [], "owner": {"reputation": 490, "user_id": 5456841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3835ec65f0e566ab91b3fb525b899e?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Pestryakov", "link": "https://stackoverflow.com/users/5456841/maxim-pestryakov"}, "is_accepted": false, "score": 6, "last_activity_date": 1592571654, "creation_date": 1592571654, "answer_id": 62470897, "question_id": 51139833, "link": "https://stackoverflow.com/questions/51139833/room-how-to-check-whether-row-exists/62470897#62470897", "title": "Room: how to check whether row exists", "body": "<p>You can use <code>EXISTS</code> operator and return just <code>Boolean</code>:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Query(\"SELECT EXISTS(SELECT * FROM table)\")\nfun hasItem(): Boolean\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 3475053, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000008871495/picture?type=large", "display_name": "raisahab", "link": "https://stackoverflow.com/users/3475053/raisahab"}, "edited": false, "score": 1, "creation_date": 1597812327, "post_id": 62806914, "comment_id": 112252066, "body": "Looks like you have posted the correct answer, but didn&#39;t get enough up votes."}], "tags": [], "owner": {"reputation": 595, "user_id": 10238560, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VOL1xcjzZRg/AAAAAAAAAAI/AAAAAAAAB8w/REpJW-DVcAk/photo.jpg?sz=128", "display_name": "Tarif Chakder", "link": "https://stackoverflow.com/users/10238560/tarif-chakder"}, "is_accepted": false, "score": 40, "last_activity_date": 1599714023, "last_edit_date": 1599714023, "creation_date": 1594265222, "answer_id": 62806914, "question_id": 51139833, "link": "https://stackoverflow.com/questions/51139833/room-how-to-check-whether-row-exists/62806914#62806914", "title": "Room: how to check whether row exists", "body": "<p>Use EXISTS , and return true false</p>\n<p>if you want to check some specific row and some condition , do this trick</p>\n<pre><code>@Query(&quot;SELECT EXISTS(SELECT * FROM tableName WHERE id = :id)&quot;)\nfun isRowIsExist(id : Int) : Boolean\n</code></pre>\n<p>or simple use this</p>\n<pre><code>   @Query(&quot;SELECT EXISTS(SELECT * FROM tableName)&quot;)\n   fun isExists(): Boolean\n</code></pre>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13927, "favorite_count": 1, "accepted_answer_id": 51140508, "answer_count": 3, "score": 13, "last_activity_date": 1599714023, "creation_date": 1530546839, "question_id": 51139833, "link": "https://stackoverflow.com/questions/51139833/room-how-to-check-whether-row-exists", "title": "Room: how to check whether row exists", "body": "<p>In my repository class, I want to fetch data only if none exists in a Room table. How to check whether any row exists in a table?</p>\n"}, {"tags": ["java", "android", "sqlite", "kotlin", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 1157, "user_id": 7894911, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zE7ZYx-bfsw/AAAAAAAAAAI/AAAAAAAAIas/HMikXw-ONKc/photo.jpg?sz=128", "display_name": "Yaswant Narayan", "link": "https://stackoverflow.com/users/7894911/yaswant-narayan"}, "is_accepted": false, "score": 1, "last_activity_date": 1530588556, "creation_date": 1530588556, "answer_id": 51146277, "question_id": 51139803, "link": "https://stackoverflow.com/questions/51139803/nested-relation-of-the-same-type/51146277#51146277", "title": "Nested relation of the same type", "body": "<p>According to <a href=\"https://medium.com/@toddcookevt/android-room-storing-lists-of-objects-766cca57e3f9\" rel=\"nofollow noreferrer\">this</a> Medium blog post you can use type converter to convert list to string and vice versa.</p>\n\n<pre><code>class HumanTypeConverters {\n\n    private var gson = Gson()\n\n    @TypeConverter\n    fun stringToHumanObjectList(data: String?): List&lt;Human&gt; {\n        if (data == null) {\n            return Collections.emptyList()\n        }\n        return gson.fromJson(data, object : TypeToken&lt;List&lt;Human&gt;&gt;() {}.type)\n    }\n\n    @TypeConverter\n    fun humanObjectListToString(humanObjects: List&lt;Human&gt;): String = gson.toJson(humanObjects)\n}\n</code></pre>\n\n<p>and add this annotation as follows</p>\n\n<pre><code>@Database(entities = [Human::class], version = 1)\n@TypeConverters(HumanTypeConverters::class)\nabstract class HumanDatabase : RoomDatabase() {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 6454, "user_id": 798165, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NvOUf.png?s=128&g=1", "display_name": "eleven", "link": "https://stackoverflow.com/users/798165/eleven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530588556, "creation_date": 1530546734, "last_edit_date": 1530547069, "question_id": 51139803, "link": "https://stackoverflow.com/questions/51139803/nested-relation-of-the-same-type", "title": "Nested relation of the same type", "body": "<p>According to <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Relation\" rel=\"nofollow noreferrer\">the documentation</a> relations could be referenced to Pojo classes only. How to define nested dependency of the same type?</p>\n\n<pre><code>@Entity(tableName = \"humans\")\ndata class Human {\n\n   @Relation\n   val children:List&lt;Human&gt;\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "layout-inflater", "android-inflate", "kotlin-extension"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530546510, "post_id": 51139547, "comment_id": 89263537, "body": "check <code>attachToRoot</code> and set it to <code>false</code> in <code>inflater?.inflate(R.layout.another_view, null, false)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 6042970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b82c1825b458d11230dbb73de32ee08d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeylani Osman", "link": "https://stackoverflow.com/users/6042970/jeylani-osman"}, "edited": false, "score": 0, "creation_date": 1530546279, "post_id": 51139653, "comment_id": 89263403, "body": "It shows another error &quot;Cannot add a null child view to a ViewGroup&quot;"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 199, "user_id": 6042970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b82c1825b458d11230dbb73de32ee08d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeylani Osman", "link": "https://stackoverflow.com/users/6042970/jeylani-osman"}, "edited": false, "score": 0, "creation_date": 1530546549, "post_id": 51139653, "comment_id": 89263554, "body": "If this above is all your code, that&#39;s because you didn&#39;t initialize <code>inflater</code> yet. You can do so with <code>inflater = LayoutInflater.from(this)</code>, for example, since you&#39;re in an <code>Activity</code>."}, {"owner": {"reputation": 1911, "user_id": 5635880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNMO0.jpg?s=128&g=1", "display_name": "Brian Yencho", "link": "https://stackoverflow.com/users/5635880/brian-yencho"}, "edited": false, "score": 0, "creation_date": 1530633490, "post_id": 51139653, "comment_id": 89300824, "body": "Even better, you can just use the property <code>layoutInflater</code> (from the Activity&#39;s java getLayoutInflater). That will be non-null."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1530546150, "creation_date": 1530546150, "answer_id": 51139653, "question_id": 51139547, "link": "https://stackoverflow.com/questions/51139547/kotlin-the-specified-child-already-has-a-parent-you-must-call-removeview-on/51139653#51139653", "title": "Kotlin : The specified child already has a parent. You must call removeView() on the child&#39;s parent first", "body": "<p>You're trying to add the <code>LinearLayout</code> with the ID <code>root_layout</code> as its own child here:</p>\n\n<pre><code>layout.addView(layout)\n</code></pre>\n\n<p>Perhaps you meant to add your newly inflated <code>View</code> as its child?</p>\n\n<pre><code>layout.addView(view)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1911, "user_id": 5635880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNMO0.jpg?s=128&g=1", "display_name": "Brian Yencho", "link": "https://stackoverflow.com/users/5635880/brian-yencho"}, "is_accepted": false, "score": 0, "last_activity_date": 1530633633, "creation_date": 1530633633, "answer_id": 51158827, "question_id": 51139547, "link": "https://stackoverflow.com/questions/51139547/kotlin-the-specified-child-already-has-a-parent-you-must-call-removeview-on/51158827#51158827", "title": "Kotlin : The specified child already has a parent. You must call removeView() on the child&#39;s parent first", "body": "<p>Your entire code block should just be</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(activity_main)\n    val root = findViewById&lt;LinearLayout&gt;(R.id.root_layout)\n    val view = layoutInflater.inflate(R.layout.another_view, root, false)\n    root.addView(view)\n}\n</code></pre>\n\n<p>That being said, it's not clear why you don't just include your <code>R.layout.another_view</code> directly in your main layout.</p>\n"}], "owner": {"reputation": 199, "user_id": 6042970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b82c1825b458d11230dbb73de32ee08d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeylani Osman", "link": "https://stackoverflow.com/users/6042970/jeylani-osman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 0, "accepted_answer_id": 51139653, "answer_count": 2, "score": 0, "last_activity_date": 1530633633, "creation_date": 1530545787, "last_edit_date": 1530633359, "question_id": 51139547, "link": "https://stackoverflow.com/questions/51139547/kotlin-the-specified-child-already-has-a-parent-you-must-call-removeview-on", "title": "Kotlin : The specified child already has a parent. You must call removeView() on the child&#39;s parent first", "body": "<p><strong>Can anyone tell me what is the problem. This is the code:</strong></p>\n\n<pre><code>package com.mohdjey.user.inflate\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.strictmode.WebViewMethodCalledOnWrongThreadViolation\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.widget.ImageView\nimport android.widget.LinearLayout\nimport android.widget.TextView\nimport com.mohdjey.user.inflate.R.id.root_layout\nimport com.mohdjey.user.inflate.R.layout.activity_main\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.activity_main.view.*\n\n class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(activity_main)\n\n    var inflater: LayoutInflater? = null\n    var view: View? = null\n\n\n //   inflater.inflate(R.layout.child_layout_to_merge, parent_layout, true);\n    view = inflater?.inflate(R.layout.another_view , null)\n\n    val layout = findViewById&lt;LinearLayout&gt;(R.id.root_layout)\n\n    layout.addView(layout)\n\n\n} }\n</code></pre>\n\n<p><strong>I am practicing layout inflate.</strong></p>\n\n<p>I don't Know what to write.</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "mvp"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1530545563, "creation_date": 1530545563, "answer_id": 51139491, "question_id": 51139412, "link": "https://stackoverflow.com/questions/51139412/warp-mvp-presenter-inside-viewmodel-in-android/51139491#51139491", "title": "warp MVP presenter inside viewmodel in android?", "body": "<p>You can, of course, have a presenter that lives inside a <code>ViewModel</code> to survive configuration changes, and live for the same time as the <code>Activity</code> or <code>Fragment</code> does. </p>\n\n<p>You could also make your presenter itself the <code>ViewModel</code> subclass, or even use <code>MVVM</code> with the view component observing <code>LiveData</code> from the <code>ViewModel</code>, to be automatically safe with lifecycle handling at that point (as seen being pushed by Google recently).</p>\n"}, {"tags": [], "owner": {"reputation": 1783, "user_id": 1824773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6c41a8bdb6ca4da2cc7133dc71be66?s=128&d=identicon&r=PG", "display_name": "C B J", "link": "https://stackoverflow.com/users/1824773/c-b-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1530942739, "creation_date": 1530942739, "answer_id": 51220349, "question_id": 51139412, "link": "https://stackoverflow.com/questions/51139412/warp-mvp-presenter-inside-viewmodel-in-android/51220349#51220349", "title": "warp MVP presenter inside viewmodel in android?", "body": "<p>Actually, MVP MVVM and MVC are all just design patterns.\nNone of them inherently solve problems imposed by a particular platform.\nThey aim to provide a mechanism for developers to organize the structure of code into logical roles under the segregation of responsibility principle (see <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID software engineering</a>).</p>\n\n<p>The problem of state preservation in relation to configuration changes in Android Activities (Rotation is just one of these) is present as a feature of the Android operating system. \nGoogle has built-in one solution to their Architectural components, which I presume you are referring to as <code>ViewModel</code> but that doesn't mean MVVM as a pattern supports it directly.</p>\n\n<p>As mentioned by @zsmb13 , you can fairly cleanly use the viewmodel as a presenter.</p>\n\n<p>As far as state preservation goes though, I have another approach here: <a href=\"https://github.com/cjsoftware-lib/ucsFramework\" rel=\"nofollow noreferrer\">ucs Framework</a> and a little article about one of the approaches here: <a href=\"https://notesofapragmaticprogrammer.wordpress.com/2017/04/06/building-a-simple-mvp-android-app-from-the-ground-up/\" rel=\"nofollow noreferrer\">A Simple MVP approach for Android</a> - The Simple MVP approach is now deprecated in favor of the ucs framework which in addition to state preservation also manages threading.</p>\n"}], "owner": {"reputation": 11, "user_id": 10022364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v1r3U.png?s=128&g=1", "display_name": "Mahmoud Assaf", "link": "https://stackoverflow.com/users/10022364/mahmoud-assaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 832, "favorite_count": 1, "accepted_answer_id": 51139491, "answer_count": 2, "score": 0, "last_activity_date": 1530942739, "creation_date": 1530545241, "question_id": 51139412, "link": "https://stackoverflow.com/questions/51139412/warp-mvp-presenter-inside-viewmodel-in-android", "title": "warp MVP presenter inside viewmodel in android?", "body": "<p>one of mvp presenter pattern disadvantages is handling activity state or orientation change , while viewmodel survive orientation changes , so can i wrap presenter inside a viewmodel and still using MVP ?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-context", "android-styles"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530546652, "post_id": 51139158, "comment_id": 89263609, "body": "You cannot have <code>constructors</code> as extensions for any class as of yet in kotlin check this answer <a href=\"https://stackoverflow.com/questions/46582809/is-it-possible-to-create-extension-constructors-in-kotlin\" title=\"is it possible to create extension constructors in kotlin\">stackoverflow.com/questions/46582809/&hellip;</a>"}, {"owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530614266, "post_id": 51139158, "comment_id": 89288277, "body": "No this is not about any Kotlin language feature. The question would work just as well with Java or any other language. The question is about the Android platform, and how I can make a <code>Context</code> which uses a style plus programmatic overrides."}], "owner": {"reputation": 25134, "user_id": 477476, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Qf4TT.png?s=128&g=1", "display_name": "Cactus", "link": "https://stackoverflow.com/users/477476/cactus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530614418, "creation_date": 1530544193, "last_edit_date": 1530614418, "question_id": 51139158, "link": "https://stackoverflow.com/questions/51139158/context-with-programmatically-overridden-settings", "title": "Context with programmatically overridden settings", "body": "<p>I'd like to create a bunch of <code>View</code>s with a context that is based on some style, but also some dynamically calculated overrides. I'd like to create a <code>Context</code> that encapsulates all that, so that I can pass that to various different <code>View</code> constructors.</p>\n\n<p>To make my question more complete, without the dynamic part, I'd be using a <code>ContextThemeWrapper</code> like this:</p>\n\n<pre><code>// in my onCreate\nContext styling = new ContextThemeWrapper(this, R.style.TextBase_OutputText);\nView v1 = TextView(styling);\nView v2 = Button(styling);\n// and so on\n</code></pre>\n\n<p>But I'd instead like to do this:</p>\n\n<pre><code>// in onCreate\nContext styling = new ContextWrapperThatImLookingFor(new ContextThemeWrapper(this, R.style.TextBase_OutputText));\nstyling.addOverride(textColor, computeForegroundColorDynamically()); // ???\nView v1 = TextView(styling);\n// and so on\n</code></pre>\n\n<p>How do I achieve this?</p>\n\n<p>(<strong>note</strong> that this question is about the Android platform, not about any Kotlin or Java language feature as a commenter suggested -- <code>ContextWrapperThatImLookingFor</code> would be a simple subclass of <code>Context</code> that I can add overrides to that are then applied to <code>View</code>s created subsequently with that context)</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "is_accepted": false, "score": 4, "last_activity_date": 1559645062, "last_edit_date": 1559645062, "creation_date": 1530544184, "answer_id": 51139154, "question_id": 51139153, "link": "https://stackoverflow.com/questions/51139153/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-mytask/51139154#51139154", "title": "Kotlin plugin error: Could not generate a proxy class for class MyTask", "body": "<p>When I run <code>./gradlew build --stacktrace</code> I got the cause</p>\n\n<pre><code>Caused by: java.lang.VerifyError: Cannot inherit from final class ....\n</code></pre>\n\n<p>As classes in kotlin are final by default, the solution was easy, just change my task declaration to:</p>\n\n<pre><code>open class MyTask : DefaultTask()\n</code></pre>\n"}], "owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1559645062, "creation_date": 1530544184, "last_edit_date": 1530564641, "question_id": 51139153, "link": "https://stackoverflow.com/questions/51139153/kotlin-plugin-error-could-not-generate-a-proxy-class-for-class-mytask", "title": "Kotlin plugin error: Could not generate a proxy class for class MyTask", "body": "<p>I have created Gradle plugin written in Kotlin but after I had included it into my project I faced following error:</p>\n\n<pre><code>Failed to apply plugin [id 'my-plugin']\n    Could not generate a proxy class for class MyTask\n</code></pre>\n\n<p>This is code of my plugin, I was using custom gradle task</p>\n\n<pre><code>class MyPlugin : Plugin&lt;Project&gt; {\n\n  override fun apply(project: Project) {\n    with(project.tasks) {\n        create(\"uploadTask\", MyTask::class.java)\n    }\n  }\n}\n\nclass MyTask : DefaultTask() {\n\n  @TaskAction\n  fun run() {\n      println(\"Running ...\")\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rx-binding"], "comments": [{"owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "edited": false, "score": 0, "creation_date": 1530578616, "post_id": 51138864, "comment_id": 89274769, "body": "I tried your code and it gives me a string object in onNext"}, {"owner": {"reputation": 347, "user_id": 5736917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/658d0e62284d33de05d9812c56ffb4b2?s=128&d=identicon&r=PG&f=1", "display_name": "gryzek", "link": "https://stackoverflow.com/users/5736917/gryzek"}, "reply_to_user": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "edited": false, "score": 0, "creation_date": 1530608448, "post_id": 51138864, "comment_id": 89284544, "body": "@tompee Do you have any idea how to extract proper input String in .subscribe{} function?"}, {"owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "edited": false, "score": 0, "creation_date": 1530610239, "post_id": 51138864, "comment_id": 89285606, "body": "Check my answer"}, {"owner": {"reputation": 347, "user_id": 5736917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/658d0e62284d33de05d9812c56ffb4b2?s=128&d=identicon&r=PG&f=1", "display_name": "gryzek", "link": "https://stackoverflow.com/users/5736917/gryzek"}, "reply_to_user": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "edited": false, "score": 0, "creation_date": 1530611512, "post_id": 51138864, "comment_id": 89286448, "body": "I resolved it by changing: map {CharSequence::toString} to map {it.toString()}"}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 5736917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/658d0e62284d33de05d9812c56ffb4b2?s=128&d=identicon&r=PG&f=1", "display_name": "gryzek", "link": "https://stackoverflow.com/users/5736917/gryzek"}, "edited": false, "score": 0, "creation_date": 1530613252, "post_id": 51151130, "comment_id": 89287608, "body": "I didn&#39;t recognize that there is a bracket and brace. When I rewrite it form Java to Kotlin I didn&#39;t see that it refactor to brace. Your answer is also correct, thanks!"}], "tags": [], "owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "is_accepted": true, "score": 1, "last_activity_date": 1530610291, "creation_date": 1530610291, "answer_id": 51151130, "question_id": 51138864, "link": "https://stackoverflow.com/questions/51138864/rxtextview-in-kotlin-cannot-extract-string-from-kfunction1/51151130#51151130", "title": "RxTextView in Kotlin cannot extract String from KFunction1", "body": "<p>Change </p>\n\n<pre><code>map {CharSequence::toString}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>map (CharSequence::toString)\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 5736917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/658d0e62284d33de05d9812c56ffb4b2?s=128&d=identicon&r=PG&f=1", "display_name": "gryzek", "link": "https://stackoverflow.com/users/5736917/gryzek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 51151130, "answer_count": 1, "score": 1, "last_activity_date": 1530611598, "creation_date": 1530543110, "last_edit_date": 1530611598, "question_id": 51138864, "link": "https://stackoverflow.com/questions/51138864/rxtextview-in-kotlin-cannot-extract-string-from-kfunction1", "title": "RxTextView in Kotlin cannot extract String from KFunction1", "body": "<p>In Java I use RxTextView and call .subscribe() in Fragment to invoke and transmit String as a parameter to a method in Presenter.\nEverything works fine.</p>\n\n<p>Java:</p>\n\n<pre><code>        compositeDisposable.add(\n                RxTextView.textChanges(searchEditText)\n                        .map(CharSequence::toString)\n                        .debounce(500, TimeUnit.MILLISECONDS)\n                        .distinctUntilChanged()\n                        .observeOn(AndroidSchedulers.mainThread())\n                        .subscribeOn(Schedulers.computation())\n                        .subscribe(query -&gt; {\n                            presenter.setQueryFilter(query); // query parameter: String\n                        })\n        );\n</code></pre>\n\n<p>I get confused with RxTextView in Kotlin because in function .subscribe( ... ) value parameter is a generic variance instead of a String only as in Java is.</p>\n\n<p><strong>Kotlin:</strong></p>\n\n<pre><code>    compositeDisposable.add(\n            RxTextView.textChanges(activity.findViewById(R.id.searchEditText))\n                    .map {CharSequence::toString}\n                    .debounce(500, TimeUnit.MILLISECONDS)\n                    .distinctUntilChanged()\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeOn(Schedulers.computation())\n                    .subscribe { query -&gt;\n                        getPresenter().setQueryFilter(query.toString()) //query parameter: KFunction1&lt;CharSequence,String&gt;! \n                        //query.toString gives a such result: fun kotlin.Any.toString(): kotlin.String\n                    }\n    )\n</code></pre>\n\n<p><strong>How could I get a proper string value from EditText and connect this with .subscibre() like in Java?</strong></p>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>I replaced .map{CharSequence::toString} with: .map{<strong>it.toString()</strong>}</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 3805, "user_id": 4165552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18b32c5e142791fca01cbf252f663ac?s=128&d=identicon&r=PG&f=1", "display_name": "pptaszni", "link": "https://stackoverflow.com/users/4165552/pptaszni"}, "edited": false, "score": 0, "creation_date": 1530543132, "post_id": 51138532, "comment_id": 89261702, "body": "<code>override fun onBindViewHolder</code>? You mean <code>@Override public void onBindViewHolder</code>, right?"}, {"owner": {"reputation": 771, "user_id": 3060971, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/54aa144940ec243410e4f35d2c7dbb07?s=128&d=identicon&r=PG", "display_name": "mlumeau", "link": "https://stackoverflow.com/users/3060971/mlumeau"}, "edited": false, "score": 0, "creation_date": 1530544270, "post_id": 51138532, "comment_id": 89262346, "body": "it&#39;s kotlin, mate"}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530547237, "post_id": 51138532, "comment_id": 89263891, "body": "<code>onBindViewHolder</code> is called every time when the view is going to be displayed by <code>layoutManager</code> <code>onCreateViewHolder</code> is called once so adapt the code that the view&#39;s initialisation is within the view class and not in the <code>adapter</code> you can have callbacks or interfaces within the adapter and view to facilitate that. Also if it&#39;s just the item at <code>position</code> being changed why not use <code>notifyItemChanged</code> instead?"}], "answers": [{"tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": false, "score": 0, "last_activity_date": 1530613539, "creation_date": 1530613539, "answer_id": 51152244, "question_id": 51138532, "link": "https://stackoverflow.com/questions/51138532/recycler-view-android/51152244#51152244", "title": "Recycler view android", "body": "<p>You are doing it, actually, totally wrong. Here's an <a href=\"https://medium.com/androidsolutions/recyclerview-adapters-4d39a24da3c0\" rel=\"nofollow noreferrer\">article</a> how to handle RecyclerView.</p>\n\n<p>Basically, you don't handle any ui/data inside <code>onBindViewHolder</code>, it's dedicated to pass data to your actual class, which extends from <code>RecyclerView.ViewHolder</code> and overrides <code>bind</code> method. See the article for more details.</p>\n"}], "owner": {"reputation": 611, "user_id": 9588088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-J01qf88RA9w/AAAAAAAAAAI/AAAAAAAAABg/S-_mSAsHn4c/photo.jpg?sz=128", "display_name": "David whyte", "link": "https://stackoverflow.com/users/9588088/david-whyte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530613539, "creation_date": 1530541926, "last_edit_date": 1530543031, "question_id": 51138532, "link": "https://stackoverflow.com/questions/51138532/recycler-view-android", "title": "Recycler view android", "body": "<p>Whenever a change a value in the onbind function of my adapter, a new item is added</p>\n\n<pre><code>override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.postItemTitle.text= items[position].title\n    var post:Post=items[position]\n    val user_id=1\n    var user_liked=post.users_liked\n    if(user_liked.contains(user_id)){\n        post.liked=true\n    }\n    if(post.liked){\n        holder.postLikeBtn.setImageDrawable(context.resources.getDrawable(R.drawable.likered))\n        holder.postLikes.text=(post.likes).toString()\n    }\n    else{\n        holder.postLikes.text=(post.likes).toString()\n    }\n    holder.postLikeBtn.setOnClickListener {\n        if(post.liked){\n            //change color of like btn\n//                holder.postLikeBtn.setImageDrawable(context.resources.getDrawable(R.drawable.likebtn))\n                //set post as unliked\n                post.liked=false\n                //remove user from list of users that liked post\n                user_liked.remove(user_id)\n                //update the database\n                var likes=post.likes--\n                holder.postLikes.text=(likes).toString()\n                val ref= FirebaseDatabase.getInstance().getReference(\"post\")\n                ref.child(post.key).setValue(post)\n            }\n            else{\n                //update post that u liked\n                post.liked=true\n                user_liked.add(user_id)\n                //make button red\n                holder.postLikeBtn.setImageDrawable(context.resources.getDrawable(R.drawable.likered))\n                //increase no of likes\n                var likes=post.likes++\n                holder.postLikes.text=(likes).toString()\n                items[position]=post\n                //update database\n\n            val ref= FirebaseDatabase.getInstance().getReference(\"post\")\n            ref.child(post.key).setValue(post)\n        }\n        items[position]=post\n        this.notifyDataSetChanged()\n    }\n}\n</code></pre>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "is_accepted": false, "score": 0, "last_activity_date": 1568386898, "last_edit_date": 1568386898, "creation_date": 1530540570, "answer_id": 51138123, "question_id": 51138122, "link": "https://stackoverflow.com/questions/51138122/how-to-check-whether-a-type-is-an-enum-in-kotlin/51138123#51138123", "title": "How to check whether a type is an enum in Kotlin?", "body": "<p>The following seems to work for JVM, relying on the qualified type name.    </p>\n\n<pre><code>fun isEnum( type: Kclass&lt;out Any&gt; ): Boolean\n{\n    return type.supertypes.any { t -&gt;\n        (t.classifier as KClass&lt;out Any&gt;).qualifiedName == \"kotlin.Enum\" }\n}\n</code></pre>\n\n<p>However, this does not work for JS since <code>KClass::supertypes</code> is not available for that runtime.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1530561291, "last_edit_date": 1530561291, "creation_date": 1530544426, "answer_id": 51139208, "question_id": 51138122, "link": "https://stackoverflow.com/questions/51138122/how-to-check-whether-a-type-is-an-enum-in-kotlin/51139208#51139208", "title": "How to check whether a type is an enum in Kotlin?", "body": "<p>Also a JVM-only solution, but a shorter one, using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/is-subclass-of.html\" rel=\"nofollow noreferrer\"><code>isSubClassOf</code></a>:</p>\n\n<pre><code>fun isEnum(type: KClass&lt;out Any&gt;) = type.isSubclassOf(Enum::class)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "is_accepted": false, "score": 1, "last_activity_date": 1533934443, "creation_date": 1533934443, "answer_id": 51793930, "question_id": 51138122, "link": "https://stackoverflow.com/questions/51138122/how-to-check-whether-a-type-is-an-enum-in-kotlin/51793930#51793930", "title": "How to check whether a type is an enum in Kotlin?", "body": "<p><strong>JVM specific</strong></p>\n\n<p>None of the solutions here where working for me (I had a <code>KType</code>) so I came up with another approach. Here is a solution for converting the <code>KClass</code> to a <code>KType</code> and then checking if the <code>KType</code> is an enum. </p>\n\n<pre><code>fun isEnum(kClass: KClass&lt;out Any&gt; ): Boolean {\n    val kType :KType = kClass::class.createType()\n    return (kType.javaType  as Class&lt;*&gt;).isEnum\n}\n</code></pre>\n"}], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3090, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1568386898, "creation_date": 1530540570, "question_id": 51138122, "link": "https://stackoverflow.com/questions/51138122/how-to-check-whether-a-type-is-an-enum-in-kotlin", "title": "How to check whether a type is an enum in Kotlin?", "body": "<p>At runtime, I am trying to verify whether a particular <code>KClass&lt;out Any&gt;</code> is an enum type or not.</p>\n\n<p>What is the best way to do so? Can this be done without relying on a particular runtime (e.g., JVM or JS)?</p>\n\n<pre><code>fun isEnum( type: KClass&lt;out Any&gt; ): Boolean\n{\n    ... ?\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "text", "kotlin", "textview"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530539357, "post_id": 51137596, "comment_id": 89259423, "body": "If the text is not mutable i.e. if it doesn&#39;t change try using an ImageView with the said image. If not you need to write a custom textview where you can divide one textview into individual textviews and apply background to them"}, {"owner": {"reputation": 424, "user_id": 5084056, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2EZ9HGZvMDU/AAAAAAAAAAI/AAAAAAAAA9k/znRbVRIEI0E/photo.jpg?sz=128", "display_name": "Arvind", "link": "https://stackoverflow.com/users/5084056/arvind"}, "edited": false, "score": 0, "creation_date": 1530539366, "post_id": 51137596, "comment_id": 89259429, "body": "Try this solution. <a href=\"https://stackoverflow.com/questions/39106454/add-opaque-shadow-outline-to-android-textview\" title=\"add opaque shadow outline to android textview\">stackoverflow.com/questions/39106454/&hellip;</a>"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530539591, "post_id": 51137596, "comment_id": 89259598, "body": "@HawkPriest Unfortunately , this text is mutable , it changes everytime."}, {"owner": {"reputation": 1889, "user_id": 3110587, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Nj1VW.jpg?s=128&g=1", "display_name": "ImMathan", "link": "https://stackoverflow.com/users/3110587/immathan"}, "edited": false, "score": 0, "creation_date": 1530540233, "post_id": 51137596, "comment_id": 89260009, "body": "@Manu13k Are you trying to achieve the stroke property of a text?"}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 1889, "user_id": 3110587, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Nj1VW.jpg?s=128&g=1", "display_name": "ImMathan", "link": "https://stackoverflow.com/users/3110587/immathan"}, "edited": false, "score": 0, "creation_date": 1530540393, "post_id": 51137596, "comment_id": 89260106, "body": "@ImMathan Yes but in a different color , like I said I would like a yellow stroke behid my purple text"}], "answers": [{"comments": [{"owner": {"reputation": 1889, "user_id": 3110587, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Nj1VW.jpg?s=128&g=1", "display_name": "ImMathan", "link": "https://stackoverflow.com/users/3110587/immathan"}, "edited": false, "score": 0, "creation_date": 1530541080, "post_id": 51138040, "comment_id": 89260483, "body": "No seems not a best practice. You extend a Custom Textview and apply <code>stroke</code> and <code>fill</code> color on the same canvas."}, {"owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "reply_to_user": {"reputation": 1889, "user_id": 3110587, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Nj1VW.jpg?s=128&g=1", "display_name": "ImMathan", "link": "https://stackoverflow.com/users/3110587/immathan"}, "edited": false, "score": 0, "creation_date": 1530543073, "post_id": 51138040, "comment_id": 89261665, "body": "That will be applied on each element or only the entire word ? @ImMathan"}, {"owner": {"reputation": 1889, "user_id": 3110587, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Nj1VW.jpg?s=128&g=1", "display_name": "ImMathan", "link": "https://stackoverflow.com/users/3110587/immathan"}, "edited": false, "score": 0, "creation_date": 1530601224, "post_id": 51138040, "comment_id": 89280690, "body": "You can apply to each letter."}], "tags": [], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "is_accepted": false, "score": 1, "last_activity_date": 1530552259, "last_edit_date": 1530552259, "creation_date": 1530540281, "answer_id": 51138040, "question_id": 51137596, "link": "https://stackoverflow.com/questions/51137596/android-border-around-each-letter-on-a-textview/51138040#51138040", "title": "Android border around each letter on a textview", "body": "<p>I \"solved\" it by adding another Textview at the same position in yellow color and with stroke like this : </p>\n\n<pre><code>TextView textViewShadow = (TextView) findViewById(R.id.textViewShadowId);\n    textViewShadow.getPaint().setStrokeWidth(5);\n    textViewShadow.getPaint().setStyle(Paint.Style.STROKE);\n</code></pre>\n\n<p>What do you think ? It is bad for the application ?</p>\n\n<p>EDIT :  I Created a custom Textview , now it works you can see the answer here : <a href=\"https://stackoverflow.com/questions/3182393/android-textview-outline-text?answertab=votes#tab-top\">Android textview outline text</a></p>\n"}], "owner": {"reputation": 286, "user_id": 9687392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/922e626a3dded744b3cd21c60279adcc?s=128&d=identicon&r=PG&f=1", "display_name": "Manu13k", "link": "https://stackoverflow.com/users/9687392/manu13k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530552259, "creation_date": 1530538849, "last_edit_date": 1530539236, "question_id": 51137596, "link": "https://stackoverflow.com/questions/51137596/android-border-around-each-letter-on-a-textview", "title": "Android border around each letter on a textview", "body": "<p>I would like to add a border independently around each letter of my <code>Textview</code> like this example : </p>\n\n<p><a href=\"https://i.stack.imgur.com/Wnu6k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wnu6k.png\" alt=\"enter image description here\"></a></p>\n\n<p>Actually I have a basic <code>TextView</code> in purple , but I would like to add yellow border as you can see on this image.</p>\n\n<p>Here is my actual <code>XML</code> of my <code>Textview</code> which is the same as the picture but WITHOUT yellow border around letters : </p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/Coins\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"9dp\"\n    android:layout_marginStart=\"150dp\"\n    android:layout_marginTop=\"116dp\"\n    android:fontFamily=\"@font/montserratbold\"\n    android:textColor=\"#a51ebf\"\n    android:textSize=\"20dp\"\n    app:layout_constraintBottom_toBottomOf=\"@+id/box\"\n    app:layout_constraintEnd_toEndOf=\"@+id/box\"\n    app:layout_constraintHorizontal_bias=\"0.55\"\n    app:layout_constraintStart_toStartOf=\"@+id/box\"\n    app:layout_constraintTop_toTopOf=\"@+id/box\"\n    app:layout_constraintVertical_bias=\"0.25\" /&gt;\n</code></pre>\n\n<p>I tried many solutions but nothing work especially , let me know if you have something. Thanks !</p>\n"}, {"tags": ["java", "android", "kotlin"], "owner": {"reputation": 145, "user_id": 10021747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91ffe89201fb74784c59bb87d82baeeb?s=128&d=identicon&r=PG&f=1", "display_name": "Karthikeyan", "link": "https://stackoverflow.com/users/10021747/karthikeyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1530592551, "creation_date": 1530537046, "last_edit_date": 1530592551, "question_id": 51137027, "link": "https://stackoverflow.com/questions/51137027/how-to-upload-file-from-my-app-to-google-drive-account-using-kotlinworking-in-8", "title": "How to upload file from my App to google drive account using Kotlin(Working in 8.0)?", "body": "<p>I have a app(when i click the share button export file to send to google drive account ) and i need to <strong>export the file</strong> from my app the file is <strong>txt</strong> format. Then i need to upload the file to <strong>google drive</strong> \naccount using my app.My app developed in <strong>Kotlin</strong> language.</p>\n\n<p>below the code was i tried</p>\n\n<pre><code>val sendIntent = Intent().apply {\n                        action = Intent.ACTION_SEND\n                        putExtra(Intent.EXTRA_TEXT, keyJSON)\n                        setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                        setPackage(\"com.google.android.apps.docs\")\n                        type = \"text/plain\"\n                    }\n                    startActivity(sendIntent)\n                    true\n</code></pre>\n\n<p>this code working perfectly in Android OS 7, and 8.1. It does not working in Android 4.0 to 6.0 versions.Thanks in advance </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 1, "creation_date": 1530537235, "post_id": 51136929, "comment_id": 89258075, "body": "Can you update the code? I think some things have been removed"}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530539551, "post_id": 51136929, "comment_id": 89259564, "body": "What are you trying to achieve with <code>LineBoxAdapter.BaseAdapter</code> is it an ExpandableList or is it a ViewHolder?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530546692, "post_id": 51136929, "comment_id": 89263624, "body": "You probably never actually set the LinearLayoutManager as the layout manager of the RecyclerView."}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1530546920, "post_id": 51136929, "comment_id": 89263723, "body": "@EpicPandaForce LayoutManager set here <code>app:layoutManager=...</code>"}, {"owner": {"reputation": 1073, "user_id": 9949315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae16b9d75e4766c1b4f451084d4fbbd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/9949315/maxim"}, "edited": false, "score": 0, "creation_date": 1530547114, "post_id": 51136929, "comment_id": 89263825, "body": "@Andr&#233; are you using <code>setContentView(R.layout.list)</code> in <code>onCreate()</code>?"}, {"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1530713436, "post_id": 51136929, "comment_id": 89334049, "body": "Did anything work?"}, {"owner": {"reputation": 133, "user_id": 7231131, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/46e8af2046748510c2529c332e36c65a?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/7231131/andr%c3%a9"}, "edited": false, "score": 0, "creation_date": 1530780312, "post_id": 51136929, "comment_id": 89355624, "body": "Hi. I called the function from a rxjava closure, on the background thread. No wonder it didn&#39;t work..."}, {"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1530805485, "post_id": 51136929, "comment_id": 89372300, "body": "What about my answer, did it work?"}], "answers": [{"tags": [], "owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "is_accepted": false, "score": 0, "last_activity_date": 1530563357, "creation_date": 1530563357, "answer_id": 51143333, "question_id": 51136929, "link": "https://stackoverflow.com/questions/51136929/unable-to-update-recyclerview/51143333#51143333", "title": "Unable to update RecyclerView", "body": "<p>You should avoid using existing class names from API.</p>\n\n<p>I will post my working code.</p>\n\n<p>simple_item:</p>\n\n<pre><code>&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/text_simple_item\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>RecyclerAdapter:</p>\n\n<pre><code>class RecyclerAdapter(context: Context, val items: List&lt;Item&gt;) :\n        RecyclerView.Adapter&lt;RecyclerAdapter.MyViewHolder&gt;() {\n\n    override fun getItemCount(): Int = items.size\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        holder.textView.text = items[position].itemName\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int):\n            MyViewHolder {\n        return MyViewHolder(\n                LayoutInflater.from(parent.context).inflate(\n                        R.layout.simple_item,\n                        parent,\n                        false\n                )\n        )\n    }\n\n    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val textView = itemView.findViewById&lt;TextView&gt;(R.id.text_simple_item)\n    }\n}\n</code></pre>\n\n<p>My Activity:</p>\n\n<pre><code>class RecyclerActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_recycler)\n\n        val recyler = findViewById&lt;RecyclerView&gt;(R.id.rv_activity_recycler)\n        val list = mutableListOf(Item(\"Me\"), Item(\"You\"), Item(\"We\"))\n        val adapter = RecyclerAdapter(this, list)\n        recyler.layoutManager = LinearLayoutManager(this)\n        recyler.adapter = adapter\n\n    }\n}\n</code></pre>\n\n<p>My Item:</p>\n\n<pre><code>class Item(val itemName: String)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 7231131, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/46e8af2046748510c2529c332e36c65a?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233;", "link": "https://stackoverflow.com/users/7231131/andr%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530563357, "creation_date": 1530536698, "last_edit_date": 1530536852, "question_id": 51136929, "link": "https://stackoverflow.com/questions/51136929/unable-to-update-recyclerview", "title": "Unable to update RecyclerView", "body": "<p>I'm unable to update my RecyclerView. Tried every solution on stackoverflow but nothing helps. I've tried to add layoutmanager in code, hardcode number of items, made new files, checked if I had duplicate files etc.. I also debugged and confirmed that \"onAttachedToRecyclerView\" is called, but getItemCount and the others i've listed in the adapter are not called except for the constructor</p>\n\n<p>Adapter:</p>\n\n<pre><code>    class BaseAdapter(context: Context, val items: List&lt;Item&gt;) : \n    RecyclerView.Adapter&lt;LineBoxAdapter.BaseAdapter&gt;() {\n\n    override fun getItemCount(): Int = items.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.textView.text = items[position].text\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): \n    ViewHolder {\n        return ViewHolder(\n            LayoutInflater.from(parent.context).inflate(\n                R.layout.simple_item,\n                parent,\n                false\n            )\n        )\n    }\n\n    class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val textView = itemView.findViewById&lt;TextView&gt;(R.id.title)\n    }\n}\n</code></pre>\n\n<p>Function that updates recyclerView:</p>\n\n<pre><code>val listView =\n  LayoutInflater.from(context).inflate(R.layout.list, viewGroup, \n  false)\n  val list = listView.findViewById&lt;RecyclerView&gt;(R.id.\n  LinearLayoutManager(context)\n  val adapter = BaseAdapter(context, items)\n  list.adapter = adapter\n  adapter.notifyDataSetChanged()\n</code></pre>\n\n<p>RECYCLERVIEW:   </p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/items_list\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:orientation=\"horizontal\"\nandroid:overScrollMode=\"never\"\nandroid:requiresFadingEdge=\"horizontal\"\napp:layoutManager=\"android.support.v7.widget.LinearLayoutManager\" /&gt;\n\n\nSIMPLE_ITEM:\n\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"wrap_content\"\nandroid:layout_height=\"wrap_content\"\nandroid:clickable=\"false\"\nandroid:orientation=\"horizontal\"&gt;\n\n&lt;LinearLayout xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/container\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    &gt;\n\n    &lt;TextView\n        android:id=\"@+id/title\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        tools:text=\"25\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["java", "casting", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1530536797, "post_id": 51136866, "comment_id": 89257825, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13154463/how-can-i-check-for-generic-type-in-kotlin\">How can I check for generic type in Kotlin</a>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1530537090, "post_id": 51136866, "comment_id": 89257983, "body": "This is not a duplicate, it&#39;s different because <code>String[]</code> is not a generic type in Java."}], "answers": [{"comments": [{"owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "edited": false, "score": 4, "creation_date": 1530537880, "post_id": 51137252, "comment_id": 89258462, "body": "Nice. I didn&#39;t knew about this <code>isArrayOf</code> function"}, {"owner": {"reputation": 32490, "user_id": 327301, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/wJlLQ.png?s=128&g=1", "display_name": "yankee", "link": "https://stackoverflow.com/users/327301/yankee"}, "edited": false, "score": 0, "creation_date": 1605950377, "post_id": 51137252, "comment_id": 114814112, "body": "As a side note, keep in mind that there are also arrays for basic types such as <code>ByteArray</code> which is not the same as <code>Array&lt;Byte&gt;</code>. For the basic type you can check with e.g. <code>is ByteArray</code>"}, {"owner": {"reputation": 501, "user_id": 4508962, "user_type": "registered", "profile_image": "https://graph.facebook.com/1257600928/picture?type=large", "display_name": "Jerem Lachkar", "link": "https://stackoverflow.com/users/4508962/jerem-lachkar"}, "edited": false, "score": 0, "creation_date": 1609694082, "post_id": 51137252, "comment_id": 115896877, "body": "I wish there were such isArrayOf function in Swift ..."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 23, "last_activity_date": 1565105764, "last_edit_date": 1565105764, "creation_date": 1530537801, "answer_id": 51137252, "question_id": 51136866, "link": "https://stackoverflow.com/questions/51136866/how-can-i-check-for-array-type-not-generic-type-in-kotlin/51137252#51137252", "title": "How can I check for array type (not generic type) in Kotlin", "body": "<p>The correct way to handle this (as of Kotlin 1.2) is to use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/is-array-of.html\" rel=\"noreferrer\"><code>isArrayOf</code></a> function:</p>\n\n<pre><code>fun getData(x: Any): String? {\n    if (x is Array&lt;*&gt; &amp;&amp; x.isArrayOf&lt;String&gt;()) {\n        return x[0] as String\n    }\n    return null\n}\n</code></pre>\n"}], "owner": {"reputation": 608, "user_id": 294736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a12de08c971a5cd0050030aa0f195fcc?s=128&d=identicon&r=PG", "display_name": "Michael P", "link": "https://stackoverflow.com/users/294736/michael-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4079, "favorite_count": 0, "accepted_answer_id": 51137252, "answer_count": 1, "score": 11, "last_activity_date": 1565105764, "creation_date": 1530536470, "last_edit_date": 1530562674, "question_id": 51136866, "link": "https://stackoverflow.com/questions/51136866/how-can-i-check-for-array-type-not-generic-type-in-kotlin", "title": "How can I check for array type (not generic type) in Kotlin", "body": "<p>I have a java code like this:</p>\n\n<pre><code>String getData(Object obj)\n{\n    if (obj instanceof String[])\n    {\n        String[] arr = (String[]) obj;\n        if (arr.length &gt; 0)\n        {\n            return arr[0];\n        }\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>How should I convert this code into Kotlin?\nI have tried automatic Java to Kotlin conversion, and this was the result:</p>\n\n<pre><code>fun getData(obj:Any):String {\n    if (obj is Array&lt;String&gt;)\n    {\n        val arr = obj as Array&lt;String&gt;\n        if (arr.size &gt; 0)\n        {\n            return arr[0]\n        }\n    }\n    return null\n}\n</code></pre>\n\n<p>This is the error I've got from the kotlin compiler:</p>\n\n<blockquote>\n  <p>Can not check for instance of erased type: Array&lt;String&gt;</p>\n</blockquote>\n\n<p>I thought that type erasure applies only for generic types, and not simple, strongly typed Java arrays. How should I properly check for component type of the passed array instance?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This question differs from generic type checking questions, because Java arrays <strong>are not</strong> generic types, and usual Kotlin type checks using the <em>is</em> operator cause compile time error.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530535815, "post_id": 51136508, "comment_id": 89257285, "body": "make sure they are thread safe and the <code>onSuccess</code> callback is on the mainThread to create a dialog, if not wrap it around <code>runOnUi{ createDialog() }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "is_accepted": false, "score": 0, "last_activity_date": 1530535523, "creation_date": 1530535523, "answer_id": 51136567, "question_id": 51136508, "link": "https://stackoverflow.com/questions/51136508/android-kotlin-create-dialog-inside-a-callback-function/51136567#51136567", "title": "Android Kotlin - Create dialog inside a callback function", "body": "<p>Set view to dialog builder:</p>\n\n<pre><code>private fun createDialog() {\n    println(\"createDialog called\")\n    val dialogInflater = LayoutInflater.from(this)\n    val alertDialogView = dialogInflater.inflate(R.layout.dialog_alert, null)\n    val alertDialog = AlertDialog.Builder(this).setView(alertDialogView).create()\n    alertDialog.show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 9734616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SebLr.jpg?s=128&g=1", "display_name": "Brijesh Joshi", "link": "https://stackoverflow.com/users/9734616/brijesh-joshi"}, "is_accepted": true, "score": 1, "last_activity_date": 1530536006, "creation_date": 1530536006, "answer_id": 51136715, "question_id": 51136508, "link": "https://stackoverflow.com/questions/51136508/android-kotlin-create-dialog-inside-a-callback-function/51136715#51136715", "title": "Android Kotlin - Create dialog inside a callback function", "body": "<p>Try this</p>\n\n<pre><code> override fun onSuccess() {\n      println(\"onSuccess called\")\n      runOnUiThread { createDialog() }\n }\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10021470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/boCAG.jpg?s=128&g=1", "display_name": "Jannik", "link": "https://stackoverflow.com/users/10021470/jannik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 892, "favorite_count": 0, "accepted_answer_id": 51136715, "answer_count": 2, "score": 0, "last_activity_date": 1530536165, "creation_date": 1530535289, "last_edit_date": 1530536165, "question_id": 51136508, "link": "https://stackoverflow.com/questions/51136508/android-kotlin-create-dialog-inside-a-callback-function", "title": "Android Kotlin - Create dialog inside a callback function", "body": "<p>I'm trying to create a dialog inside a callback <code>onSuccess()</code> which again is inside the <code>onCreate()</code> method of the activity, but the dialog view doesn't show up.</p>\n\n<p>When I call <code>createDialog()</code> directly inside the <code>onCreate()</code> it works. What could be the reason why it's not working in the <code>onSuccess()</code> callback function? <code>onSuccess()</code> and <code>createDialog()</code> definitely get called because the <code>println</code> show up.</p>\n\n<p>Code:</p>\n\n<pre><code>class BleDevicesControlActivity : AppCompatActivity() {\n\n    private var device: BluetoothDevice? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_ble_devices_control)\n\n        connectToDevice(object : BleCommunication.OnConnectionListener {\n            override fun onSuccess() {\n                    println(\"onSuccess called\")\n                    createDialog()\n            }\n            override fun onFailure() {\n                    println(\"onFailure called\")\n            }\n        })\n    }\n\n    private fun connectToDevice(onConnectionListener : BleCommunication.OnConnectionListener) {\n        bleCommunication.connect(device!!, onConnectionListener)\n    }\n\n    private fun createDialog() {\n        println(\"createDialog called\")\n        val dialogInflater = LayoutInflater.from(this)\n        val alertDialogView = dialogInflater.inflate(R.layout.dialog_alert, null)\n        val alertDialog = AlertDialog.Builder(this).create()\n        alertDialog.setView(alertDialogView)\n        alertDialog.show()\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "rocket.chat", "android-studio-3.2"], "owner": {"reputation": 363, "user_id": 7439259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzX0x.png?s=128&g=1", "display_name": "Roohi Zuwairiyah", "link": "https://stackoverflow.com/users/7439259/roohi-zuwairiyah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1530535710, "creation_date": 1530533456, "last_edit_date": 1530535710, "question_id": 51135940, "link": "https://stackoverflow.com/questions/51135940/difference-between-the-deprecated-java-sdk-and-current-kotlin-sdk-for-using-rock", "title": "difference between the deprecated Java SDK and current Kotlin SDK for using Rocket chat in Android app", "body": "<p>what is the difference between the deprecated Java SDK and current Kotlin SDK for using Rocket chat in Android app?</p>\n\n<p>If we use the Java SDK now, which are the functionalities that are unavailable or has problems?</p>\n\n<p>I want to use it for an android project which is in Java. what problems will I face if I use the DEPRECATED Java SDKs?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1530527852, "post_id": 51134124, "comment_id": 89252707, "body": "From the doc: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-to.html\" rel=\"nofollow noreferrer\"><code>mapTo</code></a>: Applies the given transform function to each element of the original array and appends the results to the given destination. On the other hand <code>map</code>: Returns a list containing the results of applying the given transform function to each element in the original array."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 11, "last_activity_date": 1530528660, "creation_date": 1530528660, "answer_id": 51134466, "question_id": 51134124, "link": "https://stackoverflow.com/questions/51134124/what-is-the-difference-between-map-and-mapto-in-kotlin/51134466#51134466", "title": "What is the difference between map and mapTo in Kotlin", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"noreferrer\"><code>map</code></a> creates a new list internally, and puts its results into that list, then it returns that list:</p>\n\n<pre><code>val mapResult = listOf(1, 2, 3).map { it * 2 } // you get a new list instance returned\n</code></pre>\n\n<hr>\n\n<p>If you use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-to.html\" rel=\"noreferrer\"><code>mapTo</code></a> instead, you can specify the destination where it places the mapped elements, by providing your own list as the first parameter:</p>\n\n<pre><code>val myList = ArrayList&lt;Int&gt;()\nval mapToResult = listOf(1, 2, 3).mapTo(myList) { it * 2 }\n</code></pre>\n\n<p>If the list you're provided already has elements in it, those will be kept, and the new ones will be added to those. It also returns the destination list for convenience.</p>\n"}, {"tags": [], "owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "is_accepted": false, "score": 0, "last_activity_date": 1606974490, "last_edit_date": 1606974490, "creation_date": 1590388028, "answer_id": 61996906, "question_id": 51134124, "link": "https://stackoverflow.com/questions/51134124/what-is-the-difference-between-map-and-mapto-in-kotlin/61996906#61996906", "title": "What is the difference between map and mapTo in Kotlin", "body": "<p><strong>map:</strong>  map can transform your data(List) and can return either complete modified list or List of a variable of model, for ex:</p>\n<p>You have a model:</p>\n<pre><code>data class Student(var id:String, var name:String, var className:String)\n</code></pre>\n<p>Now from arrayOfStudent, we want all the name of students in capital letters, so apply map like this:</p>\n<pre><code>val listOfNamesInCapitalLetters= arrStudent.map {\n            it.name= it.name.toUpperCase()\n        }\nLog.d(&quot;map_test&quot;, &quot;student's name: $listOfNamesInCapitalLetters&quot;)\n</code></pre>\n<p>The output will be:</p>\n<pre><code>[AMIT, VIJAY, SUMIT, KARAN, SMAEER]\n</code></pre>\n<hr />\n<p>Now, what if you want the whole student list, with name in capital letters and className is increased by 1, let's do this:</p>\n<pre><code>val result= arrStudent.map {\n            it.name= it.name.toUpperCase()       // transforming name to upper case\n            it.className=it.className+1          // increasing class by 1\n            it           // &lt;- Note that we return it, because list will be prepared of the object which is returned by last statement of map\n        }\n\nLog.d(&quot;modified_list&quot;, result.toString())\n</code></pre>\n<p>The output will be:</p>\n<pre><code>[Student(id=1, name=AMIT, className=6), Student(id=2, name=VIJAY, className=7), Student(id=3, name=KARAN, className=8), Student(id=4, name=VIRAT, className=9), Student(id=5, name=SAM, className=10)]\n</code></pre>\n<hr />\n<hr />\n<p><strong>mapTo</strong>: If you want to transform your list into a different type of list then use mapTo, for example, we have a different data class named: CompactStudent</p>\n<pre><code>data class CompactStudent(val id:String, val name:String)\n</code></pre>\n<p>Now if we want to convert List to List, note that <code>CompactStudent</code> contains <code>id</code> and <code>name</code> but not the <code>className</code> as compared to <code>Student</code> model, so to do this:</p>\n<pre><code> val arrayList=ArrayList&lt;CompactStudent&gt;()\n\n        arrStudent.mapTo(arrayList){\n            CompactStudent(it.id,it.name)\n        }\nLog.d(&quot;studentCompact&quot;, arrayList.toString())\n</code></pre>\n<p>Output will be:</p>\n<pre><code>[StudentCompct(id=1, name=AMIT), StudentCompct(id=2, name=VIJAY), StudentCompct(id=3, name=KARAN), StudentCompct(id=4, name=VIRAT), StudentCompct(id=5, name=SAM)]\n</code></pre>\n"}], "owner": {"reputation": 1140, "user_id": 1521811, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/givg8.jpg?s=128&g=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/1521811/vivek-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5206, "favorite_count": 1, "accepted_answer_id": 51134466, "answer_count": 2, "score": 1, "last_activity_date": 1606974490, "creation_date": 1530527511, "question_id": 51134124, "link": "https://stackoverflow.com/questions/51134124/what-is-the-difference-between-map-and-mapto-in-kotlin", "title": "What is the difference between map and mapTo in Kotlin", "body": "<p>Trying to understand the difference between map and mapTo in kotlin. Could anyone help me out in explaining the difference using some examples</p>\n"}, {"tags": ["android", "kotlin", "google-maps-markers"], "owner": {"reputation": 39, "user_id": 10001366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cd8w5Sib57U/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0iiO6cDTpQFsfs5u9beQtp6A1x4g/mo/photo.jpg?sz=128", "display_name": "Sampo Kaarenmaa", "link": "https://stackoverflow.com/users/10001366/sampo-kaarenmaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530527330, "creation_date": 1530527330, "question_id": 51134065, "link": "https://stackoverflow.com/questions/51134065/how-to-add-infoboxes-to-markers-whit-kotlin-where-users-can-add-text", "title": "How to add infoboxes to markers whit Kotlin where users can add text?", "body": "<p>I would like to add infoboxes to show above markers on click where users can write text and save it to firebase so other users can view it. How to do this with Kotlin?</p>\n\n<p>Here is my marker code:</p>\n\n<pre><code>override fun onMapReady(googleMap: GoogleMap) {\n    mMap = googleMap\n    // Do other setup activities here too, as described elsewhere in this tutorial.\n\n    // Turn on the My Location layer and the related control on the map.\n    updateLocationUI()\n\n    // Get the current location of the device and set the position of the map.\n    getDeviceLocation()\n\n\n\n\n\n\n\n                //PRESSING WILL ADD MARKER\n                mMap.setOnMapClickListener(GoogleMap.OnMapClickListener { point -&gt;\n                    val builder: AlertDialog.Builder\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                        builder = AlertDialog.Builder(this, android.R.style.Theme_Material_Dialog_Alert)\n                    } else {\n                        builder = AlertDialog.Builder(this)\n                    }\n                    val marker = MarkerOptions().position(point)\n\n\n                    builder.setTitle(\"Are you sure you want to add a map location here?\")\n\n\n                                . setPositiveButton (android.R.string.yes, DialogInterface.OnClickListener { dialog, which -&gt;\n                            mMap.addMarker(marker)\n                                    //CUSTOM MARKER\n                                    .setIcon(BitmapDescriptorFactory.fromResource(R.mipmap.pinetree_foreground))\n\n\n                        })\n\n                        .setNegativeButton(android.R.string.no, DialogInterface.OnClickListener { dialog, which -&gt;\n                            // do nothing\n                        })\n                                .show()\n\n                        true\n\n\n                    }\n</code></pre>\n"}, {"tags": ["kotlin", "junit5"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1530522473, "post_id": 51132479, "comment_id": 89249593, "body": "Having conditionals in a test is a bit of a code smell, and testing two different methods within one test seems especially weird - why not split this up into three tests? You can then parameterise each one as appropriate (e.g. to create multiple cases where method2 throws an exception)."}, {"owner": {"reputation": 1, "user_id": 10020317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iqMhYvIpBpA/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1VmfrEN873pobGin9i5KtZ4V7JIA/mo/photo.jpg?sz=128", "display_name": "yasmin al-zokari", "link": "https://stackoverflow.com/users/10020317/yasmin-al-zokari"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1531034169, "post_id": 51132479, "comment_id": 89438867, "body": "Ok Thank you very much for your answer. How can I vote your answer as the answer? Or how can I vote this as right?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1531035153, "post_id": 51132479, "comment_id": 89439067, "body": "I posted a comment, not an answer, as it doesn&#39;t really answer the question as posed. You need <a href=\"https://stackoverflow.com/help/privileges/vote-up\">15+ rep</a> to upvote a comment."}], "owner": {"reputation": 1, "user_id": 10020317, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iqMhYvIpBpA/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1VmfrEN873pobGin9i5KtZ4V7JIA/mo/photo.jpg?sz=128", "display_name": "yasmin al-zokari", "link": "https://stackoverflow.com/users/10020317/yasmin-al-zokari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530522340, "creation_date": 1530522164, "last_edit_date": 1530522340, "question_id": 51132479, "link": "https://stackoverflow.com/questions/51132479/how-to-apply-conditional-parameters-on-parametrizedtest", "title": "How to apply conditional parameters on @ParametrizedTest?", "body": "<p>How can I assert conditionally according to my parameter index?</p>\n\n<p>An example of what I would like to do is as follows:</p>\n\n<pre><code>@ParametrizedTest\n@CsvSource(\"1, s\",    // this is parameter1  (or index 1)\n          \"2, 4\",    // this is parameter2  (or index 2)\n          \"3, null\"  // this is parameter3  (or index 3)\n          ) \nfun ConditionalParametersTest(id Int, result String){\n\nif (paramater1 || index = 1) {\n x = method1(parameter1)\n assertEqual(x, parameter1.result)\n}\nelse if (parameter2 || index = 2) {\n x = method2(parameter2)\n assertEqual(x, parameter2.result)\n}\nelse if (parameter3 || index = 3) {\n assertThrows&lt;ExceptionType&gt;{\n method2(parameter3)\n }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 6, "last_activity_date": 1530522331, "last_edit_date": 1530522331, "creation_date": 1530522000, "answer_id": 51132438, "question_id": 51132246, "link": "https://stackoverflow.com/questions/51132246/how-to-define-protected-field-with-public-accessor-in-kotlin/51132438#51132438", "title": "How to define protected field with public accessor in Kotlin", "body": "<p>You can set as a public variable and work with the scope of its setter, in this case, set the setter as protected using:</p>\n\n<pre><code> var yourField: Any = /** initial value **/\n    protected set\n</code></pre>\n\n<p>Read more about Visibility modifiers <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 4053, "user_id": 2350799, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/CaaDE.png?s=128&g=1", "display_name": "xcesco", "link": "https://stackoverflow.com/users/2350799/xcesco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 51132438, "answer_count": 1, "score": 2, "last_activity_date": 1530522331, "creation_date": 1530521367, "question_id": 51132246, "link": "https://stackoverflow.com/questions/51132246/how-to-define-protected-field-with-public-accessor-in-kotlin", "title": "How to define protected field with public accessor in Kotlin", "body": "<p>I have the following situation:</p>\n\n<pre><code>data class Person(val name: string=\"\"):Entity { }\n\nopen class Entity() { var id: Long=0 }\n</code></pre>\n\n<p>In this way, <code>id</code> is a public property, and the associated field is private (is not visible in Person class).</p>\n\n<p>I'm working on an annotation processor and the annotation that I've defined works on fields. How can I define the property id as protected field with public accessor? </p>\n"}, {"tags": ["kotlin", "kotlinpoet"], "answers": [{"comments": [{"owner": {"reputation": 1866, "user_id": 4188067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vYovDc3DmOE/AAAAAAAAAAI/AAAAAAAAAA8/j-BVGfbjB_Y/photo.jpg?sz=128", "display_name": "Ellie Zou", "link": "https://stackoverflow.com/users/4188067/ellie-zou"}, "edited": false, "score": 0, "creation_date": 1530523066, "post_id": 51132169, "comment_id": 89249932, "body": "You are so great,  I will have a try."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 4, "last_activity_date": 1530522853, "last_edit_date": 1530522853, "creation_date": 1530521077, "answer_id": 51132169, "question_id": 51132110, "link": "https://stackoverflow.com/questions/51132110/how-to-generate-by-lazy-using-kotlinpoet/51132169#51132169", "title": "How to generate `by lazy` using KotlinPoet", "body": "<p>You're looking for the <code>PropertySpec.Builder.delegate</code> methods. You provide a <code>CodeBlock</code> representing the initializer that represents the delegate.</p>\n\n<p>Specifically for the code you want:</p>\n\n<pre><code>.delegate(CodeBlock.builder()\n    .beginControlFlow(\"lazy(mode = %T.SYNCHRONIZED)\", LazyThreadSafetyMode::class.asTypeName())\n    .add(\"B()\") // Or however you want to implement this\n    .endControlFlow()\n    .build())\n</code></pre>\n"}], "owner": {"reputation": 1866, "user_id": 4188067, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vYovDc3DmOE/AAAAAAAAAAI/AAAAAAAAAA8/j-BVGfbjB_Y/photo.jpg?sz=128", "display_name": "Ellie Zou", "link": "https://stackoverflow.com/users/4188067/ellie-zou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 51132169, "answer_count": 1, "score": 1, "last_activity_date": 1530522853, "creation_date": 1530520893, "question_id": 51132110, "link": "https://stackoverflow.com/questions/51132110/how-to-generate-by-lazy-using-kotlinpoet", "title": "How to generate `by lazy` using KotlinPoet", "body": "<p>I want to generate code like this:</p>\n\n<pre><code>class B private constructor() : A {\n\n    companion object {\n        val instance: B by lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED) {\n            B()\n        }\n    }\n}\n</code></pre>\n\n<p>Using KotlinPoet:</p>\n\n<pre><code>private fun genCompanionObject() = TypeSpec.companionObjectBuilder()\n        .addProperty(PropertySpec.builder(\"instance\", A::class.java).build()).build()\n</code></pre>\n\n<p>How to generate <code>by lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED)</code>? I can  not find some useful APIs in <a href=\"https://github.com/square/kotlinpoet\" rel=\"nofollow noreferrer\">document</a>.</p>\n"}, {"tags": ["android", "list", "kotlin", "bundle", "mutable"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530519326, "post_id": 51130813, "comment_id": 89248008, "body": "<code>RecipeTemplate is a class.</code> might wanna be more specific"}, {"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1530519513, "post_id": 51130813, "comment_id": 89248105, "body": "OK, updated with class info :)"}], "answers": [{"tags": [], "owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "is_accepted": false, "score": 0, "last_activity_date": 1530516482, "creation_date": 1530516482, "answer_id": 51131061, "question_id": 51130813, "link": "https://stackoverflow.com/questions/51130813/how-do-i-pass-a-mutable-list-to-a-bundle/51131061#51131061", "title": "How do I pass a mutable list to a bundle?", "body": "<p>What's the type of recipeArray? You can put various kinds of ArrayList (not List!), including Integers, CharSequences, Strings, and, most generally, Parcelables. See the docs for the full API: <a href=\"https://developer.android.com/reference/android/os/Bundle\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/Bundle</a></p>\n"}, {"comments": [{"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1530518032, "post_id": 51131073, "comment_id": 89247415, "body": "Forgot to mention that datatype is an object, see above. Could you elaborate on the parcelable part?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1530519003, "post_id": 51131073, "comment_id": 89247857, "body": "Use <a href=\"https://proandroiddev.com/parcelable-in-kotlin-here-comes-parcelize-b998d5a5fcac\" rel=\"nofollow noreferrer\"><code>@Parcelize</code></a>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1530516532, "creation_date": 1530516532, "answer_id": 51131073, "question_id": 51130813, "link": "https://stackoverflow.com/questions/51130813/how-do-i-pass-a-mutable-list-to-a-bundle/51131073#51131073", "title": "How do I pass a mutable list to a bundle?", "body": "<p>This depends on what items you have in your list. <code>Bundle</code> has a couple methods that allow you to place lists in it, for example <a href=\"https://developer.android.com/reference/android/os/Bundle#putIntegerArrayList(java.lang.String,%20java.util.ArrayList%3Cjava.lang.Integer%3E)\" rel=\"nofollow noreferrer\"><code>putIntegerArrayList</code></a> and <a href=\"https://developer.android.com/reference/android/os/Bundle#putStringArrayList(java.lang.String,%20java.util.ArrayList%3Cjava.lang.String%3E)\" rel=\"nofollow noreferrer\"><code>putStringArrayList</code></a>. If you need to use a custom type, you can make it <code>Parcelable</code> and use <a href=\"https://developer.android.com/reference/android/os/Bundle#putParcelableArrayList(java.lang.String,%20java.util.ArrayList%3C?%20extends%20android.os.Parcelable%3E)\" rel=\"nofollow noreferrer\"><code>putParcelableArrayList</code></a>.</p>\n\n<p>Of course, all these methods as their name suggest take <code>ArrayList</code> instances specifically, not just any <code>MutableList</code>. So you can either change all your <code>MutableList</code> usages to use <code>ArrayList</code> instead, or you can create a new <code>ArrayList</code> from your existing <code>MutableList</code> when you're putting it in the bundle:</p>\n\n<pre><code>bundle.putParcelableArrayList(\"key\", ArrayList(myParcelableList))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1530525480, "post_id": 51131897, "comment_id": 89251413, "body": "Thanks, that seems to have worked. I also added <code>@SuppressLint(&quot;ParcelCreator&quot;)</code> above <code>@Parcelize</code> to silence an error. Only problem now is to get it back to it&#39;s original state when unpacking from bundle, right? I can&#39;t seem to use it as it is in new activity..."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1530528062, "post_id": 51131897, "comment_id": 89252805, "body": "Use <code>getParcelableArrayList&lt;RecipeTemplate&gt;(&quot;LIST&quot;)</code> :p"}, {"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1530530487, "post_id": 51131897, "comment_id": 89254100, "body": "I&#39;ve updated my post to explain more in detail what I mean :) Still, thanks a lot for your help! :)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1530533308, "post_id": 51131897, "comment_id": 89255816, "body": "Try specifying the template parameter like in my comment"}, {"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1530535222, "post_id": 51131897, "comment_id": 89256948, "body": "Same unfortunately :/ null"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 11, "last_activity_date": 1613391645, "last_edit_date": 1613391645, "creation_date": 1530520077, "answer_id": 51131897, "question_id": 51130813, "link": "https://stackoverflow.com/questions/51130813/how-do-i-pass-a-mutable-list-to-a-bundle/51131897#51131897", "title": "How do I pass a mutable list to a bundle?", "body": "<p>You can do</p>\n<pre><code>//apply plugin: 'kotlin-android-extensions' \n\n//androidExtensions {\n//    experimental = true\n//}\n\napply plugin: 'kotlin-parcelize'\n</code></pre>\n<p>Then</p>\n<pre><code>@Parcelize\nclass RecipeTemplate : Parcelable {\n    var recipeHeader: String? = null\n    var recipeText: String? = null\n    var recipeImage: String? = null\n    var recipeKey: String? = null\n}\n</code></pre>\n<p>Then</p>\n<pre><code>var bundle = Bundle().apply {\n                  putParcelableArrayList(&quot;LIST&quot;, ArrayList&lt;Parcelable&gt;(fbModel.recipeArray))\n             }\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9230, "favorite_count": 0, "accepted_answer_id": 51131897, "answer_count": 3, "score": 7, "last_activity_date": 1613391645, "creation_date": 1530515516, "last_edit_date": 1530530454, "question_id": 51130813, "link": "https://stackoverflow.com/questions/51130813/how-do-i-pass-a-mutable-list-to-a-bundle", "title": "How do I pass a mutable list to a bundle?", "body": "<p>I want to add a mutable list to a bundle, but there doesn't seem to be a way to accomplish this.</p>\n\n<pre><code>var bundle = Bundle()\n                bundle.put...????(\"LIST\", fbModel.recipeArray)\n</code></pre>\n\n<p>You can use <code>putString</code> and so on, but there doesn't seem to be a <code>putMutableList</code> as an option. What to do?</p>\n\n<p><strong><em>UPDATE</em></strong>\nForgot to mention that the <code>mutableList</code> recipeArray is an <code>object</code>. Like this: </p>\n\n<pre><code>var recipeArray: MutableList&lt;RecipeTemplate&gt;\n</code></pre>\n\n<p>...where RecipeTemplate is a class that looks like this:</p>\n\n<pre><code>class RecipeTemplate {\n    var recipeHeader: String? = null\n    var recipeText: String? = null\n    var recipeImage: String? = null\n    var recipeKey: String? = null\n}\n</code></pre>\n\n<p><strong><em>UPDATE</em></strong>\nSolved issue according to answer by @EpicPandaForce: </p>\n\n<pre><code>gridView.setOnItemClickListener { parent, view, position, id -&gt;\n                Log.d(\"TAGA\", \"CLICKETICLICK \" + position)\n                Log.d(\"TAGA\", \"CLICKETICLICK \" + fbModel.recipeArray[1].recipeHeader) //PASSES\n\n                val intent = Intent(classContext, Recipes::class.java)\n\n                var bundle = Bundle().apply {\n                    putParcelableArrayList(\"LIST\", ArrayList&lt;Parcelable&gt;(fbModel.recipeArray))\n                    putInt(\"POSITION\", position)\n                }\n\n                intent.putExtra(\"bundle\", bundle)\n                startActivity(intent)\n            }\n</code></pre>\n\n<p>But I'm still having problem receiving it in the other activity. Code here from onCreate: </p>\n\n<pre><code>var passedIntent = intent.extras\nvar bundle: Bundle = passedIntent.getBundle(\"bundle\")\nvar counter: Int = bundle.getInt(\"POSITION\", 0)\nvar recipeArray: ArrayList&lt;Parcelable&gt; = bundle.getParcelableArrayList(\"LIST\")\nvar recipeList: MutableList&lt;RecipeTemplate&gt; = recipeArray as MutableList&lt;RecipeTemplate&gt;\n\nLog.d(\"TAGA\", \"PASSED \" + counter) //PASSES\nif(recipeArray != null) {\n    Log.d(\"TAGA\", \"HERE \" + recipeArray[1].recipeHeader.toString()) //Null\n    Log.d(\"TAGA\", \"HERE \" + recipeList[1].recipeHeader.toString()) //Null\n    Log.d(\"TAGA\", \"HERE \" + recipeArray.size) //PASSES\n\n}\n</code></pre>\n\n<p>The <code>counter</code> is passed and the correct number is shown. The <code>recipeArray.size</code> is passed and shows the correct number. However, the other logs <code>recipeArray[1].recipeHeader.toString()</code> and <code>recipeList[1].recipeHeader.toString()</code> are both null even though they contain the correct values before being put in the bundle. Is there something I need to do to... eum... de-parse the list? Or am I missing something?</p>\n"}, {"tags": ["list", "kotlin", "iteration"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1530515437, "post_id": 51130779, "comment_id": 89246173, "body": "<code>myList.map { it + 3 }</code>? You can do this with any sequence, see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/map.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/map.ht&zwnj;&#8203;ml</a>."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1530516207, "creation_date": 1530516207, "answer_id": 51130989, "question_id": 51130779, "link": "https://stackoverflow.com/questions/51130779/add-value-to-all-integers-in-a-list/51130989#51130989", "title": "Add value to all integers in a list", "body": "<p>As @jonrsharpe said in the comment already, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"nofollow noreferrer\"><code>map</code></a> is the right function for this - it's not defined on just <code>Sequence</code>, but also on <code>Iterable</code>, which <code>List</code> is:</p>\n\n<pre><code>val newList = listOf(1, 2, 3).map { it + 3 }\n</code></pre>\n"}], "owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 51130989, "answer_count": 1, "score": 0, "last_activity_date": 1530516207, "creation_date": 1530515367, "last_edit_date": 1530515480, "question_id": 51130779, "link": "https://stackoverflow.com/questions/51130779/add-value-to-all-integers-in-a-list", "title": "Add value to all integers in a list", "body": "<p>I have a list of integers:</p>\n\n<pre><code>val mylist = listOf(1,2,3)\n</code></pre>\n\n<p>How do I create a new list on the fly such that the values in this list are now 4, 5, 6? I can't find a suitable list function that does this.</p>\n\n<p>eg </p>\n\n<pre><code>val newlist = ListUtils.union(mylist[x], mylist[x].addintegervaluetoeverythinginlist)\n</code></pre>\n\n<p>In Python, list iteration makes this simple with: <code>(i+3 for i in list)</code>, not sure what to do in Kotlin, though.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-intentservice", "android-livedata"], "comments": [{"owner": {"reputation": 794, "user_id": 4314917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/pUi10.jpg?s=128&g=1", "display_name": "Gurinder", "link": "https://stackoverflow.com/users/4314917/gurinder"}, "edited": false, "score": 2, "creation_date": 1530512799, "post_id": 51130152, "comment_id": 89245102, "body": "I guess you are not initializing public static ArticleRepository INSTANCE; in your getInstance method your just returning new instance everytime."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1530513050, "post_id": 51130152, "comment_id": 89245172, "body": "What would it mean to call your <code>getInstance</code> method with a different <code>Application</code> instance? You should either return a single instance per application, or throw an exception."}, {"owner": {"reputation": 1575, "user_id": 9379617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1162b38c786fe77dca7987df0ac24851?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/9379617/ben"}, "edited": false, "score": 1, "creation_date": 1530513272, "post_id": 51130152, "comment_id": 89245259, "body": "As a sidenote, let me recommend you to simply use a <code>enum</code> if you want to create a Singleton. It&#39;s inherintly threadsafe and much easier to test and maintain. It&#39;s generally considered the best way to create a Singleton."}, {"owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "edited": false, "score": 0, "creation_date": 1530514017, "post_id": 51130152, "comment_id": 89245540, "body": "Thank you for suggestion, I will try."}], "answers": [{"tags": [], "owner": {"reputation": 5072, "user_id": 731183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BCP6t.jpg?s=128&g=1", "display_name": "AlexS", "link": "https://stackoverflow.com/users/731183/alexs"}, "is_accepted": true, "score": 6, "last_activity_date": 1530512979, "creation_date": 1530512979, "answer_id": 51130208, "question_id": 51130152, "link": "https://stackoverflow.com/questions/51130152/why-my-singleton-is-synchronized-but-it-gets-created-many-times/51130208#51130208", "title": "Why my Singleton is synchronized but it gets created many times?", "body": "<p>You never assign <code>INSTANCE</code>:</p>\n\n<pre><code>public static synchronized ArticleRepository getInstance(Application application){\n    if(INSTANCE == null){\n        Log.d(TAG, \"ArticleRepository getInstance is NULL\");\n        INSTANCE = new ArticleRepository(application);\n    }\n\n    return INSTANCE;\n}\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 8760921, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03e89ff18b79e9581360e3a30d6d73e4?s=128&d=identicon&r=PG&f=1", "display_name": "sunflower20", "link": "https://stackoverflow.com/users/8760921/sunflower20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 51130208, "answer_count": 1, "score": 0, "last_activity_date": 1530513079, "creation_date": 1530512680, "last_edit_date": 1530513079, "question_id": 51130152, "link": "https://stackoverflow.com/questions/51130152/why-my-singleton-is-synchronized-but-it-gets-created-many-times", "title": "Why my Singleton is synchronized but it gets created many times?", "body": "<p>For some reason my singleton Repository is created many times from background threads, the synchronized should have helped though. Could anyone help? I will provide code fragments and github link if needed.</p>\n\n<p>My IntentService class:</p>\n\n<pre><code>  @Override\n    protected void onHandleIntent(@Nullable Intent intent) {\n        Log.d(MainActivity.TAG, \"ArticleIntentService - onHandleIntent\");\n\n\n        LiveData&lt;List&lt;Article&gt;&gt; liveArticles = ArticleRepository.getInstance(getApplication())\n                .loadFromNetwork(PAGE_NUMBER, PAGE_SIZE);\n        PAGE_NUMBER++;\n        liveArticles.observeForever(articles -&gt; {\n            Log.d(MainActivity.TAG, \"onStartJob - onChanged!!!!!!\");\n//                liveArticles.removeObserver(this);\n            NotificationUtils.showNotification(context, articles.get(0).getSectionName(), articles.get(0).getWebTitle());\n\n        });\n\n    }\n</code></pre>\n\n<p>My Repository:</p>\n\n<pre><code>public static ArticleRepository INSTANCE;\n\npublic static synchronized ArticleRepository getInstance(Application application){\n    if(INSTANCE == null){\n        Log.d(TAG, \"ArticleRepository getInstance is NULL\");\n        return  new ArticleRepository(application);\n    }\n\n    return INSTANCE;\n}\n\nprivate ArticleRepository(Application application) {\n    Log.d(TAG, \"ArticleRepository constructor\");\n    mContext = application;\n    mArticles = new MutableLiveData&lt;&gt;();\n    ArticleRoomDatabase db = ArticleRoomDatabase.getInstance(application);\n    mArticleDao = db.articleDao();\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "push-notification", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1530510323, "post_id": 51129699, "comment_id": 89244192, "body": "did u read this <a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages\" rel=\"nofollow noreferrer\">firebase.google.com/docs/cloud-messaging/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1530510439, "post_id": 51129699, "comment_id": 89244235, "body": "yes i already read that doc. @Nilesh"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1530510503, "post_id": 51129699, "comment_id": 89244260, "body": "you need to send notification data in <b><code>data payload</code></b> to get value if your app not in backgroung"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1530510590, "post_id": 51129699, "comment_id": 89244295, "body": "please describe in code? @Nilesh"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1530513754, "post_id": 51129699, "comment_id": 89245444, "body": "did you solve it @maulik"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1530514576, "post_id": 51129699, "comment_id": 89245808, "body": "i solve it but there is another issue create , in oreo os its doesn&#39;t show my notification @Nilesh Rathod"}], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 0, "last_activity_date": 1530514717, "last_edit_date": 1530514717, "creation_date": 1530510821, "answer_id": 51129799, "question_id": 51129699, "link": "https://stackoverflow.com/questions/51129699/why-my-notification-not-work-in-background-when-my-app-is-kill-and-close-in-andr/51129799#51129799", "title": "Why my notification not work in background when my app is kill and close in android", "body": "<p><a href=\"https://firebase.google.com/docs/cloud-messaging/concept-options#notifications_and_data_messages\" rel=\"nofollow noreferrer\">There are two types of <strong>Message types</strong></a></p>\n\n<ol>\n<li><strong>Notification message</strong></li>\n</ol>\n\n<blockquote>\n  <p>FCM automatically displays the message to end-user devices on behalf of the client app. Notification messages have a predefined set of user-visible keys and an optional data payload of custom key-value pairs. </p>\n</blockquote>\n\n<ol start=\"2\">\n<li><strong>Data message</strong></li>\n</ol>\n\n<blockquote>\n  <p>Client app is responsible for processing data messages. Data messages have only custom key-value pairs. </p>\n</blockquote>\n\n<p><a href=\"https://stackoverflow.com/questions/51129699/why-my-notification-not-work-in-background-when-my-app-is-kill-and-close-in-andr/51129799#comment89244260_51129699\">as per my comment</a> </p>\n\n<p>You need to send notification  data in  <strong>Data messages</strong></p>\n\n<p><strong>SAMPLE FORMAT</strong></p>\n\n<pre><code>{\n  \"message\":{\n    \"token\":\"your token\",\n    \"data\":{\n      \"key1\" : \"value1\",\n      \"key2\" : \"value2\",\n      \"key3\" : \"value4\",\n    }\n  }\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.cancelAll();\n\n    Intent intent = new Intent(this, YourActivity.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    try {\n        intent.putExtra(\"ID\",object.getString(\"data\"));\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\n\n\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    String NOTIFICATION_CHANNEL_ID = \"Your_channel\";\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, \"Your Notifications\", NotificationManager.IMPORTANCE_HIGH);\n\n        notificationChannel.setDescription(\"Description\");\n        notificationChannel.enableLights(true);\n        notificationChannel.setLightColor(Color.RED);\n        notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n        notificationChannel.enableVibration(true);\n        notificationManager.createNotificationChannel(notificationChannel);\n    }\n\n\n    NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n\n    notificationBuilder.setAutoCancel(true)\n            .setColor(ContextCompat.getColor(this, R.color.colorDarkBlue))\n            .setContentTitle(getString(R.string.app_name))\n            .setContentText(remoteMessage.getNotification().getBody())\n            .setDefaults(Notification.DEFAULT_ALL)\n            .setWhen(System.currentTimeMillis())\n            .setSmallIcon(R.drawable.ic_notification)\n            .setAutoCancel(true)\n            .setContentIntent(pendingIntent)\n            .setPriority(Notification.PRIORITY_MAX);\n\n    notificationManager.notify(1000, notificationBuilder.build());\n    notificationManager.cancelAll();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 8617840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b26fce85315cbfc0ae402ce3a67bcd5?s=128&d=identicon&r=PG&f=1", "display_name": "sandy", "link": "https://stackoverflow.com/users/8617840/sandy"}, "is_accepted": false, "score": 1, "last_activity_date": 1530510839, "creation_date": 1530510839, "answer_id": 51129801, "question_id": 51129699, "link": "https://stackoverflow.com/questions/51129699/why-my-notification-not-work-in-background-when-my-app-is-kill-and-close-in-andr/51129801#51129801", "title": "Why my notification not work in background when my app is kill and close in android", "body": "<p>Check your logcat if you are receiving the notification. IS your notification being displayed in the system tray?</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9998479"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 51129799, "answer_count": 2, "score": 0, "last_activity_date": 1533210419, "creation_date": 1530510210, "last_edit_date": 1533210419, "question_id": 51129699, "link": "https://stackoverflow.com/questions/51129699/why-my-notification-not-work-in-background-when-my-app-is-kill-and-close-in-andr", "title": "Why my notification not work in background when my app is kill and close in android", "body": "<p>When my app is open, notification works perfectly but when in background it doesn't work .I want the notification to be displayed even when my app is killed or closed in my phone. But it is not working. Here is my code :-</p>\n\n<p>1) MyFirebaseMessagingService.kt :-</p>\n\n<pre><code>class MyFirebaseMessagingService : FirebaseMessagingService() {\n\n\noverride fun onMessageReceived(remoteMessage: RemoteMessage?) {\n\n    showNotification(remoteMessage!!)\n    Log.e(\"fcm\", \"HElloo Call\")\n\n}\n\n\n@SuppressLint(\"WrongConstant\")\nprivate fun showNotification(message: RemoteMessage) {\n    val manager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n\n        val i = Intent(this, MainActivity::class.java)\n        i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)\n\n        val pendingIntent = PendingIntent.getActivity(this, 0, i, PendingIntent.FLAG_UPDATE_CURRENT)\n\n        val androidChannel = NotificationChannel(\"1\",\n                \"sdccscsc\", NotificationManager.IMPORTANCE_DEFAULT)\n        androidChannel.enableLights(true)\n        androidChannel.enableVibration(true)\n        androidChannel.lightColor = Color.GREEN\n        androidChannel.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n\n        val builder = NotificationCompat.Builder(this, \"1\")\n                .setAutoCancel(true)\n                .setContentTitle(message.data[\"title\"])\n                .setContentText(message.data[\"message\"])\n                .setSmallIcon(R.drawable.main_logo)\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setContentIntent(pendingIntent)\n\n        manager.createNotificationChannel(androidChannel)\n    }\n\n\n    val i = Intent(this, MainActivity::class.java)\n    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP)\n\n    val pendingIntent = PendingIntent.getActivity(this, 0, i, PendingIntent.FLAG_UPDATE_CURRENT)\n\n    val builder = NotificationCompat.Builder(this)\n            .setAutoCancel(true)\n            .setContentTitle(message.data[\"title\"])\n            .setContentText(message.data[\"message\"])\n            .setSmallIcon(R.drawable.main_logo)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setDefaults(Notification.DEFAULT_ALL)\n            .setContentIntent(pendingIntent)\n    manager.notify(0, builder.build())\n\n}\n</code></pre>\n"}, {"tags": ["android", "menu", "kotlin", "menuitem"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 1, "last_activity_date": 1530514207, "last_edit_date": 1530514207, "creation_date": 1530512756, "answer_id": 51130170, "question_id": 51129408, "link": "https://stackoverflow.com/questions/51129408/how-can-i-set-the-text-color-of-an-individual-menu-item-in-kotlin/51130170#51130170", "title": "How can I set the text color of an individual menu item in Kotlin?", "body": "<p>You can do it with spannable string\nUse these functions:</p>\n\n<pre><code>    fun getColoredSpannableString(s: String, color: Int): SpannableString {\n        val str = SpannableString(s)\n        str.setSpan(ForegroundColorSpan(color), 0, s.length, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n        return str\n    }\n\n    fun makeMenuItemColored(mi: MenuItem, color: Int) {\n        mi.title = getColoredSpannableString(mi.title.toString(), color)\n    }\n</code></pre>\n\n<p>and from your activity call:  <br/><code>makeMenuItemColored(mi, ContextCompat.getColor(this, R.color.colorPrimary))</code> <br/>\nwhere <code>mi</code> is your menu item and change the color to whatever you like.</p>\n"}], "owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 51130170, "answer_count": 1, "score": 0, "last_activity_date": 1530514207, "creation_date": 1530508179, "question_id": 51129408, "link": "https://stackoverflow.com/questions/51129408/how-can-i-set-the-text-color-of-an-individual-menu-item-in-kotlin", "title": "How can I set the text color of an individual menu item in Kotlin?", "body": "<p>How can I set the text color of an individual menu item in Kotlin?</p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n        R.id.navigation_home -&gt; {\n            toolbar.title = \"Home\"\n            item.actionview.SetColor(ContextCompat.getColor(applicationContext, R.color.highlight))\n            val homeFragment = HomeFragment.newInstance()\n            openFragment(homeFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        ...\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "type-erasure", "type-systems"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1530508116, "post_id": 51129383, "comment_id": 89243535, "body": "Probably the same way as with &#39;standard Java&#39;, which is round-about due to .. Type Erasure. See <a href=\"https://stackoverflow.com/q/339699/2864740\">stackoverflow.com/q/339699/2864740</a> for how/why this occurs. But why not only accept <code>coordinator: T</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1530639546, "post_id": 51130984, "comment_id": 89303811, "body": "While this [probably] works in this case, and such a type-sound approach with generics is an improvement overall, it doesn&#39;t answer the fundamental question :} At some times one <i>really does</i> want to have access to &#39;the type of T&#39; (even if such itself feeds into an &quot;unsafe&quot; cast). Reified generics makes this trivial, and Java/Kotlin (without such) need to adopt slightly different approaches.."}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1530639920, "post_id": 51130984, "comment_id": 89304003, "body": "@user2864740 I think there are many answers out there that already address this in Java. Like <a href=\"https://stackoverflow.com/questions/3437897/how-to-get-a-class-instance-of-generics-type-t\">this</a> and <a href=\"https://stackoverflow.com/questions/5734720/test-if-object-is-instanceof-a-parameter-type\">this</a>. If you think a kotlin version is needed. You can post question and answer it yourself. :)"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1530640709, "post_id": 51130984, "comment_id": 89304388, "body": "I do think a Kotlin version would be handy. And that <i>is</i> what the OP asked for, even if an XY question. Y might be correct, but X was still asked."}], "tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": false, "score": 4, "last_activity_date": 1530516181, "creation_date": 1530516181, "answer_id": 51130984, "question_id": 51129383, "link": "https://stackoverflow.com/questions/51129383/can-i-check-for-variable-is-type-t/51130984#51130984", "title": "Can I check for variable is Type T?", "body": "<p>Because at runtime, the generic type parameters are all gone (erased), the runtime can't really check whether <code>coordinator is T</code> because it has no idea what <code>T</code> is.</p>\n\n<p>Instead of checking the type of <code>coordinator</code> before assigning it, why not change the parameter type from <code>Coordinator</code> to <code>T</code> so that the <em>compiler</em> can guarantee that <code>coordinator</code> will always be assignable to the <code>coordinator</code> property in the interface?</p>\n\n<pre><code>fun setCoor(coordinator: T) {\n    this.coordinator = coordinator\n}\n</code></pre>\n\n<p>As you can see, the <code>setCoor</code> method isn't really needed. You can just set the property normally:</p>\n\n<pre><code>coordinator = ...\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530516181, "creation_date": 1530507953, "last_edit_date": 1530508412, "question_id": 51129383, "link": "https://stackoverflow.com/questions/51129383/can-i-check-for-variable-is-type-t", "title": "Can I check for variable is Type T?", "body": "<p>I plan to set my coordinator if only it is type T sent.</p>\n\n<pre><code>interface ViewSurface&lt;T : Coordinator&gt; {\n    var coordinator: T\n\n    fun setCoor(coordinator: Coordinator) {\n        if (coordinator is T) {\n            this.coordinator = coordinator\n        }\n    }\n}\n</code></pre>\n\n<p>The above code complaint <code>Cannot check for erased type: T</code>. How could I change to get the right syntax yet achieve what I wanted?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1530503049, "last_edit_date": 1530503049, "creation_date": 1530502431, "answer_id": 51128833, "question_id": 51128789, "link": "https://stackoverflow.com/questions/51128789/why-cant-the-color-of-a-string-from-resource-file-be-changed-in-android/51128833#51128833", "title": "Why can&#39;t the color of a string from resource file be changed in Android?", "body": "<p>Try this</p>\n\n<pre><code>&lt;string name=\"aa\"&gt;Hello &lt;![CDATA[&lt;font color=#0000FF&gt;Paul!&lt;/font&gt;]]&gt;&lt;/string&gt;\n</code></pre>\n\n<p>Than use like this</p>\n\n<pre><code>String value=getString(R.string.aa)+\" Hello &lt;font color='#0000FF'&gt;World &lt;/font&gt;\";\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    myTextView.setText(Html.fromHtml(value,Html.FROM_HTML_MODE_LEGACY));\n }else {\n    myTextView.setText(Html.fromHtml(value));\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/yLUSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yLUSV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 51128833, "answer_count": 1, "score": 2, "last_activity_date": 1530503049, "creation_date": 1530502087, "question_id": 51128789, "link": "https://stackoverflow.com/questions/51128789/why-cant-the-color-of-a-string-from-resource-file-be-changed-in-android", "title": "Why can&#39;t the color of a string from resource file be changed in Android?", "body": "<p>tvName is TextView control, the color of \"World\" has changed, but color of \"Paul\" hasn't changed, why?</p>\n\n<p>And more,  in Android Studio 3.1.3, I get the prompt \"'fromHtml(String!): Spanned!' is deprecated. Deprecated in Java\" , how can I fix it? Now I use Android Studio 3.1.3 with Kotlin 1.2.50</p>\n\n<p>Image</p>\n\n<p><a href=\"https://i.stack.imgur.com/ysDv0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ysDv0.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>   &lt;string name=\"aa\"&gt;\n        Hello &lt;font color='#0000FF'&gt;Paul &lt;/font&gt; !\n    &lt;/string&gt;\n\n\n    val s=mContext.getString(R.string.aa)+\" Hello &lt;font color='#0000FF'&gt;World &lt;/font&gt;\"    \n    tvName.text= Html.fromHtml(s)\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-viewpager"], "answers": [{"tags": [], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "is_accepted": false, "score": 0, "last_activity_date": 1530547511, "creation_date": 1530547511, "answer_id": 51139993, "question_id": 51128755, "link": "https://stackoverflow.com/questions/51128755/fragments-not-displaying-after-switching-to-different-fragment-and-back/51139993#51139993", "title": "Fragments Not Displaying After Switching To Different Fragment And Back", "body": "<p>The solution turned out to be replacing </p>\n\n<pre><code>tutorialView.tutorialViewPager.adapter = TutorialFragmentPagerAdapter(fragmentManager!!)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>tutorialView.tutorialViewPager.adapter = TutorialFragmentPagerAdapter(childFragmentManager)\n</code></pre>\n"}], "owner": {"reputation": 4950, "user_id": 3847117, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/625532931d60c1c3a51c51de2bf9f141?s=128&d=identicon&r=PG&f=1", "display_name": "Roymunson", "link": "https://stackoverflow.com/users/3847117/roymunson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530547511, "creation_date": 1530501779, "last_edit_date": 1530547459, "question_id": 51128755, "link": "https://stackoverflow.com/questions/51128755/fragments-not-displaying-after-switching-to-different-fragment-and-back", "title": "Fragments Not Displaying After Switching To Different Fragment And Back", "body": "<p>I have an activity with three different fragments that are switched to via a bottom navigation view. The middle fragment, <code>TutorialFragment</code>, has a viewpager that switches between two other fragments. </p>\n\n<p>The problem is that if I switch from <code>TutorialFragment</code> to a different fragment and then back to <code>TutorialFragment</code> via the bottom navigation view, the fragments inside <code>TutorialFragment</code>'s viewpager won't display. </p>\n\n<p>Here's an example (notice how after I switch to \"feedback\" from \"tutorial\" and then back to \"tutorial\", the \"Use Keyboard Fragment\" and \"Enable Keyboard Fragment\" strings in the top right of the app no longer show): </p>\n\n<p><a href=\"https://i.stack.imgur.com/Qajjx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qajjx.gif\" alt=\"Screenshot\"></a></p>\n\n<p>Here is the code for <code>TutorialFragment</code>:</p>\n\n<pre><code>class TutorialFragment : Fragment() {\n\n    private lateinit var tutorialView : View\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n        tutorialView = inflater.inflate(R.layout.fragment_tutorial, container, false )\n        tutorialView.tutorialViewPager.adapter = TutorialFragmentPagerAdapter(fragmentManager!!)\n        tutorialView.circleIndicator.setViewPager(tutorialView.tutorialViewPager)\n        return tutorialView\n    }\n</code></pre>\n"}, {"tags": ["java", "kotlin", "jwt", "vert.x", "onelogin"], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 4963657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2MB2wMK7YI/AAAAAAAAAAI/AAAAAAAAAwQ/WVA_kKPi0n0/photo.jpg?sz=128", "display_name": "Adnan Raza", "link": "https://stackoverflow.com/users/4963657/adnan-raza"}, "is_accepted": true, "score": 1, "last_activity_date": 1530753721, "creation_date": 1530753721, "answer_id": 51182277, "question_id": 51128630, "link": "https://stackoverflow.com/questions/51128630/how-to-use-public-key-to-validate-jwt-token-using-vertx/51182277#51182277", "title": "How to use public key to validate JWT Token using vertx", "body": "<p>I have found the solution to above problem. So, if you have a 'certs' url which returns Json Web Key file then you can create a java.security.PublicKey object out of it which can be used with PubSecKeyOptions object.</p>\n\n<p>You need to read the values of keys 'n' and 'e' , the 'n' is the called modulus and 'e' is called exponent. Now, you can get a valid JWTAuthOptions object as follows;</p>\n\n<pre><code>val n = Base64.getUrlDecoder().decode(nValue.toByteArray(StandardCharsets.UTF_8))\nval e = Base64.getUrlDecoder().decode(eValue.toByteArray(StandardCharsets.UTF_8))\nval thePublicKeyINeeded: PublicKey= =KeyFactory.getInstance(\"RSA).generatePublic(RSAPublicKeySpec(n, e))        \n\n\nval encodedBase64PublicKey:String = Base64.getEncoder().encodeToString(thePublicKeyINeeded.encoded)\n    var config = JWTAuthOptions(\n                pubSecKeys = listOf(PubSecKeyOptions(\n                    algorithm = \"RS256\",\n                    publicKey = encodedBase64PublicKey)))\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4963657, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y2MB2wMK7YI/AAAAAAAAAAI/AAAAAAAAAwQ/WVA_kKPi0n0/photo.jpg?sz=128", "display_name": "Adnan Raza", "link": "https://stackoverflow.com/users/4963657/adnan-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "accepted_answer_id": 51182277, "answer_count": 1, "score": 1, "last_activity_date": 1530753721, "creation_date": 1530500364, "last_edit_date": 1530751957, "question_id": 51128630, "link": "https://stackoverflow.com/questions/51128630/how-to-use-public-key-to-validate-jwt-token-using-vertx", "title": "How to use public key to validate JWT Token using vertx", "body": "<p>I am using Vertx with Kotlin and want to authenticate a JWT Token. </p>\n\n<p>I have the public key in Json Web Key file from One Login. </p>\n\n<pre><code>{   \"keys\": [\n{\n  \"kty\": \"RSA\",\n  \"kid\": \"JRcO4nxs5jgc8YdN7I2hLO4V_ql1bdoiMXmcYgHm4Hs\",\n  \"n\": \"z8fZsz...Something..GHSTAoQw\",\n  \"e\": \"AQAB\"\n}   ] }\n</code></pre>\n\n<p>How can I use the above mentioned public key in Json Web Key file to authenticate if a JWT Token is valid?</p>\n\n<p>The class/method I am using is JWTAuth.create(vertx, config)</p>\n\n<pre><code>var config = JWTAuthOptions(\n                pubSecKeys = listOf(PubSecKeyOptions(\n                    algorithm = \"RS256\",\n                    publicKey = \"&lt;Value Copied from above json's 'n' field&gt;\")))\n\n\n  var provider = JWTAuth.create(myvertx, config)\n</code></pre>\n\n<p>Above line throws an exception saying that \nRuntimeException: java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException: DerInputStream.getLength(): lengthTag=71, too big.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 5724753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78145539be05b37b5f3ce21b0803400b?s=128&d=identicon&r=PG&f=1", "display_name": "Gus W", "link": "https://stackoverflow.com/users/5724753/gus-w"}, "edited": false, "score": 0, "creation_date": 1530575124, "post_id": 51127680, "comment_id": 89274132, "body": "Thanks, sorting it in place is a much better option. What is the difference between sorting in place with sortWith and sortBy?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 108, "user_id": 5724753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78145539be05b37b5f3ce21b0803400b?s=128&d=identicon&r=PG&f=1", "display_name": "Gus W", "link": "https://stackoverflow.com/users/5724753/gus-w"}, "edited": false, "score": 0, "creation_date": 1530579344, "post_id": 51127680, "comment_id": 89274908, "body": "@GusW <code>sortBy { }</code> is a shortcut for <code>sortWith(compareBy { })</code>. Better to ask as a separate question, and you&#39;ll get a more detailed answer."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 5, "last_activity_date": 1530487623, "last_edit_date": 1530487623, "creation_date": 1530487272, "answer_id": 51127680, "question_id": 51127609, "link": "https://stackoverflow.com/questions/51127609/casting-kotlin-arraylists-classcastexception/51127680#51127680", "title": "Casting Kotlin ArrayLists ClassCastException", "body": "<p>The cast fails because the list returned by <code>sortedWith</code> function is not an instance of <code>java.util.ArrayList</code>. </p>\n\n<p>Moreover it's unsafe to cast it to <code>MutableList</code> too, because the implementation of <code>sortedWith</code> can be changed later, so that it returns <code>List</code> that's no longer a <code>MutableList</code>.</p>\n\n<p>If you have a <code>MutableList</code> and you want to sort it, you have two options:</p>\n\n<ul>\n<li><p>either sort it in-place with the <code>sortWith</code> function (not <code>sortedWith</code>):</p>\n\n<pre><code>cards.sortWith(compareBy{it.face})\n// now cards list is sorted\n</code></pre></li>\n<li><p>or sort it to a new list and then copy it to a mutable list, if you need to mutate it after</p>\n\n<pre><code>cards = cards.sortedWith(compareBy{it.face}).toMutableList()\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1530487658, "creation_date": 1530487658, "answer_id": 51127698, "question_id": 51127609, "link": "https://stackoverflow.com/questions/51127609/casting-kotlin-arraylists-classcastexception/51127698#51127698", "title": "Casting Kotlin ArrayLists ClassCastException", "body": "<p>There are easier ways to sort a list in place without creating a new one and assign back to the original. The simplest is <code>cards.sortBy { it.face }</code></p>\n"}], "owner": {"reputation": 108, "user_id": 5724753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78145539be05b37b5f3ce21b0803400b?s=128&d=identicon&r=PG&f=1", "display_name": "Gus W", "link": "https://stackoverflow.com/users/5724753/gus-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 51127680, "answer_count": 2, "score": 2, "last_activity_date": 1530487658, "creation_date": 1530486366, "question_id": 51127609, "link": "https://stackoverflow.com/questions/51127609/casting-kotlin-arraylists-classcastexception", "title": "Casting Kotlin ArrayLists ClassCastException", "body": "<p>I have a <code>MutableList&lt;Card&gt;</code> called <code>cards</code> that I am sorting based on one of the properties, using the <code>sortedWith</code> function. This returns a sorted generic list type, so a cast is necessary. However, when I cast the list, it crashes with a ClassCastException:</p>\n\n<pre><code>private var cards: MutableList&lt;Card&gt; = ArrayList()\n...\ncards = cards.sortedWith(compareBy{it.face}) as ArrayList&lt;Card&gt;\n\n\n\njava.lang.ClassCastException: java.util.Arrays$ArrayList cannot be cast to java.util.ArrayList\n</code></pre>\n\n<p>EDIT: I just realized I need to use the more generic type of cards for the cast, <code>MutableList&lt;Card&gt;</code>. Now, can someone explain why the cast with ArrayList fails?</p>\n"}, {"tags": ["kotlin", "dagger-2", "dagger", "lazy-initialization"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1530516658, "post_id": 51127524, "comment_id": 89246755, "body": "Have you tried?"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1530517618, "post_id": 51127524, "comment_id": 89247213, "body": "If you immediately call <code>lazy.get()</code> in the constructor, why not just inject the plain object?"}, {"owner": {"reputation": 962, "user_id": 5190902, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb6720410a4e0dfc1cb57513231fbe33?s=128&d=identicon&r=PG&f=1", "display_name": "liminal", "link": "https://stackoverflow.com/users/5190902/liminal"}, "edited": false, "score": 1, "creation_date": 1530532418, "post_id": 51127524, "comment_id": 89255273, "body": "Good point but I actually don&#39;t call it in the constructor but only conditionally. The examples above may not be that clear."}], "answers": [{"comments": [{"owner": {"reputation": 962, "user_id": 5190902, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb6720410a4e0dfc1cb57513231fbe33?s=128&d=identicon&r=PG&f=1", "display_name": "liminal", "link": "https://stackoverflow.com/users/5190902/liminal"}, "edited": false, "score": 0, "creation_date": 1530532530, "post_id": 51133166, "comment_id": 89255340, "body": "I am able to do it but since I have not seen any examples of doing via constructor injection was not sure if the object graph is actually changing as expected (the Lazy object only gets added to the object graph after get() is called)"}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 962, "user_id": 5190902, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb6720410a4e0dfc1cb57513231fbe33?s=128&d=identicon&r=PG&f=1", "display_name": "liminal", "link": "https://stackoverflow.com/users/5190902/liminal"}, "edited": false, "score": 3, "creation_date": 1530639469, "post_id": 51133166, "comment_id": 89303773, "body": "@liminal: If your object (Bar) is not scoped (e.g. <code>@Singleton</code>), then <b>getting it won&#39;t change the object graph</b>; across all consumers, direct injection of Bar will create an instance, <code>Provider&lt;Bar&gt;</code> will return a new instance each time you call <code>get</code>, and <code>Lazy&lt;Bar&gt;</code> will generate a new instance on <code>get</code> and always return the same one. If your object is scoped, then calling <code>get</code> will cause the object to be created for everyone, but no differently than if you had injected it aside from the delay. (For a scoped object, Provider and Lazy are equivalent.)"}, {"owner": {"reputation": 2302, "user_id": 1669501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36dda3b7aa448763661250079775257d?s=128&d=identicon&r=PG", "display_name": "dawid gdanski", "link": "https://stackoverflow.com/users/1669501/dawid-gdanski"}, "reply_to_user": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "edited": false, "score": 1, "creation_date": 1530642271, "post_id": 51133166, "comment_id": 89305146, "body": "@JeffBowman correct, having exposed scoped dependency, the <code>Lazy</code>-wrapped instance of <code>DoubleCheck provider</code> accessing the dependency is generated so we have a sort of double dependency caching done by both the <code>Lazy</code> wrapper and the provider(once when the dependency is accessed for the first time). Things differ if we expose the dependency without scope - we just cache the dependency with the <code>Lazy</code> wrapper only."}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "edited": false, "score": 1, "creation_date": 1530644450, "post_id": 51133166, "comment_id": 89306127, "body": "@dawidgdanski Right, but I&#39;ll do you one better: There&#39;s no double dependency caching, because <a href=\"https://github.com/google/dagger/blob/master/java/dagger/internal/DoubleCheck.java#L24-L28\" rel=\"nofollow noreferrer\">the DoubleCheck object that caches the value implements both Provider and Lazy</a>, and <a href=\"https://github.com/google/dagger/blob/master/java/dagger/internal/DoubleCheck.java#L96\" rel=\"nofollow noreferrer\">specifically avoids caching a value that has already been cached</a>. In that sense, a lazy injection of a scoped value doesn&#39;t involve creating a separate instance to track the lazy result."}, {"owner": {"reputation": 962, "user_id": 5190902, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb6720410a4e0dfc1cb57513231fbe33?s=128&d=identicon&r=PG&f=1", "display_name": "liminal", "link": "https://stackoverflow.com/users/5190902/liminal"}, "edited": false, "score": 1, "creation_date": 1530647647, "post_id": 51133166, "comment_id": 89307336, "body": "Thanks. So I am doing it correctly then. The object that&#39;s injected in the constructor and wrapped in Lazy is Singleton scoped"}], "tags": [], "owner": {"reputation": 2302, "user_id": 1669501, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36dda3b7aa448763661250079775257d?s=128&d=identicon&r=PG", "display_name": "dawid gdanski", "link": "https://stackoverflow.com/users/1669501/dawid-gdanski"}, "is_accepted": true, "score": 4, "last_activity_date": 1530534665, "last_edit_date": 1530534665, "creation_date": 1530524427, "answer_id": 51133166, "question_id": 51127524, "link": "https://stackoverflow.com/questions/51127524/dagger-lazy-during-constructor-injection/51133166#51133166", "title": "Dagger Lazy during constructor injection", "body": "<p>Constructor injection is no different from regular field injection, <code>Lazy</code>-wrapped constructor arguments are acceptable.</p>\n\n<p>The only thing you need to make sure is to expose the dependency via module somewhere in the dependency graph.</p>\n"}], "owner": {"reputation": 962, "user_id": 5190902, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb6720410a4e0dfc1cb57513231fbe33?s=128&d=identicon&r=PG&f=1", "display_name": "liminal", "link": "https://stackoverflow.com/users/5190902/liminal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2958, "favorite_count": 0, "accepted_answer_id": 51133166, "answer_count": 1, "score": 1, "last_activity_date": 1530534665, "creation_date": 1530485324, "last_edit_date": 1530486005, "question_id": 51127524, "link": "https://stackoverflow.com/questions/51127524/dagger-lazy-during-constructor-injection", "title": "Dagger Lazy during constructor injection", "body": "<p>I realize that the recommended way of accomplishing <code>Lazy</code> injection with Dagger is to add <code>Lazy</code> to a field injection point. For instance, </p>\n\n<pre><code>class Foo {\n    @Inject lateinit var bar: Lazy&lt;Bar&gt;\n\n    fun useBar() = bar.get().doSomething()\n}\n</code></pre>\n\n<p>What about using constructor injection? I have not seen anyone doing it.</p>\n\n<pre><code>class Foo @Inject constructor(private val fizz: Fizz,\n                              private val bar: Lazy&lt;Bar&gt;) {    \n    fun useBar() = bar.get().doSomething()\n}\n</code></pre>\n\n<p>To summarize when doing Dagger lazy injection, can I use <code>Lazy&lt;Bar&gt;</code> in a constructor? Or is my only option to move <code>Lazy&lt;Bar&gt;</code> to a field injection while keeping other non-Lazy dependencies in the same class injected via the constructor?</p>\n\n<p>Thanks for any pointers!</p>\n"}, {"tags": ["spring", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "edited": false, "score": 0, "creation_date": 1530509831, "post_id": 51126888, "comment_id": 89244028, "body": "Maybe this <a href=\"https://stackoverflow.com/a/48508749/9164471\">stackoverflow.com/a/48508749/9164471</a> solution will work for you. Declare the parameter as Mono&lt;PersonResource&gt; and handle the error with doOnError()"}], "answers": [{"tags": [], "owner": {"reputation": 8204, "user_id": 6279569, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d065bd31fb32bdf56a00b9c7a856b0d8?s=128&d=identicon&r=PG&f=1", "display_name": "choasia", "link": "https://stackoverflow.com/users/6279569/choasia"}, "is_accepted": false, "score": -1, "last_activity_date": 1589868335, "creation_date": 1589868335, "answer_id": 61884287, "question_id": 51126888, "link": "https://stackoverflow.com/questions/51126888/how-to-catch-exceptions-from-spring-webflux-controller/61884287#61884287", "title": "How to catch exceptions from spring webflux controller?", "body": "<p>I think you are catching a different exception. I am using <code>@ControllerAdvice</code> to catch <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/support/WebExchangeBindException.html\" rel=\"nofollow noreferrer\"><code>WebExchangeBindException</code></a> as validation errors and it worked for me.</p>\n\n<blockquote>\n  <p>A specialization of ServerWebInputException thrown when after data binding and validation failure. Implements BindingResult (and its super-interface Errors) to allow for direct analysis of binding and validation errors.</p>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 9825637, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kyser Soze", "link": "https://stackoverflow.com/users/9825637/kyser-soze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 853, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1589868335, "creation_date": 1530477861, "question_id": 51126888, "link": "https://stackoverflow.com/questions/51126888/how-to-catch-exceptions-from-spring-webflux-controller", "title": "How to catch exceptions from spring webflux controller?", "body": "<p>I am using javax validations in my controller with <code>@Valid @RequestBody</code>. When the server receives invalid data it throws error but I want to handle that error and return custom formatted error. I am unable to catch exception in my controller advice. I am using spring webFlux so can't use the bindingResult. How can I handle that exception? Here is my code</p>\n\n<p>Controller</p>\n\n<pre><code>    @PostMapping\n    fun createPerson(@Valid @RequestBody resource: PersonResource): Mono&lt;Person&gt; {\n        return personService.save(resource.toPerson())\n    }\n</code></pre>\n\n<p>Resource</p>\n\n<pre><code>data class PersonResource(\n    val id: String?,\n\n    @field:NotEmpty\n    val name: String,\n    ...\n}\n</code></pre>\n\n<p>ErrorHandler</p>\n\n<pre><code>@ControllerAdvice\nclass ApiErrorHandler {\n  @ExceptionHandler(IllegalArgumentException::class)\n    fun handleValidationErrors(e: IllegalArgumentException): ResponseEntity&lt;*&gt; {\n    // never reaches here\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "nullpointerexception", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1530471906, "post_id": 51126131, "comment_id": 89237314, "body": "You cannot bold within code blocks"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1530471955, "post_id": 51126131, "comment_id": 89237329, "body": "You need to check if your Context is null. Where did it  come from?"}, {"owner": {"reputation": 11, "user_id": 9389084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ndhtEfWCObw/AAAAAAAAAAI/AAAAAAAABZg/XRa84q2uB_8/photo.jpg?sz=128", "display_name": "Rakshit Bhagwat Kathawate", "link": "https://stackoverflow.com/users/9389084/rakshit-bhagwat-kathawate"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1530501399, "post_id": 51126131, "comment_id": 89242287, "body": "@cricket_007 I have checked about it and it is not null. looks like there is something else missing. thanks for your time."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1530503174, "post_id": 51126131, "comment_id": 89242565, "body": "Can you please edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the code calling the adapter as well as the full stacktrace?"}, {"owner": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530647228, "post_id": 51126131, "comment_id": 89307158, "body": "Please check your castings. <b>They are not kotlin friendly</b> when you cast <code>null as Int</code>. When the objects are not nullable, use <b>elvis operator</b> instead <code>some?.stringVal?.toInt() ?: 0</code>. Also with android support for kotlin you can define <code>val tv = view.findViewById&lt;TextView&gt;(R.id.trackTitle)</code> or use kotlin synthetic extensions to make your life easier. Also <code>override fun getItemCount(): Int = songDetails?.size ?: 0</code>. My guess is that it has got to do with your <code>MyViewHolder</code> class <code>init{}</code> debug and check there."}, {"owner": {"reputation": 11, "user_id": 9389084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ndhtEfWCObw/AAAAAAAAAAI/AAAAAAAABZg/XRa84q2uB_8/photo.jpg?sz=128", "display_name": "Rakshit Bhagwat Kathawate", "link": "https://stackoverflow.com/users/9389084/rakshit-bhagwat-kathawate"}, "reply_to_user": {"reputation": 252, "user_id": 3086235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04fd3b0094431b0528413e056b396228?s=128&d=identicon&r=PG&f=1", "display_name": "HawkPriest", "link": "https://stackoverflow.com/users/3086235/hawkpriest"}, "edited": false, "score": 0, "creation_date": 1530936913, "post_id": 51126131, "comment_id": 89420603, "body": "Thanks for Your time @HawkPriest . I was using View() class of <b>java.util</b> type instead of <b>android.os</b> type which was causing incompatible ness between my fragments and class. I request you to close the discussion. Thanks"}], "owner": {"reputation": 11, "user_id": 9389084, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ndhtEfWCObw/AAAAAAAAAAI/AAAAAAAABZg/XRa84q2uB_8/photo.jpg?sz=128", "display_name": "Rakshit Bhagwat Kathawate", "link": "https://stackoverflow.com/users/9389084/rakshit-bhagwat-kathawate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530720295, "creation_date": 1530471471, "last_edit_date": 1530720295, "question_id": 51126131, "link": "https://stackoverflow.com/questions/51126131/attempt-to-invoke-virtual-method-on-a-null-object-referencestring-equals-method", "title": "Attempt to invoke virtual method on a null object reference(String equals method) Kotlin Version", "body": "<p>I have gone through some of the answers related to the topic but in code below I am the using any String method explicitly and hence I am not able to figure out the actual cause of error. \nCode for MainScreenAdapter.kt file:</p>\n\n<pre><code>    package adapters\n\nimport android.content.Context\nimport android.os.Bundle\nimport android.support.v4.app.FragmentActivity\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.RelativeLayout\nimport android.widget.TextView\nimport com.example.champion.echo_12.R\nimport fragments.SongPlayingFragment\nimport fragments.Songs\n\n**class MainScreenAdapter(_songDetails: ArrayList&lt;Songs&gt;, _context: Context) :RecyclerView.Adapter&lt;MainScreenAdapter.MyViewHolder&gt;()** {\n\n\n    var songDetails: ArrayList&lt;Songs&gt;? = null\n    var mContext: Context? = null\n\n\n    init {\n        this.songDetails = _songDetails\n        this.mContext = _context\n    }\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        val songObject = songDetails?.get(position)\n\n        holder.trackTitle?.text = songObject?.songTitle\n        holder.trackArtist?.text = songObject?.artist\n        holder.contentHolder?.setOnClickListener {\n            //Toast.makeText(mContext,songObject?.songTitle+\" is Playing\",Toast.LENGTH_SHORT).show()\n            val songPlayingFragment = SongPlayingFragment()\n            val args = Bundle()\n            args.putString(\"songArtist\", songObject?.artist)\n            args.putString(\"songTitle\", songObject?.songTitle)\n            args.putString(\"path\", songObject?.songData)\n            //to int required here\n            args.putInt(\"songID\",songObject?.songID?.toInt() as Int)\n            args.putInt(\"songPosition\", position)\n            args.putParcelableArrayList(\"songData\", songDetails)\n            songPlayingFragment.arguments = args\n\n            (mContext as FragmentActivity).supportFragmentManager\n                    .beginTransaction()\n                    .replace(R.id.details_fragment, songPlayingFragment)\n                    .addToBackStack(\"SongPlayingFragment\")\n                    .commit()\n        }\n    }\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n        **val itemView = LayoutInflater.from(parent.context)\n                .inflate(R.layout.row_custom_mainscreen_adapter, parent, false)**\n\n        return MyViewHolder(itemView)\n\n    }\n    override fun getItemCount(): Int {\n\n        if (songDetails == null) {\n            return 0\n        }\n\n        else {\n            return (songDetails as ArrayList&lt;Songs&gt;).size\n        }\n    }\n\n    class MyViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        /*Declaring the widgets and the layout used*/\n        var trackTitle: TextView? = null\n        var trackArtist: TextView? = null\n        var contentHolder: RelativeLayout? = null\n        /*Constructor initialisation for the variables*/\n        init {\n            trackTitle = view.findViewById(R.id.trackTitle) as TextView\n            trackArtist = view.findViewById(R.id.trackArtist) as TextView\n            contentHolder = view.findViewById(R.id.contentRow) as RelativeLayout\n        }\n    }\n}\n\n\nLine 56 and Line 16(Bold marked **) are subjected to the error condition.\n</code></pre>\n\n<p>Call for MainScreenAdapter() Class. </p>\n\n<pre><code>package fragments\nimport adapters.MainScreenAdapter\nimport android.app.Activity\nimport android.content.Context\nimport android.os.Bundle\nimport android.provider.MediaStore\nimport android.support.v4.app.Fragment\nimport android.support.v7.widget.DefaultItemAnimator\nimport android.support.v7.widget.LinearLayoutManager\nimport android.support.v7.widget.RecyclerView\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ImageButton\nimport android.widget.RelativeLayout\nimport android.widget.TextView\nimport com.example.champion.echo_12.R\n\n\n\n\nprivate const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\n/**\n * A simple [Fragment] subclass.\n *\n */\nclass MainScreenFragment : Fragment() {\n\n    var getSongsList: ArrayList&lt;Songs&gt;? = null\n    var nowPlayingBottomBar: RelativeLayout? = null\n    var playPauseButton: ImageButton? = null\n    var songTitle: TextView? = null\n    var visibleLayout: RelativeLayout? = null\n    var noSongs: RelativeLayout? = null\n    var recyclerView: RecyclerView? = null\n    var myActivity: Activity? = null\n    var _mainScreenAdapter: MainScreenAdapter? = null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        val view = inflater!!.inflate(R.layout.fragment_main_screen, container, false)\n\n        visibleLayout = view?.findViewById(R.id.visibleLayout)\n        noSongs = view?.findViewById(R.id.noSongs)\n        nowPlayingBottomBar = view?.findViewById(R.id.hiddenBarMainScreen)\n        songTitle = view?.findViewById(R.id.songTitleMainScreen)\n        playPauseButton = view?.findViewById(R.id.playPauseButton)\n        recyclerView = view?.findViewById(R.id.contentMain)\n\n        return view\n        //return inflater.inflate(R.layout.fragment_main_screen, container, false)\n    }\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        myActivity=context as Activity\n    }\n\n    override fun onAttach(activity: Activity?) {\n        super.onAttach(activity)\n        myActivity=activity\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        getSongsList=getSongsFromPhone()\n        _mainScreenAdapter= MainScreenAdapter(getSongsList as ArrayList&lt;Songs&gt;,myActivity as Context)\n\n        val _mLayoutManager=LinearLayoutManager(myActivity)\n        recyclerView?.layoutManager=_mLayoutManager\n        recyclerView?.itemAnimator=DefaultItemAnimator()\n        recyclerView?.adapter=_mainScreenAdapter\n\n    }\n\n\n\n    fun getSongsFromPhone(): ArrayList&lt;Songs&gt;{\n\n        var arrayList = ArrayList&lt;Songs&gt;()\n        var contentResolver = myActivity?.contentResolver\n        var songUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\n        var songCursor = contentResolver?.query(songUri, null, null, null, null)\n\n        if (songCursor != null &amp;&amp; songCursor.moveToFirst()) {\n            val songId = songCursor.getColumnIndex(MediaStore.Audio.Media._ID)\n            val songTitle = songCursor.getColumnIndex(MediaStore.Audio.Media.TITLE)\n            val songArtist = songCursor.getColumnIndex(MediaStore.Audio.Media.ARTIST)\n            val songData = songCursor.getColumnIndex(MediaStore.Audio.Media.DATA)\n            val dateIndex = songCursor.getColumnIndex(MediaStore.Audio.Media.DATE_ADDED)\n\n            while (songCursor.moveToNext()) {\n                var currentId = songCursor.getLong(songId)\n                var currentTitle = songCursor.getString(songTitle)\n                var currentArtist = songCursor.getString(songArtist)\n                var currentData = songCursor.getString(songData)\n                var currentDate = songCursor.getLong(dateIndex)\n\n                arrayList.add(Songs(currentId, currentTitle, currentArtist, currentData, currentDate))\n            }\n        }\n        return arrayList\n\n\n    }\n}\n</code></pre>\n\n<p>If any one could help me in pointing out the Reason for Null Reference then I would be very thankful.</p>\n"}]