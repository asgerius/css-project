[{"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1551917465, "post_id": 55034009, "comment_id": 96820751, "body": "Have you changed the launch mode of ActivityChild?"}, {"owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1551950660, "post_id": 55034009, "comment_id": 96831361, "body": "How should I change the launch mode ?"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "edited": false, "score": 0, "creation_date": 1551949843, "post_id": 55035310, "comment_id": 96830865, "body": "I added returnedIntent.flags = Intent.FLAG_ACTIVITY_FORWARD_RESULT in my child activity but it sadly doesn&#39;t work"}, {"owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "reply_to_user": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "edited": false, "score": 0, "creation_date": 1551950125, "post_id": 55035310, "comment_id": 96831021, "body": "Why child activity? You should put it in the intent when <code>startActivityForResult</code>"}, {"owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "edited": false, "score": 0, "creation_date": 1551950635, "post_id": 55035310, "comment_id": 96831334, "body": "Because it makes the application crash"}, {"owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "reply_to_user": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "edited": false, "score": 0, "creation_date": 1551950881, "post_id": 55035310, "comment_id": 96831520, "body": "What&#39;s the crash log?"}, {"owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "edited": false, "score": 0, "creation_date": 1551951377, "post_id": 55035310, "comment_id": 96831833, "body": "&quot;FORWARD_RESULT_FLAG used while also requesting a result&quot; I just want to clarify how my activities are called : ActivityMain launches google chrome via the intent. When the user logs in, the redirection calls the ActivityChild. From the ActivityChild I want to send back data to ActivityMain. Hope this help"}], "tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": false, "score": 0, "last_activity_date": 1551927108, "creation_date": 1551927108, "answer_id": 55035310, "question_id": 55034009, "link": "https://stackoverflow.com/questions/55034009/setresultactivity-result-ok-returnedintent-from-child-activity-always-return/55035310#55035310", "title": "setResult(Activity.RESULT_OK, returnedIntent) from child activity always return me an Activity.CANCELED to main activity", "body": "<p>You can consider adding this flag <code>FLAG_ACTIVITY_FORWARD_RESULT</code> to your <code>returnedIntent</code>. It is described here <a href=\"https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_FORWARD_RESULT\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_FORWARD_RESULT</a></p>\n\n<blockquote>\n  <p>If set and this intent is being used to launch a new activity from an existing one, then the reply target of the existing activity will be transferred to the new activity. This way, the new activity can call Activity.setResult(int) and have that result sent back to the reply target of the original activity.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "is_accepted": true, "score": 0, "last_activity_date": 1551953446, "creation_date": 1551953446, "answer_id": 55041130, "question_id": 55034009, "link": "https://stackoverflow.com/questions/55034009/setresultactivity-result-ok-returnedintent-from-child-activity-always-return/55041130#55041130", "title": "setResult(Activity.RESULT_OK, returnedIntent) from child activity always return me an Activity.CANCELED to main activity", "body": "<p>So thanks to @Bach Vu and this post : <a href=\"https://stackoverflow.com/questions/35488618/intent-flag-activity-forward-result-and-pendingintent\">Intent.FLAG_ACTIVITY_FORWARD_RESULT and PendingIntent</a> I manage to get what I wanted using Shared Preferencies. I'm stocking my data in the shared preferencies in the <code>ActivityChild</code> and the retrieving it in my <code>ActivityMain</code> using the override of onActivityResult</p>\n"}], "owner": {"reputation": 321, "user_id": 9255799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Y5D.jpg?s=128&g=1", "display_name": "HartWoom", "link": "https://stackoverflow.com/users/9255799/hartwoom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 55041130, "answer_count": 2, "score": 0, "last_activity_date": 1551953446, "creation_date": 1551916432, "last_edit_date": 1551953436, "question_id": 55034009, "link": "https://stackoverflow.com/questions/55034009/setresultactivity-result-ok-returnedintent-from-child-activity-always-return", "title": "setResult(Activity.RESULT_OK, returnedIntent) from child activity always return me an Activity.CANCELED to main activity", "body": "<p>I want to return some data from my child Activity <code>ActivityChild</code> to my main Activity <code>ActivityMain</code></p>\n\n<p>I first call my <code>ActivityChild</code> from my <code>ActivityMain</code> this way :</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val intent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\nstartActivityForResult(intent, 1)\n// Actually, this code first launch chrome, then when the user identify on\n// chrome, the redirect_uri calls the ActivityChild\n</code></pre>\n\n<p>then, I return my data from <code>ActivityChild</code> to <code>ActivityMain</code> this way :</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val data: Uri? = intent.data\nval returnedIntent = Intent();\nreturnedIntent.putExtra(\"code\", data!!.getQueryParameter(\"code\"))\nsetResult(Activity.RESULT_OK, returnedIntent)\nfinish()\n</code></pre>\n\n<p>and finally I catch the data with an override of onActivityResult in <code>ActivityMain</code> :</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>public override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode == 1) {\n        if (resultCode == Activity.RESULT_OK) {\n            val returnedValue = data!!.getStringExtra(\"data\")\n        }\n        else if (resultCode == Activity.RESULT_CANCELED)\n            Log.d(\"mDebug\", \"Couldn't retrieve data\") // Always enters here\n        else\n            Log.d(\"mDebug\", \"final\")\n    }\n}\n</code></pre>\n\n<p>It keep going in the <code>Activity.RESULT_CANCELED</code> condition. I can't manage to resolve this, if it is resolvable.</p>\n\n<p>I believe the cause is from the fact that I first launch chrome via the intent and that somehow data can't be transfered to the <code>ActivityMain</code>. I'm far from nowing everything concerning intents and I'm probably missing something here, so if someone could help me and explain it please !</p>\n"}, {"tags": ["android", "kotlin", "android-ktx"], "comments": [{"owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1551918480, "post_id": 55033856, "comment_id": 96820973, "body": "have you changed the version or added the dependency on the build.gradle recently? Have you tried to run the <code>.&#47;gradlew clean</code> task before building it?"}, {"owner": {"reputation": 25, "user_id": 4821980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf195f8a00466e1ee75894ddfbf308b7?s=128&d=identicon&r=PG&f=1", "display_name": "0xBADDCAFE", "link": "https://stackoverflow.com/users/4821980/0xbaddcafe"}, "reply_to_user": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1551984987, "post_id": 55033856, "comment_id": 96851750, "body": "Yes, but can&#39;t find."}], "answers": [{"tags": [], "owner": {"reputation": 628, "user_id": 4568679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47a3061a5209488e3c6a7078ff5398ca?s=128&d=identicon&r=PG", "display_name": "Slav", "link": "https://stackoverflow.com/users/4568679/slav"}, "is_accepted": true, "score": 0, "last_activity_date": 1555948645, "creation_date": 1555948645, "answer_id": 55797218, "question_id": 55033856, "link": "https://stackoverflow.com/questions/55033856/cant-find-fun-cursor-getstringcolumnname-string-string-implementation/55797218#55797218", "title": "Can&#39;t find `fun Cursor.getString(columnName: String): String` implementation", "body": "<p>The name-based extensions for <code>Cursor</code> have been removed by Jake Wharton.</p>\n\n<p>In his words:</p>\n\n<blockquote>\n  <p>They encourage a pattern of inefficiency. You should look up the\n  column names once prior to iteration or use a higher-level abstraction\n  like Room or SQL Delight which does that for you.</p>\n</blockquote>\n\n<p>You can find the full git history for this package here:\n<a href=\"https://android.googlesource.com/platform/frameworks/support/+log/android-room-release/core/ktx/src/main/java/androidx/core/database\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/frameworks/support/+log/android-room-release/core/ktx/src/main/java/androidx/core/database</a></p>\n"}], "owner": {"reputation": 25, "user_id": 4821980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf195f8a00466e1ee75894ddfbf308b7?s=128&d=identicon&r=PG&f=1", "display_name": "0xBADDCAFE", "link": "https://stackoverflow.com/users/4821980/0xbaddcafe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 55797218, "answer_count": 1, "score": 1, "last_activity_date": 1555948645, "creation_date": 1551915223, "last_edit_date": 1551915581, "question_id": 55033856, "link": "https://stackoverflow.com/questions/55033856/cant-find-fun-cursor-getstringcolumnname-string-string-implementation", "title": "Can&#39;t find `fun Cursor.getString(columnName: String): String` implementation", "body": "<p>Where to these functions implemented?</p>\n\n<blockquote>\n  <p><a href=\"https://android.github.io/android-ktx/core-ktx/androidx.database/android.database.-cursor/index.html\" rel=\"nofollow noreferrer\">https://android.github.io/android-ktx/core-ktx/androidx.database/android.database.-cursor/index.html</a></p>\n</blockquote>\n\n<p>I saw package androidx.core.database but can't find implementation.\nThere are only the functions like these.</p>\n\n<pre><code>inline fun Cursor.getBlobOrNull(index: Int) = if (isNull(index)) null else getBlob(index)\ninline fun Cursor.getDoubleOrNull(index: Int) = if (isNull(index)) null else getDouble(index)\ninline fun Cursor.getFloatOrNull(index: Int) = if (isNull(index)) null else getFloat(index)\ninline fun Cursor.getIntOrNull(index: Int) = if (isNull(index)) null else getInt(index)\ninline fun Cursor.getLongOrNull(index: Int) = if (isNull(index)) null else getLong(index)\ninline fun Cursor.getShortOrNull(index: Int) = if (isNull(index)) null else getShort(index)\ninline fun Cursor.getStringOrNull(index: Int) = if (isNull(index)) null else getString(index)\n</code></pre>\n"}, {"tags": ["java", "android", "button", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11145439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SHSD.jpg?s=128&g=1", "display_name": "Vanguard", "link": "https://stackoverflow.com/users/11145439/vanguard"}, "edited": false, "score": 0, "creation_date": 1551911914, "post_id": 55033302, "comment_id": 96819043, "body": "But how do i make sure that each button directs the user to a different site and not just one website? Also do how do i link the button from my xml to the java class?"}, {"owner": {"reputation": 18, "user_id": 3621660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d996d79c5b1e564c396d65e6ccf254?s=128&d=identicon&r=PG&f=1", "display_name": "hashcode", "link": "https://stackoverflow.com/users/3621660/hashcode"}, "reply_to_user": {"reputation": 13, "user_id": 11145439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SHSD.jpg?s=128&g=1", "display_name": "Vanguard", "link": "https://stackoverflow.com/users/11145439/vanguard"}, "edited": false, "score": 0, "creation_date": 1551912030, "post_id": 55033302, "comment_id": 96819085, "body": "holder.mButton1.setTag(&quot;URL1&quot;); holder.mButton2.setTag(&quot;URL2&quot;);  Create OnClickListeners to both buttons. You can get the url using v.getTag() inside OnClickListener. Each will goto the respective site."}, {"owner": {"reputation": 18, "user_id": 3621660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d996d79c5b1e564c396d65e6ccf254?s=128&d=identicon&r=PG&f=1", "display_name": "hashcode", "link": "https://stackoverflow.com/users/3621660/hashcode"}, "reply_to_user": {"reputation": 13, "user_id": 11145439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SHSD.jpg?s=128&g=1", "display_name": "Vanguard", "link": "https://stackoverflow.com/users/11145439/vanguard"}, "edited": false, "score": 0, "creation_date": 1551912186, "post_id": 55033302, "comment_id": 96819128, "body": "You can link button the same way you did for the TextViews in your viewholder class. For eg:   Button mButton1 = itemView.findViewById(R.id.mButton1);"}, {"owner": {"reputation": 13, "user_id": 11145439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SHSD.jpg?s=128&g=1", "display_name": "Vanguard", "link": "https://stackoverflow.com/users/11145439/vanguard"}, "edited": false, "score": 0, "creation_date": 1551912480, "post_id": 55033302, "comment_id": 96819262, "body": "do i have to use the Intent method in each onClickListener for each button so that it will launch the website? Or do i just have to just get.tag()?"}, {"owner": {"reputation": 13, "user_id": 11145439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SHSD.jpg?s=128&g=1", "display_name": "Vanguard", "link": "https://stackoverflow.com/users/11145439/vanguard"}, "edited": false, "score": 0, "creation_date": 1551912844, "post_id": 55033302, "comment_id": 96819430, "body": "It didnt work as i am using a cardview and not just a casual button. Also the getTag doesnt work :("}], "tags": [], "owner": {"reputation": 18, "user_id": 3621660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d996d79c5b1e564c396d65e6ccf254?s=128&d=identicon&r=PG&f=1", "display_name": "hashcode", "link": "https://stackoverflow.com/users/3621660/hashcode"}, "is_accepted": false, "score": 0, "last_activity_date": 1551911819, "creation_date": 1551911819, "answer_id": 55033302, "question_id": 55033072, "link": "https://stackoverflow.com/questions/55033072/how-to-add-a-button-into-a-recyclerview-layout-with-cardview-and-adapter/55033302#55033302", "title": "How to add a button into a recyclerview layout with cardview and adapter?", "body": "<p>Add a button to your viewholder layout and </p>\n\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull ExampleViewHolder holder, int position) {\n\nexampleItemBooks currentItem = mExampleList.get(position);\n\n...  \n\nholder.mButton.setTag(\"URL OF THE SITE\");\nholder.mButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                 // Take user to browser.\n            }\n}); \n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 13, "user_id": 11145439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SHSD.jpg?s=128&g=1", "display_name": "Vanguard", "link": "https://stackoverflow.com/users/11145439/vanguard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1551911819, "creation_date": 1551910706, "question_id": 55033072, "link": "https://stackoverflow.com/questions/55033072/how-to-add-a-button-into-a-recyclerview-layout-with-cardview-and-adapter", "title": "How to add a button into a recyclerview layout with cardview and adapter?", "body": "<p>I am trying to add a button inside my recyclerview's cardview holder. </p>\n\n<p>When the button is pressed, the user is directed to an external website when clicked.I also want to add multiple buttons to each cardview so that each button leads to a different website when clicked. How to do this?</p>\n\n<p>My code:</p>\n\n<p>Fragment class (i am using fragments): </p>\n\n<pre><code>public class BooksFragment extends Fragment {\n\nprivate RecyclerView mRecyclerView;\nprivate RecyclerView.Adapter mAdapter;\nprivate RecyclerView.LayoutManager mLayoutManager;\n\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_books, container, false);\n\n    mLayoutManager = new LinearLayoutManager(this.getActivity());\n\n    return view;\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    ArrayList&lt;exampleItemBooks&gt; exampleList = new ArrayList&lt;&gt;();\n\n    exampleList.add(new exampleItemBooks(R.drawable.thritysixstrategems, \"The Thirty-Six Stratagems\", \"300 years ago, an unknown author compiled the Stratagems, a strangely seductive meditation on deception.\", \"-Unknown Author\"));\n    exampleList.add(new exampleItemBooks(R.drawable.medidations, \"Meditations\", \"A book by the great Stoic Roman Emperor Marcus Aurelius. The book was written in Koine Greek, during the Emperor's reign.\", \"-Marcus Aurelius\"));\n\n    mRecyclerView = view.findViewById(R.id.recyclerViewBooks);\n    mRecyclerView.setHasFixedSize(false);\n    mAdapter = new exampleBooksAdapter(exampleList);\n    mRecyclerView.setLayoutManager(mLayoutManager);\n    mRecyclerView.setAdapter(mAdapter);\n}\n\n@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Adapter:</p>\n\n<pre><code>public class exampleBooksAdapter extends RecyclerView.Adapter&lt;exampleBooksAdapter.ExampleViewHolder&gt; {\n\nprivate ArrayList&lt;exampleItemBooks&gt; mExampleList;\n\npublic static class ExampleViewHolder extends RecyclerView.ViewHolder {\n\n    public ImageView mImageView;\n    public TextView mTextView1;\n    public TextView mTextView2;\n    public TextView mTextView3;\n\n    public ExampleViewHolder(View itemView) {\n        super(itemView);\n\n        mImageView = itemView.findViewById(R.id.imageViewCards);\n        mTextView1 = itemView.findViewById(R.id.textViewCard1);\n        mTextView2 = itemView.findViewById(R.id.textViewCard2);\n        mTextView3 = itemView.findViewById(R.id.textViewCard3);\n    }\n}\n\npublic exampleBooksAdapter(ArrayList&lt;exampleItemBooks&gt; exampleItemBooks) {\n\n    mExampleList = exampleItemBooks;\n\n}\n\n\n@Override\npublic ExampleViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.example_item_books, parent, false);\n    ExampleViewHolder evh = new ExampleViewHolder(v);\n    return evh;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ExampleViewHolder holder, int position) {\n\n    exampleItemBooks currentItem = mExampleList.get(position);\n\n    holder.mImageView.setImageResource(currentItem.getImageResource());\n    holder.mTextView1.setText(currentItem.getText1());\n    holder.mTextView2.setText(currentItem.getText2());\n    holder.mTextView3.setText(currentItem.getText3());\n}\n\n@Override\npublic int getItemCount() {\n    return mExampleList.size();\n}\n</code></pre>\n\n<p>}</p>\n\n<p>ArrayList class:</p>\n\n<pre><code> private int mImageResource;\nprivate String mText1;\nprivate String mText2;\nprivate String mText3;\n\npublic exampleItemBooks(int imageResource, String text1, String text2, String text3) {\n\n    mImageResource = imageResource;\n    mText1 = text1;\n    mText2 = text2;\n    mText3 = text3;\n\n}\n\npublic int getImageResource() {\n\n    return mImageResource;\n\n}\n\npublic String getText1() {\n\n    return mText1;\n}\n\npublic String getText2() {\n\n    return mText2;\n}\npublic String getText3() {\n\n    return mText3;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551908648, "post_id": 55032590, "comment_id": 96817806, "body": "May be you shouldn&#39;t use <code>: View(context)</code>, but use <code>: View</code> with overridden constructors."}, {"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551908780, "post_id": 55032590, "comment_id": 96817871, "body": "@Onik I&#39;m not sure I follow, could you give me an example of how that would effect the issue I&#39;m running into?"}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551910072, "post_id": 55032590, "comment_id": 96818416, "body": "Moreover, you have a layout for <code>MyView</code>, so the the choice of extending <code>View</code> is unclear for me. I&#39;d recommend to extend e.g. <code>FrameLayout</code> and inflate <code>layout_view</code> in constructor(s). By doing this you&#39;d refer the layout&#39;s views by their names, e.g. <code>textView</code>, without any &quot;prefix&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1551910308, "post_id": 55032908, "comment_id": 96818499, "body": "Sorry, I should have been more clear. This isn&#39;t just for initialization, I have many references to the views throughout many functions."}, {"owner": {"reputation": 285, "user_id": 7195804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoJkY.jpg?s=128&g=1", "display_name": "Kuba Paw\u0142owski", "link": "https://stackoverflow.com/users/7195804/kuba-paw%c5%82owski"}, "reply_to_user": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1551911672, "post_id": 55032908, "comment_id": 96818948, "body": "I think you should consider extending <code>ViewGroup</code> (or root container for <code>R.layout.layout_view</code>). <code>ViewGroups</code> have <code>rootView</code>, which you tried to implement as a <code>myView</code>. Another option is to rewrite the view to be dynamically created in the code, rather than inflating from an xml. In the current state, adding your view twice to the same viewgroup will result in duplicated ids."}], "tags": [], "owner": {"reputation": 285, "user_id": 7195804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aoJkY.jpg?s=128&g=1", "display_name": "Kuba Paw\u0142owski", "link": "https://stackoverflow.com/users/7195804/kuba-paw%c5%82owski"}, "is_accepted": false, "score": 0, "last_activity_date": 1551909930, "creation_date": 1551909930, "answer_id": 55032908, "question_id": 55032590, "link": "https://stackoverflow.com/questions/55032590/kotlinx-use-different-root-view-for-views/55032908#55032908", "title": "Kotlinx - Use different root View for Views", "body": "<p>You can use </p>\n\n<pre><code>myView.apply { \n//set your views here without prefix\n}\n</code></pre>\n\n<p>block to set your textviews</p>\n"}], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551909930, "creation_date": 1551908390, "question_id": 55032590, "link": "https://stackoverflow.com/questions/55032590/kotlinx-use-different-root-view-for-views", "title": "Kotlinx - Use different root View for Views", "body": "<p>Within my current project, I'm inflating Views like this. I override a <code>init</code> method, which allows me to setup the <code>View</code>, and get a reference to it.</p>\n\n<pre><code>class MyView(context: Context) : View(context), MyWidget {\n\n    private lateinit var myView: View\n\n    override fun init(viewGroup: ViewGroup) {\n        myView = View.inflate(context, R.layout.layout_view, viewGroup)\n\n        myView.textView.text = \"Welcome\"\n        myView.nextButton.text = \"Sign In\"\n    }\n}\n</code></pre>\n\n<p>However, the issue is that if I'm using <code>kotlinx</code>, I need to prefix all my <code>Views</code> with <code>myView.</code>.</p>\n\n<pre><code>myView.textView.text = \"Welcome\"\n// instead of\ntextView.text = \"Welcome\"\n</code></pre>\n\n<p>Both are valid in the compiler's eyes, but if I forget to prefix it, it will crash at runtime. </p>\n\n<p>Is there a way to tell <code>kotlinx</code> to use the <code>View</code> I have created, instead of the <code>View</code> I'm extending?</p>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": true, "score": 2, "last_activity_date": 1603545884, "last_edit_date": 1603545884, "creation_date": 1552065362, "answer_id": 55067991, "question_id": 55032496, "link": "https://stackoverflow.com/questions/55032496/detect-when-room-has-finished-running-migrations/55067991#55067991", "title": "Detect when Room has finished running migrations", "body": "<p>Well, after testing a lot and reading half of the Room source code, it turns out that the migrations will run the first time you access the built database. Also any errors occurred during migration will be thrown at this first call.</p>\n<p>Is important if you're using coroutines, to be careful when calling any DB related methods on runBlocking blocks, as it can cause a deadlock in the room implementation.</p>\n<p>You can simply call</p>\n<pre><code>db.openHelper.readableDatabase\n</code></pre>\n<p>And wait for it's completion using coroutines. Errors can be catched here too, so you can detect where the migration fails.</p>\n<p>You don't know till you know...</p>\n"}], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 55067991, "answer_count": 1, "score": 2, "last_activity_date": 1603545884, "creation_date": 1551907970, "last_edit_date": 1551908951, "question_id": 55032496, "link": "https://stackoverflow.com/questions/55032496/detect-when-room-has-finished-running-migrations", "title": "Detect when Room has finished running migrations", "body": "<p>I have a complex migration added to my Room database builder. As this particular migration requires downloading some data from a server, I'm using a splash screen to wait for the whole process to finish before opening the app's main activity.</p>\n\n<p>The problem is migrations are not automatically executed on the \"build()\" method, as they seems to be executed internally on a separated thread.</p>\n\n<p>I also thought on using RoomDatabase.Callback to detect when the database is opened but as the migration is complex and attempts to download data from a server, it can fail, and the app can stay waiting forever.</p>\n\n<p>I need to trigger the migration and wait for its completion, and if possible catch migration errors.</p>\n\n<p>This is the code on the Application class:</p>\n\n<pre><code>appLoadingStatus.value = AppLoadingStatus.INITIALIZING\ndb= Room.databaseBuilder(this@App,Database::class.java,\"app-database\")\n        .addMigrations(Database.MIGRATION_12_13).build()\n//Here I need to wait for migrations to finish in case they are executed, and catch ay possible errors\nappLoadingStatus.value = AppLoadingStatus.INITIALIZED\n</code></pre>\n\n<p>And this is the migration:</p>\n\n<pre><code>val MIGRATION_12_13: Migration = object : Migration(12, 13) {\n    override fun migrate(database: SupportSQLiteDatabase) {\n        runBlocking(Dispatchers.Main) {\n            val newIds =App.instance.getIdsForMigration()?:throw IllegalStateException(\"Unable do get data from server\")\n            database.execSQL(\"ALTER TABLE Coin ADD `id` INTEGER NOT NULL\")\n            newIds.forEach {symbolIdPair-&gt;\n                database.execSQL(\"UPDATE Coin SET id='${symbolIdPair.id}' where symbol='${symbolIdPair.symbol}'\")\n            }\n            database.execSQL(\"ALTER TABLE Coin RENAME TO `Coin_backup`\")\n            database.execSQL(\"CREATE TABLE `Coin` (`symbol` TEXT NOT NULL, `id` INTEGER NOT NULL, `name` TEXT, `imageSrc` TEXT, `rank` INTEGER NOT NULL, `max_supply` REAL NOT NULL, `quantity` REAL NOT NULL, `market` TEXT NOT NULL, `type` TEXT, `price` REAL NOT NULL, `lastUpdate` INTEGER NOT NULL, `lastVolume` REAL NOT NULL, `lastVolumeTo` REAL NOT NULL, `volumeDay` REAL NOT NULL, `volumeDayTo` REAL NOT NULL, `volume24h` REAL NOT NULL, `volume24hTo` REAL NOT NULL, `openDay` REAL NOT NULL, `highDay` REAL NOT NULL, `lowDay` REAL NOT NULL, `open24h` REAL NOT NULL, `high24h` REAL NOT NULL, `low24h` REAL NOT NULL, `change24h` REAL NOT NULL, `changePct24h` REAL NOT NULL, `changeDay` REAL NOT NULL, `changePctDay` REAL NOT NULL, `supply` REAL NOT NULL, `mktCap` REAL NOT NULL, `totalVolume24h` REAL NOT NULL, `totalVolume24hTo` REAL NOT NULL, `favourite` INTEGER NOT NULL, PRIMARY KEY(`id`))\")\n            database.execSQL(\"INSERT INTO `Coin` SELECT * FROM `Coin_backup`\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1551909169, "post_id": 55032610, "comment_id": 96818044, "body": "I think I understand now - it will be determined whether a <code>FullTimeInterval</code> will be passed (TIME * 2) or <code>TimeInterval</code> (TIME)"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1551908469, "creation_date": 1551908469, "answer_id": 55032610, "question_id": 55032145, "link": "https://stackoverflow.com/questions/55032145/2-operator-overload-functions-of-the-same-type/55032610#55032610", "title": "2 operator overload functions of the same type", "body": "<p>You have two classes: <code>TimeInterval</code> and <code>FullTimeInterval</code> and two overloaded functions:\n<code>MyDate.plus(timeIntervals: TimeInterval)</code> and <code>MyDate.plus(timeIntervals: FullTimeInterval)</code></p>\n\n<p>The compiler knows the type of the argument and it selects the closest function by the signature. The decision is made at the compilation time and depends on the computed types of the arguments.</p>\n\n<p>You may find more information on that at\n<a href=\"https://jetbrains.github.io/kotlin-spec/#overload-resolution\" rel=\"nofollow noreferrer\">https://jetbrains.github.io/kotlin-spec/#overload-resolution</a></p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551908469, "creation_date": 1551906434, "question_id": 55032145, "link": "https://stackoverflow.com/questions/55032145/2-operator-overload-functions-of-the-same-type", "title": "2 operator overload functions of the same type", "body": "<p>I'm doing <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Conventions/Operators%20overloading/Task.kt\" rel=\"nofollow noreferrer\">Kotlin Koans's Operator Overloading</a> exercise and am wondering how the compiler chooses which <code>MyDate.plus()</code> function to use:</p>\n\n<pre><code>import TimeInterval.*\nimport java.util.Calendar\n\ndata class MyDate(val year: Int, val month: Int, val dayOfMonth: Int)\n\nenum class TimeInterval { DAY, WEEK, YEAR }\n\noperator fun MyDate.plus(timeInterval: TimeInterval) = addTimeIntervals(timeInterval, 1)\n\nclass FullTimeInterval(val timeInterval: TimeInterval, val number: Int) \noperator fun TimeInterval.times(number: Int) = FullTimeInterval(this, number)\n\noperator fun MyDate.plus(timeIntervals: FullTimeInterval) \n= addTimeIntervals(timeIntervals.timeInterval, timeIntervals.number)\n\nfun task1(today: MyDate): MyDate {\n    return today + YEAR + WEEK \n}\n\nfun task2(today: MyDate): MyDate {\n    return today + YEAR * 2 + WEEK * 3 + DAY * 5\n}  \n</code></pre>\n"}, {"tags": ["java", "kotlin", "undertow"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 1282989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed6b9c38ebf79e72d9aed93688b6f0af?s=128&d=identicon&r=PG", "display_name": "Erlend Kristiansen", "link": "https://stackoverflow.com/users/1282989/erlend-kristiansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1559889159, "last_edit_date": 1559889159, "creation_date": 1559836134, "answer_id": 56481089, "question_id": 55031581, "link": "https://stackoverflow.com/questions/55031581/undertow-application-not-starting-up-when-running-jar-with-dependencies/56481089#56481089", "title": "Undertow application not starting up when running jar with dependencies", "body": "<p>I'm not using Undertow, but I use Weld SE in a servlet setup running on Jetty and ran into the same issue as you, it seems like. I had some luck with excluding kotlin-packages from the bean discovery scan in my <code>beans.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd\"\n       bean-discovery-mode=\"all\"\n       version=\"1.1\"&gt;\n    &lt;scan&gt;\n        ...\n        &lt;exclude name=\"kotlin.**\" /&gt;\n        &lt;exclude name=\"kotlinx.**\" /&gt;\n    &lt;/scan&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>I tried debugging the issue, and for me, the <code>java.lang.InternalError: Malformed class name</code> originated from the Java <code>Class.getSimpleBinaryName</code> called on some lambda in the body of <code>kotlin.coroutines.CoroutineContext.plus</code>, named <code>kotlin.coroutines.CoroutineContext$plus$1</code> that apparently has the enclosing class <code>kotlin.coroutines.CoroutineContext$DefaultImpls</code> which is 6 characters longer than the lambda class name, causing an <code>IndexOutOfBoundsException</code> when trying to substring the lambda name with the length of the enclosing class name to get the simple name of the lambda. This may be seen as a bug in the way Kotlin names/types lambdas. A least with respect to reflection.</p>\n\n<p>I also tried replicating the problem by creating this interface:</p>\n\n<pre><code>interface Foo {\n\n    fun fooBar(operation: (Foo) -&gt; Foo): Foo\n\n    fun plus(foo: Foo): Foo = fooBar { f -&gt; f.plus(f) }\n}\n</code></pre>\n\n<p>And it causes the same problem (with or without <code>operator</code> before <code>fun</code>). Making <code>Foo</code> a class, and implementing <code>fooBar</code>, makes the problem go away though. Don't know why.</p>\n\n<p>Using for instance <code>let</code> in the body of <code>Foo.plus</code> didn't cause any problems. Probably because <code>let</code> is inlined. So if you can stay away from using un-inlined lambdas in interface function bodies, you might be okay. And you can always put the interface causing problems in a package of its own and exclude this from being scanned, if you are not going to inject it. Hopefully this problem is not widespread.</p>\n\n<p>Hope this helped, despite not being an Undertow-specific answer!</p>\n\n<p><strong>EDIT:</strong> You can add the <code>@JvmDefault</code> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/index.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/index.html</a>) annotation to an implemented function in an interface to create default method (Java 8 feature) compatible bytecode, and hence eliminate the problem described above. Note that you then have to specify the <code>-Xjvm-default=enable</code> or <code>-Xjvm-default=compatibility</code> compiler argument. More light is shed over <code>@JvmDefault</code> in this article: <a href=\"https://realjenius.com/2018/06/29/jvm-default/\" rel=\"nofollow noreferrer\">https://realjenius.com/2018/06/29/jvm-default/</a>.</p>\n"}], "owner": {"reputation": 2467, "user_id": 3797224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c87d0c6a637c68a0d84b14f8411f09d6?s=128&d=identicon&r=PG&f=1", "display_name": "com2ghz", "link": "https://stackoverflow.com/users/3797224/com2ghz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1559889159, "creation_date": 1551903756, "question_id": 55031581, "link": "https://stackoverflow.com/questions/55031581/undertow-application-not-starting-up-when-running-jar-with-dependencies", "title": "Undertow application not starting up when running jar with dependencies", "body": "<p>I am practicing with Kotlin and wanting to run a lightweight Rest application. I have experience with Undertow with Jersey, Jackson and Weld CDI in Java.</p>\n\n<p>I wrote the minimum to startup the web container and it's running fine in IntelliJ.\nAltough, when I try to run the jar-with-dependencies with <code>java -jar app-with-dependencies.jar</code>, I get errors.</p>\n\n<p>Main class:</p>\n\n<pre><code>package nl.orhun.samplerestapp\n\nimport io.undertow.Handlers\nimport io.undertow.Undertow\nimport io.undertow.servlet.Servlets\nimport io.undertow.servlet.Servlets.servlet\nimport nl.orhun.samplerestapp.config.JerseyConfig\nimport org.glassfish.jersey.servlet.ServletContainer\nimport org.jboss.weld.environment.servlet.Listener\n\nfun main() {\n    val servletBuilder = Servlets.deployment()\n\n    servletBuilder.setClassLoader(ClassLoader.getSystemClassLoader())\n            .setContextPath(\"/app\")\n            .setDeploymentName(\"app.war\")\n            .addListener(Servlets.listener(Listener::class.java))\n            .addServlets(\n                    servlet(\"jerseyServlet\", ServletContainer::class.java)\n                            .setLoadOnStartup(1)\n                            .addInitParam(\"javax.ws.rs.Application\", JerseyConfig::class.java.name)\n                            .addMapping(\"/rest/*\")\n            )\n\n    val manager = Servlets.defaultContainer().addDeployment(servletBuilder)\n    manager.deploy()\n\n    val path = Handlers.path(Handlers.redirect(\"/app\"))\n            .addPrefixPath(\"/app\", manager.start())\n\n    val server = Undertow.builder()\n            .addHttpListener(8090, \"localhost\")\n            .setHandler(path)\n            .build()\n    server.start()\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>$ java -jar target/nl.orhun.samplerestapi-1.0-SNAPSHOT-jar-with-dependencies.jar\nMar 06, 2019 9:04:48 PM org.jboss.weld.environment.servlet.Listener contextInitialized\nINFO: WELD-ENV-001007: Initialize Weld using ServletContextListener\nMar 06, 2019 9:04:48 PM org.jboss.weld.bootstrap.WeldStartup &lt;clinit&gt;\nINFO: WELD-000900: 2.4.8 (Final)\nMar 06, 2019 9:04:48 PM org.jboss.weld.bootstrap.WeldStartup startContainer\nINFO: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from org.glassfish.hk2.osgiresourcelocator.ServiceLoaderImpl because of underlying class loading error: Type org.osgi.framework.BundleListener not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from org.jboss.logging.JBossLogManagerLogger because of underlying class loading error: Type org.jboss.logmanager.Level not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from org.jboss.weld.injection.spi.helpers.ForwardingJpaInjectionServices because of underlying class loading error: Type javax.persistence.EntityManager not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from io.undertow.servlet.osgi.Activator because of underlying class loading error: Type org.osgi.framework.BundleActivator not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from org.jboss.weld.jsf.FacesUrlTransformer because of underlying class loading error: Type javax.faces.context.FacesContext not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from org.glassfish.jersey.internal.OsgiRegistry$OsgiServiceFinder because of underlying class loading error: Type org.osgi.framework.SynchronousBundleListener not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\nINFO: WELD-000119: Not generating any bean definitions from org.glassfish.jersey.server.internal.scanning.PackageNamesScanner$1 because of underlying class loading error: Type org.osgi.framework.SynchronousBundleListener not found.  If this is unexpected, enable DEBUG logging to see the full error.\nMar 06, 2019 9:04:49 PM org.jboss.weld.bootstrap.MissingDependenciesRegistry handleResourceLoadingException\n&lt;.... truncated...&gt;\nException in thread \"main\" java.lang.RuntimeException: org.jboss.weld.exceptions.DeploymentException: Malformed class name\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:252)\n        at nl.orhun.samplerestapp.MainKt.main(Main.kt:26)\n        at nl.orhun.samplerestapp.MainKt.main(Main.kt)\nCaused by: org.jboss.weld.exceptions.DeploymentException: Malformed class name\n        at org.jboss.weld.executor.AbstractExecutorServices.checkForExceptions(AbstractExecutorServices.java:66)\n        at org.jboss.weld.executor.AbstractExecutorServices.invokeAllAndCheckForExceptions(AbstractExecutorServices.java:43)\n        at org.jboss.weld.executor.AbstractExecutorServices.invokeAllAndCheckForExceptions(AbstractExecutorServices.java:51)\n        at org.jboss.weld.bootstrap.ConcurrentBeanDeployer.addClasses(ConcurrentBeanDeployer.java:58)\n        at org.jboss.weld.bootstrap.BeanDeployment.createClasses(BeanDeployment.java:224)\n        at org.jboss.weld.bootstrap.WeldStartup.startInitialization(WeldStartup.java:398)\n        at org.jboss.weld.bootstrap.WeldBootstrap.startInitialization(WeldBootstrap.java:76)\n        at org.jboss.weld.environment.servlet.WeldServletLifecycle.initialize(WeldServletLifecycle.java:191)\n        at org.jboss.weld.environment.servlet.Listener.contextInitialized(Listener.java:125)\n        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:187)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:216)\n        at io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:185)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:250)\n        ... 2 more\nCaused by: java.lang.InternalError: Malformed class name\n        at java.lang.Class.getSimpleBinaryName(Unknown Source)\n        at java.lang.Class.isMemberClass(Unknown Source)\n        at org.jboss.weld.util.reflection.Reflections.getNesting(Reflections.java:138)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedConstructor.initParameters(BackedAnnotatedConstructor.java:50)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedConstructor.initParameters(BackedAnnotatedConstructor.java:28)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedCallable.&lt;init&gt;(BackedAnnotatedCallable.java:34)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedConstructor.&lt;init&gt;(BackedAnnotatedConstructor.java:38)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedConstructor.of(BackedAnnotatedConstructor.java:32)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedConstructors.computeValue(BackedAnnotatedType.java:168)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedConstructors.computeValue(BackedAnnotatedType.java:161)\n        at org.jboss.weld.util.LazyValueHolder.get(LazyValueHolder.java:58)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$EagerlyInitializedLazyValueHolder.&lt;init&gt;(BackedAnnotatedType.java:157)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedConstructors.&lt;init&gt;(BackedAnnotatedType.java:161)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType$BackedAnnotatedConstructors.&lt;init&gt;(BackedAnnotatedType.java:161)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType.&lt;init&gt;(BackedAnnotatedType.java:62)\n        at org.jboss.weld.annotated.slim.backed.BackedAnnotatedType.of(BackedAnnotatedType.java:46)\n        at org.jboss.weld.resources.ClassTransformer$TransformClassToBackedAnnotatedType.apply(ClassTransformer.java:80)\n        at org.jboss.weld.resources.ClassTransformer$TransformClassToBackedAnnotatedType.apply(ClassTransformer.java:77)\n        at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache$1.apply(ReentrantMapBackedComputingCache.java:55)\n        at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache$1.apply(ReentrantMapBackedComputingCache.java:51)\n        at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getValue(ReentrantMapBackedComputingCache.java:64)\n        at org.jboss.weld.util.cache.ReentrantMapBackedComputingCache.getCastValue(ReentrantMapBackedComputingCache.java:80)\n        at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:175)\n        at org.jboss.weld.resources.ClassTransformer.getBackedAnnotatedType(ClassTransformer.java:192)\n        at org.jboss.weld.bootstrap.AnnotatedTypeLoader.loadAnnotatedType(AnnotatedTypeLoader.java:83)\n        at org.jboss.weld.bootstrap.AnnotatedTypeLoader.loadAnnotatedType(AnnotatedTypeLoader.java:62)\n        at org.jboss.weld.bootstrap.BeanDeployer.addClass(BeanDeployer.java:94)\n        at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$1.doWork(ConcurrentBeanDeployer.java:61)\n        at org.jboss.weld.bootstrap.ConcurrentBeanDeployer$1.doWork(ConcurrentBeanDeployer.java:58)\n        at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)\n        at org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -6\n        at java.lang.String.substring(Unknown Source)\n        ... 35 more\n\n</code></pre>\n\n<p>Build segment of the pom:</p>\n\n<pre><code> &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/main/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/test/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;${project.basedir}/src/test/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;nl.orhun.samplerestapp.MainKt&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>I am thinking that this has something to do with how I create the jar file but I'm not sure. </p>\n\n<p>Why is my application not starting up when I run the jar file?</p>\n"}, {"tags": ["java", "kotlin", "amazon-dynamodb"], "answers": [{"tags": [], "owner": {"reputation": 549, "user_id": 2426627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZiIj.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/2426627/neil"}, "is_accepted": false, "score": 1, "last_activity_date": 1551907468, "creation_date": 1551907468, "answer_id": 55032370, "question_id": 55031147, "link": "https://stackoverflow.com/questions/55031147/dynamodb-query-partition-keys-simple-question/55032370#55032370", "title": "DynamoDB query &amp; partition keys, simple question", "body": "<blockquote>\n  <p>partition key uniquely identifies all items in the table</p>\n</blockquote>\n\n<p>so this isn't accurate. It depends on your table design. However, you will get a lot more fexibility if you design a table with a ParitionKey and a Sort Key. That said, back to your statement. A Primary Key not a partition key uniquely identifies an item in the table. A primary key is a combination of ParitionKey + SortKey(also known as Range Key). </p>\n\n<p>Think of each partition as a bucket. </p>\n\n<blockquote>\n  <p>withKeyConditionExpression(\"itemId > 0\")</p>\n</blockquote>\n\n<p>this won't work. You can't do those kinds of operations on a partition key. However, you can do those kinds of conditions on a sort key. </p>\n\n<p>a video from <a href=\"https://www.youtube.com/watch?v=HaEPXoXVf2k\" rel=\"nofollow noreferrer\">2018 - re:Invent</a> that helped me get a better understanding of Dynamo. I have watched that video quite a few times, especially the last 30 to 20mins of it. </p>\n\n<p>Hope that helps. I have only been working with dynamodb for a few months and there is so much more I have to learn. </p>\n"}], "owner": {"reputation": 65, "user_id": 10542180, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yGV-KtTXdmE/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCdDTH9ud3MXvZA_ZkKKE10Q6SXHA/mo/photo.jpg?sz=128", "display_name": "Matt Takao", "link": "https://stackoverflow.com/users/10542180/matt-takao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551907468, "creation_date": 1551901849, "question_id": 55031147, "link": "https://stackoverflow.com/questions/55031147/dynamodb-query-partition-keys-simple-question", "title": "DynamoDB query &amp; partition keys, simple question", "body": "<p>something I don't understand about querying a dynamoDB table is that it seems necessary to include something like <code>.withKeyConditionExpression(\"itemId = :v_id\")</code>, but since the partition key uniquely identifies all items in the table, wouldn't you always be searching just one result? </p>\n\n<p>Trying to do something like:</p>\n\n<pre><code>val expression = DynamoDBQueryExpression&lt;PluginItem&gt;()\n                .withKeyConditionExpression(\"itemId &gt; 0\")\n                .withFilterExpression(\"attributes.item_modification_date &lt; :val1\")\n                .withExpressionAttributeValues(eav)\nval paginatedResults = queryByExpression(expression)\n</code></pre>\n\n<p>I'm looking to query and paginate 100,000 items in the table, can anyone point me in the right direction? </p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4483, "user_id": 1037345, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7c1nH.jpg?s=128&g=1", "display_name": "Kirill Bubochkin", "link": "https://stackoverflow.com/users/1037345/kirill-bubochkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1551901524, "creation_date": 1551901524, "answer_id": 55031071, "question_id": 55030860, "link": "https://stackoverflow.com/questions/55030860/what-does-lambda-mean-in-kotlin/55031071#55031071", "title": "what does &quot;lambda@&quot; mean in Kotlin", "body": "<p>It's not an annotation, but a label: <a href=\"https://kotlinlang.org/docs/reference/returns.html#break-and-continue-labels\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/returns.html#break-and-continue-labels</a></p>\n\n<p>It's commonly used in lambdas and loops, e.g. to jump out of nested loop.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1551901555, "creation_date": 1551901555, "answer_id": 55031081, "question_id": 55030860, "link": "https://stackoverflow.com/questions/55030860/what-does-lambda-mean-in-kotlin/55031081#55031081", "title": "what does &quot;lambda@&quot; mean in Kotlin", "body": "<p>These are called <strong>labels</strong>. Consider this example. The <code>with</code> accepts a receiver (<code>StringBuilder</code> here) and a lambda with receiver (explained <a href=\"https://stackoverflow.com/a/46114818/8073652\">here</a>). Inside that second argument, the lambda expression, <code>this</code> refers to the <code>StringBuilder</code>. So if you <code>print(this)</code> it's the same as the qualified <code>print(this@with)</code>. The qualified <code>this</code> makes sense when you want to access outer <code>this</code> references like from the enclosing instance of <code>Outer</code>: </p>\n\n<pre><code>class Outer{\n    fun someFunction() = with(StringBuilder()){\n        println(this)\n        println(this@with) //same as this\n        println(this@Outer)\n    }\n}\n</code></pre>\n\n<p>It's also possible to set custom labels:</p>\n\n<pre><code>fun someFunction() = with(StringBuilder()) customLabel@{\n    println(this@customLabel) //same as this\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2534, "user_id": 10609635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e433b22da80480e4d7d811ceec10430?s=128&d=identicon&r=PG&f=1", "display_name": "SpencerPark", "link": "https://stackoverflow.com/users/10609635/spencerpark"}, "is_accepted": true, "score": 4, "last_activity_date": 1551902291, "creation_date": 1551902291, "answer_id": 55031257, "question_id": 55030860, "link": "https://stackoverflow.com/questions/55030860/what-does-lambda-mean-in-kotlin/55031257#55031257", "title": "what does &quot;lambda@&quot; mean in Kotlin", "body": "<p>It is indeed a label and is especially useful in that example as it labels an anonymous function. You use the label for qualifying references (like <code>this</code>).</p>\n\n<p>In the following example the lambda defines an inner method <code>nested</code> which may want to access the <code>this</code> from the <code>funLit</code>. Since it is anonymous we need to label it, <code>lambda</code> is an arbitrary identifier. </p>\n\n<pre><code>fun main() {\n    val funLit = lambda@ fun String.() {\n        println(\"this:        \" + this)\n        println(\"this@lambda: \" + this@lambda)\n\n        fun String.nested() {\n            println(\"this        in String.nested(): \" + this)\n            println(\"this@nested in String.nested(): \" + this@nested)\n            println(\"this@lambda in String.nested(): \" + this@lambda)\n        }\n\n        \"nested\".nested()\n    }\n    \"funLit\".funLit()\n}\n</code></pre>\n\n<p>Running it shows very clearly what <code>this</code> is being referred to with the qualifier.</p>\n\n<pre><code>this:        funLit\nthis@lambda: funLit\nthis        in String.nested(): nested\nthis@nested in String.nested(): nested\nthis@lambda in String.nested(): funLit\n</code></pre>\n\n<p>Here is a playground link: <a href=\"https://pl.kotl.in/SJrlUs6LE\" rel=\"nofollow noreferrer\">https://pl.kotl.in/SJrlUs6LE</a></p>\n"}], "owner": {"reputation": 472, "user_id": 7947368, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fe1dd8f191cef546b5ab514c2b00733b?s=128&d=identicon&r=PG", "display_name": "Sheed", "link": "https://stackoverflow.com/users/7947368/sheed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 55031257, "answer_count": 3, "score": 1, "last_activity_date": 1551902291, "creation_date": 1551900649, "question_id": 55030860, "link": "https://stackoverflow.com/questions/55030860/what-does-lambda-mean-in-kotlin", "title": "what does &quot;lambda@&quot; mean in Kotlin", "body": "<p>From there: <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/this-expressions.html#qualified</a></p>\n\n<p>we have a code like so:</p>\n\n<pre><code>val funLit = lambda@ fun String.() {}\n</code></pre>\n\n<p>Run there <a href=\"https://pl.kotl.in/Syah1jaIN\" rel=\"nofollow noreferrer\">https://pl.kotl.in/Syah1jaIN</a> it compiles and is called without error</p>\n\n<p>I thought \"lambda@\" was an annotation but the documentation here:\n<a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/annotations.html</a>\nrefers to a syntax sorta like \"@word\", not \"word@\".</p>\n"}, {"tags": ["java", "android", "kotlin", "google-cast", "google-cast-sdk"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1551900616, "post_id": 55030276, "comment_id": 96814083, "body": "Related: <a href=\"https://developers.google.com/cast/docs/media\" rel=\"nofollow noreferrer\">developers.google.com/cast/docs/media</a> Do realize that the images are limited to 720p even if the display is 4K (search on complaints about Google Photos casting to Chromecast Ultra)"}, {"owner": {"reputation": 372, "user_id": 5167277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocPP6.jpg?s=128&g=1", "display_name": "gmartinsnull", "link": "https://stackoverflow.com/users/5167277/gmartinsnull"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1551908237, "post_id": 55030276, "comment_id": 96817634, "body": "I&#39;ve already gone through that. I&#39;m not intending to cast images but rather fragments which may contain images.   Also found CastPresentation api but all examples I&#39;ve found so far are 5-year outdated."}], "owner": {"reputation": 372, "user_id": 5167277, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocPP6.jpg?s=128&g=1", "display_name": "gmartinsnull", "link": "https://stackoverflow.com/users/5167277/gmartinsnull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1553297348, "creation_date": 1551898410, "last_edit_date": 1553297348, "question_id": 55030276, "link": "https://stackoverflow.com/questions/55030276/how-to-use-cast-sdk-in-google-slides-like-app", "title": "How to use Cast SDK in Google Slides like app", "body": "<p>So I've been working on a type of slide/power point app. I've been trying to find out whether or not Cast SDK is applicable. Ideally, I'd want to cast a Fragment (exactly like Slides), leaving the navigation bar(RecyclerView) only visible to the presenter.</p>\n\n<p><s>As far as I know, Cast SDK only supports Media formats. However, I wonder how Slides work in that case then? Does it convert every slide to JPGs or something like that?</s></p>\n\n<p>I found out that I could extend <code>CastPresentation</code> class but what if I want to cast a fragment that already extends Fragment?</p>\n\n<p>Any help is appreciated. Thank you!</p>\n"}, {"tags": ["java", "gradle", "kotlin", "ant"], "answers": [{"comments": [{"owner": {"reputation": 3603, "user_id": 1987514, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72b2b89335668260ff47e3c50fee0e75?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Green", "link": "https://stackoverflow.com/users/1987514/ben-green"}, "edited": false, "score": 0, "creation_date": 1551899402, "post_id": 55030253, "comment_id": 96813475, "body": "Wow. So simple! Thanks for the help :)"}, {"owner": {"reputation": 3603, "user_id": 1987514, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72b2b89335668260ff47e3c50fee0e75?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Green", "link": "https://stackoverflow.com/users/1987514/ben-green"}, "edited": false, "score": 1, "creation_date": 1551949592, "post_id": 55030253, "comment_id": 96830719, "body": "I have edited the answer to show the exact solution."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1551949558, "last_edit_date": 1551949558, "creation_date": 1551898328, "answer_id": 55030253, "question_id": 55030116, "link": "https://stackoverflow.com/questions/55030116/how-to-convert-gradle-ant-java-task-to-kotlin/55030253#55030253", "title": "How to convert gradle ant java task to kotlin", "body": "<p>You may check more examples in the Gradle Kotlin DSL repository, e.g. \n<a href=\"https://github.com/gradle/kotlin-dsl/blob/master/samples/ant/build.gradle.kts\" rel=\"nofollow noreferrer\">https://github.com/gradle/kotlin-dsl/blob/master/samples/ant/build.gradle.kts</a></p>\n\n<p>So your Ant call may look like </p>\n\n<pre><code>ant.withGroovyBuilder {\n  \"java\"( \n     \"fork\" to true, \n     \"spawn\" to true, \n     \"classname\" to \"org.h2.tools.Server\", \n     \"dir\" to projectDir\n   ){\n      \"arg\"(\"value\" to \"-tcp\")\n      \"arg\"(\"value\" to \"-web\")\n      \"arg\"(\"value\" to \"-tcpPort\")\n      \"arg\"(\"value\" to \"9092\")\n      \"arg\"(\"value\" to \"-webPort\")\n      \"arg\"(\"value\" to \"8082\")\n      \"arg\"(\"value\" to \"-webAllowOthers\")\n      \"classpath\" {\n        \"pathelement\"(\n                \"path\" to configurations[\"runtime\"].asPath\n            )\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 3603, "user_id": 1987514, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72b2b89335668260ff47e3c50fee0e75?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Green", "link": "https://stackoverflow.com/users/1987514/ben-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 55030253, "answer_count": 1, "score": 2, "last_activity_date": 1551949558, "creation_date": 1551897791, "last_edit_date": 1551898168, "question_id": 55030116, "link": "https://stackoverflow.com/questions/55030116/how-to-convert-gradle-ant-java-task-to-kotlin", "title": "How to convert gradle ant java task to kotlin", "body": "<p>I have a gradle ant task that starts a H2 database. The build script looks like this:</p>\n\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    runtime 'com.h2database:h2:1.3.168'\n}\n\ntask startH2Db {\n    group = 'database'\n    description='Starts the H2 TCP database server on port 9092 and web admin on port 8082'\n    doLast{\n        ant.java( fork:true, spawn:true, classname:'org.h2.tools.Server', dir:projectDir){\n            arg(value: \"-tcp\")\n            arg(value: \"-web\")\n            arg(value: \"-tcpPort\")\n            arg(value: \"9092\")\n            arg(value: \"-webPort\")\n            arg(value: \"8082\")\n            arg(value: \"-webAllowOthers\")\n            classpath {\n                pathelement(path:\"${sourceSets.main.runtimeClasspath.asPath}\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Given that Gradle are now supporting Kotlin, I decided to try and convert this <code>build.gradle</code> into a <code>build.gradle.kts</code>file.</p>\n\n<p>I'm struggling to find documentation on how to do this in Kotlin. I've found examples of other ant tasks, but nothing with args like above. I have got as far as this:</p>\n\n<pre><code>plugins {\n    java\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    runtime (\"com.h2database:h2:1.3.168\")\n}\n\ntasks {\n    register(\"startH2Database\") {\n        group = \"database\"\n        description = \"Starts the H2 TCP database server on port 9092 and web admin on port 8082\"\n        doLast {\n            ant.withGroovyBuilder {\n            \"java\"(\"fork\" to true, \"spawn\" to true, \"classname\" to \"org.h2.tools.Server\", \"dir\" to projectDir)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How do I configure the args and the classpath? Is there any extra documentation other than what's listed here: <a href=\"https://docs.gradle.org/current/userguide/ant.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/ant.html</a>?</p>\n"}, {"tags": ["android", "unit-testing", "junit", "kotlin", "koin"], "owner": {"reputation": 2855, "user_id": 1240649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35a6f4ba2c16792398851d1db61fc9c9?s=128&d=identicon&r=PG", "display_name": "Wayneio", "link": "https://stackoverflow.com/users/1240649/wayneio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1573660823, "creation_date": 1551893932, "question_id": 55029145, "link": "https://stackoverflow.com/questions/55029145/koin-nullpointerexception-when-trying-to-test-viewmodel-injection-in-a-kotlin-an", "title": "Koin NullPointerException when trying to test ViewModel injection in a Kotlin Android App", "body": "<p>I'm trying to test that a ViewModel has successfully had a repository injected into it, in a test. However, I get a NPE. The code works fine for the actual app, just not the test. I think it's not correctly finding my ViewModel. </p>\n\n<p>This is the code:</p>\n\n<pre><code>    package com.waynecovell.kotlinbasics\n\nimport android.arch.lifecycle.Observer\nimport android.arch.lifecycle.ViewModel\nimport com.waynecovell.kotlinbasics.data.Workout\nimport com.waynecovell.kotlinbasics.data.WorkoutRepository\nimport com.waynecovell.kotlinbasics.data.WorkoutRepositoryTestImpl\nimport com.waynecovell.kotlinbasics.ui.WorkoutViewModel\nimport org.junit.After\nimport org.junit.Assert\nimport org.junit.Before\nimport org.junit.Test\nimport org.koin.android.viewmodel.ext.koin.viewModel\nimport org.koin.dsl.module.Module\nimport org.koin.dsl.module.module\nimport org.koin.standalone.StandAloneContext.startKoin\nimport org.koin.standalone.StandAloneContext.stopKoin\nimport org.koin.standalone.inject\nimport org.koin.test.KoinTest\nimport org.koin.test.declareMock\nimport org.mockito.Mock\nimport org.mockito.MockitoAnnotations\n\nclass WorkoutKoinTest : KoinTest {\n\n    val viewModel: WorkoutViewModel by inject&lt;WorkoutViewModel&gt;()\n    val repository by inject&lt;WorkoutRepository&gt;()\n\n    @Mock\n    lateinit var uiData: Observer&lt;List&lt;Workout&gt;&gt;\n\n    val workoutModule : Module = module {\n        viewModel { WorkoutViewModel(get()) }\n        single&lt;WorkoutRepository&gt; { WorkoutRepositoryTestImpl() }\n    }\n\n    @Before\n    fun before() {\n        MockitoAnnotations.initMocks(this)\n        startKoin(\n            listOf(workoutModule)\n        )\n        declareMock&lt;WorkoutViewModel&gt;()\n        //declareMock&lt;WorkoutRepository&gt;()\n    }\n\n    @After\n    fun after() {\n        stopKoin()\n    }\n\n\n    @Test\n    fun testKoinRepo() {\n        //data\n        val workouts = repository.getWorkouts()\n\n        //observe\n        viewModel.getWorkouts().observeForever(uiData)\n\n        //has data\n        Assert.assertNotNull(viewModel.workoutData.value)\n\n    }\n}\n</code></pre>\n\n<p>Koin Log:</p>\n\n<pre><code>2019-03-06 17:33:21:771 (KOIN)::[i] [PrintLogger] display debug = false\n2019-03-06 17:33:21:803 (KOIN)::[i] [definition] declare Factory [name='WorkoutViewModel',class='com.waynecovell.kotlinbasics.ui.WorkoutViewModel']\n2019-03-06 17:33:21:803 (KOIN)::[i] [definition] declare Single [name='WorkoutRepository',class='com.waynecovell.kotlinbasics.data.WorkoutRepository']\n2019-03-06 17:33:21:803 (KOIN)::[i] [modules] loaded 2 definitions\n2019-03-06 17:33:21:803 (KOIN)::[i] [modules] loaded in 5.670703 ms\n2019-03-06 17:33:21:803 (KOIN)::[i] [Koin] started in 28.810215 ms\n2019-03-06 17:33:21:804 (KOIN)::[i] [mock] declare mock for class com.waynecovell.kotlinbasics.ui.WorkoutViewModel (Kotlin reflection is not available)\n2019-03-06 17:33:21:804 (KOIN)::[i] [definition] override Factory [name='WorkoutViewModel',class='com.waynecovell.kotlinbasics.ui.WorkoutViewModel']\n2019-03-06 17:33:21:809 (KOIN)::[i] +-- 'com.waynecovell.kotlinbasics.ui.WorkoutViewModel'\n2019-03-06 17:33:21:870 (KOIN)::[i] \\-- (*) Created\n2019-03-06 17:33:21:873 (KOIN)::[i] +-- 'com.waynecovell.kotlinbasics.data.WorkoutRepository'\n2019-03-06 17:33:21:876 (KOIN)::[i] \\-- (*) Created\n2019-03-06 17:33:21:876 (KOIN)::[i] +-- 'com.waynecovell.kotlinbasics.ui.WorkoutViewModel'\n2019-03-06 17:33:21:877 (KOIN)::[i] \\-- (*) Created\n2019-03-06 17:33:21:898 (KOIN)::[i] [Koin] close context\n</code></pre>\n\n<p>NPE:</p>\n\n<pre><code>java.lang.NullPointerException\n    at com.waynecovell.kotlinbasics.WorkoutKoinTest.testKoinRepo(WorkoutKoinTest.kt:59)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n"}, {"tags": ["android", "list", "kotlin", "initialization"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1551907133, "post_id": 55028991, "comment_id": 96817167, "body": "This isn&#39;t the constructor, just a method called <code>MutableList</code> (<code>MutableList</code> is an interface, it can&#39;t have a constructor)."}, {"owner": {"reputation": 20153, "user_id": 3410697, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tM0LU.jpg?s=128&g=1", "display_name": "Pedro Oliveira", "link": "https://stackoverflow.com/users/3410697/pedro-oliveira"}, "edited": false, "score": 0, "creation_date": 1551907174, "post_id": 55028991, "comment_id": 96817183, "body": "My bad. I will fix it :)"}], "tags": [], "owner": {"reputation": 20153, "user_id": 3410697, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/tM0LU.jpg?s=128&g=1", "display_name": "Pedro Oliveira", "link": "https://stackoverflow.com/users/3410697/pedro-oliveira"}, "is_accepted": true, "score": 2, "last_activity_date": 1551907211, "last_edit_date": 1551907211, "creation_date": 1551893417, "answer_id": 55028991, "question_id": 55028809, "link": "https://stackoverflow.com/questions/55028809/how-to-initialize-a-listlistt-in-kotlin/55028991#55028991", "title": "How to initialize a List&lt;List&lt;T&gt;&gt; in Kotlin", "body": "<p>First I suggest you change to a <code>MutableList</code> since you want to change the contents of your list. </p>\n\n<p>Finally you can call a function in <code>MutableList</code> to achieve that.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class something&lt;T&gt;(numLists: Int, startPos: Int) {\n    var myList: MutableList&lt;MutableList&lt;T&gt;&gt;\n\n    init {\n        myList = MutableList(numLists) {mutableListOf&lt;T&gt;()}\n    }\n</code></pre>\n"}], "owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 55028991, "answer_count": 1, "score": 0, "last_activity_date": 1551907211, "creation_date": 1551892857, "last_edit_date": 1551906320, "question_id": 55028809, "link": "https://stackoverflow.com/questions/55028809/how-to-initialize-a-listlistt-in-kotlin", "title": "How to initialize a List&lt;List&lt;T&gt;&gt; in Kotlin", "body": "<p>How do I initialize a List of Lists type T in Kotlin?</p>\n\n<p>I need to init the List with an initial capacity and then add lists dynamically later. Something like:</p>\n\n<pre><code>class something(numLists: Int, startPos: Int)\n{\nvar myList: List&lt;List&lt;T&gt;&gt;\n\ninit{\nmyList = // init list with emptyLists to the capacity of numLists\nmyList[startPos] = listOf&lt;T&gt; // Init one list at startPos\n}\n\n/// code...\n\nmyList[anotherPosition] = listOf&lt;T&gt;\n}\n</code></pre>\n"}, {"tags": ["kotlin", "jackson", "feign"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1551895817, "post_id": 55029522, "comment_id": 96811864, "body": "Ok I&#39;ve added it but as I can see in debug mode during JacksonDecoder initialization there is no JavaTimeModule. Moreover @Configuration JacksonConfig is executed after JsonDecoder() in feign."}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "reply_to_user": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1551896145, "post_id": 55029522, "comment_id": 96812036, "body": "@MrNetroful, Probably <code>ObjectMapper</code> from <code>JacksonConfig</code> is not used by <code>JacksonDecoder</code>. See my answer after update."}, {"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1551896211, "post_id": 55029522, "comment_id": 96812070, "body": "Thank you very much it&#39;s solving my problem. I though that JacksonDecoder is somehow injecting existing mapper."}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "reply_to_user": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1551896307, "post_id": 55029522, "comment_id": 96812090, "body": "@MrNetroful, it looks like they do not use it. Even more <code>Decoder</code> and <code>Encoder</code> also have it&#39;s own <code>ObjectMapper</code> so provide same list to both. I will update my answer."}, {"owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 1, "creation_date": 1551897575, "post_id": 55029522, "comment_id": 96812674, "body": "I can use existing objectMapper by injecting with autowired."}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "reply_to_user": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "edited": false, "score": 0, "creation_date": 1551897898, "post_id": 55029522, "comment_id": 96812824, "body": "@MrNetroful, There is a constructor which allow to provide instance of <code>ObjectMapper</code> so you need to use it. In <code>Spring</code> or whatever you use you need to get and inject <code>ObjectMapper</code> from <code>JacksonConfig</code>."}], "tags": [], "owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "is_accepted": true, "score": 1, "last_activity_date": 1551898201, "last_edit_date": 1551898201, "creation_date": 1551895295, "answer_id": 55029522, "question_id": 55028766, "link": "https://stackoverflow.com/questions/55028766/feign-jackson-datetime-jsonmappingexception/55029522#55029522", "title": "Feign jackson dateTime JsonMappingException", "body": "<p>When we take a look how <a href=\"https://github.com/OpenFeign/feign/blob/master/jackson/src/main/java/feign/jackson/JacksonEncoder.java\" rel=\"nofollow noreferrer\"><code>JacksonEncoder</code></a> and <a href=\"https://github.com/OpenFeign/feign/blob/master/jackson/src/main/java/feign/jackson/JacksonDecoder.java\" rel=\"nofollow noreferrer\"><code>JacksonDecoder</code></a> are implemented we will notice they create new <code>ObjectMapper</code> in constructor:</p>\n\n<pre><code>public JacksonDecoder(Iterable&lt;Module&gt; modules) {\n  this(new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n      .registerModules(modules));\n}\n</code></pre>\n\n<p>Above constructor is invoked by default with <code>emptyList()</code>. So, we need to provide all modules we want to use manually.</p>\n\n<p>To get the most from <code>Java 8</code> and <code>Jackson</code> register all 3 modules from <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a>:</p>\n\n<pre><code>private val client = Feign.builder()\n    .encoder(JacksonEncoder(Arrays.asList(JavaTimeModule(), ...)))\n    .decoder(JacksonDecoder(Arrays.asList(JavaTimeModule(), ...)))\n    .target(Client::class.java, host)\n</code></pre>\n\n<p><strong>EDIT</strong><br>\nTher is a constructor which allow to use <code>ObjectMapper</code> instance. You can create new instance or inject from your container:</p>\n\n<pre><code>val mapper = ObjectMapper()\nmapper.registerModule(ParameterNamesModule())\n   .registerModule(Jdk8Module())\n   .registerModule(JavaTimeModule())\n// other configuration\n\nval client = Feign.builder()\n    .encoder(JacksonEncoder(mapper))\n    .decoder(JacksonDecoder(mapper))\n    .target(Client::class.java, host)\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 7990631, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6713e0e3c848ec94430152b774c31947?s=128&d=identicon&r=PG&f=1", "display_name": "MrNetroful", "link": "https://stackoverflow.com/users/7990631/mrnetroful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1241, "favorite_count": 0, "accepted_answer_id": 55029522, "answer_count": 1, "score": 0, "last_activity_date": 1551898201, "creation_date": 1551892719, "last_edit_date": 1551894214, "question_id": 55028766, "link": "https://stackoverflow.com/questions/55028766/feign-jackson-datetime-jsonmappingexception", "title": "Feign jackson dateTime JsonMappingException", "body": "<p>I've got two services that are communicating with openfeign (github.openfeign:10.2.0). I'm forcing problem with deserializing datatime that is sent as JSON.\nHere is my configuration: </p>\n\n<pre><code>@Configuration\nclass JacksonConfig : WebMvcConfigurerAdapter() {\n    override fun extendMessageConverters(converters: List&lt;HttpMessageConverter&lt;*&gt;&gt;?) {\n        for (converter in converters!!) {\n            if (converter is MappingJackson2HttpMessageConverter) {\n                val objectMapper = converter.objectMapper\n                objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                objectMapper.disable(SerializationFeature.WRITE_DURATIONS_AS_TIMESTAMPS)\n                break\n            }\n        }\n    }\n}\n</code></pre>\n\n<pre><code>    private val client = Feign.builder()\n        .encoder(JacksonEncoder())\n        .decoder(JacksonDecoder())\n        .target(Client::class.java, host)\n\n</code></pre>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\ndata class XYZ(\n  var id: Int? = null,\n  val X: Int? = null,\n  val Y: Int? = null,\n  @Enumerated(EnumType.STRING)\n  val z: Type? = null,\n  @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd'T'HH:mm:ss\")\n  val createdOn: LocalDateTime? = null\n)\n\n</code></pre>\n\n<p>Here is exception:</p>\n\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.FeignException: Can not construct instance of java.time.LocalDateTime: no String-argument constructor/factory method to deserialize from String value ('2019-03-06T16:50:53')\n  at [Source: java.io.BufferedReader@3c14b300; line: 1, column: 77] (through reference chain: java.util.HashSet[0]-&gt;XYZ[\"createdOn\"]) reading GET http://localhost:8080/path] with root cause \n  com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of java.time.LocalDateTime: no String-argument constructor/factory method to deserialize from String value ('2019-03-06T16:50:53')\n  at [Source: java.io.BufferedReader@3c14b300; line: 1, column: 77] (through reference chain: java.util.HashSet[0]-&gt;XYZ[\"createdOn\"])\n</code></pre>\n\n<p>Here is Json:</p>\n\n<pre><code>[\n  {\n    \"id\": 2,\n    \"X\": 1,\n    \"U\": 1,\n    \"Z\": \"ABC\",\n    \"createdOn\": \"2019-03-06T16:50:53\"\n  }\n]\n</code></pre>\n\n<p>Dependencies:</p>\n\n<pre><code>    compile group: 'io.github.openfeign', name: 'feign-core', version: '10.2.0'\n    compile group: 'io.github.openfeign', name: 'feign-jackson', version: '10.2.0'\n    compile \"com.fasterxml.jackson.datatype:jackson-datatype-jdk:$jackson_version\"\n    compile \"com.fasterxml.jackson.datatype:jackson-datatype-jsr310:$jackson_version\"\n    compile \"com.fasterxml.jackson.module:jackson-module-kotlin:$jackson_config\"\n</code></pre>\n"}, {"tags": ["vb.net", "kotlin", "binary", "hex"], "comments": [{"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 1, "creation_date": 1551891716, "post_id": 55028264, "comment_id": 96809519, "body": "Just a note: the second parameter in <code>Parse</code> is not the base, but the enum <code>NumberStyles</code> where 2 is <code>AllowTrailingWhite</code>. You are simply parsing it as a decimal."}, {"owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "reply_to_user": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1551892324, "post_id": 55028264, "comment_id": 96809924, "body": "@ZorgoZ alright. So doing only BigInteger.Parse(binary) should do the work, right?"}, {"owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "edited": false, "score": 0, "creation_date": 1551892446, "post_id": 55028264, "comment_id": 96810013, "body": "No. Have you seen anywhere in the documentation, that it can parse binary?"}], "answers": [{"tags": [], "owner": {"reputation": 2444, "user_id": 6180031, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-HRw-01bXV4c/AAAAAAAAAAI/AAAAAAAACP8/Mi48YmzBWL0/photo.jpg?sz=128", "display_name": "ZorgoZ", "link": "https://stackoverflow.com/users/6180031/zorgoz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551893307, "last_edit_date": 1551893307, "creation_date": 1551892596, "answer_id": 55028737, "question_id": 55028264, "link": "https://stackoverflow.com/questions/55028264/convert-binary-string-to-hexadecimal-string/55028737#55028737", "title": "Convert binary String to hexadecimal String", "body": "<p>Following code is c#, but might not be too hard to translate it to vb.net.</p>\n\n<pre><code>string BinToHex(string value)\n{\n    var res = new char[(int)(value.Length / 4)];\n    int j = res.Length-1;\n    for (int i = value.Length - 1; i &gt; 0; i -= 4)\n    {\n        int x =  ((int)value[i]-48) \n                +((int)value[i-1]-48)*2\n                +((int)value[i-2]-48)*4\n                +((int)value[i-3]-48)*8;\n\n        res[j--] = x.ToString(\"X\")[0];\n    }\n\n    return new string(res);\n}\n</code></pre>\n\n<p>Beware: it won't handle input that has not the proper number of bits (multiple of 4). Anyway, the idea is that you can translate between base 2 and base 16 without the use of base 10. You could even step from left to right.</p>\n"}, {"tags": [], "owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1551904483, "creation_date": 1551904483, "answer_id": 55031739, "question_id": 55028264, "link": "https://stackoverflow.com/questions/55028264/convert-binary-string-to-hexadecimal-string/55031739#55031739", "title": "Convert binary String to hexadecimal String", "body": "<p>You can write a simple parser for the string representing the bits:  </p>\n\n<pre><code>Dim sb As StringBuilder = New StringBuilder()\nFor pos As Integer = 0 To binary.Length - 8 Step 8\n    sb.Append(Convert.ToByte(binary.Substring(pos, 8), 2).ToString(\"X2\"))\nNext\n</code></pre>\n\n<p></p>\n\n<pre><code>Console.WriteLine(sb) will print \"441CB6E2E335D6\"\n</code></pre>\n\n<p>Or use a Module to add an extension method to the string data type:  </p>\n\n<pre><code>Imports System.Runtime.CompilerServices\nImports System.Text\n\nModule modStringExtensions\n    &lt;Extension()&gt;\n    Public Function ToHexFromBits(ByVal Value As String) As String\n        If (Not (Value.Length Mod 8 = 0)) Then Throw New FormatException(\"Invalid string length\")\n        Dim sb As StringBuilder = New StringBuilder()\n        For pos As Integer = 0 To Value.Length - 8 Step 8\n            sb.Append(Convert.ToByte(Value.Substring(pos, 8), 2).ToString(\"X2\"))\n        Next\n        Return sb.ToString()\n    End Function\nEnd Module\n</code></pre>\n\n<p>Then use the extension to convert the bits string to a <em>HEX</em> representation: </p>\n\n<pre><code>Dim result As String = binary.ToHexFromBits()\n</code></pre>\n"}], "owner": {"reputation": 738, "user_id": 5503898, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/95c4825378d97ab1d08f897764190365?s=128&d=identicon&r=PG&f=1", "display_name": "Ravers", "link": "https://stackoverflow.com/users/5503898/ravers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1708, "favorite_count": 1, "accepted_answer_id": 55031739, "answer_count": 2, "score": 1, "last_activity_date": 1551946086, "creation_date": 1551891010, "last_edit_date": 1551946086, "question_id": 55028264, "link": "https://stackoverflow.com/questions/55028264/convert-binary-string-to-hexadecimal-string", "title": "Convert binary String to hexadecimal String", "body": "<p>I have this conversion in my Kotlin class for Android:</p>\n\n<pre><code>val binary = \"01000100000111001011011011100010111000110011010111010110\"\nval hexadecimal = BigInteger(binary, 2).toString(16)\n</code></pre>\n\n<p>Which is producing the expected value of <strong><code>441CB6E2E335D6</code></strong>.</p>\n\n<p>Now I want to reproduce this in Visual Basic and I am doing something like this:</p>\n\n<pre><code>Dim binary = \"01000100000111001011011011100010111000110011010111010110\"\nDim hexadecimal = BigInteger.Parse(binary, 2).ToString(\"X\")\n</code></pre>\n\n<p>Which is producing <strong><code>0A7108304A751AFEC876F740BC1F2CB59772FB7C6C753E</code></strong>.</p>\n\n<p>I am not an expert in Visual Basic, but from what I researched, I think this is the right way to convert a binary to hexadecimal. What I am doing wrong?</p>\n"}, {"tags": ["android", "kotlin", "android-asynctask"], "comments": [{"owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "edited": false, "score": 0, "creation_date": 1551925825, "post_id": 55027516, "comment_id": 96822609, "body": "do you need to access activity&#39;s variables from <code>LongTask</code>?"}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "reply_to_user": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "edited": false, "score": 0, "creation_date": 1551928102, "post_id": 55027516, "comment_id": 96823106, "body": "@Choim I need to get received UDP data from the AsyncTask regularly and use it for some processing."}, {"owner": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "edited": false, "score": 0, "creation_date": 1551936510, "post_id": 55027516, "comment_id": 96825127, "body": "your task is anonymous class. So, it has reference to outer class(MainActivity). Therefore, if <code>LongTask</code> is not released, <code>MainActivity</code> would be leaked. Ignore warning with making sure you have to release task or Make <code>LongTask</code> be static class."}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "reply_to_user": {"reputation": 324, "user_id": 5354658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0bf43308c75d6bca39c9583b7ebb49?s=128&d=identicon&r=PG&f=1", "display_name": "Choim", "link": "https://stackoverflow.com/users/5354658/choim"}, "edited": false, "score": 0, "creation_date": 1551936639, "post_id": 55027516, "comment_id": 96825170, "body": "@Choim I want to make LongTask static and I looked into few answers over web but couldn&#39;t follow. Can you add that as an answer?"}, {"owner": {"reputation": 403, "user_id": 10378312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/773b6d95a297d1c7a9491ec1687c674f?s=128&d=identicon&r=PG&f=1", "display_name": "Ryujin", "link": "https://stackoverflow.com/users/10378312/ryujin"}, "edited": false, "score": 0, "creation_date": 1551940923, "post_id": 55027516, "comment_id": 96826514, "body": "You might want to try doing this as a bound service instead that runs on it&#39;s own thread.  Your activity can bind to this service, and unbind to it when it&#39;s done allowing you a chance to clean up properly.  See <a href=\"https://developer.android.com/guide/components/bound-services\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/bound-services</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 0, "last_activity_date": 1551941041, "creation_date": 1551941041, "answer_id": 55037588, "question_id": 55027516, "link": "https://stackoverflow.com/questions/55027516/how-to-get-past-the-memory-leak-warning-creating-a-sigleton-class-that-extends/55037588#55037588", "title": "How to get past the memory leak warning (creating a sigleton class that extends the AsyncTask)", "body": "<pre><code>task = object : LongTask(\"$idx\"){\n    override fun onProgressUpdate(vararg values: String?) {\n        super.onProgressUpdate(*values)\n        Log.d(TAG, \"On UI thread\")\n    }\n}\n</code></pre>\n\n<p>This line will create an anonymous inner class which extends from <code>LongTask</code> class. An inner class have an implicit reference to their outer class, in this case <code>MainActivity</code> class. </p>\n\n<p>If the activity is finished before the asynctask completed, then the activity will be leaked or not collected by GC because it's still referred by the asynctask.</p>\n\n<p><strong>Solution:</strong> To avoid that we should use <code>WeakReference</code> API. In addition, <code>LongTask</code> is a separate class so we need to define an interface to pass data back to the activity.</p>\n\n<p>First, declare an interface </p>\n\n<p><strong>OnProgressUpdateListener.kt</strong></p>\n\n<pre><code>interface OnProgressUpdateListener {\n    fun onProgressUpdate(vararg values: String?)\n}\n</code></pre>\n\n<p>Second, modify the asynctask class. Just focus on <code>OnProgressUpdateListener</code> part because I don't know what exactly your class look like.</p>\n\n<p><strong>LongTask.kt</strong></p>\n\n<pre><code>class LongTask(val idx: String, listener: OnProgressUpdateListener) : AsyncTask&lt;String, String, Unit&gt;() {\n\n    private val mListener: WeakReference&lt;OnProgressUpdateListener&gt;? = WeakReference(listener)\n\n    override fun doInBackground(vararg params: String?) {\n\n    }\n\n    override fun onProgressUpdate(vararg values: String?) {\n        mListener?.get()?.onProgressUpdate(*values)\n    }\n}\n</code></pre>\n\n<p>Finally, let the activity implements <code>OnProgressUpdateListener</code>.</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity(), OnProgressUpdateListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        task = LongTask(\"$idx\", this)\n        task.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, \"\")\n    }\n\n    override fun onProgressUpdate(vararg values: String?) {\n        // Update your progress on UI thread here\n        Log.d(TAG, \"On UI thread\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 55037588, "answer_count": 1, "score": 0, "last_activity_date": 1551941041, "creation_date": 1551888600, "last_edit_date": 1551889502, "question_id": 55027516, "link": "https://stackoverflow.com/questions/55027516/how-to-get-past-the-memory-leak-warning-creating-a-sigleton-class-that-extends", "title": "How to get past the memory leak warning (creating a sigleton class that extends the AsyncTask)", "body": "<p>I have created a UDP communication application and it is working very well (so far). To receive UDP packets I am using an <code>AsyncTask</code> extension class.</p>\n\n<p>For the sake of clarity (and brevity) I have divided the code into separate kotlin files. </p>\n\n<p><strong>MainActivity.kt</strong> handles the UI stuff like button press and creating objects<br>\n<strong>LongTask.kt</strong> defines a <code>LongTask</code> class that extends the <code>AsyncTask</code> (UDP receiver code)</p>\n\n<p>I create a instance of <code>LongTask</code> on a <strong>button press event</strong> using the following </p>\n\n<pre><code>task = object : LongTask(\"$idx\"){\n                override fun onProgressUpdate(vararg values: String?) {\n                    super.onProgressUpdate(*values)\n                    Log.d(TAG, \"On UI thread\")\n                }\n            }\n\ntask.executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, \"\")\n</code></pre>\n\n<p>However, the above lines of code are highlighted in yellow and keep warning of a possible memory leak.   </p>\n\n<p>How to write a leak proof code to get past this warning?</p>\n"}, {"tags": ["android-studio", "kotlin", "android-emulator"], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 10905093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248929330bb0d3347dc5d6c5668f4fb3?s=128&d=identicon&r=PG&f=1", "display_name": "CuteCake", "link": "https://stackoverflow.com/users/10905093/cutecake"}, "is_accepted": false, "score": 0, "last_activity_date": 1551965623, "creation_date": 1551965623, "answer_id": 55045094, "question_id": 55027371, "link": "https://stackoverflow.com/questions/55027371/a-problem-with-the-emulator-in-android-studio-small-screen-and-the-app-wont-ru/55045094#55045094", "title": "A problem with the emulator in Android Studio. Small screen and the app won&#39;t run", "body": "<p>Got negative votes but no answer.</p>\n\n<p>Found a solution for the screen size problem <a href=\"https://forums.xamarin.com/discussion/102445/my-emulator-screen-is-wrong\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<p>Find \"C:\\Program Files (x86)\\Android\\android-sdk\\emulator\\qemu\\windows-x86_64\"\nRight click \"the qemu-system\u2026 .exe\" you are using\nProperties->Compatibility:Change high dpi Setting to be overwritten by System.</p>\n"}], "owner": {"reputation": 7, "user_id": 10905093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/248929330bb0d3347dc5d6c5668f4fb3?s=128&d=identicon&r=PG&f=1", "display_name": "CuteCake", "link": "https://stackoverflow.com/users/10905093/cutecake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1552438371, "creation_date": 1551888171, "question_id": 55027371, "link": "https://stackoverflow.com/questions/55027371/a-problem-with-the-emulator-in-android-studio-small-screen-and-the-app-wont-ru", "title": "A problem with the emulator in Android Studio. Small screen and the app won&#39;t run", "body": "<p>I'm having an issue with my emulator. It won't run my app. The app is working fine on an actual phone. I've already looked at some others and tried a few things but it just isn't working. </p>\n\n<p><a href=\"https://i.stack.imgur.com/p68Co.png\" rel=\"nofollow noreferrer\">Emulator</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/9PsJL.png\" rel=\"nofollow noreferrer\">Error</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/G0EJy.png\" rel=\"nofollow noreferrer\">Error 2</a></p>\n\n<p>What's with the minus points instead of answering the question? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2146, "user_id": 3780625, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/dKJKS.jpg?s=128&g=1", "display_name": "Maxouille", "link": "https://stackoverflow.com/users/3780625/maxouille"}, "edited": false, "score": 0, "creation_date": 1551887122, "post_id": 55026929, "comment_id": 96806677, "body": "How do you go back to home activity ? With the &quot;back&quot; button of your device ? Via a button in the app ?"}, {"owner": {"reputation": 452, "user_id": 7575491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z6rskOgDBU4/AAAAAAAAAAI/AAAAAAAAALA/NQbRiRRs3ns/photo.jpg?sz=128", "display_name": "Mohammad Rbabah", "link": "https://stackoverflow.com/users/7575491/mohammad-rbabah"}, "edited": false, "score": 0, "creation_date": 1551887278, "post_id": 55026929, "comment_id": 96806774, "body": "please show us all code"}, {"owner": {"reputation": 47, "user_id": 8020377, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059587464168721/picture?type=large", "display_name": "D_lip", "link": "https://stackoverflow.com/users/8020377/d-lip"}, "edited": false, "score": 0, "creation_date": 1551887642, "post_id": 55026929, "comment_id": 96807000, "body": "I just updated my code i think it may help"}, {"owner": {"reputation": 47, "user_id": 8020377, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059587464168721/picture?type=large", "display_name": "D_lip", "link": "https://stackoverflow.com/users/8020377/d-lip"}, "edited": false, "score": 0, "creation_date": 1551887691, "post_id": 55026929, "comment_id": 96807036, "body": "I pressed device back button to go back on home activity"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 8020377, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059587464168721/picture?type=large", "display_name": "D_lip", "link": "https://stackoverflow.com/users/8020377/d-lip"}, "edited": false, "score": 0, "creation_date": 1551888938, "post_id": 55027458, "comment_id": 96807825, "body": "Thanks, bro. I know home activity onCreate() not called when i go back again. but I forgot to re-initialise handler. I forgot that handler still referencing the Handler created by GeneralPlayer. thanks again..."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3444398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1657310df84cfb5575b018506592b5bf?s=128&d=identicon&r=PG", "display_name": "jguerinet", "link": "https://stackoverflow.com/users/3444398/jguerinet"}, "is_accepted": true, "score": 1, "last_activity_date": 1551888409, "creation_date": 1551888409, "answer_id": 55027458, "question_id": 55026929, "link": "https://stackoverflow.com/questions/55026929/abstract-class-implemented-by-2-activity-work-improperly/55027458#55027458", "title": "Abstract class implemented by 2 activity work improperly", "body": "<p>You are setting <code>Constants.PLAYER_UI</code> to the <code>Handler</code> of the most recently created Activity. So here is what is happening: </p>\n\n<ul>\n<li>You create <code>Home</code>, it creates the <code>Constants.PLAYER_UI</code> <code>Handler</code> with a reference to <code>Home</code>, which then calls the right method. </li>\n<li>You then go to <code>GeneralPlayer</code>. This resets the <code>Constants.PLAYER_UI</code> <code>Handler</code> with the <code>GeneralPlayer</code> created <code>Handler</code>. This holds a reference to <code>GeneralPlayer</code>, so it calls the right method. </li>\n<li>You go back to <code>Home</code>. However, <code>onCreate()</code> isn't called, as <code>Home</code> has already been created. So <code>Constants.PLAYER_UI</code> <strong>is still referencing the Handler created by GeneralPlayer</strong>. So when that method is called (from somewhere else I would assume), it's using the <code>GeneralPlayer</code> activity that it held a reference to, and outputs the <code>GeneralPlayer</code> message. </li>\n</ul>\n\n<p>Do you need the <code>Handler</code> to be a constant? You can have it just be a instance variable on the activity, so that a new instance gets created with every activity and destroyed alongside it as well: </p>\n\n<pre><code>abstract class PlayerAbstractClass() : AppCompatActivity() {\n    private val playerUiHandler = Handler(object : Handler.Callback {\n        override fun handleMessage(msg: Message?): Boolean {\n            updateButtonUI()\n            return true\n        }\n    })\n\n    protected abstract fun updateButtonUI()\n}\n</code></pre>\n\n<p>That way your <code>Home</code> activity has its own <code>playerUiHandler</code> instance which it will call every time you're on <code>Home</code>, and similarly <code>GeneralPlayer</code> will have a different <code>playerUiHandler</code> instance that gets called when you're on that activity. As an added bonus, you are no longer leaking the <code>Context</code> and holding references to activities that should have been destroyed. </p>\n"}], "owner": {"reputation": 47, "user_id": 8020377, "user_type": "registered", "profile_image": "https://graph.facebook.com/1059587464168721/picture?type=large", "display_name": "D_lip", "link": "https://stackoverflow.com/users/8020377/d-lip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55027458, "answer_count": 1, "score": 0, "last_activity_date": 1551888409, "creation_date": 1551886890, "last_edit_date": 1551887901, "question_id": 55026929, "link": "https://stackoverflow.com/questions/55026929/abstract-class-implemented-by-2-activity-work-improperly", "title": "Abstract class implemented by 2 activity work improperly", "body": "<ol>\n<li>Home activity</li>\n<li>GeneralPlayer activity</li>\n</ol>\n\n<p>I make 2 activity with extends abstract class which contain an abstract method. abstract method has a different implementation in all 2 class.</p>\n\n<p>when app starts it will go home activity and call its method which declared abstract in abstract class. it's fine.</p>\n\n<p>when I will go to second(GeneralPlayer) activity. then its abstract method call .which is also fine but when I came to home activity than here GeneralPlayer activity abstract method call which is wrong. Here home activity abstract method implementation should call..</p>\n\n<p>look at code </p>\n\n<pre><code>abstract class PlayerAbstractClass() : AppCompatActivity() {\n      protected fun initiliseUIHandler(){\n        Constants.PLAYER_UI = Handler(object : Handler.Callback {\n            override fun handleMessage(msg: Message?): Boolean {\n                updateButtonUI()\n                return true\n            }\n        })\n     }\n     protected abstract fun updateButtonUI()\n}\n\nclass GeneralPlayer : PlayerAbstractClass() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        initiliseUIHandler()\n    }\n\n    override fun updateButtonUI() {\n      Log.i(\"MusicPlayer\",\"activity\")\n  }\n}\n\nclass Home : PlayerAbstractClass(){\n    override fun onCreate(savedInstanceState: Bundle?) {\n        initiliseUIHandler()\n    }\n\n   override fun updateButtonUI() {\n      Log.i(\"HOME\",\"activity\")\n   }\n}\n</code></pre>\n\n<p>So when app start Home activity call it print <strong>HOME: activity</strong>\nwhen i went to GeneralPlayer it print <strong>MusicPlayer: activity</strong></p>\n\n<p>Above both statement are fine.\nbut when i came back again on home activity then it call <strong>MusicPlayer:activity</strong> which is wrong it should call <strong>HOME:activity</strong></p>\n\n<p>Can please tell me what i am doing wrong</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "bottom-sheet"], "answers": [{"tags": [], "owner": {"reputation": 1088, "user_id": 6235974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nchYR.jpg?s=128&g=1", "display_name": "Merov", "link": "https://stackoverflow.com/users/6235974/merov"}, "is_accepted": true, "score": 4, "last_activity_date": 1551896853, "last_edit_date": 1551896853, "creation_date": 1551896216, "answer_id": 55029741, "question_id": 55026327, "link": "https://stackoverflow.com/questions/55026327/bottomsheet-not-shown-when-use-recyclerview/55029741#55029741", "title": "BottomSheet not shown when use RecyclerView", "body": "<p>Since i have not use it before i'm not sure that is the only solution.</p>\n\n<p>Change your <code>RecyclerView</code> height to <code>wrap_content</code></p>\n\n<p>And add the next lines to your <code>TextView</code></p>\n\n<pre><code>app:layout_constraintVertical_bias=\"0\"\napp:layout_constraintVertical_chainStyle=\"packed\"\n</code></pre>\n\n<p>Or remove <code>bottom constraint</code> from <code>TextView</code> and add the same <code>bias</code> to <code>RecyclerView</code></p>\n\n<p>It has worked for me.</p>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1002, "favorite_count": 0, "accepted_answer_id": 55029741, "answer_count": 1, "score": 2, "last_activity_date": 1560955659, "creation_date": 1551885098, "last_edit_date": 1560955659, "question_id": 55026327, "link": "https://stackoverflow.com/questions/55026327/bottomsheet-not-shown-when-use-recyclerview", "title": "BottomSheet not shown when use RecyclerView", "body": "<p>I have the following code for bottom sheet </p>\n\n<p><strong>xml file</strong></p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/titleTextview\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"16dp\"\n        android:layout_marginEnd=\"16dp\"\n        android:fontFamily=\"sans-serif\"\n        android:text=\"@string/choose_option\"\n        android:textColor=\"@android:color/darker_gray\"\n        android:textSize=\"14sp\"\n        android:textStyle=\"normal\"\n        app:layout_constraintBottom_toTopOf=\"@id/recyclerView\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginBottom=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@id/titleTextview\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>View</strong> </p>\n\n<pre><code>class AttributeOptionsBottomSheet(val viewModel: AttributeOptionsViewModel) : BottomSheetDialogFragment() {\n\n    override fun getTheme(): Int = R.style.AppBottomSheetDialogTheme\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? = inflater.inflate(R.layout.bottom_sheet_attributes, container, false)\n        .also { view -&gt;\n            view.findViewById&lt;RecyclerView&gt;(R.id.recyclerView).apply {\n                context?.let {\n                    layoutManager = LinearLayoutManager(Activity())\n                    adapter = AttributeOptionsAdapter(viewModel)\n                    viewModel.dismissView.observe({ lifecycle }) {\n                        dismiss()\n                    }\n                }\n            }\n        }\n}\n</code></pre>\n\n<p><strong>View Model</strong></p>\n\n<pre><code>class AttributeOptionsViewModel(attributeId: Int) : BaseViewModel() {\n\n    val optionsDao: ExtraAttributeOptionDao by inject()\n    var options : List&lt;ExtraAttributeOptionEntity&gt; = ArrayList&lt;ExtraAttributeOptionEntity&gt;()\n    val dismissView = LiveEvent&lt;Unit&gt;()\n    var optionSelected = LiveEvent&lt;ExtraAttributeOptionEntity&gt;()\n\n    init {\n        getOptions(attributeId)\n    }\n\n    fun getOptionName(position: Int): String {\n        return options[position].name\n    }\n\n    fun setSelectedOption(position: Int) {\n        options[position].apply {\n            optionSelected.postValue(this)\n            dismissView.postValue(Unit)\n        }\n    }\n\n    fun getOptions(attributeId: Int) {\n        launch(Dispatchers.IO) {\n            options = optionsDao.getExtraAttributeOptionsBuAttributeId(attributeId)\n        }\n    }\n}\n</code></pre>\n\n<p>my problem is the bottom sheet is shown when there is small number of items, and it does not show with large number of items, the screen only dimmed and no thing happen</p>\n"}, {"tags": ["android", "kotlin", "adapter", "onactivityresult", "appcompatactivity"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1551884803, "post_id": 55026136, "comment_id": 96805199, "body": "which method you want to be override?"}, {"owner": {"reputation": 301, "user_id": 6197470, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ea6246becc00b23b547f016bbb61e26f?s=128&d=identicon&r=PG&f=1", "display_name": "ArteFact", "link": "https://stackoverflow.com/users/6197470/artefact"}, "edited": false, "score": 0, "creation_date": 1551885638, "post_id": 55026136, "comment_id": 96805766, "body": "You should start and handle the intent from the adapters&#39; parent activity, then update your list and call notifyDataSetChanged(); on adapter (don&#39;t forget to cast it) still from the host activity"}], "answers": [{"tags": [], "owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "is_accepted": false, "score": 1, "last_activity_date": 1551908442, "last_edit_date": 1551908442, "creation_date": 1551885262, "answer_id": 55026380, "question_id": 55026136, "link": "https://stackoverflow.com/questions/55026136/android-how-to-extend-appcompatactivity-in-an-adapter/55026380#55026380", "title": "Android- How to extend AppCompatActivity() in an Adapter?", "body": "<p>You can't, in Java classes can't inherit from two classes at the same time. Only one. Considering your adapter already <code>extends RecyclerView.Adapter</code> then you can't.</p>\n\n<p><strong>The recommended approach is to use callback</strong>. A callback is an <code>interface</code> that is <code>implements</code> on the host activity or fragment and pass as an argument to the other class (the adapter on this case). Your adapter will hold a reference to the callback, so when the view is clicked then the reference will be called triggering the implementation on the activity or fragment.</p>\n\n<p>You can see a detailed explanation <a href=\"https://stackoverflow.com/a/32032990/4017501\">here</a></p>\n\n<ol>\n<li>When the click happens, from the activity start the intent to the camera</li>\n<li>After the photo is taken inside <code>onActivityResult</code> on the activity pass the result to the adapter</li>\n<li>The adapter need a method for receiving the result, it should be something like this</li>\n</ol>\n\n<pre><code>public void addPhoto(SomeObject object){\n    yourData.add(object);\n    notifyDataseChanged();\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>The code inside <code>onActivityResult</code> should be something like this</li>\n</ol>\n\n<pre><code>SomeObject objet = data... //you have to get the data and transform it to your format\nadaper.addPhoto(object)\n</code></pre>\n"}], "owner": {"reputation": 529, "user_id": 9866847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efcab95a4db46c1cc923f4f19ba153e7?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Relvas", "link": "https://stackoverflow.com/users/9866847/pedro-relvas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551908442, "creation_date": 1551884510, "question_id": 55026136, "link": "https://stackoverflow.com/questions/55026136/android-how-to-extend-appcompatactivity-in-an-adapter", "title": "Android- How to extend AppCompatActivity() in an Adapter?", "body": "<p>I got an <code>adapter</code> and I got an action which open a \"app camera\", then I capture the image. And from here it got to execute a function called <code>onActivityResult(requestCode: Int, resultCode: Int, data: Intent?)</code>, but I can't <code>override</code> the method because I can't extend AppCompatActivity().</p>\n\n<p>Any help? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 0, "creation_date": 1551880683, "post_id": 55024772, "comment_id": 96802578, "body": "Why are you declaring a new instance of <code>GregorianCalendar</code> each time you press the button? <code>getInstance()</code> is not a singleton, <a href=\"https://stackoverflow.com/questions/6055112/why-can-i-have-only-one-instance-of-calendar-object\">it&#39;s a factory method</a>, which may explain the increased memory usage until GC happens."}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "reply_to_user": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 1, "creation_date": 1551880907, "post_id": 55024772, "comment_id": 96802722, "body": "@MichaelDodd If I move the creation of <code>GregorianCalendar</code> outside the <code>OnClickListener</code> the time no longer updates. AND the problem is still there, the code cache still increases. Also, why is GC not smart enough?"}, {"owner": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 0, "creation_date": 1551881114, "post_id": 55024772, "comment_id": 96802862, "body": "Are you able to isolate it down to a single line? i.e. comment out all but one of the lines / set <code>sample_text.text</code> to a constant String value until you find the one line that seems to increase the memory?"}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "reply_to_user": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "edited": false, "score": 0, "creation_date": 1551881470, "post_id": 55024772, "comment_id": 96803049, "body": "@MichaelDodd Kindly take a look at the updated post"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 1, "creation_date": 1551882791, "post_id": 55024772, "comment_id": 96803851, "body": "Memory dump could be way more helpful. The console messages do not look like you have a memory leak, it may be a normal way an application is being executed far beyond your activity class code."}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "reply_to_user": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1551884813, "post_id": 55024772, "comment_id": 96805205, "body": "@EugenePetrenko When I keep pressing the <code>ststBtn</code> the memory (code capacity) goes on increasing."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 1, "creation_date": 1551889758, "post_id": 55024772, "comment_id": 96808329, "body": "The GC is normally lazy, it may not collect memory instantly. Instead, it may wait for some time, while there is enough memory. Thus you may see unneeded objects that are not yet collected. The memory dump will help to see it. It could have been the internals of the Android framework which create objects to handle the click (at least you need a click/touch event object to be allocated)."}, {"owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "reply_to_user": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1551889985, "post_id": 55024772, "comment_id": 96808480, "body": "@EugenePetrenko That makes sense. Is memory dump a definitive way to identify memory leak? How do I create and analyze the memory dump?"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 1, "creation_date": 1551890080, "post_id": 55024772, "comment_id": 96808536, "body": "Take a look at what you have in Android Studio, e.g. <a href=\"https://developer.android.com/studio/profile/memory-profiler\" rel=\"nofollow noreferrer\">developer.android.com/studio/profile/memory-profiler</a>"}], "owner": {"reputation": 843, "user_id": 1504247, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/j43X7.jpg?s=128&g=1", "display_name": "vvy", "link": "https://stackoverflow.com/users/1504247/vvy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551881429, "creation_date": 1551880464, "last_edit_date": 1551881429, "question_id": 55024772, "link": "https://stackoverflow.com/questions/55024772/how-is-memory-leak-happening-in-this-scenario", "title": "How is memory leak happening in this scenario?", "body": "<p>I am not able to understand how memory leak is happening in my application. I have a simple code that reproduces the error as follows:</p>\n\n<p>In the <code>MainActivity</code>. I create a calendar instance and update milliseconds in a TextView </p>\n\n<pre><code>private lateinit var calendar: Calendar\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // Example of a call to a native method\n    sample_text.text = stringFromJNI()\n\n\n    statBtn.setOnClickListener{\n        calendar = GregorianCalendar.getInstance()\n        sample_text.text = calendar.timeInMillis.toString()\n    }\n\n}\n</code></pre>\n\n<p>When I run the application just press the <code>statBtn</code> the app works fine (I see time updating in a TextView). However logcat reports the following</p>\n\n<pre><code>I/zygote64: Do partial code cache collection, code=24KB, data=26KB\nI/zygote64: After code cache collection, code=24KB, data=26KB\nI/zygote64: Increasing code cache capacity to 128KB\nI/zygote64: Do partial code cache collection, code=57KB, data=54KB\nI/zygote64: After code cache collection, code=57KB, data=54KB\nI/zygote64: Increasing code cache capacity to 256KB\n</code></pre>\n\n<h2>EDIT</h2>\n\n<p>This code leaks too:</p>\n\n<pre><code>package com.example.blabla.d344\n\nimport android.os.AsyncTask\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.util.Log\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n    private val TAG = \"Main Activity\"\n    //private lateinit var task: LongTask\n    private var idx=0\n    private lateinit var calendar: Calendar\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Example of a call to a native method\n        sample_text.text = stringFromJNI()\n        calendar = GregorianCalendar.getInstance()\n\n        statBtn.setOnClickListener{\n\n            //sample_text.text = calendar.timeInMillis.toString()\n        }\n\n    }\n\n    /**\n     * A native method that is implemented by the 'native-lib' native library,\n     * which is packaged with this application.\n     */\n    external fun stringFromJNI(): String\n\n    companion object {\n\n        // Used to load the 'native-lib' library on application startup.\n        init {\n            System.loadLibrary(\"native-lib\")\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "edited": false, "score": 0, "creation_date": 1551951640, "post_id": 55025958, "comment_id": 96832023, "body": "Yes, I know, but this is not fixing the issue. I wanted to wrap real instance, so I could mock only some certain methods."}], "tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 1, "last_activity_date": 1551884042, "creation_date": 1551884042, "answer_id": 55025958, "question_id": 55024742, "link": "https://stackoverflow.com/questions/55024742/mockito-spy-throws-stubbing-exception/55025958#55025958", "title": "Mockito spy throws stubbing exception", "body": "<p>Matchers, such as <code>any()</code>, must be used only in <code>verify()</code> calls. You have:</p>\n\n<pre><code>val httpEntity = HttpEntity(Any(), headers)\n</code></pre>\n\n<p>You can't use <code>any()</code> in this context as you are constructing an object, not verifying a method call. You need to pass in an actual value here. </p>\n\n<p>Side note: <code>spy()</code> is intended to wrap a real instance. If you're just mocking out an interface (<code>RestTemplate</code>) you should likely be using <code>mock(RestTemplate::class.java)</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "is_accepted": false, "score": 0, "last_activity_date": 1551951853, "creation_date": 1551951853, "answer_id": 55040584, "question_id": 55024742, "link": "https://stackoverflow.com/questions/55024742/mockito-spy-throws-stubbing-exception/55040584#55040584", "title": "Mockito spy throws stubbing exception", "body": "<p>I found the problem, but I still didn't get the reason. The issue was in config.randomEndpoint.  When I changed the value to string type without injecting config class, the error disappeared. </p>\n"}], "owner": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551951853, "creation_date": 1551880376, "question_id": 55024742, "link": "https://stackoverflow.com/questions/55024742/mockito-spy-throws-stubbing-exception", "title": "Mockito spy throws stubbing exception", "body": "<p>I'm trying to spy restTemplate and I wanna to stub 'exchange' method</p>\n\n<p>Here is some code: </p>\n\n<p>spying class</p>\n\n<pre><code>@Bean\n  fun mockedRestTemplate(): RestTemplate = Mockito.spy(RestTemplate::class.java)\n</code></pre>\n\n<p>another class</p>\n\n<pre><code>   val headers = HttpHeaders()\n   headers.setBasicAuth(UUID.randomUUID().toString(), UUID.randomUUID().toString())\n\n   val responseBody = \"some error message\"\n\n   val ex = HttpClientErrorException.create(\n        HttpStatus.NOT_FOUND,\n        \"random\",\n        headers,\n        responseBody.toByteArray(),\n        Charset.defaultCharset()\n    )\n\n   val httpEntity = HttpEntity(Any(), headers)\n\n   Mockito.doThrow(ex).`when`(restTemplate).exchange(\n            any() ?: config.randomEndpoint,\n            any(HttpMethod::class.java) ?: HttpMethod.POST,\n            any() ?: httpEntity,\n            any() ?: Foo::class.java\n   )\n</code></pre>\n\n<p>What might I be doing wrong here? I get this error message: </p>\n\n<pre><code>    org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nInvalid use of argument matchers!\n0 matchers expected, 1 recorded:\n-&gt; at test.suites.controller.FooTest.canGetFailedErrorFieldsIfApiRejectsRequest(FooTest.kt:468)\n\nThis exception may occur if matchers are combined with raw values:\n    //incorrect:\n    someMethod(anyObject(), \"raw String\");\nWhen using matchers, all arguments have to be provided by matchers.\nFor example:\n    //correct:\n    someMethod(anyObject(), eq(\"String by matcher\"));\n</code></pre>\n\n<p>When I'm mocking/spying another classes, it works fine</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-integration", "spring-integration-dsl"], "answers": [{"tags": [], "owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "is_accepted": true, "score": 2, "last_activity_date": 1551881215, "creation_date": 1551881215, "answer_id": 55025006, "question_id": 55024662, "link": "https://stackoverflow.com/questions/55024662/spring-integration-connecting-a-gateway-to-a-service-activator/55025006#55025006", "title": "Spring Integration Connecting a Gateway to a Service Activator", "body": "<p>For a simple use-case like yours you indeed don't need an <code>IntegrationFlow</code>. The simple <code>@ServiceActivator</code> as you have now is fully enough to process messages from the <code>notificationChannel</code>. Only what you need is a <code>@Poller</code> in that <code>@ServiceActivator</code> configuration since your <code>notificationChannel</code> is a <code>PollableChannel</code> one and it is not subscribable one.</p>\n\n<p>See Reference Manual for more info: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/#configuration-using-poller-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/#configuration-using-poller-annotation</a></p>\n\n<p>Also pay attention to the paragraph in the beginning of the doc: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/#programming-considerations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/#programming-considerations</a></p>\n"}], "owner": {"reputation": 185, "user_id": 8075423, "user_type": "registered", "profile_image": "https://graph.facebook.com/1224502660993446/picture?type=large", "display_name": "Radoslav Hubenov", "link": "https://stackoverflow.com/users/8075423/radoslav-hubenov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 55025006, "answer_count": 1, "score": 1, "last_activity_date": 1551881215, "creation_date": 1551880137, "question_id": 55024662, "link": "https://stackoverflow.com/questions/55024662/spring-integration-connecting-a-gateway-to-a-service-activator", "title": "Spring Integration Connecting a Gateway to a Service Activator", "body": "<p>I've created a Gateway and a polling notificationChannel which the Gateway uses to route messages. I want a service activator to poll from the channel and do its thing. But I can't seem to grasp a few things about Spring Integration.</p>\n\n<p>In this case would we need an IntegrationFlow Bean? Wouldn't  calling the gateway method just send the message trough the channel and the service activator can just poll automatically when there is a new message?</p>\n\n<p>ConfigurationClass:</p>\n\n<pre><code>@EnableIntegration\n@Configuration\n@IntegrationComponentScan\nclass IntegrationConfiguration {\n\n  @Bean\n  fun notificationChannel(): MessageChannel {\n      return MessageChannels.queue().get()\n  }\n\n  @Bean\n  fun integrationFlow(): IntegrationFlow {\n      TODO()\n  }\n}\n</code></pre>\n\n<p>Gateway:</p>\n\n<pre><code>@MessagingGateway(defaultRequestChannel = \"notificationChannel\")\n@Component\ninterface NotificationGateway {\n\n  fun sendNotification(bytes: ByteArray)\n\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>@Service\nclass NotificationService {\n\n  @ServiceActivator(inputChannel = \"notificationChannel\")\n  fun sendNotification(bytes: ByteArray) {\n      TODO()\n  }\n}\n</code></pre>\n\n<p>I am new to Spring Integration and having a rough time since I can't find understandable documentation for my level of knowledge especially on Spring Integration DSL.</p>\n\n<p>My main problem might be that I do now understand the use of the IntegrationFlow Bean</p>\n"}, {"tags": ["firebase", "google-app-engine", "kotlin", "google-cloud-firestore", "ktor"], "comments": [{"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1551943431, "post_id": 55024144, "comment_id": 96827538, "body": "Can you post application.conf file ..?"}, {"owner": {"reputation": 832, "user_id": 981348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff7da20aa6bfb8dbc81b00c1346f352?s=128&d=identicon&r=PG", "display_name": "strmstn", "link": "https://stackoverflow.com/users/981348/strmstn"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1552051012, "post_id": 55024144, "comment_id": 96875926, "body": "@Moinkhan, sure. I&#39;ve updated the post with the contents of my application.conf file."}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1552058805, "post_id": 55024144, "comment_id": 96880173, "body": "may be your code is throwing exception... can you wrap with try catch ... and respond with empty string in catch clause .."}, {"owner": {"reputation": 832, "user_id": 981348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff7da20aa6bfb8dbc81b00c1346f352?s=128&d=identicon&r=PG", "display_name": "strmstn", "link": "https://stackoverflow.com/users/981348/strmstn"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1552126566, "post_id": 55024144, "comment_id": 96899226, "body": "@Moinkhan, I just tried catching all exceptions for the test code but I get the same result as before."}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 1353678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ea5a89e8c4e77bab6eb0771b81c7c2?s=128&d=identicon&r=PG", "display_name": "moxiesquinn", "link": "https://stackoverflow.com/users/1353678/moxiesquinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1572963221, "creation_date": 1572963221, "answer_id": 58713202, "question_id": 55024144, "link": "https://stackoverflow.com/questions/55024144/firestore-client-hangs-when-attempting-to-read-data-running-on-app-engine-standa/58713202#58713202", "title": "Firestore client hangs when attempting to read data running on App Engine Standard with Ktor/Java8", "body": "<p>I had a similar problem running on the App Engine Flex environment, and eventually figured out that the default instance size that Flex provides (0.6 GB) was too small to support the Firestore APIs.  So, in the Flex case I needed to adjust my app.yaml file to include a \"resources\" section like so:</p>\n\n<pre><code>resources:\n  cpu: 2\n  memory_gb: 2.3\n  disk_size_gb: 10\n</code></pre>\n\n<p>Reference on resource settings in App Engine Flexible deployments: <a href=\"https://cloud.google.com/appengine/docs/flexible/custom-runtimes/configuring-your-app-with-app-yaml#resource-settings\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/flexible/custom-runtimes/configuring-your-app-with-app-yaml#resource-settings</a></p>\n\n<p>For App Engine Standard I would expect you may need to do something similar by adjusting the \"instance-class\" in your app-engine.xml file.  \"F1\" is the default instance class in App Engine Standard, which has a 128 MB limit with the Java 8 runtime and a 256 MB limit with the Java 11 runtime.  So, you may want to try moving to \"F2\" or \"F4\".</p>\n\n<p>Reference on configuring the instance class in App Engine Standard java deployments: <a href=\"https://cloud.google.com/appengine/docs/standard/java/config/appref#syntax\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java/config/appref#syntax</a></p>\n\n<p>Reference on App Engine instance classes: <a href=\"https://cloud.google.com/appengine/docs/standard/#instance_classes\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/#instance_classes</a></p>\n"}], "owner": {"reputation": 832, "user_id": 981348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff7da20aa6bfb8dbc81b00c1346f352?s=128&d=identicon&r=PG", "display_name": "strmstn", "link": "https://stackoverflow.com/users/981348/strmstn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1572963221, "creation_date": 1551878539, "last_edit_date": 1552126741, "question_id": 55024144, "link": "https://stackoverflow.com/questions/55024144/firestore-client-hangs-when-attempting-to-read-data-running-on-app-engine-standa", "title": "Firestore client hangs when attempting to read data running on App Engine Standard with Ktor/Java8", "body": "<p>I'm having issues integrating with Firestore in the Google App Engine Standard environment (using Java8, Kotlin and Ktor). The Firestore client hangs when I attempt to perform any operation. It works fine when running in the dev appserver but doesn't when running in production.</p>\n\n<p>I'm running:</p>\n\n<ul>\n<li>Ktor 1.1.2</li>\n<li>Kotlin 1.3.21</li>\n<li>com.google.cloud:google-cloud-firestore (version 0.81.0-beta)</li>\n<li>Firestore in native mode</li>\n</ul>\n\n<p>I've tested with this simple route:</p>\n\n<pre><code>get(\"/test\") {\n    try {\n        val firestore = FirestoreOptions.getDefaultInstance().service\n        val user = firestore.collection(\"user\").document(\"testusername\").get().get()\n        call.respond(user.getString(\"name\")!!)\n    } catch (ex: Exception) {\n        call.respond(\"Exception: \" + ex)\n    }\n}\n</code></pre>\n\n<p>Visiting <code>/test</code> in a web browser causes the site to hang for a minute before a 500 error is returned.</p>\n\n<p>The following exception is logged in Google Cloud Platform:</p>\n\n<pre><code>[e~website/20190306t125554.416577836925362605].&lt;stdout&gt;: 2019-03-06 13:01:31.306 [RequestEDA5B9B5] ERROR Application - Unhandled: GET - /test\njava.lang.InterruptedException: null\n    at com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:506)\n    at com.google.common.util.concurrent.AbstractFuture$TrustedFuture.get(AbstractFuture.java:83)\n    at com.google.common.util.concurrent.ForwardingFuture.get(ForwardingFuture.java:62)\n    at com.example.MainApplicationKt$run$4$2.invokeSuspend(MainApplication.kt:93)\n    at com.example.MainApplicationKt$run$4$2.invoke(MainApplication.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.routing.Routing.executeResult(Routing.kt:148)\n    at io.ktor.routing.Routing.interceptor(Routing.kt:29)\n    at io.ktor.routing.Routing$Feature$install$1.invokeSuspend(Routing.kt:93)\n    at io.ktor.routing.Routing$Feature$install$1.invoke(Routing.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invokeSuspend(ContentNegotiation.kt:63)\n    at io.ktor.features.ContentNegotiation$Feature$install$1.invoke(ContentNegotiation.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.features.CallLogging$Feature$install$2.invokeSuspend(CallLogging.kt:130)\n    at io.ktor.features.CallLogging$Feature$install$2.invoke(CallLogging.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$2.invokeSuspend(DefaultEnginePipeline.kt:106)\n    at io.ktor.server.engine.DefaultEnginePipelineKt$defaultEnginePipeline$2.invoke(DefaultEnginePipeline.kt)\n    at io.ktor.util.pipeline.SuspendFunctionGun.loop(PipelineContext.kt:278)\n    at io.ktor.util.pipeline.SuspendFunctionGun.access$loop(PipelineContext.kt:63)\n    at io.ktor.util.pipeline.SuspendFunctionGun.proceed(PipelineContext.kt:137)\n    at io.ktor.util.pipeline.SuspendFunctionGun.execute(PipelineContext.kt:157)\n    at io.ktor.util.pipeline.Pipeline.execute(Pipeline.kt:23)\n    at io.ktor.server.servlet.KtorServlet$blockingService$1.invokeSuspend(KtorServlet.kt:125)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:32)\n    at kotlinx.coroutines.DispatchedKt.resumeCancellable(Dispatched.kt:410)\n    at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:25)\n    at kotlinx.coroutines.CoroutineStart.invoke(CoroutineStart.kt:109)\n    at kotlinx.coroutines.AbstractCoroutine.start(AbstractCoroutine.kt:160)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:52)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at io.ktor.server.servlet.KtorServlet.blockingService(KtorServlet.kt:96)\n    at io.ktor.server.servlet.KtorServlet.service(KtorServlet.kt:57)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:848)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1772)\n    at com.google.apphosting.utils.servlet.JdbcMySqlConnectionCleanupFilter.doFilter(JdbcMySqlConnectionCleanupFilter.java:60)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at com.google.apphosting.runtime.jetty9.ParseBlobUploadHandler.handle(ParseBlobUploadHandler.java:119)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1182)\n    at com.google.apphosting.runtime.jetty9.AppEngineWebAppContext.doHandle(AppEngineWebAppContext.java:183)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at com.google.apphosting.runtime.jetty9.AppVersionHandlerMap.handle(AppVersionHandlerMap.java:296)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n    at org.eclipse.jetty.server.Server.handle(Server.java:539)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:333)\n    at com.google.apphosting.runtime.jetty9.RpcConnection.handle(RpcConnection.java:202)\n    at com.google.apphosting.runtime.jetty9.RpcConnector.serviceRequest(RpcConnector.java:81)\n    at com.google.apphosting.runtime.jetty9.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:123)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.dispatchServletRequest(JavaRuntime.java:695)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.dispatchRequest(JavaRuntime.java:658)\n    at com.google.apphosting.runtime.JavaRuntime$RequestRunnable.run(JavaRuntime.java:628)\n    at com.google.apphosting.runtime.JavaRuntime$NullSandboxRequestRunnable.run(JavaRuntime.java:820)\n    at com.google.apphosting.runtime.ThreadGroupPool$PoolEntry.run(ThreadGroupPool.java:269)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>Here are the contents of my application.conf file:</p>\n\n<pre><code>ktor {\n    application {\n        modules = [com.example.MainApplicationKt.main]\n    }\n}\n</code></pre>\n\n<p>I've tested:</p>\n\n<ul>\n<li>Enabling billing</li>\n<li>Creating a new project from scratch</li>\n<li>Using the com.google.firebase:firebase-admin package (version 6.7.0) instead (with the same result)</li>\n<li>Using Datastore instead (which seems to work fine but switching from Firestore would require me to move the whole project and rewrite a lot of code)</li>\n</ul>\n"}, {"tags": ["java", "kotlin", "dsl"], "comments": [{"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1551877550, "post_id": 55023749, "comment_id": 96800673, "body": "question is not a duplicate though"}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551877635, "post_id": 55023749, "comment_id": 96800726, "body": "How so? It seems identical to me. If you outline the difference then I will happily re-open."}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551877695, "post_id": 55023749, "comment_id": 96800772, "body": "See @JoeClay  comment, I was not looking for a wrapper"}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551877974, "post_id": 55023749, "comment_id": 96800916, "body": "The question is the same - using wrappers is just one (the only) way to accomplish it - so it <i>is</i> a duplicate. I have added a line to the answer that specifies there is no way to do this &quot;natively&quot; within the Java code."}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551878261, "post_id": 55023749, "comment_id": 96801110, "body": "It is not the same way, because you need to write a wrapper for every function, and you also need to copy paste java doc or write @see everytime... The original question has a title that look similar, but the OP in the thread is already using a wrapper, so the question should be &quot;How to wrap a java function correctly in kotlin&quot;. The infix operator is merely related to the question"}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 1, "creation_date": 1551878686, "post_id": 55023749, "comment_id": 96801353, "body": "The infix operator is not &quot;merely related&quot;. He is trying to accomplish exactly the same thing as you, except he&#39;s a bit closer to a solution. I&#39;ve edited the question to make it even closer. It&#39;s in everyone&#39;s best interest that information is more focused and less disparate. Don&#39;t take it personally that I closed this."}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551879964, "post_id": 55023749, "comment_id": 96802132, "body": "I&#39;m not taking anything personnally, I saw the question before publishing it, but it  was already too much opiniated and didn&#39;t give me a clue of what i was looking for, that is : it&#39;s just not possible"}], "answers": [{"comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551877544, "post_id": 55023793, "comment_id": 96800668, "body": "Has the behaviour changed? The linked duplicate seems to suggest it is possible."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551877634, "post_id": 55023793, "comment_id": 96800723, "body": "The duplicate (and zsmb13&#39;s answer) seem to show that it can be done by defining a wrapper on the Kotlin side of the fence, but there&#39;s no way to declare the method as infix purely through the Java code."}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1551877795, "post_id": 55023793, "comment_id": 96800821, "body": "The bit you&#39;ve bolded would contradict that. Calling Java methods using the infix call syntax <b>is</b> <i>allowed</i>, if you define a wrapper. Marking Java methods in Java code as infix is not possible (willing to accept this, but I don&#39;t see any reason why they couldn&#39;t use an annotation to accomplish the same thing)"}, {"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1551878340, "post_id": 55023793, "comment_id": 96801147, "body": "A @infix annotation would be just fine... A shame they aren&#39;t doing it tho"}], "tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": true, "score": 6, "last_activity_date": 1551877427, "creation_date": 1551877427, "answer_id": 55023793, "question_id": 55023749, "link": "https://stackoverflow.com/questions/55023749/is-there-a-way-to-declare-a-java-method-as-infix-for-kotlin/55023793#55023793", "title": "Is there a way to declare a java method as infix for kotlin", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/java-interop.html#operators\" rel=\"noreferrer\">As of Kotlin 1.3, no:</a></p>\n\n<blockquote>\n  <p>Since Java has no way of marking methods for which it makes sense to use the operator syntax, Kotlin allows using any Java methods with the right name and signature as operator overloads and other conventions (<code>invoke()</code> etc.) <strong>Calling Java methods using the infix call syntax is not allowed.</strong></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "edited": false, "score": 0, "creation_date": 1551877943, "post_id": 55023826, "comment_id": 96800899, "body": "This loooks an interesting way around, but it doesn&#39;t maintain the documentation though"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1551877542, "creation_date": 1551877542, "answer_id": 55023826, "question_id": 55023749, "link": "https://stackoverflow.com/questions/55023749/is-there-a-way-to-declare-a-java-method-as-infix-for-kotlin/55023826#55023826", "title": "Is there a way to declare a java method as infix for kotlin", "body": "<p>You can add an <code>infix</code> extension to get that syntax from Kotlin:</p>\n\n<pre><code>infix fun Foo.doFoo(bar: String) {\n    return doFoo(bar)\n}\n</code></pre>\n"}], "owner": {"reputation": 7920, "user_id": 2533082, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/7097e6c465ed546a571fd85b9aa5e16c?s=128&d=identicon&r=PG", "display_name": "Vinz243", "link": "https://stackoverflow.com/users/2533082/vinz243"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "closed_date": 1551877489, "accepted_answer_id": 55023793, "answer_count": 2, "score": 3, "last_activity_date": 1551877542, "creation_date": 1551877259, "question_id": 55023749, "link": "https://stackoverflow.com/questions/55023749/is-there-a-way-to-declare-a-java-method-as-infix-for-kotlin", "closed_reason": "Duplicate", "title": "Is there a way to declare a java method as infix for kotlin", "body": "<p>Is there a way to declare a method from a java class so that it is callable as an <code>infix</code> function from kotlin, like this :</p>\n\n<pre><code>public class Foo {\n  public void doFoo (String bar) {}\n}\n</code></pre>\n\n<p>Then  from a kotlin file</p>\n\n<pre><code>foo doFoo \"bar\"\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 1, "creation_date": 1551877206, "post_id": 55023676, "comment_id": 96800474, "body": "Add your code. This will make more sense about the question cause i can not understand the exact requirement  right now.. On a side note you can not narrow down visibility in method overriding."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1551877533, "post_id": 55023676, "comment_id": 96800661, "body": "you may try to define the function with <code>protected</code> visibility and implement it with the same visibility.  An  <code>internal</code> keyword in Kotlin may help for that too, but it will unlikely to solve the whole issue at the JVM bytecode level"}, {"owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "edited": false, "score": 0, "creation_date": 1551877632, "post_id": 55023676, "comment_id": 96800721, "body": "I tried to use protected as it shows in my question - not working"}], "answers": [{"comments": [{"owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "edited": false, "score": 0, "creation_date": 1551879544, "post_id": 55024371, "comment_id": 96801866, "body": "Thanks mate, it works.. I didn&#39;t know you can use open with protected together"}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1551879238, "creation_date": 1551879238, "answer_id": 55024371, "question_id": 55023676, "link": "https://stackoverflow.com/questions/55023676/access-methods-as-subclass/55024371#55024371", "title": "Access methods as subclass", "body": "<p>It can be done with <code>protected</code>, but you also need to add <code>open</code> to allow it to be overridden:</p>\n\n<pre><code>open class YesNoDialog(context: Context, styleRes: Int) : Dialog(context, styleRes) {\n    protected open fun setTexts() {\n\n    }\n}\n\nclass MultiSelectDialog(context: Context, styleRes: Int) : YesNoDialog(context, styleRes) {\n    override fun setTexts() {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55024371, "answer_count": 1, "score": 0, "last_activity_date": 1551879238, "creation_date": 1551877056, "last_edit_date": 1551877568, "question_id": 55023676, "link": "https://stackoverflow.com/questions/55023676/access-methods-as-subclass", "title": "Access methods as subclass", "body": "<p>Let's say I created a class which extends from another class and I want to override  one of the parent functions but I want this function to be private from outside (like protected in Java).\nI tried to use protected as it says <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/visibility-modifiers.html\" rel=\"nofollow noreferrer\">here</a> but it doesn't work.\nIs it possible with Kotlin?</p>\n\n<pre><code>open class YesNoDialog(context: Context, styleRes: Int) : Dialog(context, styleRes) {\n\n\nprotected fun setTexts() {\n\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>class MultiSelectDialog(context: Context, styleRes: Int):YesNoDialog(context, styleRes) {\n\n}\n</code></pre>\n\n<p>In this example I want to access setTexts from MultiSelectDialog class</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 2084363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b040ab13ba03b29e1b39fec075a2a7?s=128&d=identicon&r=PG", "display_name": "Aya Azzam", "link": "https://stackoverflow.com/users/2084363/aya-azzam"}, "edited": false, "score": 0, "creation_date": 1551876733, "post_id": 55023454, "comment_id": 96800222, "body": "Thank you for your answer, Do you have an idea of a better implementation for this method?"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 95, "user_id": 2084363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b040ab13ba03b29e1b39fec075a2a7?s=128&d=identicon&r=PG", "display_name": "Aya Azzam", "link": "https://stackoverflow.com/users/2084363/aya-azzam"}, "edited": false, "score": 0, "creation_date": 1551876966, "post_id": 55023454, "comment_id": 96800335, "body": "Use other type. You cannot sort collection without providing information how to do it. How would you sort collection of any type? I mean, not implementation, but what property would you use?"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 1, "last_activity_date": 1551876300, "creation_date": 1551876300, "answer_id": 55023454, "question_id": 55023250, "link": "https://stackoverflow.com/questions/55023250/kotlin-generic-collection-cast/55023454#55023454", "title": "Kotlin generic Collection cast", "body": "<p>The problem is that you try sort this collection via <code>it</code>. But <code>it</code> can be an instance of any type.\n<code>Any</code> however isn't something what can be compared (<code>Any</code> doesn't implement <code>Comparable</code> interface).</p>\n\n<p>So, when you use <code>sortedBy</code> method you have to provide something what can be compared. For example:</p>\n\n<pre><code>return genericCollection.sortedBy { it.hashCode() }.joinToString(separator = \"_\")\n</code></pre>\n\n<p><code>hashCode()</code> returns <code>Int</code> and <code>Int</code> can be easily compared.</p>\n\n<p>In fact until you use <code>&lt;*&gt;</code> as generic type you won't be able to find something better to compare collection.</p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 2982299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z3hqb.png?s=128&g=1", "display_name": "maximusKon", "link": "https://stackoverflow.com/users/2982299/maximuskon"}, "is_accepted": false, "score": 1, "last_activity_date": 1552165122, "creation_date": 1552165122, "answer_id": 55081878, "question_id": 55023250, "link": "https://stackoverflow.com/questions/55023250/kotlin-generic-collection-cast/55081878#55081878", "title": "Kotlin generic Collection cast", "body": "<p>Guess, you must understand, what exactly you expect from param[0]. In this case, it must be some keyGenerator params. Pretty sure, these params could be String or Numeric type. All you need is to map them by casting to appropriate class. Foe example, String class:</p>\n\n<pre><code>private fun generateKey(params: Array&lt;Any&gt;): String {\n        val genericCollection  = if (params.isNotEmpty() &amp;&amp; params[0] is Collection&lt;*&gt;) params[0] as Collection&lt;*&gt;\n        else throw Exception(\"no params provided for keyGenerator\")\n\n        return genericCollection.map { it as String }.sortedBy { it }.joinToString(separator = \"_\")\n    }\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 2084363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b040ab13ba03b29e1b39fec075a2a7?s=128&d=identicon&r=PG", "display_name": "Aya Azzam", "link": "https://stackoverflow.com/users/2084363/aya-azzam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 55023454, "answer_count": 2, "score": 0, "last_activity_date": 1552165122, "creation_date": 1551875693, "question_id": 55023250, "link": "https://stackoverflow.com/questions/55023250/kotlin-generic-collection-cast", "title": "Kotlin generic Collection cast", "body": "<p>I a very new to Kotlin and working on a simple method that sorts and joins a list to string </p>\n\n<pre><code>private fun generateKey(params: Array&lt;Any&gt;): String {\n    val genericCollection  = if (params.isNotEmpty() &amp;&amp; params[0] is Collection&lt;*&gt;) params[0] as Collection&lt;*&gt;\n                    else throw Exception(\"no params provided for keyGenerator\")\n\n    return genericCollection.sortedBy { it }.joinToString(separator = \"_\")\n}\n</code></pre>\n\n<p>but I got this compilation error:</p>\n\n<blockquote>\n  <p>Type parameter bound for R in </p>\n  \n  <p>inline fun > Iterable.sortedBy ( crossinline\n  selector: (T) \u2192 R? ) : List</p>\n  \n  <p>is not satisfied: inferred type Any is not a subtype of\n  Comparable</p>\n</blockquote>\n\n<p>Any idea how to fix this?</p>\n"}, {"tags": ["kotlin", "apache-kafka", "spring-kafka", "kafka-producer-api"], "comments": [{"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551892621, "post_id": 55023117, "comment_id": 96810143, "body": "You should not add <code>@Transactional</code> to the listener; the container starts the transaction. Try enabling DEBUG logging for <code>o.s.transaction</code> and <code>o.s.kafka</code> to see if it helps you figure out what&#39;s going on. You should not see the records with READ_COMMITTED isolation. The records will be in the log, but the consumer should skip over them."}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551918218, "post_id": 55023117, "comment_id": 96820928, "body": "Thanks i&#39;ll try it out. The behaviour i am expecting is possible?, right? Messages shouldn&#39;t be published right?"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551919157, "post_id": 55023117, "comment_id": 96821130, "body": "They will be published but read_committed consumers won&#39;t see them. You will see them in a console-consumer."}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551920051, "post_id": 55023117, "comment_id": 96821320, "body": "Ok thanks I will try it out. Do I need to publish within executeInTransaction?"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551921964, "post_id": 55023117, "comment_id": 96821728, "body": "No. That will publish in a separate transaction."}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551929740, "post_id": 55023117, "comment_id": 96823510, "body": "Seems like it&#39;s committing the offset at the end. I wonder if it&#39;s because of the DefaultAfterRollbackProcessor marking the record after maxRetries"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551930328, "post_id": 55023117, "comment_id": 96823638, "body": "The container commits no offsets when using transactions. The offset is sent to the transaction which is committed or rolled back."}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1551930925, "post_id": 55023117, "comment_id": 96823776, "body": "ok my bad, error handler was swallowing exception. Working as expected now"}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1552008917, "post_id": 55023117, "comment_id": 96860200, "body": "actually.. just realised that when i restart the app, it picks up published the published messages that were part of the rolled back transaction"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1552011100, "post_id": 55023117, "comment_id": 96860642, "body": "Makes no sense. If a tx rolls back, any published messages within that tx are not visible to a read_committed consumer. So something else is at play."}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1552024658, "post_id": 55023117, "comment_id": 96863642, "body": "I lost the read_committed while refactoring. What I noticed though is that when I restart the application, it reprocesses the failed message in the consumer topic. Not sure if this is the expected behaviour.  DefaultAfterRollbackProcessor is using seek to skip the record. Do I need to implement my own AfterRollbackProcessor that just commits the offset?"}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1552040709, "post_id": 55023117, "comment_id": 96870496, "body": "I got the behaviour I expect by extending the recoverer to commit the offset (see code above). Is there a better way to do this?"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 1, "creation_date": 1552053226, "post_id": 55023117, "comment_id": 96877147, "body": "Don&#39;t use <code>executeInTransaction</code> you want to send the offsets to the same transaction the dead-letter was published in. Please open an issue in <a href=\"https://github.com/spring-projects/spring-kafka/issues\" rel=\"nofollow noreferrer\">GitHub</a>. The framework should have an option to do this without having to write your own code."}, {"owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "reply_to_user": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 1, "creation_date": 1552057950, "post_id": 55023117, "comment_id": 96879743, "body": "Thanks, I created a ticket."}], "owner": {"reputation": 594, "user_id": 1262611, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aUsUD.jpg?s=128&g=1", "display_name": "miklesw", "link": "https://stackoverflow.com/users/1262611/miklesw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 938, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1582556221, "creation_date": 1551875239, "last_edit_date": 1582556221, "question_id": 55023117, "link": "https://stackoverflow.com/questions/55023117/kafkatemplate-in-transactional-kafkalistener-publishes-messages-when-transaction", "title": "kafkaTemplate in Transactional kafkalistener publishes messages when transaction is rolled back", "body": "<p>I am test out exactly-once delivery with spring-kafka. My understanding is that the offsets and any messages published through kafkaTemplate will be part of the same transaction.</p>\n\n<p>However, then i throw an exception after publishing, even though the consumer offset is not commited, the messages are still publish.</p>\n\n<p>Is there something wrong in my setup? Also do I need to set @transaction on each kafkalistener class? when i removed it I saw transactions being created in spring-kafka debug logs.</p>\n\n<pre><code>@Transactional(\"kafkaTransactionManager\")\n@KafkaListener(\n        id = \"\\${messaging.command.consumer-group-id}\",\n        clientIdPrefix = \"\\${messaging.command.consumer-group-id}\",\n        topics = [\"\\${messaging.command.topic}\"],\n        concurrency = \"\\${messaging.command.listener-count}\"\n    )\n    fun processCommand1(@Payload command: EntityCommand&lt;JsonNode&gt;, record: ConsumerRecord&lt;String, Array&lt;Byte&gt;&gt;) {\n        testEventPublisher.publish(record.key(), \"test\")\n        testEventPublisher.publish(randomUUID().toString(), \"test)\n       throw RuntimeException(\"test\")\n    }\n</code></pre>\n\n<p>Publisher (I added the executeInTransaction() while trying to get it to work properly):</p>\n\n<pre><code>class TransactionalTopicPublisher&lt;TYPE&gt;(val kafkaTemplate: KafkaTemplate&lt;String, Any&gt;, val topic: String) {\n\n    fun publish(key: String, message: TYPE) {\n        kafkaTemplate.executeInTransaction {\n            kafkaTemplate.send(\n                topic,\n                key,\n                message\n            )\n        }\n    }\n}\n</code></pre>\n\n<p>Producer config:</p>\n\n<pre><code>@Bean\n    fun kafkaTemplate(producerFactory: ProducerFactory&lt;String, Any&gt;): KafkaTemplate&lt;String, Any&gt; {\n        return KafkaTemplate(producerFactory)\n    }\n\n    @Bean(KAFKA_TRANSACTION_MANAGER)\n    fun kafkaTransactionManager(kafkaProducerFactory: ProducerFactory&lt;String, Any&gt;): KafkaTransactionManager&lt;String, Any&gt; {\n        val kafkaTransactionManager = KafkaTransactionManager&lt;String, Any&gt;(kafkaProducerFactory)\n        return kafkaTransactionManager\n    }\n\n    @Bean\n    fun kafkaProducerFactory(kafkaJsonSerializer: JsonSerializer&lt;Any&gt;): ProducerFactory&lt;String, Any&gt; {\n        val factory = DefaultKafkaProducerFactory&lt;String, Any&gt;(producerConfig())\n        factory.setTransactionIdPrefix(transactionIdPrefix)\n        factory.setValueSerializer(kafkaJsonSerializer)\n        return factory\n    }\n\n    @Bean\n    fun producerConfig(): Map&lt;String, Any&gt; {\n        return mapOf(\n            ProducerConfig.BOOTSTRAP_SERVERS_CONFIG to bootstrapServers,\n            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG to StringSerializer::class.java.name,\n            ProducerConfig.ENABLE_IDEMPOTENCE_CONFIG to true,\n            ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION to 1,\n            ProducerConfig.ACKS_CONFIG to \"all\",\n            ProducerConfig.BATCH_SIZE_CONFIG to 16384,\n            ProducerConfig.LINGER_MS_CONFIG to 1,\n            ProducerConfig.BUFFER_MEMORY_CONFIG to 33554432,\n            ProducerConfig.INTERCEPTOR_CLASSES_CONFIG to ProducerInterceptor::class.java.name\n        )\n    }\n\n    @Bean\n    fun kafkaJsonSerializer(kafkaObjectMapper: ObjectMapper): JsonSerializer&lt;Any&gt; {\n        val jsonSerializer = JsonSerializer&lt;Any&gt;(kafkaObjectMapper)\n        jsonSerializer.isAddTypeInfo = false\n        return jsonSerializer\n    }\n</code></pre>\n\n<p>Consumer Config:</p>\n\n<pre><code>@Bean\n    fun kafkaListenerContainerFactory(\n        kafkaTransactionManager: KafkaTransactionManager&lt;String, Any&gt;,\n        stringJsonMessageConverter: StringJsonMessageConverter\n    ): ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; {\n        val factory = ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;()\n        factory.consumerFactory = consumerFactory()\n        factory.setMessageConverter(stringJsonMessageConverter)\n        factory.setErrorHandler(messagingErrorHandler())\n        factory.containerProperties.transactionManager = kafkaTransactionManager\n        return factory\n    }\n\n    @Bean\n    fun stringJsonMessageConverter(kafkaObjectMapper: ObjectMapper) =\n        StringJsonMessageConverter(kafkaObjectMapper)\n\n    @Bean\n    fun messagingErrorHandler() =\n        MessagingErrorHandler()\n\n    @Bean\n    fun consumerFactory(): ConsumerFactory&lt;String, Any&gt; {\n        val consumerFactory = DefaultKafkaConsumerFactory&lt;String, Any&gt;(consumerConfig())\n        return consumerFactory\n    }\n\n    @Bean\n    fun consumerConfig(): Map&lt;String, Any&gt; {\n        return mapOf(\n            ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG to bootstrapServers,\n\n            ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG to StringDeserializer::class.java.name,\n            ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG to StringDeserializer::class.java.name,\n\n            ConsumerConfig.ISOLATION_LEVEL_CONFIG to IsolationLevel.READ_COMMITTED.toString().toLowerCase(Locale.ROOT),\n            ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG to false,\n            ConsumerConfig.AUTO_OFFSET_RESET_CONFIG to \"earliest\",\n            ConsumerConfig.MAX_POLL_RECORDS_CONFIG to MAX_POLL_RECORD,\n\n            ConsumerConfig.INTERCEPTOR_CLASSES_CONFIG to ConsumerInterceptor::class.java.name,\n\n            JsonDeserializer.USE_TYPE_INFO_HEADERS to false\n        )\n    }\n</code></pre>\n\n<p>OffsetCommittingAndDeadLetterPublishingRecoverer:</p>\n\n<pre><code>@Transactional(KAFKA_TRANSACTION_MANAGER)\nclass OffsetCommittingAndDeadLetterPublishingRecoverer(val template: KafkaTemplate&lt;Any, Any&gt;) :\n    DeadLetterPublishingRecoverer(template) {\n\n    override fun accept(record: ConsumerRecord&lt;*, *&gt;, exception: Exception) {\n        super.accept(record, exception)\n\n        val topicPartition = TopicPartition(record.topic(), record.partition())\n        val offsetAndMetadata = OffsetAndMetadata(record.offset() +1)\n\n        template.executeInTransaction {\n            template.sendOffsetsToTransaction(\n                mapOf(topicPartition to offsetAndMetadata)\n            )\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "interop"], "comments": [{"owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "edited": false, "score": 0, "creation_date": 1551872483, "post_id": 55022258, "comment_id": 96797777, "body": "The third solution was to leave that code as Java."}], "answers": [{"comments": [{"owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "edited": false, "score": 1, "creation_date": 1551873162, "post_id": 55022382, "comment_id": 96798185, "body": "Thanks Eugene, I will give those a go :)"}, {"owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "edited": false, "score": 1, "creation_date": 1551873882, "post_id": 55022382, "comment_id": 96798648, "body": "The third suggestion (also providing the type parameters to the Java <code>Function</code> type) has compiled.  Thank you."}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1551877386, "last_edit_date": 1551877386, "creation_date": 1551872791, "answer_id": 55022382, "question_id": 55022258, "link": "https://stackoverflow.com/questions/55022258/from-kotlin-call-java-method-requiring-function-parameter/55022382#55022382", "title": "From Kotlin call Java method requiring Function parameter", "body": "<p>You do not specify the return type in the lambda, it is inferred by Kotlin. The last example did not work, because the return type of the function is <code>Unit</code>, which is <code>void</code> in Java. I would try the following:</p>\n\n<pre><code>return Publishers.map(chain?.proceed(request), ::processCookie)\n\nprivate fun processCookie(a: MutableHttpResponse&lt;*&gt;?) : MutableHttpResponse&lt;*&gt;? {\n   print(\"something something something\")\n   return a\n}\n</code></pre>\n\n<p>It may also work if you write</p>\n\n<pre><code>return Publishers.map(chain?.proceed(request)) { \n  print(\"something something something\")\n  it\n}\n\n</code></pre>\n\n<p>We use here the default parameter name of the Lambda in Kotlin - namely <code>it</code>. Kotlin compiler will infer types for you. It is also allowed in Kotlin to move the last lambda parameter of a function outside of brackets.</p>\n\n<p>The last thing for the functional interfaces from Java, e.g. <code>Function&lt;T,R&gt;</code>. You may need to use the name explicitly, e.g.</p>\n\n<pre><code>return Publishers.map(chain?.proceed(request), Function&lt;T,R&gt; { \n  print(\"something something something\")\n  it\n})\n</code></pre>\n\n<p>where <code>T</code> and <code>R</code> has to be substituted with the actual types</p>\n"}], "owner": {"reputation": 1571, "user_id": 4187837, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/797990d500303b57e9f9042f73ded007?s=128&d=identicon&r=PG&f=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/4187837/gavin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 55022382, "answer_count": 1, "score": 0, "last_activity_date": 1551877386, "creation_date": 1551872398, "question_id": 55022258, "link": "https://stackoverflow.com/questions/55022258/from-kotlin-call-java-method-requiring-function-parameter", "title": "From Kotlin call Java method requiring Function parameter", "body": "<p>I am having problems converting this chunk of Java to Kotlin:</p>\n\n<pre><code>Publishers.map(chain.proceed(request), response -&gt; {\n            if (request.getCookies().contains(\"SOME_VALUE\")) { \n                response.cookie(request.getCookies().get(STATE_COOKIENAME).maxAge(0));\n            }\n            return response;\n        });\n</code></pre>\n\n<p>The second parameter of the <code>map</code> method (note <code>Publishers</code> is not a collection) takes <code>Function&lt;T,R&gt;</code>.\nI have tried several solutions, including providing a lambda thus:</p>\n\n<pre><code>Publishers.map(chain?.proceed(request), {\n        x: MutableHttpResponse&lt;*&gt;!,\n        y: MutableHttpResponse&lt;*&gt;! -&gt; print(\"It worked\")\n    })\n</code></pre>\n\n<p>but that results in: </p>\n\n<blockquote>\n  <p>Error:(32, 38) Kotlin: Unexpected token</p>\n  \n  <p>Error:(33, 38) Kotlin: Unexpected token</p>\n  \n  <p>Error:(31, 27) Kotlin: Type inference failed: fun  map(publisher: Publisher!, mapper: Function!): Publisher!\n  cannot be applied to\n  (Publisher>!>?,(MutableHttpResponse&lt;>, MutableHttpResponse&lt;*>) -> Unit)</p>\n  \n  <p>Error:(31, 56) Kotlin: Type mismatch: inferred type is (MutableHttpResponse&lt;<em>>, MutableHttpResponse&lt;</em>>) -> Unit but Function>!, MutableHttpResponse&lt;>?>! was expected</p>\n</blockquote>\n\n<p>and providing a method:</p>\n\n<pre><code>return Publishers.map(chain?.proceed(request), ::processCookie)\n\nprivate fun processCookie(a: MutableHttpResponse&lt;*&gt;?) {\n   print(\"something something something\")\n}\n</code></pre>\n\n<p>which results in:</p>\n\n<blockquote>\n  <p>Error:(31, 27) Kotlin: Type inference failed: fun  map(publisher: Publisher!, mapper: Function!): Publisher!\n  cannot be applied to\n  (Publisher>!>?,KFunction1&lt;@ParameterName MutableHttpResponse&lt;>?, Unit>)</p>\n  \n  <p>Error:(31, 56) Kotlin: Type mismatch: inferred type is KFunction1&lt;@ParameterName MutableHttpResponse&lt;>?, Unit> but Function>!, MutableHttpResponse&lt;*>?>! was expected</p>\n</blockquote>\n\n<p>For context I thought it would be fun to attempt <a href=\"https://guides.micronaut.io/micronaut-oauth2-okta/guide/index.html\" rel=\"nofollow noreferrer\">this tutorial</a> in kotlin.</p>\n"}, {"tags": ["android", "testing", "kotlin", "admob"], "comments": [{"owner": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1551872404, "post_id": 55022170, "comment_id": 96797729, "body": "Post your full code."}, {"owner": {"reputation": 41, "user_id": 9690892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nrFSP.jpg?s=128&g=1", "display_name": "gataura", "link": "https://stackoverflow.com/users/9690892/gataura"}, "reply_to_user": {"reputation": 51156, "user_id": 1318946, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jUw99.jpg?s=128&g=1", "display_name": "Pratik Butani", "link": "https://stackoverflow.com/users/1318946/pratik-butani"}, "edited": false, "score": 0, "creation_date": 1551873216, "post_id": 55022170, "comment_id": 96798213, "body": "That&#39;s absolutely like in that github, but i changed device_id          val adRequest = AdRequest.Builder()                     .addTestDevice(&quot;F9629AB0617288FDF96BEF70E9154EAD&quot;)                     .build()"}, {"owner": {"reputation": 464, "user_id": 8614703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e4c1a944591b12be65b3f5d3c35771d?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad Sabeh", "link": "https://stackoverflow.com/users/8614703/ahmad-sabeh"}, "edited": false, "score": 0, "creation_date": 1551879161, "post_id": 55022170, "comment_id": 96801653, "body": "Try checking if the ad was loaded before displaying it. it might have not yet loaded when you are trying to display it."}], "owner": {"reputation": 41, "user_id": 9690892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nrFSP.jpg?s=128&g=1", "display_name": "gataura", "link": "https://stackoverflow.com/users/9690892/gataura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551933523, "creation_date": 1551872152, "last_edit_date": 1551933523, "question_id": 55022170, "link": "https://stackoverflow.com/questions/55022170/google-admob-interstitialexample-not-showing-ad", "title": "Google AdMob InterstitialExample not showing ad", "body": "<p>i got a google Interstitial Example for AdMob from <a href=\"https://github.com/googleads/googleads-mobile-android-examples/tree/master/kotlin/admob/InterstitialExample\" rel=\"nofollow noreferrer\">https://github.com/googleads/googleads-mobile-android-examples/tree/master/kotlin/admob/InterstitialExample</a> just for test run on my device. But it's not working at all. I'm testing it on the real device and i put real device id in <code>builder. addTestDevice</code>, but it's still showing \"Ad wasn't loaded.\" after click. Have no idea why it's not working.</p>\n"}, {"tags": ["android", "rest", "kotlin"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1551870992, "post_id": 55021080, "comment_id": 96796874, "body": "it is probably an attempt to deserialize a null value into a non-nullable field (e.g. a Kotlin type without &#39;?&#39; and the end) It looks like the stack trace is partially included"}], "owner": {"reputation": 117, "user_id": 11079014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e19d230d6c2c72b82d3f0b11be968a70?s=128&d=identicon&r=PG&f=1", "display_name": "NoamEpstein", "link": "https://stackoverflow.com/users/11079014/noamepstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551868855, "creation_date": 1551868855, "question_id": 55021080, "link": "https://stackoverflow.com/questions/55021080/why-httpget-causes-a-com-github-kittinunf-fuel-core-bubblefuelerror-null", "title": "Why httpGet() causes a com.github.kittinunf.fuel.core.BubbleFuelError: null?", "body": "<p>I have a rest call realized by <a href=\"https://github.com/kittinunf/fuel\" rel=\"nofollow noreferrer\">fuel library</a> in my Android app Kotlin project. While attempting to call httpGet I get this:</p>\n\n<blockquote>\n  <p>Caused by: com.github.kittinunf.fuel.core.BubbleFuelError: null\n  com.github.kittinunf.fuel.core.FuelError$Companion.wrap(FuelError.kt:84)\n  03-06 11:32:39.112 6328-6328/com.example.demo I/System.out:\n    com.github.kittinunf.fuel.core.requests.RequestTask.executeRequest(RequestTask.kt:24)\n  com.github.kittinunf.fuel.core.requests.RequestTask.call(RequestTask.kt:44)\n  com.github.kittinunf.fuel.core.requests.RequestTask.call(RequestTask.kt:14)\n  com.github.kittinunf.fuel.core.DeserializableKt.response(Deserializable.kt:166)\n  com.github.kittinunf.fuel.core.requests.DefaultRequest.responseObject(DefaultRequest.kt:463)</p>\n</blockquote>\n\n<p>while calling</p>\n\n<pre><code>url.httpGet().responseObject(moshiDeserializerOf(RestContextResult::class.java))\n</code></pre>\n\n<p>Do I need to use coroutines not to block a thread? Whats wring here?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1551870079, "post_id": 55021022, "comment_id": 96796329, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29141729/recyclerview-no-adapter-attached-skipping-layout\">recyclerview No adapter attached; skipping layout</a>"}], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 1275796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c00c406979d5ac35d3387e7fb0f741e3?s=128&d=identicon&r=PG", "display_name": "Karim", "link": "https://stackoverflow.com/users/1275796/karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1551877169, "creation_date": 1551877169, "answer_id": 55023717, "question_id": 55021022, "link": "https://stackoverflow.com/questions/55021022/recycleview-in-kotlin/55023717#55023717", "title": "Recycleview in Kotlin", "body": "<p>In onCreate I did:</p>\n\n<pre><code>  adapter = MyAdapter(this@MyActivity)\n  adapter.data = ArrayList()\n</code></pre>\n\n<p>Then later I just set <code>adapter.date = xxx</code></p>\n\n<p>In my adapter I have:</p>\n\n<pre><code>class MyAdapter(val activity: MyActivity) :\n        RecyclerView.Adapter&lt;MyAdapter.BodyViewHolder&gt;() {\n\n    var data: MutableList&lt;MyModel&gt;? = null\n        set(value) {\n            field = value\n            notifyDataSetChanged()\n        }\n\n    override fun getItemCount() = data?.size ?: 0\n\n    fun ViewGroup.inflate(@LayoutRes layoutRes: Int, attachToRoot: Boolean = false): View {\n        return LayoutInflater.from(context).inflate(layoutRes, this, attachToRoot)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BodyViewHolder {\n        val view = LayoutInflater.from(parent.context)\n                .inflate(R.layout.my_layout, parent, false)\n        return BodyViewHolder(view)\n    }\n\n    override fun onBindViewHolder(holder: BodyViewHolder, position: Int) {\n        holder.bindValue(data?.get(position), activity)\n    }\n\n    class BodyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        fun bindValue(record: MyModel?, activity: MyActivity) {\n            record?.let {\n                itemView.mTextView.text = ....\n            }\n        }\n    } \n}\n</code></pre>\n\n<p>Worth mentioning that the height of my recycler view is wrap_content</p>\n\n<pre><code> &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/mRecyclerView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2865, "user_id": 1865027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92b3e08891af2a97d6725e72c595373b?s=128&d=identicon&r=PG", "display_name": "user1865027", "link": "https://stackoverflow.com/users/1865027/user1865027"}, "is_accepted": false, "score": 0, "last_activity_date": 1551942335, "creation_date": 1551942335, "answer_id": 55037893, "question_id": 55021022, "link": "https://stackoverflow.com/questions/55021022/recycleview-in-kotlin/55037893#55037893", "title": "Recycleview in Kotlin", "body": "<p>It's totally ok if you don't have data in <code>onCreate</code>. What you need to do is to define the adapter and bind it with your <code>RecyclerView</code>. Once you have data ready, add data to the list in <code>adapter</code> and notify it. Example as below</p>\n\n<pre><code>class MyAdapter: RecyclerView.Adapter&lt;MyViewHolder&gt;() {\n    private val data = mutableListOf&lt;MyModel&gt;()\n\n    override fun getItemCount() = data.count()\n\n    fun addData(data : MyModel) {\n        // add single data the list or call addAll() to add a group of data. \n        // just remember not to replace the variable\n    }\n\n    fun clearData() {\n\n    }\n\n    fun deleteData(id: Int) {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11156070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04eb6ac6b58398de0898210606b00da?s=128&d=identicon&r=PG&f=1", "display_name": "ESSETWOPOINTS", "link": "https://stackoverflow.com/users/11156070/essetwopoints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551950867, "creation_date": 1551868655, "last_edit_date": 1551950867, "question_id": 55021022, "link": "https://stackoverflow.com/questions/55021022/recycleview-in-kotlin", "title": "Recycleview in Kotlin", "body": "<p>I have a problem with: </p>\n\n<blockquote>\n  <p>RecyclerView: No adapter attached; skipping layout</p>\n</blockquote>\n\n<p>I can't define adapter in <code>OnCreate</code> because the list is not ready.</p>\n\n<p>How I can define adapter in <code>OnCreate</code>? or what is a possible solution for resolve my problem?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "factory", "sqliteopenhelper"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1551871774, "post_id": 55020507, "comment_id": 96797333, "body": "You mean you have 2 databases and only 1 SQLiteOpenHelper class? If so, this is wrong. You must create 1 class for each database."}, {"owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1551872198, "post_id": 55020507, "comment_id": 96797610, "body": "@forpas Really? There is no way to have one class for 2 databases in Android? Because I do it in iOS and it works..."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1551872873, "post_id": 55020507, "comment_id": 96798001, "body": "The constructor of the class takes the name of the database as an argument. This class manages 1 database only. Read more here: <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/database/sqlite/&hellip;</a>"}, {"owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1551873071, "post_id": 55020507, "comment_id": 96798119, "body": "@forpas Thanks, so I will create two classes for each database, and one that will manage the two classes in function of the database chosed by the user..."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1551873306, "post_id": 55020507, "comment_id": 96798274, "body": "For sure 2 SQLiteOpenHelper classes and about the method, it must be in a separate class or utility file."}], "owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551870598, "creation_date": 1551867083, "last_edit_date": 1551870598, "question_id": 55020507, "link": "https://stackoverflow.com/questions/55020507/android-kotlin-how-to-get-a-function-in-a-class-that-execute-a-sql-query-on-a-s", "title": "Android/Kotlin: How to get a function in a class that execute a SQL query on a specific SQLite database name?", "body": "<p>I have two different SQLite in my App. I would like to get a method that execute a SQL query on a specific SQLite database name but I don't know how to do a \"dynamic factory database name\"?</p>\n\n<p>That code works well but only if I use always the same DB in the <strong>companion Object</strong> section.  </p>\n\n<pre><code>  class MyDBHandler(context: Context, name: String?,\n                      factory: SQLiteDatabase.CursorFactory?, version: Int) : SQLiteOpenHelper(context, DATABASE_NAME, factory, DATABASE_VERSION) \n{\n        override fun methodToSelectData(strQuery: String, dataBase: String)\n{\n\n}\n        companion object {\n\n            private val DATABASE_VERSION = 1\n            private val DATABASE_NAME = \"xxx.db\"\n        }\n}\n</code></pre>\n\n<p>Example 1: <strong>methodToSelectData(\"Select * From table_X\", \"database1.db\")</strong><br>\nExample 2: <strong>methodToSelectData(\"Select * From table_Y\", \"database2.db\")</strong><br>\nAny ideas?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 0, "last_activity_date": 1551863181, "creation_date": 1551863181, "answer_id": 55019240, "question_id": 55019154, "link": "https://stackoverflow.com/questions/55019154/firebase-firestore-endpoint/55019240#55019240", "title": "Firebase firestore endpoint", "body": "<p>As explained in the <a href=\"https://firebase.google.com/docs/firestore/use-rest-api#making_rest_calls\" rel=\"nofollow noreferrer\">documentation</a> for the Cloud Firestore REST API, you should do as follows:</p>\n\n<blockquote>\n  <p>To create a path to a document with the ID <code>LA</code> in the collection <code>cities</code>\n  under the project <code>YOUR_PROJECT_ID</code> you would use the following\n  structure.</p>\n  \n  <p><code>/projects/YOUR_PROJECT_ID/databases/(default)/documents/cities/LA</code></p>\n  \n  <p>To interact with this path, combine it with the base API URL.</p>\n  \n  <p><code>https://firestore.googleapis.com/v1/projects/YOUR_PROJECT_ID/databases/(default)/documents/cities/LA</code></p>\n</blockquote>\n"}], "owner": {"reputation": 83, "user_id": 6994975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LWdP4.jpg?s=128&g=1", "display_name": "huda Olayan", "link": "https://stackoverflow.com/users/6994975/huda-olayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 0, "accepted_answer_id": 55019240, "answer_count": 1, "score": 0, "last_activity_date": 1551863181, "creation_date": 1551862888, "question_id": 55019154, "link": "https://stackoverflow.com/questions/55019154/firebase-firestore-endpoint", "title": "Firebase firestore endpoint", "body": "<p>I want to retrive document's name &amp; data from Firestore using the endpoint \n with Reftrofit2 \nI have got the base url for firebase</p>\n\n<pre><code>https://firestore.googleapis.com/v1/$PROJECT_ID/databases/ \n</code></pre>\n\n<p>but I didnt know what is the end point to get document's name in specific collection\nand the end point to get document 's data</p>\n"}, {"tags": ["java", "android", "kotlin", "interface", "android-recyclerview"], "comments": [{"owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "reply_to_user": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1551866007, "post_id": 55019036, "comment_id": 96793721, "body": "sorry I don&#39;t get, new to kotlin, Plase add some link or description will helpful even for java"}, {"owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1552037374, "post_id": 55019036, "comment_id": 96868730, "body": "Are you sure that you cannot do your code with 1 level of <code>RecyclerView</code> and different types? As far as I know, it is not a good idea idea to put scrolling view inside each other."}, {"owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "reply_to_user": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1552884455, "post_id": 55019036, "comment_id": 97164788, "body": "@Afshin I have a single horizontal  recycler view  and have a horizontal scroll list item"}, {"owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1552887163, "post_id": 55019036, "comment_id": 97165376, "body": "@SubinBabu you mean you have 1 horizontal recyclerview inside another horizontal one as its item?If so, you may be able to use 1 scroll recyclerview for both parent and child with 1 adapter for all of your data. RecyclerView is a great widget and I never need to place it inside another scrolling view unless I have no control over it."}, {"owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "reply_to_user": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1552888192, "post_id": 55019036, "comment_id": 97165675, "body": "@Afshin how to put list item as a child of parent recyclerview without put a list or recycler into parent recycler. Can any custom method do that"}, {"owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 1, "creation_date": 1552889428, "post_id": 55019036, "comment_id": 97166000, "body": "@SubinBabu don&#39;t put list item as child. just add its items into parent recycler as a different item type(with different layout if it is).Then you will have just 1 recycler which handles both."}, {"owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "reply_to_user": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1552896332, "post_id": 55019036, "comment_id": 97168929, "body": "@Afshin any link or tutorial will helpful"}, {"owner": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 1, "creation_date": 1552896801, "post_id": 55019036, "comment_id": 97169139, "body": "@SubinBabu you can find several in internet like <a href=\"https://medium.com/@gilbertchristopher/a-recyclerview-with-multiple-view-type-22619a5ad365\" rel=\"nofollow noreferrer\">medium.com/@gilbertchristopher/&hellip;</a> and <a href=\"https://android.jlelse.eu/a-recyclerview-with-multiple-item-types-dfba3979050\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a> .I don&#39;t guarantee it works for you, but I think it should."}, {"owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "reply_to_user": {"reputation": 5181, "user_id": 5529197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6af647bacfb3f0b596c73b0e3b0dc4b1?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/5529197/afshin"}, "edited": false, "score": 0, "creation_date": 1552903811, "post_id": 55019036, "comment_id": 97172792, "body": "@Afshin Thanks..."}], "owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552904090, "creation_date": 1551862551, "last_edit_date": 1552904090, "question_id": 55019036, "link": "https://stackoverflow.com/questions/55019036/adpter-to-adpter-communication-android-recyclerview", "title": "Adpter to Adpter communication Android RecyclerView", "body": "<p>I have two recyclerview AParent and AChild, where Aparent is the outer recyclerview and Achild is an item inside AParent(recyclerview inside recyclerview ). I cannot figure out how to communicate to call a function or update AParent from Achild.  </p>\n\n<pre><code>Parent Recyclerview : AParent\nParent RecyclerAdapter :AParentAdapter\n\nChild Recyclerview: AChild\nchild RecyclerviewAdapter: AChildAdapter\n</code></pre>\n\n<blockquote>\n  <p>make a call from AchildAdapter to AParentAdapter,</p>\n</blockquote>\n\n<p>Is there any best way to communicate recycler adapter to recycler adapter?</p>\n"}, {"tags": ["android", "kotlin", "enums"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 9161815, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210721896316184/picture?type=large", "display_name": "Jonas Simonaitis", "link": "https://stackoverflow.com/users/9161815/jonas-simonaitis"}, "edited": false, "score": 0, "creation_date": 1551864633, "post_id": 55019478, "comment_id": 96792917, "body": "You are legend! Thank you sir."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 3, "last_activity_date": 1551894088, "last_edit_date": 1551894088, "creation_date": 1551863990, "answer_id": 55019478, "question_id": 55018969, "link": "https://stackoverflow.com/questions/55018969/how-can-i-generalize-functions-on-an-enum-class-in-kotlin/55019478#55019478", "title": "How can I generalize functions on an enum class in Kotlin?", "body": "<p>You can generalize your <code>getEnumFromString</code> function by creating an interface and having your companion object implementing it. An extension on this interface will let you call the function directly on the companion of your enum class.</p>\n\n<p>This will do the trick:</p>\n\n<pre><code>interface EnumWithKey&lt;T : Enum&lt;T&gt;, K&gt; {\n    val T.key: K\n}\n\n/* The reified type parameter lets you call the function without explicitly \n * passing the Class-object.\n */\ninline fun &lt;reified T : Enum&lt;T&gt;, K&gt; EnumWithKey&lt;T, K&gt;.getByKey(key: K): T? {\n    return enumValues&lt;T&gt;().find { it.key == key }\n}\n</code></pre>\n\n<p>Now you can create your <code>PaymentMethodType</code> like this:</p>\n\n<pre><code>enum class PaymentMethodType(val type: String) {\n    PAYPAL(\"Paypal\"),\n    VISA(\"Visa\"),\n    MASTERCARD(\"MasterCard\"),\n    VISA_DEBIT(\"VISA Debit\"),\n    LPQ_CREDIT(\"Lpq Credit\");\n\n    companion object : EnumWithKey&lt;PaymentMethodType, String&gt; {\n        // Just define what the key is\n        override val PaymentMethodType.key\n            get() = type\n    }\n}\n</code></pre>\n\n<p>And voila, now you can do this:</p>\n\n<pre><code>println(PaymentMethodType.getByKey(\"Paypal\")) // Prints PAYPAL\n</code></pre>\n\n<p>The <code>EnumWithKey</code> interface can now be reused by just having the companion object of an enum implementing it.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 2024070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c951b169e623e282843ac1e2c4585f62?s=128&d=identicon&r=PG", "display_name": "Francesco Jo", "link": "https://stackoverflow.com/users/2024070/francesco-jo"}, "is_accepted": false, "score": 1, "last_activity_date": 1551864252, "creation_date": 1551864252, "answer_id": 55019562, "question_id": 55018969, "link": "https://stackoverflow.com/questions/55018969/how-can-i-generalize-functions-on-an-enum-class-in-kotlin/55019562#55019562", "title": "How can I generalize functions on an enum class in Kotlin?", "body": "<p>Well? How about this code? </p>\n\n<pre><code>enum class PaymentMethodType(val type: String) {\n    PAYPAL(\"Paypal\"),\n    VISA(\"Visa\"),\n    MASTERCARD(\"MasterCard\"),\n    VISA_DEBIT(\"VISA Debit\"),\n    LPQ_CREDIT(\"Lpq Credit\");\n\n    companion object {\n        private val TAG: String = PaymentMethodType::class.simpleName\n\n        fun fromString(name: String?): PaymentMethodType? {\n            val maybeType = PaymentMethodType.values().firstOrNull { it.type == name }\n            if (maybeType == null) {\n                Log.e(TAG, \"No corresponding PaymentMethodType for $name\")\n            }\n            return maybeType\n        }\n    }\n}\n</code></pre>\n\n<p>Just made <code>getEnumFromString</code> method simpler like this way.</p>\n\n<p>Moreover, if you want to make your PaymentMethodType more \"reusable, flexible and global\", add some abstract method onto your <code>PaymentMethodType</code> or consider using <strong>Sealed class</strong> in this case. We can guess that many payment methods require their own protocols, and implementing it by <code>enum</code> requires an externalised <code>when</code> or <code>if-else</code> branch to do so. For example, the code should be looks like this:</p>\n\n<pre><code>fun paymentProcessor(payment: PaymentMethodType): Boolean {\n    return when (payment) {\n        PAYPAL -&gt; { processPaypalPayment() }\n        VISA   -&gt; { processVisaPayment() }\n        // ...\n    }\n}\n</code></pre>\n\n<p>which is not bad unless numbers of payment methods are limited but not quite desirable. We can remove this insidious <code>if</code> or <code>when</code> keyword like this way(retaining <code>enum class</code> approach):</p>\n\n<pre><code>enum class PaymentMethodType(val type: String) {\n    PAYPAL(\"Paypal\") {\n        override fun processPayment(): Boolean {\n            TODO(\"Not implemented.\")\n        }\n    },\n    VISA(\"Visa\") {\n        override fun processPayment(): Boolean {\n            TODO(\"Not implemented.\")\n        }\n    },\n    // ... more types ...\n    ;\n\n    abstract fun processPayment(): Boolean\n\n    // ...\n}\n</code></pre>\n\n<p>With either approach, we can eliminate <code>when</code> keyword in <code>paymentProcessor</code> method I demonstrated like this:</p>\n\n<pre><code>fun paymentProcessor(payment: PaymentMethodType): Boolean {\n    return payment.processPayment()\n}\n</code></pre>\n\n<p>I don't explain <code>sealed class</code> approach since the code is not much different compare to <code>enum class</code> approach in this case. <a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">The official document</a> may help.</p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 634, "user_id": 5917497, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f66cf77248f51ad2cf10acd2693aa5c?s=128&d=identicon&r=PG&f=1", "display_name": "SergioLeone", "link": "https://stackoverflow.com/users/5917497/sergioleone"}, "is_accepted": false, "score": 1, "last_activity_date": 1551866147, "creation_date": 1551866147, "answer_id": 55020163, "question_id": 55018969, "link": "https://stackoverflow.com/questions/55018969/how-can-i-generalize-functions-on-an-enum-class-in-kotlin/55020163#55020163", "title": "How can I generalize functions on an enum class in Kotlin?", "body": "<p>Get all enum values with <code>PaymentMethodType.values()</code>, then use <code>find()</code> to get the one you need:  </p>\n\n<pre><code>fun fromString(type: String): PaymentMethodType? = PaymentMethodType.values().find { it.type.toLowerCase() == type.toLowerCase() }\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9161815, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210721896316184/picture?type=large", "display_name": "Jonas Simonaitis", "link": "https://stackoverflow.com/users/9161815/jonas-simonaitis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 2, "accepted_answer_id": 55019478, "answer_count": 3, "score": 3, "last_activity_date": 1551894088, "creation_date": 1551862319, "last_edit_date": 1551864624, "question_id": 55018969, "link": "https://stackoverflow.com/questions/55018969/how-can-i-generalize-functions-on-an-enum-class-in-kotlin", "title": "How can I generalize functions on an enum class in Kotlin?", "body": "<p>How can I create a class which could be more reusable with enum classes, as I might have few more classes later on? My point is to make it more reusable, flexible and global for other usage. </p>\n\n<pre><code>enum class PaymentMethodType(val type: String) {\n\n    PAYPAL(\"Paypal\"),\n    VISA(\"Visa\"),\n    MASTERCARD(\"MasterCard\"),\n    VISA_DEBIT(\"VISA Debit\"),\n    LPQ_CREDIT(\"Lpq Credit\");\n\n    companion object {\n\n        private val TAG: String = this::class.java.simpleName\n\n        fun fromString(name: String): PaymentMethodType? {\n            return getEnumFromString(PaymentMethodType::class.java, name)\n        }\n\n        private inline fun &lt;reified T : Enum&lt;T&gt;&gt; getEnumFromString(c: Class&lt;T&gt;?, string: String?): T? {\n            if (c != null &amp;&amp; string != null) {\n                try {\n                    return enumValueOf&lt;T&gt;(\n                        string.trim()\n                            .toUpperCase(Locale.getDefault()).replace(\" \", \"_\")\n                    )\n                } catch (e: IllegalArgumentException) {\n                    Log.e(TAG, e.message)\n                }\n            }\n            return null\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 634, "user_id": 5917497, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8f66cf77248f51ad2cf10acd2693aa5c?s=128&d=identicon&r=PG&f=1", "display_name": "SergioLeone", "link": "https://stackoverflow.com/users/5917497/sergioleone"}, "edited": false, "score": 0, "creation_date": 1551866501, "post_id": 55018895, "comment_id": 96794048, "body": "Which properties are you trying to convert to a map? Please elaborate on your questions as it is not clear what you&#39;re trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1551862537, "creation_date": 1551862537, "answer_id": 55019031, "question_id": 55018895, "link": "https://stackoverflow.com/questions/55018895/convert-object-of-class-into-map/55019031#55019031", "title": "Convert object of Class into Map", "body": "<p>You may use Kotlin reflection to implement that, add the <code>kotlin-reflect</code> library to the application classpath and use code like that:</p>\n\n<pre><code>\nfun TestClass.asMap() = this::class.declaredMemberProperties\n        .map {\n          it as KProperty1&lt;TestClass, Any?&gt;\n          it.name to it.get(this).toString()\n        }.toMap()\n\n</code></pre>\n\n<p>We cast the <code>declaredMemberProperties</code> element from a star-projection to a type with <code>Any?</code> instead. The case is unchecked because of the JVM types erasure, but it is still required.</p>\n"}], "owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 55019031, "answer_count": 1, "score": -2, "last_activity_date": 1551862537, "creation_date": 1551862073, "question_id": 55018895, "link": "https://stackoverflow.com/questions/55018895/convert-object-of-class-into-map", "title": "Convert object of Class into Map", "body": "<p>I have a class, full of String like</p>\n\n<pre><code>data class TestClass (\nvar par1: String?,\nvar par2: String?,\nvar par3: String?\n)\n</code></pre>\n\n<p>And I want to convert it to Map, where Key and Value are String. What is the best way to do this in Kotlin?</p>\n"}, {"tags": ["android", "xml", "kotlin"], "comments": [{"owner": {"reputation": 489, "user_id": 4569915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImxQJ.png?s=128&g=1", "display_name": "twenk11k", "link": "https://stackoverflow.com/users/4569915/twenk11k"}, "edited": false, "score": 0, "creation_date": 1551862286, "post_id": 55018858, "comment_id": 96791553, "body": "use getWidth() and getHeight() .. also FAB should be visible if you want to get it&#39;s width and height"}, {"owner": {"reputation": 319, "user_id": 8057394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87c38c27132367e46b660595ff8e4c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Csongi77", "link": "https://stackoverflow.com/users/8057394/csongi77"}, "reply_to_user": {"reputation": 489, "user_id": 4569915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImxQJ.png?s=128&g=1", "display_name": "twenk11k", "link": "https://stackoverflow.com/users/4569915/twenk11k"}, "edited": false, "score": 0, "creation_date": 1551862577, "post_id": 55018858, "comment_id": 96791713, "body": "@twenk11k thank you but showing the FAB is part of an animation. It&#39;s visibility is triggered when animation completes, so this solution is not suitable in this exact case."}], "owner": {"reputation": 319, "user_id": 8057394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87c38c27132367e46b660595ff8e4c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Csongi77", "link": "https://stackoverflow.com/users/8057394/csongi77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551861947, "creation_date": 1551861947, "question_id": 55018858, "link": "https://stackoverflow.com/questions/55018858/android-get-view-values-from-xml-at-runtime", "title": "Android get View values from XML at runtime", "body": "<p>I have a Coordinator Layout containing layouts,views and a FAB. The problem is that the layout at runtime is invisible. At a specified event I have to</p>\n\n<ol>\n<li>get it's position and margins (or size and margins - then position can be calculated from screen size...)</li>\n<li>change it's visibility using main_fab.show()</li>\n</ol>\n\n<p>My layout file:</p>\n\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n  xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/main_coordinator_containter\"&gt;\n&lt;!-- omitted --&gt;\n&lt;Layout1&gt;\n    &lt;!-- omitted --&gt;\n&lt;/Layout1&gt;\n    &lt;!-- omitted --&gt;\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n            android:id=\"@+id/main_fab\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|right\"\n            android:layout_margin=\"16dp\"                \n            app:srcCompat = \"@drawable/ic_chat_bubble_outline_black_24dp\"\n            /&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>In code I tried the following:</p>\n\n<pre><code>//... code block\n\nvar mFabWidth=0\nvar mFabHeight=0\n\n//... code block\n\n    fun getCurrentFabValues(){\n      mFabWidth=main_fab.width\n      mFabHeight=main_fab.height\n      /* and I also need it's default size and margin values */\n    }\n</code></pre>\n\n<p>Since at the specified moment the FAB is invisible, main_fab.width and main_fab.height returns 0. Moreover I don't know how to get margin and default size. \nCan somebody please help how should I retrieve those values from XML?\nThanks in advance! </p>\n"}, {"tags": ["android", "kotlin", "retrofit"], "answers": [{"comments": [{"owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1617798378, "post_id": 55017699, "comment_id": 118406418, "body": "what happen if server return a new enum element?"}], "tags": [], "owner": {"reputation": 16790, "user_id": 2936153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RIaVu.jpg?s=128&g=1", "display_name": "Rohit5k2", "link": "https://stackoverflow.com/users/2936153/rohit5k2"}, "is_accepted": true, "score": 4, "last_activity_date": 1553594940, "last_edit_date": 1553594940, "creation_date": 1551857105, "answer_id": 55017699, "question_id": 55017577, "link": "https://stackoverflow.com/questions/55017577/how-to-get-value-of-enum-throw-retrofit/55017699#55017699", "title": "How to get value of enum throw retrofit?", "body": "<p>Create your enum like this</p>\n\n<pre><code>enum class Counter{\n    @SerializedName(\"none\")\n    none(\"none\"),\n\n    @SerializedName(\"few\")\n    few(\"few\"),\n\n    @SerializedName(\"many\")\n    many(\"many\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": false, "score": 0, "last_activity_date": 1551857270, "creation_date": 1551857270, "answer_id": 55017729, "question_id": 55017577, "link": "https://stackoverflow.com/questions/55017577/how-to-get-value-of-enum-throw-retrofit/55017729#55017729", "title": "How to get value of enum throw retrofit?", "body": "<p>You can use a <code>JsonDeserializer</code> to do custom deserialization for your network calls.</p>\n\n<pre><code>class TestDeserializer: JsonDeserializer&lt;Test&gt; {\n\n    override fun deserialize(json: JsonElement, typeOfT: Type, context: JsonDeserializationContext): Test {\n        val obj = json.asJsonObject\n\n        val param1 = obj.get(\"param1\")?.asString\n        val param2 = obj.get(\"param2\")?.asString\n\n        val counter = when(obj.get(\"counter\")?.asString) {\n            \"none\" -&gt; Counter.none\n            \"few\" -&gt; Counter.few\n            \"many\" -&gt; Counter.many\n            else -&gt; throw IllegalArgumentException(\"Counter type unknown.\")\n        }\n\n        return Test(param1, param2, counter)\n    }\n}\n</code></pre>\n\n<p>And you just need to register it when you're creating your Retrofit client.</p>\n\n<pre><code>val gson = GsonBuilder()\n        .registerTypeAdapter(Test::class.java, TestDeserializer())\n        .create()\n\nreturn Retrofit.Builder()\n        .baseUrl(BASE_URL)\n        .client(client)\n        .addConverterFactory(GsonConverterFactory.create(gson))\n        .build()\n</code></pre>\n"}], "owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 815, "favorite_count": 0, "accepted_answer_id": 55017699, "answer_count": 2, "score": 0, "last_activity_date": 1553594940, "creation_date": 1551856584, "question_id": 55017577, "link": "https://stackoverflow.com/questions/55017577/how-to-get-value-of-enum-throw-retrofit", "title": "How to get value of enum throw retrofit?", "body": "<p>I have a enum of some values, called Counter</p>\n\n<pre><code>enum class Counter{\n    none,\n    few,\n    many\n}\n</code></pre>\n\n<p>And I want to get value of this enum in my model, using retrofit, so I created an object</p>\n\n<pre><code>data class Test(\n        var param1: String?,\n        var param2: String?,\n        var counter: Counter?,\n)\n</code></pre>\n\n<p>But when I'm using this like model for my Retrofit method, I'm getting only param1 and param 2, although response from my server is <code>{\"param1\": \"String1\", \"param2\": \"String2\", \"counter\": \"many\"}</code></p>\n\n<p>How to get value of counter, don't using in model <code>var counter: String?</code>?</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "companion-object"], "answers": [{"comments": [{"owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "edited": false, "score": 5, "creation_date": 1551858498, "post_id": 55017803, "comment_id": 96789540, "body": "You just killed me :D It works. Incredible... It seems that there is a invisble character at the end."}, {"owner": {"reputation": 3559, "user_id": 7062071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-uFDVvGmxjjE/AAAAAAAAAAI/AAAAAAAABUo/Un10_d_XdUc/photo.jpg?sz=128", "display_name": "pallav bohara", "link": "https://stackoverflow.com/users/7062071/pallav-bohara"}, "edited": false, "score": 1, "creation_date": 1595256647, "post_id": 55017803, "comment_id": 111404263, "body": "In my case there was an extra closing braces"}], "tags": [], "owner": {"reputation": 434, "user_id": 10770362, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xFAcC1LzLA0/AAAAAAAAAAI/AAAAAAAAd88/eL0piAnwp6I/photo.jpg?sz=128", "display_name": "Ensar Bayhan", "link": "https://stackoverflow.com/users/10770362/ensar-bayhan"}, "is_accepted": true, "score": 33, "last_activity_date": 1551857635, "creation_date": 1551857635, "answer_id": 55017803, "question_id": 55017476, "link": "https://stackoverflow.com/questions/55017476/android-kotlin-error-expecting-a-top-level-declaration-task-appbuildinfog/55017803#55017803", "title": "Android/Kotlin: Error: &quot;Expecting a top level declaration &gt; Task :app:buildInfoGeneratorDebug&quot;", "body": "<p>I just delete last curly brace and write it again. It's working :)</p>\n"}], "owner": {"reputation": 2124, "user_id": 3581620, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/100006145656367/picture?type=large", "display_name": "\u03a9lostA", "link": "https://stackoverflow.com/users/3581620/%ce%a9losta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18944, "favorite_count": 2, "accepted_answer_id": 55017803, "answer_count": 1, "score": 12, "last_activity_date": 1612644477, "creation_date": 1551856159, "question_id": 55017476, "link": "https://stackoverflow.com/questions/55017476/android-kotlin-error-expecting-a-top-level-declaration-task-appbuildinfog", "title": "Android/Kotlin: Error: &quot;Expecting a top level declaration &gt; Task :app:buildInfoGeneratorDebug&quot;", "body": "<p>I try to write a class to manage a SQLite DB, but I have the error message \"Expecting a top level declaration > Task :app:buildInfoGeneratorDebug\".</p>\n\n<pre><code>   package com.xexxxwxxxxs.GMP\n\n    import android.database.sqlite.SQLiteDatabase\n    import android.database.sqlite.SQLiteOpenHelper\n    import android.content.Context\n    import android.content.ContentValues\n\n    class DBHandler(context: Context, name: String?, factory: SQLiteDatabase.CursorFactory?, version: Int) : SQLiteOpenHelper(context, DATABASE_NAME, factory, DATABASE_VERSION)\n    {\n        override fun onCreate(db: SQLiteDatabase)\n        {\n\n        }\n\n        override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int)\n        {\n\n        }\n\n        companion object\n        {\n            private val DATABASE_VERSION = 1\n            private val DATABASE_NAME = \"GMP.db\"\n        }\n    }\ufeff \n</code></pre>\n\n<p>Do you have any ideas?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin", "multi-window"], "comments": [{"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 0, "creation_date": 1551871187, "post_id": 55017138, "comment_id": 96796987, "body": ";D negative vote i don&#39;t think person got the context of question. Please read question then vote.I tried to search a lot and i found no solution.thanks"}], "answers": [{"comments": [{"owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "edited": false, "score": 1, "creation_date": 1551864165, "post_id": 55018037, "comment_id": 96792601, "body": "The problem is that i have my Fragment initiation in separate Module which is not accessible to My Child View. And i won&#39;t prefer this approach as code will be fragile then. Thanks btw it would have worked for sure.but looking for better approach."}], "tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1551858563, "creation_date": 1551858563, "answer_id": 55018037, "question_id": 55017138, "link": "https://stackoverflow.com/questions/55017138/which-layout-is-currently-used-landscape-or-portrait/55018037#55018037", "title": "Which layout is currently used Landscape or Portrait?", "body": "<p>I don't know if it's the best approach but you may give to your layouts different containers ids and search for those ids in onViewCreated method.</p>\n\n<p>For example </p>\n\n<ul>\n<li>MyFragmentLayout.xml:</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>androidx.constraintlayout.widget.ConstraintLayout\n        android:id=\"@+id/portraitContainer\"\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n</code></pre>\n\n<ul>\n<li>MyFragmentLayout.xml (land)</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=\"@+id/landscapeContainer\"\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n</code></pre>\n\n<p>Then, in your onViewCreated method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>View v = view.findview(R.id.portraitContainer)\nif (v !=null){\n  // portrait layout loaded\n} else{\n  // landscape layout loaded\n}\n</code></pre>\n\n<p>Let me know if this helps ;)</p>\n"}, {"tags": [], "owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "is_accepted": false, "score": 0, "last_activity_date": 1551868883, "creation_date": 1551868883, "answer_id": 55021091, "question_id": 55017138, "link": "https://stackoverflow.com/questions/55017138/which-layout-is-currently-used-landscape-or-portrait/55021091#55021091", "title": "Which layout is currently used Landscape or Portrait?", "body": "<p>My Current Solution for this problem is as below.</p>\n\n<p>I have created:</p>\n\n<ul>\n<li><p><code>dimens.xml</code>          (/values folder)</p></li>\n<li><p><code>dimens.xml</code><em>(land)</em>  (/values-land folder)</p></li>\n</ul>\n\n<p>To store the <code>Padding Dimension</code> for different type's of layout(portrait and landscape).</p>\n\n<pre><code>val verticalPadding = context.resources\n                             .getDimension\n                             .getDimension(R.dimens.vertical_padding)\n</code></pre>\n\n<p>This is the best approach i found. I am looking for a better approach which i can control by <code>JAVA/Kotlin</code> code and <strong><em>not by separate xml files</em></strong></p>\n\n<p>In Above Solution when Application choses to use <strong>MyFragmentLayout.xml (land)</strong>\n(Landscape layout) then automatically Application take's dimensions from <strong><em>dimens(land)</em></strong></p>\n"}], "owner": {"reputation": 5421, "user_id": 7972699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bED4H.jpg?s=128&g=1", "display_name": "Anmol", "link": "https://stackoverflow.com/users/7972699/anmol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1551868883, "creation_date": 1551854764, "question_id": 55017138, "link": "https://stackoverflow.com/questions/55017138/which-layout-is-currently-used-landscape-or-portrait", "title": "Which layout is currently used Landscape or Portrait?", "body": "<p>I am facing a issue which i need to resolve by making my view intelligent about what type of view is used currently.</p>\n\n<p>I have two layout one for Portrait and another for landscape(land).</p>\n\n<ul>\n<li>MyFragmentLayout.xml</li>\n<li>MyFragmentLayout.xml <em>(land)</em></li>\n</ul>\n\n<p>I am currently setting my child View of the Fragment with some Padding and i want the view to know which type of layout is currently in use.(Portrait/Landscape).\nThis is my code i used:</p>\n\n<pre><code> val verticalPadding = if (context.resources.configuration.orientation == Configuration.ORIENTATION_LANDSCAPE)\n\n            TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 50f, displayMetrics)\n\n        else\n\n            TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 150f, displayMetrics)\n</code></pre>\n\n<p>Above work's perfectly for orientation change case.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>I am giving Multi-Window support to my application And the issue i am facing is when <strong>Window</strong> is in portrait mode (i.e orientation is Portrait)</p>\n\n<p>But application due to region available switches the layout from portrait mode to landscape mode.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CnRZj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnRZj.jpg\" alt=\"ScreenShot\"></a>\nAs you can see the upper window with red bar is in Portrait mode but Application use's it's Landscape Layout.(which is perfect for my case)</p>\n\n<p><strong>I want to know how can know which type of layout is currently used by my application independent of the current Orientation of the mobile.</strong> </p>\n"}, {"tags": ["android", "database", "sqlite", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1551854138, "post_id": 55016974, "comment_id": 96787646, "body": "Before you receive any another answer try to Clean, Rebuild project and Restart android studio"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1552038266, "post_id": 55016974, "comment_id": 96869192, "body": "your code seems not completed. You are not returning any <code>boolean</code> value in <code>editCard</code> function."}], "owner": {"reputation": 1, "user_id": 11040116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/849f7ee37415bc421e45161311badd6d?s=128&d=identicon&r=PG&f=1", "display_name": "Gopalkrishna", "link": "https://stackoverflow.com/users/11040116/gopalkrishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1552036618, "creation_date": 1551854067, "last_edit_date": 1552036618, "question_id": 55016974, "link": "https://stackoverflow.com/questions/55016974/if-else-in-alertdialog-is-not-working-android-kotlin", "title": "if else in AlertDialog is not working Android kotlin", "body": "<p>I am trying to edit and update already saved ATM card details. I am using Alert Dialog with a Layout to edit the card details. Here, the user after filling the details clicks on positive(update) button the Alert Dialog will not be closed instead it validates the user Input. </p>\n\n<p>But the problem is, once users enters the Card Holder Name(or any other details) and click on update (Positive button) it still show the same toast as \"Card Holder Field is Blank\". It seems like the details are not updating with latest details. Please help me in resolving the issue.</p>\n\n<pre><code>override fun onBindViewHolder(p0: ViewHolder, p1: Int) {\n    val card: Cards = cards[p1]\n\n\n    p0.BankName.text = card.bankName\n    p0.CVV.text = card.cardCVV\n    p0.CardHolderName.text = card.cardHolderName\n    p0.Expire.text = card.validity\n    p0.CardNumber.text = card.cardNumber\n\n    p0.optionsMenu.setOnClickListener(View.OnClickListener {\n        val popupMenu = PopupMenu(mContext, p0.optionsMenu)\n        popupMenu.inflate(R.menu.option_menu)\n        popupMenu.setOnMenuItemClickListener { item -&gt;\n            when (item.itemId) {\n                R.id.mnu_item_Edit -&gt; {\n                    var message: String = \"Details Updated\"\n                    val inflater = LayoutInflater.from(mContext)\n                    val view = inflater.inflate(R.layout.update1, null)\n\n                    var builder = AlertDialog.Builder(mContext)\n                        .setTitle(\"Update Card details\")\n                        .setView(view)\n                        .setPositiveButton(\"Update\", DialogInterface.OnClickListener { dialog, which -&gt; })\n                        .setNegativeButton(\"Cancel\", DialogInterface.OnClickListener { dialog, which -&gt; })\n                    val alert = builder.create()\n                    alert.show()\n\n\n                    alert.getButton(AlertDialog.BUTTON_POSITIVE).setOnClickListener(View.OnClickListener {\n                        val isUpdate: Boolean = MainActivity.dbHander.editCard(\n                            card.cardID.toString(),\n                            view.uBankName.text.toString(),\n                            view.uCardNumber.text.toString(),\n                            view.uCardCVV.text.toString(),\n                            view.uCardHolder.text.toString(),\n                            view.uCardValidity.text.toString()\n                        )\n\n                        if (isUpdate == true) {\n\n                            cards[p1].bankName = view.uBankName.text.toString()\n                            cards[p1].cardHolderName = view.uCardHolder.text.toString()\n                            cards[p1].cardNumber = view.uCardNumber.text.toString()\n                            cards[p1].cardCVV = view.uCardCVV.text.toString()\n                            cards[p1].validity = view.uCardValidity.text.toString()\n                            notifyDataSetChanged()\n                            Toast.makeText(mContext, message, Toast.LENGTH_SHORT).show()\n                            alert.dismiss()\n                        }\n                    })\n                }\n            }\n            popupMenu.show()\n        }\n    })\n\n}\n</code></pre>\n\n<p>I am validating the user inputs by below method </p>\n\n<pre><code>fun editCard(\n    cardId: String,\n    bankName: String,\n    cardHolderName: String,\n    cardCVV: String,\n    validity: String,\n    cardNumber: String\n): Boolean {\n\n    var result: Boolean = false\n\n    if (bankName.isNullOrEmpty()) {\n        Toast.makeText(toast, \"Bank Name should not be blank\", Toast.LENGTH_SHORT).show()\n\n    } else if (cardHolderName.isNullOrEmpty()) {\n        Toast.makeText(toast, \"Card Holder Name should not be blank\", Toast.LENGTH_SHORT).show()\n    } else if (cardNumber.isNullOrEmpty()) {\n        Toast.makeText(toast, \"Card number should not be blank\", Toast.LENGTH_SHORT).show()\n    } else if (cardNumber.length != 16) {\n        Toast.makeText(toast, \"Card number 16 digits\", Toast.LENGTH_SHORT).show()\n    } else if (validity.isNullOrEmpty()) {\n        Toast.makeText(toast, \"Card validity should not be blank\", Toast.LENGTH_SHORT).show()\n\n    } else if (cardCVV.isNullOrEmpty()) {\n\n        Toast.makeText(toast, \"CVV should not be blank\", Toast.LENGTH_SHORT).show()\n\n    } else if (cardCVV.length != 3) {\n        Toast.makeText(toast, \"Must have 3 digits\", Toast.LENGTH_SHORT).show()\n\n    } else {\n        //will do something\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rabbitmq", "mqtt", "spring-amqp"], "answers": [{"comments": [{"owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "edited": false, "score": 0, "creation_date": 1552265067, "post_id": 55027826, "comment_id": 96932037, "body": "%$#@! <a href=\"https://stackoverflow.com/q/55093859/206466\">stackoverflow.com/q/55093859/206466</a> fix one problem in the conversion, somehow end up with another very similar problem"}], "tags": [], "owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "is_accepted": true, "score": 3, "last_activity_date": 1551889532, "creation_date": 1551889532, "answer_id": 55027826, "question_id": 55016865, "link": "https://stackoverflow.com/questions/55016865/how-do-i-convert-from-a-json-byte-array-for-amqp-in-spring-boot/55027826#55027826", "title": "How do I convert from a Json Byte Array for AMQP in Spring Boot?", "body": "<p>According your stack trace there is nothing in the Listener Container to do with your incoming JSON. So, it happens as just <em>pass through</em> with <code>byte[]</code> as a pyalod. What you end up is just an attempt to convert that <code>byte[]</code> to the expected type on your <code>@RabbitListener</code> method. For that purpose, when you don't have a JSON information to convert on the listener container level, you need to configure a <code>DefaultMessageHandlerMethodFactory</code> with desired <code>MappingJackson2MessageConverter</code>. It can be achieve with the <code>RabbitListenerConfigurer</code>:</p>\n\n<pre><code>    @Bean\n    public DefaultMessageHandlerMethodFactory myHandlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setMessageConverter(new MappingJackson2MessageConverter());\n        return factory;\n    }\n\n\n    @Override\n    public void configureRabbitListeners(RabbitListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(myHandlerMethodFactory());\n    }\n</code></pre>\n\n<p>That <code>MappingJackson2MessageConverter</code> can be configured as a bean for your custom <code>ObjectMapper</code> injection.</p>\n"}], "owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1542, "favorite_count": 0, "accepted_answer_id": 55027826, "answer_count": 1, "score": 0, "last_activity_date": 1551889532, "creation_date": 1551853570, "last_edit_date": 1551888936, "question_id": 55016865, "link": "https://stackoverflow.com/questions/55016865/how-do-i-convert-from-a-json-byte-array-for-amqp-in-spring-boot", "title": "How do I convert from a Json Byte Array for AMQP in Spring Boot?", "body": "<p><a href=\"https://stackoverflow.com/q/54995261/206466\">Following this</a>, I have this code </p>\n\n<pre><code>@Bean\nopen fun messageConverter(om: ObjectMapper): MessageConverter {\n    return Jackson2JsonMessageConverter(om)\n}\n\n@Bean\nopen fun rabbitListenerContainerFactory(cf: ConnectionFactory, mc: MessageConverter ): SimpleRabbitListenerContainerFactory {\n    val factory = SimpleRabbitListenerContainerFactory()\n    factory.setConnectionFactory(cf)\n    factory.setMessageConverter(mc)\n    return factory\n}\n\n@Bean\nopen fun builder(): Jackson2ObjectMapperBuilderCustomizer {\n    return Jackson2ObjectMapperBuilderCustomizer {\n        it.modules(JavaTimeModule(), KotlinModule())\n        it.featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n    }\n}\n</code></pre>\n\n<p>but I'm getting this exception</p>\n\n<pre><code>org.springframework.amqp.rabbit.listener.exception.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\nEndpoint handler details:\nMethod [public phg.entity.monitor.Foley phg.event.monitor.Provisioning.save(phg.entity.monitor.Foley)]\nBean [phg.event.monitor.Provisioning@2212e291]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:193) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:127) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1547) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1473) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1461) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1456) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1405) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:870) [spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:854) [spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:78) [spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1137) [spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1043) [spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\nCaused by: org.springframework.messaging.converter.MessageConversionException: Cannot convert from [[B] to [phg.entity.monitor.Foley] for GenericMessage [payload=byte[263], headers={amqp_receivedDeliveryMode=PERSISTENT, amqp_receivedRoutingKey=foley.new, amqp_receivedExchange=amq.topic, x-mqtt-publish-qos=1, x-mqtt-dup=false, amqp_deliveryTag=1, amqp_consumerQueue=foley.new, amqp_redelivered=false, id=c7fade5a-d803-166a-fe71-0a4f8abb8c4e, amqp_consumerTag=amq.ctag-9bkLtT_xhvQACuHqvx_izQ, timestamp=1551886588001}]\n    at org.springframework.messaging.handler.annotation.support.PayloadArgumentResolver.resolveArgument(PayloadArgumentResolver.java:144) ~[spring-messaging-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:117) ~[spring-messaging-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147) ~[spring-messaging-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:116) ~[spring-messaging-5.1.5.RELEASE.jar:5.1.5.RELEASE]\n    at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:49) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:190) ~[spring-rabbit-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n    ... 12 common frames omitted\n</code></pre>\n\n<p>stepping through the code before I notice that it's using the <code>GenericMessageConverter</code> and that there isn't a <code>Jackson2JsonMessageConverter</code></p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 1401, "user_id": 8958060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219a75139a3287b64cebbeea6c29e72d?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Rastegaev", "link": "https://stackoverflow.com/users/8958060/petr-rastegaev"}, "edited": false, "score": 0, "creation_date": 1551890073, "post_id": 55015928, "comment_id": 96808532, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35915970/how-to-export-all-my-intellij-code-styles-to-a-editorconfig-file\">How to export all my Intellij code styles to a .editorconfig file?</a>"}, {"owner": {"reputation": 1128, "user_id": 686385, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b008126dd3cb514bb206ed9f52bf63f1?s=128&d=identicon&r=PG", "display_name": "big_m", "link": "https://stackoverflow.com/users/686385/big-m"}, "reply_to_user": {"reputation": 1401, "user_id": 8958060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/219a75139a3287b64cebbeea6c29e72d?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Rastegaev", "link": "https://stackoverflow.com/users/8958060/petr-rastegaev"}, "edited": false, "score": 0, "creation_date": 1551899654, "post_id": 55015928, "comment_id": 96813594, "body": "@PetrRastegaev, I don&#39;t think so, unfortunately. I&#39;ve tried using &quot;Export&quot; and this only includes the above, plus any differences from those settings. And I gave the Editor Config option a try and it only exported a handful of options, mostly from the Editor Config group (e.g., indent_style and indent_size)."}], "owner": {"reputation": 1128, "user_id": 686385, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b008126dd3cb514bb206ed9f52bf63f1?s=128&d=identicon&r=PG", "display_name": "big_m", "link": "https://stackoverflow.com/users/686385/big-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1551899901, "creation_date": 1551848971, "last_edit_date": 1551899901, "question_id": 55015928, "link": "https://stackoverflow.com/questions/55015928/how-can-one-export-a-pre-defined-code-style-in-intellij-android-studio", "title": "How can one export a pre-defined code style in Intellij/Android Studio?", "body": "<p>Recent Kotlin plugins for Intellij and Android Studio include pre-defined code style configurations for Kotlin code. However, this configuration has already changed at least once, and I would rather have a stable set of rules for my project, and choose if and when to change them, so I want to freeze the configuration as it is at a point in time.</p>\n\n<p>I have used the <strong>Export</strong> options in Code Style, and all I get is this:</p>\n\n<pre><code>&lt;codeStyleSettings language=\"kotlin\"&gt;\n  &lt;option name=\"CODE_STYLE_DEFAULTS\" value=\"KOTLIN_OFFICIAL\" /&gt;\n&lt;/codeStyleSettings&gt;\n</code></pre>\n\n<p>I want that expanded out to show what the defaults actually are. I have not been able to find a way to force that to happen.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1551845392, "creation_date": 1551845392, "answer_id": 55015424, "question_id": 55015359, "link": "https://stackoverflow.com/questions/55015359/how-to-rearrange-order-of-arraylist-in-kotlin-based-on-property-of-the-object/55015424#55015424", "title": "how to rearrange order of ArrayList in Kotlin based on property of the object?", "body": "<p>You can use <code>sortedWith</code> with <code>compareBy</code> like this:</p>\n\n<pre><code>val sortedList = messageList.sortedWith(compareBy({ it.timestamp }))\n</code></pre>\n\n<p>You can even sort by multiple properties:</p>\n\n<pre><code>val sortedList = messageList.sortedWith(compareBy({ it.timestamp }, { it.fromId }))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": true, "score": 3, "last_activity_date": 1551846728, "creation_date": 1551846728, "answer_id": 55015614, "question_id": 55015359, "link": "https://stackoverflow.com/questions/55015359/how-to-rearrange-order-of-arraylist-in-kotlin-based-on-property-of-the-object/55015614#55015614", "title": "how to rearrange order of ArrayList in Kotlin based on property of the object?", "body": "<p>You can use sorting function from <strong>Kotlin standard library</strong>.</p>\n\n<p>Let's say, your <code>messageList</code> need to sort based on the timestamp then use following syntax below:</p>\n\n<pre><code>val sortedList :List&lt;ChatMessage&gt; = messageList.sortedBy { chatMessage :ChatMessage -&gt; chatMessage.timestamp }\n</code></pre>\n\n<p>Above piece of code will return you sorted <code>List&lt;ChatMessage&gt;</code> which you can further use.</p>\n\n<p>Find out more <strong><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sorted-by.html\" rel=\"nofollow noreferrer\">here</a></strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1551858983, "last_edit_date": 1551858983, "creation_date": 1551858619, "answer_id": 55018048, "question_id": 55015359, "link": "https://stackoverflow.com/questions/55015359/how-to-rearrange-order-of-arraylist-in-kotlin-based-on-property-of-the-object/55018048#55018048", "title": "how to rearrange order of ArrayList in Kotlin based on property of the object?", "body": "<p>Welcome to Kotlin</p>\n\n<p>1) You can omit the curly braces for a class if they are empty, also your <code>ChatMessage</code> seems to be a good fit for a data class:</p>\n\n<pre><code>data class ChatMessage(val uid: String, val text: String, val fromId: String, val toId: String, val timestamp: Long)\n</code></pre>\n\n<p>2) You could create a container which you use to collect all messages in an ordered <code>PriorityQueue</code>, especially if you only need it ordered. This could look like this:</p>\n\n<pre><code>class MessageContainer {\n    private val messageList = PriorityQueue&lt;ChatMessage&gt;(Comparator { c1: ChatMessage, c2: ChatMessage -&gt;\n        c1.timestamp.compareTo(c2.timestamp)\n    })\n\n    fun addMessage(msg: ChatMessage) = messageList.offer(msg)\n    fun getAllMessages(): List&lt;ChatMessage&gt; {\n        val ordered = mutableListOf&lt;ChatMessage&gt;()\n        while (!messageList.isEmpty()) ordered.add(messageList.remove())\n        return ordered.toList()\n    }\n}\n</code></pre>\n\n<p>Now if you insert objects of <code>ChatMessage</code> via <code>addMessage</code>, they will be ordered in the queue directly and when you invoke <code>getAllMessages</code>, you receive an ordered <code>List&lt;ChatMessage&gt;</code>:</p>\n\n<pre><code>val container = MessageContainer()\nrepeat(20) {\n    container.addMessage(ChatMessage(\"text$it\", (10L..10_000L).random()))\n}\ncontainer.getAllMessages() //will be ordered\n</code></pre>\n"}], "owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1273, "favorite_count": 0, "accepted_answer_id": 55015614, "answer_count": 3, "score": 1, "last_activity_date": 1551858983, "creation_date": 1551844882, "last_edit_date": 1551845254, "question_id": 55015359, "link": "https://stackoverflow.com/questions/55015359/how-to-rearrange-order-of-arraylist-in-kotlin-based-on-property-of-the-object", "title": "how to rearrange order of ArrayList in Kotlin based on property of the object?", "body": "<p>I have <code>ChatMessage</code> class like the code below:</p>\n\n<pre><code>class ChatMessage(val uid: String, val text: String, val fromId: String, val toId: String, val timestamp: Long) {}\n</code></pre>\n\n<p>it has <code>timestamp</code> as its property</p>\n\n<p>I have an empty list like this, later I will populate this messageList with the data:</p>\n\n<pre><code>val messageList = ArrayList&lt;ChatMessage&gt;()\n</code></pre>\n\n<p>and I want to rearrange that <code>messageList</code> based on the timestamp, so the lowest timestamp will be in the index 0 of that array.</p>\n\n<p>how to do that in Kotlin ? I am sorry if this is trivial, I am new in programming and in Kotlin.</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 812, "user_id": 951917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Bogl2.jpg?s=128&g=1", "display_name": "Bulma", "link": "https://stackoverflow.com/users/951917/bulma"}, "edited": false, "score": 0, "creation_date": 1551839412, "post_id": 55014475, "comment_id": 96783612, "body": "Thank you so much @Active-Dog ! I accepted your answer . One more thing that I want to confirm about my understanding is : If I pass lambda as case 1, can performance be better ? Because I think that lambda actual run when checkFoo() is called ? is that correct ?"}, {"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "reply_to_user": {"reputation": 812, "user_id": 951917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Bogl2.jpg?s=128&g=1", "display_name": "Bulma", "link": "https://stackoverflow.com/users/951917/bulma"}, "edited": false, "score": 1, "creation_date": 1551844953, "post_id": 55014475, "comment_id": 96784830, "body": "@miho39 I don&#39;t think you&#39;ll notice any performance difference, but I&#39;m not 100% sure. You are passing a larger data structure though, so that may effect things."}], "tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": true, "score": 1, "last_activity_date": 1551838305, "creation_date": 1551838305, "answer_id": 55014475, "question_id": 55014330, "link": "https://stackoverflow.com/questions/55014330/kotlin-about-passing-lambda-as-property/55014475#55014475", "title": "Kotlin about passing lambda as property", "body": "<p><code>.invoke()</code> will simply call your lambda and give your result, same as calling a function.</p>\n\n<p>As for when you should pass a lambda or an actual value, it very depends.</p>\n\n<p>Personally, I would only suggest using lambdas in very specific situations, overusing them can make your code very confusing and hard to refactor. If you just want a result to be passed into the function, just pass the actual value. Don't make someone else call <code>.invoke()</code>. </p>\n\n<p>But a few good example for a lambda are callsbacks, or onClickListeners.</p>\n\n<pre><code>// A login network request with a lambda handling the result.\nfun login( username: String, password: String, onResult: (Result) -&gt; Unit ) {\n    // do some network call, and return a Result.\n}\n\n// note: if the last param is a lambda, you can simply move it outside the function call like this.\nlogin( username, password ) { result -&gt;\n    // use the result of the network request.\n}\n</code></pre>\n\n<p>Hopefully that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1551861397, "last_edit_date": 1551861397, "creation_date": 1551860042, "answer_id": 55018384, "question_id": 55014330, "link": "https://stackoverflow.com/questions/55014330/kotlin-about-passing-lambda-as-property/55018384#55018384", "title": "Kotlin about passing lambda as property", "body": "<p>You only pass lambdas into other class constructors if you want something to be invoked on the other end, that might make sense if used as a callback, or if you need to have a function that creates objects again and again rather than being static. In this case, you'd store the lambda for later referral and invoke it whenever needed. If you just pass a static instance around, that is for example <code>foo</code> in your code, there's no reason for a lambda. You should always prefer not to use lambdas for constructors; scenarios in which they are useful or necessary are rather rare IMO.</p>\n\n<p>As to your question regarding <code>invoke</code>: Kotlin has a number of functions that work \"by convention\", e.g. <code>rangeTo</code>, <code>equals</code>, <code>contains</code>, <code>compareTo</code>, the index operators and also <code>invoke</code>. Learn about conventions <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Now, whenever a class provides the <code>invoke</code> operator, you can call instances of that class as if they were functions:</p>\n\n<pre><code>class InvokeMe(){\n    operator fun invoke(value: Int) = println(\"invoked with $value\")\n}\n\nval obj = InvokeMe()\n//both are compiled to the same code\nobj(10)\nobj.invoke(5)  \n</code></pre>\n\n<p>Since every lambda is being compiled into a <code>Function</code> instance (see <code>kotlin.jvm.functions</code>) which comes with an implementation of <code>invoke</code>, you can call lambdas as shown above, i.e., using <code>lambda(args)</code> or <code>lambda.invoke(args)</code></p>\n"}], "owner": {"reputation": 812, "user_id": 951917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Bogl2.jpg?s=128&g=1", "display_name": "Bulma", "link": "https://stackoverflow.com/users/951917/bulma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 55014475, "answer_count": 2, "score": 0, "last_activity_date": 1551861397, "creation_date": 1551837217, "question_id": 55014330, "link": "https://stackoverflow.com/questions/55014330/kotlin-about-passing-lambda-as-property", "title": "Kotlin about passing lambda as property", "body": "<p>I am confusing about merit of writing code as following 2 case:</p>\n\n<pre><code>class TestA {\n    private val foo: Boolean by lazy {\n        // Here is logic that return true or false\n    }  \n    Case 1:\n    fun main() {  \n        TestB({foo})\n    }\n    Case 2:\n    fun main() {\n        TestB(foo)\n    }\n\n}\nCase 1:\nclass TestB(private val isFoo: () -&gt; Boolean ) {\n    fun checkFoo(): Boolean {\n        return isFoo.invoke()\n    }\n}\n\nCase 2:\nclass TestB(private val isFoo: Boolean ) {\n    fun checkFoo(): Boolean {\n        return isFoo\n    }\n}\n</code></pre>\n\n<p>When should I use case 1 or case 2 ?<br>\nBy the way, please let me know how does invoke() method work?</p>\n"}, {"tags": ["android", "kotlin", "android-webview", "chrome-custom-tabs", "android-customtabs"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 10796299, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E7CduwkTAeU/AAAAAAAAAAI/AAAAAAAAAgQ/GdQxOzvPcBc/photo.jpg?sz=128", "display_name": "Shin", "link": "https://stackoverflow.com/users/10796299/shin"}, "is_accepted": true, "score": 4, "last_activity_date": 1551888216, "last_edit_date": 1551888216, "creation_date": 1551833199, "answer_id": 55013833, "question_id": 55013481, "link": "https://stackoverflow.com/questions/55013481/how-to-set-default-chrome-custom-tabs-didnt-have-to-show-open-with/55013833#55013833", "title": "How to set default Chrome custom tabs didn&#39;t have to show \u201copen with\u201d", "body": "<p>I found how to verify it, referenced to <a href=\"https://stackoverflow.com/questions/32655190/chrome-custom-tabs-and-intent-filter?rq=1\">this</a> so i got this coded and work, didnt ask to set browser anymore.</p>\n\n<pre><code>fab.setOnClickListener {\n\n        val PACKAGE_NAME = \"com.android.chrome\"\n\n        val builder = CustomTabsIntent.Builder()\n\n        builder.setToolbarColor(ContextCompat.getColor(this@MainActivity,R.color.colorAccent))\n        builder.addDefaultShareMenuItem()\n        builder.setShowTitle(true)\n\n        val anotherCustomTab = builder.build()\n        val intent = anotherCustomTab.intent\n        intent.data = Uri.parse(\"http://www.myurl.com/\")\n\n        val packageManager = packageManager\n        val resolveInfoList = packageManager.queryIntentActivities(anotherCustomTab.intent, PackageManager.MATCH_DEFAULT_ONLY)\n\n        for (resolveInfo in resolveInfoList) {\n            val packageName = resolveInfo.activityInfo.packageName\n            if (TextUtils.equals(packageName, PACKAGE_NAME))\n                anotherCustomTab.intent.setPackage(PACKAGE_NAME)\n        }\n        anotherCustomTab.launchUrl(this, anotherCustomTab.intent.data)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 1798860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2ccc1154d7137e72e0a13153951d52?s=128&d=identicon&r=PG", "display_name": "tranandh", "link": "https://stackoverflow.com/users/1798860/tranandh"}, "is_accepted": false, "score": 1, "last_activity_date": 1555069912, "last_edit_date": 1555069912, "creation_date": 1553815466, "answer_id": 55408336, "question_id": 55013481, "link": "https://stackoverflow.com/questions/55013481/how-to-set-default-chrome-custom-tabs-didnt-have-to-show-open-with/55408336#55408336", "title": "How to set default Chrome custom tabs didn&#39;t have to show \u201copen with\u201d", "body": "<p>Following code is from <a href=\"https://github.com/GoogleChrome/custom-tabs-client/blob/master/shared/src/main/java/org/chromium/customtabsclient/shared/CustomTabsHelper.java#L64\" rel=\"nofollow noreferrer\">here</a> but please remember we should respect user preference. By user preference I mean, </p>\n\n<ol>\n<li>If user has multiple browser that support custom tab and doesn't\nhave default browser and one of the browser is Chrome then we can\nopen the link in Chrome. </li>\n<li><p>If user has multiple browser that supports\ncustom tabs and has one default browser A set up and that browser A\nhas custom tabs support we should open the link in that browser A.</p></li>\n<li><p>If user has multiple browser that support custom tab and doesn't\nhave default browser and one of the browser is not Chrome then we\ncan show chooser dialog with custom tabs supported browser to open\nthe link</p></li>\n</ol>\n\n<p>There is few other use case too but hope you got the crux of this</p>\n\n<p>Browser supporting CCT (Atleast with latest version)</p>\n\n<ol>\n<li>Samsung browser  </li>\n<li>Firefox   </li>\n<li>Microsoft edge</li>\n</ol>\n\n<p>Browser without CCT support:</p>\n\n<ol>\n<li><p>Old browser build in older Android version and samsung Android device</p></li>\n<li><p>Opera</p></li>\n<li><p>DuckDuckGo</p>\n\n<pre><code>public static String getPackageNameToUse(Context context) {\n\n   String packageNameToUse = null;\n   final PackageManager packageManager = context.getPackageManager();\n   final Intent activityIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.google.com\"));\n\n   // Get all apps that can handle VIEW intents and have custom tab service\n   final List&lt;ResolveInfo&gt; resolvedActivityList = packageManager.queryIntentActivities(activityIntent, 0);\n   final List&lt;String&gt; packagesSupportingCustomTabs = new ArrayList&lt;&gt;();\n\n   for (final ResolveInfo info : resolvedActivityList)\n   {\n       final Intent serviceIntent = new Intent();\n       serviceIntent.setAction(ACTION_CUSTOM_TABS_CONNECTION);\n       serviceIntent.setPackage(info.activityInfo.packageName);\n       if (packageManager.resolveService(serviceIntent, 0) != null)\n   packagesSupportingCustomTabs.add(info.activityInfo.packageName);\n   }\n\n   // Now packagesSupportingCustomTabs contains all apps that can handle both VIEW intents\n   // and service calls.\n   if (packagesSupportingCustomTabs.size() == 1)\n    packageNameToUse = packagesSupportingCustomTabs.get(0);\n   else if (packagesSupportingCustomTabs.contains(STABLE_PACKAGE))\n    packageNameToUse = STABLE_PACKAGE;\n\n   return packageNameToUse;\n  }\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 85, "user_id": 10796299, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E7CduwkTAeU/AAAAAAAAAAI/AAAAAAAAAgQ/GdQxOzvPcBc/photo.jpg?sz=128", "display_name": "Shin", "link": "https://stackoverflow.com/users/10796299/shin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2452, "favorite_count": 0, "accepted_answer_id": 55013833, "answer_count": 2, "score": 1, "last_activity_date": 1576054667, "creation_date": 1551830236, "question_id": 55013481, "link": "https://stackoverflow.com/questions/55013481/how-to-set-default-chrome-custom-tabs-didnt-have-to-show-open-with", "title": "How to set default Chrome custom tabs didn&#39;t have to show \u201copen with\u201d", "body": "<p>I have built an Android app with Chrome Custom Tabs, but when I clicked the button to show the URL, a dialog appear say I need to choose \"Open With\" and list of all my browser apps that are available to be chosen. My problem is how to determine that the app only set Chrome as default and don't have to open dialog \"open with\" anymore. </p>\n\n<pre><code>fab.setOnClickListener {\n    val url = \"http://myurl.com/\"\n    val builder = CustomTabsIntent.Builder()\n    builder.setToolbarColor(ContextCompat.getColor(this@MainActivity,R.color.colorAccent))\n    builder.addDefaultShareMenuItem()\n\n    val anotherCustomTab = CustomTabsIntent.Builder().build()\n\n    val intent = anotherCustomTab.intent\n    intent.data = Uri.parse(\"http://myurl.com/\")\n\n    builder.setShowTitle(true)\n\n    val customTabsIntent = builder.build()\n    customTabsIntent.launchUrl(this@MainActivity, Uri.parse(url))\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1551830192, "post_id": 55013435, "comment_id": 96781509, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54589610/gradle-sync-failure-after-updating-to-version-4-10-1-4-10-2\">Gradle Sync Failure after updating to version &#39;4.10.1&#39;/&#39;4.10.2&#39;</a>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1551832449, "post_id": 55013435, "comment_id": 96782061, "body": "it is difficult to tell, while you only post the stack-trace, but not the <code>build.gradle</code> which produces it... would assume it to be related to <code>apply plugin &#39;kotlin-kapt&#39;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1551834542, "post_id": 55013885, "comment_id": 96782518, "body": "interesting. since <code>Kotlin</code> received first-class support in Android Studio, I also have to enforce a certain version of <code>kotlin-stdlib</code> in Java/JNI projects, just to get rid of a warning message."}, {"owner": {"reputation": 22254, "user_id": 4758255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SBvf3.jpg?s=128&g=1", "display_name": "\u05d9\u05e9\u05d5 \u05d0\u05d5\u05d4\u05d1 \u05d0\u05d5\u05ea\u05da", "link": "https://stackoverflow.com/users/4758255/%d7%99%d7%a9%d7%95-%d7%90%d7%95%d7%94%d7%91-%d7%90%d7%95%d7%aa%d7%9a"}, "edited": false, "score": 0, "creation_date": 1551843920, "post_id": 55013885, "comment_id": 96784619, "body": "This absolutely the same case happened on me. Android Studio can&#39;t even create a project when kotlin is disabled. Seems that the Android Developer want to force everybody migrate to kotlin."}, {"owner": {"reputation": 958, "user_id": 4496512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/beb8bd9953c0539aab9ff5bfb8bff75f?s=128&d=identicon&r=PG&f=1", "display_name": "Gerry", "link": "https://stackoverflow.com/users/4496512/gerry"}, "edited": false, "score": 0, "creation_date": 1551894358, "post_id": 55013885, "comment_id": 96811160, "body": "could you help to submit a bug to Android Studio:  <a href=\"https://developer.android.com/studio/report-bugs\" rel=\"nofollow noreferrer\">developer.android.com/studio/report-bugs</a> to track it? sounds odd, thanks!"}], "tags": [], "owner": {"reputation": 5620, "user_id": 301166, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pNIkW.png?s=128&g=1", "display_name": "Bram", "link": "https://stackoverflow.com/users/301166/bram"}, "is_accepted": true, "score": 4, "last_activity_date": 1551833738, "creation_date": 1551833738, "answer_id": 55013885, "question_id": 55013435, "link": "https://stackoverflow.com/questions/55013435/androidstudio-fails-to-sync-gradle-files/55013885#55013885", "title": "AndroidStudio fails to sync Gradle files", "body": "<p>I have tried many things, but the only way I was able to make this error go away, is by <strong>enabling the Kotlin plug-in</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sdfez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sdfez.png\" alt=\"settings\"></a></p>\n\n<p>This I find strange, because:</p>\n\n<ul>\n<li>It used to work fine without the Kotlin plugin before.</li>\n<li>I don't use any Kotlin code, anywhere. Just Java, C and C++.</li>\n</ul>\n\n<p>I suspect Android Studio picked up a false dependency on Kotlin somewhere, recently. This is unfortunate. I don't see why this plug-in would be required.</p>\n"}], "owner": {"reputation": 5620, "user_id": 301166, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pNIkW.png?s=128&g=1", "display_name": "Bram", "link": "https://stackoverflow.com/users/301166/bram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1314, "favorite_count": 0, "accepted_answer_id": 55013885, "answer_count": 1, "score": 2, "last_activity_date": 1551860725, "creation_date": 1551829974, "last_edit_date": 1551860725, "question_id": 55013435, "link": "https://stackoverflow.com/questions/55013435/androidstudio-fails-to-sync-gradle-files", "title": "AndroidStudio fails to sync Gradle files", "body": "<p>Recently, AndroidStudio stopped working for me.</p>\n\n<p>If I sync to gradle files, I get this error:</p>\n\n<p><strong>Gradle sync failed: org/jetbrains/kotlin/kapt/idea/KaptGradleModelorg/jetbrains/kotlin/kapt/idea/KaptGradleModel</strong></p>\n\n<p>The log:</p>\n\n<pre><code>2019-03-05 14:32:47,370 [d thread 7]   WARN - ect.sync.idea.ProjectSetUpTask - java.lang.NoClassDefFoundError: org/jetbrains/kotlin/kapt/idea/KaptGradleModel\n    at com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateKaptKotlinGeneratedSourceDir(AndroidGradleProjectResolver.java:359)\n    at com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateModuleContentRoots(AndroidGradleProjectResolver.java:250)\n    at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n    at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n    at org.jetbrains.plugins.gradle.service.project.TracedProjectResolverExtension.populateModuleContentRoots(TracedProjectResolverExtension.java:62)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.doResolveProjectInfo(GradleProjectResolver.java:383)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.access$100(GradleProjectResolver.java:76)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:879)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:863)\n    at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:209)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:141)\n    at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:76)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\n    at com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:58)\n    at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n    at com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:45)\n    at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:100)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:163)\n    at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:149)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:573)\n    at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:678)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:736)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)\n    at com.intellij.openapi.progress.impl.CoreProgressManager$4.run(CoreProgressManager.java:395)\n    at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:314)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n2019-03-05 14:32:47,370 [d thread 7]   WARN - ect.sync.idea.ProjectSetUpTask - org/jetbrains/kotlin/kapt/idea/KaptGradleModelorg/jetbrains/kotlin/kapt/idea/KaptGradleModel \n2019-03-05 14:32:47,370 [d thread 7]   INFO - e.project.sync.GradleSyncState - Gradle sync failed: org/jetbrains/kotlin/kapt/idea/KaptGradleModelorg/jetbrains/kotlin/kapt/idea/KaptGradleModel\n</code></pre>\n\n<p>When Googling this error, people mention to re-install the Kotlin plugin.</p>\n\n<p>But here is the thing: I have never installed a Kotlin plugin. I don't use Kotlin, I only use NDK and Java.</p>\n\n<p>This has always worked just fine.</p>\n\n<p>Did AndroidStudio recently added a requirement on the Kotlin plugin? Am I now forced to install Kotlin?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p><code>$ rm -rf ~/.gradle</code> solution did not help.</p>\n\n<p>Menu option <strong><em>Invalidate Caches / Restart</em></strong> did not help.</p>\n\n<p>A <a href=\"https://stackoverflow.com/a/54803630/301166\">solution</a> offered from a related question (<strong>upgrade to Gradle 5.2.1</strong>) did not help.</p>\n\n<p>OS: Ubuntu LTS</p>\n\n<p>AndroidStudio version:3.3.2</p>\n\n<p>top level gradle file:</p>\n\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.3.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>app's gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    lintOptions {\n        checkReleaseBuilds false\n    }\n    defaultConfig {\n        applicationId \"com.steenriver.armor\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 134\n        versionName \"1.34\"\n        ndk {\n            abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86'\n        }\n        externalNativeBuild {\n            cmake {\n                cFlags \"-DCP_USE_DOUBLES=0 -DCP_USE_CGTYPES=0\"\n                cppFlags \"-std=c++11 -DANDROID=1 -DPLAY=1 -DUSEES3=1 -DLOGTAG=armor -DCP_USE_DOUBLES=0 -DCP_USE_CGTYPES=0 -DAPPVER=$versionName\"\n                arguments \"-DCMAKE_VERBOSE_MAKEFILE=0\", \"-DANDROID_TOOLCHAIN=clang\", \"-DANDROID_ARM_NEON=TRUE\", \"-DANDROID_ARM_MODE=arm\"\n            }\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            useProguard false\n        }\n        debug {\n            externalNativeBuild {\n                cmake {\n                    cppFlags += \"-DDEBUG\"\n                }\n            }\n        }\n    }\n    externalNativeBuild {\n        cmake {\n            path '../../Android/jni/CMakeLists.txt'\n        }\n    }\n}\n\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testImplementation 'junit:junit:4.12'\n    api 'com.android.support:support-v4:28.0.0'\n    api 'com.android.support:appcompat-v7:28.0.0'\n\n    api 'com.google.android.gms:play-services-auth:16.0.1'\n    api 'com.google.android.gms:play-services-nearby:16.0.0'\n    api 'com.google.android.gms:play-services-games:16.0.0'\n    api 'com.android.billingclient:billing:1.1'\n}\n\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2037, "user_id": 1937872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfd326469e84e932e5e40e0c4d6213ae?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/1937872/lukasz"}, "edited": false, "score": 0, "creation_date": 1551860335, "post_id": 55013462, "comment_id": 96790471, "body": "Hmm... I think I do something wrong, but when I add <code>JvmName(name = &quot;intoFooFromBoo&quot;)</code> and <code>JvmName(name = &quot;intoFizFromBoo&quot;)</code> I still get the same error. Did I not understand you correctly?"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 2037, "user_id": 1937872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfd326469e84e932e5e40e0c4d6213ae?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/1937872/lukasz"}, "edited": false, "score": 0, "creation_date": 1551860544, "post_id": 55013462, "comment_id": 96790585, "body": "You do not need the generic parameters, e.g. <code>&lt;Fiz&gt;</code> or <code>&lt;Foo&gt;</code>"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1551860610, "last_edit_date": 1551860610, "creation_date": 1551830112, "answer_id": 55013462, "question_id": 55013262, "link": "https://stackoverflow.com/questions/55013262/resolving-overload-resolution-ambiguity/55013462#55013462", "title": "Resolving Overload resolution ambiguity", "body": "<p>The functions from the JVM point of view have the same type after type erasure, it will be something like (in Java):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void into(Boo boo, Fucntion1 block);\n</code></pre>\n\n<p>A function return type is not taken into account for such resolution at the JVM level.</p>\n\n<p>Use the <code>@JvmName(\"unique name\")</code> annotation with different parameters for each of the methods to ask Kotlin compiler to generate unique names for the methods at the JVM level.</p>\n\n<p><strong>UPD</strong>: You do not need the generic parameters for these functions, namely <code>&lt;Fiz&gt;</code> and <code>&lt;Foo&gt;</code>. You do not use them in the declarations, and Kotlin compiler cannot infer the types too</p>\n\n<p><strong>UPD2</strong>:\nThe compiler will not be able to guess the type of the lambda that you call, so you may need to specify the type of it explicitly too, e.g.</p>\n\n<pre><code>val builder : FizMorphBuilder.() -&gt; Unit = { /*the builder lambda */ }\nval z = Boo().into(builder)\n</code></pre>\n\n<p>We use the declaration with an explicit type to explain what exact builder lambda signature we need at that point.</p>\n"}], "owner": {"reputation": 2037, "user_id": 1937872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bfd326469e84e932e5e40e0c4d6213ae?s=128&d=identicon&r=PG", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/1937872/lukasz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 55013462, "answer_count": 1, "score": 0, "last_activity_date": 1551860610, "creation_date": 1551828708, "question_id": 55013262, "link": "https://stackoverflow.com/questions/55013262/resolving-overload-resolution-ambiguity", "title": "Resolving Overload resolution ambiguity", "body": "<p>I don't understand why the following two <code>into</code> functions, would cause an  <code>Overload resolution ambiguity:</code> </p>\n\n<pre><code>public fun &lt;Fiz&gt; Boo.into(block: FizMorphBuilder.() -&gt; Unit): FizMorphBuilder defined in com.ltrojanowski.morph\npublic fun &lt;Foo&gt; Boo.into(block: FooMorphBuilder.() -&gt; Unit): FooMorphBuilder defined in com.ltrojanowski.morph\n</code></pre>\n\n<p>Why doesn't kotlin know given the type parameter which one to choose when I explicitly specify the type <code>boo.into&lt;Foo&gt;{}.morph()</code>?</p>\n\n<pre><code>class FooMorphBuilder(\n    var a: String?,\n    var b: Double?,\n    var c: Int?,\n    var d: Float?,\n    var e: List&lt;String&gt;?\n) : MorphBuilder&lt;Foo&gt; {\n    override fun morph(): Foo = Foo(a = a!!, b = b!!, c = c!!, d = d!!, e = e!!)\n}\n\nfun &lt;Foo&gt; Boo.into(block: FooMorphBuilder.() -&gt; Unit): FooMorphBuilder = FooMorphBuilder(this.a,\n        this.b, this.c, this.d, this.e).apply(block)\n</code></pre>\n\n<p>And</p>\n\n<pre><code>class FizMorphBuilder(\n    var a: String?,\n    var b: Double?,\n    var c: Int?,\n    var d: Float?,\n    var e: List&lt;String&gt;?\n) : MorphBuilder&lt;Fiz&gt; {\n    override fun morph(): Fiz = Fiz(a = a!!, b = b!!, c = c!!, d = d!!, e = e!!)\n}\n\nfun &lt;Fiz&gt; Boo.into(block: FizMorphBuilder.() -&gt; Unit): FizMorphBuilder = FizMorphBuilder(this.a,\n        this.b, this.c, this.d, this.e).apply(block)\n</code></pre>\n\n<p>Can I resolve this somehow?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11156385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14072a054ee448d5fce7c07c121438a?s=128&d=identicon&r=PG&f=1", "display_name": "Hixon", "link": "https://stackoverflow.com/users/11156385/hixon"}, "edited": false, "score": 0, "creation_date": 1551825502, "post_id": 55012451, "comment_id": 96780137, "body": "TICK does every minute and TIME_CHANGED is for manual change of time right? Someone <a href=\"https://stackoverflow.com/questions/7912885/action-time-changed-or-action-date-changed-cant-make-them-work\">here</a> suggests DATE is depreciated."}], "tags": [], "owner": {"reputation": 2036, "user_id": 6510908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXaCN.jpg?s=128&g=1", "display_name": "B-GangsteR", "link": "https://stackoverflow.com/users/6510908/b-gangster"}, "is_accepted": false, "score": 0, "last_activity_date": 1551824130, "last_edit_date": 1592644375, "creation_date": 1551824130, "answer_id": 55012451, "question_id": 55012241, "link": "https://stackoverflow.com/questions/55012241/broadcast-receiver-for-date-changed-not-working-only-for-timezone-changed/55012451#55012451", "title": "Broadcast Receiver for DATE_CHANGED not Working Only for TIMEZONE_CHANGED", "body": "<p>According to this <a href=\"https://stackoverflow.com/questions/23928415/android-system-date-changed-event\">question</a>, there could be a <a href=\"https://issuetracker.google.com/issues/36908018\" rel=\"nofollow noreferrer\">bug</a>. It is obsolete now, but you can try to submit new issue.</p>\n<p>Also this <a href=\"https://stackoverflow.com/questions/24134512/android-date-changed-broadcast-receiver\">question</a> may help you.</p>\n<p>They using</p>\n<blockquote>\n<p>ACTION_TIME_TICK</p>\n<p>ACTION_TIMEZONE_CHANGED</p>\n<p>ACTION_TIME_CHANGED</p>\n</blockquote>\n<pre><code>private final BroadcastReceiver m_timeChangedReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        final String action = intent.getAction();\n\n        if (action.equals(Intent.ACTION_TIME_CHANGED) ||\n            action.equals(Intent.ACTION_TIMEZONE_CHANGED))\n        {\n            doWorkSon();\n        }\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11156385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14072a054ee448d5fce7c07c121438a?s=128&d=identicon&r=PG&f=1", "display_name": "Hixon", "link": "https://stackoverflow.com/users/11156385/hixon"}, "is_accepted": false, "score": 1, "last_activity_date": 1551845448, "creation_date": 1551845448, "answer_id": 55015437, "question_id": 55012241, "link": "https://stackoverflow.com/questions/55012241/broadcast-receiver-for-date-changed-not-working-only-for-timezone-changed/55015437#55015437", "title": "Broadcast Receiver for DATE_CHANGED not Working Only for TIMEZONE_CHANGED", "body": "<p>Solved the issue by switching to the AlarmManager. Here's the code if anyone's curious: </p>\n\n<pre><code>val calendar: Calendar = Calendar.getInstance().apply {\n    timeInMillis = System.currentTimeMillis()\n    set(Calendar.HOUR_OF_DAY, 3)\n}\n</code></pre>\n\n<p>This method worked better for me as it keeps all devices with my app updating at the same time apposed to start of new day.</p>\n\n<pre><code>val alarmMgr = getSystemService(Context.ALARM_SERVICE) as AlarmManager\nval broadcastIntent = Intent(this, DateChangeReceiver::class.java)\nval pIntent = PendingIntent.getBroadcast(this,0,broadcastIntent,0)\n\nalarmMgr.setRepeating(AlarmManager.RTC_WAKEUP,\n        calendar.timeInMillis,\n        AlarmManager.INTERVAL_DAY,\n        pIntent\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 3437527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa5606e64a84cef646237e0be0375565?s=128&d=identicon&r=PG&f=1", "display_name": "jyotsna", "link": "https://stackoverflow.com/users/3437527/jyotsna"}, "is_accepted": false, "score": 1, "last_activity_date": 1591905559, "creation_date": 1591905559, "answer_id": 62332565, "question_id": 55012241, "link": "https://stackoverflow.com/questions/55012241/broadcast-receiver-for-date-changed-not-working-only-for-timezone-changed/62332565#62332565", "title": "Broadcast Receiver for DATE_CHANGED not Working Only for TIMEZONE_CHANGED", "body": "<p>I registered broacastreceiver for date change implicitly..this worked for me. </p>\n\n<pre><code>registerReceiver(mReceiver, new IntentFilter(Intent.ACTION_DATE_CHANGED));\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11156385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14072a054ee448d5fce7c07c121438a?s=128&d=identicon&r=PG&f=1", "display_name": "Hixon", "link": "https://stackoverflow.com/users/11156385/hixon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1591905559, "creation_date": 1551823077, "question_id": 55012241, "link": "https://stackoverflow.com/questions/55012241/broadcast-receiver-for-date-changed-not-working-only-for-timezone-changed", "title": "Broadcast Receiver for DATE_CHANGED not Working Only for TIMEZONE_CHANGED", "body": "<p>I can't get my BroadcastReciever() to work for DATE_CHANGED, but works just fine for TIMEZONE_CHANGED. </p>\n\n<pre><code>class DateChangeReceiver : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        Log.d(\"my broadcast\",\"works\")\n        if (intent.action == Intent.ACTION_DATE_CHANGED ||\n                intent.action == Intent.ACTION_TIMEZONE_CHANGED) {\n            var netUtils = NetUtils(context)\n            netUtils.mainStack()\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my Manifest </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.test\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.SET_WALLPAPER\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@drawable/castle\"\n        android:roundIcon=\"@drawable/castle\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n                &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;receiver android:name=\".DateChangeReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.DATE_CHANGED\"/&gt;\n                &lt;action android:name=\"android.intent.action.TIMEZONE_CHANGED\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Here is my function in my main activity: </p>\n\n<pre><code> fun keepAlive() {\n\n    //KEEP RUNNING IN BACKGROUND TO UPDATE WALLPAPER AT CHANGE OF DAY\n     val component = ComponentName(this@MainActivity, DateChangeReceiver::class.java)\n    packageManager.setComponentEnabledSetting(component, PackageManager.COMPONENT_ENABLED_STATE_ENABLED, PackageManager.DONT_KILL_APP)\n     Log.d(\"KEEPALIVE FUN\",\"works\")\n\n }\n\nkeepAlive()\n</code></pre>\n\n<p>I get nothing in logcat when I change my date manually or if I set the time to 11:59 and wait a minute. </p>\n\n<p>A couple of errors I do have in logcat that show up before I added the Reciever are: </p>\n\n<pre><code>2019-03-05 11:48:01.884 29176-29202/com.test E/libc: Access denied finding property \"vendor.debug.egl.profiler\"\n2019-03-05 11:48:07.616 29176-29234/com.test E/libc: Access denied finding property \"ro.vendor.graphics.memory\"\n2019-03-05 11:48:07.665 29176-29234/com.test E/libc: Access denied finding property \"vendor.gralloc.enable_ahardware_buffer\"\n</code></pre>\n\n<p>Is it possible these are effecting my BroadcastReciever? I've tested this on 3 devices so far. </p>\n"}, {"tags": ["java", "docker", "kotlin", "spotify", "spotify-docker-client"], "answers": [{"tags": [], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "is_accepted": true, "score": 0, "last_activity_date": 1551955839, "creation_date": 1551955839, "answer_id": 55042013, "question_id": 55011842, "link": "https://stackoverflow.com/questions/55011842/cannot-copy-file-to-docker-container-via-spotify-docker-client/55042013#55042013", "title": "Cannot copy file to Docker container via Spotify Docker Client", "body": "<p>It turned out that I must create whole new folder, then single file in it and copy that folder.</p>\n\n<pre><code>val dir = Files.createTempDirectory(\"tem-folder-\")\nFiles.createFile(dir.resolve(\"filename\")).toFile().writeText(\"data to write\")\n\nval toBeCopied = dir.toFile()\n\ncliend.copyToContainer(toBeCopied.toPath(), \"containerId\", \"targetPath\")\n</code></pre>\n"}], "owner": {"reputation": 692, "user_id": 7169288, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36af52da5c564f863acbd5dfe9047d48?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Forst", "link": "https://stackoverflow.com/users/7169288/lukas-forst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 55042013, "answer_count": 1, "score": 0, "last_activity_date": 1551955839, "creation_date": 1551821149, "question_id": 55011842, "link": "https://stackoverflow.com/questions/55011842/cannot-copy-file-to-docker-container-via-spotify-docker-client", "title": "Cannot copy file to Docker container via Spotify Docker Client", "body": "<p>I want to copy file to the not running container via Docker Client by <a href=\"https://github.com/spotify/docker-client/\" rel=\"nofollow noreferrer\">Spotify</a> - </p>\n\n<p>File is created like - </p>\n\n<pre><code>File.createTempFile(\"olb-\", \"-temp\").deleteOnExit().writeText(\"some text\")\n</code></pre>\n\n<p>When I try:</p>\n\n<pre><code>client.copyToContainer(inputFileProvider.createFile(task.dataToInsert).toPath(), containerId, \"/app/asd.json\")\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Either container 1adbf9c1ee511272bec78a46be08bf9299c317b11cdb176eed986640ac86a38c or path /app/my_json.json not found.\n</code></pre>\n\n<p>Well, ok - I create this file while building image with <code>RUN touch /app/my_json.json</code>\nNext run:</p>\n\n<pre><code>client.copyToContainer(inputFileProvider.createFile(task.dataToInsert).toPath(), containerId, \"/app/my_json.json\")\n</code></pre>\n\n<p>Resulted in </p>\n\n<pre><code>{\"message\":\"extraction point is not a directory\"}\n</code></pre>\n\n<p>Ok... I tried directory</p>\n\n<pre><code>copyToContainer(inputFileProvider.createFile(task.dataToInsert).toPath(), containerId, \"/app/\")\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{\"message\":\"Error processing tar file(exit status 1): cannot overwrite directory \\\"/\\\" with non-directory \\\"/\\\"\"}\n</code></pre>\n\n<p>Same for <code>\"/app\"</code></p>\n\n<p>Any ideas how to copy file into docker container via Java client?</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551817409, "post_id": 55010765, "comment_id": 96776709, "body": "Have you tried running the task on a different thread context, such as <code>withContext(IO)</code>?"}, {"owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1551818408, "post_id": 55010765, "comment_id": 96777150, "body": "Yes, this works. I guess I have to go back to the basics. Does <code>delay</code> also switch the  dispatcher internally? Can&#39;t say I understand the sourcecode of <code>delay</code>"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1551825259, "post_id": 55010765, "comment_id": 96780054, "body": "No delay doesn\u2019t need another dispatcher since it\u2019s a real suspending function which does not block the thread at any time"}], "answers": [{"comments": [{"owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "edited": false, "score": 0, "creation_date": 1551827264, "post_id": 55011259, "comment_id": 96780737, "body": "Exactly what you mentioned. It was a heavy blocking computation. Suddenly the concept of &quot;continuation&quot; makes sense to me."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1551825397, "last_edit_date": 1551825397, "creation_date": 1551818650, "answer_id": 55011259, "question_id": 55010765, "link": "https://stackoverflow.com/questions/55010765/suspend-function-blocks-main-thread/55011259#55011259", "title": "Suspend function blocks main thread", "body": "<p>That depends. What does <code>longComputation</code> do exactly? \nWhen you mark a function as <code>suspend</code>, this does not mean you can't include blocking code in it. For instance, have a look at this one:</p>\n\n<pre><code>suspend fun blockingSuspendFunction(){\n    BigInteger(1500, Random()).nextProbablePrime()\n}\n</code></pre>\n\n<p>The code inside the suspend function is obviously something that utilizes the CPU and blocks the caller.\n<strong>By convention</strong>, this should not be done because if you call a suspend function, you <em>expect</em> it to <strong>not</strong> block the thread: </p>\n\n<blockquote>\n  <p>Convention: suspending functions do not block the caller thread. (<a href=\"https://medium.com/@elizarov/blocking-threads-suspending-coroutines-d33e11bf4761\" rel=\"nofollow noreferrer\">https://medium.com/@elizarov/blocking-threads-suspending-coroutines-d33e11bf4761</a>)</p>\n</blockquote>\n\n<p>To make such a function \"behave as a suspending function\", the blocking has to be dispatched onto another worker thread, which (by recommendation) should happen with <code>withContext</code>:</p>\n\n<pre><code>suspend fun blockingSuspendFunction() = withContext(Dispatchers.Default) {\n    BigInteger.probablePrime(2048, Random())\n}\n</code></pre>\n"}], "owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 0, "accepted_answer_id": 55011259, "answer_count": 1, "score": 2, "last_activity_date": 1551825397, "creation_date": 1551816567, "question_id": 55010765, "link": "https://stackoverflow.com/questions/55010765/suspend-function-blocks-main-thread", "title": "Suspend function blocks main thread", "body": "<p>I'm having a hard time understanding coroutines. This is a very simple setup. Both <code>longComputation</code> and <code>delay</code> are suspend functions. The first one blocks the main thread, the latter doesn't. Why?</p>\n\n<pre><code>CoroutineScope(Dispatchers.Main).launch {\n    val result = longComputation() // Blocks\n    delay(10_000) // Doesn't block\n}\n</code></pre>\n"}, {"tags": ["android", "asynchronous", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21018, "user_id": 342745, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6c45c81bdc262f2a9e46fed3aa38bda3?s=128&d=identicon&r=PG", "display_name": "John Leehey", "link": "https://stackoverflow.com/users/342745/john-leehey"}, "is_accepted": false, "score": 1, "last_activity_date": 1551826266, "creation_date": 1551826266, "answer_id": 55012866, "question_id": 55010618, "link": "https://stackoverflow.com/questions/55010618/kotlin-mainthread/55012866#55012866", "title": "Kotlin MainThread", "body": "<p>Are your icons / resources appropriately sized for a mobile application? If your assets are too large, inflation could take over the main thread.</p>\n"}, {"tags": [], "owner": {"reputation": 812, "user_id": 951917, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Bogl2.jpg?s=128&g=1", "display_name": "Bulma", "link": "https://stackoverflow.com/users/951917/bulma"}, "is_accepted": false, "score": 0, "last_activity_date": 1551841138, "creation_date": 1551841138, "answer_id": 55014857, "question_id": 55010618, "link": "https://stackoverflow.com/questions/55010618/kotlin-mainthread/55014857#55014857", "title": "Kotlin MainThread", "body": "<p>You'd better to use Retrofit + Rxjava for handling Network call. </p>\n\n<p>Retrofit :<br>\n<a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">https://square.github.io/retrofit/</a></p>\n\n<p>RxJava :<br>\n<a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/RxJava</a></p>\n\n<p>You can also refer this link for check example: <a href=\"https://stackoverflow.com/questions/31667230/how-to-get-the-response-url-from-retrofit\">How to get the response URL from Retrofit?</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11156070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04eb6ac6b58398de0898210606b00da?s=128&d=identicon&r=PG&f=1", "display_name": "ESSETWOPOINTS", "link": "https://stackoverflow.com/users/11156070/essetwopoints"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1551951055, "creation_date": 1551816005, "last_edit_date": 1551951055, "question_id": 55010618, "link": "https://stackoverflow.com/questions/55010618/kotlin-mainthread", "title": "Kotlin MainThread", "body": "<p>I'm new in Kotlin.\nI have a problem, with \"The application may be doing too much work on its main thread\".</p>\n\n<p>I have 2 different activity. The principal I use for login, the second for send a get http and receive a json object. </p>\n\n<p>Where is my problem? I wrong to use 2 different activity o the problem is asyncdo? I am in deep sea.</p>\n\n<pre><code>class GitActivity: AppCompatActivity() {\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.git_activity)\n\n    Recycle_view.layoutManager = LinearLayoutManager(this)\n    Recycle_view.adapter = MainAdapter()\n\n\n    var url = intent.getStringExtra(\"URL\")\n\n    doAsync {\n\n        fetchJson(url)\n        uiThread { longToast(\"Request performed\") }\n    }\n\n}\n\nfun fetchJson(url: String) : List&lt;NameFileList&gt; {\n\n    var request = Request.Builder().url(url).build()\n    val client = OkHttpClient()\n    client.newCall(request).enqueue(object : Callback {\n\n\n        override fun onResponse(call: Call, response: Response) {\n            print(\"sono qui\")\n            print(url)\n            val body = response?.body()?.string()\n            print(body)\n        }\n\n        override fun onFailure(call: Call, e: IOException) {\n            print(\"Error Failure\")\n        }\n\n\n    })\n</code></pre>\n\n<p>}</p>\n\n<p>and my Main Class</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    SearchButton.setOnClickListener {\n\n            verifyNetwork()\n\n    }\n}\n\nprivate fun getUsername(): String {\n\n    val username = Username_editText.text.toString()\n    Log.d(\"MainActivity\", \"UserName is + $username\")\n    return username\n\n}\n\nprivate fun getRepositoryName(): String {\n\n    val nameRepository = RepositoryName_editText.text.toString()\n    Log.d(\"MainActivity\", \"UserName is + $nameRepository\")\n    return nameRepository\n\n}\n\nprivate fun verifyNetwork()\n{\n    if(isConnected(this)){\n\n        val url = CreateUrl().createUrl(getUsername(), getRepositoryName())\n        print(url)\n        var intent = Intent(this, GitActivity::class.java)\n        intent.putExtra(\"URL\", url)\n        startActivity(intent)\n    }\n\n    else {\n\n        //POPUP DI ERRORE NETWORK\n    }\n\n\n}\n\nprivate fun isConnected(context: Context): Boolean {\n    val cm = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val activeNetwork = cm.activeNetworkInfo\n    return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "gson", "vert.x"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7588239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54735eac36a61b908217f404bed14d75?s=128&d=identicon&r=PG&f=1", "display_name": "Shubhang B", "link": "https://stackoverflow.com/users/7588239/shubhang-b"}, "edited": false, "score": 0, "creation_date": 1551886148, "post_id": 55019702, "comment_id": 96806064, "body": "Thanks, this works, However I used another library called Kalxon to  Parse the JSON and it worked just fine. Is this a caveat specific to Gson?"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 59, "user_id": 7588239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54735eac36a61b908217f404bed14d75?s=128&d=identicon&r=PG&f=1", "display_name": "Shubhang B", "link": "https://stackoverflow.com/users/7588239/shubhang-b"}, "edited": false, "score": 0, "creation_date": 1551888814, "post_id": 55019702, "comment_id": 96807747, "body": "I think it has to do with Gson being less aware of Kotlin features."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 1, "last_activity_date": 1551864686, "creation_date": 1551864686, "answer_id": 55019702, "question_id": 55009411, "link": "https://stackoverflow.com/questions/55009411/kotlin-vert-x-parsing-a-json-string-to-a-data-class-using-gson-always-returns-nu/55019702#55019702", "title": "Kotlin vert.x parsing a JSON String to a Data class using gson always returns null", "body": "<p>You declare your class inside the method body, which Gson doesn't like much.  </p>\n\n<p>Extracting it to be nested class will work just fine:</p>\n\n<p>class DataVerticle : AbstractVerticle() {\n    override fun start(startFuture: Future) {\n        val gson = Gson()</p>\n\n<pre><code>    val eventBus = vertx.eventBus()\n    eventBus.consumer&lt;String&gt;(\"data.verticle\") {\n        when (it.headers().get(\"ACTION\")) {\n            \"ADD_PRODUCT\" -&gt; {\n                val prodJson = it.body()\n                if (prodJson != null) {\n                    println(prodJson)\n                    val product = gson.fromJson(prodJson, Product::class.java)\n                    println(product)\n                    it.reply(\"SUCCESS\")\n                }\n            }\n            else -&gt; {\n                print(\"ERROR\")\n            }\n        }\n    }\n    startFuture.complete()\n}\n\ndata class Product(\n    @SerializedName(\"id\") val id: Int,\n    @SerializedName(\"name\") val name: String,\n    @SerializedName(\"productCode\") val productCode: String\n)\n</code></pre>\n\n<p>}</p>\n\n<p>Tested with:</p>\n\n<pre><code>val vertx = Vertx.vertx()\n\nvertx.deployVerticle(DataVerticle()) {\n    val options = DeliveryOptions()\n    options.addHeader(\"ACTION\", \"ADD_PRODUCT\")\n    vertx.eventBus().send(\"data.verticle\", \"\"\"{\"id\":1,\"name\":\"SOAP\",\"productCode\":\"P101\"}\"\"\", options)\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7588239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54735eac36a61b908217f404bed14d75?s=128&d=identicon&r=PG&f=1", "display_name": "Shubhang B", "link": "https://stackoverflow.com/users/7588239/shubhang-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 55019702, "answer_count": 1, "score": 1, "last_activity_date": 1551864686, "creation_date": 1551810947, "question_id": 55009411, "link": "https://stackoverflow.com/questions/55009411/kotlin-vert-x-parsing-a-json-string-to-a-data-class-using-gson-always-returns-nu", "title": "Kotlin vert.x parsing a JSON String to a Data class using gson always returns null", "body": "<p>I am just playing around with vert.x 3.5.3 Kotlin and I am unable to parse a JSON string into a Data class using gson.</p>\n\n<p>Here is the code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\nclass DataVerticle : AbstractVerticle() {\n  override fun start(startFuture: Future&lt;Void&gt;) {\n\n    data class Product(\n      @SerializedName(\"id\") val id: Int,\n      @SerializedName(\"name\") val name: String,\n      @SerializedName(\"productCode\") val productCode: String\n    )\n\n    val products: MutableList&lt;Product&gt; = mutableListOf()\n    val gson = Gson()\n\n    val eventBus = vertx.eventBus()\n    eventBus.consumer&lt;String&gt;(\"data.verticle\") {\n      when (it.headers().get(\"ACTION\")) {\n        \"ADD_PRODUCT\" -&gt; {\n          val prodJson = it.body()\n          if (prodJson != null) {\n            println(prodJson)\n            val product = gson.fromJson(prodJson, Product::class.java)\n            println(product)\n            it.reply(\"SUCCESS\")\n          }\n        }\n\n        else -&gt; {\n          print(\"ERROR\")\n        }\n      }\n    }\n    startFuture.complete()\n  }\n}\n</code></pre>\n\n<p>The Problem is the parsed value is always null \nHere is my sample json -></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\"id\":1,\"name\":\"SOAP\",\"productCode\":\"P101\"}\n</code></pre>\n\n<p>The json string sent over the eventBus is not null. \nI am using this package for gson\ncom.google.code.gson', version: '2.8.5'</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-maps-android-api-2"], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 4504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71f258050d6b78df9c960cdef570012?s=128&d=identicon&r=PG", "display_name": "FrancoVP", "link": "https://stackoverflow.com/users/4504922/francovp"}, "is_accepted": true, "score": 0, "last_activity_date": 1551814087, "creation_date": 1551814087, "answer_id": 55010158, "question_id": 55008667, "link": "https://stackoverflow.com/questions/55008667/google-maps-tile-layers-in-kotlin/55010158#55010158", "title": "Google Maps Tile Layers in Kotlin", "body": "<p>In the end I ended up doing it myself <a href=\"https://stackoverflow.com/a/34143646/4504922\">based in this response</a>, I need just to instanciate the <code>UrlTileProvider</code> abstract class like this:</p>\n\n<pre><code>val tileProvider: TileProvider = object: UrlTileProvider(256, 256){ \n...\n}\n</code></pre>\n\n<p>The Final result: </p>\n\n<pre><code>val tileProvider: TileProvider = object: UrlTileProvider(256, 256) {\n  override fun getTileUrl(x: Int, y: Int, zoom: Int): URL? {\n\n    /* Define the URL pattern for the tile images */\n    val s: String = String.format(\"http://my.image.server/images/%d/%d/%d.png\",\n      zoom, x, y)\n\n    if (!checkTileExists(x, y, zoom)) {\n      return null;\n    }\n\n    try {\n      return URL(s)\n    } catch (e: MalformedURLException) {\n      throw AssertionError(e)\n    }\n  }\n\n  /*\n * Check that the tile server supports the requested x, y and zoom.\n * Complete this stub according to the tile range you support.\n * If you support a limited range of tiles at different zoom levels, then you\n * need to define the supported x, y range at each zoom level.\n */\n  private fun checkTileExists(x: Int, y: Int, zoom: Int): Boolean {\n    val minZoom: Int = 12\n    val maxZoom: Int = 16\n\n    if ((zoom &lt; minZoom || zoom &gt; maxZoom)) {\n      return false\n    }\n    return true\n  }\n}\n\nval tileOverlay: TileOverlay = mMap.addTileOverlay(TileOverlayOptions()\n.tileProvider(tileProvider))\n</code></pre>\n\n<p>Hope It help someone else.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 5879022, "user_type": "registered", "profile_image": "https://graph.facebook.com/972911522773937/picture?type=large", "display_name": "Mobin Munir", "link": "https://stackoverflow.com/users/5879022/mobin-munir"}, "is_accepted": false, "score": 0, "last_activity_date": 1551820134, "creation_date": 1551820134, "answer_id": 55011608, "question_id": 55008667, "link": "https://stackoverflow.com/questions/55008667/google-maps-tile-layers-in-kotlin/55011608#55011608", "title": "Google Maps Tile Layers in Kotlin", "body": "<p>Here you go Cheers !!   </p>\n\n<pre><code>private var mMap:GoogleMap?=null\n\n    val tileProvider = object: UrlTileProvider(256, 256) {\n      override fun getTileUrl(x:Int,y:Int,zoom:Int):URL {\n\n        /* Define the URL pattern for the tile images */\n        val s = String.format(\"http://my.image.server/images/%d/%d/%d.png\",\n            zoom, x, y)\n\n        if (!checkTileExists(x, y, zoom)) {\n          return null\n        }\n\n        try {\n          return URL(s)\n        } catch (e:MalformedURLException) {\n            throw AssertionError(e)\n        }\n      }\n\n      /*\n       * Check that the tile server supports the requested x, y and zoom.\n       * Complete this stub according to the tile range you support.\n       * If you support a limited range of tiles at different zoom levels, then you\n       * need to define the supported x, y range at each zoom level.\n       */\n      private fun checkTileExists(x:Int,y:Int,zoom:Int):Boolean {\n        val minZoom = 12\n        val maxZoom = 16\n\n        if ((zoom &lt; minZoom || zoom &gt; maxZoom)) {\n          return false\n        }\n\n        return true\n      }\n    }\n\n    val tileOverlay = mMap!!.addTileOverlay(TileOverlayOptions()\n        .tileProvider(tileProvider))\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71f258050d6b78df9c960cdef570012?s=128&d=identicon&r=PG", "display_name": "FrancoVP", "link": "https://stackoverflow.com/users/4504922/francovp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 55010158, "answer_count": 2, "score": 0, "last_activity_date": 1551820134, "creation_date": 1551807805, "question_id": 55008667, "link": "https://stackoverflow.com/questions/55008667/google-maps-tile-layers-in-kotlin", "title": "Google Maps Tile Layers in Kotlin", "body": "<p>I'm trying to implement <a href=\"https://developers.google.com/maps/documentation/android-sdk/tileoverlay\" rel=\"nofollow noreferrer\">Tile Layers</a> using Google Maps SDK Android, but the official documentation only have code examples in Java, and my project is in Kotlin.\nI can't find any examples about how to doing the same in kotlin. Anyone know how to do it?</p>\n\n<p><a href=\"https://developers.google.com/maps/documentation/android-sdk/tileoverlay\" rel=\"nofollow noreferrer\">The documentation java example code</a>:</p>\n\n<pre><code>private GoogleMap mMap;\n\nTileProvider tileProvider = new UrlTileProvider(256, 256) {\n  @Override\n  public URL getTileUrl(int x, int y, int zoom) {\n\n    /* Define the URL pattern for the tile images */\n    String s = String.format(\"http://my.image.server/images/%d/%d/%d.png\",\n        zoom, x, y);\n\n    if (!checkTileExists(x, y, zoom)) {\n      return null;\n    }\n\n    try {\n      return new URL(s);\n    } catch (MalformedURLException e) {\n        throw new AssertionError(e);\n    }\n  }\n\n  /*\n   * Check that the tile server supports the requested x, y and zoom.\n   * Complete this stub according to the tile range you support.\n   * If you support a limited range of tiles at different zoom levels, then you\n   * need to define the supported x, y range at each zoom level.\n   */\n  private boolean checkTileExists(int x, int y, int zoom) {\n    int minZoom = 12;\n    int maxZoom = 16;\n\n    if ((zoom &lt; minZoom || zoom &gt; maxZoom)) {\n      return false;\n    }\n\n    return true;\n  }\n};\n\nTileOverlay tileOverlay = mMap.addTileOverlay(new TileOverlayOptions()\n    .tileProvider(tileProvider));\n</code></pre>\n\n<p>Any help with this will be appreciated </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1684, "user_id": 6856361, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-reTr7DecElc/AAAAAAAAAAI/AAAAAAAAAoc/tgkHGpJKIq0/photo.jpg?sz=128", "display_name": "Izbassar Tolegen", "link": "https://stackoverflow.com/users/6856361/izbassar-tolegen"}, "edited": false, "score": 1, "creation_date": 1551806427, "post_id": 55008268, "comment_id": 96771584, "body": "Could you add code snippet with what you do?"}], "answers": [{"tags": [], "owner": {"reputation": 3743, "user_id": 10630900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ece5V.png?s=128&g=1", "display_name": "Minn", "link": "https://stackoverflow.com/users/10630900/minn"}, "is_accepted": true, "score": 1, "last_activity_date": 1551807538, "creation_date": 1551807538, "answer_id": 55008593, "question_id": 55008268, "link": "https://stackoverflow.com/questions/55008268/publishing-to-bintray-with-kotlin-dsl-script/55008593#55008593", "title": "Publishing to bintray with kotlin dsl script", "body": "<p>You can use the <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html#groovy_closures_from_kotlin\" rel=\"nofollow noreferrer\"><code>delegateClosureOf&lt;...&gt;</code></a> for closures in the bintray configurations:</p>\n\n<pre><code>bintray {\n    ...\n    pkg(delegateClosureOf&lt;BintrayExtension.PackageConfig&gt; {\n        repo = \"maven\"\n        ...\n        version(delegateClosureOf&lt;BintrayExtension.VersionConfig&gt; {\n            ...\n        })\n    })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 5757499, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6iST1gJ3d80/AAAAAAAAAAI/AAAAAAAAABA/gw7VQm5SZRI/photo.jpg?sz=128", "display_name": "Joe Van der Wee", "link": "https://stackoverflow.com/users/5757499/joe-van-der-wee"}, "is_accepted": false, "score": 0, "last_activity_date": 1574680675, "creation_date": 1574680675, "answer_id": 59030562, "question_id": 55008268, "link": "https://stackoverflow.com/questions/55008268/publishing-to-bintray-with-kotlin-dsl-script/59030562#59030562", "title": "Publishing to bintray with kotlin dsl script", "body": "<p>Rather than using closure syntax, you can use <code>.apply</code>:</p>\n\n<pre><code>bintray {\n    ...\n    pkg = PackageConfig().apply {\n        repo = \"\"\n        ...\n        version = VersionConfig().apply {\n            name = \"\"\n            ...\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10346518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 55008593, "answer_count": 2, "score": 1, "last_activity_date": 1574680675, "creation_date": 1551806286, "last_edit_date": 1551811271, "question_id": 55008268, "link": "https://stackoverflow.com/questions/55008268/publishing-to-bintray-with-kotlin-dsl-script", "title": "Publishing to bintray with kotlin dsl script", "body": "<p>I have been trying to publish my kotlin library and I was following the instructions given at <a href=\"https://github.com/bintray/gradle-bintray-plugin/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/bintray/gradle-bintray-plugin/blob/master/README.md</a> . Fortunately I was able to migrate the most part of it to kotlin. But I can't seem to fix the error it gives for the <code>pkg</code> part. It says</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is () -> TypeVariable(_L) but\n  Closure&lt;(raw) Any!>! was expected.</p>\n</blockquote>\n\n<p>I just can't seem to fix this part, any examples as to how to implement this in kotlin would be great.</p>\n"}, {"tags": ["spring-mvc", "kotlin", "java-8", "kotlinx-html"], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 1662829, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/94d0ee316f945415c5966773384c3dda?s=128&d=identicon&r=PG", "display_name": "decapo", "link": "https://stackoverflow.com/users/1662829/decapo"}, "is_accepted": false, "score": 0, "last_activity_date": 1554244706, "creation_date": 1554244706, "answer_id": 55484495, "question_id": 55006982, "link": "https://stackoverflow.com/questions/55006982/how-to-use-the-kotlinx-html-in-spring-in-place-of-the-normal-html-template-engin/55484495#55484495", "title": "How to use the Kotlinx.html in Spring in place of the normal html template engine for JSP or Thymeleaf?", "body": "<p>Right now I'm just returning a string with the kotlin html dsl as the return statement and the <code>@ResponseBody</code> annotation on the controller method.</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/\")\nclass MyController constructor(){\n\n  @GetMapping\n  @ResponseBody\n  fun index(): String {\n\n    return myKotlinHtmlView()\n  }\n}\n</code></pre>\n\n<p>where <code>myKotlinHtmlView()</code> is the function where the template is</p>\n"}], "owner": {"reputation": 2947, "user_id": 1928863, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/zaBOb.png?s=128&g=1", "display_name": "Rui", "link": "https://stackoverflow.com/users/1928863/rui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 434, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1554244706, "creation_date": 1551802028, "last_edit_date": 1551803848, "question_id": 55006982, "link": "https://stackoverflow.com/questions/55006982/how-to-use-the-kotlinx-html-in-spring-in-place-of-the-normal-html-template-engin", "title": "How to use the Kotlinx.html in Spring in place of the normal html template engine for JSP or Thymeleaf?", "body": "<p>The flaw of the traditional html template engine is the absence of type-safe and compile-time checking. Some gurus suggested that <a href=\"https://github.com/Kotlin/kotlinx.html\" rel=\"nofollow noreferrer\"><em>Kotlinx.html</em></a> might greatly compensate the flaw of traditional html template engine.</p>\n\n<p>So I plan to make use of Spring in <em>Java</em> without the html template engine, say without <code>SpringResourceTemplateResolver</code> nor <code>SpringTemplateEngine</code>, instead inject the <em>kotlin</em> code with <em>kotlinx.html</em>. But currently I've go clue at all how to proceed</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "dagger-2", "interceptor"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551810577, "post_id": 55006820, "comment_id": 96773617, "body": "What build error do you get when trying to add the repository to AppModule?"}, {"owner": {"reputation": 709, "user_id": 8030220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6389ec161b4d150de51ef78690a343d4?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroProcess", "link": "https://stackoverflow.com/users/8030220/zeroprocess"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551811694, "post_id": 55006820, "comment_id": 96774163, "body": "#Onik - If I remember correctly then I got missing setter error message"}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551812535, "post_id": 55006820, "comment_id": 96774540, "body": "On SO you should be specific."}, {"owner": {"reputation": 709, "user_id": 8030220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6389ec161b4d150de51ef78690a343d4?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroProcess", "link": "https://stackoverflow.com/users/8030220/zeroprocess"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1551858680, "post_id": 55006820, "comment_id": 96789633, "body": "#Onik - But setters should be auto generated in kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 8030220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6389ec161b4d150de51ef78690a343d4?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroProcess", "link": "https://stackoverflow.com/users/8030220/zeroprocess"}, "is_accepted": true, "score": 1, "last_activity_date": 1551864372, "creation_date": 1551864372, "answer_id": 55019606, "question_id": 55006820, "link": "https://stackoverflow.com/questions/55006820/how-to-inject-repository-to-the-interceptor-in-android-architecture-components/55019606#55019606", "title": "How to inject repository to the interceptor in android architecture components?", "body": "<p>Ok, I solve my problem:</p>\n\n<ul>\n<li>first: I use constructor injection on interceptor</li>\n<li><p>second: I dont create manually new instance instead add interceptor to the provider param:</p>\n\n<p>fun provideTokenService(authInterceptor: AuthenticationInterceptor): TokenService {</p></li>\n<li><p>third: the second point caused the circle dependency, because the repository use the service, so I dont use repository in interceptor instead use dao (or create another repository which not use service)</p></li>\n</ul>\n"}], "owner": {"reputation": 709, "user_id": 8030220, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6389ec161b4d150de51ef78690a343d4?s=128&d=identicon&r=PG&f=1", "display_name": "ZeroProcess", "link": "https://stackoverflow.com/users/8030220/zeroprocess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 55019606, "answer_count": 1, "score": 0, "last_activity_date": 1551864372, "creation_date": 1551801494, "question_id": 55006820, "link": "https://stackoverflow.com/questions/55006820/how-to-inject-repository-to-the-interceptor-in-android-architecture-components", "title": "How to inject repository to the interceptor in android architecture components?", "body": "<p>I want to write Authentication Interceptor which is load access token from local db and add to the request header in android <a href=\"https://github.com/googlesamples/android-architecture-components/tree/master/GithubBrowserSample\" rel=\"nofollow noreferrer\">architecture components boilerplate project</a>.</p>\n\n<p>AuthenticationInterceptor class:</p>\n\n<pre><code>class AuthenticationInterceptor: Interceptor, Authenticator {\n\n   /*...*/\n\n   override fun intercept(chain: Interceptor.Chain): Response {\n        var request = chain.request()\n        if (!request.url().encodedPath().equals(\"/login\", ignoreCase = true)) {\n           tokenRepository.getAccessToken().let {\n              request = request?.newBuilder()\n                    ?.addHeader(\"Authentication\", \"Bearer \" + it)\n                    ?.build()\n           }\n        }\n        return chain.proceed(request)\n   }\n\n   override fun authenticate(route: Route, response: Response): Request? {\n        /*...*/\n   }\n}\n</code></pre>\n\n<p>AppModule class where add interceptor to the OkHttpClient:</p>\n\n<pre><code>@Module(includes = [ViewModelModule::class])\nclass AppModule {\n    /*...*/\n\n    @Singleton\n    @Provides\n    fun provideTokenService(): TokenService {\n       return Retrofit.Builder()       \n           .client(\n                   OkHttpClient.Builder()\n                 .addNetworkInterceptor(AuthenticationInterceptor()).build()\n           )\n           .baseUrl(\"http://localhost:8080\")\n           .addConverterFactory(GsonConverterFactory.create())\n           .addCallAdapterFactory(LiveDataCallAdapterFactory())\n           .build()\n           .create(TokenService::class.java)\n    }\n\n    /*...*/\n}\n</code></pre>\n\n<p>I try to add repository to the constructor, but then have to inject repository to the AppModule which cause build error</p>\n\n<pre><code>class AuthenticationInterceptor @Inject constructor(val tokenRepository: TokenRepository): Interceptor, Authenticator {\n</code></pre>\n\n<p>If I inject repository to the class field, then repository will be null</p>\n\n<pre><code>@Inject lateinit var tokenRepository: TokenRepository\n</code></pre>\n\n<p><strong>So my question how to inject repository to the interceptor?</strong></p>\n"}, {"tags": ["java", "android", "kotlin", "type-inference"], "comments": [{"owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "edited": false, "score": 10, "creation_date": 1551800907, "post_id": 55006611, "comment_id": 96768428, "body": "If if bothers you that much, you can still explicitly type in Kotlin as you please."}, {"owner": {"reputation": 489, "user_id": 7011814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wcS4g.jpg?s=128&g=1", "display_name": "Alex Shevelev", "link": "https://stackoverflow.com/users/7011814/alex-shevelev"}, "edited": false, "score": 4, "creation_date": 1551801240, "post_id": 55006611, "comment_id": 96768647, "body": "You can write like this: val myValue: String = someRepository.getValue()"}, {"owner": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "reply_to_user": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "edited": false, "score": 0, "creation_date": 1551801634, "post_id": 55006611, "comment_id": 96768861, "body": "Well actually it isn&#39;t Kotlins fault that someone thought <code>getValue</code> is a useful method name. Kotlin does this (and Java added similar support) because you mostly don&#39;t need the type additionally to how you initialize your variable. When the way you initialize a variable isn&#39;t clear or ambiguous, then work on that first, since that can be on other places as well. And if that isn&#39;t suitable, use the explicit type like @fjc and @AlexShevelev suggested: <code>val myValue: String = ....</code>."}, {"owner": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "reply_to_user": {"reputation": 13937, "user_id": 3824919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0HpYR.png?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3824919/tom"}, "edited": false, "score": 0, "creation_date": 1551801834, "post_id": 55006611, "comment_id": 96768970, "body": "@Tom My problem with the &quot;optional explicit typing&quot; is : people won&#39;t do it."}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1551802424, "post_id": 55006611, "comment_id": 96769313, "body": "If it is really bad for you, you can turn on variable types prompt in your IDE. If not, change IDE."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1551804496, "post_id": 55006611, "comment_id": 96770517, "body": "There is an IDE feature that may help you: the type hints. Ctrl/Cmd + Shift + A \u2192 Appearance: Show parameter name hints. This will also show a type hint for every local variable that has no explicit type."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1551834406, "post_id": 55006611, "comment_id": 96782495, "body": "If you&#39;re not sure about what you&#39;re working with, then you need better method / variable naming conventions."}, {"owner": {"reputation": 2537, "user_id": 4076606, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-teowPdLBZRY/AAAAAAAAAAI/AAAAAAAAACM/2RPSBkRaJA0/photo.jpg?sz=128", "display_name": "Mateusz Stefek", "link": "https://stackoverflow.com/users/4076606/mateusz-stefek"}, "edited": false, "score": 1, "creation_date": 1551853114, "post_id": 55006611, "comment_id": 96787245, "body": "oh, the Stockholm Syndrome of Java developers. Almost every other statically typed language has had this feature for years, even the dinosaur of C++."}, {"owner": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1551966259, "post_id": 55006611, "comment_id": 96841027, "body": "@GhostCat While I really appreciated your answer, there&#39;s no real &quot;argument&quot; or &quot;reason&quot; explaining this deliberate choice in your answer. I still don&#39;t know why Kotlin permit non explicit typing except that &quot;c++ has it so Kotlin should have it&quot;.   Some much effort has been put on Kotlin design to remove any ambiguous code (null safety, when safety with enum, etc), it sounds ludicrous to me they&#39;d allow ambiguous typing (doesn&#39;t matter static typing or not, at the end of the day, even if the compiler knows what&#39;s going on, it&#39;s developpers that are writing code)."}, {"owner": {"reputation": 506, "user_id": 1833932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1d0c23206d067d1ab45920ef7a63611?s=128&d=identicon&r=PG", "display_name": "abc667", "link": "https://stackoverflow.com/users/1833932/abc667"}, "edited": false, "score": 2, "creation_date": 1552152725, "post_id": 55006611, "comment_id": 96906136, "body": "@NinoLenoska if you need types in your code to understand it 9/10 times it means that you name things wrong. In you question &quot;getPrice(); // What does it return ?&quot; it returns a price, that all we need to know. That method shouldn&#39;t return int or string, that&#39;s is the problem here. If you want string representation of a price you should call ToString() or something similar."}, {"owner": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "reply_to_user": {"reputation": 506, "user_id": 1833932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1d0c23206d067d1ab45920ef7a63611?s=128&d=identicon&r=PG", "display_name": "abc667", "link": "https://stackoverflow.com/users/1833932/abc667"}, "edited": false, "score": 0, "creation_date": 1552465708, "post_id": 55006611, "comment_id": 97014992, "body": "@abc667 You don&#39;t understand. In Android, TextView.setText(String) is completely different that TextView.setText(int). In java, this is easily avoided because no matter what, you have to declare your type. In kotlin, it&#39;s optional and people want to code golf with it, so they won&#39;t do it."}, {"owner": {"reputation": 506, "user_id": 1833932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1d0c23206d067d1ab45920ef7a63611?s=128&d=identicon&r=PG", "display_name": "abc667", "link": "https://stackoverflow.com/users/1833932/abc667"}, "edited": false, "score": 1, "creation_date": 1552499839, "post_id": 55006611, "comment_id": 97037217, "body": "@NinoLenoska did you read my comment? setText() is not the problem here. getPrice() should return price object and you should call myTextView.setText(myPrice.toString()); or something similar like toStringRepresentation()"}, {"owner": {"reputation": 355, "user_id": 3724131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dce151853ac0a68e844a90a96b95927?s=128&d=identicon&r=PG&f=1", "display_name": "bradynpoulsen", "link": "https://stackoverflow.com/users/3724131/bradynpoulsen"}, "reply_to_user": {"reputation": 506, "user_id": 1833932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a1d0c23206d067d1ab45920ef7a63611?s=128&d=identicon&r=PG", "display_name": "abc667", "link": "https://stackoverflow.com/users/1833932/abc667"}, "edited": false, "score": 2, "creation_date": 1556475356, "post_id": 55006611, "comment_id": 98443095, "body": "@abc667 I would personally say the bigger problem is that Android uses these integers that mean something in a myTextView.setText(...) method. It seems like they should have gone with a plain enum here and did the conversion during android compilation"}], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "edited": false, "score": 0, "creation_date": 1551801974, "post_id": 55006698, "comment_id": 96769042, "body": "How could someone focus on &quot;what happens with the variable&quot; when they doesn&#39;t even know what type it is, and thus, how could they interact correctly with it ?"}, {"owner": {"reputation": 4197, "user_id": 3599151, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/09a486f3d2e14ce2a04668b5fd6982bb?s=128&d=identicon&r=PG&f=1", "display_name": "fjc", "link": "https://stackoverflow.com/users/3599151/fjc"}, "reply_to_user": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "edited": false, "score": 1, "creation_date": 1551803521, "post_id": 55006698, "comment_id": 96769960, "body": "@NinoLenoska the compiler knows, the IDE knows, auto complete works in most of them."}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 17, "last_activity_date": 1552377110, "last_edit_date": 1552377110, "creation_date": 1551801132, "answer_id": 55006698, "question_id": 55006611, "link": "https://stackoverflow.com/questions/55006611/why-kotlin-doesnt-have-explicit-typing/55006698#55006698", "title": "Why Kotlin doesn&#39;t have explicit typing?", "body": "<p>First of all: Kotlin has <strong>static</strong> typing. The compiler knows exactly which type goes or comes where. And you are always free to write that down, like</p>\n\n<pre><code>fun sum(a: Int, b: Int): Int {\n  val c: Int = 1\n</code></pre>\n\n<p>The point is: you can write a lot of code that simply <em>relies</em> on the fact that anything you do is statically typed, and type checked, too!</p>\n\n<p>Do you really need to know whether you are adding two doubles or two ints or two longs, when all you \"care\" to look at is <code>a + b</code>?</p>\n\n<p>In the end, this is about balancing different requirements. Leaving out the type <em>can</em> be helpful: less code that needs to be read and understood by human readers. </p>\n\n<p>Of course: if you write code so that people <em>constantly</em> turn to their IDE for the IDE to tell them the actual, inferred type of something, then you turned a helpful feature into a problem!</p>\n\n<p>The real answer here is: it depends. I have been in many code reviews where C++ people discussed the use of the <code>auto</code> keyword. There were a lot of situations, where using <code>auto</code> did make the code much easier to read and understand, because you could focus on \"what happens with the variable\", instead of looking 1 minute at its declaration, trying to understand its type. But there were also occasional examples where <code>auto</code> achieved the exact opposite, and a \"fully typed\" declaration was easier to follow. </p>\n\n<p>And given the comment by the OP: you should know what you are doing in the first place. Meaning: when you write code, you don't just invoke \"any\" method that you find on some object. You call a method because you have to. You better <em>know</em> what it does, and what it returns to you. I agree, when someone is in a rush, you quickly var-assign and then pass that thing along, that <em>might</em> lead to errors. But for each situation where <code>var</code> helps with creating a bug, there might be 10 incidents where it helps writing easier to read code. As said: life is about balancing. </p>\n\n<p>Finally: languages shouldn't add features for no reason. And the Kotlin people are carefully balancing features they add. They didn't add type inference because C++ has it. They added it because they carefully researched other languages and found it to be useful to be part of the language. <strong>Any</strong> language feature can be misused. It is <strong>always</strong> up to the programmer to write code that is easy to read and understand. And when your methods have <em>unclear</em> signatures, so \"reading\" their names alone doesn't tell you what is gong on, then blame that on the method name, not on type inference!</p>\n"}, {"comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1551858259, "post_id": 55008849, "comment_id": 96789417, "body": "Some great examples, too!"}, {"owner": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "edited": false, "score": 0, "creation_date": 1552465283, "post_id": 55008849, "comment_id": 97014771, "body": "Chain calls is a completely different topic"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "edited": false, "score": 1, "creation_date": 1552466140, "post_id": 55008849, "comment_id": 97015252, "body": "@NinoLenoska The point is that they can produce <i>exactly</i> the same problems local type inference does. So if they are acceptable, it should be acceptable as well. In your example the problem is not caused by local type inference, but by the badly designed <code>setText</code> overloads."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 7, "last_activity_date": 1551809889, "last_edit_date": 1551809889, "creation_date": 1551808536, "answer_id": 55008849, "question_id": 55006611, "link": "https://stackoverflow.com/questions/55006611/why-kotlin-doesnt-have-explicit-typing/55008849#55008849", "title": "Why Kotlin doesn&#39;t have explicit typing?", "body": "<p>To quote Java's <a href=\"http://openjdk.java.net/jeps/286\" rel=\"noreferrer\">Local-Variable Type Inference JEP</a>:</p>\n\n<blockquote>\n  <p>In a call chain like:</p>\n\n<pre><code>int maxWeight = blocks.stream()\n                    .filter(b -&gt; b.getColor() == BLUE)\n                    .mapToInt(Block::getWeight)\n                    .max();\n</code></pre>\n  \n  <p>no one is bothered (or even notices) that the intermediate types <code>Stream&lt;Block&gt;</code> and <code>IntStream</code>, as well as the type of the lambda formal <code>b</code>, do not appear explicitly in the source code.</p>\n</blockquote>\n\n<p>Are you bothered about it?</p>\n\n<blockquote>\n  <p>if one class (let's say \"Repository\") changes it return type (from String to int for example). With explicit typing, compilation would fail at the class calling \"Repository\". </p>\n</blockquote>\n\n<p>If you have overloads like <code>setText</code> in your example, then</p>\n\n<pre><code>Repository repository = ...;\nmyTextView.setText(repository.getFormerlyStringNowInt());\n</code></pre>\n\n<p>won't fail without type inference either. To make it fail, your code standard has to require <em>every</em> operation's result to be assigned to a local variable, as in</p>\n\n<pre><code>Stream&lt;Block&gt; stream1 = blocks.stream();\nPredicate&lt;Block&gt; pred = b -&gt; { \n    Color c = b.getColor();\n    return c == BLUE;\n};\nStream&lt;Block&gt; stream2 = stream1.filter(pred);\nToIntFunction&lt;Block&gt; getWeight = Block::getWeight;\nIntStream stream3 = stream2.mapToInt(getWeight);\nint maxWeight = stream3.max();\n</code></pre>\n\n<p>And at this point you make bugs easier just from decreased readability and the chance to accidentally use the wrong variable.</p>\n\n<p>Finally, Kotlin wasn't created in a vacuum: the designers could see that when C# introduced local type inference in 2007, it didn't lead to significant problems. Or they could look at Scala, which had it since the beginning in 2004; it had (and has) plenty of user complaints, but local type inference isn't one of them.</p>\n"}], "owner": {"reputation": 562, "user_id": 4342335, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-_8gtMYmFAYc/AAAAAAAAAAI/AAAAAAAAAA4/pQhv2M_1z8w/photo.jpg?sz=128", "display_name": "Nino Lenoska", "link": "https://stackoverflow.com/users/4342335/nino-lenoska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 1, "answer_count": 2, "score": 8, "last_activity_date": 1552377110, "creation_date": 1551800838, "last_edit_date": 1551899373, "question_id": 55006611, "link": "https://stackoverflow.com/questions/55006611/why-kotlin-doesnt-have-explicit-typing", "title": "Why Kotlin doesn&#39;t have explicit typing?", "body": "<p>I am curious about this, why would kotlin designers think this would be a good idea to drop explicit typing in Kotlin ? </p>\n\n<p>To me, explicit typing is not a \"pain\" to write in Java (or any other strongly typed language) : all IDE can assist me to automaticaly type my variable. </p>\n\n<p>It adds great understanding of the code (that's why I don't like weakly-typed languages, I have no idea what kind of variables I'm dealing with). </p>\n\n<p>Also, and this is my main issue with that, it makes the code more bug-prone. </p>\n\n<p>Example :<br>\nJava : Easily identified as a String, all good</p>\n\n<pre><code>String myPrice = someRepository.getPrice(); // Returns a String\nmyTextView.setText(myPrice); \n</code></pre>\n\n<p>Java : Easily identified as an int, code smell with <code>setText()</code></p>\n\n<pre><code>int myPrice = someRepository.getPrice(); // Returns an int, code smell !!\nmyTextView.setText(String.valueOf(myPrice)); // Problem avoided\n</code></pre>\n\n<p>Kotlin : ????</p>\n\n<pre><code>val myPrice = someRepository.getPrice(); // What does it return ?\nmyTextView.setText(myPrice); // Possible hidden bug with setText(@StringRes int) instead of setText(String) !!\n</code></pre>\n\n<p>No explicit typing in Kotlin is the biggest drawback in Kotlin imo. I try to understand this design choice. </p>\n\n<p>I'm not really looking for \"patches\" to fix the example / avoid the presented code smell, I try to understand the main reason behind the removal of explicit typing. It has to be more than \"less typing / easier to read\". It only removes a couple of characters (one still have to write <code>val</code> / <code>var</code>), and explicit typing in Kotlin adds some caracters anyway...</p>\n\n<p>Static typing without explicit typing is, to me, the worst case scenario to deal with hidden bugs / spaghetti bugs : if one class (let's say \"Repository\") changes it return type (from <code>String</code> to <code>int</code> for example). With explicit typing, compilation would fail at the class calling \"Repository\". Without explicit typing, compilation may not fail and the wrong type of variable may \"travel\" through classes and change the behavior of the classes because of its type. This is dangerous and undetected. </p>\n\n<p>The fix is easy ; explicitly type the variable. But this is Kotlin we're speaking, a language made for code golfers : people won't explicitely type their variables, as it takes even more time to do so in kotlin than turtle-java. Yikes! </p>\n"}, {"tags": ["android", "kotlin", "enums"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 5, "creation_date": 1551798718, "post_id": 55005884, "comment_id": 96766977, "body": "why not pass the @StringRes like you do with the image?"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551798847, "post_id": 55005884, "comment_id": 96767062, "body": "@TimCastelijns, please, add your answer, I will accept."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551798963, "post_id": 55005884, "comment_id": 96767141, "body": "I&#39;m not sure how it is the answer though. Surely you thought of this solution already"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1551799208, "post_id": 55005884, "comment_id": 96767301, "body": "@TimCastelijns, maybe it is evident for you, but I thought in other direction (inner classes and so on), so, thanks, that you hinted me. Please, add you answer, I will accept, so that other people learn how to do it."}], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": true, "score": 6, "last_activity_date": 1551799267, "creation_date": 1551799267, "answer_id": 55006101, "question_id": 55005884, "link": "https://stackoverflow.com/questions/55005884/enums-or-sealed-classes-with-strings/55006101#55006101", "title": "Enums or sealed classes with strings", "body": "<p>You don't need a Resources instance. You can use a string resource, like you did for the drawable:</p>\n\n<pre><code>private enum class Item(\n    val id: Int,\n    @DrawableRes val imageRes: Int,\n    @StringRes val title: Int\n)\n</code></pre>\n"}], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "accepted_answer_id": 55006101, "answer_count": 1, "score": 3, "last_activity_date": 1551799650, "creation_date": 1551798540, "last_edit_date": 1551799650, "question_id": 55005884, "link": "https://stackoverflow.com/questions/55005884/enums-or-sealed-classes-with-strings", "title": "Enums or sealed classes with strings", "body": "<p>Can I create an <code>enum</code> or a <code>sealed class</code> in <code>Kotlin</code> that contain string resources?</p>\n\n<p>For instance, I have this class:</p>\n\n<pre><code>private enum class Item(\n    val id: Int,\n    @DrawableRes val imageRes: Int,\n    val title: String\n) {\n    PURSE(1, R.drawable.ic_card, \"My balance\"),\n    MESSAGES(2, R.drawable.ic_bell, \"Messages\")\n}\n</code></pre>\n\n<p>If I add a field <code>val resources: Resources</code> in the constructor, I cannot set a parameter <code>resources</code>, so cannot use string resources from <code>strings.xml</code>. In this case I cannot use localization for <code>enum</code>s.</p>\n"}, {"tags": ["android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551797242, "post_id": 55005347, "comment_id": 96766000, "body": "<code>&#47;&#47; @formatter:off</code> (with a corresponding one at the end with <code>on</code> instead of <code>off</code>) might prevent the formatter from doing that - but you might have to enable it in settings first."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551797483, "post_id": 55005347, "comment_id": 96766157, "body": "Could you point out where should I change it in settings and what it implies?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551797809, "post_id": 55005347, "comment_id": 96766365, "body": "The comment itself is self-explanatory - it toggles the formatter. You place the <code>off</code> at the start of the block you don&#39;t want auto-formatted, and re-enable it at the end. This can be a single line, an entire function, or more for that matter. The setting is in file -&gt; settings -&gt; editor -&gt; code style under the &quot;formatter control&quot; tab - and yes, you do need to enable it. You can also customize it as you&#39;d like, so you&#39;re actually not required to use the <code>@formatter:[on&#47;off]</code> pattern if you prefer something else."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551798307, "post_id": 55005347, "comment_id": 96766688, "body": "I should probably specify that&#39;s manual enabling and disabling - it will unfortunately not fix the issue automatically. It could also be a bug in the formatter"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551798675, "post_id": 55005347, "comment_id": 96766932, "body": "Such line in every file would look horrible..."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1551798824, "post_id": 55005347, "comment_id": 96767047, "body": "Like I said, not efficient or pretty, but it does the trick. If this is a bug, you should consider also reporting it to the JetBrains issue tracker"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551798896, "post_id": 55005347, "comment_id": 96767093, "body": "Ok, thanks for idea!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9876676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nXqLys3nt_E/AAAAAAAAAAI/AAAAAAAAABw/pMlEezOxP6E/photo.jpg?sz=128", "display_name": "Chidozie Gabriel", "link": "https://stackoverflow.com/users/9876676/chidozie-gabriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1599302793, "creation_date": 1599302793, "answer_id": 63753042, "question_id": 55005347, "link": "https://stackoverflow.com/questions/55005347/how-to-prevent-auto-formatting-after-moving-files-to-another-package-in-android/63753042#63753042", "title": "How to prevent auto formatting after moving files to another package in Android Studio?", "body": "<p>When you attempt to move a file to another package and Android Studio shows this dialog:</p>\n<p><a href=\"https://i.stack.imgur.com/U0WWy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U0WWy.png\" alt=\"enter image description here\" /></a></p>\n<p>Uncheck the <strong>Update package directive</strong> check box; Android Studio will not reformat the code in the file.</p>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1599302793, "creation_date": 1551796925, "last_edit_date": 1551797246, "question_id": 55005347, "link": "https://stackoverflow.com/questions/55005347/how-to-prevent-auto-formatting-after-moving-files-to-another-package-in-android", "title": "How to prevent auto formatting after moving files to another package in Android Studio?", "body": "<p>Whenever I try to move file to another package, Android Studio reformats file's code structure to a different state.</p>\n\n<p>For example such part of code:</p>\n\n<pre><code>doSomething(makeSomeParameters(value1, value))\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>doSomething(\n    makeSomeParamaters(\n        value1,\n        value2\n    )\n)\n</code></pre>\n\n<p>Notice that this line was not exceeding 100 columns constraint.</p>\n\n<p>I use code style from official <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"nofollow noreferrer\">Kotlin style guide</a>.</p>\n\n<blockquote>\n  <p>To configure the IntelliJ formatter according to this style guide,\n  please install Kotlin plugin version 1.2.20 or newer, go to Settings |\n  Editor | Code Style | Kotlin, click on \"Set from\u2026\" link in the upper\n  right corner, and select \"Predefined style / Kotlin style guide\" from\n  the menu.</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "logcat", "selinux"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1551796809, "post_id": 55005210, "comment_id": 96765695, "body": "What is your device&#39;s SELinux status? (It&#39;s in the About Phone screen of system settings)"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1551797146, "post_id": 55005210, "comment_id": 96765920, "body": "Sorry i don&#39;t know what you are mean? I don&#39;t see anything about selinux in the about phone screen of the system settings  But its a oneplus 5t with android version 9"}], "answers": [{"comments": [{"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1555750564, "post_id": 55340433, "comment_id": 98216707, "body": "thank you for your answer! it tried a long time to figure out what you mean. can you tell me how to add such a rule?"}, {"owner": {"reputation": 21, "user_id": 5333593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3eb36288a195b8949a15b060f71d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "mbtkasseria", "link": "https://stackoverflow.com/users/5333593/mbtkasseria"}, "reply_to_user": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1556013060, "post_id": 55340433, "comment_id": 98284497, "body": "You should investigate some useful tools like SETools and policycoreutils-python(audit2allow). First you tee your avc denial log into a log file. Then use audit2allow to get solution about your denials. After that you have  a lot of choices to add correct solution. You can apply your files correct domain or you can bypass with semanage booleans or if not you can add new lines to your selinux rules file, compile it. Solution exactly depends on the problem and your system configuration."}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1556038393, "post_id": 55340433, "comment_id": 98298732, "body": "One last question. Is this a bug of my app or something other? because on other devices i don&#39;t have this errors"}, {"owner": {"reputation": 21, "user_id": 5333593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3eb36288a195b8949a15b060f71d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "mbtkasseria", "link": "https://stackoverflow.com/users/5333593/mbtkasseria"}, "reply_to_user": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1556097268, "post_id": 55340433, "comment_id": 98317892, "body": "From your notes, I think it is most probably another app or library which is trying to reach HAL layer perf_hwservice. You should get info about problematic app from command which I mentioned inside the answer. If ps -eZ doesn&#39;t return anything, it has already dead."}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1556130791, "post_id": 55340433, "comment_id": 98337269, "body": "The result of the command says that my app causes that errors."}, {"owner": {"reputation": 21, "user_id": 5333593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3eb36288a195b8949a15b060f71d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "mbtkasseria", "link": "https://stackoverflow.com/users/5333593/mbtkasseria"}, "reply_to_user": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1556181252, "post_id": 55340433, "comment_id": 98352349, "body": "Then, you should reconsider about writing an allow rule from source to target perf_hwservice.Good luck."}], "tags": [], "owner": {"reputation": 21, "user_id": 5333593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3eb36288a195b8949a15b060f71d3e9?s=128&d=identicon&r=PG&f=1", "display_name": "mbtkasseria", "link": "https://stackoverflow.com/users/5333593/mbtkasseria"}, "is_accepted": false, "score": 0, "last_activity_date": 1553525152, "creation_date": 1553525152, "answer_id": 55340433, "question_id": 55005210, "link": "https://stackoverflow.com/questions/55005210/andr-perf-trygetservice-failed-selinux/55340433#55340433", "title": "ANDR-PERF tryGetService failed; SELinux", "body": "<p>This log file means one of your libraries had an access (It might be interface=vendor.qti.hardware.perf::IPerf) violation. You have to restart your app and find the problematic app. Also you can find with help of</p>\n\n<pre><code>adb shell ps -eZ | grep  3328 \n</code></pre>\n\n<p>command the problematic service from command line as your app running at the same time. After you find the victim(app) you have to add /external/sepolicy/service_contexts file a SELinux rule for handling the access violation.</p>\n"}, {"tags": [], "owner": {"reputation": 4916, "user_id": 969016, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/z0eok.png?s=128&g=1", "display_name": "Boy", "link": "https://stackoverflow.com/users/969016/boy"}, "is_accepted": false, "score": 0, "last_activity_date": 1598274014, "creation_date": 1598274014, "answer_id": 63561560, "question_id": 55005210, "link": "https://stackoverflow.com/questions/55005210/andr-perf-trygetservice-failed-selinux/63561560#63561560", "title": "ANDR-PERF tryGetService failed; SELinux", "body": "<p>This seemed to be an issue in Blurkit library.</p>\n"}], "owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2804, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1598274014, "creation_date": 1551796467, "question_id": 55005210, "link": "https://stackoverflow.com/questions/55005210/andr-perf-trygetservice-failed-selinux", "title": "ANDR-PERF tryGetService failed; SELinux", "body": "<p>everytime I start my app on a device I see this error in my logs.</p>\n\n<p>E/ANDR-PERF: IPerf::tryGetService failed!\nE/SELinux: avc:  denied  { find } for interface=vendor.qti.hardware.perf::IPerf pid=3328 scontext=u:r:untrusted_app:s0:c123,c256,c512,c768 tcontext=u:object_r:hal_perf_hwservice:s0 tclass=hwservice_manager permissive=0</p>\n\n<p>I'm a bit confused what this means. \nMaybe one of my libraries is causing this?</p>\n\n<pre><code>dependencies {\nimplementation fileTree(include: ['*.jar'], dir: 'libs')\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n//General Stuff\nimplementation \"com.android.support:appcompat-v7:$compile_version\"\nimplementation \"com.android.support:support-v4:$compile_version\"\nimplementation \"com.android.support:design:$compile_version\"\nimplementation 'com.android.support.constraint:constraint-layout:1.1.3'\nimplementation \"com.android.support:recyclerview-v7:$compile_version\"\nimplementation \"com.android.support:cardview-v7:$compile_version\"\nimplementation \"com.android.support:exifinterface:$compile_version\"\n\n//Test\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n//Testfairy\nimplementation 'testfairy:testfairy-android-sdk:1.9.4'\n\n//REST - MVVM\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\nimplementation 'android.arch.lifecycle:extensions:1.1.1'\nimplementation 'com.squareup.okhttp3:okhttp:3.10.0'\n\n//Location\nimplementation 'com.google.android.gms:play-services-location:16.0.0'\nimplementation 'com.google.android.gms:play-services-maps:16.1.0'\n\n//Async Tasks\nimplementation \"org.jetbrains.anko:anko-commons:0.10.0\"\n\n//Barcode Detector\n//OCR Scanner\nimplementation 'com.google.android.gms:play-services-vision:17.0.2'\nimplementation 'com.google.zxing:core:3.3.0'\n\n//Biometric Authentication\nimplementation 'com.kevalpatel2106:fingerprint-dialog-compat:1.0'\n\n//Glide Image manager\nimplementation 'com.github.bumptech.glide:glide:4.8.0'\nannotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n\n//Image Viewer\nimplementation 'com.facebook.fresco:fresco:1.9.0'\nimplementation 'com.github.stfalcon:frescoimageviewer:0.5.0'\n\n//EditText Label Design\nimplementation 'com.wrapp.floatlabelededittext:library:0.0.6'\n\n//Segmented Control\nimplementation 'info.hoang8f:android-segmented:1.0.6'\n\n//Progress Bar\nimplementation 'com.github.ybq:Android-SpinKit:1.1.0'\n\n//BlurView\nimplementation 'com.wonderkiln:blurkit:1.0.0'\n\n//Tags\nimplementation 'me.gujun.android.taggroup:library:1.4@aar'\n\n//Seek Bar\nimplementation 'com.ramotion.fluidslider:fluid-slider:0.3.0'\n\n//Rating View\nimplementation 'com.iarcuschin:simpleratingbar:0.1.5'\n\n//Country Code Picker\nimplementation 'com.hbb20:ccp:2.2.0'\n}\n</code></pre>\n"}, {"tags": ["kotlin", "interface"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1551796729, "creation_date": 1551796729, "answer_id": 55005292, "question_id": 55005082, "link": "https://stackoverflow.com/questions/55005082/how-to-use-extension-functions-defined-in-kotlin-interface/55005292#55005292", "title": "How to use extension functions defined in Kotlin interface", "body": "<p>There's no chance to make it work without getting into the scope of your interface. Using <code>with</code> is the recommended solution. You can use an expression body to make it more concise:</p>\n\n<pre><code>fun usageExample(evaluator: Evaluator, x: Double) = with(evaluator) {\n    println(\"Y1 = ${x.evaluateY1()}. Y2 = ${x.evaluateY2()}\")\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10866713, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hjZ8_n-j3Ug/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcao5itQJzpCWhcJ1Ze67KRYsy7ejQ/mo/photo.jpg?sz=128", "display_name": "Mateusz Stefek", "link": "https://stackoverflow.com/users/10866713/mateusz-stefek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 55005292, "answer_count": 1, "score": 0, "last_activity_date": 1551796729, "creation_date": 1551796076, "question_id": 55005082, "link": "https://stackoverflow.com/questions/55005082/how-to-use-extension-functions-defined-in-kotlin-interface", "title": "How to use extension functions defined in Kotlin interface", "body": "<p>In Kotlin, it is possible to declare an extension function in an interface like this:</p>\n\n<pre><code>interface Evaluator {\n  fun Double.evaluateY1(): Double\n  fun Double.evaluateY2(): Double\n}\n\nclass EvaluatorImpl : Evaluator {\n    override fun Double.evaluateY1(): Double {\n        return this + 2.0\n    }\n\n    override fun Double.evaluateY2(): Double {\n        return this + 3.0\n    }\n}\n</code></pre>\n\n<p>Having a receiver and an instance of the interface, how do I invoke such extension function?</p>\n\n<p>I came up with a trick involving the <code>with</code> scope function, but I would prefer something with less indentation.</p>\n\n<pre><code>fun usageExample(evaluator: Evaluator, x: Double) {\n  with(evaluator) {\n    println(\"Y1 = ${x.evaluateY1()}. Y2 = ${x.evaluateY2()}\")\n  }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "httprequest"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1551791208, "post_id": 55002709, "comment_id": 96762268, "body": "You should use <code>.body(json.toString())</code> to send this as string I believe."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1551792558, "post_id": 55002709, "comment_id": 96763123, "body": "did you try executing the same request with other tools (e.g., cmd line, postman) to verify whether it is correct? Btw in this case probably a raw string (enclosed in <code>&quot;&quot;&quot;</code>) would be more readable"}, {"owner": {"reputation": 446, "user_id": 2342331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f18e4c6ac8a170e2e51b1ca9a884056a?s=128&d=identicon&r=PG", "display_name": "Jake2Finn", "link": "https://stackoverflow.com/users/2342331/jake2finn"}, "edited": false, "score": 0, "creation_date": 1551864026, "post_id": 55002709, "comment_id": 96792517, "body": "yes, I am using postman and the post request just works fine."}, {"owner": {"reputation": 446, "user_id": 2342331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f18e4c6ac8a170e2e51b1ca9a884056a?s=128&d=identicon&r=PG", "display_name": "Jake2Finn", "link": "https://stackoverflow.com/users/2342331/jake2finn"}, "edited": false, "score": 0, "creation_date": 1551864615, "post_id": 55002709, "comment_id": 96792906, "body": "The .toString() solution is not working."}], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 2342331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f18e4c6ac8a170e2e51b1ca9a884056a?s=128&d=identicon&r=PG", "display_name": "Jake2Finn", "link": "https://stackoverflow.com/users/2342331/jake2finn"}, "edited": false, "score": 0, "creation_date": 1551864446, "post_id": 55004506, "comment_id": 96792792, "body": "In Postman, the post request works fine. All I have to add to the request is - of course - the request url, the body which is exactly the raw json string I added to my Kotlin project and basic authentication."}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": false, "score": 0, "last_activity_date": 1551794293, "creation_date": 1551794293, "answer_id": 55004506, "question_id": 55002709, "link": "https://stackoverflow.com/questions/55002709/post-request-with-multiple-header-information-using-fuel/55004506#55004506", "title": "post request with multiple header information using fuel", "body": "<p>Try executing that request manually. Use fiddler/postman/your preferred HTTP client. Maybe you're missing something in the body or headers?</p>\n\n<p>Also I recommend a raw string literal. It's much more readable.</p>\n\n<pre><code>val myJsonBody = \"\"\"\n{\n    \"jql\": \"component = LOLO AND fixVersion = '18/3 Patch-2'\",\n    \"startAt\": 0,\n    \"maxResults\": 300,\n    \"fields\": [\n        \"issuetype\",\n        \"created\",\n        \"status\",\n        \"summary\",\n        \"customfield_10002\",\n        \"customfield_10003\",\n        \"customfield_11201\",\n        \"customfield_10006\"\n    ]\n}\n        \"\"\".trimIndent()\n\n        val confluenceUrl = \"https://atc.mywebpage.net/jira/rest/api/2/search\"\n\n        val (ignoredRequest, ignoredResponse, result) =\n            Fuel.post(confluenceUrl)\n                .header(\"Content-Type\", \"application/json\")\n                .header(user,password)\n                .jsonBody(myJsonBody)\n                .responseString ()\n\n        result.fold({ print(\"success: $result\") }, { print(\"failure: $result\") })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 446, "user_id": 2342331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f18e4c6ac8a170e2e51b1ca9a884056a?s=128&d=identicon&r=PG", "display_name": "Jake2Finn", "link": "https://stackoverflow.com/users/2342331/jake2finn"}, "is_accepted": false, "score": 0, "last_activity_date": 1551872493, "creation_date": 1551872493, "answer_id": 55022282, "question_id": 55002709, "link": "https://stackoverflow.com/questions/55002709/post-request-with-multiple-header-information-using-fuel/55022282#55022282", "title": "post request with multiple header information using fuel", "body": "<p>I played around a little and I found out that I had to use authentication().basic() to access properly and not header(). This is the result: </p>\n\n<pre><code>    val confluenceUrl = \"https://atc.mywebpage.net/jira/rest/api/2/search\"\n    val user = \"myUser\"\n    val password = \"myPassword\"\n    val myJsonBody = \"\"\"\n{\n    \"jql\": \"component = LOLO AND fixVersion = '18/3 Patch-2'\",\n    \"startAt\": 0,\n    \"maxResults\": 300,\n    \"fields\": [\n        \"issuetype\",\n        \"created\",\n        \"status\",\n        \"summary\",\n        \"customfield_10002\",\n        \"customfield_10003\",\n        \"customfield_11201\",\n        \"customfield_10006\"\n    ]\n}\n        \"\"\".trimIndent()\n\n    val (ignoredRequest, ignoredResponse, result) =\n    Fuel.post(confluenceUrl)\n            .header(\"Content-Type\", \"application/json\")\n            .authentication().basic(user, password)\n            .jsonBody(myJsonBody)\n            .responseString ()\n\n    result.fold({ print(\"success: $result\") }, { print(\"failure: $result\") })\n}\n</code></pre>\n"}], "owner": {"reputation": 446, "user_id": 2342331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f18e4c6ac8a170e2e51b1ca9a884056a?s=128&d=identicon&r=PG", "display_name": "Jake2Finn", "link": "https://stackoverflow.com/users/2342331/jake2finn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 899, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551872493, "creation_date": 1551788454, "last_edit_date": 1551864553, "question_id": 55002709, "link": "https://stackoverflow.com/questions/55002709/post-request-with-multiple-header-information-using-fuel", "title": "post request with multiple header information using fuel", "body": "<p>I try to send a post request written in kotlin and b using the fuel framework (<a href=\"https://github.com/kittinunf/Fuel\" rel=\"nofollow noreferrer\">https://github.com/kittinunf/Fuel</a>). However, I need to send a json body with the post request as well as basic authentication credentials.</p>\n\n<p>This is my current attempt which always leasds to an HTTP Exception 400. So I have the feeling there is something wrong with the way I send the body. I just cannot figure out what it is:</p>\n\n<pre><code>val myJsonBody = \" {\\n\" +\n        \"        \\\"jql\\\": \\\"component = LOLO AND fixVersion = '18/3 Patch-2'\\\",\\n\" +\n        \"        \\\"startAt\\\": 0,\\n\" +\n        \"        \\\"maxResults\\\": 300,\\n\" +\n        \"        \\\"fields\\\": [\\n\" +\n        \"        \\\"issuetype\\\",\\n\" +\n        \"        \\\"created\\\",\\n\" +\n        \"        \\\"status\\\",\\n\" +\n        \"        \\\"summary\\\",\\n\" +\n        \"        \\\"customfield_10002\\\",\\n\" +\n        \"        \\\"customfield_10003\\\",\\n\" +\n        \"        \\\"customfield_11201\\\",\\n\" +\n        \"        \\\"customfield_10006\\\"\\n\" +\n        \"        ]\\n\" +\n        \"    }\"\nval confluenceUrl = \"https://atc.mywebpage.net/jira/rest/api/2/search\"\n\nval (ignoredRequest, ignoredResponse, result) =\nFuel.post(confluenceUrl)\n        .header(\"Content-Type\", \"application/json\")\n        .header(user,password)\n        .jsonBody(myJsonBody)\n        .responseString ()\n\nresult.fold({ print(\"success: $result\") }, { print(\"failure: $result\") })\n</code></pre>\n\n<p>The functioning cURL request generated by postman looks like this:</p>\n\n<pre><code>curl -X POST \\\n  https://atc.mywebpage.net/jira/rest/api/2/search \\\n  -H 'Content-Type: application/json' \\\n  -H 'Postman-Token: xxxxxxxxxxxxxxxxxxxxxxx' \\\n  -H 'cache-control: no-cache' \\\n  -d '{\n    \"jql\": \"component = LOLO AND fixVersion = '\\''18/3 Patch-2'\\''\",\n    \"startAt\": 0,\n    \"maxResults\": 300,\n    \"fields\": [\n        \"issuetype\",\n        \"created\",\n        \"status\",\n        \"summary\",\n        \"customfield_10002\",\n        \"customfield_10003\",\n        \"customfield_11201\",\n        \"customfield_10006\"\n    ]\n}'\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1551788640, "post_id": 55002617, "comment_id": 96760775, "body": "You&#39;re asking two different question. Both which are too broad while you did not provide any code nor explained any attempts. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> :)"}], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 10914435, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ADyhW9rBcEo/AAAAAAAAAAI/AAAAAAAAABI/ihB8OmiKPUU/photo.jpg?sz=128", "display_name": "Mitchell Monarch", "link": "https://stackoverflow.com/users/10914435/mitchell-monarch"}, "is_accepted": true, "score": 1, "last_activity_date": 1551788693, "creation_date": 1551788693, "answer_id": 55002776, "question_id": 55002617, "link": "https://stackoverflow.com/questions/55002617/how-can-we-check-multiple-sim-in-android-phones/55002776#55002776", "title": "How can we check multiple sim in Android phones", "body": "<p>Use <a href=\"https://developer.android.com/reference/android/telephony/TelephonyManager.html\" rel=\"nofollow noreferrer\">TelephonyManager</a>\nYou would first start by querying the SimState for each individual sim slot by using getSimState(int slotIndex) ie:</p>\n\n<pre><code>int simStateMain = telMgr.getSimState(0);\nint simStateSecond = telMgr.getSimState(1);\n</code></pre>\n\n<p>Then once you figure out which SimCard you want your code would look somewhat like this:</p>\n\n<pre><code>TelephonyManager telMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n    int simState = telMgr.getSimState();\n            switch (simState) {\n                case TelephonyManager.SIM_STATE_ABSENT:\n                    // do something\n                    break;\n                case TelephonyManager.SIM_STATE_NETWORK_LOCKED:\n                    // do something\n                    break;\n                case TelephonyManager.SIM_STATE_PIN_REQUIRED:\n                    // do something\n                    break;\n                case TelephonyManager.SIM_STATE_PUK_REQUIRED:\n                    // do something\n                    break;\n                case TelephonyManager.SIM_STATE_READY:\n                    // do something\n                    break;\n                case TelephonyManager.SIM_STATE_UNKNOWN:\n                    // do something\n                    break;\n            }\n</code></pre>\n\n<p>Make sure you're dealing with a GSM phone first so you can actually get at the SIM card though. Note: There are many ways to do this. Could even use a boolean.</p>\n"}], "owner": {"reputation": 148, "user_id": 4340273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/952b6d2155bfcbd8726b9e48d566b796?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas", "link": "https://stackoverflow.com/users/4340273/vikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "closed_date": 1552063373, "accepted_answer_id": 55002776, "answer_count": 1, "score": 0, "last_activity_date": 1551788693, "creation_date": 1551788145, "last_edit_date": 1551788422, "question_id": 55002617, "link": "https://stackoverflow.com/questions/55002617/how-can-we-check-multiple-sim-in-android-phones", "closed_reason": "Duplicate", "title": "How can we check multiple sim in Android phones", "body": "<p>How can we check multiple sim in Android Device programmatically? And how can we send an SMS from a specific sim (Sim 1 or Sim 2)?</p>\n"}, {"tags": ["android", "kotlin", "layout-inflater"], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 10995239, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218634293513962/picture?type=large", "display_name": "Taras Parshenko", "link": "https://stackoverflow.com/users/10995239/taras-parshenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1551788304, "creation_date": 1551788304, "answer_id": 55002659, "question_id": 55001702, "link": "https://stackoverflow.com/questions/55001702/inflate-and-bind-view-at-the-same-moment-in-android/55002659#55002659", "title": "Inflate and bind view at the same moment in android", "body": "<p>You could inflate item xml without parent (pass <code>null</code>) and then call <code>addView</code>:</p>\n\n<pre><code>data.forEach { rule -&gt;\n    val view = layoutInflater.inflate(R.layout.rule_view_holder, null).apply {\n        setOnClickListener { content.flipVisibility() }\n        title.text = rule.title\n        contentText.text = rule.content.fromHtml()\n        rule.images.map {\n            createImageView(this.context, it)\n        }.forEach {\n            contentImages.addView(it)\n        }\n    }\n    this.rulesContainer.addView(view)\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10891698, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AqaCT2qb4LI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaCBMxNF1xYxrEHsVvKzztnCO2cVA/mo/photo.jpg?sz=128", "display_name": "Volkov Dmitry", "link": "https://stackoverflow.com/users/10891698/volkov-dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551788304, "creation_date": 1551785038, "question_id": 55001702, "link": "https://stackoverflow.com/questions/55001702/inflate-and-bind-view-at-the-same-moment-in-android", "title": "Inflate and bind view at the same moment in android", "body": "<p>I'm trying to inflate a view for each object in list and bind it with data at the same moment, and that is how i implement this: </p>\n\n<pre><code>data.forEach { rule -&gt;\n        layoutInflater.inflate(\n            R.layout.rule_view_holder,\n            this.rulesContainer\n        ).apply {\n            setOnClickListener { content.flipVisibility() }\n            title.text = rule.title\n            contentText.text = rule.content.fromHtml()\n            rule.images.map {\n                createImageView(this.context, it)\n            }.forEach {\n                contentImages.addView(it)\n            }\n        }\n    }\n</code></pre>\n\n<p>Views inflated and inserted into LinearLayout properly, but it seems that data is bound only for last item in list, here is what i mean: <a href=\"https://i.stack.imgur.com/u79gQ.png\" rel=\"nofollow noreferrer\">image</a> \nThere is list with 6 items in it, so view inflating is definitely right (because of horisontal lines, that inflated for each view necessarily).</p>\n\n<p>Also there is rule_view_holder layout <a href=\"https://i.stack.imgur.com/kajDH.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n\n<p>Can you please help me fix this behaviour?</p>\n"}, {"tags": ["android", "kotlin", "material-design", "androidx"], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551786426, "post_id": 55001889, "comment_id": 96759496, "body": "My manifest is already using material theme `            android:theme=&quot;@style/Theme.MaterialComponents.Light.NoActio&zwnj;&#8203;nBar&quot;`"}, {"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551790319, "post_id": 55001889, "comment_id": 96761730, "body": "thanks for your help so far but categoryList is the name of my chip group, i&#39;ve added the xml to my question so you can see it. so the only change in your answer is to set the context of the new chip (in my case) to categoryList.context, the same error occurs but in the line of creating the chip, setting it to just &quot;context&quot; makes the same error also occur but in the addition to chip group like in my question."}, {"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551791173, "post_id": 55001889, "comment_id": 96762249, "body": "If I use (val chip = Chip(context)) it occurs on line 71 (the addition line) If I use (val chip = Chip(categoryList.context)) it occurs on line 34 (the initialization line)"}, {"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "reply_to_user": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551791303, "post_id": 55001889, "comment_id": 96762320, "body": "Well you use categoryList.context and which line is 34"}, {"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "reply_to_user": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551791879, "post_id": 55001889, "comment_id": 96762680, "body": "Of course the line chip as View indicate chip is a CategoryView. Use just chip"}, {"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551792046, "post_id": 55001889, "comment_id": 96762802, "body": "I changed it and its the exact same issue, notice the error is occurring on line 34, it doesnt even reach the add."}, {"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "reply_to_user": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551792470, "post_id": 55001889, "comment_id": 96763076, "body": "Can you show your all imports of your categoryView class."}, {"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "reply_to_user": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551792818, "post_id": 55001889, "comment_id": 96763275, "body": "Other imports too because I think it&#39;s a logical error."}], "tags": [], "owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "is_accepted": true, "score": 1, "last_activity_date": 1551789043, "last_edit_date": 1551789043, "creation_date": 1551785657, "answer_id": 55001889, "question_id": 55001676, "link": "https://stackoverflow.com/questions/55001676/android-material-cannot-be-cast-to-com-google-android-material-chip-chipgroup/55001889#55001889", "title": "Android Material - cannot be cast to com.google.android.material.chip.ChipGroup", "body": "<p>Use Material theme instead of appCompact to solve chip problem:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.MaterialComponents.Light.Bridge\"&gt;\n\n&lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.NoActionBar\"&gt;\n\n&lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n\n&lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n\n&lt;/style&gt;\n</code></pre>\n\n<p><strong>Updated</strong></p>\n\n<p>The error occurred because you're adding chip to categoriesList but it's required a chip group like below example:</p>\n\n<pre><code>private fun createChip(name: String, index: Int){\n\nval chip = Chip(chip_group.context)\n\nchip.id = index\n\nchip.text = name\n\nchip.isClickable = true\n\nchip.isCheckable = true\n\nchip.isCheckedIconVisible = false\n\nchip_group.addView(chip)\n\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n\n super.onActivityCreated(savedInstanceState)\n\n  for ((index, item) in categories.withIndex()){\ncreateChip(item.name, index)}\u00a0}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 12692513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/68T2Y.jpg?s=128&g=1", "display_name": "heiligbasil", "link": "https://stackoverflow.com/users/12692513/heiligbasil"}, "is_accepted": false, "score": -1, "last_activity_date": 1578896334, "creation_date": 1578896334, "answer_id": 59711399, "question_id": 55001676, "link": "https://stackoverflow.com/questions/55001676/android-material-cannot-be-cast-to-com-google-android-material-chip-chipgroup/59711399#59711399", "title": "Android Material - cannot be cast to com.google.android.material.chip.ChipGroup", "body": "<p>In my case, the error was caused by the <code>id</code> field within the <code>Chip</code> view.</p>\n\n<pre><code>&lt;com.google.android.material.chip.Chip\n                android:id=\"@+id/chip_fragment_1\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p>After changing the value of the <code>id</code> field, the error went away.</p>\n"}], "owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 55001889, "answer_count": 2, "score": 0, "last_activity_date": 1578896334, "creation_date": 1551784952, "last_edit_date": 1551790019, "question_id": 55001676, "link": "https://stackoverflow.com/questions/55001676/android-material-cannot-be-cast-to-com-google-android-material-chip-chipgroup", "title": "Android Material - cannot be cast to com.google.android.material.chip.ChipGroup", "body": "<p>I have a <code>component_category_view.xml</code> with a ChipGroup initialized inside a constraintLayout that has an id <code>categoryList</code>,\nI'm running the following <code>CategoryView.kt</code> class to inflate it and update it with chips dynamically and i have it placed inside my activity.</p>\n\n<pre><code>class CategoryView @JvmOverloads constructor(\ncontext: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : ConstraintLayout(context, attrs, defStyleAttr) {\n\ninit {\n    inflateLayout()\n}\n\n\nprivate fun inflateLayout() {\n    val inflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    inflater.inflate(R.layout.component_category_view, this, true)\n}\nfun updateCategories(categories: List&lt;Category&gt;){\n    categories.forEach {\n        var chipText = \"${it.title.capitalize()} (${it.amount})\"\n        val chip = Chip(this@CategoryView.context)\n        chip.text = chipText\n        chip.isCheckable = true\n        chip.chipBackgroundColor = null\n\n        categoryList.addView(chip)\n    }\n}\n\n\n}\n</code></pre>\n\n<p>When I run however and my code reaches the part where it's calling updateCategories with a list of Categories, the following error comes up:</p>\n\n<blockquote>\n  <p>E/AndroidRuntime: FATAL EXCEPTION: main\n          Process: com.company.project, PID: 8262\n          java.lang.ClassCastException: com.company.project.common.ui.CategoryView cannot be cast to\n  com.google.android.material.chip.ChipGroup</p>\n</blockquote>\n\n<p>the <code>component_category_view.xml</code> looks like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                               xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                               android:orientation=\"vertical\"\n                                               android:layout_width=\"match_parent\"\n                                               android:layout_height=\"match_parent\"\n                                               android:background=\"@drawable/layout_border_bottom\"&gt;\n\n&lt;com.google.android.material.chip.ChipGroup\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:id=\"@+id/categoryList\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "environment-variables", "kotlin-native"], "comments": [{"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1551785122, "post_id": 55000209, "comment_id": 96758719, "body": "To spawn a subprocess to read the value of an environment variable is to use a sledgehammer to crack a nut. See <a href=\"https://stackoverflow.com/questions/44320495/how-do-i-read-an-environment-variable-in-kotlin\" title=\"how do i read an environment variable in kotlin\">stackoverflow.com/questions/44320495/&hellip;</a>"}, {"owner": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "reply_to_user": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 0, "creation_date": 1551785365, "post_id": 55000209, "comment_id": 96758863, "body": "@DodgyCodeException System.getenv is Kotlin JVM, not native"}, {"owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "edited": false, "score": 0, "creation_date": 1551785566, "post_id": 55000209, "comment_id": 96758966, "body": "I don&#39;t see how that page contains any answer to the problem here. The answers there suggests only either leveraging System.getenv() function (which I can&#39;t since I&#39;m using Kotlin Native, not the JVM), or using a third party library for configuration that &quot;uses properties gathered from multiple sources \u2014  built in resources, system properties, property files, environment variables, command-line arguments, etc&quot; (which would be a sledgehammer all in and of itself). I might be missing something, so if that is the case and the linked page actually contains a fix to my problem then please tell me."}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "reply_to_user": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "edited": false, "score": 0, "creation_date": 1551785568, "post_id": 55000209, "comment_id": 96758967, "body": "@KevinGalligan you&#39;re right, sorry."}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 1, "creation_date": 1551785657, "post_id": 55000209, "comment_id": 96759013, "body": "You could use <code>&quot;echo %$variable%&quot;</code> instead of the <code>SET</code> command. That way you won&#39;t get the variable=value pattern, but just the value itself. You&#39;ll also have to redirect stdout to the Kotlin process somehow. But probably you&#39;re better off using interop with C, then you can use C&#39;s <code>getenv()</code> call."}, {"owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "edited": false, "score": 0, "creation_date": 1551785866, "post_id": 55000209, "comment_id": 96759124, "body": "That&#39;s right. Echo would return only the value. But how do I get it into the Kotlin process? Do I have to use some type of C library call or something? Seems weird there wouldn&#39;t be a built in method for this in a native framework."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "edited": false, "score": 0, "creation_date": 1551788614, "post_id": 55002326, "comment_id": 96760761, "body": "Worked like a charm. What&#39;s with the getenv(&quot;$variable&quot;) notation? getenv(variable) seems to give the same result for me for both existing and non-existing system variables."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "reply_to_user": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "edited": false, "score": 1, "creation_date": 1551789152, "post_id": 55002326, "comment_id": 96761053, "body": "@Mattias you&#39;re right, that was unnecessary. Edited."}, {"owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "edited": false, "score": 0, "creation_date": 1551793103, "post_id": 55002326, "comment_id": 96763432, "body": "Thanks for the help."}], "tags": [], "owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "is_accepted": true, "score": 4, "last_activity_date": 1551789119, "last_edit_date": 1551789119, "creation_date": 1551787019, "answer_id": 55002326, "question_id": 55000209, "link": "https://stackoverflow.com/questions/55000209/read-environment-variable-in-kotlin-native/55002326#55002326", "title": "Read environment variable in Kotlin/Native", "body": "<p>Here's how to read an environment variable in Kotlin/Native:</p>\n\n<pre><code>import platform.posix.*\nimport kotlinx.cinterop.*\n\nfun main() {\n    val variable = \"whatever...\"\n    println(getenv(variable)?.toKString())\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 9229374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43b1bec8bca20aa243c9e722aa8d136?s=128&d=identicon&r=PG&f=1", "display_name": "Mattias", "link": "https://stackoverflow.com/users/9229374/mattias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1206, "favorite_count": 0, "accepted_answer_id": 55002326, "answer_count": 1, "score": 2, "last_activity_date": 1551789119, "creation_date": 1551780289, "last_edit_date": 1551783917, "question_id": 55000209, "link": "https://stackoverflow.com/questions/55000209/read-environment-variable-in-kotlin-native", "title": "Read environment variable in Kotlin/Native", "body": "<p>OK, so I want to create a native app to read some environment variables, and based on some business logic, change the value of them to something else. I decided to do it in Kotlin.</p>\n\n<p>I managed to find out how to change the system environment variable, by creating the functions:</p>\n\n<pre><code>fun call(arg: String) = platform.posix.system(command)\n\nfun setEnvironmentVariable(variable: String, value: String) {\n    println(\"Changing value of $variable to $value\")\n    call(\"SETX $variable $value\")\n}\n</code></pre>\n\n<p>But it only changes the value. I would like to store it in a Kotlin variable and do some manipulations on it.</p>\n\n<p>Issuing the statement call(\"SET $variable\") prints the value to the command prompt, but I cant figure out how to capture it from Kotlin. I guess if there was a way to extract the output from command prompt to a String that would make it easier, even though Windows outputs it on the form myvariable=myvalue instead of just the value.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 378, "user_id": 7958563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6OzrZ.jpg?s=128&g=1", "display_name": "Ivan Shafran", "link": "https://stackoverflow.com/users/7958563/ivan-shafran"}, "edited": false, "score": 0, "creation_date": 1557485792, "post_id": 55000046, "comment_id": 98790552, "body": "<a href=\"https://kotlinlang.org/docs/reference/evolution/compatibility-modes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/evolution/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1551785671, "post_id": 55000538, "comment_id": 96759019, "body": "Yes, this link is in my question. Could you please give an example when I should use one and when another?"}, {"owner": {"reputation": 298, "user_id": 5813395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vgBc.jpg?s=128&g=1", "display_name": "sirdn4", "link": "https://stackoverflow.com/users/5813395/sirdn4"}, "reply_to_user": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1551786914, "post_id": 55000538, "comment_id": 96759774, "body": "I&#39;m sorry. I can&#39;t give any example. But, maybe you can found your answer by reading this reference: <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/building-mpp-with-gradle.html</a>"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1551793821, "post_id": 55000538, "comment_id": 96763868, "body": "Thanks! Please add a link to <code>Language settings</code> block in the last document, and I will accept your answer."}, {"owner": {"reputation": 298, "user_id": 5813395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vgBc.jpg?s=128&g=1", "display_name": "sirdn4", "link": "https://stackoverflow.com/users/5813395/sirdn4"}, "reply_to_user": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1551794262, "post_id": 55000538, "comment_id": 96764134, "body": "Sorry I don&#39;t understand, what do you mean?"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1551794586, "post_id": 55000538, "comment_id": 96764321, "body": "I have found the answer in your last link. Please replace link in your answer by this one: <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#language-settings\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 298, "user_id": 5813395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vgBc.jpg?s=128&g=1", "display_name": "sirdn4", "link": "https://stackoverflow.com/users/5813395/sirdn4"}, "is_accepted": true, "score": 1, "last_activity_date": 1551794726, "last_edit_date": 1551794726, "creation_date": 1551781348, "answer_id": 55000538, "question_id": 55000046, "link": "https://stackoverflow.com/questions/55000046/kotlin-gradle-plugin-apiversion-vs-languageversion/55000538#55000538", "title": "Kotlin Gradle plugin: apiVersion vs languageVersion", "body": "<p>apiVersion: Allow to use declarations only from the specified version of bundled libraries</p>\n\n<p>languageVersion: Provide source compatibility with specified language version</p>\n\n<p>You can see full documentation here:\n<a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html</a></p>\n\n<p>and this reference:\n<a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html</a></p>\n"}], "owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "accepted_answer_id": 55000538, "answer_count": 1, "score": 2, "last_activity_date": 1551794726, "creation_date": 1551779870, "question_id": 55000046, "link": "https://stackoverflow.com/questions/55000046/kotlin-gradle-plugin-apiversion-vs-languageversion", "title": "Kotlin Gradle plugin: apiVersion vs languageVersion", "body": "<p>Kotlin Gradle plugin contains <code>compileKotlin</code> task which can be configured by <code>apiVersion</code> and <code>languageVersion</code> parameters (<a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#attributes-common-for-jvm-and-js\" rel=\"nofollow noreferrer\">doc</a>):</p>\n\n<pre><code>compileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = ['-Xjsr305=strict']\n        jvmTarget = '1.8'\n        languageVersion = '1.1'\n        apiVersion = '1.1'\n    }\n}\n</code></pre>\n\n<p>Both parameters are used for compatibility with older Kotlin versions. Could somebody explain what is the difference between them? And what are use cases using each of them?</p>\n"}, {"tags": ["android", "kotlin", "android-proguard", "fasterxml"], "comments": [{"owner": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 0, "creation_date": 1551780288, "post_id": 54999999, "comment_id": 96755813, "body": "try removing &quot;-keep class kotlin.reflect.** { *; }&quot; from the proguard rule @Ahad"}, {"owner": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 1, "creation_date": 1551780443, "post_id": 54999999, "comment_id": 96755900, "body": "Or just keep &quot;-dontwarn kotlin.**&quot; this in proguard instead of &quot;-keep class kotlin.reflect.** { *;&quot;"}, {"owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "reply_to_user": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 0, "creation_date": 1551780741, "post_id": 54999999, "comment_id": 96756074, "body": "@g.brahmaDatta I&#39;ve tried your suggestion and replaced that line with &quot;-dontwarn kotlin.**&quot; but still getting the same error."}, {"owner": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 1, "creation_date": 1551781009, "post_id": 54999999, "comment_id": 96756251, "body": "try this &quot;-keep class kotlin.Metadata { *; }&quot; and let me know @Ahad"}, {"owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "reply_to_user": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 0, "creation_date": 1551781192, "post_id": 54999999, "comment_id": 96756361, "body": "@g.brahmaDatta after chaning to your suggestion error changed to this : &quot;java.lang.NoSuchMethodError: No virtual method getAnnotationsByType(Ljava/lang/Class;)[Ljava/lang/annotatio&zwnj;&#8203;n/Annotation; in class Ljava/lang/reflect/Field; or its super classes (declaration of &#39;java.lang.reflect.Field&#39; appears in /system/framework/core-libart.jar) at com.fasterxml.jackson.module.kotlin.KotlinAnnotationIntrospe&zwnj;&#8203;ctor&quot;"}, {"owner": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 0, "creation_date": 1551781309, "post_id": 54999999, "comment_id": 96756432, "body": "Oh i&#39;m sorry.I think you are not using those methods in Project. I got similar errors.I got rid of that when I checked each and every warning and removed unnecessary rules in proguard."}, {"owner": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 0, "creation_date": 1551781524, "post_id": 54999999, "comment_id": 96756552, "body": "I have used -dontwarn kotlin.Metadata and -keep class kotlin.Metadata { *; }  in my code and i got successful signed apk"}, {"owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "reply_to_user": {"reputation": 989, "user_id": 7352857, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9RULqlU_UNY/AAAAAAAAAAI/AAAAAAAAAB4/g7CczQluuT4/photo.jpg?sz=128", "display_name": "Brahma Datta", "link": "https://stackoverflow.com/users/7352857/brahma-datta"}, "edited": false, "score": 0, "creation_date": 1551782108, "post_id": 54999999, "comment_id": 96756908, "body": "@g.brahmaDatta still getting error :("}], "answers": [{"tags": [], "owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "is_accepted": true, "score": 1, "last_activity_date": 1589847706, "creation_date": 1589847706, "answer_id": 61881161, "question_id": 54999999, "link": "https://stackoverflow.com/questions/54999999/sigend-apk-with-proguard-gives-incompatibleclasschangeerror/61881161#61881161", "title": "Sigend APK with proguard gives IncompatibleClassChangeError", "body": "<p>If you are seeing this on a Samsung Android 5.x device then this is a duplicate of: <a href=\"https://stackoverflow.com/a/30355502/85472\">https://stackoverflow.com/a/30355502/85472</a></p>\n\n<p>Additional to that answer is also this <a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/208\" rel=\"nofollow noreferrer\">issue filed on the jackson kotlin repo</a>.</p>\n"}], "owner": {"reputation": 1506, "user_id": 2522673, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/E875U.jpg?s=128&g=1", "display_name": "Ahad Porkar", "link": "https://stackoverflow.com/users/2522673/ahad-porkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 61881161, "answer_count": 1, "score": 2, "last_activity_date": 1589847706, "creation_date": 1551779744, "last_edit_date": 1551783584, "question_id": 54999999, "link": "https://stackoverflow.com/questions/54999999/sigend-apk-with-proguard-gives-incompatibleclasschangeerror", "title": "Sigend APK with proguard gives IncompatibleClassChangeError", "body": "<p>Im trying to run signed apk with proguard at it gives me </p>\n\n<p><strong>IncompatibleClassChangeError</strong> error during runtime on fasterxml deserialization part.</p>\n\n<p>this is error log :</p>\n\n<pre><code>java.lang.IncompatibleClassChangeError: Couldn't find kotlin.Metadata.bv\nat libcore.reflect.AnnotationAccess.toAnnotationInstance(AnnotationAccess.java:659)\nat libcore.reflect.AnnotationAccess.annotationSetToAnnotations(AnnotationAccess.java:633)\nat libcore.reflect.AnnotationAccess.getDeclaredAnnotations(AnnotationAccess.java:161)\nat java.lang.Class.getDeclaredAnnotations(Class.java:743)\nat com.fasterxml.jackson.databind.util.ClassUtil.findClassAnnotations(:1095)\nat com.fasterxml.jackson.databind.introspect.AnnotatedClassResolver.resolveClassAnnotations(:154)\nat com.fasterxml.jackson.databind.introspect.AnnotatedClassResolver.resolveFully(:118)\nat com.fasterxml.jackson.databind.introspect.AnnotatedClassResolver.resolve(:69)\nat com.fasterxml.jackson.databind.introspect.BasicClassIntrospector._resolveAnnotatedClass(:282)\nat com.fasterxml.jackson.databind.introspect.BasicClassIntrospector.collectProperties(:192)\nat com.fasterxml.jackson.databind.introspect.BasicClassIntrospector.forDeserialization(:112)\nat com.fasterxml.jackson.databind.introspect.BasicClassIntrospector.forDeserialization(:16)\nat com.fasterxml.jackson.databind.DeserializationConfig.introspect(:731)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(:324)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(:264)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(:244)\nat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(:142)\nat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(:477)\nat com.fasterxml.jackson.databind.ObjectMapper._findRootDeserializer(:4190)\nat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(:4009)\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(:3023)\nat com.khcai.mifrooshe.deserializers.AppVersionHitoryModelDeserializer.a(:25)\nat com.khcai.mifrooshe.networking.GetAppVersionHistoryClient.a(:39)\nat com.khcai.mifrooshe.activity.HomeActivity$versionChangeLog$1.a(:277)\nat com.khcai.mifrooshe.activity.HomeActivity$versionChangeLog$1.invoke(:62)\nat org.jetbrains.anko.AsyncKt$doAsync$1.invoke(:140)\nat org.jetbrains.anko.AsyncKt$doAsync$1.invoke()\nat org.jetbrains.anko.AsyncKt$sam$Callable$761a5578.call()\nat java.util.concurrent.FutureTask.run(FutureTask.java:237)\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:154)\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\nat java.lang.Thread.run(Thread.java:818)\n</code></pre>\n\n<p>and my proguard setting :</p>\n\n<pre><code>-ignorewarnings\n-keep class * {\n    public private *;\n}\n\n-keep class kotlin.reflect.** { *; }\n\n-keepclassmembers class ** extends com.fasterxml.jackson.databind.ser.std.** {\n   public &lt;init&gt;(...);\n}\n\n-keepclassmembers class ** extends com.fasterxml.jackson.databind.deser.std.** {\n   public &lt;init&gt;(...);\n}\n\n\n-keep class com.squareup.okhttp.** { *; }\n-keep class android.support.v7.widget.** { *; }\n-dontwarn com.yalantis.ucrop**\n-keep class com.yalantis.ucrop** { *; }\n-keep interface com.yalantis.ucrop** { *; }\n-keep class org.apache.http.** { *; }\n\n-keepattributes *Annotation*,EnclosingMethod,Signature\n-keepnames class com.fasterxml.jackson.** { *; }\n-dontwarn com.fasterxml.jackson.databind.**\n-keep class org.codehaus.** { *; }\n-keepclassmembers public final enum org.codehaus.jackson.annotate.JsonAutoDetect$Visibility {\n    public static final org.codehaus.jackson.annotate.JsonAutoDetect$Visibility *; }\n-keep public class your.class.** {\n    public void set*(***);\n    public *** get*();\n}\n</code></pre>\n\n<p>and package list in gradle file :</p>\n\n<pre><code>  buildTypes {\n        release {\n            debuggable true\n            minifyEnabled true\n            shrinkResources true\n            useProguard true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.google.firebase:firebase-core:16.0.7'\n    implementation (name:'rangeseekbar-debug', ext:'aar')\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:support-core-utils:28.0.0'\n    implementation \"com.android.support:exifinterface:28.0.0\"\n    implementation 'com.android.support:support-core-ui:28.0.0'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:gridlayout-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation \"org.jetbrains.anko:anko:$anko_version\"\n    implementation 'com.squareup.okhttp3:okhttp:3.10.0'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'com.fasterxml.jackson.module:jackson-module-kotlin:2.9.8'\n    implementation 'com.github.ittianyu:BottomNavigationViewEx:1.2.4'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.github.GrenderG:Toasty:1.2.5'\n    implementation 'com.github.bumptech.glide:glide:4.6.1'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.6.1'\n    implementation 'com.github.esafirm.android-image-picker:imagepicker:1.12.0'\n    implementation 'org.apache.commons:commons-io:1.3.2'\n    implementation 'com.github.hamsaadev:Persian-Date-Picker-Dialog:V1.2'\n    implementation 'jp.wasabeef:blurry:2.1.1'\n    implementation 'com.github.firdausmaulan:GlideSlider:1.3.1'\n    implementation 'com.github.yalantis:ucrop:2.2.2'\n    implementation('io.socket:socket.io-client:1.0.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n    implementation 'com.squareup.picasso:picasso:2.71828'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>Project runs fine when i use debug setting or remove the proguard with set these </p>\n\n<p>to <strong>minifyEnabled</strong>,<strong>shrinkResources</strong>,<strong>useProguard</strong> to false.</p>\n\n<p>even this guide didnt help :</p>\n\n<p><a href=\"https://github.com/FasterXML/jackson-module-kotlin/pull/164/commits/c6d469db82d2af6471da550fc500850ccc7edf08\" rel=\"nofollow noreferrer\">update README.md to include proguard rule for kotlin.reflect</a></p>\n\n<p>Any advice and suggestions will be greatly appreciated.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1551782641, "post_id": 54999727, "comment_id": 96757212, "body": "Try to import <code>Binder</code> (not <code>NotificationCreator.Binder</code>) , just check the path of the imported Binder."}, {"owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1551782913, "post_id": 54999727, "comment_id": 96757381, "body": "Thank you for reply. I see where you going, but this is bad solution, as for me. Interface(in my case) is pointless without class. And should not be accessed from package"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1551783025, "post_id": 54999727, "comment_id": 96757443, "body": "In this case place interface inside your class <code>class NotificationCreator() { interface Binder }</code>"}, {"owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1551784061, "post_id": 54999727, "comment_id": 96758111, "body": "@Demigod this is not possible. Class should implement this interface. Class can&#39;t implement an interface that inside this class"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551806710, "post_id": 54999727, "comment_id": 96771727, "body": "There isn&#39;t any <code>NotificationCreator.Binder</code> to access in the first place, if it isn&#39;t inside the class."}, {"owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551811065, "post_id": 54999727, "comment_id": 96773851, "body": "@AlexeyRomanov i don&#39;t understand what you mean"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551819714, "post_id": 54999727, "comment_id": 96777749, "body": "@SerhiiPokrovskyi If you have <code>interface Binder { ... }; class NotificationCreator @Inject constructor(): Binder</code> then you have to refer to interface as <code>Binder</code>. It only makes sense to write <code>NotificationCreator.Binder</code> when it&#39;s declared inside <code>NotificationCreator</code> as in Demigod&#39;s comment. And then, yes, the outer class can&#39;t implement the nested interface."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551823457, "post_id": 54999727, "comment_id": 96779348, "body": "Why don&#39;t you just put <code>NotificationCreator</code> and <code>NotificationCreatorBinder</code> into a single file? Unlike Java, there&#39;s no rule that you can only have one public class or interface per file."}, {"owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551859292, "post_id": 54999727, "comment_id": 96789953, "body": "@AlexeyRomanov well, in my point of view, it will be the same. I want a convenient way to address an interface via class(*NotificationCreator .NotificationCreatorBinder *). Because this interface is useless without this class"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1551859839, "post_id": 54999727, "comment_id": 96790219, "body": "Again: you simply can&#39;t do both things you want. You are out of luck."}], "owner": {"reputation": 140, "user_id": 6413479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed4c35f4308c1d6efe4e946ff2fefddf?s=128&d=identicon&r=PG&f=1", "display_name": "Serhii Pokrovskyi", "link": "https://stackoverflow.com/users/6413479/serhii-pokrovskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551778965, "creation_date": 1551778965, "question_id": 54999727, "link": "https://stackoverflow.com/questions/54999727/is-it-possible-to-access-top-level-interface-outer-of-the-class-in-kotlin", "title": "Is it possible to access top level interface outer of the class in Kotlin?", "body": "<p>I am experimenting with dagger in Kotlin.</p>\n\n<p>Let's say that i want to do something simple:</p>\n\n<p>module:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Binds\nabstract fun bindNotificationCreator(creator: NotificationCreator): NotificationCreatorBinder\n</code></pre>\n\n<p>usage:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nlateinit var creator: NotificationCreatorBinder\n</code></pre>\n\n<p>NotificationCreator:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class NotificationCreator @Inject constructor(): NotificationCreatorBinder\n</code></pre>\n\n<p>The problem is, that i need to create a separate file for interface.</p>\n\n<p>Will it be possible to declare class and interface on one file for usage in dagger <code>@Bind</code>?</p>\n\n<p>something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>interface Binder{\n    //TODO\n}\n\nclass NotificationCreator @Inject constructor(): Binder\n</code></pre>\n\n<p>and then:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Binds\nabstract fun bindNotificationCreator(creator: NotificationCreator): NotificationCreator.Binder\n</code></pre>\n\n<p>but i can't access to <code>NotificationCreator.Binder</code> outside <code>NotificationCreator</code> class</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 6705, "user_id": 608388, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8090Q.png?s=128&g=1", "display_name": "Niraj Chauhan", "link": "https://stackoverflow.com/users/608388/niraj-chauhan"}, "edited": false, "score": 0, "creation_date": 1551783802, "post_id": 54999302, "comment_id": 96757958, "body": "use <code>flatMap</code>. Add your condition in <code>flatMap</code>, if not connected to the internet then return your <code>showNetworkError</code> observable else return <code>observable.just(false)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 9271818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12e109d836ad6f268ee12f0ba2e4022?s=128&d=identicon&r=PG&f=1", "display_name": "Benoit TH", "link": "https://stackoverflow.com/users/9271818/benoit-th"}, "is_accepted": false, "score": 0, "last_activity_date": 1551784147, "creation_date": 1551784147, "answer_id": 55001441, "question_id": 54999302, "link": "https://stackoverflow.com/questions/54999302/subscribe-conditionally-to-rxjava2-observable/55001441#55001441", "title": "Subscribe Conditionally to rxJava2 Observable", "body": "<p>Having internet access is more than a simple condition, if you think about it it's more like a stream of booleans, sometimes it's true, sometimes it's false.</p>\n\n<p>What you want is to create an Observable that fires true when an internet connection becomes available.\nIf you're on Android, you can have a BehaviourSubject in a broadcast receiver</p>\n\n<pre><code>public class NetworkChangeReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(final Context context, final Intent intent) {\n        final ConnectivityManager connMgr = (ConnectivityManager) context\n                .getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        final android.net.NetworkInfo wifi = connMgr\n                .getNetworkInfo(ConnectivityManager.TYPE_WIFI);\n\n        final android.net.NetworkInfo mobile = connMgr\n                .getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n\n        boolean hasInternet = wifi.isAvailable() || mobile.isAvailable()\n        subject.onNext(hasInternet);\n    }\n}\n</code></pre>\n\n<p>You still need to somehow pass the subject to your broadcast receiver but it shouldn't be a big deal.</p>\n\n<p>Then, in order to subscribe to your observable only when this subject returns true, you can do it like so:</p>\n\n<pre><code> subject\n                .filter(hasInternet -&gt;\n                        hasInternet // Don't continue if hasInternet is false\n                )\n                .flatMap(o -&gt;\n                        yourObservable // At this point, return the observable cause we have internet\n                )\n                .subscribe() // subscribe\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "is_accepted": false, "score": 2, "last_activity_date": 1551857658, "last_edit_date": 1551857658, "creation_date": 1551784227, "answer_id": 55001468, "question_id": 54999302, "link": "https://stackoverflow.com/questions/54999302/subscribe-conditionally-to-rxjava2-observable/55001468#55001468", "title": "Subscribe Conditionally to rxJava2 Observable", "body": "<p>For now there is no such method is available in RxJava2. But if you are using kotlin you can do it using <strong>extension function</strong>. Declare it like below.</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.subscribeIf(predicate: () -&gt; Boolean) {\n    if (predicate()) {\n        subscribe()\n    }\n}\n</code></pre>\n\n<p>At the time of call :</p>\n\n<pre><code>anyObservable()\n    .subscribeIf { isConnectedToInternet() }\n</code></pre>\n\n<p><strong>Extra</strong></p>\n\n<p>In case if you want to handle fallback situation you can write your extension like below and make fallback lambda optional so that we can omit it if not required.</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.subscribeIf(predicate: () -&gt; Boolean, fallback: () -&gt; Unit = {}) {\n    if (predicate()) {\n        subscribe()\n    } else {\n        fallback()\n    }\n}\n</code></pre>\n\n<p>At the time of call:</p>\n\n<pre><code>anyObservable()\n    .subscribeIf(\n        predicate = { isConnectedToInternet() },\n        fallback = { showError() }\n    )\n}\n</code></pre>\n\n<p><strong>Note:</strong> You can also call it from Java, refer this link <a href=\"https://stackoverflow.com/a/28364983/3544839\">https://stackoverflow.com/a/28364983/3544839</a></p>\n"}], "owner": {"reputation": 147, "user_id": 8918451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25482223395dbd53c0aa84a4f5e944c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nari", "link": "https://stackoverflow.com/users/8918451/nari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551857658, "creation_date": 1551777587, "question_id": 54999302, "link": "https://stackoverflow.com/questions/54999302/subscribe-conditionally-to-rxjava2-observable", "title": "Subscribe Conditionally to rxJava2 Observable", "body": "<p>I have a rxJava2 Observable to which I want to subscribe conditionally.\nThe scenario  i will make a network call and the <code>subscribe()</code> is called only when the device is connected to network.I want to do something like below</p>\n\n<pre><code>     observable. \n     subsribeWhenConditionIsMet(\n\n   if (connected to internet) {\n      mPresentation.showNetworkError();\n      return;\n    }\n\n   subscribe();\n  }\n)\n\n</code></pre>\n\n<p>Any suggestions on how to do this? Any better approaches available?</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "marker"], "comments": [{"owner": {"reputation": 381, "user_id": 10136855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5im86.jpg?s=128&g=1", "display_name": "ToraCode", "link": "https://stackoverflow.com/users/10136855/toracode"}, "edited": false, "score": 0, "creation_date": 1551777187, "post_id": 54998795, "comment_id": 96754004, "body": "Did you try <code>zIndex</code>? <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/CircleOptions.html#zIndex(float)\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>"}, {"owner": {"reputation": 145, "user_id": 9535858, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692146914156865/picture?type=large", "display_name": "Tobias", "link": "https://stackoverflow.com/users/9535858/tobias"}, "reply_to_user": {"reputation": 381, "user_id": 10136855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5im86.jpg?s=128&g=1", "display_name": "ToraCode", "link": "https://stackoverflow.com/users/10136855/toracode"}, "edited": false, "score": 0, "creation_date": 1551777968, "post_id": 54998795, "comment_id": 96754427, "body": "I dont think i t is possible to solve my problem by z-index. My problem is opacity of the overlaying parts (as you can see in the picture)"}, {"owner": {"reputation": 381, "user_id": 10136855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5im86.jpg?s=128&g=1", "display_name": "ToraCode", "link": "https://stackoverflow.com/users/10136855/toracode"}, "edited": false, "score": 0, "creation_date": 1551778875, "post_id": 54998795, "comment_id": 96754951, "body": "I know the below question is in another language but hope this help you. <a href=\"https://stackoverflow.com/questions/23154254/google-map-multiple-overlay-no-cumulative-opacity\" title=\"google map multiple overlay no cumulative opacity\">stackoverflow.com/questions/23154254/&hellip;</a>"}, {"owner": {"reputation": 145, "user_id": 9535858, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692146914156865/picture?type=large", "display_name": "Tobias", "link": "https://stackoverflow.com/users/9535858/tobias"}, "reply_to_user": {"reputation": 381, "user_id": 10136855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5im86.jpg?s=128&g=1", "display_name": "ToraCode", "link": "https://stackoverflow.com/users/10136855/toracode"}, "edited": false, "score": 0, "creation_date": 1551779915, "post_id": 54998795, "comment_id": 96755604, "body": "polygone is different in android maps"}, {"owner": {"reputation": 7514, "user_id": 4128945, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/U1QZS.jpg?s=128&g=1", "display_name": "Bhargav", "link": "https://stackoverflow.com/users/4128945/bhargav"}, "reply_to_user": {"reputation": 381, "user_id": 10136855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5im86.jpg?s=128&g=1", "display_name": "ToraCode", "link": "https://stackoverflow.com/users/10136855/toracode"}, "edited": false, "score": 0, "creation_date": 1551779932, "post_id": 54998795, "comment_id": 96755615, "body": "@ToraCode the android sdk polygon does not have the strokeOpacity function."}, {"owner": {"reputation": 4328, "user_id": 6759241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6142c6522e970d8de69ec8add2ae1214?s=128&d=identicon&r=PG&f=1", "display_name": "greeble31", "link": "https://stackoverflow.com/users/6759241/greeble31"}, "edited": false, "score": 0, "creation_date": 1551840253, "post_id": 54998795, "comment_id": 96783809, "body": "With <code>addCircle()</code>? Probably not. If I were you I&#39;d hack something together using a <code>GroundOverlay</code>. That is, prepare a <code>Bitmap</code> in advance that&#39;s composed the way you want, and use it to cover the whole map."}], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 3165947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF3Q0.png?s=128&g=1", "display_name": "ShellDude", "link": "https://stackoverflow.com/users/3165947/shelldude"}, "is_accepted": false, "score": 0, "last_activity_date": 1586398266, "creation_date": 1586398266, "answer_id": 61112877, "question_id": 54998795, "link": "https://stackoverflow.com/questions/54998795/android-google-map-markers-circles-multiple-overlay-no-cumulative-opacity/61112877#61112877", "title": "Android google map markers circles (multiple overlay no cumulative opacity)", "body": "<p>I solved this by setting zindex to 1:</p>\n\n<pre><code>final CircleOptions options = new CircleOptions();\noptions.center(new LatLng(geofence.getCenter().getLatitude(), geofence.getCenter().getLongitude()));\noptions.radius(geofence.maxDistance().getValue());\noptions.strokeColor(Color.RED);\noptions.strokePattern(Collections.singletonList(new Dot()));\noptions.zIndex(1f);\n\ngeofenceCircle = googleMap.addCircle(options);\n</code></pre>\n\n<p>I have my own tile provider and for some reason zindex of 0 didn't work.</p>\n\n<p>According to Google:</p>\n\n<blockquote>\n  <p>Z-Index The order in which this tile overlay is drawn with respect to\n  other overlays (including GroundOverlays, TileOverlays, Polylines, and\n  Polygons but not Markers). An overlay with a larger z-index is drawn\n  over overlays with smaller z-indices. The order of overlays with the\n  same z-index is arbitrary. The default zIndex is 0.</p>\n</blockquote>\n"}], "owner": {"reputation": 145, "user_id": 9535858, "user_type": "registered", "profile_image": "https://graph.facebook.com/1692146914156865/picture?type=large", "display_name": "Tobias", "link": "https://stackoverflow.com/users/9535858/tobias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1586398266, "creation_date": 1551775955, "last_edit_date": 1551776336, "question_id": 54998795, "link": "https://stackoverflow.com/questions/54998795/android-google-map-markers-circles-multiple-overlay-no-cumulative-opacity", "title": "Android google map markers circles (multiple overlay no cumulative opacity)", "body": "<p>i am trying to add multiple markers, which in some  situations can appear near to each others. I am trying to add circle around them \ncode of adding circles</p>\n\n<pre><code>points.forEach { point -&gt;\n        googleMap.addCircle(\n            CircleOptions()\n                .center(point.location)\n                .radius(10.toDouble())\n                .strokeWidth(1f)\n                .strokeColor(Color.RED)\n                .fillColor(Color.argb(60, 255, 0, 0))\n        )\n    }\n</code></pre>\n\n<p>LEFT : is what i get with my code ______________ RIGHT : this is what i need\n<a href=\"https://i.stack.imgur.com/NSD1A.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NSD1A.png</a>\nIs it even possible in android ?</p>\n"}, {"tags": ["spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11152710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c8yfAxShOcE/AAAAAAAAAAI/AAAAAAAAAQY/9z_T-0VVnk4/photo.jpg?sz=128", "display_name": "withham", "link": "https://stackoverflow.com/users/11152710/withham"}, "edited": false, "score": 0, "creation_date": 1551836065, "post_id": 54999314, "comment_id": 96782836, "body": "I heard that @Value uses reflection, can <code>val</code> be changed to reflection? ref) <a href=\"https://stackoverflow.com/questions/17319122/how-exactly-does-spring-inject-properties-when-annotating-with-value\" title=\"how exactly does spring inject properties when annotating with value\">stackoverflow.com/questions/17319122/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 1, "last_activity_date": 1551777614, "creation_date": 1551777614, "answer_id": 54999314, "question_id": 54998418, "link": "https://stackoverflow.com/questions/54998418/kotlin-spring-boot-value-annotation-process/54999314#54999314", "title": "Kotlin Spring boot @Value annotation process", "body": "<p>Short answer: Spring is magical!</p>\n\n<p>For a Kotlin property, <code>val</code> doesn't necessarily mean that the property is constant.\u00a0 (It's not an exact equivalent of Java <code>final</code> here.)\u00a0 It simply means that there's a <code>get()</code> method but no <code>set()</code> method.</p>\n\n<p>That leaves open the possibility for the value to change some other way.\u00a0 (For example, the property could have a custom getter which returned different values.)</p>\n\n<p>I'm not sure quite how Spring works its magic; it may be able to set the property's backing field directly, or it may create a hidden subclass which can.\u00a0 In any case, it's perfectly capable of setting <code>val</code> properties.\u00a0 (You can also see this in Hibernate.)</p>\n"}], "owner": {"reputation": 5, "user_id": 11152710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c8yfAxShOcE/AAAAAAAAAAI/AAAAAAAAAQY/9z_T-0VVnk4/photo.jpg?sz=128", "display_name": "withham", "link": "https://stackoverflow.com/users/11152710/withham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1386, "favorite_count": 0, "accepted_answer_id": 54999314, "answer_count": 1, "score": 0, "last_activity_date": 1551777614, "creation_date": 1551774668, "question_id": 54998418, "link": "https://stackoverflow.com/questions/54998418/kotlin-spring-boot-value-annotation-process", "title": "Kotlin Spring boot @Value annotation process", "body": "<pre><code>@Value(\"\\${datasource.host}\")\nprivate val host: String = \"\"\n</code></pre>\n\n<p>I wrote the following code in KOTLIN and it worked fine.</p>\n\n<p>I don't understand how the <code>host</code> was injected into the <code>host</code>. \nIn my knowledge, the value should not be injected because the <code>host</code> variable is val.</p>\n\n<p>How does this code work?</p>\n"}, {"tags": ["kotlin", "enums"], "comments": [{"owner": {"reputation": 1705, "user_id": 6834831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BfjAm.jpg?s=128&g=1", "display_name": "ALFA", "link": "https://stackoverflow.com/users/6834831/alfa"}, "edited": false, "score": 2, "creation_date": 1551774226, "post_id": 54998238, "comment_id": 96752439, "body": "In the same documentation you mentioned it&#39;s specified that since Kotlin 1.1, it&#39;s possible to access the constants in an enum class in a generic way, using the <code>enumValues&lt;T&gt;()</code> and <code>enumValueOf&lt;T&gt;()</code> functions. <code>EnumClass.values()</code> is still used and has the same operational meaning, read above the <code>enumValues()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 11, "last_activity_date": 1551774443, "creation_date": 1551774443, "answer_id": 54998374, "question_id": 54998238, "link": "https://stackoverflow.com/questions/54998238/difference-between-enum-values-and-enumvalues-in-kotlin/54998374#54998374", "title": "Difference between Enum.values() and enumValues() in kotlin", "body": "<p>The problem with <code>values()</code> is that it only exists on each concrete enum class, and you can't call it on a generic enum to get its values, which is quite useful in some cases. Taking just the simplest example of wanting to access all values in a <code>String</code>, <code>enumValues</code> lets you write a function like this:</p>\n\n<pre><code>inline fun &lt;reified T: Enum&lt;T&gt;&gt; getEnumValuesString(): String {\n    // could call RGB.values(), but not T.values()\n    // even with the generic constraint and reified generics\n\n    // this works, however\n    return enumValues&lt;T&gt;().joinToString()\n}\n</code></pre>\n\n<p>Which can then be called with any enum class you've defined:</p>\n\n<pre><code>getEnumValuesString&lt;RGB&gt;()\n</code></pre>\n"}], "owner": {"reputation": 1289, "user_id": 6686126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIaui.jpg?s=128&g=1", "display_name": "galcyurio", "link": "https://stackoverflow.com/users/6686126/galcyurio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 0, "accepted_answer_id": 54998374, "answer_count": 1, "score": 7, "last_activity_date": 1551774443, "creation_date": 1551773947, "question_id": 54998238, "link": "https://stackoverflow.com/questions/54998238/difference-between-enum-values-and-enumvalues-in-kotlin", "title": "Difference between Enum.values() and enumValues() in kotlin", "body": "<p>In the <a href=\"https://kotlinlang.org/docs/reference/enum-classes.html#working-with-enum-constants\" rel=\"noreferrer\">official document</a>, I found <code>enumValues()</code> function.</p>\n\n<p>I used <code>enumValues()</code> function, but I cannot find difference.</p>\n\n<pre><code>enum class RGB {\n    RED, GREEN, BLUE\n}\n\nRGB.values().joinToString { it.name } // RED, GREEN, BLUE\nenumValues&lt;RGB&gt;().joinToString { it.name } // RED, GREEN, BLUE\n</code></pre>\n\n<p>What difference between <code>enumValues()</code> and <code>Enum.values()</code>?</p>\n\n<p>Is it a function for platforms other than JVM? Or are there other use cases?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "edited": false, "score": 0, "creation_date": 1551817799, "post_id": 55003518, "comment_id": 96776881, "body": "Unfortunately, this approach doesn&#39;t work. I still have another instance of viewModel when making split screen, but I will have the same instance of vm when turn splitscreen off"}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1551791081, "creation_date": 1551791081, "answer_id": 55003518, "question_id": 54997950, "link": "https://stackoverflow.com/questions/54997950/activity-recreates-viewmodel-after-splitscreen/55003518#55003518", "title": "Activity recreates viewModel after splitscreen", "body": "<p>Indeed you should not set your <code>ViewModel</code> in <code>onCreate()</code>.</p>\n\n<p>You could set it right away or using a lazy.</p>\n\n<pre><code>private val viewModel: MyViewModel by lazy {\n  ViewModelProviders.of(this, viewModelFactory).get(MyViewModel::class.java)\n}\n</code></pre>\n\n<p>That, directly as one of your Activity's members.</p>\n"}], "owner": {"reputation": 587, "user_id": 10490583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b1e73ca2aa6d3d621d41ed1c6a7c7ec?s=128&d=identicon&r=PG&f=1", "display_name": "Strangelove", "link": "https://stackoverflow.com/users/10490583/strangelove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551791081, "creation_date": 1551772830, "question_id": 54997950, "link": "https://stackoverflow.com/questions/54997950/activity-recreates-viewmodel-after-splitscreen", "title": "Activity recreates viewModel after splitscreen", "body": "<p>I have an Activity, in which I'm providing view throw ViewModelFactory</p>\n\n<p>ViewModelFactory</p>\n\n<pre><code>@Singleton\nclass ViewModelFactory @Inject constructor(private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        var creator: Provider&lt;out ViewModel&gt;? = creators.get(modelClass)\n        if (creator == null) {\n            for (entry in creators.entries) {\n                if (modelClass.isAssignableFrom(entry.key)) {\n                    creator = entry.value\n                    break\n                }\n            }\n        }\n        if (creator == null) {\n            throw IllegalArgumentException(\"unknown model class $modelClass\")\n        }\n        try {\n            return creator.get() as T\n        } catch (e: Exception) {\n            Log.d(\"ERRORR\", e.toString())\n            throw RuntimeException(e)\n        }\n\n    }\n}\n</code></pre>\n\n<p>Activity</p>\n\n<pre><code>    class MyActivity: AppCompatActivity(), Injectable, HasSupportFragmentInjector {\n        @Inject\n        lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n\n    lateinit var viewModel: MyViewModel\n\n        @Inject\n        lateinit var viewModelFactory: ViewModelFactory\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n\n            viewModel = ViewModelProviders.of(this, viewModelFactory).get(MyViewModel::class.java)\n            val binding: MyLayoutBinding= DataBindingUtil.setContentView(this, R.layout.my_layout)\n        }\n}\n</code></pre>\n\n<p>All works just fine, but when I'm trying to go to splitscreen, my activity passes me in on create new instance of my ViewModel. But when I'm closing splitscreen and going to normal mode, my activity returns previous exam of my ViewModel. Where can be a problem?</p>\n\n<pre><code>@Module\nabstract class ActivityModule {\n\n    @Binds\n    abstract fun activity(activity: MainActivity): Activity\n\n    @Binds\n    abstract fun bindViewModelFactory(factory: MyViewModelFactory): ViewModelProvider.Factory\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(MainViewModel::class)\n    abstract fun MyViewModel(mainViewModel: MyViewModel): ViewModel\n\n\n\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "edited": false, "score": 0, "creation_date": 1551769959, "post_id": 54996863, "comment_id": 96750575, "body": "I think this is not possible as <code>foo</code> has <code>in</code> semantics. This only works if you can change <code>AbsClass&lt;T&gt;</code> to <code>AbsClass&lt;out T&gt;</code>"}, {"owner": {"reputation": 35158, "user_id": 395202, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c422b640dd62b019c125836b1059e231?s=128&d=identicon&r=PG", "display_name": "Adrian Shum", "link": "https://stackoverflow.com/users/395202/adrian-shum"}, "edited": false, "score": 0, "creation_date": 1551773392, "post_id": 54996863, "comment_id": 96752076, "body": "Not familiar with Kotlin, but I believe generics in Kotlin is similar to what in Java, which is not covariant.  i.e. <code>Foo&lt;Derived&gt;</code> is-not-a <code>Foo&lt;Parent&gt;</code>.  So you cannot assign a <code>AbsClass&lt;MyModel&gt;</code> instance to a <code>AbsClass&lt;Any&gt;</code> reference."}, {"owner": {"reputation": 502, "user_id": 6157844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZyUx.jpg?s=128&g=1", "display_name": "functionaldude", "link": "https://stackoverflow.com/users/6157844/functionaldude"}, "edited": false, "score": 0, "creation_date": 1551800041, "post_id": 54996863, "comment_id": 96767819, "body": "Actually generics in Kotlin <b>are</b> covariant, you can read more about that <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 5, "last_activity_date": 1552076333, "last_edit_date": 1552076333, "creation_date": 1551777705, "answer_id": 54999340, "question_id": 54996863, "link": "https://stackoverflow.com/questions/54996863/how-to-avoid-type-mismatch-error-with-kotlin-generic/54999340#54999340", "title": "How to avoid type mismatch error with kotlin generic?", "body": "<p>You should use:</p>\n\n<pre><code>val myClass: AbsClass&lt;out Any&gt; = MyClass()` or `val myClass: AbsClass&lt;in Nothing&gt; = MyClass()\n</code></pre>\n\n<p>The <code>out</code> keyword means you want any subtype could be assigned to supertype. <code>MyModel</code> can by assigned to Any, so it's ok.</p>\n\n<p>The <code>in</code> keyword means you expect any supertype could be assigned to subtype (in our case Nothing), so you can use your <code>MyModel</code> because it is the supertype of <code>Nothing</code>.</p>\n\n<p>This way, without providing any information of expected type (you can specify, like <code>AbsClass&lt;T : MyAbstractModel&gt;</code>), in my opinion, there is really few possibilities without casting or reflection.</p>\n\n<p>It's type variance and it's one of the most difficult ideas in OOP. More you can read here:\n <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html#variance</a></p>\n"}], "owner": {"reputation": 1801, "user_id": 4348662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4Tes.jpg?s=128&g=1", "display_name": "Ethan Choi", "link": "https://stackoverflow.com/users/4348662/ethan-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 54999340, "answer_count": 1, "score": 0, "last_activity_date": 1552076333, "creation_date": 1551768260, "question_id": 54996863, "link": "https://stackoverflow.com/questions/54996863/how-to-avoid-type-mismatch-error-with-kotlin-generic", "title": "How to avoid type mismatch error with kotlin generic?", "body": "<h3>Code snippet</h3>\n\n<pre><code>fun main() {\n    val myClass : AbsClass&lt;Any&gt; = MyClass()\n    // Error - type mismatch\n\n    val myClass : AbsClass&lt;*&gt; = MyClass() \n    // Not Error, but parameter of 'foo' is 'Nothing'\n\n    val myClass : AbsClass&lt;Any&gt; = MyClass() as AbsClass&lt;Any&gt; \n    // It's correct works with unchecked cast warning and unnecessary casting code.\n\n    myClass.foo(MyModel())\n}\n\nclass MyClass() : AbsClass&lt;MyModel&gt;() {\n}\n\nabstract class AbsClass&lt;T&gt; {\n    fun foo(value:T){}\n}\n\ndata class MyModel(val number:Int = 0)\n</code></pre>\n\n<h3>Question</h3>\n\n<p>I want writing code as <code>val myClass : AbsClass&lt;Any&gt; = MyClass()</code> but, it shows type mismatch error. How to solve this problem(avoid type casting code<code>as AbsClass&lt;Any&gt;</code>)?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 315, "user_id": 10097275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1f7b0b7c248ac62b0f6cfbed321fb22?s=128&d=identicon&r=PG&f=1", "display_name": "nik", "link": "https://stackoverflow.com/users/10097275/nik"}, "edited": false, "score": 0, "creation_date": 1551767997, "post_id": 54996743, "comment_id": 96749737, "body": "try using <code>this</code> instead of <code>applicationContext</code>"}, {"owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "edited": false, "score": 0, "creation_date": 1551769399, "post_id": 54996743, "comment_id": 96750309, "body": "Are you calling super in the onCreate methods of children activities?"}, {"owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "edited": false, "score": 0, "creation_date": 1551770991, "post_id": 54996743, "comment_id": 96751043, "body": "Try declaring the property like this and removing the initialisation from your onCreate: val applicationController by lazy { ApplicationController.getInstance(this)}"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1551798338, "post_id": 54996743, "comment_id": 96766713, "body": "Why would you take screenshots of your IDE and posting images of <i>code</i> here? Please use the code formatter and copy-paste it."}, {"owner": {"reputation": 3, "user_id": 11152177, "user_type": "registered", "profile_image": "https://graph.facebook.com/2186302341391983/picture?type=large", "display_name": "thovor", "link": "https://stackoverflow.com/users/11152177/thovor"}, "edited": false, "score": 0, "creation_date": 1551851132, "post_id": 54996743, "comment_id": 96786507, "body": "thanks for the info shkschneider - will do it next time :)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11152177, "user_type": "registered", "profile_image": "https://graph.facebook.com/2186302341391983/picture?type=large", "display_name": "thovor", "link": "https://stackoverflow.com/users/11152177/thovor"}, "edited": false, "score": 0, "creation_date": 1551851339, "post_id": 54998770, "comment_id": 96786589, "body": "Thank you very much - it does work now :) Can you explain a bit further why this is happening?"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 3, "user_id": 11152177, "user_type": "registered", "profile_image": "https://graph.facebook.com/2186302341391983/picture?type=large", "display_name": "thovor", "link": "https://stackoverflow.com/users/11152177/thovor"}, "edited": false, "score": 0, "creation_date": 1551857267, "post_id": 54998770, "comment_id": 96788961, "body": "@thovor Please see the <code>explanation</code> section in my answer."}], "tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 4, "last_activity_date": 1551857222, "last_edit_date": 1551857222, "creation_date": 1551775859, "answer_id": 54998770, "question_id": 54996743, "link": "https://stackoverflow.com/questions/54996743/uninitialized-exception-while-initializing-late-init-property/54998770#54998770", "title": "Uninitialized exception while initializing &quot;late init&quot; property", "body": "<p>Because you override wrong method in <code>BaseActivity</code>, that why your app crash.</p>\n\n<p><strong>Solution:</strong> Change your code to</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n\n    lateinit var applicationController: ApplicationController\n\n    // [IMPORTANT] Remove or comment-out this method\n//    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n//        super.onCreate(savedInstanceState, persistentState)\n//        applicationController = ApplicationController.getInstance(applicationContext)\n//    }\n\n    // Override this method\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        applicationController = ApplicationController.getInstance(applicationContext)\n    }\n}\n</code></pre>\n\n<p><strong>Explanation:</strong> This section will explain why the code is not working.</p>\n\n<blockquote>\n  <p><strong>kotlin.UninitializedPropertyAccessException</strong></p>\n  \n  <p>This is a sub-class of RuntimeException, the app will throw this\n  exception when you access an object by calling properties or methods\n  on its own before initializing.</p>\n</blockquote>\n\n<p>When <code>LoginScreen</code> activity is created, Android will call its <code>onCreate</code> method.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.activity_login_screen)\n\n    emailMatcher = applicationController.getEmailMatcher()\n    passwordMatcher = applicationController.getPasswordMatcher()\n}\n</code></pre>\n\n<p>The first line <code>super.onCreate(savedInstanceState)</code> will call <code>onCreate</code> method of its parent, in this case <code>onCreate (bundle)</code> in <code>BaseActivity</code> activity will be called. </p>\n\n<p>Unfortunately, in <code>BaseActivity</code> activity, you override and put the initial code for <code>applicationController</code> in another method <code>onCreate(bundle, persistentState)</code> which quite similar to <code>onCreate (bundle)</code>. The difference between them is number of params. As a result, at this time <code>applicationController</code> is still not initialized.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n    super.onCreate(savedInstanceState, persistentState)\n    applicationController = ApplicationController.getInstance(applicationContext)\n}\n</code></pre>\n\n<p>Until the app reach this line </p>\n\n<pre><code>emailMatcher = applicationController.getEmailMatcher()\n</code></pre>\n\n<p>Because you call <code>getEmailMatcher</code> method on an uninitialized object <code>applicationController</code>, so the app throws <code>kotlin.UninitializedPropertyAccessException</code> and make your app crash.</p>\n"}], "owner": {"reputation": 3, "user_id": 11152177, "user_type": "registered", "profile_image": "https://graph.facebook.com/2186302341391983/picture?type=large", "display_name": "thovor", "link": "https://stackoverflow.com/users/11152177/thovor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 54998770, "answer_count": 1, "score": 0, "last_activity_date": 1551857222, "creation_date": 1551767686, "last_edit_date": 1551776142, "question_id": 54996743, "link": "https://stackoverflow.com/questions/54996743/uninitialized-exception-while-initializing-late-init-property", "title": "Uninitialized exception while initializing &quot;late init&quot; property", "body": "<p>I am not really sure if my case is just not possible with late init properties. But let me just ask :)</p>\n\n<p>I have an applicationController which is used in nearly every activity - so i created a <a href=\"https://i.stack.imgur.com/pSNo7.png\" rel=\"nofollow noreferrer\">BaseActivity</a></p>\n\n<p>The problem now is that when I want to get dependencies from the application controller in the <a href=\"https://i.stack.imgur.com/MOwr4.png\" rel=\"nofollow noreferrer\">child activity</a>,  I get an <a href=\"https://i.stack.imgur.com/jrUnh.png\" rel=\"nofollow noreferrer\">Uninitialized Exception</a>.</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "is_accepted": true, "score": 4, "last_activity_date": 1551766459, "creation_date": 1551766459, "answer_id": 54996491, "question_id": 54996073, "link": "https://stackoverflow.com/questions/54996073/intellij-idea-disable-kotlin-file-expansion-in-project-explorer/54996491#54996491", "title": "Intellij Idea: Disable kotlin file expansion in project explorer", "body": "<p>In the menu lies in the top-right corner of <code>Project</code> view, untick <code>Show members</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/B5F9h.png\" alt=\"\"></p>\n"}], "owner": {"reputation": 679, "user_id": 5058786, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/56e59189114141f096977c669aa8dce9?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Wadhwa", "link": "https://stackoverflow.com/users/5058786/mayank-wadhwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 54996491, "answer_count": 1, "score": 1, "last_activity_date": 1564575067, "creation_date": 1551764278, "last_edit_date": 1564575067, "question_id": 54996073, "link": "https://stackoverflow.com/questions/54996073/intellij-idea-disable-kotlin-file-expansion-in-project-explorer", "title": "Intellij Idea: Disable kotlin file expansion in project explorer", "body": "<p>How can i disable expanding of kotlin and kotlin script file in intellij idea. its start happening in the version 2018.3 and i cannot find the option to disable it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sor2A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sor2A.png\" alt=\"intellij\"></a></p>\n"}, {"tags": ["arrays", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 221, "user_id": 4693278, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/PRYJb.jpg?s=128&g=1", "display_name": "Avinash Kumar", "link": "https://stackoverflow.com/users/4693278/avinash-kumar"}, "edited": false, "score": 0, "creation_date": 1551767277, "post_id": 54995939, "comment_id": 96749489, "body": "No you can&#39;t, You should parse it manually. If you&#39;re getting different types at same key is wrong development, whether it yours or 3rd party."}, {"owner": {"reputation": 31251, "user_id": 51591, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/TsvFC.jpg?s=128&g=1", "display_name": "Micha\u0142 Ziober", "link": "https://stackoverflow.com/users/51591/micha%c5%82-ziober"}, "edited": false, "score": 0, "creation_date": 1551769802, "post_id": 54995939, "comment_id": 96750506, "body": "Take a look on <a href=\"https://github.com/google/gson/issues/506\" rel=\"nofollow noreferrer\">deserializing object instead a collection with a single object into a collection</a> and <a href=\"https://stackoverflow.com/questions/43868120/gson-deserialize-objects-that-can-be-a-single-object-or-an-array\">Gson: deserialize objects that can be a single object or an array</a>"}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 1, "creation_date": 1551797574, "post_id": 54995939, "comment_id": 96766206, "body": "@Avinesh Kumar its not a question of right or wrong.  This is the data and I have to deal with it.  So my question is how do I deal with it, not how do I get the 3rd party to change their data output, which I have no influence or control over.  Sometimes you just have to work with bad data."}], "answers": [{"tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 2, "last_activity_date": 1551771419, "last_edit_date": 1551771419, "creation_date": 1551767599, "answer_id": 54996723, "question_id": 54995939, "link": "https://stackoverflow.com/questions/54995939/data-class-either-object-or-array/54996723#54996723", "title": "Data Class Either Object or Array", "body": "<p>You have to write a custom <code>JsonDeserializer</code>. Both or your class should have the same parent class. Then, write a custom <code>JsonDeserializer</code> for this specific type.</p>\n\n<p>For example:</p>\n\n<pre><code>sealed class GameParent() {\n    data class Game(val name: String): GameParent()\n    data class GameList(val games: List&lt;Game&gt;): GameParent()\n}\n\nclass GameDeserializer : JsonDeserializer&lt;GameParent&gt; {\n    override fun deserialize(json: JsonElement?, typeOfT: Type?, context: JsonDeserializationContext?): GameParent {\n        with(json) {\n           if(isJsonObject) {\n             // parse as Game\n           }\n\n           if(isJsonArray) {\n             // parse as GameList\n           }\n        }\n    }\n}\n</code></pre>\n\n<p>Then, in your <code>GsonBuilder</code> you have to register this custom <code>JsonDeserializer</code>:\n<code>gsonBuilder.registerTypeAdapter(GameParent::class.java, GameDeserializer());</code></p>\n\n<p>Now, whenever your <code>Gson</code> expect <code>GameParent</code> will use registered deserializer.</p>\n"}, {"comments": [{"owner": {"reputation": 5807, "user_id": 5047398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tzLkS.jpg?s=128&g=1", "display_name": "Yasin Ka&#231;maz", "link": "https://stackoverflow.com/users/5047398/yasin-ka%c3%a7maz"}, "edited": false, "score": 0, "creation_date": 1551771290, "post_id": 54996915, "comment_id": 96751173, "body": "IMHO registering a <code>TypeAdapter</code> would be more promising than manipulating the response."}, {"owner": {"reputation": 434, "user_id": 3046335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2990d40e03680147a39b8d65ca86a11?s=128&d=identicon&r=PG&f=1", "display_name": "DEV-Jacol", "link": "https://stackoverflow.com/users/3046335/dev-jacol"}, "reply_to_user": {"reputation": 5807, "user_id": 5047398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tzLkS.jpg?s=128&g=1", "display_name": "Yasin Ka&#231;maz", "link": "https://stackoverflow.com/users/5047398/yasin-ka%c3%a7maz"}, "edited": false, "score": 0, "creation_date": 1551778082, "post_id": 54996915, "comment_id": 96754513, "body": "@YasinKa&#231;maz I  add TypeAdapter  for me, both solutions are ugly"}, {"owner": {"reputation": 434, "user_id": 3046335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2990d40e03680147a39b8d65ca86a11?s=128&d=identicon&r=PG&f=1", "display_name": "DEV-Jacol", "link": "https://stackoverflow.com/users/3046335/dev-jacol"}, "reply_to_user": {"reputation": 5807, "user_id": 5047398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tzLkS.jpg?s=128&g=1", "display_name": "Yasin Ka&#231;maz", "link": "https://stackoverflow.com/users/5047398/yasin-ka%c3%a7maz"}, "edited": false, "score": 0, "creation_date": 1551784040, "post_id": 54996915, "comment_id": 96758098, "body": "@YasinKa&#231;maz I created version 1 and vesrion 3  vesrion 3  what do you think about this solution"}, {"owner": {"reputation": 5807, "user_id": 5047398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tzLkS.jpg?s=128&g=1", "display_name": "Yasin Ka&#231;maz", "link": "https://stackoverflow.com/users/5047398/yasin-ka%c3%a7maz"}, "edited": false, "score": 0, "creation_date": 1551786101, "post_id": 54996915, "comment_id": 96759291, "body": "type token would be good if <code>&quot;game&quot;</code> is a response object. But yes we can use type token too."}, {"owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 1, "creation_date": 1551804977, "post_id": 54996915, "comment_id": 96770768, "body": "I like the third one as it creates the array of its an object but also doesn&#39;t make me write a different class for the data."}, {"owner": {"reputation": 434, "user_id": 3046335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2990d40e03680147a39b8d65ca86a11?s=128&d=identicon&r=PG&f=1", "display_name": "DEV-Jacol", "link": "https://stackoverflow.com/users/3046335/dev-jacol"}, "reply_to_user": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "edited": false, "score": 0, "creation_date": 1552046533, "post_id": 54996915, "comment_id": 96873611, "body": "@JPM Thank you! version 3 is winner"}], "tags": [], "owner": {"reputation": 434, "user_id": 3046335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2990d40e03680147a39b8d65ca86a11?s=128&d=identicon&r=PG&f=1", "display_name": "DEV-Jacol", "link": "https://stackoverflow.com/users/3046335/dev-jacol"}, "is_accepted": true, "score": 1, "last_activity_date": 1551783993, "last_edit_date": 1551783993, "creation_date": 1551768483, "answer_id": 54996915, "question_id": 54995939, "link": "https://stackoverflow.com/questions/54995939/data-class-either-object-or-array/54996915#54996915", "title": "Data Class Either Object or Array", "body": "<p>my suggestions for solving your task</p>\n\n<p>my solution if name is object, replace it with arrays</p>\n\n<pre><code>data class Game(var name:List&lt;NameItem&gt; )\ndata class NameItem(var title: String, var id: Int)\n\n\n\nfun main(args: Array&lt;String&gt;) {\n    var json = \"{\\\"game\\\":{\\\"name\\\":[{\\\"title\\\":\\\"game 1\\\",\\\"id\\\":1},{\\\"title\\\":\\\"game 2\\\",\\\"id\\\":2}]}}\"\n    println(useJsonParser(json))    //Game(name=[NameItem(title=game 1, id=1), NameItem(title=game 2, id=2)])\n    json = \"{\\\"game\\\":{\\\"name\\\":[{\\\"title\\\":\\\"game 1\\\",\\\"id\\\":1}]}}\"\n    println(useJsonParser(json))    //Game(name=[NameItem(title=game 1, id=1), NameItem(title=game 2, id=2)])\n    json = \"{\\\"game\\\":{\\\"name\\\":{\\\"title\\\":\\\"game 1\\\",\\\"id\\\":1}}}\" // not array\n    println(useJsonParser(json))    //Game(name=[NameItem(title=game 1, id=1)])\n}\n</code></pre>\n\n<p>version 1 -- created and registry adapter <a href=\"https://stackoverflow.com/a/54996723/3046335\">link</a> @Cililing</p>\n\n<pre><code>fun useJsonParser(json: String): Game? {\n    val gson = GsonBuilder().registerTypeAdapter(Game::class.java, GameDeserializer()).create()\n    return gson.fromJson(json, Game::class.java)\n}\n\nclass GameDeserializer : JsonDeserializer&lt;Game?&gt; {\n    override fun deserialize(json: JsonElement?, typeOfT: Type?, context: JsonDeserializationContext?): Game? {\n        val gameJson = json!!.asJsonObject.get(\"game\")\n        if (gameJson.isJsonObject) {\n            val jsonName = gameJson.asJsonObject[\"name\"]\n            val list = if (jsonName.isJsonObject) {\n                arrayOf(Gson().fromJson(jsonName, NameItem::class.java))\n            } else {\n                val fromJson = Gson().fromJson(jsonName, Array&lt;NameItem&gt;::class.java)\n                fromJson\n            }.toList()\n            return Game(list)\n        }\n        return null\n    }\n}\n</code></pre>\n\n<p>version 2 -- manipulating the response</p>\n\n<pre><code>fun useJsonParser(json:String):Game?{\n    val jsonObject = JsonParser().parse(json).asJsonObject.get(\"game\")\n    if(jsonObject.asJsonObject[\"name\"].isJsonObject){\n        val jsonName = jsonObject.asJsonObject[\"name\"].asJsonObject\n        val array = JsonArray()\n        array.add(jsonName)\n        jsonObject.asJsonObject.add(\"name\", array) // rewrite origin JSON\n    }\n\n    return Gson().fromJson(jsonObject, Game::class.java)\n\n}\n</code></pre>\n\n<p>vesrion 3 -- add adapter TypeToken>()</p>\n\n<pre><code>fun useJsonParser(json: String): Game? {\n    val type = object : TypeToken&lt;MutableList&lt;NameItem&gt;&gt;() {}.type\n    val gson = GsonBuilder().registerTypeAdapter(type, NameItemDeserializer()).create()\n    return gson.fromJson(JsonParser().parse(json).asJsonObject.get(\"game\"), Game::class.java)\n}\n\nclass NameItemDeserializer : JsonDeserializer&lt;List&lt;NameItem&gt;?&gt; {\n    override fun deserialize(json: JsonElement, type: Type, context: JsonDeserializationContext?): List&lt;NameItem&gt;? {\n        with(json){\n            return if(isJsonObject){\n                arrayListOf(Gson().fromJson(this,NameItem::class.java))\n            }else{\n                Gson().fromJson(this,Array&lt;NameItem&gt;::class.java).toList()\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8280, "user_id": 346309, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DzDIR.jpg?s=128&g=1", "display_name": "JPM", "link": "https://stackoverflow.com/users/346309/jpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 54996915, "answer_count": 2, "score": 0, "last_activity_date": 1551783993, "creation_date": 1551763397, "question_id": 54995939, "link": "https://stackoverflow.com/questions/54995939/data-class-either-object-or-array", "title": "Data Class Either Object or Array", "body": "<p>I have a Kotlin data class that has an arg that can either be an Object or Array.  Is there a way to de-serialize a string into this class and not care if not an Array but somehow get it into an array of one?</p>\n\n<pre><code>data class Game(var name:List&lt;NameItem&gt;)\ndata class NameItem(var title: String, var id: Int)\n</code></pre>\n\n<p>data can come back as both ways a single object or an array of objects( I have no control over the data as it is 3rd party data.</p>\n\n<pre><code>jsonString = \"{\"game\":{\"name\":{\"title\":\"GameName\",\"id\":22}}}\"\njsonString = \"{\"game\":{\"name\":[{\"title\":\"GameName\",\"id\":22},{\"title\":\"GameName2\",\"id\":23}]}}\"\n\ngame: Game? = Gson().fromJson(jsonString  Game::class.java)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-spinner", "android-xml"], "comments": [{"owner": {"reputation": 431, "user_id": 7551432, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1581660608514874/picture?type=large", "display_name": "Bipin Gawand", "link": "https://stackoverflow.com/users/7551432/bipin-gawand"}, "edited": false, "score": 0, "creation_date": 1551766602, "post_id": 54995769, "comment_id": 96749263, "body": "show your adapter code"}, {"owner": {"reputation": 73, "user_id": 6905119, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9368c7f99682a6cdebb748e339406b31?s=128&d=identicon&r=PG&f=1", "display_name": "karthi keyan", "link": "https://stackoverflow.com/users/6905119/karthi-keyan"}, "reply_to_user": {"reputation": 431, "user_id": 7551432, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1581660608514874/picture?type=large", "display_name": "Bipin Gawand", "link": "https://stackoverflow.com/users/7551432/bipin-gawand"}, "edited": false, "score": 0, "creation_date": 1551777887, "post_id": 54995769, "comment_id": 96754377, "body": "@Bipin can u please check now"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1551792909, "post_id": 54995769, "comment_id": 96763331, "body": "Unclear what you&#39;re asking. Try to rephrase and provide more context and code."}, {"owner": {"reputation": 73, "user_id": 6905119, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9368c7f99682a6cdebb748e339406b31?s=128&d=identicon&r=PG&f=1", "display_name": "karthi keyan", "link": "https://stackoverflow.com/users/6905119/karthi-keyan"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 2, "creation_date": 1551850868, "post_id": 54995769, "comment_id": 96786423, "body": "@shkschneider  I have a spinner with a Long list of items. What I noticed is that whenever I try to scroll the spinner items slowly, it suddenly takes me back to the top of the spinner selection. I&#39;m just using a standard Spinner with a simple ArrayAdapter. It&#39;s not really an issue, but it&#39;s kinda annoying that whenever a user would scroll slowly, the selection resets all the way to the top. You can fling the list, but if you scroll slowly, keeping your finger on the screen, it scrolls back up to the top of the list."}, {"owner": {"reputation": 655, "user_id": 5340404, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z1SCTw-w5w0/AAAAAAAAAAI/AAAAAAAAABA/g7R39ES6xkQ/photo.jpg?sz=128", "display_name": "Hoa Nguyen", "link": "https://stackoverflow.com/users/5340404/hoa-nguyen"}, "edited": false, "score": 0, "creation_date": 1552877396, "post_id": 54995769, "comment_id": 97163878, "body": "I&#39;m facing same issue. I guess the issue come with <i>androidx</i>. But still not find the way..."}, {"owner": {"reputation": 1740, "user_id": 1059261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3d1c49af467b9e581bcab57bbdc18cea?s=128&d=identicon&r=PG", "display_name": "mike_x_", "link": "https://stackoverflow.com/users/1059261/mike-x"}, "edited": false, "score": 0, "creation_date": 1552994669, "post_id": 54995769, "comment_id": 97212303, "body": "Any progress on this? i have the same problem. Same code before android x did not do this."}, {"owner": {"reputation": 73, "user_id": 6905119, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9368c7f99682a6cdebb748e339406b31?s=128&d=identicon&r=PG&f=1", "display_name": "karthi keyan", "link": "https://stackoverflow.com/users/6905119/karthi-keyan"}, "reply_to_user": {"reputation": 1740, "user_id": 1059261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3d1c49af467b9e581bcab57bbdc18cea?s=128&d=identicon&r=PG", "display_name": "mike_x_", "link": "https://stackoverflow.com/users/1059261/mike-x"}, "edited": false, "score": 1, "creation_date": 1553169437, "post_id": 54995769, "comment_id": 97289548, "body": "@mike_x_ see the answer below"}, {"owner": {"reputation": 73, "user_id": 6905119, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9368c7f99682a6cdebb748e339406b31?s=128&d=identicon&r=PG&f=1", "display_name": "karthi keyan", "link": "https://stackoverflow.com/users/6905119/karthi-keyan"}, "reply_to_user": {"reputation": 655, "user_id": 5340404, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z1SCTw-w5w0/AAAAAAAAAAI/AAAAAAAAABA/g7R39ES6xkQ/photo.jpg?sz=128", "display_name": "Hoa Nguyen", "link": "https://stackoverflow.com/users/5340404/hoa-nguyen"}, "edited": false, "score": 1, "creation_date": 1553169458, "post_id": 54995769, "comment_id": 97289561, "body": "@HoaNguyen below answer solved my issuse"}, {"owner": {"reputation": 655, "user_id": 5340404, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Z1SCTw-w5w0/AAAAAAAAAAI/AAAAAAAAABA/g7R39ES6xkQ/photo.jpg?sz=128", "display_name": "Hoa Nguyen", "link": "https://stackoverflow.com/users/5340404/hoa-nguyen"}, "edited": false, "score": 0, "creation_date": 1553222530, "post_id": 54995769, "comment_id": 97313127, "body": "@karthikeyan thanks, it&#39;s my answer in <a href=\"https://stackoverflow.com/questions/48328592/spinner-dropdown-list-is-jumping-while-scrolling/55214793#55214793\" title=\"spinner dropdown list is jumping while scrolling\">stackoverflow.com/questions/48328592/&hellip;</a>. Missing update status for your toppic"}], "answers": [{"comments": [{"owner": {"reputation": 3866, "user_id": 1664556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/301ced2f5f11eb00948a8ed4b18303ec?s=128&d=identicon&r=PG", "display_name": "rockgecko", "link": "https://stackoverflow.com/users/1664556/rockgecko"}, "edited": false, "score": 0, "creation_date": 1559797522, "post_id": 55258210, "comment_id": 99533146, "body": "Same here. Because I&#39;m <code>minSdkVersion 21</code> anyway, I just created a new class <code>NoSupportSpinner extends Spinner</code>, to avoid the broken <code>AppCompatSpinner</code>"}], "tags": [], "owner": {"reputation": 73, "user_id": 6905119, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9368c7f99682a6cdebb748e339406b31?s=128&d=identicon&r=PG&f=1", "display_name": "karthi keyan", "link": "https://stackoverflow.com/users/6905119/karthi-keyan"}, "is_accepted": false, "score": 4, "last_activity_date": 1553076569, "creation_date": 1553076569, "answer_id": 55258210, "question_id": 54995769, "link": "https://stackoverflow.com/questions/54995769/android-spinner-jumps-to-previous-selected-positions/55258210#55258210", "title": "Android Spinner jumps to previous selected positions", "body": "<p>Finally it is worked for me</p>\n\n<p>Problem is anroidx update libs</p>\n\n<p>Resolve by revert version appcompat from \"alpha02/alpha03\" back to \"alpha01\"</p>\n\n<p>implementation 'androidx.appcompat:appcompat:1.1.0-alpha01'</p>\n\n<p>or better</p>\n\n<p>implementation 'androidx.appcompat:appcompat:1.0.2' -> for more stable</p>\n"}], "owner": {"reputation": 73, "user_id": 6905119, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9368c7f99682a6cdebb748e339406b31?s=128&d=identicon&r=PG&f=1", "display_name": "karthi keyan", "link": "https://stackoverflow.com/users/6905119/karthi-keyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1553076569, "creation_date": 1551762485, "last_edit_date": 1551777847, "question_id": 54995769, "link": "https://stackoverflow.com/questions/54995769/android-spinner-jumps-to-previous-selected-positions", "title": "Android Spinner jumps to previous selected positions", "body": "<p>I am using AppCompatSpinner to show the list of states. Initially, I saved the first position item. Then After if I click the spinner and try to scroll slowly that time it goes to the previous position. if I scroll little fast it's working. During slow scroll and long press on the spinner, list item creates a problem.Can anybody know how to resolve this issue? here is my spinner.</p>\n\n<pre><code>   &lt;androidx.appcompat.widget.AppCompatSpinner\n                    android:id=\"@+id/stateSpinner\"\n                    style=\"@style/Widget.AppCompat.Spinner.Underlined\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:theme=\"@style/SpinnerStyle\"/&gt;\n\n\n       val adapter = ArrayAdapter(\n        context,\n        R.layout.spinner_item, stateList\n    )\n\n    adapter.setDropDownViewResource(R.layout.spinner_dropdown_item)\n    stateSpinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n        override fun onItemSelected(adapterView: AdapterView&lt;*&gt;, view: View, i: Int, l: Long) {\n            viewModelOffice.officeSelectedState.set(stateList.get(i))\n\n        }\n\n        override fun onNothingSelected(adapterView: AdapterView&lt;*&gt;) {\n        }\n    }\n    stateSpinner.adapter = adapter\n    stateSpinner.setSelection(selectedPosition)\n}\n</code></pre>\n\n<p>In theme, I am just setting the colors.minimum version of the app is 21. Any Help will be Appreciated.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1551764408, "post_id": 54995388, "comment_id": 96748473, "body": "If the list is empty do you want to keep applicationHolder uninitialized or do you want to throw an exception?"}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "reply_to_user": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1551765132, "post_id": 54995388, "comment_id": 96748755, "body": "Since that part is library code, I think it&#39;s better to leave uninitialized it than to throw an exception."}, {"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 1, "creation_date": 1551767552, "post_id": 54995388, "comment_id": 96749583, "body": "Then you should use the second variant because that will keep the variable uninitialized if the list is empty. If you were to add <code>?: throw NullPointerException(&quot;Not initialized&quot;)</code> to the first variant than it would compile and it would be equivalent to the third variant(both throwing an exception when the list is empty). I&#39;m not sure how you would make it better."}, {"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "reply_to_user": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1551767653, "post_id": 54995388, "comment_id": 96749613, "body": "Thanks for the answer, I will try to think more about it according to the purpose."}], "answers": [{"comments": [{"owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "edited": false, "score": 0, "creation_date": 1551772980, "post_id": 54997871, "comment_id": 96751914, "body": "As you say, using lateinit in this situation (if the variable can be null) is not appropriate. So I changed <code>applicationHolder</code> to the nullable variable and implement checking logic when trying to use this variable. Thanks for the clear answer!"}], "tags": [], "owner": {"reputation": 2283, "user_id": 8159708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b814e69bb60fb1eac83b061ff2b7337d?s=128&d=identicon&r=PG", "display_name": "TomH", "link": "https://stackoverflow.com/users/8159708/tomh"}, "is_accepted": true, "score": 1, "last_activity_date": 1551772491, "creation_date": 1551772491, "answer_id": 54997871, "question_id": 54995388, "link": "https://stackoverflow.com/questions/54995388/bind-lateinit-modifier-with-condition-in-kotlin/54997871#54997871", "title": "bind &#39;lateinit&#39; modifier with condition in Kotlin", "body": "<p>Why are you using lateinit over a nullable type here?</p>\n\n<p>This strikes warning bells to me : </p>\n\n<blockquote>\n  <p>it's too dangerous because the list can be empty.</p>\n</blockquote>\n\n<p>If you try to access a lateinit object without initialising it, your application will crash. Lateinit should be use if it will definitely be initialised.</p>\n\n<p>I would change the code to what you were avoiding : <code>var something: Something? = null</code></p>\n\n<p>Then use the firstOrNull() method. The kotlin null safety type system will enforce you deal with nulls, leading to safe code! </p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1551779862, "creation_date": 1551779862, "answer_id": 55000041, "question_id": 54995388, "link": "https://stackoverflow.com/questions/54995388/bind-lateinit-modifier-with-condition-in-kotlin/55000041#55000041", "title": "bind &#39;lateinit&#39; modifier with condition in Kotlin", "body": "<p>It <em>is</em> possible to check whether a <code>lateinit</code> has been initialised, by calling <code>this::applicationHolder.isInitialized</code>.\u00a0 (This was introduced in Kotlin 1.2; info <a href=\"http://kotlinlang.org/docs/reference/whatsnew12.html#checking-whether-a-lateinit-var-is-initialized\" rel=\"nofollow noreferrer\">here</a>.)</p>\n\n<p>However, as per @user8159708's answer, it still smells a bit.\u00a0 Reworking to make the property nullable will make it slightly more awkward to access, but much safer.</p>\n"}], "owner": {"reputation": 968, "user_id": 1882568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GuL7r.jpg?s=128&g=1", "display_name": "WindSekirun", "link": "https://stackoverflow.com/users/1882568/windsekirun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 54997871, "answer_count": 2, "score": 1, "last_activity_date": 1551779862, "creation_date": 1551759998, "question_id": 54995388, "link": "https://stackoverflow.com/questions/54995388/bind-lateinit-modifier-with-condition-in-kotlin", "title": "bind &#39;lateinit&#39; modifier with condition in Kotlin", "body": "<p>In Kotlin, we have <code>lateinit</code> modifier to lazy variable initialization instead of <code>var something: Something? = null</code>. </p>\n\n<p>In my situation, I have a list of the <code>Element</code>, and I want to <strong>assign it to the <code>lateinit</code> variable when I having the first object.</strong></p>\n\n<p>So, I tried several methods to achieve this.</p>\n\n<p><strong>First</strong>, using 'firstOrNull()' methods</p>\n\n<pre><code>lateinit var applicationHolder: ApplicationHolder\n\napplicationHolder = env.getElementsAnnotatedWith(InjectApplication::class.java)\n        .map {\n            ApplicationHolder(it, (it as TypeElement).asClassName(), it.simpleName.toString()).apply {\n                val component = it.getAnnotation(InjectApplication::class.java).getComponent()\n                componentClass = component\n            }\n        }.firstOrNull()\n</code></pre>\n\n<p>The first solution was failed because <code>applicationHolder</code> doesn't accept the Nullable type of ApplicationHolder. (Type inference failed. Expected type mismatch: inferred type is ApplicationHolder? but ApplicationHolder was expected.)</p>\n\n<p>Although I can use <code>first</code> instead of <code>firstOrNull</code> to achieve this, it's too dangerous because the list can be empty.</p>\n\n<p><strong>Second</strong>, using if-condition</p>\n\n<pre><code>val item = env.getElementsAnnotatedWith(InjectApplication::class.java)\n        .map {\n            ApplicationHolder(it, (it as TypeElement).asClassName(), it.simpleName.toString()).apply {\n                val component = it.getAnnotation(InjectApplication::class.java).getComponent()\n                componentClass = component\n            }\n        }.firstOrNull()\n\nif (item != null) {\n    applicationHolder = item\n}\n</code></pre>\n\n<p>The second solution was succeeded to compile and working well.</p>\n\n<p><strong>Third</strong>, using backing properties (Actually, this solution don't use lateinit modifier)</p>\n\n<pre><code>val applicationHolder: ApplicationHolder\n    get() {\n        return _applicationHolder ?: throw NullPointerException(\"Not initialized\")\n    }\n\nprivate var _applicationHolder: ApplicationHolder? = null\n\n_applicationHolder = env.getElementsAnnotatedWith(InjectApplication::class.java)\n        .map {\n            ApplicationHolder(it, (it as TypeElement).asClassName(), it.simpleName.toString()).apply {\n                val component = it.getAnnotation(InjectApplication::class.java).getComponent()\n                componentClass = component\n            }\n        }.firstOrNull()\n</code></pre>\n\n<p>The third solution was succeeded to compile and working well.</p>\n\n<p>In short, my question is as follows.</p>\n\n<ol>\n<li>Is there a better solution to achieve my goal than these solutions?</li>\n<li>If another solution doesn't exist, which is a clean or better solution? I can use the second or third solution but I have no confidence which is clean or better.</li>\n</ol>\n"}, {"tags": ["java", "kotlin", "rabbitmq", "mqtt", "spring-amqp"], "answers": [{"comments": [{"owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "edited": false, "score": 0, "creation_date": 1551853782, "post_id": 55004456, "comment_id": 96787519, "body": "<a href=\"https://stackoverflow.com/q/55016865/206466\">stackoverflow.com/q/55016865/206466</a> follow up question, based on new error ;)"}], "tags": [], "owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "is_accepted": false, "score": 2, "last_activity_date": 1551794119, "creation_date": 1551794119, "answer_id": 55004456, "question_id": 54995261, "link": "https://stackoverflow.com/questions/54995261/how-can-i-transmit-via-mqtt-and-receive-on-amqp-with-rabbitmq-and-spring-amqp/55004456#55004456", "title": "How can I transmit via MQTT and Receive on AMQP with RabbitMQ and Spring-AMQP", "body": "<p>The MQTT plugin publishes to the <code>amq.topic</code> with the mqtt topic name as the routing key.</p>\n\n<p>On the consumer side, it binds an auto-delete queue to that exchange, with the routing key; in the following example, the queue is named <code>mqtt-subscription-mqttConsumerqos1</code>.</p>\n\n<p>In order to receive MQTT messages over AMQP, you need to bind your own queue to the exchange. Here is an example:</p>\n\n<pre><code>@SpringBootApplication\npublic class So54995261Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So54995261Application.class, args);\n    }\n\n    @Bean\n    @ServiceActivator(inputChannel = \"toMQTT\")\n    public MqttPahoMessageHandler sendIt(MqttPahoClientFactory clientFactory) {\n        MqttPahoMessageHandler handler = new MqttPahoMessageHandler(\"clientId\", clientFactory);\n        handler.setAsync(true);\n        handler.setDefaultTopic(\"so54995261\");\n        return handler;\n    }\n\n    @Bean\n    public MqttPahoClientFactory mqttClientFactory() {\n        DefaultMqttPahoClientFactory factory = new DefaultMqttPahoClientFactory();\n        MqttConnectOptions options = new MqttConnectOptions();\n        options.setServerURIs(new String[] { \"tcp://localhost:1883\" });\n        options.setUserName(\"guest\");\n        options.setPassword(\"guest\".toCharArray());\n        factory.setConnectionOptions(options);\n        return factory;\n    }\n\n    @Bean\n    public MessageProducerSupport mqttInbound() {\n        MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(\"mqttConsumer\",\n                mqttClientFactory(), \"so54995261\");\n        adapter.setCompletionTimeout(5000);\n        return adapter;\n    }\n\n    @Bean\n    public IntegrationFlow flow() {\n        return IntegrationFlows.from(mqttInbound())\n                .handle(System.out::println)\n                .get();\n    }\n\n    @RabbitListener(queues = \"so54995261\")\n    public void listen(byte[] in) {\n        System.out.println(new String(in));\n    }\n\n    @Bean\n    public Queue queue() {\n        return new Queue(\"so54995261\");\n    }\n\n    @Bean\n    public Binding binding() {\n        return new Binding(\"so54995261\", DestinationType.QUEUE, \"amq.topic\", \"so54995261\", null);\n    }\n\n    @Bean\n    public ApplicationRunner runner(MessageChannel toMQTT) {\n        return args -&gt; toMQTT.send(new GenericMessage&lt;&gt;(\"foo\"));\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 13761, "user_id": 206466, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e990c7cdac81e570939c4d5b17303b42?s=128&d=identicon&r=PG", "display_name": "xenoterracide", "link": "https://stackoverflow.com/users/206466/xenoterracide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551794119, "creation_date": 1551759123, "question_id": 54995261, "link": "https://stackoverflow.com/questions/54995261/how-can-i-transmit-via-mqtt-and-receive-on-amqp-with-rabbitmq-and-spring-amqp", "title": "How can I transmit via MQTT and Receive on AMQP with RabbitMQ and Spring-AMQP", "body": "<p>So I've gotten MQTT -> MQTT and AMQP -> AMQP to work; the translation of MQTT -> AMQP doesn't seem to be working somewhere though. Here's my test, it passes if my \"listener\" is also in MQTT using paho, but this rabbitmq implementation doesn't.</p>\n\n<pre><code>@SpringBootTest\n@SpringJUnitConfig\ninternal open class ProvisioningTest @Autowired constructor(\n    private val mqtt: IMqttAsyncClient,\n    private val mapper: ObjectMapper\n) {\n\n    @Test\n    fun provision() {\n        val entity = Foley(\n            rfid = UUID.randomUUID().toString(),\n        )\n\n        val called = AtomicBoolean(false)\n        mqtt.subscribe(\"foley/created\", 1) { _, _ -&gt; called.set(true) }\n\n        mqtt.publish(\"foley/new\", MqttMessage(mapper.writeValueAsBytes(entity)))\n\n        Awaitility.await().atMost(10, TimeUnit.SECONDS).untilTrue(called)\n    }\n}\n</code></pre>\n\n<p>this is the listener that publishes the saved entity to the other queue; it never gets called when I publish to MQTT.</p>\n\n<pre><code>@Service\nopen class Provisioning(private val repo: FoleyRepo) {\n    private val log: Logger = LogManager.getLogger(this::class.java)\n\n    @SendTo(\"foley.created\")\n    @RabbitListener(queuesToDeclare = [Queue(\"foley.new\")] )\n    open fun listen(entity: Foley): Foley {\n        log.trace(\"saving: {}\", entity)\n        val save = repo.save(entity)\n        log.debug(\"saved: {}\", save)\n        return save\n    }\n\n}\n</code></pre>\n\n<p>the entirety of my messaging configuration</p>\n\n<pre><code>@Configuration\nopen class MessagingConfig {\n\n    @Bean\n    open fun client(\n        @Value(\"tcp://\\${mqtt.client.host:localhost}:\\${mqtt.client.port:1883}\") uri: String,\n        @Value(\"\\${mqtt.client.user:#{null}}\") user: String?,\n        @Value(\"\\${mqtt.client.pass:#{null}}\") pass: CharArray?\n    ): IMqttAsyncClient {\n\n        val connOpt = MqttConnectOptions()\n        user?.let { connOpt.userName = it }\n        pass?.let { connOpt.password = it }\n        connOpt.isCleanSession = false\n        connOpt.isAutomaticReconnect = true\n        val client = MqttAsyncClient(uri, MqttAsyncClient.generateClientId(), MemoryPersistence())\n        client.connect(connOpt)\n        return client\n    }\n\n    @Bean\n    open fun messageConverter( om: ObjectMapper): MessageConverter {\n        return Jackson2JsonMessageConverter(om)\n    }\n\n    @Bean\n    open fun builder(): Jackson2ObjectMapperBuilderCustomizer {\n        return Jackson2ObjectMapperBuilderCustomizer {\n            it.modules(JavaTimeModule(), KotlinModule())\n        }\n    }\n}\n</code></pre>\n\n<p>using the <a href=\"https://hub.docker.com/_/rabbitmq\" rel=\"nofollow noreferrer\">official docker rabbitmq</a> image with mqtt enabled.</p>\n\n<p>What do I need to correct to make this work?</p>\n"}, {"tags": ["android", "kotlin", "broadcastreceiver"], "comments": [{"owner": {"reputation": 2714, "user_id": 850347, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QZUgz.gif?s=128&g=1", "display_name": "Stanley Ko", "link": "https://stackoverflow.com/users/850347/stanley-ko"}, "edited": false, "score": 0, "creation_date": 1551762480, "post_id": 54995192, "comment_id": 96747891, "body": "Do you really send only one broadcast at a time? Is there any other code that send the same broadcast? If you do not have such code, it&#39;s a good idea to use a unique ID for each message."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 796107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187305471d7b0fdaca6bd53470f15ee8?s=128&d=identicon&r=PG", "display_name": "Patrick McCullagh", "link": "https://stackoverflow.com/users/796107/patrick-mccullagh"}, "is_accepted": false, "score": 0, "last_activity_date": 1552003365, "creation_date": 1552003365, "answer_id": 55054773, "question_id": 54995192, "link": "https://stackoverflow.com/questions/54995192/multiple-messages-received-by-localbroadcast-receiver-kotlin/55054773#55054773", "title": "Multiple messages received by LocalBroadcast Receiver Kotlin", "body": "<p>You were absolutely correct. I was sending the same broadcast more than once. I discovered it inside a runnable designed to fade out the music.</p>\n"}], "owner": {"reputation": 31, "user_id": 796107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187305471d7b0fdaca6bd53470f15ee8?s=128&d=identicon&r=PG", "display_name": "Patrick McCullagh", "link": "https://stackoverflow.com/users/796107/patrick-mccullagh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552003365, "creation_date": 1551758399, "question_id": 54995192, "link": "https://stackoverflow.com/questions/54995192/multiple-messages-received-by-localbroadcast-receiver-kotlin", "title": "Multiple messages received by LocalBroadcast Receiver Kotlin", "body": "<p>I have read many answers to the problem of receiving the same massage repeatedly by a Broadcast receiver. The solutions is are mostly saying register the receiver in OnResume an unregister in OnPause. This is not possible in my code. I have UI (media player of sorts) and a bound Musicservive.. all is working well except for this multiple message received problem.  When a media file finishes the Musicservice sends a message \"Cue Completed\" the receiver is getting the message. I then need to determine if the next media needs to directly play or wait for a button press. I can get it to play the next without any problem,  However, if i want it not to play the next piece of music just keeps getting the same messaage and forwards till reaching the end . some code</p>\n\n<pre><code>        mp.setOnCompletionListener {\n\n\n                 if (loop &gt; 0 &amp;&amp; loopCount&lt;loop+1) {\n\n\n                     Toast.makeText(this, \"$loopCount of $loop loops\", Toast.LENGTH_LONG).show()\n                     getCurrentsoundPosition()\n                     runCue(position)\n                     Log.i(\"loopcount\", \"$loopCount \")\n                     loopCount++\n\n                 }else {\n                           if(trigger==\"Play-Next\" || trigger==\"Fade Play-Next\"){\n                            mpStatus = \"cue_completed\"\n                            sendMediaPlayerStatus()}else\n                           {mpStatus=\"Stopped\"\n                               sendMediaPlayerStatus()\n                           }\n\n                     Log.i(\"status after completion\", mpStatus)\n                     loopCount=0\n                 }\n         }\n</code></pre>\n\n<p>the above is in mymusicservice.</p>\n\n<p>The following is from my UI activity OnCreate</p>\n\n<pre><code>    val localBroadcastManager = LocalBroadcastManager.getInstance(this)\n    localBroadcastManager.registerReceiver(object : BroadcastReceiver() {\n        override fun onReceive(context: Context, intent: Intent) {\n\n            // try {\n\n            Log.i(\"FullScreenActivity \", \"Service got intent with action: ${intent.action} and status mp ${intent.getStringExtra(\"status\")}\")\n\n            mpStatus = intent.getStringExtra(\"status\")\n\n            when (mpStatus) {\n\n                \"cue_completed\" -&gt; {\n\n                    goToNext()\n                    tvStatus.clearAnimation()\n                    if ( AutoPlayNext == true) {\n\n\n                        btnPlayCue.callOnClick()\n                    }else{\n\n                      myMusicService?.stopCue()\n                    }\n\n                }\n                \"PAUSED\" -&gt; tvStatus.text = \"PAUSED\"\n                \"IS_PLAYING\" -&gt; {tvStatus.text = \"PLAYING\"\n                    updateSeekbar()}\n                \"Fading Out\" -&gt; tvStatus.text = \"FADING OUT\"\n            }\n\n\n\n\n        }\n\n    }, IntentFilter(BoundMusicService.ACTION_MEDIAPLAYER_STATUS))\n</code></pre>\n\n<p>When I run the code this is an example from the logcat</p>\n\n<p>2019-03-04 16:53:43.111 1194-1235/? I/ActivityManager: Displayed com.ktdevelopement.nigelmccullagh.qsoundkt/com.ktdevelopment.nigelmccullagh.qsoundkt.FullScreenActivity: +225ms\n2019-03-04 16:53:46.369 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp IS_PLAYING\n2019-03-04 16:53:48.876 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Fading Out\n2019-03-04 16:53:51.791 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp cue_completed\n2019-03-04 16:53:52.238 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp IS_PLAYING\n2019-03-04 16:53:54.350 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Fading Out\n2019-03-04 16:53:54.490 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Fading Out\n2019-03-04 16:53:55.308 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Fading Out\n2019-03-04 16:53:55.503 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Fading Out\n2019-03-04 16:53:55.986 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp cue_completed\n2019-03-04 16:53:56.059 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp cue_completed\n2019-03-04 16:53:56.212 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp cue_completed\n2019-03-04 16:53:56.245 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp cue_completed\n2019-03-04 16:53:56.278 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Fading Out\n2019-03-04 16:53:56.279 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp IS_PLAYING\n2019-03-04 16:53:56.281 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp cue_completed\n2019-03-04 16:53:56.477 29716-29716/? I/FullScreenActivity: Service got intent with action: Media Player Status and status mp Stopped</p>\n\n<p>Its frustrating me the rest of my app is working fine, but I cannot for the life me sort this out. I have been working on it for 3 days.</p>\n\n<p>any help would be appreciated.</p>\n"}, {"tags": ["kotlin", "kotlin-delegate"], "comments": [{"owner": {"reputation": 2365, "user_id": 4774054, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LRst1.jpg?s=128&g=1", "display_name": "Frank Neblung", "link": "https://stackoverflow.com/users/4774054/frank-neblung"}, "edited": false, "score": 0, "creation_date": 1551782582, "post_id": 54995104, "comment_id": 96757180, "body": "Why did you not test it yourself before asking?"}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 5912362, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sj-kCEGku2s/AAAAAAAAAAI/AAAAAAAAAnM/8VZ4mbsxBFk/photo.jpg?sz=128", "display_name": "Gleb", "link": "https://stackoverflow.com/users/5912362/gleb"}, "is_accepted": true, "score": 1, "last_activity_date": 1551771582, "creation_date": 1551771582, "answer_id": 54997649, "question_id": 54995104, "link": "https://stackoverflow.com/questions/54995104/nested-property-delegation-in-kotlin/54997649#54997649", "title": "Nested property delegation in Kotlin", "body": "<p>No problem, you can do this. It works:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val user = User(mapOf(\"name\" to OtherType(1)))\n    println(user)\n}\n\ndata class User(val map: Map&lt;String?, Any?&gt;) {\n    val name: String by map\n    val otherType: OtherType by map\n}\n\ndata class OtherType(val something:Int) {}\n</code></pre>\n\n<p>You can delegate any type you want.</p>\n"}], "owner": {"reputation": 11, "user_id": 11151367, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R2cL8hxNkxs/AAAAAAAAAAI/AAAAAAAAAIQ/yu6Hfj55oKY/photo.jpg?sz=128", "display_name": "\u5929\u6d77\u30eb\u30ea", "link": "https://stackoverflow.com/users/11151367/%e5%a4%a9%e6%b5%b7%e3%83%ab%e3%83%aa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 54997649, "answer_count": 1, "score": -1, "last_activity_date": 1551771582, "creation_date": 1551757558, "last_edit_date": 1551766364, "question_id": 54995104, "link": "https://stackoverflow.com/questions/54995104/nested-property-delegation-in-kotlin", "title": "Nested property delegation in Kotlin", "body": "<p>As mentioned in the official tutorial, we can <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">store properties in a Map</a> and delegate a class to it:</p>\n\n<pre><code>class User(val map: Map&lt;String, Any?&gt;) {\n    val name: String by map\n    val age: Int     by map\n}\n</code></pre>\n\n<p>However, sometimes we store non-trivial structures in a map, like another class (this is usual when working with complicated jsons). To better elaborate my idea, I came up with a pseudo-code like this:</p>\n\n<pre><code>class User(val map: Map&lt;String, Any?&gt;) {\n    val name: String by map\n    val otherType: OtherType by map\n}\n\nclass OtherType {}\n</code></pre>\n\n<p>Is it possible to delegate such nested structure?</p>\n"}, {"tags": ["java", "android", "kotlin", "static", "android-context"], "comments": [{"owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "edited": false, "score": 0, "creation_date": 1551756330, "post_id": 54994928, "comment_id": 96746558, "body": "Could you show all the related code?"}, {"owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "edited": false, "score": 0, "creation_date": 1551756492, "post_id": 54994928, "comment_id": 96746587, "body": "Post a code snippet with an example, and is never a good idea to keep the context into a static variable."}, {"owner": {"reputation": 2518, "user_id": 2920725, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x5H2X.jpg?s=128&g=1", "display_name": "Amad Yus", "link": "https://stackoverflow.com/users/2920725/amad-yus"}, "edited": false, "score": 0, "creation_date": 1551756544, "post_id": 54994928, "comment_id": 96746600, "body": "It is best if you can provide your code. For your information, it is not a good idea to make a context static as it can lead to memory leak."}, {"owner": {"reputation": 147, "user_id": 8918451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25482223395dbd53c0aa84a4f5e944c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nari", "link": "https://stackoverflow.com/users/8918451/nari"}, "edited": false, "score": 0, "creation_date": 1551759116, "post_id": 54994928, "comment_id": 96747095, "body": "updated the question with code"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 2, "creation_date": 1551759907, "post_id": 54994928, "comment_id": 96747241, "body": "Why don&#39;t just pass <code>Context</code> as method parameter that will be limit to the method scope ."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 8918451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25482223395dbd53c0aa84a4f5e944c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nari", "link": "https://stackoverflow.com/users/8918451/nari"}, "edited": false, "score": 0, "creation_date": 1551759184, "post_id": 54994987, "comment_id": 96747111, "body": "is it a good idea to use application context ?do it cause any side effects"}, {"owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "reply_to_user": {"reputation": 147, "user_id": 8918451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25482223395dbd53c0aa84a4f5e944c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nari", "link": "https://stackoverflow.com/users/8918451/nari"}, "edited": false, "score": 0, "creation_date": 1551762120, "post_id": 54994987, "comment_id": 96747804, "body": "This is one kind of approach and every application should have App class to initialize and control UI. There is nothing wrong &amp; why you think that it&#39;s may cause side effect? If you don&#39;t like just leave it, please don&#39;t put negative like."}, {"owner": {"reputation": 147, "user_id": 8918451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25482223395dbd53c0aa84a4f5e944c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nari", "link": "https://stackoverflow.com/users/8918451/nari"}, "edited": false, "score": 0, "creation_date": 1551762894, "post_id": 54994987, "comment_id": 96748004, "body": "I didn&#39;t put the negative like.\ud83d\ude11"}], "tags": [], "owner": {"reputation": 1863, "user_id": 3838901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b60dd0d6855072619355ca3b9e09e1?s=128&d=identicon&r=PG&f=1", "display_name": "Farid Haq", "link": "https://stackoverflow.com/users/3838901/farid-haq"}, "is_accepted": false, "score": -2, "last_activity_date": 1551763270, "last_edit_date": 1551763270, "creation_date": 1551756537, "answer_id": 54994987, "question_id": 54994928, "link": "https://stackoverflow.com/questions/54994928/can-an-android-context-inside-an-activity-be-static/54994987#54994987", "title": "Can an Android Context inside an activity be static?", "body": "<p>1) Create your App class which extend Application</p>\n\n<pre><code>private static Context context;\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    context = getApplicationContext();\n</code></pre>\n\n<p>2) Create getApplicationContext() method which return context </p>\n\n<pre><code>public static Context getApplicationContext() {\n  return context;\n}\n</code></pre>\n\n<p>3) Now you can get context anywhere in your class like</p>\n\n<pre><code>Context context = App.getContext().getApplicationContext();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1551760144, "creation_date": 1551760144, "answer_id": 54995409, "question_id": 54994928, "link": "https://stackoverflow.com/questions/54994928/can-an-android-context-inside-an-activity-be-static/54995409#54995409", "title": "Can an Android Context inside an activity be static?", "body": "<p>In Kotlin, you can achieve this by creating a class that extends Application and storing the application context in the companion object.</p>\n\n<p>Usually it will look similar to this:</p>\n\n<pre><code>class App : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        instance = this\n    }\n\n    companion object {\n        private var instance: App? = null\n        val context: Context?\n            get() = instance?.applicationContext\n    }\n}\n</code></pre>\n\n<p>And you can access the context anywhere via <code>App.context</code></p>\n\n<p>In regards to your concerns about storing a static context, if you were storing an activity or fragment context then you risk creating memory leaks, but since we're storing the application context which is tied to the lifecycle of the entire application, there won't be any issues with memory leaks.</p>\n\n<p>You may run into issues if you want to write testable code that depends on a static context, in which case I would recommend you pass the context into the function rather than access it directly.</p>\n"}, {"tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 3, "last_activity_date": 1551766213, "creation_date": 1551766213, "answer_id": 54996443, "question_id": 54994928, "link": "https://stackoverflow.com/questions/54994928/can-an-android-context-inside-an-activity-be-static/54996443#54996443", "title": "Can an Android Context inside an activity be static?", "body": "<blockquote>\n  <p>I am confused if I can make context static. Is there any side effects\n  to it?</p>\n</blockquote>\n\n<p>You can declare a context as static but it is not recommended in Android, because it might lead to a memory leak in your app. </p>\n\n<blockquote>\n  <p>is there any other way I can access my resources without using\n  context?</p>\n</blockquote>\n\n<p>No, you need a context instance to access resources in your app.</p>\n\n<p>Back to your case, the easiest way is passing a context as param of the method.</p>\n\n<pre><code>private static SpannableStringBuilder setTextColor(Context context, SpannableStringBuilder Text, int spanLength, boolean isSuggestion) {\n    int color = context.getResources().getColor(isSuggestion ? R.color.blur : R.color.red);\n\n    addressText.setSpan(new ForegroundColorSpan(color),\n            addressText.length() - 1 - spanLength,\n            addressText.length(),\n            Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n\n    return Text;\n}\n</code></pre>\n\n<p>Inside your activity, pass <code>this</code> as context when calling <code>setTextColor</code>, for example.</p>\n\n<pre><code>setTextColor(this, new SpannableStringBuilder(), 0, false); \n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 8918451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25482223395dbd53c0aa84a4f5e944c2?s=128&d=identicon&r=PG&f=1", "display_name": "Nari", "link": "https://stackoverflow.com/users/8918451/nari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 54996443, "answer_count": 3, "score": 0, "last_activity_date": 1551766213, "creation_date": 1551756035, "last_edit_date": 1551764074, "question_id": 54994928, "link": "https://stackoverflow.com/questions/54994928/can-an-android-context-inside-an-activity-be-static", "title": "Can an Android Context inside an activity be static?", "body": "<p>I have a static function in which I need to access my color resources. In order access color resources I need context variable which is static. I am confused if I can make context static. Is there any side effects to it? or, is there any other way I can access my resources without using context</p>\n\n<p>Here is the function</p>\n\n<pre><code> private static SpannableStringBuilder setTextColor(\n      SpannableStringBuilder Text, int spanLength, boolean isSuggestion) {\n    addressText.setSpan(\n        new ForegroundColorSpan(\n            context\n                .getResources()\n                .getColor(\n                    isSuggestion ? R.color.blur: R.color.red)),\n        addressText.length() - 1 - spanLength,\n        addressText.length(),\n        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\n    return Text;\n  } \n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-xml", "androidx"], "comments": [{"owner": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "edited": false, "score": 1, "creation_date": 1551754645, "post_id": 54994722, "comment_id": 96746214, "body": "Why not use fragment or bottomSheetDialogFragment."}, {"owner": {"reputation": 71, "user_id": 6443066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1765761893642901/picture?type=large", "display_name": "Abhishek Shankhadhar", "link": "https://stackoverflow.com/users/6443066/abhishek-shankhadhar"}, "reply_to_user": {"reputation": 1639, "user_id": 10511266, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o7sbDQHrPyo/AAAAAAAAAAI/AAAAAAAAAAc/cH8et1hnN-Q/photo.jpg?sz=128", "display_name": "Hussnain Haidar", "link": "https://stackoverflow.com/users/10511266/hussnain-haidar"}, "edited": false, "score": 0, "creation_date": 1551754799, "post_id": 54994722, "comment_id": 96746246, "body": "I don&#39;t want to use fragment because I want one more bottomsheet in this activity."}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1551760134, "post_id": 54994722, "comment_id": 96747283, "body": "To <code>Activity</code> to behave as <code>BottomSheet</code> you need to transition and Touch gesture . IMO this is not a good idea . instead of this you can have multiple BotoomSheets in Activity."}, {"owner": {"reputation": 434, "user_id": 4397653, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VBd7y-CxOQA/AAAAAAAAAAI/AAAAAAAAAE0/QBGdrrTPUqs/photo.jpg?sz=128", "display_name": "Hemendra Gangwar", "link": "https://stackoverflow.com/users/4397653/hemendra-gangwar"}, "edited": false, "score": 0, "creation_date": 1551765049, "post_id": 54994722, "comment_id": 96748719, "body": "I will suggest either use transitions and theme with activity or you can use BottomSheetDialog , if you do not want to use BottomSheetDialogFragment. <a href=\"https://developer.android.com/reference/android/support/design/widget/BottomSheetDialog\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/design/widge&zwnj;&#8203;t/&hellip;</a>"}], "owner": {"reputation": 71, "user_id": 6443066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1765761893642901/picture?type=large", "display_name": "Abhishek Shankhadhar", "link": "https://stackoverflow.com/users/6443066/abhishek-shankhadhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1551754885, "creation_date": 1551754339, "last_edit_date": 1551754885, "question_id": 54994722, "link": "https://stackoverflow.com/questions/54994722/activity-to-behave-as-bottomsheet", "title": "Activity to behave as bottomsheet", "body": "<p>I am implementing bottom sheet behavior in an activity. I don't want to implement the bottom sheet, instead I want my activity to behave as bottomsheet.<br><br>\nThere are articles which is saying to set theme in manifest file, but it is not working same as bottomsheet.<br><br>\nI also want the slide down feature and when I touch outside activity to be hidden.\nAny help would be appreciated.</p>\n"}, {"tags": ["android", "kotlin", "primary-key", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1551748659, "last_edit_date": 1551748659, "creation_date": 1551748318, "answer_id": 54994015, "question_id": 54993098, "link": "https://stackoverflow.com/questions/54993098/android-room-database-allways-start-with-primarykey-0-for-new-entrys/54994015#54994015", "title": "Android Room Database allways start with Primarykey 0 for new Entrys", "body": "<p><code>Room</code> does not support resetting the primary keys, which are <code>UNIQUE</code>. one option would be adding two further fields, which form a combined key:  eg. <code>sequence</code> (the number of the request) &amp; <code>coneId</code>, where <code>coneId</code> could start over at 0, with every new request/response. I've also once explained <a href=\"https://stackoverflow.com/a/53764393/549372\">here</a> how to reset an auto-incremental value, in case it has to be (but ordinary this is not recommend).</p>\n\n<p>as @Advice-Dog suggested yesterday, blue &amp; yellow should be properties of class <code>Cone</code>. can only confirm, that this would make sense, with high probability... unless there is a strict requirement, to store them in two separate tables.</p>\n"}], "owner": {"reputation": 414, "user_id": 11087216, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QfCCZHRqUcM/AAAAAAAAAAI/AAAAAAAAACo/b9jrw08KaX4/photo.jpg?sz=128", "display_name": "Strohhut", "link": "https://stackoverflow.com/users/11087216/strohhut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551748659, "creation_date": 1551741566, "question_id": 54993098, "link": "https://stackoverflow.com/questions/54993098/android-room-database-allways-start-with-primarykey-0-for-new-entrys", "title": "Android Room Database allways start with Primarykey 0 for new Entrys", "body": "<p>I get an array with a not specified number of BlueCones with different x and y Values, every 0.5s I receive new BlueCones that should Replace the old Cones in the \"blue_cone\" table how can I auto-generate Keys that always start with 0 for new Incoming Cones.</p>\n\n<pre><code>@Entity(tableName =\"blue_cones\")\ndata class BlueCone(\n\nval x: Double = 0.0,\nval y: Double = 0.0\n\n){\n@PrimaryKey(autoGenerate = true)\nvar blueId: Int = 0\n\n}\n</code></pre>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "edited": false, "score": 0, "creation_date": 1551740580, "post_id": 54992812, "comment_id": 96743103, "body": "The application never enter in the <code>onMapReady</code> I have added a breakpoint but never stop."}], "answers": [{"comments": [{"owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "edited": false, "score": 0, "creation_date": 1551740568, "post_id": 54992904, "comment_id": 96743095, "body": "I&#39;m passing the value, but its not working. The application never enter in the <code>onMapReady</code> I have added a breakpoint but never stop. @ahmed-jamal"}, {"owner": {"reputation": 186, "user_id": 11133438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S24ULybNxFA/AAAAAAAAAAI/AAAAAAAACWs/Ey1ZdqZz13s/photo.jpg?sz=128", "display_name": "Ahmed Jamal", "link": "https://stackoverflow.com/users/11133438/ahmed-jamal"}, "reply_to_user": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "edited": false, "score": 3, "creation_date": 1551740785, "post_id": 54992904, "comment_id": 96743182, "body": "try to use childSupportFragment manager instead of fragmentManager"}, {"owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "edited": false, "score": 1, "creation_date": 1551741811, "post_id": 54992904, "comment_id": 96743461, "body": "you are rigth, So I updated the code to <code>mapFragment = childFragmentManager.findFragmentById(R.id.fallasMap) as SupportMapFragment?</code> and its working :). Just update your answer to accept your answer as correct."}, {"owner": {"reputation": 357, "user_id": 10787285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uv6w0.jpg?s=128&g=1", "display_name": "Pooja", "link": "https://stackoverflow.com/users/10787285/pooja"}, "edited": false, "score": 0, "creation_date": 1602323546, "post_id": 54992904, "comment_id": 113688316, "body": "Using <code>childFragmentManager</code> instead of <code>fragmentManager</code> is working for me."}], "tags": [], "owner": {"reputation": 186, "user_id": 11133438, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-S24ULybNxFA/AAAAAAAAAAI/AAAAAAAACWs/Ey1ZdqZz13s/photo.jpg?sz=128", "display_name": "Ahmed Jamal", "link": "https://stackoverflow.com/users/11133438/ahmed-jamal"}, "is_accepted": false, "score": 3, "last_activity_date": 1551740305, "creation_date": 1551740305, "answer_id": 54992904, "question_id": 54992812, "link": "https://stackoverflow.com/questions/54992812/map-fragmentkotlin-onmapready-not-working/54992904#54992904", "title": "Map Fragment(Kotlin) onMapReady not working", "body": "<p>You shoud pass Value googleMap to mMap to InterAct with your markers </p>\n\n<pre><code>        override fun onMapReady(googleMap: GoogleMap?) {\n        mMap = googleMap \n       // Add a marker in Sydney and move the camera\n        val sydney = LatLng(-34.0, 151.0)\n        mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in  \n        Sydney\"))\n      mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n      }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "edited": false, "score": 0, "creation_date": 1551740875, "post_id": 54992973, "comment_id": 96743208, "body": "The marker will be always the same, so I don&#39;t need to edit the map ones is created. But the main problem is the application never enter in the onMapReady and I don&#39;t know why."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10522207"}, "reply_to_user": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "edited": false, "score": 0, "creation_date": 1551740981, "post_id": 54992973, "comment_id": 96743237, "body": "@gon250 <b>I don&#39;t need to edit the map ones is created</b>, so you need to use another way, <code>saveInstance</code> for example, because the current way is the problem."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10522207"}, "is_accepted": false, "score": 1, "last_activity_date": 1551741213, "last_edit_date": 1551741213, "creation_date": 1551740685, "answer_id": 54992973, "question_id": 54992812, "link": "https://stackoverflow.com/questions/54992812/map-fragmentkotlin-onmapready-not-working/54992973#54992973", "title": "Map Fragment(Kotlin) onMapReady not working", "body": "<p>It's not correct to share these variables globale in your case, You should remove them from the <code>companion object</code> and create a new instance each time you open fragment.</p>\n\n<p>When the <code>rootView != null</code> the <code>onMapReady</code> method won't called.</p>\n\n<p>So I suggesting to remove them from <code>companion object</code> and put them in <code>onCreateView</code> without the condition <code>if (rootView == null)</code>(remove the condition).</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 4693278, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/PRYJb.jpg?s=128&g=1", "display_name": "Avinash Kumar", "link": "https://stackoverflow.com/users/4693278/avinash-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1551769222, "creation_date": 1551769222, "answer_id": 54997088, "question_id": 54992812, "link": "https://stackoverflow.com/questions/54992812/map-fragmentkotlin-onmapready-not-working/54997088#54997088", "title": "Map Fragment(Kotlin) onMapReady not working", "body": "<blockquote>\n  <p>Use <code>supportFragmentManager</code> to find <code>SupportMapFragment</code></p>\n</blockquote>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    var rootView = inflater.inflate(R.layout.fragment_map, container, false)\n    mapFragment = supportFragmentManager?.findFragmentById(R.id.fallasMap) as SupportMapFragment?\n    mapFragment?.getMapAsync(this)\n\n    return rootView\n}\n</code></pre>\n\n<p>If you're not customizing you fragment then inside your XML file too</p>\n\n<pre><code>&lt;fragment\n     android:id=\"@+id/fallasMap\"\n     android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 14, "last_activity_date": 1551857249, "creation_date": 1551857249, "answer_id": 55017724, "question_id": 54992812, "link": "https://stackoverflow.com/questions/54992812/map-fragmentkotlin-onmapready-not-working/55017724#55017724", "title": "Map Fragment(Kotlin) onMapReady not working", "body": "<p>Your using the wrong fragment manager to access it. Since it's a fragment within a fragment, it's added to the <code>childFragmentManager</code>.</p>\n\n<pre><code>childFragmentManager.findFragmentById(R.id.fallasMap) as SupportMapFragment\n</code></pre>\n\n<p>Also use the <code>as?</code> cast operator instead of casting to the optional type. Or even do a normal cast, since you need the fragment to be correct and <code>null</code> would be a bug.</p>\n\n<p>Also don't store a static reference to the fragment if you don't clean it up properly.</p>\n"}, {"comments": [{"owner": {"reputation": 600, "user_id": 5229664, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-k-aFJOqggn8/AAAAAAAAAAI/AAAAAAAAAGE/RZ0-la_nyfI/photo.jpg?sz=128", "display_name": "Farbod Ahmadian", "link": "https://stackoverflow.com/users/5229664/farbod-ahmadian"}, "edited": false, "score": 0, "creation_date": 1593348451, "post_id": 62622232, "comment_id": 110742888, "body": "Please provide some detail for further information."}], "tags": [], "owner": {"reputation": 21, "user_id": 8812326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1593657567365483/picture?type=large", "display_name": "Fawzi Nofal", "link": "https://stackoverflow.com/users/8812326/fawzi-nofal"}, "is_accepted": false, "score": 0, "last_activity_date": 1593345541, "creation_date": 1593345541, "answer_id": 62622232, "question_id": 54992812, "link": "https://stackoverflow.com/questions/54992812/map-fragmentkotlin-onmapready-not-working/62622232#62622232", "title": "Map Fragment(Kotlin) onMapReady not working", "body": "<pre><code>  override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n   \n    val mapFragment = activity?.supportFragmentManager?.findFragmentById(R.id.map) as SupportMapFragment?\n        mapFragment?.getMapAsync(this)\n    \n\n}\n</code></pre>\n"}], "owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6013, "favorite_count": 0, "accepted_answer_id": 55017724, "answer_count": 5, "score": 3, "last_activity_date": 1593345541, "creation_date": 1551739774, "last_edit_date": 1551776906, "question_id": 54992812, "link": "https://stackoverflow.com/questions/54992812/map-fragmentkotlin-onmapready-not-working", "title": "Map Fragment(Kotlin) onMapReady not working", "body": "<p>I'm trying to implement a map in a fragment and I am able to show the map but the <code>onMapReady</code> is not working as Its not adding the marker and not moving the camera. \n<strong>Code</strong></p>\n\n<p>MapFragment </p>\n\n<pre><code>class MapFragment : Fragment(), OnMapReadyCallback {\n\n   private lateinit var mMap: GoogleMap\n\n    companion object {\n        var mapFragment : SupportMapFragment?=null\n        val TAG: String = MapFragment::class.java.simpleName\n        fun newInstance() = MapFragment()\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        // Inflate the layout for this fragment\n        var rootView = inflater.inflate(R.layout.fragment_map, container, false)\n\n            mapFragment = fragmentManager?.findFragmentById(R.id.fallasMap) as SupportMapFragment?\n            mapFragment?.getMapAsync(this)\n\n        return rootView\n    }\n\n    override fun onMapReady(googleMap: GoogleMap?) {\n        mMap = googleMap!!\n        // Add a marker in Sydney and move the camera\n        val sydney = LatLng(-34.0, 151.0)\n        mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n    }\n\n}\n</code></pre>\n\n<p>xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             xmlns:tools=\"http://schemas.android.com/tools\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"match_parent\"\n             tools:context=\".fragments.MapFragment\"&gt;\n\n        &lt;fragment\n                android:id=\"@+id/fallasMap\"\n            android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "navigation-framework"], "answers": [{"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1551738400, "post_id": 54992499, "comment_id": 96742389, "body": "You&#39;re using some assumptions that are not in my case. First of all it doesn&#39;t matter if it&#39;s first activity, because someCondition can be value from preferences or something completely different. Secondly, you need startDestination otherwise you&#39;re app will crash with exception."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10522207"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1551738523, "post_id": 54992499, "comment_id": 96742429, "body": "@Nominalista so what is the problem here?, I don&#39;t think the app will crash because you define the destination in activity in <code>onCreate</code> for example."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1551738979, "post_id": 54992499, "comment_id": 96742594, "body": "Maybe I didn&#39;t explain question correctly. I was sure about the way of creating graph and deciding to which fragment it should navigate, but I didn&#39;t know how pass initial data correctly. @ianhanniballake answer explained that."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10522207"}, "is_accepted": false, "score": 0, "last_activity_date": 1551738143, "creation_date": 1551738143, "answer_id": 54992499, "question_id": 54992140, "link": "https://stackoverflow.com/questions/54992140/how-to-map-navargs-to-navargument/54992499#54992499", "title": "How to map NavArgs to NavArgument?", "body": "<p>You said: \"What I want to achieve is to decide in Activity which fragment should be a start destination.\"</p>\n\n<p>And I think you're trying to make the decision in the fragmen, which is not correct here because you didn't open the fragment yet, Thus the correct behavior is to do that in activity e.g:</p>\n\n<pre><code>when (someCondition) {\n        TO_FRAGMENT_1-&gt; {\n            findNavController(R.id.fragment).navigate(R.id.fragment1)\n        }\n        TO_FRAGMENT_2-&gt; {\n            findNavController(R.id.fragment).navigate(R.id.fragment2)\n        }\n    }\n</code></pre>\n\n<p>And if the activity is the first activity in your app, you should use something else instead of args, e.g: <code>SharedPref</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1551739116, "post_id": 54992619, "comment_id": 96742630, "body": "See also the <a href=\"https://issuetracker.google.com/issues/124153134\" rel=\"nofollow noreferrer\">documentation request</a> for ensuring that this use case is covered by the docs."}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 1, "last_activity_date": 1551739038, "last_edit_date": 1551739038, "creation_date": 1551738740, "answer_id": 54992619, "question_id": 54992140, "link": "https://stackoverflow.com/questions/54992140/how-to-map-navargs-to-navargument/54992619#54992619", "title": "How to map NavArgs to NavArgument?", "body": "<p>When you add <code>&lt;argument&gt;</code> tag to your navigation XML, it is <strong>already</strong> creating the <code>NavArgument</code> classes when you call <code>inflate()</code>, so there's nothing you need to do to the graph in order to pass arguments to the start destination.</p>\n\n<p>Instead, you should use <a href=\"https://developer.android.com/reference/androidx/navigation/NavController.html#setGraph(androidx.navigation.NavGraph,%20android.os.Bundle)\" rel=\"nofollow noreferrer\"><code>setGraph(NavGraph, Bundle)</code></a> to set the graph and pass initial arguments to the start destination.</p>\n\n<pre><code>// Construct your Bundle of arguments\nval bundle = bundleOf()\n// set the graph with specific arguments for the start destination\nnavController.setGraph(graph, bundle)\n</code></pre>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1698, "favorite_count": 0, "accepted_answer_id": 54992619, "answer_count": 2, "score": 1, "last_activity_date": 1551739038, "creation_date": 1551736471, "question_id": 54992140, "link": "https://stackoverflow.com/questions/54992140/how-to-map-navargs-to-navargument", "title": "How to map NavArgs to NavArgument?", "body": "<p>The issue I encountered is related to setting navigation graph programatically. What I want to achieve is to decide in <code>Activity</code> which fragment should be a start destination. What's more, each of these fragments have additional arguments.</p>\n\n<p>Let's say we have such navigation graph:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/nav_graph\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fragment1\"\n        android:name=\"com.mypackage.Fragment1\"\n        tools:layout=\"@layout/layout_fragment1\"&gt;\n\n        &lt;argument\n            android:name=\"argument1\"\n            app:argType=\"int\" /&gt;\n\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fragment2\"\n        android:name=\"com.mypackage.Fragment2\"\n        tools:layout=\"@layout/layout_fragment2\"&gt;\n\n        &lt;argument\n            android:name=\"argument2\"\n            app:argType=\"string\" /&gt;\n\n    &lt;/fragment&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>If we use Safe Args plugin (<code>androidx.navigation.safeargs.kotlin</code>), two classes will be generated: <code>Fragment1Args</code> and <code>Fragment2Args</code>, both implementing <code>NavArgs</code> interface.</p>\n\n<p>Now because we need to decide which fragment should became start destination, we need to make graph programatically:</p>\n\n<pre><code>val graph = navController.navInflater.inflate(R.navigation.nav_graph)\nif (someCondition) {\n    graph.startDestination = R.id.fragment1\n} else {\n    graph.startDestination = R.id.fragment2\n}\nnavController.graph = graph\n</code></pre>\n\n<p>But Fragment1 and Fragment2 requires some additional arguments, so we need somehow to add them to graph. It turns out that graph has method <code>addArguments(NavArguments)</code>, but as you see it's not <code>NavArgs</code> interface. Question is how to set these arguments properly that Fragment1 or Fragment2 will be able to extract?</p>\n\n<p>I'm using <code>1.0.0-rc02</code> version of navigation framework.</p>\n"}, {"tags": ["kotlin", "jetbrains-ide", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11150685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iczycn7LYFI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVk6T1QLjqWqWtlkqsWsLMtRPzIQ/mo/photo.jpg?sz=128", "display_name": "Sergei", "link": "https://stackoverflow.com/users/11150685/sergei"}, "edited": false, "score": 0, "creation_date": 1551781473, "post_id": 54999462, "comment_id": 96756528, "body": "Thank you! It helps me! I used old jdbc driver for Oracle 12. I changed driver version to ojdbc7-12.1.0.2.jar"}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1551778130, "creation_date": 1551778130, "answer_id": 54999462, "question_id": 54992103, "link": "https://stackoverflow.com/questions/54992103/why-i-receive-an-error-when-i-use-exposed-in-kotlin/54999462#54999462", "title": "Why I receive an error when I use exposed in Kotlin?", "body": "<p><code>AbstractMethodError</code> usually means that you compiled the code with one version of a library, but are running it against a different (incompatible) version.\u00a0 (See for example <a href=\"https://stackoverflow.com/questions/12137073/abstract-method-error\">these</a> <a href=\"https://stackoverflow.com/questions/23656915/getting-java-lang-abstractmethoderror-on-implemented-method\">questions</a>.)</p>\n\n<p>So I'd check your dependencies &amp;c carefully.</p>\n"}], "owner": {"reputation": 21, "user_id": 11150685, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iczycn7LYFI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVk6T1QLjqWqWtlkqsWsLMtRPzIQ/mo/photo.jpg?sz=128", "display_name": "Sergei", "link": "https://stackoverflow.com/users/11150685/sergei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551778130, "creation_date": 1551736319, "question_id": 54992103, "link": "https://stackoverflow.com/questions/54992103/why-i-receive-an-error-when-i-use-exposed-in-kotlin", "title": "Why I receive an error when I use exposed in Kotlin?", "body": "<p>I need to receive region_name by region_code from Oracle DB</p>\n\n<p>I use <a href=\"http://%20https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">Exposed</a> for my program, but I receive error</p>\n\n<pre><code>in thread \"main\" java.lang.AbstractMethodError\nat org.jetbrains.exposed.sql.Transaction.closeExecutedStatements(Transaction.kt:181)\nat org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.inTopLevelTransaction(ThreadLocalTransactionManager.kt:137)\nat org.jetbrains.exposed.sql.transactions.ThreadLocalTransactionManagerKt.transaction(ThreadLocalTransactionManager.kt:75)\n</code></pre>\n\n<p>Code is</p>\n\n<pre><code>object Codes : Table(\"REGIONS\") {\nval region_code = varchar(\"region_code\",32)\nval region_name = varchar(\"region_name\",32)}\n</code></pre>\n\n<p>The main fun contains</p>\n\n<pre><code>.......\nval conn = Database.connect(\"jdbc:oracle:thin:@//...\", driver = \"oracle.jdbc.OracleDriver\",\n    user = \"...\", password = \"...\")\n\ntransaction(java.sql.Connection.TRANSACTION_READ_COMMITTED, 1, conn) {\n        addLogger(StdOutSqlLogger)\n        Codes.select { Codes.region_code eq \"a\" }.limit(1).forEach {\n            print(it[Codes.region_name])\n        }\n    }\n</code></pre>\n"}, {"tags": ["oop", "generics", "kotlin", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "is_accepted": false, "score": 1, "last_activity_date": 1551743573, "creation_date": 1551743573, "answer_id": 54993386, "question_id": 54992024, "link": "https://stackoverflow.com/questions/54992024/reason-why-type-inference-failed-in-kotlin/54993386#54993386", "title": "Reason why type inference failed in Kotlin", "body": "<p>By declaring <code>&lt;reified T : Any&gt;</code> in front of your methods (<code>toPayloadObject</code> and <code>convertToSpecificMessageType</code>) you're introducing a new type parameter <code>T</code> for your methods that has no relation to the type parameter of <code>classA</code> with the same name <code>T</code>.</p>\n\n<p>The method-local declaration of <code>T</code> <em>shadows</em> the <code>T</code> on <code>classA</code>.</p>\n\n<p>As a result, when you do <code>val result = convertToSpecificMessageType(body)</code> - there is no context at all that Kotlin can use to infer the type from. Although you're in a method in <code>classA</code>, the <code>T</code> from classA is not used by method <code>convertToSpecificMessageType</code>.</p>\n\n<p>The solution?</p>\n\n<p>You can't use a reified type on a class so either:</p>\n\n<ul>\n<li>you can remove the <code>&lt;reified T : Any&gt;</code> parts and pass a class object to the methods</li>\n<li>or you keep it there but you provide context when you invoke the method as in <code>val result = convertToSpecificMessageType&lt;MyType&gt;(body)</code> or <code>val result : MyType = convertToSpecificMessageType(body)</code></li>\n</ul>\n"}], "owner": {"reputation": 133, "user_id": 1636279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a6c1f9d7c30986c4598a41266d77ac?s=128&d=identicon&r=PG", "display_name": "Eugene T", "link": "https://stackoverflow.com/users/1636279/eugene-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551743573, "creation_date": 1551735940, "question_id": 54992024, "link": "https://stackoverflow.com/questions/54992024/reason-why-type-inference-failed-in-kotlin", "title": "Reason why type inference failed in Kotlin", "body": "<p><br>\nCould someone please help me to wrap my head around the Kotlin compiler behavior?<br>\nThe intention of the program is to convert the input string to a corresponding type(<code>BMsg</code> or <code>CMsg</code>)\nand print the result in a console.<br> \nHowever, I receive the following message from the compiler:</p>\n\n<blockquote>\n  <p>\"Type inference failed. Not enough information to infer parameter T\n  ...\"</p>\n</blockquote>\n\n<pre><code>import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\n\nabstract class classA&lt;T&gt; {\n    fun handle(body: String) {\n        val result = convertToSpecificMessageType(body) // This line fails\n        printResult(result)\n        otherImportantStuff()\n    }\n\n    abstract fun otherImportantStuff()\n\n    private inline fun &lt;reified T : Any&gt; String.toPayloadObject(): T =\n            jacksonObjectMapper().readValue(this, T::class.java)\n\n    private inline fun  &lt;reified T : Any&gt; convertToSpecificMessageType(body: String): T = body.toPayloadObject()\n    private fun printResult(result: T) = println(\"result = $result\")\n}\n\nclass classB : classA&lt;BMsg&gt;() {\n    override fun otherImportantStuff() = print(\"important stuff of class B\")\n}\n\nclass classC : classA&lt;CMsg&gt;() {\n    override fun otherImportantStuff() = print(\"important stuff of class C\")\n}\n\nsealed class Msg\ndata class BMsg(val x: String) : Msg()\ndata class CMsg(val y: Int) : Msg()\n\nfun main() {\n    classB().handle(\"{\\\"x\\\" : \\\"aaa\\\"}\")\n    classC().handle(\"{\\\"y\\\" : 5}\")\n}    \n</code></pre>\n\n<p>Despite I found a workaround -  declaring <code>convertToSpecificMessageType</code> method as an <code>abstract</code>\nand override in <code>classB</code>/<code>classC</code>, I'm wondering (1) what is the reason which makes the compiler to complain \n(2) if there is a way to fix the problem without overriding <code>convertToSpecificMessageType</code>?\nThank you in advance!</p>\n\n<p><strong>P.S.</strong> kotlin version = '1.3.21'</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "edited": false, "score": 0, "creation_date": 1551734402, "post_id": 54991480, "comment_id": 96740822, "body": "This operator function is created as an extension function on TimeInterval, so there is no need for it to be u curly braces."}], "answers": [{"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 2, "last_activity_date": 1551734455, "creation_date": 1551734455, "answer_id": 54991737, "question_id": 54991480, "link": "https://stackoverflow.com/questions/54991480/operator-overload-function-not-inside-braces/54991737#54991737", "title": "Operator overload function not inside braces {}", "body": "<p>The function you see there isn't a class method; it's not defined within the class, and doesn't form part of the class.\u00a0 (It could even be defined in another file or another package entirely.)</p>\n\n<p>Instead, it's an <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\"><strong>extension function</strong></a>: a stand-alone function that's not part of the class, but behaves in a few respects as if it were.</p>\n\n<p>You can tell because the function name has a <code>.</code> in it.\u00a0 This tells the compiler that the function is <em>extending</em> the class before the <code>.</code>.</p>\n\n<p>If the extension function is in scope, you can call it using the same syntax you use for calling methods; and within the function, <code>this</code> refers to an instance of the class (the \u2018receiver\u2019).\u00a0 However, you can't access private methods or properties of the class; <code>this</code> could be null if it's extending a nullable type; and the function is resolved statically (at compile-time, like function calls; not at run-time, like method calls).</p>\n\n<p>This is one of Kotlin's important features, so it's worth reading up on them.</p>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 2, "last_activity_date": 1551745887, "last_edit_date": 1551745887, "creation_date": 1551734510, "answer_id": 54991749, "question_id": 54991480, "link": "https://stackoverflow.com/questions/54991480/operator-overload-function-not-inside-braces/54991749#54991749", "title": "Operator overload function not inside braces {}", "body": "<p>In the first example, you are overloading the operator by providing an <a href=\"https://kotlinlang.org/docs/reference/extensions.html#extension-functions\" rel=\"nofollow noreferrer\">Extension Function</a>. In Kotlin, you can appear to add functions to any existing class. Under the covers, this works like a static method in Java.</p>\n\n<p>Both of these examples are overloading the plus operator on your <code>Point</code> class:</p>\n\n<pre><code>class Point(val x: Int = 0, val y: Int = 10) {\n\n    operator fun plus(p: Point) : Point {\n        return Point(x + p.x, y + p.y)\n    }\n}\n</code></pre>\n\n<p>Or using an extension function:</p>\n\n<pre><code>class Point(val x: Int = 0, val y: Int = 10)\noperator fun Point.plus(p: Point) : Point {\n    return Point(x + p.x, y + p.y)\n}\n</code></pre>\n\n<p>These both look the same when you call them:</p>\n\n<pre><code>val p = Point(1, 2)\nval x = p + p // x = 2, 4\n</code></pre>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551745887, "creation_date": 1551733297, "question_id": 54991480, "link": "https://stackoverflow.com/questions/54991480/operator-overload-function-not-inside-braces", "title": "Operator overload function not inside braces {}", "body": "<p>I'm completing the <a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Conventions/Operators%20overloading/Task.kt\" rel=\"nofollow noreferrer\">Kotlin Koans Operators Overloading</a> exercise and the answer includes a class like so:</p>\n\n<pre><code>class RepeatedTimeInterval(val timeInterval: TimeInterval, val number: Int)\noperator fun TimeInterval.times(number: Int) = RepeatedTimeInterval(this, number)\n</code></pre>\n\n<p>I'm a bit confused why the <code>operator</code> function is not in side curly braces <code>{}</code>. </p>\n\n<p>In all tutorials I've seen (<a href=\"https://www.programiz.com/kotlin-programming/operator-overloading\" rel=\"nofollow noreferrer\">example</a>) the operator is always inside curly braces:</p>\n\n<pre><code>class Point(val x: Int = 0, val y: Int = 10) {\n\n    // overloading plus function\n    operator fun plus(p: Point) : Point {\n        return Point(x + p.x, y + p.y)\n    }\n}\n</code></pre>\n\n<p>In fact I've never really seen any function of this syntax where there is no symbol between the class constructor and the following function.</p>\n"}, {"tags": ["android", "kotlin", "androidx"], "comments": [{"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551732168, "post_id": 54991212, "comment_id": 96739921, "body": "oo I&#39;d like to add that im trying to call updateItems INSIDE a function in mainActivity, I think that&#39;s related to my issue but idk the workaround."}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "edited": false, "score": 0, "creation_date": 1551783655, "post_id": 54993294, "comment_id": 96757865, "body": "You were right, I was trying to run the function on the class, instead I should have invoked it on the id of the view that instantiated it in my activity&#39;s xml, works now, thanks!"}], "tags": [], "owner": {"reputation": 314, "user_id": 6447661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWUjq.jpg?s=128&g=1", "display_name": "Jure Sencar", "link": "https://stackoverflow.com/users/6447661/jure-sencar"}, "is_accepted": true, "score": 1, "last_activity_date": 1551742889, "creation_date": 1551742889, "answer_id": 54993294, "question_id": 54991212, "link": "https://stackoverflow.com/questions/54991212/function-unresolved-reference-in-main-activity/54993294#54993294", "title": "Function unresolved reference in main activity", "body": "<p>It looks like you are trying to call the method on class rather than on instance (one way to get an instance is to create it via constructor <code>myView1 = view1(...)</code> and then you can call the method on it <code>myView1.updateItems(items)</code></p>\n\n<p>Two more points:</p>\n\n<ul>\n<li>No need to post all code, just post snippets (only the code relevant to the issue), replace the non-relevant code with <code>...</code> and keep the parenthesis</li>\n<li>In my answer I assumed (based on what you wrote) that <code>view1</code> is supposed to be a class/object, it's good practice to capitalize it's name so it does not get confused with instances</li>\n</ul>\n"}], "owner": {"reputation": 801, "user_id": 7130982, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155393562339298/picture?type=large", "display_name": "Omar Hussein", "link": "https://stackoverflow.com/users/7130982/omar-hussein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 54993294, "answer_count": 1, "score": 1, "last_activity_date": 1551742889, "creation_date": 1551732108, "last_edit_date": 1551732164, "question_id": 54991212, "link": "https://stackoverflow.com/questions/54991212/function-unresolved-reference-in-main-activity", "title": "Function unresolved reference in main activity", "body": "<p>so I'll try to explain my problem this time without pasting you 400 lines of code.</p>\n\n<p>I have a custom view that im using in my main activity (com.company.app.common.ui.view1), in my main activity it's imported properly as follow\n<code>import com.company.app.common.ui.view1</code></p>\n\n<p>Inside view1 i have a function defined in the constructor\n<code>fun updateItems(items: List&lt;Item&gt;){}</code></p>\n\n<p>Item is an object I have modeled properly and the function has no errors.</p>\n\n<p>But when I try to call it in my main activity using\n<code>view1.updateItems(items)</code> I get an unresolved reference on <code>updateItems</code>.</p>\n\n<p>the function is supposedly public by default if im not wrong, can anyone help? Thanks</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "is_accepted": true, "score": 9, "last_activity_date": 1551739634, "creation_date": 1551739634, "answer_id": 54992781, "question_id": 54991041, "link": "https://stackoverflow.com/questions/54991041/difficulty-using-moshis-kotlin-codegen/54992781#54992781", "title": "Difficulty using Moshi&#39;s Kotlin codegen", "body": "<p><code>@JsonClass</code> is a type in the standard Moshi artifact. Retrofit's <code>converter-moshi</code> artifact brings in Moshi transitively but does not have the latest version of Moshi. <strong>Specify <code>implementation(\"com.squareup.moshi:moshi:1.8.0\")</code>.</strong></p>\n"}], "owner": {"reputation": 183, "user_id": 10265723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa03d7e7616307bca51ea1bcb5156c5?s=128&d=identicon&r=PG&f=1", "display_name": "rstockbridge", "link": "https://stackoverflow.com/users/10265723/rstockbridge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1208, "favorite_count": 0, "accepted_answer_id": 54992781, "answer_count": 1, "score": 2, "last_activity_date": 1551811299, "creation_date": 1551731281, "last_edit_date": 1551811299, "question_id": 54991041, "link": "https://stackoverflow.com/questions/54991041/difficulty-using-moshis-kotlin-codegen", "title": "Difficulty using Moshi&#39;s Kotlin codegen", "body": "<p>I am trying to use Moshi's Kotlin codegen to get annotation support in Kotlin. Despite following the instructions carefully in the <a href=\"https://github.com/square/moshi#codegen\" rel=\"nofollow noreferrer\">moshi codegen documentation</a>, the annotation <code>JsonClass</code> in <code>@JsonClass(generateAdapter = true)</code> is not recognized and I am getting the following error:</p>\n\n<p><code>error: incompatible types: NonExistentClass cannot be converted to Annotation@error.NonExistentClass()</code></p>\n\n<p>My app <code>build.gradle</code> file is as follows:</p>\n\n<pre><code>...\napply plugin: 'kotlin-kapt'\n\nandroid {\n    ...\n}\n\ndependencies {\n    ...\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\n    implementation 'com.squareup.retrofit2:converter-moshi:2.5.0'\n\n    kapt 'com.squareup.moshi:moshi-kotlin-codegen:1.8.0'\n}\n</code></pre>\n\n<p>The <code>@JsonClass</code> annotation is recognized when I add</p>\n\n<p><code>implementation(\"com.squareup.moshi:moshi-kotlin:1.8.0\")</code>.</p>\n\n<p>However, the <a href=\"https://github.com/square/moshi#reflection\" rel=\"nofollow noreferrer\">moshi reflection documentation</a> indicates that this dependency is only required if using reflection instead of codegen.</p>\n\n<p>Any idea what I'm missing? Thanks!</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "edited": false, "score": 0, "creation_date": 1551782330, "post_id": 54999812, "comment_id": 96757031, "body": "thanks for providing a solution not only to the specific question but for improving my architecture as well :)"}, {"owner": {"reputation": 298, "user_id": 5813395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vgBc.jpg?s=128&g=1", "display_name": "sirdn4", "link": "https://stackoverflow.com/users/5813395/sirdn4"}, "reply_to_user": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "edited": false, "score": 0, "creation_date": 1551783943, "post_id": 54999812, "comment_id": 96758034, "body": "About improving architecture or not, I don&#39;t know. But I think it&#39;s such a good solution."}], "tags": [], "owner": {"reputation": 298, "user_id": 5813395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8vgBc.jpg?s=128&g=1", "display_name": "sirdn4", "link": "https://stackoverflow.com/users/5813395/sirdn4"}, "is_accepted": true, "score": 1, "last_activity_date": 1551779229, "creation_date": 1551779229, "answer_id": 54999812, "question_id": 54990914, "link": "https://stackoverflow.com/questions/54990914/access-anko-sqlite-db-inside-anko-layout-component/54999812#54999812", "title": "access ANKO sqlite DB inside ANKO layout component", "body": "<p>Why not access it from Activity? I think better to keep UI only focus on UI.</p>\n\n<p>First, create lateinit var in JokeActivityUI called getRndJoke</p>\n\n<pre><code>class JokeActivityUI : AnkoComponent&lt;JokeActivity&gt; {\n\n     lateinit var getRndJoke: Button\n\n     ...\n}\n</code></pre>\n\n<p>Then assign variable getRndJoke to the button</p>\n\n<pre><code>getRndJoke = button {\n   text = \"get random joke!\"\n}.lparams(width = matchParent)\n</code></pre>\n\n<p>So, you can easily access database in Activity like this:</p>\n\n<pre><code>class JokeActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        JokeActivityUI().setContentView(this)\n\n        JokeActivityUI().getRndJoke.onClick {\n\n           database.use {\n              ...\n           }\n        }\n    }\n}\n</code></pre>\n\n<p>Extra: I think better to create instance JokeActivityUI like this:</p>\n\n<pre><code>val ui = JokeActivityUI()\n</code></pre>\n"}], "owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 54999812, "answer_count": 1, "score": 0, "last_activity_date": 1551779229, "creation_date": 1551730672, "last_edit_date": 1551735731, "question_id": 54990914, "link": "https://stackoverflow.com/questions/54990914/access-anko-sqlite-db-inside-anko-layout-component", "title": "access ANKO sqlite DB inside ANKO layout component", "body": "<p>I want to access my ANKO SQLite database, inside of my <code>AnkoComponent</code>. However I get prompted with an error within the scope of the component, and in the activity using the <code>AnkoComponent</code> it works just fine.</p>\n\n<p>This is my ANKO SQLite database</p>\n\n<pre><code>package com.example.jokegenerator\n\nimport android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport org.jetbrains.anko.db.*\n\nclass DatabaseOpenHelper(context: Context) :\n        ManagedSQLiteOpenHelper(context, \"Database\", null, 2) {\n\n\n    companion object {\n        private var instance: DatabaseOpenHelper? = null\n\n        @Synchronized\n        fun getInstance(ctx: Context): DatabaseOpenHelper {\n            if (instance == null) {\n                instance = DatabaseOpenHelper(ctx.getApplicationContext())\n            }\n            return instance!!\n        }\n    }\n\n    override fun onCreate(db: SQLiteDatabase) {\n        // Here you create tables\n        db.createTable(\"Jokes\", true,\n            \"id\" to INTEGER + PRIMARY_KEY + UNIQUE,\n            \"joke\" to TEXT)\n        db.insert(\"Jokes\",\n            \"joke\" to \"Humor is not for everyone\")\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n        db.dropTable(\"User\", true)\n    }\n}\n\nval Context.database: DatabaseOpenHelper\n    get() = DatabaseOpenHelper.getInstance(getApplicationContext())\n</code></pre>\n\n<p>This is the activity using the ANKO layout component, from where the component should use the database inside of a button. I have Commented inside <code>AnkoComponent</code>'s code, to specify.</p>\n\n<pre><code>class JokeActivityUI : AnkoComponent&lt;JokeActivity&gt; {\n\n    override fun createView(ui: AnkoContext&lt;JokeActivity&gt;) = with(ui) {\n        verticalLayout {\n            textView {\n\n            }.lparams(width = matchParent) {\n\n            }\n            var getRndJoke = button {\n                text = \"get random joke!\"\n\n\n                onClick {\n                    database.use{ //prompted with error written below!\n\n                    }\n\n\n                }\n            }.lparams(width = matchParent) {\n\n            }\n            button {\n                text = \"create a joke\"\n                onClick {\n                    startActivity&lt;CreateJokeActivity&gt;()\n                }\n            }.lparams(width = matchParent) {\n\n            }\n            button {\n                text = \"frontpage\"\n                onClick {\n                    startActivity&lt;MainActivity&gt;()\n                }\n            }.lparams(width = matchParent) {\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However I am prompted with an error message saying: </p>\n\n<blockquote>\n  <p>public val Context.database: DatabaseOpenHelper defined in\n  com.example.jokegenerator in file Database.kt</p>\n</blockquote>\n\n<p>But inside of the activity using the layout I can use the database just fine</p>\n\n<pre><code>class JokeActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        JokeActivityUI().setContentView(this)\n\n\n        database.use { //works just fine in this scope\n            val dbJokes = database.use {\n                select(\"Jokes\")\n            }\n\n\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring", "hibernate", "jpa", "kotlin"], "comments": [{"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1551731556, "post_id": 54990846, "comment_id": 96739661, "body": "Generally speaking, it&#39;s not a good idea to define equality for entities (as an &quot;entity&quot; is defined as a record that has an identity independent of its values). Why exactly are you wanting to do this?"}, {"owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1551732338, "post_id": 54990846, "comment_id": 96739989, "body": "@chrylis I have to do this for testing. Because I have to make sure that all the fields are correct."}, {"owner": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 1, "creation_date": 1551732765, "post_id": 54990846, "comment_id": 96740177, "body": "Compare the fields individually, not by an aggregate <code>equals</code>."}, {"owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "reply_to_user": {"reputation": 67242, "user_id": 1189885, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/DLHqU.png?s=128&g=1", "display_name": "chrylis -cautiouslyoptimistic-", "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"}, "edited": false, "score": 0, "creation_date": 1551766393, "post_id": 54990846, "comment_id": 96749188, "body": "@chrylis it&#39;s not cool"}], "answers": [{"comments": [{"owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 0, "creation_date": 1551731103, "post_id": 54990958, "comment_id": 96739479, "body": "i don&#39;t like lombok. So which of the two tests is correct? BookTest1 or BookTest2?"}, {"owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 0, "creation_date": 1551731171, "post_id": 54990958, "comment_id": 96739511, "body": "I am interested in a more global question, whether there should be an equal entity during the transition to a manage state"}, {"owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "reply_to_user": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 1, "creation_date": 1551731224, "post_id": 54990958, "comment_id": 96739526, "body": "Actually there is no right answer, this depends on you. In my opinion, there should be an equality, please, refer to the article for in-depth discussion."}, {"owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "reply_to_user": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 0, "creation_date": 1551731261, "post_id": 54990958, "comment_id": 96739541, "body": "Also bear in mind, that <code>hashCode</code> should be also overriden."}, {"owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "reply_to_user": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 0, "creation_date": 1551731421, "post_id": 54990958, "comment_id": 96739607, "body": "Basically it depends on your needs. Ask yourself a question - Do you compare entities with transient objects and use mixed hash-based collections and maps?"}, {"owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 0, "creation_date": 1551731546, "post_id": 54990958, "comment_id": 96739653, "body": "I&#39;m just used to adding all fields to equals, which is especially critical for tests. And the option is closer to me - when should not be equal, since the entity has moved to a new state."}, {"owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "edited": false, "score": 0, "creation_date": 1551731683, "post_id": 54990958, "comment_id": 96739718, "body": "for hash-based collections - there are no problems here, because hashCode does not change"}], "tags": [], "owner": {"reputation": 22888, "user_id": 7606764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ff66904cb49ba020965898e8dd6b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/7606764/andronicus"}, "is_accepted": true, "score": 1, "last_activity_date": 1551730886, "creation_date": 1551730886, "answer_id": 54990958, "question_id": 54990846, "link": "https://stackoverflow.com/questions/54990846/how-to-correctly-override-equals-for-hibernate-entity-with-naturalid/54990958#54990958", "title": "How to correctly override equals for Hibernate entity with @NaturalId", "body": "<p>According to <a href=\"https://vladmihalcea.com/the-best-way-to-implement-equals-hashcode-and-tostring-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this article</a> <code>equals</code> and <code>hashCode</code> should be state-agnostic. If you have overriden only the first one, it's bad and can cause strange bugs. They need to have a <a href=\"https://www.programcreek.com/2011/07/java-equals-and-hashcode-contract/\" rel=\"nofollow noreferrer\">contract</a>. </p>\n\n<p>The simplest way would be to use lombok - annotate your class with <code>@EqualsAndHashCode(onlyExplicitlyIncluded = true, callSuper = false)</code> and the fields used in comparison with <code>@EqualsAndHashCode.Include</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1551735707, "creation_date": 1551735707, "answer_id": 54991974, "question_id": 54990846, "link": "https://stackoverflow.com/questions/54990846/how-to-correctly-override-equals-for-hibernate-entity-with-naturalid/54991974#54991974", "title": "How to correctly override equals for Hibernate entity with @NaturalId", "body": "<p>When I looked into this a while ago, I concluded that there's no single right answer.</p>\n\n<p>I ended up checking <em>only</em> the <code>@Id</code> property in <code>equals()</code> and <code>hashCode()</code>, as that seemed to behave best.\u00a0 (We don't use any <code>@NaturalId</code>s; it could work with that instead, but it may be safer to stick with the <code>@Id</code>.)</p>\n\n<p>I think the only potential issue I found with that was if a new instance gets added to a collection before being persisted.\u00a0 In practice, that never happens in our project, and so it works well.\u00a0 (If it does in your project, you may still find this the best trade-off, to avoid problems when <em>persisted</em> objects appear in collections, which is much more common.)</p>\n\n<p>As other answers have pointed out, if you override <code>equals()</code> you <em>must</em> also override <code>hashCode()</code>, to ensure that equal objects always have the same hashcode.\u00a0 (The question's first example does comply with this, though it's perhaps a little confusing for the two methods not to check all the same fields.)</p>\n\n<p>In Kotlin, by the way, those two methods become manageably small:</p>\n\n<pre><code>override fun equals(other: Any?) = other === this\n                                || (other is MyEntity &amp;&amp; entityId == other.entityId)\n\noverride fun hashCode() = entityId\n</code></pre>\n\n<p>(Yet another example of why I love Kotlin!)</p>\n"}], "owner": {"reputation": 718, "user_id": 10499368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlhTN.png?s=128&g=1", "display_name": "FreeOnGoo", "link": "https://stackoverflow.com/users/10499368/freeongoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 54990958, "answer_count": 2, "score": 1, "last_activity_date": 1562780624, "creation_date": 1551730417, "last_edit_date": 1562780624, "question_id": 54990846, "link": "https://stackoverflow.com/questions/54990846/how-to-correctly-override-equals-for-hibernate-entity-with-naturalid", "title": "How to correctly override equals for Hibernate entity with @NaturalId", "body": "<p>Many times already discussed how to redefine equals/hashCode for Entity. </p>\n\n<p>My question is about the need to use all the fields in equals.\nConsider two cases.</p>\n\n<p>When we use all fields for equals:</p>\n\n<pre><code>@Entity\npublic class Book {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NaturalId\n    @Column(name = \"isbn\", nullable = false, unique = true)\n    private String isbn;\n\n    @Column\n    private String name;\n\n    private Book() {\n    }\n\n    public Book(String isbn) {\n        this.isbn = isbn;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Book book = (Book) o;\n        return Objects.equals(id, book.id) &amp;&amp;\n                Objects.equals(isbn, book.isbn) &amp;&amp;\n                Objects.equals(name, book.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(isbn);\n    }\n}\n</code></pre>\n\n<p>And test:</p>\n\n<pre><code>public class BookTest1 {\n\n    @PersistenceContext\n    protected EntityManager em;\n\n    @Test\n    public void fromTransientToManageSameEntity() {\n        Book book1 = new Book(\"4567-5445-5434-3212\");\n        Book book2 = new Book(\"4567-5445-5434-3212\");\n\n        em.persist(book2);\n        flushAndClean();\n\n        assertThat(book1, is(not((equalTo(book2))))); // not equals\n    }\n}\n</code></pre>\n\n<p>As we see, when translating entities from a transient into a manage state - the same entities will not be equal.</p>\n\n<p>Another case is when we use in equals only @NaturalId:</p>\n\n<pre><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Book book = (Book) o;\n    return Objects.equals(isbn, book.isbn);\n}\n</code></pre>\n\n<p>And test:</p>\n\n<pre><code>public class BookTest2 {\n\n    @PersistenceContext\n    protected EntityManager em;\n\n    @Test\n    public void fromTransientToManageSameEntity() {\n        Book book1 = new Book(\"4567-5445-5434-3212\");\n        Book book2 = new Book(\"4567-5445-5434-3212\");\n\n        em.persist(book2);\n        flushAndClean();\n\n        assertThat(book1, equalTo(book2)); // equals\n    }\n}\n</code></pre>\n\n<p>As we see, now both entities will be equal.</p>\n\n<p>My question is whether the same entity should be equal in the transition to manage state or not. And accordingly how to correctly redefine the equals in this situation.</p>\n"}, {"tags": ["android", "arrays", "kotlin", "android-viewpager", "fragmentpageradapter"], "comments": [{"owner": {"reputation": 23425, "user_id": 509967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3365b9293640542789b8a3e4a009356d?s=128&d=identicon&r=PG", "display_name": "Bobbake4", "link": "https://stackoverflow.com/users/509967/bobbake4"}, "edited": false, "score": 0, "creation_date": 1551730725, "post_id": 54990819, "comment_id": 96739328, "body": "What you have should work just fine. Are your <code>Fragments</code> the same type as the expected return statement of the <code>FragmentPagerAdapter</code>? Specifically are you using the support version of the pager adapter and the non support version of the fragment? or vice versa? Also, make sure you are returning an instance of the fragment and not the class representation of your fragments."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "reply_to_user": {"reputation": 23425, "user_id": 509967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3365b9293640542789b8a3e4a009356d?s=128&d=identicon&r=PG", "display_name": "Bobbake4", "link": "https://stackoverflow.com/users/509967/bobbake4"}, "edited": false, "score": 0, "creation_date": 1551731576, "post_id": 54990819, "comment_id": 96739667, "body": "@Bobbake4 thanks for the reply.  I have indeed passed the class representation of the fragment. I feel like I should know the answer to that, but how would I pass an instance of it? Just create something like <code>var mFeedFragment = FeedFragment()</code> and pass that? Also I am not sure what you mean by the support version/no-support version."}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "edited": false, "score": 1, "creation_date": 1551731618, "post_id": 54990819, "comment_id": 96739687, "body": "Your <code>getItem()</code> function doesn&#39;t have a return value, you need to place a <code>return</code> in front of <code>when</code>. And if you are using a <code>when</code> statement you&#39;ll need a valid <code>else</code> block. Either way I think @Valerii&#39;s answer is a better solution to your problem."}], "answers": [{"comments": [{"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "edited": false, "score": 0, "creation_date": 1551731893, "post_id": 54990993, "comment_id": 96739798, "body": "I believe you need to return <code>fragments[position].get()</code> to return the <code>Fragment</code> (instead of the <code>WeakReference</code> object)."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1551732151, "post_id": 54990993, "comment_id": 96739915, "body": "Appreciate your answer Valerii! I am not familiar with these function so trying ro figure this out. I am receiving an unresolved reference notice for the <code>it</code> in <code>fragments.put(position, WeakReference(it))</code> . Also (and maybe that&#39;s also the answer for my first question), how do I add my fragments to this array? I&#39;ve tried this <code>fragments.put(position, WeakReference(FeedFragment))</code> but I&#39;m sure you know that&#39;s not working"}, {"owner": {"reputation": 389, "user_id": 10900938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qemIT.png?s=128&g=1", "display_name": "Valerii", "link": "https://stackoverflow.com/users/10900938/valerii"}, "edited": false, "score": 0, "creation_date": 1551733052, "post_id": 54990993, "comment_id": 96740296, "body": "There should be <code>fragment</code> instead of <code>it</code>. I edited the answer. Fragment will be added to array in <code>instantiateItem</code> method (adapter will handle it inside by itself).  <code>getItem</code> method will decide which type of fragment should be created depending on position. You also will need to override <code>getCount</code> method so that adapter will know how many fragments it should create."}], "tags": [], "owner": {"reputation": 389, "user_id": 10900938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qemIT.png?s=128&g=1", "display_name": "Valerii", "link": "https://stackoverflow.com/users/10900938/valerii"}, "is_accepted": false, "score": 0, "last_activity_date": 1551732737, "last_edit_date": 1551732737, "creation_date": 1551731073, "answer_id": 54990993, "question_id": 54990819, "link": "https://stackoverflow.com/questions/54990819/how-to-use-the-fragmentpageradapter-with-unique-unrelated-fragments/54990993#54990993", "title": "How to use the FragmentPagerAdapter with unique unrelated fragments?", "body": "<p>Unfortunately, there is no elegant solution for this case. You can store created fragment in array and then use this array when you need to access related fragment instance.</p>\n\n<pre><code>class PagesPagerAdapter(fragmentManager: FragmentManager) : FragmentPagerAdapter(fragmentManager) {\n    private val fragments = SparseArray&lt;WeakReference&lt;Fragment&gt;&gt;()\n\n    override fun getCount() = 3\n\n    override fun getItem(position: Int): Fragment? {\n        val fragmentReference = fragments[position]\n        return if (fragmentReference?.get() != null) {\n            fragmentReference.get()\n        } else {\n            return when (position) {\n                0 -&gt; FeedFragment.newInstance()\n                1 -&gt; BoardFragment.newInstance()\n                2 -&gt; ProfileFragment.newInstance()\n                else -&gt; error(\"Incorrect position: $position\")\n            }\n        }\n    }\n\n    override fun instantiateItem(container: ViewGroup, position: Int): Any {\n        val fragment = super.instantiateItem(container, position) as Fragment\n        fragments.put(position, WeakReference(fragment))\n        return fragment\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23425, "user_id": 509967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3365b9293640542789b8a3e4a009356d?s=128&d=identicon&r=PG", "display_name": "Bobbake4", "link": "https://stackoverflow.com/users/509967/bobbake4"}, "edited": false, "score": 0, "creation_date": 1551732029, "post_id": 54991180, "comment_id": 96739866, "body": "Also, @Bryan makes a good point about leveraging the <code>return</code> before the <code>when</code> statement."}, {"owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "edited": false, "score": 0, "creation_date": 1551733138, "post_id": 54991180, "comment_id": 96740334, "body": "Appreciate your answers Bob. I still can&#39;t make it work not sure why. I&#39;ve updated my answer with the current adapter based on your answer (a little different though as I&#39;ve placed the return before the when statement. Was that your meaning?). I&#39;ve also attached my mainActivity code. Really nothing else to my code other than the two other fragment that just have some basic objects in them for the moment to see if the pager works."}], "tags": [], "owner": {"reputation": 23425, "user_id": 509967, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3365b9293640542789b8a3e4a009356d?s=128&d=identicon&r=PG", "display_name": "Bobbake4", "link": "https://stackoverflow.com/users/509967/bobbake4"}, "is_accepted": true, "score": 0, "last_activity_date": 1551731932, "creation_date": 1551731932, "answer_id": 54991180, "question_id": 54990819, "link": "https://stackoverflow.com/questions/54990819/how-to-use-the-fragmentpageradapter-with-unique-unrelated-fragments/54991180#54991180", "title": "How to use the FragmentPagerAdapter with unique unrelated fragments?", "body": "<p>Without seeing all of your code I cannot be sure but one thing to note is you must return an instance of your fragment not a reference to the class. Ex: <code>FeedFragment()</code> instead of <code>FeedFragment</code>.</p>\n\n<p>Also, your <code>when</code> statement does not have a default case resulting in a compile error for the <code>getItem</code> method as you have a code path that doesn't return anything. Try the following code for <code>getItem</code></p>\n\n<pre><code>override fun getItem(p0: Int): Fragment {\n\n    when(p0){\n        0 -&gt; return FeedFragment.newInstance()\n        1 -&gt; return BoardFragment.newInstance()\n        else -&gt; return ProfileFragment.newInstance()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1670, "user_id": 9774624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f8e7e947e5c7b3d9e21830d0a6be5c?s=128&d=identicon&r=PG&f=1", "display_name": "Tsabary", "link": "https://stackoverflow.com/users/9774624/tsabary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 54991180, "answer_count": 2, "score": 0, "last_activity_date": 1551733003, "creation_date": 1551730316, "last_edit_date": 1551733003, "question_id": 54990819, "link": "https://stackoverflow.com/questions/54990819/how-to-use-the-fragmentpageradapter-with-unique-unrelated-fragments", "title": "How to use the FragmentPagerAdapter with unique unrelated fragments?", "body": "<p>I am trying to implement a simple swiping action between the three main screens of my app (feed, forum &amp; profile).\nI've been looking for guides online but they all seem to take the same approach and show how to implement the adapter using fragments that are simple instances of a basic class that for example just inflates a title and a number on the screen.</p>\n\n<p>In my case, the fragments are not all instances of the same class and are completely different.</p>\n\n<p>M problem lays in the FragmentPagerAdapter. I am not sure how to return each fragment in the getItem method.</p>\n\n<p>I have tried the following but it doesn't except it as a valid return statement and is still expecting one:</p>\n\n<pre><code>class PagesPagerAdapter(fragmentManager: FragmentManager) : FragmentPagerAdapter(fragmentManager) {\n\n\n    override fun getItem(p0: Int): Fragment? {\n\n        return when (p0){\n\n            0 -&gt; FeedFragment.newInstance()\n            1 -&gt; BoardFragment.newInstance()\n            2 -&gt; ProfileFragment.newInstance()\n            else -&gt; FeedFragment.newInstance()\n        }\n\n    }\n\n\n\n    override fun getCount(): Int {\n        return 3\n    }\n}\n</code></pre>\n\n<p>This is an example of one of my fragments:</p>\n\n<pre><code>class FeedFragment : Fragment() {\n\n    val galleryAdapter = GroupAdapter&lt;ViewHolder&gt;()\n\n\n    private fun setUpGalleryAdapter() {\n\n        feed_gallary.adapter = galleryAdapter\n        val galleryLayoutManager = GridLayoutManager(this.context, 3)\n        feed_gallary.layoutManager = galleryLayoutManager\n\n        val dummyUri =\n            \"https://firebasestorage.googleapis.com/v0/b/dere-3d530.appspot.com/o/20150923_100950.jpg?alt=media&amp;token=97f4b02c-75d9-4d5d-bc86-a3ffaa3a0011\"\n\n        val imageUri = Uri.parse(dummyUri)\n        if (imageUri != null) {\n            galleryAdapter.add(FeedImage(imageUri))\n            galleryAdapter.add(FeedImage(imageUri))\n            galleryAdapter.add(FeedImage(imageUri))\n            galleryAdapter.add(FeedImage(imageUri))\n            galleryAdapter.add(FeedImage(imageUri))\n\n\n        }\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        setUpGalleryAdapter()\n\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? =\n        inflater.inflate(R.layout.fragment_feed, container, false)\n\n\n    companion object {\n        fun newInstance(): FeedFragment = FeedFragment()\n    }\n\n}\n</code></pre>\n\n<p>And this is my main activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    private lateinit var viewPager: ViewPager\n    private lateinit var pagerAdapter: PagesPagerAdapter\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        viewPager = findViewById&lt;ViewPager&gt;(R.id.view_pager)\n\n        pagerAdapter = PagesPagerAdapter(supportFragmentManager)\n        viewPager.adapter = pagerAdapter\n\n    }\n}\n</code></pre>\n\n<p>I have also tried to define a variable currentFragment, have it reassigned for each of the when statements and have it be the return value, but as all my fragments are unique I am getting a type mismatch when trying to assign them all to one variable.</p>\n\n<p>Is there some Array I can store the fragments in and then return the array position?</p>\n\n<p>I feel like there is probably a simple elegant and common solution here.</p>\n"}, {"tags": ["object", "kotlin", "transformation"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1551729350, "post_id": 54990498, "comment_id": 96738803, "body": "I don&#39;t get what you&#39;re trying to do - if you&#39;re converting several objects, you&#39;ll likely have to convert it to a shared data format rather than using objects for it."}], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": true, "score": 0, "last_activity_date": 1551729282, "creation_date": 1551729282, "answer_id": 54990599, "question_id": 54990498, "link": "https://stackoverflow.com/questions/54990498/transform-object-in-another-one-manually/54990599#54990599", "title": "Transform object in another one, manually", "body": "<p>You could use the .map function to transform the Conference objects into EntityBrowse objects </p>\n\n<pre><code>val conferences: List&lt;Conference&gt; = getConferences()\n\nval entities: List&lt;Entities&gt; = conferences.map {conference -&gt; \n EntityBrowse(conference.label, conference.uid, conference.action, conference.image) \n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1551729782, "last_edit_date": 1551729782, "creation_date": 1551729464, "answer_id": 54990644, "question_id": 54990498, "link": "https://stackoverflow.com/questions/54990498/transform-object-in-another-one-manually/54990644#54990644", "title": "Transform object in another one, manually", "body": "<p>You can use <code>map</code> function on <code>Single</code> object to transform <code>Single&lt;List&lt;Conference&gt;&gt;</code> to <code>Single&lt;List&lt;EntityBrowse&gt;&gt;</code>:</p>\n\n<pre><code>val result: Single&lt;List&lt;EntityBrowse&gt;&gt; = get(context).map { conferences: List&lt;Conference&gt; -&gt;\n    // transform List&lt;Conference&gt; to List&lt;EntityBrowse&gt; using `conferences` variable\n\n    conferences.map { EntityBrowse(it.label, it.uid, it.action, it.image) }\n}\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 4759182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8aeb3a99d91298b5daac0ec647d445b?s=128&d=identicon&r=PG&f=1", "display_name": "rasilvap", "link": "https://stackoverflow.com/users/4759182/rasilvap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54990599, "answer_count": 2, "score": 0, "last_activity_date": 1551729782, "creation_date": 1551728799, "question_id": 54990498, "link": "https://stackoverflow.com/questions/54990498/transform-object-in-another-one-manually", "title": "Transform object in another one, manually", "body": "<p>I have the next method: </p>\n\n<pre><code>fun get(browsePlayerContext: BrowsePlayerContext):  Single&lt;List&lt;Conference&gt;&gt;\n</code></pre>\n\n<p>Which returns a Single> with the next structure for the Conference object: </p>\n\n<pre><code>data class Conference(\n        val label: String,\n        val uid: UID?,\n        val action: BrowsePlayerAction?,\n        val image: String\n) \n</code></pre>\n\n<p>But I need to transfor this response in a: </p>\n\n<pre><code>Single&lt;List&lt;EntityBrowse&gt;&gt;\n</code></pre>\n\n<p>The entity browse has the same structure I mean: </p>\n\n<pre><code>data class EntityBrowse(\n        val label: String,\n        val uid: UID?,\n        val action: BrowsePlayerAction?,\n        val image: String\n) \n</code></pre>\n\n<p>I am doing the transformation manually, but I need a more sophisticated way, because I am gona get different kind of objects and I will have to do the same transformation to EntityBrowse. </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1551727516, "last_edit_date": 1551727516, "creation_date": 1551727005, "answer_id": 54990106, "question_id": 54989976, "link": "https://stackoverflow.com/questions/54989976/how-can-i-use-a-variable-in-my-inner-class/54990106#54990106", "title": "How can I use a variable in my inner class?", "body": "<p>You should create an instance (call constructor) of class <code>B</code> before accessing its members:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) {\n    val b = A(\"test\").B()\n    b.someFunction() \n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>class A {\n    var myVariable:String? = null\n\n    constructor(myVariable: String) {\n        this.myVariable = myVariable\n    }\n\n    init {\n        println(\"Success !\")\n    } \n\n    inner class B {\n        init {\n            println(myVariable)\n        }\n\n        fun someFunction() {\n            myVariable = \"set new value to the variable\"\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 805, "user_id": 7926889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5PVZK.jpg?s=128&g=1", "display_name": "Luciano Ferruzzi", "link": "https://stackoverflow.com/users/7926889/luciano-ferruzzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551727186, "creation_date": 1551727186, "answer_id": 54990153, "question_id": 54989976, "link": "https://stackoverflow.com/questions/54989976/how-can-i-use-a-variable-in-my-inner-class/54990153#54990153", "title": "How can I use a variable in my inner class?", "body": "<p>Try this:</p>\n\n<pre><code>class A{\n    var myVariable:String?=null\n\n    constructor(myVariable:String){\n        this.myVariable = myVariable\n    }\n\n    init {\n        println(\"Success !\")\n    }\n\n    inner class B{\n        init {\n            println(myVariable)\n        }\n    }\n}\n\nfun main(args:Array&lt;String&gt;){\n    var b = A(\"test\").B() // You have to call the constructor here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 5, "last_activity_date": 1551728514, "last_edit_date": 1551728514, "creation_date": 1551727447, "answer_id": 54990211, "question_id": 54989976, "link": "https://stackoverflow.com/questions/54989976/how-can-i-use-a-variable-in-my-inner-class/54990211#54990211", "title": "How can I use a variable in my inner class?", "body": "<p>When you do:</p>\n\n<pre><code>A(\"test\").B\n</code></pre>\n\n<p>You're saying \"Fetch something from an instance of A\" - in this case, it's a class. However, this isn't the syntax you're looking for in your case. You can get mostly anything, but getting a reference is a separate issue. If you want to get a function, the syntax is different from getting a field or calling a function. Although this isn't very important, bit might still be worth keeping that in mind.</p>\n\n<p>Since B is an inner class, you're so far entirely correct that you need an instance of A first. But you also need an instance of B. When you initialize B, it's still \"connected\" to the parent class, which is why you can access outer variables without any problems. However, it's still an initializable class - and you need to initialize it.</p>\n\n<p>So you need to initialize B as well. The Kotlin syntax for this is pretty nice (where as the syntax in <a href=\"https://stackoverflow.com/a/70358/6296561\">Java is slightly horrible</a>) - all you need to add is <code>()</code> at the end. </p>\n\n<p>So you'll end up with this:</p>\n\n<pre><code>val b = A(\"test\").B()\n// ...\n</code></pre>\n\n<p>This is because it's an inner class. If you had a static inner class (in Kotlin, that's a class within a class without the <code>inner</code> keyword), the initialization would've been <code>A.B()</code> - A isn't initialized in those cases.</p>\n\n<p>You can also split up the initialization:</p>\n\n<pre><code>val a = A(\"test\")\nval b = a.B(); \n</code></pre>\n\n<p>Once you have the variable, it's exactly like every other variable - the only difference here is the initialization. </p>\n"}], "owner": {"reputation": 3, "user_id": 11150049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a42871739e75e5a506a8a54a0a59f1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Peter", "link": "https://stackoverflow.com/users/11150049/jack-peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 54990211, "answer_count": 3, "score": 0, "last_activity_date": 1551728514, "creation_date": 1551726472, "last_edit_date": 1551727138, "question_id": 54989976, "link": "https://stackoverflow.com/questions/54989976/how-can-i-use-a-variable-in-my-inner-class", "title": "How can I use a variable in my inner class?", "body": "<p>I have this code using Kotlin:</p>\n\n<pre><code>class A{\n    var myVariable:String?=null\n\n    constructor(myVariable:String){\n        this.myVariable = myVariable\n    }\n\n    init {\n        println(\"Success !\")\n    }\n\n    inner class B{\n        init {\n            println(myVariable)\n        }\n    }\n}\n\nfun main(args:Array&lt;String&gt;){\n    var b = A(\"test\").B // this does not work\n}\n</code></pre>\n\n<p>And unfortunately it does not work I get:</p>\n\n<pre><code>Error:(20, 23) Kotlin: Nested class 'B' accessed via instance reference\nError:(20, 23) Kotlin: Classifier 'B' does not have a companion object, and thus must be initialized here\n</code></pre>\n\n<p>How can I solve my problem?</p>\n"}]