[{"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 18159, "user_id": 531021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c5d1173daba711bf98ce4de41c3aee?s=128&d=identicon&r=PG", "display_name": "JesusFreke", "link": "https://stackoverflow.com/users/531021/jesusfreke"}, "edited": false, "score": 2, "creation_date": 1527724232, "post_id": 50614778, "comment_id": 88239396, "body": "would &quot;null as IntArray?&quot; work?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "reply_to_user": {"reputation": 18159, "user_id": 531021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c5d1173daba711bf98ce4de41c3aee?s=128&d=identicon&r=PG", "display_name": "JesusFreke", "link": "https://stackoverflow.com/users/531021/jesusfreke"}, "edited": false, "score": 0, "creation_date": 1527724361, "post_id": 50614778, "comment_id": 88239418, "body": "@JesusFreke Yes, thanks. I have overseen this. If you put it in an answer, I will accept it."}, {"owner": {"reputation": 18159, "user_id": 531021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c5d1173daba711bf98ce4de41c3aee?s=128&d=identicon&r=PG", "display_name": "JesusFreke", "link": "https://stackoverflow.com/users/531021/jesusfreke"}, "edited": false, "score": 0, "creation_date": 1527740631, "post_id": 50614778, "comment_id": 88243006, "body": "Thanks, answer added. I&#39;m not super familiar with kotlin yet, so I honestly wasn&#39;t sure that was the right answer :)"}], "answers": [{"tags": [], "owner": {"reputation": 18159, "user_id": 531021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c5d1173daba711bf98ce4de41c3aee?s=128&d=identicon&r=PG", "display_name": "JesusFreke", "link": "https://stackoverflow.com/users/531021/jesusfreke"}, "is_accepted": true, "score": 3, "last_activity_date": 1527740605, "creation_date": 1527740605, "answer_id": 50616614, "question_id": 50614778, "link": "https://stackoverflow.com/questions/50614778/coding-style-function-call-with-typed-null/50616614#50616614", "title": "Coding style: function call with typed null", "body": "<p>\"this cast can never succeed\" is referring to the fact that IntArray is not a nullable type, and so trying to cast null to IntArray will always fail.</p>\n\n<p>Since java reference types can always be null, I would expect kotlin to treat that <code>int[]</code> as an <code>IntArray?</code> (at least, in the absence of a <code>@Nonnull</code> annotation), and so <code>null as IntArray?</code> is what you want.</p>\n\n<p>e.g.</p>\n\n<p><code>val pixel = raster.getPixel(1, 2, null as IntArray?)</code></p>\n"}], "owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 50616614, "answer_count": 1, "score": 3, "last_activity_date": 1527740605, "creation_date": 1527724034, "question_id": 50614778, "link": "https://stackoverflow.com/questions/50614778/coding-style-function-call-with-typed-null", "title": "Coding style: function call with typed null", "body": "<p>E.g. the Java class <code>java.awt.image.Raster</code> has multiple overloaded methods, like</p>\n\n<pre><code>double[] getPixel(int x, int y, double[] dArray)\nfloat[] getPixel(int x, int y, float[] fArray)\nint[] getPixel(int x, int y, int[] iArray)\n</code></pre>\n\n<p>It is allowed to call the method with <code>null</code> as array but how to do it right in Kotlin?</p>\n\n<pre><code>val pixel = raster.getPixel(1, 2, null)\n</code></pre>\n\n<p>fails because of an ambiguity and</p>\n\n<pre><code>val pixel = raster.getPixel(1, 2, null as IntArray)\n</code></pre>\n\n<p>gives a warning that \"This cast can never succeed\".</p>\n\n<p>Is there a way to call the function so that it completely pleases the compiler?</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1527722893, "post_id": 50614601, "comment_id": 88239080, "body": "you seemed to be using the new namespace for androidx, do you have jetifier enabled?"}, {"owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "reply_to_user": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "edited": false, "score": 0, "creation_date": 1527723756, "post_id": 50614601, "comment_id": 88239288, "body": "@LeviAlbuquerque yes, android.enableJetifier and android.useAndroidX are both set to true in gradle.properties"}], "owner": {"reputation": 193, "user_id": 4061331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fcc9a25d39ca58d323118db6b7ebeaa?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Feltimo", "link": "https://stackoverflow.com/users/4061331/joshua-feltimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1527724485, "creation_date": 1527722584, "question_id": 50614601, "link": "https://stackoverflow.com/questions/50614601/cant-import-any-firebase-classes", "title": "Can&#39;t import any Firebase classes", "body": "<p>Out of nowhere, I suddenly can no longer import or use any Firebase classes. The class names show up in intellisense, but when hitting tab to import, it inserts their fully qualified name, and an error in the class name.</p>\n\n<p><strong>build.gradle (app)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 'android-P'\n    defaultConfig {\n        applicationId \"com.opticalgenesis.lbp.dogg\"\n        minSdkVersion 21\n        targetSdkVersion 'P'\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.0'\n    implementation 'com.google.firebase:firebase-core:16.0.0'\n    implementation 'com.google.firebase:firebase-ml-model-interpreter:16.0.0'\n    implementation 'com.google.android.material:material:1.0.0-alpha1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha3'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>build.gradle (project)</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.0-alpha16'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.0.1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven {\n            url=\"https://maven.google.com\"\n        }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>small snippet</strong></p>\n\n<pre><code> private fun setupModel() {\n        val builder = com.google.firebase.ml.custom.model.FirebaseModelDownloadConditions.Builder()\n    }\n</code></pre>\n\n<p>FirebaseModelDownloadConditions is not the only class that doesn't import, they all don't.</p>\n\n<p>Any help is appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "list", "concurrency", "kotlin", "thread-safety"], "comments": [{"owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 1, "creation_date": 1527719082, "post_id": 50614086, "comment_id": 88238096, "body": "Why not just use the Java one? It will work fine since Kotlin is completely interoperable with Java. Kotlin&#39;s mutable lists are not thread-safe."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "reply_to_user": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "edited": false, "score": 3, "creation_date": 1527719261, "post_id": 50614086, "comment_id": 88238151, "body": "@Shadov I don&#39;t think Kotlin&#39;s collection library is interoperable with the JDK&#39;s."}, {"owner": {"reputation": 1570, "user_id": 3935512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e1a647f0bc81d163270414a4ffedcef?s=128&d=identicon&r=PG&f=1", "display_name": "A.Sanchez.SD", "link": "https://stackoverflow.com/users/3935512/a-sanchez-sd"}, "edited": false, "score": 1, "creation_date": 1527719929, "post_id": 50614086, "comment_id": 88238331, "body": "If I try to use the Java List a warning message comes up &quot;This class shouldn&#39;t be used in Kotlin...&quot;  Not sure if that is merely a suggestion or serious direction due to some issue..."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 1, "creation_date": 1527744323, "post_id": 50614086, "comment_id": 88244113, "body": "@shmosel Yes, it is: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html#mapped-types</a>&zwnj;&#8203;."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1527744607, "post_id": 50614086, "comment_id": 88244209, "body": "@AlexeyRomanov Interesting. So does that mean you can actually use the <code>Collections</code> wrappers?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 1, "creation_date": 1527745012, "post_id": 50614086, "comment_id": 88244363, "body": "@shmosel Yes (in a JVM-only project, of course)."}], "answers": [{"comments": [{"owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "edited": false, "score": 4, "creation_date": 1544357462, "post_id": 50617166, "comment_id": 94239964, "body": "Right, it doesn&#39;t really prevent <code>ConcurrentModificationException</code>, for example. You can still get it while accessing the list from two different threads using two methods/functions at the same time."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1613489484, "post_id": 50617166, "comment_id": 117087047, "body": "So there is no completely synchronized collection in Kotlin right now?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1613511395, "post_id": 50617166, "comment_id": 117096183, "body": "As far as I know it&#39;s impossible to create one, in Kotlin or in Java. It <i>has</i> to be specific to your project because different projects need different operations to be atomic."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 11, "last_activity_date": 1527744184, "creation_date": 1527744184, "answer_id": 50617166, "question_id": 50614086, "link": "https://stackoverflow.com/questions/50614086/is-there-a-kotlin-equivalent-of-javas-collections-synchronizedlist-or-is-this/50617166#50617166", "title": "Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin", "body": "<blockquote>\n  <p>If I try to use the Java List a warning message comes up \"This class shouldn't be used in Kotlin...\"</p>\n</blockquote>\n\n<p>Java lists (and other collections) are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">mapped types</a> in Kotlin. So you <em>can</em> use <code>Collections.synchronizedList</code>, and it takes and returns a Kotlin <code>List</code> or <code>MutableList</code>.</p>\n\n<p>OTOH, <code>synchronizedList</code> is rarely what you actually want: it works for single method calls, but anything else must be synchronized manually.</p>\n"}], "owner": {"reputation": 1570, "user_id": 3935512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e1a647f0bc81d163270414a4ffedcef?s=128&d=identicon&r=PG&f=1", "display_name": "A.Sanchez.SD", "link": "https://stackoverflow.com/users/3935512/a-sanchez-sd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13849, "favorite_count": 0, "accepted_answer_id": 50617166, "answer_count": 1, "score": 21, "last_activity_date": 1527744184, "creation_date": 1527718760, "last_edit_date": 1527720228, "question_id": 50614086, "link": "https://stackoverflow.com/questions/50614086/is-there-a-kotlin-equivalent-of-javas-collections-synchronizedlist-or-is-this", "title": "Is there a Kotlin equivalent of Java&#39;s Collections.synchronizedList ? Or is this not needed in Kotlin", "body": "<p>Coding in Kotlin, want a thread-safe List as described here: <a href=\"https://stackoverflow.com/questions/17578299/java-concurrent-array-list-access\">java concurrent Array List access</a></p>\n\n<p>It seems Collections.kt does not have this function. Are Kotlin's mutable lists already threadsafe ? If not, how do I accomplish this ? </p>\n\n<p>Thanks. </p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9590653"}, "edited": false, "score": 0, "creation_date": 1527718509, "post_id": 50613747, "comment_id": 88237954, "body": "Close, I want to be able to call any fragment class and show their fragment. This looks like I still have to create multiple methods"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1527718787, "post_id": 50613747, "comment_id": 88238030, "body": "Sorry I used the wrong variable name in the method, changed it to fragment. I think this method works with any Fragment actually?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1527718745, "last_edit_date": 1527718745, "creation_date": 1527716633, "answer_id": 50613747, "question_id": 50613634, "link": "https://stackoverflow.com/questions/50613634/kotlin-remove-repetitive-method-calls-for-fragments/50613747#50613747", "title": "Kotlin - Remove repetitive method calls for fragments", "body": "<p>If I understand this correcly, you simply create something like the following which takes <code>Fragment</code> as an argument:</p>\n\n<pre><code>private fun openDialogue(fragment: Fragment, text: String) =\n    fragment.show(fragmentManager, text)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1527759008, "creation_date": 1527759008, "answer_id": 50621027, "question_id": 50613634, "link": "https://stackoverflow.com/questions/50613634/kotlin-remove-repetitive-method-calls-for-fragments/50621027#50621027", "title": "Kotlin - Remove repetitive method calls for fragments", "body": "<p>Technically you could do</p>\n\n<pre><code>fun AppCompatActivity.openDialogue(fragment: DialogFragment, tag: String) {\n    fragment.show(supportFragmentManager, tag)\n}\n</code></pre>\n\n<p>But now you have to call it as</p>\n\n<pre><code>openDialogue(GetStartedFragment(), \"About the App\")\nopenDialogue(NewRouteFragment(), \"NewRoute\")\nopenDialogue(TrafficDataFragment(), \"GetTraffic\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": false, "score": 0, "last_activity_date": 1527850868, "creation_date": 1527850868, "answer_id": 50641983, "question_id": 50613634, "link": "https://stackoverflow.com/questions/50613634/kotlin-remove-repetitive-method-calls-for-fragments/50641983#50641983", "title": "Kotlin - Remove repetitive method calls for fragments", "body": "<p>If you want to get fancy and hide Fragment class from the caller you can use an enum for selection which can double as a fragment tag as well:</p>\n\n<pre><code>enum class DialogueType{ GET_STARTED, NEW_ROUTE, TRAFFIC,DATA }\n\nprivate fun openDialogue(type: DialogueType){\n    val fragment = when(type) {\n        GET_STARTED -&gt; GetStartedFragment()\n        NEW_ROUTE -&gt; NewRouteFragment()\n        TRAFFIC_DATA -&gt; TrafficDataFragment()\n    } \n    fragment.show(fragmentManager, type.name)\n}    \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9590653"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1527850868, "creation_date": 1527715958, "question_id": 50613634, "link": "https://stackoverflow.com/questions/50613634/kotlin-remove-repetitive-method-calls-for-fragments", "title": "Kotlin - Remove repetitive method calls for fragments", "body": "<p>I am trying to remove duplicating methods by creating one singular method that takes params. I have a few methods that do the exact thing where they create an instance of a class, a fragment manager and then shows the fragment. Just want to know how I can shorten the following into one method and just pass in params.</p>\n\n<pre><code>private fun openAboutDialogue() {\n    //get a fragment manager\n    val fm = fragmentManager\n    val abtDialogue = GetStartedFragment()\n    abtDialogue.show(fm, \"About the App\")\n}\n\nprivate fun openNewRouteDialogue() {\n    val confirmNewDialogue = NewRouteFragment()\n    val fm = fragmentManager\n    confirmNewDialogue.show(fm, \"NewRoute\")\n}\n\nprivate fun openEndRouteDialogue() {\n    val confirmEndDialogue = TrafficDataFragment()\n    val fm = fragmentManager\n    confirmEndDialogue.show(fm, \"GetTraffic\")\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "metaprogramming", "font-awesome"], "answers": [{"tags": [], "owner": {"reputation": 40475, "user_id": 343568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6178689a51408a46d118830bab53151?s=128&d=identicon&r=PG", "display_name": "nicholas.hauschild", "link": "https://stackoverflow.com/users/343568/nicholas-hauschild"}, "is_accepted": true, "score": 2, "last_activity_date": 1527714661, "creation_date": 1527714661, "answer_id": 50613398, "question_id": 50613166, "link": "https://stackoverflow.com/questions/50613166/kotlin-meta-programming-with-variables/50613398#50613398", "title": "Kotlin meta programming with variables", "body": "<p>Each Enum has a couple of implicit methods, one of which is what I believe you are looking for: <code>EnumClass#valueOf(String)</code></p>\n\n<pre><code>menu.findItem(R.id.action_one).icon = FontAwesomeIcons.valueOf(sqlAppNavigations[0].icon)\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/enum-classes.html#working-with-enum-constants\" rel=\"nofollow noreferrer\">Working with Enum Constants</a></p>\n"}], "owner": {"reputation": 1161, "user_id": 2056117, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93f3bba48b2683a41e9a2625934e6148?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2056117/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 50613398, "answer_count": 1, "score": 2, "last_activity_date": 1527714661, "creation_date": 1527713436, "question_id": 50613166, "link": "https://stackoverflow.com/questions/50613166/kotlin-meta-programming-with-variables", "title": "Kotlin meta programming with variables", "body": "<p>I'm creating an app with a dynamic bottom navigation menu. The <code>title</code> and <code>icon_name</code> of each menu item comes from an API call.</p>\n\n<p>I've managed to read the JSON into an array of models called <code>AppNavigation</code> and I now want to customize the bottom navigation icons and titles.</p>\n\n<p>For titles it was a simple matter of doing this</p>\n\n<pre><code>menu.findItem(R.id.action_one).title = sqlAppNavigations[0].name\n</code></pre>\n\n<p>But the icons are proving much more difficult. I have the icon name which looks like <code>fa_home</code> or <code>fa_users</code>. I need to take this string value and use it to get the icon from a big enum of all FontAwesome icons.</p>\n\n<pre><code>menu.findItem(R.id.action_one).icon = FontAwesomeIcons.fa_home)\n</code></pre>\n\n<p>In Ruby on Rails I'd use the <code>FontAwesomeIcons.send('fa_home')</code> but I don't know how the same thing is accomplished in Kotlin (or if it's even possible with a compiled language).</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito", "variadic-functions", "powermock"], "comments": [{"owner": {"reputation": 40475, "user_id": 343568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6178689a51408a46d118830bab53151?s=128&d=identicon&r=PG", "display_name": "nicholas.hauschild", "link": "https://stackoverflow.com/users/343568/nicholas-hauschild"}, "edited": false, "score": 1, "creation_date": 1527715356, "post_id": 50612920, "comment_id": 88236918, "body": "what version of mockito are you using?"}, {"owner": {"reputation": 2628, "user_id": 1366913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcd760432e7ba71d5f0c71350886456f?s=128&d=identicon&r=PG", "display_name": "nathansizemore", "link": "https://stackoverflow.com/users/1366913/nathansizemore"}, "reply_to_user": {"reputation": 40475, "user_id": 343568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6178689a51408a46d118830bab53151?s=128&d=identicon&r=PG", "display_name": "nicholas.hauschild", "link": "https://stackoverflow.com/users/343568/nicholas-hauschild"}, "edited": false, "score": 0, "creation_date": 1527769484, "post_id": 50612920, "comment_id": 88258301, "body": "@nicholas.hauschild powermock v1.7.4, which has both v1.10.9 and v2.8.9 in their <a href=\"https://github.com/powermock/powermock/blob/powermock-1.7.4/build.gradle#L35-L36\" rel=\"nofollow noreferrer\">build.gradle</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2628, "user_id": 1366913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcd760432e7ba71d5f0c71350886456f?s=128&d=identicon&r=PG", "display_name": "nathansizemore", "link": "https://stackoverflow.com/users/1366913/nathansizemore"}, "is_accepted": true, "score": 0, "last_activity_date": 1527771373, "creation_date": 1527771373, "answer_id": 50624903, "question_id": 50612920, "link": "https://stackoverflow.com/questions/50612920/using-kotlin-and-mockito-to-mock-functions-taking-vararg-parameters/50624903#50624903", "title": "Using Kotlin and Mockito to mock functions taking vararg parameters", "body": "<p>Nicholas Hauschild's answer make me think about removing powermock and just going with regular mockito and junit separately and that worked. Removing powermock and Upgrading mockito to v2.18.3 fixed the issue. </p>\n"}], "owner": {"reputation": 2628, "user_id": 1366913, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bcd760432e7ba71d5f0c71350886456f?s=128&d=identicon&r=PG", "display_name": "nathansizemore", "link": "https://stackoverflow.com/users/1366913/nathansizemore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 50624903, "answer_count": 1, "score": 1, "last_activity_date": 1527771373, "creation_date": 1527712257, "question_id": 50612920, "link": "https://stackoverflow.com/questions/50612920/using-kotlin-and-mockito-to-mock-functions-taking-vararg-parameters", "title": "Using Kotlin and Mockito to mock functions taking vararg parameters", "body": "<p>I'm having trouble utilizing Powermock, Mockito, and Kotlin to mock up a return value when\nthe function signature that needs overriden contains varargs.</p>\n\n<p>Function to mock/override:</p>\n\n<pre><code>public BoundStatement bind(Object... values);\n</code></pre>\n\n<p>Test File:</p>\n\n<pre><code>class DbSessionTest {\n    var preparedStatement: PreparedStatement? = null\n\n    @Mock\n    var boundStatement: BoundStatement? = null\n\n    @Before\n    fun setup() {\n        initMocks(this)\n        whenever(preparedStatement?.bind(any())).thenReturn(boundStatement)\n\n        // Also, have tried it like this\n        whenever(preparedStatement?.bind(any&lt;Array&lt;Any&gt;&gt;())).thenReturn(boundStatement)\n    }\n}\n</code></pre>\n\n<p>The fuction in the actual code is called like so:</p>\n\n<pre><code>internal fun createBoundStatement(query: String, vararg params: Any): BoundStatement {\n    val preparedStatement = prepare(query)\n    val boundStatement = preparedStatement.bind(*params)\n    return boundStatement\n}\n</code></pre>\n\n<p>When I step through and the varargs are dereferenced, it turns into an <code>Object[]</code>.\nWhen the object array contains all the same type, everything works fine, but when\nit contains type <code>String</code> and type <code>Integer</code>, the mock fails to happen and <code>null</code> is\nreturned.</p>\n\n<p>Note: I have also included <code>com.nhaarman.mockito_kotlin.any</code> package for their specific\n<code>any</code> function and <code>anyVararg</code>, but that did not work either.</p>\n\n<p>What is the proper way to mock this so that no matter the type in the Object array,\nit will always return the mocked value?</p>\n"}, {"tags": ["java", "android", "arraylist", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1527709563, "post_id": 50612343, "comment_id": 88234644, "body": "This isn&#39;t clear - could you add some example code to illustrate your issue?"}, {"owner": {"reputation": 1714, "user_id": 2351110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1332323527afc1746bd0379096029b5?s=128&d=identicon&r=PG", "display_name": "killjoy", "link": "https://stackoverflow.com/users/2351110/killjoy"}, "edited": false, "score": 1, "creation_date": 1527709619, "post_id": 50612343, "comment_id": 88234669, "body": "Cast it to <code>MutableList</code>"}, {"owner": {"reputation": 299, "user_id": 7258452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac45d3eeb55d160bdcb9054f87fd5932?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Borikar", "link": "https://stackoverflow.com/users/7258452/abhishek-borikar"}, "edited": false, "score": 0, "creation_date": 1527711235, "post_id": 50612343, "comment_id": 88235342, "body": "Can You give sample code for it??"}], "answers": [{"comments": [{"owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "edited": false, "score": 0, "creation_date": 1566806503, "post_id": 50613554, "comment_id": 101757717, "body": "After specifying the params in the Java method the error still persists and on casting the <code>Unchecked cast</code> warning is thrown. Is casting the most accurate solution to this problem?"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 3, "last_activity_date": 1527715476, "creation_date": 1527715476, "answer_id": 50613554, "question_id": 50612343, "link": "https://stackoverflow.com/questions/50612343/converting-arraylist-from-java-utils-to-kotlin-collections-arraylist/50613554#50613554", "title": "Converting Arraylist from java.utils to kotlin.collections.arraylist", "body": "<p><code>kotlin.collections.ArrayList</code> is just a typealias for <code>java.util.ArrayList</code> on JVM, so you can pass one where the other is expected.</p>\n\n<p>A problem here can be in the fact that you use <a href=\"https://stackoverflow.com/q/2770321/869184\">raw <code>ArrayList</code> type</a> in Java. In Kotlin it will be seen as <code>ArrayList&lt;*&gt;</code>, i.e. parametrized by an unknown type and therefore it won't be assignable to <code>ArrayList&lt;HashMap&lt;String, String&gt;&gt;</code>.</p>\n\n<p>In this case you either have to use an unchecked cast in Kotlin:</p>\n\n<pre><code>al = loadContacts() as ArrayList&lt;HashMap&lt;String, String&gt;&gt;\n</code></pre>\n\n<p>Or - that's better - you should specify type parameters in your Java method:</p>\n\n<pre><code>public ArrayList&lt;HashMap&lt;String, String&gt;&gt; loadContacts() { ... }\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 7258452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac45d3eeb55d160bdcb9054f87fd5932?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Borikar", "link": "https://stackoverflow.com/users/7258452/abhishek-borikar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3338, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1527715476, "creation_date": 1527709479, "last_edit_date": 1527710149, "question_id": 50612343, "link": "https://stackoverflow.com/questions/50612343/converting-arraylist-from-java-utils-to-kotlin-collections-arraylist", "title": "Converting Arraylist from java.utils to kotlin.collections.arraylist", "body": "<p>My project contains two classes one in java another in kotlin. I am calling method in java class from kotlin but the method returns arraylist is in format of java.utils.arraylist but while excepting it need in format of kotlin.collections.arraylist. So is there any way if I could convert or other way to accept arraylist from java to kotlin</p>\n\n<p>kotlin class</p>\n\n<pre><code>class contactAllFragment : Fragment() {\n\n\n@BindView(R.id.contacts_lv) lateinit var contact_lv: ListView\n\nvar al = ArrayList&lt;HashMap&lt;String,String&gt;&gt;()\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n\n    var view: View\n    view = inflater.inflate(R.layout.fragment_contact_all,container,false)\n    ButterKnife.bind(this,view)\n\n\n    //load all contacts\n    al = LoadAllContacts(activity.application.contentResolver,\n            activity.applicationContext)\n            .loadContacts()\n\n    var adapter: SimpleAdapter = SimpleAdapter(context,al,R.layout.listview_style,LoadAllContacts.keys,LoadAllContacts.ids);\n    if(contact_lv!=null)\n        contact_lv.adapter(adapter)\n\n\n\n\n    // Inflate the layout for this fragment\n    return view\n}\n\n@OnItemClick(R.id.contacts_lv)\nfun onItemClick(parent: AdapterView&lt;?&gt;,  position){\n    var hm_element: HashMap&lt;String,String&gt; = al.get(position)\n    var name: String = hm_element.get(LoadAllContacts.keys[0])\n    var number: String = hm_element.get(LoadAllContacts.keys[1])\n}\n}\n</code></pre>\n\n<p>following is java code</p>\n\n<pre><code>public class LoadAllContacts {\n\n//parameter to import\nprivate ContentResolver contentResolver;\nprivate Context context;\n\npublic static ArrayList al=null;\n\nprivate Cursor cursor_Android_Contacts = null;\npublic static final String[] keys = {\"name\"};\npublic static final int[] ids = {R.id.contact_name};\n\npublic LoadAllContacts( ContentResolver contentResolver, Context context) {\n    this.contentResolver = contentResolver;\n    this.context = context;\n}\n\npublic ArrayList loadContacts() {\n\n    al = new ArrayList();\n\n    //to get connection to database in android we use content resolver\n    //get all contacts\n    try {\n        //sort the list while taking contact_id itself\n\n        cursor_Android_Contacts = contentResolver.query(ContactsContract.Contacts.CONTENT_URI,\n                null,\n                null,\n                null,\n                ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + \" ASC\");\n    } catch (Exception e) {\n\n        Log.e(\"error in contact\", e.getMessage());\n    }\n\n    //check if it has contacts\n    if (cursor_Android_Contacts.getCount() &gt; 0) {\n\n\n        if (cursor_Android_Contacts.moveToFirst()) {\n\n            do {\n            //get the object of class android contact to store values and string to get the data from android database\n                HashMap hm = new HashMap();\n                String contact_id = cursor_Android_Contacts.getString(\n                        cursor_Android_Contacts.getColumnIndex(\n                                ContactsContract.Contacts._ID));\n                String contact_display_name = cursor_Android_Contacts.getString(cursor_Android_Contacts.getColumnIndex(ContactsContract.Contacts.DISPLAY_NAME));\n\n                hm.put(keys[0], contact_display_name);\n                int hasPhoneNumber = Integer.parseInt(cursor_Android_Contacts.getString(cursor_Android_Contacts.getColumnIndex(ContactsContract.Contacts.HAS_PHONE_NUMBER)));\n                if (hasPhoneNumber &gt; 0) {\n\n                    Cursor phoneCursor = contentResolver.query(\n                            ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n                            null,\n                            ContactsContract.CommonDataKinds.Phone.CONTACT_ID + \" =? \",\n                            new String[]{contact_id},\n                            null\n                    );\n\n                    if (phoneCursor.moveToFirst()) {\n                        String phoneNumber = phoneCursor.getString(phoneCursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n                        //hm.put(keys[1], phoneNumber);\n                    }\n\n                    phoneCursor.close();\n                }\n                al.add(hm);\n            } while (cursor_Android_Contacts.moveToNext());\n        }\n        return al;\n    }\n    return al;\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "autocompletetextview"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "is_accepted": false, "score": 0, "last_activity_date": 1527707800, "creation_date": 1527707800, "answer_id": 50611978, "question_id": 50611591, "link": "https://stackoverflow.com/questions/50611591/display-autocompletetextview-description-searching-for-id/50611978#50611978", "title": "Display AutoCompleteTextView description searching for id", "body": "<p>I solved it</p>\n\n<pre><code>AutoCompleteTextView.showDropDown()\n</code></pre>\n\n<p>Thanks anyway!</p>\n"}], "owner": {"reputation": 53, "user_id": 9673103, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMw7I1M9Ba4/AAAAAAAAAAI/AAAAAAAABi4/hRRF5fdFFEk/photo.jpg?sz=128", "display_name": "Said", "link": "https://stackoverflow.com/users/9673103/said"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527707800, "creation_date": 1527706166, "last_edit_date": 1527706473, "question_id": 50611591, "link": "https://stackoverflow.com/questions/50611591/display-autocompletetextview-description-searching-for-id", "title": "Display AutoCompleteTextView description searching for id", "body": "<p>As the title suggest, I have an <code>AutoCompleteTextView</code> and a table with two columns (ID, Description). I want to be able to input the ID and show the list of the Descriptions matching that, for example:</p>\n\n<pre><code>ID     Description\n1111   Soda\n1112   Beans\n1113   Flour\n</code></pre>\n\n<p>If I type 111 in the <code>AutoCompleteTextView</code>, it has to show the three items.</p>\n\n<p>The query is working, everything is working, but because the <code>AutoCompleteTextView</code> needs the text to show suggestions, it doesn't show anything when typing 111.</p>\n\n<p>Is it possible?</p>\n\n<p>Thanks in advance!.</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 2411, "user_id": 5050924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eg5vA.jpg?s=128&g=1", "display_name": "Facundo Larrosa", "link": "https://stackoverflow.com/users/5050924/facundo-larrosa"}, "edited": false, "score": 0, "creation_date": 1527706750, "post_id": 50611548, "comment_id": 88233342, "body": "Have you tried <a href=\"https://stackoverflow.com/a/47705238/5050924\">this</a> ?"}, {"owner": {"reputation": 31, "user_id": 9872160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Drashty", "link": "https://stackoverflow.com/users/9872160/drashty"}, "reply_to_user": {"reputation": 2411, "user_id": 5050924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eg5vA.jpg?s=128&g=1", "display_name": "Facundo Larrosa", "link": "https://stackoverflow.com/users/5050924/facundo-larrosa"}, "edited": false, "score": 0, "creation_date": 1527742130, "post_id": 50611548, "comment_id": 88243410, "body": "Yes, that is not an issue, it is already tried,"}, {"owner": {"reputation": 31, "user_id": 9872160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Drashty", "link": "https://stackoverflow.com/users/9872160/drashty"}, "reply_to_user": {"reputation": 2411, "user_id": 5050924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eg5vA.jpg?s=128&g=1", "display_name": "Facundo Larrosa", "link": "https://stackoverflow.com/users/5050924/facundo-larrosa"}, "edited": false, "score": 0, "creation_date": 1527742431, "post_id": 50611548, "comment_id": 88243498, "body": "If I create new sample project using Android studio 3.2 Canary 16 and convert it to AndroidX, build apk from Build -&gt; Build bundle -&gt; apk and copy that in device, it gives error as: \u201cApp not installed\u201d"}], "owner": {"reputation": 31, "user_id": 9872160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Drashty", "link": "https://stackoverflow.com/users/9872160/drashty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1527765654, "creation_date": 1527705966, "last_edit_date": 1527765654, "question_id": 50611548, "link": "https://stackoverflow.com/questions/50611548/debugging-android-application-installing-apk-gives-app-not-installed", "title": "Debugging Android application: installing apk gives &quot;app not installed&quot;", "body": "<p>I am using androidx packages in my project. Today, I am suddenly facing issues when installing the application on my device.</p>\n\n<p>I use the following:</p>\n\n<pre><code>classpath 'com.android.tools.build:gradle:3.2.0-alpha16'\n</code></pre>\n\n<p>in app gradle:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\nimplementation 'androidx.appcompat:appcompat:1.0.0-alpha1'\nimplementation 'com.google.android.material:material:1.0.0-alpha1'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.0'\nimplementation 'androidx.lifecycle:lifecycle-extensions:2.0.0-alpha1'\nimplementation 'com.google.code.gson:gson:2.8.2'\ntestImplementation 'junit:junit:4.12'\nimplementation 'com.google.android.gms:play-services-ads:15.0.1'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha3', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n}\nimplementation 'com.google.firebase:firebase-core:16.0.0'\nimplementation 'com.google.firebase:firebase-messaging:17.0.0'\nimplementation 'com.firebase:firebase-jobdispatcher:0.8.5'\nimplementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\nimplementation 'androidx.core:core-ktx:1.0.0-alpha1'\nimplementation 'com.google.firebase:firebase-storage:16.0.1'\nimplementation 'com.google.firebase:firebase-database:16.0.1'\nimplementation 'androidx.multidex:multidex-instrumentation:2.0.0'\n</code></pre>\n\n<p>Now, when I am creating build and run on device, it works perfectly fine!</p>\n\n<p>When I create build from Build bundle/apk and copy that APK in mobile and install it, it is giving error as \"<strong>App not installed</strong>\".\nNote:</p>\n\n<ul>\n<li>There is not any already installed application on device. </li>\n<li>There are no multiple user case on device. </li>\n<li>This error is not coming on signed apk but it is on <strong><em>debug apk</em></strong> as well.</li>\n<li>This project is flavor based and package name is different for each flavor.</li>\n</ul>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1527705899, "post_id": 50611321, "comment_id": 88232930, "body": "What does your code look like so far? This isn&#39;t a code writing service."}, {"owner": {"reputation": 11151, "user_id": 1039278, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NjJGg.jpg?s=128&g=1", "display_name": "TareK Khoury", "link": "https://stackoverflow.com/users/1039278/tarek-khoury"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1527706374, "post_id": 50611321, "comment_id": 88233170, "body": "@zsmb13 Here is a sample code snippet I&#39;ve been working on"}], "answers": [{"comments": [{"owner": {"reputation": 11151, "user_id": 1039278, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NjJGg.jpg?s=128&g=1", "display_name": "TareK Khoury", "link": "https://stackoverflow.com/users/1039278/tarek-khoury"}, "edited": false, "score": 0, "creation_date": 1527706826, "post_id": 50611607, "comment_id": 88233383, "body": "Correct. But, ya i do know that &quot;1&quot; and &quot;0&quot; is not a boolean for me. Also, i have posted a code snippet that I&#39;ve worked on as a sample"}, {"owner": {"reputation": 1448, "user_id": 3551916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/io6ZS.jpg?s=128&g=1", "display_name": "ThunderStruct", "link": "https://stackoverflow.com/users/3551916/thunderstruct"}, "reply_to_user": {"reputation": 11151, "user_id": 1039278, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NjJGg.jpg?s=128&g=1", "display_name": "TareK Khoury", "link": "https://stackoverflow.com/users/1039278/tarek-khoury"}, "edited": false, "score": 0, "creation_date": 1527707230, "post_id": 50611607, "comment_id": 88233591, "body": "I understand that by convention, most people can agree on a string literal&#39;s type. I was simply just illustrating some pitfalls. I checked your snippet and I have to ask, what&#39;s wrong with it? Your code&#39;s logic is on the right track so far! Just keep checking for the other types you&#39;re supporting in <code>getValueType()</code>"}, {"owner": {"reputation": 11151, "user_id": 1039278, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NjJGg.jpg?s=128&g=1", "display_name": "TareK Khoury", "link": "https://stackoverflow.com/users/1039278/tarek-khoury"}, "edited": false, "score": 0, "creation_date": 1527707427, "post_id": 50611607, "comment_id": 88233684, "body": "I am relatively new to Kotlin, so i thought maybe there are extensions/shortcuts that i am not familiar with yet."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 11151, "user_id": 1039278, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NjJGg.jpg?s=128&g=1", "display_name": "TareK Khoury", "link": "https://stackoverflow.com/users/1039278/tarek-khoury"}, "edited": false, "score": 0, "creation_date": 1527707905, "post_id": 50611607, "comment_id": 88233888, "body": "@TareKKhoury - It&#39;s possible that there is something buried in the Kotlin stdlib somewhere, but this requirement is quite specific.  If this corresponds to (say) JSON conversion, then you may be better off using a dedicated JSON library (e.g. Jackson)."}, {"owner": {"reputation": 1448, "user_id": 3551916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/io6ZS.jpg?s=128&g=1", "display_name": "ThunderStruct", "link": "https://stackoverflow.com/users/3551916/thunderstruct"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1527708239, "post_id": 50611607, "comment_id": 88234035, "body": "I agree with @OliverCharlesworth regarding using a dedicated JSON library if the conversions correspond to what you&#39;re seeking. I can also tell you for sure that, coming from a Java background, this kind of type-inference has to be done manually. I&#39;m almost entirely sure that&#39;s the case with Kotlin as well. Check <a href=\"https://stackoverflow.com/questions/13314215/java-how-to-infer-type-from-data-coming-from-multiple-sources\">this</a> out, it&#39;s pretty much what you&#39;ve done!"}], "tags": [], "owner": {"reputation": 1448, "user_id": 3551916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/io6ZS.jpg?s=128&g=1", "display_name": "ThunderStruct", "link": "https://stackoverflow.com/users/3551916/thunderstruct"}, "is_accepted": false, "score": 1, "last_activity_date": 1527706260, "creation_date": 1527706260, "answer_id": 50611607, "question_id": 50611321, "link": "https://stackoverflow.com/questions/50611321/kotlin-cast-string-value-to-the-correct-representation/50611607#50611607", "title": "Kotlin cast String value to the correct representation", "body": "<p>This solely depends on your interpretation of what is the \"correct\" representation. For instance, a value of <code>\"0\"</code> could be an <code>Int</code> or a false <code>Boolean</code>. </p>\n\n<p>Another issue you'll face here is that you'll have to dynamically cast the variable either way. If you chose to create a <code>JSONObject</code> out of that string and generate a <code>List&lt;Object&gt;</code> from it, or even if you wrote your own method that converts string values to <code>Object</code>s, you'll still need to cast said object to its appropriate form (possibly check its type using the <code>is</code> operator). In order for you to have a method this abstract, you'll have to deal with casting its generic result manually.</p>\n\n<p>I can help you out with a more practical answer than a conceptual one like this, but you'll need to provide some code</p>\n"}], "owner": {"reputation": 11151, "user_id": 1039278, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/NjJGg.jpg?s=128&g=1", "display_name": "TareK Khoury", "link": "https://stackoverflow.com/users/1039278/tarek-khoury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1527706277, "creation_date": 1527704981, "last_edit_date": 1527706277, "question_id": 50611321, "link": "https://stackoverflow.com/questions/50611321/kotlin-cast-string-value-to-the-correct-representation", "title": "Kotlin cast String value to the correct representation", "body": "<p>I have a method that accepts a <code>value: String?</code>. The purpose of the method is to convert the String value to the correct representation. For example:</p>\n\n<p><code>\"true\" -&gt; a Boolean that has a true value</code></p>\n\n<p><code>\"20\" -&gt; an Int that contains 20</code></p>\n\n<p><code>\"1223.2\" -&gt; a Dobule</code></p>\n\n<p>What is the most effective/concise way to achieve this result in Koltin?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here is my current code:</p>\n\n<pre><code>private fun insertRealType(map: WritableMap, key: String, value: String?) {\n\n    val test = getValueType(value)\n\n    when (test) {\n        is String -&gt; map.putString(key, test)\n        is Boolean -&gt; map.putBoolean(key, test)\n        is Int -&gt; map.putInt(key, test)\n        is Double -&gt; map.putDouble(key, test)\n        else -&gt; map.putNull(key)\n    }\n}\n\nprivate fun getValueType(value: String?): Any {\n\n    var returnValue: Any?\n\n    returnValue = value?.toDoubleOrNull()\n\n    if (returnValue != null)\n        return returnValue\n\n    returnValue = value?.toIntOrNull()\n\n    if (returnValue != null)\n        return returnValue\n\n    // ETC......\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1527707036, "post_id": 50611060, "comment_id": 88233489, "body": "Have you tried to add this <code>implementation &#39;com.google.firebase:firebase-database:16.0.1&#39;</code>?"}, {"owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1527927954, "post_id": 50611060, "comment_id": 88320069, "body": "i don&#39;t used it, but i think your application should be have a ssh key in firebase project setting. Try to find information about it."}], "owner": {"reputation": 2095, "user_id": 6563022, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/605f45517e866d7be896740ffe219d15?s=128&d=identicon&r=PG&f=1", "display_name": "EdgeDev", "link": "https://stackoverflow.com/users/6563022/edgedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527706891, "creation_date": 1527703870, "last_edit_date": 1527706891, "question_id": 50611060, "link": "https://stackoverflow.com/questions/50611060/sign-in-with-google-in-firebase-auth-not-working", "title": "&#39;Sign In with Google&#39; in Firebase Auth not working", "body": "<p>My dependencies in build.gradle (Module : app):</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-core:16.0.0'\nimplementation 'com.google.firebase:firebase-ads:15.0.1'\nimplementation 'com.google.firebase:firebase-perf:16.0.0'\nimplementation 'com.google.firebase:firebase-analytics:16.0.0'\nimplementation 'com.google.firebase:firebase-firestore:17.0.1'\nimplementation 'com.google.firebase:firebase-auth:16.0.1'\nimplementation 'com.google.android.gms:play-services-auth:15.0.1'\nimplementation 'com.firebaseui:firebase-ui-auth:4.0.0'\nimplementation 'com.firebaseui:firebase-ui-database:4.0.0'\n</code></pre>\n\n<p>google services version\n    classpath 'com.google.gms:google-services:4.0.1'</p>\n\n<p>Login Method :</p>\n\n<pre><code>private fun launchSignInScreen() {\n    startActivityForResult(\n            AuthUI.getInstance()\n                    .createSignInIntentBuilder()\n                    .setAvailableProviders(Arrays.asList(\n                            AuthUI.IdpConfig.GoogleBuilder().build(),\n                            AuthUI.IdpConfig.EmailBuilder().build())\n                    ).build(),\n            SIGN_IN_REQUEST_CODE)\n}\n</code></pre>\n\n<p>Whenever I tap Sign in with Google and I select a Google Account I get a Toast message: </p>\n\n<blockquote>\n  <p>An unknown error occured.</p>\n</blockquote>\n\n<p>Yes, \"Sign in with Google\" is enabled in Firebase dashboard</p>\n\n<p>What could be wrong how can i get it to work?</p>\n"}, {"tags": ["algorithm", "list", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 3024933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100004051072097/picture?type=large", "display_name": "just", "link": "https://stackoverflow.com/users/3024933/just"}, "is_accepted": false, "score": 1, "last_activity_date": 1527703217, "creation_date": 1527703217, "answer_id": 50610897, "question_id": 50610836, "link": "https://stackoverflow.com/questions/50610836/kotlin-order-list-by-category-and-subcategory/50610897#50610897", "title": "Kotlin - Order list by category and subcategory", "body": "<p>You can do this with this code:</p>\n\n<pre><code>yourList.sortedWith(compareBy({ it.Category }, { it.Subcategory }))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 247, "user_id": 4880751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206642133272763/picture?type=large", "display_name": "Romain Caron", "link": "https://stackoverflow.com/users/4880751/romain-caron"}, "edited": false, "score": 0, "creation_date": 1527706564, "post_id": 50610934, "comment_id": 88233256, "body": "Thank you, It was exactly what I was looking for :)"}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": true, "score": 1, "last_activity_date": 1527703379, "creation_date": 1527703379, "answer_id": 50610934, "question_id": 50610836, "link": "https://stackoverflow.com/questions/50610836/kotlin-order-list-by-category-and-subcategory/50610934#50610934", "title": "Kotlin - Order list by category and subcategory", "body": "<p><strong>objectList</strong> - List of Object Type</p>\n\n<p>Sorting this <code>objectList</code> by <strong>Category</strong> then by <strong>Subcategory</strong></p>\n\n<pre><code>objectList.sortedWith(compareBy&lt;ObjectType&gt;{ it.Category }.thenBy{ it.Subcategory })\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4880751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206642133272763/picture?type=large", "display_name": "Romain Caron", "link": "https://stackoverflow.com/users/4880751/romain-caron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "closed_date": 1527704509, "accepted_answer_id": 50610934, "answer_count": 2, "score": 0, "last_activity_date": 1527703641, "creation_date": 1527702972, "last_edit_date": 1527703641, "question_id": 50610836, "link": "https://stackoverflow.com/questions/50610836/kotlin-order-list-by-category-and-subcategory", "closed_reason": "Duplicate", "title": "Kotlin - Order list by category and subcategory", "body": "<p>I have a list of object with a String attribute \"Category\" and the other String attribute with a String attribute \"Subcategory\".</p>\n\n<p>I would like to order my list by Category and inside each category order them by Subcategory. </p>\n\n<p>For example I have a list like : </p>\n\n<p>Object1(\"Category1\",\"Subcategory1\"),</p>\n\n<p>Object2(\"Category2\",\"SubcategoryA\"),</p>\n\n<p>Object3(\"Category1\",\"Subcategory1\"),</p>\n\n<p>Object4(\"Category1\",\"Subcategory2\"),</p>\n\n<p>Object5(\"Category2\",\"SubcategoryB\")</p>\n\n<p>I would like to have a list order like: {Object1, Object3, Object4, Object2, Object5}</p>\n\n<p>Is there a simple way to do that in Kotlin? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 221, "user_id": 9866776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a1d152df5dd1d6884a15404dda9ca5?s=128&d=identicon&r=PG&f=1", "display_name": "Alex GS", "link": "https://stackoverflow.com/users/9866776/alex-gs"}, "edited": false, "score": 0, "creation_date": 1527697793, "post_id": 50609506, "comment_id": 88228771, "body": "Take a look at this: <a href=\"https://stackoverflow.com/a/26865122/9866776\">stackoverflow.com/a/26865122/9866776</a> , I think it solves your problem"}], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 6614067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a6f0ffaa1000e49e101c58538662d1?s=128&d=identicon&r=PG&f=1", "display_name": "toltman", "link": "https://stackoverflow.com/users/6614067/toltman"}, "is_accepted": false, "score": 10, "last_activity_date": 1535709416, "last_edit_date": 1535709416, "creation_date": 1527698119, "answer_id": 50609629, "question_id": 50609506, "link": "https://stackoverflow.com/questions/50609506/java-stream-sort-by-2-fields/50609629#50609629", "title": "Java stream sort by 2 fields", "body": "<p>You can use <code>Comparator</code> for sorting data using streams</p>\n\n<pre><code>//first comparison\nComparator&lt;YourType&gt; comparator = Comparator.comparing(s -&gt; s.intervalType.orderIndex);\n\n//second comparison\ncomparator = comparator.thenComparing(Comparator.comparing(s-&gt; s.item.amount));\n\n//sorting using stream\nresult.stream().sorted(comparator).collect(Collectors.toList())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1063, "user_id": 7193786, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/VSW46.jpg?s=128&g=1", "display_name": "Sahbaz", "link": "https://stackoverflow.com/users/7193786/sahbaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1527699470, "creation_date": 1527699470, "answer_id": 50609956, "question_id": 50609506, "link": "https://stackoverflow.com/questions/50609506/java-stream-sort-by-2-fields/50609956#50609956", "title": "Java stream sort by 2 fields", "body": "<p>I have found best possible way to do it, since i'm using Kotlin it can be done like this:</p>\n\n<pre><code>result.sortedWith(compareBy({ it.intervalType.orderIndex }, { it.item.amount }))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1063, "user_id": 7193786, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/VSW46.jpg?s=128&g=1", "display_name": "Sahbaz", "link": "https://stackoverflow.com/users/7193786/sahbaz"}, "edited": false, "score": 0, "creation_date": 1527777106, "post_id": 50620364, "comment_id": 88263484, "body": "That is what i have written in my previous comment"}], "tags": [], "owner": {"reputation": 2850, "user_id": 6375041, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/251807625186795/picture?type=large", "display_name": "Sergei Rybalkin", "link": "https://stackoverflow.com/users/6375041/sergei-rybalkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1527758479, "last_edit_date": 1527758479, "creation_date": 1527757012, "answer_id": 50620364, "question_id": 50609506, "link": "https://stackoverflow.com/questions/50609506/java-stream-sort-by-2-fields/50620364#50620364", "title": "Java stream sort by 2 fields", "body": "<p>If you are doing it with Kotlin - you should do it in Kotlin way.</p>\n\n<p>heaving <code>Internal</code> class</p>\n\n<pre><code>class Internal(val orderIndex: Int, val ammount: Int)\n</code></pre>\n\n<p>You can easily write a any combination of comparators with <code>compareBy</code></p>\n\n<pre><code>// result: List&lt;Internal&gt;\nresult.sortedWith(compareBy( {it.orderIndex}, {it.ammount} ))\n</code></pre>\n\n<p>In your task there is no need in streams, you can do it direclty.\nIn case you need exactly streams - use this <code>compareBy</code> aggregate inside stream:</p>\n\n<pre><code>result.stream().sorted(compareBy( ... ).collect( ... )\n</code></pre>\n"}], "owner": {"reputation": 1063, "user_id": 7193786, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/VSW46.jpg?s=128&g=1", "display_name": "Sahbaz", "link": "https://stackoverflow.com/users/7193786/sahbaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6375, "favorite_count": 2, "accepted_answer_id": 50609956, "answer_count": 3, "score": 5, "last_activity_date": 1535709416, "creation_date": 1527697587, "last_edit_date": 1527777060, "question_id": 50609506, "link": "https://stackoverflow.com/questions/50609506/java-stream-sort-by-2-fields", "title": "Java stream sort by 2 fields", "body": "<p>I have list of items that i need to sort by 2 parameters, first param is orderIndex, and i have that part working correctly (see bellow code), second param after orderIndex is amount. So basically first items should be ones with lowest order index, and they needs to be sorted by amount.</p>\n\n<pre><code>result.stream().sorted { s1, s2 -&gt; s1.intervalType.orderIndex.compareTo(s2.intervalType.orderIndex) }.collect(Collectors.toList())\n</code></pre>\n\n<p>At this moment i have that code, and it is sorting just by orderIndex, second parameter amount is located at s1.item.amount.</p>\n\n<p>Any idea how to upgrade this code with second ordering param ?</p>\n\n<p>I have found this example </p>\n\n<pre><code>persons.stream().sorted(Comparator.comparing(Person::getName).thenComparing(Person::getAge));\n</code></pre>\n\n<p>my question here is, how to access other object in Person, for example in my case i have IntervalType object in object that i'm sorting, and i need to use intervalType.orderIndex</p>\n\n<p>Note: </p>\n\n<p>Just for note i need this in Kotlin not in Java.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527695036, "post_id": 50608461, "comment_id": 88227212, "body": "What is your Kotlin dependency in your build.gradle?"}, {"owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527695818, "post_id": 50608461, "comment_id": 88227676, "body": "Hey @EpicPandaForce I have these dependencies : implementation&quot;org.jetbrains.kotlin:kotlin-reflect:1.2.41&quot;     implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.41&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 587, "user_id": 1663453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d82b6fba5bd6673dfe7ed0112aa8ccf?s=128&d=identicon&r=PG", "display_name": "Sierisimo", "link": "https://stackoverflow.com/users/1663453/sierisimo"}, "is_accepted": true, "score": 2, "last_activity_date": 1527772600, "last_edit_date": 1527772600, "creation_date": 1527701649, "answer_id": 50610538, "question_id": 50608461, "link": "https://stackoverflow.com/questions/50608461/caused-by-java-lang-abstractmethoderror-abstract-method-in-kotlin/50610538#50610538", "title": "Caused by: java.lang.AbstractMethodError: abstract method in Kotlin", "body": "<p>For your question: </p>\n\n<blockquote>\n  <p>How do I pass a function as a parameter? I just want to execute parseFiles(file) for each iteration</p>\n</blockquote>\n\n<p>You can simply replace:</p>\n\n<pre><code>.forEach { parseFiles(it) }\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>.forEach(::parseFiles)\n</code></pre>\n\n<p>Which represents a reference, you are passing the name of the function that can take care of the type of parameter the <code>forEach</code> will produce.</p>\n\n<hr>\n\n<p>But the exception that you're getting it's related to something else. I think it's related to the version of your final bytecode. I tested your code on an environment using </p>\n\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_8\n</code></pre>\n\n<p>and </p>\n\n<pre><code>compileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>so in java 8 you have access to <code>default</code> methods on interfaces, Kotlin has this by default but if you are targeting Java 7 probably you don't have access to this. That's my guess.</p>\n"}], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2894, "favorite_count": 1, "accepted_answer_id": 50610538, "answer_count": 1, "score": 3, "last_activity_date": 1527772600, "creation_date": 1527694115, "last_edit_date": 1527697396, "question_id": 50608461, "link": "https://stackoverflow.com/questions/50608461/caused-by-java-lang-abstractmethoderror-abstract-method-in-kotlin", "title": "Caused by: java.lang.AbstractMethodError: abstract method in Kotlin", "body": "<p>I have this code here:</p>\n\n<pre><code>interface MyClass {\n    fun main() {\n        File(TentDatabase.getPathRepository(context)).walkBottomUp()\n                .filter { it.isFile }\n                .forEach { parseFiles(it) } //I think here is the problem\n    }\n\n      fun parseFiles(file: File) {\n             val extension = file.path.substringAfterLast('.', \"\")\n             Log.i(\"DB\", \"name - $extension\")\n      } \n}\n</code></pre>\n\n<p>WhenI  try to run this code I get the exception:</p>\n\n<pre><code>Caused by: java.lang.AbstractMethodError: abstract method \"void org.secfirst.umbrella.data.internal.TentDao.parseFiles(java.io.File)\"\n</code></pre>\n\n<p>How do I pass a function as a parameter? I just want to execute parseFiles(file) for each iteration.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9311, "user_id": 214525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7684a686e233476c6713ced10a9cef41?s=128&d=identicon&r=PG", "display_name": "f1sh", "link": "https://stackoverflow.com/users/214525/f1sh"}, "edited": false, "score": 1, "creation_date": 1527693536, "post_id": 50608193, "comment_id": 88226245, "body": "And where is your problem? You already have a field <code>mToolTipVisibility</code> that stores the current state..."}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 5591293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXNAK.jpg?s=128&g=1", "display_name": "Vallas", "link": "https://stackoverflow.com/users/5591293/vallas"}, "is_accepted": false, "score": 0, "last_activity_date": 1527694198, "last_edit_date": 1527694198, "creation_date": 1527693557, "answer_id": 50608300, "question_id": 50608193, "link": "https://stackoverflow.com/questions/50608193/kotlin-toggling-tooltips/50608300#50608300", "title": "Kotlin - Toggling tooltips", "body": "<p>You haven't specified in what way you want to combine those methods (with a parameter or without a parameter for example). But this is what I came up with.</p>\n\n<pre><code>   private fun toggleToolTips() {\n        if(mToolTipVisibility) \n          mMarker.hideInfoWindow()\n        else \n         mMarker.showInfoWindow()\n\n        for (tv in mToolTipArrLst) {\n            tv.isEnabled = !tv.isEnabled;\n\n            if (tv.isEnabled)\n              tv.visibility = View.VISIBLE\n            else\n              tv.visibility = View.INVISIBLE\n\n        }\n        mToolTipVisibility = tv.isEnabled\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1062, "user_id": 9629698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kTsS.png?s=128&g=1", "display_name": "DAA", "link": "https://stackoverflow.com/users/9629698/daa"}, "is_accepted": false, "score": 2, "last_activity_date": 1527693619, "creation_date": 1527693619, "answer_id": 50608319, "question_id": 50608193, "link": "https://stackoverflow.com/questions/50608193/kotlin-toggling-tooltips/50608319#50608319", "title": "Kotlin - Toggling tooltips", "body": "<p>You can use a single method with a boolean to indicate if you show or hide it:</p>\n\n<pre><code>fun showOrHide(show: Boolean) {\n    if (show) mMarker.showInfoWindow() else mMarker.hideInfoWindow()\n    for (tv in mToolTipArrLst) {\n        tv.isEnabled = show\n        tv.visibility = if (show) View.VISIBLE else View.INVISIBLE\n    }\n    mToolTipVisibility = show\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1527693781, "creation_date": 1527693781, "answer_id": 50608364, "question_id": 50608193, "link": "https://stackoverflow.com/questions/50608193/kotlin-toggling-tooltips/50608364#50608364", "title": "Kotlin - Toggling tooltips", "body": "<p>try this:</p>\n\n<pre><code>private fun fixToolTips(flag: Boolean) {\n    if (flag) mMarker.showInfoWindow() else mMarker.hideInfoWindow() \n    for (tv in mToolTipArrLst) {\n        tv.isEnabled = flag\n        tv.visibility = if (flag) View.VISIBLE else View.INVISIBLE\n    }\n    mToolTipVisibility = flag\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9590653"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1527740553, "creation_date": 1527693255, "last_edit_date": 1527740553, "question_id": 50608193, "link": "https://stackoverflow.com/questions/50608193/kotlin-toggling-tooltips", "title": "Kotlin - Toggling tooltips", "body": "<p>This currently works but I am trying to reduce the code by calling it in one method. It hides and shows tooltips that I created. What I am trying to do is put the following into one method.</p>\n\n<pre><code>private fun showToolTips() {\n    mMarker.showInfoWindow()\n    for (tv in mToolTipArrLst) {\n        tv.isEnabled = true\n        tv.visibility = View.VISIBLE\n    }\n    mToolTipVisibility = true\n}\n\nprivate fun hideToolTips() {\n    mMarker.hideInfoWindow()\n    for (tv in mToolTipArrLst) {\n        tv.isEnabled = false\n        tv.visibility = View.INVISIBLE\n    }\n    mToolTipVisibility = false\n}\n</code></pre>\n"}, {"tags": ["mongodb", "spring-boot", "kotlin", "spring-data", "spring-data-mongodb"], "answers": [{"tags": [], "owner": {"reputation": 14696, "user_id": 2067527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5f6e8dffbb19acf405198c8fb917337?s=128&d=identicon&r=PG", "display_name": "mp911de", "link": "https://stackoverflow.com/users/2067527/mp911de"}, "is_accepted": true, "score": 1, "last_activity_date": 1528051951, "creation_date": 1528051951, "answer_id": 50669865, "question_id": 50607034, "link": "https://stackoverflow.com/questions/50607034/push-a-flux-using-spring-data-with-reactive-mongodb/50669865#50669865", "title": "Push a Flux using Spring Data with Reactive MongoDB", "body": "<h1>TL; DR</h1>\n\n<p>You need to collect the items upfront and <code>$push</code> a collection of items.</p>\n\n<h1>Explanation</h1>\n\n<p>You can't use reactive wrapper types as values of a MongoDB query as they are required to be resolved to values upfront. You can achieve what you want by applying <code>collectList()</code> and <code>flatMap()</code> operators:</p>\n\n<pre><code>val flux: Flux&lt;Something&gt;\n\nflux.collectList()\n    .flatMap { mongo.upsert(query(where(\"_id\").isEqualTo(\"myId\")),\n                    Update().push(\"myArray\").each(it),\n                    \"collection\")  }\n</code></pre>\n\n<p>If the number of elements grows beyond a resonable limit, then <code>buffer(n)</code> might be the more appropriate choice.</p>\n"}], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 50669865, "answer_count": 1, "score": 0, "last_activity_date": 1528051951, "creation_date": 1527689870, "question_id": 50607034, "link": "https://stackoverflow.com/questions/50607034/push-a-flux-using-spring-data-with-reactive-mongodb", "title": "Push a Flux using Spring Data with Reactive MongoDB", "body": "<p>I'm using Spring Boot 2.0.2 and I'd like to insert the contents of a <code>Flux</code> into an array in a document in MongoDB using Spring Data its reactive mongodb support using <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/ReactiveMongoOperations.html\" rel=\"nofollow noreferrer\">ReactiveMongoOperations</a>. For example (Kotlin code):</p>\n\n<pre><code>val mongo : ReactiveMongoOperations = ...\ndata class Something(val data: String)\nval flux = Flux.just(Something(\"A\"), Something(\"B\"))\n\nmongo.upsert(query(where(\"_id\").isEqualTo(\"myId\")),\n                        Update().push(\"myArray\").each(flux),\n                        \"collection\")\n</code></pre>\n\n<p>(note that this is just an example and <code>flux</code> is not generated using <code>Flux.just(..)</code> in the actual code). </p>\n\n<p>While this works it doesn't yield the result I want:</p>\n\n<pre><code>{ \"_id\" : \"myId\", \"myArray\" : [ { \"array\" : [ { \"data\" : \"A\" }, { \"data\" : \"B\" } ], \"_class\" : \"reactor.core.publisher.FluxArray\" } ] }\n</code></pre>\n\n<p>I'd like the result to be:</p>\n\n<pre><code>{ \"_id\" : \"myId\", \"myArray\" : [ { \"data\" : \"A\" }, { \"data\" : \"B\" } ] }\n</code></pre>\n\n<p>i.e. that Spring Data serializes the content (elements) in the <code>Flux</code> and not the <code>Flux</code> itself. This example yields the correct result:</p>\n\n<pre><code>mongo.upsert(query(where(\"_id\").isEqualTo(\"myId\")),\n                        Update().push(\"myArray\").each(Something(\"A\"), Something(\"B\")),\n                        \"collection\")\n</code></pre>\n\n<p>How can I achieve this <em>without blocking</em>?</p>\n"}, {"tags": ["android", "kotlin", "companion-object"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1527690200, "post_id": 50606963, "comment_id": 88223879, "body": "cannot reproduce. Both give an error"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 0, "creation_date": 1527690627, "post_id": 50606963, "comment_id": 88224216, "body": "a is not visible either inside companion object"}, {"owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1527690910, "post_id": 50606963, "comment_id": 88224416, "body": "@TimCastelijns  @mTak, Android Studio imported A class variables. In imports i see <code>import package.A.a</code>, but not  <code>import package.A.b</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 0, "creation_date": 1527690307, "post_id": 50607082, "comment_id": 88223962, "body": "but others are accessible... i see no difference in the two variables. maybe it is Android Studio issue that it does not import them"}], "tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": false, "score": 0, "last_activity_date": 1527689993, "creation_date": 1527689993, "answer_id": 50607082, "question_id": 50606963, "link": "https://stackoverflow.com/questions/50606963/kotlin-companion-objection-unresolved-references/50607082#50607082", "title": "Kotlin Companion Objection unresolved references", "body": "<p>You cannot access instance variables from static context (companion), this is the same as Java code</p>\n"}, {"comments": [{"owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 0, "creation_date": 1527690508, "post_id": 50607188, "comment_id": 88224138, "body": "i can access A, but not B. maybe because issues during Kotlin compilation"}], "tags": [], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "is_accepted": true, "score": 3, "last_activity_date": 1527690321, "creation_date": 1527690321, "answer_id": 50607188, "question_id": 50606963, "link": "https://stackoverflow.com/questions/50606963/kotlin-companion-objection-unresolved-references/50607188#50607188", "title": "Kotlin Companion Objection unresolved references", "body": "<p>You are absolutely incorrect.</p>\n\n<p>You cannot access members of class inside companion object at all. But you can use companion`s members in your class.</p>\n\n<p>If you see kotlin bytecode you will see that Companion object compiles to </p>\n\n<pre><code>   public static final class Companion {\n      private Companion() {\n      }\n\n      // $FF: synthetic method\n      public Companion(DefaultConstructorMarker $constructor_marker) {\n         this();\n      }\n   }\n</code></pre>\n\n<p>Since Companion is <code>static class</code> it can exist without class where it is declared.</p>\n\n<p>So in your case you can not access a and b because probably they are not exists.</p>\n\n<p>They are not accessable for you too, but probably you cought IDE bug and it doesnt give you error</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1527744920, "creation_date": 1527744920, "answer_id": 50617296, "question_id": 50606963, "link": "https://stackoverflow.com/questions/50606963/kotlin-companion-objection-unresolved-references/50617296#50617296", "title": "Kotlin Companion Objection unresolved references", "body": "<blockquote>\n  <p>Android Studio imported A class variables. In imports i see import package.A.a, but not import package.A.b</p>\n</blockquote>\n\n<p><code>import package.A.a</code> simply doesn't make sense for a class property <code>a</code>, and companion object wouldn't require an <code>import</code> from the class it's companion to anyway. My best guess is that it's importing from an <code>object</code> in a different package.</p>\n"}], "owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2405, "favorite_count": 0, "accepted_answer_id": 50607188, "answer_count": 3, "score": 0, "last_activity_date": 1527744920, "creation_date": 1527689687, "question_id": 50606963, "link": "https://stackoverflow.com/questions/50606963/kotlin-companion-objection-unresolved-references", "title": "Kotlin Companion Objection unresolved references", "body": "<p>I have a Kotlin class with companion object which sees some fields of the parent class and does not see others. There is no option in Android Studio to import.</p>\n\n<pre><code>class A{\n   var a = 1\n   var b = 2\n       companion object {\n            a += 1// visible and imported\n            b += 1// unresolved reference\n       }\n}\n</code></pre>\n\n<p>I do not want to create this variable inside the companion object.</p>\n"}, {"tags": ["functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1527693960, "post_id": 50604581, "comment_id": 88226542, "body": "Did you know Apache created a ResultSetIterator class for that purpose? Available for download on their website ( <a href=\"https://commons.apache.org/proper/commons-dbutils/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-dbutils</a> ), doc can be found here ( <a href=\"http://commons.apache.org/proper/commons-dbutils/apidocs/org/apache/commons/dbutils/ResultSetIterator.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-dbutils/apidocs/org/apache&zwnj;&#8203;/&hellip;</a> )"}, {"owner": {"reputation": 2177, "user_id": 585080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04acc1c39e416f4569a580ae6b3eea1?s=128&d=identicon&r=PG", "display_name": "Fabian Pijcke", "link": "https://stackoverflow.com/users/585080/fabian-pijcke"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1527855229, "post_id": 50604581, "comment_id": 88296441, "body": "That&#39;s a very interesting point, and actually the one I&#39;m planning to use. Thank you very much for its mention!"}], "answers": [{"comments": [{"owner": {"reputation": 2177, "user_id": 585080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04acc1c39e416f4569a580ae6b3eea1?s=128&d=identicon&r=PG", "display_name": "Fabian Pijcke", "link": "https://stackoverflow.com/users/585080/fabian-pijcke"}, "edited": false, "score": 0, "creation_date": 1527686205, "post_id": 50604951, "comment_id": 88220828, "body": "I like the idea of using extension function here. However I&#39;m still interested in some generic indexed version of the while construct (or an explanation of why this is not possible) :-)"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 3, "last_activity_date": 1527685123, "last_edit_date": 1527685123, "creation_date": 1527684023, "answer_id": 50604951, "question_id": 50604581, "link": "https://stackoverflow.com/questions/50604581/kotlin-indexed-while-and-lambda-notation/50604951#50604951", "title": "Kotlin indexed while and lambda notation", "body": "<p>You could write your own extension function to provide this functionality. I wrote this one quickly, so it might not do everything you want in terms of error handling or logging, but should be close. </p>\n\n<pre><code>fun ResultSet.nextWithIndex(fn: (idx: Int, next: ResultSet) -&gt; Unit): Unit {\n    var index = 0\n    while(this.next()) {\n        fn(index, this)\n        index += 1\n    }\n}\n</code></pre>\n\n<p>And to call it:</p>\n\n<pre><code>val rs: ResultSet = getResultSet()\nrs.nextWithIndex { idx, row -&gt;\n    row.getString(\"this_is_a_test\")\n}\n</code></pre>\n\n<p>What happens is, your extension function (<code>nextWithIndex</code>) takes care of looping through the <code>ResultSet</code> (this is the <code>while</code> loop) and calls the function you provide. Because your function is the last (and only) argument (<code>fn</code>) to the <code>nextWithIndex</code>, you can make this look like I think you wanted originally when you call it.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1527744613, "creation_date": 1527744613, "answer_id": 50617234, "question_id": 50604581, "link": "https://stackoverflow.com/questions/50604581/kotlin-indexed-while-and-lambda-notation/50617234#50617234", "title": "Kotlin indexed while and lambda notation", "body": "<blockquote>\n  <p>Why can I write while ( rs.next() ) { println(\"hello\") } and not iwhile ( rs.next() ) { println(\"hello\") }?</p>\n</blockquote>\n\n<p>Because Kotlin doesn't care about allowing you to achieve that. Scala does and there you could get that syntax.</p>\n"}], "owner": {"reputation": 2177, "user_id": 585080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04acc1c39e416f4569a580ae6b3eea1?s=128&d=identicon&r=PG", "display_name": "Fabian Pijcke", "link": "https://stackoverflow.com/users/585080/fabian-pijcke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 50604951, "answer_count": 2, "score": 0, "last_activity_date": 1527744613, "creation_date": 1527682883, "last_edit_date": 1527683712, "question_id": 50604581, "link": "https://stackoverflow.com/questions/50604581/kotlin-indexed-while-and-lambda-notation", "title": "Kotlin indexed while and lambda notation", "body": "<p>I have a JDBC resultset (call it rs) that I want to traverse, keeping track of which iteration I currently am at. For simplicity let's say we just want to print each index on a line as in the following snippet:</p>\n\n<pre><code>var i = 0\nwhile ( rs.next() ) { println(i++) }\n</code></pre>\n\n<p>My goal is to avoid the use of a variable, and stick to a more functional style.</p>\n\n<p>As a JDBC resultset is not an iterator, I can not simply use <code>rs.withIndex { println(it) }</code>.</p>\n\n<p>I have implemented the following <code>iwhile</code> function, which pretty much does what I want:</p>\n\n<pre><code>tailrec fun iwhile(cond: () -&gt; Boolean, i: Int = 0, f : (Int) -&gt; Unit): Unit {\n  if (cond ()) { f(i); iwhile(cond, i + 1, f) }\n}\n</code></pre>\n\n<p>My only concern is how to call this function: I have to write either of</p>\n\n<pre><code>iwhile({ rs.next() }) { println(it) }\n\niwhile({ rs.next() }) { i -&gt; println(i) }\n</code></pre>\n\n<p>while I would ideally want to write instead:</p>\n\n<pre><code>iwhile ( rs.next() ) { println(i) }\n</code></pre>\n\n<p>Note the absence of braces around the predicate, and the default name <code>i</code> instead of <code>it</code></p>\n\n<p>I know these are noob's questions, but is there a way to write iwhile so that I can use the last syntax? Why can I write <code>while ( rs.next() ) { println(\"hello\") }</code> and not <code>iwhile ( rs.next() ) { println(\"hello\") }</code>?</p>\n"}, {"tags": ["object", "filter", "kotlin", "field"], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 8485851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1499059213511781/picture?type=large", "display_name": "Taehyung Kim", "link": "https://stackoverflow.com/users/8485851/taehyung-kim"}, "edited": false, "score": 0, "creation_date": 1527680784, "post_id": 50603667, "comment_id": 88216874, "body": "wow. It is simple solution and works very well. thanks."}, {"owner": {"reputation": 564, "user_id": 1846917, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MiONZ.jpg?s=128&g=1", "display_name": "Irfandi D. Vendy", "link": "https://stackoverflow.com/users/1846917/irfandi-d-vendy"}, "edited": false, "score": 0, "creation_date": 1564132662, "post_id": 50603667, "comment_id": 100938215, "body": "man, do i really have to read through all the documentation to find this gem?"}], "tags": [], "owner": {"reputation": 1002, "user_id": 5576117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qexrw.jpg?s=128&g=1", "display_name": "Mamykin Andrey", "link": "https://stackoverflow.com/users/5576117/mamykin-andrey"}, "is_accepted": true, "score": 61, "last_activity_date": 1527680171, "creation_date": 1527680171, "answer_id": 50603667, "question_id": 50603424, "link": "https://stackoverflow.com/questions/50603424/how-to-get-single-field-value-in-object-list/50603667#50603667", "title": "how to get single field value in object list", "body": "<p>You want to get list with only name field? If so, then use <code>map</code> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map.html</a>)</p>\n\n<p><code>val names = list.map { it.name }</code></p>\n"}], "owner": {"reputation": 404, "user_id": 8485851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1499059213511781/picture?type=large", "display_name": "Taehyung Kim", "link": "https://stackoverflow.com/users/8485851/taehyung-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10331, "favorite_count": 2, "closed_date": 1527681655, "accepted_answer_id": 50603667, "answer_count": 1, "score": 21, "last_activity_date": 1538561103, "creation_date": 1527679403, "last_edit_date": 1538561103, "question_id": 50603424, "link": "https://stackoverflow.com/questions/50603424/how-to-get-single-field-value-in-object-list", "closed_reason": "Duplicate", "title": "how to get single field value in object list", "body": "<p>how to get some field list in object list in <strong>kotlin</strong></p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n    println(\"Hello World\")\n    val list = listOf(member(\"hong\",10), member(\"kil\", 10))\n}\n\ndata class member(var name:String, var age:Int)\n</code></pre>\n\n<p>Above code, I want to get single field list in above code such as name </p>\n\n<pre><code>  {\"hong\", \"kil\"}\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1527681457, "post_id": 50603195, "comment_id": 88217356, "body": "try returning <code>true</code> only if you actually consumed the event, that should solve your issue. The <code>boolean</code> returned by <code>onTouch</code>, indeed, tells whether the touch event has been consumed or not"}, {"owner": {"reputation": 206, "user_id": 6310518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9169df3af1714ab52f6b1a0d039e132a?s=128&d=identicon&r=PG&f=1", "display_name": "valentino", "link": "https://stackoverflow.com/users/6310518/valentino"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527700466, "post_id": 50603195, "comment_id": 88230158, "body": "its work, but when i change the height with onTouch the recyclerview items automatically scrolled. How i can prevent this?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527716961, "post_id": 50603195, "comment_id": 88237493, "body": "Uhm I&#39;m not sure I understood what&#39;s the issue. Could you please describe it again?"}, {"owner": {"reputation": 206, "user_id": 6310518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9169df3af1714ab52f6b1a0d039e132a?s=128&d=identicon&r=PG&f=1", "display_name": "valentino", "link": "https://stackoverflow.com/users/6310518/valentino"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527756438, "post_id": 50603195, "comment_id": 88250110, "body": "u can check this <a href=\"https://drive.google.com/open?id=1_JMDkL3UiYoTezsdarFsaekk_CIyklJL\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527757706, "post_id": 50603195, "comment_id": 88250894, "body": "Are you now returning always <code>false</code> for that method?"}, {"owner": {"reputation": 206, "user_id": 6310518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9169df3af1714ab52f6b1a0d039e132a?s=128&d=identicon&r=PG&f=1", "display_name": "valentino", "link": "https://stackoverflow.com/users/6310518/valentino"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527758958, "post_id": 50603195, "comment_id": 88251729, "body": "yes, i make it return false when using MotionEvent.ACTION_UP , so i can use onClick in recyclerview items"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527759562, "post_id": 50603195, "comment_id": 88252090, "body": "The question is: how could you do you determine if you want to scroll or resize your <code>RecyclerView</code>? To solve the issue, you could maybe draw a little &quot;handle&quot; above your <code>RecyclerView</code> and apply your <code>OnTouchListener</code> only if the touch event happens inside the area occupied by that &quot;handle&quot;, otherwise let Android deal with the default <code>RecyclerView</code>&#39;s behavior (i.e., scrolling the list)"}, {"owner": {"reputation": 206, "user_id": 6310518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9169df3af1714ab52f6b1a0d039e132a?s=128&d=identicon&r=PG&f=1", "display_name": "valentino", "link": "https://stackoverflow.com/users/6310518/valentino"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527760633, "post_id": 50603195, "comment_id": 88252719, "body": "Thanks for the suggestion , i&#39;ll try it"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1528114429, "post_id": 50603195, "comment_id": 88370065, "body": "Are you still experiencing the issue?"}, {"owner": {"reputation": 206, "user_id": 6310518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9169df3af1714ab52f6b1a0d039e132a?s=128&d=identicon&r=PG&f=1", "display_name": "valentino", "link": "https://stackoverflow.com/users/6310518/valentino"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1528162991, "post_id": 50603195, "comment_id": 88391560, "body": "Finally i can solve the issue"}], "owner": {"reputation": 206, "user_id": 6310518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9169df3af1714ab52f6b1a0d039e132a?s=128&d=identicon&r=PG&f=1", "display_name": "valentino", "link": "https://stackoverflow.com/users/6310518/valentino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527678692, "creation_date": 1527678692, "question_id": 50603195, "link": "https://stackoverflow.com/questions/50603195/recyclerview-with-ontouch-and-onclick", "title": "Recyclerview with onTouch and onClick", "body": "<p>I want to add onTouch for resize recyclerview height and use onClick for select the recyclerview item. But after height of recyclerview resized , i can't use the onClick. Why this is happen? and how to fix it?</p>\n\n<p>This is my sample code:</p>\n\n<pre><code>    val pageMonth = cal.get(Calendar.MONTH) -1\n    val adapter2 = CalendarCobaAdapter2(dayValue, pageMonth, false)\n\n\n    recyclerview.adapter = adapter2\n    recyclerview.setOnTouchListener { v, event -&gt;\n        when(event!!.action){\n            MotionEvent.ACTION_MOVE -&gt; {\n                Log.d(\"OntOUhc\",\"ASD\")\n                v!!.layoutParams.height = event.getY().toInt()\n                v.requestLayout()\n            }\n        }\n        true\n    }\n    adapter2.setClickListener(this)\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "code-coverage", "jacoco"], "answers": [{"comments": [{"owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1527683470, "post_id": 50604727, "comment_id": 88218794, "body": "The question was, how I can pass that &quot;0.001&quot; as a parameter rather than hardcoding it."}, {"owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "reply_to_user": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1527683552, "post_id": 50604727, "comment_id": 88218849, "body": "you could do it by using gradle properties/environment variables/many other solutions"}, {"owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "reply_to_user": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "edited": false, "score": 0, "creation_date": 1527683957, "post_id": 50604727, "comment_id": 88219137, "body": "look at answer, I added example of one of possible solution"}, {"owner": {"reputation": 2529, "user_id": 4567218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F6BP1.jpg?s=128&g=1", "display_name": "Leonid Dashko", "link": "https://stackoverflow.com/users/4567218/leonid-dashko"}, "edited": false, "score": 0, "creation_date": 1550853994, "post_id": 50604727, "comment_id": 96438082, "body": "This will not work properly if you have excluded packages/classes on bundle level statistic evaluation. So, if we specify <code>element = CLASS</code>, we may only operate on <code>class</code>-level statistics."}], "tags": [], "owner": {"reputation": 1378, "user_id": 5400641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00570bb707b63435b14c28d44d8feef3?s=128&d=identicon&r=PG&f=1", "display_name": "kurt", "link": "https://stackoverflow.com/users/5400641/kurt"}, "is_accepted": true, "score": 2, "last_activity_date": 1527684370, "last_edit_date": 1527684370, "creation_date": 1527683420, "answer_id": 50604727, "question_id": 50603061, "link": "https://stackoverflow.com/questions/50603061/jacoco-parameterize-violation-rule-value/50604727#50604727", "title": "Jacoco parameterize violation rule value", "body": "<p>Use parametric build in Jenkinks, there add parameter \"minimumValue\". And then you could use it in build.gradle:</p>\n\n<pre><code>task jacocoJupTestReport(type: JacocoReport) {\n    executionData(test)\n    sourceSets(sourceSets.main)\n    sourceDirectories = files(sourceSets.main.allSource.srcDirs)\n    classDirectories = files(sourceSets.main.output)\n\n    reports {\n        xml.enabled true\n        xml.destination file(\"${buildDir}/reports/jacoco/report.xml\")\n        html.enabled false\n        csv.enabled false\n    }\n\n    jacocoTestCoverageVerification {\n        violationRules {\n            rule {\n                limit {\n                    counter = 'INSTRUCTION'\n                    value = 'COVEREDRATIO'\n                    minimum = project.properties[\"minimumValue\"]\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12660678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCRs7OSSFkqDRo7ABk4u7Xjmr4L8dAkdqPh33wa=k-s128", "display_name": "Rae-An Andres", "link": "https://stackoverflow.com/users/12660678/rae-an-andres"}, "is_accepted": false, "score": 1, "last_activity_date": 1618072853, "last_edit_date": 1618072853, "creation_date": 1618071969, "answer_id": 67036669, "question_id": 50603061, "link": "https://stackoverflow.com/questions/50603061/jacoco-parameterize-violation-rule-value/67036669#67036669", "title": "Jacoco parameterize violation rule value", "body": "<p>You can use the System environment to pass the parameters from Jenkins</p>\n<p><code>System.getEnv(&quot;&lt;JENKINS_PARAM_NAME&gt;&quot;) as String ?: &quot;&lt;default value&gt;&quot;</code></p>\n<p>make the type as <code>String</code> to have a safe assumption of the accepted param types in Jenkins. Then convert into the specific type back in gradle:</p>\n<p>ex:</p>\n<pre><code>def coverageRatio = System.getEnv(&quot;COVERAGE_RATIO&quot;) as String ?: &quot;1.0&quot; //&quot;default value is 100% coverage&quot;\ndef fileFilter = ['**/path/to/your/classes/you/like/to/exclude','**/some/class']\n\n\n\nviolationRules {\n    ...\n    rule {\n        element = 'BUNDLE'\n        limit {\n            counter = 'INSTRUCTION'\n            value = 'COVEREDRATIO'\n            minimum = coverageRatio.toBigDecimal()\n        }\n        excludes = fileFilter\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3529, "user_id": 2625772, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/0QjpB.jpg?s=128&g=1", "display_name": "AnOldSoul", "link": "https://stackoverflow.com/users/2625772/anoldsoul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 50604727, "answer_count": 2, "score": 1, "last_activity_date": 1618072853, "creation_date": 1527678307, "question_id": 50603061, "link": "https://stackoverflow.com/questions/50603061/jacoco-parameterize-violation-rule-value", "title": "Jacoco parameterize violation rule value", "body": "<p>I have the below content in my build.gradle file. I'm trying to fail the build if the coverage falls below a certain value. </p>\n\n<pre><code>project.task(type: JacocoCoverageVerification, \"jacocoTestCoverageVerification\", overwrite: true) {\n\n    executionData(junitPlatformTestTask)\n    sourceSets(sourceSets.main)\n    sourceDirectories = files(sourceSets.main.allSource.srcDirs)\n    classDirectories = files(sourceSets.main.output)\n    onlyIf = {\n        true\n    }\n    violationRules {\n        rule {\n            limit {\n                counter = 'INSTRUCTION'\n                value = 'COVEREDRATIO'\n                minimum = 0.001\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>How can I parameterize the value for \"minimum\" here so that I can pass it through Jenkins or Team city when building the project. Any help would be much appreciated.</p>\n"}, {"tags": ["android", "react-native", "kotlin", "gps", "android-gps"], "comments": [{"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 0, "creation_date": 1527677575, "post_id": 50602641, "comment_id": 88214666, "body": "The &quot;last location&quot; isn&#39;t always available. This is normal. It will become available (after a while) when any application requests location updates. You are seeing normal and intended Android behaviour. Since you already have the mechanism to force a location update in your code, just set <code>forceNewLocation</code> to <code>true</code>."}, {"owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "reply_to_user": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 0, "creation_date": 1527677705, "post_id": 50602641, "comment_id": 88214755, "body": "@MarkusKauppinen but even when i set forceNewLocation it is still hanging. <code>onLocationChanged</code> is not being invoked in that case"}], "owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1527676997, "creation_date": 1527676997, "question_id": 50602641, "link": "https://stackoverflow.com/questions/50602641/sometimes-cannot-get-current-location-after-turning-gps-off-and-on", "title": "Sometimes cannot get current location after turning GPS off and on", "body": "<p>I have a React-Native application that needs to use GPS location. Below there is a <code>LocationFetcher</code> class that is responsivle for getting current location euther by forcing new location or getting the last one.</p>\n\n<p>Let's say <code>getLocation()</code> method is being invoked at the fixed interval. When I turn off the GPS I would get the messages <code>No location provider found.</code>, which is fine. But when I <strong>turn</strong> the GPS <strong>on</strong> I would get <strong>no messages</strong> at all. What is more the promise is neither resolved nor rejected. I could toggle GPS many times and let's say on about 5th time all the promises would be resolved with a current location, then I repeat the process and again and have no location at all.</p>\n\n<p>Sometimes launching another app that uses GPS, for example <code>GPS Viewer</code> would instantly resolve all the promises and sometimes it doesn't. Often toggling GPS on and off would cause no issues and sometimes it would many. Sometimes turning off the Network would have been causing this problem for like 15 minutes and later on it would have no affect.</p>\n\n<p>Did anyone have such problems with GPS?</p>\n\n<pre><code>class LocationFetcher(\n  val context: Context\n) {\n\n  companion object {\n    val LOG_TAG = \"LOC_FETCHER\"\n  }\n\n  /**\n   * Gets a location \"synchronously\" as a Promise\n   */\n  fun getLocation(forceNewLocation: Boolean, promise: Promise) {\n    try {\n      if (!areProvidersAvailable()) {\n        promise.reject(NATIVE_ERROR, \"No location provider found.\")\n        return\n      }\n      if (!checkForPlayServices()) {\n        promise.reject(NATIVE_ERROR, \"Install Google Play Services First and Try Again.\")\n        return\n      }\n      if (!hasPermissions()) {\n        promise.reject(NATIVE_ERROR, \"Appropriate permissions not given.\")\n        return\n      }\n      /* --------- */\n      if (forceNewLocation) {\n        forceSingleGPSLocationUpdate(promise)\n        return\n      }\n\n      getLastGPSLocation(promise)\n    } catch (ex: Exception) {\n      Log.e(TAG, \"Native Location Module ERR - \" + ex.toString())\n      promise.reject(NATIVE_ERROR, ex.toString())\n    }\n  }\n\n  @RequiresPermission(\n    anyOf = [\n      Manifest.permission.ACCESS_COARSE_LOCATION,\n      Manifest.permission.ACCESS_FINE_LOCATION\n    ]\n  )\n  fun getLastGPSLocation(\n    promise: Promise\n  ) {\n    val locationManager = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager?\n    if (locationManager === null) {\n      Log.e(LOG_TAG, \"Location Manager is null\")\n      promise.reject(LOG_TAG, Exception(\"Location Manager is null\"))\n      return\n    }\n\n    try {\n      val lastKnownLocation = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER)\n      if (lastKnownLocation === null) {\n        Log.e(LOG_TAG, \"Last known location is null\")\n        promise.reject(LOG_TAG, \"Last known location is null\");\n        return\n      }\n\n      Log.v(LOG_TAG, \"Resolving promise with location\")\n      promise.resolve(convertLocationToJSON(lastKnownLocation))\n    } catch (e: SecurityException) {\n      Log.e(LOG_TAG, e.message, e)\n      promise.reject(LOG_TAG, e)\n      return\n    } catch (e: Exception) {\n      Log.e(LOG_TAG, e.message, e)\n      promise.reject(LOG_TAG, e)\n      return\n    }\n  }\n\n  @RequiresPermission(\n    anyOf = [\n      Manifest.permission.ACCESS_COARSE_LOCATION,\n      Manifest.permission.ACCESS_FINE_LOCATION\n    ]\n  )\n  fun forceSingleGPSLocationUpdate(\n    promise: Promise\n  ) {\n    val locationManager = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager?\n    if (locationManager === null) {\n      Log.e(LOG_TAG, \"Location Manager is null\")\n      promise.reject(LOG_TAG, Exception(\"Location Manager is null\"))\n      return\n    }\n\n    try {\n      val locationListener = object : LocationListener {\n        override fun onLocationChanged(location: Location?) {\n          if (location === null) {\n            Log.e(LOG_TAG, \"Location changed is null\")\n            promise.reject(LOG_TAG, Exception(\"Location changed is null\"))\n            return\n          }\n\n          Log.v(LOG_TAG, \"Resolving promise with location\")\n          promise.resolve(convertLocationToJSON(location))\n        }\n\n        override fun onStatusChanged(provider: String, status: Int, extras: Bundle) {}\n\n        override fun onProviderEnabled(provider: String) {}\n\n        override fun onProviderDisabled(provider: String) {}\n      }\n\n      locationManager.requestSingleUpdate(LocationManager.GPS_PROVIDER, locationListener, null)\n    } catch (e: SecurityException) {\n      Log.e(LOG_TAG, e.message, e)\n      promise.reject(LOG_TAG, e)\n      return\n    } catch (e: Exception) {\n      Log.e(LOG_TAG, e.message, e)\n      promise.reject(LOG_TAG, e)\n      return\n    }\n  }\n\n  fun areProvidersAvailable(): Boolean {\n    val lm = context.getSystemService(Context.LOCATION_SERVICE) as LocationManager\n    return try {\n      lm.isProviderEnabled(LocationManager.GPS_PROVIDER) ||\n        lm.isProviderEnabled(LocationManager.NETWORK_PROVIDER)\n    } catch (ex: Exception) {\n      Log.e(LOG_TAG, ex.toString())\n      false\n    }\n  }\n\n  fun hasPermissions(): Boolean {\n    return ActivityCompat.checkSelfPermission(\n      context,\n      Manifest.permission.ACCESS_FINE_LOCATION\n    ) == PackageManager.PERMISSION_GRANTED\n      || ActivityCompat.checkSelfPermission(\n      context,\n      Manifest.permission.ACCESS_COARSE_LOCATION\n    ) == PackageManager.PERMISSION_GRANTED\n  }\n\n  // ~ https://stackoverflow.com/questions/\n  // 22493465/check-if-correct-google-play-service-available-unfortunately-application-has-s\n  internal fun checkForPlayServices(): Boolean {\n    val googleApiAvailability = GoogleApiAvailability.getInstance()\n    val resultCode = googleApiAvailability.isGooglePlayServicesAvailable(context)\n    if (resultCode != ConnectionResult.SUCCESS) {\n      if (googleApiAvailability.isUserResolvableError(resultCode)) {\n        val map = WritableNativeMap().also {\n          it.putInt(\"resultCode\", resultCode)\n          it.putInt(\"resolutionRequest\", PLAY_SERVICES_RESOLUTION_REQUEST)\n        }\n        sendLocalEventToModule(LOCAL_PLAY_SERVICES_ERROR, map)\n      }\n      return false\n    }\n    return true\n  }\n\n  internal fun convertLocationToJSON(l: Location?): WritableMap {\n    if (l === null) {\n      return WritableNativeMap().also {\n        it.putString(\"error\", \"Received location was null\")\n      }\n    }\n    return WritableNativeMap().also {\n      it.putDouble(\"latitude\", l.latitude)\n      it.putDouble(\"longitude\", l.longitude)\n      it.putDouble(\"accuracy\", l.accuracy.toDouble())\n      it.putDouble(\"altitude\", l.altitude)\n      it.putDouble(\"bearing\", l.bearing.toDouble())\n      it.putString(\"provider\", l.provider)\n      it.putDouble(\"speed\", l.speed.toDouble())\n      it.putString(\"timestamp\", l.time.toString())\n    }\n  }\n\n  internal fun sendLocalEventToModule(eventName: String, data: WritableMap) {\n    val intent = Intent(eventName).also {\n      it.putExtra(\"data\", WritableMapWrapper(data))\n    }\n\n    Log.v(TAG, \"Sending local event ${eventName}\")\n    LocalBroadcastManager.getInstance(context).sendBroadcast(intent)\n  }\n}\n</code></pre>\n\n<p>I don't know if this is important, but we are getting location via Foreground Service, which is presented below.</p>\n\n<pre><code>class ForegroundLocationService : Service() {\n  lateinit var locationFetcher : LocationFetcher\n\n  override fun onBind(intent: Intent?): IBinder? {\n    return null\n  }\n\n  override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n    return START_NOT_STICKY\n  }\n\n  override fun onTaskRemoved(rootIntent: Intent?) {\n    stopSelf()\n  }\n\n  override fun onCreate() {\n    super.onCreate()\n    locationFetcher = LocationFetcher(applicationContext)\n\n    /**\n     * Saving this [ForegroundLocationService] reference to the static variable,\n     * because when binding a Service using [bindService] it would not stop the\n     * this service, even though the app would close\n     */\n    LocationModule.foregroundLocationService = this\n    showNotification()\n    Log.v(TAG, \"Creating Foreground Location Service\")\n  }\n\n  override fun onDestroy() {\n    super.onDestroy()\n    LocationModule.foregroundLocationService = null\n    locationFetcher.stopLocationUpdates()\n    Log.v(TAG, \"Destroying Foreground Location Service\")\n  }\n\n  fun showNotification() {\n    val channelId =\n      if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        createNotificationChannel()\n      } else {\n        // In Android versions before Oreo channel ID is not used\n        // https://developer.android.com/reference/android/support/v4/app/NotificationCompat.Builder.html#NotificationCompat.Builder(android.content.Context)\n        \"\"\n      }\n\n    val notification = NotificationCompat.Builder(this, channelId)\n      .setOngoing(true)\n      .setContentTitle(NOTIFICATION_TITLE)\n      .setSmallIcon(R.mipmap.ic_notification)\n      .setTicker(NOTIFICATION_TITLE)\n      .build()\n\n    Log.v(TAG, \"Showing a notification\")\n\n    startForeground(NOTIFICATION_ID, notification)\n  }\n\n  @RequiresApi(Build.VERSION_CODES.O)\n  private fun createNotificationChannel(): String {\n    val channelId = \"app_gps_service\"\n    val channelName = NOTIFICATION_TITLE\n    val chan = NotificationChannel(\n      channelId,\n      channelName,\n      NotificationManager.IMPORTANCE_LOW\n    )\n    chan.lightColor = Color.BLUE\n    chan.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n    val service = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    service.createNotificationChannel(chan)\n\n    Log.v(TAG, \"Created notification channel, because SDK version is ${Build.VERSION.SDK_INT}\")\n    return channelId\n  }\n\n  companion object {\n    val TAG = \"ForegroundLocationSvc\"\n    val NOTIFICATION_ID = 101\n    val NOTIFICATION_TITLE = \"GPS Service\"\n\n    @JvmStatic\n    fun start(context: Context) {\n      Log.v(TAG, \"Starting Foreground Location Service\")\n\n      val intent = Intent(context, ForegroundLocationService::class.java)\n      context.startService(intent)\n    }\n  }\n}\n</code></pre>\n\n<p>Below There is our manifest</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"com.myapp\"&gt;\n\n  &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n  &lt;uses-feature android:name=\"android.hardware.location.gps\" /&gt;\n  &lt;!-- push notifications permissions --&gt;\n  &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\"/&gt;\n\n  &lt;permission\n    android:name=\"com.ticketing.permission.C2D_MESSAGE\"\n    android:protectionLevel=\"signature\"/&gt;\n\n  &lt;uses-permission android:name=\"com.ticketing.permission.C2D_MESSAGE\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.VIBRATE\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"/&gt;\n\n  &lt;permission\n    android:name=\"android.permission.ACCESS_COARSE_LOCATION\"\n    android:protectionLevel=\"signature\"/&gt;\n  &lt;permission\n    android:name=\"android.permission.ACCESS_FINE_LOCATION\"\n    android:protectionLevel=\"signature\"/&gt;\n\n  &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\"/&gt;\n  &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n\n  &lt;application\n    android:name=\".MainApplication\"\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n      android:name=\".MainActivity\"\n      android:configChanges=\"keyboard|keyboardHidden|orientation|screenSize\"\n      android:label=\"@string/app_name\"\n      android:screenOrientation=\"portrait\"\n      android:windowSoftInputMode=\"adjustResize\"&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n        &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\"com.facebook.react.devsupport.DevSettingsActivity\"/&gt;\n\n    &lt;!-- GPS Receiver --&gt;\n    &lt;receiver android:name=\".gps.GpsLocationReceiver\"&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=\"android.location.PROVIDERS_CHANGED\"/&gt;\n\n        &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n      &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;service\n      android:name=\".location.ForegroundLocationService\"\n      android:description=\"@string/foreground_location_service_desc\"\n      android:exported=\"false\"\n      android:stopWithTask=\"false\"&gt;\n    &lt;/service&gt;\n  &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"}, {"tags": ["kotlin", "spinner"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3740101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc59a3b20c4a6a4baaf17b817ec2d76?s=128&d=identicon&r=PG&f=1", "display_name": "Faalhaaz", "link": "https://stackoverflow.com/users/3740101/faalhaaz"}, "edited": false, "score": 0, "creation_date": 1527677642, "post_id": 50602246, "comment_id": 88214713, "body": "Hey, already tried this but it won&#39;t help. As it gives an error that I must set an ID for the TextView."}], "tags": [], "owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "is_accepted": true, "score": 0, "last_activity_date": 1527675747, "creation_date": 1527675747, "answer_id": 50602246, "question_id": 50601580, "link": "https://stackoverflow.com/questions/50601580/android-spinner-text-difference/50602246#50602246", "title": "Android Spinner text difference", "body": "<p>Try doing this. Hope this will help.</p>\n\n<pre><code>    for(item in roomDtoList){\n        spRoomData.add(item.name)\n    }\n\n    spHome!!.setOnItemSelectedListener(this)\n\n    // Create an ArrayAdapter using a simple spinner layout and languages array\n    val aa = ArrayAdapter(this, android.R.layout.simple_spinner_item, spRoomData)\n    // Set layout to use when the list of choices appear\n    aa.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n    // Set Adapter to Spinner\n    spHome!!.setAdapter(aa)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3740101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdc59a3b20c4a6a4baaf17b817ec2d76?s=128&d=identicon&r=PG&f=1", "display_name": "Faalhaaz", "link": "https://stackoverflow.com/users/3740101/faalhaaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 50602246, "answer_count": 1, "score": -1, "last_activity_date": 1527675747, "creation_date": 1527673849, "question_id": 50601580, "link": "https://stackoverflow.com/questions/50601580/android-spinner-text-difference", "title": "Android Spinner text difference", "body": "<p>I'm adding two different spinners to my XML layout, one thats filled through an XML file and one thats filled programmatically.</p>\n\n<pre><code>&lt;Spinner\n        android:id=\"@+id/spHome\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:textAlignment=\"textEnd\" /&gt;\n\n    &lt;Spinner\n        android:id=\"@+id/spDevice\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_weight=\"1\"\n        android:entries=\"@array/spinner_data\"\n        android:textAlignment=\"textEnd\" /&gt;\n</code></pre>\n\n<p>So the one Spinner is filled through this XML file, which goes great and gives  a good clear text quality.</p>\n\n<pre><code>&lt;resources&gt;\n&lt;string-array name=\"spinner_data\"&gt;\n    &lt;item&gt;Alle apparaten&lt;/item&gt;\n    &lt;item&gt;Light&lt;/item&gt;\n    &lt;item&gt;Door Sensor&lt;/item&gt;\n    &lt;item&gt;Socket&lt;/item&gt;\n    &lt;item&gt;Smart meter&lt;/item&gt;\n    &lt;item&gt;Multi sensor&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=\"solo_data\"&gt;\n    &lt;item&gt;Hele huis&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n\n<p></p>\n\n<p>The other spinner gets filled programmatically, with the following code:</p>\n\n<pre><code>private var roomDtoList: ArrayList&lt;RoomItemDto&gt; = ArrayList()\nprivate var spRoomData : ArrayList&lt;String&gt; = ArrayList&lt;String&gt;()\n\nprivate fun fillSpRooms(){\n    spRoomData.clear()\n\n    for(item in roomDtoList){\n        spRoomData.add(item.name)\n    }\n    var spAdapter : ArrayAdapter&lt;String&gt; = ArrayAdapter&lt;String&gt;(this.context, R.layout.spinner_drop_layout, R.id.spinnerTextview, spRoomData)\n    spHome!!.adapter = spAdapter\n}\n</code></pre>\n\n<p>So whenever I fill this spinner with the following code, the filled text looks ugly and has no margin/spacing between every line. Even when I add margin and textStyling into the R.id.spinnerTextview, it won't make the text look clear.</p>\n\n<p>Anyone knows a fix?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1527668993, "post_id": 50599519, "comment_id": 88208850, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/18656023/androidstudio-module-dependencies-in-gradle\">AndroidStudio - Module Dependencies in Gradle</a>"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1527669934, "post_id": 50599519, "comment_id": 88209459, "body": "If you rely on both application implementations being available to the modules, you&#39;d have to abstract it somehow. Have a look at the feature plugins instead of the application maybe."}, {"owner": {"reputation": 73, "user_id": 1590040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c0b72d7a9571b5d2b7f8a9164a65763?s=128&d=identicon&r=PG", "display_name": "user1590040", "link": "https://stackoverflow.com/users/1590040/user1590040"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1527673330, "post_id": 50599519, "comment_id": 88211853, "body": "@rafid059  in my scenario its different, both the modules are  app module (not library)"}], "owner": {"reputation": 73, "user_id": 1590040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c0b72d7a9571b5d2b7f8a9164a65763?s=128&d=identicon&r=PG", "display_name": "user1590040", "link": "https://stackoverflow.com/users/1590040/user1590040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527673179, "creation_date": 1527667823, "last_edit_date": 1527673179, "question_id": 50599519, "link": "https://stackoverflow.com/questions/50599519/one-android-project-can-have-two-app-modules", "title": "One Android project can have two app modules", "body": "<p>I have two app modules(not library) one is in Java(app1) and another is in Kotlin(app2).both the modules having the custom application classes and using the dagger for dependency injection ,In android studio project i want to add app2 as dependency for app1, is it possible? it is really appreciated if some can provide the some idea.</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-android"], "answers": [{"comments": [{"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1527670279, "post_id": 50599700, "comment_id": 88209665, "body": "Thank you for the answer @hluhovskyi.  i have one doubt. if i have to call another api from different screen. in that case i require same Error class but different response model. so if i follow with this approach i need to create separate error class for each response?"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1527670715, "post_id": 50599700, "comment_id": 88209963, "body": "There are various ways here. You can create different responses with different errors for each call. You can make abstraction like some interface over them. You can create generic <code>Response&lt;T&gt;</code>  and use it everywhere for wrapping your data. Personally, I like last one the most so I will update answer. But in any case it is up to you and up to your business needs."}, {"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1527672194, "post_id": 50599700, "comment_id": 88211042, "body": "i am sorry but i am itching my head, how to fit this Response class with LoginRespone &quot;Model&quot; class   1. Do every Single response class(LoginResponse) will inherit Response class 2.  As my ErrorBase class is different how to link with Error class. i am unable to digest this"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1527672462, "post_id": 50599700, "comment_id": 88211222, "body": "You don&#39;t need to inherit, you do need to <b>wrap</b>. Every call should return <code>Single&lt;Response&lt;Something&gt;&gt;</code>. In your case it will be <code>Single&lt;Response&lt;LoginResponseModel&gt;&gt;</code>. And by <code>Response.Error</code> i mean <code>ErrorBase</code> but named and placed in another way."}, {"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1527676293, "post_id": 50599700, "comment_id": 88213838, "body": "@ hluhovskyi  i did the same but  apiInterface.getLoginDetails(auth)                 .map { it -&gt;                     Result(it)                 }                 .onErrorReturn {                     Error(it)                 } its not working . in case of Error(data) it giving me error type inference failed.Expected type mismatch and asking me return expression required in function with block body"}, {"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1527678174, "post_id": 50599700, "comment_id": 88215083, "body": "having error in  data -&gt; Response.Result(data)  required:  Response&lt;LoginResponseModel&gt;! found: Response.Result&lt;Response&lt;LoginResponseModel&gt;&gt;"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 4, "last_activity_date": 1527676952, "last_edit_date": 1527676952, "creation_date": 1527668401, "answer_id": 50599700, "question_id": 50599152, "link": "https://stackoverflow.com/questions/50599152/return-custom-object-from-onerror-of-rx-java-android-instead-of-throw-able-obj/50599700#50599700", "title": "Return custom object from onError() of Rx java Android instead of throw-able object", "body": "<p>Firstly, <code>doOnError</code> isn't aimed to transform/return some data, but helps to handle side-effects like logging.</p>\n\n<p>Second thing, <code>ErrorBase</code> doesn't fit well together with <code>LoginResponseModel</code> cause they don't have any common parent.</p>\n\n<p>Thus, I suggest you following solution:</p>\n\n<ol>\n<li><p>Create one base class for your response:</p>\n\n<pre><code>sealed class LoginResponse {\n\n    class Result( ..your data here.. ) : LoginResponse()\n\n    class Error( ... ) : LoginResponse()\n}\n</code></pre></li>\n<li><p>Make function return <code>LoginResponse</code> and do following changes:</p>\n\n<pre><code>fun getLoginDetails(auth: String): Observable&lt;LoginResponse&gt; {\n    return apiInterface.getLoginDetails(auth)\n               .map { data -&gt; LoginResponse.Result(data) }\n               .onErrorReturn { throwable -&gt; LoginResponse.Error(throwable) }\n}\n</code></pre></li>\n<li><p>Now both results have one common parent and you can use <code>getLoginDetails</code> in the following way:</p>\n\n<pre><code>fun doRequest() {\n     loginRepository.getLoginDetails(auth)\n         .subscribe { result -&gt;\n              when (result) {\n                   is LoginResponse.Result -&gt; //do something with result\n                   is LoginResponse.Error -&gt; //do something with error\n              }\n         }\n}\n</code></pre></li>\n</ol>\n\n<p>Some explanation.</p>\n\n<ul>\n<li><p><code>onErrorReturn</code> does exactly what you need - returns your custom value in case if error occurs</p></li>\n<li><p>If you don't add <code>LoginResponse</code> you have to make <code>Observable&lt;Any&gt;</code> which is loosely typed and doesn't really well describes your interface.</p></li>\n<li><p>Making <code>LoginResponse</code> <strong>sealed</strong> allows to check only 2 cases whether emitted data is <code>Result</code> or <code>Error</code>. Otherwise Kotlin compiler forces you to add additional <code>else</code> branch</p></li>\n</ul>\n\n<p><strong>Update</strong> In case if you need to do same thing in multiple places you can go with this:</p>\n\n<pre><code>sealed class Response&lt;T&gt; {\n\n    data class Result&lt;T&gt;(val result: T) : Response&lt;T&gt;()\n\n    data class Error&lt;T&gt;(val throwable: Throwable) : Response&lt;T&gt;()\n}\n\nfun getLoginDetails(auth: String): Observable&lt;Response&lt;LoginResponseModel&gt;&gt; {\n    return apiInterface.getLoginDetails(auth)\n               .map&lt;Response&lt;LoginResponseModel&gt;&gt; { data -&gt; Response.Result(data) }\n               .onErrorReturn { throwable -&gt; LoginResponse.Error(throwable) }\n}\n\n..and somewhere in your code..\n\nfun handleResponse(response: Response&lt;LoginData&gt;) {\n    when (response) {\n        is Response.Result -&gt; response.result\n        is Response.Error -&gt; response.throwable\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2232, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1527676952, "creation_date": 1527666674, "last_edit_date": 1527667517, "question_id": 50599152, "link": "https://stackoverflow.com/questions/50599152/return-custom-object-from-onerror-of-rx-java-android-instead-of-throw-able-obj", "title": "Return custom object from onError() of Rx java Android instead of throw-able object", "body": "<p>I am new to RX Java. While implementing Rx java with Retrofit i found i am getting throw-able object in my <code>doOnError(){}</code></p>\n\n<p>But what i want my doOnError() of RX Java should return ErrorBase() -> that is my custom class.  instead of throwable.</p>\n\n<p>it will help me to handle error at central. i will pass my throw-able object to my ErrorBase class where i have handled custom messages.</p>\n\n<p>Below is <code>doOnError()</code>. Where i want to return ErrorBase object</p>\n\n<pre><code>apiInterface.getLoginDetails(auth)\n        .doOnNext {\n           //LoginResponse\n        }\n        doOnError{\n        return ErrorBase(throwable)\n          }\n</code></pre>\n\n<p>Code of other classes. </p>\n\n<p><strong>Api Interface class</strong></p>\n\n<pre><code>interface ApiInterface {\n\n@POST(\"login\")\nfun getLoginDetails(@Header(Constants.AUTHORIZATION) auth: String): Observable&lt;LoginResponseModel&gt;\n} \n</code></pre>\n\n<p><strong>LoginRepository</strong></p>\n\n<pre><code>class LoginRepository @Inject constructor(private val apiInterface: ApiInterface,\n                                      val utils: Utils) {\n\n\nfun getLoginDetails(auth: String): Observable&lt;LoginResponseModel&gt; {\n\n    return apiInterface.getLoginDetails(auth)\n            .doOnNext {\n            }\n            .doOnError {\n              //Right now having throw-able object\n            }\n\n}\n}\n</code></pre>\n\n<p><strong>ErrorBase</strong></p>\n\n<pre><code>class ErrorBase(private val throwable: Throwable) {\n\nprivate var message: String?\nprivate var statusCode: Int\n\n\ninit {\n    statusCode = getStatusCode()\n    message = getMessage()\n}\n\nprivate fun getStatusCode(): Int {\n    if (throwable is HttpException) {\n        val exception = throwable\n        return exception.code()\n    }\n    return -1\n}\n\nprivate fun getMessage() =\n        when (throwable) {\n            is IOException -&gt; \"Something Went Wrong\"\n            is UnknownHostException -&gt; \"No internet connectivity\"\n            is SocketTimeoutException -&gt; \"Slow Internet connectivity\"\n            else -&gt; throwable.message\n        }\n}\n</code></pre>\n\n<p><strong>LoginvViewModel</strong></p>\n\n<pre><code>class LoginViewModel @Inject constructor(\n    private val loginRepository: LoginRepository) : ViewModel() {\nprivate val TAG = this.javaClass.name\nprivate var loginResult: MutableLiveData&lt;LoginResponseModel&gt; = MutableLiveData()\nprivate var loginError: MutableLiveData&lt;String&gt; = MutableLiveData()\nprivate var loginLoader: MutableLiveData&lt;Boolean&gt; = MutableLiveData()\n\nprivate lateinit var disposableObserver: DisposableObserver&lt;LoginResponseModel&gt;\n\nfun loginResult(): LiveData&lt;LoginResponseModel&gt; {\n    return loginResult\n}\n\nfun loginError(): LiveData&lt;String&gt; {\n    return loginError\n}\n\nfun loginLoader(): LiveData&lt;Boolean&gt; {\n    return loginLoader\n}\n\n\nprivate fun getLoginData(auth: String) {\n    loginLoader.postValue(true)\n    initLoginObserver()\n    loginRepository.getLoginDetails(auth)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .debounce(400, MILLISECONDS)\n            .subscribe(disposableObserver)\n}\n\nprivate fun initLoginObserver() {\n    disposableObserver = object : DisposableObserver&lt;LoginResponseModel&gt;() {\n        override fun onComplete() {\n\n        }\n\n        override fun onNext(loginDetails: LoginResponseModel) {\n            loginResult.postValue(loginDetails)\n            loginLoader.postValue(false)\n        }\n\n        override fun onError(e: Throwable) {\n            loginError.postValue(e.message)\n            loginLoader.postValue(false)\n        }\n    }\n}\n\nfun disposeElements() {\n    if (null != disposableObserver &amp;&amp; !disposableObserver.isDisposed) disposableObserver.dispose()\n}\n\nfun loginClicked() {\n    getLoginData(\"auth\")\n}}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 704, "user_id": 6766972, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/911ba07bae9e6a225dc21f1b1af9c371?s=128&d=identicon&r=PG&f=1", "display_name": "hatched", "link": "https://stackoverflow.com/users/6766972/hatched"}, "is_accepted": false, "score": 3, "last_activity_date": 1527665221, "last_edit_date": 1527665221, "creation_date": 1527664673, "answer_id": 50598570, "question_id": 50598519, "link": "https://stackoverflow.com/questions/50598519/in-kotlin-whats-the-difference-between-the-terms-coroutine-and-continuation/50598570#50598570", "title": "In Kotlin, what&#39;s the difference between the terms Coroutine and Continuation?", "body": "<p>Coroutines are procedures that take turns doing their task and then suspend to give control to the other coroutines in the group, and resume task.</p>\n\n<p>Continuation is the stack that controls the flow of the program, that allows it to skip into different parts of your program. You could use it to control the flow including coroutine like a global <code>switch</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1527830282, "post_id": 50598969, "comment_id": 88282910, "body": "Thanks for your response.  Is there ever anything in memory that is a concrete instance of some <code>Coroutine</code> type, or is the concept of <code>Coroutine</code> always represented concretely only with an instance (can there be more than one?) of a <code>Continuation</code> type?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 1, "creation_date": 1527834740, "post_id": 50598969, "comment_id": 88284628, "body": "The <code>Coroutine</code> type doesn&#39;t even exist. The closest we have is <code>AbstractCoroutine</code> and its various subclasses. It mostly corresponds to a <code>Job</code>, so it&#39;s the object that manages coroutine execution."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 10, "last_activity_date": 1539592568, "last_edit_date": 1539592568, "creation_date": 1527666010, "answer_id": 50598969, "question_id": 50598519, "link": "https://stackoverflow.com/questions/50598519/in-kotlin-whats-the-difference-between-the-terms-coroutine-and-continuation/50598969#50598969", "title": "In Kotlin, what&#39;s the difference between the terms Coroutine and Continuation?", "body": "<p>It's true, these two are quite closely related. To resume a coroutine, you actually call <code>continuation.resume()</code>.</p>\n\n<p>Each coroutine has its associated continuation object. Actually, you don't need anything else but that object, it contains the complete state of the coroutine.</p>\n\n<p>To a certain degree, Kotlin uses \"coroutine\" to also include the coroutine context, which gives the coroutine the knowledge how exactly to suspend itself, where to keep the continuation while suspended, and how to resume (dispatch) it later. But you can also use the <code>Unconfined</code> coroutine context, which is almost as good as no context at all, and be in total control of resumption with nothing but the continuation object being preserved:</p>\n\n<pre><code>import kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.GlobalScope\nimport kotlinx.coroutines.launch\nimport kotlin.coroutines.Continuation\nimport kotlin.coroutines.resume\nimport kotlin.coroutines.suspendCoroutine\n\nvar continuation: Continuation&lt;Unit&gt;? = null\n\nfun main(args: Array&lt;String&gt;) {\n    GlobalScope.launch(Dispatchers.Unconfined) {\n        println(\"Suspending\")\n        suspendCoroutine&lt;Unit&gt; { cont -&gt;\n            continuation = cont\n        }\n        println(\"Resumed!\")\n    }\n    println(\"After launch\")\n    continuation!!.resume(Unit)\n    println(\"After continuation.resume(Unit)\")\n}\n</code></pre>\n\n<p>Here you can see that we reproduced the whole suspend-resume scenario while keeping nothing but the <code>Continuation</code> object.</p>\n\n<p>My conclusion is that, due to the features of Kotlin's coroutine design (especialy the fact that they are <em>stackless</em>), there's a blurry line between the concepts of \"coroutine\" and \"continuation\".</p>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2946, "favorite_count": 1, "accepted_answer_id": 50598969, "answer_count": 2, "score": 8, "last_activity_date": 1552981088, "creation_date": 1527664496, "last_edit_date": 1552981088, "question_id": 50598519, "link": "https://stackoverflow.com/questions/50598519/in-kotlin-whats-the-difference-between-the-terms-coroutine-and-continuation", "title": "In Kotlin, what&#39;s the difference between the terms Coroutine and Continuation?", "body": "<p>It seems like these two terms are used interchangeably.  Yet, there also seems to be some difference that I'm struggling to put my finger on.  Is there a difference?  </p>\n"}, {"tags": ["postgresql", "kotlin", "jooq"], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 8514493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115be462e719efdd271cc76b71821d88?s=128&d=identicon&r=PG&f=1", "display_name": "E.Big", "link": "https://stackoverflow.com/users/8514493/e-big"}, "edited": false, "score": 0, "creation_date": 1527747976, "post_id": 50603146, "comment_id": 88245546, "body": "Thanks. It works well for me. In kotlin: <code>TABLE_HISTORY.DATE.lt(DSL.currentTimestamp() - DayToSecond(0, 0, 5)))</code>"}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 566, "user_id": 8514493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115be462e719efdd271cc76b71821d88?s=128&d=identicon&r=PG&f=1", "display_name": "E.Big", "link": "https://stackoverflow.com/users/8514493/e-big"}, "edited": false, "score": 0, "creation_date": 1527750873, "post_id": 50603146, "comment_id": 88247024, "body": "@E.Big: You&#39;re right of course. I added the operator overloaded version to my answer"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1527755648, "post_id": 50603146, "comment_id": 88249657, "body": "It can&#39;t use <code>&lt;</code> because of return type, I guess?"}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1527756822, "post_id": 50603146, "comment_id": 88250334, "body": "@AlexeyRomanov: <code>a &lt; b</code> is translated by Kotlin to <code>a.compareTo(b) &lt; 0</code>, which doesn&#39;t make sense in a jOOQ context. See: <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#comparison\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": true, "score": 3, "last_activity_date": 1527750856, "last_edit_date": 1527750856, "creation_date": 1527678582, "answer_id": 50603146, "question_id": 50598371, "link": "https://stackoverflow.com/questions/50598371/jooq-get-difference-between-two-dates-in-minutes/50603146#50603146", "title": "JOOQ: get difference between two dates in minutes", "body": "<p>It's always better to move the column on one side of the equation and constants on the other side. That way, an index placed on the column can apply. Hence:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>date &lt; now() - interval '5 minutes'\n</code></pre>\n\n<p>Or in jOOQ</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>TABLE_HISTORY.DATE.lt(now.sub(new DayToSecond(0, 0, 5)))\n</code></pre>\n\n<p>Or using Kotlin's operator overloading:</p>\n\n<pre><code>TABLE_HISTORY.DATE.lt(now - new DayToSecond(0, 0, 5))\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 8514493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115be462e719efdd271cc76b71821d88?s=128&d=identicon&r=PG&f=1", "display_name": "E.Big", "link": "https://stackoverflow.com/users/8514493/e-big"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 50603146, "answer_count": 1, "score": 0, "last_activity_date": 1527750856, "creation_date": 1527664045, "last_edit_date": 1527666828, "question_id": 50598371, "link": "https://stackoverflow.com/questions/50598371/jooq-get-difference-between-two-dates-in-minutes", "title": "JOOQ: get difference between two dates in minutes", "body": "<p>I need to find all records with <code>now() - date &gt; 5 min</code> date field</p>\n\n<p>tried smth like </p>\n\n<pre><code>.and(DSL.timestampDiff(now, TABLE_HISTORY.DATE).gt(DayToSecond.valueOf((1/86400).toDouble())))\n</code></pre>\n\n<p>but ofc unsuccessful</p>\n"}, {"tags": ["unit-testing", "kotlin", "robolectric"], "answers": [{"tags": [], "owner": {"reputation": 710, "user_id": 4418990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JcDkAknqj0s/AAAAAAAAAAI/AAAAAAAAACI/gD8qrN7ARR8/photo.jpg?sz=128", "display_name": "Vrushali Raut", "link": "https://stackoverflow.com/users/4418990/vrushali-raut"}, "is_accepted": false, "score": 0, "last_activity_date": 1527672106, "last_edit_date": 1527672106, "creation_date": 1527671458, "answer_id": 50600734, "question_id": 50597457, "link": "https://stackoverflow.com/questions/50597457/android-unit-test-class-not-found-package-name-empty-test-suite/50600734#50600734", "title": "Android Unit Test :- Class not found &quot;package name &quot; Empty test suite", "body": "<p>You have to check and make sure - your <strong>Java source code path</strong> and <strong>test class path</strong> should be exactly same. Log-cat did not show this error </p>\n\n<p><a href=\"https://i.stack.imgur.com/gUZz7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gUZz7.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 710, "user_id": 4418990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JcDkAknqj0s/AAAAAAAAAAI/AAAAAAAAACI/gD8qrN7ARR8/photo.jpg?sz=128", "display_name": "Vrushali Raut", "link": "https://stackoverflow.com/users/4418990/vrushali-raut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527672106, "creation_date": 1527660677, "question_id": 50597457, "link": "https://stackoverflow.com/questions/50597457/android-unit-test-class-not-found-package-name-empty-test-suite", "title": "Android Unit Test :- Class not found &quot;package name &quot; Empty test suite", "body": "<p>Getting this error with message :- </p>\n\n<p>Process finished with exit code 1\nClass not found: \u201ccom.example.app.ken.finding_driver.instant.FindingDriverFlowTest\u201d Empty test suite.</p>\n"}, {"tags": ["android", "soap", "kotlin", "android-ksoap2"], "owner": {"reputation": 91, "user_id": 8640884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c5a7adf00d21a99ef4adb49f67e93c14?s=128&d=identicon&r=PG&f=1", "display_name": "Fab", "link": "https://stackoverflow.com/users/8640884/fab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527659984, "creation_date": 1527659984, "question_id": 50597306, "link": "https://stackoverflow.com/questions/50597306/webservice-and-android-with-ksoap2-written-in-kolin", "title": "Webservice and Android with ksoap2 written in Kolin", "body": "<p>Hello together I've been trying to rebuild the tempconverter webservice of w3 school for some time now. This also works quite well so far. However, when accessing my server from my Android app I get the following error message:</p>\n\n<blockquote>\n  <p>SoapFault - faultcode: 'soap:Client' faultstring: 'Unmarshalling Error: unexpected element (uri:\"<a href=\"http://soapservicetest/\" rel=\"nofollow noreferrer\">http://soapservicetest/</a>\", local:\"input\"). Expected elements are &lt;{}input> ' faultactor: 'null' detail: null</p>\n</blockquote>\n\n<p>My Code looks like this:</p>\n\n<pre><code>fun getResultFromInput(input: Int?){\n    //new SoapRequest soapRequest = new SoapRequest; SoapReq\n    val request = SoapObject(NAMESPACE, METHOD_NAME)\n    val celsiusPI = PropertyInfo()\n    celsiusPI.setName(\"input\")\n    celsiusPI.value = input\n    celsiusPI.setType(Double::class.javaPrimitiveType)\n    request.addProperty(celsiusPI)\n    val envelope = SoapSerializationEnvelope(\n            SoapEnvelope.VER11\n    )\n    envelope.env = \"http://schemas.xmlsoap.org/soap/envelope/\"\n    envelope.bodyOut = request\n    envelope.encodingStyle = SoapSerializationEnvelope.ENC2003\n    envelope.dotNet = true\n    envelope.setOutputSoapObject(request)\n    val androidHttpTransport = HttpTransportSE(URL)\n    try {\n        androidHttpTransport.call(SOAP_ACTION, envelope)\n        response = responseLocal.toString()\n    }catch (e: Exception){\n        e.printStackTrace()\n    }catch (t: SocketTimeoutException) {\n        t.printStackTrace();\n    } catch (i: IOException) {\n        i.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>The SoapFault is caught in the Exception catch block but I did not get any response of my Webservice. But if I test it with for example wsdlbrowser.com everything is working fine.</p>\n\n<p>Somebody got an Idea and can help me out?</p>\n"}, {"tags": ["java", "android", "android-layout", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1527657561, "post_id": 50596820, "comment_id": 88202757, "body": "Please take a look at this it may give you the idea, <a href=\"https://stackoverflow.com/questions/45263159/constraintlayout-change-constraints-programmatically\" title=\"constraintlayout change constraints programmatically\">stackoverflow.com/questions/45263159/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1527663898, "creation_date": 1527663898, "answer_id": 50598321, "question_id": 50596820, "link": "https://stackoverflow.com/questions/50596820/android-constraint-layout-set-constraint-top-programmatically/50598321#50598321", "title": "Android : Constraint Layout Set Constraint top programmatically?", "body": "<p>You are welcome to use <strong>ConstraintSet</strong>, but if you like to keep it simple I would like to bring to your notice</p>\n\n<blockquote>\n  <p>ConstraintLayout has a specific handling of widgets being marked as View.GONE.</p>\n  \n  <p>GONE widgets, as usual, are not going to be displayed and are not part\n  of the layout itself (i.e. their actual dimensions will not be changed\n  if marked as GONE).</p>\n  \n  <p>But in terms of the layout computations, GONE widgets are still part\n  of it, with an important distinction:</p>\n  \n  <p>For the layout pass, their dimension will be considered as zero\n  (basically, they will be resolved to a point) If they have constraints\n  to other widgets they will still be respected, but any margins will be\n  as if equals to zero\n  Check it out <a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintLayout\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n\n<p>Let me demonstrate with a simple layout.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".LoginActivity\"&gt;\n\n    &lt;EditText     // View A\n        android:id=\"@+id/email\"\n        android:hint=\"email\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:ems=\"10\"\n        android:inputType=\"textEmailAddress\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;EditText // View B\n        android:id=\"@+id/password\"\n        android:hint=\"password\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:ems=\"10\"\n        android:visibility=\"gone\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/email\" /&gt;\n    &lt;EditText   //View C\n        android:id=\"@+id/otp\"\n        android:hint=\"otp\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:ems=\"10\"\n        android:inputType=\"textPassword\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/password\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/login\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_marginStart=\"8dp\"\n        android:text=\"Login\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>This layout looks like</p>\n\n<p><a href=\"https://i.stack.imgur.com/6wfMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6wfMA.png\" alt=\"All fields visible\"></a></p>\n\n<p>When you set the <strong>email</strong> field i.e view A to gone</p>\n\n<p><a href=\"https://i.stack.imgur.com/ck4Ig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ck4Ig.png\" alt=\"View A visibility GONE here\"></a></p>\n\n<p>When you set <strong>password</strong> to GONE, i.e View B</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZaQno.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZaQno.png\" alt=\"View B visibility is GONE\"></a></p>\n\n<p>This is the magic of Constraint layout.</p>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1573870670, "creation_date": 1527657450, "last_edit_date": 1573870670, "question_id": 50596820, "link": "https://stackoverflow.com/questions/50596820/android-constraint-layout-set-constraint-top-programmatically", "title": "Android : Constraint Layout Set Constraint top programmatically?", "body": "<p>I have 3 views : A,B,C. (A and B are equal in height) At the beginning B's visibility is gone and C's top constraint is the bottom of A , so C appears below A. After some time I change the visibility of A to gone and B to visible. What happens is that C is dragged to the top because A's visibility is gone. What I want to do is set the top constraint of C to the bottom of B. How can I do this? I need to do it programmatically.</p>\n\n<p>Here is where I am now currently -></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code> //A\n&lt;LinearLayout\n\n    android:onClick=\"clickedOnRecordLayout\"\n    android:layout_marginTop=\"@dimen/record_layout_top_margin\"\n    android:id=\"@+id/record_button_layout\"\n    android:gravity=\"center\"\n    android:elevation=\"@dimen/elevation_of_record_button\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    android:background=\"@drawable/red_circle_drawable\"\n    android:layout_width=\"@dimen/radius_of_record_button\"\n    android:layout_height=\"@dimen/radius_of_record_button\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/record_image\"\n        android:src=\"@drawable/ic_microphone\"\n        android:layout_width=\"@dimen/record_image_dimen\"\n        android:layout_height=\"@dimen/record_image_dimen\" /&gt;\n&lt;/LinearLayout&gt;\n\n //B - initially its visibility is gone\n&lt;LinearLayout\n    android:onClick=\"clickedOnStartedRecordingLayout\"\n    android:visibility=\"gone\"\n    android:layout_marginTop=\"@dimen/record_layout_top_margin\"\n    android:id=\"@+id/started_button_layout\"\n    android:gravity=\"center\"\n    android:elevation=\"@dimen/elevation_of_record_button\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    android:background=\"@drawable/red_circle_drawable\"\n    android:layout_width=\"@dimen/radius_of_record_button\"\n    android:layout_height=\"@dimen/radius_of_record_button\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/stop_image\"\n        android:src=\"@drawable/ic_stop_recording\"\n        android:layout_width=\"@dimen/record_image_dimen\"\n        android:layout_height=\"@dimen/record_image_dimen\" /&gt;\n&lt;/LinearLayout&gt;\n\n\n//C\n&lt;TextView\n    android:layout_marginTop=\"@dimen/tap_text_top_margin\"\n    app:layout_constraintTop_toBottomOf=\"@id/record_button_layout\"\n    android:id=\"@+id/tap_on_microphone_tv\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"10dp\"\n    android:text=\"@string/tap_to_start_message\"\n    android:textAlignment=\"center\"\n    android:textColor=\"@android:color/black\"\n    android:textStyle=\"bold\"\n    app:layout_constraintBottom_toTopOf=\"@id/chronometer\"\n    app:layout_constraintHorizontal_bias=\"0.503\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "kotlin", "rx-java", "android-livedata"], "comments": [{"owner": {"reputation": 3865, "user_id": 311001, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75fa5277c0e2e07f3613af392d47bf06?s=128&d=identicon&r=PG", "display_name": "Hades", "link": "https://stackoverflow.com/users/311001/hades"}, "edited": false, "score": 0, "creation_date": 1527651740, "post_id": 50595957, "comment_id": 88201184, "body": "I think you need to use LiveData instead of RxJava. They&#39;re both observables."}, {"owner": {"reputation": 363, "user_id": 5643911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f090580bce282cd54ad6f29f0943c?s=128&d=identicon&r=PG&f=1", "display_name": "ininmm", "link": "https://stackoverflow.com/users/5643911/ininmm"}, "reply_to_user": {"reputation": 3865, "user_id": 311001, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/75fa5277c0e2e07f3613af392d47bf06?s=128&d=identicon&r=PG", "display_name": "Hades", "link": "https://stackoverflow.com/users/311001/hades"}, "edited": false, "score": 0, "creation_date": 1527653002, "post_id": 50595957, "comment_id": 88201526, "body": "@Hades But LiveData also doesn&#39;t provide any functions to handle errors."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1527669198, "post_id": 50595957, "comment_id": 88208994, "body": "Depending on the implementation of your <code>bookRepository.getAll()</code> method, you could pass an error callback there as a parameter, and change the call to the following:      bookRepository.getAll({//Handle error here}).map {//Handle success here}.etc...  With this approach, your <code>getAll()</code> method would fire the callback and return null in case of error, or return the books in case of success"}], "answers": [{"tags": [], "owner": {"reputation": 246, "user_id": 4361136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8fc5a958c5ced54136ff24f3f9eac3c?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Buzin", "link": "https://stackoverflow.com/users/4361136/sergey-buzin"}, "is_accepted": true, "score": 1, "last_activity_date": 1538020323, "creation_date": 1538020323, "answer_id": 52529184, "question_id": 50595957, "link": "https://stackoverflow.com/questions/50595957/android-how-to-handle-error-by-using-livedata-and-rxjava/52529184#52529184", "title": "android - How to handle error by using LiveData and RxJava?", "body": "<pre><code>LiveDataReactiveStreams.fromPublisher(\n            Observable.just(1,2)\n                    .map { LiveDataResult(it, null) }\n                    .onErrorReturn {\n                        it.printStackTrace()\n                        LiveDataResult(null, it)\n                    }\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .toFlowable(BackpressureStrategy.MISSING)\n\n\nclass LiveDataResult&lt;T&gt;(val data: T?, val error: Throwable?)\n</code></pre>\n\n<p>Then inUI you can handle result or error</p>\n"}], "owner": {"reputation": 363, "user_id": 5643911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/632f090580bce282cd54ad6f29f0943c?s=128&d=identicon&r=PG&f=1", "display_name": "ininmm", "link": "https://stackoverflow.com/users/5643911/ininmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 1, "accepted_answer_id": 52529184, "answer_count": 1, "score": 1, "last_activity_date": 1538020323, "creation_date": 1527650907, "last_edit_date": 1527651462, "question_id": 50595957, "link": "https://stackoverflow.com/questions/50595957/android-how-to-handle-error-by-using-livedata-and-rxjava", "title": "android - How to handle error by using LiveData and RxJava?", "body": "<p>I'm new for learning <a href=\"https://developer.android.com/topic/libraries/architecture/\" rel=\"nofollow noreferrer\">android architecture components</a> and I have stuck in the question several days.</p>\n\n<p>I use <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveDataReactiveStreams\" rel=\"nofollow noreferrer\">LiveDataReactiveStreams</a> to transform Livedata and Flowable, all of them works well, except handling RxJava's onError.</p>\n\n<pre><code>        livedata = LiveDataReactiveStreams.fromPublisher(\n            // bookRepository.getAll() return a Flowable\n            bookRepository.getAll().map {\n                val allBookNames = mutableListOf&lt;String&gt;()\n                it.forEach {\n                    allBookNames.add(it.name)\n                }\n                return@map allBookNames.toList()\n            }\n        )\n</code></pre>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/44208618/how-to-handle-error-states-with-livedata\">How to handle error states with LiveData?\n</a> and figure out I can </p>\n\n<ol>\n<li><p>wrap my data to Handle my error </p></li>\n<li><p>or use MediatorLiveData as @<a href=\"https://stackoverflow.com/users/557179/nikola-despotoski\">Nikola Despotoski</a> said, but there is an another question is Flowable onComplete() is never called.</p></li>\n</ol>\n\n<p>Is there a better way to solve this question or any details about these two solutions I've ignored? </p>\n"}, {"tags": ["kotlin", "retrofit2", "moshi"], "comments": [{"owner": {"reputation": 33145, "user_id": 40013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92c80ad799d0788de9ec7a4e3a26f98d?s=128&d=identicon&r=PG", "display_name": "Jesse Wilson", "link": "https://stackoverflow.com/users/40013/jesse-wilson"}, "edited": false, "score": 0, "creation_date": 1527653594, "post_id": 50595461, "comment_id": 88201678, "body": "I couldn\u2019t reproduce this. <a href=\"https://gist.github.com/swankjesse/e556b6e6687d31536f8a58eb0039eda2\" rel=\"nofollow noreferrer\">gist.github.com/swankjesse/e556b6e6687d31536f8a58eb0039eda2</a>"}, {"owner": {"reputation": 33145, "user_id": 40013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92c80ad799d0788de9ec7a4e3a26f98d?s=128&d=identicon&r=PG", "display_name": "Jesse Wilson", "link": "https://stackoverflow.com/users/40013/jesse-wilson"}, "edited": false, "score": 0, "creation_date": 1527653644, "post_id": 50595461, "comment_id": 88201689, "body": "Did you tell your Retrofit instance about your Moshi instance? <a href=\"https://github.com/square/retrofit/tree/master/retrofit-converters/moshi\" rel=\"nofollow noreferrer\">github.com/square/retrofit/tree/master/retrofit-converters/&hellip;</a>"}, {"owner": {"reputation": 18623, "user_id": 560600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cbVC9.jpg?s=128&g=1", "display_name": "Sky Kelsey", "link": "https://stackoverflow.com/users/560600/sky-kelsey"}, "reply_to_user": {"reputation": 33145, "user_id": 40013, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/92c80ad799d0788de9ec7a4e3a26f98d?s=128&d=identicon&r=PG", "display_name": "Jesse Wilson", "link": "https://stackoverflow.com/users/40013/jesse-wilson"}, "edited": false, "score": 1, "creation_date": 1527700922, "post_id": 50595461, "comment_id": 88230405, "body": "Thanks so much Jesse. Your hunch was correct. I failed to pass my <code>Moshi</code> instance into my <code>MoshiConverterFactory</code>. Thanks for the help!"}], "owner": {"reputation": 18623, "user_id": 560600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/cbVC9.jpg?s=128&g=1", "display_name": "Sky Kelsey", "link": "https://stackoverflow.com/users/560600/sky-kelsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1461, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527646590, "creation_date": 1527646590, "question_id": 50595461, "link": "https://stackoverflow.com/questions/50595461/kotlin-moshi-adapter-not-called", "title": "Kotlin Moshi Adapter not called", "body": "<p>I'm trying to write a Moshi adapter in Kotlin that will create enums based on an integer value, and will also default to a specific enum value if it encounters an unsupported value.</p>\n\n<p>My adapter is never getting called, which causes the default enum adapter to fail with the included stacktrace.</p>\n\n<p>Tracing the code show that the <code>@ToJson</code> annotation somehow isn't present, and so the adapter <a href=\"https://github.com/square/moshi/blob/master/moshi/src/main/java/com/squareup/moshi/AdapterMethodsFactory.java#L111\" rel=\"nofollow noreferrer\">isn't added when it should be</a>.</p>\n\n<p>Declaring the adapter</p>\n\n<pre><code>enum class Status {\n    IDLE,\n    IN_PROGRESS,\n    FAILED,\n    SUCCESS,\n    UNKNOWN;\n\n    companion object {\n        private val map = Status.values().associateBy(Status::ordinal);\n        fun fromInt(type: Int?): Status {\n            var ret = map[type]\n            if (ret == null) {\n                ret = UNKNOWN\n            }\n            return ret\n        }\n\n    }\n\n    class Adapter {\n        @ToJson\n        fun toJson(status: Status): Int {\n            return status.ordinal\n        }\n\n        @FromJson\n        fun fromJson(value: Int): Status {\n            return fromInt(value)\n        }\n    }\n}\n</code></pre>\n\n<p>Building Moshi</p>\n\n<pre><code>@Provides\n@Singleton\nfun provideMoshi(): Moshi {\n    return Moshi.Builder()\n            .add(Status.Adapter())\n            .add(KotlinJsonAdapterFactory())\n            .build()\n}\n</code></pre>\n\n<p>Dependencies</p>\n\n<pre><code>implementation 'com.squareup.moshi:moshi:1.6.0'\nimplementation 'com.squareup.moshi:moshi-kotlin:1.6.0'\n</code></pre>\n\n<p>Stacktrace</p>\n\n<pre><code>05-29 18:57:56.603 24560-24560/com.example.app E/MyActivity: com.squareup.moshi.JsonDataException: Expected one of [IDLE, IN_PROGRESS, FAILED, SUCCESS, UNKNOWN] but was 2 at path $[0].status\n    at com.squareup.moshi.StandardJsonAdapters$EnumJsonAdapter.fromJson(StandardJsonAdapters.java:297)\n    at com.squareup.moshi.StandardJsonAdapters$EnumJsonAdapter.fromJson(StandardJsonAdapters.java:266)\n    at com.squareup.moshi.JsonAdapter$2.fromJson(JsonAdapter.java:137)\n    at com.squareup.moshi.ClassJsonAdapter$FieldBinding.read(ClassJsonAdapter.java:196)\n    at com.squareup.moshi.ClassJsonAdapter.fromJson(ClassJsonAdapter.java:158)\n    at com.squareup.moshi.JsonAdapter$2.fromJson(JsonAdapter.java:137)\n    at com.squareup.moshi.CollectionJsonAdapter.fromJson(CollectionJsonAdapter.java:76)\n    at com.squareup.moshi.CollectionJsonAdapter$2.fromJson(CollectionJsonAdapter.java:53)\n    at com.squareup.moshi.JsonAdapter$2.fromJson(JsonAdapter.java:137)\n    at retrofit2.converter.moshi.MoshiResponseBodyConverter.convert(MoshiResponseBodyConverter.java:45)\n    at retrofit2.converter.moshi.MoshiResponseBodyConverter.convert(MoshiResponseBodyConverter.java:27)\n    ...\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 1888, "user_id": 2245107, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ImKQI.png?s=128&g=1", "display_name": "Mygod", "link": "https://stackoverflow.com/users/2245107/mygod"}, "edited": false, "score": 0, "creation_date": 1537360940, "post_id": 50594507, "comment_id": 91755946, "body": "For me the true error was actually printed after this. After fixing that error, this one goes away as well."}, {"owner": {"reputation": 2276, "user_id": 3175580, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bbfe30c791549584b87aa50bdcaf8b08?s=128&d=identicon&r=PG&f=1", "display_name": "androidguy", "link": "https://stackoverflow.com/users/3175580/androidguy"}, "edited": false, "score": 1, "creation_date": 1539649919, "post_id": 50594507, "comment_id": 92569507, "body": "In my case no other error was shown in log, but after reviewing my diffs I found an unimported annotation in some kt file. After fixing import, build works. Seems to be some problem in kapt processor."}, {"owner": {"reputation": 247, "user_id": 6860109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e1816cc8f50687b5a734756a386031?s=128&d=identicon&r=PG&f=1", "display_name": "Chetan Chaudhari", "link": "https://stackoverflow.com/users/6860109/chetan-chaudhari"}, "edited": false, "score": 0, "creation_date": 1547114975, "post_id": 50594507, "comment_id": 95083829, "body": "Cannot find symbol DataBindingComponent when build from command line using ./gradlew assembleDebug"}, {"owner": {"reputation": 409, "user_id": 8244488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0bJmG.png?s=128&g=1", "display_name": "MMK", "link": "https://stackoverflow.com/users/8244488/mmk"}, "edited": false, "score": 1, "creation_date": 1551524037, "post_id": 50594507, "comment_id": 96677019, "body": "<code>android.databinding.enableV2=false  android.enableExperimentalFeatureDatabinding = false</code>. adding this to <code>grade.properties</code> solved my problem"}], "answers": [{"comments": [{"owner": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "edited": false, "score": 2, "creation_date": 1527671019, "post_id": 50595156, "comment_id": 88210174, "body": "I&#39;m already using Canary 16 and Gradle 4.7, but it is not working."}, {"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537869827, "post_id": 50595156, "comment_id": 91931439, "body": "I&#39;m using Android studio 3.3 Canary 11 and Gradle 4.10, and I am getting the error, so this solution dosen&#39;t do for me"}], "tags": [], "owner": {"reputation": 139, "user_id": 7154001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181a05912d14467ace9b64328721634f?s=128&d=identicon&r=PG&f=1", "display_name": "Eduardo Dornel", "link": "https://stackoverflow.com/users/7154001/eduardo-dornel"}, "is_accepted": false, "score": 1, "last_activity_date": 1527643764, "creation_date": 1527643764, "answer_id": 50595156, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/50595156#50595156", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>I fix it updating <a href=\"https://developer.android.com/studio/preview/\" rel=\"nofollow noreferrer\">Android Studio to Canary 16</a> AND this in gradle.wrapper.properties <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.7-all.zip</code></p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 13264143, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Xs99uIOkpV4/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJPRnp9HUxbxPDS37GQbXQUAVI2goA/photo.jpg?sz=128", "display_name": "John Glen", "link": "https://stackoverflow.com/users/13264143/john-glen"}, "edited": false, "score": 0, "creation_date": 1617289458, "post_id": 50605119, "comment_id": 118268445, "body": "I removed the dependency and it works too."}], "tags": [], "owner": {"reputation": 730, "user_id": 3250600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd42c672162d2cb50c2557c63e67b9a6?s=128&d=identicon&r=PG", "display_name": "Saeed.re", "link": "https://stackoverflow.com/users/3250600/saeed-re"}, "is_accepted": false, "score": 9, "last_activity_date": 1527684494, "creation_date": 1527684494, "answer_id": 50605119, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/50605119#50605119", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>I had the same issue.</p>\n\n<p>Changing <code>Kapt</code> to <code>annotationProcessor</code> only for DataBinding fixed the problem for me.</p>\n"}, {"comments": [{"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 4, "creation_date": 1537870302, "post_id": 50637143, "comment_id": 91931748, "body": "I have removed this dependency and tried all below solution but nothing seems to be working"}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "reply_to_user": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537870377, "post_id": 50637143, "comment_id": 91931795, "body": "What studio version are you using?"}, {"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537870604, "post_id": 50637143, "comment_id": 91931914, "body": "Android studio 3.3 Canary 11 with gradle 4.10"}, {"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537870772, "post_id": 50637143, "comment_id": 91932023, "body": "Error : cannot find symbol DataBindingComponent, I hava data binding enable to ture in gradle, I don&#39;t know what&#39;s the problem"}, {"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "reply_to_user": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537870819, "post_id": 50637143, "comment_id": 91932057, "body": "Enabled DataBinding in the gradle?"}, {"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537870986, "post_id": 50637143, "comment_id": 91932174, "body": "I have enabled it in gradle, I have follow everything in <a href=\"https://developer.android.com/topic/libraries/data-binding/start\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding/start</a>"}, {"owner": {"reputation": 83, "user_id": 1401825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271611e7c97ff1b6cb779e67033e6ebc?s=128&d=identicon&r=PG", "display_name": "habib ullah", "link": "https://stackoverflow.com/users/1401825/habib-ullah"}, "edited": false, "score": 0, "creation_date": 1538051499, "post_id": 50637143, "comment_id": 92013451, "body": "Thanks you save me from disaster, at last my issue solved with your solution,  i have used  kapt &quot;androidx.databinding:databinding-compiler:3.2.0&quot; Gradle version and binding version should be same"}, {"owner": {"reputation": 1378, "user_id": 1731130, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/462ef95dac30d690e86a869078b06fbb?s=128&d=identicon&r=PG", "display_name": "Krunal Shah", "link": "https://stackoverflow.com/users/1731130/krunal-shah"}, "reply_to_user": {"reputation": 83, "user_id": 1401825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271611e7c97ff1b6cb779e67033e6ebc?s=128&d=identicon&r=PG", "display_name": "habib ullah", "link": "https://stackoverflow.com/users/1401825/habib-ullah"}, "edited": false, "score": 0, "creation_date": 1547635624, "post_id": 50637143, "comment_id": 95256337, "body": "@habibullah for use of &quot;androidx.databinding:databinding-compiler:3.2.0&quot;, it required to enable androidX into gradle properties. Because i tried but your solution but still getting same issue"}, {"owner": {"reputation": 3709, "user_id": 1442571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dafe4607255894be85d561691c5e78c5?s=128&d=identicon&r=PG", "display_name": "Nantoka", "link": "https://stackoverflow.com/users/1442571/nantoka"}, "edited": false, "score": 0, "creation_date": 1548018050, "post_id": 50637143, "comment_id": 95383625, "body": "Just erasing the kapt ... line in the dependency section of the gradle file solved the problem for me as well. (Android Studio 3.3)"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1550457255, "post_id": 50637143, "comment_id": 96261833, "body": "thanks and awesome, this fixed my issue as well (AS 3.2.1) @SamuelRobert"}], "tags": [], "owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "is_accepted": true, "score": 59, "last_activity_date": 1542170074, "last_edit_date": 1542170074, "creation_date": 1527833835, "answer_id": 50637143, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/50637143#50637143", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Databinding libraries are being refactored as a part of androidx refactoring.</p>\n\n<p>I found the databinding annotation processor dependency link from google's maven repository <a href=\"https://mvnrepository.com/artifact/androidx.databinding/databinding-compiler/3.2.0-alpha16\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I've constructed the actual gradle dependency from there.</p>\n\n<pre><code>kapt \"androidx.databinding:databinding-compiler:3.2.0-alpha16\"\n</code></pre>\n\n<p><strong>Update</strong>\nAs of Android studio 3.2.0-beta01, databinding no longer needs its annotation processor dependency to be declared in the gradle file, since databinding is capable of resolving its dependency.</p>\n"}, {"tags": [], "owner": {"reputation": 1358, "user_id": 6281160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ycDxi.jpg?s=128&g=1", "display_name": "Deividas Strioga", "link": "https://stackoverflow.com/users/6281160/deividas-strioga"}, "is_accepted": false, "score": 31, "last_activity_date": 1528117939, "creation_date": 1528117939, "answer_id": 50681492, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/50681492#50681492", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Just delete the compiler dependency (kapt \"com.android.databinding:compiler:$gradleVersion), that worked for me. Apparently, it is provided with binding plugin from 3.2.0.</p>\n"}, {"tags": [], "owner": {"reputation": 867, "user_id": 4233693, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/adf131751fe3c0c58138d86c31d1080a?s=128&d=identicon&r=PG", "display_name": "Stanislaw Baranski", "link": "https://stackoverflow.com/users/4233693/stanislaw-baranski"}, "is_accepted": false, "score": 2, "last_activity_date": 1535387290, "last_edit_date": 1535387290, "creation_date": 1534445678, "answer_id": 51883675, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/51883675#51883675", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>I have tried <code>classpath 'com.android.tools.build:gradle:3.2.0-beta05'</code>\nwith and without explicit dependency <code>kapt \"androidx.databinding:databinding-compiler:3.3.0-alpha06\"</code></p>\n\n<p>And still getting the same exception.</p>\n\n<p>I have also tried 3.3.0-alpha06 but nothing changed.</p>\n\n<p><strong>UPDATE:</strong>\nAfter 2 days, I resolved the issue.\nWhat I did is, manually fixing all the files that had problems, because of <em>Migration to AndroidX</em> (wrong packages in imports and XMLs etc.). Additionally, I needed to update Glide from 4.7 to 4.8. When I fixed all red files the problem disappeared.</p>\n"}, {"comments": [{"owner": {"reputation": 12274, "user_id": 1180898, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a0fee5c647b5440ab2085f39607cd78d?s=128&d=identicon&r=PG", "display_name": "Amir Uval", "link": "https://stackoverflow.com/users/1180898/amir-uval"}, "edited": false, "score": 0, "creation_date": 1537191991, "post_id": 52077697, "comment_id": 91682791, "body": "Didn&#39;t work for me. What does the above do? Where did you find it?"}, {"owner": {"reputation": 3105, "user_id": 3671509, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qWe9e.png?s=128&g=1", "display_name": "Edijae Crusar", "link": "https://stackoverflow.com/users/3671509/edijae-crusar"}, "reply_to_user": {"reputation": 12274, "user_id": 1180898, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a0fee5c647b5440ab2085f39607cd78d?s=128&d=identicon&r=PG", "display_name": "Amir Uval", "link": "https://stackoverflow.com/users/1180898/amir-uval"}, "edited": false, "score": 1, "creation_date": 1537194313, "post_id": 52077697, "comment_id": 91684385, "body": "@auval       <code>android.useAndroidX:</code> When set to <code>true</code>, this flag indicates that you want to start using AndroidX from now on. If the flag is absent, Android Studio behaves as if the flag were set to <code>false</code>.     <code>android.enableJetifier:</code> When set to <code>true</code>, this flag indicates that you want to have tool support (from the Android Gradle plugin) to automatically convert existing third-party libraries as if they were written for AndroidX. If the flag is absent, Android Studio behaves as if the flag were set to <code>false</code>."}, {"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537869887, "post_id": 52077697, "comment_id": 91931484, "body": "Didn&#39;t work for me, I am using Android studio 3.3 these parameters are already present"}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1543241084, "post_id": 52077697, "comment_id": 93835296, "body": "This is definitely required if you migrate to Android X and use databinding etc. I migrated on one machine but the error appeared on a different one because gradle.properties is not in source control"}], "tags": [], "owner": {"reputation": 3105, "user_id": 3671509, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/qWe9e.png?s=128&g=1", "display_name": "Edijae Crusar", "link": "https://stackoverflow.com/users/3671509/edijae-crusar"}, "is_accepted": false, "score": 1, "last_activity_date": 1535546365, "creation_date": 1535546365, "answer_id": 52077697, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52077697#52077697", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>I solved the error by adding</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>in my project's gradle.properties file</p>\n"}, {"comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1549296899, "post_id": 52097517, "comment_id": 95843028, "body": "I had a missing import statement for an annotation value and method parameter. With Dagger 2.19 I got the databinding nonsense above. Luckily Dagger 2.21 pointed me in the right direction."}], "tags": [], "owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "is_accepted": false, "score": 15, "last_activity_date": 1539978402, "last_edit_date": 1539978402, "creation_date": 1535633368, "answer_id": 52097517, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52097517#52097517", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>In my case it was a bad dagger annotation. I put custom scope on a Module instead of putting it on a provides method.</p>\n\n<p><code>\u00af\\_(\u30c4)_/\u00af</code></p>\n"}, {"tags": [], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1537293866, "creation_date": 1537293866, "answer_id": 52392289, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52392289#52392289", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Something else to try :) I was trying to get the GithubBrowserSample into Android Studio 3.2 (RC3). I kept getting lots of weird errors on databinding even though it doesn't specify data binding versions in the main build.gradle. The solution was to <strong>remove these two lines</strong> from the gradle.properties:</p>\n\n<pre><code>org.gradle.jvmargs=-Xmx4536m\nandroid.databinding.enableV2=true\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3529, "user_id": 331021, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6d6d8251f918a3dc2d544f98a8271a8d?s=128&d=identicon&r=PG", "display_name": "SpaceMonkey", "link": "https://stackoverflow.com/users/331021/spacemonkey"}, "edited": false, "score": 3, "creation_date": 1538208884, "post_id": 52496409, "comment_id": 92070300, "body": "Solved it for me, thank you. They should have added a tooltip/autofix in the IDE."}, {"owner": {"reputation": 91, "user_id": 4821759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VfUh9.png?s=128&g=1", "display_name": "cayleyh", "link": "https://stackoverflow.com/users/4821759/cayleyh"}, "edited": false, "score": 3, "creation_date": 1538696219, "post_id": 52496409, "comment_id": 92244019, "body": "Double up for this. My error was a little different but this was the root cause. In case someone googles for it: <code>Caused by: java.lang.NullPointerException   at java.io.File.&lt;init&gt;(File.java:277)   at android.databinding.annotationprocessor.ProcessExpressions.o&zwnj;&#8203;nHandleStep(ProcessE&zwnj;&#8203;xpressions.java:77)   at android.databinding.annotationprocessor.ProcessDataBinding$P&zwnj;&#8203;rocessingStep.runSte&zwnj;&#8203;p(ProcessDataBinding&zwnj;&#8203;.java:203)   at android.databinding.annotationprocessor.ProcessDataBinding$P&zwnj;&#8203;rocessingStep.access&zwnj;&#8203;$000(ProcessDataBind&zwnj;&#8203;ing.java:188) ...</code>"}], "tags": [], "owner": {"reputation": 1114, "user_id": 4477481, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-R94nG6dKoa4/AAAAAAAAAAI/AAAAAAAAGkA/1pM1eNCHIuc/photo.jpg?sz=128", "display_name": "Narek Hayrapetyan", "link": "https://stackoverflow.com/users/4477481/narek-hayrapetyan"}, "is_accepted": false, "score": 21, "last_activity_date": 1537872669, "creation_date": 1537872669, "answer_id": 52496409, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52496409#52496409", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>If You're already using <strong>Android Studio 3.2</strong> stable version, Just remove the dependency, it's already included.</p>\n"}, {"comments": [{"owner": {"reputation": 375, "user_id": 5673068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f0d8cc11f2634afab16ed5a6573cc4?s=128&d=identicon&r=PG&f=1", "display_name": "B.mansouri", "link": "https://stackoverflow.com/users/5673068/b-mansouri"}, "reply_to_user": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1537891187, "post_id": 52497120, "comment_id": 91945238, "body": "try to change the gradle and to remove   kapt &quot;com.android.databinding:compiler:3.1.2&quot;"}, {"owner": {"reputation": 3361, "user_id": 4859873, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/wyp92.png?s=128&g=1", "display_name": "Sanjeev", "link": "https://stackoverflow.com/users/4859873/sanjeev"}, "edited": false, "score": 0, "creation_date": 1538017464, "post_id": 52497120, "comment_id": 91996954, "body": "I am not at all using  kapt &quot;com.android.databinding:compiler:3.1.2&quot;, but I figured out the problem, it was due to the wrong package structure and moving files from one folder to another"}], "tags": [], "owner": {"reputation": 375, "user_id": 5673068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f0d8cc11f2634afab16ed5a6573cc4?s=128&d=identicon&r=PG&f=1", "display_name": "B.mansouri", "link": "https://stackoverflow.com/users/5673068/b-mansouri"}, "is_accepted": false, "score": 7, "last_activity_date": 1537874896, "creation_date": 1537874896, "answer_id": 52497120, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52497120#52497120", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>i face this problem when updating to android studio 3.2 , i change gradle plugin from 3.2.0 to 3.1.4 and it works fine \n --> i think it's a gradle problem , it will be updated for sure very soon</p>\n"}, {"comments": [{"owner": {"reputation": 4294, "user_id": 990129, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b8df7a8c2cfb1bb993fd7f4942aa3d72?s=128&d=identicon&r=PG", "display_name": "muetzenflo", "link": "https://stackoverflow.com/users/990129/muetzenflo"}, "edited": false, "score": 0, "creation_date": 1540155324, "post_id": 52499659, "comment_id": 92749112, "body": "I am also pretty sure that it is caused by Dagger2 in my/our case. The official documentation of DataBindingComponent even mentions dagger: &quot;If using Dagger 2, the developer should extend this interface and annotate the extended interface as a Component.&quot; (source: <a href=\"https://developer.android.com/reference/android/databinding/DataBindingComponent\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/databinding/&hellip;</a>). But I don&#39;t understand exactly what to do here and if it will fix the error."}, {"owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "reply_to_user": {"reputation": 4294, "user_id": 990129, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b8df7a8c2cfb1bb993fd7f4942aa3d72?s=128&d=identicon&r=PG", "display_name": "muetzenflo", "link": "https://stackoverflow.com/users/990129/muetzenflo"}, "edited": false, "score": 0, "creation_date": 1540200625, "post_id": 52499659, "comment_id": 92761727, "body": "@muetzenflo Your info seems promising. I&#39;ll try to extend that component and see if it can fix the error."}, {"owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "reply_to_user": {"reputation": 4294, "user_id": 990129, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b8df7a8c2cfb1bb993fd7f4942aa3d72?s=128&d=identicon&r=PG", "display_name": "muetzenflo", "link": "https://stackoverflow.com/users/990129/muetzenflo"}, "edited": false, "score": 0, "creation_date": 1540355467, "post_id": 52499659, "comment_id": 92828947, "body": "@muetzenflo I&#39;ve tried the solution but it didn&#39;t work. I guess it only takes effects when the app is running but the problem happens in the compile time."}, {"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1541669252, "post_id": 52499659, "comment_id": 93297698, "body": "2.19 is out and the issue is still there"}, {"owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "reply_to_user": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1541671650, "post_id": 52499659, "comment_id": 93299054, "body": "@ErnestZamelczyk You&#39;re right. But I found some workaround in the issuetracker. Check the updated answer if you&#39;re interested."}], "tags": [], "owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "is_accepted": false, "score": 6, "last_activity_date": 1547522173, "last_edit_date": 1547522173, "creation_date": 1537882866, "answer_id": 52499659, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52499659#52499659", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Dagger may also be the cause. <del>Changing dagger version from 2.17 back to 2.16 can fix this problem for now.</del></p>\n\n<p>Discussion: <a href=\"https://github.com/google/dagger/issues/1245\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/1245</a></p>\n\n<p><del><strong>Update</strong></del></p>\n\n<p><del>Dagger 2.18 is out but unfortunately it still won't work after I tested(Have I missed something?).</del></p>\n\n<p><del><strong>Update2</strong></del></p>\n\n<p><del>Dagger 2.19 also won't work and the discussion is locked. </del></p>\n\n<p><del>But <a href=\"https://issuetracker.google.com/issues/115738511#comment6\" rel=\"nofollow noreferrer\">in the google issuetracke</a>, there're solutions/workarounds. I tested and they worked. Check it if you want to use the latest Dagger.</del></p>\n\n<p><strong>Update3</strong></p>\n\n<p>Dagger problem has been fixed in the Android Studio 3.3.</p>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 3177588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40c67c440b651b965ebec3cbafe9392e?s=128&d=identicon&r=PG&f=1", "display_name": "Murat", "link": "https://stackoverflow.com/users/3177588/murat"}, "edited": false, "score": 1, "creation_date": 1541070067, "post_id": 52784058, "comment_id": 93095373, "body": "works for me, I disabled typeconverter for check and it worked"}, {"owner": {"reputation": 73, "user_id": 3253995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ev3SH.jpg?s=128&g=1", "display_name": "Van", "link": "https://stackoverflow.com/users/3253995/van"}, "edited": false, "score": 2, "creation_date": 1545822711, "post_id": 52784058, "comment_id": 94703018, "body": "Thanks! I had an issue regarding Room too. I was using <code>ArrayList</code> as a return to a query where it has to be a <code>List</code>."}, {"owner": {"reputation": 2261, "user_id": 4672107, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jWMdh.jpg?s=128&g=1", "display_name": "Carson Holzheimer", "link": "https://stackoverflow.com/users/4672107/carson-holzheimer"}, "edited": false, "score": 1, "creation_date": 1567492941, "post_id": 52784058, "comment_id": 101967863, "body": "This is bad. An entirely unrelated issue in room causes this issue."}, {"owner": {"reputation": 1225, "user_id": 4438470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RfUMz.png?s=128&g=1", "display_name": "Vitor Hugo Schwaab", "link": "https://stackoverflow.com/users/4438470/vitor-hugo-schwaab"}, "edited": false, "score": 0, "creation_date": 1569507346, "post_id": 52784058, "comment_id": 102626517, "body": "This is NOT exclusive to Room. Any other annotation processor that you use can throw an exception during compilation, failing before DataBinding processor comes in play."}, {"owner": {"reputation": 454, "user_id": 7710739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNwGOqi98xc/AAAAAAAAAAI/AAAAAAAAALQ/Mxny-Hg7VAk/photo.jpg?sz=128", "display_name": "Reejesh PK", "link": "https://stackoverflow.com/users/7710739/reejesh-pk"}, "edited": false, "score": 0, "creation_date": 1587584116, "post_id": 52784058, "comment_id": 108572597, "body": "and that error remained buried in between the error stated as the question."}], "tags": [], "owner": {"reputation": 1186, "user_id": 1434047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaa451e2b93ad55c9ff5107be30b5a1?s=128&d=identicon&r=PG", "display_name": "Bink", "link": "https://stackoverflow.com/users/1434047/bink"}, "is_accepted": false, "score": 16, "last_activity_date": 1539363791, "creation_date": 1539363791, "answer_id": 52784058, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52784058#52784058", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>For what it\u2019s worth, I had a similar issue and it was the result of a bad Room query that was related to a data binding.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7690153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eiq0K.jpg?s=128&g=1", "display_name": "Sandra", "link": "https://stackoverflow.com/users/7690153/sandra"}, "is_accepted": false, "score": 5, "last_activity_date": 1539599356, "creation_date": 1539599356, "answer_id": 52814686, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/52814686#52814686", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>i finally fixed my problem because i was using <strong>Android Annotations</strong> and they released a new <strong>Version 4.5.1</strong> 1 Hour ago, where they support Grade Plugin 3.2.0. </p>\n\n<p>I was searching for this bug for a week and i\u00b4m happy now. Hope this helps you, too!</p>\n"}, {"tags": [], "owner": {"reputation": 886, "user_id": 1514554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ae6392bc8112e2d49e0154e23f9937?s=128&d=identicon&r=PG", "display_name": "Taskmaster", "link": "https://stackoverflow.com/users/1514554/taskmaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1540857318, "creation_date": 1540857318, "answer_id": 53055518, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/53055518#53055518", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>My situation:</p>\n\n<blockquote>\n  <p>Android Studio v3.2.1</p>\n  \n  <p>com.android.tools.build:gradle:3.2.1</p>\n  \n  <p><a href=\"https://services.gradle.org/distributions/gradle-4.10.2-all.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-4.10.2-all.zip</a></p>\n</blockquote>\n\n<p>I found that by removing databinding from my layout, recompiling the app and then adding the databinding back in it fixed this issue.</p>\n\n<p>I changed the <code>DataBindingUtil.setContentView(...)</code> to just <code>setContentView(...)</code> and reduced my activity layout to the bare minimum:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"hello\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Then add the databinding back in piece by piece.</p>\n"}, {"tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": false, "score": 0, "last_activity_date": 1540934637, "creation_date": 1540934637, "answer_id": 53073121, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/53073121#53073121", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>In my case there was an <strong>import error</strong> in one of the files. Simply opening that file made imports to happen automatically and thereafter project got built.</p>\n\n<p>It's a pity, that AS gave zero indication to this, neither did error stacktrace.</p>\n\n<p>In case nothing from posted answer helps - just surf through all the files in the project and seek for a file which has incorrect import statement.</p>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 4593476, "user_type": "registered", "profile_image": "https://graph.facebook.com/789739627762687/picture?type=large", "display_name": "Tosin John", "link": "https://stackoverflow.com/users/4593476/tosin-john"}, "edited": false, "score": 0, "creation_date": 1541341767, "post_id": 53090656, "comment_id": 93175315, "body": "Hi, how do I do this in a java project?"}, {"owner": {"reputation": 711, "user_id": 1232726, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Bg5nq.jpg?s=128&g=1", "display_name": "filthy_wizard", "link": "https://stackoverflow.com/users/1232726/filthy-wizard"}, "edited": false, "score": 0, "creation_date": 1545226468, "post_id": 53090656, "comment_id": 94552028, "body": "bunch of fake errors initially to Do with DataBindingComponent. then when i increase error size. I saw it was an issue with me using the incorrect scope with dagger."}, {"owner": {"reputation": 327, "user_id": 2085969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lD5Ck.jpg?s=128&g=1", "display_name": "Deepak Ganachari", "link": "https://stackoverflow.com/users/2085969/deepak-ganachari"}, "edited": false, "score": 0, "creation_date": 1546267712, "post_id": 53090656, "comment_id": 94814759, "body": "This was the only solution which worked..Thanks a lot..it helped."}, {"owner": {"reputation": 247, "user_id": 6860109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e1816cc8f50687b5a734756a386031?s=128&d=identicon&r=PG&f=1", "display_name": "Chetan Chaudhari", "link": "https://stackoverflow.com/users/6860109/chetan-chaudhari"}, "edited": false, "score": 0, "creation_date": 1547114925, "post_id": 53090656, "comment_id": 95083800, "body": "Cannot find symbol DataBindingComponent while build from command line using ./gradlew assembleDebug"}, {"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "edited": false, "score": 3, "creation_date": 1549285924, "post_id": 53090656, "comment_id": 95836553, "body": "I spend days in my life to search errors without messages...! Thanks mate, you are the man of the year :-D"}, {"owner": {"reputation": 1003, "user_id": 767780, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/bdf3eaecafc1f29772d7a8dd8597478e?s=128&d=identicon&r=PG", "display_name": "wtk", "link": "https://stackoverflow.com/users/767780/wtk"}, "edited": false, "score": 0, "creation_date": 1569941431, "post_id": 53090656, "comment_id": 102754524, "body": "Can&#39;t believe this is still an issue on 1/10/2019. It should have something like [For More errors click here]. Thanks man"}, {"owner": {"reputation": 921, "user_id": 504728, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/59335ba507c4b6603eea51659b70f15f?s=128&d=identicon&r=PG", "display_name": "Devdroid", "link": "https://stackoverflow.com/users/504728/devdroid"}, "edited": false, "score": 0, "creation_date": 1581082413, "post_id": 53090656, "comment_id": 106321234, "body": "The trick with the option(&quot;-Xmaxerrs&quot;, 500) did it. Couldn&#39;t see the correct error as it wasn&#39;t even shown. Thank you!"}, {"owner": {"reputation": 1324, "user_id": 4803009, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/836dbd7f4273d016dec84d3be1cba262?s=128&d=identicon&r=PG", "display_name": "Madona Syombua", "link": "https://stackoverflow.com/users/4803009/madona-syombua"}, "edited": false, "score": 0, "creation_date": 1583611752, "post_id": 53090656, "comment_id": 107178401, "body": "I am stuck here too so sad."}, {"owner": {"reputation": 454, "user_id": 7710739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WNwGOqi98xc/AAAAAAAAAAI/AAAAAAAAALQ/Mxny-Hg7VAk/photo.jpg?sz=128", "display_name": "Reejesh PK", "link": "https://stackoverflow.com/users/7710739/reejesh-pk"}, "edited": false, "score": 0, "creation_date": 1587584040, "post_id": 53090656, "comment_id": 108572558, "body": "ya, found the actual error in the middle, in my case, it was a query issue in room db. Thanks!"}], "tags": [], "owner": {"reputation": 977, "user_id": 997247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/19a38fd97f710f82f2ff3858fc40b2de?s=128&d=identicon&r=PG", "display_name": "Hamady C.", "link": "https://stackoverflow.com/users/997247/hamady-c"}, "is_accepted": false, "score": 62, "last_activity_date": 1541014048, "creation_date": 1541014048, "answer_id": 53090656, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/53090656#53090656", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>With the following setup</p>\n\n<blockquote>\n  <p>Android Studio 3.2.1 Build #AI-181.5540.7.32.5056338, built on October\n  8, 2018 JRE: 1.8.0_152-release-1136-b06 x86_64 JVM: OpenJDK 64-Bit\n  Server VM by JetBrains s.r.o macOS 10.13.3</p>\n</blockquote>\n\n<p>And DataBinding simply enable by having this in my app build.gradle</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>    dataBinding {\n        enabled = true\n    }\n</code></pre>\n\n<p>and also this in my gradle.wrapper properties</p>\n\n<pre><code>android.databinding.enableV2=true\n</code></pre>\n\n<p>I had the same errors:</p>\n\n<pre><code>could not find the DataBindingComponent class.\n</code></pre>\n\n<p>I had more than 100 of them. It turned out that those errors were not important and that the true underlying error was not showed by the IDE. Therefore, I increased the number of errors that the Kotlin compiler can display by adding this in build.gradle:</p>\n\n<pre><code>dataBinding {\n    enabled = true\n}\nkapt {\n        javacOptions {\n            // Increase the max count of errors from annotation processors.\n            // Default is 100.\n            option(\"-Xmaxerrs\", 500)\n        }\n    }\n</code></pre>\n\n<p>An suddenly, right below all those fake errrors, I saw the real one caused by a failed merge conflict resolution \ud83d\ude14</p>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1541669489, "creation_date": 1541669489, "answer_id": 53204881, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/53204881#53204881", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>It's a bug in jetifier. Here's a workaround for now until the next update. Put this in your project gradle:</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath 'com.android.tools.build.jetifier:jetifier-processor:1.0.0-beta02'\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1354, "user_id": 4584212, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/BDBCq.jpg?s=128&g=1", "display_name": "Oliver Metz", "link": "https://stackoverflow.com/users/4584212/oliver-metz"}, "edited": false, "score": 0, "creation_date": 1554427611, "post_id": 53496579, "comment_id": 97758038, "body": "This solved the issue with me. Thanks! Took me 2 hours to find this and didn&#39;t scroll down far enough to see your comment. :("}, {"owner": {"reputation": 903, "user_id": 2404063, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/dba6ec9670b05d6d5449f5f813929bde?s=128&d=identicon&r=PG", "display_name": "Kannan_SJD", "link": "https://stackoverflow.com/users/2404063/kannan-sjd"}, "reply_to_user": {"reputation": 1354, "user_id": 4584212, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/BDBCq.jpg?s=128&g=1", "display_name": "Oliver Metz", "link": "https://stackoverflow.com/users/4584212/oliver-metz"}, "edited": false, "score": 0, "creation_date": 1554449110, "post_id": 53496579, "comment_id": 97763891, "body": "Glad this helped you! Databinding errors are hard to interpret !!"}], "tags": [], "owner": {"reputation": 903, "user_id": 2404063, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/dba6ec9670b05d6d5449f5f813929bde?s=128&d=identicon&r=PG", "display_name": "Kannan_SJD", "link": "https://stackoverflow.com/users/2404063/kannan-sjd"}, "is_accepted": false, "score": 2, "last_activity_date": 1543311307, "creation_date": 1543311307, "answer_id": 53496579, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/53496579#53496579", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>This is my most stupid mistake!\nI have actually created a private variable for Databinding and that was causing this issue.</p>\n\n<p>Just use a <code>lateinit var binding</code> and  it Worked. </p>\n\n<p>This could help someone!</p>\n"}, {"comments": [{"owner": {"reputation": 640, "user_id": 11278807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e227d46931a4acfc310270a254286db0?s=128&d=identicon&r=PG&f=1", "display_name": "Nulldroid", "link": "https://stackoverflow.com/users/11278807/nulldroid"}, "edited": false, "score": 0, "creation_date": 1600994987, "post_id": 54014628, "comment_id": 113272803, "body": "You sir, saved my career in self-employment. It was like trial and error for &gt; 8 hours. I gotta say though, I was just missing &quot;buildFeatures.dataBinding = true&quot; in App module. Had to set the same for all feature modules as well. May your life always be filled with honey and milk."}], "tags": [], "owner": {"reputation": 921, "user_id": 5326910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/07bd35bd9f4786345b3b1b479e0351c9?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksander Aleksic", "link": "https://stackoverflow.com/users/5326910/aleksander-aleksic"}, "is_accepted": false, "score": 4, "last_activity_date": 1546472591, "creation_date": 1546472591, "answer_id": 54014628, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/54014628#54014628", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>My issue was that I tried to enable data binding for my <code>Login</code> module but not the <code>App</code> module. After adding:</p>\n\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n\n<p>to the <code>App</code> module and removed it from the <code>Login</code> module, it worked.</p>\n"}, {"tags": [], "owner": {"reputation": 8055, "user_id": 706387, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/SiTPw.jpg?s=128&g=1", "display_name": "kosiara - Bartosz Kosarzycki", "link": "https://stackoverflow.com/users/706387/kosiara-bartosz-kosarzycki"}, "is_accepted": false, "score": 1, "last_activity_date": 1548260381, "creation_date": 1548260381, "answer_id": 54331524, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/54331524#54331524", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>In my case the issue <strong>was resolved</strong> by changing:</p>\n\n<pre><code>androidExtensions.experimental = true\n</code></pre>\n\n<p>(i.e. gradle DSL as a one-liner)</p>\n\n<p>to</p>\n\n<pre><code>androidExtensions {\n    experimental = true\n}\n</code></pre>\n\n<p>apart from <code>could not find the DataBindingComponent class</code> I also had <code>error: incompatible types: NonExistentClass cannot be converted to Annotation</code> associated with <code>kotlinx.android.parcel.Parcelize</code> annotation (@Parcelize)</p>\n\n<p>Android Studio 3.3; gradle-4.10.1-all; tools.build:gradle 3.3.0</p>\n"}, {"comments": [{"owner": {"reputation": 435, "user_id": 841614, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2a79cd67aa178fb6edca485398aeb741?s=128&d=identicon&r=PG", "display_name": "Farooq Zaman", "link": "https://stackoverflow.com/users/841614/farooq-zaman"}, "edited": false, "score": 0, "creation_date": 1552022598, "post_id": 54651263, "comment_id": 96863083, "body": "Thanks a lot for this answer. I have struggled a lot because of this issue."}, {"owner": {"reputation": 315, "user_id": 4092656, "user_type": "registered", "accept_rate": 18, "profile_image": "https://lh5.googleusercontent.com/-jtkkulNIKD8/AAAAAAAAAAI/AAAAAAAABDA/0lciDyn2Avs/photo.jpg?sz=128", "display_name": "kkl260", "link": "https://stackoverflow.com/users/4092656/kkl260"}, "edited": false, "score": 0, "creation_date": 1553630731, "post_id": 54651263, "comment_id": 97454420, "body": "Thank you so much for this"}, {"owner": {"reputation": 485, "user_id": 829518, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/42ad493e103a545bed4dbe9a3a343c72?s=128&d=identicon&r=PG", "display_name": "Alberto Garrido", "link": "https://stackoverflow.com/users/829518/alberto-garrido"}, "edited": false, "score": 1, "creation_date": 1562249468, "post_id": 54651263, "comment_id": 100326330, "body": "OMG, thank you, thank you, thank you. This worked!! thank you! I was migrating to androidx and in the final stages, after finishing, i had like 70 errors like OP. Your trick revealed 13 underlying errors. Did I say thank you? :D"}, {"owner": {"reputation": 1273, "user_id": 844071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9c08d0741c9420e576508c4b47553210?s=128&d=identicon&r=PG", "display_name": "krishh", "link": "https://stackoverflow.com/users/844071/krishh"}, "edited": false, "score": 0, "creation_date": 1585051470, "post_id": 54651263, "comment_id": 107624964, "body": "It is Android Studio 3.6.1 now. Still need to follow this trick to see the actual error. :("}, {"owner": {"reputation": 77, "user_id": 486927, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8bff192f316464b422123d40cef84866?s=128&d=identicon&r=PG", "display_name": "Takeshi Kaga", "link": "https://stackoverflow.com/users/486927/takeshi-kaga"}, "edited": false, "score": 0, "creation_date": 1588014067, "post_id": 54651263, "comment_id": 108731676, "body": "This is great!  Thank you!"}], "tags": [], "owner": {"reputation": 393, "user_id": 6574153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/501bb16e56be70efb8dbd4891fa683c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ginie", "link": "https://stackoverflow.com/users/6574153/ginie"}, "is_accepted": false, "score": 21, "last_activity_date": 1549978354, "creation_date": 1549978354, "answer_id": 54651263, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/54651263#54651263", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Same Error here on Android Studio 3.3.1, no Kotlin, pure Java, using androidx</p>\n\n<p>build.gradle contains</p>\n\n<pre><code>    dataBinding {\n        enabled true\n    }\n</code></pre>\n\n<p>gradle.properties contains</p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\nandroid.databinding.enableV2=true\n</code></pre>\n\n<p>I've been fighting the issue for hours and then solved it as follows:</p>\n\n<p>Temporarily declare an empty interface for DataBindingComponent in your Project (in <code>src/main/java/androidx.databinding/DataBindingComponent.java</code>)</p>\n\n<pre><code>package androidx.databinding;\n\npublic interface DataBindingComponent {\n}\n\n</code></pre>\n\n<p>Let it compile and the error will be gone. But now the actual root error will be revealed. The one that was actually causing all the trouble but was somehow swallowed. In my case it was coming from AutoValue indicating that i was using it incorrectly</p>\n\n<pre><code>error: Parameter type java.lang.Boolean of setter method should be boolean to match getter\n</code></pre>\n\n<p>fixing that and then removing the dummy interface makes the compiler happy again.</p>\n"}, {"tags": [], "owner": {"reputation": 657, "user_id": 7049297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UQFSd.png?s=128&g=1", "display_name": "Naimish Vinchhi", "link": "https://stackoverflow.com/users/7049297/naimish-vinchhi"}, "is_accepted": false, "score": 3, "last_activity_date": 1552547264, "creation_date": 1552547264, "answer_id": 55156737, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/55156737#55156737", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Just remove kapt \"com.android.databinding...\" dependency. If you are using Android Studio 3.2 or greater version.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7389896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b506309820a1f59253ddf12e1cb403f?s=128&d=identicon&r=PG&f=1", "display_name": "bdpqchen", "link": "https://stackoverflow.com/users/7389896/bdpqchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1553004420, "creation_date": 1553004420, "answer_id": 55242928, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/55242928#55242928", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>If you are using dataroom library, check @Dao annotation in your DAO classes.\nIn my case, I forgot to add @Dao to my interface of RoomDatabase'Dao.</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 2624902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8159211d2a161cf30777fd31bb39b3ed?s=128&d=identicon&r=PG", "display_name": "owjsub", "link": "https://stackoverflow.com/users/2624902/owjsub"}, "is_accepted": false, "score": 0, "last_activity_date": 1554408796, "creation_date": 1554408796, "answer_id": 55524197, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/55524197#55524197", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Build errors for generated interfaces like <code>DataBindingComponent</code> are usually misleading. Try to look for any other build errors and fix those first, then recompile.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 7137792, "user_type": "registered", "profile_image": "https://graph.facebook.com/1428736033804925/picture?type=large", "display_name": "Jan Moravec", "link": "https://stackoverflow.com/users/7137792/jan-moravec"}, "is_accepted": false, "score": 1, "last_activity_date": 1554934043, "creation_date": 1554934043, "answer_id": 55621972, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/55621972#55621972", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>Had same issue when I was importing class in databinding, that did not exist. Also use </p>\n\n<pre><code>allprojects {\n    gradle.projectsEvaluated {\n        tasks.withType(JavaCompile) {\n            options.compilerArgs &lt;&lt; \"-Xmaxerrs\" &lt;&lt; \"1000\"\n        }\n    }\n}\n</code></pre>\n\n<p>for recieving all error messages to find the issue. For my project it was limited to 50. </p>\n"}, {"tags": [], "owner": {"reputation": 7914, "user_id": 1348522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/onFKD.jpg?s=128&g=1", "display_name": "Zumry Mohamed", "link": "https://stackoverflow.com/users/1348522/zumry-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1555486341, "creation_date": 1555486341, "answer_id": 55722208, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/55722208#55722208", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>I had to remove following import from Gradle,</p>\n\n<pre><code>androidx.room:room-compiler:2.1.0-alpha06\n</code></pre>\n\n<p>Even though its weird issue, Just try to remove to un necessary imports, it should work.  </p>\n"}, {"tags": [], "owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "is_accepted": false, "score": 0, "last_activity_date": 1556358953, "creation_date": 1556358953, "answer_id": 55879317, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/55879317#55879317", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>If using with Room Database, check all your Dao classes if you have any import issue or not specified required TypeConverter using <code>@TypeConverters</code> , this error is misleading, and should be fixed if you update project level gradle build tools version to latest.\nI used <code>classpath 'com.android.tools.build:gradle:3.4.0'</code> and got error correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 5097, "user_id": 3664036, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/689ec2f546c6e6b618d977b679d9f055?s=128&d=identicon&r=PG&f=1", "display_name": "ilansas", "link": "https://stackoverflow.com/users/3664036/ilansas"}, "edited": false, "score": 0, "creation_date": 1585927613, "post_id": 57569097, "comment_id": 107945517, "body": "THANNNNKKKKKK YOOOOOUUUUUUUU FFS"}, {"owner": {"reputation": 1098, "user_id": 6797400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXHSh.jpg?s=128&g=1", "display_name": "Shubham Agrawal", "link": "https://stackoverflow.com/users/6797400/shubham-agrawal"}, "edited": false, "score": 0, "creation_date": 1603187560, "post_id": 57569097, "comment_id": 113950376, "body": "@zeromod Can you please add which kapt plugin? Also, what if I don&#39;t have kotlin in my project?"}], "tags": [], "owner": {"reputation": 31, "user_id": 8110942, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VaO-ic4jXhI/AAAAAAAAAAI/AAAAAAAAAAw/DCfX418sdok/photo.jpg?sz=128", "display_name": "zeromod", "link": "https://stackoverflow.com/users/8110942/zeromod"}, "is_accepted": false, "score": 3, "last_activity_date": 1566287992, "creation_date": 1566287992, "answer_id": 57569097, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/57569097#57569097", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>In my case,\nIf your using Dynamic Feature Module :</p>\n\n<blockquote>\n  <p>build.gradle(app)</p>\n</blockquote>\n\n<pre><code>dataBinding {\n    enabled true\n}\n</code></pre>\n\n<p>This needs to enabled on both root and child gradle files (don't forget to add kapt plugin).</p>\n"}, {"tags": [], "owner": {"reputation": 733, "user_id": 3940893, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/ErIXW.jpg?s=128&g=1", "display_name": "Himanshu Mori", "link": "https://stackoverflow.com/users/3940893/himanshu-mori"}, "is_accepted": false, "score": 0, "last_activity_date": 1566833260, "last_edit_date": 1566833260, "creation_date": 1566832897, "answer_id": 57660746, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/57660746#57660746", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>For my case there was some error in Room database Item class...\nError was about private modifier which should be public for member variables of Room db item class. </p>\n\n<p>Use and explore command line <strong>./gradlew assembleDebug</strong> to see stacktrace.</p>\n\n<p><strong>#Room #Database #Table class #DAO</strong></p>\n"}, {"tags": [], "owner": {"reputation": 9533, "user_id": 317928, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yT12Z.jpg?s=128&g=1", "display_name": "vokilam", "link": "https://stackoverflow.com/users/317928/vokilam"}, "is_accepted": false, "score": 2, "last_activity_date": 1573826392, "last_edit_date": 1573826392, "creation_date": 1573824572, "answer_id": 58878067, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/58878067#58878067", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>In my case I enabled data binding in dynamic feature module only. After I enabled data binding in root module, error disappeared.</p>\n\n<p>From <a href=\"https://developer.android.com/topic/libraries/data-binding/start#build_environment\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Note: You must configure data binding for app modules that depend on libraries that use data binding, even if the app module doesn't directly use data binding.</p>\n</blockquote>\n\n<p>Also you may need to invalidate caches and restart.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12940071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD29i4CEZP1mkPyLeupjc6oEobbpTN-2mwEZ4q_SaE=k-s128", "display_name": "Zainab", "link": "https://stackoverflow.com/users/12940071/zainab"}, "is_accepted": false, "score": 1, "last_activity_date": 1582304981, "creation_date": 1582304981, "answer_id": 60343383, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p/60343383#60343383", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>For me, there was an error in my layout file. I referenced a function that was non-existent.</p>\n\n<p><code>android:text=\"@{() -&gt; sleepTrackerViewModel.nightStrings}\"</code></p>\n\n<p>Below is the solution:</p>\n\n<p><code>android:text=\"@{sleepTrackerViewModel.nightStrings}\"</code></p>\n"}], "owner": {"reputation": 7167, "user_id": 1184708, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/TLHUF.jpg?s=128&g=1", "display_name": "Juliano Nunes Silva Oliveira", "link": "https://stackoverflow.com/users/1184708/juliano-nunes-silva-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54606, "favorite_count": 16, "accepted_answer_id": 50637143, "answer_count": 31, "score": 95, "last_activity_date": 1582304981, "creation_date": 1527637792, "last_edit_date": 1556358994, "question_id": 50594507, "link": "https://stackoverflow.com/questions/50594507/cannot-find-symbol-databindingcomponent-on-android-studio-3-2-canary-16-kotlin-p", "title": "Cannot find symbol DataBindingComponent on Android Studio 3.2 Canary 16 Kotlin project", "body": "<p>I just created a new project on Android Studio 3.2 Canary 16 with Kotlin enabled. Then I also enabled data binding, but I'm getting an error saying that it could not find the DataBindingComponent class.</p>\n\n<p>Here's my project gradle:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.41'\n    ext.android_plugin_version = '3.2.0-alpha10'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.0-alpha16'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>My module gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-kapt'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"net.julianonunes.myapp\"\n        minSdkVersion 22\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.10.0'\n    implementation 'com.android.support:design:27.1.1'\n    kapt \"com.android.databinding:compiler:3.1.2\"\n}\n</code></pre>\n\n<p>My activity's xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"data\"\n            type=\"net.julianonunes.myapp.RegisterData\" /&gt;\n    &lt;/data&gt;\n\n    ....\n&lt;/layout&gt;\n</code></pre>\n\n<p>And here's the build output:</p>\n\n<pre><code>Executing tasks: [clean, :app:assembleDebug]\n\nConfiguration on demand is an incubating feature.\n\n&gt; Configure project :app\napp: 'annotationProcessor' dependencies won't be recognized as kapt annotation processors. Please change the configuration name to 'kapt' for these artifacts: 'androidx.databinding:databinding-compiler:3.2.0-alpha16'.\n\n&gt; Task :clean\n&gt; Task :app:clean\n&gt; Task :app:preBuild UP-TO-DATE\n&gt; Task :app:preDebugBuild\n&gt; Task :app:compileDebugAidl NO-SOURCE\n&gt; Task :app:compileDebugRenderscript\n&gt; Task :app:checkDebugManifest\n&gt; Task :app:generateDebugBuildConfig\n&gt; Task :app:prepareLintJar UP-TO-DATE\n&gt; Task :app:mainApkListPersistenceDebug\n&gt; Task :app:generateDebugResValues\n&gt; Task :app:generateDebugResources\n&gt; Task :app:mergeDebugResources\n&gt; Task :app:createDebugCompatibleScreenManifests\n&gt; Task :app:processDebugManifest\n&gt; Task :app:splitsDiscoveryTaskDebug\n&gt; Task :app:processDebugResources\n&gt; Task :app:generateDebugSources\n&gt; Task :app:dataBindingExportBuildInfoDebug\n&gt; Task :app:transformDataBindingBaseClassLogWithDataBindingMergeGenClassesForDebug\n&gt; Task :app:transformDataBindingWithDataBindingMergeArtifactsForDebug\n&gt; Task :app:dataBindingGenBaseClassesDebug\nDownload https://dl.google.com/dl/android/maven2/com/android/databinding/compiler/3.1.2/compiler-3.1.2.pom\nDownload https://dl.google.com/dl/android/maven2/com/android/databinding/compiler/3.1.2/compiler-3.1.2.jar\n&gt; Task :app:kaptGenerateStubsDebugKotlin\ne: /home/juliano/Documents/Projetos/myapp/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/net/julianonunes/myapp/databinding/ActivityMainBinding.java:28: error: cannot find symbol\n  protected ActivityMainBinding(DataBindingComponent _bindingComponent, View _root,\n                                ^\n  symbol:   class DataBindingComponent\n  location: class ActivityMainBinding\ne: /home/juliano/Documents/Projetos/myapp/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/net/julianonunes/myapp/databinding/ActivityMainBinding.java:46: error: cannot find symbol\n      @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) {\n                                                                ^\n  symbol:   class DataBindingComponent\n  location: class ActivityMainBinding\ne: /home/juliano/Documents/Projetos/myapp/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/net/julianonunes/myapp/databinding/ActivityMainBinding.java:57: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class ActivityMainBinding\ne: /home/juliano/Documents/Projetos/myapp/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/net/julianonunes/myapp/databinding/ActivityMainBinding.java:68: error: cannot find symbol\n      @Nullable DataBindingComponent component) {\n                ^\n  symbol:   class DataBindingComponent\n  location: class ActivityMainBinding\ne: [kapt] An exception occurred: java.lang.NullPointerException\n    at java.io.File.&lt;init&gt;(File.java:277)\n    at android.databinding.annotationprocessor.ProcessExpressions.onHandleStep(ProcessExpressions.java:77)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.runStep(ProcessDataBinding.java:203)\n    at android.databinding.annotationprocessor.ProcessDataBinding$ProcessingStep.access$000(ProcessDataBinding.java:188)\n    at android.databinding.annotationprocessor.ProcessDataBinding.doProcess(ProcessDataBinding.java:90)\n    at android.databinding.annotationprocessor.ProcessDataBinding.process(ProcessDataBinding.java:65)\n    at org.jetbrains.kotlin.kapt3.ProcessorWrapper.process(annotationProcessing.kt:131)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:794)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:705)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$1800(JavacProcessingEnvironment.java:91)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1035)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1176)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1170)\n    at com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1068)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:87)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:45)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:257)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:212)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:95)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:97)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:107)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:84)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:374)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:64)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:101)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:365)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:130)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:161)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:63)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:405)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$1$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:920)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:98)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:950)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:919)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:404)\n    at sun.reflect.GeneratedMethodAccessor91.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\n&gt; Task :app:kaptDebugKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\nSee https://docs.gradle.org/4.7/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 8s\n20 actionable tasks: 19 executed, 1 up-to-date\n</code></pre>\n\n<p>What is wrong with my project?</p>\n\n<p>PS: The problem also happens on Android Studio 3.1.2</p>\n"}, {"tags": ["android", "webview", "kotlin", "google-sheets-api"], "answers": [{"tags": [], "owner": {"reputation": 335, "user_id": 3525158, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1c3467931ae4a99043a85160d484b3be?s=128&d=identicon&r=PG&f=1", "display_name": "chanban", "link": "https://stackoverflow.com/users/3525158/chanban"}, "is_accepted": false, "score": 0, "last_activity_date": 1527647332, "creation_date": 1527647332, "answer_id": 50595541, "question_id": 50594289, "link": "https://stackoverflow.com/questions/50594289/google-sheets-formatting-in-android-webview/50595541#50595541", "title": "Google sheets formatting in android webview", "body": "<p>Answered my own question, just needed to enable javascript</p>\n\n<pre><code>webview.settings.javaScriptEnabled = true\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 3525158, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1c3467931ae4a99043a85160d484b3be?s=128&d=identicon&r=PG&f=1", "display_name": "chanban", "link": "https://stackoverflow.com/users/3525158/chanban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527647332, "creation_date": 1527635908, "question_id": 50594289, "link": "https://stackoverflow.com/questions/50594289/google-sheets-formatting-in-android-webview", "title": "Google sheets formatting in android webview", "body": "<p>I want to show a google sheet in an android webview, which I thought would be fairly straightforward.   I can't get it to format correctly.  Here's my layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:name=\"com.example.grant.gradechaser.fragment.ClimbListFragment\"\nandroid:orientation=\"vertical\"\n&gt;\n\n&lt;TextView\n    android:id=\"@+id/title\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    style=\"@style/AppTheme.myListTitle\"\n    android:background=\"@color/colorPrimary\"\n    android:text=\"10 unsynced climbs\"/&gt;\n\n&lt;WebView\n    android:id=\"@+id/webview\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    android:layout_weight=\"1\"\n    /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And here's my code</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    webview.webViewClient = WebViewClient()\n    webview.loadUrl(\"my sheets url here\")\n\n    webview.refreshDrawableState()\n}\n</code></pre>\n\n<p>Here's what it ends up looking like on my phone, just shows the individual sheets titles but none of the content.  Other websites look fine</p>\n\n<p><a href=\"https://i.stack.imgur.com/Op4rM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Op4rM.png\" alt=\"weird formatting\"></a></p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2137, "user_id": 4260786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJl1QHOKaIg/AAAAAAAAAAI/AAAAAAAAAZ4/BMNK6a_V4nw/photo.jpg?sz=128", "display_name": "Suhaib Roomy", "link": "https://stackoverflow.com/users/4260786/suhaib-roomy"}, "is_accepted": false, "score": 0, "last_activity_date": 1527637046, "creation_date": 1527637046, "answer_id": 50594416, "question_id": 50594000, "link": "https://stackoverflow.com/questions/50594000/keep-calling-service-broadcast-from-each-other/50594416#50594416", "title": "Keep calling service/broadcast from each other", "body": "<pre><code>val intent = Intent(\"com.kortex.mediafix.BootUpReceiver\")\n</code></pre>\n\n<p>This line does not call your broadcast receiver but rather makes an intent with intent action as \"com.kortex.mediafix.BootUpReceiver\"</p>\n\n<p>Change your BootUpReceiver's entry in manifest to receive this action</p>\n\n<pre><code>&lt;receiver android:name=\".BootUpReceiver\"\n        android:permission=\"android.permission.RECEIVE_BOOT_COMPLETED\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n            &lt;action android:name=\"android.intent.action.QUICKBOOT_POWERON\" /&gt;\n            &lt;action android:name=\"com.kortex.mediafix.BootUpReceiver\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 0, "last_activity_date": 1527863519, "last_edit_date": 1527863519, "creation_date": 1527855269, "answer_id": 50643211, "question_id": 50594000, "link": "https://stackoverflow.com/questions/50594000/keep-calling-service-broadcast-from-each-other/50643211#50643211", "title": "Keep calling service/broadcast from each other", "body": "<p>I solved it by using <code>ContentObserver</code> that is called from the <code>service</code>, so my code now is:</p>\n\n<ol>\n<li><p><code>MainActivity</code> to launch the app, and do first time adjustment, and to start the service:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    val audio = this.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n    val level = audio.getStreamVolume(AudioManager.STREAM_MUSIC)\n\n    val maxVolume = audio.getStreamMaxVolume(AudioManager.STREAM_MUSIC)\n    val percent = 0.2f\n    val twintyVolume = (maxVolume * percent).toInt()\n\n    if ( level &gt; twintyVolume) audio.setStreamVolume(AudioManager.STREAM_MUSIC,twintyVolume,0)\n\n    Toast.makeText(this,\"Audio level adjusted to 20% instead of $level\", Toast.LENGTH_LONG).show()\n\n    this.startService(Intent(this, VolumeCheck::class.java))\n\n    finish()\n   }\n}\n</code></pre></li>\n<li><p><code>Broadcast</code> to start the app and the service each time the device is rebooted:</p>\n\n<pre><code>class BootUpReceiver: BroadcastReceiver() {\n\noverride fun onReceive(context: Context, intent: Intent) {\n    context.startService(Intent(context, VolumeCheck::class.java))\n   }\n}\n</code></pre></li>\n<li><p><code>Service</code> to register and call the observer:</p>\n\n<pre><code>class VolumeCheck : Service() {\n\nprivate lateinit var context: Context\nprivate lateinit var myObserver: VolumeOnserver\n\n\noverride fun onCreate() {\n    super.onCreate()\n    context = this\n    // Define the VolumeOnserver\n    myObserver = VolumeOnserver(context, Handler())\n    Toast.makeText(this, \"service created\", Toast.LENGTH_SHORT).show();\n}\n\noverride fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n    super.onStartCommand(intent, flags, startId)\n    Toast.makeText(this, \"service starting\", Toast.LENGTH_SHORT).show();\n\n    // Register the VolumeOnserver for setting changes\n    contentResolver.registerContentObserver(android.provider.Settings.System.CONTENT_URI ,true, myObserver);\n\n    return Service.START_STICKY\n}\n\noverride fun onBind(intent: Intent): IBinder? {\n    return null\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n\n    // Unregister the VolumeOnserver\n    contentResolver.unregisterContentObserver(myObserver);\n   }\n}\n</code></pre></li>\n<li><p><code>Observer</code> that observe any changes in the <code>settings</code> and check the media volume and adjust it if required:</p>\n\n<pre><code>class VolumeOnserver (context: Context, h: Handler?): ContentObserver(h) {\n\nprivate val context = context\n\noverride fun onChange(selfChange: Boolean) {\n    onChange(selfChange, uri = null)\n}\n\n// Implement the onChange(boolean, Uri) method to take advantage of the new Uri argument.\noverride fun onChange(selfChange: Boolean, uri: Uri?) {\n    // Handle change.\n    val audio = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n    val level = audio.getStreamVolume(AudioManager.STREAM_MUSIC)\n\n    val maxVolume = audio.getStreamMaxVolume(AudioManager.STREAM_MUSIC)\n    val percent = 0.2f\n    val twintyVolume = (maxVolume * percent).toInt()\n\n    if ( level &gt; twintyVolume) audio.setStreamVolume(AudioManager.STREAM_MUSIC,twintyVolume,0)\n\n    // Toast.makeText(context,\"audio level is $level\", Toast.LENGTH_LONG).show()\n   }\n}\n</code></pre></li>\n</ol>\n\n<p>The <code>Manifest</code> file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.kortex.mediafix\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;receiver android:name=\".BootUpReceiver\"\n            android:permission=\"android.permission.RECEIVE_BOOT_COMPLETED\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n                &lt;action android:name=\"android.intent.action.QUICKBOOT_POWERON\" /&gt;\n               &lt;action android:name=\"com.kortex.mediafix.BootUpReceiver\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;service android:name=\".VolumeCheck\" /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>And my running app is <a href=\"https://play.google.com/store/apps/details?id=com.kortex.mediafix\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>But have an issue it is not stable, I the user insist to change the volume, after many trials the service and/or the observer is/are no more working till the app is restarted. </p>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 0, "last_activity_date": 1527863392, "creation_date": 1527863392, "answer_id": 50645719, "question_id": 50594000, "link": "https://stackoverflow.com/questions/50594000/keep-calling-service-broadcast-from-each-other/50645719#50645719", "title": "Keep calling service/broadcast from each other", "body": "<p>Another way to do it, without <code>Service</code> is to call <code>ContentObserver</code> from <code>BroadcastReceiver</code></p>\n\n<ol>\n<li><p><code>BroadcastReceiver</code>:</p>\n\n<p>class BootUpReceiver: BroadcastReceiver() {</p>\n\n<pre><code>override fun onReceive(context: Context, intent: Intent) {\n    val myObserver = VolumeOnserver(context, Handler())\n\n    // Register the VolumeOnserver for setting changes\n    context.contentResolver.registerContentObserver(\n            android.provider.Settings.System.CONTENT_URI ,true,\n            myObserver)\n   }\n}\n</code></pre></li>\n<li><p><code>ContentObserver</code>:</p>\n\n<p>class VolumeOnserver (context: Context, h: Handler?): ContentObserver(h) {</p>\n\n<pre><code>private val context = context\n\noverride fun onChange(selfChange: Boolean) {\n    onChange(selfChange, uri = null)\n}\n\n// Implement the onChange(boolean, Uri) method to take advantage of the new Uri argument.\noverride fun onChange(selfChange: Boolean, uri: Uri?) {\n    // Handle change.\n    val audio = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n    val level = audio.getStreamVolume(AudioManager.STREAM_MUSIC)\n\n    val maxVolume = audio.getStreamMaxVolume(AudioManager.STREAM_MUSIC)\n    val percent = 0.2f\n    val twintyVolume = (maxVolume * percent).toInt()\n\n    if ( level &gt; twintyVolume) audio.setStreamVolume(AudioManager.STREAM_MUSIC,twintyVolume,0)\n    }\n}\n</code></pre></li>\n<li><p><code>MainActivity</code>:</p>\n\n<p>class MainActivity : AppCompatActivity() {</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    val audio = this.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n    val level = audio.getStreamVolume(AudioManager.STREAM_MUSIC)\n\n    val maxVolume = audio.getStreamMaxVolume(AudioManager.STREAM_MUSIC)\n    val percent = 0.2f\n    val twintyVolume = (maxVolume * percent).toInt()\n\n    if ( level &gt; twintyVolume) audio.setStreamVolume(AudioManager.STREAM_MUSIC,twintyVolume,0)\n\n    finish()\n   }\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 50643211, "answer_count": 3, "score": -2, "last_activity_date": 1527863519, "creation_date": 1527633737, "question_id": 50594000, "link": "https://stackoverflow.com/questions/50594000/keep-calling-service-broadcast-from-each-other", "title": "Keep calling service/broadcast from each other", "body": "<p>I'm building a simple app, that keep monitoring the media level, and adjust it to be 20% of the maximum level all the time, if the user increased,it should back to 20%again.</p>\n\n<p>Th concept I followed is doing the monitoring process via a service, once this service is destroyed it calls a broadcast receiver, which in its turn calls the receiver again, and so on, as endless cycle, but looks something wrong in the code below,soit is not working as desired, and service/broadcast not keep calling each others!</p>\n\n<p>I started the <code>mainActivity</code> as:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val audio = this.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n        val level = audio.getStreamVolume(AudioManager.STREAM_MUSIC)\n\n        val maxVolume = audio.getStreamMaxVolume(AudioManager.STREAM_MUSIC)\n        val percent = 0.2f\n        val twintyVolume = (maxVolume * percent).toInt()\n\n        if ( level &gt; twintyVolume) {\n            Toast.makeText(this,\"audio level is $level\", Toast.LENGTH_LONG).show()\n            audio.setStreamVolume(AudioManager.STREAM_MUSIC,twintyVolume,0)\n        }\n\n        this.startService(Intent(this, VolumeCheck::class.java))\n    }\n}\n</code></pre>\n\n<p>The above make initial check and reduce the media volume to 20% of the max volume, then start the service, which is doing the same with the below code:</p>\n\n<pre><code>class VolumeCheck : Service() {\n\n    private lateinit var context: Context\n\n    override fun onCreate() {\n        super.onCreate()\n        context = this\n        Toast.makeText(this, \"service created\", Toast.LENGTH_SHORT).show();\n    }\n\n    override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n        super.onStartCommand(intent, flags, startId)\n        Toast.makeText(this, \"service starting\", Toast.LENGTH_SHORT).show();\n\n        val audio = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager\n        val mediaPlayer = MediaPlayer()\n\n\n     //   Thread().run {\n            val maxVolume = audio.getStreamMaxVolume(AudioManager.STREAM_MUSIC)\n            val percent = 0.2f\n            val twintyVolume = (maxVolume * percent).toInt()\n            if (mediaPlayer.isPlaying) {\n                val level = audio.getStreamVolume(AudioManager.STREAM_MUSIC)\n                if ( level &gt; twintyVolume) {\n                    Toast.makeText(context,\"audio level is $level\", Toast.LENGTH_LONG).show()\n                    audio.setStreamVolume(AudioManager.STREAM_MUSIC,twintyVolume,0)\n                }\n            }\n      //      Thread.sleep(3000)\n     //   }\n        stopSelf()\n        return Service.START_STICKY\n    }\n\n    override fun onBind(intent: Intent): IBinder? {\n        //TODO for communication return IBinder implementation\n        return null\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        Toast.makeText(this, \"service done\", Toast.LENGTH_SHORT).show()\n        val intent = Intent(\"com.kortex.mediafix.BootUpReceiver\")\n        sendBroadcast(intent)\n    }\n}\n</code></pre>\n\n<p>Once the service is destroyed, it calls the boot broadcast receiver, which in its turn call the service again:</p>\n\n<pre><code>class BootUpReceiver: BroadcastReceiver() {\n\n    override fun onReceive(context: Context, intent: Intent) {\n        context.startService(Intent(context, VolumeCheck::class.java))\n    }\n}\n</code></pre>\n\n<p>The <code>Manifest</code> is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.kortex.mediafix\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;receiver android:name=\".BootUpReceiver\"\n            android:permission=\"android.permission.RECEIVE_BOOT_COMPLETED\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n                &lt;action android:name=\"android.intent.action.QUICKBOOT_POWERON\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;service android:name=\".VolumeCheck\" /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2311, "user_id": 7915814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab67865e8fe3cfa2ff788cc5e5909de?s=128&d=identicon&r=PG&f=1", "display_name": "Suleyman", "link": "https://stackoverflow.com/users/7915814/suleyman"}, "edited": false, "score": 0, "creation_date": 1527632224, "post_id": 50593736, "comment_id": 88196722, "body": "I don&#39;t remember the callback methods of Google Maps but you can move the code that shows the location to <code>onMapReady()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2137, "user_id": 4260786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJl1QHOKaIg/AAAAAAAAAAI/AAAAAAAAAZ4/BMNK6a_V4nw/photo.jpg?sz=128", "display_name": "Suhaib Roomy", "link": "https://stackoverflow.com/users/4260786/suhaib-roomy"}, "is_accepted": false, "score": 0, "last_activity_date": 1527633013, "creation_date": 1527633013, "answer_id": 50593893, "question_id": 50593736, "link": "https://stackoverflow.com/questions/50593736/how-to-set-camera-to-user-location-in-google-maps/50593893#50593893", "title": "How to set camera to user location in google maps", "body": "<p>Use this code in onMapready</p>\n\n<pre><code>@Override\npublic void onMapReady(GoogleMap googleMap) {\nmMap = googleMap;\nif (ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, android.Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n    return;\n}\n\nmMap.setMyLocationEnabled(true);\n\nmMap.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\n    @Override\n    public void onMyLocationChange(Location location) {\n\n        CameraUpdate center = CameraUpdateFactory.newLatLng(new LatLng(location.getLatitude(), location.getLongitude()));\n        CameraUpdate zoom = CameraUpdateFactory.zoomTo(11);\n        mMap.clear();\n\n        MarkerOptions mp = new MarkerOptions();\n\n        mp.position(new LatLng(location.getLatitude(), location.getLongitude()));\n\n        mp.title(\"my position\");\n\n        mMap.addMarker(mp);\n        mMap.moveCamera(center);\n        mMap.animateCamera(zoom);\n\n    }\n});}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7248, "user_id": 5891747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97db4042b7434416e51fc9549db6a719?s=128&d=identicon&r=PG&f=1", "display_name": "Android Geek", "link": "https://stackoverflow.com/users/5891747/android-geek"}, "is_accepted": false, "score": 0, "last_activity_date": 1527654527, "creation_date": 1527654527, "answer_id": 50596404, "question_id": 50593736, "link": "https://stackoverflow.com/questions/50593736/how-to-set-camera-to-user-location-in-google-maps/50596404#50596404", "title": "How to set camera to user location in google maps", "body": "<p><strong>xml Code Add map like this:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;fragment\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:id=\"@+id/map\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nclass=\"com.google.android.gms.maps.SupportMapFragment\"/&gt;\n</code></pre>\n\n<p><strong>Add java code</strong></p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.map);\nmap = ((SupportMapFragment) \ngetSupportFragmentManager().findFragmentById(R.id.map)).getMap();\n\nlocationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\nlocationManager.requestLocationUpdates(LocationManager.NETWORK_PROVIDER, MIN_TIME, MIN_DISTANCE, this); //You can also use LocationManager.GPS_PROVIDER and LocationManager.PASSIVE_PROVIDER        \n  }\n\n@Override\npublic void onLocationChanged(Location location) {\nLatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\nCameraUpdate cameraUpdate = CameraUpdateFactory.newLatLngZoom(latLng, 10);\nmap.animateCamera(cameraUpdate);\nlocationManager.removeUpdates(this);\n  }\n\n @Override\n public void onStatusChanged(String provider, int status, Bundle extras) { }\n\n @Override\n public void onProviderEnabled(String provider) { }\n\n @Override\n public void onProviderDisabled(String provider) { }\n }\n</code></pre>\n\n<p><strong>Add permissions in manifest</strong></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n</code></pre>\n\n<p>try this code it helps you</p>\n"}], "owner": {"reputation": 295, "user_id": 9722161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160203589170587/picture?type=large", "display_name": "Keith Colclough", "link": "https://stackoverflow.com/users/9722161/keith-colclough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527654527, "creation_date": 1527631993, "last_edit_date": 1527632853, "question_id": 50593736, "link": "https://stackoverflow.com/questions/50593736/how-to-set-camera-to-user-location-in-google-maps", "title": "How to set camera to user location in google maps", "body": "<p>I have the code set so it loads up the map, however it doesn't automatically go to the user's location until they press the zoom button. I would prefer if it started at the users location or at least loaded it up within a few seconds of the map appearing.</p>\n"}, {"tags": ["java", "unit-testing", "kotlin", "guice"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1527701513, "post_id": 50602593, "comment_id": 88230766, "body": "You are correct. This seems to be the simple and effective route."}], "tags": [], "owner": {"reputation": 10456, "user_id": 290425, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/TnCaZ.jpg?s=128&g=1", "display_name": "Jan Galinski", "link": "https://stackoverflow.com/users/290425/jan-galinski"}, "is_accepted": true, "score": 0, "last_activity_date": 1527676844, "creation_date": 1527676844, "answer_id": 50602593, "question_id": 50590495, "link": "https://stackoverflow.com/questions/50590495/guice-module-test-require-binding-of-annotated-strings/50602593#50602593", "title": "Guice module test: require binding of annotated strings", "body": "<p>Why do you want to mock them? You could register an addional module in your tests that provides those values.</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 50602593, "answer_count": 1, "score": 1, "last_activity_date": 1527676844, "creation_date": 1527617609, "last_edit_date": 1527619507, "question_id": 50590495, "link": "https://stackoverflow.com/questions/50590495/guice-module-test-require-binding-of-annotated-strings", "title": "Guice module test: require binding of annotated strings", "body": "<p>I'm trying to write some tests for my common guice modules in my library repo that I use across several projects. Some modules have annotated string injections that inject project configurations. For example, I have a cassandra module that requires String bindings for host, port and other configs:</p>\n\n<pre><code>class CassandraModule : AbstractModule() {\ncompanion object {\n    const val CASSANDRA_HOST = \"cassandra.host\"\n    const val CASSANDRA_PORT = \"cassandra.port\"\n    ...\n\n    const val MY_CASSANDRA_READ = \"casandra.db.read\"\n    const val MY_CASSANDRA_WRITE = \"casandra.db.write\"\n}\n\noverride fun configure() {\n}\n\n@Provides\n@Singleton\n@Named(MY_CASSANDRA_READ)\nfun provideCassandraReadCluster(\n    @Named(CASSANDRA_HOST) host: String,\n    @Named(CASSANDRA_PORT) port: Int,\n    @Named(CASSANDRA_DATACENTER) dc: String\n): Cluster {\n    val queryOptions = QueryOptions()\n    queryOptions.consistencyLevel = ConsistencyLevel.LOCAL_ONE\n\n    val cluster = Cluster.builder()\n        .addContactPoint(host)\n        .withPort(port)\n        .withLoadBalancingPolicy(DCAwareRoundRobinPolicy(dc))\n        .withQueryOptions(queryOptions)\n        .build()\n    return cluster\n}\n\n@Provides\n@Singleton\n@Named(MY_CASSANDRA_READ)\nfun provideCassandraReadSession(\n    @Named(MY_CASSANDRA_READ) cluster: Cluster,\n    @Named(CASSANDRA_KEYSPACE) keyspace: String\n): Session {\n    return cluster.connect(keyspace)\n}\n...\n}\n</code></pre>\n\n<p>All these config string bindings should come from other projects via <code>Property</code> bindings that use this library module as a dependency. How do I mock these annotated string properties? </p>\n"}, {"tags": ["java", "spring-boot", "kotlin", "spring-webflux"], "answers": [{"tags": [], "owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "is_accepted": false, "score": 0, "last_activity_date": 1527621458, "creation_date": 1527621458, "answer_id": 50591453, "question_id": 50589812, "link": "https://stackoverflow.com/questions/50589812/returning-kotlin-data-class-using-webflux-and-spring-boot/50591453#50591453", "title": "Returning kotlin data class using WebFlux and Spring boot", "body": "<p>I found a solution, it isn't ideal, but it does work.</p>\n\n<pre><code>fun getMyData(): MyDataResponse { \nreturn myService.getMyData()\n}\n</code></pre>\n\n<p>This returns a JSON of the object, in my case.</p>\n\n<p>I used the <code>data class</code> and it works.</p>\n"}, {"tags": [], "owner": {"reputation": 487, "user_id": 2999211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08e84ef418072b917622c6938ce82c36?s=128&d=identicon&r=PG&f=1", "display_name": "Wyko", "link": "https://stackoverflow.com/users/2999211/wyko"}, "is_accepted": true, "score": 2, "last_activity_date": 1528206300, "creation_date": 1528206300, "answer_id": 50701694, "question_id": 50589812, "link": "https://stackoverflow.com/questions/50589812/returning-kotlin-data-class-using-webflux-and-spring-boot/50701694#50701694", "title": "Returning kotlin data class using WebFlux and Spring boot", "body": "<p>From what I see you are using <code>Gson</code> to deserialize your data. The default serializer in WebFlux is <code>Jackson</code>, which supports Kotlin (de)serialization.</p>\n\n<p>As described <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-kotlin.html\" rel=\"nofollow noreferrer\">here</a>, you need to add the <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">Jackson Kotlin Module</a> as a dependency, which will automatically be picked up and registered. </p>\n"}], "owner": {"reputation": 40610, "user_id": 67566, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9d0Vk.jpg?s=128&g=1", "display_name": "James Black", "link": "https://stackoverflow.com/users/67566/james-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "accepted_answer_id": 50701694, "answer_count": 2, "score": 0, "last_activity_date": 1528206300, "creation_date": 1527614723, "question_id": 50589812, "link": "https://stackoverflow.com/questions/50589812/returning-kotlin-data-class-using-webflux-and-spring-boot", "title": "Returning kotlin data class using WebFlux and Spring boot", "body": "<p>I am trying to return a <code>ServerResponse</code> with a data class, but I get this error.</p>\n\n<blockquote>\n  <p>Failed to write HTTP message:\n  org.springframework.http.converter.HttpMessageNotWritableException: No\n  converter found for return value of type: class\n  org.springframework.web.reactive.function.server.DefaultEntityResponseBuilder$DefaultEntityResponse</p>\n</blockquote>\n\n<p>I think this is because it isn't finding a public getter.</p>\n\n<p>The top part of my response:</p>\n\n<pre><code>data class MyDataResponse(\n        @SerializedName(\"metadata\") val metadata:Metadata,\n        @SerializedName(\"mydata\") val my data: MyData?)\n</code></pre>\n\n<p>How it is used:</p>\n\n<pre><code>fun getMyData(): Mono&lt;ServerResponse&gt; = ServerResponse\n        . ok().body(Mono.just(myService.getMyData()), MyDataResponse::class.java)\n</code></pre>\n\n<p>So, can I do this in Kotlin, or do I need to write my models in Java?</p>\n"}, {"tags": ["rest", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 2394, "user_id": 396033, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/35120eb086847010dea4bb587de8305d?s=128&d=identicon&r=PG", "display_name": "Kamil", "link": "https://stackoverflow.com/users/396033/kamil"}, "edited": false, "score": 0, "creation_date": 1527614082, "post_id": 50589606, "comment_id": 88188619, "body": "Are you sure that call to <code>categoryService.findAll()</code> returns valid results?"}, {"owner": {"reputation": 91, "user_id": 5117395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5sNJj.png?s=128&g=1", "display_name": "Gabriel A. Garcia", "link": "https://stackoverflow.com/users/5117395/gabriel-a-garcia"}, "reply_to_user": {"reputation": 2394, "user_id": 396033, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/35120eb086847010dea4bb587de8305d?s=128&d=identicon&r=PG", "display_name": "Kamil", "link": "https://stackoverflow.com/users/396033/kamil"}, "edited": false, "score": 0, "creation_date": 1527614591, "post_id": 50589606, "comment_id": 88188834, "body": "Yeap, thank you for your time, but i found the problem!"}], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 5117395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5sNJj.png?s=128&g=1", "display_name": "Gabriel A. Garcia", "link": "https://stackoverflow.com/users/5117395/gabriel-a-garcia"}, "is_accepted": false, "score": 7, "last_activity_date": 1527614454, "creation_date": 1527614454, "answer_id": 50589750, "question_id": 50589606, "link": "https://stackoverflow.com/questions/50589606/rest-api-with-kotlin-and-spring-bootpost-return-empty-objects/50589750#50589750", "title": "REST API with Kotlin and Spring BootPost return empty objects", "body": "<p>I found the problem. My data class variables was private, i remove the private declaration and now the content is showed at the response body</p>\n"}], "owner": {"reputation": 91, "user_id": 5117395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5sNJj.png?s=128&g=1", "display_name": "Gabriel A. Garcia", "link": "https://stackoverflow.com/users/5117395/gabriel-a-garcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1524, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527614454, "creation_date": 1527613831, "question_id": 50589606, "link": "https://stackoverflow.com/questions/50589606/rest-api-with-kotlin-and-spring-bootpost-return-empty-objects", "title": "REST API with Kotlin and Spring BootPost return empty objects", "body": "<p>I'm new in Kotlin language and I try a simple RESTFUL API with Kotlin and Spring Boot. My query methods are not returning the expected result. I was hoping to receive this upon return of the requisition:</p>\n\n<pre><code>[\n    {\n        \"id\": 0,\n        \"name\": \"string 1\",\n        \"color\": \"string 1\"\n    },\n    {\n        \"id\": 1,\n        \"name\": \"string 2\",\n        \"color\": \"string 2\"     \n    }\n]\n</code></pre>\n\n<p>But I receive this (HTTP status 200):</p>\n\n<pre><code>[\n  {},\n  {}\n]\n</code></pre>\n\n<p>My data base have categories and my service and repository perform OK.This is the code of my controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/category\")\nclass CategoryController (val categoryService: CategoryService) {\n\n    @GetMapping\n    fun findAll(): ResponseEntity&lt;Any&gt; {\n        try {\n            return ResponseEntity.ok(categoryService.findAll())\n        } catch (e: Exception) {\n            val msg = \"Something went wrong: \" + e.message\n            return ResponseEntity(msg, HttpStatus.INTERNAL_SERVER_ERROR)\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>What I'm doing wrong? I thank you for your help!</p>\n"}, {"tags": ["android", "kotlin", "amazon", "whatsapp"], "answers": [{"comments": [{"owner": {"reputation": 266, "user_id": 9859996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206d1470ce797b357ab03f5b5998b07a?s=128&d=identicon&r=PG&f=1", "display_name": "Annah", "link": "https://stackoverflow.com/users/9859996/annah"}, "edited": false, "score": 0, "creation_date": 1527921188, "post_id": 50589778, "comment_id": 88318672, "body": "No difference with this"}], "tags": [], "owner": {"reputation": 969, "user_id": 5906447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f1171606847d88cd63380dcbb8382b?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil", "link": "https://stackoverflow.com/users/5906447/sahil"}, "is_accepted": false, "score": 0, "last_activity_date": 1527614574, "creation_date": 1527614574, "answer_id": 50589778, "question_id": 50589583, "link": "https://stackoverflow.com/questions/50589583/how-do-i-share-image-and-text-together-in-whatsapp/50589778#50589778", "title": "How do I share image and text together in WhatsApp", "body": "<p>Try     </p>\n\n<pre><code>Intent.ACTION_SEND_MULTIPLE\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>Intent.ACTION_SEND\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 266, "user_id": 9859996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206d1470ce797b357ab03f5b5998b07a?s=128&d=identicon&r=PG&f=1", "display_name": "Annah", "link": "https://stackoverflow.com/users/9859996/annah"}, "edited": false, "score": 0, "creation_date": 1527921171, "post_id": 50590323, "comment_id": 88318664, "body": "Tried this by placing my file in the external directory as my file is inside cache directory. But no luck."}, {"owner": {"reputation": 429, "user_id": 6038484, "user_type": "registered", "profile_image": "https://graph.facebook.com/965266793545262/picture?type=large", "display_name": "Jinson Paul", "link": "https://stackoverflow.com/users/6038484/jinson-paul"}, "reply_to_user": {"reputation": 266, "user_id": 9859996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206d1470ce797b357ab03f5b5998b07a?s=128&d=identicon&r=PG&f=1", "display_name": "Annah", "link": "https://stackoverflow.com/users/9859996/annah"}, "edited": false, "score": 0, "creation_date": 1527925017, "post_id": 50590323, "comment_id": 88319384, "body": "And add the necessary permissions. And runtime permissions"}], "tags": [], "owner": {"reputation": 429, "user_id": 6038484, "user_type": "registered", "profile_image": "https://graph.facebook.com/965266793545262/picture?type=large", "display_name": "Jinson Paul", "link": "https://stackoverflow.com/users/6038484/jinson-paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1527616861, "creation_date": 1527616861, "answer_id": 50590323, "question_id": 50589583, "link": "https://stackoverflow.com/questions/50589583/how-do-i-share-image-and-text-together-in-whatsapp/50590323#50590323", "title": "How do I share image and text together in WhatsApp", "body": "<pre><code>if (ActivityCompat.checkSelfPermission(getActivity(), Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n\n                    Bitmap bm = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\n                    Intent intent = new Intent(Intent.ACTION_SEND);\n                    intent.putExtra(Intent.EXTRA_TEXT, \"YOUR TEXT\");\n                    String path = MediaStore.Images.Media.insertImage(getActivity().getContentResolver(), bm, \"\", null);\n                    Uri screenshotUri = Uri.parse(path);\n\n                    intent.putExtra(Intent.EXTRA_STREAM, screenshotUri);\n                    intent.setType(\"image/*\");\n                    startActivity(Intent.createChooser(intent, \"Share image via...\"));\n                } else {\n                    ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n                }\n</code></pre>\n\n<p>By this method we can share image to whatsapp the image is in an imageView</p>\n"}, {"tags": [], "owner": {"reputation": 266, "user_id": 9859996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206d1470ce797b357ab03f5b5998b07a?s=128&d=identicon&r=PG&f=1", "display_name": "Annah", "link": "https://stackoverflow.com/users/9859996/annah"}, "is_accepted": true, "score": 0, "last_activity_date": 1527921397, "creation_date": 1527921397, "answer_id": 50654211, "question_id": 50589583, "link": "https://stackoverflow.com/questions/50589583/how-do-i-share-image-and-text-together-in-whatsapp/50654211#50654211", "title": "How do I share image and text together in WhatsApp", "body": "<p>After doing a lot of trial and error, I found that the way we pass text via Intent.EXTRA_TEXT matters for WhatsApp!!</p>\n\n<p>I just changed</p>\n\n<pre><code>intent.putExtra(Intent.EXTRA_TEXT, etShareMessage.text)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>intent.putExtra(Intent.EXTRA_TEXT, etShareMessage.text.toString())\n</code></pre>\n\n<p>and it worked.</p>\n"}], "owner": {"reputation": 266, "user_id": 9859996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206d1470ce797b357ab03f5b5998b07a?s=128&d=identicon&r=PG&f=1", "display_name": "Annah", "link": "https://stackoverflow.com/users/9859996/annah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1310, "favorite_count": 0, "accepted_answer_id": 50654211, "answer_count": 3, "score": 2, "last_activity_date": 1527921397, "creation_date": 1527613744, "last_edit_date": 1527613805, "question_id": 50589583, "link": "https://stackoverflow.com/questions/50589583/how-do-i-share-image-and-text-together-in-whatsapp", "title": "How do I share image and text together in WhatsApp", "body": "<p>I have a share feature which should share both image and text together. I am doing it as shown below</p>\n\n<pre><code>val uri = FileProvider.getUriForFile(context!!,BuildConfig.APPLICATION_ID + \".provider\",file)\n\nval intent = Intent(Intent.ACTION_SEND)\nintent.putExtra(Intent.EXTRA_STREAM, uri)\nintent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\nintent.type = \"*/*\"\n\nif (etShareMessage.text.isNotEmpty()) {\n    intent.putExtra(Intent.EXTRA_TEXT, etShareMessage.text)\n}\n\nval title = resources.getString(R.string.screenshot_share_with)\n\nval chooser = Intent.createChooser(intent, title)\n\n// Verify the intent will resolve to at least one activity\nif (intent.resolveActivity(activity?.packageManager) != null) {\n    startActivity(chooser)\n} else {\n    ToastUtils.showToast(context,getString(R.string.screenshot_sorry_no_apps_to_share))\n    dismiss()\n}\n</code></pre>\n\n<p>It works fine for <a href=\"https://play.google.com/store/apps/details?id=com.google.android.gm\" rel=\"nofollow noreferrer\">Gmail</a> and <a href=\"https://play.google.com/store/apps/details?id=com.bsb.hike\" rel=\"nofollow noreferrer\">Hike</a>. But <a href=\"https://play.google.com/store/search?q=WhatsApp+Messenger&amp;c=apps\" rel=\"nofollow noreferrer\">WhatsApp</a> shows only the image. I have referred <a href=\"https://stackoverflow.com/questions/23077338/share-image-and-text-through-whatsapp-or-facebook\">this</a> post and few other links. But no luck. I can see that <a href=\"https://play.google.com/store/apps/details?id=in.amazon.mShop.android.shopping\" rel=\"nofollow noreferrer\">Amazon</a> app and <a href=\"https://play.google.com/store/apps/details?id=com.showtimeapp\" rel=\"nofollow noreferrer\">Loco</a> app are able to do this.</p>\n\n<p>Can anyone help me tackle why WhatsApp is not taking text from above intent?</p>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 0, "creation_date": 1527617012, "post_id": 50589476, "comment_id": 88190049, "body": "<a href=\"https://stackoverflow.com/questions/45731647/whats-the-difference-between-curly-braces-and-normal-brackets-in-rxjava-with-ko\" title=\"whats the difference between curly braces and normal brackets in rxjava with ko\">stackoverflow.com/questions/45731647/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 5959410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143b519c82eefab01be9fc739a09964f?s=128&d=identicon&r=PG&f=1", "display_name": "TarasAntoshchuk", "link": "https://stackoverflow.com/users/5959410/tarasantoshchuk"}, "is_accepted": true, "score": 5, "last_activity_date": 1527617505, "creation_date": 1527617505, "answer_id": 50590467, "question_id": 50589476, "link": "https://stackoverflow.com/questions/50589476/confusion-with-onexceptionresumenext-passing-a-observable-as-a-lambda-expression/50590467#50590467", "title": "confusion with onExceptionResumeNext passing a observable as a lambda expression", "body": "<p>in the first case you passing observable to <code>onExceptionResumeNext</code></p>\n\n<p>in case of error in original observable, you'll be resubscribed to observable that is passed to <code>onExceptionResumeNext</code></p>\n\n<p>that's why you're getting \"1\" and \"2\" from original source and then \"10\" and \"onComplete\" from <code>Observable.just(10)</code></p>\n\n<p>in second case, you're using lambda syntax, so you're effectively doing this:</p>\n\n<pre><code>.onExceptionResumeNext(object : ObservableSource {\n    void subscribe(@NonNull Observer&lt;? super T&gt; observer) {\n        Observable.just(10)\n    }\n})\n</code></pre>\n\n<p>as you can see, <code>observer</code> that is passed to you is not getting subscribed. Thus, nothing is emmited after \"1\" and \"2\" from initial source</p>\n\n<p>what you should be doing is</p>\n\n<pre><code>.onExceptionResumeNext { observer -&gt;\n    Observable.just(10).subscribe(observer)\n}\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 478, "favorite_count": 0, "accepted_answer_id": 50590467, "answer_count": 1, "score": 1, "last_activity_date": 1527617505, "creation_date": 1527613282, "question_id": 50589476, "link": "https://stackoverflow.com/questions/50589476/confusion-with-onexceptionresumenext-passing-a-observable-as-a-lambda-expression", "title": "confusion with onExceptionResumeNext passing a observable as a lambda expression", "body": "<pre><code>io.reactivex.rxjava2:rxjava:2.1.13\nkotlin_version = '1.2.30'\n</code></pre>\n\n<p>I have the following Observable and I am trying to throw an exception to test the capture of the exception in OnError. However, when I pass in the following to the <code>onExceptionResumeNext(Observable.just(10))</code> I get the following output:</p>\n\n<pre><code>1\n2\n10\nonComplete\n\nfun main(args: Array&lt;String&gt;) {\n    Observable.fromArray(1, 2, 0, 4, 5, 6)\n            .doOnNext {\n                if (it == 0) {\n                    throw RuntimeException(\"Exception on 0\")\n                }\n            }\n            .onExceptionResumeNext(Observable.just(10))\n            .subscribe(\n                    {\n                        println(it)\n                    },\n                    {\n                        println(\"onError ${it.message}\")\n                    },\n                    {\n                        println(\"onComplete\")\n                    } )\n}\n</code></pre>\n\n<p>However, If I pass a lambda expression to that method I get the following output:</p>\n\n<pre><code>1\n2\n\n Observable.fromArray(1, 2, 0, 4, 5, 6)\n            .doOnNext {\n                if (it == 0) {\n                    throw RuntimeException(\"Exception on 0\")\n                }\n            }\n            .onExceptionResumeNext { Observable.just(10) }\n            .subscribe(\n                    {\n                        println(it)\n                    },\n                    {\n                        println(\"onError ${it.message}\")\n                    },\n                    {\n                        println(\"onComplete\")\n                    } )\n}\n</code></pre>\n\n<p>Just wondering what is the difference between doing this <code>onExceptionResumeNext(Observable.just(10))</code> and doing this <code>onExceptionResumeNext { Observable.just(10) }</code></p>\n\n<p>Many thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "textview", "font-awesome", "font-awesome-5"], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": false, "score": 1, "last_activity_date": 1527738831, "last_edit_date": 1527738831, "creation_date": 1527653922, "answer_id": 50596329, "question_id": 50588702, "link": "https://stackoverflow.com/questions/50588702/fontawesome-5-in-android-3-files/50596329#50596329", "title": "Fontawesome 5 in Android, 3 files", "body": "<p>Nowadays most of the fonts has variations like the one you have. So you can convert your font manager to handle multiple files like below.</p>\n\n<p>FontManager - FontCache.class</p>\n\n<pre><code>public class FontCache {\n\n\nprivate static String[] fonts = {\"ProximaNova-Reg.otf\",\"ProximaNova-Light.otf\",\"ProximaNova-Medium.otf\",\"ProximaNova-Sbold.otf\",\"ProximaNova-Bold.otf\",\"ProximaNova-Light-It.otf\",\"ProximaNova-Medium-It.otf\"};\nprivate static HashMap&lt;String, Typeface&gt; fontCache = new HashMap&lt;&gt;();\n\npublic static Typeface getTypeface(int fontPos, Context context) {\n    String font = \"fonts/\"+fonts[fontPos];\n    Typeface typeface = fontCache.get(font);\n\n    if (typeface == null) {\n        try {\n            typeface = Typeface.createFromAsset(context.getAssets(), font);\n        } catch (Exception e) {\n            return null;\n        }\n\n        fontCache.put(font, typeface);\n    }\n\n    return typeface;\n  }\n}\n</code></pre>\n\n<p>And your CustomTextView class</p>\n\n<pre><code>public class CustomTextView extends TextView {\n\n    public CustomTextView(Context context) {\n        super(context);\n    }\n\n    public CustomTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        applyCustomFont(context, attrs);\n    }\n\n    public CustomTextView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        applyCustomFont(context, attrs);\n    }\n\n    private void applyCustomFont(Context context,AttributeSet attrs) {\n        int fontPos = getFont(context,attrs);\n        Typeface customFont = FontCache.getTypeface(fontPos, context);\n        setTypeface(customFont);\n    }\n\n    private int getFont(Context ctx, AttributeSet attrs){\n        TypedArray a = ctx.obtainStyledAttributes(attrs, R.styleable.CustomTextView);\n        int customFont = a.getInt(R.styleable.CustomTextView_customFont,0);\n        return customFont;\n    }\n}\n</code></pre>\n\n<p>create attrs.xml file inside res/values folder. This file contains the font variations. you can specify whichever number of fonts that you needed.</p>\n\n<p><strong>res/values/attrs.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;declare-styleable name=\"CustomTextView\"&gt;\n        &lt;attr name=\"customFont\"&gt;\n            &lt;enum name=\"regular\" value=\"0\" /&gt;\n            &lt;enum name=\"light\" value=\"1\" /&gt;\n            &lt;enum name=\"medium\" value=\"2\" /&gt;\n            &lt;enum name=\"semibold\" value=\"3\" /&gt;\n            &lt;enum name=\"bold\" value=\"4\" /&gt;\n            &lt;enum name=\"light_it\" value=\"5\" /&gt;\n            &lt;enum name=\"medium_it\" value=\"6\" /&gt;\n        &lt;/attr&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Your Textview inside layout</p>\n\n<pre><code> &lt;com.t365.android.customview.CustomTextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"test\"\n                app:customFont=\"semibold\" // semibold variantion of your font is applied here // if nothing is specified here it takes base variant of your custom font\n                /&gt;\n</code></pre>\n\n<p>If you don't specify any font, it will take the base variant of your font (say regular in your Fontawesome as mentioned in question), which we have done it in CustomTextview class.</p>\n\n<pre><code>private int getFont(Context ctx, AttributeSet attrs){\n        TypedArray a = ctx.obtainStyledAttributes(attrs, R.styleable.CustomTextView);\n        int customFont = a.getInt(R.styleable.CustomTextView_customFont,0); // by default we are asking fontManger to take 0 variant.\n        return customFont;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 997, "user_id": 12787264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/grb3o.jpg?s=128&g=1", "display_name": "finnmglas", "link": "https://stackoverflow.com/users/12787264/finnmglas"}, "is_accepted": false, "score": 0, "last_activity_date": 1594636788, "creation_date": 1594636788, "answer_id": 62874096, "question_id": 50588702, "link": "https://stackoverflow.com/questions/50588702/fontawesome-5-in-android-3-files/62874096#62874096", "title": "Fontawesome 5 in Android, 3 files", "body": "<p><em>I wrote some code to simplify using <em>FontAwesome</em> in android apps. (I implemented <code>FontAwesome</code> as a class extending <code>AppCompatTextView</code> - GitHub: <a href=\"https://github.com/finnmglas/fontawesome-android\" rel=\"nofollow noreferrer\">finnmglas/fontawesome-android</a>)</em></p>\n<hr />\n<p>When I switched to <em>FontAwesome 5</em>, I had the same issue.</p>\n<p>I implemented the following function to dynamically switch the icon type of an Icon:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun setIconType(iconType : String){\n  type = iconType\n\n  typeface = when (type) {\n    &quot;regular&quot; -&gt; Typeface.createFromAsset(context!!.assets,&quot;fontawesome/fa-regular-400.ttf&quot;)\n    &quot;solid&quot; -&gt; Typeface.createFromAsset(context!!.assets,&quot;fontawesome/fa-solid-900.ttf&quot;)\n    &quot;brands&quot; -&gt; Typeface.createFromAsset(context!!.assets,&quot;fontawesome/fa-brands-400.ttf&quot;)\n    else -&gt; Typeface.createFromAsset(context!!.assets,&quot;fontawesome/fa-solid-900.ttf&quot;)\n}\n</code></pre>\n<p>The function just changes the icons <code>typeface</code> by selecting the right <code>.ttf</code> file that contains the icons of the selected type.</p>\n<p>Extra: Here is an example android Activity showing you how it works: <a href=\"https://github.com/finnmglas/fontawesome-android/tree/master/examples/2%20-%20Icon%20Types\" rel=\"nofollow noreferrer\">view on GitHub</a></p>\n<hr />\n<p><em>Works great for me in my apps and I noticed some other people also started using the <code>FontAwesome</code> class I wrote.</em></p>\n"}], "owner": {"reputation": 1389, "user_id": 4527839, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/26acf83d0ae09fb18a386ec8d51ccf56?s=128&d=identicon&r=PG", "display_name": "WinterChilly", "link": "https://stackoverflow.com/users/4527839/winterchilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1594636788, "creation_date": 1527610303, "question_id": 50588702, "link": "https://stackoverflow.com/questions/50588702/fontawesome-5-in-android-3-files", "title": "Fontawesome 5 in Android, 3 files", "body": "<p>For quite some time I used fontawesome-webfont.ttf ,but now for quite some time FontAwesome 5 came out, and I can't really seem how to use it. From what I understand they splitted this file in multiple files. Now you have 3 files: regular, solid, brand. What I'm trying to do is to combine all 3 of them, or that the right file is used for the right icon, because in Android I have a FontManager, that handles fonts from 1 ttf file, and then I have custom textviews and button class that get fonts from this manager, so I don't have to set them in Activities or Fragments.</p>\n\n<pre><code>object FontManager {\n\n    val ROOT = \"fonts/\"\n    val FONTAWESOME = ROOT + \"fontawesome-webfont.ttf\"\n\n    fun getTypeface(context: Context, font: String): Typeface {\n        return Typeface.createFromAsset(context.assets, font)\n    }\n\n    fun markAsIconContainer(v: View, typeface: Typeface) {\n        if (v is ViewGroup) {\n            for (i in 0 until v.childCount) {\n                val child = v.getChildAt(i)\n                markAsIconContainer(child, typeface)\n            }\n        } else if (v is TextView) {\n            v.typeface = typeface\n        }\n    }\n\n}\n</code></pre>\n\n<p>Example of TextViewWithFont:</p>\n\n<pre><code>class TextViewFont : android.support.v7.widget.AppCompatTextView {\n\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {\n        init(context)\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        init(context)\n    }\n\n    constructor(context: Context) : super(context) {\n        init(context)\n    }\n\n    private fun init(context: Context) {\n        val iconFont = FontManager.getTypeface(context, FontManager.FONTAWESOME)\n        FontManager.markAsIconContainer(this, iconFont)\n    }\n}\n</code></pre>\n\n<p>As you can see that FONTAWESOME, gets ttf file and then it manages it. Is there any way to combine all 3 ttf files so I could use all icons that FontAwesome provides. The hard way is that i use normal textview and for each icon appropriate resource (solid/brand/regular).\nHow do I combine them in Android? </p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1527610805, "post_id": 50588395, "comment_id": 88186999, "body": "you have a mixture of java and kotlin there, please precise a full with the language are you trying"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1527617605, "post_id": 50588395, "comment_id": 88190339, "body": "<code>void inject(App app);</code> and <code>appComponent.inject(this)</code>"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 2, "creation_date": 1527618464, "post_id": 50588395, "comment_id": 88190773, "body": "Please include your component interface."}, {"owner": {"reputation": 542, "user_id": 2987167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8841f5c5902fc29f187f970d8e83922b?s=128&d=identicon&r=PG&f=1", "display_name": "silent_control", "link": "https://stackoverflow.com/users/2987167/silent-control"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527621032, "post_id": 50588395, "comment_id": 88192038, "body": "@EpicPandaForce, Could you please elaborate on your statement?"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 3, "creation_date": 1527624731, "post_id": 50588395, "comment_id": 88193729, "body": "Pretty sure this should be <code>interface AppComponent : AndroidInjector&lt;App&gt;</code>"}, {"owner": {"reputation": 1804, "user_id": 5695091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eyHWK.jpg?s=128&g=1", "display_name": "ysfcyln", "link": "https://stackoverflow.com/users/5695091/ysfcyln"}, "edited": false, "score": 0, "creation_date": 1534330350, "post_id": 50588395, "comment_id": 90666826, "body": "@silent_control can you find a solution? I have the same problem"}], "answers": [{"tags": [], "owner": {"reputation": 1754, "user_id": 8114201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lJjdC.jpg?s=128&g=1", "display_name": "VolkanSahin45", "link": "https://stackoverflow.com/users/8114201/volkansahin45"}, "is_accepted": false, "score": 0, "last_activity_date": 1534400838, "creation_date": 1534400838, "answer_id": 51870826, "question_id": 50588395, "link": "https://stackoverflow.com/questions/50588395/dagger-2-15-how-to-inject-a-dependency-in-application-class/51870826#51870826", "title": "Dagger 2.15 - How to inject a dependency in Application class", "body": "<p>You should implement HasActivityInjector and its methods. The example is at the below. Hope will work.</p>\n\n<pre><code>class App : Application(), HasActivityInjector {\n\n@Inject\nlateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n\noverride fun onCreate() {\n    super.onCreate()\n\n    DaggerAppComponent\n            .builder()\n            .create(this)\n            .inject(this)\n}\n\noverride fun activityInjector(): AndroidInjector&lt;Activity&gt;? {\n    return dispatchingAndroidInjector\n}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1114, "user_id": 1895452, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/GKcej.png?s=128&g=1", "display_name": "sudocoder", "link": "https://stackoverflow.com/users/1895452/sudocoder"}, "edited": false, "score": 0, "creation_date": 1567802397, "post_id": 51881800, "comment_id": 102086739, "body": "very shocked this worked.  there is nothing wrong with what you said, you are an expert in dagger in my eyes.  tysm"}], "tags": [], "owner": {"reputation": 1804, "user_id": 5695091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/eyHWK.jpg?s=128&g=1", "display_name": "ysfcyln", "link": "https://stackoverflow.com/users/5695091/ysfcyln"}, "is_accepted": false, "score": 17, "last_activity_date": 1534437745, "creation_date": 1534437745, "answer_id": 51881800, "question_id": 50588395, "link": "https://stackoverflow.com/questions/50588395/dagger-2-15-how-to-inject-a-dependency-in-application-class/51881800#51881800", "title": "Dagger 2.15 - How to inject a dependency in Application class", "body": "<p>I experienced the same problem and figure out that we can not call <code>inject(this)</code> in <code>Application</code> class when using <code>DaggerApplication</code> in <code>AppComponent</code>. Because of this, we can not inject anything I think.</p>\n\n<p>So in the AppComponent you have to specify your <code>Application</code> Class instead of typing <code>DaggerApplication</code></p>\n\n<p>Your <code>AppComponent</code> should be like this</p>\n\n<pre><code>@Singleton\n@Component(modules = {AndroidSupportInjectionModule.class, AppModule.class})\npublic interface AppComponent extends AndroidInjector&lt;MyApplication&gt; {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        Builder application(Application application);\n        AppComponent build();\n\n    }\n\n}\n</code></pre>\n\n<p>And your <code>Application</code> class</p>\n\n<pre><code>    public class MyApplication extends DaggerApplication {\n\n        @Inject\n        SomeClass mSomeClass;\n\n        @Override\n        public void onCreate() {\n            super.onCreate();\n            mSomeClass.initialize();\n        }\n\n        @Override\n        protected AndroidInjector&lt;MyApplication&gt; applicationInjector() {\n            AppComponent appComponent = DaggerAppComponent.builder().application(this).build();\n            appComponent.inject(this);\n            return appComponent;\n        }\n        }\n</code></pre>\n\n<p>Now you can inject in <code>Application</code> class.</p>\n\n<p>Little note: If I said something wrong please correct me, I am not expert about Dagger :)</p>\n"}], "owner": {"reputation": 542, "user_id": 2987167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8841f5c5902fc29f187f970d8e83922b?s=128&d=identicon&r=PG&f=1", "display_name": "silent_control", "link": "https://stackoverflow.com/users/2987167/silent-control"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4794, "favorite_count": 2, "answer_count": 2, "score": 12, "last_activity_date": 1534437745, "creation_date": 1527609135, "last_edit_date": 1528988813, "question_id": 50588395, "link": "https://stackoverflow.com/questions/50588395/dagger-2-15-how-to-inject-a-dependency-in-application-class", "title": "Dagger 2.15 - How to inject a dependency in Application class", "body": "<p>I am unable to inject a depency in DaggerApplication class</p>\n\n<p>The relevant classes are as follows</p>\n\n<p>Application</p>\n\n<pre><code>class App : DaggerApplication() {\n\n@Inject lateinit var mSomeClass : SomeClass // This is always NULL\n\noverride fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n    return DaggerAppComponent.builder().application(this).build()\n }\n\n\noverride fun onCreate() {\n    super.onCreate()\n\n    mSomeClass.initialize()  // mSomeClass is NULL\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code> @Singleton\n @Component(modules = [\n    AndroidSupportInjectionModule::class,\n    AppModule::class,\n    ViewModelFactoryModule::class,\n    BuildersModule::class\n  ])\ninterface AppComponent : AndroidInjector&lt;DaggerApplication&gt; {\n\n@Component.Builder\ninterface Builder {\n\n    @BindsInstance\n    fun application(application: Application): Builder\n\n    fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p>AppModule class:</p>\n\n<pre><code>    @Module\n    class AppModule {\n\n    @Provides\n    fun provideSomeClass(context: Context) = SomeClass(context = context)\n}\n</code></pre>\n\n<p>Not sure what is missing.</p>\n"}, {"tags": ["android", "graphics", "kotlin", "android-custom-view", "linear-gradients"], "comments": [{"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1602867675, "post_id": 50587264, "comment_id": 113865709, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/2836098/how-to-fill-a-path-in-android-with-a-linear-gradient\">How to fill a Path in Android with a linear gradient?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7699, "user_id": 1831151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXpvY.png?s=128&g=1", "display_name": "eski", "link": "https://stackoverflow.com/users/1831151/eski"}, "is_accepted": true, "score": 11, "last_activity_date": 1527627993, "last_edit_date": 1527627993, "creation_date": 1527613444, "answer_id": 50589528, "question_id": 50587264, "link": "https://stackoverflow.com/questions/50587264/how-to-fill-a-path-with-linear-gradient-in-an-android-custom-view/50589528#50589528", "title": "How to fill a Path with linear gradient in an Android custom view", "body": "<p>The view's height is unknown at this point:</p>\n\n<pre><code>init {\n    paint.shader = LinearGradient(0f, 0f, 0f, height.toFloat(), Color.YELLOW, Color.WHITE, Shader.TileMode.MIRROR)\n}\n</code></pre>\n\n<p>Instead override onSizeChanged and create the LinearGradient there:</p>\n\n<pre><code>override fun onSizeChanged(w: Int, h: Int, oldW: Int, oldH: Int) {\n    paint.shader = LinearGradient(0f, 0f, 0f, h.toFloat(), Color.YELLOW, Color.WHITE, Shader.TileMode.MIRROR)\n}\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 3481187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b89f1fc9f92fb2659cc7f961b906bda0?s=128&d=identicon&r=PG", "display_name": "AKA", "link": "https://stackoverflow.com/users/3481187/aka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1915, "favorite_count": 4, "accepted_answer_id": 50589528, "answer_count": 1, "score": 4, "last_activity_date": 1527667037, "creation_date": 1527605283, "last_edit_date": 1527667037, "question_id": 50587264, "link": "https://stackoverflow.com/questions/50587264/how-to-fill-a-path-with-linear-gradient-in-an-android-custom-view", "title": "How to fill a Path with linear gradient in an Android custom view", "body": "<p>I have created an Android Custom View using Kotlin to draw a Star which will be used to create a custom RatingBar in future; So I extended the View class and override its <code>draw()</code> method to draw one Star considering this guide from Google:\n<a href=\"https://developer.android.com/training/custom-views/custom-drawing\" rel=\"nofollow noreferrer\">https://developer.android.com/training/custom-views/custom-drawing</a></p>\n\n<p>After that, I tried to fill the star path with linear gradient to achieve the star filling effect following this Post:\n<a href=\"https://stackoverflow.com/questions/2836098/how-to-fill-a-path-in-android-with-a-linear-gradient\">How to fill a Path in Android with a linear gradient?</a> </p>\n\n<pre><code>class CustomStar constructor(context: Context, attr: AttributeSet) : View(context, attr) {\n\n    private var paint: Paint = Paint(Paint.FILTER_BITMAP_FLAG)\n    private var path: Path = Path()\n\n    init {\n        paint.shader = LinearGradient(0f, 0f, 0f, height.toFloat(), Color.YELLOW, Color.WHITE, Shader.TileMode.MIRROR)\n    }\n\n    override fun draw(canvas: Canvas?) {\n        super.draw(canvas)\n\n        // draw the star.\n        val min = Math.min(width, height).toFloat()\n        // top left\n        path.moveTo(0f, min * 0.3819901313f)\n        // top right\n        path.lineTo(min, min * 0.3819901313f)\n        // bottom left\n        path.lineTo(min * 0.1910982479f, min)\n        // top tip\n        path.lineTo(min * 0.5f, 0f)\n        // bottom right\n        path.lineTo(min*0.8089799735f, min)\n        // top left\n        path.lineTo(0f, min * 0.3819901313f)\n\n        path.close()\n        canvas?.drawPath(path, paint)\n    }\n}\n</code></pre>\n\n<p>As you can see in <code>init</code>, The paint object's <code>shader</code> attribute is set to  <code>LinearGradient(0f, 0f, 0f, height.toFloat(), Color.YELLOW, Color.WHITE, Shader.TileMode.MIRROR)</code> so I should expect the shape to be filled with the gradient.</p>\n\n<p>But the problem is that I only get a solid filled star instead of the gradient, as showcased in the photo:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2uioQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2uioQ.png\" alt=\"Solid Filled Star\"></a></p>\n\n<p>Now the question is, why am I getting a solid color instead of gradient in the star?</p>\n\n<p>Thank you for your attention.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6439, "user_id": 2877453, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e9374256b0c24a469fab5e169250d72b?s=128&d=identicon&r=PG&f=1", "display_name": "Moonbloom", "link": "https://stackoverflow.com/users/2877453/moonbloom"}, "is_accepted": false, "score": 0, "last_activity_date": 1527605349, "creation_date": 1527605349, "answer_id": 50587282, "question_id": 50587193, "link": "https://stackoverflow.com/questions/50587193/automated-java-to-kotlin-conversion-unresolved-reference-to-arg-layout-res-id/50587282#50587282", "title": "Automated Java to Kotlin conversion: unresolved reference to &#39;ARG_LAYOUT_RES_ID&#39;", "body": "<p>The variables and functions inside the <code>companion object</code> block are basically static (if you were to draw parallels from Java).</p>\n\n<p>The <code>ARG_LAYOUT_RES_ID</code> variable is not inside the <code>companion object</code> scope, so it can't be accessed statically.</p>\n\n<p>Move the <code>ARG_LAYOUT_RES_ID</code> variable inside the <code>companion object</code> scope, and all will be good again.</p>\n"}, {"tags": [], "owner": {"reputation": 6555, "user_id": 994939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8fc3e78a90fde1b61cfba1020b128f3d?s=128&d=identicon&r=PG", "display_name": "veritas1", "link": "https://stackoverflow.com/users/994939/veritas1"}, "is_accepted": false, "score": 1, "last_activity_date": 1527605357, "creation_date": 1527605357, "answer_id": 50587285, "question_id": 50587193, "link": "https://stackoverflow.com/questions/50587193/automated-java-to-kotlin-conversion-unresolved-reference-to-arg-layout-res-id/50587285#50587285", "title": "Automated Java to Kotlin conversion: unresolved reference to &#39;ARG_LAYOUT_RES_ID&#39;", "body": "<p>Move the field to your companion object:</p>\n\n<pre><code>companion object {\n\n    private val ARG_LAYOUT_RES_ID = \"layoutResId\"\n\n    fun newInstance(layoutResId: Int): IntroFragment{\n        val args: Bundle = Bundle()\n        args.putSerializable(ARG_LAYOUT_RES_ID, layoutResId)\n        val fragment = IntroFragment()\n        fragment.arguments = args\n        return fragment\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "is_accepted": true, "score": 2, "last_activity_date": 1527605616, "creation_date": 1527605616, "answer_id": 50587377, "question_id": 50587193, "link": "https://stackoverflow.com/questions/50587193/automated-java-to-kotlin-conversion-unresolved-reference-to-arg-layout-res-id/50587377#50587377", "title": "Automated Java to Kotlin conversion: unresolved reference to &#39;ARG_LAYOUT_RES_ID&#39;", "body": "<p>It is because <code>ARG_LAYOUT_RES_ID</code> is an instance variable while your <code>newInstance</code> method is a class (static) method.</p>\n\n<p>If you move <code>ARG_LAYOUT_RES_ID</code> into the companion object, it will work. Like this:</p>\n\n<pre><code>import android.support.v4.app.Fragment\nimport android.os.Bundle\nimport android.support.annotation.Nullable\nimport android.view.ViewGroup\nimport android.view.LayoutInflater\nimport android.view.View\n\n\nclass IntroFragment: Fragment() {\n    private var layoutResId: Int = 0\n\n    companion object {\n        private const val ARG_LAYOUT_RES_ID = \"layoutResId\"\n\n        fun newInstance(layoutResId: Int): IntroFragment {\n            val args: Bundle = Bundle()\n            args.putSerializable(ARG_LAYOUT_RES_ID, layoutResId)\n            val fragment = IntroFragment()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n\n    override fun onCreate(@Nullable savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        if (arguments != null &amp;&amp; arguments!!.containsKey(ARG_LAYOUT_RES_ID)) {\n            layoutResId = arguments!!.getInt(ARG_LAYOUT_RES_ID)\n        }\n    }\n\n    @Nullable\n    override fun onCreateView(inflater: LayoutInflater,\n                              @Nullable container: ViewGroup?,\n                              @Nullable savedInstanceState: Bundle?): View? {\n\n        return inflater.inflate(layoutResId, container, false)\n    }\n}\n</code></pre>\n\n<p>You could also make <code>ARG_LAYOUT_RES_ID</code> a <code>const</code> like i've shown above.</p>\n"}], "owner": {"reputation": 6009, "user_id": 132127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/TnwQX.jpg?s=128&g=1", "display_name": "anta40", "link": "https://stackoverflow.com/users/132127/anta40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 50587377, "answer_count": 3, "score": 1, "last_activity_date": 1527605616, "creation_date": 1527605057, "question_id": 50587193, "link": "https://stackoverflow.com/questions/50587193/automated-java-to-kotlin-conversion-unresolved-reference-to-arg-layout-res-id", "title": "Automated Java to Kotlin conversion: unresolved reference to &#39;ARG_LAYOUT_RES_ID&#39;", "body": "<p>I'm using <a href=\"https://github.com/apl-devs/AppIntro\" rel=\"nofollow noreferrer\">AppIntro</a> in my Kotlin app, and need to customize its layout. The tutorial tells us to use <a href=\"https://github.com/paolorotolo/AppIntro/blob/master/example/src/main/java/com/amqtech/opensource/appintroexample/util/SampleSlide.java\" rel=\"nofollow noreferrer\">this code</a> as starting point. Because that's written in Java, I converted it to Kotlin (not 100% automated though, because Kotlin doesn't support 'static' keyword):</p>\n\n<pre><code>import android.support.v4.app.Fragment\nimport android.os.Bundle\nimport android.support.annotation.Nullable\nimport android.view.ViewGroup\nimport android.view.LayoutInflater\nimport android.view.View\n\n\nclass IntroFragment: Fragment() {\n    private val ARG_LAYOUT_RES_ID = \"layoutResId\"\n    private var layoutResId: Int = 0\n\n    companion object {\n        fun newInstance(layoutResId: Int): IntroFragment{\n            val args: Bundle = Bundle()\n            args.putSerializable(ARG_LAYOUT_RES_ID, layoutResId)\n            val fragment = IntroFragment()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n\n    override fun onCreate(@Nullable savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        if (arguments != null &amp;&amp; arguments!!.containsKey(ARG_LAYOUT_RES_ID)) {\n            layoutResId = arguments!!.getInt(ARG_LAYOUT_RES_ID)\n        }\n    }\n\n    @Nullable\n    override fun onCreateView(inflater: LayoutInflater, @Nullable container: ViewGroup?,\n                              @Nullable savedInstanceState: Bundle?): View? {\n        return inflater.inflate(layoutResId, container, false)\n    }\n}\n</code></pre>\n\n<p>At this part:</p>\n\n<pre><code> args.putSerializable(ARG_LAYOUT_RES_ID, layoutResId)\n</code></pre>\n\n<p>Android Studio complains: </p>\n\n<blockquote>\n  <p>Unresolved reference: ARG_LAYOUT_RES_ID</p>\n</blockquote>\n\n<p>How to solve this?</p>\n"}, {"tags": ["android", "kotlin", "text-to-speech"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 2326325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LHIWe.jpg?s=128&g=1", "display_name": "Gaurav Saluja", "link": "https://stackoverflow.com/users/2326325/gaurav-saluja"}, "edited": false, "score": 0, "creation_date": 1606484774, "post_id": 50599590, "comment_id": 114982040, "body": "For onRangeStart(), I am facing an issue if the text that I am trying to speak has punctuations like full stop, question mark and exclamation mark. The issue happens if the text is a paragraph with multiple lines. onRangeStart() stops sending start, end and frame data once it encounters any of the above mentioned punctuations so the callbacks from onRangeStart() method are unreliable."}], "tags": [], "owner": {"reputation": 121, "user_id": 4662766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18d567eb9ef4ce45c70915d3866a4e44?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Sahlin", "link": "https://stackoverflow.com/users/4662766/richard-sahlin"}, "is_accepted": true, "score": 5, "last_activity_date": 1527668060, "creation_date": 1527668060, "answer_id": 50599590, "question_id": 50586929, "link": "https://stackoverflow.com/questions/50586929/how-to-get-smooth-text-to-speech-of-sentence-with-utterance-ids/50599590#50599590", "title": "How to get smooth text-to-speech of sentence with utterance ids", "body": "<p>If you look in the latest Android documentation you will notice a new method introduced to the UtteranceProgressListener in API level 26 - called onRangeStart((String utteranceId, int start, int end, int frame)</p>\n\n<p><a href=\"https://developer.android.com/reference/android/speech/tts/UtteranceProgressListener.html#onRangeStart(java.lang.String,%20int,%20int,%20int)\" rel=\"noreferrer\">https://developer.android.com/reference/android/speech/tts/UtteranceProgressListener.html#onRangeStart(java.lang.String,%20int,%20int,%20int)</a></p>\n\n<p>However, as the documentation states:</p>\n\n<p>\"Only called if the engine supplies timing information by calling rangeStart(int, int, int)\"</p>\n\n<p>This is implemented in the SynthesisCallback:\n<a href=\"https://developer.android.com/reference/android/speech/tts/SynthesisCallback.html#rangeStart(int,%20int,%20int)\" rel=\"noreferrer\">https://developer.android.com/reference/android/speech/tts/SynthesisCallback.html#rangeStart(int,%20int,%20int)</a></p>\n\n<p>Again documentation states:</p>\n\n<p>\"The service may call this method to provide timing information about the spoken text.\"</p>\n\n<p>So, sadly this means that the callback providing the timing information you need is implementation dependant.</p>\n\n<p>On my device running Android 8.0.0 and using the default tts engine (com.google.android.tts) I did not get the callback.</p>\n\n<p>In order to test you will need to</p>\n\n<ul>\n<li>to build against SDK level 26 or above</li>\n<li>Implement your own UtteranceProgressListener</li>\n<li>Set it to the TextToSpeech engine by calling TextToSpeech.setOnUtteranceProgressListener(listener);</li>\n<li>Override the onRangeStart(String, int, int, int) method in your\nUtteranceProgressListener.</li>\n</ul>\n\n<p>If your implementation supports the timing information you will the callback, if not perhaps your best bet is to find another engine implementation or perhaps implement your own TextToSpeechService.</p>\n"}], "owner": {"reputation": 184, "user_id": 4365959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MFXce.png?s=128&g=1", "display_name": "oflisback", "link": "https://stackoverflow.com/users/4365959/oflisback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 50599590, "answer_count": 1, "score": 1, "last_activity_date": 1527668060, "creation_date": 1527604159, "question_id": 50586929, "link": "https://stackoverflow.com/questions/50586929/how-to-get-smooth-text-to-speech-of-sentence-with-utterance-ids", "title": "How to get smooth text-to-speech of sentence with utterance ids", "body": "<p>My goal is to use the <a href=\"https://developer.android.com/reference/android/speech/tts/TextToSpeech\" rel=\"nofollow noreferrer\">Android Text-to-speech API</a> play a sentence of text as speech while tracking the currently spoken word.</p>\n\n<p>To get a smooth natural playback I use:</p>\n\n<pre><code>tts.speak(\"This is the sentence\", TextToSpeech.QUEUE_FLUSH, null, null)\n</code></pre>\n\n<p>but then I can't keep track of the currently spoken word.</p>\n\n<p>To play the sentence while keeping track of the currently spoken word I use:</p>\n\n<pre><code>val words = \"This is the sentence\".split(\" \")\nwords.forEachIndexed { index, element -&gt;\n    tts.speak(element, TextToSpeech.QUEUE_ADD, null, index.toString())\n}\n</code></pre>\n\n<p>combined with an UtteranceProgressListener, but then the speech is very jerky and not read back as a natural sentence.</p>\n\n<p>Is there a way to get both a naturally spoken sentence and at the same time keep track of the currently spoken word?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 5402446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5647ca18a190acbf315eec6a2096821a?s=128&d=identicon&r=PG&f=1", "display_name": "pk4393", "link": "https://stackoverflow.com/users/5402446/pk4393"}, "edited": false, "score": 0, "creation_date": 1527601143, "post_id": 50585752, "comment_id": 88180888, "body": "My question is not about like how to do that thing, It&#39;s about why Html tags in not working with Kotlin."}], "tags": [], "owner": {"reputation": 374, "user_id": 3687234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c8403143a05f0ce5a0f76845701a8e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Purup", "link": "https://stackoverflow.com/users/3687234/jesper-purup"}, "is_accepted": false, "score": 0, "last_activity_date": 1527600917, "creation_date": 1527600917, "answer_id": 50585752, "question_id": 50585637, "link": "https://stackoverflow.com/questions/50585637/html-tags-inside-strings-xml-is-not-working-with-kotlin/50585752#50585752", "title": "Html tags inside strings.xml is not working with Kotlin", "body": "<p>Im not sure 100% sure this is what you wanted. But this will make the second parameter red.</p>\n\n<pre><code>var tekst = Html.fromHtml(String.format(\n                getString(R.string.price_value),\n                100,\n                \"\"+10 + \"%\"\n        ))\n\n        tv_textview.text = tekst\n</code></pre>\n\n<p>Above results in the tekst: \"Rp 100 (-10%)\" with (-10%) in red.</p>\n"}], "owner": {"reputation": 314, "user_id": 5402446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5647ca18a190acbf315eec6a2096821a?s=128&d=identicon&r=PG&f=1", "display_name": "pk4393", "link": "https://stackoverflow.com/users/5402446/pk4393"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 852, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527601333, "creation_date": 1527600514, "last_edit_date": 1527601333, "question_id": 50585637, "link": "https://stackoverflow.com/questions/50585637/html-tags-inside-strings-xml-is-not-working-with-kotlin", "title": "Html tags inside strings.xml is not working with Kotlin", "body": "<p>While trying to define the text color in strings file like below it is working fine using java</p>\n\n<pre><code>&lt;string name=\"price_value\"&gt;Rp %1$s &amp;lt;font color=\\\"#f8011e\\\"&gt;(-%2$s)&amp;lt;/font&gt; &lt;/string&gt;\n</code></pre>\n\n<p>and the above string is getting used like this in my java code:</p>\n\n<pre><code>Html.fromHtml(String.format(\n              getString(R.string.price_value),\n              price,\n              discount + \"%\"\n            ));\n</code></pre>\n\n<p>But the same string is not working with Kotlin. Below is the code for Kotlin</p>\n\n<pre><code>Html.fromHtml(String.format(\n              getString(R.string.price_value),\n              price,\n              discount + \"%\"\n            ))\n</code></pre>\n\n<p>This string was supposed to change the color of 2nd dynamic parameter but it's only working in java but Kotlin it's not changing the color.</p>\n\n<p>So can someone please tell that why is it not working with <strong>Kotlin</strong>?</p>\n\n<p>I asked the same question on Kotlin Discussion page also, but did not get any answer there.</p>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/html-tags-inside-strings-xml-is-not-working-with-kotlin/7739\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/html-tags-inside-strings-xml-is-not-working-with-kotlin/7739</a></p>\n"}, {"tags": ["java", "android", "android-studio", "mobile", "kotlin"], "comments": [{"owner": {"reputation": 8242, "user_id": 3982755, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/05Rrh.jpg?s=128&g=1", "display_name": "Bentaye", "link": "https://stackoverflow.com/users/3982755/bentaye"}, "edited": false, "score": 0, "creation_date": 1527600112, "post_id": 50585429, "comment_id": 88180143, "body": "The google maps API might have such a feature, if you provide lattitude and longitude."}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1527601141, "post_id": 50585429, "comment_id": 88180886, "body": "I&#39;d start looking for the documentation of &quot;google business search&quot; in java. Then think about ways to get the required data (e.g. look at how to get the user location on an android phone) and how to use or display the data you can get out of the search. It&#39;s a big puzzle and you have to find creative ways to combine all the pieces"}, {"owner": {"reputation": 10159, "user_id": 306739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mILId.jpg?s=128&g=1", "display_name": "stan0", "link": "https://stackoverflow.com/users/306739/stan0"}, "edited": false, "score": 0, "creation_date": 1527682029, "post_id": 50585429, "comment_id": 88217762, "body": "Since you say you are new, it may be useful to start with <a href=\"https://developers.google.com\" rel=\"nofollow noreferrer\">developers.google.com</a> and <a href=\"https://developer.android.com/\" rel=\"nofollow noreferrer\">developer.android.com</a> to see what functionality is available."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9860806, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sipea", "link": "https://stackoverflow.com/users/9860806/sipea"}, "is_accepted": false, "score": 0, "last_activity_date": 1527601315, "creation_date": 1527601315, "answer_id": 50585901, "question_id": 50585429, "link": "https://stackoverflow.com/questions/50585429/how-to-add-a-google-business-search-to-android-app-new-programmer/50585901#50585901", "title": "How to add a google business search to android app. New programmer", "body": "<p>If you are looking to use Google search, you can use the <a href=\"https://developers.google.com/places/android-sdk/intro\" rel=\"nofollow noreferrer\">Google Places Android SDK</a>.  You will need to set up an API key.  It's free for non-enterprise usage.</p>\n\n<p>Other companies also offer similar services, such as<a href=\"https://www.mapbox.com/\" rel=\"nofollow noreferrer\">Mapbox</a>, though from personal experience, the search results are not nearly as accurate as the Google ones.</p>\n"}], "owner": {"reputation": 295, "user_id": 9722161, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160203589170587/picture?type=large", "display_name": "Keith Colclough", "link": "https://stackoverflow.com/users/9722161/keith-colclough"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527601315, "creation_date": 1527599903, "question_id": 50585429, "link": "https://stackoverflow.com/questions/50585429/how-to-add-a-google-business-search-to-android-app-new-programmer", "title": "How to add a google business search to android app. New programmer", "body": "<p>Hi there I have managed to make a basic android app with all sort of puppy information for new owners. It has all the categories you expect like training etc. However I want to add a more advanced feature that as a new programmer I have no idea how to do!</p>\n\n<p>I want to make an activity in the app so when they click it, or maybe just enter their postcode it shows up the local dog groomers within 10 miles, or maybe the local vet practices within 10 miles etc. </p>\n\n<p>I have no idea where to start with this. I am not looking for it to be handed to me on a plate but does anyone have any basic guidance as to where to start etc.</p>\n"}, {"tags": ["unit-testing", "kotlin", "sharedpreferences"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1527609974, "post_id": 50584177, "comment_id": 88186585, "body": "Do you run your tests with robolectric?"}, {"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "reply_to_user": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1527615294, "post_id": 50584177, "comment_id": 88189142, "body": "No, I use PowerMock for some mocks"}], "answers": [{"tags": [], "owner": {"reputation": 1002, "user_id": 5576117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qexrw.jpg?s=128&g=1", "display_name": "Mamykin Andrey", "link": "https://stackoverflow.com/users/5576117/mamykin-andrey"}, "is_accepted": false, "score": 2, "last_activity_date": 1527597512, "creation_date": 1527597512, "answer_id": 50584630, "question_id": 50584177, "link": "https://stackoverflow.com/questions/50584177/why-getsharedpreferences-return-null-in-unit-testing/50584630#50584630", "title": "Why &quot;getSharedPreferences&quot; return null in unit testing?", "body": "<p>You can't use Android SharedPreferences in unit test, but you can mock your method call by this:</p>\n\n<p><code>Mockito.`when`(SharedPreferenceHandler.mInstance.accessToken).thenReturn(\"token</code>\")</p>\n\n<p>And return what you need.</p>\n"}, {"comments": [{"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527679497, "post_id": 50597596, "comment_id": 88216005, "body": "Can you give me an example with the interface?"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527681673, "post_id": 50597596, "comment_id": 88217500, "body": "Example with little explanation added."}, {"owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527685682, "post_id": 50597596, "comment_id": 88220416, "body": "&quot;MySharedPreferences&quot; is just an interface?"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "reply_to_user": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "edited": false, "score": 0, "creation_date": 1527685952, "post_id": 50597596, "comment_id": 88220620, "body": "Yes. Your injected object should be instance of interface. Your class <code>handler</code> should implement this interface - when you create <code>MyPresenter</code> you will pass instance of class implementing this interface."}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": true, "score": 1, "last_activity_date": 1527681633, "last_edit_date": 1527681633, "creation_date": 1527661295, "answer_id": 50597596, "question_id": 50584177, "link": "https://stackoverflow.com/questions/50584177/why-getsharedpreferences-return-null-in-unit-testing/50597596#50597596", "title": "Why &quot;getSharedPreferences&quot; return null in unit testing?", "body": "<p>You should not test your code this way. You should create an interface for class you want to mock:</p>\n\n<pre><code>interface MySharedPreferences {\n    fun getAccessToken(): String\n}\n</code></pre>\n\n<p>Let your SharedPreferencesHandler implements this interface. Then in your presenter (or other class you want to test) inject dependencies (f.e. by constructor or framework like Dagger/Kodein) into your object. Then there is possibility to easy mock this interface. I assume in @Before you create class you test - and then just pass as param your mocked SharedPreferencesHandler.</p>\n\n<p>Testing things with static dependencies is possible, but is but tricky (and a lot of people consider static dependencies as anti-pattern). How to do it is described here: <a href=\"https://stackoverflow.com/questions/32074356/how-to-android-unit-test-and-mock-a-static-method\">How to android unit test and mock a static method</a></p>\n\n<p>Example:</p>\n\n<pre><code> class MyPresenter(val sp: MySharedPreferences) {\n     /* some code here */\n     fun validateToken() {\n         if (sp.getAccessToken() == \"\") throw new Exception()\n     }\n }  \n</code></pre>\n\n<p>Like you see <code>sp</code> is injected into this class as parameter. Normally you don't create views/presenters etc. directly in code but by DI framework (like Dagger or Kodein). Anyway, static dependencies are not easy testable. Injected interface-dependencies can be mocked, and you operating not on object, but on behaviors (so it's bigger level of abstraction). So, now in your test all you have to do is:</p>\n\n<pre><code>class MyTest() {\n\n    @Mock lateinit var sharedPreferencesMock: MySharedPreferences\n    lateinit var instance: MyPresenter\n\n    @Before\n    fun setUp() {\n        instance = MyPresenter(sharedPreferencesMock)\n    }\n\n    @Test\n    fun testSomething() {\n        `when`(sharedPreferencesMock.getAccessToken()).thenReturn(\"myAccessToken\")\n        /* here is your test body */\n    }\n} \n</code></pre>\n"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1233, "favorite_count": 0, "accepted_answer_id": 50597596, "answer_count": 2, "score": 1, "last_activity_date": 1527681633, "creation_date": 1527596140, "last_edit_date": 1527600242, "question_id": 50584177, "link": "https://stackoverflow.com/questions/50584177/why-getsharedpreferences-return-null-in-unit-testing", "title": "Why &quot;getSharedPreferences&quot; return null in unit testing?", "body": "<p>My classes is written in Kotlin and here is my SharedPreferenceHandler</p>\n\n<pre><code>   class SharedPreferenceHandler(sharedPrefs: SharedPreferences) {\n\n        companion object {\n            var mInstance: SharedPreferenceHandler = SharedPreferenceHandler(getPrefs())\n\n            private fun getPrefs(): SharedPreferences {\n                return Application.mInstance.getSharedPreferences(\n                        \"myApp\", Context.MODE_PRIVATE)\n            }\n\n            fun getInstance(): SharedPreferenceHandler {\n                return mInstance\n            }\n        }\n\n        private var sharedPreferences = sharedPrefs\n\n        var accessToken: String?\n            get() = sharedPreferences.getString(SharedPreference.ACCESS_TOKEN.name, null)\n            set(token) = sharedPreferences.edit().putString(SharedPreference.ACCESS_TOKEN.name, token).apply()\n}\n</code></pre>\n\n<p>Here is method called in presenter:</p>\n\n<pre><code> override fun reload(vm: ViewModel) {\n        super.updateViewModel(vm) {\n           //some stuffs\n        }\n    }\n</code></pre>\n\n<p>Here is my test method:</p>\n\n<pre><code>@Test\npublic void reload() {\n    when(SharedPreferenceHandler.Companion.getMInstance().getAccessToken()).thenReturn(\"234234234234234\");\n\n    presenter.reload(viewModel);\n}\n</code></pre>\n\n<p>In handler from <strong>super.updateViewModel(vm)</strong> I call \"SharedPreferenceHandler.mInstance.accessToken!!)\"</p>\n\n<p>That is what is thrown:</p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalStateException:\n  Application.mInstanc\u2026m\", Context.MODE_PRIVATE) must not be null\n    at\n  com.zuum.zuumapp.preferences.SharedPreferenceHandler$Companion.getPrefs(SharedPreferenceHandler.kt:18)\n    at\n  com.zuum.zuumapp.preferences.SharedPreferenceHandler$Companion.access$getPrefs(SharedPreferenceHandler.kt:14)\n    at\n  com.zuum.zuumapp.preferences.SharedPreferenceHandler.(SharedPreferenceHandler.kt:15)</p>\n</blockquote>\n\n<p>I wanna to get accessToken by calling \" SharedPreferenceHandler.mInstance.accessToken!!\" in my test class.</p>\n\n<p>Is possible to get that in my test method?</p>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1527593695, "post_id": 50583248, "comment_id": 88175831, "body": "Please show the <code>Listener&lt;T&gt;</code> definition."}, {"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1527595212, "post_id": 50583248, "comment_id": 88176791, "body": "<code>interface Listener&lt;T&gt; {         fun onSuccess(result: T?)          fun onFailure()     }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1527595446, "post_id": 50583438, "comment_id": 88176974, "body": "Technically if you own <code>FooClass</code> then the gist is that you need to be able to provide two separate lambdas, and not just a single listener. But if you don&#39;t own FooClass, then you <i>should</i> be able to use this extension function and can pretty much throw it anywhere you want. <code>typealias</code>es must be top-level, inside a file, but outside of class. They can also be <code>private</code>. If the function is top-level, then you can easily import it."}, {"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1527596502, "post_id": 50583438, "comment_id": 88177713, "body": "Thank you for the great explanation :-). I have this error inside the Extension fun: <code>object is not abstract and does not implement abstract member. Required: Int, Found: &lt;T&gt;</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 1, "creation_date": 1527596605, "post_id": 50583438, "comment_id": 88177781, "body": "I was so focused on the <code>crossinline</code> that I forgot to add the <code>id: Int</code> parameter. Fixed."}, {"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1527603079, "post_id": 50583438, "comment_id": 88182215, "body": "I have a <code>Type mismatch</code>... <code>Required FooClass.Listener&lt;JsonElement&gt;</code> but <code>Found: &lt;T&gt;</code>. I have updated the question... It is possible the interface was needed."}, {"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 0, "creation_date": 1527606261, "post_id": 50583438, "comment_id": 88184400, "body": "Well.. anyway I have found a valid solution thank you to you. I am going to write it. :-)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 1, "creation_date": 1527638909, "post_id": 50583438, "comment_id": 88198415, "body": "I had to get home and try it out, and yeah, I did have to remove the <code>T</code> stuff. It was pretty close though, I think you are missing the crossinlines in your answer. Crossinline should result in better bytecode, afaik."}, {"owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "edited": false, "score": 1, "creation_date": 1527673531, "post_id": 50583438, "comment_id": 88212021, "body": "Yes, it is better and very pretty :-). I am going to put it as correct answer."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 6, "last_activity_date": 1527623164, "last_edit_date": 1527623164, "creation_date": 1527593923, "answer_id": 50583438, "question_id": 50583248, "link": "https://stackoverflow.com/questions/50583248/simplify-kotlin-function-with-a-lambda/50583438#50583438", "title": "Simplify Kotlin function with a lambda", "body": "<p>You'll need to use some tricks for that.</p>\n\n<pre><code>typealias SuccessCallback&lt;T&gt; = (T?) -&gt; Unit\ntypealias FailureCallback = () -&gt; Unit\n\ninline fun FooClass.foo(id: Int, crossinline success: SuccessCallback&lt;JsonElement?&gt;, crossinline failure: FailureCallback) {\n    foo(id, object: FooClass.Listener&lt;JsonElement&gt; {\n        override fun onSuccess(result: JsonElement?) = success(result)\n        override fun onFailure() = failure()\n    })\n}\n</code></pre>\n\n<p>Now you should be able to call</p>\n\n<pre><code>FooClass().foo(id, \n    success = { result: JsonElement? -&gt; \n        ... \n    }, \n    failure = { \n    }\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "is_accepted": false, "score": 1, "last_activity_date": 1527686170, "last_edit_date": 1527686170, "creation_date": 1527606650, "answer_id": 50587698, "question_id": 50583248, "link": "https://stackoverflow.com/questions/50583248/simplify-kotlin-function-with-a-lambda/50587698#50587698", "title": "Simplify Kotlin function with a lambda", "body": "<p>Thanks to @EpicPandaForce I have found a solution. It is this:</p>\n\n<pre><code>fun foo(id: Int, success: (JsonElement?) -&gt; Unit, error: () -&gt; Unit) {\n    enqueue(apiService.getFoo(id), object : Listener&lt;JsonElement&gt; {\n        override fun onSuccess(result: JsonElement?) = success(result)\n\n        override fun onFailure() = error()\n    })\n}\n</code></pre>\n\n<p><em>I have refactored the order of the parameters on the</em> <code>enqueue</code> <em>function to be more readable.</em></p>\n\n<p>To call the function is as simple as this:</p>\n\n<pre><code>    FooClass().foo(id,\n            success = { result -&gt;\n                // Handle success result\n            },\n            error = {\n                // Handle error\n            }\n    )\n</code></pre>\n"}], "owner": {"reputation": 671, "user_id": 1593550, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/t8GaJ.jpg?s=128&g=1", "display_name": "Gabi Moreno", "link": "https://stackoverflow.com/users/1593550/gabi-moreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 50583438, "answer_count": 2, "score": 3, "last_activity_date": 1527686170, "creation_date": 1527593319, "last_edit_date": 1527603150, "question_id": 50583248, "link": "https://stackoverflow.com/questions/50583248/simplify-kotlin-function-with-a-lambda", "title": "Simplify Kotlin function with a lambda", "body": "<p>I have this function on <code>FooClass</code> class:</p>\n\n<pre><code>fun foo(id: Int, listener: Listener&lt;JsonElement&gt;) {\n    enqueue(listener, apiService.getFoo(id))\n}\n</code></pre>\n\n<p>This is the interface:</p>\n\n<pre><code>interface Listener&lt;T&gt; {\n    fun onSuccess(result: T?)\n\n    fun onFailure()\n}\n</code></pre>\n\n<p>When I call it, I do this:</p>\n\n<pre><code>FooClass().foo(id, object : FooClass.Listener&lt;JsonElement&gt; {\n    override fun onSuccess(result: JsonElement?) {}\n    override fun onFailure() {}\n})\n</code></pre>\n\n<p>I want to make a lambda to simplify when I make the call. Something like this:</p>\n\n<pre><code>fun foo {id -&gt;\n    // Perform onSuccess\n    // Perform onFailure\n}\n</code></pre>\n\n<p>I know this is basic, but I'm a mess... :-(</p>\n\n<p>Thank you so much for the help.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mvp"], "answers": [{"tags": [], "owner": {"reputation": 1002, "user_id": 5576117, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qexrw.jpg?s=128&g=1", "display_name": "Mamykin Andrey", "link": "https://stackoverflow.com/users/5576117/mamykin-andrey"}, "is_accepted": false, "score": 0, "last_activity_date": 1527597713, "creation_date": 1527597713, "answer_id": 50584704, "question_id": 50582926, "link": "https://stackoverflow.com/questions/50582926/is-possible-to-finish-unit-testing-when-a-method-is-called/50584704#50584704", "title": "Is possible to finish unit testing when a method is called?", "body": "<p>If you use <code>return</code> statment, your test finish with success status.</p>\n"}, {"tags": [], "owner": {"reputation": 909, "user_id": 5341424, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f6A_mP9T33A/AAAAAAAAAAI/AAAAAAAAAQ0/B1i7GyePaw8/photo.jpg?sz=128", "display_name": "Bmuig", "link": "https://stackoverflow.com/users/5341424/bmuig"}, "is_accepted": false, "score": 0, "last_activity_date": 1527602016, "creation_date": 1527602016, "answer_id": 50586134, "question_id": 50582926, "link": "https://stackoverflow.com/questions/50582926/is-possible-to-finish-unit-testing-when-a-method-is-called/50586134#50586134", "title": "Is possible to finish unit testing when a method is called?", "body": "<p>I think there is a basic problem with your test setup:</p>\n\n<p>You do not use <code>verify</code> to check if one function calles another function within the same class. <code>Verify</code> is used to verify that the tested class calls function on other (<em>mocked</em>) classes. If I am not mistaken, your setup should actually give you an error message saying that you can not use <code>verify</code> on instantiated classes.</p>\n\n<p>What you should do -if you want to check if <code>onCompleteClicked()</code> produces the correct results- is to check if the data that gets changed inside the <code>onStuffComplete()</code> function is set correctly. You can use an <code>assert</code> for that.</p>\n\n<p>As an example, lets say <code>onStuffCompleted()</code> sets <code>completeCounter</code> to <code>1</code></p>\n\n<pre><code>@Test\npublic void onCompleteClicked() {\n  presenter.onStuffCompleteClicked();\n  assertEquals(completCounter , 1);\n}\n</code></pre>\n\n<p>And to answer your original question: <code>verify</code> (and <code>assert</code>) will pass if the requirements were met (and by this the whole test will pass) and fail if not. You do not need to add any additional stuff (but once again: <code>verify</code> will only work with <em>mocked</em> classes).</p>\n"}], "owner": {"reputation": 812, "user_id": 5880384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0ddce52fc8022996df550b3d839e3a?s=128&d=identicon&r=PG&f=1", "display_name": "azsoftco", "link": "https://stackoverflow.com/users/5880384/azsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527696719, "creation_date": 1527592292, "last_edit_date": 1527696719, "question_id": 50582926, "link": "https://stackoverflow.com/questions/50582926/is-possible-to-finish-unit-testing-when-a-method-is-called", "title": "Is possible to finish unit testing when a method is called?", "body": "<p>Here is my test method where It should be success if <em>showLoading()</em> and <em>loadDataSuccess(response)</em> was called:</p>\n\n<pre><code> @RunWith(PowerMockRunner.class)\n     public class PresenterTest {\n            @Mock  \n            private ProfileContract.View view;\n            @Mock\n            private ProfileContract.Handler handler;\n\n            @Test\n            public void onLoadDataClicked() {\n              presenter.loadData();\n              verify(mView, times(1)).showLoading();\n              verify(mHandler, times(1)).loadDataSuccess();\n            }\n     }\n</code></pre>\n\n<p><strong>UPDATE 1</strong>\nHere is my presenter:</p>\n\n<pre><code>class ProfilePresenter(private val mView: ProfileContract.View) : ProfileContract.Handler {\n\n     override fun loadData() {\n            mView.showLoading()\n            mUserService.user()\n                    .compose(RxUtil.mapper())\n                    .subscribe({ response -&gt;\n                        loadDataSuccess()\n                    }, { error -&gt;\n                        //stuff\n                    })\n        }\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "kotlin", "runnable"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 2, "creation_date": 1527591890, "post_id": 50582758, "comment_id": 88174582, "body": "use <code>this</code>? At least it works this way for Java. <code>postDelayed(this,2000)</code>"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1527592534, "post_id": 50582758, "comment_id": 88175009, "body": "If this is a periodic callback, I&#39;d add <code>removeCallbacks(this)</code> at the beginning of runnable as well, just to be safe it never &quot;doubles up&quot; and runs too often."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 6, "last_activity_date": 1527593047, "creation_date": 1527593047, "answer_id": 50583160, "question_id": 50582758, "link": "https://stackoverflow.com/questions/50582758/kotlin-android-how-do-i-post-the-same-runnable-inside-the-runnable/50583160#50583160", "title": "Kotlin, Android - How do i post the same runnable inside the runnable?", "body": "<p>In Kotlin 1.2+, you can define a local <code>lateinit var</code> for the <code>runnable</code> and then ititialize it with a <code>Runnable</code> that uses the variable:</p>\n\n<pre><code>lateinit var runnable: Runnable\nrunnable = Runnable {\n    /* ... */\n    postDelayed(runnable,2000)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 4087988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ofbXx.png?s=128&g=1", "display_name": "Glorin", "link": "https://stackoverflow.com/users/4087988/glorin"}, "edited": false, "score": 1, "creation_date": 1545645986, "post_id": 52096239, "comment_id": 94667744, "body": "This solution works, if use lambda, the <b>this</b> pointer could not be found."}], "tags": [], "owner": {"reputation": 2652, "user_id": 3007180, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/4rPnk.jpg?s=128&g=1", "display_name": "Hardik Chauhan", "link": "https://stackoverflow.com/users/3007180/hardik-chauhan"}, "is_accepted": false, "score": 6, "last_activity_date": 1535629424, "creation_date": 1535629424, "answer_id": 52096239, "question_id": 50582758, "link": "https://stackoverflow.com/questions/50582758/kotlin-android-how-do-i-post-the-same-runnable-inside-the-runnable/52096239#52096239", "title": "Kotlin, Android - How do i post the same runnable inside the runnable?", "body": "<p>Do like this,</p>\n\n<pre><code>var myRunnable: Runnable = object : Runnable {\n    override fun run() {\n        progressHandler.postDelayed(this, 100) // here is self calling\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4491, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1535629424, "creation_date": 1527591772, "question_id": 50582758, "link": "https://stackoverflow.com/questions/50582758/kotlin-android-how-do-i-post-the-same-runnable-inside-the-runnable", "title": "Kotlin, Android - How do i post the same runnable inside the runnable?", "body": "<p>I want to post a runnable to a view object inside a runnable , currently i am stuck here.</p>\n\n<pre><code> var runnable = Runnable {\n        if(numLinesToDraw &gt;= amplititudes.size){\n\n        }\n        else\n        {\n            numLinesToDraw = numLinesToDraw ++\n            invalidate()\n            postDelayed({\n\n            },2000)\n        }\n    }\n\n    postDelayed(runnable,2000)\n</code></pre>\n\n<p>As you can see , there is a <code>postDelayed</code> method inside the runnable. What i want to do is post the same runnable again and so on. What should i add here?</p>\n\n<pre><code>       postDelayed({\n\n        },2000)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-livedata"], "comments": [{"owner": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "edited": false, "score": 0, "creation_date": 1527591801, "post_id": 50582682, "comment_id": 88174522, "body": "Try using MutableLiveData&lt;State&gt; in place of MediatorLiveData"}, {"owner": {"reputation": 707, "user_id": 4846813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acec667c35a275e898168ed5874199d5?s=128&d=identicon&r=PG&f=1", "display_name": "mhtmalpani", "link": "https://stackoverflow.com/users/4846813/mhtmalpani"}, "reply_to_user": {"reputation": 1145, "user_id": 4878972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4414228f3433357a25bc2923dc7dab44?s=128&d=identicon&r=PG", "display_name": "Aseem Sharma", "link": "https://stackoverflow.com/users/4878972/aseem-sharma"}, "edited": false, "score": 0, "creation_date": 1527593061, "post_id": 50582682, "comment_id": 88175353, "body": "Same result. The output is still <b>Response: Three</b>"}], "answers": [{"comments": [{"owner": {"reputation": 707, "user_id": 4846813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acec667c35a275e898168ed5874199d5?s=128&d=identicon&r=PG&f=1", "display_name": "mhtmalpani", "link": "https://stackoverflow.com/users/4846813/mhtmalpani"}, "edited": false, "score": 0, "creation_date": 1527602989, "post_id": 50584681, "comment_id": 88182149, "body": "How do we change our code, in that case, to make the observer active and receive all the values emitted and not just the last one?"}, {"owner": {"reputation": 14944, "user_id": 503508, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a7132117a308666051ae9ff46eec095b?s=128&d=identicon&r=PG", "display_name": "Knossos", "link": "https://stackoverflow.com/users/503508/knossos"}, "reply_to_user": {"reputation": 707, "user_id": 4846813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acec667c35a275e898168ed5874199d5?s=128&d=identicon&r=PG&f=1", "display_name": "mhtmalpani", "link": "https://stackoverflow.com/users/4846813/mhtmalpani"}, "edited": false, "score": 0, "creation_date": 1527603311, "post_id": 50584681, "comment_id": 88182379, "body": "Have you tried running the code in onStart() or onResume()?"}, {"owner": {"reputation": 707, "user_id": 4846813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acec667c35a275e898168ed5874199d5?s=128&d=identicon&r=PG&f=1", "display_name": "mhtmalpani", "link": "https://stackoverflow.com/users/4846813/mhtmalpani"}, "edited": false, "score": 0, "creation_date": 1527604380, "post_id": 50584681, "comment_id": 88183128, "body": "If we make the call <b>viewModel.fetchFirstThree()</b> in <i>onStart()</i>, it is still observing the last updated value.  However, if we do the same in <i>onResume()</i>, it is being called for all the three values as we are expecting."}, {"owner": {"reputation": 14944, "user_id": 503508, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a7132117a308666051ae9ff46eec095b?s=128&d=identicon&r=PG", "display_name": "Knossos", "link": "https://stackoverflow.com/users/503508/knossos"}, "reply_to_user": {"reputation": 707, "user_id": 4846813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acec667c35a275e898168ed5874199d5?s=128&d=identicon&r=PG&f=1", "display_name": "mhtmalpani", "link": "https://stackoverflow.com/users/4846813/mhtmalpani"}, "edited": false, "score": 1, "creation_date": 1527604683, "post_id": 50584681, "comment_id": 88183357, "body": "There you are. Looks like this is the case for changing state: <code>LiveData considers an observer, which is represented by the Observer class, to be in an active state if its lifecycle is in the STARTED or RESUMED state.</code>"}, {"owner": {"reputation": 1133, "user_id": 3991071, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58796548013174d455cf0f5de0143be5?s=128&d=identicon&r=PG&f=1", "display_name": "\u0404\u0432\u0433\u0435\u043d \u0413\u0430\u0440\u0430\u0441\u0442\u043e\u0432\u0438\u0447", "link": "https://stackoverflow.com/users/3991071/%d0%84%d0%b2%d0%b3%d0%b5%d0%bd-%d0%93%d0%b0%d1%80%d0%b0%d1%81%d1%82%d0%be%d0%b2%d0%b8%d1%87"}, "edited": false, "score": 0, "creation_date": 1551279840, "post_id": 50584681, "comment_id": 96583800, "body": "Saved my day. Thank you"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1591797178, "post_id": 50584681, "comment_id": 110192985, "body": "If you want to retain all emitted values and not just the last one, then use a custom lifecycle aware class and not LiveData."}], "tags": [], "owner": {"reputation": 14944, "user_id": 503508, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a7132117a308666051ae9ff46eec095b?s=128&d=identicon&r=PG", "display_name": "Knossos", "link": "https://stackoverflow.com/users/503508/knossos"}, "is_accepted": false, "score": 5, "last_activity_date": 1527597665, "creation_date": 1527597665, "answer_id": 50584681, "question_id": 50582682, "link": "https://stackoverflow.com/questions/50582682/multiple-calls-to-set-livedata-is-not-observed/50584681#50584681", "title": "Multiple calls to set LiveData is not observed", "body": "<p>I did some science, re-implementing LiveData and MutableLiveData to log out some data.</p>\n\n<p>Check the <a href=\"https://android.googlesource.com/platform/frameworks/support/+/master/lifecycle/extensions/src/main/java/android/arch/lifecycle/LiveData.java\" rel=\"noreferrer\">source code here</a>.</p>\n\n<pre><code>setValue value=Test1\ndispatchingValue mDispatchingValue=false mDispatchInvalidated=false\nconsiderNotify\nReturned at !observer.active\nsetValue value=Test2\ndispatchingValue mDispatchingValue=false mDispatchInvalidated=false\nconsiderNotify\nReturned at !observer.active\nsetValue value=Test3\ndispatchingValue mDispatchingValue=false mDispatchInvalidated=false\nconsiderNotify\nReturned at !observer.active\ndispatchingValue mDispatchingValue=false mDispatchInvalidated=false\nconsiderNotify\nITEM: Test3\n</code></pre>\n\n<p>It looks like the observer hasn't reached an active state when you send the initial values.</p>\n\n<pre><code>private void considerNotify(LifecycleBoundObserver observer) {\n    // &lt;-- Three times it fails here. This means that your observer wasn't ready for any of them.\n    if (!observer.active) {\n        return;\n    }\n</code></pre>\n\n<p>Once the observer reaches an active state, it sends the last set value.</p>\n\n<pre><code>void activeStateChanged(boolean newActive) {\n    if (newActive == active) {\n        return;\n    }\n    active = newActive;\n    boolean wasInactive = LiveData.this.mActiveCount == 0;\n    LiveData.this.mActiveCount += active ? 1 : -1;\n    if (wasInactive &amp;&amp; active) {\n        onActive();\n    }\n    if (LiveData.this.mActiveCount == 0 &amp;&amp; !active) {\n        onInactive();\n    }\n    if (active) {\n        // &lt;--- At this point you are getting a call to your observer!\n        dispatchingValue(this);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 2127884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdf7ea4ac6bfff019ef5ca51f20a48e?s=128&d=identicon&r=PG", "display_name": "Davion", "link": "https://stackoverflow.com/users/2127884/davion"}, "is_accepted": false, "score": 1, "last_activity_date": 1539143474, "last_edit_date": 1539143474, "creation_date": 1539142950, "answer_id": 52732285, "question_id": 50582682, "link": "https://stackoverflow.com/questions/50582682/multiple-calls-to-set-livedata-is-not-observed/52732285#52732285", "title": "Multiple calls to set LiveData is not observed", "body": "<p>You should call <code>viewModel.fetchFirstThree()</code> after Activity's <code>onStart()</code> method. for example in <code>onResume()</code> method.</p>\n\n<p>Because in <code>LiveData</code> the <code>Observer</code> is wrapped as a <code>LifecycleBoundObserver</code>. The field <code>mActive</code> set to true after <code>onStart()</code>.</p>\n\n<pre><code>class LifecycleBoundObserver extends ObserverWrapper implements GenericLifecycleObserver {\n\n    @Override\n    boolean shouldBeActive() {\n        return mOwner.getLifecycle().getCurrentState().isAtLeast(STARTED);// return true after onStart()\n    }\n    @Override\n    public void onStateChanged(LifecycleOwner source, Lifecycle.Event event) {\n        if (mOwner.getLifecycle().getCurrentState() == DESTROYED) {\n            removeObserver(mObserver);\n            return;\n        }\n        activeStateChanged(shouldBeActive());// after onStart() change mActive to true\n    }\n}\n</code></pre>\n\n<p>When the observer notify the change it calls <code>considerNotify</code>, before <code>onStart</code> it will return at <code>!observer.mActive</code></p>\n\n<pre><code> private void considerNotify(ObserverWrapper observer) {\n    if (!observer.mActive) {// called in onCreate() will return here.\n        return;\n    }\n    if (!observer.shouldBeActive()) {\n        observer.activeStateChanged(false);\n        return;\n    }\n    if (observer.mLastVersion &gt;= mVersion) {\n        return;\n    }\n    observer.mLastVersion = mVersion;\n    //noinspection unchecked\n    observer.mObserver.onChanged((T) mData);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 4961035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d645bcca38354b0f97039a7c49a64f44?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Baryshev", "link": "https://stackoverflow.com/users/4961035/dmitry-baryshev"}, "is_accepted": false, "score": 4, "last_activity_date": 1539191328, "creation_date": 1539191328, "answer_id": 52745467, "question_id": 50582682, "link": "https://stackoverflow.com/questions/50582682/multiple-calls-to-set-livedata-is-not-observed/52745467#52745467", "title": "Multiple calls to set LiveData is not observed", "body": "<p>You could use custom LiveData like this:</p>\n\n<pre><code>class ActiveMutableLiveData&lt;T&gt; : MutableLiveData&lt;T&gt;() {\n\n  private val values: Queue&lt;T&gt; = LinkedList()\n\n  private var isActive: Boolean = false\n\n  override fun onActive() {\n      isActive = true\n      while (values.isNotEmpty()) {\n          setValue(values.poll())\n      }\n  }\n\n  override fun onInactive() {\n      isActive = false\n  }\n\n  override fun setValue(value: T) {\n      if (isActive) {\n          super.setValue(value)\n      } else {\n          values.add(value)\n      }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 4308854, "user_type": "registered", "accept_rate": 9, "profile_image": "https://graph.facebook.com/535327313/picture?type=large", "display_name": "Mark Sheekey", "link": "https://stackoverflow.com/users/4308854/mark-sheekey"}, "is_accepted": false, "score": 2, "last_activity_date": 1594136959, "creation_date": 1594136959, "answer_id": 62779096, "question_id": 50582682, "link": "https://stackoverflow.com/questions/50582682/multiple-calls-to-set-livedata-is-not-observed/62779096#62779096", "title": "Multiple calls to set LiveData is not observed", "body": "<p>FWIW I had the same problem but solved it like this...</p>\n<p>I originally had some code similar to this...</p>\n<pre><code>private fun updateMonth(month: Int){\nupdateMonth.value = UpdateMonth(month, getDaysOfMonth(month))\n}\n\nupdateMonth(1)\nupdateMonth(2)\nupdateMonth(3)\n</code></pre>\n<p>I experienced the same problem as described...\nBut when I made this simple change....</p>\n<pre><code> private fun updateMonth(month: Int) {\n        CoroutineScope(Dispatchers.Main).launch {\n            updateMonth.value = UpdateMonth(month, getDaysOfMonth(month))\n        }\n    }\n</code></pre>\n<p>Presumably, each updateMonth is going onto a different thread now, so all of the updates are observed.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 12798529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9SRYVmaM_C4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrqgj-vjYR-nCuJ_TXexl6PeWBUQ/photo.jpg?sz=128", "display_name": "Ondinnonk", "link": "https://stackoverflow.com/users/12798529/ondinnonk"}, "is_accepted": false, "score": 5, "last_activity_date": 1599230366, "creation_date": 1599230366, "answer_id": 63743277, "question_id": 50582682, "link": "https://stackoverflow.com/questions/50582682/multiple-calls-to-set-livedata-is-not-observed/63743277#63743277", "title": "Multiple calls to set LiveData is not observed", "body": "<p>I had such issue too.</p>\n<p>To resolve it was created custom MutableLiveData, that contains a queue of posted values and will notify observer for each value.</p>\n<p>You can use it the same way as usual MutableLiveData.</p>\n<pre><code>open class MultipleLiveEvent&lt;T&gt; : MutableLiveData&lt;T&gt;() {\nprivate val mPending =\n    AtomicBoolean(false)\nprivate val values: Queue&lt;T&gt; = LinkedList()\n\n@MainThread\noverride fun observe(\n    owner: LifecycleOwner,\n    observer: Observer&lt;in T&gt;\n) {\n    if (hasActiveObservers()) {\n        Log.w(\n            this::class.java.name,\n            &quot;Multiple observers registered but only one will be notified of changes.&quot;\n        )\n    }\n    // Observe the internal MutableLiveData\n    super.observe(owner, Observer { t: T -&gt;\n        if (mPending.compareAndSet(true, false)) {\n            observer.onChanged(t)\n            //call next value processing if have such\n            if (values.isNotEmpty())\n                pollValue()\n        }\n    })\n}\n\noverride fun postValue(value: T) {\n    values.add(value)\n    pollValue()\n}\n\nprivate fun pollValue() {\n    setValue(values.poll())\n}\n\n@MainThread\noverride fun setValue(t: T?) {\n    mPending.set(true)\n    super.setValue(t)\n}\n\n/**\n * Used for cases where T is Void, to make calls cleaner.\n */\n@Suppress(&quot;unused&quot;)\n@MainThread\nfun call() {\n    value = null\n}\n</code></pre>\n<p>}</p>\n"}], "owner": {"reputation": 707, "user_id": 4846813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acec667c35a275e898168ed5874199d5?s=128&d=identicon&r=PG&f=1", "display_name": "mhtmalpani", "link": "https://stackoverflow.com/users/4846813/mhtmalpani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4926, "favorite_count": 1, "answer_count": 5, "score": 11, "last_activity_date": 1599230366, "creation_date": 1527591513, "question_id": 50582682, "link": "https://stackoverflow.com/questions/50582682/multiple-calls-to-set-livedata-is-not-observed", "title": "Multiple calls to set LiveData is not observed", "body": "<p>I have recently seen a weird issue that is acting as a barrier to my project.\nMultiple calls to set the live data value does not invoke the observer in the view.</p>\n\n<p>It seems that only the last value that was set actually invokes the Observer in the view.</p>\n\n<p>Here is the code snippet for a review.</p>\n\n<h3>MainActivity.kt</h3>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var viewModel: MainViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        viewModel = ViewModelProviders.of(this).get(MainViewModelImpl::class.java)\n\n        viewModel.state().observe(this, Observer {\n            onStateChange(it!!)\n        })\n\n        viewModel.fetchFirstThree()\n\n    }\n\n    private fun onStateChange(state: MainViewModel.State) {\n\n        when (state) {\n            is One -&gt; {\n                show(state.data)\n            }\n            is Two -&gt; {\n                show(state.data)\n            }\n            is Three -&gt; {\n                show(state.data)\n            }\n        }\n    }\n\n    private fun show(data: String) {\n        Log.d(\"Response\", data)\n    }\n}\n</code></pre>\n\n<h3>MainViewModel.kt</h3>\n\n<pre><code>abstract class MainViewModel : ViewModel() {\n\n    sealed class State {\n        data class One(val data: String) : State()\n        data class Two(val data: String) : State()\n        data class Three(val data: String) : State()\n    }\n\n    abstract fun state(): LiveData&lt;State&gt;\n\n    abstract fun fetchFirstThree()\n}\n</code></pre>\n\n<h3>MainViewModelImpl.kt</h3>\n\n<pre><code>class MainViewModelImpl : MainViewModel() {\n\n    private val stateLiveData: MediatorLiveData&lt;State&gt; = MediatorLiveData()\n\n    override fun state(): LiveData&lt;State&gt; = stateLiveData\n\n    override fun fetchFirstThree() {\n        stateLiveData.value = State.One(\"One\")\n        stateLiveData.value = State.Two(\"Two\")\n        stateLiveData.value = State.Three(\"Three\")\n    }\n}\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>Response: One\nResponse: Two\nResponse: Three\n</code></pre>\n\n<p>Actual Output:</p>\n\n<pre><code>Response: Three\n</code></pre>\n\n<p>As per the output above, the Observer is not being called for the first two values.</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "viewmodel", "convention"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527591696, "post_id": 50582568, "comment_id": 88174441, "body": "Relying on onPause/onResume will mean that in multi-window mode, your app &quot;stops receiving things&quot; when the other app has focus: it might be better to just use LiveData provided by Jetpack"}, {"owner": {"reputation": 985, "user_id": 6100078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7oT9.jpg?s=128&g=1", "display_name": "Igor Escodro", "link": "https://stackoverflow.com/users/6100078/igor-escodro"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527592423, "post_id": 50582568, "comment_id": 88174924, "body": "@EpicPandaForce, yes I&#39;m using LiveData in the actual project and using Lifecycle to control the states. This is just a snippet to exemplify the name convention. :)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1527592447, "post_id": 50582568, "comment_id": 88174943, "body": "In that case, you don&#39;t really need either connect nor disconnect, because you expose LiveData&lt;T&gt; and call <code>observe</code> on them."}], "answers": [{"comments": [{"owner": {"reputation": 2214, "user_id": 4729203, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83ef72e73541936fa5eae74e4703257c?s=128&d=identicon&r=PG&f=1", "display_name": "wonsuc", "link": "https://stackoverflow.com/users/4729203/wonsuc"}, "edited": false, "score": 0, "creation_date": 1595837355, "post_id": 50587099, "comment_id": 111601063, "body": "So if we use <code>LifecycleObserver</code>, what&#39;s the proper relation between <code>LifecycleObserver</code> and <code>ViewModel</code>? 1) A <code>ViewModel</code> implemented <code>LifecycleObserver</code> 2) A <code>ViewModel</code> has a <code>LifecycleObserver</code> as a property 3) A custom <code>LiveData</code> which owns <code>ViewModel</code> as a property 4) A <code>ViewModel</code> which owns custom <code>LiveData</code> as a property"}], "tags": [], "owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "is_accepted": true, "score": 3, "last_activity_date": 1527604714, "creation_date": 1527604714, "answer_id": 50587099, "question_id": 50582568, "link": "https://stackoverflow.com/questions/50582568/viewmodel-method-name-convention/50587099#50587099", "title": "ViewModel method name convention", "body": "<p>There is not a correct way, as long as the code is clean and easy to read/understand. But if you look at the <a href=\"https://developer.android.com/topic/libraries/architecture/lifecycle\" rel=\"nofollow noreferrer\">examples Android give</a>, they show methods similar to the ones you posted.</p>\n\n<p>1) One of the ways is to have an object with the methods named by Android lifecycle (Which you mentioned).</p>\n\n<pre><code>class MyLocationListener {\n    public MyLocationListener(Context context, Callback callback) {\n        // ...\n    }\n\n    void start() {\n        // connect to system location service\n    }\n\n    void stop() {\n        // disconnect from system location service\n    }\n}\n</code></pre>\n\n<p>Each function is manually called within the lifecycle owner like so:</p>\n\n<pre><code>@Override\npublic void onStart() {\n    super.onStart();\n    myLocationListener.start();\n    // manage other components that need to respond\n    // to the activity lifecycle\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    myLocationListener.stop();\n    // manage other components that need to respond\n    // to the activity lifecycle\n}\n</code></pre>\n\n<p>2) However, if you want to name the methods by their actions, you could accompany them methods with the <a href=\"https://developer.android.com/reference/android/arch/lifecycle/OnLifecycleEvent\" rel=\"nofollow noreferrer\">OnLifecycleEvent</a> annotation, which was excitingly brought to us in <a href=\"https://developer.android.com/jetpack/\" rel=\"nofollow noreferrer\">Android Jetpack</a>! So for example:</p>\n\n<pre><code>public class MyLocationListener implements LifecycleObserver {\n    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    public void connectListener() {\n        ...\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\n    public void disconnectListener() {\n        ...\n    }\n}\n</code></pre>\n\n<p>Now these methods are called automatically with the help of a <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LifecycleObserver\" rel=\"nofollow noreferrer\">LifecycleObserver</a> which can observe a <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LifecycleOwner\" rel=\"nofollow noreferrer\">LifecycleOwner</a>:</p>\n\n<pre><code>myLifecycleOwner.getLifecycle().addObserver(new MyLocationListener());\n</code></pre>\n\n<p>The <code>LifecycleOwner</code> is typically an <a href=\"https://developer.android.com/reference/android/app/Activity\" rel=\"nofollow noreferrer\">Activity</a> or <a href=\"https://developer.android.com/guide/components/fragments\" rel=\"nofollow noreferrer\">Fragment</a>. Up to you which one you choose, however my preferred is the <code>LifecycleObserver</code> as it requires less code, which I think makes it look cleaner.</p>\n\n<p>If your interested in good Android practices and some tips to help you along the way, there are a few good pages I would recommend:</p>\n\n<p><a href=\"https://github.com/futurice/android-best-practices\" rel=\"nofollow noreferrer\">- Android best practices</a></p>\n\n<p><a href=\"https://github.com/nisrulz/android-tips-tricks\" rel=\"nofollow noreferrer\">- Android tips &amp; tricks</a></p>\n\n<p><a href=\"https://github.com/codepath/android_guides/wiki/Must-Have-Libraries\" rel=\"nofollow noreferrer\">- Android must have libraries</a></p>\n"}], "owner": {"reputation": 985, "user_id": 6100078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7oT9.jpg?s=128&g=1", "display_name": "Igor Escodro", "link": "https://stackoverflow.com/users/6100078/igor-escodro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1070, "favorite_count": 0, "accepted_answer_id": 50587099, "answer_count": 1, "score": 3, "last_activity_date": 1527604714, "creation_date": 1527591159, "question_id": 50582568, "link": "https://stackoverflow.com/questions/50582568/viewmodel-method-name-convention", "title": "ViewModel method name convention", "body": "<p>What is the best way to name methods in the <code>ViewModel</code> classes? Based on its action/behavior or the lifecycle of the Activity/Fragment?</p>\n\n<p>For example:</p>\n\n<h3>Methods named by its action</h3>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    viewModel.connect()\n}\n\noverride fun onPause() {\n    super.onPause()\n    viewModel.disconnect()\n}\n\noverride fun onItemCheckedChanged(task: Task, value: Boolean) =\n    viewModel.updateTaskStatus(task, value)\n</code></pre>\n\n<h3>Methods named by Android lifecycle</h3>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n    viewModel.onResume()\n}\n\noverride fun onPause() {\n    super.onPause()\n    viewModel.onPause()\n}\n\noverride fun onItemCheckedChanged(task: Task, value: Boolean) =\n    viewModel.onItemCheckedChanged(task, value)\n</code></pre>\n\n<p>There are several examples in the internet and the two approaches are used.</p>\n\n<p>In my opinion, the methods should be related to the lifecycle, in this way the View does not need to know the logic behind the ViewModel, it just need to know that a lifecycle method need to be called.</p>\n\n<p>What is the best approach?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 1, "creation_date": 1527590789, "post_id": 50582369, "comment_id": 88173793, "body": "Try <code>answers[n].text</code>"}, {"owner": {"reputation": 1857, "user_id": 6329187, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WDkSs.jpg?s=128&g=1", "display_name": "sunfy", "link": "https://stackoverflow.com/users/6329187/sunfy"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1527591547, "post_id": 50582369, "comment_id": 88174331, "body": "Thanks, I forgot the property declaration. So it keeps telling me unresolved <code>text</code>"}, {"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1527591683, "post_id": 50582369, "comment_id": 88174429, "body": "Yeah you&#39;re right, I did not notice the missing <code>val</code>."}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 4, "creation_date": 1527591271, "post_id": 50582543, "comment_id": 88174121, "body": "Note: this is actually not the best solution performance-wise as it allocates a separate list and processes all the items of the original array, which is not necessary if you only need a single random item. Don&#39;t use it in performance-critical code."}, {"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1527591329, "post_id": 50582543, "comment_id": 88174166, "body": "@hotkey fully agree - I will expand the answer"}, {"owner": {"reputation": 1857, "user_id": 6329187, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WDkSs.jpg?s=128&g=1", "display_name": "sunfy", "link": "https://stackoverflow.com/users/6329187/sunfy"}, "edited": false, "score": 1, "creation_date": 1527591713, "post_id": 50582543, "comment_id": 88174455, "body": "Thanks, I forgot that surely, this solution is enlightening."}], "tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 12, "last_activity_date": 1601234527, "last_edit_date": 1601234527, "creation_date": 1527591090, "answer_id": 50582543, "question_id": 50582369, "link": "https://stackoverflow.com/questions/50582369/is-it-possible-to-get-an-random-element-from-an-enum-class-in-kotlin/50582543#50582543", "title": "Is it possible to get an random element from an enum class in kotlin?", "body": "<p>You can get a random enum value by doing:</p>\n<pre><code>val randomAnswer = Answer.values().toList().shuffled().first().text\n</code></pre>\n<p>Keep in mind that it goes for convenience over performance.</p>\n<hr />\n<p>Remember to expose the <code>text</code> property with <code>val</code>. For now, it's just a constructor param:</p>\n<pre><code>enum class Answer(val text: String)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "is_accepted": false, "score": 1, "last_activity_date": 1527592019, "creation_date": 1527592019, "answer_id": 50582837, "question_id": 50582369, "link": "https://stackoverflow.com/questions/50582369/is-it-possible-to-get-an-random-element-from-an-enum-class-in-kotlin/50582837#50582837", "title": "Is it possible to get an random element from an enum class in kotlin?", "body": "<p>When you write val/var within the constructor for a param, it declares a property inside the class. When you do not write it, it is simply a parameter passed to the primary constructor. So just add val to the constructor param text which will make it a property with a getter and above program will work..</p>\n\n<pre><code>import java.util.*\n\nclass Answers {\n    enum class Answer(val text: String) {\n        YES(\"Yes.\"),\n        No(\"No.\"),\n        MAYBE(\"Maybe.\"),\n        AGAIN(\"Ask again.\")\n    }\n    val answers: Array&lt;Answer&gt; = Answer.values()\n    val rand = Random()\n\n    fun genAnswer ():String {\n        val n = rand.nextInt(3)+1\n        return answers[n].text\n    }\n}\n\nfun main(String: Array&lt;String&gt;) {\n    print(Answers().genAnswer())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 7178068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d61d7226c31b5e48aba7ebb4bf9d72?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/7178068/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1564602423, "last_edit_date": 1564602423, "creation_date": 1564600110, "answer_id": 57297425, "question_id": 50582369, "link": "https://stackoverflow.com/questions/50582369/is-it-possible-to-get-an-random-element-from-an-enum-class-in-kotlin/57297425#57297425", "title": "Is it possible to get an random element from an enum class in kotlin?", "body": "<p>I use this generic functions for any type of enum</p>\n\n<pre><code>/**\n * return random enum value of enum class T\n */\ninline fun &lt;reified T : Enum&lt;T&gt;&gt; randomEnum(): T {\n    val enumValues: Array&lt;T&gt; = enumValues()\n    return enumValues[(0 until enumValues.size).random()]\n}\n\n/**\n * return random Int from start to end of range\n */\nfun IntRange.random(): Int =\n    Random().nextInt((endInclusive + 1) - start) + start\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30786, "user_id": 2252113, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/TTazp.png?s=128&g=1", "display_name": "Hitesh Sahu", "link": "https://stackoverflow.com/users/2252113/hitesh-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1612284278, "creation_date": 1612284278, "answer_id": 66013974, "question_id": 50582369, "link": "https://stackoverflow.com/questions/50582369/is-it-possible-to-get-an-random-element-from-an-enum-class-in-kotlin/66013974#66013974", "title": "Is it possible to get an random element from an enum class in kotlin?", "body": "<p>I had a Enum <code>SupportedLocale</code> with values for languages</p>\n<p>I did it in 2 steps</p>\n<p>Get a list of values for enum:</p>\n<pre><code>  val languages: Array&lt;SupportedLocale&gt; = SupportedLocale.values()\n</code></pre>\n<p>Now select random value using ordinate position</p>\n<pre><code> val randomLocale = languages[Random().nextInt(languages.size)]\n</code></pre>\n"}], "owner": {"reputation": 1857, "user_id": 6329187, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WDkSs.jpg?s=128&g=1", "display_name": "sunfy", "link": "https://stackoverflow.com/users/6329187/sunfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "accepted_answer_id": 50582543, "answer_count": 4, "score": 4, "last_activity_date": 1612285420, "creation_date": 1527590579, "last_edit_date": 1612285420, "question_id": 50582369, "link": "https://stackoverflow.com/questions/50582369/is-it-possible-to-get-an-random-element-from-an-enum-class-in-kotlin", "title": "Is it possible to get an random element from an enum class in kotlin?", "body": "<p>Like the title says</p>\n<pre><code>class Answers {\n    enum class Answer(text: String) {\n        YES(&quot;Yes.&quot;),\n        No(&quot;No.&quot;),\n        MAYBE(&quot;Maybe.&quot;),\n        AGAIN(&quot;Ask again.&quot;)\n    }\n    val answers = Answer.values()\n    val rand = Random()\n    fun genAnswer ():String {\n        val n = rand.nextInt(3)+1\n//        return Answer[answers[n]].text\n    }\n}\n</code></pre>\n<p>I want to pick an enum element randomly and return its text property, but it seems I can't use its value to retrieve the element.</p>\n<p>I think the info is sufficient.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 152158, "user_id": 871026, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TgXEW.png?s=128&g=1", "display_name": "Reimeus", "link": "https://stackoverflow.com/users/871026/reimeus"}, "edited": false, "score": 5, "creation_date": 1527587256, "post_id": 50581234, "comment_id": 88171620, "body": "have you tried anything yourself?"}, {"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "reply_to_user": {"reputation": 152158, "user_id": 871026, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TgXEW.png?s=128&g=1", "display_name": "Reimeus", "link": "https://stackoverflow.com/users/871026/reimeus"}, "edited": false, "score": 0, "creation_date": 1527587355, "post_id": 50581234, "comment_id": 88171674, "body": "I tried Adding Java code in Kotiln using Streams but that is supported only on API  levels 24 and higher"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1527587392, "post_id": 50581234, "comment_id": 88171704, "body": "Suggestion: try something else."}], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 3, "creation_date": 1527587758, "post_id": 50581392, "comment_id": 88171919, "body": "This way you&#39;ll create a new <code>Random</code> instance for each element, which is not very efficient"}], "tags": [], "owner": {"reputation": 4513, "user_id": 3416272, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xL2ZJ.jpg?s=128&g=1", "display_name": "Md Johirul Islam", "link": "https://stackoverflow.com/users/3416272/md-johirul-islam"}, "is_accepted": true, "score": 13, "last_activity_date": 1527588031, "last_edit_date": 1527588031, "creation_date": 1527587641, "answer_id": 50581392, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length/50581392#50581392", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>One option is to use the array constructor as following:</p>\n\n<pre><code>var amplititudes  = IntArray(10) { Random().nextInt() }.asList()\n</code></pre>\n\n<p>Another strategy is:</p>\n\n<pre><code>var amplititudes  = (1..10).map { Random().nextInt() }\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>As suggested in the comment instead of creating an instance of <code>Random</code> each time it is better to initialize it once:</p>\n\n<pre><code>var ran = Random()\nvar amplititudes  = (1..10).map { ran.nextInt() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48511, "user_id": 5558072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GFXl3bQPSrM/AAAAAAAAAAI/AAAAAAAAARY/Fvg3zPWA3x0/photo.jpg?sz=128", "display_name": "YCF_L", "link": "https://stackoverflow.com/users/5558072/ycf-l"}, "is_accepted": false, "score": 5, "last_activity_date": 1527588106, "creation_date": 1527588106, "answer_id": 50581554, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length/50581554#50581554", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>Based to the answer of <a href=\"https://stackoverflow.com/a/50581392/5558072\">@Md Johirul Islam</a> You can also use :</p>\n\n<pre><code>val from = 0\nval to = 11\nvar random = Random()\nvar amplititudes  = IntArray(10) { random.nextInt(to - from) +  from }.asList()\n</code></pre>\n\n<p>in this solution you can specify the range of ints that you want, from 0 to 10 for example</p>\n"}, {"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527588721, "post_id": 50581617, "comment_id": 88172509, "body": "Using <code>let</code> is very &quot;kotlin-style&#39; IMHO. It could be also <code>Random().let { ... }</code>, couldn&#39;t it?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1527588742, "post_id": 50581617, "comment_id": 88172521, "body": "Yes you can use the normal Random class in that case"}, {"owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "edited": false, "score": 0, "creation_date": 1527588928, "post_id": 50581617, "comment_id": 88172640, "body": "What is the importance of ThreadLocalRandom when compared to other methods mentioned in other answers?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1527589056, "post_id": 50581617, "comment_id": 88172726, "body": "Taken from the docs &quot;When applicable, use of ThreadLocalRandom rather than shared Random objects in concurrent programs will typically encounter much less overhead and contention.&quot; -&gt; in this case it&#39;s rather unimportant. What is important though: I instantiate it only once instead of multiple times using the scope function let"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527589282, "post_id": 50581617, "comment_id": 88172875, "body": "Repeated calls of <code>ThreadLocalRandom.get()</code> will yield the same instance anyway."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1527589314, "post_id": 50581617, "comment_id": 88172900, "body": "Yeah that is true but I&#39;d recommend the shown usage instead of an unnecessary local variable for it"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527589349, "post_id": 50581617, "comment_id": 88172915, "body": "You need neither <code>let</code> nor a local var if you call <code>ThreadLocalRandom.get()</code> repeatedly. OTOH there&#39;s still some small overhead you eliminate by calling it only once, the lookup code."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1527589927, "post_id": 50581617, "comment_id": 88173241, "body": "I can see that. Thank you"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1527588310, "creation_date": 1527588310, "answer_id": 50581617, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length/50581617#50581617", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>Maybe something like this:</p>\n\n<pre><code>val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\n    IntArray(5) { rnd.nextInt() }\n}\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>val amplitudes = ThreadLocalRandom.current().let { rnd -&gt;\n    (0..5).map { rnd.nextInt() }.toIntArray()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1547072462, "creation_date": 1547072462, "answer_id": 54119252, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length/54119252#54119252", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>Since Kotlin 1.3 was released there is no need to use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>java.util.Random</code></a> which would restrict your code to the JVM. Instead <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.random/-random/index.html\" rel=\"nofollow noreferrer\"><code>kotlin.random.Random</code></a> was introduced which is available on all platforms that support Kotlin.</p>\n\n<pre><code>var amplititudes  = IntArray(10) { Random.nextInt() }.asList()\n</code></pre>\n\n<p>Since you work with a companion object, you don't need to worry about instanting a <code>Random</code> object each iteration (like it was with the Java one that you would have had to put in a variable).</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 8573240, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fsz7uzxZAkk/AAAAAAAAAAI/AAAAAAAAAA8/BtAHZr5Y1HY/photo.jpg?sz=128", "display_name": "Mickey Mouse", "link": "https://stackoverflow.com/users/8573240/mickey-mouse"}, "is_accepted": false, "score": 0, "last_activity_date": 1557969040, "last_edit_date": 1557969040, "creation_date": 1557943154, "answer_id": 56155189, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length/56155189#56155189", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>To generate a random number of specified length of List and between certain limits, use:</p>\n\n<pre><code>val rnds = (1..10).map { (0..130).random() }\n</code></pre>\n\n<p>Where <code>(1..0)</code> -> return list of 10 items\n<code>(0..130)</code> -> return random number between given range</p>\n"}, {"tags": [], "owner": {"reputation": 1547, "user_id": 1756939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DU0b6.jpg?s=128&g=1", "display_name": "AndrewBloom", "link": "https://stackoverflow.com/users/1756939/andrewbloom"}, "is_accepted": false, "score": 0, "last_activity_date": 1576087954, "last_edit_date": 1576087954, "creation_date": 1576085557, "answer_id": 59291193, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length/59291193#59291193", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>At this time, is not specified in your question the range of the Ints and how many do you need.</p>\n\n<p>So I restrict the case to [n,m] interval, and I suppose you want all the m-n+1 elements.</p>\n\n<p>Taking advantage of method shuffle of ArrayList, </p>\n\n<pre><code>var shuffledList = ArrayList((n..m).toList())\nshuffledList.shuffle()\n</code></pre>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5730, "favorite_count": 0, "accepted_answer_id": 50581392, "answer_count": 6, "score": 5, "last_activity_date": 1591856880, "creation_date": 1527587158, "last_edit_date": 1527667626, "question_id": 50581234, "link": "https://stackoverflow.com/questions/50581234/kotlin-create-an-arraylist-of-random-integers-of-specified-length", "title": "Kotlin - Create an ArrayList of random Integers of specified length?", "body": "<p>I have an <code>ArrayList</code> like this :</p>\n\n<pre><code>var amplititudes : ArrayList&lt;Int&gt; = ArrayList()\n</code></pre>\n\n<p>I want to populate this with random Ints. How can I do this?</p>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-plugin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1527587052, "post_id": 50580413, "comment_id": 88171478, "body": "What is exactly the exception that you get?"}, {"owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1527587658, "post_id": 50580413, "comment_id": 88171854, "body": "Sorry for not adding it. Please check updated question."}, {"owner": {"reputation": 5576, "user_id": 767632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75a05c23a398c887e8f085b9c870586c?s=128&d=identicon&r=PG", "display_name": "yeputons", "link": "https://stackoverflow.com/users/767632/yeputons"}, "edited": false, "score": 0, "creation_date": 1527588241, "post_id": 50580413, "comment_id": 88172198, "body": "What is your <code>plugin.xml</code> and how exactly do you run the testing IDE?  What exact tutorial have you followed/how did you create the project? Do you use the <code>IDEA</code> target generated in the plugin project for running? The exception looks like a misconfiguration."}, {"owner": {"reputation": 5576, "user_id": 767632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75a05c23a398c887e8f085b9c870586c?s=128&d=identicon&r=PG", "display_name": "yeputons", "link": "https://stackoverflow.com/users/767632/yeputons"}, "edited": false, "score": 0, "creation_date": 1527590207, "post_id": 50580413, "comment_id": 88173408, "body": "Would you mind providing <i>full</i> code of your classes? Including imports, package names, etc."}, {"owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "edited": false, "score": 0, "creation_date": 1527590209, "post_id": 50580413, "comment_id": 88173409, "body": "Understood. I was trying to minimise the content in question. Now I added more details. Please find attached <code>plugin.xml</code> file and <code>build.gradle</code> as well. For testing the plugin I&#39;m running <code>runIde</code> Gradle task. In addition I updated Java classes to include imports and packages."}, {"owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "edited": false, "score": 1, "creation_date": 1527590570, "post_id": 50580413, "comment_id": 88173660, "body": "I added a link to repository where the whole project code resides. Thank you for your time."}, {"owner": {"reputation": 5576, "user_id": 767632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75a05c23a398c887e8f085b9c870586c?s=128&d=identicon&r=PG", "display_name": "yeputons", "link": "https://stackoverflow.com/users/767632/yeputons"}, "edited": false, "score": 0, "creation_date": 1527595374, "post_id": 50580413, "comment_id": 88176911, "body": "@VadimSalajan Wild guess: what if you rename <code>src&#47;main&#47;src&#47;com&#47;...</code> to <code>src&#47;main&#47;java&#47;com&#47;...</code>?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1535811321, "post_id": 50580413, "comment_id": 91208289, "body": "@VadimSalajan, what kotlin library you include to get access to <code>AbstractKotlinInspection</code>?"}, {"owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "edited": false, "score": 0, "creation_date": 1535900732, "post_id": 50580413, "comment_id": 91226111, "body": "In mine <i>build.gradle</i> file I added <code>plugins &#39;kotlin&#39;</code> which added the Kotlin plugin and this way I can get access to Kotlin PSI classes."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "edited": false, "score": 0, "creation_date": 1527596898, "post_id": 50584053, "comment_id": 88177976, "body": "Indeed you are right. This is the solution, wrong names of root folder name. The crash you see right now it&#39;s because of not overriding a method to provider group display name. If I&#39;m fixing this warning, no more crashes. Thank you very much for your help!!!"}], "tags": [], "owner": {"reputation": 5576, "user_id": 767632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75a05c23a398c887e8f085b9c870586c?s=128&d=identicon&r=PG", "display_name": "yeputons", "link": "https://stackoverflow.com/users/767632/yeputons"}, "is_accepted": true, "score": 1, "last_activity_date": 1527595719, "creation_date": 1527595719, "answer_id": 50584053, "question_id": 50580413, "link": "https://stackoverflow.com/questions/50580413/how-to-create-a-custom-kotlin-inspection-for-intellij-idea-programmatically/50584053#50584053", "title": "How to create a custom Kotlin Inspection for Intellij Idea programmatically", "body": "<p>After I've imported your GitHub repo and built it locally I've found out that <code>./build/libs/kotlin.inspections-1.0-SNAPSHOT.jar</code> includes <code>META-INF</code> only, but no classes. I suspect it's because your source code is located under <code>./src/main/src</code>, not <code>./src/main/java</code> as it's typical for Gradle projects, so it simply assumes you have no code at all.</p>\n\n<p>After renaming that inner <code>src</code> directory into <code>java</code> the error changed to </p>\n\n<pre><code>class com.magicbytes.kotlin.inspections.ExampleInspection: group display name should be overridden or configured via XML class com.magicbytes.kotlin.inspections.ExampleInspection\njava.lang.Throwable: class com.magicbytes.kotlin.inspections.ExampleInspection: group display name should be overridden or configured via XML class com.magicbytes.kotlin.inspections.ExampleInspection\n    at com.intellij.openapi.diagnostic.Logger.error(Logger.java:123)\n    at com.intellij.codeInspection.InspectionProfileEntry.getGroupDisplayName(InspectionProfileEntry.java:230)\n    at com.intellij.codeInspection.InspectionProfileEntry.getGroupPath(InspectionProfileEntry.java:239)\n    at com.intellij.codeInspection.ex.InspectionToolWrapper.getGroupPath(InspectionToolWrapper.java:161)\n    at com.intellij.codeInspection.ex.InspectionSearchableOptionContributor.processOptions(InspectionSearchableOptionContributor.java:40)\n    at com.intellij.ide.ui.search.SearchableOptionPreloader.preload(SearchableOptionPreloader.java:49)\n    at com.intellij.openapi.application.Preloader.lambda$null$0(Preloader.java:74)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:580)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:525)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:85)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)\n    at com.intellij.openapi.application.Preloader.lambda$initComponent$1(Preloader.java:72)\n    at com.intellij.util.concurrency.BoundedTaskExecutor$2.run(BoundedTaskExecutor.java:212)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>which is much better and looks like a separate problem with your code violating some contract.</p>\n"}], "owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 1, "accepted_answer_id": 50584053, "answer_count": 1, "score": 3, "last_activity_date": 1527595719, "creation_date": 1527584750, "last_edit_date": 1527590327, "question_id": 50580413, "link": "https://stackoverflow.com/questions/50580413/how-to-create-a-custom-kotlin-inspection-for-intellij-idea-programmatically", "title": "How to create a custom Kotlin Inspection for Intellij Idea programmatically", "body": "<p>I want to create a plugin for Intellij Idea which provides additional inspections for Kotlin language. Following the example from official documentation for creating inspections for Java, I ended up with following code, which is not working.</p>\n\n<p>Here is the link to a repository with this project: <a href=\"https://bitbucket.org/magycbytes/kotlin-inspections/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/magycbytes/kotlin-inspections/src/master/</a></p>\n\n<p>Links to example I followed:</p>\n\n<ul>\n<li>docummentation page: <a href=\"https://www.jetbrains.org/intellij/sdk/docs/tutorials/code_inspections.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.org/intellij/sdk/docs/tutorials/code_inspections.html</a></li>\n<li>example project: <a href=\"https://github.com/JetBrains/intellij-sdk-docs/tree/master/code_samples/comparing_references_inspection\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-sdk-docs/tree/master/code_samples/comparing_references_inspection</a></li>\n</ul>\n\n<p>This is the provider for inspections.</p>\n\n<pre><code>package com.magicbytes.kotlin.inspections;\n\nimport com.intellij.codeInspection.InspectionToolProvider;\nimport com.magicbytes.kotlin.inspections.ExampleInspection;\nimport org.jetbrains.annotations.NotNull;\n\npublic class ExampleProvider implements InspectionToolProvider {\n    @NotNull\n    @Override\n    public Class[] getInspectionClasses() {\n        return new Class[]{ExampleInspection.class};\n    }\n}\n</code></pre>\n\n<p>This is the actual inspection subclass. For the sake of shortness it's doing nothing, but should be loaded. Note: I changed the superclass to <strong>AbstractKotlinInspection</strong></p>\n\n<pre><code>package com.magicbytes.kotlin.inspections;\n\nimport org.jetbrains.annotations.Nls;\nimport org.jetbrains.annotations.NotNull;\nimport org.jetbrains.kotlin.idea.inspections.AbstractKotlinInspection;\n\npublic class ExampleInspection extends AbstractKotlinInspection {\n    @Nls\n    @NotNull\n    @Override\n    public String getDisplayName() {\n        return \"Kotlin Test\";\n    }\n}\n</code></pre>\n\n<p>My <code>buid.gradle</code> file looks like this:</p>\n\n<pre><code>plugins {\n    id 'java'\n    id 'org.jetbrains.intellij' version '0.3.2'\n}\n\ngroup 'com.magicbytes'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\nintellij {\n    version '2018.1.4'\n    plugins 'kotlin'\n}\n</code></pre>\n\n<p>Mine <code>plugin.xml</code> looks like this:</p>\n\n<pre><code>&lt;idea-plugin&gt;\n    &lt;id&gt;com.magicbytes.kotlin.inspections&lt;/id&gt;\n    &lt;name&gt;Plugin display name here&lt;/name&gt;\n    &lt;description&gt;&lt;/description&gt;\n\n    &lt;depends&gt;org.jetbrains.kotlin&lt;/depends&gt;\n\n    &lt;extensions defaultExtensionNs=\"com.intellij\"&gt;\n        &lt;!-- Add your extensions here --&gt;\n        &lt;inspectionToolProvider implementation=\"com.magicbytes.kotlin.inspections.ExampleProvider\"/&gt;\n    &lt;/extensions&gt;\n\n    &lt;actions&gt;\n    &lt;/actions&gt;\n&lt;/idea-plugin&gt;\n</code></pre>\n\n<p>I did all the linking with <em>plugin.xml</em> file. But when I'm running I'm getting exception in testing IDE. Appreciate any insight. NOTE: I'm using <code>runIde</code> to debug the plugin.</p>\n\n<p>Exception which I'm getting..</p>\n\n<pre><code> java.lang.ClassNotFoundException: ExampleProvider PluginClassLoader[com.magicbytes.kotlin.inspections, 1.0-SNAPSHOT] com.intellij.ide.plugins.cl.PluginClassLoader@6f989177\ncom.intellij.openapi.extensions.impl.PicoPluginExtensionInitializationException: java.lang.ClassNotFoundException: ExampleProvider PluginClassLoader[com.magicbytes.kotlin.inspections, 1.0-SNAPSHOT] com.intellij.ide.plugins.cl.PluginClassLoader@6f989177\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getComponentInstance(ExtensionComponentAdapter.java:96)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getExtension(ExtensionComponentAdapter.java:119)\n    at com.intellij.openapi.extensions.impl.ExtensionPointImpl.processAdapters(ExtensionPointImpl.java:246)\n    at com.intellij.openapi.extensions.impl.ExtensionPointImpl.getExtensions(ExtensionPointImpl.java:191)\n    at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:102)\n    at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:89)\n    at com.intellij.openapi.extensions.ExtensionPointName.getExtensions(ExtensionPointName.java:50)\n    at com.intellij.codeInspection.ex.InspectionToolRegistrar.ensureInitialized(InspectionToolRegistrar.java:54)\n    at com.intellij.codeInspection.ex.InspectionToolRegistrar.createTools(InspectionToolRegistrar.java:127)\n    at com.intellij.codeInspection.ex.InspectionSearchableOptionContributor.processOptions(InspectionSearchableOptionContributor.java:34)\n    at com.intellij.ide.ui.search.SearchableOptionPreloader.preload(SearchableOptionPreloader.java:49)\n    at com.intellij.openapi.application.Preloader.lambda$null$0(Preloader.java:74)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:543)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:488)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)\n    at com.intellij.openapi.application.Preloader.lambda$initComponent$1(Preloader.java:72)\n    at com.intellij.util.concurrency.BoundedTaskExecutor$2.run(BoundedTaskExecutor.java:212)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: ExampleProvider PluginClassLoader[com.magicbytes.kotlin.inspections, 1.0-SNAPSHOT] com.intellij.ide.plugins.cl.PluginClassLoader@6f989177\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.loadImplementationClass(ExtensionComponentAdapter.java:161)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getComponentImplementation(ExtensionComponentAdapter.java:66)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getComponentInstance(ExtensionComponentAdapter.java:73)\n    ... 21 more\nCaused by: java.lang.ClassNotFoundException: ExampleProvider PluginClassLoader[com.magicbytes.kotlin.inspections, 1.0-SNAPSHOT] com.intellij.ide.plugins.cl.PluginClassLoader@6f989177\n    at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:63)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.loadImplementationClass(ExtensionComponentAdapter.java:158)\n    ... 23 more\nCaused by:\n\njava.lang.RuntimeException: java.lang.ClassNotFoundException: ExampleProvider PluginClassLoader[com.magicbytes.kotlin.inspections, 1.0-SNAPSHOT] com.intellij.ide.plugins.cl.PluginClassLoader@6f989177\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.loadImplementationClass(ExtensionComponentAdapter.java:161)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getComponentImplementation(ExtensionComponentAdapter.java:66)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getComponentInstance(ExtensionComponentAdapter.java:73)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.getExtension(ExtensionComponentAdapter.java:119)\n    at com.intellij.openapi.extensions.impl.ExtensionPointImpl.processAdapters(ExtensionPointImpl.java:246)\n    at com.intellij.openapi.extensions.impl.ExtensionPointImpl.getExtensions(ExtensionPointImpl.java:191)\n    at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:102)\n    at com.intellij.openapi.extensions.Extensions.getExtensions(Extensions.java:89)\n    at com.intellij.openapi.extensions.ExtensionPointName.getExtensions(ExtensionPointName.java:50)\n    at com.intellij.codeInspection.ex.InspectionToolRegistrar.ensureInitialized(InspectionToolRegistrar.java:54)\n    at com.intellij.codeInspection.ex.InspectionToolRegistrar.createTools(InspectionToolRegistrar.java:127)\n    at com.intellij.codeInspection.ex.InspectionSearchableOptionContributor.processOptions(InspectionSearchableOptionContributor.java:34)\n    at com.intellij.ide.ui.search.SearchableOptionPreloader.preload(SearchableOptionPreloader.java:49)\n    at com.intellij.openapi.application.Preloader.lambda$null$0(Preloader.java:74)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$1(CoreProgressManager.java:157)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:543)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:488)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:94)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:144)\n    at com.intellij.openapi.application.Preloader.lambda$initComponent$1(Preloader.java:72)\n    at com.intellij.util.concurrency.BoundedTaskExecutor$2.run(BoundedTaskExecutor.java:212)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.ClassNotFoundException: ExampleProvider PluginClassLoader[com.magicbytes.kotlin.inspections, 1.0-SNAPSHOT] com.intellij.ide.plugins.cl.PluginClassLoader@6f989177\n    at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:63)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at com.intellij.openapi.extensions.impl.ExtensionComponentAdapter.loadImplementationClass(ExtensionComponentAdapter.java:158)\n    ... 23 more\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 15, "last_activity_date": 1609830331, "last_edit_date": 1609830331, "creation_date": 1527584483, "answer_id": 50580320, "question_id": 50580240, "link": "https://stackoverflow.com/questions/50580240/kotlin-get-maximum-value-in-arraylist-of-ints/50580320#50580320", "title": "Kotlin - Get Maximum value in ArrayList of Ints", "body": "<p>You can use built-in functionality with <code>maxOrNull</code> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-or-null.html\" rel=\"noreferrer\">docs</a>):</p>\n<pre><code>val amplitudes = listOf(1,2,3,4,3,2,1)\nval max = amplitudes.maxOrNull() ?: 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 3, "last_activity_date": 1527584532, "creation_date": 1527584532, "answer_id": 50580342, "question_id": 50580240, "link": "https://stackoverflow.com/questions/50580240/kotlin-get-maximum-value-in-arraylist-of-ints/50580342#50580342", "title": "Kotlin - Get Maximum value in ArrayList of Ints", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max.html\" rel=\"nofollow noreferrer\"><code>max()</code></a>, if you want to use the default comparison (as in your case with <code>int</code>s), or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-by.html\" rel=\"nofollow noreferrer\"><code>maxBy</code></a>, if you want to use a custom <code>selector</code> (i.e., algorithm) to compare values.</p>\n\n<p>Note that both return <code>int?</code> (in your case), since the collection might be empty (i.e., no maximum value is present)</p>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1606054588, "post_id": 64955083, "comment_id": 114836882, "body": "plus 1, but please provide an example (as in the other answers) to make your answer complete."}], "tags": [], "owner": {"reputation": 1782, "user_id": 4690298, "user_type": "registered", "profile_image": "https://graph.facebook.com/878678598884932/picture?type=large", "display_name": "Amjad Alwareh", "link": "https://stackoverflow.com/users/4690298/amjad-alwareh"}, "is_accepted": false, "score": 5, "last_activity_date": 1606055553, "last_edit_date": 1606055553, "creation_date": 1606053826, "answer_id": 64955083, "question_id": 50580240, "link": "https://stackoverflow.com/questions/50580240/kotlin-get-maximum-value-in-arraylist-of-ints/64955083#64955083", "title": "Kotlin - Get Maximum value in ArrayList of Ints", "body": "<p><code>max()</code> becomes deprecated starting from Kotlin 1.4, please use <code>maxOrNull()</code></p>\n<pre><code>val list = listOf(10, 2, 33)\nval max: Int = list.maxOrNull() ?: 0\n</code></pre>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9914, "favorite_count": 0, "accepted_answer_id": 50580320, "answer_count": 3, "score": 14, "last_activity_date": 1609830331, "creation_date": 1527584243, "last_edit_date": 1606054516, "question_id": 50580240, "link": "https://stackoverflow.com/questions/50580240/kotlin-get-maximum-value-in-arraylist-of-ints", "title": "Kotlin - Get Maximum value in ArrayList of Ints", "body": "<p>I have this <code>ArrayList</code></p>\n<pre><code>var amplititudes: ArrayList&lt;Int&gt; = ArrayList()\namplititudes.add(1)\namplititudes.add(2)\namplititudes.add(3)\namplititudes.add(4)\namplititudes.add(3)\namplititudes.add(2)\namplititudes.add(1)\n</code></pre>\n<p>I want to get the maximum value i.e 4. What will be the easiest way to find the max element? I know about the <code>max()</code> method , but it will forces me to use <code>?</code> with the return value since it could be <code>null</code>. Is there any solution which is better than this?</p>\n"}, {"tags": ["android", "kotlin", "apk", "decompiling"], "comments": [{"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "edited": false, "score": 1, "creation_date": 1527580716, "post_id": 50579169, "comment_id": 88167493, "body": "you can&#39;t detect"}, {"owner": {"reputation": 695, "user_id": 9663835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f14290406c3a2a269845d60742d47b?s=128&d=identicon&r=PG&f=1", "display_name": "R. Garc&#237;a", "link": "https://stackoverflow.com/users/9663835/r-garc%c3%ada"}, "edited": false, "score": 1, "creation_date": 1527580783, "post_id": 50579169, "comment_id": 88167532, "body": "You could do reverse engineering with this <a href=\"https://ibotpeaches.github.io/Apktool/\" rel=\"nofollow noreferrer\">Tool</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1527580903, "post_id": 50579169, "comment_id": 88167599, "body": "Are you doing this by hand or writing an automated tool? I think automating it will boil down to a bag of heuristic tricks, and still be unreliable."}, {"owner": {"reputation": 105, "user_id": 4759998, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206765259158393/picture?type=large", "display_name": "Elena Root", "link": "https://stackoverflow.com/users/4759998/elena-root"}, "edited": false, "score": 0, "creation_date": 1527583657, "post_id": 50579169, "comment_id": 88169206, "body": "For now, I just need to detect if it was written in kotlin(partly or whole). I have apktool, jeb and dex2jar. Thanks!"}, {"owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "edited": false, "score": 1, "creation_date": 1527772715, "post_id": 50579169, "comment_id": 88260523, "body": "Is the <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.7.10\" rel=\"nofollow noreferrer\">SourceFile</a> attribute preserved across the round-trip conversion to dex and back?  If so, presumably the value would be a file name with a <code>.kt</code> extension.  I wouldn&#39;t rely solely on that, as it&#39;s an <i>optional</i> attribute anyway, but you could combine it with @voddan&#39;s suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4759998, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206765259158393/picture?type=large", "display_name": "Elena Root", "link": "https://stackoverflow.com/users/4759998/elena-root"}, "edited": false, "score": 0, "creation_date": 1527584932, "post_id": 50580107, "comment_id": 88170007, "body": "What do you think if I just will search for the string &quot;kotlin.Metadata&quot;? Would it be sufficient?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1527588247, "post_id": 50580107, "comment_id": 88172201, "body": "You could have false positives in case someone, for any reason, puts that string into their Java application. But on the other side, they could also create an annotation called <code>kotlin.Metadata</code> I guess, so you could get false positives, also with that strategy. In my opinion it&#39;s unlikely for someone to put that string into their application, so I think it could be a good approximation"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 105, "user_id": 4759998, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206765259158393/picture?type=large", "display_name": "Elena Root", "link": "https://stackoverflow.com/users/4759998/elena-root"}, "edited": false, "score": 0, "creation_date": 1527606569, "post_id": 50580107, "comment_id": 88184571, "body": "@ElenaRoot what&#39;s wrong with loading the class and checking if it is annotated with this annotation via reflection?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1527606633, "post_id": 50580107, "comment_id": 88184613, "body": "Alternatively, you can do that manually by using a bytecode viewer and again, checking for the annotation"}, {"owner": {"reputation": 105, "user_id": 4759998, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206765259158393/picture?type=large", "display_name": "Elena Root", "link": "https://stackoverflow.com/users/4759998/elena-root"}, "edited": false, "score": 0, "creation_date": 1527612373, "post_id": 50580107, "comment_id": 88187788, "body": "@voddan I checked on 100 apks existence of &quot;kotlin/Metadata&quot; and only half of them contain this string."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 5, "last_activity_date": 1527583856, "creation_date": 1527583856, "answer_id": 50580107, "question_id": 50579169, "link": "https://stackoverflow.com/questions/50579169/how-do-i-detect-if-the-app-is-written-in-kotlin-given-an-apk-file/50580107#50580107", "title": "How do I detect if the app is written in Kotlin, given an APK file?", "body": "<p>Kotlin compiler saves its metadata about every Kotlin class into a runtime annotation <code>@kotlin.Metadata</code> which should be preserved into APK. So to detect Kotlin classes all you need to do is to detect this annotation.</p>\n"}], "owner": {"reputation": 105, "user_id": 4759998, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206765259158393/picture?type=large", "display_name": "Elena Root", "link": "https://stackoverflow.com/users/4759998/elena-root"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527583856, "creation_date": 1527580637, "question_id": 50579169, "link": "https://stackoverflow.com/questions/50579169/how-do-i-detect-if-the-app-is-written-in-kotlin-given-an-apk-file", "title": "How do I detect if the app is written in Kotlin, given an APK file?", "body": "<p>I have multiple APK files, and I would like to know if they were created with Kotlin. Some unique strings, imports? \nAs I understand, looking only by the word 'kotlin' can give me some false results. \nThanks!</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 7160135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6578aac938b0d0c4ccdad98aa47ba4?s=128&d=identicon&r=PG&f=1", "display_name": "Deep", "link": "https://stackoverflow.com/users/7160135/deep"}, "edited": false, "score": 0, "creation_date": 1567744840, "post_id": 50578766, "comment_id": 102062502, "body": "I forgot to add   <b>AndroidInjection.inject(this)</b> . Thank you @David."}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": true, "score": 26, "last_activity_date": 1527579147, "creation_date": 1527579147, "answer_id": 50578766, "question_id": 50578618, "link": "https://stackoverflow.com/questions/50578618/uninitializedpropertyaccessexception-lateinit-property-pref-has-not-been-initia/50578766#50578766", "title": "UninitializedPropertyAccessException: lateinit property pref has not been initialized", "body": "<p>You can't use an object before you initialize it.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(savedInstanceState) // prefs called in parents onCreate!\n  setContentView(R.layout.activity_login)\n  AndroidInjection.inject(this) // injection happens here\n</code></pre>\n\n<p>Get your calls in order. Easiest way to fix would be to move <code>AndroidInjection.inject(this)</code> before the call to <code>super.onCreate(...)</code>.</p>\n"}], "owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50621, "favorite_count": 4, "accepted_answer_id": 50578766, "answer_count": 1, "score": 23, "last_activity_date": 1586844671, "creation_date": 1527578678, "last_edit_date": 1586844671, "question_id": 50578618, "link": "https://stackoverflow.com/questions/50578618/uninitializedpropertyaccessexception-lateinit-property-pref-has-not-been-initia", "title": "UninitializedPropertyAccessException: lateinit property pref has not been initialized", "body": "<p>I know a similar question has been answered <a href=\"https://stackoverflow.com/questions/40176083/lateinit-property-has-not-been-initialized\">Here</a>. But that was due to butter knife library problem but my case is different. In my case when I use dagger injected properties in my base activity it shows me error <strong>Caused by: kotlin.UninitializedPropertyAccessException: lateinit property pref has not been initialized</strong></p>\n\n<p>But the same property when I use in my sub activity (Login activity) it works fine. </p>\n\n<p>eg. <strong>pref.setLanguage(\"abc\") -> it works fine in login activity but throws error in base activity</strong> </p>\n\n<p>Here is my code:</p>\n\n<p><strong>BaseActivity</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    abstract class BaseActivity : AppCompatActivity() {\n    @Inject\n    lateinit var pref: AppSharedPreferences\n    @Inject\n    lateinit var utils: Utils\n    lateinit var mCurrentLanguage: String\n    protected lateinit var progressBarUtils: ProgressBarUtils\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        progressBarUtils = ProgressBarUtils(this)\n        mCurrentLanguage = \"EN\"\n        pref.setSelectedLanguage(mCurrentLanguage)   \n    }\n    }\n</code></pre>\n\n<p><strong>LoginActivity</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    class LoginActivity : BaseActivity() {\n    private val TAG = this.javaClass.name\n    lateinit var loginViewModel: LoginViewModel\n    @Inject\n    lateinit var viewModelFactory: LoginViewModelFactory\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n        AndroidInjection.inject(this)\n        loginViewModel = ViewModelProviders.of(this, viewModelFactory).get(\n                LoginViewModel::class.java)\n        loadData(\"abc\", \"xyz\")\n        observerOnLoginResult()\n        observerOnLoginError()\n    }\n\n\n    private fun observerOnLoginError() {\n        loginViewModel.loginError().observe(this, Observer&lt;String&gt; {\n            progressBarUtils.cancelProgressDialog()\n            if (it != null) {\n                Toast.makeText(this, resources.getString(R.string.error_message) + it,\n                        Toast.LENGTH_SHORT).show()\n            }\n        })\n    }\n\n    private fun observerOnLoginResult() {\n        loginViewModel.loginResult().observe(this,\n                Observer&lt;LoginModel&gt; {\n                    progressBarUtils.cancelProgressDialog()\n                    if (it != null) {\n                        setData(it)\n                    }\n                })\n    }\n\n    private fun setData(loginData: LoginModel) {\n        pref.setCurrentUserName(loginData.data.userName)\n    }\n\n    private fun loadData(email: String, password: String) {\n        progressBarUtils.showProgressDialog()\n        val builder = StringBuilder()\n        var auth = Base64.encodeToString((\"$email:$password\").toByteArray(), Base64.NO_WRAP)\n        builder.append(\"Basic \")\n        builder.append(auth)\n        loginViewModel.getLoginData(builder.toString())\n    }\n\n    override fun onDestroy() {\n        loginViewModel.disposeElements()\n        super.onDestroy()\n    }\n</code></pre>\n\n<p><strong>AppModule</strong>  </p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Module class AppModule(val app: Application) {\n\n    @Provides\n    @Singleton\n    fun provideApplication(): Application = app\n\n\n    @Provides\n    @Singleton\n    fun provideSharedPreferences(): AppSharedPreferences = AppSharedPreferences(app)\n\n\n    @Provides\n    @Singleton\n    fun provideUtils(): Utils = Utils(app)\n    }\n</code></pre>\n\n<p><strong>Builder Module</strong>    </p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Module abstract class BuildersModule {\n\n    @PerActivity\n    @ContributesAndroidInjector(modules = arrayOf(LoginModule::class))\n    abstract fun contributeLoginActivity(): LoginActivity\n\n    @PerActivity\n    abstract fun contributeBaseActivityActivity(): BaseActivity\n    }\n</code></pre>\n\n<p><strong>AppComponent</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @Singleton @Component(\n        modules = arrayOf(AndroidInjectionModule::class, AppModule::class, BuildersModule::class))\n\n    interface AppComponent { \n      fun inject(app: LotusApp)            \n    }\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "edited": false, "score": 0, "creation_date": 1527578124, "post_id": 50578347, "comment_id": 88165929, "body": "Ah nice, Thank you."}, {"owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "edited": false, "score": 0, "creation_date": 1527579713, "post_id": 50578347, "comment_id": 88166855, "body": "I did as you suggested in my code i am expecting return type <code>Observable&lt;Result&lt;WSResponse&gt;&gt;</code> from <code>.retrofitResponseToResult()</code> but it returns <code>Observable&lt;Result&lt;Result&lt;WSResponse&gt;&gt;&gt;</code> this looks strange to me."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1527579019, "last_edit_date": 1527579019, "creation_date": 1527577863, "answer_id": 50578347, "question_id": 50578248, "link": "https://stackoverflow.com/questions/50578248/kotlin-dataclasses-inside-sealed-class/50578347#50578347", "title": "Kotlin dataclasses inside sealed class", "body": "<p>Sealed classes are abstract and cannot be instantiated. You should rather instantiate <code>Success</code> or <code>Error</code> instead.</p>\n\n<pre><code>fun &lt;T&gt; T.asResult(): Result&lt;T&gt; {\n    return Result.Success(this)\n}\n\nfun &lt;T&gt; Throwable.asErrorResult(): Result&lt;T&gt; {\n    return Result.Error(this)\n}\n</code></pre>\n\n<p>Sealed Classes are a tool for providing restricted class hierarchies.</p>\n"}], "owner": {"reputation": 5621, "user_id": 5275639, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/13aVl.jpg?s=128&g=1", "display_name": "Zeeshan Shabbir", "link": "https://stackoverflow.com/users/5275639/zeeshan-shabbir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 50578347, "answer_count": 1, "score": 0, "last_activity_date": 1527579019, "creation_date": 1527577526, "question_id": 50578248, "link": "https://stackoverflow.com/questions/50578248/kotlin-dataclasses-inside-sealed-class", "title": "Kotlin dataclasses inside sealed class", "body": "<p>I am new to kotlin. I am trying to handle errors in rxjava with kotlin. For that i have written following sealed class and some extension. </p>\n\n<pre><code>sealed class Result&lt;out T&gt; {\n    data class Success&lt;out T&gt;(val data: T) : Result&lt;T&gt;()\n    data class Error&lt;out T&gt;(val t: Throwable) : Result&lt;T&gt;()\n}\n</code></pre>\n\n<p>How to instantiate Result? Since its sealed class i am unable to do so. Following are the extensions that i have written.</p>\n\n<pre><code>fun &lt;T&gt; Observable&lt;T&gt;.retrofitResponseToResult(): Observable&lt;Result&lt;T&gt;&gt; {\n    return this.map { it.asResult() }\n            .onErrorReturn {\n                if (it is HttpException || it is IOException) {\n                    return@onErrorReturn it.asErrorResult&lt;T&gt;()\n                } else {\n                    throw it\n                }\n            }\n}\n\nfun &lt;T&gt; T.asResult(): Result&lt;T&gt; {\n    return Result(data = this, error = null)\n}\n\nfun &lt;T&gt; Throwable.asErrorResult(): Result&lt;T&gt; {\n    return Result(data = null, error = this)\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1527590770, "post_id": 50578171, "comment_id": 88173780, "body": "Is this kotlinjs you&#39;re talking about?"}, {"owner": {"reputation": 2178, "user_id": 7199720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TosjU.jpg?s=128&g=1", "display_name": "Leone", "link": "https://stackoverflow.com/users/7199720/leone"}, "reply_to_user": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1527592690, "post_id": 50578171, "comment_id": 88175104, "body": "@MuliYulzary Not really. Just kotlin. I mentioned about ES6/TS just because there is a spread object operator there which I couldn&#39;t find an equivalent for in kotlin."}, {"owner": {"reputation": 2489, "user_id": 2652883, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7ee801449f10d68835921e687e60e1c1?s=128&d=identicon&r=PG&f=1", "display_name": "Muli Yulzary", "link": "https://stackoverflow.com/users/2652883/muli-yulzary"}, "edited": false, "score": 0, "creation_date": 1527597314, "post_id": 50578171, "comment_id": 88178286, "body": "There&#39;s a spread operator in Kotlin but it&#39;s only for arrays and only for vararg params. AFAIK There&#39;s nothing equivalent in Kotlin."}, {"owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1527607520, "post_id": 50578171, "comment_id": 88185146, "body": "Can you write what should be returned in your two sample cases? <code>return { ...options, text: dataFromDb.name }</code> should become <code>return { height: 45, text: dataFromDb.name }</code> and <code>return { width: 25, id: &quot;some-id&quot;, text: dataFromDb.name }</code> analogically?"}, {"owner": {"reputation": 2178, "user_id": 7199720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TosjU.jpg?s=128&g=1", "display_name": "Leone", "link": "https://stackoverflow.com/users/7199720/leone"}, "reply_to_user": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "edited": false, "score": 0, "creation_date": 1527664516, "post_id": 50578171, "comment_id": 88206060, "body": "@michalbrz Yes, it should return those. The spread operator enables me to avoid having to know before-hand and list out all the attributes manually."}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1559926816, "creation_date": 1559926816, "answer_id": 56498520, "question_id": 50578171, "link": "https://stackoverflow.com/questions/50578171/how-to-pass-attribute-values-of-a-certain-type-without-using-constructor-in-kotl/56498520#56498520", "title": "How to pass attribute values of a certain type without using constructor in kotlin (like spread operator in ES6/TS)?", "body": "<p>You can't do that. </p>\n\n<p>The Kotlin spread operator(<a href=\"https://stackoverflow.com/a/39389045/6296561\"><code>*</code></a>) is limited to vararg spreading of an Array. From <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>When we call a <code>vararg</code>-function, we can pass arguments one-by-one, e.g. <code>asList(1, 2, 3)</code>, or, if we already have an array and want to pass its contents to the function, we use the spread operator (prefix the array with <code>*</code>):</p>\n</blockquote>\n\n<p>That limits your use of the spread operator. </p>\n\n<p>Additionally, bracket-based initialization does not work, because it creates a function instead:</p>\n\n<pre><code>interface Control { \n    var id: String?\n    var width: Number?\n    var height: Number?\n}\n\nclass TextBoxControl {\n    var id: String? = null\n    var width: Number? = null\n    var height: Number? = null\n    var text: String? = null\n\n\n}\n\nfun createControl() : TextBoxControl {\n    return {};\n}\n</code></pre>\n\n<blockquote>\n  <p>Error:(17, 11) Type mismatch: inferred type is () -> Unit but TextBoxControl was expected</p>\n</blockquote>\n\n<p>TL;DR:</p>\n\n<p>You cannot initialize it by using <code>{}</code>. You cannot use the spread operator to get arguments. </p>\n\n<hr>\n\n<p>There are a few ways you can solve it without using constructors, but none of them are flexible (without digging into reflection, but that's a performance drop).</p>\n\n<p>First of all though, I <strong>highly</strong> suggest you prefer constructors. It's much easier to deal with in Kotlin:</p>\n\n<pre><code>interface Control { \n    var id: String?\n    var width: Number?\n    var height: Number?\n}\n// Created just to have something to pass as options\nclass ControlImpl() : Control {\n    override var id: String? = \"Hello World!\"\n    override var width: Number? = 314159\n    override var height: Number? = 271\n}\n\ndata class TextBoxControl(var id: String? = null,\n    var width: Number? = null,\n    var height: Number? = null,\n    var text: String? = null)\n\nfun buildTextBoxControl(dataFromDb: String, options: Control) : TextBoxControl {\n    return TextBoxControl(id = options.id, width = options.width, height = options.width, text = dataFromDb /*Not entirely what you had, but this is just for the sake of my answer*/)\n}\nfun main() {\n    var control = buildTextBoxControl(\"String\", ControlImpl().apply { \n        id = \"id\"\n        width = 42\n        height = 42 \n    })\n    println(control)\n}\n</code></pre>\n\n<blockquote>\n  <p>TextBoxControl(id=id, width=42, height=42, text=String)</p>\n</blockquote>\n\n<p>This is considerably easier than the alternative approaches, and likely more memory-efficient as well, because Kotlin doesn't have native support for the syntax you want. </p>\n\n<hr>\n\n<p><strong>Note:</strong> If you have absolutely no idea what variables you might get from the control object, and still need to use all, I <strong>highly recommend</strong> you re-design your code. Neither Kotlin or Java is designed for \"I'll give you some stuff at runtime and you have to figure it out\". The closest thing you get to that is reflection, but it's still limited by the fields you have at hand. </p>\n\n<p>If, however, you <em>want</em> to have no idea what fields you have and don't have, use a Map instead. </p>\n\n<p>Otherwise, and if you really don't want to use constructors, you have two options:</p>\n\n<h1>Manually setting the fields</h1>\n\n<p>If the problem is conversion, you can throw in a function to convert it:</p>\n\n<pre><code>fun Control.toTextBoxControl() : TextBoxControl{\n    return TextBoxControl().let { it -&gt;\n        it.id = this.id\n        it.width = this.width\n        it.height = this.height\n        it\n    }\n}\n</code></pre>\n\n<p>Now you can convert a Control to an overridden type relatively easily:</p>\n\n<pre><code>fun buildTextBoxControl(dataFromDb: String, options: Control) : TextBoxControl {\n    return options.toTextBoxControl()\n}\n</code></pre>\n\n<p>But what about additional arguments? They've been ignored so far. </p>\n\n<p>If you <strong>really</strong> want to go constructorless, you can use <code>operator fun invoke</code> to change parameters:</p>\n\n<pre><code>class TextBoxControl {\n    var id: String? = null\n    var width: Number? = null\n    var height: Number? = null\n    var text: String? = null\n\n    operator fun invoke(id: String? = null, width: Number? = null, height: Number? = null, text: String? = null)\n            : TextBoxControl{\n        if (id != null) this.id = id;\n        if (width != null) this.width = width;\n        if (height != null) this.height = height;\n        if (text != null) this.text = text;\n        return this\n    }\n    override fun toString() : String {\n        return \"TextBoxControl(id=$id, width: $width=height=$height, text=$text)\"\n    }\n}\n</code></pre>\n\n<p>Not specifically pretty. I also hit a design issue with this - I can't really find a decent way to allow null using invoke. If there is no null check, all the original variables will be overridden. </p>\n\n<p>Anyway, this lets you change the conversion function and the creation function:</p>\n\n<pre><code>fun Control.toTextBoxControl() : TextBoxControl{\n    return TextBoxControl()(id = id, width = width, height = height)\n}\nfun buildTextBoxControl(dataFromDb: String, options: Control) : TextBoxControl {\n    return options.toTextBoxControl()(text = dataFromDb)\n}\n</code></pre>\n\n<p>If you're not familiar with what <code>operator fun invoke</code> means, it's syntactic sugar for invoking an object. So if you have an instance of an object that has an <code>operator fun invoke()</code>, you can write <code>someInstanceOfTheClass()</code>. It can have arguments and a return type as you see fit. You can read more about operator overloading in Kotlin <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<h1>Reflection</h1>\n\n<p><strong>WARNING:</strong> Reflection comes with a heavy toll on performance. See <a href=\"https://stackoverflow.com/q/1392351/6296561\">this question</a> for details on that. </p>\n\n<p>Throwing in a map to the Control interface (which returns the values as a map - also memory-inefficient and another reason to use constructors), you can iterate over the map and use reflection to set values:</p>\n\n<pre><code>interface Control { \n    var id: String?\n    var width: Number?\n    var height: Number?\n\n    fun toMap() = mutableMapOf(\"id\" to id, \"width\" to width, \"height\" to height) as MutableMap&lt;String, Any&gt;\n}\nclass ControlImpl() : Control {\n    override var id: String? = \"Hello World!\"\n    override var width: Number? = 314159\n    override var height: Number? = 271\n}\n\nclass TextBoxControl {\n    var id: String? = null\n    var width: Number? = null\n    var height: Number? = null\n    var text: String? = null\n\n    // this could also be a static function called `createTextBoxControlFromMap`, non-static function, or thrown into an apply block or generic extension function\n    operator fun invoke(map: Map&lt;String, Any&gt;) : TextBoxControl {\n        for((k, v) in map) {\n            val f = this::class.java.getDeclaredField(k)\n            f.setAccessible(true)\n            f.set(this, v)\n        }\n        return this;\n    }\n}\n\nfun buildTextBoxControl(dataFromDb: String, options: Control) : TextBoxControl {\n    return TextBoxControl()(options.toMap().apply { \n        put(\"text\", dataFromDb) \n    })\n}\n\nfun main() {\n    var control = buildTextBoxControl(\"String\", ControlImpl().apply { \n        id = \"id\"\n        width = 42\n        height = 42 \n    })\n    println(control)\n}\n</code></pre>\n\n<p>But again, <strong>please consider using constructors</strong>. </p>\n"}], "owner": {"reputation": 2178, "user_id": 7199720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TosjU.jpg?s=128&g=1", "display_name": "Leone", "link": "https://stackoverflow.com/users/7199720/leone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559926816, "creation_date": 1527577218, "last_edit_date": 1527578249, "question_id": 50578171, "link": "https://stackoverflow.com/questions/50578171/how-to-pass-attribute-values-of-a-certain-type-without-using-constructor-in-kotl", "title": "How to pass attribute values of a certain type without using constructor in kotlin (like spread operator in ES6/TS)?", "body": "<p>I use the <strong>object spread</strong> operator in ES6/typescript a lot to pass attribute values. For example, in typescript:</p>\n\n<pre><code>interface Control { id?: String, width?: number, height?: number }\n\nfunction buildTextBoxControl(dataFromDb: any, options: Control) : TextBoxControl {\n    return { ...options, text: dataFromDb.name }\n}\n</code></pre>\n\n<p>Then I can call the method like:</p>\n\n<pre><code>buildTextBoxControl(objFromDb, { height: 45 })\nbuildTextBoxControl(objFromDb, { width: 25, id: \"some-id\" })\n</code></pre>\n\n<p>How can I acheive the equivalent in kotlin? Or in short, how can the method <code>buildTextBoxControl</code> be written in kotlin?</p>\n\n<p>The key thing here is that the spread operator automatically sets the attribute values from the other object without having to manually set them one-by-one using the kotlin's <code>apply { }</code></p>\n"}, {"tags": ["java", "android", "arrays", "xml", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 2, "creation_date": 1527572641, "post_id": 50577036, "comment_id": 88163186, "body": "Sounds like you are looking for a  FlowLayout"}, {"owner": {"reputation": 1723, "user_id": 6549598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/m92gQ.jpg?s=128&g=1", "display_name": "nimi0112", "link": "https://stackoverflow.com/users/6549598/nimi0112"}, "edited": false, "score": 0, "creation_date": 1527573909, "post_id": 50577036, "comment_id": 88163716, "body": "Please add layout what you are trying to achieve via XML or some graphic content for better understanding and save time and efforts."}, {"owner": {"reputation": 849, "user_id": 7749832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyjOD.png?s=128&g=1", "display_name": "Caspar Geerlings", "link": "https://stackoverflow.com/users/7749832/caspar-geerlings"}, "edited": false, "score": 0, "creation_date": 1527575750, "post_id": 50577036, "comment_id": 88164563, "body": "I edited my question!"}, {"owner": {"reputation": 344, "user_id": 6067892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8041338d8519560b010de51884c772d?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/6067892/dennis"}, "edited": false, "score": 1, "creation_date": 1527578331, "post_id": 50577036, "comment_id": 88166035, "body": "what about a <code>RecyclerView</code> with <code>GridLayoutManager</code>?"}], "owner": {"reputation": 849, "user_id": 7749832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyjOD.png?s=128&g=1", "display_name": "Caspar Geerlings", "link": "https://stackoverflow.com/users/7749832/caspar-geerlings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527575728, "creation_date": 1527572551, "last_edit_date": 1527575728, "question_id": 50577036, "link": "https://stackoverflow.com/questions/50577036/android-show-textview-for-every-value-in-an-array-horizontally", "title": "Android: Show textview for every value in an array (horizontally)", "body": "<p>What is the best practice to achieve a horizontal oriented linearlayout filled with textviews, each for every string in the array. When there is no space left horizontally, I'd like to start my textview on the next line.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lyX5I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lyX5I.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1882, "user_id": 2490115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EEttS.jpg?s=128&g=1", "display_name": "The Badak", "link": "https://stackoverflow.com/users/2490115/the-badak"}, "edited": false, "score": 0, "creation_date": 1527567630, "post_id": 50576202, "comment_id": 88161631, "body": "please post LogCat so we can check what&#39;s the issue"}, {"owner": {"reputation": 162, "user_id": 5939769, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/26d46c8ce2aa357d4e87fc4032c8b94d?s=128&d=identicon&r=PG&f=1", "display_name": "userI", "link": "https://stackoverflow.com/users/5939769/useri"}, "edited": false, "score": 0, "creation_date": 1527567881, "post_id": 50576202, "comment_id": 88161701, "body": "refer this link <a href=\"https://stackoverflow.com/questions/16954109/reduce-the-size-of-a-bitmap-to-a-specified-size-in-android\" title=\"reduce the size of a bitmap to a specified size in android\">stackoverflow.com/questions/16954109/&hellip;</a> to reduce the size of the bitmap so that it will get loaded in <code>ImageView</code>"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1527567928, "post_id": 50576202, "comment_id": 88161714, "body": "this is my logcat: Bitmap too large to be uploaded into a texture (3096x4128, max=4096x4096), i updated my question"}, {"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1527568164, "post_id": 50576202, "comment_id": 88161772, "body": "decodeFile() will return null if the bitmap would become too big for available memory. Better use images with lower resolution. Or scale down during load. Have a look at the options parameter."}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1527571664, "post_id": 50576202, "comment_id": 88162841, "body": "just pre-scale image before loading."}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1527568299, "post_id": 50576330, "comment_id": 88161808, "body": "I will look at those libraries now"}], "tags": [], "owner": {"reputation": 4092, "user_id": 3894930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uNXJu.jpg?s=128&g=1", "display_name": "Dhaval Solanki", "link": "https://stackoverflow.com/users/3894930/dhaval-solanki"}, "is_accepted": false, "score": 2, "last_activity_date": 1527569921, "last_edit_date": 1527569921, "creation_date": 1527568211, "answer_id": 50576330, "question_id": 50576202, "link": "https://stackoverflow.com/questions/50576202/cant-show-image-in-imageview/50576330#50576330", "title": "Can&#39;t show image in ImageView", "body": "<p>Actually your image size is too large just because image view not loading the image. </p>\n\n<p>Better way use library like <code>picasso</code>, <code>Glide</code> or <code>Universal image loader</code> which will load image perfectly otherwise resize your bitmap. </p>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527569921, "creation_date": 1527567160, "last_edit_date": 1527568130, "question_id": 50576202, "link": "https://stackoverflow.com/questions/50576202/cant-show-image-in-imageview", "title": "Can&#39;t show image in ImageView", "body": "<p>I have a problem, i load an image(4128x3096) from storage and i want show it on screen.</p>\n\n<p>But after run, my screen is blank (screen white)</p>\n\n<p>But when i load another image(1080x720), it worked and show image on screen</p>\n\n<p>Now, i want show and fill an image(4128x3096) on screen</p>\n\n<p>How to do it?</p>\n\n<p>This is my code:</p>\n\n<pre><code>val bitmap = BitmapFactory.decodeFile(patchFile)\nval matrix = Matrix()\nmatrix.postRotate(90F)\nval newBitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.width, bitmap.height, matrix, true)\nimageView.setImageBitmap(newBitmap)\n</code></pre>\n\n<p>LogCat:</p>\n\n<pre><code>    05-29 11:27:47.194 32471-32507/com.example.minhduc.aicam W/OpenGLRenderer: Bitmap too large to be uploaded into a texture (3096x4128, max=4096x4096)\n    Bitmap too large to be uploaded into a texture (3096x4128, max=4096x4096)\n05-29 11:27:48.970 32471-32493/com.example.minhduc.aicam W/MessageQueue: Handler (android.widget.Toast$TN$2) {a8d7afe} sending message to a Handler on a dead thread\n    java.lang.IllegalStateException: Handler (android.widget.Toast$TN$2) {a8d7afe} sending message to a Handler on a dead thread\n        at android.os.MessageQueue.enqueueMessage(MessageQueue.java:543)\n        at android.os.Handler.enqueueMessage(Handler.java:643)\n        at android.os.Handler.sendMessageAtTime(Handler.java:612)\n        at android.os.Handler.sendMessageDelayed(Handler.java:582)\n        at android.os.Handler.sendMessage(Handler.java:519)\n        at android.os.Message.sendToTarget(Message.java:416)\n        at android.widget.Toast$TN.hide(Toast.java:414)\n        at android.app.ITransientNotification$Stub.onTransact(ITransientNotification.java:57)\n        at android.os.Binder.execTransact(Binder.java:565)\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 2693030, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/33fad089255c86e4bc887744d6c3920c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2693030/michael-blake"}, "edited": false, "score": 0, "creation_date": 1527581830, "post_id": 50579363, "comment_id": 88168135, "body": "Interesting. Thank you. Curious, though, wouldn&#39;t it be quite inefficient loading all of the keys for likes of each item just to search for one value on each? Maybe this is just one of the downsides to using nosql"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 873, "user_id": 2693030, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/33fad089255c86e4bc887744d6c3920c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2693030/michael-blake"}, "edited": false, "score": 1, "creation_date": 1527581947, "post_id": 50579363, "comment_id": 88168203, "body": "Yes it is inefficient that why you should duplicate data so you can query only for specific data."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 2, "last_activity_date": 1527581307, "creation_date": 1527581307, "answer_id": 50579363, "question_id": 50574906, "link": "https://stackoverflow.com/questions/50574906/populating-recyclerview-with-two-sets-of-data-from-firebase/50579363#50579363", "title": "Populating RecyclerView with two sets of data from Firebase", "body": "<blockquote>\n  <p>But that seems like too much repetition.</p>\n</blockquote>\n\n<p>Yes, it is.</p>\n\n<blockquote>\n  <p>Should I just live with all of this repetition or is there an easy way to deal with this?</p>\n</blockquote>\n\n<p>Yes, you should!</p>\n\n<p>In such cases as yours, you should use this tehnique which is named in Firebase <code>denormalization</code>, and for that I recomend you see this tutorial, <a href=\"https://www.youtube.com/watch?v=vKqXSZLLnHA\" rel=\"nofollow noreferrer\">Denormalization is normal with the Firebase Database</a>, for a better understanding.</p>\n\n<p>So, there is nothing wrong in what you are doing, besides that is a common practice when it comes to Firebase.</p>\n"}], "owner": {"reputation": 873, "user_id": 2693030, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/33fad089255c86e4bc887744d6c3920c?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Blake", "link": "https://stackoverflow.com/users/2693030/michael-blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50579363, "answer_count": 1, "score": 0, "last_activity_date": 1527581365, "creation_date": 1527554939, "last_edit_date": 1527581365, "question_id": 50574906, "link": "https://stackoverflow.com/questions/50574906/populating-recyclerview-with-two-sets-of-data-from-firebase", "title": "Populating RecyclerView with two sets of data from Firebase", "body": "<p>I have Firebase set up as so...</p>\n\n<pre><code>{\n  \"items\" : {\n    \"-LDJak_gdBhZQ0NSB-7B\" : { //item\n      \"name\" : \"Test123\",\n       ...\n    },\n    ...\n  },\n  \"likes\" : {\n    \"YoTjkR2ORlcr5hGedzQs5xOK2VE3\" : { //user\n      \"-LDJiY0YSraa_RhxVWXL\" : true //whether or not the item is liked\n    },\n    ...\n  }\n}\n</code></pre>\n\n<p>And I'm populating a <code>RecyclerView</code> with items, but I need to know if each item has been liked by the current user. I know I could store each user who has liked an item in the item itself, but that seems like too much repetition. But even if done that way, I'd have to check through a list of users who liked an item for that specific user, for each item added. Should I just live with all of this repetition or is there an easy way to deal with this? Here's the code I have that uses <code>FirebaseRecyclerAdapter</code>:</p>\n\n<pre><code>private fun setUpFirebaseAdapter() {\n        val ref = FirebaseDatabase.getInstance().reference\n\n        val itemQuery = ref\n                .child(\"items\")\n                .limitToLast(20)\n\n        val itemOptions = FirebaseRecyclerOptions.Builder&lt;Item&gt;()\n                .setQuery(itemQuery, Item::class.java)\n                .build()\n\n\n        firebaseAdapter = object : FirebaseRecyclerAdapter&lt;Item, FirebaseViewHolder&gt;(itemOptions) {\n\n            override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): FirebaseViewHolder {\n                val view = LayoutInflater.from(parent.context)\n                        .inflate(R.layout.item_row, parent, false)\n\n                return FirebaseViewHolder(view)\n            }\n\n            override fun onBindViewHolder(holder: FirebaseViewHolder, position: Int, model: Item) {\n                holder.bindItems(model)\n                //...\n            }\n        }\n    }\n</code></pre>\n\n<p>I know there's index support, but I think that would only allow me to only return liked items.</p>\n"}, {"tags": ["java", "collections", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1527551492, "last_edit_date": 1527551492, "creation_date": 1527535369, "answer_id": 50572443, "question_id": 50572244, "link": "https://stackoverflow.com/questions/50572244/kotlin-return-immutable-collection-from-getter-while-using-mutable-inside/50572443#50572443", "title": "Kotlin: return immutable collection from getter while using mutable inside", "body": "<p>No, that's not currently possible in Kotlin. In fact, the current design forces the getters to have the same return type to that of the whole property.</p>\n\n<p>Typically, the workaround is, as you noticed, to use a backing property.</p>\n\n<p>Alternatively, you can define an interface with a <code>List</code> property, implement it with a <code>MutableList</code> in a class, and expose instances of the class using the interface:</p>\n\n<pre><code>interface SomeInterface {\n    val someList: List&lt;Int&gt;\n}\n\ninternal class SomeClass : SomeInterface {\n    override val someList: MutableList&lt;Int&gt; = mutableListOf()\n}\n\nfun getSomeInterface(): SomeInterface =\n    SomeClass().apply { someList += listOf(1, 2, 3) }\n</code></pre>\n\n<p>See: <a href=\"https://discuss.kotlinlang.org/t/idiomatic-way-to-expose-a-property-using-a-more-narrow-type/4863\" rel=\"nofollow noreferrer\">a related discussion</a>.</p>\n"}], "owner": {"reputation": 2008, "user_id": 4308639, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/cNxVX.jpg?s=128&g=1", "display_name": "Ruslan Akhundov", "link": "https://stackoverflow.com/users/4308639/ruslan-akhundov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "closed_date": 1527535812, "accepted_answer_id": 50572443, "answer_count": 1, "score": 3, "last_activity_date": 1527551492, "creation_date": 1527534229, "question_id": 50572244, "link": "https://stackoverflow.com/questions/50572244/kotlin-return-immutable-collection-from-getter-while-using-mutable-inside", "closed_reason": "Duplicate", "title": "Kotlin: return immutable collection from getter while using mutable inside", "body": "<p>I have some field which is collection, which can be mutated inside service containing it, and some other services should be able to access it without possibility to mutate it by themselves.</p>\n\n<p>In java it would can be implemented like this:</p>\n\n<pre><code>public class Test {\n\n    private final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n    public List&lt;Integer&gt; getList() {\n        return Collections.unmodifiableList(list);\n    }\n}\n</code></pre>\n\n<p>In kotlin I store this field declared as <code>MutableList</code>:</p>\n\n<pre><code>val someCollection: MutableList&lt;Int&gt; = ArrayList()\n    get() = unmodifiableList(field)\n</code></pre>\n\n<p>But then getter obviously would return object with type <code>MutableList</code>.</p>\n\n<p>Ideally I want to achieve something like this:</p>\n\n<pre><code>val someCollection: MutableList&lt;Int&gt; = ArrayList()\n        get() = unmodifiableList(field) as List // &lt;-- returns List instead of MutableList\n</code></pre>\n\n<p>In other words is it possible change signature of generated getter to return another interface. Most probably answer is no, and I wonder why? Is it believed to be some bad practice?</p>\n\n<p>I saw that there is possibility to do something like this: </p>\n\n<pre><code>private val _someCollection: MutableList&lt;Int&gt; = ArrayList()\nval someCollection: List&lt;Int&gt;\n    get() = unmodifiableList(field)\n</code></pre>\n\n<p>But it does seems even worse then manually created getter, as it creates one more field. </p>\n"}, {"tags": ["android", "android-activity", "kotlin", "kotlin-extension", "left-to-right"], "answers": [{"tags": [], "owner": {"reputation": 2389, "user_id": 8195525, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-L_XNZLvRO6o/AAAAAAAAAAI/AAAAAAAABI8/fpBStVFU5WI/photo.jpg?sz=128", "display_name": "Derek", "link": "https://stackoverflow.com/users/8195525/derek"}, "is_accepted": true, "score": 3, "last_activity_date": 1527544803, "creation_date": 1527544803, "answer_id": 50573849, "question_id": 50572223, "link": "https://stackoverflow.com/questions/50572223/kotlin-activity-changes-writing-order-from-left-to-right-to-right-to-left-phone/50573849#50573849", "title": "Kotlin Activity changes writing order from left to right to right to left (Phone w/ different language)", "body": "<p>In the android Manifest file make sure to Disable RTL:</p>\n\n<pre><code>&lt;application\n    android:supportsRtl=\"false\"\n</code></pre>\n\n<p>This disables the Right to Left feature for your app, so if the setting is on in your device settings the app will not change.</p>\n"}], "owner": {"reputation": 243, "user_id": 4862382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/42aGe.png?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4862382/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 50573849, "answer_count": 1, "score": 0, "last_activity_date": 1527592328, "creation_date": 1527534121, "last_edit_date": 1527592328, "question_id": 50572223, "link": "https://stackoverflow.com/questions/50572223/kotlin-activity-changes-writing-order-from-left-to-right-to-right-to-left-phone", "title": "Kotlin Activity changes writing order from left to right to right to left (Phone w/ different language)", "body": "<p>I have a Kotlin project in Android Studio and I developed a simple app...</p>\n\n<p>My real device is in a different language so when I run the app on my device all the activity is stuck to the right (like you write in Hebrew...)\nI want to keep the order left to right (like in English and won't change based on the phone's language)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["android", "date", "kotlin", "dayofweek", "java.util.calendar"], "comments": [{"owner": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1527533749, "post_id": 50571850, "comment_id": 88153816, "body": "Please provide some sample data so that test can be run against your results."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 4630, "user_id": 8039298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2363b72429d221115bec666a43fa402c?s=128&d=identicon&r=PG&f=1", "display_name": "Barns", "link": "https://stackoverflow.com/users/8039298/barns"}, "edited": false, "score": 0, "creation_date": 1527534907, "post_id": 50571850, "comment_id": 88154209, "body": "Just log the result of this function and you will see either 27.05.2018 or 03.05.2018 for today (28.05.2018)."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527538682, "post_id": 50571850, "comment_id": 88155522, "body": "Are you testing with devices having the same timezone/locale? That might explain the difference"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527552600, "post_id": 50571850, "comment_id": 88158771, "body": "In USA&#39;s locale, the first day of the week is <code>SUN</code>. Just like how &quot;midnight&quot; is for whatever reason <code>12:00 PM</code> instead of something like, say, <code>00:00</code>."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527568001, "post_id": 50571850, "comment_id": 88161732, "body": "@EpicPandaForce ok but there is 7 days difference in the result not only one day."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1527568036, "post_id": 50571850, "comment_id": 88161744, "body": "@user2340612 same locals and time zones"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1527593158, "post_id": 50571850, "comment_id": 88175433, "body": "Thanks, Nominalista, for answering the questions asked in the comments. Please add the information in the question rather than in new comments. It\u2019s easier to understand the question when we have everything in one place, and also comments are sometimes deleted, so don\u2019t put important information there."}], "answers": [{"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1527574092, "post_id": 50576943, "comment_id": 88163785, "body": "This doesn&#39;t answer my question. The difference in result is 7 days, not 1 day."}], "tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1527572113, "creation_date": 1527572113, "answer_id": 50576943, "question_id": 50571850, "link": "https://stackoverflow.com/questions/50571850/calendar-returns-bad-start-of-week-on-some-android-devices/50576943#50576943", "title": "Calendar returns bad start of week on some Android devices", "body": "<p>First day of week is different for different countries. If you want it to be the same for all users, you could pass a <code>Locale</code> to the <code>Calendar</code>.</p>\n\n<pre><code>Calendar currentCalendar = Calendar.getInstance(new Locale(\"en\",\"UK\"));\n</code></pre>\n\n<p>also from <a href=\"https://stackoverflow.com/a/11858703/450356\">this</a> answer, You can use the method setFirstDayOfWeek() to set the first day of the week. The method can only affect the return values of WEEK_OF_MONTH or WEEK_OF_YEAR. For DAY_OF_WEEK, it does nothing.</p>\n\n<p>You can implement something like:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setFirstDayOfWeek(Calendar.MONDAY);\nint rec = cal.get(Calendar.WEEK_OF_MONTH);\nSystem.out.println(rec);\n</code></pre>\n\n<p>Read more on the API <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#setFirstDayOfWeek%28int%29\" rel=\"nofollow noreferrer\">HERE</a></p>\n"}, {"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1527596442, "post_id": 50584054, "comment_id": 88177664, "body": "This is a great answer, appreciate it. So what you mean is that <code>Calendar</code> works great for the first day of current week while using US standard, but behaves weird on ISO standard and returns first day of next week, right? And I think I&#39;ll have to use DateTime from Java 8."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1527597059, "post_id": 50584054, "comment_id": 88178105, "body": "Thanks. It\u2019s not exactly what I meant. In your code you asked for Sunday, so it gives you Sunday no matter if Sunday is the first day of the week or not."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1527598082, "post_id": 50584054, "comment_id": 88178785, "body": "You mean <code>calendar.set(DAY_OF_WEEK, 1)</code> this sets always Sunday? But it doesn&#39;t matter actually, the problem was that it returned 7 days difference, not 1 day."}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1527607062, "post_id": 50584054, "comment_id": 88184855, "body": "Yes, a day of week of 1 always means Sunday. So the only way it could give two different results was to give two different Sundays, and they are necessarily 7 days apart (at least)."}], "tags": [], "owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "is_accepted": true, "score": 2, "last_activity_date": 1527595720, "creation_date": 1527595720, "answer_id": 50584054, "question_id": 50571850, "link": "https://stackoverflow.com/questions/50571850/calendar-returns-bad-start-of-week-on-some-android-devices/50584054#50584054", "title": "Calendar returns bad start of week on some Android devices", "body": "<p>If I understand correctly, you want to consider Sunday the first day of the week (as in USA).</p>\n\n<pre><code>    WeekFields wf = WeekFields.SUNDAY_START;\n    LocalDate today = LocalDate.now(ZoneId.of(\"Europe/Warsaw\"));\n    LocalDate firstDayOfThisWeek = today.with(wf.dayOfWeek(), 1);\n    System.out.println(firstDayOfThisWeek);\n</code></pre>\n\n<p>I am writing Java code and trusting you to transform to Kotlin. Running today (Tuesday, May 29) this printed</p>\n\n<blockquote>\n  <p>2018-05-27</p>\n</blockquote>\n\n<p>If instead you want Monday as first day of the week (as in Poland and as the international standard says), just use <code>WeekFields.ISO</code> instead of <code>WeekFields.SUNDAY_START</code>. If you want it to depend on locale, use for example <code>WeekFields.of(Locale.forLanguageTag(\"pl-PL\"))</code>.</p>\n\n<p>Another and possibly clearer option is:</p>\n\n<pre><code>    LocalDate firstDayOfThisWeek = today\n            .with(TemporalAdjusters.previousOrSame(DayOfWeek.SUNDAY));\n</code></pre>\n\n<p>In both cases I use <code>java.time</code>, the modern Java date and time API. I think that this is a nice example of where it provides for clearer code, which is often the case compared to the old date and time classes like <code>Calendar</code>.</p>\n\n<h2>What went wrong in your code?</h2>\n\n<p>As I understand the documentation, your code should give the Sunday of the current week. <code>Calendar</code> uses 1 for Sunday. You might have used <code>calendar.set(DAY_OF_WEEK, SUNDAY)</code> to obtain exactly the same. When I run it today, I get 27 May when using Sunday as first day of week and 3 June when using Monday as first day (which means Sunday is the last day of the week). The documentation is not very clear, though, and the <code>Calendar</code> class can be confusing. In any case, probably this was also what happened when you tried on different devices: they had different definitions of weeks. This may be possible even if they have the same locale if you can configure week definitions separately.</p>\n\n<h2>Question: Can I use java.time on Android?</h2>\n\n<p>Yes, <code>java.time</code> works nicely on older and newer Android devices. It just requires at least Java <strong>6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26, I\u2019m told) the modern API comes built-in.</li>\n<li>In Java 6 and 7 get the ThreeTen Backport, the backport of the new classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It\u2019s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">Java Specification Request (JSR) 310</a>, where <code>java.time</code> was first described.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code>to Java 6 and 7 (ThreeTen for JSR-310).</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n</ul>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 1, "accepted_answer_id": 50584054, "answer_count": 2, "score": 0, "last_activity_date": 1527662271, "creation_date": 1527532188, "last_edit_date": 1527662271, "question_id": 50571850, "link": "https://stackoverflow.com/questions/50571850/calendar-returns-bad-start-of-week-on-some-android-devices", "title": "Calendar returns bad start of week on some Android devices", "body": "<p>I wanted to get the date of first day in current week. So I implemented it in this way:</p>\n\n<pre><code>fun getFirstDayInCurrentWeek(): Date {\n    val calendar = Calendar.getInstance()\n    calendar.clear(MILLISECOND)\n    calendar.clear(SECOND)\n    calendar.clear(MINUTE)\n    calendar.set(HOUR_OF_DAY, 0)\n    calendar.set(DAY_OF_WEEK, 1)\n    return calendar.time\n}\n</code></pre>\n\n<p>It works on most of the devices, but sometimes it returns the date of first day in next week. I can't figure it out why.</p>\n\n<p>The classes come from <code>java.util.*</code>.</p>\n\n<p><strong>Edit:</strong> Just log the result of this function today (28.05.2018) and you will see either 27.05.2018 or 03.06.2018. The devices have the same locales and the same time zones.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-dynamic-links"], "answers": [{"tags": [], "owner": {"reputation": 18896, "user_id": 819314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47d1af0e885746e39195c8ff3234f47d?s=128&d=identicon&r=PG", "display_name": "Ian Barber", "link": "https://stackoverflow.com/users/819314/ian-barber"}, "is_accepted": false, "score": 0, "last_activity_date": 1527629210, "creation_date": 1527629210, "answer_id": 50593196, "question_id": 50571481, "link": "https://stackoverflow.com/questions/50571481/how-to-retrieve-short-url-links-from-firebase-dynamic-links/50593196#50593196", "title": "How to retrieve short url links from Firebase Dynamic Links", "body": "<p>You can retrieve the URL from the opening intent directly: <code>Uri uri = getIntent().getData();</code>, but the intended way of passing data in is add the ID parameter to the link you are making dynamic, before it is shortened: <a href=\"https://firebase.google.com/docs/dynamic-links/android/create\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/dynamic-links/android/create</a></p>\n"}], "owner": {"reputation": 210, "user_id": 9271756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3465bf85adddeb6a29a9c47ea9b6c2b0?s=128&d=identicon&r=PG&f=1", "display_name": "Petermonteer", "link": "https://stackoverflow.com/users/9271756/petermonteer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 730, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527629210, "creation_date": 1527530256, "question_id": 50571481, "link": "https://stackoverflow.com/questions/50571481/how-to-retrieve-short-url-links-from-firebase-dynamic-links", "title": "How to retrieve short url links from Firebase Dynamic Links", "body": "<p>I created a dynamic link in Firebase, and I'm adding a query parameter (\"id\") to the shortened URL afterwards, in order to retrieve it in the app activity and open a specific screen</p>\n\n<pre><code>FirebaseDynamicLinks.getInstance()\n            .getDynamicLink(getIntent())\n            .addOnSuccessListener(this, object: OnSuccessListener&lt;PendingDynamicLinkData&gt; {\n                override  fun onSuccess(pendingDynamicLinkData : PendingDynamicLinkData?) {\n\n\n                    val id = intent.data.getQueryParameter(\"id\").toInt()\n</code></pre>\n\n<p>The thing is, <code>intent.data</code> returns the dynamic link without the query parameters added. Is there a way to retrieve the short link in its entirety?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "gridlayoutmanager"], "comments": [{"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1527569024, "post_id": 50571002, "comment_id": 88162004, "body": "Would you please provide the java code you are tried."}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9713119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tneW2.jpg?s=128&g=1", "display_name": "Curvegraph", "link": "https://stackoverflow.com/users/9713119/curvegraph"}, "edited": false, "score": 0, "creation_date": 1527696034, "post_id": 50576211, "comment_id": 88227787, "body": "We have an option to set"}], "tags": [], "owner": {"reputation": 2850, "user_id": 5676318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCZ7Y.png?s=128&g=1", "display_name": "GianhTran", "link": "https://stackoverflow.com/users/5676318/gianhtran"}, "is_accepted": false, "score": 1, "last_activity_date": 1527567305, "creation_date": 1527567305, "answer_id": 50576211, "question_id": 50571002, "link": "https://stackoverflow.com/questions/50571002/how-to-set-columns-at-the-centre-of-the-row-in-android-recyclerview-gridlayout/50576211#50576211", "title": "How to set columns at the centre of the row in Android RecyclerView - GridLayoutManager", "body": "<p>it's impossible, because item of grid layout is fixed. \nU can using another trick, like using temp item for your list, but its can not help u if last row have one or three items </p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 9713119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tneW2.jpg?s=128&g=1", "display_name": "Curvegraph", "link": "https://stackoverflow.com/users/9713119/curvegraph"}, "edited": false, "score": 0, "creation_date": 1527695817, "post_id": 50576604, "comment_id": 88227675, "body": "It works but only a single item moves. I am having 18 items span count is 8 In third row I need to set centre of the position it has only two items"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "reply_to_user": {"reputation": 57, "user_id": 9713119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tneW2.jpg?s=128&g=1", "display_name": "Curvegraph", "link": "https://stackoverflow.com/users/9713119/curvegraph"}, "edited": false, "score": 0, "creation_date": 1527739036, "post_id": 50576604, "comment_id": 88242662, "body": "Would you please provide the output screenshot that you want?"}], "tags": [], "owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "is_accepted": true, "score": 6, "last_activity_date": 1527570108, "creation_date": 1527570108, "answer_id": 50576604, "question_id": 50571002, "link": "https://stackoverflow.com/questions/50571002/how-to-set-columns-at-the-centre-of-the-row-in-android-recyclerview-gridlayout/50576604#50576604", "title": "How to set columns at the centre of the row in Android RecyclerView - GridLayoutManager", "body": "<p>Try this Hope this will help.</p>\n\n<pre><code>val gridLayoutManager = GridLayoutManager(this, 4)\n    gridLayoutManager.setSpanSizeLookup(object : GridLayoutManager.SpanSizeLookup() {\n\n        override fun getSpanSize(position: Int): Int {\n            return if (position == 16) { // totalRowCount : How many item you want to show\n                4 // the item in position now takes up 4 spans\n            } else 1\n        }\n    })\n\n    recyclerView.layoutManager = gridLayoutManager\n    recyclerView.setHasFixedSize(true)\n</code></pre>\n\n<p>Already have an answer of my own: <a href=\"https://stackoverflow.com/a/50247597/5167909\">https://stackoverflow.com/a/50247597/5167909</a></p>\n"}], "owner": {"reputation": 57, "user_id": 9713119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tneW2.jpg?s=128&g=1", "display_name": "Curvegraph", "link": "https://stackoverflow.com/users/9713119/curvegraph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2750, "favorite_count": 0, "accepted_answer_id": 50576604, "answer_count": 2, "score": 2, "last_activity_date": 1535356597, "creation_date": 1527527851, "last_edit_date": 1535356597, "question_id": 50571002, "link": "https://stackoverflow.com/questions/50571002/how-to-set-columns-at-the-centre-of-the-row-in-android-recyclerview-gridlayout", "title": "How to set columns at the centre of the row in Android RecyclerView - GridLayoutManager", "body": "<p>I am having <code>RecyclerView</code> with <code>Grid layout</code>. Everything works well.\nBut I need to set column at center horizontal. For example. I am having 18 items and span count is 4. For the last row, I have 2 item. these two items should be at the center horizontal instead of left.</p>\n\n<p>This is my <code>RecyclerView</code>:</p>\n\n<pre><code> &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rv_option\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:overScrollMode=\"never\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.5\"\n        android:layout_gravity=\"center_horizontal\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/rv_answer\" /&gt;\n</code></pre>\n\n<p>This is my <code>adapter layout</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_marginStart=\"@dimen/marginVSmall\"\n    android:layout_marginEnd=\"@dimen/marginVSmall\"\n    android:layout_marginTop=\"@dimen/marginVSmall\"\n    android:layout_marginBottom=\"@dimen/marginVSmall\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;curvegraph.com.vijay.widgets.SquareTextView\n        android:id=\"@+id/tv_option\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/circle\"\n        android:gravity=\"center\"\n        android:text=\"A\"\n        android:textStyle=\"bold\"\n        android:maxLength=\"1\"\n        android:textColor=\"@color/colorWhite\"\n        android:textSize=\"@dimen/textXLarge\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.5\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>My Kotlin code to set <code>LayoutManager</code></p>\n\n<pre><code>rv_option.layoutManager = GridLayoutManager(this, 4)\n</code></pre>\n\n<p>Here is my Kotlin Code : </p>\n\n<pre><code> val grid =   GridLayoutManager(this, 8)\n        grid.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\n\n            override fun getSpanSize(position: Int): Int {\n                return if (position &gt; 15) { // totalRowCount : How many item you want to show\n                    2 // the item in position now takes up 4 spans\n                } else 1\n            }\n        }\n        rv_option.layoutManager=grid\n        rv_option.setHasFixedSize(true)\n        optionsAdapter.spanCountFun(8)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-databinding", "companion-object"], "answers": [{"tags": [], "owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "is_accepted": true, "score": 1, "last_activity_date": 1532616599, "last_edit_date": 1532616599, "creation_date": 1527943350, "answer_id": 50657047, "question_id": 50570736, "link": "https://stackoverflow.com/questions/50570736/databinding-typeconverter-error-in-kotlin/50657047#50657047", "title": "Databinding TypeConverter error in kotlin", "body": "<p>You can add @jvmStatic annotation above the Binding Adapter method, something like this:</p>\n\n<pre><code>@BindingAdapter(value = \"visiblity\")\n@JvmStatic\nfun showHide(view : View, show : Boolean){\n    view.visibility = when {\n        show -&gt; View.VISIBLE\n        else -&gt; View.GONE\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3453, "user_id": 838355, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/AIvqN.png?s=128&g=1", "display_name": "ir2pid", "link": "https://stackoverflow.com/users/838355/ir2pid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "accepted_answer_id": 50657047, "answer_count": 1, "score": 0, "last_activity_date": 1532616599, "creation_date": 1527526468, "question_id": 50570736, "link": "https://stackoverflow.com/questions/50570736/databinding-typeconverter-error-in-kotlin", "title": "Databinding TypeConverter error in kotlin", "body": "<p>I'm using TypeConverter in some of my data-bindings. The issue is that it requires static functions and when I convert it into Kotlin it goes into the companion object and data-binding processor can't track the change.</p>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Required DataBindingComponent is null\n  in class ListMainBinding. A BindingAdapter in\n  com.noisyninja.androidlistpoc.model.DataConverter.Companion is not\n  static and requires an object to use, retrieved from the\n  DataBindingComponent. If you don't use an inflation method taking a\n  DataBindingComponent, use DataBindingUtil.setDefaultComponent or make\n  all BindingAdapter methods static.\n      at android.databinding.ViewDataBinding.ensureBindingComponentIsNotNull(ViewDataBinding.java:554)</p>\n</blockquote>\n\n<p>How do I make it recognise static @TypeConverter annotated methods in companion object</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 1, "creation_date": 1527524652, "post_id": 50570262, "comment_id": 88150357, "body": "Use <code>String.toInt()</code>, wrap it in <code>try</code>-<code>catch</code> and handle the <code>NumberFormatException</code>."}, {"owner": {"reputation": 1025, "user_id": 6284931, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b6c950140fb4270a75e3f1bddfcde44a?s=128&d=identicon&r=PG", "display_name": "Hard Coder", "link": "https://stackoverflow.com/users/6284931/hard-coder"}, "reply_to_user": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 0, "creation_date": 1527524828, "post_id": 50570262, "comment_id": 88150417, "body": "Thanks for the response but I see there is no <code>String.toInt()</code> available."}, {"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 3, "creation_date": 1527525030, "post_id": 50570262, "comment_id": 88150493, "body": "It&#39;s not a static method, you have to call <code>toInt()</code> on your <code>String</code> instances. For example <code>args[0].toInt()</code>."}, {"owner": {"reputation": 1025, "user_id": 6284931, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b6c950140fb4270a75e3f1bddfcde44a?s=128&d=identicon&r=PG", "display_name": "Hard Coder", "link": "https://stackoverflow.com/users/6284931/hard-coder"}, "reply_to_user": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 0, "creation_date": 1527525273, "post_id": 50570262, "comment_id": 88150605, "body": "Thanks, that worked. Still working with the try-catch block."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 5, "creation_date": 1527525314, "post_id": 50570262, "comment_id": 88150621, "body": "You can also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int-or-null.html\" rel=\"nofollow noreferrer\"><code>toIntOrNull</code></a> to get a <code>Int?</code> result, that way you don&#39;t have to use try-catch."}, {"owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "edited": false, "score": 0, "creation_date": 1527525714, "post_id": 50570262, "comment_id": 88150777, "body": "@HardCoder see my answer below for an example."}, {"owner": {"reputation": 1025, "user_id": 6284931, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b6c950140fb4270a75e3f1bddfcde44a?s=128&d=identicon&r=PG", "display_name": "Hard Coder", "link": "https://stackoverflow.com/users/6284931/hard-coder"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1527525766, "post_id": 50570262, "comment_id": 88150803, "body": "Great mention @zsmb13. Yes, this helps to eliminate the need for the <code>try-catch</code>."}, {"owner": {"reputation": 3235, "user_id": 3741698, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/acd33beb17170fd7aa9f26bfe3f5bd91?s=128&d=identicon&r=PG", "display_name": "David Hackro", "link": "https://stackoverflow.com/users/3741698/david-hackro"}, "edited": false, "score": 0, "creation_date": 1527527318, "post_id": 50570262, "comment_id": 88151408, "body": "please see the documentation <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-int.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 17304, "user_id": 3363481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o4HU5.png?s=128&g=1", "display_name": "earthw0rmjim", "link": "https://stackoverflow.com/users/3363481/earthw0rmjim"}, "is_accepted": true, "score": 79, "last_activity_date": 1547821332, "last_edit_date": 1547821332, "creation_date": 1527525691, "answer_id": 50570561, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/50570561#50570561", "title": "How to convert String to Int in Kotlin?", "body": "<p>You could call <code>toInt()</code> on your <code>String</code> instances:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    for (str in args) {\n        try {\n            val parsedInt = str.toInt()\n            println(\"The parsed int is $parsedInt\")\n        } catch (nfe: NumberFormatException) {\n            // not a valid int\n        }\n    }\n}\n</code></pre>\n\n<p>Or <code>toIntOrNull()</code> as an alternative:</p>\n\n<pre><code>for (str in args) {\n    val parsedInt = str.toIntOrNull()\n    if (parsedInt != null) {\n        println(\"The parsed int is $parsedInt\")\n    } else {\n        // not a valid int\n    }\n}\n</code></pre>\n\n<p>If you don't care about the invalid values, then you could combine <code>toIntOrNull()</code> with the safe call operator and a scope function, for example:</p>\n\n<pre><code>for (str in args) {\n    str.toIntOrNull()?.let {\n        println(\"The parsed int is $it\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": false, "score": 16, "last_activity_date": 1547836433, "last_edit_date": 1547836433, "creation_date": 1527525904, "answer_id": 50570603, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/50570603#50570603", "title": "How to convert String to Int in Kotlin?", "body": "<pre><code>val i = \"42\".toIntOrNull()\n</code></pre>\n\n<p>Keep in mind that the result is nullable as the name suggests.</p>\n"}, {"comments": [{"owner": {"reputation": 1025, "user_id": 6284931, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b6c950140fb4270a75e3f1bddfcde44a?s=128&d=identicon&r=PG", "display_name": "Hard Coder", "link": "https://stackoverflow.com/users/6284931/hard-coder"}, "edited": false, "score": 0, "creation_date": 1527529699, "post_id": 50570684, "comment_id": 88152408, "body": "Thanks for the response. I am a newbie in Kotlin, can you please add some comments to explain the code provided? that might also help others"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 5, "creation_date": 1527537492, "post_id": 50570684, "comment_id": 88155122, "body": "This is just a longer slower way to write <code>it.toIntOrNull() ?: throw IllegalArgumentException(&quot;cannot parse to int $it&quot;)</code>."}], "tags": [], "owner": {"reputation": 15406, "user_id": 5400548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6117d9f5800bbdab47706d66d3c8d70b?s=128&d=identicon&r=PG&f=1", "display_name": "leetwinski", "link": "https://stackoverflow.com/users/5400548/leetwinski"}, "is_accepted": false, "score": 1, "last_activity_date": 1527530687, "last_edit_date": 1527530687, "creation_date": 1527526234, "answer_id": 50570684, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/50570684#50570684", "title": "How to convert String to Int in Kotlin?", "body": "<p>i would go with something like this.</p>\n\n<pre><code>import java.util.*\n\nfun String?.asOptionalInt() = Optional.ofNullable(this).map { it.toIntOrNull() }\n\nfun main(args: Array&lt;String&gt;) {\n    val intArgs = args.map {\n        it.asOptionalInt().orElseThrow {\n            IllegalArgumentException(\"cannot parse to int $it\")\n        }\n    }\n\n    println(intArgs)\n}\n</code></pre>\n\n<p>this is quite a nice way to do this, without introducing unsafe nullable values.</p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1567173320, "post_id": 54718406, "comment_id": 101896373, "body": "A table is not easy to understand. Please, add column titles. What is true and  false?"}, {"owner": {"reputation": 10824, "user_id": 619860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6vm1N.jpg?s=128&g=1", "display_name": "Hoa Nguyen", "link": "https://stackoverflow.com/users/619860/hoa-nguyen"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 4, "creation_date": 1567173942, "post_id": 54718406, "comment_id": 101896720, "body": "Hi CoolMind, the first row is column title, it answers the question (numberString is a valid number) is true or false"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1611744949, "post_id": 54718406, "comment_id": 116547437, "body": "Sorry, I again understood the table not so easily, so edited the answer."}], "tags": [], "owner": {"reputation": 10824, "user_id": 619860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6vm1N.jpg?s=128&g=1", "display_name": "Hoa Nguyen", "link": "https://stackoverflow.com/users/619860/hoa-nguyen"}, "is_accepted": false, "score": 17, "last_activity_date": 1611744907, "last_edit_date": 1611744907, "creation_date": 1550273824, "answer_id": 54718406, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/54718406#54718406", "title": "How to convert String to Int in Kotlin?", "body": "<p>Actually, there are several ways:</p>\n<p>Given:</p>\n<pre><code>var numberString : String = &quot;numberString&quot; \n// number is the int value of numberString (if any)\nvar defaultValue : Int    = defaultValue\n</code></pre>\n<p>Then we have:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Operation</th>\n<th>Numeric value</th>\n<th>Non-numeric value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>numberString.toInt()</td>\n<td>number</td>\n<td>NumberFormatException</td>\n</tr>\n<tr>\n<td>numberString.toIntOrNull()</td>\n<td>number</td>\n<td>null</td>\n</tr>\n<tr>\n<td>numberString.toIntOrNull() ?: defaultValue</td>\n<td>number</td>\n<td>defaultValue</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If <code>numberString</code> is a valid integer, we get <code>number</code>, else see a result in column <code>Non-numeric value</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 4, "last_activity_date": 1611744100, "last_edit_date": 1611744100, "creation_date": 1567173664, "answer_id": 57728210, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/57728210#57728210", "title": "How to convert String to Int in Kotlin?", "body": "<p>As suggested above, use <code>toIntOrNull()</code>.</p>\n<blockquote>\n<p>Parses the string as an [Int] number and returns the result\nor <code>null</code> if the string is not a valid representation of a number.</p>\n</blockquote>\n<pre><code>val a = &quot;11&quot;.toIntOrNull()   // 11\nval b = &quot;-11&quot;.toIntOrNull()  // -11\nval c = &quot;11.7&quot;.toIntOrNull() // null\nval d = &quot;11.0&quot;.toIntOrNull() // null\nval e = &quot;abc&quot;.toIntOrNull()  // null\nval f = null?.toIntOrNull()  // null\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1571812668, "post_id": 58507252, "comment_id": 103359872, "body": "Please don&#39;t post only code as an answer, but include an explanation what the code does and how it solves the problem of the question. Answers with an explanation are generally of higher quality, and more likely to attract upvotes."}], "tags": [], "owner": {"reputation": 1, "user_id": 9450330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-y1mJ1mjZmMk/AAAAAAAAAAI/AAAAAAAAAAs/rdx5kVccZis/photo.jpg?sz=128", "display_name": "therealsanaullah", "link": "https://stackoverflow.com/users/9450330/therealsanaullah"}, "is_accepted": false, "score": 0, "last_activity_date": 1571756832, "creation_date": 1571756832, "answer_id": 58507252, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/58507252#58507252", "title": "How to convert String to Int in Kotlin?", "body": "<pre><code>fun getIntValueFromString(value : String): Int {\n    var returnValue = \"\"\n    value.forEach {\n        val item = it.toString().toIntOrNull()\n        if(item is Int){\n            returnValue += item.toString()\n        }\n\n    }\n    return returnValue.toInt()\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3190, "user_id": 2987755, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gHWsA.jpg?s=128&g=1", "display_name": "dkb", "link": "https://stackoverflow.com/users/2987755/dkb"}, "edited": false, "score": 1, "creation_date": 1611133601, "post_id": 62189522, "comment_id": 116349534, "body": "same can be found at <a href=\"https://stackoverflow.com/a/54718406/2987755\">stackoverflow.com/a/54718406/2987755</a>"}], "tags": [], "owner": {"reputation": 3107, "user_id": 1749806, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9184b509b41fb3620e2d88592de5148b?s=128&d=identicon&r=PG&f=1", "display_name": "Goran Horia Mihail", "link": "https://stackoverflow.com/users/1749806/goran-horia-mihail"}, "is_accepted": false, "score": 3, "last_activity_date": 1591269268, "last_edit_date": 1591269268, "creation_date": 1591257234, "answer_id": 62189522, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/62189522#62189522", "title": "How to convert String to Int in Kotlin?", "body": "<p>I use this util function:</p>\n\n<pre><code>fun safeInt(text: String, fallback: Int): Int {\n    return text.toIntOrNull() ?: fallback\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 1, "creation_date": 1614445610, "post_id": 66399967, "comment_id": 117390239, "body": "Why the <code>toString()</code> call? The asker already has a string to work with."}, {"owner": {"reputation": 6476, "user_id": 872707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a52e516d40736111c3d3ab6d313bc70?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/872707/amit-verma"}, "edited": false, "score": 0, "creation_date": 1614513381, "post_id": 66399967, "comment_id": 117402937, "body": "While this piece of code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn and eventually apply that knowledge to their own code. You are also likely to have positive feedback/upvotes from users, when the code is explained."}], "tags": [], "owner": {"reputation": 1, "user_id": 11257208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/194185bb3f5bca36b3a0c639c5565f3d?s=128&d=identicon&r=PG&f=1", "display_name": "James Walton", "link": "https://stackoverflow.com/users/11257208/james-walton"}, "is_accepted": false, "score": 0, "last_activity_date": 1614517574, "last_edit_date": 1614517574, "creation_date": 1614437200, "answer_id": 66399967, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin/66399967#66399967", "title": "How to convert String to Int in Kotlin?", "body": "<pre><code>string_name.toString().toInt()\n</code></pre>\n<p>converts <code>string_name</code> to <code>String</code> and then the resulting <code>String</code> is converted to <code>int</code>.</p>\n"}], "owner": {"reputation": 1025, "user_id": 6284931, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b6c950140fb4270a75e3f1bddfcde44a?s=128&d=identicon&r=PG", "display_name": "Hard Coder", "link": "https://stackoverflow.com/users/6284931/hard-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68325, "favorite_count": 6, "accepted_answer_id": 50570561, "answer_count": 8, "score": 69, "last_activity_date": 1614517574, "creation_date": 1527524351, "last_edit_date": 1547836457, "question_id": 50570262, "link": "https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin", "title": "How to convert String to Int in Kotlin?", "body": "<p>I am working on a console application in Kotlin where I accept multiple arguments in <code>main()</code> function</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    // validation &amp; String to Integer conversion\n}\n</code></pre>\n\n<p>I want to check whether the <code>String</code> is a valid integer and convert the same or else I have to throw some exception.</p>\n\n<p>How can I resolve this?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-appcompat", "android-9.0-pie"], "comments": [{"owner": {"reputation": 20237, "user_id": 4390381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NLMC7.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4390381/sagar"}, "edited": false, "score": 0, "creation_date": 1527519636, "post_id": 50569099, "comment_id": 88148059, "body": "Add your error logs as text instead of image."}, {"owner": {"reputation": 1942, "user_id": 5458344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c732ce4032f4b690f5b4e33e5031ec?s=128&d=identicon&r=PG&f=1", "display_name": "E.Abdel", "link": "https://stackoverflow.com/users/5458344/e-abdel"}, "edited": false, "score": 0, "creation_date": 1527519729, "post_id": 50569099, "comment_id": 88148110, "body": "what is the hint message?"}], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1527519707, "creation_date": 1527519707, "answer_id": 50569163, "question_id": 50569099, "link": "https://stackoverflow.com/questions/50569099/android-compiletarget-p-appcompat-library/50569163#50569163", "title": "Android compileTarget P appcompat library", "body": "<blockquote>\n  <p>Is there one for Android P already?</p>\n</blockquote>\n\n<p>Yes. We have 28.0.0-alpha1, <a href=\"https://developer.android.com/topic/libraries/support-library/revisions\" rel=\"nofollow noreferrer\">released in march</a></p>\n\n<blockquote>\n  <p>Note: 28.0.0-alpha1 is a pre-release version to support the Android P developer preview. Its API surface is subject to change, and it does not necessarily include features or bug fixes from the latest stable versions of Support Library. For details on the P developer preview, see the release notes.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 7301994, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-qWaBeDMhPDg/AAAAAAAAAAI/AAAAAAAAAdU/CgdafEnGZbE/photo.jpg?sz=128", "display_name": "Daniel D&#228;schle", "link": "https://stackoverflow.com/users/7301994/daniel-d%c3%a4schle"}, "edited": false, "score": 0, "creation_date": 1527617637, "post_id": 50584118, "comment_id": 88190358, "body": "Yes i know that. But here is described something: <a href=\"https://developer.android.com/topic/libraries/architecture/adding-components\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/&hellip;</a>  <code>Navigation classes are already in the androidx.navigation package, but currently depend on Support Library 27.1, and associated Arch component versions. Version of Navigation with AndroidX dependencies will be released in the future.</code>"}], "tags": [], "owner": {"reputation": 2662, "user_id": 2707179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FUNvp.jpg?s=128&g=1", "display_name": "michalbrz", "link": "https://stackoverflow.com/users/2707179/michalbrz"}, "is_accepted": false, "score": 0, "last_activity_date": 1527595951, "creation_date": 1527595951, "answer_id": 50584118, "question_id": 50569099, "link": "https://stackoverflow.com/questions/50569099/android-compiletarget-p-appcompat-library/50584118#50584118", "title": "Android compileTarget P appcompat library", "body": "<p>I'm not sure if you are aware of that, but AndroidX is <strong>substitution</strong> for appcompat library.</p>\n\n<p>AndroidX is set of libraries that package everything that is not included in the system, but in your app. That includes support/appcompat libraries. It should be your go-to option when target Android P and future versions.</p>\n\n<p>So if you want to target P <em>because</em> you want to use AndroidX, then <strong>you don't need appcompat at all</strong>, because you have everything you need in AndroidX. To check which packages from AndroidX should replace packages in appcompat, see: <a href=\"https://developer.android.com/topic/libraries/support-library/refactor\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/support-library/refactor</a></p>\n\n<p>For more information and explanation what AndroidX really is, see <a href=\"https://android-developers.googleblog.com/2018/05/hello-world-androidx.html\" rel=\"nofollow noreferrer\">this blog post</a> on Android Developers Blog.</p>\n"}], "owner": {"reputation": 553, "user_id": 7301994, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-qWaBeDMhPDg/AAAAAAAAAAI/AAAAAAAAAdU/CgdafEnGZbE/photo.jpg?sz=128", "display_name": "Daniel D&#228;schle", "link": "https://stackoverflow.com/users/7301994/daniel-d%c3%a4schle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527595951, "creation_date": 1527519533, "last_edit_date": 1527519566, "question_id": 50569099, "link": "https://stackoverflow.com/questions/50569099/android-compiletarget-p-appcompat-library", "title": "Android compileTarget P appcompat library", "body": "<p><a href=\"https://i.imgur.com/gvEwBkL.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/gvEwBkL.png</a></p>\n\n<p>Android Studio tells me to use a newer Version of appcompat. Is there one for Android P already? I have to target P because of AndroidX.</p>\n"}, {"tags": ["json", "serialization", "kotlin", "kotlin-js"], "answers": [{"comments": [{"owner": {"reputation": 4617, "user_id": 283143, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ce2105c628f0492c916ba08fab8455d4?s=128&d=identicon&r=PG", "display_name": "bcosynot", "link": "https://stackoverflow.com/users/283143/bcosynot"}, "edited": false, "score": 0, "creation_date": 1527525894, "post_id": 50569164, "comment_id": 88150841, "body": "Thanks. The latter approach of consuming response as dynamic and converting using dynamic-to-Kotlin converter worked. Using <code>JSON::parse</code> was throwing errors and I wasn&#39;t able to figure out the root cause."}, {"owner": {"reputation": 259, "user_id": 5438558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ShxAp5iC7E/AAAAAAAAAAI/AAAAAAAAARM/TM5sLskezaE/photo.jpg?sz=128", "display_name": "sandwwraith", "link": "https://stackoverflow.com/users/5438558/sandwwraith"}, "reply_to_user": {"reputation": 4617, "user_id": 283143, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ce2105c628f0492c916ba08fab8455d4?s=128&d=identicon&r=PG", "display_name": "bcosynot", "link": "https://stackoverflow.com/users/283143/bcosynot"}, "edited": false, "score": 0, "creation_date": 1527587316, "post_id": 50569164, "comment_id": 88171650, "body": "The common mistake there is to mix up <code>kotlin.js.JSON</code> with <code>kotlinx.serialization.json.JSON</code> - former is imported automatically and can&#39;t properly handle data classes."}, {"owner": {"reputation": 985, "user_id": 8505024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lSflM.png?s=128&g=1", "display_name": "iHad 169", "link": "https://stackoverflow.com/users/8505024/ihad-169"}, "edited": false, "score": 0, "creation_date": 1608710170, "post_id": 50569164, "comment_id": 115661173, "body": "Can you list how to write?"}], "tags": [], "owner": {"reputation": 259, "user_id": 5438558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ShxAp5iC7E/AAAAAAAAAAI/AAAAAAAAARM/TM5sLskezaE/photo.jpg?sz=128", "display_name": "sandwwraith", "link": "https://stackoverflow.com/users/5438558/sandwwraith"}, "is_accepted": true, "score": 3, "last_activity_date": 1527519709, "creation_date": 1527519709, "answer_id": 50569164, "question_id": 50569013, "link": "https://stackoverflow.com/questions/50569013/serializing-external-node-modules-json-return-into-kotlin-class-in-kotlinjs/50569164#50569164", "title": "Serializing external node module&#39;s JSON return into Kotlin class in KotlinJS", "body": "<p>Currently there is no way to automatically deserialize external call. You can either consume your API as <code>String</code> and use <code>kotlinx.serialization.json.JSON::parse</code> or consume it as <code>dynamic</code> and then use dynamic-to-Kotlin converter: <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/runtime_usage.md#dynamic-object-parser-js-only\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/runtime_usage.md#dynamic-object-parser-js-only</a></p>\n"}], "owner": {"reputation": 4617, "user_id": 283143, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ce2105c628f0492c916ba08fab8455d4?s=128&d=identicon&r=PG", "display_name": "bcosynot", "link": "https://stackoverflow.com/users/283143/bcosynot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 50569164, "answer_count": 1, "score": 1, "last_activity_date": 1527519709, "creation_date": 1527519221, "question_id": 50569013, "link": "https://stackoverflow.com/questions/50569013/serializing-external-node-modules-json-return-into-kotlin-class-in-kotlinjs", "title": "Serializing external node module&#39;s JSON return into Kotlin class in KotlinJS", "body": "<p>I am trying to write a program in KotlinJS that converts an existing node module's API response (normally returned as a JSON object) into an instance of a Kotlin class that has a similar set of fields. </p>\n\n<p>The external node module looks like this in Kotlin:</p>\n\n<pre><code>@file:JsModule(\"someapi-client\")\npackage ext.jspackage.someAPIClient\n\nimport kotlin.js.Promise\n\nexternal class SomeAPIClient(apiKey: String) {\n    fun getAPIResponse(someParam: String): Promise&lt;APIResponse&gt;\n}\n</code></pre>\n\n<p>I am trying to represent the JSON object's schema with the following class:</p>\n\n<pre><code>package ext.jspackage.someAPIClient\n\nimport kotlinx.serialization.Serializable\n\n@Serializable\ndata class APIResponse(val data: List&lt;DataInResponse&gt;, val start: Int, val end: Int, val timezone: String)\n</code></pre>\n\n<p>Is there a way to get Kotlin to serialize JSON returned by <code>SomeAPIClient::getAPIResponse</code> into an instance of <code>APIResponse</code> automatically or do I need to serialize them manually? </p>\n"}, {"tags": ["java", "spring", "static", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 440, "user_id": 1829511, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/efb56de1e4ac77d3bd9b0d13d621e89d?s=128&d=identicon&r=PG", "display_name": "Andreas Klintberg", "link": "https://stackoverflow.com/users/1829511/andreas-klintberg"}, "edited": false, "score": 0, "creation_date": 1565027449, "post_id": 50568308, "comment_id": 101213786, "body": "As Shadov is saying in their answer, lateinit is not possible with the @JvmField annotation."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 440, "user_id": 1829511, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/efb56de1e4ac77d3bd9b0d13d621e89d?s=128&d=identicon&r=PG", "display_name": "Andreas Klintberg", "link": "https://stackoverflow.com/users/1829511/andreas-klintberg"}, "edited": false, "score": 0, "creation_date": 1565087666, "post_id": 50568308, "comment_id": 101232808, "body": "In that case, I recommend writing this file in Java."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1556631582, "last_edit_date": 1556631582, "creation_date": 1527516740, "answer_id": 50568308, "question_id": 50567482, "link": "https://stackoverflow.com/questions/50567482/inject-into-static-field-kotlin-spring-boot/50568308#50568308", "title": "Inject into static field Kotlin/Spring Boot", "body": "<p>Theoretically, the following should be equivalent:</p>\n\n<pre><code>@Component\nclass GlobalValue {\n    companion object {\n        @JvmField\n        lateinit var DATABASE: String\n    }\n\n    @Value(\"\\${mongodb.db}\")\n    fun setDatabase(db: String) {\n        DATABASE = db;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5046, "user_id": 4896651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2b3591bbcef7bf1e8fb4ecab817e2920?s=128&d=identicon&r=PG&f=1", "display_name": "Shadov", "link": "https://stackoverflow.com/users/4896651/shadov"}, "is_accepted": true, "score": 5, "last_activity_date": 1527517451, "creation_date": 1527517451, "answer_id": 50568501, "question_id": 50567482, "link": "https://stackoverflow.com/questions/50567482/inject-into-static-field-kotlin-spring-boot/50568501#50568501", "title": "Inject into static field Kotlin/Spring Boot", "body": "<p>Thought this was gonna work:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass GlobalValue {\n    companion object {\n        @JvmStatic\n        lateinit var database: String\n        @Value(\"\\${myprop.testing2}\") set\n    }\n}\n</code></pre>\n\n<p>But it doesn't, for some reason, possibly, because generated setter is <code>final</code>, or because it goes through <code>Companion</code> object, I don't know.</p>\n\n<p>This works tho:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\nclass GlobalValue {\n    companion object {\n        @JvmField\n        var database: String = \"test\"\n    }\n\n    @Value(\"\\${myprop.testing2}\")\n    fun setDatabase(db: String) {\n        database = db\n    }\n}\n</code></pre>\n\n<p>Note the <code>\\</code> in <code>@Value</code> - it's because otherwise we would have a conflict with the language itself, such construct <a href=\"https://github.com/spring-projects/spring-boot/issues/8061\" rel=\"noreferrer\">is already there.</a>\nAlso, you need to specify a default value, <code>lateinit</code> is impossible with <code>@JvmField</code>.</p>\n"}], "owner": {"reputation": 159, "user_id": 9152062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef444a32018332c23f86ac7625e9b12?s=128&d=identicon&r=PG&f=1", "display_name": "M&#225;rio S&#233;rgio Esteves Alvial", "link": "https://stackoverflow.com/users/9152062/m%c3%a1rio-s%c3%a9rgio-esteves-alvial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1624, "favorite_count": 0, "accepted_answer_id": 50568501, "answer_count": 2, "score": 3, "last_activity_date": 1556631582, "creation_date": 1527513679, "question_id": 50567482, "link": "https://stackoverflow.com/questions/50567482/inject-into-static-field-kotlin-spring-boot", "title": "Inject into static field Kotlin/Spring Boot", "body": "<p>Im trying to inject a value into a static field in Kotlin, but I`m not having success. </p>\n\n<p>I know a workaround with Java, so in Kotlin, what`s the equivalent for this Java code?</p>\n\n<pre><code>@Component\npublic class GlobalValue {\n\n    public static String DATABASE;\n\n    @Value(\"${mongodb.db}\")\n    public void setDatabase(String db) {\n        DATABASE = db;\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "jetbrains-ide"], "comments": [{"owner": {"reputation": 5353, "user_id": 1137529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/deeb3aeee78096347c7763b67f0dc9bc?s=128&d=identicon&r=PG&f=1", "display_name": "alexsmail", "link": "https://stackoverflow.com/users/1137529/alexsmail"}, "edited": false, "score": 0, "creation_date": 1527572971, "post_id": 50566930, "comment_id": 88163311, "body": "Why downgrade the question?"}], "answers": [{"comments": [{"owner": {"reputation": 5353, "user_id": 1137529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/deeb3aeee78096347c7763b67f0dc9bc?s=128&d=identicon&r=PG&f=1", "display_name": "alexsmail", "link": "https://stackoverflow.com/users/1137529/alexsmail"}, "edited": false, "score": 0, "creation_date": 1527516585, "post_id": 50568133, "comment_id": 88146387, "body": "What about plans for Java 10? Java 11?"}], "tags": [], "owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "is_accepted": false, "score": 1, "last_activity_date": 1527516072, "creation_date": 1527516072, "answer_id": 50568133, "question_id": 50566930, "link": "https://stackoverflow.com/questions/50566930/how-kotlin-on-jvm-is-planning-to-cope-with-new-policy-of-java-releases/50568133#50568133", "title": "How Kotlin on JVM is planning to cope with new policy of Java releases?", "body": "<blockquote>\n  <p>any plan to target Java 9?</p>\n</blockquote>\n\n<p>Kotlin has been compatible with Java 9 since version 1.2:</p>\n\n<blockquote>\n  <p>The Kotlin standard library is now fully compatible with the Java 9 module system, which forbids split packages (multiple jar files declaring classes in the same package). In order to support that, new artifacts kotlin-stdlib-jdk7 and kotlin-stdlib-jdk8 are introduced</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#kotlin-standard-library-artifacts-and-split-packages\" rel=\"nofollow noreferrer\">source</a></p>\n"}, {"comments": [{"owner": {"reputation": 5353, "user_id": 1137529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/deeb3aeee78096347c7763b67f0dc9bc?s=128&d=identicon&r=PG&f=1", "display_name": "alexsmail", "link": "https://stackoverflow.com/users/1137529/alexsmail"}, "edited": false, "score": 0, "creation_date": 1527577161, "post_id": 50572542, "comment_id": 88165383, "body": "Thank you for you reply. invokedynamic was inroduce actually in Java 7, not in Java 8. It was introduce for the other-than-Java languages. At Java 8 Java decided to take benefit of it for lambdas."}, {"owner": {"reputation": 5353, "user_id": 1137529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/deeb3aeee78096347c7763b67f0dc9bc?s=128&d=identicon&r=PG&f=1", "display_name": "alexsmail", "link": "https://stackoverflow.com/users/1137529/alexsmail"}, "edited": false, "score": 0, "creation_date": 1527577860, "post_id": 50572542, "comment_id": 88165793, "body": "My main concern is that Oracle started to <b>remove</b> features. For example, in Java 11 it is planned to remove JAX-WS and JAXB from JDK <a href=\"http://www.computerworld.in/news/java-11-roadmap-new-features-you-can-expect\" rel=\"nofollow noreferrer\">computerworld.in/news/&hellip;</a> . So, it needs appropriate preparation from the Kotlin site. My question is what plan Jetbrain have for newer Java release. Updated question with this comment."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1527535943, "creation_date": 1527535943, "answer_id": 50572542, "question_id": 50566930, "link": "https://stackoverflow.com/questions/50566930/how-kotlin-on-jvm-is-planning-to-cope-with-new-policy-of-java-releases/50572542#50572542", "title": "How Kotlin on JVM is planning to cope with new policy of Java releases?", "body": "<p>Kotlin targets Java 8 because that introduces major JVM changes which Kotlin can use (e.g. default methods in interfaces and <code>invokedynamic</code> changes which enable Java lambdas). Note that Kotlin <em>doesn't</em> have a separate Java 7 target; the only relevant-to-Kotlin changes there are in expanded standard library and they don't require changes in Kotlin itself, just an extra library. The same should apply to most new releases. I.e. there will maybe be <code>kotlin-stdlib-jdk10/11</code> and not necessarily even that.</p>\n\n<p>The next such change which is likely to happen is when Java adds value types and/or generics over primitives (which has <a href=\"http://openjdk.java.net/jeps/218\" rel=\"nofollow noreferrer\">no target version yet</a>). While existing Kotlin versions probably won't be able to use value types (depending on the design), Kotlin does implement generics over primitive on the language level quite similarly to how it has non-abstract methods in interfaces.</p>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "is_accepted": false, "score": 0, "last_activity_date": 1527686227, "creation_date": 1527686227, "answer_id": 50605739, "question_id": 50566930, "link": "https://stackoverflow.com/questions/50566930/how-kotlin-on-jvm-is-planning-to-cope-with-new-policy-of-java-releases/50605739#50605739", "title": "How Kotlin on JVM is planning to cope with new policy of Java releases?", "body": "<p>Kotlin has no dependency on JAX-WS or JAXB and so doesn't need to make any changes to be compatible with Java 11.</p>\n\n<p>I'm finding it hard to understand why you think that this will be an issue.</p>\n"}], "owner": {"reputation": 5353, "user_id": 1137529, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/deeb3aeee78096347c7763b67f0dc9bc?s=128&d=identicon&r=PG&f=1", "display_name": "alexsmail", "link": "https://stackoverflow.com/users/1137529/alexsmail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1527686227, "creation_date": 1527511833, "last_edit_date": 1527578108, "question_id": 50566930, "link": "https://stackoverflow.com/questions/50566930/how-kotlin-on-jvm-is-planning-to-cope-with-new-policy-of-java-releases", "title": "How Kotlin on JVM is planning to cope with new policy of Java releases?", "body": "<p>AFAIK, Kotlin targets java 6 and java 8. Java 9 is out of their, any plan to target Java 9?\nI have even broader question. Now, Java will have new release every 6 month. What Kotlin is planning to do about it? What is expecting delay for Kotlin to target latest Java version.</p>\n\n<p><strong>UPD-1:</strong> My main concern is that Oracle started to actively <strong>remove</strong> features. For example, <a href=\"http://www.computerworld.in/news/java-11-roadmap-new-features-you-can-expect\" rel=\"nofollow noreferrer\">in Java 11 it is planned to remove JAX-WS and JAXB from JDK</a>. So, it needs appropriate preparation from the Kotlin site. My question is what plan Jetbrain have for newer Java release.</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527511078, "post_id": 50566615, "comment_id": 88143253, "body": "It&#39;s fine just because Java tolerates raw types."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1527511081, "post_id": 50566615, "comment_id": 88143258, "body": "<code>&#47;&#47;this is fine</code> actually not really"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527511186, "post_id": 50566615, "comment_id": 88143322, "body": "That is not fine, it should be <code>BaseFragment&lt;N, V extends BaseViewModel&lt;N&gt;&gt;</code>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1527517830, "post_id": 50566615, "comment_id": 88147056, "body": "See <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\" title=\"what is a raw type and why shouldnt we use it\">stackoverflow.com/questions/2770321/&hellip;</a> (since others don&#39;t explain why this is wrong)."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1527517922, "post_id": 50566744, "comment_id": 88147106, "body": "That last depends on how you mean &quot;basically&quot;. There are important differences."}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1527518987, "post_id": 50566744, "comment_id": 88147691, "body": "I don&#39;t know what author is trying to achieve since we have only class signatures. And I&#39;ve posted answer only from perspective of that signatures. To see full picture and give more detailed answer we need more code samples which describes how <code>BaseViewModel</code> can be used. Anyway you&#39;ve already posted nice link which explains such differences."}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1527519043, "post_id": 50566744, "comment_id": 88147725, "body": "Maybe it makes sense to go with <code>V: BaseViewModel&lt;*&gt;</code> but again, I don&#39;t know whole picture."}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 3, "last_activity_date": 1527511291, "creation_date": 1527511291, "answer_id": 50566744, "question_id": 50566615, "link": "https://stackoverflow.com/questions/50566615/type-argument-required-for-a-class-while-extending-in-kotlin/50566744#50566744", "title": "Type argument required for a class while extending in kotlin", "body": "<p>Kotlin doesn't allow to use raw types as Java does. Thus, you have to specify some type for your <code>V : BaseViewModel</code>:</p>\n\n<pre><code>class BaseFragment&lt;V: BaseViewModel&lt;Any&gt;&gt;: Fragment() {\n</code></pre>\n\n<p>It is equivalent for your Java code cause <code>V extends BaseViewModel</code> basically means <code>V extends BaseViewModel&lt;Object&gt;</code></p>\n"}], "owner": {"reputation": 898, "user_id": 6166726, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/HrJQ5.jpg?s=128&g=1", "display_name": "Abhishek Tiwari", "link": "https://stackoverflow.com/users/6166726/abhishek-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 50566744, "answer_count": 1, "score": 0, "last_activity_date": 1527511291, "creation_date": 1527510916, "question_id": 50566615, "link": "https://stackoverflow.com/questions/50566615/type-argument-required-for-a-class-while-extending-in-kotlin", "title": "Type argument required for a class while extending in kotlin", "body": "<p>So my problem is simple,\nIn java if i have a base class like this:</p>\n\n<p>BaseViewModel.Java  </p>\n\n<pre><code>public abstract class BaseViewModel&lt;N&gt; extends ViewModel {\n</code></pre>\n\n<p>I can extend this class to other classes without defining the generic argument N, like this:</p>\n\n<pre><code>public class BaseFragment&lt;V extends BaseViewModel&gt; { //this is fine\n</code></pre>\n\n<p>but kotlin throws an error with this approach asking for the generic definition.</p>\n\n<pre><code>class BaseFragment&lt;V: BaseViewModel&gt;: Fragment() {// one type argument expected\n</code></pre>\n\n<p>how to avoid this?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-analytics"], "comments": [{"owner": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1527511095, "post_id": 50566390, "comment_id": 88143267, "body": "Hello!I think, your should init val bundle = Bundle() into loop. Also,  RxJava (RxKotlin) support a zip request, when several requests zipping to one request. May be your should  user Rx?"}, {"owner": {"reputation": 211, "user_id": 7075032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09f75df7b5e45346aed7a649aaf21c0?s=128&d=identicon&r=PG", "display_name": "Sanjay Prajapati", "link": "https://stackoverflow.com/users/7075032/sanjay-prajapati"}, "reply_to_user": {"reputation": 184, "user_id": 7449805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-hvMDvdEbKO0/AAAAAAAAAAI/AAAAAAAAABQ/sp--DYxhwP0/photo.jpg?sz=128", "display_name": "Georgiy Chebotarev", "link": "https://stackoverflow.com/users/7449805/georgiy-chebotarev"}, "edited": false, "score": 0, "creation_date": 1527511954, "post_id": 50566390, "comment_id": 88143824, "body": "I tried with putting val bundle=Bundle() into for loop but it was not working. And here i want to send multiple request but data showing multiple times in firebase dashboard."}, {"owner": {"reputation": 455, "user_id": 11690901, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fuFK2GwhuTA/AAAAAAAAAAI/AAAAAAAAFls/mUBKcRXtlmo/photo.jpg?sz=128", "display_name": "Abhishek Maurya", "link": "https://stackoverflow.com/users/11690901/abhishek-maurya"}, "edited": false, "score": 0, "creation_date": 1568791560, "post_id": 50566390, "comment_id": 102382332, "body": "Same happens with me in iOS swift, multiple parameter values in for loop."}], "owner": {"reputation": 211, "user_id": 7075032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09f75df7b5e45346aed7a649aaf21c0?s=128&d=identicon&r=PG", "display_name": "Sanjay Prajapati", "link": "https://stackoverflow.com/users/7075032/sanjay-prajapati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527510264, "creation_date": 1527510264, "question_id": 50566390, "link": "https://stackoverflow.com/questions/50566390/firebase-analytics-in-android-multiple-events-sending-in-for-loop-showing-mult", "title": "Firebase analytics in Android - Multiple events sending in for-loop showing multiple event&#39;s property value instead of single property value", "body": "<p>I have to send list of data in firebase events but as firebase not supporting to send ArrayList data in firebase event property. So, i am sending multiple events using for loop. Events are calling multiple times but its value contains multiple entry. \nfor example i have 4 items to send in firebase, and events are calling 4 times as expected, but its event property contains 4 values which is wrong. I want to send multiple events in for loop with single value. </p>\n\n<p><a href=\"https://i.stack.imgur.com/p0pNJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p0pNJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried multiple ways but its showing above result. My code snippet is here,</p>\n\n<pre><code>val bundle = Bundle()\nfor (reorder in reorderList) {\n     bundle.putString(PROP_DRUG_NAME, reorder.drug)\n     bundle.putString(PROP_MISSED_DUE_DATE,if (reorder.missedDrug) PROP_VALUE_YES else PROP_VALUE_NO)      \n     FirebaseAnalytics.getInstance(context)?.logEvent(EVENT_DRUGS_REORDER, bundle)\n     bundle.clear()\n    }\n</code></pre>\n\n<p>Also Android studio console showing items one time </p>\n\n<pre><code>Logging event (FE): drugs_reorder, Bundle[{firebase_event_origin(_o)=app, firebase_screen_class(_sc)=xxxActivity, firebase_screen_id(_si)=xxx, drug_name= xxxx, missed_due_date=yes}]\n</code></pre>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 2, "creation_date": 1527508656, "post_id": 50565745, "comment_id": 88141826, "body": "Are you reusing the same <code>AppComponent</code> to retrieve your <code>MeterCollection</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 550, "user_id": 6831099, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-TECav3BxPeY/AAAAAAAAAAI/AAAAAAAAABU/6DTsNsEkflY/photo.jpg?sz=128", "display_name": "Ahsan Saeed", "link": "https://stackoverflow.com/users/6831099/ahsan-saeed"}, "edited": false, "score": 0, "creation_date": 1527521255, "post_id": 50567648, "comment_id": 88148876, "body": "How do I use the same <b>DaggerAppComponent</b>  in different classes?"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 550, "user_id": 6831099, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-TECav3BxPeY/AAAAAAAAAAI/AAAAAAAAABU/6DTsNsEkflY/photo.jpg?sz=128", "display_name": "Ahsan Saeed", "link": "https://stackoverflow.com/users/6831099/ahsan-saeed"}, "edited": false, "score": 0, "creation_date": 1527537243, "post_id": 50567648, "comment_id": 88155047, "body": "You have multiple options. For example, you can link it to the <code>Application</code> object, which is unique for your application, assign it to an <code>object</code>s field, pass it around where you need it."}, {"owner": {"reputation": 550, "user_id": 6831099, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-TECav3BxPeY/AAAAAAAAAAI/AAAAAAAAABU/6DTsNsEkflY/photo.jpg?sz=128", "display_name": "Ahsan Saeed", "link": "https://stackoverflow.com/users/6831099/ahsan-saeed"}, "edited": false, "score": 0, "creation_date": 1527540583, "post_id": 50567648, "comment_id": 88156092, "body": "That&#39;s a great point but this is only valid if I developing my app in <b>Android</b>. But my problem is I&#39;m developing a <b>Java-based</b> app."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 550, "user_id": 6831099, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-TECav3BxPeY/AAAAAAAAAAI/AAAAAAAAABU/6DTsNsEkflY/photo.jpg?sz=128", "display_name": "Ahsan Saeed", "link": "https://stackoverflow.com/users/6831099/ahsan-saeed"}, "edited": false, "score": 0, "creation_date": 1527541487, "post_id": 50567648, "comment_id": 88156360, "body": "It really depends on your use case: if those classes are somehow connected (e.g., if they&#39;re created through a Factory - we&#39;re in Java, after all - you can keep the <code>Component</code> inside the Factory). If you need your component to be accessible from anywhere, consider using the singleton pattern or some kind of &quot;application&quot; object (your program will have 1 entry-point, you can consider that as your &quot;application&quot; object)"}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 3, "last_activity_date": 1527514840, "last_edit_date": 1527514840, "creation_date": 1527514357, "answer_id": 50567648, "question_id": 50565745, "link": "https://stackoverflow.com/questions/50565745/dagger2-generate-multiple-instances/50567648#50567648", "title": "Dagger2 generate multiple instances", "body": "<p>The <code>@Singleton</code> annotation (as well as any other scope annotation) is taken into account only if you're reusing the same component. In other words, Dagger is not able to respect your <code>@Singleton</code> scope across different instances of the same component.</p>\n\n<p>Hence, in order to inject the same <code>MeterCollection</code> instance, you should also reuse the same <code>DaggerAppComponent</code> instance (e.g., by putting it in an instance variable).</p>\n"}, {"tags": [], "owner": {"reputation": 1321, "user_id": 149851, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8677072a8348d97ea058d81d52f45beb?s=128&d=identicon&r=PG", "display_name": "Anton", "link": "https://stackoverflow.com/users/149851/anton"}, "is_accepted": false, "score": 0, "last_activity_date": 1527514845, "creation_date": 1527514845, "answer_id": 50567785, "question_id": 50565745, "link": "https://stackoverflow.com/questions/50565745/dagger2-generate-multiple-instances/50567785#50567785", "title": "Dagger2 generate multiple instances", "body": "<p><code>Singleton</code> and <code>Provider</code> annotations won't work with object which is created every time method is called. I'd refactor the class to:</p>\n\n<pre><code>@Module(includes = [UtilModule::class])\nclass MeterCollectionModule {\n\nval myMeterConnection = MeterConnection()\n\n@Singleton\n@Provides\nfun meterCollection(){\n    return myMeterConnection\n}\n</code></pre>\n\n<p>(which is identical solution to what @user2340612 proposed)</p>\n"}], "owner": {"reputation": 550, "user_id": 6831099, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-TECav3BxPeY/AAAAAAAAAAI/AAAAAAAAABU/6DTsNsEkflY/photo.jpg?sz=128", "display_name": "Ahsan Saeed", "link": "https://stackoverflow.com/users/6831099/ahsan-saeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "accepted_answer_id": 50567648, "answer_count": 2, "score": 2, "last_activity_date": 1527514845, "creation_date": 1527508177, "last_edit_date": 1527512524, "question_id": 50565745, "link": "https://stackoverflow.com/questions/50565745/dagger2-generate-multiple-instances", "title": "Dagger2 generate multiple instances", "body": "<p>I'm using Dagge2 in my kotlin project with pom file. I worked with Dagger in my android projects and it worked fine. But somehow I don't understand why Dagger generating multiple instances of my every object in kotlin. </p>\n\n<p>Below is my <strong>Component</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = [MeterCollectionModule::class])\ninterface AppComponent {    \n\nfun meterCollection(): MeterCollection\n\n}\n</code></pre>\n\n<p>And this is my <strong>Module</strong></p>\n\n<pre><code>@Module(includes = [UtilModule::class])\nclass MeterCollectionModule {\n\n@Singleton\n@Provides\nfun meterCollection() = MeterCollection()\n}\n</code></pre>\n\n<p>That's how I'm building my <strong>AppComponent</strong></p>\n\n<pre><code> DaggerAppComponent\n      .builder()\n      .build()\n      .inject(this)\n</code></pre>\n\n<p>I debug my code and see, every time I inject MeterCollection class it gives me new object.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 1841, "user_id": 5180572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wo2Rf.jpg?s=128&g=1", "display_name": "Shivam Kumar", "link": "https://stackoverflow.com/users/5180572/shivam-kumar"}, "edited": false, "score": 0, "creation_date": 1527506683, "post_id": 50565231, "comment_id": 88140652, "body": "You can check Include Kotlin support when Create Android Project"}, {"owner": {"reputation": 2665, "user_id": 4610512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/o1X2W.jpg?s=128&g=1", "display_name": "Shoeb Siddique", "link": "https://stackoverflow.com/users/4610512/shoeb-siddique"}, "reply_to_user": {"reputation": 1841, "user_id": 5180572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wo2Rf.jpg?s=128&g=1", "display_name": "Shivam Kumar", "link": "https://stackoverflow.com/users/5180572/shivam-kumar"}, "edited": false, "score": 0, "creation_date": 1527506718, "post_id": 50565231, "comment_id": 88140677, "body": "@ShivamKumar I am  NOT getting that screen."}, {"owner": {"reputation": 1841, "user_id": 5180572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wo2Rf.jpg?s=128&g=1", "display_name": "Shivam Kumar", "link": "https://stackoverflow.com/users/5180572/shivam-kumar"}, "edited": false, "score": 0, "creation_date": 1527506918, "post_id": 50565231, "comment_id": 88140807, "body": "You can go to File-&gt; New -&gt; New Project... -&gt; One popup window open where you can write your Application name , Company domain and Project location. In this screen below you can see checkbox Include Kotlin support"}], "answers": [{"tags": [], "owner": {"reputation": 2146, "user_id": 6881205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xGyHm.png?s=128&g=1", "display_name": "Abdurakhmon", "link": "https://stackoverflow.com/users/6881205/abdurakhmon"}, "is_accepted": true, "score": 1, "last_activity_date": 1527507032, "creation_date": 1527507032, "answer_id": 50565413, "question_id": 50565231, "link": "https://stackoverflow.com/questions/50565231/how-to-create-project-in-kotlin-android-studio-3-1-1/50565413#50565413", "title": "How to create project in Kotlin | Android Studio 3.1.1", "body": "<ol>\n<li><p>File-> New -> New Project</p></li>\n<li><p>Make sure you tick <code>Include Kotlin Support</code></p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/iBvZE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iBvZE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2665, "user_id": 4610512, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/o1X2W.jpg?s=128&g=1", "display_name": "Shoeb Siddique", "link": "https://stackoverflow.com/users/4610512/shoeb-siddique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 50565413, "answer_count": 1, "score": -4, "last_activity_date": 1527507032, "creation_date": 1527506454, "question_id": 50565231, "link": "https://stackoverflow.com/questions/50565231/how-to-create-project-in-kotlin-android-studio-3-1-1", "title": "How to create project in Kotlin | Android Studio 3.1.1", "body": "<p>I am learning Kotlin and i need to create some demos in Kotlin.</p>\n\n<p>Whenever i am going to create new project, i am always getting this - </p>\n\n<p><a href=\"https://i.stack.imgur.com/nZdih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZdih.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anybody help me.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["testing", "neo4j", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 678, "user_id": 1883667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ad053b413962da61912e6eade6f40a1f?s=128&d=identicon&r=PG", "display_name": "fatz", "link": "https://stackoverflow.com/users/1883667/fatz"}, "is_accepted": false, "score": 0, "last_activity_date": 1527525066, "creation_date": 1527525066, "answer_id": 50570438, "question_id": 50564530, "link": "https://stackoverflow.com/questions/50564530/neo4j-procedure-testing-and-test-server/50570438#50570438", "title": "Neo4j procedure testing and test server", "body": "<p>ok I've actually found a code in my procedure executing outside a transaction and I think this may be the cause of the problem. When I group everything in a single transaction, I don't have this problem anymore.</p>\n\n<p>I'm not entirely sure why it works for individual tests and fails when running the whole test case, but this works now.</p>\n"}], "owner": {"reputation": 678, "user_id": 1883667, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ad053b413962da61912e6eade6f40a1f?s=128&d=identicon&r=PG", "display_name": "fatz", "link": "https://stackoverflow.com/users/1883667/fatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527525066, "creation_date": 1527504134, "question_id": 50564530, "link": "https://stackoverflow.com/questions/50564530/neo4j-procedure-testing-and-test-server", "title": "Neo4j procedure testing and test server", "body": "<p>I'm creating a Neo4J procedure to import RDF data. The RDF data has a few complex structure information and I write the tests to cover every case (some triples creates labels, some properties, some relations...etc..).</p>\n\n<p>The procedures are written in Kotlin.</p>\n\n<p>It works fine, and actually each test when executed individually succeeds. but when I run the whole test case at one, I get one success then all other tests fails with the exception:</p>\n\n<p><code>org.neo4j.kernel.impl.core.ThreadToStatementContextBridge$BridgeDatabaseShutdownException: This database is shutdown.</code></p>\n\n<p>I'm new to Neo4J and I struggle to find good examples, here is the structure of a test case:</p>\n\n<pre><code>package mypackage\n\nimport org.junit.Assert\nimport org.junit.Rule\nimport org.junit.Test\nimport org.neo4j.driver.internal.value.NullValue\n\nimport org.neo4j.driver.v1.Config\nimport org.neo4j.driver.v1.GraphDatabase\nimport org.neo4j.harness.junit.Neo4jRule\n\nimport java.io.File\nimport java.net.URI\n\nclass PropertyParserTest {\n\n    // this rule starts a Neo4j instance\n    @Rule\n    @JvmField\n    var neo4j: Neo4jRule = Neo4jRule()\n            // This is the procedure/function to test\n            .withProcedure(Mypackage::class.java)\n\n    @Test\n    @Throws(Throwable::class)\n    fun shouldSetTheNameCorrectly() {\n\n        GraphDatabase.driver(neo4j.boltURI(), Config.build().withoutEncryption().toConfig()).use({ driver -&gt;\n            driver.session().use({ session -&gt;\n                // Given\n                val path: String = File(\"src/test/resources/test_rdf__1.ttl\").getAbsolutePath()\n                val testFile = File(path)\n                val urlTestFile: URI = testFile.toURI()\n                session.run(\"CALL mypackage.import('${urlTestFile}')\")\n\n                // When\n                val result = session.run(\"MATCH (n) WHERE n:Person RETURN n.name as name\")\n\n                // Then\n                var rec = result.next()\n                Assert.assertEquals(\"Manuel, Niklaus (Niclaus)\", rec.get(\"name\").asString())\n                rec = result?.next()\n                Assert.assertEquals(\"Fischli / Weiss\", rec.get(\"name\").asString())\n                rec = result?.next()\n                Assert.assertEquals(\"Hodler, Ferdinand\", rec.get(\"name\").asString())\n            })\n        })\n    }\n\n    @Test\n    @Throws(Throwable::class)\n    fun shouldSetTheAlternateNameCorrectly() {\n\n        GraphDatabase.driver(neo4j?.boltURI(), Config.build().withoutEncryption().toConfig()).use({ driver -&gt;\n            driver.session().use({ session -&gt;\n                // Given\n                val path: String = File(\"src/test/resources/test_rdf_2.ttl\").absolutePath\n                val testFile = File(path)\n                val urlTestFile: URI = testFile.toURI()\n                session.run(\"CALL mypackage.import('${urlTestFile}')\")\n\n                // When\n                val result = session.run(\"MATCH (n) WHERE n:Person RETURN n.name as name, n.alternate_names as alternate_names\")\n\n                // Then\n                var rec = result.next()\n                Assert.assertEquals(\"Holbein, Hans\", rec.get(\"name\").asString())\n                var alternateNames = rec.get(\"alternate_names\").asList()\n                Assert.assertEquals(9, alternateNames.size)\n                Assert.assertEquals(\"Holpenius, Joannes\", alternateNames[0])\n                Assert.assertEquals(\"Olpenius, Hans\", alternateNames[8])\n\n                rec = result.next()\n                Assert.assertEquals(\"Manuel, Niklaus (Niclaus)\", rec.get(\"name\").asString())\n                alternateNames = rec.get(\"alternate_names\").asList()\n                Assert.assertEquals(8, alternateNames.size)\n                rec = result.next()\n                Assert.assertEquals(\"Fischli / Weiss\", rec.get(\"name\").asString())\n                Assert.assertTrue(rec.get(\"alternate_names\") is NullValue)\n\n                rec = result.next()\n                Assert.assertEquals(\"Hodler, Ferdinand\", rec.get(\"name\").asString())\n                Assert.assertTrue(rec.get(\"alternate_names\") is NullValue)\n\n                rec = result.next()\n                Assert.assertEquals(\"Holbein\", rec.get(\"name\").asString())\n                alternateNames = rec.get(\"alternate_names\").asList()\n                Assert.assertEquals(3, alternateNames.size)\n\n            })\n        })    \n    }    \n}\n</code></pre>\n\n<p>Any idea ? I'm using this code base as starting point : <a href=\"https://github.com/jbarrasa/neosemantics/blob/3.3/src/test/java/semantics/RDFImportTest.java\" rel=\"nofollow noreferrer\">https://github.com/jbarrasa/neosemantics/blob/3.3/src/test/java/semantics/RDFImportTest.java</a></p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527506648, "post_id": 50564072, "comment_id": 88140633, "body": "Sorry for not providing a direct answer, but this kind of messy logic spread across several higher-order functions would become a super-clean and obvious loop if you used Kotlin Coroutines."}, {"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527506722, "post_id": 50564072, "comment_id": 88140679, "body": "Which are still in the experimental phase, thus I&#39;m not allowed to use it in a production code at my company."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1527506852, "post_id": 50564072, "comment_id": 88140762, "body": "They have the &quot;experimental&quot; moniker, but they also have JetBrains&#39; 100% commitment to support the experimental API even after release. JetBrains also notes that they are fully production-ready, except that they still reserve the right to change the API in the final version."}], "answers": [{"comments": [{"owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "edited": false, "score": 0, "creation_date": 1527541102, "post_id": 50566175, "comment_id": 88156240, "body": "Well, that was obvious wasn&#39;t it. Thanks a lot!"}], "tags": [], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "is_accepted": true, "score": 4, "last_activity_date": 1527592192, "last_edit_date": 1527592192, "creation_date": 1527509510, "answer_id": 50566175, "question_id": 50564072, "link": "https://stackoverflow.com/questions/50564072/kotlin-incorrectly-inferring-type-nullability-while-using-rxjava2/50566175#50566175", "title": "Kotlin incorrectly inferring type nullability while using RxJava2", "body": "<p>This has a very simple explanation: <code>null</code> values are <strong>not</strong> supported in RxJava2.</p>\n\n<p>Using <code>null</code> will throw <code>NullPointerException</code> at runtime, as explained here: <a href=\"https://github.com/ReactiveX/RxJava/wiki/What%27s-different-in-2.0\" rel=\"nofollow noreferrer\">What's different in 2.0</a>.</p>\n\n<p>In your specific case, the IDE highlights the expression as \"always true\" because RxJava2 operators don't support nullable types, so it will never emit one.</p>\n"}], "owner": {"reputation": 1602, "user_id": 4745241, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/xoL2Z.jpg?s=128&g=1", "display_name": "Ernest Zamelczyk", "link": "https://stackoverflow.com/users/4745241/ernest-zamelczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 50566175, "answer_count": 1, "score": 1, "last_activity_date": 1527592192, "creation_date": 1527502540, "question_id": 50564072, "link": "https://stackoverflow.com/questions/50564072/kotlin-incorrectly-inferring-type-nullability-while-using-rxjava2", "title": "Kotlin incorrectly inferring type nullability while using RxJava2", "body": "<p>I came onto a quite frustrating problem while trying to program a piece of code responsible for discovering bluetooth devices.</p>\n\n<p>According to Android Studio this piece of code is correct:</p>\n\n<pre><code>fun discoverDevices(): Observable&lt;BluetoothDevice&gt; {\n    val discovered: HashSet&lt;BluetoothDevice&gt; = HashSet()\n    return bluetoothUtil.startDiscovery()\n            .flatMapObservable { discoveryStarted -&gt;\n                if(discoveryStarted) {\n                    RxBroadcastReceiver.create(appContext, IntentFilter().apply {\n                        addAction(BluetoothDevice.ACTION_FOUND)\n                        addAction(BluetoothAdapter.ACTION_DISCOVERY_FINISHED)\n                    })\n                } else {\n                    Observable.error(Throwable(\"Discovery couldn't be started\"))\n                }\n            }\n            .takeUntil { intent -&gt;\n                intent.action == BluetoothAdapter.ACTION_DISCOVERY_FINISHED\n            }\n            .map { intent -&gt;\n                var bluetoothDevice: BluetoothDevice? = null\n                if(intent.action == BluetoothDevice.ACTION_FOUND) {\n                    bluetoothDevice = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE)\n                }\n                if(bluetoothDevice != null &amp;&amp; !discovered.contains(bluetoothDevice))\n                    bluetoothDevice\n                else\n                    null\n            }\n}\n</code></pre>\n\n<p>The function declares that it returns <code>Observable&lt;BluetoothDevice&gt;</code> even though it is clear that the map function will return <code>BluetoothDevice?</code>. Furthermore, it I try to force it to filter null values by appending</p>\n\n<pre><code>.filter {\n    it != null\n}\n</code></pre>\n\n<p>to the end of the chain, the condition <code>it != null</code> gets highlighted as \"always true\" and the return value suddenly becomes <code>Observable&lt;BluetoothDevice?&gt;</code>. It's insanely frustrating and I can't seem to find a solution to this weird issue.</p>\n\n<p>Is this a bug with Android Studio or am I doing something wrong?</p>\n"}, {"tags": ["functional-programming", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10726, "user_id": 1037200, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3a6d6b45fdb0f5d8e79e0db82a75804?s=128&d=identicon&r=PG", "display_name": "miho", "link": "https://stackoverflow.com/users/1037200/miho"}, "edited": false, "score": 0, "creation_date": 1527502384, "post_id": 50563955, "comment_id": 88138186, "body": "Thank you, <code>scan</code> is exactly what I&#39;m looking for. But you&#39;re right, kotlin seems to lag that (or at least not under that name). But at least I now know what I&#39;m looking."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1527502664, "post_id": 50563955, "comment_id": 88138332, "body": "If it lacks it, then implement it. It&#39;s not Kotlin the language that lacks it after all, just the standard library."}, {"owner": {"reputation": 10726, "user_id": 1037200, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3a6d6b45fdb0f5d8e79e0db82a75804?s=128&d=identicon&r=PG", "display_name": "miho", "link": "https://stackoverflow.com/users/1037200/miho"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527502747, "post_id": 50563955, "comment_id": 88138385, "body": "@MarkoTopolnik: True to that! But luckily that&#39;s very easy to do in Kotlin anyways. For reference reasons: There is already exists an open issue for <code>scan</code>: <a href=\"https://youtrack.jetbrains.com/issue/KT-7657\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-7657</a> (including a sample implementation)."}], "tags": [], "owner": {"reputation": 2941, "user_id": 2317480, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/KFR2l.png?s=128&g=1", "display_name": "dveim", "link": "https://stackoverflow.com/users/2317480/dveim"}, "is_accepted": true, "score": 1, "last_activity_date": 1527502201, "creation_date": 1527502201, "answer_id": 50563955, "question_id": 50563817, "link": "https://stackoverflow.com/questions/50563817/fold-with-list-of-intermediate-results-instead-of-a-final-single-one-in-kotlin/50563955#50563955", "title": "Fold with list of intermediate results instead of a final single one in Kotlin", "body": "<p>Not sure if this exists in kotlin, but that's called <code>scan</code>. You could see <a href=\"https://stackoverflow.com/a/17408881/6345611\">this</a> answer for more details (not kotlin, but, since Scala influenced it <em>a lot</em>, probably you even wont see syntax differences).</p>\n"}, {"tags": [], "owner": {"reputation": 6292, "user_id": 1483676, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/h2IgH.jpg?s=128&g=1", "display_name": "cubuspl42", "link": "https://stackoverflow.com/users/1483676/cubuspl42"}, "is_accepted": false, "score": 1, "last_activity_date": 1601729966, "creation_date": 1601729966, "answer_id": 64184572, "question_id": 50563817, "link": "https://stackoverflow.com/questions/50563817/fold-with-list-of-intermediate-results-instead-of-a-final-single-one-in-kotlin/64184572#64184572", "title": "Fold with list of intermediate results instead of a final single one in Kotlin", "body": "<p>You're looking for functional operator called <code>scan</code>.</p>\n<p>As of Kotlin 1.4, <code>scan</code> is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/scan.html\" rel=\"nofollow noreferrer\">present in the standard library</a>.</p>\n"}], "owner": {"reputation": 10726, "user_id": 1037200, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e3a6d6b45fdb0f5d8e79e0db82a75804?s=128&d=identicon&r=PG", "display_name": "miho", "link": "https://stackoverflow.com/users/1037200/miho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 50563955, "answer_count": 2, "score": 1, "last_activity_date": 1601729966, "creation_date": 1527501813, "question_id": 50563817, "link": "https://stackoverflow.com/questions/50563817/fold-with-list-of-intermediate-results-instead-of-a-final-single-one-in-kotlin", "title": "Fold with list of intermediate results instead of a final single one in Kotlin", "body": "<p>I'm looking for a function similar to <code>fold</code>, which doesn't return the final result but all intermediate results. For example with fold I could implement the following example:</p>\n\n<pre><code>val res = listOf(1,2,3).fold(0, { acc, it -&gt; f(acc, it) })\n// res = 6\n</code></pre>\n\n<p>But I'm looking for something like...</p>\n\n<pre><code>val res = listOf(1,2,3).foo(0, { acc, it -&gt; f(acc, it) })\n// res = listOf(1,3,6)\n</code></pre>\n\n<p>...which then would return the intermediate results instead of the final sum.</p>\n\n<p>Is there something like this <code>foo</code> function already included in Kotlins stdlib or what would be a common name for this <code>foo</code> in functional programming style?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1527502100, "creation_date": 1527502100, "answer_id": 50563922, "question_id": 50563455, "link": "https://stackoverflow.com/questions/50563455/does-kotlin-have-any-generic-constraints-other-than-upper-bounds/50563922#50563922", "title": "Does Kotlin have any generic constraints other than upper bounds?", "body": "<p>At this time (as of Kotlin 1.2) no other constraints are supported, but it's possible that other constraint types will be added in the future.</p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 50563922, "answer_count": 1, "score": 2, "last_activity_date": 1527502100, "creation_date": 1527500737, "question_id": 50563455, "link": "https://stackoverflow.com/questions/50563455/does-kotlin-have-any-generic-constraints-other-than-upper-bounds", "title": "Does Kotlin have any generic constraints other than upper bounds?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html#generic-constraints</a> says</p>\n\n<blockquote>\n  <p>The most common type of constraint [on a type parameter] is an upper bound</p>\n</blockquote>\n\n<p>but doesn't list any others. Are there any other constraints on type parameters supported in Kotlin, or planned in future (except for type classes, which I know about)?</p>\n"}, {"tags": ["android", "lambda", "kotlin", "abstract-class", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "edited": false, "score": 0, "creation_date": 1527563672, "post_id": 50563231, "comment_id": 88160732, "body": "Especially thanks to your link that explained why it work (as last parameter). Thank you!"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": true, "score": 4, "last_activity_date": 1527500509, "last_edit_date": 1527500509, "creation_date": 1527500019, "answer_id": 50563231, "question_id": 50563094, "link": "https://stackoverflow.com/questions/50563094/can-i-use-lambda-expression-to-replace-instantiating-an-abstract-class-with-only/50563231#50563231", "title": "Can I use lambda expression to replace instantiating an abstract class with only one abstract method?", "body": "<p>You can make you class non-abstract and add lamdba for observing <code>onNext</code> events <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"nofollow noreferrer\">as last parameter</a> of your constructors:</p>\n\n<pre><code>class APIResponseObserver&lt;T&gt; : Observer&lt;T&gt; {\n\n    private val onNextCallback: (T) -&gt; Unit\n\n    constructor(fragment: BaseFragment, onNext: (T) -&gt; Unit) : super(fragment) {\n       onNextCallback = onNext\n    }\n\n    constructor(activity: BaseActivity, onNext: (T) -&gt; Unit) : super(activity) {\n       onNextCallback = onNext\n    }\n\n    ... other methods ...\n\n    override fun onNext(t: T) {\n        onNextCallback.invoke(t)\n    }\n}\n</code></pre>\n\n<p>Kotlin allows to put lambda implementation outside parentheses in case if it is last argument in your method/constructor. All you need to do is to call passed lambda inside overridden <code>onNext</code> method.</p>\n\n<p>In the end it allows you to write exactly same code that you expect:</p>\n\n<pre><code>APIResponseObserver&lt;Boolean&gt;(this) { t: Boolean -&gt;\n    if (context == null) return@APIResponseObserver \n    //Do something with the boolean\n}\n</code></pre>\n"}], "owner": {"reputation": 4310, "user_id": 7870874, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/rEroC.jpg?s=128&g=1", "display_name": "Sira Lam", "link": "https://stackoverflow.com/users/7870874/sira-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 50563231, "answer_count": 1, "score": 2, "last_activity_date": 1527500509, "creation_date": 1527499575, "question_id": 50563094, "link": "https://stackoverflow.com/questions/50563094/can-i-use-lambda-expression-to-replace-instantiating-an-abstract-class-with-only", "title": "Can I use lambda expression to replace instantiating an abstract class with only one abstract method?", "body": "<p>(This question is asked under an Android context, but answerable with only Kotlin knowledge.)</p>\n\n<p>(Also, I found some answers in SO regarding same question in Java8 Lambda, but I can't find one regarding Kotlin.)</p>\n\n<p>Like many people do - I am now using <code>RxJava</code> with <code>Retrofit</code> to do network calls.<br>\nAnd recently I have switched to using Kotlin.</p>\n\n<p>I have declared my own <code>Observer</code> for centralizing error handling.</p>\n\n<p>This is my <code>APIResponseObserver&lt;T&gt; extends Observer&lt;T&gt;</code>: (Simplified)</p>\n\n<pre><code>abstract class APIResponseObserver&lt;T&gt; : Observer&lt;T&gt; {\n\n    constructor(fragment: BaseFragment) : super(fragment)\n\n    constructor(activity: BaseActivity) : super(activity)\n\n    override fun onSubscribe(d: Disposable) {\n        fragment?.addToCompositeDisposable(d)\n        activity?.addToCompositeDisposable(d)\n    }\n\n    override fun onError(e: Throwable) {\n        val fm = if (activity == null) fragment?.childFragmentManager else activity?.supportFragmentManager\n        if (e is APIManager.APIException &amp;&amp; e.message != null) {\n            fm?.showSimpleTextDialog(e.message!!)\n        } else {\n            val errorMsg = if (activity == null) fragment?.getString(R.string.network_error) else activity?.getString(R.string.network_error)\n            errorMsg?.let {\n                fm?.showSimpleTextDialog(it)\n            }\n        }\n    }\n\n    override fun onComplete() {\n    }\n}\n</code></pre>\n\n<p>As you can see, only <code>onNext()</code> is not overridden.</p>\n\n<p>And this is how I am using it now:</p>\n\n<pre><code>    APIManager.getSomeBoolean().subscribe(object : APIResponseObserver&lt;Boolean&gt;(this) {\n        override fun onNext(t: Boolean) {\n            if (context == null) return\n            //Do something with the boolean\n        }\n    })\n</code></pre>\n\n<p>After using one week of Kotlin, the above usage really feels clumsy to me.<br>\nWhat I expect is using lambda like below:</p>\n\n<pre><code>    APIManager.getSomeBoolean().subscribe(APIResponseObserver&lt;Boolean&gt;(this) {t: Boolean\n        if (context == null) return\n        //Do something with the boolean\n    })\n</code></pre>\n\n<p>So that I don't need to write <code>object :</code> and also <code>override fun onNext(t: Boolean) {</code>.</p>\n\n<p>But, is this possible? If yes, how can I achieve this?</p>\n"}, {"tags": ["android", "kotlin", "android-adapter", "android-service-binding"], "answers": [{"comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1527498226, "post_id": 50562446, "comment_id": 88135781, "body": "all above steps are done by google&#39;s <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html\" rel=\"nofollow noreferrer\">paging</a> support library"}], "tags": [], "owner": {"reputation": 104, "user_id": 7454926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHn1N.jpg?s=128&g=1", "display_name": "Vincent Chann", "link": "https://stackoverflow.com/users/7454926/vincent-chann"}, "is_accepted": true, "score": 0, "last_activity_date": 1527497391, "creation_date": 1527497391, "answer_id": 50562446, "question_id": 50562097, "link": "https://stackoverflow.com/questions/50562097/android-is-it-possible-advised-to-interact-with-a-bound-service-from-adapter/50562446#50562446", "title": "Android: is it possible/advised to interact with a Bound Service from Adapter?", "body": "<p>I think you are doing it the wrong way. The way you wanna do it is really bad in term of performance.<br>\nPassing a whole bunch of objects doesn't seem really sensible to you, but it is right way to use a recyclerview for best performance and avoid weird behavior.</p>\n\n<p>If you want to retrieve data from a service :<br>\n- initialize you recyclerview with an empty dataset (loading ... )<br>\n- run your service to retrieve your dataset<br>\n- notify your activity and pass your dataset<br>\n- your activty change your recyclerview adapter with a new dataset<br>\n- your recyclerview \"notifyDataSetChanged()\" to display new dataset</p>\n"}], "owner": {"reputation": 820, "user_id": 6689087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d2765c1761f83d3c60424d3e899250?s=128&d=identicon&r=PG&f=1", "display_name": "TriTap", "link": "https://stackoverflow.com/users/6689087/tritap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50562446, "answer_count": 1, "score": 1, "last_activity_date": 1527497391, "creation_date": 1527496053, "question_id": 50562097, "link": "https://stackoverflow.com/questions/50562097/android-is-it-possible-advised-to-interact-with-a-bound-service-from-adapter", "title": "Android: is it possible/advised to interact with a Bound Service from Adapter?", "body": "<p>I have some complex data modeled by a data class, with both immutable and mutable fields:</p>\n\n<pre><code>data class book (\n    val ISBN: String,\n    val Author: String,\n    ...\n    var borrowed: Boolean\n)\n</code></pre>\n\n<p>And I'm trying to find a way to display a number of instances of it in a RecyclerView.<br>\nI reckon the Adapter's only concern is to <em>display</em> data, however, passing a whole bunch of objects doesn't seem really sensible to me, expecially since not all the fields of all the instances would need to be displayed.</p>\n\n<p>So I decided to use a list of ISBN as the Adapter's <strong>DataSet</strong> and, when needed, fetch the corresponding object from a Bound Service.</p>\n\n<p>However, I'm not sure this is the right way, as the Adapter doesn't have a clear Lifecycle, and I can't figure where to bind/unbind to the service.</p>\n\n<p>The question then becomes:\nIn an Android Adapter, where should I bind to a Bound Service, in order to fetch the data to display? Is doing so some sort of design heresy?</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "google-maps-android-api-2", "marker"], "owner": {"reputation": 21, "user_id": 9841606, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Antoine REY", "link": "https://stackoverflow.com/users/9841606/antoine-rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1527494246, "creation_date": 1527494246, "question_id": 50561628, "link": "https://stackoverflow.com/questions/50561628/marker-at-the-location-0-0-0-0-in-google-map-direction-api", "title": "marker at the location (0.0,0.0) in google map direction api", "body": "<p>I try to do an android application and I'm trying to use Google map Direction API to draw line between 2 marker and when I try to decode the polyline point in the JSON I have from goole server I have a bunch of marker set near to the position 0.0,0.0 like in my screenshoot bellow</p>\n\n<p>my polyline decode function is </p>\n\n<pre><code>private fun decodePoly(polylineArrayList: ArrayList&lt;String&gt;): List&lt;LatLng&gt; {\n    val poly = ArrayList&lt;LatLng&gt;()\n    var index = 0\n    for (i in 0 until polylineArrayList.size-1) {\n        val encoded = polylineArrayList[i]\n        val len = encoded.length\n        var lat = 0\n        var lng = 0\n\n        while (index &lt; len -1) {\n            var b: Int\n            var shift = 0\n            var result = 0\n            do {\n                b = encoded[index++].toInt() - 63\n                result = result or (b and 0x1f shl shift)\n                shift += 5\n            } while (b &gt;= 0x20 )\n            val dlat = if (result and 1 != 0) (result shr 1).inv() else result shr 1\n            lat += dlat\n\n            shift = 0\n            result = 0\n            do {\n                b = encoded[index++].toInt() - 63\n                result = result or (b and 0x1f shl shift)\n                shift += 5\n            } while (b &gt;= 0x20 )\n            val dlng = if (result and 1 != 0) (result shr 1).inv() else result shr 1\n            lng += dlng\n\n            val p = LatLng(lat.toDouble() / 1E5,\n                    lng.toDouble() / 1E5)\n            poly.add(p)\n        }\n    }\n    return poly\n}\n</code></pre>\n\n<p>here is the code where i draw the line (i do in in the on success from my asynck task </p>\n\n<pre><code>private val options = PolylineOptions()\nprivate val latLongB = LatLngBounds.Builder()\noverride fun onSuccess(googleDirectionData: GoogleDirectionData?) {\n     val polylineArrayList = ArrayList&lt;String&gt;()\n     for (route in googleDirectionData?.routes!!) {\n          for (leg in route.legs) {\n              for (step in leg.steps)\n                  polylineArrayList.add(step.polyline.points)\n          }\n      }\n      val polypts = decodePoly(polylineArrayList)\n      for (point in polypts) {\n          options.add(point)\n          latLongB.include(point)\n      }\nval caisseMarker = LatLng(caisse.wsg84[0], caisse.wsg84[1])\noptions.add(caisseMarker)\nlatLongB.include(caisseMarker)\nval bounds = latLongB.build()\n// add polyline to the map\nmap.addPolyline(options)\n// show map with route centered\nmap.moveCamera(CameraUpdateFactory.newLatLngBounds(bounds, 100))\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BxXm2.png\" rel=\"nofollow noreferrer\">bunch of marker near 0.0,0.0</a></p>\n\n<p>did someone know how to fix this in order \nto no longer have a marker to position 0.0,0.0?</p>\n"}, {"tags": ["android", "oauth-2.0", "kotlin", "google-photos"], "answers": [{"tags": [], "owner": {"reputation": 873, "user_id": 324975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7NaKc.jpg?s=128&g=1", "display_name": "zaifrun", "link": "https://stackoverflow.com/users/324975/zaifrun"}, "is_accepted": false, "score": 0, "last_activity_date": 1534505658, "creation_date": 1534505658, "answer_id": 51894549, "question_id": 50560852, "link": "https://stackoverflow.com/questions/50560852/oauth-2-0-on-android/51894549#51894549", "title": "OAuth 2.0 on Android", "body": "<p>After loggin in with the Google account (and this is async operation, so you need a listener - see Google login docs) you can get an authorisation code. This code you need to exchange for an access token, and this access token is then passed as a parameter to all your Google Photos API calls.\nI just used a library like OKHTTP (on Android) to build the api request to get this accesstoken and yes, there you need your client key.\nNote: JAVA code, but you can of course do the same in Kotlin with different syntax.</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\n        RequestBody requestBody = new FormEncodingBuilder()\n                .add(\"grant_type\", \"authorization_code\")\n                .add(\"client_id\", CLIENT_AUTH_KEY_WEB)\n                .add(\"client_secret\", CLIENT_SECRET)\n                .add(\"redirect_uri\", \"\")\n                .add(\"code\", ACTUAL AUTHORISATION CODE AFTER LOGIN)\n                .build();\n        final Request request = new Request.Builder()\n                .url(\"https://www.googleapis.com/oauth2/v4/token\")\n                .post(requestBody)\n                .build();\n</code></pre>\n\n<p>After this (and you need to have the listeners on for success or failure - see OKHTTP docs) then you can use the access token to get access to the API. \nOf course it should also work with RetroFit as I see you are using, but I have no experience with that library.</p>\n"}], "owner": {"reputation": 227, "user_id": 1405687, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0e3ad3b10f4241905b8c332af4afc219?s=128&d=identicon&r=PG", "display_name": "karlkar", "link": "https://stackoverflow.com/users/1405687/karlkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1534505658, "creation_date": 1527491153, "question_id": 50560852, "link": "https://stackoverflow.com/questions/50560852/oauth-2-0-on-android", "title": "OAuth 2.0 on Android", "body": "<p>I would like to create a simple app to check the abilities of newly launched Google Photos Library API (<a href=\"https://developers.google.com/photos/library/guides/get-started\" rel=\"nofollow noreferrer\">https://developers.google.com/photos/library/guides/get-started</a>).\nHowever I am facing an 401 error when trying to get album list. I've enabled photos library API in API Console, and in my app I've requested access to this scope using the following code:</p>\n\n<pre><code>    val GOOGLE_PHOTOS_SCOPE = Scope(\"https://www.googleapis.com/auth/photoslibrary.readonly\")\n    if (!GoogleSignIn.hasPermissions(\n                    GoogleSignIn.getLastSignedInAccount(this),\n                    GOOGLE_PHOTOS_SCOPE)) {\n        GoogleSignIn.requestPermissions(\n                this,\n                1,\n                GoogleSignIn.getLastSignedInAccount(this),\n                GOOGLE_PHOTOS_SCOPE)\n    } else {\n        Log.d(TAG, \"Permission granted\")\n\n        (application as QuizApp).photosLibraryApi.getAlbumList().enqueue(\n                object: retrofit2.Callback&lt;ResponseBody&gt; {\n                    override fun onFailure(call: Call&lt;ResponseBody&gt;?, t: Throwable?) {\n                        Log.e(TAG, \"FAIL ${t.toString()}\", t)\n                    }\n\n                    override fun onResponse(call: Call&lt;ResponseBody&gt;?, response: Response&lt;ResponseBody&gt;?) {\n                        Log.d(TAG, \"Success ${response.toString()}\")\n                    }\n\n                }\n        )\n    }\n</code></pre>\n\n<p>I guess I need to somehow provide my client_id and project_id from credentials.json file, but I have no idea how to do it. Anyone done it before? Any tips what's the best way to do Google's OAuth2.0?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 4, "last_activity_date": 1527493190, "last_edit_date": 1527493190, "creation_date": 1527490715, "answer_id": 50560740, "question_id": 50560642, "link": "https://stackoverflow.com/questions/50560642/differences-between-normal-function-and-expression-function/50560740#50560740", "title": "Differences between normal function and expression function", "body": "<blockquote>\n  <p>We already know all functions in Kotlin are types</p>\n</blockquote>\n\n<p>This is not true. There are function types, instances of function types, and function declarations. This is a declaration of a function whose return type is <code>Unit</code>:</p>\n\n<pre><code>fun p() : Unit \n{\n    println(\"Hello P\")\n}\n</code></pre>\n\n<p>This is a function type:</p>\n\n<pre><code>() -&gt; Unit\n</code></pre>\n\n<p>This is a declaration of a function whose return type is the function type <code>() -&gt; Unit</code>:</p>\n\n<pre><code>fun y() : () -&gt; Unit = \n{\n    println(\"Hello Y\")\n}\n</code></pre>\n\n<p>Whereas invoking <code>p()</code> executes the print statement, invoking <code>y()</code> just returns a function instance which, when invoked, will execute the print statement:</p>\n\n<pre><code>y()()\n</code></pre>\n\n<p>Structurally, a function declaration is very similar to the declaration of a property with a function type:</p>\n\n<pre><code>val x: () -&gt; Unit = \n{\n    println(\"Hello X\")\n}\n</code></pre>\n\n<p>Syntactically you can use it the same way:</p>\n\n<pre><code>x()\n</code></pre>\n\n<p>You can also pass it to another function:</p>\n\n<pre><code>fun higherOrderFun(block: () -&gt; Unit) [\n    println(\"higher order\")\n    block()\n}\n\nhigherOrderFun(x)\n</code></pre>\n\n<p>But you can't do the same with a function declaration:</p>\n\n<pre><code>higherOrderFun(p) // Compiler error\n</code></pre>\n\n<p>This is because a function declaration isn't a \"thing\" you can pass around, it's just a declaration of executable code.</p>\n\n<p>You can also create an instance of function type from a function declaration:</p>\n\n<pre><code>::p\n</code></pre>\n\n<p>This is now equivalent to <code>x</code>. In fact, you can also write</p>\n\n<pre><code>val x = ::p\n</code></pre>\n\n<p>and now you have an instance <code>x</code> that does nothing but immediately call <code>p()</code> and return its value.</p>\n\n<p>While there is a strong formal symmetry between function declarations and function instances, and there are even languages that only have the latter (e.g., JavaScript or LISP), the former are better for performance and memory usage.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1527490958, "creation_date": 1527490958, "answer_id": 50560809, "question_id": 50560642, "link": "https://stackoverflow.com/questions/50560642/differences-between-normal-function-and-expression-function/50560809#50560809", "title": "Differences between normal function and expression function", "body": "<p>The return type of your example </p>\n\n<pre><code>fun y() : () -&gt; Unit = \n{\n    println(\"Hello Y\")\n\n}\n</code></pre>\n\n<p>is actually a function type <code>()-&gt;Unit</code>, so when you call it, this anonymous function is being returned without calling it. You can call it like this:</p>\n\n<pre><code>y()()\n</code></pre>\n\n<p>What you can do instead is creating a variable holding this <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">function</a>:</p>\n\n<pre><code>val y = { println(\"Hello Y\") }\n</code></pre>\n\n<p>And simply call it like this: <code>y()</code></p>\n"}, {"tags": [], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "is_accepted": false, "score": 1, "last_activity_date": 1527612277, "creation_date": 1527612277, "answer_id": 50589245, "question_id": 50560642, "link": "https://stackoverflow.com/questions/50560642/differences-between-normal-function-and-expression-function/50589245#50589245", "title": "Differences between normal function and expression function", "body": "<p>We can slightly rewrite the definitions of <code>p</code> and <code>y</code> without changing their meaning:</p>\n\n<pre><code>fun p() {\n    println( \"Hello p\")\n}\n\nfun y() = {\n    println( \"Hello y\")\n}\n</code></pre>\n\n<p>Note that the syntax is almost identical ( <code>=</code> makes all the difference ) which is a bit unfortunate since <code>p</code> and <code>y</code> are quite different beasts.</p>\n\n<ul>\n<li><code>fun p</code> is a function declaration. <code>p</code> accepts no parameters and returns Unit </li>\n<li><code>fun y</code> is a function declaration. <code>y</code> accepts no parameters and returns a <strong>function</strong> whose type is () -> Unit </li>\n</ul>\n\n<p>Because a call to <code>y()</code> returns a function, you need to invoke <strong>that</strong> function to get it to print: <code>y()()</code></p>\n\n<p>All of the above doesn't say much about the type of <code>p</code> and <code>y</code> themselves - only that they <strong>return</strong> certain types:</p>\n\n<ul>\n<li>the actual type of <code>p</code> is <code>KFunction0&lt; Unit &gt;</code> </li>\n<li>the actual type of <code>y</code> is <code>KFunction0&lt; () -&gt; Unit &gt;</code> </li>\n</ul>\n\n<p>If you want to play with this a bit more :-)  consider:</p>\n\n<pre><code>fun yy() = {\n    ::p\n}\n</code></pre>\n\n<p>You can verify that <code>yy()()()</code> prints <code>hello p</code> and its type is <code>KFunction0&lt;()-&gt;KFunction0&lt;Unit&gt;&gt;</code></p>\n"}], "owner": {"reputation": 155, "user_id": 7532309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6f6779594665f40460cc3700bbffdfc?s=128&d=identicon&r=PG&f=1", "display_name": "shinobitiger310", "link": "https://stackoverflow.com/users/7532309/shinobitiger310"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 50560740, "answer_count": 3, "score": 1, "last_activity_date": 1527612277, "creation_date": 1527490311, "question_id": 50560642, "link": "https://stackoverflow.com/questions/50560642/differences-between-normal-function-and-expression-function", "title": "Differences between normal function and expression function", "body": "<p>We already know all functions in Kotlin are types, so if have this function:</p>\n\n<pre><code>    fun p() : Unit \n{\n    println(\"Hello P\")\n}\n</code></pre>\n\n<p>This is just a function that have no parameter and return a Unit, so i can declare another function that do the same thing</p>\n\n<pre><code>fun y() : () -&gt; Unit = \n{\n    println(\"Hello Y\")\n\n}\n</code></pre>\n\n<p>But there are different results when i run these functions</p>\n\n<pre><code>p() //--&gt;  will print out \"Hello P\"\n\ny() //--&gt; doesn't print out anything\n</code></pre>\n\n<p>But if i call y() this way:</p>\n\n<pre><code>y()() //--&gt; will print out \"Hello Y\"\n</code></pre>\n\n<p>Could you please help me to understand this.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 8786, "user_id": 220579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cc7313d657a33369d9b96e954f73e132?s=128&d=identicon&r=PG", "display_name": "Kumar Bibek", "link": "https://stackoverflow.com/users/220579/kumar-bibek"}, "edited": false, "score": 0, "creation_date": 1527485405, "post_id": 50559553, "comment_id": 88129814, "body": "This shows that there are possibly 2 versions of annotations dependencies."}, {"owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "reply_to_user": {"reputation": 8786, "user_id": 220579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cc7313d657a33369d9b96e954f73e132?s=128&d=identicon&r=PG", "display_name": "Kumar Bibek", "link": "https://stackoverflow.com/users/220579/kumar-bibek"}, "edited": false, "score": 0, "creation_date": 1527485503, "post_id": 50559553, "comment_id": 88129843, "body": "@KumarBibek - What&#39;s the solution for that:"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1527485873, "post_id": 50559553, "comment_id": 88129977, "body": "<a href=\"https://stackoverflow.com/a/50459498/3395198\">stackoverflow.com/a/50459498/3395198</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "is_accepted": false, "score": 0, "last_activity_date": 1527485710, "creation_date": 1527485710, "answer_id": 50559717, "question_id": 50559553, "link": "https://stackoverflow.com/questions/50559553/excecution-failed-for-task-apppredebugandroidtestbuild/50559717#50559717", "title": "Excecution failed for task &#39;:app:preDebugAndroidTestBuild&#39;", "body": "<p>In Android Studio , click on Terminal and execute this command.</p>\n\n<p><code>gradlew app:dependencies</code>\nand then search for <code>com.android.support:support-annotations</code>.\nThen in your app level gradle file , exculude the <code>com.android.support:support-annotations</code> dependency from the dependency which has the older version i.e <code>26.1.0</code>.  To  learn how to exuclude go <a href=\"https://stackoverflow.com/questions/21764128/how-do-i-exclude-all-instances-of-a-transitive-dependency-when-using-gradle\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "edited": false, "score": 0, "creation_date": 1527486578, "post_id": 50559733, "comment_id": 88130202, "body": "i cann&#39;t found app.gradle. Can you tell me where is it located"}, {"owner": {"reputation": 1990, "user_id": 7893686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3233e89ca42af9a2fcd9eacf3b9a4811?s=128&d=identicon&r=PG&f=1", "display_name": "Bhupat Bheda", "link": "https://stackoverflow.com/users/7893686/bhupat-bheda"}, "reply_to_user": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "edited": false, "score": 0, "creation_date": 1527488339, "post_id": 50559733, "comment_id": 88130833, "body": "<a href=\"https://drive.google.com/open?id=1WYRAPFoC79Gn02EIXBUsYHnTt2WrqcGL\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1WYRAPFoC79Gn02EIXBUsYHnTt2WrqcGL</a>  @Nishan plz check this link."}], "tags": [], "owner": {"reputation": 1990, "user_id": 7893686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3233e89ca42af9a2fcd9eacf3b9a4811?s=128&d=identicon&r=PG&f=1", "display_name": "Bhupat Bheda", "link": "https://stackoverflow.com/users/7893686/bhupat-bheda"}, "is_accepted": false, "score": 1, "last_activity_date": 1527485786, "creation_date": 1527485786, "answer_id": 50559733, "question_id": 50559553, "link": "https://stackoverflow.com/questions/50559553/excecution-failed-for-task-apppredebugandroidtestbuild/50559733#50559733", "title": "Excecution failed for task &#39;:app:preDebugAndroidTestBuild&#39;", "body": "<pre><code>    configurations.all {\nresolutionStrategy {\nforce 'com.android.support:support-annotations:26.1.0'\n}\n}\n</code></pre>\n\n<p>Add the above line in your app.gradle file before dependencies block &amp; replace compile to implementation.</p>\n"}], "owner": {"reputation": 458, "user_id": 8961920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e0bc1e1ef0bded68f72ad2ae6ceb6a?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Hadfield", "link": "https://stackoverflow.com/users/8961920/chris-hadfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1527485786, "creation_date": 1527484776, "last_edit_date": 1527485237, "question_id": 50559553, "link": "https://stackoverflow.com/questions/50559553/excecution-failed-for-task-apppredebugandroidtestbuild", "title": "Excecution failed for task &#39;:app:preDebugAndroidTestBuild&#39;", "body": "<p>I am completely new to android and kotlin programming. I just started learning android since yesterday. I have successfully created a project but it doesn't show me xml editor.</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:preDebugAndroidTestBuild'.\n  Conflict with dependency 'com.android.support:support-annotations' in project ':app'. Resolved versions for app (26.1.0) and test app (27.1.1) differ. See <a href=\"https://d.android.com/r/tools/test-apk-dependency-conflicts.html\" rel=\"nofollow noreferrer\">https://d.android.com/r/tools/test-apk-dependency-conflicts.html</a> for details.</p>\n</blockquote>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Any idea to solve this problem</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "objectbox"], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527512048, "post_id": 50559756, "comment_id": 88143882, "body": "I can 100% guarantee that &quot;ToOne&quot; won&#39;t work out of the box"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1527512218, "post_id": 50559756, "comment_id": 88143978, "body": "@EpicPandaForce Ok, probably you are right. Let me investigate ObjectBox API and I will update answer. I think everything what is needed here is custom <code>Parceler</code> for <code>ToOne</code> type"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527514134, "post_id": 50559756, "comment_id": 88145075, "body": "Ok, <code>ToOne</code> is really hard to recreate since it contains some internal things like relations. I&#39;ve experienced similar issue when I used Realm. That&#39;s why I suggested to use 2 different models for different cases and I think it is the best way to go now."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527514534, "post_id": 50559756, "comment_id": 88145299, "body": "oh I actually had some way for RealmLists <a href=\"https://stackoverflow.com/a/49456435/2413303\">stackoverflow.com/a/49456435/2413303</a> but obviously it&#39;ll become an unmanaged RealmList"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527515020, "post_id": 50559756, "comment_id": 88145558, "body": "I&#39;ve updated answer but I have no idea how to recreate <code>ToOne</code> manually. So basically, my answer is a little less than useless :)"}, {"owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1527515322, "post_id": 50559756, "comment_id": 88145720, "body": "By the way, I think it is completely wrong way to mix <code>@Parcelize</code> and <code>@Entity</code> in one model. I don&#39;t how it is going with ObjectBox but with Realm so many things can happen which throw exception (serializing on another thread, closed session so relation no longer available, etc)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527516014, "post_id": 50559756, "comment_id": 88146092, "body": "technically if Realm session is closed, <b>every</b> variable is no longer available :p so it&#39;s like, &quot;if you want to detach obj via parcelable then it&#39;s on you&quot; imo, but hey, some people wanna copy out unmanaged objects, and it sometimes makes sense --- but this is an ObjectBox discussion so I&#39;ll stop clogging up the comments :D"}], "tags": [], "owner": {"reputation": 7061, "user_id": 4727432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca061f55238f6dba1e1815db6a48b1f6?s=128&d=identicon&r=PG", "display_name": "hluhovskyi", "link": "https://stackoverflow.com/users/4727432/hluhovskyi"}, "is_accepted": false, "score": 0, "last_activity_date": 1527514890, "last_edit_date": 1527514890, "creation_date": 1527485952, "answer_id": 50559756, "question_id": 50559464, "link": "https://stackoverflow.com/questions/50559464/parcelize-and-objectbox-clash/50559756#50559756", "title": "Parcelize and ObjectBox clash", "body": "<p>According to <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#how-to-use\" rel=\"nofollow noreferrer\">docs</a>, you have to declare all properties in primary constructor, which should be serialized via <code>@Parcelize</code>. All other ones are ignored.</p>\n\n<p>ObjectBox doesn't support <code>ToOne</code> so you have to write custom <code>Parceler</code>. In the end your solution should look like this:</p>\n\n<pre><code>@Entity\n@Parcelize\n@TypeParceler&lt;ToOne&lt;Customer&gt;, ToOneCustomerParceler&gt;\nclass Order(\n    @Id var id: Long = 0,\n    var customer: ToOne&lt;Customer&gt;\n) : Parcelable\n\n@Entity\n@Parcelize\nclass Customer(\n    @Id var id: Long = 0,\n    @Backlink var orders: List&lt;Order&gt;\n) : Parcelable\n\nobject ToOneCustomerParceler : Parceler&lt;ToOne&lt;Customer&gt;&gt; {\n    override fun create(parcel: Parcel): ToOne&lt;Customer&gt; {\n        //Somehow recreate ToOne instance\n        ...\n    }\n\n    override fun ToOne&lt;Customer&gt;.write(parcel: Parcel, flags: Int) {\n        val customer = target\n        ...\n    }\n}\n</code></pre>\n\n<p>Also don't forget to include correct dependencies:</p>\n\n<pre><code>dependencies {\n     compile \"io.objectbox:objectbox-android:$objectboxVersion\"\n     compile \"io.objectbox:objectbox-kotlin:$objectboxVersion\"\n}\n</code></pre>\n\n<p>P.S. Use different models for each purpose (<code>@Entity</code> and <code>@Parcelize</code>) even if both are the same. It is much easier to manage them since you separate your intentions into 2 models, rather than trying to push everything into single one.</p>\n"}], "owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1527514890, "creation_date": 1527484228, "question_id": 50559464, "link": "https://stackoverflow.com/questions/50559464/parcelize-and-objectbox-clash", "title": "Parcelize and ObjectBox clash", "body": "<p>I'm using kotlin and ObjectBox in my application. My object box entity looks something like </p>\n\n<pre><code>@Entity\nclass Order {\n    @Id var id: Long = 0\n\n    lateinit var customer: ToOne&lt;Customer&gt;\n}\n\n@Entity\nclass Customer {\n    @Id var id: Long = 0\n\n    @Backlink\n    lateinit var orders: List&lt;Order&gt;\n}\n</code></pre>\n\n<p>But when I use @Parcelize, the properties are being ignored in the parcel. How do I use @Parcelize but still include these properties? I tried overriding writeToParcel but I am not allowed to override it due to @Parcelize.</p>\n"}, {"tags": ["java", "android", "serialization", "kotlin"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1527483854, "post_id": 50559281, "comment_id": 88129301, "body": "Test and measure."}, {"owner": {"reputation": 373, "user_id": 9752602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dNxZO3c5rro/AAAAAAAAAAI/AAAAAAAAGgU/0tXLoVWHo-o/photo.jpg?sz=128", "display_name": "sneharc", "link": "https://stackoverflow.com/users/9752602/sneharc"}, "edited": false, "score": 0, "creation_date": 1527483906, "post_id": 50559281, "comment_id": 88129318, "body": "Check <a href=\"https://stackoverflow.com/questions/3323074/android-difference-between-parcelable-and-serializable?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">this</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1527489848, "post_id": 50559281, "comment_id": 88131521, "body": "Native Kotlin Serialization, I quote from the official GitHub page, &quot;is still highly experimental&quot;. So it&#39;s nothing like an alternative to the bog-standard Java Serialization or Android&#39;s native Parcelable."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1527490749, "post_id": 50559339, "comment_id": 88131898, "body": "In Kotlin, implementing Parcelable is much easier, so the trade-off changes."}], "tags": [], "owner": {"reputation": 94, "user_id": 9838143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c608695a6bca220d5bdbf0661445388d?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Ngo", "link": "https://stackoverflow.com/users/9838143/johnny-ngo"}, "is_accepted": false, "score": 2, "last_activity_date": 1527483296, "creation_date": 1527483296, "answer_id": 50559339, "question_id": 50559281, "link": "https://stackoverflow.com/questions/50559281/android-kotlin-serializable-vs-java-serializable-is-the-performance-the-same/50559339#50559339", "title": "Android - Kotlin Serializable vs Java Serializable , is the performance the same?", "body": "<p>Yes, Serializable is exactly more simple than Parcelable but Parcelable is much more faster than Serializable. If your application not require maximize performance optimized, Serializable still fine.</p>\n"}, {"tags": [], "owner": {"reputation": 25515, "user_id": 1297214, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/52d73bfebce342ede0a53cc64c67e017?s=128&d=identicon&r=PG", "display_name": "Bhavesh Patadiya", "link": "https://stackoverflow.com/users/1297214/bhavesh-patadiya"}, "is_accepted": false, "score": 2, "last_activity_date": 1527483441, "creation_date": 1527483441, "answer_id": 50559352, "question_id": 50559281, "link": "https://stackoverflow.com/questions/50559281/android-kotlin-serializable-vs-java-serializable-is-the-performance-the-same/50559352#50559352", "title": "Android - Kotlin Serializable vs Java Serializable , is the performance the same?", "body": "<blockquote>\n  <p>Is it the same case for Kotlin Serializable? Or is Kotlin\n  Serializable equally fast as Kotlin Parcelable? Using Serializable\n  seems to much simpler and I wanted to know if in Kotlin its fine to\n  use Serializable instead of Parcelable.</p>\n</blockquote>\n\n<p>Whether you are using <code>JAVA</code> or <code>Kotlin</code>, the internal working of <code>Serializable</code> and <code>Parcelable</code> will still remain same. Hence, even for Kotlin its recommend using Parcelable for better and faster performance.</p>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1527491446, "last_edit_date": 1527491446, "creation_date": 1527489628, "answer_id": 50560492, "question_id": 50559281, "link": "https://stackoverflow.com/questions/50559281/android-kotlin-serializable-vs-java-serializable-is-the-performance-the-same/50560492#50560492", "title": "Android - Kotlin Serializable vs Java Serializable , is the performance the same?", "body": "<p>Kotlin standard library doesn't have its own definition of <code>Serializable</code>, if you have code using it you'll notice <code>import java.io.Serializable</code>. So it's exactly as fast.</p>\n\n<p>There is <code>@Serializable</code> from <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">kotlinx.serialization</a> (thanks to Marko Topolnik for reminding me of it), but it works very differently and is not easier to use than <code>@Parcelize</code> (see below). </p>\n\n<blockquote>\n  <p>Using Serializable seems to much simpler</p>\n</blockquote>\n\n<p>But here you have an advantage: in Kotlin it's just as easy, just <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#enabling-parcelable-support\" rel=\"nofollow noreferrer\">use the <code>@Parcelize</code> annotation</a> (see <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md\" rel=\"nofollow noreferrer\">the design document</a> as well).</p>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1430, "favorite_count": 1, "accepted_answer_id": 50560492, "answer_count": 3, "score": 1, "last_activity_date": 1527491446, "creation_date": 1527482954, "question_id": 50559281, "link": "https://stackoverflow.com/questions/50559281/android-kotlin-serializable-vs-java-serializable-is-the-performance-the-same", "title": "Android - Kotlin Serializable vs Java Serializable , is the performance the same?", "body": "<p>I have read everywhere that Java Serializable is much slower than Parcelable . Is it the same case for Kotlin Serializable? Or is Kotlin Serializable equally fast as Kotlin Parcelable? Using Serializable seems to much simpler and i wanted to know if in Kotlin its fine to use Serializable instead of Parcelable.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1368, "user_id": 8064335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mOgy4.jpg?s=128&g=1", "display_name": "tompee", "link": "https://stackoverflow.com/users/8064335/tompee"}, "is_accepted": false, "score": 6, "last_activity_date": 1527468373, "creation_date": 1527468373, "answer_id": 50557815, "question_id": 50557748, "link": "https://stackoverflow.com/questions/50557748/how-can-i-declare-a-val-in-kotlin-without-initialization-that-can-be-reached-fro/50557815#50557815", "title": "How can I declare a val in Kotlin without initialization that can be reached from any fun in the class?", "body": "<p>You can use <code>lateinit var</code> and initialize it in onCreate.\nCheck Late-Initialized Properties and Variables here for reference.\n<a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/properties.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 9, "last_activity_date": 1527468734, "creation_date": 1527468734, "answer_id": 50557851, "question_id": 50557748, "link": "https://stackoverflow.com/questions/50557748/how-can-i-declare-a-val-in-kotlin-without-initialization-that-can-be-reached-fro/50557851#50557851", "title": "How can I declare a val in Kotlin without initialization that can be reached from any fun in the class?", "body": "<p>You can also use lazy delegate, which will create your dbHelper object on first access</p>\n\n<pre><code>val dbHelper by lazy { mmrbd(context) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "is_accepted": false, "score": 3, "last_activity_date": 1527781992, "creation_date": 1527781992, "answer_id": 50628295, "question_id": 50557748, "link": "https://stackoverflow.com/questions/50557748/how-can-i-declare-a-val-in-kotlin-without-initialization-that-can-be-reached-fro/50628295#50628295", "title": "How can I declare a val in Kotlin without initialization that can be reached from any fun in the class?", "body": "<p>Well you can achieve it 2-3 ways, so in Kotlin we have have the delegates which lets you initialize the variable on its first access i.e. the variable gets initialized whenever it is first used, so you can do</p>\n\n<pre><code>val dbHelper by lazy { mmrbd(context) }\n</code></pre>\n\n<p>Or you can do that in a Java way you can say:</p>\n\n<pre><code>var dbHelper: mmrbd? = null\n</code></pre>\n\n<p>and initialize it in OnCreate like: <code>dbHelper = mmrbd(context)</code></p>\n\n<p>Or you can use the lateinit keyword of Kotlin which basically lets you initialize the variable later, but its your responsiblity to initialize it before you use the variable:</p>\n\n<pre><code>lateinit var dbHelper: mmrbd\n</code></pre>\n\n<p>and initialize it in OnCreate like: <code>dbHelper = mmrbd(context)</code></p>\n"}, {"tags": [], "owner": {"reputation": 1370, "user_id": 6470661, "user_type": "registered", "profile_image": "https://graph.facebook.com/1081956675223709/picture?type=large", "display_name": "Abed", "link": "https://stackoverflow.com/users/6470661/abed"}, "is_accepted": false, "score": 0, "last_activity_date": 1527795119, "creation_date": 1527795119, "answer_id": 50631529, "question_id": 50557748, "link": "https://stackoverflow.com/questions/50557748/how-can-i-declare-a-val-in-kotlin-without-initialization-that-can-be-reached-fro/50631529#50631529", "title": "How can I declare a val in Kotlin without initialization that can be reached from any fun in the class?", "body": "<p>If you are using \"dbHelper\" from multiple places it's better to use lazy initializer so the variable can have value once and initialized once called and\nif you're not using the \"dbHelper\" from multiple threads you can add LazyThreadSafetyMode.NONE to lazy initializer to gain more performance. for more info:\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy-thread-safety-mode/-n-o-n-e.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-lazy-thread-safety-mode/-n-o-n-e.html</a></p>\n\n<pre><code>val uri by lazy(LazyThreadSafetyMode.NONE){\nmmrbd(context)\n}\n</code></pre>\n\n<p>if you're going to use lateinit you have to use var and in your case, it's better to add private set so the variable not initialized for outside of the class</p>\n\n<pre><code> class  ProviderMMR : ContentProvider() {\n companion object {\n   lateinit var dbHelper: mmrbd\n        private set\n }\n\noverride fun onCreate() {\n    super.onCreate()\n    dbHelper= mmrbd(context)\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 904, "user_id": 7102009, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-E7w9qXEZq10/AAAAAAAAAAI/AAAAAAAAAJw/-sA4BTZUh1Q/photo.jpg?sz=128", "display_name": "Eduardo Corona", "link": "https://stackoverflow.com/users/7102009/eduardo-corona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5763, "favorite_count": 0, "accepted_answer_id": 50557851, "answer_count": 4, "score": 4, "last_activity_date": 1527795119, "creation_date": 1527467620, "question_id": 50557748, "link": "https://stackoverflow.com/questions/50557748/how-can-i-declare-a-val-in-kotlin-without-initialization-that-can-be-reached-fro", "title": "How can I declare a val in Kotlin without initialization that can be reached from any fun in the class?", "body": "<p>I'm creating a content provider in Kotlin that uses a DB for store data and query them with a loaders, the problem is, that I need my DBHelper variable be reachable from any function: onCreate, query, update, etc... In java this is easy but in Kotlin the IDE tells me that I must initialize the val, I tried using init blocks but android studio says that the DBHelper must be initialized in onCreate()</p>\n\n<p>So, How can I create a val in Kotlin that is reacheable for any function in the class and can be initialized in onCreate function like Java?</p>\n\n<p>This is my code:</p>\n\n<pre><code>public class ProviderMMR : ContentProvider() {\nvar dbHelper\n\n\ncompanion object Matcher{\n    var uriMatcher = UriMatcher(UriMatcher.NO_MATCH)\n\n    init{\n        uriMatcher.addURI(MMDContract.columnas.AUTHORITY,MMDContract.columnas.TABLA_FARMACIA,1)\n    }\n\n}\n\noverride fun onCreate(): Boolean {\n    dbHelper  =  mmrbd(context)\n\n    return true\n}\n\noverride fun insert(uri: Uri?, values: ContentValues?): Uri {\n    val db = dbHelper.writableDatabase\n\n    val rowID = db.insert(MMDContract.columnas.TABLA_FARMACIA, null, values)\n\n\n    val uri_actividad = ContentUris.withAppendedId(MMDContract.columnas.CONTENT_BASE_URI, rowID)\n\n    return uri_actividad\n\n\n\n}\n\noverride fun query(uri: Uri?, projection: Array&lt;out String&gt;?, selection: String?, selectionArgs: Array&lt;out String&gt;?, sortOrder: String?): Cursor {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\n\noverride fun update(uri: Uri?, values: ContentValues?, selection: String?, selectionArgs: Array&lt;out String&gt;?): Int {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\noverride fun delete(uri: Uri?, selection: String?, selectionArgs: Array&lt;out String&gt;?): Int {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\noverride fun getType(uri: Uri?): String {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "multithreading", "sockets", "object", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1527453174, "post_id": 50556066, "comment_id": 88123359, "body": "Isn&#39;t this approach flawed even if it worked? You&#39;re not allowed to block the UI thread like that and let your whole application completely freeze for the duration of connection establishment, which can easily take seconds."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1527551414, "post_id": 50556066, "comment_id": 88158573, "body": "Keep your networking stuff on background threads and don&#39;t &quot;synchronously wait&quot; for them"}], "owner": {"reputation": 3, "user_id": 7846749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf206c092c801a4c82b41328e93ef51?s=128&d=identicon&r=PG&f=1", "display_name": "Bestest", "link": "https://stackoverflow.com/users/7846749/bestest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527451870, "creation_date": 1527451870, "question_id": 50556066, "link": "https://stackoverflow.com/questions/50556066/kotlin-object-init-blocked-by-join-on-thread", "title": "Kotlin object init blocked by join on Thread", "body": "<p>I am writing an Android app in Kotlin, which is going to be a client to a server developed by my group. I wanted to create an object <code>Connection</code> that would store all necessary data about a socket connection to a server:</p>\n\n<pre><code>object Connection {\n    const val HOST = \"host_name\" // in project it is well defined\n    const val PORT = 52137\n    const val TIMEOUT = 5000\n\n    val socket: Socket = Socket()\n\n    /* ... */\n\n    val connectData = MutableLiveData&lt;String&gt;()\n    val errorData = MutableLiveData&lt;String&gt;()\n\n    init {\n        val connect = Thread({\n            val address = InetSocketAddress(HOST, PORT)\n            socket.connect(address, TIMEOUT)\n        })\n        connect.uncaughtExceptionHandler = Thread.UncaughtExceptionHandler({ t, e -&gt;\n            e.printStackTrace()\n        })\n        connect.start()\n        connect.join()\n        /*\n        some more data processing\n        */\n    }\n    /*\n    some functions\n    */\n}\n</code></pre>\n\n<p>I use <code>join()</code> so that I can get my socket fully initialized. However, when I create a main activity in my application, the initialization of this object gets stuck on <code>connect.join()</code>. Here's the code:</p>\n\n<pre><code>class LoginActivity: AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n\n        Connection.connectData.observe(this, Observer(this::displayConnectData))\n        Connection.errorData.observe(this, Observer(this::displayError))\n\n        val viewModel = ViewModelProviders.of(this).get(LoginViewModel::class.java)\n\n        login_button.setOnClickListener({\n            val loggedIn = viewModel.login(username.text.toString(), password.text.toString())\n            if (loggedIn) {\n                val intent = Intent(this, MainMenuActivity::class.java)\n                startActivity(intent)\n                finish()\n            }\n        })\n    }\n\n\n    private fun displayConnectData(message: String?) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n    }\n\n    private fun displayError(message: String?) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show()\n    }\n\n}\n</code></pre>\n\n<p>I know that objects in Kotlin are lazily initialized, so the Connection object starts initializing when <code>Connection.connectData.observe(this, Observer(this::displayConnectData))</code> is called, but I don't know why it gets stuck on <code>connect.join()</code> despite defining the timeout on connect. Can I fix this problem easily or should I take different approach with this object?</p>\n"}, {"tags": ["android", "kotlin", "android-view", "android-custom-view"], "comments": [{"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1527449945, "post_id": 50555614, "comment_id": 88122439, "body": "What is the scenario you&#39;ve tried to see <code>onSaveInstanceState()</code> get called?"}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "reply_to_user": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1527450051, "post_id": 50555614, "comment_id": 88122465, "body": "Screen rotation."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1527455763, "post_id": 50555614, "comment_id": 88124022, "body": "Isn&#39;t <code>AbsoluteLayout</code> deprecated since API 3? Try <code>FrameLayout</code> -- and put the Log statement above the return"}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1527478926, "post_id": 50555614, "comment_id": 88128254, "body": "You are right. I did not notice the automatically inserted &quot;return&quot; super call. I know AbsoluteLayout is deprecated, but I just wanted the simplest thing for this example (this is not the actual project)."}], "answers": [{"comments": [{"owner": {"reputation": 2380, "user_id": 4721831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815f4b0a811b7e1b6148a2d21cdfe196?s=128&d=identicon&r=PG&f=1", "display_name": "trocchietto", "link": "https://stackoverflow.com/users/4721831/trocchietto"}, "edited": false, "score": 1, "creation_date": 1527456755, "post_id": 50555869, "comment_id": 88124255, "body": "So OP should call the log before of return super"}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1527478779, "post_id": 50555869, "comment_id": 88128229, "body": "Well, this is embarrassing. The super call was automatically inserted by the IDE so I did not notice that it was a return statement."}], "tags": [], "owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "is_accepted": true, "score": 1, "last_activity_date": 1527457733, "last_edit_date": 1527457733, "creation_date": 1527450278, "answer_id": 50555869, "question_id": 50555614, "link": "https://stackoverflow.com/questions/50555614/custom-view-onsaveinstancestate-is-not-called/50555869#50555869", "title": "Custom view, onSaveInstanceState is not called", "body": "<p>The reason why you can't see <code>Log.d(\"ss\", \"save\")</code> being called is simply that the code line is invoked after the <code>return</code> statement. The <code>onSaveInstanceState()</code> is actually called. To see the log move <code>Log.d(\"ss\", \"save\")</code> above <code>return super.onSaveInstanceState()</code>.</p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 50555869, "answer_count": 1, "score": -1, "last_activity_date": 1527457733, "creation_date": 1527448320, "last_edit_date": 1527451071, "question_id": 50555614, "link": "https://stackoverflow.com/questions/50555614/custom-view-onsaveinstancestate-is-not-called", "title": "Custom view, onSaveInstanceState is not called", "body": "<p>I created a custom view, and tried to restore the state automatically on screen rotation (just as <code>EditText</code> restores current input text automatically), but when I see the log, <code>onSaveInstanceState</code> is not called, and only <code>onRestoreInstanceState</code> is called. What is wrong?</p>\n\n<pre><code>class MyView:LinearLayout\n{\n    constructor(context: Context?) : super(context)\n    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs)\n    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(\n            context, attrs, defStyleAttr)\n\n    init\n    {\n        isSaveEnabled=true\n    }\n\n    override fun onSaveInstanceState(): Parcelable\n    {\n        return super.onSaveInstanceState()\n        Log.d(\"ss\", \"save\")\n    }\n\n    override fun onRestoreInstanceState(state: Parcelable?)\n    {\n        super.onRestoreInstanceState(state)\n        Log.d(\"ss\", \"restore\")\n    }\n}\n</code></pre>\n\n<p>Activity layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;AbsoluteLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/top\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;com.loser.mylayouttest.MyView\n        android:id=\"@+id/myView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n&lt;/AbsoluteLayout&gt;\n</code></pre>\n\n<p>Activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity()\n{\n\n    override fun onCreate(savedInstanceState: Bundle?)\n    {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n"}, {"tags": ["eclipse", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1527445472, "post_id": 50555191, "comment_id": 88121190, "body": "I think you&#39;ll find that the Eclipse plugin is not very well maintained. JetBrains is hoping to get everyone to use their IntelliJ IDEA for Kotlin development - and the community edition of it is free to use."}, {"owner": {"reputation": 2123, "user_id": 5544859, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LAszk.jpg?s=128&g=1", "display_name": "Red M", "link": "https://stackoverflow.com/users/5544859/red-m"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1527445548, "post_id": 50555191, "comment_id": 88121209, "body": "Does this mean that it&#39;s recommended to drop Eclipse usage as an IDE for Kotlin and switch to IntelliJ IDEA?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1527445643, "post_id": 50555191, "comment_id": 88121232, "body": "If you can do that, yes, that&#39;s what will get you the smoothest Kotlin experience."}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 2, "creation_date": 1527446409, "post_id": 50555191, "comment_id": 88121434, "body": "or you can use the Convert from Java button online on <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a>"}, {"owner": {"reputation": 389, "user_id": 2061329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2abf30799e22b0a572f10c1b280d75fb?s=128&d=identicon&r=PG", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/2061329/sourabh"}, "edited": false, "score": 1, "creation_date": 1527446596, "post_id": 50555191, "comment_id": 88121491, "body": "I&#39;ve seen issues with Intellij IDEA&#39;s converter as well. But still it&#39;s much better than eclipse right now, and for all practical reasons might continue to be (given JetBrain is the creator of Kotlin). So yes, I guess, better to switch to Intellij IDEA for Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 0, "last_activity_date": 1527572577, "creation_date": 1527572577, "answer_id": 50577045, "question_id": 50555191, "link": "https://stackoverflow.com/questions/50555191/convert-java-class-into-kotlin-class-using-eclipse/50577045#50577045", "title": "Convert Java Class into Kotlin Class using Eclipse", "body": "<p>Eclipse's Kotlin integration is not as great as IntelliJ-based IDE's right now, Bu if you don't want to switch to their IDEs, you could always use Kotlin's online Java-to-Kotlin <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">here</a> and use the top-right button.</p>\n"}], "owner": {"reputation": 2123, "user_id": 5544859, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/LAszk.jpg?s=128&g=1", "display_name": "Red M", "link": "https://stackoverflow.com/users/5544859/red-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1270, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543856481, "creation_date": 1527445286, "question_id": 50555191, "link": "https://stackoverflow.com/questions/50555191/convert-java-class-into-kotlin-class-using-eclipse", "title": "Convert Java Class into Kotlin Class using Eclipse", "body": "<p>I'm trying to convert a java class into Kotlin using eclipse Version: Mars.2 Release (4.5.2) but it is not working.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/Cyo5v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cyo5v.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I click on \"<strong>Convert Java to Kotlin</strong>\" nothing is returned in the console and nothing is happening. </p>\n\n<p>I do have the Kotlin plugin and I'm able to create Kotlin classes and compile my code. So far everything is working fine but the conversion. </p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 1092, "user_id": 3394588, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a081d98da538a1f00e9693af9df2a56?s=128&d=identicon&r=PG", "display_name": "Guilherme Lima Pereira", "link": "https://stackoverflow.com/users/3394588/guilherme-lima-pereira"}, "edited": false, "score": 0, "creation_date": 1527442942, "post_id": 50554823, "comment_id": 88120446, "body": "Thank you! I&#39;m learning Dagger and somethings are not so clear yet. Your answer and explanation helped a lot!"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1527443159, "post_id": 50554823, "comment_id": 88120503, "body": "Check out my tutorial series, starting here: <a href=\"https://dev.to/autonomousapps/the-daggerandroid-missing-documentation-33kj\" rel=\"nofollow noreferrer\">dev.to/autonomousapps/&hellip;</a>"}, {"owner": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 2, "creation_date": 1558450883, "post_id": 50554823, "comment_id": 99101165, "body": "Actually according to the docs, that is not true. Dagger is suppose to inject dependencies without requiring you to perform an &quot;inject&quot; - &quot;If your class has Inject-annotated fields but no Inject-annotated constructor, Dagger will inject those fields if requested, but will not create new instances. Add a no-argument constructor with the @Inject annotation to indicate that Dagger may create instances as well.&quot; - It appears that Kotlin violates this statement."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 19894, "user_id": 753632, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e1eaa448ca773169f1296987a87cb67?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/753632/androiddev"}, "edited": false, "score": 0, "creation_date": 1581424625, "post_id": 50554823, "comment_id": 106421419, "body": "@AndroidDev Dagger will inject those fields <b><i>IF REQUESTED</i></b>, aka when you call <code>component.inject(this)</code>. Kotlin has nothing to do with this."}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1593010979, "post_id": 50554823, "comment_id": 110631287, "body": "@EpicPandaForce What you said applies to only Android Components in this context. That, probably, means Dagger is not as runtime-safe as it&#39;s advertised. Although it can&#39;t assign an instance to the <code>@Inject</code>ed field, it still allows project to compile"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1593012369, "post_id": 50554823, "comment_id": 110632040, "body": "That&#39;s field injection for ya. If it weren&#39;t Android and you could just say &quot;go, main function!&quot; then you&#39;d be able to use constructor injection everywhere and it would work great."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 24, "last_activity_date": 1527442816, "creation_date": 1527442816, "answer_id": 50554823, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized/50554823#50554823", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>You have to call the <code>inject(mainActivity: MainActivity)</code> method you've defined in <code>AppComponent</code> when you're initializing your <code>MainActivity</code>, that's how Dagger actually injects the dependencies you need.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.main_activity)\n\n    // This is where the dependencies are injected\n    TweetSentimentsApplication.appComponent.inject(this)\n\n    ViewModelProviders.of(this, viewModelFactory).get(MainViewModel::class.java)\n\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 719, "user_id": 2812818, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/22268e400d674650d72826aa9835bf70?s=128&d=identicon&r=PG", "display_name": "Droid Teahouse", "link": "https://stackoverflow.com/users/2812818/droid-teahouse"}, "is_accepted": false, "score": 3, "last_activity_date": 1531091996, "creation_date": 1531091996, "answer_id": 51236687, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized/51236687#51236687", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>You can also do this:</p>\n\n<pre><code>  @Inject\n  lateinit var viewModelFactory: ViewModelProvider.Factory\n  val mainViewModel: MainViewModel by lazy {\n      ViewModelProviders.of(this, viewModelFactory)[MainViewModel::class.java]\n  }\n</code></pre>\n\n<p>and use abstract modules with @ContributesAndroidInjector for the activity, and\nabstract module for view model.  Using abstract is more efficient:</p>\n\n<pre><code>   @Module\n   abstract class AndroidBindingModule {\n\n   @ContributesAndroidInjector\n    internal abstract fun contributesAnActivity(): AnActivity\n    }\n\n\n\n @Module\n    abstract class ViewModelModule {\n      //the default factory only works with default constructor\n      @Binds\n      @IntoMap\n      @ViewModelKey(AViewModel::class)\n      abstract fun bindArtViewModel(aViewModel: AViewModel): ViewModel\n\n      @Binds\n      abstract fun bindViewModelFactory(factory: AViewModelFactory): ViewModelProvider.Factory\n    }\n\n\n\n\n\n @Documented\n    @Target(AnnotationTarget.FUNCTION, AnnotationTarget.PROPERTY_GETTER, AnnotationTarget.PROPERTY_SETTER)\n    @Retention(RetentionPolicy.RUNTIME)\n    @MapKey\n    internal annotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1581424663, "post_id": 60168858, "comment_id": 106421439, "body": "This only works if you set up the <code>@ContributesAndroidInjector</code> and the <code>HasActivityinjector</code>s."}], "tags": [], "owner": {"reputation": 11, "user_id": 9876676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nXqLys3nt_E/AAAAAAAAAAI/AAAAAAAAABw/pMlEezOxP6E/photo.jpg?sz=128", "display_name": "Chidozie Gabriel", "link": "https://stackoverflow.com/users/9876676/chidozie-gabriel"}, "is_accepted": false, "score": 1, "last_activity_date": 1581425363, "last_edit_date": 1581425363, "creation_date": 1581424299, "answer_id": 60168858, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized/60168858#60168858", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>You could also extend <strong>DaggerAppCompatActivity</strong> in place of <strong>AppCompatActivity</strong>. E.g.</p>\n\n<pre><code>class MainActivity : DaggerAppCompatActivity() {\n\n    @Inject lateinit var viewModelFactory: MainViewModelFactory\n\n    private val viewModel: MainViewModel? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n\n        ViewModelProviders.of(this, viewModelFactory).get(MainViewModel::class.java)\n\n        viewModel?.init(\"guuilp\")\n        viewModel?.getTweetList()?.observe(this, Observer {\n            Toast.makeText(this, it?.size.toString(), Toast.LENGTH_LONG).show()\n        })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 7041761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/93el7.jpg?s=128&g=1", "display_name": "Max Zonov", "link": "https://stackoverflow.com/users/7041761/max-zonov"}, "is_accepted": false, "score": 0, "last_activity_date": 1585928451, "creation_date": 1585928451, "answer_id": 61015473, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized/61015473#61015473", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>My mistake was creating a new object and taking a component from it such as <code>App().component</code>.</p>\n\n<p>So in this situation you need to put component field in <code>companion object</code> and replace code with <code>App.component</code></p>\n"}, {"comments": [{"owner": {"reputation": 1011, "user_id": 5955593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/25CPA.jpg?s=128&g=1", "display_name": "Kathi", "link": "https://stackoverflow.com/users/5955593/kathi"}, "edited": false, "score": 0, "creation_date": 1611246265, "post_id": 64103007, "comment_id": 116394927, "body": "after all day spending time on dagger2 to find issue, I see this comment and added application class to manifest. it was silly mistake but ever thought"}, {"owner": {"reputation": 795, "user_id": 9951372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LGHb0.jpg?s=128&g=1", "display_name": "bakero98", "link": "https://stackoverflow.com/users/9951372/bakero98"}, "edited": false, "score": 0, "creation_date": 1611697077, "post_id": 64103007, "comment_id": 116533872, "body": "Wow........ 2 days here"}], "tags": [], "owner": {"reputation": 128, "user_id": 5589394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eca6aa908ef2cd053960aeba2d2e1e17?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh R", "link": "https://stackoverflow.com/users/5589394/ritesh-r"}, "is_accepted": false, "score": 7, "last_activity_date": 1601299168, "creation_date": 1601299168, "answer_id": 64103007, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized/64103007#64103007", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>Also, make sure that your application name is added in the <strong>AndroidManifest.xml</strong> file.</p>\n<pre><code>&lt;application\n    android:name=&quot;.YourAppName&quot;\n    ..../&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 7438254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gq2VO.jpg?s=128&g=1", "display_name": "Sikander Bakht", "link": "https://stackoverflow.com/users/7438254/sikander-bakht"}, "is_accepted": false, "score": 0, "last_activity_date": 1610932309, "creation_date": 1610932309, "answer_id": 65767651, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized/65767651#65767651", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>Maybe you missed implementing &quot;Injectable&quot; Interface in fragment/activity. Which marks fragment/activity as injectable.</p>\n"}], "owner": {"reputation": 1092, "user_id": 3394588, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a081d98da538a1f00e9693af9df2a56?s=128&d=identicon&r=PG", "display_name": "Guilherme Lima Pereira", "link": "https://stackoverflow.com/users/3394588/guilherme-lima-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25691, "favorite_count": 4, "accepted_answer_id": 50554823, "answer_count": 6, "score": 23, "last_activity_date": 1610932309, "creation_date": 1527441660, "question_id": 50554654, "link": "https://stackoverflow.com/questions/50554654/dagger2-kotlin-lateinit-property-has-not-been-initialized", "title": "Dagger2 + Kotlin: lateinit property has not been initialized", "body": "<p>I'm trying to inject the ViewModelFactory into my Activity, but it keeps throwing this same error: lateinit property viewModelFactory has not been initialized. I can't find what I may be doing wrong. See the code above from my classes</p>\n\n<p>AppComponent.kt</p>\n\n<pre><code>@Component(modules = [(AppModule::class), (NetworkModule::class), (MainModule::class)])\ninterface AppComponent {\n\n    fun inject(application: TweetSentimentsApplication)\n\n    fun inject(mainActivity: MainActivity)\n\n    fun context(): Context\n\n    fun retrofit(): Retrofit\n}\n</code></pre>\n\n<p>MainModule.kt</p>\n\n<pre><code>@Module\nclass MainModule {\n\n    @Provides\n    fun mainViewModelFactorty(repository: TweetRepository): MainViewModelFactory = MainViewModelFactory(repository)\n\n    @Provides\n    fun local(database: AppDatabase): TweetLocal = TweetLocal(database)\n\n    @Provides\n    fun remote(tweetService: TweetService): TweetRemote = TweetRemote(tweetService)\n\n    @Provides\n    fun tweetService(retrofit: Retrofit): TweetService = retrofit.create(TweetService::class.java)\n\n    @Provides\n    fun repository(local: TweetLocal, remote: TweetRemote): TweetRepository = TweetRepository(local, remote)\n\n}\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    @Inject lateinit var viewModelFactory: MainViewModelFactory\n\n    private val viewModel: MainViewModel? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n\n        ViewModelProviders.of(this, viewModelFactory).get(MainViewModel::class.java)\n\n        viewModel?.init(\"guuilp\")\n        viewModel?.getTweetList()?.observe(this, Observer {\n            Toast.makeText(this, it?.size.toString(), Toast.LENGTH_LONG).show()\n        })\n    }\n}\n</code></pre>\n\n<p>TweetSentimentsApplication.kt</p>\n\n<pre><code>open class TweetSentimentsApplication: Application(){\n\n    companion object {\n        lateinit var appComponent: AppComponent\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        initDI()\n    }\n\n    private fun initDI() {\n        appComponent = DaggerAppComponent.builder()\n                .appModule(AppModule(this))\n                .build()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1527439692, "post_id": 50554324, "comment_id": 88119463, "body": "Use <code>val icon: Int</code>"}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 0, "last_activity_date": 1527439686, "creation_date": 1527439686, "answer_id": 50554376, "question_id": 50554324, "link": "https://stackoverflow.com/questions/50554324/android-kotlin-icon-image-variable/50554376#50554376", "title": "Android Kotlin Icon / Image variable", "body": "<pre><code>data class Category(\n    val id: EnumCategories,\n    val name: String,\n    val itemType: EnumTypes?,\n    val icon: Int\n)\n\nval categories = listOf(\n\n    Category(EnumCategories.CATEGORY01, \"CATEGORY01\", null, R.drawable.ic_delete),\n    Category(EnumCategories.CATEGORY02, \"CATEGORY02\", EnumTypes.TYPE1, R.drawable.something),\n    Category(EnumCategories.CATEGORY03, \"CATEGORY03\", EnumTypes.TYPE2, R.drawable.something_else)\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1527439694, "creation_date": 1527439694, "answer_id": 50554379, "question_id": 50554324, "link": "https://stackoverflow.com/questions/50554324/android-kotlin-icon-image-variable/50554379#50554379", "title": "Android Kotlin Icon / Image variable", "body": "<p><a href=\"https://developer.android.com/reference/android/widget/ImageView.html#setImageResource(int)\" rel=\"nofollow noreferrer\"><code>setImageResourse</code></a> take an <code>int</code> so you can use int</p>\n\n<pre><code>data class Category(\n    val id: EnumCategories,\n    val name: String,\n    val itemType: EnumTypes?,\n    val icon: Int\n)\n</code></pre>\n\n<p>and save images as </p>\n\n<pre><code>val categories = listOf(\n\n    Category(EnumCategories.CATEGORY01, \"CATEGORY01\", null, R.mipmap.ic_icon),\n    ,...,..\n)\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 6697060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22667e1b970882c052ac658e2022e4fb?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Banach", "link": "https://stackoverflow.com/users/6697060/denis-banach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2174, "favorite_count": 0, "accepted_answer_id": 50554376, "answer_count": 2, "score": 0, "last_activity_date": 1527439694, "creation_date": 1527439275, "question_id": 50554324, "link": "https://stackoverflow.com/questions/50554324/android-kotlin-icon-image-variable", "title": "Android Kotlin Icon / Image variable", "body": "<p>I have a data class and need to save images/icons as variable. So I can put them into an ImageView later. Does anybody know, how to do that? My images/icons are in \"drawable\". For example \"ic_delete\". </p>\n\n<p>Here my data class: </p>\n\n<pre><code>data class Category(\n    val id: EnumCategories,\n    val name: String,\n    val itemType: EnumTypes?,\n    val icon: Image\n)\n\nval categories = listOf(\n\n    Category(EnumCategories.CATEGORY01, \"CATEGORY01\", null, -&gt; Here should be my image &lt;-),\n    Category(EnumCategories.CATEGORY02, \"CATEGORY02\", EnumTypes.TYPE1, -&gt; Here should be my image &lt;-),\n    Category(EnumCategories.CATEGORY03, \"CATEGORY03\", EnumTypes.TYPE2, -&gt; Here should be my image &lt;-)\n)\n</code></pre>\n\n<p>Maybe I should use Bitmap instead of Image? Nevertheless, I don\u00b4t know how to put the images/icon into the List. </p>\n\n<p>If I have the image/icon ressource in my list, I would use something like this to show the image: </p>\n\n<pre><code>imageView.setImageResource(categories[0].icon)\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "fragment", "reload"], "comments": [{"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 1, "creation_date": 1527586428, "post_id": 50553877, "comment_id": 88171068, "body": "can you please add your code for Activity and Navigation view. That will help to see the fragment switching code."}, {"owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "reply_to_user": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1527587832, "post_id": 50553877, "comment_id": 88171964, "body": "i updated the code code for Activity and Navigation view."}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1527588741, "post_id": 50553877, "comment_id": 88172519, "body": "<a href=\"https://stackoverflow.com/questions/50551850/kotlin-android-bottom-navigation-fragment-setretaininstancetrue/50581667#50581667\" title=\"kotlin android bottom navigation fragment setretaininstancetrue\">stackoverflow.com/questions/50551850/&hellip;</a> ... check this"}], "owner": {"reputation": 845, "user_id": 5406043, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0892556b812d5959dc6608f994699d5?s=128&d=identicon&r=PG&f=1", "display_name": "GPH", "link": "https://stackoverflow.com/users/5406043/gph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2195, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1527587790, "creation_date": 1527436132, "last_edit_date": 1527587790, "question_id": 50553877, "link": "https://stackoverflow.com/questions/50553877/android-kotlin-switching-fragments-via-bottom-navigation-bar-causes-error", "title": "Android, Kotlin: switching fragments via bottom navigation bar causes error", "body": "<p>The app starts perfectly ok, as shown in the picture below. But it looks \"ridiculous\" after switching to other fragments by clicking the bottom navigation bar. For example: The app starts ok (as shown in the below picture), but if I click the second button of the bottom navigation bar and then click the 1st button of the bottom navigation bar to go back to the same fragment, it shows only half of the spinner2 and my RecyclerView is hidden. What is the problem here? Please help to solve this issue.</p>\n\n<p>app start picture:\n<a href=\"https://i.stack.imgur.com/ktbQ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ktbQ8.png\" alt=\"enter image description here\"></a></p>\n\n<p>picture after switched by clicking the bottom navigation bar.\n<a href=\"https://i.stack.imgur.com/MpH0J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MpH0J.png\" alt=\"enter image description here\"></a></p>\n\n<p>qponFragment.kt</p>\n\n<pre><code>class qponFragment : Fragment() {\n\n    var database = FirebaseDatabase.getInstance()\n    var myRef = database.getReference(\"SUBMIT\")\n\n\n    var countryloaded = \"\"\n    var cityloaded = \"\"\n\n    lateinit var spinnerOne : Spinner\n    lateinit var spinnerTwo : Spinner\n\n    val countryArray = arrayOf(\"\u9078\u64c7\u5730\u5340\",\"\u9999\u6e2f\",\"\u6fb3\u9580\",\"\u53f0\u7063\")\n    val taiwanArray = arrayOf(\"\u9078\u64c7\u57ce\u5e02\",\"\u81fa\u5317\u5e02\",\"\u65b0\u5317\u5e02\",\"\u6843\u5712\u5e02\",\"\u81fa\u4e2d\u5e02\",\"\u81fa\u5357\u5e02\",\"\u9ad8\u96c4\u5e02\",\"\u57fa\u9686\u5e02\",\"\u65b0\u7af9\u5e02\",\"\u5609\u7fa9\u5e02\",\"\u65b0\u7af9\u7e23\",\"\u82d7\u6817\u7e23\",\"\u5f70\u5316\u7e23\",\"\u5357\u6295\u7e23\",\"\u96f2\u6797\u7e23\",\"\u5609\u7fa9\u7e23\",\"\u5c4f\u6771\u7e23\",\"\u5b9c\u862d\u7e23\",\"\u82b1\u84ee\u7e23\",\"\u81fa\u6771\u7e23\",\"\u6f8e\u6e56\u7e23\",\"\u91d1\u9580\u7e23\",\"\u9023\u6c5f\u7e23\")\n    //val japanArray = arrayOf(\"\u9078\u64c7\u57ce\u5e02\",\"\u6771\u4eac\",\"\u5927\u962a\",\"\u540d\u53e4\u5c4b\")\n    var tempArray = mutableListOf&lt;String&gt;()\n\n    //var databaseRef: DatabaseReference?=null\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n\n\n\n        //databaseRef = FirebaseDatabase.getInstance().reference\n\n        // Inflate the layout for this fragment\n        setHasOptionsMenu(true)\n\n        return inflater.inflate(R.layout.fragment_qpon, container, false)\n\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        qponRecyclerView.layoutManager = LinearLayoutManager(context)\n        qponRecyclerView.adapter = QponAdapter()\n\n        val location = Location(activity!!)\n\n        spinnerOne = view?.findViewById(R.id.spinner1) as Spinner\n        spinnerTwo = view?.findViewById(R.id.spinner2) as Spinner\n\n\n        //SpinnerOne\n        spinnerOne.adapter = ArrayAdapter&lt;String&gt;(activity, R.layout.item, countryArray)\n\n        //SpinnerTwo\n        var dataAdapter = ArrayAdapter&lt;String&gt;(activity,  R.layout.item, tempArray)\n        spinnerTwo.setAdapter(dataAdapter)\n\n        spinnerOne.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n\n                var countrySeleccted:String = parent?.getItemAtPosition(position).toString()\n                //println(textItem)\n\n                if (countrySeleccted == \"\u9999\u6e2f\") {\n\n                    location.saveCountry(countrySeleccted)\n                    location.saveCity(\"empty\")\n                    //println(location.loadCountry())\n                    //hide\n                    spinnerTwo.setVisibility(View.GONE)\n                    qponRecyclerView.setVisibility(View.VISIBLE)\n                }\n\n                else if (countrySeleccted == \"\u6fb3\u9580\") {\n\n                    location.saveCountry(countrySeleccted)\n                    location.saveCity(\"empty\")\n                    //println(location.loadCountry())\n\n                    //hide\n                    spinnerTwo.setVisibility(View.GONE)\n                    qponRecyclerView.setVisibility(View.VISIBLE)\n                }\n\n                else if (countrySeleccted == \"\u53f0\u7063\") {\n\n                    location.saveCountry(countrySeleccted)\n                    tempArray.clear()\n                    tempArray.addAll(taiwanArray)\n                    dataAdapter.notifyDataSetChanged()\n\n                    //show\n                    spinnerTwo.setVisibility(View.VISIBLE)\n                    qponRecyclerView.setVisibility(View.GONE)\n                }\n\n                else {\n\n                }\n\n            }\n        }\n\n        //hide spinner2\n        spinnerTwo.setVisibility(View.GONE)\n\n        spinnerTwo.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n            }\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n                var citySelected: String = parent?.getItemAtPosition(position).toString()\n\n                if (citySelected==\"\u9078\u64c7\u57ce\u5e02\"){\n\n                }\n                else {\n                    location.saveCity(citySelected)\n                    //println(location.loadCountry())\n                    qponRecyclerView.setVisibility(View.VISIBLE)\n                    //println(\"kkkkkkkkkkkkkkkk\")\n                    println(citySelected)\n                }\n            }\n        }\n\n        //check sharedPre data\n        if (location.loadCountry() != \"empty\") {\n            println(location.loadCountry())\n            //println(location.loadCity())\n\n            countryloaded = location.loadCountry()\n\n            if (countryloaded == \"\u9999\u6e2f\") {\n                spinnerOne.setSelection(1, true)\n            }\n            else if (countryloaded == \"\u6fb3\u9580\") {\n                spinnerOne.setSelection(2, true)\n            }\n            else if (countryloaded == \"\u53f0\u7063\") {\n                spinnerOne.setSelection(3, true)\n\n                cityloaded = location.loadCity()\n                val indexNumber:Int = taiwanArray.indexOf(cityloaded)\n                //println(indexNumber)\n                if (indexNumber != -1) {\n                    tempArray.clear()\n                    tempArray.addAll(taiwanArray)\n                    dataAdapter.notifyDataSetChanged()\n                    spinnerTwo.setSelection(indexNumber, false)\n\n                }\n            }\n            else {\n                qponRecyclerView.setVisibility(View.GONE)\n            }\n        }\n        else {\n            qponRecyclerView.setVisibility(View.GONE)\n        }\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu?, inflater: MenuInflater?) {\n\n        super.onCreateOptionsMenu(menu, inflater)\n        inflater!!.inflate(R.menu.qpon_menu, menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n        val id = item?.getItemId()\n        when (id) {\n            R.id.item1 -&gt; createToastMessage(\"Selected item 1\")\n            R.id.item2 -&gt; createToastMessage(\"Selected item 2\")\n        }\n        return true\n    }\n\n    private fun createToastMessage(message: String) {\n        Toast.makeText(activity, message, Toast.LENGTH_SHORT).show()\n    }\n\n\n\n\n    inner class QponAdapter: RecyclerView.Adapter&lt;qponFragment.QponCustomViewHolder&gt;() {\n\n        var listOfTutorial = TutorialList().list\n\n\n\n        override fun getItemCount(): Int {\n            return  listOfTutorial.size\n        }\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): QponCustomViewHolder {\n\n            val layoutInflater = LayoutInflater.from(parent.context)\n            val cellForRow = layoutInflater.inflate(R.layout.qpon_layout, parent, false)\n            return qponFragment.QponCustomViewHolder(cellForRow)\n\n        }\n\n        override fun onBindViewHolder(holder: qponFragment.QponCustomViewHolder, position: Int) {\n\n            var videoName = listOfTutorial[position].name\n            var videoImage = listOfTutorial[position].image\n            var videoLink = listOfTutorial[position].youtubeLink\n\n            holder.itemView.startDate.text = videoName\n            holder.itemView.enddate.text = videoLink\n\n        }\n    }\n\n    class QponCustomViewHolder(v: View): RecyclerView.ViewHolder(v) {\n\n    }\n\n\n}\n</code></pre>\n\n<p>result of console:</p>\n\n<pre><code>05-27 23:35:35.143 32734-32734/? I/com.gph.qpon: Not late-enabling -Xcheck:jni (already on)\n05-27 23:35:35.416 32734-32734/? W/com.gph.qpon: Unexpected CPU variant for X86 using defaults: x86\n05-27 23:35:36.884 32734-32734/com.gph.qpon I/com.gph.qpon: The ClassLoaderContext is a special shared library.\n05-27 23:35:37.108 32734-32734/com.gph.qpon W/com.gph.qpon: Suspending all threads took: 161.965ms\n05-27 23:35:37.808 32734-32734/com.gph.qpon W/com.gph.qpon: JIT profile information will not be recorded: profile file does not exits.\n05-27 23:35:37.811 32734-32734/com.gph.qpon I/chatty: uid=10094(com.gph.qpon) identical 10 lines\n05-27 23:35:37.811 32734-32734/com.gph.qpon W/com.gph.qpon: JIT profile information will not be recorded: profile file does not exits.\n05-27 23:35:38.107 32734-32734/com.gph.qpon D/FirebaseApp: com.google.firebase.auth.FirebaseAuth is not linked. Skipping initialization.\n05-27 23:35:38.146 32734-32734/com.gph.qpon D/FirebaseApp: com.google.firebase.crash.FirebaseCrash is not linked. Skipping initialization.\n05-27 23:35:38.269 32734-32734/com.gph.qpon V/FA: Cancelling job. JobID: 1286666166\n05-27 23:35:38.277 32734-32734/com.gph.qpon V/FA: Registered activity lifecycle callback\n05-27 23:35:38.280 32734-32734/com.gph.qpon I/FirebaseInitProvider: FirebaseApp initialization successful\n05-27 23:35:38.281 32734-32734/com.gph.qpon I/InstantRun: starting instant run server: is main process\n05-27 23:35:38.358 32734-32752/com.gph.qpon V/FA: Collection enabled\n    App package, google app id: com.gph.qpon, 1:580019907416:android:f13bd2cc37b8f29d\n05-27 23:35:38.358 32734-32752/com.gph.qpon I/FA: App measurement is starting up, version: 11910\n05-27 23:35:38.359 32734-32752/com.gph.qpon I/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\n    To enable faster debug mode event logging run:\n      adb shell setprop debug.firebase.analytics.app com.gph.qpon\n05-27 23:35:38.359 32734-32752/com.gph.qpon D/FA: Debug-level message logging enabled\n05-27 23:35:38.523 32734-32734/com.gph.qpon V/FA: onActivityCreated\n05-27 23:35:38.568 32734-32752/com.gph.qpon V/FA: Connecting to remote service\n05-27 23:35:38.608 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (light greylist, reflection)\n05-27 23:35:38.609 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (light greylist, reflection)\n05-27 23:35:38.684 32734-32752/com.gph.qpon V/FA: Connection attempt already in progress\n05-27 23:35:39.005 32734-32756/com.gph.qpon W/com.gph.qpon: Unsupported class loader\n05-27 23:35:39.022 32734-32756/com.gph.qpon I/DynamiteModule: Considering local module com.google.android.gms.firebase_database:4 and remote module com.google.android.gms.firebase_database:6\n    Selected remote version of com.google.android.gms.firebase_database, version &gt;= 6\n05-27 23:35:39.176 32734-32756/com.gph.qpon W/com.gph.qpon: Unsupported class loader\n05-27 23:35:39.320 32734-32734/com.gph.qpon I/System.out: \u53f0\u7063\n05-27 23:35:39.320 32734-32756/com.gph.qpon W/com.gph.qpon: Skipping duplicate class check due to unsupported classloader\n05-27 23:35:39.449 32734-32758/com.gph.qpon D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n05-27 23:35:39.481 32734-32734/com.gph.qpon D/OpenGLRenderer: HWUI GL Pipeline\n05-27 23:35:39.537 32734-32752/com.gph.qpon V/FA: Connection attempt already in progress\n05-27 23:35:39.606 32734-32752/com.gph.qpon V/FA: Activity resumed, time: 104368397\n05-27 23:35:39.698 32734-32752/com.gph.qpon I/FA: Tag Manager is not found and thus will not be used\n05-27 23:35:39.774 32734-32752/com.gph.qpon D/FA: Logging event (FE): screen_view(_vs), Bundle[{firebase_event_origin(_o)=auto, firebase_screen_class(_sc)=MainActivity, firebase_screen_id(_si)=-5988656651441943046}]\n05-27 23:35:39.947 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/graphics/FontFamily;-&gt;&lt;init&gt;()V (light greylist, reflection)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;addFontFromAssetManager(Landroid/content/res/AssetManager;Ljava/lang/String;IZIII[Landroid/graphics/fonts/FontVariationAxis;)Z (light greylist, reflection)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;addFontFromBuffer(Ljava/nio/ByteBuffer;I[Landroid/graphics/fonts/FontVariationAxis;II)Z (light greylist, reflection)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;freeze()Z (light greylist, reflection)\n    Accessing hidden method Landroid/graphics/FontFamily;-&gt;abortCreation()V (light greylist, reflection)\n    Accessing hidden method Landroid/graphics/Typeface;-&gt;createFromFamiliesWithDefault([Landroid/graphics/FontFamily;II)Landroid/graphics/Typeface; (light greylist, reflection)\n05-27 23:35:40.287 32734-32752/com.gph.qpon V/FA: Connection attempt already in progress\n05-27 23:35:40.588 32734-32760/com.gph.qpon I/ConfigStore: android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasWideColorDisplay retrieved: 0\n    android::hardware::configstore::V1_0::ISurfaceFlingerConfigs::hasHDRDisplay retrieved: 0\n05-27 23:35:40.588 32734-32760/com.gph.qpon I/OpenGLRenderer: Initialized EGL, version 1.4\n05-27 23:35:40.588 32734-32760/com.gph.qpon D/OpenGLRenderer: Swap behavior 1\n05-27 23:35:40.604 32734-32760/com.gph.qpon D/EGL_emulation: eglCreateContext: 0xec604980: maj 2 min 0 rcv 2\n05-27 23:35:40.608 32734-32745/com.gph.qpon I/com.gph.qpon: Background concurrent copying GC freed 9787(823KB) AllocSpace objects, 2(40KB) LOS objects, 49% free, 2MB/5MB, paused 1.295ms total 525.335ms\n05-27 23:35:40.666 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:40.755 32734-32734/com.gph.qpon I/System.out: \u81fa\u5357\u5e02\n05-27 23:35:40.794 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:41.866 32734-32760/com.gph.qpon I/OpenGLRenderer: Davey! duration=1140ms; Flags=1, IntendedVsync=104369627325154, Vsync=104369643991820, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=104369658095247, AnimationStart=104369658270247, PerformTraversalsStart=104369658295247, DrawStart=104369691217247, SyncQueued=104369698042247, SyncStart=104369716740247, IssueDrawCommandsStart=104369817322247, SwapBuffers=104370695723247, FrameCompleted=104370787021247, DequeueBufferDuration=265000, QueueBufferDuration=9950000, \n05-27 23:35:41.892 32734-32752/com.gph.qpon D/FA: Connected to remote service\n05-27 23:35:41.893 32734-32752/com.gph.qpon V/FA: Processing queued up service tasks: 4\n05-27 23:35:41.913 32734-32734/com.gph.qpon W/InputMethodManager: Ignoring onBind: cur seq=361, given seq=360\n05-27 23:35:41.914 32734-32734/com.gph.qpon I/Choreographer: Skipped 68 frames!  The application may be doing too much work on its main thread.\n05-27 23:35:42.284 32734-32760/com.gph.qpon I/OpenGLRenderer: Davey! duration=1509ms; Flags=1, IntendedVsync=104369694884664, Vsync=104370828217952, OldestInputEvent=9223372036854775807, NewestInputEvent=0, HandleInputStart=104370834439247, AnimationStart=104370834490247, PerformTraversalsStart=104370834506247, DrawStart=104370974064247, SyncQueued=104371020262247, SyncStart=104371020345247, IssueDrawCommandsStart=104371020509247, SwapBuffers=104371156415247, FrameCompleted=104371204379247, DequeueBufferDuration=1583000, QueueBufferDuration=13778000, \n05-27 23:35:44.908 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/view/View;-&gt;getTransitionAlpha()F (light greylist, reflection)\n05-27 23:35:44.981 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden field Landroid/view/View;-&gt;mViewFlags:I (light greylist, reflection)\n05-27 23:35:44.984 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/view/View;-&gt;setTransitionAlpha(F)V (light greylist, reflection)\n05-27 23:35:44.986 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/view/ViewGroup;-&gt;suppressLayout(Z)V (light greylist, reflection)\n05-27 23:35:44.988 32734-32734/com.gph.qpon W/com.gph.qpon: Accessing hidden method Landroid/view/View;-&gt;setLeftTopRightBottom(IIII)V (light greylist, reflection)\n05-27 23:35:46.580 32734-32734/com.gph.qpon W/com.gph.qpon: JNI critical lock held for 25.695ms on Thread[1,tid=32734,Runnable,Thread*=0xf05f4000,peer=0x740091f0,\"main\"]\n05-27 23:35:46.610 32734-32734/com.gph.qpon W/com.gph.qpon: JNI critical lock held for 19.723ms on Thread[1,tid=32734,Runnable,Thread*=0xf05f4000,peer=0x740091f0,\"main\"]\n05-27 23:35:46.628 32734-32734/com.gph.qpon I/System.out: \u53f0\u7063\n05-27 23:35:46.776 32734-32734/com.gph.qpon W/com.gph.qpon: JNI critical lock held for 21.868ms on Thread[1,tid=32734,Runnable,Thread*=0xf05f4000,peer=0x740091f0,\"main\"]\n05-27 23:35:46.975 32734-32734/com.gph.qpon I/System.out: \u81fa\u5357\u5e02\n05-27 23:35:47.401 32734-32752/com.gph.qpon V/FA: Inactivity, disconnecting from the service\n05-27 23:35:51.999 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:52.427 32734-32760/com.gph.qpon I/chatty: uid=10094(com.gph.qpon) RenderThread identical 1 line\n05-27 23:35:52.607 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:53.013 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:53.046 32734-32734/com.gph.qpon I/System.out: \u57fa\u9686\u5e02\n05-27 23:35:53.304 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:53.661 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:35:58.679 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:00.619 32734-32734/com.gph.qpon I/System.out: \u53f0\u7063\n05-27 23:36:01.017 32734-32734/com.gph.qpon I/System.out: \u57fa\u9686\u5e02\n05-27 23:36:03.000 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:03.371 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:03.554 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:07.340 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:07.467 32734-32760/com.gph.qpon I/chatty: uid=10094(com.gph.qpon) RenderThread identical 1 line\n05-27 23:36:07.969 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:10.939 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:11.199 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:11.359 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n05-27 23:36:12.997 32734-32760/com.gph.qpon I/chatty: uid=10094(com.gph.qpon) RenderThread identical 2 lines\n05-27 23:36:13.165 32734-32760/com.gph.qpon D/EGL_emulation: eglMakeCurrent: 0xec604980: ver 2 0 (tinfo 0xd5bff0f0)\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var mFirebaseAnalytics: FirebaseAnalytics? = null\n\n    private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.navigation_qpon -&gt; {\n                //message.setText(R.string.title_qpon)\n                actionBarIcon(R.drawable.ic_title_black)\n                createQponFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_me-&gt; {\n                //message.setText(R.string.title_me)\n                actionBarIcon(R.drawable.logged)\n                createMeFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_tool -&gt; {\n                //message.setText(R.string.title_tool)\n                actionBarIcon(R.drawable.logged)\n                createToolFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n            R.id.navigation_tutorial -&gt; {\n                //message.setText(R.string.title_tutorial)\n                actionBarIcon(R.drawable.tutorial)\n                createTutorialFragment()\n                return@OnNavigationItemSelectedListener true\n            }\n        }\n        false\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Obtain the FirebaseAnalytics instance.\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this)\n\n        actionBarIcon(R.drawable.ic_title_black)\n\n\n        createQponFragment()\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n    }\n\n    fun actionBarIcon(imageName:Int) {\n\n        setSupportActionBar(findViewById(R.id.my_toolbar))\n        my_toolbar.setLogo(imageName)\n\n        if (imageName == R.drawable.ic_title_black) {\n            my_toolbar.setTitle(\"\")\n        }\n\n        if (imageName == R.drawable.logged) {\n\n            my_toolbar.setTitle(\"login name\")\n\n        }\n        if (imageName == R.drawable.tutorial) {\n\n            my_toolbar.setTitle(\"Tutorial\")\n\n        }\n\n\n    }\n\n    val manager = supportFragmentManager\n\n\n\n    fun createQponFragment() {\n        val transaction = manager.beginTransaction()\n        val fragment = qponFragment()\n        transaction.replace(R.id.fragmentholder,fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n\n\n    }\n\n    fun createMeFragment() {\n        val transaction = manager.beginTransaction()\n        val fragment = meFragment()\n        transaction.replace(R.id.fragmentholder,fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createToolFragment() {\n        val transaction = manager.beginTransaction()\n        val fragment = toolFragment()\n        transaction.replace(R.id.fragmentholder,fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    fun createTutorialFragment() {\n        val transaction = manager.beginTransaction()\n        val fragment = tutorialFragment()\n        transaction.replace(R.id.fragmentholder,fragment)\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 7563350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd09ede9ad0528030b483329c6e76f97?s=128&d=identicon&r=PG&f=1", "display_name": "Synth", "link": "https://stackoverflow.com/users/7563350/synth"}, "is_accepted": false, "score": 0, "last_activity_date": 1527440321, "creation_date": 1527440321, "answer_id": 50554468, "question_id": 50552812, "link": "https://stackoverflow.com/questions/50552812/how-to-create-a-json-representation-of-the-diff-between-2-complex-objects/50554468#50554468", "title": "How to create a Json representation of the diff between 2 complex objects?", "body": "<p>Imagine you have the following object tree (pseudocode):</p>\n\n<pre><code>A {\nB {\n    C {\n        a: 15\n        b: 12\n    },\n    c: 4\n},\nd: 12\n</code></pre>\n\n<p>}</p>\n\n<p>Now some changes could've happened and you need to check it. Your new JSON file might look like this:</p>\n\n<pre><code>A {\nB {\n    C {\n        a: 3\n        b: 12\n    },\n    c: 4\n},\nd: 12\n</code></pre>\n\n<p>}</p>\n\n<p>I would recommend to create the objects and let them check for changes by itself because they know the best if there were any changes and which attributes they have:</p>\n\n<pre><code>A:\nChanges changes(oldA) {\n    Changes changes = b.changes(oldA.b)\n    changes.add(Changes(d, oldA.d))\n    return changes\n</code></pre>\n\n<p>}</p>\n\n<p>This means you would have a class Changes that behaves like a list and offers the update in form of JSON and every object that is part of the JSON puts its values inside of it.</p>\n\n<p>The only thing that is left for you, is to think about the appropriate JSON format for this list.</p>\n"}], "owner": {"reputation": 838, "user_id": 4840115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f415f711278c3b35aa48b3771d9674e?s=128&d=identicon&r=PG&f=1", "display_name": "JP Lipata", "link": "https://stackoverflow.com/users/4840115/jp-lipata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527440321, "creation_date": 1527429080, "last_edit_date": 1527429431, "question_id": 50552812, "link": "https://stackoverflow.com/questions/50552812/how-to-create-a-json-representation-of-the-diff-between-2-complex-objects", "title": "How to create a Json representation of the diff between 2 complex objects?", "body": "<p>What's are some ways in Kotlin to compare two objects that have many child objects and update a REST backend with just the properties that have changed?</p>\n\n<p>Basically, we have a class that has many child classes (which have their own child classes, and so on), and need to call a REST endpoint and send Json to patch only the properties that have changed.</p>\n\n<p>In our project we're using Retrofit with Gson. </p>\n"}]