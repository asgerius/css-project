[{"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5020, "user_id": 819911, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba6f8961787eda53ce9881751ad9f43e?s=128&d=identicon&r=PG&f=1", "display_name": "gsb", "link": "https://stackoverflow.com/users/819911/gsb"}, "edited": false, "score": 0, "creation_date": 1524093479, "post_id": 49910362, "comment_id": 86836642, "body": "problem seems to be in your MainActivity line 18: <code>com.jagoancoding.foodstalladmin.MainActivity.onCreate(MainAc&zwnj;&#8203;tivity.kt:18)</code>. Can you post that code too?"}, {"owner": {"reputation": 837, "user_id": 8434188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xldO9MTGaUo/AAAAAAAAAAI/AAAAAAAAABM/dnsjtoTpXGI/photo.jpg?sz=128", "display_name": "Fawwaz Yusran", "link": "https://stackoverflow.com/users/8434188/fawwaz-yusran"}, "reply_to_user": {"reputation": 5020, "user_id": 819911, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba6f8961787eda53ce9881751ad9f43e?s=128&d=identicon&r=PG&f=1", "display_name": "gsb", "link": "https://stackoverflow.com/users/819911/gsb"}, "edited": false, "score": 0, "creation_date": 1524094191, "post_id": 49910362, "comment_id": 86836805, "body": "@gsb: i&#39;ve updated it. I omitted <code>: DatabaseListener</code> before because I thought it wasn&#39;t the problem,  now I think there is something wrong with my implementation?"}, {"owner": {"reputation": 837, "user_id": 8434188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xldO9MTGaUo/AAAAAAAAAAI/AAAAAAAAABM/dnsjtoTpXGI/photo.jpg?sz=128", "display_name": "Fawwaz Yusran", "link": "https://stackoverflow.com/users/8434188/fawwaz-yusran"}, "reply_to_user": {"reputation": 5020, "user_id": 819911, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ba6f8961787eda53ce9881751ad9f43e?s=128&d=identicon&r=PG&f=1", "display_name": "gsb", "link": "https://stackoverflow.com/users/819911/gsb"}, "edited": false, "score": 0, "creation_date": 1524094545, "post_id": 49910362, "comment_id": 86836906, "body": "MainActivity.kt:18 is <code>DbUtil.getItems(&quot;shop&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 837, "user_id": 8434188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xldO9MTGaUo/AAAAAAAAAAI/AAAAAAAAABM/dnsjtoTpXGI/photo.jpg?sz=128", "display_name": "Fawwaz Yusran", "link": "https://stackoverflow.com/users/8434188/fawwaz-yusran"}, "is_accepted": true, "score": 0, "last_activity_date": 1524097385, "creation_date": 1524097385, "answer_id": 49910843, "question_id": 49910362, "link": "https://stackoverflow.com/questions/49910362/calling-a-fragment-method-from-a-singleton/49910843#49910843", "title": "Calling a Fragment method from a singleton", "body": "<p>I found the solution.</p>\n\n<p>It was to do with <code>itemsListener</code> not initialized when calling <code>DbUtil.getItems()</code>, which needed a non-null <code>ItemsListener</code> to call its interface method - <code>onItemsChange()</code>.</p>\n\n<p>The solution is to set <code>DbUtil.itemsListener</code> before calling <code>DbUtil.getItems</code>. I updated the <code>onAttach()</code> method in my fragment:</p>\n\n<pre><code>override fun onAttach(context: Context?) {\n    super.onAttach(context)\n    DbUtil.itemsListener = this\n    DbUtil.getItems()\n}\n</code></pre>\n"}], "owner": {"reputation": 837, "user_id": 8434188, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xldO9MTGaUo/AAAAAAAAAAI/AAAAAAAAABM/dnsjtoTpXGI/photo.jpg?sz=128", "display_name": "Fawwaz Yusran", "link": "https://stackoverflow.com/users/8434188/fawwaz-yusran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 49910843, "answer_count": 1, "score": 0, "last_activity_date": 1524097385, "creation_date": 1524093214, "last_edit_date": 1524094615, "question_id": 49910362, "link": "https://stackoverflow.com/questions/49910362/calling-a-fragment-method-from-a-singleton", "title": "Calling a Fragment method from a singleton", "body": "<p>In my Android app, I have a Singleton (kotlin <code>object</code>) that deals specifically with database operations (for Firebase Realtime Database). In my main activity, I setup a <code>ViewPager</code> with custom fragments, creating a multi-pane layout.</p>\n\n<p>One of those fragments contains a <code>RecyclerView</code> that needs to be updated when the database Singleton detects a change in the data.</p>\n\n<p>My logic is to create an <code>interface</code> in my database Singleton, and make the fragment implement that interface. But I cannot achieve this. I get this error:</p>\n\n<pre><code>java.lang.ExceptionInInitializerError\n        at com.jagoancoding.foodstalladmin.MainActivity.onCreate(MainActivity.kt:18)\n        at android.app.Activity.performCreate(Activity.java:5933)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2282)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2391)\n        at android.app.ActivityThread.access$900(ActivityThread.java:147)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1296)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5256)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:898)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:693)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.Object.hashCode()' on a null object reference\n        at com.google.android.gms.internal.zzejp.hashCode(Unknown Source)\n        at java.util.Collections.secondaryHash(Collections.java:3405)\n        at java.util.HashMap.get(HashMap.java:300)\n        at com.google.android.gms.internal.zzeju.zzi(Unknown Source)\n        at com.google.firebase.database.Query.zzb(Unknown Source)\n        at com.google.firebase.database.Query.addValueEventListener(Unknown Source)\n        at com.jagoancoding.foodstalladmin.DbUtil.&lt;clinit&gt;(DbUtil.kt:22)\n</code></pre>\n\n<p>Here is my Singleton:</p>\n\n<pre><code>object DbUtil : DatabaseListener {\n    const val TAG = \"DatabaseUtil\"\n\n    lateinit var itemsListener: ItemsListener\n\n    interface ItemsListener {\n        fun onItemsChange(items: ArrayList&lt;Item&gt;)\n    }\n\n    val rootRef: DatabaseReference = FirebaseDatabase.getInstance().reference\n    val shopRef: DatabaseReference = rootRef.child(DataUtil.ROOT_SHOP).apply {\n        addValueEventListener(readFoodItemsListener)\n    }\n    val usersRef: DatabaseReference = rootRef.child(DataUtil.ROOT_USERS)\n\n    // Automatically update local list when data is changed upstream\n    private val readFoodItemsListener = object : ValueEventListener {\n        override fun onDataChange(p0: DataSnapshot?) {\n            if (p0!!.exists()) {\n                p0.children.mapNotNullTo(DataUtil.allFoodItems) { it.getValue(Item::class.java) }\n\n                //TODO: Update Items list in fragment\n                itemsListener.onItemsChange(DataUtil.allFoodItems)\n            }\n        }\n\n        override fun onCancelled(p0: DatabaseError?) {\n            Log.e(TAG, \"shopRef:onCancelled: \", p0?.toException())\n        }\n    }\n\n    override fun getItems(dataRoot: String) {\n        // Get Database food items to local list\n        shopRef.addListenerForSingleValueEvent(readFoodItemsListener)\n    }\n\n    override fun onItemAdd(item: Item) {\n        // Set up the unique ID\n        val itemId = shopRef.child(item.name).push().key\n        shopRef.child(itemId).setValue(Item(itemId, item.name, item.price))\n    }\n\n    override fun onItemUpdate(item: Item, name: String, price: Double) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun onItemDelete(item: Item) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n    // ... other methods ...\n}\n</code></pre>\n\n<p>My fragment:</p>\n\n<pre><code>class ItemsPage : Fragment(), DbUtil.ItemsListener {\n\n    val LOG_TAG = \"ItemsPageFragment\"\n\n    private lateinit var itemsRV: RecyclerView\n    private lateinit var itemFAB: FloatingActionButton\n    private lateinit var loadPB: ProgressBar\n    private lateinit var mAdapter: ItemsAdapter\n\n    private var items = arrayListOf&lt;Item&gt;()\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        DbUtil.itemsListener = this\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val rootView = inflater.inflate(R.layout.items_page, container, false)\n\n        mAdapter = ItemsAdapter(items)\n\n        itemsRV = rootView.findViewById&lt;RecyclerView&gt;(R.id.rv_items).apply {\n            adapter = mAdapter\n            layoutManager = LinearLayoutManager(rootView.context)\n        }\n        itemFAB = rootView.findViewById&lt;FloatingActionButton&gt;(R.id.fab_add_item).apply {\n            setOnClickListener { DbUtil.onItemAdd(DataUtil.demoFood[0]) }\n        }\n        loadPB = rootView.findViewById&lt;ProgressBar&gt;(R.id.pb_items).apply {\n            visibility = View.GONE\n        }\n\n        return rootView\n    }\n\n    override fun onItemsChange(items: ArrayList&lt;Item&gt;) {\n        loadPB.visibility = View.VISIBLE\n        this.items = items\n        mAdapter.notifyItemRangeChanged(0, items.size - 1)\n        loadPB.visibility = View.GONE\n    }\n}\n</code></pre>\n\n<p>My Activity:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    val TAG = \"MainActivity\"\n\n    // Fragments\n    private lateinit var mPager: ViewPager\n    private lateinit var mAdapter: PageAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        DbUtil.getItems(\"shop\")\n\n        mAdapter = PageAdapter(supportFragmentManager)\n        mPager = findViewById&lt;ViewPager&gt;(R.id.vp_main).apply { adapter = mAdapter }\n    }\n}\n</code></pre>\n\n<p>I tried to implement the interface on my Activity and call my Fragment method that way, but I got the same error as above.</p>\n\n<p>I also read <a href=\"https://stackoverflow.com/a/22483203/8434188\">this answer</a> and tried to set it up with my Singleton and fragment, but that addresses the same issue.</p>\n"}, {"tags": ["swing", "generics", "kotlin"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1524088757, "post_id": 49909603, "comment_id": 86835214, "body": "Because it might be a particular subclass that&#39;s not satisfied by <code>JPanel</code>."}, {"owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1524088976, "post_id": 49909603, "comment_id": 86835287, "body": "Oh ... i understand now."}, {"owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1524089754, "post_id": 49909603, "comment_id": 86835552, "body": "@shmosel Just answered the question myself, in case someone else has the same problem and finds my answer. Hope i got everything correct ;)"}], "answers": [{"tags": [], "owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "is_accepted": true, "score": 2, "last_activity_date": 1524089718, "last_edit_date": 1524089718, "creation_date": 1524089386, "answer_id": 49909744, "question_id": 49909603, "link": "https://stackoverflow.com/questions/49909603/kotlin-generic-functions/49909744#49909744", "title": "Kotlin- Generic functions", "body": "<p>As @shmosel pointed out already, <code>T</code> might still be something other than <code>JPanel</code> which will lead to <code>JPanel</code> not satisfying <code>T</code>.</p>\n\n<p>Here is an example of what one might do:</p>\n\n<pre><code>    val setup: JPanelExtendingClass.() -&gt; Unit = {\n        //Perform actions on splitpane\n    }\n    container(constraints = LC(), setup = setup)\n</code></pre>\n\n<p>This would lead to <code>T</code> being <code>JPanelExtendingClass</code> which <code>JPanel</code> doesn't conform to.</p>\n\n<p>Therefore i ended up splitting the whole thing into two methods, one specifically for <code>JPanel</code></p>\n\n<pre><code>fun panel(constraints: LC = LC(), setup: JPanel.() -&gt; Unit): JPanel {\n    return container(JPanel(), constraints, setup)\n}\n</code></pre>\n\n<p>and another one for anything extending <code>JPanel</code></p>\n\n<pre><code>fun &lt;T : JPanel&gt; container(containerComponent: T, constraints: LC = LC(), setup: T.() -&gt; Unit): T {\n    containerComponent.setup()\n    containerComponent.layout = MigLayout(constraints)\n    return containerComponent\n}\n</code></pre>\n\n<p>this one does not define any default component though.</p>\n"}, {"comments": [{"owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "edited": false, "score": 0, "creation_date": 1524119132, "post_id": 49914039, "comment_id": 86843602, "body": "i need it to be generic in order to call subclass-specific functions on it"}, {"owner": {"reputation": 3015, "user_id": 787438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ebQwr.png?s=128&g=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/787438/rupesh"}, "reply_to_user": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "edited": false, "score": 0, "creation_date": 1524121561, "post_id": 49914039, "comment_id": 86844988, "body": "In that case, you can&#39;t have the default value for <code>containerComponent</code>; which you already have mentioned in your answer."}, {"owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "edited": false, "score": 0, "creation_date": 1524122252, "post_id": 49914039, "comment_id": 86845399, "body": "i am well aware of that, hence i already answered the question myself."}], "tags": [], "owner": {"reputation": 3015, "user_id": 787438, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ebQwr.png?s=128&g=1", "display_name": "Rupesh", "link": "https://stackoverflow.com/users/787438/rupesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1524118889, "creation_date": 1524118889, "answer_id": 49914039, "question_id": 49909603, "link": "https://stackoverflow.com/questions/49909603/kotlin-generic-functions/49914039#49914039", "title": "Kotlin- Generic functions", "body": "<p>You want to have a function that can have any JPanel type as a parameter, and if one doesn't specify the parameter value, it will be JPanel.</p>\n\n<p>Now suppose, you are calling the function in this way:</p>\n\n<pre><code>container&lt;JPanelExtendingClass&gt; { ... }\n</code></pre>\n\n<p>In this case, the type of the <code>containerComponent</code> parameter will be <code>JPanelExtendingClass</code>, and the value will be <code>JPanel()</code>. </p>\n\n<p><code>JPanel</code> is not a subclass of <code>JPanelExtendingClass</code>, so the compiler rejects it.</p>\n\n<p>Here you don\u2019t actually need that function to be generic, you can change the function to</p>\n\n<pre><code>fun container(containerComponent: JPanel = JPanel(), constraints: LC = LC(), setup: JPanel.() -&gt; Unit): JPanel {...}\n</code></pre>\n"}], "owner": {"reputation": 1232, "user_id": 5841827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOjIm.png?s=128&g=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/5841827/marcel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 49909744, "answer_count": 2, "score": 0, "last_activity_date": 1524118889, "creation_date": 1524088539, "last_edit_date": 1524088617, "question_id": 49909603, "link": "https://stackoverflow.com/questions/49909603/kotlin-generic-functions", "title": "Kotlin- Generic functions", "body": "<p>I am currently trying to write a dsl that allows building Swing user interfaces easily. In order to achieve that and not having to support all types of components i wanted to make a generic function to add a container, which in my case means everything that extends <code>JPanel</code>.</p>\n\n<p>What i ended up with was this:</p>\n\n<pre><code>fun &lt;T : JPanel&gt; container(containerComponent: T = JPanel(), constraints: LC = LC(), setup: T.() -&gt; Unit): T {\n    containerComponent.setup()\n    containerComponent.layout = MigLayout(constraints)\n    return containerComponent\n}\n</code></pre>\n\n<p>However, on line one, at the first parameter, i get an error <code>Type mismatch: Required T, but found JPanel</code>, but i don't really understand why, since i specified that T will be something that extends <code>JPanel</code>.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "dagger-2", "okhttp3"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1524083383, "post_id": 49908300, "comment_id": 86832935, "body": "post the relevant code here"}, {"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1524084678, "post_id": 49908300, "comment_id": 86833550, "body": "updated @TimCastelijns"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1524085638, "post_id": 49908300, "comment_id": 86833960, "body": "This has nothing to do with OkHttp, that&#39;s just hauling bytes over network. Retrofit is in charge of <i>what</i> gets transmitted. In your question you don&#39;t mention your Retrofit configuration, can you add that as well?"}], "answers": [{"comments": [{"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 0, "creation_date": 1524091197, "post_id": 49909355, "comment_id": 86836014, "body": "That&#39;s good info @eugen-pechanec! I removed the <code>ScalarsConverterFactory</code> and shared updated logs. The <code>Content-Type</code> header key is now present but its value isn&#39;t exactly what server expects, so status remains <code>500</code>."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 0, "creation_date": 1524093647, "post_id": 49909355, "comment_id": 86836675, "body": "You used a Moshi converter, right? It&#39;s trying to send your String as JSON. The converter added double quotes to start and end. Either <a href=\"https://futurestud.io/tutorials/retrofit-send-objects-in-request-body\" rel=\"nofollow noreferrer\">send a POJO using a Moshi converter</a> or keep sending String but you have to write your own converter."}, {"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 0, "creation_date": 1524101501, "post_id": 49909355, "comment_id": 86838606, "body": "<b>200!!</b>  #1. In refactoring I overlooked logic sending <code>String</code> payloads. Correcting those places didn&#39;t solve it. #2. This is a <a href=\"http://jsonapi.org/\" rel=\"nofollow noreferrer\">jsonapi.org</a> service. I have a spec-compliant converter ahead of <code>MoshiConverterFactory</code>, as Retrofit prescribes. I found the JsonApi converter&#39;s <code>MediaType</code> was <code>&quot;application&#47;json; charset=UTF-8&quot;</code>, properly setting it was the last fix. Now JsonApi converter just handles the request; even making it unnecessary to use add <code>Content-Type</code> via <code>Interceptor</code>. It just works.  Fun ;D Thanks for working through it with me!"}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 1, "last_activity_date": 1524087137, "creation_date": 1524087137, "answer_id": 49909355, "question_id": 49908300, "link": "https://stackoverflow.com/questions/49908300/why-is-this-okhttp-post-that-supports-a-body-missing-its-content-type-header/49909355#49909355", "title": "Why is this OkHttp POST that supports a BODY missing its Content-Type Header?", "body": "<h3>Why is it not working</h3>\n\n<p>Retrofit is in charge of setting appropriate content type and length based on registered converters and what you provide to your <code>@Body</code> parameter. </p>\n\n<p>In greater detail: A Retrofit converter is responsible for transforming the type of your <code>@Body</code> to <code>okhttp3.RequestBody</code> which holds your content bytes, content length, and content type. Similarly on the way back. You supply content, <code>ResponseBody</code> handles details like HTTP headers.</p>\n\n<p><strong>You can't manually override these headers.</strong></p>\n\n<p>As you can see in the log, your string body gets successfully transmitted as <code>text/plain</code>. </p>\n\n<pre><code>--&gt; POST https://api.es0329.com/v5/authenticated_users\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 259\nUser-Agent: MyApp v1.5.1\n--&gt; END POST\n</code></pre>\n\n<p>That leads me to believe you have a registered converter and it's the <a href=\"https://github.com/square/retrofit/tree/master/retrofit-converters/scalars\" rel=\"nofollow noreferrer\">scalar converter</a>, which states:</p>\n\n<blockquote>\n  <p>A Converter which supports converting strings and both primitives and their boxed types to <code>text/plain</code> bodies.</p>\n</blockquote>\n\n<h3>What to to instead</h3>\n\n<p>All of the ready-made converters (Moshi, Gson, Jackson) are built to convert POJOs to <code>application/json</code>. This is a typical case and you should use one of these if you can. <a href=\"https://github.com/square/retrofit/tree/master/retrofit-converters\" rel=\"nofollow noreferrer\">Explore source code here.</a></p>\n\n<p>There are plenty of tutorials online for this case.</p>\n\n<h3>Rocky alternative</h3>\n\n<p>If for some reason you want/need to continue your current direction, that is prepare a JSON string manually and send that as <code>application/vnd.api+json</code>, you'll need a custom converter.</p>\n\n<p>The aforementioned <a href=\"https://github.com/square/retrofit/tree/master/retrofit-converters/scalars\" rel=\"nofollow noreferrer\">scalar converter</a> already knows how to transform strings, so copy it into your project and adapt it to your needs (change the mime type). It's just a set of three classes:</p>\n\n<ul>\n<li>convertor factory</li>\n<li>request body convertor (transforms the <code>@Body</code> to <code>okhttp3.RequestBody</code>)</li>\n<li>repsonse body convertor (transforms the <code>okhttp3.ResponseBody</code> to return value)</li>\n</ul>\n"}], "owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2179, "favorite_count": 0, "accepted_answer_id": 49909355, "answer_count": 1, "score": 0, "last_activity_date": 1524101103, "creation_date": 1524082457, "last_edit_date": 1524101103, "question_id": 49908300, "link": "https://stackoverflow.com/questions/49908300/why-is-this-okhttp-post-that-supports-a-body-missing-its-content-type-header", "title": "Why is this OkHttp POST that supports a BODY missing its Content-Type Header?", "body": "<p>I saw that <a href=\"https://github.com/square/retrofit/issues/1945#issuecomment-235494220\" rel=\"nofollow noreferrer\"><code>Content-Type</code> header is removed for methods that don't support a <code>Body</code></a>, but that isn't my case. I've also confirmed my <code>User-Agent</code> header is successfully set.</p>\n\n<p>This can be done statically via the interface with the endpoint's definition but I'd favor a global <a href=\"https://github.com/square/okhttp/wiki/Interceptors#network-interceptors\" rel=\"nofollow noreferrer\"><code>Interceptor</code></a> over annotating all my methods.</p>\n\n<pre><code>// Api.kt\n@POST(\"authenticated_users\")\nfun postUser(\n    @Body newUser: NewUser\n): Observable&lt;AuthUser&gt;\n\nclass UserRepo @Inject constructor(private val api: Api) {\n    fun postUser(newUser: NewUser) = api.postUser(newUser)\n}\n\n// NetModule.kt\n@Provides @Singleton\nfun providesOkHttpClient(cache: Cache, app: Application): OkHttpClient {\n    val timeoutInSeconds = 90.toLong()\n    val builder = OkHttpClient.Builder()\n        .cache(cache)\n        .addInterceptor(MyInterceptor(app))\n        .connectTimeout(timeoutInSeconds, TimeUnit.SECONDS)\n        .readTimeout(timeoutInSeconds, TimeUnit.SECONDS)\n\n    when {\n        BuildConfig.DEBUG -&gt; {\n            val loggingInterceptor = HttpLoggingInterceptor().apply {\n                level = HttpLoggingInterceptor.Level.HEADERS\n            }\n\n            with(builder) {\n                addInterceptor(loggingInterceptor)\n                addNetworkInterceptor(StethoInterceptor())\n            }\n        }\n    }\n\n    return builder.build()\n}\n\n@Provides @Singleton\nfun providesMoshi(): Moshi {\n    val jsonApiAdapterFactory = ResourceAdapterFactory.builder()\n        .add(TermsConditions::class.java)\n        .add(AuthUser::class.java)\n        .add(Unknown::class.java)\n        .build()\n\n    val builder = Moshi.Builder()\n        .add(jsonApiAdapterFactory)\n        .add(KotlinJsonAdapterFactory())\n    return builder.build()\n}\n\n@Provides @Singleton\nfun providesRetrofit(okHttpClient: OkHttpClient, moshi: Moshi): Retrofit {\n    return Retrofit.Builder()\n        // .addConverterFactory(ScalarsConverterFactory.create())\n        .addConverterFactory(JsonApiConverterFactory.create(moshi))\n        .addConverterFactory(MoshiConverterFactory.create(moshi))\n        .addCallAdapterFactory(CoroutineCallAdapterFactory())\n        .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        .baseUrl(baseUrl)\n        .client(okHttpClient)\n        .build()\n}\n\n// MyInterceptor.kt\nclass MyInterceptor @Inject constructor(private val app: Application) : Interceptor {\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val initialRequest = chain.request()\n        val finalRequest = setHeaders(initialRequest)\n        return chain.proceed(finalRequest)\n    }\n\n    private fun setHeaders(initialRequest: Request): Request {\n        return initialRequest.newBuilder()\n            // .header(\"Content-Type\", \"application/vnd.api+json\")\n            .header(\"User-Agent\", \"MyApp v${BuildConfig.VERSION_NAME}\")\n            .build()\n    }\n}\n\n// MyViewModel.kt\nfun createUser() {\n    userObserver = object : DisposableObserver&lt;AuthUser&gt;() {\n        override fun onNext(authUser: AuthUser) {\n            statusData.postValue(true)\n        }\n\n        override fun onError(e: Throwable) {\n            Timber.w(e.localizedMessage)\n            error.postValue(e.localizedMessage)\n        }\n\n        override fun onComplete() {\n            // no-op\n        }\n    }\n\n    userRepo.postUser(newUser)\n        .subscribeOn(Schedulers.newThread())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe(userObserver)\n}\n\n// log1.txt Retrofit with ScalarsConverterFactory\n2018-04-18 15:20:35.772 16491-17436/com.es0329.myapp D/OkHttp: --&gt; POST https://api.es0329.com/v5/authenticated_users\n    Content-Type: text/plain; charset=UTF-8\n    Content-Length: 259\n    User-Agent: MyApp v1.5.1\n    --&gt; END POST\n2018-04-18 15:20:36.278 16491-17436/com.es0329.myapp D/OkHttp: &lt;-- 500 https://api.es0329.com/v5/authenticated_users (505ms)\n\n// log2.txt Retrofit without ScalarsConverterFactory\n2018-04-18 18:25:45.742 5017-6325/com.es0329.myapp D/OkHttp: --&gt; POST https://api.es0329.com/v5/authenticated_users\n    Content-Type: application/json; charset=UTF-8\n    Content-Length: 311\n    User-Agent: MyApp v1.5.1\n    --&gt; END POST\n2018-04-18 18:25:45.868 5017-6325/com.es0329.myapp D/OkHttp: &lt;-- 500 https://api.es0329.com/v5/authenticated_users (125ms)\n\n// log3.txt after modifying JsonApiConverterFactory's `MediaType`\n2018-04-18 20:35:47.322 19368-19931/com.es0329.myapp D/OkHttp: --&gt; POST https://api.es0329.com/v5/authenticated_users\n    Content-Type: application/vnd.api+json\n    Content-Length: 268\n    User-Agent: MyApp v1.5.1\n    --&gt; END POST\n2018-04-18 20:35:49.058 19368-19931/com.es0329.myapp D/OkHttp: &lt;-- 200 https://api.es0329.com/v5/authenticated_users (1735ms)\n</code></pre>\n"}, {"tags": ["kotlin", "primes"], "comments": [{"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 3, "creation_date": 1524078788, "post_id": 49907293, "comment_id": 86830475, "body": "your program is correct, but you are checking the 10002nd prime (because indexing starts with 0) which is indeed 104759"}, {"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 2, "creation_date": 1524078897, "post_id": 49907293, "comment_id": 86830547, "body": "additionally, your z should be square root of n, not <code>n&#47;2</code>; also there is no point in using stop variable because function exists on return statement"}], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "is_accepted": false, "score": -1, "last_activity_date": 1524086963, "creation_date": 1524086963, "answer_id": 49909309, "question_id": 49907293, "link": "https://stackoverflow.com/questions/49907293/error-10001st-prime-number-in-kotlin/49909309#49909309", "title": "Error 10001st prime number in Kotlin", "body": "<p>Alternatively, you could use Java's built in Prime Number checker and Kotlin's infinite sequences generated by buildSequence.</p>\n\n<p>Ensure that you use take() to select how many elements you want to extract.</p>\n\n<pre><code>import java.math.BigInteger\nimport kotlin.coroutines.experimental.buildSequence\n\nfun primes() = buildSequence {\n    var n = 1\n    while (true){\n        if (BigInteger(\"$n\").isProbablePrime(1)){\n            yield(n)\n        }\n        n++\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(primes().take(10001).last())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2865, "user_id": 8584904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84e90a4f75fb784ac13ac7be08521043?s=128&d=identicon&r=PG&f=1", "display_name": "H S Progr", "link": "https://stackoverflow.com/users/8584904/h-s-progr"}, "is_accepted": false, "score": -1, "last_activity_date": 1560267412, "creation_date": 1560267412, "answer_id": 56547220, "question_id": 49907293, "link": "https://stackoverflow.com/questions/49907293/error-10001st-prime-number-in-kotlin/56547220#56547220", "title": "Error 10001st prime number in Kotlin", "body": "<p>Prime numbers are of the form 6f \u00b1 1, excluding 2 and 3 where f is any integer</p>\n\n<pre><code>fun isPrime(number: Int) : Boolean \n{\n\n   if (number &lt;= 1)\n   {\n      return false;\n   }   \n\n   // The check for the number 2 and 3\n   if (number &lt;= 3)\n   {\n      return true;\n   }\n\n   if (number%2 == 0 || number%3 == 0)\n   {\n      return false;\n   }\n\n   for (i in 5..number/2 step 6)\n   {\n\n      if (number%i == 0 || number%(i+2) == 0)\n      {\n         return false;\n      }   \n   }\n   return true;\n}\n</code></pre>\n\n<p>Time Complexity of the solution: O(sqrt(n))</p>\n"}], "owner": {"reputation": 81, "user_id": 9469538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de539ff719d2afd20d41b423df13429?s=128&d=identicon&r=PG&f=1", "display_name": "snaldi", "link": "https://stackoverflow.com/users/9469538/snaldi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560267412, "creation_date": 1524078510, "question_id": 49907293, "link": "https://stackoverflow.com/questions/49907293/error-10001st-prime-number-in-kotlin", "title": "Error 10001st prime number in Kotlin", "body": "<p>My code:</p>\n\n<pre><code>import java.util.*\n\nfun checkPrime(n : Int): Boolean{\n    val z = n/2\n    var stop = false\n    if(n == 0 || n == 1){\n        stop = true\n        return false\n    }\n    for(i in 2..z){\n        if(n % i == 0){\n            stop = true\n            return false\n            break\n        }\n    }\n    return !stop\n}\n\nfun main(args : Array&lt;String&gt;){\n    var primes = ArrayList&lt;Int&gt;()\n    //The \"500000\" can be replaced with any number so you get at least 100001 primes\n    for(i in 2..500000){\n        if(checkPrime(i)){\n            primes.add(i)\n        }\n    }\n    println(\"Finished\")\n    println(\"Size of Array: ${primes.size}\")\n    println(\"10001st Prime: ${primes.get(index = 10001)}\")\n}\n</code></pre>\n\n<p>I'm new to Kotlin so this probably looks horrible to you. When I run it, I get 104759, which is wrong. Where is the error here? Is my prime checking function incorrect? Thanks.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1524073819, "post_id": 49905980, "comment_id": 86827856, "body": "Try after enabling multidex <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/multidex.html</a>."}, {"owner": {"reputation": 307, "user_id": 9134291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f9524c0536a1d95b62d3fa46d67a9b8e?s=128&d=identicon&r=PG&f=1", "display_name": "MissAmna", "link": "https://stackoverflow.com/users/9134291/missamna"}, "reply_to_user": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1524075310, "post_id": 49905980, "comment_id": 86828622, "body": "i have tried these solutions also.but issue is remain same"}], "owner": {"reputation": 307, "user_id": 9134291, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f9524c0536a1d95b62d3fa46d67a9b8e?s=128&d=identicon&r=PG&f=1", "display_name": "MissAmna", "link": "https://stackoverflow.com/users/9134291/missamna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524073693, "creation_date": 1524073693, "question_id": 49905980, "link": "https://stackoverflow.com/questions/49905980/error-in-using-arthurhub-image-crop-library-with-kotlin", "title": "Error in using ArthurHub image crop library with kotlin", "body": "<p>I am using ArthurHub image crop library in my project. but this error occurs</p>\n\n<p>Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'.</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex</p>\n</blockquote>\n\n<p>i have tried many solutions that were provided in other questions, but none of them works for me.</p>\n\n<p>my build.gradle(module) file is here</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\ncompileSdkVersion 26\ndefaultConfig {\n    applicationId \"com.example.lenovo.chatapp\"\n    minSdkVersion 19\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.android.support:design:26.1.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.google.firebase:firebase-auth:12.0.0'\nimplementation 'com.android.support:support-v4:26.1.0'\nimplementation 'com.google.firebase:firebase-database:12.0.0'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'de.hdodenhof:circleimageview:2.2.0'\nimplementation 'com.theartofdev.edmodo:android-image-cropper:2.6.+'\nimplementation 'com.google.firebase:firebase-core:12.0.0'\n}\nrepositories {\nmavenCentral()\n}\n\n\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "mvvm", "kotlin"], "owner": {"reputation": 227, "user_id": 6606971, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/822957514504959/picture?type=large", "display_name": "Dex Sebas", "link": "https://stackoverflow.com/users/6606971/dex-sebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1524070822, "creation_date": 1524070822, "question_id": 49905202, "link": "https://stackoverflow.com/questions/49905202/databinding-generic-function", "title": "DataBinding Generic Function", "body": "<p>I'm currently developing a android application using data binding and mvvm.</p>\n\n<p>I tried to bind a generic function to my recyclerView but can't compile</p>\n\n<p>Layout:</p>\n\n<pre><code> &lt;data&gt;\n&lt;import type=\"android.view.View\" /&gt;\n    &lt;import type=\"com.app.Models.UserRole\" /&gt;\n\n    &lt;variable\n        name=\"usersViewModel\"\n        type=\"com.app.UI.Users.UsersViewModel\" /&gt;\n&lt;/data&gt;\n\n-- ...\n-- ...\n-- ...\n  &lt;android.support.v7.widget.RecyclerView\n                android:id=\"@+id/recyclerViewUsers\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                tools:listitem=\"@layout/item_user\"\n                android:background=\"@color/colorBackground\"\n                app:adapter=\"@{&amp;lt;UserRole&amp;gt;usersViewModel.usersRoleList}\" /&gt;\n</code></pre>\n\n<p>BindingAdapter class:</p>\n\n<pre><code>@BindingAdapter(\"adapter\")\nfun &lt;T : BaseModel&gt; addItems(recyclerView: RecyclerView, mutableList: MutableList&lt;T&gt;) {\n    val adapter = MasterAdapter&lt;T&gt;(arrayListOf(), { _, _ -&gt; })\n    adapter.pushItems(mutableList)\n    recyclerView.layoutManager = LinearLayoutManager(recyclerView.context)\n    recyclerView.adapter = adapter\n}\n</code></pre>\n\n<p>MasterAdapter class:</p>\n\n<pre><code>class MasterAdapter&lt;T : BaseModel&gt;(var items: MutableList&lt;T&gt;, private val listener: (T, Int) -&gt; Unit)\n</code></pre>\n\n<p>BaseModel interface:</p>\n\n<pre><code>interface BaseModel {\n    @LayoutRes fun layoutId(): Int\n}\n</code></pre>\n\n<p>My question is how pass the model to my generic function using databinding in the layout?</p>\n"}, {"tags": ["android", "android-edittext", "kotlin", "anko"], "comments": [{"owner": {"reputation": 889, "user_id": 6142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efyos.jpg?s=128&g=1", "display_name": "Deepak kaku", "link": "https://stackoverflow.com/users/6142219/deepak-kaku"}, "edited": false, "score": 0, "creation_date": 1524071110, "post_id": 49904880, "comment_id": 86826377, "body": "Why would you need an onClickListener when you disable the EditText. it is a confusing UI/UX design"}, {"owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "reply_to_user": {"reputation": 889, "user_id": 6142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efyos.jpg?s=128&g=1", "display_name": "Deepak kaku", "link": "https://stackoverflow.com/users/6142219/deepak-kaku"}, "edited": false, "score": 0, "creation_date": 1524071185, "post_id": 49904880, "comment_id": 86826419, "body": "With our style, it is not confusing."}, {"owner": {"reputation": 889, "user_id": 6142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efyos.jpg?s=128&g=1", "display_name": "Deepak kaku", "link": "https://stackoverflow.com/users/6142219/deepak-kaku"}, "edited": false, "score": 0, "creation_date": 1524071387, "post_id": 49904880, "comment_id": 86826538, "body": "I mean why would you edit something that&#39;s disabled."}, {"owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "reply_to_user": {"reputation": 889, "user_id": 6142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efyos.jpg?s=128&g=1", "display_name": "Deepak kaku", "link": "https://stackoverflow.com/users/6142219/deepak-kaku"}, "edited": false, "score": 0, "creation_date": 1524071408, "post_id": 49904880, "comment_id": 86826552, "body": "You wouldn&#39;t. You click on it, it brings up a dialog where you can view the full text."}, {"owner": {"reputation": 889, "user_id": 6142219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efyos.jpg?s=128&g=1", "display_name": "Deepak kaku", "link": "https://stackoverflow.com/users/6142219/deepak-kaku"}, "edited": false, "score": 0, "creation_date": 1524071578, "post_id": 49904880, "comment_id": 86826639, "body": "My guess would be to trim the String yourself before setting it in the EditText. And onClick it shows complete String. So maybe subString would help?"}], "answers": [{"comments": [{"owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "edited": false, "score": 0, "creation_date": 1524074070, "post_id": 49906025, "comment_id": 86827973, "body": "Either way, no matter what I do, I can&#39;t get it ellipsized unless it is only a single line."}], "tags": [], "owner": {"reputation": 411, "user_id": 1496502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b7bfadc0d5dfb1c8fb399a5867b6cc7?s=128&d=identicon&r=PG", "display_name": "Uma Sankar", "link": "https://stackoverflow.com/users/1496502/uma-sankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1524073863, "creation_date": 1524073863, "answer_id": 49906025, "question_id": 49904880, "link": "https://stackoverflow.com/questions/49904880/disable-android-edittext-but-allow-clicks-or-ellipsize-enabled-edittext/49906025#49906025", "title": "Disable android edittext but allow clicks, or ellipsize enabled edittext", "body": "<p>Maybe, you can extend the <code>EditText</code> class and create your own <code>CustomEditText</code> class to maintain a state whether it is enabled or disabled. </p>\n\n<p>Whenever you get the callback for <code>onClick</code>, you disable it and show the Dialog. </p>\n\n<p>I think this might solve your problem.</p>\n"}], "owner": {"reputation": 1433, "user_id": 3813188, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/8f00a75b89f2346ba7cb9c339d9858b3?s=128&d=identicon&r=PG&f=1", "display_name": "Bassinator", "link": "https://stackoverflow.com/users/3813188/bassinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524073863, "creation_date": 1524069590, "question_id": 49904880, "link": "https://stackoverflow.com/questions/49904880/disable-android-edittext-but-allow-clicks-or-ellipsize-enabled-edittext", "title": "Disable android edittext but allow clicks, or ellipsize enabled edittext", "body": "<p>So, I have an <code>EditText</code> in a <code>ScrollView</code>. Because this EditText can get quite long, we have decided to display only 6 lines at a time, ellipsize the rest, and then display a modal alert dialog to view/edit the full EditText.</p>\n\n<p>However, this brings up two issues that I can't seem to get around. There are times when we need this EditText to be disabled - (after the screen it is on has been finalized).</p>\n\n<p>However, as far as I can tell, if an EditText is disabled, its <code>OnClickListener</code> doesn't receive events. So my solution to that was to write this extension method:</p>\n\n<pre><code>fun EditText.disableButRemainClickable(softDisabled: Boolean) {\n    if (softDisabled) {\n        alpha = 0.5f\n        isFocusable = false\n        isFocusableInTouchMode = false\n        isLongClickable = false\n        isCursorVisible = false\n    } else {\n        alpha = 1f\n        isFocusable = true\n        isFocusableInTouchMode = true\n        isLongClickable = true\n        isCursorVisible = true\n    }\n}\n</code></pre>\n\n<p>This solves that problem. However, I now have a new problem. The ellipsize property doesn't work on an editText that is enabled. What can I do?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 7, "last_activity_date": 1524069541, "creation_date": 1524069541, "answer_id": 49904864, "question_id": 49904755, "link": "https://stackoverflow.com/questions/49904755/kotlin-send-list-of-function-to/49904864#49904864", "title": "Kotlin send list of function to", "body": "<p>You can declare it using <code>vararg</code>. In this example, I declare a variable number of functions that take and return <code>String</code>. </p>\n\n<pre><code>fun takesMultipleFunctions(input: String, vararg fns: (String) -&gt; String): String =\n    fns.fold(input){ carry, fn -&gt; fn(carry) }\n\nfun main(args: Array&lt;String&gt;) {\n    println(\n        takesMultipleFunctions(\n            \"this is a test\", \n            { s -&gt; s.toUpperCase() }, \n            { s -&gt; s.replace(\" \", \"_\") }\n        )\n    )\n    // Prints: THIS_IS_A_TEST\n}\n</code></pre>\n\n<p>Or the same thing, as a <code>List</code>:</p>\n\n<pre><code>fun takesMultipleFunctions(input: String, fns: List&lt;(String) -&gt; String&gt;): String =\n    fns.fold(input){ carry, fn -&gt; fn(carry) }\n\nfun main(args: Array&lt;String&gt;) {\n    println(\n        takesMultipleFunctions(\n            \"this is a test\", \n            listOf(\n                { s -&gt; s.toUpperCase() }, \n                { s -&gt; s.replace(\" \", \"_\") }\n            )\n        )\n        // Prints: THIS_IS_A_TEST\n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 9292645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac57196e732b7cd5707d9f659a78b8e6?s=128&d=identicon&r=PG&f=1", "display_name": "James Elkwood", "link": "https://stackoverflow.com/users/9292645/james-elkwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3681, "favorite_count": 0, "accepted_answer_id": 49904864, "answer_count": 1, "score": 3, "last_activity_date": 1524069541, "creation_date": 1524069179, "question_id": 49904755, "link": "https://stackoverflow.com/questions/49904755/kotlin-send-list-of-function-to", "title": "Kotlin send list of function to", "body": "<p>Using Kotlin how can a declare and call a function that takes a list of functions as a parameter. I've used parameters in functions that are a single function, but how do I do this for a list of functions?</p>\n\n<p>This question shows how to send a single function to a function: <a href=\"https://stackoverflow.com/questions/16120697/kotlin-how-to-pass-a-function-as-parameter-to-another\">Kotlin: how to pass a function as parameter to another?</a> What would be the best way to do this for a list of functions?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1524069015, "post_id": 49904481, "comment_id": 86825208, "body": "IIRC the syntax is <code>@Database(entities = [(Announcement::class)], version = 1)</code>. You&#39;re missing parentheses around the class. Also, you&#39;re missing <code>annotationProcessor</code> for android room. I can&#39;t test these right now but worth a try"}, {"owner": {"reputation": 60, "user_id": 8507341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yRBajIPWHCU/AAAAAAAAAAI/AAAAAAAAAQw/7gojfv1Fgaw/photo.jpg?sz=128", "display_name": "Nicha Roj", "link": "https://stackoverflow.com/users/8507341/nicha-roj"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1524069899, "post_id": 49904481, "comment_id": 86825714, "body": "@rafid059 I tried changing the syntax but it still didn&#39;t work unfortunately. As for <code>annotationProcessor</code> it is there but as <code>kapt</code> instead as I had the same problem as this <a href=\"https://stackoverflow.com/questions/44417136/room-persistence-library-run-time-exception-when-calling-rooms-inmemorybuilder-m/44582509\" title=\"room persistence library run time exception when calling rooms inmemorybuilder m\">stackoverflow.com/questions/44417136/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 60, "user_id": 8507341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yRBajIPWHCU/AAAAAAAAAAI/AAAAAAAAAQw/7gojfv1Fgaw/photo.jpg?sz=128", "display_name": "Nicha Roj", "link": "https://stackoverflow.com/users/8507341/nicha-roj"}, "is_accepted": true, "score": 0, "last_activity_date": 1524144487, "last_edit_date": 1524144487, "creation_date": 1524143777, "answer_id": 49922116, "question_id": 49904481, "link": "https://stackoverflow.com/questions/49904481/failed-for-task-appkaptgeneratestubsdebugkotlin-after-adding-rooms-databas/49922116#49922116", "title": "Failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39; after adding Room&#39;s @Database to database abstract class", "body": "<p>The problem is in my Entity class where I used <code>val</code> instead of <code>var</code> for the parameters, so I just changed all of them to <code>var</code> and the problem is solved.</p>\n\n<p><strong>Edit:</strong> My DAO class also has a problem as well where <code>ArrayList</code> cannot be used instead of <code>List</code></p>\n"}], "owner": {"reputation": 60, "user_id": 8507341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yRBajIPWHCU/AAAAAAAAAAI/AAAAAAAAAQw/7gojfv1Fgaw/photo.jpg?sz=128", "display_name": "Nicha Roj", "link": "https://stackoverflow.com/users/8507341/nicha-roj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1406, "favorite_count": 0, "accepted_answer_id": 49922116, "answer_count": 1, "score": 0, "last_activity_date": 1524144487, "creation_date": 1524068261, "question_id": 49904481, "link": "https://stackoverflow.com/questions/49904481/failed-for-task-appkaptgeneratestubsdebugkotlin-after-adding-rooms-databas", "title": "Failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39; after adding Room&#39;s @Database to database abstract class", "body": "<p>I am trying to implement Room into Android application written in Kotlin. After build failing so many times, I pinpointed the problem that it failed when I added @Database into my database class.</p>\n\n<pre><code>package sample.service.local\n\nimport android.arch.persistence.room.Database\nimport android.arch.persistence.room.RoomDatabase\nimport sample.service.model.Announcement\n\n@Database(entities = [Announcement::class], version = 1)\nabstract class AnnounceDatabase: RoomDatabase() {\n    abstract fun announceDAO(): AnnounceDAO\n}\n</code></pre>\n\n<p>If I commented out the line with @Database it built successfully. Its DAO and Entity files shouldn't be the problem as I tried building with them without @Database and it was successful. I also haven't added them into any other classes; I just created 3 new files which are this database, its dao, and its entity.</p>\n\n<p>Here's build.gradle(Module:app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\napply plugin: \"kotlin-kapt\"\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"sample\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        dataBinding.enabled true\n    }\n}\n\nproject.ext {\n    supportLibraryVersion = \"26.1.0\"\n    daggerVersion = \"2.13\"\n    butterKnifeVersion = \"8.8.1\"\n    rxJavaVersion = \"2.1.0\"\n    rxAndroidVersion = \"2.0.1\"\n    lifecycleVersion = \"1.0.0\"\n    roomVersion = \"1.0.0\"\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation 'com.google.android.gms:play-services-maps:11.8.0'\n    implementation 'com.android.support:support-v4:27.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n// Android Support Library\nimplementation 'com.android.support:design:27.1.0'\nimplementation 'com.google.android.gms:play-services-location:11.8.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\nimplementation 'com.android.support:cardview-v7:27.1.0'\nimplementation 'com.android.support:recyclerview-v7:27.1.0'\nimplementation 'com.android.support:support-annotations:27.1.0'\nimplementation 'com.android.support:support-compat:27.1.0'\nimplementation 'com.android.support:support-core-ui:27.1.0'\n\n// Easy Permission\nimplementation 'pub.devrel:easypermissions:1.2.0'\n\n// Lifecycle\nimplementation \"android.arch.lifecycle:extensions:1.1.0\"\nannotationProcessor \"android.arch.lifecycle:compiler:1.1.0\"\n\n// Kotlin binding\n//    kapt 'com.android.databinding:compiler:3.1.0'\n\n// Dagger core\nkapt \"com.google.dagger:dagger-compiler:$project.daggerVersion\"\nimplementation \"com.google.dagger:dagger:$project.daggerVersion\"\n\n// Dagger Android\nkapt \"com.google.dagger:dagger-android-processor:$project.daggerVersion\"\nimplementation \"com.google.dagger:dagger-android-support:$project.daggerVersion\"\n\n// Timber\nimplementation 'com.jakewharton.timber:timber:4.6.0'\n\n// Simple Item Decoration\nimplementation 'com.bignerdranch.android:simple-item-decoration:1.0.0'\n\n// Retrofit\nimplementation \"com.squareup.retrofit2:retrofit:2.1.0\"\nimplementation \"com.squareup.retrofit2:converter-gson:2.1.0\"\nimplementation 'com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0'\n//    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.4.0'\n\n// RxJava &amp; RxAndroid\nimplementation 'io.reactivex.rxjava2:rxjava:2.1.12'\nimplementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\n\n// PageIndicatorView\nimplementation 'com.romandanylyk:pageindicatorview:1.0.0@aar'\n\n// Room\nimplementation \"android.arch.persistence.room:rxjava2:$project.roomVersion\"\nimplementation \"android.arch.persistence.room:runtime:$project.roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$project.roomVersion\"\ntestImplementation \"android.arch.persistence.room:testing:$project.roomVersion\"\n}\n</code></pre>\n\n<p>Here's project's gradle</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\next.kotlin_version = '1.2.31'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>I ran <code>gradlew clean build --stacktrace --debug</code> and <a href=\"https://gist.github.com/NichaRoj/f4ae63deb7a093b16f99255c018936c9\" rel=\"nofollow noreferrer\">here's error message</a></p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["generics", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "is_accepted": false, "score": 0, "last_activity_date": 1524235273, "creation_date": 1524235273, "answer_id": 49944233, "question_id": 49903263, "link": "https://stackoverflow.com/questions/49903263/kotlin-how-to-use-gson-to-parse-a-generic-type-is-a-function-defined-with-gener/49944233#49944233", "title": "kotlin, how to use Gson to parse a generic type is a function defined with generic type", "body": "<p>got idea from Henning and (also Lin Yu Cheng has a solution for getting it at runtime) in the <a href=\"https://stackoverflow.com/questions/3403909/get-generic-type-of-class-at-runtime\">get-generic-type-of-class-at-runtime</a>\nso passing in the class type instead of get the type at runtime.</p>\n\n<pre><code>class FetchRemoteDataCommand&lt;T&gt;(scheme: String, authority: String, path: String,\n                     params: HashMap&lt;String, String&gt;,\n                     dataReadyCb: IHandler&lt;T&gt;, handlerClassType: Class&lt;T&gt;) {\n\n\nval mBaseUrl = \"$scheme://$authority/\"\nval mPath = path\nval mParams = params\nvar mDataReadyListener = dataReadyCb\nprivate val clazz: Class&lt;T&gt; = handlerClassType //findTypeArguments(this.javaClass)  &lt;== some time return null???\n\nprivate fun findTypeArguments(t: Type) : Class&lt;T&gt; {\n    return if (t is ParameterizedType) {\n        val typeArgs = t.actualTypeArguments\n        typeArgs[0] as Class&lt;T&gt;\n    } else {\n        val c = t as Class&lt;*&gt;\n        findTypeArguments(c.genericSuperclass)\n    }\n}\n\nfun getClassType(): Class&lt;T&gt; {\n    return clazz\n}\n\n\noverride fun execute() {\n    getRemoteData(object : Observer&lt;ResponseBody&gt; {\n        override fun onNext(responseBody: ResponseBody) {\n\n            //val dataType = object : TypeToken&lt;T&gt;() {}.type\n            //val jsonStr = responseBody.string()\n            //val data = Gson().fromJson&lt;T&gt;(jsonStr, dataType)  ***//&lt;=== throws***\n\n/// test generic type with the passed in class type instead of reflecting at runtime\n            val responseRecieved = responseBody.string()\n            val data = Gson().fromJson(responseRecieved, getClassType())\n\n            ///\n            mDataReadyListener(data)  //&lt;== suppose to pass back the pared data back\n        \u2026\u2026\n    }\n    \u2026\u2026\u2026\u2026\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524235273, "creation_date": 1524064289, "question_id": 49903263, "link": "https://stackoverflow.com/questions/49903263/kotlin-how-to-use-gson-to-parse-a-generic-type-is-a-function-defined-with-gener", "title": "kotlin, how to use Gson to parse a generic type is a function defined with generic type", "body": "<p>How to use Gson to do the parse if the the class type is a generic type 'T'?</p>\n\n<p>Having a class with generic type, and in its function which would parse the json string into whatever that generic type 'T' is at the runtime. but got </p>\n\n<pre><code>java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to com.example.model.content\n</code></pre>\n\n<p>this does not work for the generic is 'T':</p>\n\n<pre><code>        val dataType = object : TypeToken&lt;T&gt;() {}.type\n        val data = Gson().fromJson&lt;T&gt;(jsonStr, dataType)\n</code></pre>\n\n<p>this is how the call is called with the 'solid' class type <code>Content</code> for the  <code>Handler&lt;Content&gt;</code> passed in where the generic 'T' (<code>IHandler&lt;T&gt;</code>) is expected</p>\n\n<pre><code>FetchRemoteDataCommand(\"https\", \u201ctestcontent.com\", \"v2/content\u201d,\n    params,\n    Handler&lt;Content&gt;).execute()\n</code></pre>\n\n<p>this is the class takes a generic type:  <code>IHandler&lt;T&gt;</code>, expecting at runtime the 'T' should be the 'solid' type, i.e. it should be the <code>Content</code> type by the calling</p>\n\n<pre><code>class FetchRemoteDataCommand&lt;T&gt;(scheme: String, authority: String, path: String,\n                         params: HashMap&lt;String, String&gt;,\n                         dataReadyCb: IHandler&lt;T&gt;) {\n\n\nval mBaseUrl = \"$scheme://$authority/\"\nval mPath = path\nval mParams = params\nvar mDataReadyListener = dataReadyCb\n\noverride fun dispose() {\u2026\u2026}\n\noverride fun execute() {\n    getRemoteData(object : Observer&lt;ResponseBody&gt; {\n        override fun onNext(responseBody: ResponseBody) {\n\n            val dataType = object : TypeToken&lt;T&gt;() {}.type\n            val jsonStr = responseBody.string()\n            val data = Gson().fromJson&lt;T&gt;(jsonStr, dataType)  ***//&lt;=== throws***\n\n            ///\n            mDataReadyListener(data)  //&lt;== suppose to pass back the pared data back\n            \u2026\u2026\n        }\n        \u2026\u2026\u2026\u2026\n    })\n}\n\nprivate fun getRemoteData(observer: Observer&lt;ResponseBody&gt;) : Unit {\n\n    val service: IRemoteRepositoryService = ServiceFactory.createRetrofitService(\n                          IRemoteRepositoryService::class.java, mBaseUrl)\n\n    service.getRemoteData(mPath, mParams) \n           .subscribe(observer)\n\n    }\n }\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1524063921, "post_id": 49902834, "comment_id": 86821738, "body": "<a href=\"https://developer.android.com/studio/projects/android-library.html\" rel=\"nofollow noreferrer\">developer.android.com/studio/projects/android-library.html</a>"}, {"owner": {"reputation": 8500, "user_id": 5108735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YNWHM.jpg?s=128&g=1", "display_name": "Jon Goodwin", "link": "https://stackoverflow.com/users/5108735/jon-goodwin"}, "edited": false, "score": 0, "creation_date": 1524063930, "post_id": 49902834, "comment_id": 86821745, "body": "Use <code>JavaScript libraries</code>, it works on both PC, Android, iOS ..."}, {"owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1524080736, "post_id": 49902834, "comment_id": 86831524, "body": "@leoderprofi android library cannot be used in regular Java app, isn&#39;t it right?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1524081578, "post_id": 49902834, "comment_id": 86832001, "body": "you have to use <code>apply plugin: &#39;java-library&#39;</code> than gradle creates a normal .jar file"}, {"owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1524083753, "post_id": 49902834, "comment_id": 86833117, "body": "@leoderprofi and I will able to use that project as dependency for other? Because, if it just creates .jar file, I will have to manual update it in both android and standalone projects"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1524085015, "post_id": 49902834, "comment_id": 86833703, "body": "Your question is somewhat vague, so the answer is generic: yes gradle can handle it. e.g. <a href=\"https://stackoverflow.com/questions/19299316/require-gradle-project-from-another-directory\" title=\"require gradle project from another directory\">stackoverflow.com/questions/19299316/&hellip;</a>"}], "owner": {"reputation": 741, "user_id": 1778879, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/88f6098ba030f1c6f6f2e98dbc1f853d?s=128&d=identicon&r=PG", "display_name": "wingear", "link": "https://stackoverflow.com/users/1778879/wingear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1524063513, "creation_date": 1524063037, "last_edit_date": 1524063513, "question_id": 49902834, "link": "https://stackoverflow.com/questions/49902834/better-way-to-reuse-code-for-android-and-standalone-executable", "title": "Better way to reuse code for android and standalone executable", "body": "<p>My goal is add possibility to invoke part of Kotlin code as standalone executable in PC, without android dependencies. Currently I have done this via creating another project in child folder with custom gradle script and symlinks to reused classes. But I lack code completion in Android studio, and symlinks will not be work on Windows, as I know. I not want to create jar library and use it both in android and standalone project, because in that case I will have to manually update that library for each update. Maybe, there are some another way?</p>\n"}, {"tags": ["android", "kotlin", "mockito", "powermock", "mockk"], "answers": [{"tags": [], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "is_accepted": false, "score": 1, "last_activity_date": 1524064188, "last_edit_date": 1524064188, "creation_date": 1524063518, "answer_id": 49903002, "question_id": 49902569, "link": "https://stackoverflow.com/questions/49902569/how-to-mock-android-util-patterns-with-mockito-or-mockk/49903002#49903002", "title": "How to mock android.util.Patterns with Mockito or MockK", "body": "<p>I believe you could use <code>objectMockk</code>, from Mockk:</p>\n\n<pre><code>objectMockk(Patterns.EMAIL_ADDRESS).use {\n    every { Patterns.EMAIL_ADDRESS.matcher(email).matches() } returns true\n    //Code that uses the mock here\n}\n</code></pre>\n\n<p>You're going to mock the constant field <code>Patterns.EMAIL_ADDRESS</code> and then mock what you want it to return on the method <code>matcher(email).matches()</code>.</p>\n\n<p>I believe this is enough for your use case, but I'm not sure on how this lib is handled in Android.</p>\n"}], "owner": {"reputation": 106, "user_id": 9457238, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "BakaOne", "link": "https://stackoverflow.com/users/9457238/bakaone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1616173061, "creation_date": 1524062356, "last_edit_date": 1616173061, "question_id": 49902569, "link": "https://stackoverflow.com/questions/49902569/how-to-mock-android-util-patterns-with-mockito-or-mockk", "title": "How to mock android.util.Patterns with Mockito or MockK", "body": "<p>I have a method that I need to test :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun validate(email: String): Result {\n    return if (android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {\n        Result(true)\n    } else {\n        Result(false, &quot;error&quot;)\n    }\n}\n</code></pre>\n<p>But it returns a <code>NullPointerException</code> error because <code>Patterns.email</code> needs to be mocked.\nRight now I manually create and test the Pattern but cannot test the method above.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>object Patterns {\n    private const val EMAIL_PATTERN = (&quot;^[_A-Za-z0-9-\\\\+]+(\\\\.[_A-Za-z0-9-]+)*@&quot; + \n        &quot;[A-Za-z0-9-]+(\\\\.[A-Za-z0-9]+)*(\\\\.[A-Za-z]{2,})$&quot;)\n\n    val EMAIL_ADDRESS: Pattern = Pattern.compile(EMAIL_PATTERN)\n}\n</code></pre>\n<p>Any idea how to do this with <strong>Mockito</strong> or <strong>MockK</strong> so I can test this method as a whole instead of creating the patterns manually in the test.</p>\n"}, {"tags": ["java", "kotlin", "primitive-types"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524058022, "post_id": 49900920, "comment_id": 86817287, "body": "What&#39;s the point of validating that a non-nullable property is not null? OTOH if your <code>Comment</code> is going to be instantiated with data where <code>postId</code> <i>may</i> be null, then you have no choice but using a nullable type to represent this."}, {"owner": {"reputation": 6623, "user_id": 3256597, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c022daa2ea5e1d708b5c500451f5ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Teimuraz", "link": "https://stackoverflow.com/users/3256597/teimuraz"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524058165, "post_id": 49900920, "comment_id": 86817390, "body": "When you send json request without postId, the class is constructed successfully and 0 is used as a value of postId automatically. But the construction of this class should fail, because postId is not provided actually."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1524058261, "post_id": 49900920, "comment_id": 86817461, "body": "Yes, so in reality <code>postId</code> is a property that <i>may</i> be null. You have to represent this in the static type. Maybe you can have a raw data class that represents the JSON input and another one that represents it after it has passed validation."}, {"owner": {"reputation": 6623, "user_id": 3256597, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c022daa2ea5e1d708b5c500451f5ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Teimuraz", "link": "https://stackoverflow.com/users/3256597/teimuraz"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524058405, "post_id": 49900920, "comment_id": 86817552, "body": "@MarkoTopolnik +1"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 1, "creation_date": 1524061488, "post_id": 49900920, "comment_id": 86819842, "body": "what about using <code>java.lang.Long</code>?"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1524063656, "post_id": 49900920, "comment_id": 86821542, "body": "@Teimuraz I\u2019d say this maybe a bug with the Kotlin Jackson module. The module should be able to fail constructing this object (but your validation will never even be triggered mind you, because you\u2019re using a non nullable type)."}, {"owner": {"reputation": 6623, "user_id": 3256597, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c022daa2ea5e1d708b5c500451f5ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Teimuraz", "link": "https://stackoverflow.com/users/3256597/teimuraz"}, "reply_to_user": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1524067324, "post_id": 49900920, "comment_id": 86824143, "body": "@asm0dey I thought about it, but feels hacky, don&#39;t want to mix it in my kotlin code"}, {"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1524068053, "post_id": 49900920, "comment_id": 86824617, "body": "@Teimuraz well you can&#39;t pretend that nullable type is not nullable and vise versa. But inability to create primitive long looks as unexpected behaviour for me. Meanwhile sometimes you need java.lang things, ie for syncronization"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524141931, "post_id": 49900920, "comment_id": 86858441, "body": "Synchronizing on a <code>java.lang.Long</code> would be very bad practice, though, even if in a <code>final</code> field. It&#39;s a dark corner of early Java design that you can synchronize on any object."}], "owner": {"reputation": 6623, "user_id": 3256597, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c022daa2ea5e1d708b5c500451f5ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Teimuraz", "link": "https://stackoverflow.com/users/3256597/teimuraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524058356, "creation_date": 1524057890, "last_edit_date": 1524058356, "question_id": 49900920, "link": "https://stackoverflow.com/questions/49900920/kotlin-can-i-force-not-nullable-long-to-be-represented-as-non-primitive-type-in", "title": "Kotlin: Can I force Not Nullable Long to be represented as non primitive type in JVM?", "body": "<p>From kotlin docs:</p>\n\n<blockquote>\n  <p>Long ... Represents a 64-bit signed integer. On the JVM, non-nullable values of\n  this type are represented as values of the primitive type long.</p>\n</blockquote>\n\n<p>But it causes issue in my spring boot application when send json request without <code>postId</code> in the body and when I need to apply jsr 303 validation to my kotlin class, like this:</p>\n\n<pre><code>data class Comment(\n   @field:NotNull\n   val postId: Long,\n   ...\n)\n</code></pre>\n\n<p>So issue is that Comment class is constructed with postId = 0 automatically and validation is not failing.</p>\n\n<p>Is there a way to force kotlin's Long type to be represented as non primitive type in JVM? (may be with help of annotations or compiler arguments, etc)?</p>\n\n<p>P.S.: I can force it by making postId of type Long?, but I don't like it (First of all, it should not be nullable, second, then I need to use <code>comment.postId!!</code>, which is ugly and it brakes advantage of kotlin's null safety).</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 4, "creation_date": 1582849436, "post_id": 49899665, "comment_id": 106928220, "body": "<code>println(arr.contentToString())</code>"}, {"owner": {"reputation": 2130, "user_id": 7386637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b132e53835fe3b80fef2879b3bb142ad?s=128&d=identicon&r=PG&f=1", "display_name": "rpivovar", "link": "https://stackoverflow.com/users/7386637/rpivovar"}, "edited": false, "score": 0, "creation_date": 1590783023, "post_id": 49899665, "comment_id": 109822455, "body": "<code>contentToString()</code> is great"}, {"owner": {"reputation": 8864, "user_id": 15139, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/058ae4cb817981832d6970da3c56ac39?s=128&d=identicon&r=PG", "display_name": "rpattabi", "link": "https://stackoverflow.com/users/15139/rpattabi"}, "edited": false, "score": 0, "creation_date": 1601537181, "post_id": 49899665, "comment_id": 113440071, "body": "<code>joinToString()</code> is even better. Look at @delitescere&#39;s <a href=\"https://stackoverflow.com/a/52902332/15139\">answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 761, "user_id": 3199240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z7fKm.png?s=128&g=1", "display_name": "statut", "link": "https://stackoverflow.com/users/3199240/statut"}, "is_accepted": false, "score": 3, "last_activity_date": 1524054719, "creation_date": 1524054719, "answer_id": 49899808, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line/49899808#49899808", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p>You can do the same:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;){\n    var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n    someList.forEach(System.out::print)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3386, "user_id": 1543076, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6af7a745de5c5d3a684982a0fd1ee31e?s=128&d=identicon&r=PG", "display_name": "midnight", "link": "https://stackoverflow.com/users/1543076/midnight"}, "edited": false, "score": 4, "creation_date": 1540111946, "post_id": 49899833, "comment_id": 92737363, "body": "arr.forEach(::println)"}, {"owner": {"reputation": 1032, "user_id": 1913056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55293fe8c0750bf3012aec13f566320c?s=128&d=identicon&r=PG", "display_name": "Roman Trokhymets", "link": "https://stackoverflow.com/users/1913056/roman-trokhymets"}, "edited": false, "score": 0, "creation_date": 1580906290, "post_id": 49899833, "comment_id": 106250665, "body": "System.out.println( someList.joinToString() )"}], "tags": [], "owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "is_accepted": true, "score": 31, "last_activity_date": 1524054822, "creation_date": 1524054822, "answer_id": 49899833, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line/49899833#49899833", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html\" rel=\"noreferrer\"><code>Array</code></a> has a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html\" rel=\"noreferrer\"><code>forEach</code></a> method as well which can take a lambda:</p>\n\n<pre><code>var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\nsomeList.forEach { System.out.print(it) }\n</code></pre>\n\n<p>or a method reference:</p>\n\n<pre><code>var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\nsomeList.forEach(System.out::print)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 9664269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "twupack", "link": "https://stackoverflow.com/users/9664269/twupack"}, "is_accepted": false, "score": 7, "last_activity_date": 1524054996, "creation_date": 1524054996, "answer_id": 49899892, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line/49899892#49899892", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p>I know three ways to do this:</p>\n\n<pre><code>(0 until someList.size).forEach { print(someList[it]) }\nsomeList.forEach { print(it) }\nsomeList.forEach(::print)\n</code></pre>\n\n<p>Hope you enjoyed it :)</p>\n"}, {"comments": [{"owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "edited": false, "score": 0, "creation_date": 1557777116, "post_id": 49899912, "comment_id": 98871203, "body": "joinToString seems what I was looking for, the equivalent to Arrays.toString()"}], "tags": [], "owner": {"reputation": 71, "user_id": 2790787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee968515088d5d5ee34c40fdda6b1b00?s=128&d=identicon&r=PG&f=1", "display_name": "JPO", "link": "https://stackoverflow.com/users/2790787/jpo"}, "is_accepted": false, "score": 3, "last_activity_date": 1524055463, "last_edit_date": 1524055463, "creation_date": 1524055046, "answer_id": 49899912, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line/49899912#49899912", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p>You could</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;){\n  var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n\n  val sb = StringBuilder()\n  for (element in someList) {\n      sb.append(element).append(\", \")\n  }\n  val c = sb.toString().substring(0, sb.length-2)\n  println(c)\n}\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>United, Chelsea, Liverpool\n</code></pre>\n\n<p>alternatively you can use </p>\n\n<pre><code>print(element)\n</code></pre>\n\n<p>in the for loop, or even easier use: </p>\n\n<pre><code>var d = someList.joinToString()\nprintln(d)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 4100684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3dab1d7b7a9d89f1a34f387cac3492?s=128&d=identicon&r=PG", "display_name": "delitescere", "link": "https://stackoverflow.com/users/4100684/delitescere"}, "is_accepted": false, "score": 22, "last_activity_date": 1601537248, "last_edit_date": 1601537248, "creation_date": 1540008461, "answer_id": 52902332, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line/52902332#52902332", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p>Idiomatically:</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n  val someList = arrayOf(&quot;United&quot;, &quot;Chelsea&quot;, &quot;Liverpool&quot;)\n  println(someList.joinToString(&quot; &quot;))\n}\n</code></pre>\n<p>This makes use of type inference, an immutable value, and well-defined methods for doing well-defined tasks.</p>\n<p>The <code>joinToString()</code> method also allows prefix and suffix to be included, a limit, and truncation indicator.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 2504383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2dc47e0745c951990aa516d8ec3b860?s=128&d=identicon&r=PG", "display_name": "WitWicky", "link": "https://stackoverflow.com/users/2504383/witwicky"}, "is_accepted": false, "score": 7, "last_activity_date": 1587483594, "last_edit_date": 1587483594, "creation_date": 1587479702, "answer_id": 61346134, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line/61346134#61346134", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p>You can achieve this using \"contentToString\" method:</p>\n\n<pre><code>var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n  println(someList.contentToString())\n\nO/p:\n[United, Chelsea, Liverpool]e\n</code></pre>\n"}], "owner": {"reputation": 6444, "user_id": 6642927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57af95b5ffd1f8c320e0647d92d66acc?s=128&d=identicon&r=PG&f=1", "display_name": "Dishonered", "link": "https://stackoverflow.com/users/6642927/dishonered"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27037, "favorite_count": 1, "accepted_answer_id": 49899833, "answer_count": 6, "score": 20, "last_activity_date": 1614161945, "creation_date": 1524054318, "question_id": 49899665, "link": "https://stackoverflow.com/questions/49899665/how-to-print-all-elements-of-string-array-in-kotlin-in-a-single-line", "title": "How to print all elements of String array in Kotlin in a single line?", "body": "<p>This is my code</p>\n\n<pre><code>    fun main(args : Array&lt;String&gt;){\n     var someList : Array&lt;String&gt; = arrayOf(\"United\",\"Chelsea\",\"Liverpool\")\n\n      //How do i print the elements using the print method in a single line?\n    }\n</code></pre>\n\n<p>In java i would do something like this</p>\n\n<p><code>someList.forEach(java.lang.System.out::print);</code></p>\n"}, {"tags": ["mvvm", "kotlin", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 2675828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fac71269ae48603e95a37d43b04044c?s=128&d=identicon&r=PG", "display_name": "Patty P", "link": "https://stackoverflow.com/users/2675828/patty-p"}, "edited": false, "score": 0, "creation_date": 1550177744, "post_id": 51695017, "comment_id": 96184726, "body": "Thanks for this, was wrapping my extension calls in model classes. Saves a lot of time!"}, {"owner": {"reputation": 571, "user_id": 4176416, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8a1a3722069152be4118220c093de531?s=128&d=identicon&r=PG", "display_name": "Tushar Kathuria", "link": "https://stackoverflow.com/users/4176416/tushar-kathuria"}, "edited": false, "score": 0, "creation_date": 1604384551, "post_id": 51695017, "comment_id": 114324020, "body": "Can instance methods be also used with data binding ?"}], "tags": [], "owner": {"reputation": 918, "user_id": 7103817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f7e7e83fae7e12bea6365b7a6f4c10?s=128&d=identicon&r=PG&f=1", "display_name": "skiff2011", "link": "https://stackoverflow.com/users/7103817/skiff2011"}, "is_accepted": true, "score": 80, "last_activity_date": 1533477769, "creation_date": 1533477769, "answer_id": 51695017, "question_id": 49898669, "link": "https://stackoverflow.com/questions/49898669/kotlin-extension-functions-databinding/51695017#51695017", "title": "Kotlin Extension Functions Databinding", "body": "<p>You have to import CityKt firstly into xml</p>\n\n<pre><code>&lt;import type=\"my.package.domain.country.model.CityKt\" /&gt;\n</code></pre>\n\n<p>int the data section\nthen you can use it like this</p>\n\n<pre><code>&lt;TextView\n  android:id=\"@+id/city\"\n  android:layout_width=\"wrap_content\"\n  android:layout_height=\"wrap_content\"\n  android:text=\"@{CityKt.streetName(city)}\" /&gt;\n</code></pre>\n\n<p>If you review CityKt you will see that there is static Java method with City as first argument</p>\n"}, {"tags": [], "owner": {"reputation": 3396, "user_id": 2429753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b342ed42d9f3ed7679c1870e4fb8f820?s=128&d=identicon&r=PG", "display_name": "Tom Sabel", "link": "https://stackoverflow.com/users/2429753/tom-sabel"}, "is_accepted": false, "score": 13, "last_activity_date": 1579107365, "creation_date": 1579107365, "answer_id": 59756207, "question_id": 49898669, "link": "https://stackoverflow.com/questions/49898669/kotlin-extension-functions-databinding/59756207#59756207", "title": "Kotlin Extension Functions Databinding", "body": "<p>While @skiff2011 is correct, one could also use <code>alias</code> to prevent the <code>Kt</code> postfix.</p>\n\n<p>For example, a certain extension function is located in <code>ExtensionFunctionsKt</code> can be aliased by <code>ExtensionFunctions</code></p>\n\n<pre><code>&lt;import\n    alias=\"ExtensionFunctions\"\n    type=\"com.helloworld.app.util.ExtensionFunctionsKt\" /&gt;\n\n&lt;variable\n    name=\"someData\"\n    type=\"com.helloworld.app.model.SomeData\" /&gt;\n</code></pre>\n\n<p>The <code>ExtensionFunction</code> alias can now be used to call the extension function. The first argument still needs to be the extended class variable.</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/city\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@{ExtensionFunctions.doStuff(someData)}\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1460, "user_id": 4718406, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/0iJqV.jpg?s=128&g=1", "display_name": "Erfan Eghterafi", "link": "https://stackoverflow.com/users/4718406/erfan-eghterafi"}, "is_accepted": false, "score": 1, "last_activity_date": 1611060133, "creation_date": 1611060133, "answer_id": 65791736, "question_id": 49898669, "link": "https://stackoverflow.com/questions/49898669/kotlin-extension-functions-databinding/65791736#65791736", "title": "Kotlin Extension Functions Databinding", "body": "<p>If using Utils class you can to this:</p>\n<pre><code> object Utils(){\n       fun streetName(): String {}\n}\n\n&lt;import\n    type=&quot;com.helloworld.app.util.Utils&quot; /&gt;\n\n\n\n  &lt;TextView\n                android:id=&quot;@+id/txt&quot; \n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;@{Utils.INSTANCE.streetName()}&quot;\n              /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 13268194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a2234addd76d0f132b858c7c1beda6e?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun A", "link": "https://stackoverflow.com/users/13268194/tarun-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1616739014, "creation_date": 1616739014, "answer_id": 66811830, "question_id": 49898669, "link": "https://stackoverflow.com/questions/49898669/kotlin-extension-functions-databinding/66811830#66811830", "title": "Kotlin Extension Functions Databinding", "body": "<p>Extension function</p>\n<p>Ex:</p>\n<pre><code>fun Context.isDarkMode(): Boolean {\n\n }\n</code></pre>\n<p>Now we have Extenstion function for dark mode which can be accessed using context.</p>\n<p>Usually in Kotlin class we can access using context obj like below.</p>\n<pre><code>context.isDarkMode()\n</code></pre>\n<p>But in Xml,we can't access like above.</p>\n<p>We need to import Extension function by appending KT to class.</p>\n<p><strong>Ex)</strong> If your file name is Extensions,then import should be ExtensionsKt.</p>\n<p>Import like below in xml.</p>\n<pre><code> &lt;import type=&quot;com.paytmmoney.core.extensions.ExtensionsKt&quot; /&gt;\n</code></pre>\n<p>And then we can access Extension function like below i.e we need to pass object for which we are creating Extension i.e in our case it is context.</p>\n<pre><code>  app:context='@{(ExtensionsKt.isDarkMode(context)}'\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 2725105, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f0a8e3d2345446783d7be9accc6e9f02?s=128&d=identicon&r=PG&f=1", "display_name": "user2725105", "link": "https://stackoverflow.com/users/2725105/user2725105"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7588, "favorite_count": 5, "accepted_answer_id": 51695017, "answer_count": 4, "score": 44, "last_activity_date": 1616739014, "creation_date": 1524051162, "last_edit_date": 1524051325, "question_id": 49898669, "link": "https://stackoverflow.com/questions/49898669/kotlin-extension-functions-databinding", "title": "Kotlin Extension Functions Databinding", "body": "<p>Is there any possibility to use extension function with a databinding?\nXML:</p>\n\n<pre><code>&lt;data&gt;\n    &lt;import type=\"my.package.domain.country.model.City.streetName\" /&gt;\n\n    &lt;variable\n        name=\"city\"\n        type=\"my.package.domain.country.model.City\" /&gt;\n&lt;/data&gt;\n\n&lt;TextView\n    android:id=\"@+id/city\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@{city.street.streetName()}\" /&gt;\n</code></pre>\n\n<p>my.package.domain.country.model.city</p>\n\n<pre><code>data class City(\n        val id: String,\n        val street: Street\n) \n\nfun City.streetName(): String = street.houseNumber\n</code></pre>\n\n<p>Error </p>\n\n<blockquote>\n  <p>[kapt] An exception occurred:\n  android.databinding.tool.util.LoggedErrorException: Found data binding\n  errors.\n  ****/ data binding error ****msg:cannot find method streetName() in class my.package.domain.country.model.City</p>\n</blockquote>\n\n<p>Thanks ;)</p>\n"}, {"tags": ["constructor", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "is_accepted": false, "score": 1, "last_activity_date": 1524051491, "creation_date": 1524051491, "answer_id": 49898770, "question_id": 49898658, "link": "https://stackoverflow.com/questions/49898658/how-to-access-secondary-constructor-parameter-outside-constructor-block-in-kotli/49898770#49898770", "title": "How to access secondary constructor parameter outside constructor block in Kotlin", "body": "<p><code>name</code> is accessible because it is a member.</p>\n\n<p><code>nbr</code> is not accessible because it is a local (immutable) variable inside the secondary constructor.</p>\n\n<p>If you declare <code>nbr</code> as member: putting <code>val nbr: Int</code> for example below the <code>val name</code> line, it will be accessible, however it will not compile if <code>nbr</code> is defined as immutable (<code>val</code>).</p>\n\n<p>A simpler structure would be:</p>\n\n<pre><code>class Test(_name: String, _nbr: Int = 0) {\n    val name: String = _name\n    val nbr: Int = _nbr\n\n    fun printNameAndNumber() {\n        println(\"Name: $name\")\n        println(\"Number: $nbr\")\n    }\n}\n</code></pre>\n\n<p>or even simpler</p>\n\n<pre><code>class Test(val name: String, val nbr: Int = 0) {\n    fun printNameAndNumber() {\n        println(\"Name: $name\")\n        println(\"Number: $nbr\")\n    }\n}\n</code></pre>\n\n<p>If you want your <code>nbr</code> member as nullable, you couldgo with the suggestion of @gil.fernandes.</p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1524071194, "post_id": 49898809, "comment_id": 86826427, "body": "While this will work, Tamas&#39; and DVarga&#39;s answers are better in most circumstances."}], "tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": true, "score": 8, "last_activity_date": 1524051593, "creation_date": 1524051593, "answer_id": 49898809, "question_id": 49898658, "link": "https://stackoverflow.com/questions/49898658/how-to-access-secondary-constructor-parameter-outside-constructor-block-in-kotli/49898809#49898809", "title": "How to access secondary constructor parameter outside constructor block in Kotlin", "body": "<p><code>nbr</code> should be a variable, because in this specific case it is optional:</p>\n\n<pre><code>class Test(_name: String) {\n    val name: String = _name\n    var nbr: Int? = null\n\n    constructor(_name: String, _nbr: Int) : this(_name) {\n        this.nbr = _nbr\n    }\n\n    fun printNameAndNumber() {\n        println(\"Name: $name\")\n        println(\"Number: $nbr\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "is_accepted": false, "score": 2, "last_activity_date": 1524051748, "creation_date": 1524051748, "answer_id": 49898855, "question_id": 49898658, "link": "https://stackoverflow.com/questions/49898658/how-to-access-secondary-constructor-parameter-outside-constructor-block-in-kotli/49898855#49898855", "title": "How to access secondary constructor parameter outside constructor block in Kotlin", "body": "<p>Parameters of the primary constructor are not available in member functions. Fields are. Fortunately Kotlin has a short syntax to make primary constructor parameters member properties right away.</p>\n\n<p>What do you expect <code>nbr</code> to be when constructed using the primary constructor? I suggest you to swap your constructors, so it's clear what are properties and what are just parameters:</p>\n\n<pre><code>class Test(val name: String, val nbr: Int) {\n    constructor(name: String) : this(name, 0)\n\n    fun printNameAndNumber() {  \n        println(\"Name: $name\")\n        println(\"Number: $nbr\")\n    }\n}\n\nfun main(args : Array&lt;String&gt;) {\n    Test(\"P\u00e9ter\").printNameAndNumber()\n}\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 3134619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a69391aa3233f4fc57c3471f12176ac7?s=128&d=identicon&r=PG&f=1", "display_name": "frie", "link": "https://stackoverflow.com/users/3134619/frie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2424, "favorite_count": 1, "accepted_answer_id": 49898809, "answer_count": 3, "score": 7, "last_activity_date": 1524051748, "creation_date": 1524051141, "question_id": 49898658, "link": "https://stackoverflow.com/questions/49898658/how-to-access-secondary-constructor-parameter-outside-constructor-block-in-kotli", "title": "How to access secondary constructor parameter outside constructor block in Kotlin", "body": "<p>I am new to Kotlin and working through the tutorials that are available.\nHowever now I seem to have a problem with a secondary constructor:\nParameters declared in the primary constructor can be accessed in a function,\nbut when I try to do this with a parameter from the secondary constructor I get an error: Unresolved reference:nbr</p>\n\n<p>The code:</p>\n\n<pre><code>class Test(_name: String) {\nval name: String = _name\n\nconstructor(_name: String, _nbr: Int) : this(_name) {\n    val nbr: Int = _nbr\n}\n\nfun printNameAndNumber() {  \n    println(\"Name: $name\")\n    println(\"Number: $nbr\")\n}\n</code></pre>\n\n<p>}</p>\n\n<p>It is clear to me that I am doing something basically wrong but who can tell me what?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1383, "user_id": 3999808, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/BVpV8.png?s=128&g=1", "display_name": "Zun", "link": "https://stackoverflow.com/users/3999808/zun"}, "edited": false, "score": 3, "creation_date": 1524050493, "post_id": 49898441, "comment_id": 86812199, "body": "a guess, remove the capital U. so it becomes utils"}], "answers": [{"tags": [], "owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "is_accepted": true, "score": 5, "last_activity_date": 1524050625, "creation_date": 1524050625, "answer_id": 49898503, "question_id": 49898441, "link": "https://stackoverflow.com/questions/49898441/package-name-doesnt-match-regex/49898503#49898503", "title": "Package name doesnt match regex", "body": "<p><a href=\"https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html\" rel=\"noreferrer\">Naming Conventions</a></p>\n\n<blockquote>\n  <p>Package names are written in all lower case to avoid conflict with the\n  names of classes or interfaces.</p>\n</blockquote>\n"}], "owner": {"reputation": 448, "user_id": 3993147, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1287726479/picture?type=large", "display_name": "Marcus Mondel", "link": "https://stackoverflow.com/users/3993147/marcus-mondel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 1, "accepted_answer_id": 49898503, "answer_count": 1, "score": 2, "last_activity_date": 1524051261, "creation_date": 1524050428, "question_id": 49898441, "link": "https://stackoverflow.com/questions/49898441/package-name-doesnt-match-regex", "title": "Package name doesnt match regex", "body": "<p>My android studio project gives me an error \"Package name doesnt match regex\".</p>\n\n<p>The package name is: package com.mondelicious.yuomi.Utils</p>\n\n<p>Can somebody tell me what is wrong? Thank you</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 1, "creation_date": 1524092173, "post_id": 49897764, "comment_id": 86836265, "body": "I believe <a href=\"https://youtrack.jetbrains.com/oauth?state=%2Fissue%2FKT-12455\" rel=\"nofollow noreferrer\">this issue explains your situation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1524049766, "post_id": 49897867, "comment_id": 86811698, "body": "onRefreshClick() is java method"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1524090988, "last_edit_date": 1524090988, "creation_date": 1524048670, "answer_id": 49897867, "question_id": 49897764, "link": "https://stackoverflow.com/questions/49897764/can-we-pass-java-method-to-to-kotlin-function-of-type-unit/49897867#49897867", "title": "Can we pass java method to to kotlin function of type () -&gt; Unit?", "body": "<p>Let's say your Java method resides in a class called Test:</p>\n\n<pre><code>public class Test {\n    void onRefreshClick() {\n        System.out.println(\"test\");\n    }\n}\n</code></pre>\n\n<p>It could be called by your Kotlin function like this (as reference):</p>\n\n<pre><code>val t = Test()\ninitDrawer(drawerView, drawerlayout, this, t::onRefreshClick)\n</code></pre>\n\n<p><code>onRefreshClick</code> could also be static in Java which would enable you to use it like this:</p>\n\n<pre><code>initDrawer(drawerView, drawerlayout, this, Test::onRefreshClick)\n</code></pre>\n\n<p><strong>Note:</strong>\nIn Kotlin <code>() -&gt; Unit</code> is the type of a function which has no arguments and returns nothing (which is <code>Unit</code> and not <code>Nothing</code> as return type).</p>\n\n<p>There is no <code>Unit</code> in Java. The Java method which corresponds to this type would have no arguments and as return type <code>void</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "reply_to_user": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "edited": false, "score": 0, "creation_date": 1524050232, "post_id": 49897928, "comment_id": 86811997, "body": "() -&gt; Unit is a function (lambda) that returns Unit. Unit onRefreshClick() { } is what you need."}], "tags": [], "owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "is_accepted": true, "score": 30, "last_activity_date": 1524048859, "creation_date": 1524048859, "answer_id": 49897928, "question_id": 49897764, "link": "https://stackoverflow.com/questions/49897764/can-we-pass-java-method-to-to-kotlin-function-of-type-unit/49897928#49897928", "title": "Can we pass java method to to kotlin function of type () -&gt; Unit?", "body": "<p>You have to set return value of your onRefreshClick to Unit:</p>\n\n<pre><code>private Unit onRefreshClick() {\n    //do something here\n    return Unit.INSTANCE;\n}\n</code></pre>\n\n<p>Then you can call it like this:</p>\n\n<pre><code>initDrawer(drawerView, drawerLayout, this, this::onRefreshClick);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "is_accepted": false, "score": 7, "last_activity_date": 1524126408, "last_edit_date": 1524126408, "creation_date": 1524050343, "answer_id": 49898407, "question_id": 49897764, "link": "https://stackoverflow.com/questions/49897764/can-we-pass-java-method-to-to-kotlin-function-of-type-unit/49898407#49898407", "title": "Can we pass java method to to kotlin function of type () -&gt; Unit?", "body": "<p>You cannot pass your Java method directly from Java, as the Kotlin parameter expects the method to return <code>Unit</code>.</p>\n\n<p>You can follow the following pattern:</p>\n\n<pre><code>kotlinClass.higherOrderFunction(() -&gt; {functionToPass(); return Unit.INSTANCE;});\n</code></pre>\n\n<p>where <code>functionToPass()</code> is defined as:</p>\n\n<pre><code>private void functionToPass() {\n    // do something\n}\n</code></pre>\n\n<p>In your case:</p>\n\n<pre><code>initDrawer(drawerView, drawerlayout, this, \n  () -&gt; {onRefreshClick(); return Unit.INSTANCE;}) \n</code></pre>\n"}], "owner": {"reputation": 1559, "user_id": 4980791, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/37f70eec1c977e9b2b4e8783506887ec?s=128&d=identicon&r=PG&f=1", "display_name": "avez raj", "link": "https://stackoverflow.com/users/4980791/avez-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5157, "favorite_count": 1, "accepted_answer_id": 49897928, "answer_count": 3, "score": 15, "last_activity_date": 1524126408, "creation_date": 1524048368, "last_edit_date": 1524052888, "question_id": 49897764, "link": "https://stackoverflow.com/questions/49897764/can-we-pass-java-method-to-to-kotlin-function-of-type-unit", "title": "Can we pass java method to to kotlin function of type () -&gt; Unit?", "body": "<p>I have a method of kotlin like below</p>\n\n<pre><code> fun initDrawer(drawerView: DrawerView, drawerLayout: DrawerLayout, context: Context, onRefreshClick: ()  -&gt; Unit) {\n  }\n</code></pre>\n\n<p>But when I try to pass initDrawer(drawerView,drawerlayout,this,onRefreshClick())\nit gives me an error of required () cannot be applied to(kotlin.Unit)</p>\n\n<p>is it possible to pass methods from java to kotlin.</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "kapt"], "comments": [{"owner": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "edited": false, "score": 2, "creation_date": 1524056445, "post_id": 49897700, "comment_id": 86816177, "body": "This is most likely caused by missing <code>dataBinding { enabled = true }</code> in main app module. You need to add it in there in addition to the one you added to library module."}, {"owner": {"reputation": 117, "user_id": 1980819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c01f6483551ab0a91da317ab5cddbb7a?s=128&d=identicon&r=PG", "display_name": "MattWilliams89", "link": "https://stackoverflow.com/users/1980819/mattwilliams89"}, "reply_to_user": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "edited": false, "score": 0, "creation_date": 1524059230, "post_id": 49897700, "comment_id": 86818117, "body": "Hmm that has changed the error. I&#39;m now getting a ClassNotFound on my generated Binding classes (created from the layout files)"}, {"owner": {"reputation": 117, "user_id": 1980819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c01f6483551ab0a91da317ab5cddbb7a?s=128&d=identicon&r=PG", "display_name": "MattWilliams89", "link": "https://stackoverflow.com/users/1980819/mattwilliams89"}, "reply_to_user": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "edited": false, "score": 0, "creation_date": 1524060272, "post_id": 49897700, "comment_id": 86818918, "body": "@sergejshafarenka You&#39;ve pointed me in the right direction though - I need to add the dataBinding stuff to each build.gradle in my dependency chain - so I&#39;ve got App -&gt; Lib -&gt; Lib and the databinding things needs to go in all 3"}, {"owner": {"reputation": 19404, "user_id": 1219199, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/U3KjU.png?s=128&g=1", "display_name": "sergej shafarenka", "link": "https://stackoverflow.com/users/1219199/sergej-shafarenka"}, "edited": false, "score": 0, "creation_date": 1524063872, "post_id": 49897700, "comment_id": 86821704, "body": "Yes, this is what needs to be done to properly enable databinding in multi-module project."}], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 2295051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6e2789bc310d1acba636acd2d8a49d6?s=128&d=identicon&r=PG", "display_name": "Sergey Dryganets", "link": "https://stackoverflow.com/users/2295051/sergey-dryganets"}, "is_accepted": false, "score": 0, "last_activity_date": 1551318422, "creation_date": 1551318422, "answer_id": 54917167, "question_id": 49897700, "link": "https://stackoverflow.com/questions/49897700/failed-resolution-of-landroid-databinding-databindingcomponent/54917167#54917167", "title": "Failed resolution of: Landroid/databinding/DataBindingComponent", "body": "<p><strong>In my experience, this issue is just a red herring.</strong></p>\n\n<p>I just spend a couple of days trying to figure out the root cause for a similar problem.</p>\n\n<p>I was converting the application to the library and turns out that since android-14 the constants in R.java not final anymore for the library.</p>\n\n<p>So I had to make sure that R.id is not used in the switch statement, annotations etc.</p>\n\n<p>It was hard to find out the root cause as it was deeply hidden in the tonnes of errors from databinding library as most of the annotation processors were broken.</p>\n\n<p>The first thing I would recommend you to do is to increase the error display limit.\nIn my case, I had more than 2400 errors for the project.</p>\n\n<p>This Gradle snippet saved the day:</p>\n\n<pre><code>gradle.projectsEvaluated {\n        tasks.withType(JavaCompile) {\n            options.compilerArgs &lt;&lt; \"-Xmaxerrs\" &lt;&lt; \"10000\"\n            options.compilerArgs &lt;&lt; \"-Xmaxwarns\" &lt;&lt; \"10000\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2041, "user_id": 498346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ba29fc331bcd07a07db2d94a8be50d5?s=128&d=identicon&r=PG", "display_name": "Rab Ross", "link": "https://stackoverflow.com/users/498346/rab-ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1614340529, "creation_date": 1614340529, "answer_id": 66385410, "question_id": 49897700, "link": "https://stackoverflow.com/questions/49897700/failed-resolution-of-landroid-databinding-databindingcomponent/66385410#66385410", "title": "Failed resolution of: Landroid/databinding/DataBindingComponent", "body": "<p>This is most likely caused by a missing data binding declaration in your main <strong>app module</strong>:</p>\n<pre><code>dataBinding { \n    enabled = true \n}\n</code></pre>\n<p>Credit to <a href=\"https://stackoverflow.com/users/1219199/sergej-shafarenka\">sergej shafarenka</a> and his <a href=\"https://stackoverflow.com/questions/49897700/failed-resolution-of-landroid-databinding-databindingcomponent#comment86816177_49897700\">comment</a></p>\n"}], "owner": {"reputation": 117, "user_id": 1980819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c01f6483551ab0a91da317ab5cddbb7a?s=128&d=identicon&r=PG", "display_name": "MattWilliams89", "link": "https://stackoverflow.com/users/1980819/mattwilliams89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 856, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1614340529, "creation_date": 1524048172, "question_id": 49897700, "link": "https://stackoverflow.com/questions/49897700/failed-resolution-of-landroid-databinding-databindingcomponent", "title": "Failed resolution of: Landroid/databinding/DataBindingComponent", "body": "<p>I have a kotlin android library module in my project in which I'm trying to use the DataBinding Library.  I'm using the DataBindingComponent to do some image loading.  Everything is fine at compile time, the generated DataBindingComponent interface is created and I can implement it and inject it in.  At runtime, however, the app crashes:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Landroid/databinding/DataBindingComponent;\n</code></pre>\n\n<p>From inspecting the apk of the app, and the aar of the library module, it doesn't look like the DataBindingComponent is included.</p>\n\n<p>Some code snippets:</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\n...\n\nandroid {\n\n    ...\n    dataBinding {\n        enabled = true\n    }\n}\n\n\ndependencies {\n    ...\n    kapt \"com.android.databinding:compiler:3.1.1\"\n    ...\n}\n</code></pre>\n\n<p><strong>ImageBindingAdapter</strong></p>\n\n<pre><code>class ImageBindingAdapter(private val loadImage: (ImageView, String) -&gt; Unit) {\n\n    @BindingAdapter(\"imageUrl\")\n    fun setImageUrl(view: ImageView, imageUrl: String) {\n        view.loadImageWhenLaidOut(imageUrl, loadImage)\n    }\n\n}\n</code></pre>\n\n<p><strong>Use of DataBindingComponent</strong></p>\n\n<pre><code>itemRecyclerAdapter.dataBindingComponent = object : DataBindingComponent {\n    override fun getImageBindingAdapter(): ImageBindingAdapter {\n        return ImageBindingAdapter({ imageView, url -&gt;\n            loadImage(imageView, url)\n        })\n    }\n}\n</code></pre>\n"}, {"tags": ["validation", "spring-boot", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 499, "user_id": 12900361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B3Ivd.jpg?s=128&g=1", "display_name": "mleister", "link": "https://stackoverflow.com/users/12900361/mleister"}, "edited": false, "score": 2, "creation_date": 1590694089, "post_id": 49900213, "comment_id": 109785199, "body": "Actually making non-null values nullable only for validation is a pretty dirty solution. Is there a fix yet?"}], "tags": [], "owner": {"reputation": 4745, "user_id": 4265, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/90287472740729cae63ed49d50a36a8e?s=128&d=identicon&r=PG", "display_name": "Peter Hart", "link": "https://stackoverflow.com/users/4265/peter-hart"}, "is_accepted": false, "score": 5, "last_activity_date": 1524057243, "last_edit_date": 1524057243, "creation_date": 1524055840, "answer_id": 49900213, "question_id": 49896933, "link": "https://stackoverflow.com/questions/49896933/kotlin-data-class-and-bean-validation-notnull-on-long-fields-does-not-work/49900213#49900213", "title": "Kotlin data class and Bean validation: @NotNull on Long fields does not work", "body": "<p>I think this is related to <a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/130\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-module-kotlin/issues/130</a>.</p>\n\n<p>It looks like you can turn on the <code>DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES</code>, but that will not cause a validation error, but it will fail to construct the object. You'll need to handle that exception appropriately to generate a 400 error.</p>\n\n<p>If you really want validation, you need to allow the object to be constructed, so that the validator can run, which means making the primitive fields nullable: </p>\n\n<pre><code>data class CreateCommentRequest(\n    @field:NotNull\n    @field:NotEmpty\n    val comment: String,\n\n    @field:NotNull\n    val postId: Long?\n)\n</code></pre>\n\n<p>This probably seems counter-intuitive, but the validator doesn't run until the object is constructed. It's not part of jackson (which doesn't care about the validation annotations) or kotlin. Unless you've provided an alternative implementation, it's the hibernate validator that is doing the null checking based on the annotations, and it needs a complete object to be able to perform this checking.</p>\n\n<p>It looks like the jackson kotlin module is creating an instance of the object, but it has to provide a value for the postId, so it is providing a default value of 0 (unless you instruct it to fail on null primitives).</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\n\ndata class Test(val x : Long)\n\nfun main(args : Array&lt;String&gt;) {\n    val m = ObjectMapper().registerModule(KotlinModule())\n    print(m.readValue(\"{}\", Test::class.java)) // prints Test(x=0) \n}\n</code></pre>\n\n<p>By making the field nullable, you're allowing it to be constructed, so that the JSR 303 validation can run on the object.</p>\n"}], "owner": {"reputation": 6623, "user_id": 3256597, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/c022daa2ea5e1d708b5c500451f5ecbf?s=128&d=identicon&r=PG&f=1", "display_name": "Teimuraz", "link": "https://stackoverflow.com/users/3256597/teimuraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3743, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1590775141, "creation_date": 1524046014, "question_id": 49896933, "link": "https://stackoverflow.com/questions/49896933/kotlin-data-class-and-bean-validation-notnull-on-long-fields-does-not-work", "title": "Kotlin data class and Bean validation: @NotNull on Long fields does not work", "body": "<p>Here is data class:</p>\n\n<pre><code>data class CreateCommentRequest(\n        @field:NotNull\n        @field:NotEmpty\n        val comment: String,\n\n        @field:NotNull\n        val postId: Long\n)\n</code></pre>\n\n<p>If I omit <code>comment</code> field, validation fails properly.</p>\n\n<p>But if I do not pass <code>postId</code>, like this:</p>\n\n<pre><code>{\n    \"comment\": \"hello\"\n}\n</code></pre>\n\n<p>validation is passed.</p>\n\n<p>How to make validation fail if <code>postId</code> is not passed?</p>\n\n<p>P.S. I use spring boot 2.0.1 with <code>com.fasterxml.jackson.module:jackson-module-kotlin</code> module, kotlin version: 1.2.20</p>\n"}, {"tags": ["android", "kotlin", "mocking", "android-espresso", "dagger"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1524067581, "post_id": 49896424, "comment_id": 86824322, "body": "I actually just wrote a blog post about this yesterday: <a href=\"https://dev.to/autonomousapps/the-daggerandroid-missing-documentation-33kj\" rel=\"nofollow noreferrer\">dev.to/autonomousapps/&hellip;</a>"}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1524073114, "post_id": 49896424, "comment_id": 86827466, "body": "@AutonomousApps Read it! Thanks! Really great tutorial! Seems just need to replace DaggerApplication with interface."}], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1527671905, "post_id": 49906115, "comment_id": 88210838, "body": "Seems hacky to me. also if you add this new application in debug , that means you are using your mocked testing dependencies in debug mode as well as in test mode where in theory you usually run your prod code in debug mode so you can umm debug the prod code"}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1527671924, "post_id": 49906115, "comment_id": 88210848, "body": "Is there a way to just create a Application that is used only in test?"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1527689352, "post_id": 49906115, "comment_id": 88223241, "body": "You obviously can&#39;t inject mock dependencies in a dev build because you would never include test libs in your prod code."}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1527693125, "post_id": 49906115, "comment_id": 88225980, "body": "Yea so the above wont work! you will be using testable mocks on your debug dev code!"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1527693200, "post_id": 49906115, "comment_id": 88226029, "body": "No, you won&#39;t. You have no idea what you&#39;re talking about and I&#39;m done now."}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1527776118, "post_id": 49906115, "comment_id": 88262853, "body": "yes u will and its the wrong way, your way of thinking is flawed. use dagger mocks instead and do it properly. This is a terrible idea and everry time you use a debug version of your app it will use this mocked components etc located inside your ApplicationDebug class."}], "tags": [], "owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "is_accepted": true, "score": -1, "last_activity_date": 1524074196, "creation_date": 1524074196, "answer_id": 49906115, "question_id": 49896424, "link": "https://stackoverflow.com/questions/49896424/how-to-mock-after-setup-dagger-android-2-15-when-writing-espresso-tests/49906115#49906115", "title": "How to mock after setup dagger-android 2.15 when writing espresso tests?", "body": "<p>I wrote a blog post that explains how to do this just yesterday: <a href=\"https://dev.to/autonomousapps/the-daggerandroid-missing-documentation-33kj\" rel=\"nofollow noreferrer\">https://dev.to/autonomousapps/the-daggerandroid-missing-documentation-33kj</a></p>\n\n<p>I don't intend to repeat the entire post for this answer (it's hundreds of words and lines of code to properly set up a test harness with Dagger), but to attempt to summarize:</p>\n\n<ol>\n<li>Add a custom application class in the <code>debug</code> source set (I assume it would also work in the <code>androidTest</code> source set, but I have not tried this).</li>\n<li>You also need to reference this application in a <code>AndroidManifest.xml</code> in the same source set.</li>\n<li>Create a \"Test component\" in your androidTest class that extends from your production top-level component and build it.</li>\n<li>Use that test component to inject your application, which means you've just replaced your entire Dagger dependency graph with a new one you've defined just for the test suite.</li>\n<li>Profit.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 1, "creation_date": 1527689432, "post_id": 50031794, "comment_id": 88223307, "body": "I actually consider it a feature that I have a component per test. That gives me total control over each test. They can be as deep or shallow as I like (unit tests vs end to end tests)."}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1527743794, "post_id": 50031794, "comment_id": 88243917, "body": "Exactly, but DaggerMock will make it easier if you only need to mock the providers from the @Module, I just reuse the AppComponentForTest through the whole tests... Anyway, thanks! without your blog, will be very tricky to work it out. :D"}, {"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1527747101, "post_id": 50031794, "comment_id": 88245189, "body": "Glad it helped!"}], "tags": [], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "is_accepted": false, "score": 1, "last_activity_date": 1524692709, "creation_date": 1524692709, "answer_id": 50031794, "question_id": 49896424, "link": "https://stackoverflow.com/questions/49896424/how-to-mock-after-setup-dagger-android-2-15-when-writing-espresso-tests/50031794#50031794", "title": "How to mock after setup dagger-android 2.15 when writing espresso tests?", "body": "<p>For those who is interested in this, I got a <a href=\"http://www.albertgao.xyz/2018/04/24/how-to-mock-dagger-android-injection-in-instrumented-tests-with-kotlin/\" rel=\"nofollow noreferrer\">blog</a> with step by step detail for this: </p>\n\n<p>Basically, the idea is:</p>\n\n<ol>\n<li>You still generate instances for injection in @Module</li>\n<li>But We\u2019ll create new @Component A only for testing</li>\n<li>This @Component will have a method to get that @Module</li>\n<li>During tests, we swap the @Component that the application use with our component A</li>\n</ol>\n\n<p>Then things are easy:</p>\n\n<ul>\n<li><p>Without DaggerMock</p>\n\n<ul>\n<li>In the @Module, instead of return real instance, you just return mockito mock.</li>\n</ul></li>\n<li><p>With DaggerMock</p>\n\n<ul>\n<li>You declare the type you want to swap and mock it</li>\n<li>You can then use the mock.</li>\n<li>No need to change the @Module</li>\n</ul></li>\n</ul>\n\n<p>It inspires by @AutonomousApps 's solution, but the differences are now you don't need to write the @Component, @Module for each test class.</p>\n"}, {"tags": [], "owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "is_accepted": false, "score": 0, "last_activity_date": 1544390342, "creation_date": 1544390342, "answer_id": 53696766, "question_id": 49896424, "link": "https://stackoverflow.com/questions/49896424/how-to-mock-after-setup-dagger-android-2-15-when-writing-espresso-tests/53696766#53696766", "title": "How to mock after setup dagger-android 2.15 when writing espresso tests?", "body": "<p>After trying several approaches, <a href=\"https://android.jlelse.eu/how-to-inject-mock-dependencies-into-android-components-using-dagger-androidinjector-e274c8f6a9a6\" rel=\"nofollow noreferrer\">this</a> is the only one that worked for me.</p>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 3, "accepted_answer_id": 49906115, "answer_count": 3, "score": 3, "last_activity_date": 1544390342, "creation_date": 1524044692, "question_id": 49896424, "link": "https://stackoverflow.com/questions/49896424/how-to-mock-after-setup-dagger-android-2-15-when-writing-espresso-tests", "title": "How to mock after setup dagger-android 2.15 when writing espresso tests?", "body": "<p>If we just use plain dagger 2. In the <code>application</code> class, we will have a property which holds the <code>AppComponent</code>. Then we can swap it during espresso tests.</p>\n\n<p>But when I setup my project using <code>dagger-android 2.15</code>. Things becomes more implicit if adopt too much Dagger magic. The code is more clean, but makes testing a little bit hard.</p>\n\n<p><strong>This is the <code>application</code> class:</strong></p>\n\n<pre><code>class App : DaggerApplication() {\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n        return DaggerAppComponent\n            .builder()\n            .create(this)\n            .build()\n    }\n}\n</code></pre>\n\n<p><strong>This is the HomeActivity</strong></p>\n\n<pre><code>class HomeActivity : DaggerAppCompatActivity() {\n    @Inject\n    lateinit var userPreference: UserPreference\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home)\n\n        if (!this.userPreference.memberRegistered) {\n            goToActivity(EntryActivity::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>Take this code for example. How to mock that injected <code>userPreference.memberRegistered</code> Which could be a HTTP call underneath?</p>\n"}, {"tags": ["kotlin", "ktor"], "comments": [{"owner": {"reputation": 10942, "user_id": 18575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318654a786700455b96049d8ac9beb11?s=128&d=identicon&r=PG", "display_name": "Ilya Ryzhenkov", "link": "https://stackoverflow.com/users/18575/ilya-ryzhenkov"}, "edited": false, "score": 0, "creation_date": 1524051815, "post_id": 49895169, "comment_id": 86813133, "body": "Which version of ktor are you using? It seems that <code>0.9.2-alpha-6</code> doesn&#39;t have this problem. <code>0.9.2</code> will be released soon."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 10942, "user_id": 18575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318654a786700455b96049d8ac9beb11?s=128&d=identicon&r=PG", "display_name": "Ilya Ryzhenkov", "link": "https://stackoverflow.com/users/18575/ilya-ryzhenkov"}, "edited": false, "score": 0, "creation_date": 1524058861, "post_id": 49895169, "comment_id": 86817889, "body": "I&#39;m using 0.9.1 (so the latest released version)"}], "answers": [{"comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1524154221, "post_id": 49923995, "comment_id": 86867151, "body": "Thanks. Any idea what &quot;soon&quot; means?"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1524154293, "post_id": 49923995, "comment_id": 86867194, "body": "It seems you are a new Dev @Jebrains. Glad to give you your first reputation points. Welcome on Stackoverflow!"}], "tags": [], "owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "is_accepted": true, "score": 2, "last_activity_date": 1524150077, "last_edit_date": 1524150077, "creation_date": 1524149240, "answer_id": 49923995, "question_id": 49895169, "link": "https://stackoverflow.com/questions/49895169/ktor-unable-to-receive-post-body-on-server/49923995#49923995", "title": "Ktor unable to receive POST body on Server", "body": "<p>The issue fixed in recent alphas(>= <code>0.9.2-alpha-5</code>) and would appear in next <code>0.9.2</code> release soon.</p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 6818486, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZK6Bi2KEKmo/AAAAAAAAAAI/AAAAAAAAF1Q/TWupac74ZCE/photo.jpg?sz=128", "display_name": "Rafael Baptista", "link": "https://stackoverflow.com/users/6818486/rafael-baptista"}, "is_accepted": false, "score": 1, "last_activity_date": 1537553878, "creation_date": 1537553878, "answer_id": 52449178, "question_id": 49895169, "link": "https://stackoverflow.com/questions/49895169/ktor-unable-to-receive-post-body-on-server/52449178#52449178", "title": "Ktor unable to receive POST body on Server", "body": "<p>And if you have parameters in your body request, try it:</p>\n\n<pre><code>val requestBody = call.receiveParameters()\nval value = requestBody[\"key_name\"]\n</code></pre>\n"}], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2854, "favorite_count": 0, "accepted_answer_id": 49923995, "answer_count": 2, "score": 0, "last_activity_date": 1537553878, "creation_date": 1524041270, "question_id": 49895169, "link": "https://stackoverflow.com/questions/49895169/ktor-unable-to-receive-post-body-on-server", "title": "Ktor unable to receive POST body on Server", "body": "<p>I have the following Server and Client code:</p>\n\n<p>Server:</p>\n\n<pre><code>fun Application.main() {\n    install(DefaultHeaders)\n    install(CallLogging)\n    install(Routing) {\n        post(\"/\") {\n            val requestBody = call.receiveText()\n            println(\"Received $requestBody\")\n            call.respond(\"Hello from server - received $requestBody\")\n        }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    embeddedServer(Netty, 8080) {\n        main()\n    }.start(wait = true)\n}\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking {\n    HttpClient(CIO).use {\n        val postResult = it.post&lt;String&gt;(\"http://localhost:8080/\") {\n            body = \"Client Hello\"\n        }\n        println(postResult)\n    }\n}\n</code></pre>\n\n<p>So, the client just sends \"Client Hello\" to the server in the POST-body, and the Server responds to that.\nBut I didn't see the content of the body on the server-side. What am I doing wrong? </p>\n\n<p>The <code>call.receiveText()</code> is always empty.</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "kapt"], "comments": [{"owner": {"reputation": 698, "user_id": 4290409, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HEhfY.jpg?s=128&g=1", "display_name": "Manish Karena", "link": "https://stackoverflow.com/users/4290409/manish-karena"}, "edited": false, "score": 0, "creation_date": 1528524374, "post_id": 49895147, "comment_id": 88550281, "body": "I think it&#39;s the issue with the message-language because i&#39;ve tried your code and whenever i added all messages in english language then it&#39;s working fine like this:  android:text=&#39;@{&quot;test&quot; + user.name??&quot;unknow&quot;, default=versionnumber}&#39;. I don&#39;t know why it&#39;s not working with your language-message, I&#39;m still finding the issue and solution."}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1528559958, "post_id": 49895147, "comment_id": 88559054, "body": "Try commenting out <code>kapt &quot;com.android.databinding:compiler:3.1.1&quot;</code>"}, {"owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "edited": false, "score": 0, "creation_date": 1528766968, "post_id": 49895147, "comment_id": 88621865, "body": "You still need <code>kapt  &quot;com.android.databinding:compiler:3.1.1&quot;</code> and its better to update to the latest dependency"}], "answers": [{"tags": [], "owner": {"reputation": 182, "user_id": 2862216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4509159cd8a2987e609bf6368c44109?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Bratusenko", "link": "https://stackoverflow.com/users/2862216/alexander-bratusenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1528755496, "last_edit_date": 1528755496, "creation_date": 1528747680, "answer_id": 50805279, "question_id": 49895147, "link": "https://stackoverflow.com/questions/49895147/kotlin-databinding-throw-no-viable-alternative-at-input/50805279#50805279", "title": "Kotlin + Databinding throw no viable alternative at input &#39;??&#39;", "body": "<p>I think the problem is with the braces. Try to do it this way:</p>\n\n<pre><code>@{\"test\" + (user.name??\"unknow\", default=versionnumber)}'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2831, "user_id": 8667412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yh4AQ.jpg?s=128&g=1", "display_name": "Yosi Pramajaya", "link": "https://stackoverflow.com/users/8667412/yosi-pramajaya"}, "is_accepted": false, "score": 1, "last_activity_date": 1528767163, "last_edit_date": 1528767163, "creation_date": 1528759137, "answer_id": 50807299, "question_id": 49895147, "link": "https://stackoverflow.com/questions/49895147/kotlin-databinding-throw-no-viable-alternative-at-input/50807299#50807299", "title": "Kotlin + Databinding throw no viable alternative at input &#39;??&#39;", "body": "<p>I think you set the wrong expression for </p>\n\n<p><code>android:text='@{\"\u6d4b\u8bd5\" + version??\"unknow\", default=\u7248\u672c\u53f7}'</code></p>\n\n<p>I mean, what are you trying to achieve with this? Is it if version is null then return \"unknown\", and if it's not, return \u7248\u672c\u53f7? I think also because you didn't use <code>\"\"</code> (double quotes) in your \u7248\u672c\u53f7</p>\n\n<p>If you want to express it that way, try this one:</p>\n\n<p><code>android:text='@{\"\u6d4b\u8bd5\" + (version != null ? \"\u7248\u672c\u53f7\" : \"unknown\")}'</code></p>\n\n<p><strong>Expected Result</strong></p>\n\n<p>If <code>version != null</code> -> \u6d4b\u8bd5\u7248\u672c\u53f7</p>\n\n<p>If <code>version == null</code> -> \u6d4b\u8bd5unknown</p>\n\n<p>I tried and it works! But if the expected result is not what you want, let me know and we can work around it.</p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 714422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a8zA4.jpg?s=128&g=1", "display_name": "Andrew Chen", "link": "https://stackoverflow.com/users/714422/andrew-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1581245743, "creation_date": 1581245743, "answer_id": 60135862, "question_id": 49895147, "link": "https://stackoverflow.com/questions/49895147/kotlin-databinding-throw-no-viable-alternative-at-input/60135862#60135862", "title": "Kotlin + Databinding throw no viable alternative at input &#39;??&#39;", "body": "<p>This problem cause by kapt not works well with Chinese character. \nSo replace them with English or set your computer env as below\uff1a</p>\n\n<pre><code>JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 4737579, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9scomEA6v6U/AAAAAAAAAAI/AAAAAAAAAjQ/3_JY56nvZX0/photo.jpg?sz=128", "display_name": "Eraise", "link": "https://stackoverflow.com/users/4737579/eraise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 889, "favorite_count": 1, "answer_count": 3, "score": 4, "last_activity_date": 1581245743, "creation_date": 1524041208, "last_edit_date": 1529010289, "question_id": 49895147, "link": "https://stackoverflow.com/questions/49895147/kotlin-databinding-throw-no-viable-alternative-at-input", "title": "Kotlin + Databinding throw no viable alternative at input &#39;??&#39;", "body": "<p>Please excuse my poor English. </p>\n\n<p>I'm using AndroidStudio3.1.1, I've tried to use data binding my project with <code>kotlin</code>, but I get an error when I'm trying to run the project. The error message that I'm getting is like below:</p>\n\n<blockquote>\n  <p>e: [kapt] An exception occurred:\n  android.databinding.tool.util.LoggedErrorException: Found data binding\n  errors.\n  ****/ data binding error ****msg:Syntax error: no viable alternative at input '??'\n  file:/Users/eraise/Code/Demo/app/src/main/res/layout/layout_main.xml\n  loc:20:28 - 20:64 ****\\ data binding error ****</p>\n</blockquote>\n\n<p>I can compile <code>apk</code> on Terminal due command: <code>./gradlew assembleDebug,</code> that works fine.</p>\n\n<p>My top-level build.gradle has this configuration:</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.2.31'\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.1.1'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://www.jitpack.io'}\n    }\n}\n</code></pre>\n\n<p>My build.gradle in app dir (only relevant parts):</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\nandroid{\n    compileSdkVersion 27\n    buildToolsVersion 27.1.0\n    dataBinding {\n        enabled = true\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\ndependencies {\n    kapt \"com.android.databinding:compiler:3.1.1\"\n}\n</code></pre>\n\n<p>My layout_main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"version\"\n            type=\"String\"/&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                  android:layout_width=\"match_parent\"\n                  android:layout_height=\"match_parent\"\n                  android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tv_version_name\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"10dp\"\n            android:text='@{\"\u6d4b\u8bd5\" + version??\"unknow\", default=\u7248\u672c\u53f7}'\n            /&gt;\n\n        &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/rv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"#EEE\"                    \n            app:layoutManager=\"android.support.v7.widget.LinearLayoutManager\"\n            /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>Error on the line:<code>android:text='@{\"\u6d4b\u8bd5\" + version??\"unknow\", default=\u7248\u672c\u53f7}'</code></p>\n\n<p>LayoutMainBinding snippet:</p>\n\n<pre><code>@Override\nprotected void executeBindings() {\n    long dirtyFlags = 0;\n    synchronized(this) {\n        dirtyFlags = mDirtyFlags;\n        mDirtyFlags = 0;\n    }\n    java.lang.String version = mVersion;\n    java.lang.String javaLangStringVersion = null;\n    java.lang.String javaLangStringVersionJavaLangObjectNullJavaLangStringUnknowJavaLangStringVersion = null;\n    boolean javaLangStringVersionJavaLangObjectNull = false;\n\n    if ((dirtyFlags &amp; 0x3L) != 0) {\n\n\n            // Here's ?????? is \u6d4b\u8bd5 if correct result.\n            // read (\"??????\") + (version)\n            javaLangStringVersion = (\"??????\") + (version);\n\n\n            // read (\"??????\") + (version) == null\n            javaLangStringVersionJavaLangObjectNull = (javaLangStringVersion) == (null);\n        if((dirtyFlags &amp; 0x3L) != 0) {\n            if(javaLangStringVersionJavaLangObjectNull) {\n                    dirtyFlags |= 0x8L;\n            }\n            else {\n                    dirtyFlags |= 0x4L;\n            }\n        }\n    }\n    // batch finished\n\n    if ((dirtyFlags &amp; 0x3L) != 0) {\n\n            // read (\"??????\") + (version) == null ? \"unknow\" : (\"??????\") + (version)\n            javaLangStringVersionJavaLangObjectNullJavaLangStringUnknowJavaLangStringVersion = ((javaLangStringVersionJavaLangObjectNull) ? (\"unknow\") : (javaLangStringVersion));\n    }\n    // batch finished\n    if ((dirtyFlags &amp; 0x3L) != 0) {\n        // api target 1\n\n        android.databinding.adapters.TextViewBindingAdapter.setText(this.tvVersionName, javaLangStringVersionJavaLangObjectNullJavaLangStringUnknowJavaLangStringVersion);\n    }\n}\n</code></pre>\n\n<p>I can run correct if do not use kotlin</p>\n"}, {"tags": ["android", "kotlin", "android-espresso", "android-instrumentation"], "answers": [{"tags": [], "owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "is_accepted": true, "score": 3, "last_activity_date": 1524040922, "creation_date": 1524040922, "answer_id": 49895036, "question_id": 49894972, "link": "https://stackoverflow.com/questions/49894972/how-to-solve-this-calledfromwrongthreadexception-when-doing-android-espresso-tes/49895036#49895036", "title": "How to solve this CalledFromWrongThreadException when doing android espresso test?", "body": "<p>those two lines</p>\n\n<pre><code>    val button = entryAuthActivityRule.activity.findViewById&lt;Button&gt;(R.id.auth_button_logDetails)\n    button.performClick()\n</code></pre>\n\n<p>look suspicious. I would have expected something like </p>\n\n<pre><code>Espresso.onView(ViewMatchers.withId(R.id.auth_button_logDetails)).perform(ViewActions.click())\n</code></pre>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 49895036, "answer_count": 1, "score": 1, "last_activity_date": 1524040922, "creation_date": 1524040670, "question_id": 49894972, "link": "https://stackoverflow.com/questions/49894972/how-to-solve-this-calledfromwrongthreadexception-when-doing-android-espresso-tes", "title": "How to solve this CalledFromWrongThreadException when doing android espresso test?", "body": "<p>I got an error when doing espresso test</p>\n\n<blockquote>\n  <p>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.\n  at android.view.ViewRootImpl.checkThread(ViewRootImpl.java:6891)\n  at android.view.ViewRootImpl.playSoundEffect(ViewRootImpl.java:5751)\n  at android.view.View.playSoundEffect(View.java:20321)\n  at android.view.View.performClick(View.java:5636)\n  at nz.salect.handset.auth.EntryActivityUITest.should_open_logDetails_activity_when_pressing_logDetails_button(EntryActivityUITest.kt:47)</p>\n</blockquote>\n\n<p>The line 47 is the code in the second tests where it tries to perform a click operation.</p>\n\n<p>The 1st test passes where the 2nd failed because it can't even run due to the exception.</p>\n\n<pre><code>@LargeTest\n@RunWith(AndroidJUnit4::class)\nclass EntryActivityUITest {\n    @Rule\n    @JvmField\n    val entryAuthActivityRule = ActivityTestRule(EntryActivity::class.java, true, false)\n\n    @Test\n    fun it_should_show_logDetails_buttons_after_starting() {\n        entryAuthActivityRule.launchActivity(null)\n\n        Espresso.onView(ViewMatchers.withId(R.id.auth_button_logDetails))\n            .check(ViewAssertions.matches(ViewMatchers.isDisplayed()))\n    }\n\n    @Test\n    fun should_open_logDetails_activity_after_pressing_logDetails_button() {\n        entryAuthActivityRule.launchActivity(null)\n\n        val button = entryAuthActivityRule.activity.findViewById&lt;Button&gt;(R.id.auth_button_logDetails)\n        button.performClick()\n\n        Espresso.onView(ViewMatchers.withId(R.id.loginDetails_textEdit_password))\n            .check(ViewAssertions.matches(ViewMatchers.isDisplayed()))\n    }\n}\n</code></pre>\n\n<p>What happens here? And how to solve it?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 1, "creation_date": 1524067811, "post_id": 49894532, "comment_id": 86824475, "body": "You should not be trying to inject a view model with Dagger. You can definitely inject a factory, but to get the view model you MUST use the normal pattern provided by that library. (sorry, on my phone or I&#39;d be more explicit) I have a Github repo that shows how to do this. Go to this blog post and scroll to the bottom for a link <a href=\"https://dev.to/autonomousapps/the-daggerandroid-missing-documentation-33kj\" rel=\"nofollow noreferrer\">dev.to/autonomousapps/&hellip;</a>"}, {"owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "edited": false, "score": 1, "creation_date": 1524069918, "post_id": 49894532, "comment_id": 86825729, "body": "You can definitly inject viewmodels with Dagger, can you post the complete error please"}, {"owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "edited": false, "score": 0, "creation_date": 1524131107, "post_id": 49894532, "comment_id": 86851070, "body": "Added full error as asked"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1524167358, "post_id": 49894532, "comment_id": 86874194, "body": "I believe you missed the <code>@JvmSuppressWildcards</code>  <a href=\"https://stackoverflow.com/q/44638878/1837367\">stackoverflow.com/q/44638878/1837367</a>"}, {"owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "edited": false, "score": 0, "creation_date": 1524823893, "post_id": 49894532, "comment_id": 87136554, "body": "No, I do I have @JvmSuppressWildcards in ViewModelFactory"}, {"owner": {"reputation": 710, "user_id": 4418990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JcDkAknqj0s/AAAAAAAAAAI/AAAAAAAAACI/gD8qrN7ARR8/photo.jpg?sz=128", "display_name": "Vrushali Raut", "link": "https://stackoverflow.com/users/4418990/vrushali-raut"}, "edited": false, "score": 0, "creation_date": 1536598478, "post_id": 49894532, "comment_id": 91472273, "body": "Hey @antanas_sepikas Have you got the solution on above error? I am also facing the same error :("}, {"owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "edited": false, "score": 0, "creation_date": 1536599910, "post_id": 49894532, "comment_id": 91472936, "body": "Sadly, no I had to keep all my view model injections in single module"}, {"owner": {"reputation": 812, "user_id": 8572174, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x3-QYhk4xzE/AAAAAAAAAAI/AAAAAAAAAV0/9t5osXfRmAo/photo.jpg?sz=128", "display_name": "glisu", "link": "https://stackoverflow.com/users/8572174/glisu"}, "edited": false, "score": 0, "creation_date": 1538626565, "post_id": 49894532, "comment_id": 92210428, "body": "The values for @ViewModelKey are the same for both viewmodels, I do not know if that&#39;s ok, also check if it&#39;s the same problem I had: <a href=\"https://stackoverflow.com/questions/52638747/why-adding-singleton-annotation-to-viewmodelprovider-factory-implementation-cau\" title=\"why adding singleton annotation to viewmodelprovider factory implementation cau\">stackoverflow.com/questions/52638747/&hellip;</a>"}], "owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 808, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1524131089, "creation_date": 1524039257, "last_edit_date": 1524131089, "question_id": 49894532, "link": "https://stackoverflow.com/questions/49894532/dagger2-viewmodel-injection", "title": "Dagger2 ViewModel Injection", "body": "<p>I have working setup for dagger2 injection with viewmodels, however I am trying to refactor it a little bit and that results in a following error:</p>\n\n<pre><code>Projects/android-app/app/build/tmp/kapt3/stubs/debug/com/domain/app/dagger/AppComponent.java:8: error: [dagger.android.AndroidInjector.inject(T)] java.util.Map&lt;java.lang.Class&lt;? extends android.arch.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; cannot be provided without an @Provides-annotated method.\npublic abstract interface AppComponent extends dagger.android.AndroidInjector&lt;com.domain.app.dagger.DomainApplication&gt; {\n                ^\n      java.util.Map&lt;java.lang.Class&lt;? extends android.arch.lifecycle.ViewModel&gt;,javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; is injected at\n          com.domain.app.dagger.ViewModelFactory.&lt;init&gt;(creators)\n      com.domain.app.dagger.ViewModelFactory is injected at\n          com.domain.app.dagger.AppModule.bindViewModelFactory(factory)\n      android.arch.lifecycle.ViewModelProvider.Factory is injected at\n          com.domain.app.screens.access.login.LoginFragment.viewModelFactory\n      com.domain.app.screens.access.login.LoginFragment is injected at\n          dagger.android.AndroidInjector.inject(arg0)\n</code></pre>\n\n<p>I don't understand how dagger works internally so I am not sure if what I want to achieve is even possible</p>\n\n<p>Here's my setup:</p>\n\n<pre><code>// AppComponent.kt\n@Singleton\n@Component(modules = [AndroidSupportInjectionModule::class, AppModule::class, ContributorsModule::class])\ninterface AppComponent : AndroidInjector&lt;CpmApplication&gt; {\n    @Component.Builder abstract class Builder : AndroidInjector.Builder&lt;CpmApplication&gt;()\n}\n\n// AppModule.kt\n@Module\nabstract class AppModule {\n    @Binds abstract fun bindApplicationContext(app: CpmApplication): Context\n}\n\n// ContributorsModule.kt\n@Module\nabstract class ContributorsModule {\n    @Binds abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n\n    @ContributesAndroidInjector()\n    abstract fun accessActivityInjector(): AccessActivity\n\n    @ContributesAndroidInjector\n    abstract fun accessLoginFragmentInjector(): LoginFragment\n\n    @ContributesAndroidInjector\n    abstract fun accessRegisterFragmentInjector(): RegisterFragment\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    internal abstract fun bindLoginViewModel(loginViewModel: LoginViewModel): ViewModel\n}\n</code></pre>\n\n<p>But I want to refactor it to be like this</p>\n\n<pre><code>// ContributorsModule.kt\n@Module\nabstract class ContributorsModule {\n    @Binds abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n\n    @ActivityScope\n    @ContributesAndroidInjector(modules = [AccessModule::class])\n    abstract fun contributeAccessActivity(): AccessActivityl\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>// AccessModule.kt\n@Module\nabstract class AccessModule {   \n    @FragmentScope\n    @ContributesAndroidInjector(modules = [LoginModule::class])\n    abstract fun contributeLoginFragment(): LoginFragment\n\n    @FragmentScope\n    @ContributesAndroidInjector(modules = [RegisterModule::class])\n    abstract fun contributeRegisterFragment(): RegisterFragment   \n}\n\n// LoginModule.kt\n@Module\nabstract class LoginModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    internal abstract fun bindLoginViewModel(loginViewModel: LoginViewModel): ViewModel\n}\n\n// RegisterModule.kt\n@Module\nabstract class LoginModule {\n    @Binds\n    @IntoMap\n    @ViewModelKey(LoginViewModel::class)\n    internal abstract fun bindRegisterViewModel(registerViewModel: RegisterViewModel): ViewModel\n}\n</code></pre>\n\n<p>I think it has something to with the fact that I want to bind ViewModelProvider.Factory in one place and do actual mapping of view models in different place, the GitHubBrowserSample application has this file:\n<a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/di/ViewModelModule.java\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture-components/blob/master/GithubBrowserSample/app/src/main/java/com/android/example/github/di/ViewModelModule.java</a></p>\n\n<p>Where everything related to ViewModels is in single file. So the question is: Is what I am doing even possible? If so what I am doing wrong? If not, then why?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1524035898, "post_id": 49893449, "comment_id": 86802422, "body": "Please attach the code you&#39;re asking about as code, not as screenshots, and please try to ask your question in more understandable English."}, {"owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "edited": false, "score": 0, "creation_date": 1524036193, "post_id": 49893449, "comment_id": 86802570, "body": "If you are sure the list will always have this type you can ignore this warning."}, {"owner": {"reputation": 383, "user_id": 7540265, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/063381c62cdf0a312317fe70590f3b4a?s=128&d=identicon&r=PG", "display_name": "Danger", "link": "https://stackoverflow.com/users/7540265/danger"}, "edited": false, "score": 0, "creation_date": 1524036669, "post_id": 49893449, "comment_id": 86802842, "body": "List list = new MutableList&lt;&gt;(msg.obj) ;"}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 9651407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb3501c269977acc74679a5420046cf1?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidEduIO", "link": "https://stackoverflow.com/users/9651407/androideduio"}, "is_accepted": false, "score": 0, "last_activity_date": 1524036872, "last_edit_date": 1524036872, "creation_date": 1524036571, "answer_id": 49893684, "question_id": 49893449, "link": "https://stackoverflow.com/questions/49893449/how-do-i-convert-msg-obj-into-the-corresponding-object-and-the-compiler-does-not/49893684#49893684", "title": "How do I convert msg.obj into the corresponding object and the compiler does not issue a warning?", "body": "<p>Can you change  if statement :</p>\n\n<p>if(msg.arg1 == AsyncActionCallback.RESULT_OK &amp;&amp; msg.obj != null &amp;&amp; msg.obj is MutableList&lt;<strong>BaseIncomeBean</strong>>)</p>\n\n<p>from MutableList&lt;*> to MutableList</p>\n\n<p>\"*\" mean any in kotlin, Object in java. If you return an object reference, you must check whether the returned value is the class reference before casting another class. Because the return value is marked as an object, a different class reference may be returning. The IDE does not know that.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 6639068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m_sfJuL_WRU/AAAAAAAAAAI/AAAAAAAAAHI/g_cb9v2FVK0/photo.jpg?sz=128", "display_name": "user6639068", "link": "https://stackoverflow.com/users/6639068/user6639068"}, "edited": false, "score": 0, "creation_date": 1524060486, "post_id": 49893877, "comment_id": 86819071, "body": "thank you very much"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1524037189, "creation_date": 1524037189, "answer_id": 49893877, "question_id": 49893449, "link": "https://stackoverflow.com/questions/49893449/how-do-i-convert-msg-obj-into-the-corresponding-object-and-the-compiler-does-not/49893877#49893877", "title": "How do I convert msg.obj into the corresponding object and the compiler does not issue a warning?", "body": "<p><em>Kotlin</em> has smart casts. But Generics are erased at runtime. Thus you never know the type of list contents. It would work to just cast it to <code>MutableList&lt;*&gt;</code>:</p>\n\n<pre><code>if (msg.obj is MutableList&lt;*&gt;)\n    list = msg.obj as MutableList&lt;*&gt;\n</code></pre>\n\n<p>But since you set up your project, you know, that the cast should be successful. In this case you could just tell the compiler to ignore the warning:</p>\n\n<pre><code>if (msg.obj is MutableList&lt;*&gt;)\n    @Suppress(\"UNCHECKED_CAST\")\n    list = msg.obj as MutableList&lt;BaseIncomeBean&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6639068, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m_sfJuL_WRU/AAAAAAAAAAI/AAAAAAAAAHI/g_cb9v2FVK0/photo.jpg?sz=128", "display_name": "user6639068", "link": "https://stackoverflow.com/users/6639068/user6639068"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1524042427, "accepted_answer_id": 49893877, "answer_count": 2, "score": -4, "last_activity_date": 1524037189, "creation_date": 1524035789, "last_edit_date": 1524036524, "question_id": 49893449, "link": "https://stackoverflow.com/questions/49893449/how-do-i-convert-msg-obj-into-the-corresponding-object-and-the-compiler-does-not", "closed_reason": "Duplicate", "title": "How do I convert msg.obj into the corresponding object and the compiler does not issue a warning?", "body": "<p>MutableList use as keyword</p>\n\n<pre><code>`when(msg?.what){\n    MESSAGE_GET_LIST -&gt; {\n     if (msg.obj != null &amp;&amp; msg.obj is MutableList&lt;*&gt;){\n                        list = msg.obj as MutableList&lt;BaseIncomeBean&gt;\n                        ` \n</code></pre>\n\n<p>when I received a message and want to use it ,I must covert to MutableList use as keyword</p>\n\n<p>Finally build my project and appear following warning</p>\n\n<pre><code>Warning:(51, 40) Unchecked cast: Any! to MutableList&lt;BaseIncomeBean&gt;\n</code></pre>\n\n<p>How do I fix this warning?</p>\n"}, {"tags": ["android", "arrays", "kotlin", "arguments", "variadic-functions"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524034190, "post_id": 49892840, "comment_id": 86801458, "body": "You may think you know, but the compiler doesn&#39;t trust you and can&#39;t prove you right. A slight help can be a destructuring assignment."}, {"owner": {"reputation": 2340, "user_id": 2328121, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/078a7aeeb31a8a115ff0558421f796cf?s=128&d=identicon&r=PG", "display_name": "Adifyr", "link": "https://stackoverflow.com/users/2328121/adifyr"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1524034308, "post_id": 49892840, "comment_id": 86801524, "body": "What is a destructuring argument? Could you provide it in answer form?"}, {"owner": {"reputation": 2338, "user_id": 1220743, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f1fbeea437da41d8843af249c52185c2?s=128&d=identicon&r=PG", "display_name": "mol", "link": "https://stackoverflow.com/users/1220743/mol"}, "edited": false, "score": 0, "creation_date": 1524034901, "post_id": 49892840, "comment_id": 86801832, "body": "You could use delegate to construct object from map. More info: <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1524044674, "last_edit_date": 1524044674, "creation_date": 1524035332, "answer_id": 49893317, "question_id": 49892840, "link": "https://stackoverflow.com/questions/49892840/kotlin-android-spread-an-array-list-for-non-variadic-functions/49893317#49893317", "title": "Kotlin (Android) - Spread an Array/List for Non-Variadic Functions", "body": "<p>I think your best recourse is to make your constructors private and rely on factory methods instead. Constructors should generally be treated as a lower-level feature that just does simple initialization from given values.</p>\n\n<p>So declare a variadic factory method that has all the boilerplate of shoveling the data from the array over to the constructor. You may use the destructuring assignment to somewhat improve the looks of your code.</p>\n\n<p>Note that there's nothing preventing you from declaring additional <code>Array.componentN</code> as extension functions:</p>\n\n<pre><code>fun entry(args: Array&lt;String&gt;) = args.let {\n    (name, address, phoneNo, amt, remark, oneMore) -&gt; \n    Entry(name, address, phoneNo, amt, remark, oneMore)\n}\n\noperator fun &lt;T&gt; Array&lt;T&gt;.component6() = get(5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 0, "last_activity_date": 1524043430, "creation_date": 1524043430, "answer_id": 49895951, "question_id": 49892840, "link": "https://stackoverflow.com/questions/49892840/kotlin-android-spread-an-array-list-for-non-variadic-functions/49895951#49895951", "title": "Kotlin (Android) - Spread an Array/List for Non-Variadic Functions", "body": "<p>You may create extension fun</p>\n\n<pre><code>inline fun Array&lt;String&gt;.toEntry() = Entry(\n    this[0],\n    this[1],\n    this[2],\n    this[3],\n    this[4]\n)\n</code></pre>\n"}], "owner": {"reputation": 2340, "user_id": 2328121, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/078a7aeeb31a8a115ff0558421f796cf?s=128&d=identicon&r=PG", "display_name": "Adifyr", "link": "https://stackoverflow.com/users/2328121/adifyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 49893317, "answer_count": 2, "score": 1, "last_activity_date": 1524044674, "creation_date": 1524033633, "last_edit_date": 1524035118, "question_id": 49892840, "link": "https://stackoverflow.com/questions/49892840/kotlin-android-spread-an-array-list-for-non-variadic-functions", "title": "Kotlin (Android) - Spread an Array/List for Non-Variadic Functions", "body": "<p>I have a data class namely:</p>\n\n<pre><code>data class Entry(var name: String, var address: String, var phoneNo: String,\n                 private val amt: String, var remark: String)\n</code></pre>\n\n<p>And I have a String Array: <code>val data = arrayOf(\"x\", \"y\", \"z\", \"a\", \"b\")</code></p>\n\n<p>I'd like to pass the <code>data</code> array as a parameter when creating a new instance of Entry. I <strong>don't</strong> want to do it like this: <code>val entry = Entry(data[0], data[1], data[2], data[3], data[4])</code></p>\n\n<p>I've tried using the spread operator: <code>Entry(*data)</code> but it gives me an error saying the spread operator is not allowed here. This is because the parameter isn't a <code>vararg</code>. Also, note that <code>varargs</code> aren't allowed in the constructor of data classes.</p>\n\n<p><strong>Is there any way in Kotlin to spread an array to non-variadic functions (functions with a fixed number of arguments), especially if you know that the length of that array will always be the same?</strong></p>\n\n<p>I haven't found an answer to this yet after various searches. Could use some help. Thanks.</p>\n\n<p><strong>Edit:</strong> Collections in Kotlin do have <code>component1(), component2()...</code> methods all the way upto <code>component5()</code> for the first 5 elements of the array/list. So this allows one to do a destructuring assignment: <code>val (a, b, c, d, e) = data</code>. And then you can pass them on to the function/constructor: <code>Entry(a, b, c, d, e)</code>.</p>\n\n<p><em>But this is only half a solution because you're limited to the first 5 elements and it's still more verbose than a simple spread operator.</em></p>\n"}, {"tags": ["java", "kotlin", "set", "guava", "hashset"], "answers": [{"comments": [{"owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 1, "creation_date": 1524030419, "post_id": 49891651, "comment_id": 86799551, "body": "Beautiful solution; works like a charm for both my version of the intersection function and for what you provided. Also good catch with the 1..data.size call. Follow up Q - is there any reason why the hashCode() override needs to be specified as an Int? When I run the code without specifying a type, it works the same."}, {"owner": {"reputation": 546, "user_id": 3462101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmwL2.jpg?s=128&g=1", "display_name": "RamV13", "link": "https://stackoverflow.com/users/3462101/ramv13"}, "reply_to_user": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 1, "creation_date": 1524108388, "post_id": 49891651, "comment_id": 86840117, "body": "You&#39;re right. There is no reason to specify the type since the function body is just an expression and the compiler can infer the type. Same goes for the <code>equals</code>. I&#39;ve updated the answer."}], "tags": [], "owner": {"reputation": 546, "user_id": 3462101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmwL2.jpg?s=128&g=1", "display_name": "RamV13", "link": "https://stackoverflow.com/users/3462101/ramv13"}, "is_accepted": true, "score": 3, "last_activity_date": 1526584467, "last_edit_date": 1526584467, "creation_date": 1524028506, "answer_id": 49891651, "question_id": 49891344, "link": "https://stackoverflow.com/questions/49891344/java-kotlin-finding-the-intersection-of-multiple-hashsets-by-class-id/49891651#49891651", "title": "Java/Kotlin: Finding the intersection of multiple HashSets by class ID", "body": "<p>If you add definitions for the <code>hashCode</code> and <code>equals</code> function in the <code>Protein</code> class as follows, then the <code>HashSet</code> will be able to appropriately check the intersection using the <code>id</code> field.</p>\n\n<pre><code>class Protein(val id: String, val score: Double, val molw: Double, val spc: Int) {\n  override fun hashCode() = id.hashCode()\n  override fun equals(other: Any?) = other?.let { id == (it as Protein).id } ?: false\n}\n</code></pre>\n\n<p>Also you probably want to change the range in your loop within the <code>intersection</code> function to be <code>1..(data.size-1)</code> instead of <code>1..data.size</code> to avoid going out of bounds. Alternatively you could write it functionally as follows:</p>\n\n<pre><code>fun intersection(data: ArrayList&lt;HashSet&lt;Protein&gt;&gt;): HashSet&lt;Protein&gt; {\n  return data.reduce { acc, it -&gt; acc.apply { retainAll(it) } }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 546, "user_id": 3462101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmwL2.jpg?s=128&g=1", "display_name": "RamV13", "link": "https://stackoverflow.com/users/3462101/ramv13"}, "edited": false, "score": 0, "creation_date": 1526584492, "post_id": 49976158, "comment_id": 87813697, "body": "Thanks! I completely missed that. I just updated the answer."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1524470685, "creation_date": 1524470685, "answer_id": 49976158, "question_id": 49891344, "link": "https://stackoverflow.com/questions/49891344/java-kotlin-finding-the-intersection-of-multiple-hashsets-by-class-id/49976158#49976158", "title": "Java/Kotlin: Finding the intersection of multiple HashSets by class ID", "body": "<p>To simplify the given answer, you can use <code>apply</code>:</p>\n\n<pre><code>return data.reduce { acc, it -&gt; acc.apply { retainAll(it) } }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 9727674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FXhdC.jpg?s=128&g=1", "display_name": "Moritz Gro&#223;", "link": "https://stackoverflow.com/users/9727674/moritz-gro%c3%9f"}, "is_accepted": false, "score": 1, "last_activity_date": 1592940958, "creation_date": 1592940958, "answer_id": 62542470, "question_id": 49891344, "link": "https://stackoverflow.com/questions/49891344/java-kotlin-finding-the-intersection-of-multiple-hashsets-by-class-id/62542470#62542470", "title": "Java/Kotlin: Finding the intersection of multiple HashSets by class ID", "body": "<p>Note that if you dont want to be dependent on the input to be a Hashset, you can do the following:</p>\n<pre><code>fun &lt;T&gt; multiIntersect(data: Collection&lt;Set&lt;T&gt;&gt;) = \n    HashSet(data.minBy { it.size }!!).apply {  data.forEach { retainAll(it) } }\n</code></pre>\n<p>By starting off with the smallest set, you can potentially save a lot of runtime, because retrieving the size of a set can be done in constant time, as its saved in a field of the object.</p>\n"}], "owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2057, "favorite_count": 0, "accepted_answer_id": 49891651, "answer_count": 3, "score": 1, "last_activity_date": 1592940958, "creation_date": 1524026707, "question_id": 49891344, "link": "https://stackoverflow.com/questions/49891344/java-kotlin-finding-the-intersection-of-multiple-hashsets-by-class-id", "title": "Java/Kotlin: Finding the intersection of multiple HashSets by class ID", "body": "<p>I'm having trouble finding the intersection of an Array of Hashed Sets that contain a data Class (where I want to intersect by identifier):</p>\n\n<pre><code>class Protein(val id: String, val score: Double, val molw: Double, val spc: Int)\n</code></pre>\n\n<p>I've pulled in some data from a .csv file into this type of structure:</p>\n\n<pre><code>ArrayList&lt;HashSet&lt;Protein&gt;&gt;\n</code></pre>\n\n<p>So I have six array lists [1 for each csv], each containing one hashed set that contains thousands of Protein structures. Here's what I've tried so far to get an intersection HashSet based off of common Protein.id:</p>\n\n<pre><code>fun intersection(data: ArrayList&lt;HashSet&lt;Protein&gt;&gt;): HashSet&lt;Protein&gt; {\n\nval intersectionSet = HashSet&lt;Protein&gt;(data[0])\n\nfor (i in 1..data.size) {\n    intersectionSet.retainAll(data[i])\n}\nreturn intersectionSet\n}\n</code></pre>\n\n<p>This returns an empty list, which makes sense given that it's trying to intersect Protein objects and match each criteria as a whole.</p>\n\n<p>How do I call data[i].id as my intersection criteria? I'm fairly new to Kotlin and data classes :)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1524009103, "post_id": 49889015, "comment_id": 86794263, "body": "Have you tried anything?"}], "answers": [{"tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1524009548, "creation_date": 1524009548, "answer_id": 49889148, "question_id": 49889015, "link": "https://stackoverflow.com/questions/49889015/calling-fun-inside-constructor-in-kotlin/49889148#49889148", "title": "Calling fun inside constructor in kotlin", "body": "<p>In Kotlin, you use an <code>init</code> block, or a secondary constructor.</p>\n\n<pre><code>class ExampleOne(val myProperty: Int) {\n    init {\n        // insert code here\n    }\n}\n\nclass ExampleTwo {\n    constructor(myParameter: Int) {\n        // insert code here\n    }\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 489, "user_id": 6541004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kERXf.jpg?s=128&g=1", "display_name": "Swati", "link": "https://stackoverflow.com/users/6541004/swati"}, "is_accepted": true, "score": 0, "last_activity_date": 1524010426, "creation_date": 1524010426, "answer_id": 49889228, "question_id": 49889015, "link": "https://stackoverflow.com/questions/49889015/calling-fun-inside-constructor-in-kotlin/49889228#49889228", "title": "Calling fun inside constructor in kotlin", "body": "<p>Using IntelliJ IDE's <strong>Convert Java file to Kotlin file</strong> feature, here is corresponding kotlin file.</p>\n\n<p>test.kt:</p>\n\n<pre><code>internal class A(var x: Int, var y: Int)\n\ninternal class B(a: Int, b: Int) : A(x, getSum(x, y)) {\n    var x: Int = 0\n    var y: Int = 0\n    fun getSum(x: Int, y: Int): Int {\n        return x + y\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1524032444, "creation_date": 1524032444, "answer_id": 49892519, "question_id": 49889015, "link": "https://stackoverflow.com/questions/49889015/calling-fun-inside-constructor-in-kotlin/49892519#49892519", "title": "Calling fun inside constructor in kotlin", "body": "<p>This is no valid Java code since you cannot call <code>getSum</code> before <code>super</code> has been called in <code>super(x,getSum(x,y));</code>. This won't compile.</p>\n\n<p>The easiest way to provide that behaviour in Kotlin, looks like this:</p>\n\n<pre><code>open class A(val a: Int, val b: Int)\n\nclass B(a: Int, b: Int) : A(a, a + b)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5263399, "user_type": "registered", "profile_image": "https://graph.facebook.com/1063705300307044/picture?type=large", "display_name": "Safwat Nassef", "link": "https://stackoverflow.com/users/5263399/safwat-nassef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 49889228, "answer_count": 3, "score": -1, "last_activity_date": 1524032444, "creation_date": 1524008336, "question_id": 49889015, "link": "https://stackoverflow.com/questions/49889015/calling-fun-inside-constructor-in-kotlin", "title": "Calling fun inside constructor in kotlin", "body": "<p>hi guys i'm new in Koltin , in java we can do that </p>\n\n<pre><code>class A{\n   int x;\n   int y;\n   A(int x, int y){\n    this.x=x;\n     this.y=y\n   }\n}\n\nclass B extends A{  \n    int x,y;   \n    B(int a, int b){\n        super(x,getSum(x,y));\n     }\n   int getSum(int x, int y){\n       return x+y;\n    }\n}\n</code></pre>\n\n<p>how can i do this code in Kotlin ,thank's for help</p>\n"}, {"tags": ["android", "kotlin", "build-error"], "comments": [{"owner": {"reputation": 673, "user_id": 4417436, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/cD633.jpg?s=128&g=1", "display_name": "jelic98", "link": "https://stackoverflow.com/users/4417436/jelic98"}, "edited": false, "score": 0, "creation_date": 1523999233, "post_id": 49887021, "comment_id": 86790962, "body": "Firstly, check your android dependencies in module level build.gradle. Have you updated build tools? Which build tools version do you have installed and which is declared in <code>android</code> block in build.gradle?"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1523999299, "post_id": 49887021, "comment_id": 86790987, "body": "Open the mentioned files in Android Studio follow the red underlines. Are you extending AppCompatActivity? Did you forget to add dependency on support library?"}, {"owner": {"reputation": 419, "user_id": 4846995, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/433826722089443ecd2c34a3421d9cc8?s=128&d=identicon&r=PG&f=1", "display_name": "iamthevoid", "link": "https://stackoverflow.com/users/4846995/iamthevoid"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1523999451, "post_id": 49887021, "comment_id": 86791054, "body": "@EugenPechanec all dependencies in project, activity is AppCompatActivity. Fun fact is the all this code works before i&#39;ve updated gradle file, but when i tried to downgrade all - errors are not gone"}, {"owner": {"reputation": 419, "user_id": 4846995, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/433826722089443ecd2c34a3421d9cc8?s=128&d=identicon&r=PG&f=1", "display_name": "iamthevoid", "link": "https://stackoverflow.com/users/4846995/iamthevoid"}, "reply_to_user": {"reputation": 673, "user_id": 4417436, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/cD633.jpg?s=128&g=1", "display_name": "jelic98", "link": "https://stackoverflow.com/users/4417436/jelic98"}, "edited": false, "score": 0, "creation_date": 1523999589, "post_id": 49887021, "comment_id": 86791119, "body": "@jelic98 I&#39;ve added &#39;android&#39; block in my Q. As you can see - build tools, sdk versions and other are the newest"}, {"owner": {"reputation": 12843, "user_id": 1565984, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b255e2ff72c208dd049995ff1c00aeec?s=128&d=identicon&r=PG", "display_name": "kandroidj", "link": "https://stackoverflow.com/users/1565984/kandroidj"}, "edited": false, "score": 0, "creation_date": 1523999726, "post_id": 49887021, "comment_id": 86791178, "body": "where is the support library dependency?"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1524000248, "post_id": 49887021, "comment_id": 86791377, "body": "@iamthevoid You should have mentioned that in the question. Why don&#39;t you start with <i>exactly</i> what you changed - state before and after - and we can move from there. This is 99% not related to Kotlin at all. Your BaseActivity cannot resolve a method of Activity because it extends <i>some class</i> (as far as its concerned). We know it extends AppCompatActivity/FragmentActivity but BaseActivity knows nothing. Its parent is not found on classpath."}, {"owner": {"reputation": 419, "user_id": 4846995, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/433826722089443ecd2c34a3421d9cc8?s=128&d=identicon&r=PG&f=1", "display_name": "iamthevoid", "link": "https://stackoverflow.com/users/4846995/iamthevoid"}, "edited": false, "score": 0, "creation_date": 1524000377, "post_id": 49887021, "comment_id": 86791431, "body": "Thanks a lot for help and spent time. I&#39;ve found the solution. Described in question"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1524003116, "post_id": 49887021, "comment_id": 86792556, "body": "@iamthevoid If you found a solution post it as an answer. You can answer your own questions. So the question doesn&#39;t show as unanswered."}], "answers": [{"tags": [], "owner": {"reputation": 419, "user_id": 4846995, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/433826722089443ecd2c34a3421d9cc8?s=128&d=identicon&r=PG&f=1", "display_name": "iamthevoid", "link": "https://stackoverflow.com/users/4846995/iamthevoid"}, "is_accepted": false, "score": 1, "last_activity_date": 1524028824, "creation_date": 1524028824, "answer_id": 49891717, "question_id": 49887021, "link": "https://stackoverflow.com/questions/49887021/kotlin-unresolved-reference/49891717#49891717", "title": "Kotlin unresolved reference", "body": "<p>I've found problem! \nThere was dependency, which is break the build. In my case it was the</p>\n\n<pre><code>implementation group: 'com.h2database', name: 'h2', version: '1.3.148'\n</code></pre>\n\n<p>I've added this for testing Exposed, but i did that at the same time when i updated the build.gradle file. </p>\n\n<p>If you got same erros you can also check your dependencies. Probably one of them break the build.</p>\n"}], "owner": {"reputation": 419, "user_id": 4846995, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/433826722089443ecd2c34a3421d9cc8?s=128&d=identicon&r=PG&f=1", "display_name": "iamthevoid", "link": "https://stackoverflow.com/users/4846995/iamthevoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7240, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1524028824, "creation_date": 1523997152, "last_edit_date": 1524028769, "question_id": 49887021, "link": "https://stackoverflow.com/questions/49887021/kotlin-unresolved-reference", "title": "Kotlin unresolved reference", "body": "<p>At first - I've been googling to much and use all, what I am found.</p>\n\n<p>My project level build.gradle contains this</p>\n\n<p>at root of file</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = \"1.2.31\"\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        .....\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        .....\n    }\n}\n</code></pre>\n\n<p>My module level build.gradle contains this</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 27\n\n    buildToolsVersion \"27.0.3\"\n    defaultConfig {\n        applicationId \"iam.thevoid.sudoku\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        externalNativeBuild {\n            cmake {\n                cppFlags \"\"\n            }\n        }\n        vectorDrawables.useSupportLibrary = true\n    }\n\n    externalNativeBuild {\n        cmake {\n            path \"CMakeLists.txt\"\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n}\n\n\ndependencies {\n    ..........\n    // kotlin\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    .........\n}\n</code></pre>\n\n<p>but i still continue getting the errors during the build</p>\n\n<pre><code>e: \\pages\\BaseActivity.kt: (16, 9): Unresolved reference: window\ne: \\pages\\GameActivity.kt: (37, 21): Unresolved reference: startActivity\ne: \\pages\\MenuActivity.kt: (30, 21): Unresolved reference: startActivity\ne: \\util\\FileUtil.kt: (19, 31): Unresolved reference: assets\ne: \\util\\FileUtil.kt: (21, 51): Unresolved reference: it\ne: \\viewmodel\\MenuViewModel.kt: (42, 70): Unresolved reference: finish\n</code></pre>\n\n<p>As you can see - there are simple references, as 'startActivity' or 'finish'. Why does kotlin can not resolve it?</p>\n\n<p>I started get these errors when I've updated something i did not remember. Maybe it was a kotlin plugin version, may be there was an gradle or gradle plugin, but i try downgrade this plugins and not return project in working version. </p>\n\n<p>Can you help?</p>\n"}, {"tags": ["spring", "kotlin", "range", "reactive-programming"], "answers": [{"comments": [{"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1524000043, "post_id": 49886991, "comment_id": 86791306, "body": "You can also just use a <code>List</code> and substitute <code>Flux.just()</code> with <code>Flux.fromIterable()</code>."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1523997048, "creation_date": 1523997048, "answer_id": 49886991, "question_id": 49886893, "link": "https://stackoverflow.com/questions/49886893/use-arraystring-in-a-flux/49886991#49886991", "title": "Use Array&lt;String&gt; in a Flux", "body": "<p>The problem is that <code>arrayOf(\"A\"..\"Z\")</code> will give an <code>Array&lt;ClosedRange&lt;String&gt;&gt;</code>, i.e. the array has one element of type <code>ClosedRange</code>. What you actually wanted to have is an <code>Array&lt;String&gt;</code> with elements <code>A, B, C, ..., Z</code> I guess? Unfortunately, the range operator doesn't work like this for <code>Strings</code>, explained <a href=\"https://stackoverflow.com/a/49023846/8073652\">here</a>.</p>\n\n<p>Instead, create that array by mapping a <code>CharRange</code> accordingly:</p>\n\n<pre><code>val alphabet = ('A'..'Z').map(Char::toString).toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 2019, "user_id": 7227475, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a18ae707e89cdc9ffc6cbbd66303ea99?s=128&d=identicon&r=PG&f=1", "display_name": "ohwelppp", "link": "https://stackoverflow.com/users/7227475/ohwelppp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 49886991, "answer_count": 1, "score": 0, "last_activity_date": 1524115905, "creation_date": 1523996717, "last_edit_date": 1524115905, "question_id": 49886893, "link": "https://stackoverflow.com/questions/49886893/use-arraystring-in-a-flux", "title": "Use Array&lt;String&gt; in a Flux", "body": "<p>Could you guys help me out with using Array and stream (?) over it to use single element (String) to save Movie to db and return FLux. Spring specific stuff isn't important - just the way to iterate over alphabet and create random Movies. What's the best and most-kotlinish way of doing this? </p>\n\n<pre><code>    val alphabet = arrayOf(\"A\"..\"Z\")\n    val exampleMovies: Flux&lt;Movie&gt; = Flux.just(alphabet)\n            .flatMap { movieRepository.save(Movie(name = it)) }\n</code></pre>\n\n<p>I'm getting compilation error:</p>\n\n<pre><code>Error:(15, 62) Kotlin: Type mismatch: inferred type is Array&lt;ClosedRange&lt;String&gt;&gt;! but String? was expected\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 1746, "user_id": 1083697, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/38016b5caf736ce69755c8abcf2d2cdf?s=128&d=identicon&r=PG", "display_name": "andrybak", "link": "https://stackoverflow.com/users/1083697/andrybak"}, "edited": false, "score": 1, "creation_date": 1523998703, "post_id": 49886233, "comment_id": 86790747, "body": "Seems like something better to be addressed to the Jetbrains&#39; bug tracker: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>"}, {"owner": {"reputation": 3085, "user_id": 1546042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HKpkC.jpg?s=128&g=1", "display_name": "Pim Hazebroek", "link": "https://stackoverflow.com/users/1546042/pim-hazebroek"}, "edited": false, "score": 0, "creation_date": 1524027580, "post_id": 49886233, "comment_id": 86798522, "body": "In addition: check the file type association. IntelliJ won&#39;t recognise language features if it&#39;s not associated with that particular language."}], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523994402, "creation_date": 1523993995, "last_edit_date": 1592644375, "question_id": 49886233, "link": "https://stackoverflow.com/questions/49886233/prefix-and-suffix-for-parameters-using-intellij", "title": "Prefix and suffix for parameters using IntelliJ", "body": "<h1>Problem</h1>\n<p>I am trying to get CSS colours highlighted and suggested as if I was editing a CSS file in IntelliJ IDEA.</p>\n<pre><code>import org.intellij.lang.annotations.Language\n\nfun x() {\n    c(&quot;red&quot;)\n}\n\nfun c(\n    @Language(\n            value  = &quot;CSS&quot;,\n            prefix = &quot;*{background:&quot;,\n            suffix = &quot;}&quot;)\n    text: String): String = text\n</code></pre>\n<p>if I manually add the suffix and prefix like this:</p>\n<pre><code>c(&quot;*{background: red}&quot;)\n</code></pre>\n<p>then I get the expected highlighting and suggestions.</p>\n<h1>Expected Outcome</h1>\n<p>I expect the parameter to be treated as it had the prefix before it and the suffix after it, as <a href=\"https://www.jetbrains.com/help/idea/using-language-injections.html#injection_prefix_and_suffix\" rel=\"nofollow noreferrer\">the docs</a> suggest.</p>\n<h1>Actual Outcome</h1>\n<p>The prefix and suffix appear to be ignored</p>\n<h1>IDEA version</h1>\n<p>2018.1.1 EAP (Ultimate Edition)</p>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 5927, "user_id": 2048417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9UoI4.jpg?s=128&g=1", "display_name": "pwolaq", "link": "https://stackoverflow.com/users/2048417/pwolaq"}, "edited": false, "score": 0, "creation_date": 1523991869, "post_id": 49885665, "comment_id": 86787380, "body": "what have you tried so far?"}, {"owner": {"reputation": 368279, "user_id": 1288, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc763c6ff6c160ddad05741e87e517b6?s=128&d=identicon&r=PG", "display_name": "Bill the Lizard", "link": "https://stackoverflow.com/users/1288/bill-the-lizard"}, "edited": false, "score": 1, "creation_date": 1523991945, "post_id": 49885665, "comment_id": 86787416, "body": "Please post your own attempt at a solution when posting homework questions to Stack Overflow. People are happy to help you when you&#39;re stuck, but nobody wants to do it for you."}, {"owner": {"reputation": 71, "user_id": 7725254, "user_type": "registered", "profile_image": "https://graph.facebook.com/414432072282544/picture?type=large", "display_name": "AbdElrahman Usama", "link": "https://stackoverflow.com/users/7725254/abdelrahman-usama"}, "edited": false, "score": 0, "creation_date": 1523992423, "post_id": 49885665, "comment_id": 86787677, "body": "package sum  fun sum(a: IntArray): Int {              for (i in 0..a.index){                  sum = i + i                  }          return sum  }"}, {"owner": {"reputation": 71, "user_id": 7725254, "user_type": "registered", "profile_image": "https://graph.facebook.com/414432072282544/picture?type=large", "display_name": "AbdElrahman Usama", "link": "https://stackoverflow.com/users/7725254/abdelrahman-usama"}, "edited": false, "score": 0, "creation_date": 1523992465, "post_id": 49885665, "comment_id": 86787693, "body": "this is not homework it from kotlin website and this is the link for that   <a href=\"https://try.kotlinlang.org/#/Examples/Problems/Sum/Sum.kt\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/Examples/Problems/Sum/Sum.kt</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1524047716, "post_id": 49885665, "comment_id": 86810268, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 3, "last_activity_date": 1523993175, "creation_date": 1523993175, "answer_id": 49886024, "question_id": 49885665, "link": "https://stackoverflow.com/questions/49885665/how-can-sum-the-elements-in-array-in-kotlin-language/49886024#49886024", "title": "How can sum the elements in array in kotlin language?", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum.html\" rel=\"nofollow noreferrer\"><code>sum</code></a> directly:</p>\n\n<pre><code>val sum = arrayOf(12, 33).sum()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 7725254, "user_type": "registered", "profile_image": "https://graph.facebook.com/414432072282544/picture?type=large", "display_name": "AbdElrahman Usama", "link": "https://stackoverflow.com/users/7725254/abdelrahman-usama"}, "edited": false, "score": 1, "creation_date": 1523997171, "post_id": 49886026, "comment_id": 86790078, "body": "you are my hero i know it is easy but  i am begineer with kotlin and review with u and stack overflow team :)"}, {"owner": {"reputation": 889, "user_id": 6095474, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5578732beb60da5bc5315baa20b7a440?s=128&d=identicon&r=PG&f=1", "display_name": "Vermillion", "link": "https://stackoverflow.com/users/6095474/vermillion"}, "edited": false, "score": 0, "creation_date": 1592868880, "post_id": 49886026, "comment_id": 110573847, "body": "Suggested edit for future readers - shouldn&#39;t the function <code>sumArray</code> use the <code>array</code> argument, rather than <code>numbers</code>?"}], "tags": [], "owner": {"reputation": 136, "user_id": 9660470, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/9660470/christopher"}, "is_accepted": false, "score": 11, "last_activity_date": 1598331357, "last_edit_date": 1598331357, "creation_date": 1523993181, "answer_id": 49886026, "question_id": 49885665, "link": "https://stackoverflow.com/questions/49885665/how-can-sum-the-elements-in-array-in-kotlin-language/49886026#49886026", "title": "How can sum the elements in array in kotlin language?", "body": "<p>There's a built in function to sum an IntArray in Kotlin</p>\n<pre><code>val numbers: IntArray = intArrayOf(10, 20, 30, 40, 50)\nval sum = numbers.sum()\n</code></pre>\n<p>Or to do it yourself...</p>\n<pre><code>fun sumArray(array: IntArray): Int{\n    var sum = 0\n    for(number in array){\n        sum += number\n    }\n    return sum\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15395, "user_id": 17339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1ed8a9e71adc2b356cfc4e020e0dd0f?s=128&d=identicon&r=PG", "display_name": "Drew Stephens", "link": "https://stackoverflow.com/users/17339/drew-stephens"}, "is_accepted": false, "score": 2, "last_activity_date": 1523993832, "creation_date": 1523993832, "answer_id": 49886197, "question_id": 49885665, "link": "https://stackoverflow.com/questions/49885665/how-can-sum-the-elements-in-array-in-kotlin-language/49886197#49886197", "title": "How can sum the elements in array in kotlin language?", "body": "<p>You could do it as a stream</p>\n\n<pre><code>val sum = arrayOf(7, 9).fold(0) { acc, e -&gt; acc + e }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 13405909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DrgdG.png?s=128&g=1", "display_name": "Iker Solozabal Granados", "link": "https://stackoverflow.com/users/13405909/iker-solozabal-granados"}, "is_accepted": false, "score": 0, "last_activity_date": 1617962529, "creation_date": 1617962529, "answer_id": 67019052, "question_id": 49885665, "link": "https://stackoverflow.com/questions/49885665/how-can-sum-the-elements-in-array-in-kotlin-language/67019052#67019052", "title": "How can sum the elements in array in kotlin language?", "body": "<pre><code>fun sum(numbers: IntArray) = numbers.sum()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7725254, "user_type": "registered", "profile_image": "https://graph.facebook.com/414432072282544/picture?type=large", "display_name": "AbdElrahman Usama", "link": "https://stackoverflow.com/users/7725254/abdelrahman-usama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5770, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1617962529, "creation_date": 1523991797, "last_edit_date": 1524047612, "question_id": 49885665, "link": "https://stackoverflow.com/questions/49885665/how-can-sum-the-elements-in-array-in-kotlin-language", "title": "How can sum the elements in array in kotlin language?", "body": "<pre><code>package sum\n\nfun sum(a: IntArray): Int {\n  return 0\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "coroutine", "android-espresso"], "comments": [{"owner": {"reputation": 2577, "user_id": 3451639, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fGkB6.jpg?s=128&g=1", "display_name": "Aleksander Mielczarek", "link": "https://stackoverflow.com/users/3451639/aleksander-mielczarek"}, "edited": false, "score": 0, "creation_date": 1524999205, "post_id": 49885365, "comment_id": 87187176, "body": "Maybe some IdlingResource is waiting for coroutine to finish?"}], "answers": [{"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 1, "last_activity_date": 1554996655, "creation_date": 1554996655, "answer_id": 55636170, "question_id": 49885365, "link": "https://stackoverflow.com/questions/49885365/android-instrumentation-blocked-in-coroutine/55636170#55636170", "title": "Android Instrumentation blocked in coroutine", "body": "<p>Generally speaking, you should not handle any logic inside your view (activity, fragment, etc..) and it should be done in a separate logic handler (like ViewModel, Presenter or ..).</p>\n\n<p>You can <code>spy</code> your activity using a framework (like Mockito, or MockK), and mock the <code>getData()</code> method to always return fast, this way your test-case does not need to wait for it.</p>\n\n<p>To spy your activity using mockito, you can use the information from <a href=\"https://stackoverflow.com/questions/35495226/how-to-properly-spy-on-an-activity\">this</a> answer, and use <code>when(activity.getData()).thenReturn(\"\")</code> to mock the method. Since you are mocking a coroutine, you need to use <code>runBlocking</code> to run your test.</p>\n\n<pre><code>class MainActivityTest {\n    internal var subject: MainActivity\n\n    val activityFactory: SingleActivityFactory&lt;MainActivity&gt; =\n        object : SingleActivityFactory&lt;MainActivity&gt;(MainActivity::class.java) {\n            protected fun create(intent: Intent): MainActivity {\n                subject = spy(getActivityClassToIntercept())\n                return subject\n            }\n        }\n\n    @Rule\n    var testRule: ActivityTestRule&lt;MainActivity&gt; = ActivityTestRule(activityFactory, true, true)\n\n    @Test\n    fun sampleTest() = runBlocking&lt;Unit&gt; {\n        `when`(subject.getData()).thenReturn(\"\")\n        //verify(subject).\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 443, "user_id": 554508, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/73701a0ca2e1d0ed915e98e9f93776dc?s=128&d=identicon&r=PG", "display_name": "Dre", "link": "https://stackoverflow.com/users/554508/dre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1554996655, "creation_date": 1523990659, "question_id": 49885365, "link": "https://stackoverflow.com/questions/49885365/android-instrumentation-blocked-in-coroutine", "title": "Android Instrumentation blocked in coroutine", "body": "<p>My Activity has an EditText and a Button. When the button is pressed a long running function is called. During this time the EditText should be disabled. When the function has finished the EditText should be reenabled. This works fine when running the application however I have written an Espresso Unit Test to test this behaviour which does not seem to behave correctly. </p>\n\n<p>It appears the long running function pauses the unit test which takes over 3 seconds to run. Once the long running function has finished, the unit test then tests if the EditText is disabled which it no longer is as the task has finished and the <code>loading</code> variable is set back to <code>false</code></p>\n\n<p>I would expect the unit test to start the function then, as it is ran in a coroutine, it would continue to the next line to check the EditText is disabled.</p>\n\n<p>I have tried all different variations of CommonPool, UI, launch, async, Deferred etc but nothing seems to get the correct behaviour.</p>\n\n<pre><code>suspend fun getData(): String {\n    // simulate network request delay\n    delay(3000)                       \n    return \"Hello, world!\"\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>fun onButtonClicked() {\n    // data binding field to disable EditText\n    loading = true \n\n    launch(CommonPool) {\n        // make \"network call\"\n        val data = getData().await()\n\n        // reenable EditText\n        loading = false\n    }\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>@Test\nfun disableEditText() {\n    // check the EditText starts off enabled\n    onView(withId(R.id.edit_text))\n            .check(matches(isEnabled()))\n\n    // click the Button to simulate the network call\n    onView(withId(R.id.button))\n            .perform(click())\n\n    // check the EditText is disabled\n    onView(withId(R.id.edit_text))\n            .check(matches(not(isEnabled()))\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-glide"], "answers": [{"tags": [], "owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "is_accepted": true, "score": 1, "last_activity_date": 1525188381, "last_edit_date": 1525188381, "creation_date": 1523981178, "answer_id": 49882792, "question_id": 49882791, "link": "https://stackoverflow.com/questions/49882791/loading-an-image-url-into-a-kotlin-appwidget-using-glide/49882792#49882792", "title": "Loading an image URL into a Kotlin AppWidget using Glide", "body": "<pre><code>class DeviceIntelWidget : AppWidgetProvider() {\n    override fun onUpdate(context: Context, appWidgetManager: AppWidgetManager?, \n    appWidgetIds: IntArray) {\n        ...\n        val remoteViews = RemoteViews(context.packageName, R.layout.widget)\n        val awt: AppWidgetTarget = object : AppWidgetTarget(context.applicationContext, R.id.img, remoteViews, *appWidgetIds) {\n            override fun onResourceReady(resource: Bitmap, transition: Transition&lt;in Bitmap&gt;?) {\n                super.onResourceReady(resource, transition)\n            }\n        };    \n        Glide.with(context.applicationContext).asBitmap().load(\"https://si.com/img.jpg\").into(awt)\n        ...\n    }\n}\n</code></pre>\n\n<p>Notes:</p>\n\n<ul>\n<li>AppWidgetTarget is used to display downloaded Bitmaps inside an ImageView of an AppWidget through RemoteViews</li>\n<li>Call load to load the bitmaps and do any post processing inside onResourceReady</li>\n<li>implementation <code>'com.github.bumptech.glide:glide:4.2.0'</code> force closes with <code>NoClassDefFoundError: android.support.v4.util.ArrayMap</code></li>\n<li>Updating to the latest: 4.7.1 fixes the problem</li>\n</ul>\n"}], "owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1624, "favorite_count": 0, "accepted_answer_id": 49882792, "answer_count": 1, "score": 1, "last_activity_date": 1553441918, "creation_date": 1523981178, "last_edit_date": 1553441918, "question_id": 49882791, "link": "https://stackoverflow.com/questions/49882791/loading-an-image-url-into-a-kotlin-appwidget-using-glide", "title": "Loading an image URL into a Kotlin AppWidget using Glide", "body": "<p>I scoured the internet looking for a sample of how to load a remote image in Kotlin. There are plenty of Kotlin examples using Glide with a normal ImageView, but there is nothing related to remote ImageViews within an AppWidget.</p>\n\n<p>The best resource at the moment is here, but it is in Java:\n<a href=\"https://futurestud.io/tutorials/glide-loading-images-innnto-notifications-and-appwidgets\" rel=\"nofollow noreferrer\">https://futurestud.io/tutorials/glide-loading-images-innnto-notifications-and-appwidgets</a></p>\n\n<p>I've added a Kotlin translation below...</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2778, "user_id": 6139031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012469378aeb9c6bbb7fc54c08fec6b4?s=128&d=identicon&r=PG", "display_name": "Rizwan Atta", "link": "https://stackoverflow.com/users/6139031/rizwan-atta"}, "edited": false, "score": 0, "creation_date": 1523978419, "post_id": 49881882, "comment_id": 86779622, "body": "well just put this 2nd intent in the onCreate method of Form Activity"}, {"owner": {"reputation": 2778, "user_id": 6139031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012469378aeb9c6bbb7fc54c08fec6b4?s=128&d=identicon&r=PG", "display_name": "Rizwan Atta", "link": "https://stackoverflow.com/users/6139031/rizwan-atta"}, "edited": false, "score": 0, "creation_date": 1523978503, "post_id": 49881882, "comment_id": 86779677, "body": "if you are trying to check that if your user is logged in already or not! probably you should read the concept on making sessions using preference storage"}, {"owner": {"reputation": 3110, "user_id": 4402462, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh3.googleusercontent.com/-_tLZ6wVqNwM/AAAAAAAAAAI/AAAAAAAABbQ/1vpw--DOl7A/photo.jpg?sz=128", "display_name": "Srikar Reddy", "link": "https://stackoverflow.com/users/4402462/srikar-reddy"}, "edited": false, "score": 0, "creation_date": 1523978745, "post_id": 49881882, "comment_id": 86779840, "body": "Then you need to start the form activity after the login is a success and not immediately."}], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1523978496, "post_id": 49881933, "comment_id": 86779672, "body": "This is the correct answer, but could be more helpful with a small example."}, {"owner": {"reputation": 658, "user_id": 5400757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gWIlk.png?s=128&g=1", "display_name": "Krzysztof Kubicki", "link": "https://stackoverflow.com/users/5400757/krzysztof-kubicki"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 1, "creation_date": 1523978600, "post_id": 49881933, "comment_id": 86779745, "body": "Added an example link."}], "tags": [], "owner": {"reputation": 658, "user_id": 5400757, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gWIlk.png?s=128&g=1", "display_name": "Krzysztof Kubicki", "link": "https://stackoverflow.com/users/5400757/krzysztof-kubicki"}, "is_accepted": false, "score": 1, "last_activity_date": 1523978560, "last_edit_date": 1523978560, "creation_date": 1523978445, "answer_id": 49881933, "question_id": 49881882, "link": "https://stackoverflow.com/questions/49881882/how-to-call-activity2-after-activity1-in-kotlin/49881933#49881933", "title": "How to call activity2 after activity1 in kotlin?", "body": "<p>You need to <code>startActivityForResult</code> . Read here : <a href=\"https://developer.android.com/training/basics/intents/result.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result.html</a></p>\n\n<p>A very good example can be found here: <a href=\"https://stackoverflow.com/questions/10407159/how-to-manage-startactivityforresult-on-android\">How to manage `startActivityForResult` on Android?</a></p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 9660470, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Christopher", "link": "https://stackoverflow.com/users/9660470/christopher"}, "is_accepted": true, "score": 1, "last_activity_date": 1523991821, "creation_date": 1523991821, "answer_id": 49885671, "question_id": 49881882, "link": "https://stackoverflow.com/questions/49881882/how-to-call-activity2-after-activity1-in-kotlin/49885671#49885671", "title": "How to call activity2 after activity1 in kotlin?", "body": "<p>You should use <code>startActivityForResult()</code>. Compared to <code>startActivity()</code>, <code>startActivityForResult</code> takes an additional integer argument as a request code which identifies your request to the activity. You'll also need to over-ride the <code>onActivityResult()</code> method to handle the called Activity finishing</p>\n\n<p>Example of starting an activity for a result:</p>\n\n<pre><code>static final int MY_REQUEST_CODE = 1;\n\npublic void foo(){\n    Intent someIntent = new Intent(YOUR_INTENT_HERE); \n    startActivityForResult(someIntent, MY_REQUEST_CODE);\n}\n</code></pre>\n\n<p>Handle the result</p>\n\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data){\n    if(requestCode == MY_REQUEST_CODE){\n        bar();\n    }\n}\n</code></pre>\n\n<p>You use the request code as well as the Intent called <code>data</code> to handle whatever data results from launching the other Activity</p>\n\n<p>In Kotlin: </p>\n\n<pre><code>companion object{\n    private const val MY_REQUEST_CODE = 1;\n}\n\nfun foo(){\n    val someIntent = Intent(YOUR_INTENT_HERE)\n    startActivityForResult(someIntent, MY_RESULT_CODE)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?){\n    if (requestCode == MY_REQUEST_CODE){\n        bar()\n    }\n}\n</code></pre>\n\n<p>For more info:\n<a href=\"https://developer.android.com/training/basics/intents/result.html#ReceiveResult\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/result.html#ReceiveResult</a></p>\n"}], "owner": {"reputation": 373, "user_id": 2092778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271848c4467a0c805077ce33ee7eea4a?s=128&d=identicon&r=PG", "display_name": "Karl", "link": "https://stackoverflow.com/users/2092778/karl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 49885671, "answer_count": 2, "score": -1, "last_activity_date": 1523991821, "creation_date": 1523978281, "question_id": 49881882, "link": "https://stackoverflow.com/questions/49881882/how-to-call-activity2-after-activity1-in-kotlin", "title": "How to call activity2 after activity1 in kotlin?", "body": "<p>I want to execute the login_activity first, then the form_activity like this.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    // Check Login\n    val intent = Intent(this, LoginActivity::class.java)\n    startActivity(intent)\n\n    // After login, call FormActivity\n    val intent2 = Intent(this, FormActivity::class.java)\n    startActivity(intent2)\n\n}\n</code></pre>\n\n<p>My problem is that if I run this, the app directly opens FormActivity, however, if I comment out the call to FormActivity, then the LoginActivity opens successfully. </p>\n\n<p>What I need is to open the FormActivity <em>only</em> after the LoginActivity returns successfully.</p>\n"}, {"tags": ["android", "kotlin", "lint", "gradlew"], "comments": [{"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1523977464, "post_id": 49881259, "comment_id": 86778935, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35590455/kotlin-and-android-lint-checks\">Kotlin and android lint checks</a>"}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 1, "creation_date": 1523977503, "post_id": 49881259, "comment_id": 86778955, "body": "The answer is, Kotlin checks are not part of the lint plugin yet, but they are building it in. The answer is in the above linked question."}, {"owner": {"reputation": 1781, "user_id": 1166931, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c72c22f265e0045b02ffbb70179934af?s=128&d=identicon&r=PG", "display_name": "just ME", "link": "https://stackoverflow.com/users/1166931/just-me"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1523977803, "post_id": 49881259, "comment_id": 86779182, "body": "I see. Thx, If it&#39;s build in Android Studio 3.1...how can I run from command line the Analyze-&gt;Inspect Code in order to see the warnings/erros results from class.kt ?"}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1523977909, "post_id": 49881259, "comment_id": 86779252, "body": "I don&#39;t know which to recommend, but do a quick search for a kotlin gradle lint plugin. There are a few options out there. That will add a kotlin lint step to your builds."}, {"owner": {"reputation": 1781, "user_id": 1166931, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c72c22f265e0045b02ffbb70179934af?s=128&d=identicon&r=PG", "display_name": "just ME", "link": "https://stackoverflow.com/users/1166931/just-me"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1523977987, "post_id": 49881259, "comment_id": 86779309, "body": "but Analyze-&gt;Inspect Code  isn&#39;t running inspect.sh? did you try to use this from cmd line"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 1, "last_activity_date": 1524033248, "creation_date": 1524033248, "answer_id": 49892726, "question_id": 49881259, "link": "https://stackoverflow.com/questions/49881259/android-kotlin-lint-no-warning-results/49892726#49892726", "title": "Android Kotlin lint no warning results", "body": "<p>There are two distinct sets of code checks: Android-specific lint checks built by Google, and general Kotlin code inspections built by JetBrains. </p>\n\n<p>Analyze | Inspect Code shows you the results of running both sets of checks: the code inspections are \"native\" to IntelliJ IDEA, and the Android lint checks have been integrated into IntelliJ IDEA by the Android tools team.</p>\n\n<p>Running <code>./gradlew lint</code> runs <em>only</em> the Android-specific lint checks. They did add the possibility to handle Kotlin code to these checks in recent versions of Android Studio, but they still check only for Android-specific issues, not general problems with Kotlin code.</p>\n\n<p>If you want to run IntelliJ IDEA's checks from the command line, you can either use <code>inspect.sh</code> as described in <a href=\"https://www.jetbrains.com/help/idea/running-inspections-offline.html\" rel=\"nofollow noreferrer\">IntelliJ IDEA documentation</a>, or you can use the experimental <a href=\"https://github.com/mglukhikh/inspection-plugin\" rel=\"nofollow noreferrer\">Gradle plugin for running IntelliJ IDEA inspections</a> that JetBrains is working on. Note that the plugin will not run as part of <code>./gradlew lint</code>; you'll need to run a separate Gradle task to run its inspections.</p>\n"}], "owner": {"reputation": 1781, "user_id": 1166931, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c72c22f265e0045b02ffbb70179934af?s=128&d=identicon&r=PG", "display_name": "just ME", "link": "https://stackoverflow.com/users/1166931/just-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524033248, "creation_date": 1523976598, "question_id": 49881259, "link": "https://stackoverflow.com/questions/49881259/android-kotlin-lint-no-warning-results", "title": "Android Kotlin lint no warning results", "body": "<p>I have a class written in kotlin.\nWhen I right click on the class.kt and press the Analyze->Inspect Code, I do get the kotlin warnings.</p>\n\n<p>If I run from the command line ./gradlew lint, I don t see the class.kt warnings. I do see other warnings, but no Kotlin warnings\nIs there anything I m missing from the command line?</p>\n\n<p>I am using Android Sudio 3.1</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 1501, "user_id": 2474498, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B11Sd.jpg?s=128&g=1", "display_name": "GDanger", "link": "https://stackoverflow.com/users/2474498/gdanger"}, "is_accepted": false, "score": 0, "last_activity_date": 1587744993, "creation_date": 1587744993, "answer_id": 61412792, "question_id": 49880262, "link": "https://stackoverflow.com/questions/49880262/using-anko-layouts-in-fragments/61412792#61412792", "title": "Using Anko Layouts in Fragments", "body": "<p>The direct answer to your question is to expose the values you're interested in as properties.</p>\n\n<p>However, what I recommend doing is to use a <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">ViewModel</a> so your fragment isn't talking directly to your views. The fragments role is to bind the ViewModel to the views.</p>\n"}], "owner": {"reputation": 2836, "user_id": 2371515, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5b5b5540812ba79a71d52e267f59819?s=128&d=identicon&r=PG", "display_name": "Alex Kombo", "link": "https://stackoverflow.com/users/2371515/alex-kombo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1587744993, "creation_date": 1523973862, "question_id": 49880262, "link": "https://stackoverflow.com/questions/49880262/using-anko-layouts-in-fragments", "title": "Using Anko Layouts in Fragments", "body": "<p>I have created the following layout:</p>\n\n<pre><code>class ExploreUI&lt;T&gt; : AnkoComponent&lt;T&gt; {\n\n    override fun createView(ui: AnkoContext&lt;T&gt;): View {\n\n        return with(ui) {\n            frameLayout {\n                val loadingIndicator = include&lt;View&gt;(R.layout.loading_indicator)\n\n                val content = nestedScrollView {\n                    isFillViewport = true\n                    visibility = View.GONE\n\n                    verticalLayout {\n\n                        /** New Releases */\n                        themedTextView(R.string.new_releases, theme = R.style.DarkThemeHeaderText) {\n                            id = R.id.releasesHeader\n                        }.lparams {\n                            padding = dip(10)\n                        }.apply {\n\n                        }\n\n                        val releasesRecycler = recyclerView {\n                        }.lparams(width = matchParent, height = wrapContent)\n\n                        include&lt;View&gt;(R.layout.show_more)\n\n                        /** Recommended playlists */\n                        themedTextView(R.string.recommended_playlists, theme = R.style.DarkThemeHeaderText) {\n                            id = R.id.releasesHeader\n                        }.lparams {\n                            padding = dip(10)\n                        }.apply {\n\n                        }\n\n                        val playlistsRecycler = recyclerView {\n                        }.lparams(width = matchParent, height = wrapContent)\n\n                        include&lt;View&gt;(R.layout.show_more)\n\n                        /** Recently played */\n                        themedTextView(R.string.recently_played, theme = R.style.DarkThemeHeaderText) {\n                            id = R.id.releasesHeader\n                        }.lparams {\n                            padding = dip(10)\n                        }.apply {\n\n                        }\n\n                        val recentsRecycler = recyclerView {\n                        }.lparams(width = matchParent, height = wrapContent)\n\n                        include&lt;View&gt;(R.layout.show_more)\n\n                        /** Popular artists */\n                        themedTextView(R.string.popular_artists, theme = R.style.DarkThemeHeaderText) {\n                            id = R.id.releasesHeader\n                        }.lparams {\n                            padding = dip(10)\n                        }.apply {\n\n                        }\n\n                        val artistsRecycler = recyclerView {\n                        }.lparams(width = matchParent, height = wrapContent)\n\n                        include&lt;View&gt;(R.layout.show_more)\n\n                        /** Recommended tracks */\n                        themedTextView(R.string.most_recommeneded, theme = R.style.DarkThemeHeaderText) {\n                            id = R.id.releasesHeader\n                        }.lparams {\n                            padding = dip(10)\n                        }.apply {\n\n                        }\n\n                        val recommendedTracksRecycler = recyclerView {\n                        }.lparams(width = matchParent, height = wrapContent)\n\n                        include&lt;View&gt;(R.layout.show_more)\n\n                        /** All time hits */\n                        themedTextView(R.string.based_on_your_listening, theme = R.style.DarkThemeHeaderText) {\n                            id = R.id.releasesHeader\n                        }.lparams {\n                            padding = dip(10)\n                        }.apply {\n\n                        }\n\n                        val hitsRecycler = recyclerView {\n                        }.lparams(width = matchParent, height = wrapContent)\n\n                        include&lt;View&gt;(R.layout.show_more)\n                    }\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>I then inflate the layout on <code>onCreateView</code> as follows:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? =\n            ExploreUI().createView(AnkoContext.Companion.create(activity as AppCompatActivity, this))\n</code></pre>\n\n<p>The problem I have is accessing the components defined in my UI class. How do I reference them from my Fragment?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "edited": false, "score": 0, "creation_date": 1523973864, "post_id": 49880209, "comment_id": 86776136, "body": "Hello, i&#39;m not sure i understood properly. MyDataObj is something like ImageButton if i want to detect when i click on a imageButton ?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1523973887, "post_id": 49880209, "comment_id": 86776156, "body": "He says you should add an <code>item click listener</code> to your listview"}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "reply_to_user": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "edited": false, "score": 0, "creation_date": 1523973957, "post_id": 49880209, "comment_id": 86776207, "body": "@NicolasFelten MyDataObj should be your activity_session"}, {"owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "edited": false, "score": 0, "creation_date": 1523974449, "post_id": 49880209, "comment_id": 86776610, "body": "hi again, so i changed my function and added the lv.setOnItemClickListener in my function fun createActivies(), and i tried to display something in the console using Log.d() but nothing appear.. here&#39;s a screen : <a href=\"https://imgur.com/a/Ir93K\" rel=\"nofollow noreferrer\">imgur.com/a/Ir93K</a>"}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "edited": false, "score": 0, "creation_date": 1523974610, "post_id": 49880209, "comment_id": 86776733, "body": "dynamicList it&#180;s a ListView object? Also, your &quot;xml file representing the listview&quot; you mean representing the row?"}, {"owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "edited": false, "score": 0, "creation_date": 1523974725, "post_id": 49880209, "comment_id": 86776823, "body": "yes, dynamicList is a Listview object. and the xml file represent 1 object in the listview."}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "edited": false, "score": 0, "creation_date": 1523974849, "post_id": 49880209, "comment_id": 86776912, "body": "Are the activity_sessions listing or is the list empty?"}, {"owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "edited": false, "score": 0, "creation_date": 1523975008, "post_id": 49880209, "comment_id": 86777039, "body": "The activity_session is not empty, i&#39;m creating items in the listview based on what is in the listview so i&#39;m sure it&#39;s not empty. here&#39;s a screen of my listview created on my app : <a href=\"https://imgur.com/a/Q8krF\" rel=\"nofollow noreferrer\">imgur.com/a/Q8krF</a>"}, {"owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "edited": false, "score": 0, "creation_date": 1523975514, "post_id": 49880209, "comment_id": 86777447, "body": "Take a look at this repository I have writen in Kotlin. I&#180;ve just tested it and adapter item clicks works fine. In this repository CustomPojo should be your activity_sessions object. On MainActivity you have the listener and the adapter inside the adapter folder. <a href=\"https://github.com/irontec/android-kotlin-samples/tree/master/listview-baseadapter-data-object\" rel=\"nofollow noreferrer\">github.com/irontec/android-kotlin-samples/tree/master/&hellip;</a>"}, {"owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "edited": false, "score": 0, "creation_date": 1524039083, "post_id": 49880209, "comment_id": 86804271, "body": "Hello @axierjhtjz, thanks you it helped me a lot, i added a method setOnClicklistener on my imagebutton in my CalAdapter.kt class and it worked :)"}], "tags": [], "owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "is_accepted": true, "score": 0, "last_activity_date": 1523973688, "creation_date": 1523973688, "answer_id": 49880209, "question_id": 49880030, "link": "https://stackoverflow.com/questions/49880030/setonclicklistener-in-a-listview-with-a-customadapter/49880209#49880209", "title": "setOnclicklistener in a listview with a customadapter", "body": "<p>On your activity you should add a listener to the listview.</p>\n\n<pre><code> list.setOnItemClickListener { parent, view, position, id -&gt;\n     val myItem = parent.getItemAtPosition(position) as MyDataObj\n }\n</code></pre>\n\n<p>You should also have the getItem() method filled correctly on your adapter as you do.</p>\n\n<p>Try it!</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 45, "user_id": 9652265, "user_type": "registered", "profile_image": "https://graph.facebook.com/1767124816659589/picture?type=large", "display_name": "Nicolas Felten", "link": "https://stackoverflow.com/users/9652265/nicolas-felten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 851, "favorite_count": 0, "accepted_answer_id": 49880209, "answer_count": 1, "score": 0, "last_activity_date": 1524039033, "creation_date": 1523973244, "last_edit_date": 1524039033, "question_id": 49880030, "link": "https://stackoverflow.com/questions/49880030/setonclicklistener-in-a-listview-with-a-customadapter", "title": "setOnclicklistener in a listview with a customadapter", "body": "<p>i just started using Android studio with Kotlin.\nI implemented a listView with a custom adapter, but i don't understand how detect when i click on a item of this listview.</p>\n\n<p>This is my class CalAdapter.kt</p>\n\n<pre><code>class CalAdapter(context: Context,al_session:ArrayList&lt;activity_session&gt;) : BaseAdapter(){\n\nprivate val mInflator: LayoutInflater\nprivate val al_session:ArrayList&lt;activity_session&gt;\n\ninit {\n    this.mInflator = LayoutInflater.from(context)\n    this.al_session=al_session\n}\n\noverride fun getCount(): Int {\n    return al_session.size\n}\n\noverride fun getItem(position: Int): Any {\n    return al_session.get(position)\n}\n\noverride fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\n@SuppressLint(\"ResourceAsColor\", \"PrivateResource\")\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup): View? {\n    val view: View?\n    val vh: ListRowHolder\n    if (convertView == null) {\n        view = this.mInflator.inflate(R.layout.calendar_adapter, parent, false)\n        vh = ListRowHolder(view)\n        view.tag = vh\n    } else {\n        view = convertView\n        vh = view.tag as ListRowHolder\n    }\n\n    vh.label.text = al_session[position].id.toString()\n    vh.ivImage.setBackgroundColor(R.color.material_blue_grey_800)\n    when (al_session[position].provided_sport)\n    {\n        \"swimming\" -&gt;\n        {\n            //vh.ivImage.setBackgroundColor(R.color.material_blue_grey_800)\n            vh.ivImage.setImageResource(R.drawable.ic_swiming)\n\n        }\n        \"running\" -&gt;\n        {\n            //vh.ivImage.setBackgroundColor(R.color.white)\n            vh.ivImage.setImageResource(R.drawable.ic_running)\n        }\n        \"cycling\" -&gt;\n        {\n            //vh.ivImage.setBackgroundColor(R.color.material_blue_grey_800)\n            vh.ivImage.setImageResource(R.drawable.ic_bicycle)\n        }\n    }\n    return view\n}\n\n\n\n}\n\nprivate class ListRowHolder(row: View?) {\nval label: TextView = row?.findViewById(R.id.TWActivityID) as TextView\nval ivImage: ImageButton = row?.findViewById(R.id.CalActivityButton) as ImageButton\n\n}\n</code></pre>\n\n<p>This is my function where i implement my listview.</p>\n\n<p>lv is my listview.</p>\n\n<pre><code>fun createActivities()\n{\n    val lv = dynamicList\n    val test=ArrayList&lt;activity_session&gt;()\n    var i : Int = 0\n    while (i &lt; 5) {\n        if (ActivityList.activityList[i] != null) {\n            test.add(ActivityList.activityList[i])\n        }\n        i += 1\n    }\n    val obj_adapter: CalAdapter\n    obj_adapter = CalAdapter(this.view!!.dynamicList.context, test)\n    lv.adapter=obj_adapter\n}\n</code></pre>\n\n<p>I created a xml file which represent my listview.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/AdapterLayout\"\n        android:layout_width=\"215dp\"\n        android:layout_height=\"140dp\"\n        android:orientation=\"horizontal\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/CalActivityButton\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"140dp\"\n            android:layout_weight=\"1\"\n            app:srcCompat=\"@drawable/ic_info_black_24dp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/TWActivityID\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"1\"\n            android:text=\"TextView\"\n            android:visibility=\"invisible\"\n            tools:layout_editor_absoluteX=\"92dp\"\n            tools:layout_editor_absoluteY=\"230dp\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Could someone explain me how to detect when i click on an item of the listview i just created ?</p>\n\n<p>EDIT : Hi again i understood how to do it, i added a setOnClickListener method to my imagebutton in my CalAdapter.kt class</p>\n\n<p>now it looks like that : <a href=\"https://imgur.com/a/Vw9SD\" rel=\"nofollow noreferrer\">https://imgur.com/a/Vw9SD</a></p>\n"}, {"tags": ["android", "arrays", "string", "android-edittext", "kotlin"], "comments": [{"owner": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 1, "creation_date": 1523971197, "post_id": 49879166, "comment_id": 86774097, "body": "I think people have downvoted cause you did not provide/show any attempt or research effort. Is a for-loop not enough minimal ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9600458"}, "reply_to_user": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 0, "creation_date": 1523971273, "post_id": 49879166, "comment_id": 86774163, "body": "@vincrichaud Yes, I agree with your comment. I do think so."}, {"owner": {"reputation": 2340, "user_id": 2328121, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/078a7aeeb31a8a115ff0558421f796cf?s=128&d=identicon&r=PG", "display_name": "Adifyr", "link": "https://stackoverflow.com/users/2328121/adifyr"}, "reply_to_user": {"reputation": 1998, "user_id": 5914654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b97f9c0f12c8ab7f33a1abeef2d68e2?s=128&d=identicon&r=PG&f=1", "display_name": "vincrichaud", "link": "https://stackoverflow.com/users/5914654/vincrichaud"}, "edited": false, "score": 1, "creation_date": 1523971626, "post_id": 49879166, "comment_id": 86774466, "body": "@vincrichaud minimal enough to fit as a parameter in a function. I&#39;ll edit the original question."}, {"owner": {"reputation": 8507, "user_id": 1178337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a1de2.png?s=128&g=1", "display_name": "2Dee", "link": "https://stackoverflow.com/users/1178337/2dee"}, "edited": false, "score": 0, "creation_date": 1523971986, "post_id": 49879166, "comment_id": 86774752, "body": "Perfectly valid question now, +1 ..."}], "answers": [{"comments": [{"owner": {"reputation": 2340, "user_id": 2328121, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/078a7aeeb31a8a115ff0558421f796cf?s=128&d=identicon&r=PG", "display_name": "Adifyr", "link": "https://stackoverflow.com/users/2328121/adifyr"}, "edited": false, "score": 0, "creation_date": 1523971856, "post_id": 49879449, "comment_id": 86774657, "body": "Thank you. This is what I wanted. Also, I need to mention, I&#39;m using <code>varargs</code> as a parameter. So also should mention that use case."}], "tags": [], "owner": {"reputation": 1055, "user_id": 3625488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LmX54.jpg?s=128&g=1", "display_name": "Anthony Cannon", "link": "https://stackoverflow.com/users/3625488/anthony-cannon"}, "is_accepted": true, "score": 2, "last_activity_date": 1523974642, "last_edit_date": 1523974642, "creation_date": 1523971724, "answer_id": 49879449, "question_id": 49879166, "link": "https://stackoverflow.com/questions/49879166/convert-edittext-array-to-string-array-kotlin-android/49879449#49879449", "title": "Convert EditText Array to String Array - Kotlin Android", "body": "<p>Todo this you have to map it into a string array by doing the following:</p>\n\n<pre><code>val newTextFieldStringArray = textFields.map { it.text.toString() }\nLog.e(\"TEST\", newTextFieldStringArray.toString()) // print it out\n</code></pre>\n\n<p><strong>Note:</strong>\nThe map function returns a List. If you'd like to use it as a <code>vararg</code> parameter, you can achieve that using <code>toTypedArray()</code> and a spread operator <code>*</code>. Code As follows:</p>\n\n<pre><code>val varargArray = textFields.map { it.text.toString() }.toTypedArray()\nmyFunction(*varargArray)\n\nprivate fun myFunction(vararg list: String) {}\n</code></pre>\n"}], "owner": {"reputation": 2340, "user_id": 2328121, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/078a7aeeb31a8a115ff0558421f796cf?s=128&d=identicon&r=PG", "display_name": "Adifyr", "link": "https://stackoverflow.com/users/2328121/adifyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 49879449, "answer_count": 1, "score": 0, "last_activity_date": 1523974642, "creation_date": 1523970945, "last_edit_date": 1523972601, "question_id": 49879166, "link": "https://stackoverflow.com/questions/49879166/convert-edittext-array-to-string-array-kotlin-android", "title": "Convert EditText Array to String Array - Kotlin Android", "body": "<p>I have an array of EditTexts that I would like to get converted into an Array of Strings containing the input values of each of the EditTexts. Here is my code:</p>\n\n<pre><code>val textFields = arrayOf&lt;EditText&gt;(dialogView.findViewById(R.id.et_name),\n            dialogView.findViewById(R.id.et_address), dialogView.findViewById(R.id.et_phoneNo),\n            dialogView.findViewById(R.id.et_amount), dialogView.findViewById(R.id.et_remark))\n</code></pre>\n\n<p>How do I get a String Array of the values of the EditTexts with minimal code?</p>\n\n<p><strong>Edit:</strong> Basically I want to fit the code as an argument in a function. I would prefer to have it done without using a for-loop. Perhaps an inline function that would give out an array transforming (as given in the function block) each element (EditText) of the original one to a string. I couldn't find any method so far (although it might turn out to be something obvious).</p>\n\n<p>I also need to use it as a <code>vararg</code> parameter.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 1, "creation_date": 1523967281, "post_id": 49877591, "comment_id": 86771176, "body": "You could perhaps use <code>equals()</code>: <a href=\"https://stackoverflow.com/questions/49349674/case-sensitivity-kotlin-ignorecase\" title=\"case sensitivity kotlin ignorecase\">stackoverflow.com/questions/49349674/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 8, "last_activity_date": 1523967324, "creation_date": 1523967324, "answer_id": 49877874, "question_id": 49877591, "link": "https://stackoverflow.com/questions/49877591/case-insensitive-when/49877874#49877874", "title": "Case insensitive when", "body": "<p>I would convert <code>subtype</code> to <code>MessagingClient.RTC_SUBTYPE</code> like so:</p>\n\n<pre><code>val subtypeEnum = MessagingClient.RTC_SUBTYPE.values().firstOrNull {\n   it.name.equals(subtype, ignoreCase = true) \n} ?: throw IllegalArgumentException(\"${subtype} no value of MessagingClient.RTC_SUBTYPE match\")\n</code></pre>\n\n<p>And then use it in <code>when</code></p>\n\n<pre><code>when (subtypeEnm) {\n    MessagingClient.RTC_SUBTYPE.sdp -&gt; onSDPMessageReceived(topic, sender, data!!)\n    MessagingClient.RTC_SUBTYPE.bye -&gt; onRTCBYEMessageReceived(topic, sender)\n    MessagingClient.RTC_SUBTYPE.negotiationOffer -&gt; onNegotiationOfferMessageReceived(sender, data!!)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 3, "creation_date": 1609192625, "post_id": 65484595, "comment_id": 115774245, "body": "While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/65484595/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}, {"owner": {"reputation": 21147, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1609192644, "post_id": 65484595, "comment_id": 115774250, "body": "Also, since you seem to struggle with it: <a href=\"https://stackoverflow.com/editing-help\">stackoverflow.com/editing-help</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 14795935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--tYnNs476Sk/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckhXH8-RQGaHdgsjx3EdeYpy7_jnw/s96-c/photo.jpg?sz=128", "display_name": "Ayman Nasr", "link": "https://stackoverflow.com/users/14795935/ayman-nasr"}, "is_accepted": false, "score": -1, "last_activity_date": 1611535855, "last_edit_date": 1611535855, "creation_date": 1609192519, "answer_id": 65484595, "question_id": 49877591, "link": "https://stackoverflow.com/questions/49877591/case-insensitive-when/65484595#65484595", "title": "Case insensitive when", "body": "<pre><code>var s1 =editText.text.toString()\nvar s2=textView_.text\nvar s3 =s1.equals(s2 ,true)\n</code></pre>\n"}], "owner": {"reputation": 4468, "user_id": 946409, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/UTLAM.jpg?s=128&g=1", "display_name": "Pitel", "link": "https://stackoverflow.com/users/946409/pitel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1484, "favorite_count": 0, "accepted_answer_id": 49877874, "answer_count": 2, "score": 5, "last_activity_date": 1611535855, "creation_date": 1523966565, "last_edit_date": 1523967040, "question_id": 49877591, "link": "https://stackoverflow.com/questions/49877591/case-insensitive-when", "title": "Case insensitive when", "body": "<p>Is it somehow possible to make <code>when</code> <code>String</code> comparison case insensitive by default?</p>\n\n<pre><code>when (subtype.toLowerCase()) {\n    MessagingClient.RTC_SUBTYPE.sdp.toString().toLowerCase() -&gt; onSDPMessageReceived(topic, sender, data!!)\n    MessagingClient.RTC_SUBTYPE.bye.toString().toLowerCase() -&gt; onRTCBYEMessageReceived(topic, sender)\n    MessagingClient.RTC_SUBTYPE.negotiationOffer.toString().toLowerCase() -&gt; onNegotiationOfferMessageReceived(sender, data!!)\n}\n</code></pre>\n\n<p>This has too much repetetive code! Also note that <code>MessagingClient.RTC_SUBTYPE</code> is <code>enum class</code> and <code>subtype</code> on the first line is received from some client, so we must treat it accordingly.</p>\n"}, {"tags": ["android", "string", "kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1523964211, "post_id": 49876740, "comment_id": 86769009, "body": "Use <code>Context::getString</code> method instead of hardcode literals"}, {"owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "reply_to_user": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 0, "creation_date": 1523964526, "post_id": 49876740, "comment_id": 86769216, "body": "@H&#233;ctor I would, but I can&#39;t, cuz there is code in it.."}], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1523968510, "post_id": 49877012, "comment_id": 86772149, "body": "There&#39;s also <code>Context.getString(&quot;Delete selected %$1s&quot;, ...)</code> which allows you to place the &quot;items&quot; word anywhere, and it may vary between languages."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523982347, "post_id": 49877012, "comment_id": 86782151, "body": "A good example of a swap would be english/french <code>red car</code> vs <code>voiture rouge</code> (car red)"}], "tags": [], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "is_accepted": true, "score": 1, "last_activity_date": 1523964918, "creation_date": 1523964918, "answer_id": 49877012, "question_id": 49876740, "link": "https://stackoverflow.com/questions/49876740/kotlin-in-android-how-to-extract-string-with-an-if-statement-in-it/49877012#49877012", "title": "Kotlin in Android: how to extract String with an if statement in it?", "body": "<p>You can call <code>Context::getString</code> method several times inside yor string template:</p>\n\n<pre><code>.setMessage(\"${context.getString(R.string.delete_selected)} ${if (count &gt; 1) context.getString(R.string.items) else context.getString(R.string.item)}?\")\n</code></pre>\n\n<p>where</p>\n\n<pre><code>R.string.delete_selected = \"Delete selected\"\nR.string.items = \"items\"\nR.string.item = \"item\"\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 49877012, "answer_count": 1, "score": 0, "last_activity_date": 1523964918, "creation_date": 1523964048, "question_id": 49876740, "link": "https://stackoverflow.com/questions/49876740/kotlin-in-android-how-to-extract-string-with-an-if-statement-in-it", "title": "Kotlin in Android: how to extract String with an if statement in it?", "body": "<p>I want to extract this string below, so I can provide an other language.. but the problem is, I have an if statement in it.. any Solutions? </p>\n\n<pre><code> .setMessage(\"Delete selected ${if (count &gt; 1) \"items\" else \"item\"}?\")\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 1, "creation_date": 1523961810, "post_id": 49875963, "comment_id": 86767334, "body": "Are you looking for <code>lateinit var</code>?"}, {"owner": {"reputation": 65, "user_id": 9630695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cbb4cda55146a52e250e1b79fa6562?s=128&d=identicon&r=PG&f=1", "display_name": "jackfield", "link": "https://stackoverflow.com/users/9630695/jackfield"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1523961996, "post_id": 49875963, "comment_id": 86767445, "body": "I just want to assign value to &quot;C&quot; in other class, before assign nothing in &quot;c&quot; variable"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1523961998, "post_id": 49875963, "comment_id": 86767448, "body": "You can&#39;t late-initialize a <code>val</code>."}, {"owner": {"reputation": 65, "user_id": 9630695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cbb4cda55146a52e250e1b79fa6562?s=128&d=identicon&r=PG&f=1", "display_name": "jackfield", "link": "https://stackoverflow.com/users/9630695/jackfield"}, "edited": false, "score": 0, "creation_date": 1523962019, "post_id": 49875963, "comment_id": 86767465, "body": "so Kotlin documentation fail ?"}, {"owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "edited": false, "score": 0, "creation_date": 1523973093, "post_id": 49875963, "comment_id": 86775527, "body": "Have you tried using &#39;by lazy {}&#39; to perform a kind of lateinit on the variable?       <code>val c:Int by lazy { ...  }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 7, "last_activity_date": 1523962705, "creation_date": 1523962705, "answer_id": 49876307, "question_id": 49875963, "link": "https://stackoverflow.com/questions/49875963/variable-without-initializer-in-kotlin/49876307#49876307", "title": "Variable without initializer in Kotlin", "body": "<p>If you're declaring a top-level property, you need to initialize it as part of the declaration. If you're declaring a local variable, you can initialize it later:</p>\n\n<pre><code>fun foo() {\n    val c: Int\n    c = 3\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1523968243, "post_id": 49876622, "comment_id": 86771913, "body": "&quot;For val you need to do the declaration and the assignment together.&quot; - no you don&#39;t, please see my answer."}], "tags": [], "owner": {"reputation": 1, "user_id": 4636419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54dd2fbc31f3925e297873c171c5d0e2?s=128&d=identicon&r=PG&f=1", "display_name": "eth4", "link": "https://stackoverflow.com/users/4636419/eth4"}, "is_accepted": false, "score": -2, "last_activity_date": 1523963693, "creation_date": 1523963693, "answer_id": 49876622, "question_id": 49875963, "link": "https://stackoverflow.com/questions/49875963/variable-without-initializer-in-kotlin/49876622#49876622", "title": "Variable without initializer in Kotlin", "body": "<p>For <code>val</code> you need to do the declaration and the assignment together.</p>\n\n<p>For your case, this variable needs to be modified after the declaration section, therefore <code>var c: Int</code> will be better.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1523969164, "last_edit_date": 1523969164, "creation_date": 1523965331, "answer_id": 49877147, "question_id": 49875963, "link": "https://stackoverflow.com/questions/49875963/variable-without-initializer-in-kotlin/49877147#49877147", "title": "Variable without initializer in Kotlin", "body": "<blockquote>\n  <p>I just want to assign value to \"C\" in other class</p>\n</blockquote>\n\n<p><code>val</code> can be used in two ways (counting 2 and 3 together):</p>\n\n<ol>\n<li><p>For local variables, in which case assigning in other class makes no sense at all. The documentation you quote refers to this case.</p></li>\n<li><p>For concrete properties, in which case they can be initialized separately from the declaration, but only in an <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\"><code>init</code> block</a> of the class they are declared in.</p></li>\n<li><p>For abstract properties. But in this case you can't <em>assign</em> them from other class, but only implement these properties.</p></li>\n</ol>\n"}], "owner": {"reputation": 65, "user_id": 9630695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77cbb4cda55146a52e250e1b79fa6562?s=128&d=identicon&r=PG&f=1", "display_name": "jackfield", "link": "https://stackoverflow.com/users/9630695/jackfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7555, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1592116703, "creation_date": 1523961696, "last_edit_date": 1592116703, "question_id": 49875963, "link": "https://stackoverflow.com/questions/49875963/variable-without-initializer-in-kotlin", "title": "Variable without initializer in Kotlin", "body": "<p>How to implement variable without initializer ? </p>\n\n<p>I found in Kotlin documentation:</p>\n\n<pre><code>val c: Int  // Type required when no initializer is provided\nc = 3       // deferred assignment\n</code></pre>\n\n<p>but this does not work.\nIDE requires to make a initializer.</p>\n"}, {"tags": ["java", "hibernate", "kotlin"], "comments": [{"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 0, "creation_date": 1523963446, "post_id": 49875052, "comment_id": 86768486, "body": "Did you try something? What is your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1603610642, "post_id": 49877125, "comment_id": 114087329, "body": "@HaifengZhang you may remove it, if the library supports <code>KClass&lt;*&gt;</code>"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 8, "last_activity_date": 1523965250, "creation_date": 1523965250, "answer_id": 49877125, "question_id": 49875052, "link": "https://stackoverflow.com/questions/49875052/how-to-use-annotation-typedefs-in-kotlin/49877125#49877125", "title": "How to use annotation TypeDefs in Kotlin?", "body": "<p>Try this.</p>\n\n<pre><code>@Data\n@Entity\n@TypeDefs(\n  TypeDef(name = \"string-array\", typeClass = StringArrayType::class.java),\n  TypeDef(name = \"int-array\", typeClass = IntArrayType::class.java),\n  TypeDef(name = \"json\", typeClass = JsonStringType::class.java),\n  TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class.java))\nclass Parent : Serializable\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 1454300, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed0d21832e8f37c866e15347aeea08ce?s=128&d=identicon&r=PG", "display_name": "BigFatSea", "link": "https://stackoverflow.com/users/1454300/bigfatsea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1524048703, "creation_date": 1523958959, "last_edit_date": 1524048703, "question_id": 49875052, "link": "https://stackoverflow.com/questions/49875052/how-to-use-annotation-typedefs-in-kotlin", "title": "How to use annotation TypeDefs in Kotlin?", "body": "<p>What is the equivalent Kotlin code of this Java snippet?</p>\n\n<pre><code>@Data\n@Entity\n@TypeDefs({\n        @TypeDef(name = \"string-array\", typeClass = StringArrayType.class),\n        @TypeDef(name = \"int-array\", typeClass = IntArrayType.class),\n        @TypeDef(name = \"json\", typeClass = JsonStringType.class),\n        @TypeDef(name = \"jsonb\", typeClass = JsonBinaryType.class)\n})\npublic class Parent implements Serializable {\n    //....\n}\n</code></pre>\n\n<p>finally following code works.</p>\n\n<pre><code>@TypeDefs(\n        TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n        TypeDef(name = \"int-array\", typeClass = IntArrayType::class),\n        TypeDef(name = \"json\", typeClass = JsonStringType::class),\n        TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class)\n)\n</code></pre>\n"}, {"tags": ["android", "string", "list", "search", "kotlin"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1523960259, "post_id": 49872909, "comment_id": 86766365, "body": "What behaviour do you expect for <code>[product, example]</code>? (the reverse of <code>[example, product]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 8505011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-LHeyfnycofo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reTiZXkDgulYbU2MpXYqhI-92dLfQ/photo.jpg?sz=128", "display_name": "fkvestak", "link": "https://stackoverflow.com/users/8505011/fkvestak"}, "edited": false, "score": 1, "creation_date": 1523962858, "post_id": 49874721, "comment_id": 86768099, "body": "your &quot;match&quot; method works perfectly, thank you so much I&#39;m gonna use this approach from now on"}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 3, "last_activity_date": 1523957960, "creation_date": 1523957960, "answer_id": 49874721, "question_id": 49872909, "link": "https://stackoverflow.com/questions/49872909/kotlin-find-substring-in-list-of-strings/49874721#49874721", "title": "Kotlin find substring in list of strings", "body": "<p>What about something like:</p>\n\n<pre><code>fun match(product: Array&lt;String&gt;, terms: Array&lt;String&gt;): Boolean {\n    return terms.all { term -&gt; product.any { word -&gt; word.contains(term) } }\n}\n</code></pre>\n\n<p>With tests:</p>\n\n<pre><code>import java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n    val product = arrayOf(\"this\", \"is\", \"an\", \"example\", \"product\", \"name\")\n    val tests = mapOf(\n        arrayOf(\"example\", \"product\") to true,\n        arrayOf(\"an\", \"name\") to true,\n        arrayOf(\"mple\", \"name\") to true,\n        arrayOf(\"example\", \"name\") to true,\n        arrayOf(\"this\", \"prod\") to true\n    )\n\n    tests.forEach { (terms, result) -&gt;\n        System.out.println(search(product, terms) == result)\n    }\n}\n\nfun match(product: Array&lt;String&gt;, terms: Array&lt;String&gt;): Boolean {\n    return terms.all { term -&gt; product.any { word -&gt; word.contains(term) } }\n}\n</code></pre>\n\n<p>Do you have other example/tests that doesn't work?</p>\n"}], "owner": {"reputation": 533, "user_id": 8505011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-LHeyfnycofo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reTiZXkDgulYbU2MpXYqhI-92dLfQ/photo.jpg?sz=128", "display_name": "fkvestak", "link": "https://stackoverflow.com/users/8505011/fkvestak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4102, "favorite_count": 0, "accepted_answer_id": 49874721, "answer_count": 1, "score": 3, "last_activity_date": 1523957960, "creation_date": 1523952572, "question_id": 49872909, "link": "https://stackoverflow.com/questions/49872909/kotlin-find-substring-in-list-of-strings", "title": "Kotlin find substring in list of strings", "body": "<p>I have a string which is a product name:</p>\n\n<pre><code>val productName = \"7 UP pov.a. 0,25 (24)\"\n</code></pre>\n\n<p>and another string which is a users input in search bar, let's say:</p>\n\n<pre><code>val userInput = \"up 0,25\"\n</code></pre>\n\n<p>I'm normalizing both productName and userInput with this method:</p>\n\n<pre><code>private fun normalizeQuery(query: String): List&lt;String&gt; {\n\n    val list = Normalizer.normalize(query.toLowerCase(), Normalizer.Form.NFD)\n            .replace(\"\\\\p{M}\".toRegex(), \"\")\n            .split(\" \")\n            .toMutableList()\n\n    for (word in list) if (word == \" \") list.remove(word)\n\n    return list\n\n}\n</code></pre>\n\n<p>Now I have 2 lists of normalized strings (everything is lowercase, without empty chars, and without accented letters, e.g. \u010c -> c, \u017d -> z, \u017e -> z, \u0161 -> s, \u0107 -> c, etc.):</p>\n\n<pre><code>product = [7, up, pov.a., 0,25, (24)]\ninput = [up, 0,25]\n</code></pre>\n\n<p>Now I want (for the sake of simplicity in these examples) to return true if strings from product contains <strong>every</strong> string from input, but <strong>even as a substring</strong>, e.g.</p>\n\n<pre><code>input = [0,2, up] -&gt; true\ninput = [up, 25] -&gt; true\ninput = [pov, 7] -&gt; true\ninput = [v.a., 4), up] -&gt; true\n</code></pre>\n\n<p>Another example of wanted output:</p>\n\n<pre><code>product = [this, is, an, example, product, name]\ninput = [example, product] -&gt; true\ninput = [mple, name] -&gt; true\ninput = [this, prod] -&gt; true\n</code></pre>\n\n<p>What I tried:</p>\n\n<p>A) Easy and efficient way?</p>\n\n<pre><code>if (product.containsAll(input)) outputList.put(key, ActivityMain.products!![key]!!)\n</code></pre>\n\n<p>But this gives me what I want only if input contains EXACT same strings as in product, e.g.:</p>\n\n<pre><code>product = [this, is, an, example, product, name]\ninput = [example, product] -&gt; true\ninput = [an, name] -&gt; true\ninput = [mple, name] -&gt; false\ninput = [example, name] -&gt; true\ninput = [this, prod] -&gt; false\n</code></pre>\n\n<p>B) Complicated way, gives me what I want, but sometimes there are unwanted results:</p>\n\n<pre><code>val wordCount = input.size\nvar hit = 0\n\nfor (word in input)\n   for (word2 in product) \n      if (word2.contains(word))\n         hit++\n\nif (hit &gt;= wordCount) \n    outputList.put(key, ActivityMain.products!![key]!!)\n\nhit = 0\n</code></pre>\n\n<p>Help me to convert those false's into true's :)</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523949383, "post_id": 49871842, "comment_id": 86759202, "body": "I can say that your <code>intent</code> is null for some reason. Ok, I see the reason - you are calling it outside of <code>onCreate</code> method."}], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1523948773, "creation_date": 1523948773, "answer_id": 49871864, "question_id": 49871842, "link": "https://stackoverflow.com/questions/49871842/unable-to-instantiate-activity-componentinfo-because-com-myappliaction-not-takin/49871864#49871864", "title": "Unable to instantiate activity ComponentInfo because com.myappliaction not taking the value", "body": "<p>You need to perform <strong><code>findViewById</code></strong> inside <code>onCreate()</code> method</p>\n\n<p>Try this</p>\n\n<pre><code>class DisplayMessageActivity : AppCompatActivity() {\n\n    val EXTRA_MESSAGE = \"com.example.dell.myapplication.MESSAGE\"\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n\n        // Get the Intent that started this activity and extract the string\n        val message = intent.getStringExtra(EXTRA_MESSAGE)\n\n        // Capture the layout's TextView and set the string as its text\n        val textView = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n        text = message\n    }\n\n\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 0, "last_activity_date": 1523990960, "creation_date": 1523990960, "answer_id": 49885454, "question_id": 49871842, "link": "https://stackoverflow.com/questions/49871842/unable-to-instantiate-activity-componentinfo-because-com-myappliaction-not-takin/49885454#49885454", "title": "Unable to instantiate activity ComponentInfo because com.myappliaction not taking the value", "body": "<p>You are getting the NPE on calling <code>intent.getStringExtra(EXTRA_MESSAGE)</code> in <code>DisplayMessageActivity</code>. It is because you are trying to initialize that field (<code>val message</code>) before the <code>intent</code> of that <code>Activity</code>actually gets set. </p>\n\n<p>Instead of that, you should move your code to <code>onCreate</code> and work with <code>intent</code> there. Also, as Nilesh suggests, you need to move findViewById also to <code>onCreate</code>, because the content layout has not been set yet.</p>\n\n<p>Your <code>message</code> and <code>textView</code> fields are initialized when the system instantiate the activity class, which is wrong.</p>\n"}], "owner": {"reputation": 418, "user_id": 7316557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96129985375edb8f6aee00082149840?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin Golani", "link": "https://stackoverflow.com/users/7316557/ashwin-golani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1547117076, "creation_date": 1523948691, "last_edit_date": 1547117076, "question_id": 49871842, "link": "https://stackoverflow.com/questions/49871842/unable-to-instantiate-activity-componentinfo-because-com-myappliaction-not-takin", "title": "Unable to instantiate activity ComponentInfo because com.myappliaction not taking the value", "body": "<p>a am new to this, i dont know where i have done the mistake please help me...\nandroidmanifest.xml</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.dell.myapplication\"&gt;\n\n\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".DisplayMessageActivity\"\n            android:parentActivityName=\".MainActivity\"&gt;\n            &lt;!-- The meta-data tag is required if you support API level 15 and lower --&gt;\n            &lt;meta-data\n                android:name=\"android.support.PARENT_ACTIVITY\"\n                android:value=\".MainActivity\" /&gt;\n        &lt;/activity&gt;    &lt;/application&gt;\n\n\n\n&lt;/manifest&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>mainactivity.kt\n\n    package com.example.dell.myapplication\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.EditText\nimport kotlinx.android.synthetic.main.activity_main.*\nimport android.Manifest.permission\nimport android.Manifest.permission.WRITE_EXTERNAL_STORAGE\nimport android.support.v4.app.ActivityCompat\nimport android.content.pm.PackageManager\nimport android.support.v4.content.ContextCompat\nimport java.util.jar.Manifest\n\n\nconst val EXTRA_MESSAGE = \"com.example.dell.myapplication.MESSAGE\"\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n    }\n\n    fun sendMessage(view: View) {\n\n\n        // Do something in response to button\n        val editText = findViewById&lt;EditText&gt;(R.id.editText)\n        val message = editText.text.toString()\n\n        val intent = Intent(this, DisplayMessageActivity::class.java).apply {\n            putExtra(EXTRA_MESSAGE, message)\n        }\n        print(EXTRA_MESSAGE)\n        startActivity(intent)\n        }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>displaymessage.kt\n\n    package com.example.dell.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\nimport android.content.Intent\n\n\nclass DisplayMessageActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_display_message)\n\n\n\n\n    }\n    // Get the Intent that started this activity and extract the string\n    val message = intent.getStringExtra(EXTRA_MESSAGE)\n\n    // Capture the layout's TextView and set the string as its text\n    val textView = findViewById&lt;TextView&gt;(R.id.textView2).apply {\n        text = message\n    }\n}\n</code></pre>\n\n<p>string.xml</p>\n\n<pre><code>&lt;resources&gt;\n&lt;string name=\"app_name\"&gt;myapplication&lt;/string&gt;\n&lt;string name=\"edit_message\"&gt;enter a message&lt;/string&gt;\n&lt;string name=\"button_send\"&gt;send&lt;/string&gt;\n</code></pre>\n\n<p></p>\n\n<p>here is the error log</p>\n\n<pre><code>04-17 12:27:15.657 12925-12925/com.example.dell.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.dell.myapplication, PID: 12925\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.dell.myapplication/com.example.dell.myapplication.DisplayMessageActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2595)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2750)\n        at android.app.ActivityThread.access$1100(ActivityThread.java:186)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1606)\n        at android.os.Handler.dispatchMessage(Handler.java:111)\n        at android.os.Looper.loop(Looper.java:238)\n        at android.app.ActivityThread.main(ActivityThread.java:6006)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:937)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:798)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Intent.getStringExtra(java.lang.String)' on a null object reference\n        at com.example.dell.myapplication.DisplayMessageActivity.&lt;init&gt;(DisplayMessageActivity.kt:20)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1072)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2585)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2750)\u00a0\n        at android.app.ActivityThread.access$1100(ActivityThread.java:186)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1606)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:111)\u00a0\n        at android.os.Looper.loop(Looper.java:238)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6006)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:937)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:798)\u00a0\n04-17 12:27:15.720 12925-12925/com.example.dell.myapplication I/Process: Sending signal. PID: 12925 SIG: 9\n</code></pre>\n"}, {"tags": ["php", "android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523947701, "post_id": 49871543, "comment_id": 86758276, "body": "<code>I got Array() as $_FILE</code> - probably it is an array of files? Or array of bytes of a file?"}, {"owner": {"reputation": 79, "user_id": 9092514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DINKT.png?s=128&g=1", "display_name": "Naoki Nakamura", "link": "https://stackoverflow.com/users/9092514/naoki-nakamura"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523947979, "post_id": 49871543, "comment_id": 86758423, "body": "<code>print_r($_FILES)</code> returns the string <code>Array()</code>"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523948053, "post_id": 49871543, "comment_id": 86758462, "body": "I&#39;m not sure that a <code>print_r</code> will give you the contents of it. Try using <code>var_dump()</code> instead"}, {"owner": {"reputation": 79, "user_id": 9092514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DINKT.png?s=128&g=1", "display_name": "Naoki Nakamura", "link": "https://stackoverflow.com/users/9092514/naoki-nakamura"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523948147, "post_id": 49871543, "comment_id": 86758526, "body": "<code>var_dump($_FILES)</code> shows <code>array(0) {}</code>"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523948237, "post_id": 49871543, "comment_id": 86758579, "body": "For me it liiks like you are sending the content not as a file, but as just a part of body"}, {"owner": {"reputation": 79, "user_id": 9092514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DINKT.png?s=128&g=1", "display_name": "Naoki Nakamura", "link": "https://stackoverflow.com/users/9092514/naoki-nakamura"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523949015, "post_id": 49871543, "comment_id": 86759014, "body": "Yes, I made a mixture of MIME &quot;Mutilpart&quot; and &quot;audio/wav&quot; so it must be fixed. I might send body..."}], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 9092514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DINKT.png?s=128&g=1", "display_name": "Naoki Nakamura", "link": "https://stackoverflow.com/users/9092514/naoki-nakamura"}, "is_accepted": false, "score": 0, "last_activity_date": 1524020619, "creation_date": 1524020619, "answer_id": 49890502, "question_id": 49871543, "link": "https://stackoverflow.com/questions/49871543/post-wav-file-to-server-failed-file-shows-array-kotlin-android-php/49890502#49890502", "title": "Post WAV file to server failed - $_FILE shows Array() - Kotlin, Android, PHP", "body": "<p>Finally, the code below works.\nI use <code>multipart</code> post solution.\nNow I think that kotlin's <code>readBytes</code> doesn't work properly with <code>OutputDataStream</code> , but I'm not sure about it...</p>\n\n<pre><code>private class UploadFileTask : AsyncTask&lt;Void, Void, Void&gt;() {\n    override fun doInBackground(vararg params: Void): Void? {\n        var con: HttpURLConnection? = null\n        try {\n            Log.i(\"POST\", \"Start POST\")\n            con = POST_URL.openConnection() as HttpURLConnection\n            con.connectTimeout = 30 * 1000\n            con.setRequestProperty(\"Accept-Charset\", \"UTF-8\")\n            con.setRequestProperty(\"ENCTYPE\", \"multipart/form-data\")\n            con.setRequestProperty(\"Connection\", \"Keep-Alive\")\n            con.setRequestProperty(\"Cache-Control\", \"no-cache\")\n            con.setRequestProperty(\"Content-Type\", \"multipart/form-data; boundary=$boundary\")\n            con.requestMethod = \"POST\"\n            con.instanceFollowRedirects = false\n            con.doInput = true\n            con.doOutput = true\n            val wavFile = File(wavPath)\n            Log.i(\"POST\", \"exec post\")\n\n            con.connect()\n\n            try {\n                Log.i(\"POST\", \"Now writing to stream...\")\n                val outputStream = DataOutputStream(con.outputStream)\n                outputStream.writeBytes(twoHyphens + boundary + lineEnd)\n                outputStream.writeBytes(\"Content-Disposition: form-data; name=\\\"post\\\"; filename=\\\"${wavFile.name}\\\"$lineEnd\")\n                outputStream.writeBytes(\"Content-Type: application/octet-stream$lineEnd\")\n                outputStream.writeBytes(\"Content-Transfer-Encoding: binary$lineEnd\")\n                outputStream.writeBytes(lineEnd)\n                val inputStream = FileInputStream(wavFile)\n                inputStream.copyTo(outputStream)\n                outputStream.writeBytes(lineEnd)\n                outputStream.writeBytes(twoHyphens + boundary + twoHyphens + lineEnd)\n                outputStream.flush()\n                outputStream.close()\n\n            } catch (e: Exception) {\n                Log.e(\"POST\", \"Exception occurred!\")\n            }\n            val status = con.responseCode\n            Log.i(\"STATUS\", Integer.toString(status))\n\n            when (status) {\n                HttpURLConnection.HTTP_OK -&gt; {\n                    val inputStream = con.inputStream\n                    val reader = BufferedReader(InputStreamReader(inputStream))\n                    var httpSource = \"\"\n                    var str = reader.readLine()\n                    while (str != null) {\n                        httpSource += str\n                        str = reader.readLine()\n                    }\n                    Log.i(\"HTTPSOURCE\", \"source:$httpSource\")\n                    inputStream.close()\n                }\n                HttpURLConnection.HTTP_UNAUTHORIZED -&gt; {\n                    Log.e(\"POST\", \"UNAUTHORIZED\")\n                }\n                else -&gt; {\n                    Log.i(\"POST\", \"CODE IS \" + Integer.toString(status))\n                }\n\n            }\n\n            con.disconnect()\n\n        } catch (e: InterruptedException) {\n            Log.e(\"UPLOADER\", \"aborting.\")\n        } finally {\n            con?.disconnect()\n        }\n        return null\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 9092514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DINKT.png?s=128&g=1", "display_name": "Naoki Nakamura", "link": "https://stackoverflow.com/users/9092514/naoki-nakamura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524020619, "creation_date": 1523947598, "last_edit_date": 1523947881, "question_id": 49871543, "link": "https://stackoverflow.com/questions/49871543/post-wav-file-to-server-failed-file-shows-array-kotlin-android-php", "title": "Post WAV file to server failed - $_FILE shows Array() - Kotlin, Android, PHP", "body": "<p>I tried to build some speech recognition app on Android, using kaldi(Audio Speech Recognition software) on local server. \nI'd like to post WAV file to local server.\nI found this article:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/34089436/how-to-upload-a-wav-file-using-urlconnection\">How to upload a WAV file using URLConnection</a></p>\n\n<p>and followed &amp; with some other references, I wrote a code but it doesn't work properly.</p>\n\n<p>I got the sentence <code>Array()</code> as <code>$_FILE</code> in php.\nI think the way to POST binary is wrong, but I can't figure out what's wrong...</p>\n\n<p>My MainActivity.kt (part)</p>\n\n<pre><code>private class UploadFileTask : AsyncTask&lt;Void, Void, Void&gt;(){\n    override fun doInBackground(vararg params: Void): Void? {\n        var con: HttpURLConnection? = null\n        try {\n            Log.i(\"POST\",\"Start POST\")\n            con = POST_URL.openConnection() as HttpURLConnection\n            con.connectTimeout = 300000\n            con.setRequestProperty(\"Accept-Charset\", \"UTF-8\")\n            con.setRequestProperty(\"Connection\", \"Keep-Alive\")\n            con.setRequestProperty(\"Cache-Control\", \"no-cache\")\n            con.setRequestProperty(\"Content-Type\", \"audio/wav\")\n            con.requestMethod = \"POST\"\n            con.instanceFollowRedirects = false\n            con.doInput = true\n            con.doOutput = true\n            val wavFile = File(wavPath)\n            var postData: ByteArray? = null\n            if (wavFile.exists()) {\n                Log.i(\"FILE\", \"kaldi.wav detected\")\n                postData = wavFile.readBytes()\n            }\n\n            if (postData != null) {\n                con.setRequestProperty(\"charset\", \"utf-8\")\n                con.setRequestProperty(\"Content-length\", postData.size.toString())\n                Log.i(\"POST\", \"exec post\")\n\n                con.connect()\n\n                try {\n                    val outputStream = DataOutputStream(con.outputStream)\n                    outputStream.write(postData)\n                    outputStream.flush()\n                    outputStream.close()\n                } catch (e: Exception) {\n                    Log.e(\"POST\", \"Exception occurred!\")\n                }\n                val status = con.responseCode\n                Log.i(\"STATUS\", Integer.toString(status))\n\n                when (status) {\n                    HttpURLConnection.HTTP_OK -&gt; {\n                        val inputStream = con.inputStream\n                        val reader = BufferedReader(InputStreamReader(inputStream))\n                        var httpSource = \"\"\n                        var str = reader.readLine()\n                        while (str != null){\n                            httpSource += str\n                            str = reader.readLine()\n                        }\n                        Log.i(\"HTTPSOURCE\", \"source:$httpSource\")\n                        inputStream.close()\n                    } HttpURLConnection.HTTP_UNAUTHORIZED -&gt;{\n                        Log.e(\"POST\", \"UNAUTHORIZED\")\n                    } else -&gt; {\n                        Log.i(\"POST\", \"CODE IS \" + Integer.toString(status))\n                    }\n                }\n\n            }\n            con.disconnect()\n\n        } catch (e: InterruptedException){\n            Log.e(\"UPLOADER\", \"aborting.\")\n        } finally {\n            con?.disconnect()\n        }\n        return null\n    }\n</code></pre>\n\n<p>And post.php</p>\n\n<pre><code>&lt;?php\n\n$uploaddir = '/var/www/html/files/';\n$uploadfile = $uploaddir . basename($_FILES['userfile']['name']);\n\nif (move_uploaded_file($_FILES['userfile']['tmp_name'], $uploadfile)) {\n    echo \"OK UPLOADED\";\n} else {\n    echo \"ERROR\";\n}\nprint_r($_FILES);\n\n\n?&gt;\n</code></pre>\n"}, {"tags": ["firebase", "firebase-realtime-database", "kotlin", "android-recyclerview", "firebaseui"], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "is_accepted": true, "score": 0, "last_activity_date": 1524729258, "creation_date": 1524729258, "answer_id": 50037660, "question_id": 49871294, "link": "https://stackoverflow.com/questions/49871294/how-can-i-set-a-filter-in-a-firebaseui-recyleradapter-when-querying-the-database/50037660#50037660", "title": "How can I set a filter in a FirebaseUI RecylerAdapter when querying the database?", "body": "<p>There is no way to use <em>buildQuery</em> to achieve this. The key to a solution is a strategy called <strong>Denormalization</strong>, which is a polite way of saying <strong>\"Duplicating Data\"</strong>. You may want to watch this for an explanation: <a href=\"https://www.youtube.com/watch?v=vKqXSZLLnHA\" rel=\"nofollow noreferrer\">Denormalization is normal with Firebase Database</a>. </p>\n"}], "owner": {"reputation": 591, "user_id": 7917159, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LxVNtQgqzcw/AAAAAAAAAAI/AAAAAAAAAJU/f7Wxh854Sjs/photo.jpg?sz=128", "display_name": "CEO tech4lifeapps", "link": "https://stackoverflow.com/users/7917159/ceo-tech4lifeapps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 50037660, "answer_count": 1, "score": 0, "last_activity_date": 1524729258, "creation_date": 1523946580, "last_edit_date": 1524566578, "question_id": 49871294, "link": "https://stackoverflow.com/questions/49871294/how-can-i-set-a-filter-in-a-firebaseui-recyleradapter-when-querying-the-database", "title": "How can I set a filter in a FirebaseUI RecylerAdapter when querying the database?", "body": "<p>I use a FirebaseDatabase that holds \"categories\" and related \"details\" like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3iBxB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3iBxB.jpg\" alt=\"firebaseDatabase\"></a></p>\n\n<p>Note: categoryId in \"categories\" acts as primary key for \"details\".</p>\n\n<p>My DetailAdapter works with FirebaseUI's RecyclerAdapter using this query:</p>\n\n<pre><code>class DetailAdapter(lifecycleOwner: LifecycleOwner, private val categoryId: String) : FirebaseRecyclerAdapter&lt;Detail, DetailAdapter.DetailHolder&gt;(buildOptions(lifecycleOwner, categoryId)) {\n\ncompanion object {\n    private fun buildQuery(categoryId: String) = FirebaseDatabase.getInstance()\n            .reference\n            .child(\"\").child(\"details\").child(categoryId)\n            .limitToLast(50)\n\n    private fun buildOptions(lifecycleOwner: LifecycleOwner, categoryId: String) = FirebaseRecyclerOptions.Builder&lt;Detail&gt;()\n            .setQuery(buildQuery(categoryId), Detail::class.java)\n            .setLifecycleOwner(lifecycleOwner)\n            .build()\n}\n...\n</code></pre>\n\n<p>This works flawlessly.<br>\nNow I want to write a similar Adapter (i.e. named \"FavoritesAdapter\") in order to display only \"details\" that have \"favorite: [set to] true\". Can I use buildQuery to achieve this?</p>\n"}, {"tags": ["android", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1523946593, "post_id": 49870994, "comment_id": 86757715, "body": "tempimg= findViewById(R.id.ImageView) initilization is missing"}, {"owner": {"reputation": 5853, "user_id": 10561460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jl1Jc.png?s=128&g=1", "display_name": "Paresh P.", "link": "https://stackoverflow.com/users/10561460/paresh-p"}, "edited": false, "score": 0, "creation_date": 1523946869, "post_id": 49870994, "comment_id": 86757849, "body": "Alternatively, Get bitmap from <code>Picasso</code> and convert into <code>BitmapDrawable</code>."}, {"owner": {"reputation": 836, "user_id": 7519767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-v4t2yTh9eAQ/AAAAAAAAAAI/AAAAAAAAALo/IkSOBGPMg_8/photo.jpg?sz=128", "display_name": "Peter Samokhin", "link": "https://stackoverflow.com/users/7519767/peter-samokhin"}, "edited": false, "score": 0, "creation_date": 1523946935, "post_id": 49870994, "comment_id": 86757886, "body": "<code>tempimg.getDrawable()</code> is not null but <code>tempimg.getDrawable() as BitmapDrawable</code> is null?"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523946948, "post_id": 49870994, "comment_id": 86757897, "body": "why do you use ImageView at all, if you don&#39;t need it, and want only a Bitmap?"}, {"owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "edited": false, "score": 0, "creation_date": 1523947583, "post_id": 49870994, "comment_id": 86758200, "body": "Sorry, new to android and kotlin. They&#39;re both null. I think Wizard has the best suggestion so far."}], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 0, "last_activity_date": 1523964118, "creation_date": 1523964118, "answer_id": 49876767, "question_id": 49870994, "link": "https://stackoverflow.com/questions/49870994/null-drawable-from-picasso-imageview/49876767#49876767", "title": "null drawable from Picasso ImageView", "body": "<p>First, <code>Picasso.get().load(a).into(tempimg)</code> is <em>asynchronous</em>. <code>Picasso</code> will do the request in a thread and when it get the result, set it to the <code>ImageView</code>. The next lines of code can't get the result of Picasso.</p>\n\n<p>If you would like to get a <code>Bitmap</code>, you can ask <code>Picasso</code> to return it. See <a href=\"https://stackoverflow.com/questions/20181491/use-picasso-to-get-a-callback-with-a-bitmap\">Use Picasso to get a callback with a Bitmap</a></p>\n"}], "owner": {"reputation": 196, "user_id": 9459815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v27GN.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/9459815/zim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 1, "accepted_answer_id": 49876767, "answer_count": 1, "score": 0, "last_activity_date": 1523964118, "creation_date": 1523945289, "last_edit_date": 1523946192, "question_id": 49870994, "link": "https://stackoverflow.com/questions/49870994/null-drawable-from-picasso-imageview", "title": "null drawable from Picasso ImageView", "body": "<p>Basically, I am trying to convert a URI -> ImageView (via Picasso) -> Drawable.</p>\n\n<pre><code>var tempimg = ImageView(this)\nvar a: String\nvar d: Drawable\n\n    a = pageURIFd + page\n    Picasso.get().load(a).into(tempimg)\n    d = tempimg.getDrawable() as BitmapDrawable\n    bitmaps.add(d)\n</code></pre>\n\n<p>I know the ImageView is not empty after Picasso loads it because I can display the image. But the line below is returning null. I'm trying to add each drawable to an arraylist.</p>\n\n<pre><code>d = tempimg.getDrawable() as BitmapDrawable\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1523943272, "post_id": 49870311, "comment_id": 86756329, "body": "you basically can never be sure that you will be able to get current location immediately."}], "answers": [{"tags": [], "owner": {"reputation": 237, "user_id": 4829777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fd00o_9XSa8/AAAAAAAAAAI/AAAAAAAAACs/vnG7c9l-_8s/photo.jpg?sz=128", "display_name": "Azay Gupta", "link": "https://stackoverflow.com/users/4829777/azay-gupta"}, "is_accepted": false, "score": 2, "last_activity_date": 1523944013, "last_edit_date": 1523944013, "creation_date": 1523943576, "answer_id": 49870619, "question_id": 49870311, "link": "https://stackoverflow.com/questions/49870311/get-currentnot-last-location-with-update-only-one-time-in-android/49870619#49870619", "title": "Get current(not last) location with update only one time in Android", "body": "<ol>\n<li><p>After requesting you will get callback</p></li>\n<li><p>You are calling <code>userLocationClient.removeLocationUpdates(userLocationCallback)</code>\nin loop. need to call after break outside loop after getting location object</p></li>\n</ol>\n\n<p><a href=\"https://developer.android.com/training/location/receive-location-updates.html#stop-updates\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/receive-location-updates.html#stop-updates</a></p>\n"}, {"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 0, "last_activity_date": 1523950512, "creation_date": 1523950512, "answer_id": 49872334, "question_id": 49870311, "link": "https://stackoverflow.com/questions/49870311/get-currentnot-last-location-with-update-only-one-time-in-android/49872334#49872334", "title": "Get current(not last) location with update only one time in Android", "body": "<p>To use removeLocationUpdates from within an anonymous LocationListener object, you can do <code>removeLocationUpdates(this)</code>.</p>\n"}], "owner": {"reputation": 125, "user_id": 9639905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99a70c5a8095389e63d9d058e3821d28?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/9639905/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2173, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1523950512, "creation_date": 1523941752, "question_id": 49870311, "link": "https://stackoverflow.com/questions/49870311/get-currentnot-last-location-with-update-only-one-time-in-android", "title": "Get current(not last) location with update only one time in Android", "body": "<p>I want to get current location when I touch a button.</p>\n\n<ol>\n<li><p>Touch a button</p></li>\n<li><p><strong>requestLocationUpdates</strong> one time, and get current location, then <strong>removeLocationUpdates</strong>.</p></li>\n</ol>\n\n<p>The problem is in 2. I don't want GPS and wifi work all time when I <strong>requestLocationUpdates</strong>. But I don't know how to <strong>removeLocationUpdates</strong> in\n<strong>locationCallback</strong>.</p>\n\n<pre><code>package com.example.location\n\nimport android.annotation.SuppressLint\nimport android.content.pm.PackageManager\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.v4.app.ActivityCompat\nimport android.util.Log\nimport android.widget.Button\nimport android.widget.TextView\nimport com.google.android.gms.location.*\n\nclass MainActivity : AppCompatActivity() {\n\n\nprivate var userAgreePermissionCode = 1\n\n\nprivate lateinit var userLocationClient: FusedLocationProviderClient\n\n\nprivate lateinit var userLocationCallback: LocationCallback\n\n@SuppressLint(\"RestrictedApi\")\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    val somePermission = arrayOf(android.Manifest.permission.ACCESS_COARSE_LOCATION, android.Manifest.permission.ACCESS_FINE_LOCATION)\n    for (p in somePermission ){\n        if(ActivityCompat.checkSelfPermission(this, p) != PackageManager.PERMISSION_GRANTED)\n            ActivityCompat.requestPermissions(this, somePermission , userAgreePermissionCode)\n        break\n    }\n\n\n    findViewById&lt;Button&gt;(R.id.Locate).setOnClickListener{\n\n\n        userLocationClient = LocationServices.getFusedLocationProviderClient(this)\n\n\n        val userLocationRequest = LocationRequest().apply {\n            interval = 1000  \n            fastestInterval = 1000\n            priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n        }\n\n        //  Problem is here\n        userLocationCallback = object : LocationCallback() {\n            override fun onLocationResult(locationResult: LocationResult?) {\n                locationResult ?: return\n                for (location in locationResult.locations){\n\n                    //  I want to get the first update location(current location) and close requestLocationUpdates!!!!\n                    //  Only one time, not keep update\n                    Log.i(\"longitude\", location.longitude.toString())\n                    Log.i(\"latitude\", location.latitude.toString())\n                    //  findViewById&lt;TextView&gt;(R.id.Longitude).text = location.longitude.toString()\n                    //  findViewById&lt;TextView&gt;(R.id.Latitude).text = location.latitude.toString()\n\n                    //  Problem here, it's error.\n                    userLocationClient.removeLocationUpdates(userLocationCallback)\n                }\n            }\n        }\n\n\n        userLocationClient.requestLocationUpdates(userLocationRequest,userLocationCallback,null)\n\n    }\n}\n\n//  -----------------------------------------\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;String&gt;, grantResults: IntArray) {\n    when (requestCode) {\n        userAgreePermissionCode -&gt; {\n            for( i in 0..(grantResults.size-1) ){\n                if ((grantResults.isNotEmpty() &amp;&amp; grantResults[i] == PackageManager.PERMISSION_GRANTED))\n                    Log.i(\"Status:\", \"Agree a permission\")\n                else\n                    finish()\n            }\n            return\n        }\n    }\n}\n//  -----------------------------------------\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7163, "user_id": 5697244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHLHs.jpg?s=128&g=1", "display_name": "Sagar Kacha", "link": "https://stackoverflow.com/users/5697244/sagar-kacha"}, "edited": false, "score": 0, "creation_date": 1523947857, "post_id": 49871454, "comment_id": 86758349, "body": "Checking now. Let me check"}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1523947284, "creation_date": 1523947284, "answer_id": 49871454, "question_id": 49870306, "link": "https://stackoverflow.com/questions/49870306/disable-wild-cart-import-in-intellij-android-studio-in-kotlin/49871454#49871454", "title": "Disable wild cart import in intellij android studio in kotlin", "body": "<p>Look under <code>Settings -&gt; Code Style -&gt; Kotlin -&gt; Packages to Use Import with '*'</code> (note, Kotlin, not Java as in the linked question). I've just checked and it does include <code>java.util.*</code> at my machine and I didn't edit it before.</p>\n"}, {"comments": [{"owner": {"reputation": 7491, "user_id": 1806099, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xT2cr.png?s=128&g=1", "display_name": "Skynet", "link": "https://stackoverflow.com/users/1806099/skynet"}, "edited": false, "score": 1, "creation_date": 1593003600, "post_id": 49892801, "comment_id": 110626923, "body": "Thanks for referencing Kotlin, I was pulling my hair apart as I made the changes only to the Java Coding Style imports."}], "tags": [], "owner": {"reputation": 7163, "user_id": 5697244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHLHs.jpg?s=128&g=1", "display_name": "Sagar Kacha", "link": "https://stackoverflow.com/users/5697244/sagar-kacha"}, "is_accepted": true, "score": 44, "last_activity_date": 1524033490, "creation_date": 1524033490, "answer_id": 49892801, "question_id": 49870306, "link": "https://stackoverflow.com/questions/49870306/disable-wild-cart-import-in-intellij-android-studio-in-kotlin/49892801#49892801", "title": "Disable wild cart import in intellij android studio in kotlin", "body": "<p>Finally got answer by re-search:</p>\n\n<p>Simple steps to disable wildcart import in in <strong>Android Studio</strong> with <strong>Kotlin</strong>. Steps as listed below.</p>\n\n<p>1) In settings>code style>java as mentioned in below screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/z6byt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z6byt.png\" alt=\"enter image description here\"></a> </p>\n\n<p>2) In java import tab apply changes as given in below screen</p>\n\n<p><a href=\"https://i.stack.imgur.com/uPr22.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uPr22.png\" alt=\"enter image description here\"></a></p>\n\n<p>3) Also in kotlin tab apply changes as given in below changes</p>\n\n<p><a href=\"https://i.stack.imgur.com/ew4lq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ew4lq.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note</strong> : Don't forgot to remove all packages form \"packages to use import with *\" section in kotlin tab.</p>\n\n<p>Thanks!</p>\n\n<p>Happy Coding!!</p>\n"}], "owner": {"reputation": 7163, "user_id": 5697244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHLHs.jpg?s=128&g=1", "display_name": "Sagar Kacha", "link": "https://stackoverflow.com/users/5697244/sagar-kacha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5015, "favorite_count": 3, "accepted_answer_id": 49892801, "answer_count": 2, "score": 18, "last_activity_date": 1524033512, "creation_date": 1523941715, "last_edit_date": 1524033512, "question_id": 49870306, "link": "https://stackoverflow.com/questions/49870306/disable-wild-cart-import-in-intellij-android-studio-in-kotlin", "title": "Disable wild cart import in intellij android studio in kotlin", "body": "<p>I want to turn off wild cart import in java class import.</p>\n\n<p>For example if I am importing <strong>java.util</strong> package's any class then it will import whole java package like <strong>java.util.*</strong>. So how can I stop in android studio 3.1.1.</p>\n\n<p>Here is screenshot from my problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5jJff.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5jJff.png\" alt=\"enter image description here\"></a></p>\n\n<p>I just used only two classes form this package named <strong>Locale</strong> and <strong>Calendar</strong>. But still I have to import whole package so want to stop importing whole package and just import on this two class default.</p>\n\n<p>Also tried this reference link but not working for me : <a href=\"https://stackoverflow.com/a/3348855/5697244\">https://stackoverflow.com/a/3348855/5697244</a></p>\n\n<p><strong>Note</strong>: I am using kotlin language as development.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["servlets", "web", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9652685, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "zhengtao wang", "link": "https://stackoverflow.com/users/9652685/zhengtao-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1523934187, "last_edit_date": 1523934187, "creation_date": 1523933906, "answer_id": 49869177, "question_id": 49868648, "link": "https://stackoverflow.com/questions/49868648/kotlin-reture-object-throw-java-lang-illegalstateexception-getoutputstream-ha/49869177#49869177", "title": "kotlin reture object throw java.lang.IllegalStateException: getOutputStream() has already been called for this response", "body": "<p>When I update the return type from <code>List&lt;Any&gt;</code> to <code>Any</code> , it works</p>\n"}], "owner": {"reputation": 1, "user_id": 9652685, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "zhengtao wang", "link": "https://stackoverflow.com/users/9652685/zhengtao-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523934187, "creation_date": 1523929808, "last_edit_date": 1523931054, "question_id": 49868648, "link": "https://stackoverflow.com/questions/49868648/kotlin-reture-object-throw-java-lang-illegalstateexception-getoutputstream-ha", "title": "kotlin reture object throw java.lang.IllegalStateException: getOutputStream() has already been called for this response", "body": "<p>I want to use kotlin's object as dto   </p>\n\n<pre><code>@ResponseBody\nfun getBindCar(coachId: Long): List&lt;Any&gt; {\n    val coach = coachRepository.findById(coachId).get()\n    var result = mutableListOf&lt;Any&gt;()\n    coach?.cars.forEach { it -&gt;\n        var o = object : Serializable {\n            var id: Long = 0L\n            var licenceNum = \"\"\n        }\n        o.id = it.id\n        o.licenceNum = it.licenceNum\n        result.add(o)\n    }\n    return result\n}\n</code></pre>\n\n<p>when it return ,throw exception </p>\n\n<blockquote>\n  <p>2018:04:106:18:35:36.936 [http-nio-8080-exec-4] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved exception caused by Handler execution: java.lang.ClassCastException: org.appsugar.archetypes.web.controller.oa.CoachController$getBindCar$1$o$1 cannot be cast to org.springframework.core.io.support.ResourceRegion\n  2018:04:106:18:35:36.950 [http-nio-8080-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalStateException: getOutputStream() has already been called for this response] with root cause\n  java.lang.IllegalStateException: getOutputStream() has already been called for this response</p>\n</blockquote>\n"}, {"tags": ["android", "testing", "kotlin", "robolectric"], "comments": [{"owner": {"reputation": 673, "user_id": 5111113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5Wk6G.png?s=128&g=1", "display_name": "Huw Davies", "link": "https://stackoverflow.com/users/5111113/huw-davies"}, "edited": false, "score": 0, "creation_date": 1531468103, "post_id": 49868414, "comment_id": 89615876, "body": "did you find out? If so, it would be really good if you could answer your own question"}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 673, "user_id": 5111113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5Wk6G.png?s=128&g=1", "display_name": "Huw Davies", "link": "https://stackoverflow.com/users/5111113/huw-davies"}, "edited": false, "score": 0, "creation_date": 1531468307, "post_id": 49868414, "comment_id": 89615993, "body": "@HuwDavies no. And it\u2019s not been answered in their github repo as well. I finally choose to test ui with espresso and unit test the other parts to do the job."}, {"owner": {"reputation": 673, "user_id": 5111113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5Wk6G.png?s=128&g=1", "display_name": "Huw Davies", "link": "https://stackoverflow.com/users/5111113/huw-davies"}, "edited": false, "score": 0, "creation_date": 1531532088, "post_id": 49868414, "comment_id": 89644305, "body": "that&#39;s a shame!"}, {"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "reply_to_user": {"reputation": 673, "user_id": 5111113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5Wk6G.png?s=128&g=1", "display_name": "Huw Davies", "link": "https://stackoverflow.com/users/5111113/huw-davies"}, "edited": false, "score": 0, "creation_date": 1531534658, "post_id": 49868414, "comment_id": 89644615, "body": "@HuwDavies it\u2019s a pity. The robolectric fan even downvote this question twice. I wonder why. But seems I am not alone.  So now it gets two votes."}, {"owner": {"reputation": 673, "user_id": 5111113, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/5Wk6G.png?s=128&g=1", "display_name": "Huw Davies", "link": "https://stackoverflow.com/users/5111113/huw-davies"}, "edited": false, "score": 0, "creation_date": 1531640475, "post_id": 49868414, "comment_id": 89665549, "body": "I think it would be very valuable as a feature. I can see plenty of logic in plenty of apps built into onLossFocus events"}], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 1138868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b8d060a4a16fdcb442f10af5797de2?s=128&d=identicon&r=PG", "display_name": "mwu", "link": "https://stackoverflow.com/users/1138868/mwu"}, "is_accepted": false, "score": 1, "last_activity_date": 1544558749, "creation_date": 1544558749, "answer_id": 53731583, "question_id": 49868414, "link": "https://stackoverflow.com/questions/49868414/how-to-trigger-the-lost-focus-event-for-a-textedit-using-robolectric/53731583#53731583", "title": "How to trigger the lost focus event for a TextEdit using Robolectric?", "body": "<p>I was able to get my <code>OnFocusChangeListener</code> triggering by using <code>.performAccessibilityAction(ACTION_FOCUS, Bundle())</code>. Hopefully this solves your problem. Your example would look like:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\nclass AuthLogDetailActivityUITest {\n    @Test\n    fun should_show_error_when_no_text_input_when_textInput_lost_focus() {\n        val logDetailsActivity = Robolectric.setupActivity(AuthLogDetailsActivity::class.java)\n\n        val quickNameTextEdit = logDetailsActivity.findViewById&lt;TextInputEditText&gt;(R.id.loginDetails_textEdit_quickName)\n        val passwordTextEdit = logDetailsActivity.findViewById&lt;TextInputEditText&gt;(R.id.loginDetails_textEdit_password)\n\n        quickNameTextEdit.performAccessibilityAction(ACTION_FOCUS, Bundle())\n        passwordTextEdit.performAccessibilityAction(ACTION_FOCUS, Bundle())\n\n        assertNotNull(quickNameTextEdit.error)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1544558749, "creation_date": 1523927981, "question_id": 49868414, "link": "https://stackoverflow.com/questions/49868414/how-to-trigger-the-lost-focus-event-for-a-textedit-using-robolectric", "title": "How to trigger the lost focus event for a TextEdit using Robolectric?", "body": "<p>I have a 2 TextEdits on the screen. And they all have a <code>OnFocusChangeListener</code> which will check the text in the field, if it's empty it gonna set the <code>error</code> property to the error message. It works according to my ad-hoc test.</p>\n\n<p>But I don't know how to verify this using <code>Robolectric</code>? I tried this:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner::class)\nclass AuthLogDetailActivityUITest {\n    @Test\n    fun should_show_error_when_no_text_input_when_textInput_lost_focus() {\n        val logDetailsActivity = Robolectric.setupActivity(AuthLogDetailsActivity::class.java)\n\n        val quickNameTextEdit = logDetailsActivity.findViewById&lt;TextInputEditText&gt;(R.id.loginDetails_textEdit_quickName)\n        val passwordTextEdit = logDetailsActivity.findViewById&lt;TextInputEditText&gt;(R.id.loginDetails_textEdit_password)\n\n        quickNameTextEdit.performClick()\n        passwordTextEdit.performClick()\n\n        assertNotNull(quickNameTextEdit.error)\n    }\n}\n</code></pre>\n\n<p>I tried to mimic the real world, where the user just click the text edit one by one without entering anything.</p>\n\n<p>But in the real world, as soon as the user clicks the <code>passwordTextEdit</code>, <code>quickNameTextEdit</code> should show the error message.</p>\n\n<p>But the test will always fail because the <code>quickNameTextEdit.error</code> is null. </p>\n\n<p>I think it's not the way to trigger that <code>onFocusChange</code> event. What is the <code>Robolectric</code> way to test this behaviour?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "fragment"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1523969928, "post_id": 49872093, "comment_id": 86773140, "body": "I have some think like this already but ny problem is Bundle always send null what i can do"}, {"owner": {"reputation": 1059, "user_id": 4458354, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003857071120/picture?type=large", "display_name": "Rahul Chaudhary", "link": "https://stackoverflow.com/users/4458354/rahul-chaudhary"}, "reply_to_user": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1523973960, "post_id": 49872093, "comment_id": 86776213, "body": "Check your data before attachment"}, {"owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1523974350, "post_id": 49872093, "comment_id": 86776540, "body": "Like .toString () ?"}, {"owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1523995672, "post_id": 49872093, "comment_id": 86789319, "body": "in MainActivity_____     override fun onItemClicked(Data:MainMarkModling) {            val bundle = Bundle()             bundle.putString(&quot;data&quot;, &quot;nasser&quot;)              val subMark = SubMark()             subMark.arguments = bundle          var ft1 : FragmentTransaction = supportFragmentManager.beginTransaction()         ft1.replace(R.id.MainFram,SubMark())         ft1.commit()     }_____*_____ in fragment     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {         var args = arguments?.getString(&quot;data&quot;)         tit = args.toString()     }"}, {"owner": {"reputation": 1059, "user_id": 4458354, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003857071120/picture?type=large", "display_name": "Rahul Chaudhary", "link": "https://stackoverflow.com/users/4458354/rahul-chaudhary"}, "reply_to_user": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1524025548, "post_id": 49872093, "comment_id": 86797932, "body": "you must use ft1.replace(R.id.MainFram,subMark)  instead   of ft1.replace(R.id.MainFram,SubMark())"}, {"owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "edited": false, "score": 0, "creation_date": 1524082671, "post_id": 49872093, "comment_id": 86832564, "body": "Thank you i try other thing and i fix it"}], "tags": [], "owner": {"reputation": 1059, "user_id": 4458354, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003857071120/picture?type=large", "display_name": "Rahul Chaudhary", "link": "https://stackoverflow.com/users/4458354/rahul-chaudhary"}, "is_accepted": false, "score": 0, "last_activity_date": 1524025790, "last_edit_date": 1524025790, "creation_date": 1523949637, "answer_id": 49872093, "question_id": 49868067, "link": "https://stackoverflow.com/questions/49868067/kotlin-bundle-pass-null-to-other-fragments/49872093#49872093", "title": "kotlin- Bundle pass null to other fragments", "body": "<p>Your main culprit is  ft1.replace(R.id.MainFram,SubMark()) instead you must use   ft1.replace(R.id.MainFram,subMark) subMark variable. You are calling new instance of Fragment instead of fragment with bundle. Use these piece of code</p>\n\n<pre><code>  val bundle = Bundle()\n    bundle.putString(\"data\", \"nasser\") \n    val subMark = SubMark()\n    subMark.arguments = bundle\n    var ft1 : FragmentTransaction = supportFragmentManager.beginTransaction() \n    ft1.replace(R.id.MainFram,subMark) ft1.commit()\n</code></pre>\n\n<p>And access data with </p>\n\n<pre><code> String name = getArguments().getString(\"key\");\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 8644851, "user_type": "registered", "profile_image": "https://graph.facebook.com/1470920186327844/picture?type=large", "display_name": "Nasser El Arab", "link": "https://stackoverflow.com/users/8644851/nasser-el-arab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524025790, "creation_date": 1523924877, "last_edit_date": 1523938669, "question_id": 49868067, "link": "https://stackoverflow.com/questions/49868067/kotlin-bundle-pass-null-to-other-fragments", "title": "kotlin- Bundle pass null to other fragments", "body": "<p>I have simple app that has 1 activity and two fragments one of them display RecyclerView with OnClickListener to replace the fragment\nnow I need to send data from that arraylist RecyclerView  with the click to other fragment and I don't know where I must type the Bundle and how</p>\n"}, {"tags": ["arrays", "list", "kotlin", "max", "min"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523926746, "post_id": 49867400, "comment_id": 86752050, "body": "You may want to use fold instead of calling min and max separately, depending on how much overhead looping over the list twice adds"}], "answers": [{"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 2, "last_activity_date": 1523922109, "creation_date": 1523922109, "answer_id": 49867739, "question_id": 49867400, "link": "https://stackoverflow.com/questions/49867400/range-of-an-array-or-list-in-kotlin-when-it-does-not-have-to-accommodate-the-emp/49867739#49867739", "title": "Range of an Array or List in Kotlin when it does not have to accommodate the empty case", "body": "<p>This isn't much different, but since you <em>know</em> that it isn't empty, you can use <code>!!</code> (<a href=\"https://stackoverflow.com/q/47543386/49746\">the Hold My Beer operator</a>), to tell Kotlin to ignore the nullability of the types.</p>\n\n<pre><code>val range = if(array.isEmpty()) 0 else array.max()!! - array.min()!!\n</code></pre>\n\n<p>It might also be handy to define an extension if you anticipate doing this a lot:</p>\n\n<pre><code>fun Array&lt;Int&gt;.range(): Int = \n    if(isEmpty()) 0 else max()!! - min()!!\n\n// Usage\nval range = array.range()\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 7394973, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4Vu2l.jpg?s=128&g=1", "display_name": "J.E.Tkaczyk", "link": "https://stackoverflow.com/users/7394973/j-e-tkaczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 49867739, "answer_count": 1, "score": 0, "last_activity_date": 1523922109, "creation_date": 1523919198, "last_edit_date": 1523920017, "question_id": 49867400, "link": "https://stackoverflow.com/questions/49867400/range-of-an-array-or-list-in-kotlin-when-it-does-not-have-to-accommodate-the-emp", "title": "Range of an Array or List in Kotlin when it does not have to accommodate the empty case", "body": "<p>I'm looking to calculate the range of a list or array and was frustrated by not being able to simply take the difference of the <code>max()</code> and <code>min()</code> functions due to null safety feature of Kotlin.  </p>\n\n<p>I came up with this solution which is forcing me to deal with the case of an <code>ifEmpty()</code> even if I know that is not possible in with this immutable array.  I wonder if there is something simpler without the extra characters.</p>\n\n<pre><code>val array=arrayOf(1,2,3,4,5)\n// doesn't compile... val range = array.max()-array.min()\nval range = (array.max() ?: 0) - (array.min() ?: 0)\n</code></pre>\n"}, {"tags": ["kotlin", "spring-webflux"], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 4433645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e238db82043ae84d98ad02d5ed0ecd6?s=128&d=identicon&r=PG&f=1", "display_name": "djanderson", "link": "https://stackoverflow.com/users/4433645/djanderson"}, "edited": false, "score": 1, "creation_date": 1523994389, "post_id": 49872208, "comment_id": 86788709, "body": "Nailed it! Thank you! I ended up using <code>...flatMap { response -&gt; response.bodyToMono&lt;ByteArrayResource&gt;() }.map { storeArchive(it) }</code> and just change my signature of <code>storeArchive</code> to take a <code>ByteArrayResource</code>. But now I&#39;m actually getting my bytes and able to untar the archive, etc. Thank you very much!"}], "tags": [], "owner": {"reputation": 1482, "user_id": 8996455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6VPfx.jpg?s=128&g=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/8996455/dmitry"}, "is_accepted": true, "score": 5, "last_activity_date": 1523950490, "last_edit_date": 1523950490, "creation_date": 1523950059, "answer_id": 49872208, "question_id": 49866547, "link": "https://stackoverflow.com/questions/49866547/spring-webflux-webclient-receiving-an-application-octet-stream-file-as-a-mono/49872208#49872208", "title": "Spring WebFlux Webclient receiving an application/octet-stream file as a Mono", "body": "<p>You just have to return the converted body from the <code>flatMap</code> so it transforms from <code>Mono&lt;T&gt;</code> to <code>T</code>:</p>\n\n<pre><code>client.get().uri(ARCHIVE_URL).accept(MediaType.APPLICATION_OCTET_STREAM)\n            .exchange()\n            .flatMap { response -&gt;\n                response.bodyToMono(ByteArrayResource::class.java)\n            }\n            .map { archiveContentBytes -&gt;\n                archiveContentBytes.inputStream\n            }\n            .doOnSuccess { inputStream -&gt;\n                //here is you code to do anything with the inputStream\n                val archiveContents = TarArchiveInputStream(inputStream)\n            }\n            .subscribe()\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 4433645, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e238db82043ae84d98ad02d5ed0ecd6?s=128&d=identicon&r=PG&f=1", "display_name": "djanderson", "link": "https://stackoverflow.com/users/4433645/djanderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3738, "favorite_count": 0, "accepted_answer_id": 49872208, "answer_count": 1, "score": 2, "last_activity_date": 1523950490, "creation_date": 1523914243, "question_id": 49866547, "link": "https://stackoverflow.com/questions/49866547/spring-webflux-webclient-receiving-an-application-octet-stream-file-as-a-mono", "title": "Spring WebFlux Webclient receiving an application/octet-stream file as a Mono", "body": "<p>I'm prototyping a small Spring WebFlux application in Kotlin. This application needs to GET a tar archive from a remote REST endpoint and store it locally on disk. Sounds simple.</p>\n\n<p>I first created an integration test that starts the spring server and one other WebFlux server with a mock REST endpoint that serves the tar archive.</p>\n\n<p>The test should go like:</p>\n\n<p>1) app: GET <code>mock-server/archive</code></p>\n\n<p>2) mock-server: response with status 200 and tar archive in body as type attachment</p>\n\n<p>3) app: block until all bytes received, then untar and use files</p>\n\n<p>The problem I'm having is that when I try and collect the bytes into a <code>ByteArray</code> on the app, it blocks forever.</p>\n\n<p>My <code>mock-server/archive</code> routes to the following function:</p>\n\n<pre><code>fun serveArchive(request: ServerRequest): Mono&lt;ServerResponse&gt; {\n    val tarFile = FileSystemResource(ARCHIVE_PATH)\n    assert(tarFile.exists() &amp;&amp; tarFile.isFile &amp;&amp; tarFile.contentLength() != 0L)\n    return ServerResponse\n            .ok()\n            .contentType(MediaType.APPLICATION_OCTET_STREAM)\n            .contentLength(tarFile.contentLength())\n            .header(\"Content-Disposition\", \"attachment; filename=\\\"$ARCHIVE_FNAME\\\"\")\n            .body(fromResource(tarFile))\n}\n</code></pre>\n\n<p>Then my app calls that with the following:</p>\n\n<pre><code>private fun retrieveArchive {\n    client.get().uri(ARCHIVE_URL).accept(MediaType.APPLICATION_OCTET_STREAM)\n            .exchange()\n            .flatMap { response -&gt;\n                storeArchive(response.bodyToMono())\n            }.subscribe()\n}\n\nprivate fun storeArchive(archive: Mono&lt;ByteArrayResource&gt;): Mono&lt;Void&gt; {\n    val archiveContentBytes = archive.block() // &lt;- this blocks forever\n    val archiveContents = TarArchiveInputStream(archiveContentBytes.inputStream)\n    // read archive\n}\n</code></pre>\n\n<p>I've see <a href=\"https://stackoverflow.com/questions/44821187/how-to-best-get-a-byte-array-from-a-clientresponse-from-spring-webclient\">How to best get a byte array from a ClientResponse from Spring WebClient?</a> and that's why I'm trying to use the <code>ByteArrayResource</code>.</p>\n\n<p>When I step through everything, I see that <code>serveArchive</code> seems to be working (the assert statement says the file I'm passing exists and there are some bytes in it). In <code>retrieveArchive</code> I get a 200 and can see all the appropriate information in the <code>.headers</code> (content-type, content-length all look good). When I get down to <code>storeArchive</code> and try to retrieve the bytes from the Mono using <code>block</code>, it simply blocks forever.</p>\n\n<p>I'm at a complete loss of how to debug something like this.</p>\n"}, {"tags": ["spring-mvc", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 273086, "user_id": 342852, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aLKQa.png?s=128&g=1", "display_name": "Sean Patrick Floyd", "link": "https://stackoverflow.com/users/342852/sean-patrick-floyd"}, "is_accepted": true, "score": 4, "last_activity_date": 1523914671, "creation_date": 1523914671, "answer_id": 49866627, "question_id": 49866514, "link": "https://stackoverflow.com/questions/49866514/disable-url-decoding-in-spring-mvc/49866627#49866627", "title": "Disable URL decoding in Spring MVC", "body": "<p>Any web framework will decrypt the query path for you, as that's expected behavior. If that's not what you want, you will have to define a method argument of type HttpServletRequest and parse the query yourself using <a href=\"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html#getQueryString%28%29\" rel=\"nofollow noreferrer\"><code>HttpServletRequest.getQueryString()</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2525, "user_id": 3439919, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cv1Eg.png?s=128&g=1", "display_name": "Wheel Builder", "link": "https://stackoverflow.com/users/3439919/wheel-builder"}, "is_accepted": false, "score": 0, "last_activity_date": 1523981489, "creation_date": 1523981489, "answer_id": 49882867, "question_id": 49866514, "link": "https://stackoverflow.com/questions/49866514/disable-url-decoding-in-spring-mvc/49882867#49882867", "title": "Disable URL decoding in Spring MVC", "body": "<p>Thanks to @SeanPatrickFloyd, implemented it as </p>\n\n<pre><code>@RequestMapping(\"missedcall\")\nfun missedCall(request: HttpServletRequest, model: ModelMap): String {\n    val encodedValue = request.queryString.split(\"=\")[1]\n    //decrypt encryptedValue here\n}\n</code></pre>\n"}], "owner": {"reputation": 2525, "user_id": 3439919, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/cv1Eg.png?s=128&g=1", "display_name": "Wheel Builder", "link": "https://stackoverflow.com/users/3439919/wheel-builder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 0, "accepted_answer_id": 49866627, "answer_count": 2, "score": 0, "last_activity_date": 1523981489, "creation_date": 1523914085, "last_edit_date": 1523914417, "question_id": 49866514, "link": "https://stackoverflow.com/questions/49866514/disable-url-decoding-in-spring-mvc", "title": "Disable URL decoding in Spring MVC", "body": "<p>I have the following endpoint</p>\n\n<pre><code>@RequestMapping(\"missedcall\")\nfun missedCall(@RequestParam(\"v\") encryptedValue : String, model: \nModelMap): String {\n    //decrypt encryptedValue here\n}\n</code></pre>\n\n<p>When I execute this endpoint with \"<a href=\"http://myurl.com/missedcall?v=this+is+my+encrypted+string\" rel=\"nofollow noreferrer\">http://myurl.com/missedcall?v=this+is+my+encrypted+string</a>\", encryptedValue initialized as \"this is my encrypted string\".  I actually want the pluses as they are part of the encryption and I can't decrypt the string without them.  </p>\n\n<p>The work around would be URL encode the string back to restore pluses and other special characters, BUT is there a cleaner way?  Maybe disabling URL decoding for this particular endpoint?  </p>\n\n<p>Note: I can't pass this param in body, it has to be part of the query string. Also this is written in Kotlin, but I am 100% sure Java has similar issues, so don't feel discouraged by Kotlin :).</p>\n"}, {"tags": ["gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "edited": false, "score": 0, "creation_date": 1529713688, "post_id": 49866403, "comment_id": 88988196, "body": "This problem may be related with ProGuard. Do you have it?"}, {"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "reply_to_user": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "edited": false, "score": 0, "creation_date": 1529889197, "post_id": 49866403, "comment_id": 89023088, "body": "@comm1x No, I don&#39;t"}], "answers": [{"comments": [{"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1524158724, "post_id": 49893180, "comment_id": 86869656, "body": "This isn&#39;t much different from what I did. I just don&#39;t get why, or who to report it to."}, {"owner": {"reputation": 121, "user_id": 1263182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cd3e83f4893d98e41acc992404607f?s=128&d=identicon&r=PG", "display_name": "beokh", "link": "https://stackoverflow.com/users/1263182/beokh"}, "reply_to_user": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1524208763, "post_id": 49893180, "comment_id": 86887762, "body": "I meet this issue like you, and when i did like that, it worked. I don&#39;t know why too. Did you try that?"}, {"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 1, "creation_date": 1524250878, "post_id": 49893180, "comment_id": 86912784, "body": "I didn&#39;t try your solution exactly; but if you see my solution above, you will see it is not much different."}], "tags": [], "owner": {"reputation": 121, "user_id": 1263182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3cd3e83f4893d98e41acc992404607f?s=128&d=identicon&r=PG", "display_name": "beokh", "link": "https://stackoverflow.com/users/1263182/beokh"}, "is_accepted": false, "score": 1, "last_activity_date": 1524076003, "last_edit_date": 1524076003, "creation_date": 1524034814, "answer_id": 49893180, "question_id": 49866403, "link": "https://stackoverflow.com/questions/49866403/gradle-build-failure-couldnt-find-outer-class/49893180#49893180", "title": "Gradle Build Failure: Couldn&#39;t find outer class", "body": "<p>I have a way to work around this error: <code>java.lang.NullPointerException: Couldn't find outer class com/iconfitness/iconaudit/common/fragments/SettingsFragment$onCreate$1$1 of com/iconfitness/iconaudit/common/fragments/SettingsFragment$onCreate$1$1$1</code>.</p>\n\n<p>Just move this block code </p>\n\n<pre><code>v.showExitDialog()\n              .filter { it }\n              .subscribe({\n                 cancel()\n</code></pre>\n\n<p>oo other method. I don't meet this problem anymore. I hope this will help you.</p>\n"}, {"comments": [{"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "edited": false, "score": 0, "creation_date": 1524772619, "post_id": 50040437, "comment_id": 87118204, "body": "I tried that too. It didn&#39;t work for me, but I know it works for many."}], "tags": [], "owner": {"reputation": 121, "user_id": 5736787, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wViTh0_89A4/AAAAAAAAAAI/AAAAAAAAADE/_L63ahgsd9I/photo.jpg?sz=128", "display_name": "Adrian Blanco", "link": "https://stackoverflow.com/users/5736787/adrian-blanco"}, "is_accepted": false, "score": 12, "last_activity_date": 1524737841, "creation_date": 1524737841, "answer_id": 50040437, "question_id": 49866403, "link": "https://stackoverflow.com/questions/49866403/gradle-build-failure-couldnt-find-outer-class/50040437#50040437", "title": "Gradle Build Failure: Couldn&#39;t find outer class", "body": "<p>The problem resolved itself when I added <code>android.enableD8.desugaring = true</code> to <code>gradle.properties</code></p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 8052090, "user_type": "registered", "profile_image": "https://graph.facebook.com/1901955463383963/picture?type=large", "display_name": "Aleksandr Urzhumtcev", "link": "https://stackoverflow.com/users/8052090/aleksandr-urzhumtcev"}, "is_accepted": false, "score": 0, "last_activity_date": 1530562579, "creation_date": 1530562579, "answer_id": 51143175, "question_id": 49866403, "link": "https://stackoverflow.com/questions/49866403/gradle-build-failure-couldnt-find-outer-class/51143175#51143175", "title": "Gradle Build Failure: Couldn&#39;t find outer class", "body": "<p>As a workaround you can substitute <code>let</code> by null checking. At least code started to compile after this</p>\n\n<pre><code>if (view!=null)\n    view.showExitDialog()\n        .filter { it }\n        .subscribe({\n           cancel()\n        }, this::onError)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 2166040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63a02b88b5a24715183d0b04826df6eb?s=128&d=identicon&r=PG", "display_name": "yunik", "link": "https://stackoverflow.com/users/2166040/yunik"}, "is_accepted": false, "score": 1, "last_activity_date": 1534331841, "creation_date": 1534331841, "answer_id": 51857682, "question_id": 49866403, "link": "https://stackoverflow.com/questions/49866403/gradle-build-failure-couldnt-find-outer-class/51857682#51857682", "title": "Gradle Build Failure: Couldn&#39;t find outer class", "body": "<p>The issue is filed here <a href=\"https://issuetracker.google.com/issues/72750890\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/72750890</a>.\nBoth solutions mentioned there worked for me:\nadding <code>classpath 'com.android.tools.build:gradle:3.0.1'</code> to build.gradle or adding <code>android.enableD8.desugaring=true</code> to gradle.properties</p>\n"}], "owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1773, "favorite_count": 0, "answer_count": 4, "score": 12, "last_activity_date": 1557927493, "creation_date": 1523913577, "last_edit_date": 1592644375, "question_id": 49866403, "link": "https://stackoverflow.com/questions/49866403/gradle-build-failure-couldnt-find-outer-class", "title": "Gradle Build Failure: Couldn&#39;t find outer class", "body": "<p>When trying to build, I get this stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Couldn't find outer class com/xxx/CheckListPresenter$onAttached$1$5 of com/xxx/CheckListPresenter$onAttached$1$5$1\n    at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:1079)\n    at com.google.devtools.build.android.desugar.ClassVsInterface.isOuterInterface(ClassVsInterface.java:56)\n    at com.google.devtools.build.android.desugar.InterfaceDesugaring.visitOuterClass(InterfaceDesugaring.java:246)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:638)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:500)\n    at com.google.devtools.build.android.desugar.Desugar.desugarClassesInInput(Desugar.java:477)\n    at com.google.devtools.build.android.desugar.Desugar.desugarOneInput(Desugar.java:361)\n    at com.google.devtools.build.android.desugar.Desugar.desugar(Desugar.java:314)\n    at com.google.devtools.build.android.desugar.Desugar.main(Desugar.java:711)\n</code></pre>\n<p>I checked the <code>CheckListPresenter</code> class and there doesn't appear to have any issues. I tried deleting the class just to see if it would build, but the error just moved on to another class stating the same issue.</p>\n<p>The last time I touched this code was a good few months ago, so I am not sure what triggered the change.</p>\n<p>Things that may matter: This is an Android project. This is written in Kotlin. This fails on the <code>transformClassesWithDesugarForDebug</code> gradle task</p>\n<hr />\n<h1>Edits</h1>\n<p><em>These are all just stabs in the dark I tried:</em></p>\n<ul>\n<li><p>Creating a new project and moving in only my source code and gradle files.</p>\n</li>\n<li><p>Dropping from java 8 to 7.</p>\n</li>\n<li><p>Different version of JDK. I have tried 1.8.0_151 and 1.8.0_152.</p>\n</li>\n<li><p>Adding <code>javaMaxHeapSize &quot;4g&quot;</code> to build.gradle.</p>\n</li>\n<li><p>Upgrading everything: gradle wrapper and every dependency.</p>\n</li>\n<li><p>Removed Dagger in favor of Koin</p>\n</li>\n<li><p>Removed Kapt</p>\n</li>\n<li><p>Used both Preview and Stable releases of Android Studio</p>\n</li>\n</ul>\n<p>Here is my <a href=\"https://scans.gradle.com/s/7oejtgklrgbcy/console-log\" rel=\"noreferrer\">build scan</a> for what good it will do</p>\n<h3>New discovery:</h3>\n<p>This is the snippet of code that is killing me:</p>\n<pre><code>view?.let { v -&gt;\n    v.getCancelClicks()\n        .doOnSubscribe({ disposables.add(it) })\n        .subscribe({\n           v.showExitDialog()\n              .filter { it }\n              .subscribe({\n                 cancel()\n            }, this::onError)\n           \n         }, this::onError)\n    }\n</code></pre>\n<p>What is strange, is neither one of these <em>alone</em> will give me issues</p>\n<pre><code>view?.let { v -&gt;\n    v.getCancelClicks()\n        .doOnSubscribe({ disposables.add(it) })\n        .subscribe({\n            //removed \n         }, this::onError)\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>view?.let { v -&gt;\n    v.showExitDialog()\n        .filter { it }\n        .subscribe({\n           cancel()\n        }, this::onError)\n }\n</code></pre>\n<p>But <strong>together</strong> they are a problem.</p>\n<p>Something else of note, <code>view</code> is defined in the base class and is a generic.</p>\n<p>Currently, my work around is to remove <code>view?.let{</code> and just use <code>view!!</code>. This is obviously a bug, but I am not sure who to report it to.  Gradle, Kotlin, JetBrains, God?</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 5338, "user_id": 1209216, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63a3484cba986a0021642831c7609a93?s=128&d=identicon&r=PG", "display_name": "user1209216", "link": "https://stackoverflow.com/users/1209216/user1209216"}, "edited": false, "score": 0, "creation_date": 1523912699, "post_id": 49866172, "comment_id": 86747836, "body": "Why don&#39;t you want to use CollapsingToolbarLayout?"}, {"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1523913079, "post_id": 49866172, "comment_id": 86748019, "body": "I&#39;d start by looking into <a href=\"https://developer.android.com/reference/android/support/design/widget/AppBarLayout.Behavior.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/design/widge&zwnj;&#8203;t/&hellip;</a> since that controls the built-in behavior."}], "owner": {"reputation": 111, "user_id": 3671600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TgJVH.png?s=128&g=1", "display_name": "Araceli A.", "link": "https://stackoverflow.com/users/3671600/araceli-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523912561, "creation_date": 1523912561, "question_id": 49866172, "link": "https://stackoverflow.com/questions/49866172/collapse-header-on-scrolling-without-using-collapsingtoolbarlayout", "title": "Collapse header on scrolling without using CollapsingToolbarLayout", "body": "<p>I'm trying to implement the same behaviour than the CollapsingToolbarLayout for a view above my recyclerview that collapses to a minimum height on downscrolling and restores to its normal height when the scroll reaches the top. This header is not a Toolbar, hence the custom view.</p>\n\n<p>I managed to do it, but when scrolling up it restores the height but the whole view starts flickering.</p>\n\n<p>This is the header layout, I am trying to make the Textview disappear while keeping the inner linear layout visible at all times:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"\n    android:gravity=\"center\"&gt;\n      &lt;TextView\n        android:id=\"@+id/welcome_message\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"12dp\"\n        android:text=\"welcome\"/&gt;\n        &lt;LinearLayout\n            android:id=\"@+id/always_show\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"36dp\"\n            android:orientation=\"horizontal\"\n            android:gravity=\"center_vertical\"\n            android:layout_margin=\"12dp\"&gt;\n            ...\n        &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And this is the code</p>\n\n<pre><code>var maxHeight: Int = 0\nvar initialSize = false\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    ...\n\n     header.getViewTreeObserver().addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n        override fun onGlobalLayout() {\n            if (initialSize)\n                return\n            initialSize = true\n            maxHeight = header.measuredHeight\n        }\n    })\n\n       recyclerView.addOnScrollListener(object: RecyclerView.OnScrollListener() {\n\n        override fun onScrolled(recyclerView: RecyclerView?, dx: Int, dy: Int) {\n            super.onScrolled(recyclerView, dx, dy)\n            if (dy &gt; 0) {\n                //scroll down\n                val params = header.layoutParams as LinearLayout.LayoutParams\n                params.topMargin = Math.max(params.topMargin-dy, -maxHeight/2)\n                header.layoutParams = params\n            } else if (layoutManager.findFirstCompletelyVisibleItemPosition() == 0) {\n                //top\n                val params = header.layoutParams as LinearLayout.LayoutParams\n                params.topMargin = 0\n                header.layoutParams = params                 \n            }\n        }\n    })\n\n}\n</code></pre>\n\n<p>Any ideas on how to make this animation more natural, closest to the CollapsingToolbarLayout behaviour.</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 0, "creation_date": 1523909673, "post_id": 49865106, "comment_id": 86746386, "body": "Please include relevant code as text in your question. Please DO NOT post screenshots of your code."}, {"owner": {"reputation": 189, "user_id": 8524706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b3343affc7b28d8febdfea91126d523?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8524706/alex"}, "reply_to_user": {"reputation": 21514, "user_id": 211627, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "JDB still remembers Monica", "link": "https://stackoverflow.com/users/211627/jdb-still-remembers-monica"}, "edited": false, "score": 0, "creation_date": 1523910172, "post_id": 49865106, "comment_id": 86746605, "body": "Yeah, I marker categoryAdapter with question mark &#39;?&#39;. The intent of this topic was to understand why compiler gives the warning"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1523909679, "post_id": 49865183, "comment_id": 86746388, "body": "No, it isn&#39;t complaining because it <i>is</i> initialized in the <code>init</code> block."}, {"owner": {"reputation": 189, "user_id": 8524706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b3343affc7b28d8febdfea91126d523?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8524706/alex"}, "edited": false, "score": 0, "creation_date": 1523910254, "post_id": 49865183, "comment_id": 86746639, "body": "exactly, Alexey, that&#39;s the reason why it&#39;s not complaining."}, {"owner": {"reputation": 8241, "user_id": 891945, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tdkVO.jpg?s=128&g=1", "display_name": "LukeWaggoner", "link": "https://stackoverflow.com/users/891945/lukewaggoner"}, "edited": false, "score": 0, "creation_date": 1523983503, "post_id": 49865183, "comment_id": 86782825, "body": "The fact remains, you don&#39;t define CategoryAdapter as nullable. Therefore it cannot be null, which is why it&#39;s telling you that the <code>?</code> is unnecessary."}], "tags": [], "owner": {"reputation": 8241, "user_id": 891945, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tdkVO.jpg?s=128&g=1", "display_name": "LukeWaggoner", "link": "https://stackoverflow.com/users/891945/lukewaggoner"}, "is_accepted": false, "score": 1, "last_activity_date": 1523908294, "creation_date": 1523908294, "answer_id": 49865183, "question_id": 49865106, "link": "https://stackoverflow.com/questions/49865106/android-studio-warns-that-value-cannot-be-null-however-it-can-is-it-something/49865183#49865183", "title": "Android Studio warns that value cannot be null, however, it can. Is it something wrong with compiler?", "body": "<p>You don't define <code>CategoryAdapter</code> as nullable. In order for it to be nullable you have to give it a type of <code>CategoryAdapter?</code>. I suspect the reason it's not complaining that you haven't initialized it is because you've marked it with @get:Bindable.</p>\n\n<p>I suggest that it may be better to make the variable a <code>lateinit var</code> rather than a <code>non-nullable val</code>. Vals are immutable so you won't be able to assign it a value anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1523909648, "creation_date": 1523909648, "answer_id": 49865513, "question_id": 49865106, "link": "https://stackoverflow.com/questions/49865106/android-studio-warns-that-value-cannot-be-null-however-it-can-is-it-something/49865513#49865513", "title": "Android Studio warns that value cannot be null, however, it can. Is it something wrong with compiler?", "body": "<p>It's a design issue, but I don't see any better alternative to what the compiler currently does. </p>\n\n<p>When method bodies are checked, it's basically assumed the instance is fully constructed. Otherwise <em>any</em> access to <code>categoryAdapter</code> from any method would need to be marked with <code>?</code> just in case you call this method in the constructor before initializing <code>categoryAdapter</code>.</p>\n\n<p>Maybe the compiler could treat methods called in <code>init</code> blocks specially, at least non-<code>open</code> ones. </p>\n"}], "owner": {"reputation": 189, "user_id": 8524706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9b3343affc7b28d8febdfea91126d523?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8524706/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 49865513, "answer_count": 2, "score": 0, "last_activity_date": 1523911778, "creation_date": 1523907930, "last_edit_date": 1523911778, "question_id": 49865106, "link": "https://stackoverflow.com/questions/49865106/android-studio-warns-that-value-cannot-be-null-however-it-can-is-it-something", "title": "Android Studio warns that value cannot be null, however, it can. Is it something wrong with compiler?", "body": "<p>I'm using the latest version of Android Studio.\nWhen coding today, I found an interesting warning it gave me. So on line 45, I've got a code </p>\n\n<pre><code>categoryAdapter?.notifyDataSetChanged()\n</code></pre>\n\n<p>It says that <code>categoryAdapter cannot be null</code>, however, it can, as clearly seen on the second screenshot.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gru3Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gru3Q.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/aXYmg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aXYmg.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The setter on categories is called before <code>categoryAdapter</code> was initialised and thus it's null (what makes sense), as seen on the 3rd screenshot (<code>categoryAdapter</code> is initialised on the line 87). \nIs it a bug in compiler?</p>\n\n<p><a href=\"https://i.stack.imgur.com/RvQso.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RvQso.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito", "mvp", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1585790683, "post_id": 49907055, "comment_id": 107889869, "body": "it is recommended to inject the coroutine scope &amp; dispatchers instead: <a href=\"https://craigrussell.io/2019/11/unit-testing-coroutine-suspend-functions-using-testcoroutinedispatcher/\" rel=\"nofollow noreferrer\">craigrussell.io/2019/11/&hellip;</a>"}, {"owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "reply_to_user": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1585836986, "post_id": 49907055, "comment_id": 107908278, "body": "I don&#39;t like the idea to pollute every constructor with a &quot;DispatchersProvider&quot;. It&#39;s a little too much cumbersome. I prefer the RxJava way of testing - replace global Schedulers via RxJavaPlugins. It&#39;s far more convenient and it doesn&#39;t complicate the code. By the way, this approach will be available for Coroutines as well: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1365\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/issues/1365</a>"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1585846868, "post_id": 49907055, "comment_id": 107914262, "body": "Thanks for the reference, I didn&#39;t its on their roadmap"}], "tags": [], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "is_accepted": true, "score": 5, "last_activity_date": 1585843306, "last_edit_date": 1585843306, "creation_date": 1524077663, "answer_id": 49907055, "question_id": 49865054, "link": "https://stackoverflow.com/questions/49865054/how-to-unit-test-kotlin-suspending-functions/49907055#49907055", "title": "How to unit test Kotlin suspending functions", "body": "<p>I've found out that it's because of a <code>CoroutineDispatcher</code>. I used to mock <code>UI</code> context with <code>EmptyCoroutineContext</code>. Switching to <code>Unconfined</code> has solved the problem</p>\n\n<h1>Update 02.04.20</h1>\n\n<p>The name of the question suggests that there'll be an exhaustive explanation how to unit test a suspending function. So let me explain a bit more.</p>\n\n<p>The main problem with testing a suspending function is threading. Let's say we want to test this simple function that updates a property's value in a different thread:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ItemUpdater(val item: Item) {\n  fun updateItemValue() {\n    launch(Dispatchers.Default) { item.value = 42 }\n  }\n}\n</code></pre>\n\n<p>We need to somehow replace <code>Dispatchers.Default</code> with an another dispatcher only for testing purposes. There're two ways how we can do that. Each has its pros and cons, and which one to choose depends on your project &amp; style of coding:</p>\n\n<p><strong>1. Inject a Dispatcher</strong>.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ItemUpdater(\n    val item: Item,\n    val dispatcher: CoroutineDispatcher  // can be a wrapper that provides multiple dispatchers but let's keep it simple\n) {\n  fun updateItemValue() {\n    launch(dispatcher) { item.value = 42 }\n  }\n}\n\n// later in a test class\n\n@Test\nfun `item value is updated`() = runBlocking {\n  val item = Item()\n  val testDispatcher = Dispatchers.Unconfined   // can be a TestCoroutineDispatcher but we still keep it simple\n  val updater = ItemUpdater(item, testDispatcher)\n\n  updater.updateItemValue()\n\n  assertEquals(42, item.value)\n}\n</code></pre>\n\n<p><strong>2. Substitute a Dispatcher.</strong></p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ItemUpdater(val item: Item) {\n  fun updateItemValue() {\n    launch(DispatchersProvider.Default) { item.value = 42 }  // DispatchersProvider is our own global wrapper\n  }\n}\n\n// later in a test class\n\n// -----------------------------------------------------------------------------------\n// --- This block can be extracted into a JUnit Rule and replaced by a single line ---\n// -----------------------------------------------------------------------------------\n@Before\nfun setUp() {\n  DispatchersProvider.Default = Dispatchers.Unconfined\n}\n\n@After\nfun cleanUp() {\n  DispatchersProvider.Default = Dispatchers.Default\n}\n// -----------------------------------------------------------------------------------\n\n@Test\nfun `item value is updated`() = runBlocking {\n  val item = Item()\n  val updater = ItemUpdater(item)\n\n  updater.updateItemValue()\n\n  assertEquals(42, item.value)\n}\n</code></pre>\n\n<p>Both of them are doing the same thing - they replace the original <code>Dispatchers.Default</code> in test classes. The only difference is how they do that. It's really really up to you which of them to choose so don't get biased by my own thoughts below.</p>\n\n<p><em>IMHO:</em> The first approach is a little too much cumbersome. Injecting dispatchers everywhere will result into polluting most of the classes' constructors with an extra <code>DispatchersWrapper</code> only for a testing purpose. However Google <a href=\"https://youtu.be/KMb0Fs8rCRs?t=840\" rel=\"nofollow noreferrer\">recommends this way</a> at least for now. The second style keeps things simple and it doesn't complicate the production classes. It's like an RxJava's way of testing where you have to substitute schedulers via RxJavaPlugins. By the way, <code>kotlinx-coroutines-test</code> <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/1365\" rel=\"nofollow noreferrer\">will bring the exact same functionality</a> someday in future.</p>\n"}, {"tags": [], "owner": {"reputation": 649, "user_id": 8059082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4931fad8591668939d35a567c86ab82b?s=128&d=identicon&r=PG", "display_name": "SeekDaSky", "link": "https://stackoverflow.com/users/8059082/seekdasky"}, "is_accepted": false, "score": 7, "last_activity_date": 1524688284, "creation_date": 1524688284, "answer_id": 50030867, "question_id": 49865054, "link": "https://stackoverflow.com/questions/49865054/how-to-unit-test-kotlin-suspending-functions/50030867#50030867", "title": "How to unit test Kotlin suspending functions", "body": "<p>I see you found out on you own, but I'd like to explain a bit more for the people that might run into the same problem</p>\n\n<p>When you do  <code>launch(UI) {}</code>, a new coroutine is created and dispatched to the \"UI\" Dispatcher, that means that your coroutine now runs on a different thread. </p>\n\n<p>Your <code>runBlocking{}</code> call create a new coroutine, but <code>runBlocking{}</code> will wait for this coroutine to end before continuing, your <code>loadPreviews()</code> function creates a coroutine, start it and then return immediately, so <code>runBlocking()</code> just wait for it and return.</p>\n\n<p>So while <code>runBlocking{}</code> has returned, the coroutine that you created with <code>launch(UI){}</code> is still running in a different thread, that's why the order of your log is messed up</p>\n\n<p>The <code>Unconfined</code> context is a special <code>CoroutineContext</code> that simply create a dispatcher that execute the coroutine right there on the current thread, so now when you execute <code>runBlocking{}</code>, it has to wait for the coroutine created by <code>launch{}</code> to end because it is running on the same thread thus blocking that thread.</p>\n\n<p>I hope my explanation was clear, have a good day</p>\n"}], "owner": {"reputation": 2989, "user_id": 4751657, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-p4iyEZ9SjXU/AAAAAAAAAAI/AAAAAAAAABg/BUQVK9rJJuk/photo.jpg?sz=128", "display_name": "Nikolay Kulachenko", "link": "https://stackoverflow.com/users/4751657/nikolay-kulachenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7624, "favorite_count": 1, "accepted_answer_id": 49907055, "answer_count": 2, "score": 11, "last_activity_date": 1585843306, "creation_date": 1523907725, "last_edit_date": 1524038300, "question_id": 49865054, "link": "https://stackoverflow.com/questions/49865054/how-to-unit-test-kotlin-suspending-functions", "title": "How to unit test Kotlin suspending functions", "body": "<p>I follow the MVP pattern + UseCases to interact with a Model layer. This is a method in a Presenter I want to test:</p>\n\n<pre><code>fun loadPreviews() {\n    launch(UI) {\n        val items = previewsUseCase.getPreviews() // a suspending function\n        println(\"[method] UseCase items: $items\")\n\n        println(\"[method] View call\")\n        view.showPreviews(items)\n    }\n}\n</code></pre>\n\n<p>My simple BDD test:</p>\n\n<pre><code>fun &lt;T&gt; givenSuspended(block: suspend () -&gt; T) = BDDMockito.given(runBlocking { block() })\n\ninfix fun &lt;T&gt; BDDMockito.BDDMyOngoingStubbing&lt;T&gt;.willReturn(block: () -&gt; T) = willReturn(block())\n\n@Test\nfun `load previews`() {\n    // UseCase and View are mocked in a `setUp` method\n\n    val items = listOf&lt;PreviewItem&gt;()\n    givenSuspended { previewsUseCase.getPreviews() } willReturn { items }\n\n    println(\"[test] before Presenter call\")\n    runBlocking { presenter.loadPreviews() }\n    println(\"[test] after Presenter call\")\n\n    println(\"[test] verify the View\")\n    verify(view).showPreviews(items)\n}\n</code></pre>\n\n<p>The test passes successfully but there's something weird in the log. I expect it to be:</p>\n\n<ul>\n<li>\"[test] before Presenter call\"</li>\n<li>\"[method] UseCase items: []\"</li>\n<li>\"[method] View call\"</li>\n<li>\"[test] after Presenter call\"</li>\n<li>\"[test] verify the View\"</li>\n</ul>\n\n<p>But it turns out to be:</p>\n\n<ul>\n<li>[test] before Presenter call</li>\n<li>[test] after Presenter call</li>\n<li>[test] verify the View</li>\n<li>[method] UseCase items: []</li>\n<li>[method] View call</li>\n</ul>\n\n<p>What's the reason of this behaviour and how should I fix it?</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 1, "creation_date": 1523900491, "post_id": 49863250, "comment_id": 86741657, "body": "should be a simple translation to  a <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/Lambda-QuickStart/index.html\" rel=\"nofollow noreferrer\">Java lambda</a>."}, {"owner": {"reputation": 17, "user_id": 8405791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7244e7a494888c61f57425a27e3a0110?s=128&d=identicon&r=PG&f=1", "display_name": "Ash faa", "link": "https://stackoverflow.com/users/8405791/ash-faa"}, "reply_to_user": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1523901223, "post_id": 49863250, "comment_id": 86742062, "body": "could not find a converter in provided link. will you please do it for me?"}, {"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 6, "creation_date": 1523901351, "post_id": 49863250, "comment_id": 86742132, "body": "I think you misunderstand the concept of StackOverflow. This is not a side where you post a problem and get code in return. The link I provided should provide you with all necessary information to do the conversion yourself."}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 0, "last_activity_date": 1523903542, "creation_date": 1523903542, "answer_id": 49864048, "question_id": 49863250, "link": "https://stackoverflow.com/questions/49863250/how-do-i-write-convert-this-in-java/49864048#49864048", "title": "how do i write/convert this in Java", "body": "<pre><code>timelinePicker.setOnSelectedTimeRangeChangedListener((from, to) -&gt; {\n    selectedTimeTextView.setText(getString(R.string.from_to, from.format(), to.format()));\n});\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8405791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7244e7a494888c61f57425a27e3a0110?s=128&d=identicon&r=PG&f=1", "display_name": "Ash faa", "link": "https://stackoverflow.com/users/8405791/ash-faa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1523950994, "accepted_answer_id": 49864048, "answer_count": 1, "score": -3, "last_activity_date": 1523903542, "creation_date": 1523900341, "last_edit_date": 1523903218, "question_id": 49863250, "link": "https://stackoverflow.com/questions/49863250/how-do-i-write-convert-this-in-java", "closed_reason": "Needs more focus", "title": "how do i write/convert this in Java", "body": "<p>How to write/convert below <code>Kotlin</code> code to <code>Java</code>. I have implemented a <code>Kotlin</code> library which is completely written in <code>Kotlin</code> </p>\n\n<p>The library uses this code as callback. I need help on how I can call it from <code>Java</code> class.</p>\n\n<pre><code>timelinePicker.setOnSelectedTimeRangeChangedListener { from, to -&gt;\n        selectedTimeTextView.text = getString(R.string.from_to, from.format(), to.format())\n    }\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "thymeleaf", "spring-el"], "comments": [{"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1523911477, "post_id": 49863132, "comment_id": 86747216, "body": "Try to call like this: <code>${car.getIsLPG()}</code>. If that Kotlin generates Java Bean accessors, of course..."}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "reply_to_user": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1523941268, "post_id": 49863132, "comment_id": 86755666, "body": "I&#39;ll try doing it."}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "reply_to_user": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1523946520, "post_id": 49863132, "comment_id": 86757670, "body": "Your solition didn&#39;t work. It couldn&#39;t find the mothod."}], "answers": [{"comments": [{"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1523911532, "post_id": 49865855, "comment_id": 86747244, "body": "It&#39;s a Kotlin/SpEL disconnect - SpEL is expecting true JavaBean rules."}, {"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1523912228, "post_id": 49865855, "comment_id": 86747601, "body": "<code>isLPG()</code>! Huh? Again Kotlin doesn&#39;t honor the language it is developed on... :-)"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "reply_to_user": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 0, "creation_date": 1523917064, "post_id": 49865855, "comment_id": 86749617, "body": "I guess they&#39;re <code>KotlinBeans</code>, not <code>JavaBeans</code> :D"}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "edited": false, "score": 0, "creation_date": 1523940967, "post_id": 49865855, "comment_id": 86755577, "body": "isLPG is public, does this mean that encapsulation is made no matter what?"}, {"owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "edited": false, "score": 1, "creation_date": 1523946120, "post_id": 49865855, "comment_id": 86757487, "body": "Worked with <code>LPG</code> but is there any way to name the field <code>isLPG</code> cross-language somehow?"}, {"owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "edited": false, "score": 0, "creation_date": 1524007641, "post_id": 49865855, "comment_id": 86793889, "body": "I don&#39;t know Kotlin well, but I haven&#39;t yet figured out a way; the fundamental problem is with the way Kotlin coerces var to getters/setter."}], "tags": [], "owner": {"reputation": 129248, "user_id": 1240763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMgXO.png?s=128&g=1", "display_name": "Gary Russell", "link": "https://stackoverflow.com/users/1240763/gary-russell"}, "is_accepted": true, "score": 3, "last_activity_date": 1524007301, "last_edit_date": 1524007301, "creation_date": 1523911089, "answer_id": 49865855, "question_id": 49863132, "link": "https://stackoverflow.com/questions/49863132/property-or-field-islpg-cannot-be-found-on-object-of-type-com-rentautosofia-r/49865855#49865855", "title": "Property or field &#39;isLPG&#39; cannot be found on object of type &#39;com.rentautosofia.rentacar.bindingModel.CarBindingModel&#39; - maybe not public?", "body": "<p>It looks like SpEL is confused by the <code>is</code> prefix.</p>\n\n<p>This works</p>\n\n<pre><code>package foo\n\nclass CarBindingModel(\n                  var name: String = \"\",\n\n                  var price: Int = 0,\n\n                  var imgURL: String = \"\",\n\n                  var LPG: Boolean? = false)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class So49863132Application {\n\n    public static void main(String[] args) {\n        CarBindingModel car = new CarBindingModel(\"Lexus\", 42, \"img.png\", true);\n        Expression exp = new SpelExpressionParser().parseExpression(\"name + ' ' + price + ' ' + LPG\");\n        System.out.println(exp.getValue(car));\n    }\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Lexus 42 true\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>It's due to the way Kotlin creates the getter; for <code>isLPG</code>, kotlin generates <code>isLPG()</code>.</p>\n\n<p>SpEL is expecting <code>isIsLPG()</code>.</p>\n"}], "owner": {"reputation": 95, "user_id": 8845509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HBKhV4EJFQ8/AAAAAAAAAAI/AAAAAAAAABk/cF-BHi84-2I/photo.jpg?sz=128", "display_name": "Denis Barzanov", "link": "https://stackoverflow.com/users/8845509/denis-barzanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "accepted_answer_id": 49865855, "answer_count": 1, "score": 2, "last_activity_date": 1524007301, "creation_date": 1523899916, "last_edit_date": 1523900141, "question_id": 49863132, "link": "https://stackoverflow.com/questions/49863132/property-or-field-islpg-cannot-be-found-on-object-of-type-com-rentautosofia-r", "title": "Property or field &#39;isLPG&#39; cannot be found on object of type &#39;com.rentautosofia.rentacar.bindingModel.CarBindingModel&#39; - maybe not public?", "body": "<p>I have an MVC logic like this one.</p>\n\n<h3>CarBindingModel</h3>\n\n<pre><code>package com.rentautosofia.rentacar.bindingModel\n\nimport javax.validation.constraints.Size\n\nclass CarBindingModel(@Size(min = 1)\n                      var name: String = \"\",\n                      @Size(min = 1)\n                      var price: Int = 0,\n                      @Size(min = 1)\n                      var imgURL: String = \"\",\n                      var isLPG: Boolean? = false)\n</code></pre>\n\n<h3>CarController</h3>\n\n<pre><code>package com.rentautosofia.rentacar.controller.admin\n\nimport ...\n\nconst val PATH_ADMIN_CAR = \"admin/car\"\nconst val PATH_ADMIN_ALL_CARS = \"$PATH_ADMIN_CAR/all\"\n\n@RequestMapping(\"/$PATH_ADMIN_CAR\")\n@Controller\nclass CarController @Autowired\nconstructor(private val carRepository: CarRepository) {\n\n    @GetMapping(\"/create\")\n    fun create(model: Model): String {\n        model.addAttribute(\"car\", CarBindingModel())\n        model.addAttribute(\"view\", \"$PATH_ADMIN_CAR/create\")\n        return \"base-layout\"\n    }\n\n    @PostMapping(\"/create\")\n    fun createProcess(model: Model, @Valid carBindingModel: \nCarBindingModel, bindingResult: BindingResult): String {\n        if (bindingResult.hasErrors()) {\n            model.addAttribute(\"view\", \"$PATH_ADMIN_CAR/create\")\n            model.addAttribute(\"message\", \"Invalid data.\")\n            model.addAttribute(\"car\", carBindingModel)\n            return \"base-layout\"\n        }\n\n        val car = car {\n            name = carBindingModel.name\n            price = carBindingModel.price\n            imgURL = carBindingModel.imgURL\n            isLPG = carBindingModel.isLPG\n        }\n\n        this.carRepository.saveAndFlush(car)\n        return \"redirect:/$PATH_ADMIN_ALL_CARS\"\n    }\n...\n}\n</code></pre>\n\n<h3>CarView</h3>\n\n<p>The important one is this one (this is where I get an error)</p>\n\n<pre><code>&lt;input  id=\"isLPG\" type=\"checkbox\" name=\"isLPG\" th:checked=\"${car.isLPG}\"/&gt;\n</code></pre>\n\n<p>The problem is that I get a SpEL in my view. It says that It cannot find property <code>isLPG</code> in <code>CarBindingModel</code>.</p>\n\n<h1>The Error:</h1>\n\n<pre><code>An error happened during template parsing (template: \"class path resource [templates/base-layout.html]\")\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: \"car.isLPG\" (template: \"admin/car/create\" - line 16, col 65)\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: \"car.isLPG\" (template: \"admin/car/create\" - line 16, col 65)\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: \nProperty or field 'isLPG' cannot be found on object of type 'com.rentautosofia.rentacar.bindingModel.CarBindingModel' - maybe not public?\norg.springframework.expression.spel.SpelEvaluationException: EL1008E: \nProperty or field 'isLPG' cannot be found on object of type 'com.rentautosofia.rentacar.bindingModel.CarBindingModel' - maybe not public?\n</code></pre>\n\n<p>I am basically trying to bind a boolean value from this checkbox.\nIf you need additional details, I will happily add them.</p>\n"}, {"tags": ["time", "kotlin", "timestamp"], "answers": [{"comments": [{"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 8, "creation_date": 1528480769, "post_id": 49862573, "comment_id": 88539748, "body": "This requires API lvl 26 or above, any compatible alternative with older APIs?"}, {"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "reply_to_user": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 1, "creation_date": 1558983317, "post_id": 49862573, "comment_id": 99269229, "body": "Oh yes, @DarkCygnus. For Android API level under 26 use the Android adaptation of backport of java.time. See <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>."}], "tags": [], "owner": {"reputation": 15395, "user_id": 17339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1ed8a9e71adc2b356cfc4e020e0dd0f?s=128&d=identicon&r=PG", "display_name": "Drew Stephens", "link": "https://stackoverflow.com/users/17339/drew-stephens"}, "is_accepted": true, "score": 36, "last_activity_date": 1593628133, "last_edit_date": 1593628133, "creation_date": 1523897776, "answer_id": 49862573, "question_id": 49862357, "link": "https://stackoverflow.com/questions/49862357/how-do-i-get-the-current-time-as-a-timestamp-in-kotlin/49862573#49862573", "title": "How do I get the current time as a TimeStamp in Kotlin?", "body": "<p>Kotlin doesn't have any time handling classes of its own, so you just use Java's <code>java.time</code>.  For an ISO-8601 timestamp (which is the preferred format):</p>\n<pre><code>DateTimeFormatter.ISO_INSTANT.format(Instant.now())\n</code></pre>\n<p>That will return <code>2018-04-16T17:00:08.746Z</code>.  For your format, or if you need a different timezone, you can specify those:</p>\n<pre><code>DateTimeFormatter\n    .ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSSSSS&quot;)\n    .withZone(ZoneOffset.UTC)\n    .format(Instant.now())\n</code></pre>\n<p>See the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>java.time.format.DateTimeFormatter</code> JavaDoc</a> for details on how to specify a format string.</p>\n<p>The <em>java.time</em> classes are bundled with Android 26 and later, and with Java 8 and later. Most of the <em>java.time</em>\u00a0functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> project. Further adapted for earlier Android (&lt;26) in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a>. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP\u2026</em></a>.</p>\n<p><strong>Update 2020/07</strong></p>\n<p>The development of ThreeTenABP is winding down. With Gradle plugin 4.0 and higher, you can directly use java 8 APIs without requiring a minimum API level for your app.</p>\n<p>For more information see <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">Java 8+ API desugaring support (Android Gradle Plugin 4.0.0+)</a></p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1545419782, "post_id": 50914495, "comment_id": 94626423, "body": "Is it java.security or java.sql?"}, {"owner": {"reputation": 416, "user_id": 1385090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401a09975460be06a6df9f19055e03cb?s=128&d=identicon&r=PG", "display_name": "Andres Eusse", "link": "https://stackoverflow.com/users/1385090/andres-eusse"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 2, "creation_date": 1547039192, "post_id": 50914495, "comment_id": 95053832, "body": "import java.sql.Timestamp"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 4, "creation_date": 1558988900, "post_id": 50914495, "comment_id": 99270891, "body": "The terrible <code>java.sql.Timestamp</code> class was supplanted years ago by the <i>java.time</i> classes with the adoption of JSR 310. Replaced by <code>Instant</code> and <code>OffsetDateTime</code> classes. Suggesting the use of <code>Timestamp</code> in 2019 is poor advice."}], "tags": [], "owner": {"reputation": 416, "user_id": 1385090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401a09975460be06a6df9f19055e03cb?s=128&d=identicon&r=PG", "display_name": "Andres Eusse", "link": "https://stackoverflow.com/users/1385090/andres-eusse"}, "is_accepted": false, "score": 27, "last_activity_date": 1529342011, "creation_date": 1529342011, "answer_id": 50914495, "question_id": 49862357, "link": "https://stackoverflow.com/questions/49862357/how-do-i-get-the-current-time-as-a-timestamp-in-kotlin/50914495#50914495", "title": "How do I get the current time as a TimeStamp in Kotlin?", "body": "<p>Try <code>Timestamp(System.currentTimeMillis())</code> i'm using API 19 and it works for me</p>\n"}, {"comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 3, "creation_date": 1558983441, "post_id": 56330765, "comment_id": 99269276, "body": "Please don\u2019t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>. Yes, you can use it on Android. For older Android see <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>."}, {"owner": {"reputation": 89, "user_id": 6734937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25fc7faa112f3b550259fd161c39bddd?s=128&d=identicon&r=PG&f=1", "display_name": "lev4", "link": "https://stackoverflow.com/users/6734937/lev4"}, "reply_to_user": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 0, "creation_date": 1558994047, "post_id": 56330765, "comment_id": 99272148, "body": "Of course my bad for not mentioning Android Project use. I found this line of code in developer android documentation,it&#39;s simple and working for me so i thought it was fine. Sorry."}, {"owner": {"reputation": 3093, "user_id": 2859957, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b637cd3bccf9798e67e0e97523f81ec3?s=128&d=identicon&r=PG&f=1", "display_name": "treesAreEverywhere", "link": "https://stackoverflow.com/users/2859957/treesareeverywhere"}, "edited": false, "score": 1, "creation_date": 1578070819, "post_id": 56330765, "comment_id": 105331187, "body": "Please note that Kotlin is much more than Kotlin on Android."}], "tags": [], "owner": {"reputation": 89, "user_id": 6734937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25fc7faa112f3b550259fd161c39bddd?s=128&d=identicon&r=PG&f=1", "display_name": "lev4", "link": "https://stackoverflow.com/users/6734937/lev4"}, "is_accepted": false, "score": 0, "last_activity_date": 1558981063, "creation_date": 1558981063, "answer_id": 56330765, "question_id": 49862357, "link": "https://stackoverflow.com/questions/49862357/how-do-i-get-the-current-time-as-a-timestamp-in-kotlin/56330765#56330765", "title": "How do I get the current time as a TimeStamp in Kotlin?", "body": "<p>I'm using this</p>\n\n<p><code>val timeStamp: String = SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Date())</code></p>\n\n<p>and here you have all Date and Time patterns\n<a href=\"https://developer.android.com/reference/java/text/SimpleDateFormat\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/text/SimpleDateFormat</a></p>\n"}, {"comments": [{"owner": {"reputation": 18064, "user_id": 2579738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXata.png?s=128&g=1", "display_name": "BDL", "link": "https://stackoverflow.com/users/2579738/bdl"}, "edited": false, "score": 1, "creation_date": 1562315040, "post_id": 56896926, "comment_id": 100343838, "body": "This won&#39;t give you the format op requested. <code>System.currentTimeMillis()</code> returns a long, not a formatted string."}, {"owner": {"reputation": 357, "user_id": 1712446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNnk0.jpg?s=128&g=1", "display_name": "Azhagthott", "link": "https://stackoverflow.com/users/1712446/azhagthott"}, "edited": false, "score": 0, "creation_date": 1608528264, "post_id": 56896926, "comment_id": 115601982, "body": "maybe this is not the answer to this question, but when I search &quot;timestamp in Kotlin&quot;  this is the best answer, so upvote"}], "tags": [], "owner": {"reputation": 357, "user_id": 3343083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52faef3e9b28b5b482c32037a9b27095?s=128&d=identicon&r=PG&f=1", "display_name": "Softlabsindia", "link": "https://stackoverflow.com/users/3343083/softlabsindia"}, "is_accepted": false, "score": 15, "last_activity_date": 1562303874, "creation_date": 1562303874, "answer_id": 56896926, "question_id": 49862357, "link": "https://stackoverflow.com/questions/49862357/how-do-i-get-the-current-time-as-a-timestamp-in-kotlin/56896926#56896926", "title": "How do I get the current time as a TimeStamp in Kotlin?", "body": "<pre><code>  val currentTimestamp = System.currentTimeMillis()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13951719, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5e9680a06a6d9e57101efb92c6bc73cd?s=128&d=identicon&r=PG", "display_name": "razko", "link": "https://stackoverflow.com/users/13951719/razko"}, "is_accepted": false, "score": 0, "last_activity_date": 1595047588, "creation_date": 1595047588, "answer_id": 62964748, "question_id": 49862357, "link": "https://stackoverflow.com/questions/49862357/how-do-i-get-the-current-time-as-a-timestamp-in-kotlin/62964748#62964748", "title": "How do I get the current time as a TimeStamp in Kotlin?", "body": "<pre><code>package com.mkyong.date\nimport java.sql.Timestamp\nimport java.text.SimpleDateFormat\nimport java.util.Date\nobject TimeStampExample {\n    private val sdf = SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;)\n    @JvmStatic fun main(args:Array&lt;String&gt;) {\n        //method 1\n        val timestamp = Timestamp(System.currentTimeMillis())\n        println(timestamp)\n        //method 2 - via Date\n        val date = Date()\n        println(Timestamp(date.getTime()))\n        //return number of milliseconds since January 1, 1970, 00:00:00 GMT\n        println(timestamp.getTime())\n        //format timestamp\n        println(sdf.format(timestamp))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 9536421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215772582009068/picture?type=large", "display_name": "Amber Normand", "link": "https://stackoverflow.com/users/9536421/amber-normand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55185, "favorite_count": 4, "accepted_answer_id": 49862573, "answer_count": 5, "score": 32, "last_activity_date": 1595047588, "creation_date": 1523897096, "question_id": 49862357, "link": "https://stackoverflow.com/questions/49862357/how-do-i-get-the-current-time-as-a-timestamp-in-kotlin", "title": "How do I get the current time as a TimeStamp in Kotlin?", "body": "<p>This is the timestamp format I need: 2018-03-22 19:02:12.337909 </p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 4765, "user_id": 3945408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXTc.jpg?s=128&g=1", "display_name": "Juan Lara", "link": "https://stackoverflow.com/users/3945408/juan-lara"}, "edited": false, "score": 1, "creation_date": 1523896439, "post_id": 49861974, "comment_id": 86739443, "body": "Check out this docs page, hope this helps:  <a href=\"https://firebase.google.com/docs/firestore/solutions/role-based-access\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/solutions/role-based-acce&zwnj;&#8203;ss</a>"}], "answers": [{"comments": [{"owner": {"reputation": 542, "user_id": 709338, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4eff96df0c7579dd1f23dc0b53130889?s=128&d=identicon&r=PG", "display_name": "jitain sharma", "link": "https://stackoverflow.com/users/709338/jitain-sharma"}, "edited": false, "score": 0, "creation_date": 1524033723, "post_id": 49862113, "comment_id": 86801147, "body": "Thanks @Nouman, this gives an idea. Also JRLtechwriting link is what i am looking for."}], "tags": [], "owner": {"reputation": 3529, "user_id": 6236752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/773877099379452/picture?type=large", "display_name": "Nouman Ch", "link": "https://stackoverflow.com/users/6236752/nouman-ch"}, "is_accepted": false, "score": 0, "last_activity_date": 1523896184, "creation_date": 1523896184, "answer_id": 49862113, "question_id": 49861974, "link": "https://stackoverflow.com/questions/49861974/firestore-give-permission-to-read-the-document-created-by-the-one-user-to-other/49862113#49862113", "title": "Firestore, Give permission to read the document created by the one user to others", "body": "<p>There is nothing to do with security permissions in your scenario just apply the basic security rules and then</p>\n\n<p>First of all authenticate all the users then maintain each user created documents and their records in each user document.</p>\n\n<p>Reading someone else's document can be controlled programatically so in each user document this information should be kept that user has access to which document.</p>\n\n<p>Hope you get something.</p>\n"}], "owner": {"reputation": 542, "user_id": 709338, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4eff96df0c7579dd1f23dc0b53130889?s=128&d=identicon&r=PG", "display_name": "jitain sharma", "link": "https://stackoverflow.com/users/709338/jitain-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523896184, "creation_date": 1523895703, "question_id": 49861974, "link": "https://stackoverflow.com/questions/49861974/firestore-give-permission-to-read-the-document-created-by-the-one-user-to-other", "title": "Firestore, Give permission to read the document created by the one user to others", "body": "<p>I am using the firestore and want to apply the security rule for showing the document to the particular users to my document. Like i have created the Document D1 and want to give access to Users U1, U4, U8 and U334 to read. i.e. the document D1 will only be visible to these users only. I am unable to get any reference or help over this.</p>\n"}, {"tags": ["object", "dictionary", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1523892772, "post_id": 49861013, "comment_id": 86737290, "body": "His problem is that he wants this the other way around: turn a <code>data class</code> into <code>Map&lt;String, Any?&gt;</code>."}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1523893009, "post_id": 49861013, "comment_id": 86737420, "body": "@EpicPandaForce I&#39;m aware, but there&#39;s no non-reflective way to do that in Kotlin. The closest alternative would be to use delegated properties in a map. (i.e. you&#39;d assign values to the map in the constructor, rather than properties)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1523893075, "post_id": 49861013, "comment_id": 86737467, "body": "Yes of course, I&#39;m pretty sure reflection is required."}], "tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": false, "score": 2, "last_activity_date": 1523892467, "creation_date": 1523892467, "answer_id": 49861013, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/49861013#49861013", "title": "How to convert a Kotlin data class object to map?", "body": "<p>The closest you can get is with <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"nofollow noreferrer\">delegated properties stored in a map</a>.</p>\n\n<p>Example (from link):</p>\n\n<pre><code>class User(val map: Map&lt;String, Any?&gt;) {\n    val name: String by map\n    val age: Int     by map\n}\n</code></pre>\n\n<p>Using this with data classes may not work very well, however.</p>\n"}, {"comments": [{"owner": {"reputation": 806, "user_id": 7172003, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10211461727358276/picture?type=large", "display_name": "Ahsan Naseem", "link": "https://stackoverflow.com/users/7172003/ahsan-naseem"}, "edited": false, "score": 0, "creation_date": 1601639957, "post_id": 50354581, "comment_id": 113475747, "body": "using above i am getting <code>No type arguments expected for class TypeReference</code> using jackson 2.10.0"}], "tags": [], "owner": {"reputation": 181, "user_id": 6279456, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iXWcGC1Lr2o/AAAAAAAAAAI/AAAAAAAAAFI/WXhadBZdiCc/photo.jpg?sz=128", "display_name": "abgalphabet YEUNG", "link": "https://stackoverflow.com/users/6279456/abgalphabet-yeung"}, "is_accepted": false, "score": 16, "last_activity_date": 1526400281, "last_edit_date": 1526400281, "creation_date": 1526399957, "answer_id": 50354581, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/50354581#50354581", "title": "How to convert a Kotlin data class object to map?", "body": "<p>I have the same use case today for testing and ended up i have used Jackson object mapper to convert Kotlin data class into Map. The runtime performance is not a big concern in my case. I haven't checked in details but I believe it's using reflection under the hood but it's out of concern as happened behind the scene.</p>\n\n<p>For Example, </p>\n\n<pre><code>val dataclass = DataClass(p1 = 1, p2 = 2)\nval dataclassAsMap = objectMapper.convertValue(dataclass, object: \nTypeReference&lt;Map&lt;String, Any&gt;&gt;() {})\n\n//expect dataclassAsMap == mapOf(\"p1\" to 1, \"p2\" to 2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "edited": false, "score": 0, "creation_date": 1604429665, "post_id": 56347214, "comment_id": 114343749, "body": "How to use these functions ? Can you show some code ?"}, {"owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "reply_to_user": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "edited": false, "score": 0, "creation_date": 1604598723, "post_id": 56347214, "comment_id": 114402715, "body": "sure, I&#39;ve added some example usage to the answer"}, {"owner": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "edited": false, "score": 0, "creation_date": 1604651826, "post_id": 56347214, "comment_id": 114417611, "body": "I tried your code and I got two nulls for [personAsMap] and [mapAsPerson] as i got before my comment. That&#39;s why i asked some examples. Is this code working for you ? I am using Kotlin 1.4.0"}, {"owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "reply_to_user": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "edited": false, "score": 0, "creation_date": 1604753302, "post_id": 56347214, "comment_id": 114446255, "body": "Its definitely working fine for me. How are you trying to run it? Do you have gson in your class path? I&#39;ve added the gson imports if that helps. I&#39;m using kotlin 1.4 also and gson 2.8.6, but i don&#39;t think this is a version issue."}, {"owner": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "edited": false, "score": 0, "creation_date": 1604775351, "post_id": 56347214, "comment_id": 114452000, "body": "Hi Tom, i wanted to show the code executed. So i put it in an answer to the original question. Comments are to short for this."}, {"owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "reply_to_user": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "edited": false, "score": 0, "creation_date": 1604921246, "post_id": 56347214, "comment_id": 114484972, "body": "Ok I tried out your code and got the same. Debugging, gson doesn&#39;t seem to work properly on local classes. If you move the person class declaration outside of your function, so its a top level class, it works."}, {"owner": {"reputation": 187, "user_id": 4425374, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rWTWCQyw4n8/AAAAAAAAAAI/AAAAAAAADMk/9GIdXxBjUN4/photo.jpg?sz=128", "display_name": "Jeremy Jao", "link": "https://stackoverflow.com/users/4425374/jeremy-jao"}, "edited": false, "score": 1, "creation_date": 1606881644, "post_id": 56347214, "comment_id": 115094780, "body": "I don&#39;t recommend this solution. GSON doesn&#39;t work properly in Kotlin since it&#39;s unaware of its null vs. non-null Kotlin compile-time rules. This is a better solution but doesn&#39;t handle nested properties, only primitives: <a href=\"https://stackoverflow.com/a/59316850/4425374\">stackoverflow.com/a/59316850/4425374</a>"}, {"owner": {"reputation": 322, "user_id": 5851694, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1044936292230978/picture?type=large", "display_name": "Nalawala Murtuza", "link": "https://stackoverflow.com/users/5851694/nalawala-murtuza"}, "edited": false, "score": 0, "creation_date": 1617800071, "post_id": 56347214, "comment_id": 118407205, "body": "in my case int convert to double example 1 -&gt; 1.0"}, {"owner": {"reputation": 322, "user_id": 5851694, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1044936292230978/picture?type=large", "display_name": "Nalawala Murtuza", "link": "https://stackoverflow.com/users/5851694/nalawala-murtuza"}, "edited": false, "score": 0, "creation_date": 1618052091, "post_id": 56347214, "comment_id": 118488624, "body": "nested class int property converts to float property."}], "tags": [], "owner": {"reputation": 820, "user_id": 1709651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f053194a300c46c83d847757b4b1dd?s=128&d=identicon&r=PG", "display_name": "Tom Hanley", "link": "https://stackoverflow.com/users/1709651/tom-hanley"}, "is_accepted": false, "score": 28, "last_activity_date": 1604921689, "last_edit_date": 1604921689, "creation_date": 1559063771, "answer_id": 56347214, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/56347214#56347214", "title": "How to convert a Kotlin data class object to map?", "body": "<p>I was using the jackson method, but turns out the performance of this is terrible on Android for first serialization (<a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/69\" rel=\"noreferrer\">github issue here</a>). And its dramatically worse for older android versions, (<a href=\"https://medium.com/stanwood/save-my-ass-benchmark-of-json-deserializers-on-android-28341c1e82df\" rel=\"noreferrer\">see benchmarks here</a>)</p>\n<p>But you can do this much faster with Gson. Conversion in both directions shown here:</p>\n<pre><code>import com.google.gson.Gson\nimport com.google.gson.reflect.TypeToken\n\nval gson = Gson()\n\n//convert a data class to a map\nfun &lt;T&gt; T.serializeToMap(): Map&lt;String, Any&gt; {\n    return convert()\n}\n\n//convert a map to a data class\ninline fun &lt;reified T&gt; Map&lt;String, Any&gt;.toDataClass(): T {\n    return convert()\n}\n\n//convert an object of type I to type O\ninline fun &lt;I, reified O&gt; I.convert(): O {\n    val json = gson.toJson(this)\n    return gson.fromJson(json, object : TypeToken&lt;O&gt;() {}.type)\n}\n\n//example usage\ndata class Person(val name: String, val age: Int)\n\nfun main() {\n\n    val person = Person(&quot;Tom Hanley&quot;, 99)\n\n    val map = mapOf(\n        &quot;name&quot; to &quot;Tom Hanley&quot;, \n        &quot;age&quot; to 99\n    )\n\n    val personAsMap: Map&lt;String, Any&gt; = person.serializeToMap()\n\n    val mapAsPerson: Person = map.toDataClass()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 1, "creation_date": 1578179858, "post_id": 59316850, "comment_id": 105356265, "body": "Nice solution, although just a note: This does not look like it will be working for nested data structures."}, {"owner": {"reputation": 322, "user_id": 5851694, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1044936292230978/picture?type=large", "display_name": "Nalawala Murtuza", "link": "https://stackoverflow.com/users/5851694/nalawala-murtuza"}, "edited": false, "score": 1, "creation_date": 1618050435, "post_id": 59316850, "comment_id": 118488213, "body": "Do you have a solution for nested data structure?"}, {"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1619101026, "post_id": 59316850, "comment_id": 118807378, "body": "Unresolved reference &quot;memberProperties&quot;. It is now called &quot;members&quot;"}], "tags": [], "owner": {"reputation": 1811, "user_id": 591530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05bd701ccbf6447faa68c796cc7fbc62?s=128&d=identicon&r=PG", "display_name": "Ken Fehling", "link": "https://stackoverflow.com/users/591530/ken-fehling"}, "is_accepted": false, "score": 12, "last_activity_date": 1576216377, "creation_date": 1576216377, "answer_id": 59316850, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/59316850#59316850", "title": "How to convert a Kotlin data class object to map?", "body": "<p>This extension function uses reflection, but maybe it'll help someone like me coming across this in the future:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; T.asMap() : Map&lt;String, Any?&gt; {\n    val props = T::class.memberProperties.associateBy { it.name }\n    return props.keys.associateWith { props[it]?.get(this) }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "is_accepted": false, "score": 1, "last_activity_date": 1576696774, "last_edit_date": 1576696774, "creation_date": 1576694948, "answer_id": 59398391, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/59398391#59398391", "title": "How to convert a Kotlin data class object to map?", "body": "<p><a href=\"https://github.com/rocketraman/kpropmap\" rel=\"nofollow noreferrer\">Kpropmap</a> is a reflection-based library that attempts to make working with Kotlin data classes and Maps easier. It has the following capabilities that are relevant:</p>\n\n<ul>\n<li>Can transform maps <a href=\"https://github.com/rocketraman/kpropmap#property-maps-can-be-deserialized-to-data-classes\" rel=\"nofollow noreferrer\">to</a> and <a href=\"https://github.com/rocketraman/kpropmap#creating-a-property-map\" rel=\"nofollow noreferrer\">from</a> data classes, though note if all you need is converting from a data class to a Map, just use reflection directly as per @KenFehling's answer.</li>\n</ul>\n\n<pre><code>data class Foo(val a: Int, val b: Int)\n\n// Data class to Map\nval propMap = propMapOf(foo)\n\n// Map to data class\nval foo1 = propMap.deserialize&lt;Foo&gt;()\n</code></pre>\n\n<ul>\n<li><p>Can read and write <code>Map</code> data in a <a href=\"https://github.com/rocketraman/kpropmap#property-maps-have-typed-accessors\" rel=\"nofollow noreferrer\">type-safe way</a> by using the data class <code>KProperty</code>'s for type information.</p></li>\n<li><p>Given a data class and a Map, can <a href=\"https://github.com/rocketraman/kpropmap#property-maps-have-useful-accessors-and-extensions\" rel=\"nofollow noreferrer\">do other neat things</a> like detect changed values and extraneous Map keys that don't have corresponding data class properties.</p></li>\n<li><p>Represent \"partial\" data classes (kind of like <a href=\"https://arrow-kt.io/docs/optics/lens/\" rel=\"nofollow noreferrer\">lenses</a>). For example, say your backend model contains a <code>Foo</code> with 3 required immutable properties represented as <code>val</code>s. However, you want to provide an API to patch <code>Foo</code> instances. As it is a patch, the API consumer will only send the updated properties. The REST API layer for this obviously cannot deserialize directly to the <code>Foo</code> data class, but it can accept the patch as a <code>Map</code>. Use kpropmap to validate that the Map has the correct types, and <a href=\"https://github.com/rocketraman/kpropmap#property-maps-can-be-applied-to-existing-data-classes\" rel=\"nofollow noreferrer\">apply the changes</a> from the <code>Map</code> to a copy of the model instance:</p></li>\n</ul>\n\n<pre><code>data class Foo(val a: Int, val b: Int, val c: Int)\n\nval f = Foo(1, 2, 3)\nval p = propMapOf(\"b\" to 5)\n\nval f1 = p.applyProps(f) // f1 = Foo(1, 5, 3)\n</code></pre>\n\n<p>Disclaimer: I am the author.</p>\n"}, {"tags": [], "owner": {"reputation": 1229, "user_id": 2554328, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b073f8a975cad7cb67bd5e99f8365f39?s=128&d=identicon&r=PG", "display_name": "Serge Tah&#233;", "link": "https://stackoverflow.com/users/2554328/serge-tah%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1604775277, "creation_date": 1604775277, "answer_id": 64731284, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/64731284#64731284", "title": "How to convert a Kotlin data class object to map?", "body": "<p>@Tom Hanley</p>\n<p>I tried your solution in the following code:</p>\n<pre><code>package tmp\n\nimport com.google.gson.Gson\nimport com.google.gson.reflect.TypeToken\n\n// https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map\nval gson = Gson()\n\n//convert a data class to a map\nfun &lt;T&gt; T.serializeToMap(): Map&lt;String, Any&gt; {\n  return convert()\n}\n\n//convert a map to a data class\ninline fun &lt;reified T&gt; Map&lt;String, Any&gt;.toDataClass(): T {\n  return convert()\n}\n\n//convert an object of type I to type O\ninline fun &lt;I, reified O&gt; I.convert(): O {\n  val json = gson.toJson(this)\n  return gson.fromJson(json, object : TypeToken&lt;O&gt;() {}.type)\n}\n\nfun main() {\n  //example usage\n  data class Person(val name: String, val age: Int)\n\n  val person = Person(&quot;Tom Hanley&quot;, 99)\n\n  val map = mapOf(\n    &quot;name&quot; to &quot;Tom Hanley&quot;,\n    &quot;age&quot; to 99\n  )\n\n  val personAsMap: Map&lt;String, Any&gt; = person.serializeToMap()\n  println(personAsMap)\n\n  val mapAsPerson: Person = map.toDataClass()\n  println(mapAsPerson)\n}\n</code></pre>\n<p>When executed I got two nulls in the console. I used Kotlin 1.4 and Gson 2.8.6. I am rather new to Kotlin and perhaps I am doing an error somewhere.</p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 10119268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/287bb4fe0ad9fd655290e9f386275937?s=128&d=identicon&r=PG&f=1", "display_name": "Sandhya3478", "link": "https://stackoverflow.com/users/10119268/sandhya3478"}, "is_accepted": false, "score": 0, "last_activity_date": 1611633787, "creation_date": 1611633787, "answer_id": 65895733, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map/65895733#65895733", "title": "How to convert a Kotlin data class object to map?", "body": "<p>I tried to serialize the data class <code>Person</code> and then deseriaized it to <code>Map</code> to read its values.</p>\n<pre><code> val props: Map&lt;String, String&gt; = objectMapper.readValue(\n                objectMapper.writeValueAsString(person))\n</code></pre>\n"}], "owner": {"reputation": 2933, "user_id": 97714, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f7a6eed5e2c200fbd0e12e4dc1bbc22e?s=128&d=identicon&r=PG", "display_name": "Gulshan", "link": "https://stackoverflow.com/users/97714/gulshan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25510, "favorite_count": 7, "answer_count": 7, "score": 30, "last_activity_date": 1611633787, "creation_date": 1523892169, "question_id": 49860916, "link": "https://stackoverflow.com/questions/49860916/how-to-convert-a-kotlin-data-class-object-to-map", "title": "How to convert a Kotlin data class object to map?", "body": "<p>Is there any easy way or any standard library method to convert a Kotlin data class object to a map/dictionary of it's properties by property names? Can reflection be avoided?</p>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "answers": [{"tags": [], "owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "is_accepted": true, "score": 8, "last_activity_date": 1523893460, "last_edit_date": 1523893460, "creation_date": 1523893043, "answer_id": 49861173, "question_id": 49860710, "link": "https://stackoverflow.com/questions/49860710/pass-class-type-as-parameter-and-check-type-against-another-object-in-kotlin/49861173#49861173", "title": "Pass Class Type as Parameter and Check Type Against Another Object in Kotlin", "body": "<p>You can replace the entire line using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\" rel=\"noreferrer\">Class.isInstance</a>.</p>\n\n<pre><code>if (activityType.isInstance(currentActivity)) { ... }\n</code></pre>\n\n<p>In Kotlin, <code>is</code> requires a class name (at compile time, you can't use a <code>String</code> either) - instead of a <code>Class</code> instance. <code>Class.isInstance</code> is used to perform the same check using a <code>Class</code> instance.</p>\n"}], "owner": {"reputation": 6062, "user_id": 2788608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RlZuI.png?s=128&g=1", "display_name": "Stonz2", "link": "https://stackoverflow.com/users/2788608/stonz2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6475, "favorite_count": 0, "accepted_answer_id": 49861173, "answer_count": 1, "score": 8, "last_activity_date": 1523893460, "creation_date": 1523891543, "question_id": 49860710, "link": "https://stackoverflow.com/questions/49860710/pass-class-type-as-parameter-and-check-type-against-another-object-in-kotlin", "title": "Pass Class Type as Parameter and Check Type Against Another Object in Kotlin", "body": "<p>I am attempting to write a method to wait for a type of activity to be present for my Espresso tests. I've seen examples of trying to wait for objects to appear on separate activities than where the test begins, but none have worked for me so far and I'm not keen to modify my production code with idling resources.</p>\n\n<p>In my method, I'd like to get the current activity, and then check if the activity is the specific type of class that I'm wanting. I'm basically modifying some code I found <a href=\"http://www.vogella.com/tutorials/AndroidTestingEspresso/article.html\" rel=\"noreferrer\">here</a> to work with Kotlin and a generic class type. Unfortunately, I don't know how to either format the argument that is being passed in (currently <code>Class&lt;out Activity&gt;</code>) or I'm improperly using it in my <code>if</code> statement. What is written below doesn't compile. </p>\n\n<p>Any pointers on how to pass my desired activity type as a parameter to the <code>waitForActivity</code> method and how to check against it?</p>\n\n<pre><code>fun waitForActivity(activityType: Class&lt;out Activity&gt;, timeout: Int = 10): Boolean {\n    val endTime = System.currentTimeMillis() + (timeout * 1000)\n\n    do {\n        val currentActivity = getActivityInstance()\n\n        // THIS LINE IS MY ISSUE **********************************************\n        if(currentActivity != null &amp;&amp; currentActivity::class.java is activityType)\n            return true\n        // ********************************************************************\n\n        SystemClock.sleep(100)\n    } while (System.currentTimeMillis() &lt; endTime)\n    return false\n}\n\nprivate fun getActivityInstance(): Activity? {\n    val activity = arrayOfNulls&lt;Activity&gt;(1)\n    InstrumentationRegistry.getInstrumentation().runOnMainSync {\n        val currentActivity: Activity?\n        val resumedActivities = ActivityLifecycleMonitorRegistry.getInstance().getActivitiesInStage(Stage.RESUMED)\n        if (resumedActivities.iterator().hasNext()) {\n            currentActivity = resumedActivities.iterator().next() as Activity\n            activity[0] = currentActivity\n        }\n    }\n    return activity[0]\n}\n</code></pre>\n"}, {"tags": ["java", "android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1523891610, "post_id": 49860648, "comment_id": 86736478, "body": "Possibly unrelated, but still a code smell: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">Don&#39;t use raw types</a>."}, {"owner": {"reputation": 173, "user_id": 2273197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IueJ.jpg?s=128&g=1", "display_name": "UnaDeKalamares", "link": "https://stackoverflow.com/users/2273197/unadekalamares"}, "reply_to_user": {"reputation": 13032, "user_id": 4216641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVLIh.jpg?s=128&g=1", "display_name": "Turing85", "link": "https://stackoverflow.com/users/4216641/turing85"}, "edited": false, "score": 0, "creation_date": 1523946210, "post_id": 49860648, "comment_id": 86757522, "body": "If I&#39;m not mistaken, using raw types is basically what makes this approach so powerful in Java. I&#39;ve implemented somethind along this lines for a multi-type RecyclerView.Adapter. It&#39;s just a matter of being cautious, and adding a layer of protection ensuring that you are trying to access a factory which was already added. Anyway, I&#39;ll study your observation, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 2273197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IueJ.jpg?s=128&g=1", "display_name": "UnaDeKalamares", "link": "https://stackoverflow.com/users/2273197/unadekalamares"}, "edited": false, "score": 0, "creation_date": 1523947056, "post_id": 49864706, "comment_id": 86757950, "body": "Thank you very much! You hit the nail right in the head. I&#39;ll do my best in order to refactor my code to avoid raw types if necessary (and understanding how to notice them in Kotlin)"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 173, "user_id": 2273197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IueJ.jpg?s=128&g=1", "display_name": "UnaDeKalamares", "link": "https://stackoverflow.com/users/2273197/unadekalamares"}, "edited": false, "score": 1, "creation_date": 1523947539, "post_id": 49864706, "comment_id": 86758177, "body": "You don&#39;t need to notice them in Kotlin because Kotlin doesn&#39;t support them. The hard part is noticing them in Java."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1523906223, "last_edit_date": 1592644375, "creation_date": 1523906223, "answer_id": 49864706, "question_id": 49860648, "link": "https://stackoverflow.com/questions/49860648/kotlin-vs-java-nested-generics/49864706#49864706", "title": "Kotlin vs Java nested generics", "body": "<blockquote>\n<p>As Kotlin does not provide an alternative to wildcards...</p>\n<p>I have been thinking of declaring sampleClasses map as</p>\n<pre><code>MutableMap&lt;*, *&gt;\n</code></pre>\n</blockquote>\n<p>For this case <code>*</code> corresponds to wildcards perfectly well. If you have <code>Class&lt;?&gt;</code> in Java, you want <code>Class&lt;*&gt;</code> in Kotlin, not <code>Class&lt;Any&gt;</code> or <code>*</code>.</p>\n<pre><code>private val sampleClasses: MutableMap&lt;Class&lt;*&gt;, KotlinSampleClass&lt;*, *&gt;&gt; = mutableMapOf()\n\nfun registerKotlinSampleClass(kotlinSampleClass: KotlinSampleClass&lt;*, *&gt;) {\n    sampleClasses.put(kotlinSampleClass.type, kotlinSampleClass)\n}\n\n@Suppress(&quot;UNCHECKED_CAST&quot;)\nfun callMethod(obj : Any) {\n    (sampleClasses[obj.javaClass] as KotlinSampleClass&lt;Any, *&gt;?)?.callMethod(obj)\n}\n</code></pre>\n<p>The only reason you don't need the cast in <code>callMethod</code> in Java is because you are using raw types (as Turing85's comment mentions) and the compiler basically gives up on type checking.</p>\n"}], "owner": {"reputation": 173, "user_id": 2273197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4IueJ.jpg?s=128&g=1", "display_name": "UnaDeKalamares", "link": "https://stackoverflow.com/users/2273197/unadekalamares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 1, "accepted_answer_id": 49864706, "answer_count": 1, "score": 3, "last_activity_date": 1523906223, "creation_date": 1523891311, "question_id": 49860648, "link": "https://stackoverflow.com/questions/49860648/kotlin-vs-java-nested-generics", "title": "Kotlin vs Java nested generics", "body": "<p>I'm having some trouble when trying to translate Java code with nested generics to Kotlin. Take this Java SSCCE as an example (please note the relation between S and T):</p>\n\n<pre><code>public class JavaTest {\n\n  private class JavaObjectContainer&lt;S&gt; {\n    public S obj;\n  }\n\n  private abstract class JavaSampleClass&lt;S, T extends JavaObjectContainer&lt;S&gt;&gt; {\n    private Class&lt;S&gt; type;\n\n    public JavaSampleClass(Class&lt;S&gt; type) {\n        this.type = type;\n    }\n\n    public Class&lt;S&gt; getType() {\n        return type;\n    }\n\n    public abstract void callMethod(S s);\n  }\n\n  private class JavaChildSampleClass extends JavaSampleClass&lt;String, JavaObjectContainer&lt;String&gt;&gt; {\n    public JavaChildSampleClass() {\n        super(String.class);\n    }\n\n    @Override\n    public void callMethod(String s) {}\n  }\n\n  private class JavaTestContainer {\n    private Map&lt;Class&lt;?&gt;, JavaSampleClass&gt; sampleClasses;\n\n    public JavaTestContainer() {\n        this.sampleClasses = new HashMap&lt;&gt;();\n    }\n\n    public void registerJavaSampleClass(JavaSampleClass javaSampleClass) {\n        sampleClasses.put(javaSampleClass.getType(), javaSampleClass);\n    }\n\n    public void callMethod(Object obj) {\n        sampleClasses.get(obj.getClass()).callMethod(obj);\n    }\n  }\n\n  public void test() {\n    JavaTestContainer javaTestContainer = new JavaTestContainer();\n\n    javaTestContainer.registerJavaSampleClass(new JavaChildSampleClass());\n\n    javaTestContainer.callMethod(\"Hola\");\n  }\n\n}\n</code></pre>\n\n<p>Think of this SSCCE as an implementation of a generic factory pattern, where the user registers multiple JavaSampleClass whose methods can be invoked in the future.</p>\n\n<p>As Kotlin does not provide an alternative to wildcards, I have tried the following approach:</p>\n\n<pre><code>class KotlinTest {\n\n  private class KotlinObjectContainer&lt;S&gt; {\n    var obj : S? = null\n  }\n\n  private open class KotlinSampleClass&lt;S, T : KotlinObjectContainer&lt;S&gt;&gt;(var type: Class&lt;S&gt;) {\n\n    fun callMethod(s : S) {}\n  }\n\n  private class KotlinChildSampleClass : KotlinSampleClass&lt;String, KotlinObjectContainer&lt;String&gt;&gt;(String::class.java)\n\n  private inner class KotlinTestContainer {\n    private val sampleClasses: MutableMap&lt;Class&lt;Any&gt;, KotlinSampleClass&lt;Any, KotlinObjectContainer&lt;Any&gt;&gt;&gt; = mutableMapOf()\n\n    fun registerKotlinSampleClass(kotlinSampleClass: KotlinSampleClass&lt;Any, KotlinObjectContainer&lt;Any&gt;&gt;) {\n        sampleClasses.put(kotlinSampleClass.type, kotlinSampleClass)\n    }\n\n    fun callMethod(obj : Any) {\n        sampleClasses[obj.javaClass]?.callMethod(obj)\n    }\n  }\n\n  fun test() {\n    val kotlinTestContainer = KotlinTestContainer()\n\n      // Exception!\n      kotlinTestContainer.registerKotlinSampleClass(KotlinChildSampleClass())\n\n    kotlinTestContainer.callMethod(\"Hello\")\n  }\n\n}\n</code></pre>\n\n<p>The above code throws the following exception in the IDE:</p>\n\n<pre><code>Type mismatch.\nRequired: KotlinTest.KotlinSampleClass&lt;Any, KotlinObjectContainer&lt;Any&gt;&gt;\nFound: KotlinTest.KotlinChildSampleClass\n</code></pre>\n\n<p>I have been thinking of declaring sampleClasses map as</p>\n\n<pre><code>MutableMap&lt;*, *&gt;\n</code></pre>\n\n<p>But then, how can I initialize it? Also, as * represents an out-projected parameter, the IDE shows me an error when trying to put new values in the map.</p>\n\n<p>How can I overcome this issue? I'm quite certain that I'm missing something...</p>\n"}, {"tags": ["android", "kotlin", "here-api"], "answers": [{"tags": [], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "is_accepted": true, "score": 0, "last_activity_date": 1523956989, "creation_date": 1523956989, "answer_id": 49874374, "question_id": 49859881, "link": "https://stackoverflow.com/questions/49859881/here-sdk-maploader-getmappackageatcoordinate-return-true-but-i-never-get-result/49874374#49874374", "title": "Here SDK mapLoader.getMapPackageAtCoordinate return true but I never get result on callback", "body": "<p>The answer is, it was not the <strong>Here SDK</strong>!</p>\n\n<p>Another native library for some reason breaks with a <code>Signal = SIGUSR2 (signal SIGUSR2)</code> error and because of that, the whole <strong>Here SDK</strong> stops working!</p>\n\n<p><a href=\"https://i.stack.imgur.com/3nlv0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3nlv0.png\" alt=\"enter image description here\"></a></p>\n\n<p>The reason for not being able to track the issue was the Java wrapper works fine but <strong>C</strong> part of their code was not working anymore.</p>\n"}], "owner": {"reputation": 6405, "user_id": 2359762, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/72b0ca8ad84812abd50f1fb26d137ac2?s=128&d=identicon&r=PG", "display_name": "Mohsen Mirhoseini", "link": "https://stackoverflow.com/users/2359762/mohsen-mirhoseini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 49874374, "answer_count": 1, "score": 1, "last_activity_date": 1523956989, "creation_date": 1523889173, "last_edit_date": 1523891011, "question_id": 49859881, "link": "https://stackoverflow.com/questions/49859881/here-sdk-maploader-getmappackageatcoordinate-return-true-but-i-never-get-result", "title": "Here SDK mapLoader.getMapPackageAtCoordinate return true but I never get result on callback", "body": "<p>I am using Here SDK and everything looks fine with initialization but when I call:</p>\n\n<pre><code>val getMapPackageResult = mapLoader.getMapPackageAtCoordinate(GeoCoordinate(52.500556, 13.398889, 0.0))\n</code></pre>\n\n<p>to get maps packages to install, <code>MapPackageAtCoordinateListener</code> call back never get called!</p>\n\n<p>It is not the same when I call <code>mapLoader.getMapPackages</code> with no GeoCoordination!</p>\n\n<p>Could it be any limitation for my trial account from the back end?\nAny suggestion?</p>\n\n<hr>\n\n<p><strong>more details</strong></p>\n\n<p>I am following this sample repo <a href=\"https://github.com/heremaps/here-android-sdk-examples/tree/master/map-downloader\" rel=\"nofollow noreferrer\">https://github.com/heremaps/here-android-sdk-examples/tree/master/map-downloader</a></p>\n\n<pre><code>val diskCacheRoot = \"${Environment.getExternalStorageDirectory().path}${File.separator}.isolated-here-maps\"\n\nMapSettings.setIsolatedDiskCacheRootPath(diskCacheRoot, HERE_MAP_ACTION)\n\n\nmapLoader = MapLoader.getInstance()\n\nmapLoader.addListener(object : MapLoader.Listener {\n\n    override fun onProgress(i: Int) {\n        Timber.i(\"onProgress $i\")\n    }\n\n    override fun onInstallationSize(l: Long, l1: Long) {\n        Timber.i(\"onInstallationSize\")\n    }\n\n    override fun onGetMapPackagesComplete(mapPackage: MapPackage, resultCode: MapLoader.ResultCode) {\n        Timber.i(\"onGetMapPackagesComplete name = \" + mapPackage.englishTitle + \" , resultCode = \" + resultCode)\n    }\n\n    override fun onCheckForUpdateComplete(b: Boolean, s: String, s1: String, resultCode: MapLoader.ResultCode) {\n        Timber.i(\"onCheckForUpdateComplete\")\n    }\n\n    override fun onPerformMapDataUpdateComplete(mapPackage: MapPackage, resultCode: MapLoader.ResultCode) {\n        Timber.i(\"onPerformMapDataUpdateComplete\")\n    }\n\n    override fun onInstallMapPackagesComplete(mapPackage: MapPackage, resultCode: MapLoader.ResultCode) {\n        Timber.i(\"onInstallMapPackagesComplete resultCode = $resultCode\")\n        if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n            Timber.i(\"onInstallMapPackagesComplete mapPackage = \" + mapPackage.title)\n        } else {\n            listener.onError(NavigationException())\n        }\n    }\n\n    override fun onUninstallMapPackagesComplete(mapPackage: MapPackage, resultCode: MapLoader.ResultCode) {\n        Timber.i(\"onUninstallMapPackagesComplete\")\n    }\n})\n\nmapLoader.addMapPackageAtCoordinateListener({ mapPackage, geoCoordinate, resultCode -&gt;\n    Timber.i(\"onGetMapPackageAtCoordinateComplete name = ${mapPackage?.englishTitle}, resultCode = $resultCode\")\n    val packages = ArrayList&lt;Int&gt;()\n    mapPackage?.let {\n        packages.add(it.id)\n        mapLoader.installMapPackages(packages)\n    } ?: Timber.e(\"No package loaded\")\n})\n</code></pre>\n"}, {"tags": ["enums", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523886391, "post_id": 49858787, "comment_id": 86732539, "body": "Are you only using the constants for numbers?"}, {"owner": {"reputation": 3472, "user_id": 4072509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/16VK8.jpg?s=128&g=1", "display_name": "apetranzilla", "link": "https://stackoverflow.com/users/4072509/apetranzilla"}, "edited": false, "score": 0, "creation_date": 1523894074, "post_id": 49858787, "comment_id": 86738073, "body": "The only thing I could think of is <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">overloading the unary + operator</a> so that you can use <code>+Week.sunday</code>, but I&#39;m not sure if that&#39;s what you want"}, {"owner": {"reputation": 519, "user_id": 5507535, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/750b8b44a07f907a1a53f152acb509fe?s=128&d=identicon&r=PG&f=1", "display_name": "user5507535", "link": "https://stackoverflow.com/users/5507535/user5507535"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523897511, "post_id": 49858787, "comment_id": 86740004, "body": "@jrtapsell yes only for numbers, just like in C. Numbers are from 0 to N."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523897714, "post_id": 49858787, "comment_id": 86740136, "body": "@user5507535 What are you trying to use it for, there may be better ways to achieve what you want to do"}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 3, "last_activity_date": 1523898816, "creation_date": 1523898816, "answer_id": 49862859, "question_id": 49858787, "link": "https://stackoverflow.com/questions/49858787/is-it-possible-to-have-the-enum-ordinal-in-kotlin-without-explicitly-calling-ord/49862859#49862859", "title": "Is it possible to have the enum ordinal in kotlin without explicitly calling ordinal?", "body": "<h1>Overriding operators</h1>\n\n<p>Demo code:</p>\n\n<pre><code>enum class WeekDay {\n    MONDAY,\n    TUESDAY,\n    WEDNESDAY,\n    THURSDAY,\n    FRIDAY,\n    SATURDAY,\n    SUNDAY;\n\n    companion object: Iterable&lt;WeekDay&gt; {\n        override fun iterator() = values().iterator()\n    }\n\n\n    operator fun unaryPlus() = ordinal\n    operator fun not() = ordinal\n}\n\nfun main(args: Array&lt;String&gt;) {\n    for (day in WeekDay) {\n        println(\"$day ${!day} ${+day}\")\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p></p>\n\n<pre><code>MONDAY 0 0\nTUESDAY 1 1\nWEDNESDAY 2 2\nTHURSDAY 3 3\nFRIDAY 4 4\nSATURDAY 5 5\nSUNDAY 6 6\n</code></pre>\n\n<p>This shows how to use unary operators to get the ordinals, I have included 2 examples:</p>\n\n<ul>\n<li>unaryPlus\n\n<ul>\n<li>This overrides the + operator, which I use as <code>+day</code></li>\n</ul></li>\n<li>not\n\n<ul>\n<li>This overrides the ! operator, which I use as <code>!day</code></li>\n</ul></li>\n</ul>\n\n<h1>Using extension functions</h1>\n\n<p>You can create an extension function which calls the function you want to call, but gets the ordinal from the passed value. This would make the call like this:</p>\n\n<ul>\n<li>Using code\n\n<ul>\n<li>Extension function (Enum member)\n\n<ul>\n<li>Target method (Ordinal)</li>\n</ul></li>\n</ul></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 526, "user_id": 1388723, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6b44bccaf65a911e75189270498581b2?s=128&d=identicon&r=PG", "display_name": "BAZTED", "link": "https://stackoverflow.com/users/1388723/bazted"}, "is_accepted": true, "score": 5, "last_activity_date": 1523900267, "creation_date": 1523900267, "answer_id": 49863227, "question_id": 49858787, "link": "https://stackoverflow.com/questions/49858787/is-it-possible-to-have-the-enum-ordinal-in-kotlin-without-explicitly-calling-ord/49863227#49863227", "title": "Is it possible to have the enum ordinal in kotlin without explicitly calling ordinal?", "body": "<p>Basically answer by <a href=\"https://stackoverflow.com/users/8041461/jrtapsell\">@jrtapsell</a> is great and full. But also in kotlin you can override <strong>invoke()</strong> operator. </p>\n\n<pre><code>enum class Weekday { MONDAY, TUESDAY;\n\n    operator fun invoke(): Int {\n       return ordinal\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    print(\"${Weekday.TUESDAY() + 1}\")\n}\n</code></pre>\n\n<p>Result: 2</p>\n\n<p>AFM it is much prettier. </p>\n"}], "owner": {"reputation": 519, "user_id": 5507535, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/750b8b44a07f907a1a53f152acb509fe?s=128&d=identicon&r=PG&f=1", "display_name": "user5507535", "link": "https://stackoverflow.com/users/5507535/user5507535"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 779, "favorite_count": 0, "accepted_answer_id": 49863227, "answer_count": 2, "score": 3, "last_activity_date": 1523900267, "creation_date": 1523886142, "question_id": 49858787, "link": "https://stackoverflow.com/questions/49858787/is-it-possible-to-have-the-enum-ordinal-in-kotlin-without-explicitly-calling-ord", "title": "Is it possible to have the enum ordinal in kotlin without explicitly calling ordinal?", "body": "<p>In C enums are all numeric and you can reference the value just by the name.</p>\n\n<p>Example:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nenum week { sunday, monday, tuesday, wednesday, thursday, friday, saturday };\n\nint main()\n{\n    enum week today;\n    today = wednesday;\n    printf(\"Day %d\",today+1);\n    return 0;\n}\n</code></pre>\n\n<p>Outputs: day 4</p>\n\n<hr>\n\n<p>In Kotlin I would like something similar, at least being able to get rid of the <code>.ordinal</code>.</p>\n\n<p>Currently it's like this:</p>\n\n<pre><code>enum class Week { sunday, monday, tuesday, wednesday, thursday, friday, saturday }\n</code></pre>\n\n<p>and to access an element I have to use the verbose <code>Week.monday.ordinal</code></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1523884592, "post_id": 49856856, "comment_id": 86731206, "body": "set onClickListener on your itemView. But would be very nice if you show some code, becouse this question have no sense now."}], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 7846650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284abf9800dfcc0e430b29745937f8c0?s=128&d=identicon&r=PG&f=1", "display_name": "Raguel", "link": "https://stackoverflow.com/users/7846650/raguel"}, "is_accepted": true, "score": 0, "last_activity_date": 1523885289, "creation_date": 1523885289, "answer_id": 49858508, "question_id": 49856856, "link": "https://stackoverflow.com/questions/49856856/android-how-to-open-a-specific-calendar-event-with-its-id/49858508#49858508", "title": "Android: How to open a specific calendar event with its ID", "body": "<p>What are you looking for is <a href=\"https://www.grokkingandroid.com/intents-of-androids-calendar-app/\" rel=\"nofollow noreferrer\">Calendar intent</a> here is tutorials.</p>\n"}], "owner": {"reputation": 37, "user_id": 9596315, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mickael Belhassen", "link": "https://stackoverflow.com/users/9596315/mickael-belhassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 49858508, "answer_count": 1, "score": 0, "last_activity_date": 1523885289, "creation_date": 1523880103, "question_id": 49856856, "link": "https://stackoverflow.com/questions/49856856/android-how-to-open-a-specific-calendar-event-with-its-id", "title": "Android: How to open a specific calendar event with its ID", "body": "<p>I have a recyclerview which displays the events of the calendar, I want that when I click on an event it opens the event in the calendar</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1523889125, "post_id": 49856347, "comment_id": 86734603, "body": "Shouldn&#39;t firstPoint be initialized with Point(left+topLeftRadius, top) instead?"}, {"owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 1, "creation_date": 1524557766, "post_id": 49856347, "comment_id": 87009582, "body": "you are right, and it&#39;s a bug. No one noticed since both were top=left=0  thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 3564, "user_id": 1798304, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/JZhfq.jpg?s=128&g=1", "display_name": "MalaKa", "link": "https://stackoverflow.com/users/1798304/malaka"}, "edited": false, "score": 0, "creation_date": 1524557412, "post_id": 49996421, "comment_id": 87009344, "body": "Then please accept your answer to close the question."}], "tags": [], "owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "is_accepted": true, "score": 0, "last_activity_date": 1524557043, "creation_date": 1524557043, "answer_id": 49996421, "question_id": 49856347, "link": "https://stackoverflow.com/questions/49856347/how-to-create-a-convex-path-in-android/49996421#49996421", "title": "How to create a convex path in android", "body": "<p>it WAS working, it ran on a phone and shadows were casting. it's just the android studio who didn't show up the shadow</p>\n"}], "owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 49996421, "answer_count": 1, "score": 0, "last_activity_date": 1524557043, "creation_date": 1523878605, "question_id": 49856347, "link": "https://stackoverflow.com/questions/49856347/how-to-create-a-convex-path-in-android", "title": "How to create a convex path in android", "body": "<p>I need to create a convex path in android (in order to feed it into a ViewOutlineProvider for casting shadows when a specific view is getting its elevation to be more than 0)</p>\n\n<p>I only use path.quadTo(...) which only adds control points, so I was thinking this whole thing will be 1 contour and convex. By my app crashes when using the calculated path, as it causes <code>java.lang.IllegalArgumentException: path must be convex</code>. In addition, the println() is printing \"false\"</p>\n\n<p>my current function is:</p>\n\n<pre><code>fun calculateConvexPath(topLeftRadius: Float, topRightRadius: Float, bottomLeftRadius: Float, bottomRightRadius: Float, top: Float, left: Float, bottom: Float, right: Float) : Path {\n            val path: Path = Path()\n\n            // start from top-left\n            val firstPoint = Point(top, left + topLeftRadius)\n            path.moveTo(firstPoint.x, firstPoint.y)\n            path.quadTo(left, top, left + topLeftRadius, top)\n\n            // move to top right\n            path.quadTo(left/2 + right/2, top, right - topRightRadius, top)\n            path.quadTo(right, top, right, top + topRightRadius)\n\n            // move to bottom right\n            path.quadTo(right, top/2 + bottom/2, right, bottom - bottomRightRadius)\n            path.quadTo(right, bottom, right - bottomRightRadius, bottom)\n\n            // move to bottom left\n            path.quadTo(left/2 + right/2, bottom, left + bottomLeftRadius, bottom)\n            path.quadTo(left, bottom, left, bottom - bottomLeftRadius)\n\n            // move back to top-left\n            path.quadTo(left, top/2 + bottom/2, firstPoint.x, firstPoint.y)\n\n            println(\"path is convex? ${path.isConvex}\")\n//            path.close() // not working with or without this line\n            return path\n        }\n</code></pre>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/43506426/create-custom-convex-path-android\">this SO question</a> but no help - they couldn't create a convex path either.</p>\n\n<p>The code here is kotlin but a Java answer will (off course) be helpfull.</p>\n\n<p>any help will be much appreciated!</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523880892, "post_id": 49856469, "comment_id": 86728528, "body": "So as I understand : 1. I have to create a new .cpp file to make a wrapper, is it correct? Can I do that without having the original .cpp file? Should I add this file to my kotlin project? 2. I have to declare the methods in MainActivity.kt to be able to access them  - What do you mean about loading the library from a Companion Object? - How I can declare my init() function in Kotlin? It is particular because the parameters are typedef, I read there is no equivalent in Java."}, {"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "reply_to_user": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523881113, "post_id": 49856469, "comment_id": 86728677, "body": "For using JNI with kotlin you can see the sample here: <a href=\"https://github.com/googlesamples/android-ndk/tree/master/kotlin-app/hello-jni-kotlinApp\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-ndk/tree/master/kotlin-app/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "reply_to_user": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523881204, "post_id": 49856469, "comment_id": 86728741, "body": "For binding external .so library see example (in Java) here: <a href=\"https://github.com/googlesamples/android-ndk/tree/master/hello-libs\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-ndk/tree/master/hello-libs</a>."}, {"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "reply_to_user": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523881220, "post_id": 49856469, "comment_id": 86728756, "body": "Together it should give you all the info"}, {"owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523956372, "post_id": 49856469, "comment_id": 86763467, "body": "Thank you, your 2 links were very helpful. But I still miss 1 piece of the puzzle: in my case I have &quot;myExternalLibrary.so&quot; without the C++ source file. I see in the examples that I need a wrapper to call the functions of the library, but there is no example on how to do that when I just have the .so file without .cpp source."}, {"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "reply_to_user": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523967919, "post_id": 49856469, "comment_id": 86771670, "body": "The second example (hello-libs) is wrapping 2 libraries - gmath.a and gperf.so without cpp files."}, {"owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523969909, "post_id": 49856469, "comment_id": 86773128, "body": "Yes but functions from gperf and gmath are never called directly from Kotlin, so there is no example how to do this. For me it is not clear how I should write the wrapper: should it be a new .cpp class ? a java class ?"}, {"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "reply_to_user": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "edited": false, "score": 0, "creation_date": 1523971588, "post_id": 49856469, "comment_id": 86774432, "body": "They are called from hello-libs.cpp and hello-libs.cpp is called from Java so you need to wrap them in hello-libs.cpp."}], "tags": [], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "is_accepted": true, "score": 0, "last_activity_date": 1523878966, "creation_date": 1523878966, "answer_id": 49856469, "question_id": 49856282, "link": "https://stackoverflow.com/questions/49856282/how-to-use-an-external-so/49856469#49856469", "title": "How to use an external .so", "body": "<p>Should be exactly the same as in Java which you can see <a href=\"https://stackoverflow.com/questions/24400381/how-to-use-native-library\">here</a>.\nMake sure to load the library from a companion object.</p>\n"}], "owner": {"reputation": 67, "user_id": 7005926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb02f9c0b6652561e0bde186ff1f8a6?s=128&d=identicon&r=PG&f=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/7005926/charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 49856469, "answer_count": 1, "score": 1, "last_activity_date": 1523887054, "creation_date": 1523878412, "last_edit_date": 1523887054, "question_id": 49856282, "link": "https://stackoverflow.com/questions/49856282/how-to-use-an-external-so", "title": "How to use an external .so", "body": "<p>I'm developing a simple Android app in Kotlin using Android Studio.\nI have an external .so file which was written in C++, I don't have the source code of this .so but I have the header file .h.</p>\n\n<p>My problem is that I'm not able to access the functions contained in the .so. I was reading a lot of topics about this but I'm not able to make it work.</p>\n\n<p>Basically I would like to use 2 functions from the .so : init() and getVersion(). The problem is that the init() function takes 2 parameters which I don't know clearly how to declare in Kotlin:</p>\n\n<pre><code>//This is the .h in C++\ntypedef void (*AttachCurrentThreadToJNI)();\ntypedef void (*DetachCurrentThreadToJNI)();\n\nsint32 init(char *myID, AttachCurrentThreadToJNI attach, DetachCurrentThreadToJNI detach);\nsint32 getVersion(void);\n</code></pre>\n\n<p>In Kotlin I load the library this way:</p>\n\n<pre><code>//This is the Kotlin code\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    System.loadLibrary(\"myExternalLibrary\");\n</code></pre>\n\n<p>After loading the library, how can I access the functions init() and getVersion() from my .so file ?</p>\n\n<p>Thanks for your help !</p>\n"}, {"tags": ["android", "kotlin", "deserialization", "response"], "answers": [{"tags": [], "owner": {"reputation": 1050, "user_id": 2379746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e1395d5244036d7199c42112b354e?s=128&d=identicon&r=PG", "display_name": "Kharda", "link": "https://stackoverflow.com/users/2379746/kharda"}, "is_accepted": false, "score": 0, "last_activity_date": 1524380832, "creation_date": 1524380832, "answer_id": 49963435, "question_id": 49856170, "link": "https://stackoverflow.com/questions/49856170/fuel-expected-begin-array-but-was-begin-object/49963435#49963435", "title": "Fuel Expected Begin Array but was Begin Object", "body": "<p>I think the problem is in the model class.\nYou assume that the <code>MobileConfiguration</code> array is directly under the response class, however, actually, it is under the <code>Items</code> object.</p>\n\n<p>So instead of using <code>Array&lt;MobileConfiguration&gt;</code> as a <code>responseObject</code>, you should use other class as a container like: </p>\n\n<pre><code>data class MobileConfigurationResponse(\n    val success: String,\n    val message: String,\n    val items: Array&lt;MobileConfiguration&gt;\n)\n</code></pre>\n\n<p>and then you can get the array like this:</p>\n\n<pre><code>    val (config, err) = result.items\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9051432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939c40722d169f3dee3efebc6114b44a?s=128&d=identicon&r=PG&f=1", "display_name": "IntegratedDigitalSystems IDS", "link": "https://stackoverflow.com/users/9051432/integrateddigitalsystems-ids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524380832, "creation_date": 1523878085, "question_id": 49856170, "link": "https://stackoverflow.com/questions/49856170/fuel-expected-begin-array-but-was-begin-object", "title": "Fuel Expected Begin Array but was Begin Object", "body": "<p>I'm new to Kotlin and I'm still learning how to get an object respose but I'm having the following exception:</p>\n\n<pre><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\n</code></pre>\n\n<p>Here's the Json Result:</p>\n\n<pre><code>{\"Success\":\"1\",\"Message\":\"True\",\"Items\":[{\"Id\":3,\"Name\":\"AndroidVersion\",\"Value\":\"1\"},{\"Id\":4,\"Name\":\"IOSVersion\",\"Value\":\"1.0\"},{\"Id\":5,\"Name\":\"AndroidForceUpdate\",\"Value\":\"true\"}]}\n</code></pre>\n\n<p>Here's the model class</p>\n\n<pre><code>data class MobileConfiguration(\n    val id: Int,\n    val name: String,\n    val value: String\n) {\n\n\nclass Deserializer : ResponseDeserializable&lt;Array&lt;MobileConfiguration&gt;&gt; {\n    override fun deserialize(content: String): Array&lt;MobileConfiguration&gt;? = Gson().fromJson(content, Array&lt;MobileConfiguration&gt;::class.java)\n}\n\n}\n</code></pre>\n\n<p>And here's the Call:</p>\n\n<pre><code>url.httpPost(listOf(Pair(\"key\", \"\"))).responseObject(MobileConfiguration.Deserializer()) { request, response, result -&gt;\n\n        //val (people, err) = result.get()\n        when (result) {\n            is Result.Failure -&gt; {\n                val ex = result.getException()\n                Log.wtf(\"ex\", \"is \" + ex)\n            }\n            is Result.Success -&gt; {\n\n                val (config, err) = result\n                //Add to ArrayList\n                config?.forEach { configuration -&gt;\n                    mobileConfigurations.add(configuration)\n                }\n\n                println(mobileConfigurations)\n            }\n        }\n    }\n</code></pre>\n\n<p>What Am i doing wrong please if anybody can help</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 526, "user_id": 1388723, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6b44bccaf65a911e75189270498581b2?s=128&d=identicon&r=PG", "display_name": "BAZTED", "link": "https://stackoverflow.com/users/1388723/bazted"}, "edited": false, "score": 0, "creation_date": 1523900928, "post_id": 49855370, "comment_id": 86741907, "body": "Actually AAPT2 errors are not related to the source code. It is mostly related to application resources. Please check your xmls and drawables. You may use some broken XML declarations or maybe some new checks were introduced. Please try to downgrade  &#39;com.android.tools.build:gradle:3.1.1&#39; to 3.0.1. And than you will see if it was problem actually caused by Kotlin or not(I assume not)"}, {"owner": {"reputation": 11, "user_id": 6462509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645b0978f9e2aba32d648e9ba043183c?s=128&d=identicon&r=PG&f=1", "display_name": "Mak Ying Kit", "link": "https://stackoverflow.com/users/6462509/mak-ying-kit"}, "reply_to_user": {"reputation": 526, "user_id": 1388723, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6b44bccaf65a911e75189270498581b2?s=128&d=identicon&r=PG", "display_name": "BAZTED", "link": "https://stackoverflow.com/users/1388723/bazted"}, "edited": false, "score": 0, "creation_date": 1523934294, "post_id": 49855370, "comment_id": 86753773, "body": "In the error log, it said there are some errors in the drawable : resource drawable/ic_menu_black_24dp (aka com.motivate.gym.gym_motivate:drawable/ic_menu_black_24dp) not found, etc. However, I have inspected these resources do exist. Why can&#39;t the resources be found ?"}], "owner": {"reputation": 11, "user_id": 6462509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645b0978f9e2aba32d648e9ba043183c?s=128&d=identicon&r=PG&f=1", "display_name": "Mak Ying Kit", "link": "https://stackoverflow.com/users/6462509/mak-ying-kit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523875438, "creation_date": 1523875438, "question_id": 49855370, "link": "https://stackoverflow.com/questions/49855370/android-unable-to-build-project-after-updating-kotlin-runtime-to-1-2-31", "title": "Android unable to build project after updating kotlin runtime to 1.2.31", "body": "<p>After updating kotlin runtime to 1.2.31 from 1.2.30 this morning, I was unable to build the project. Below are the build.gradle in project level. What I did is only changing the line of the ext.kotlin_version to '1.2.31'.</p>\n\n<p>The android studio also prompted me to upgrade the gradle plugin to 4.4, which i did but I don't know if it's related to this issue.</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.31'\n    ext.anko_version='0.10.4'\n    ext.rxjava_version='2.1.12'\n    ext.supportlib_version='27.1.0'\n    ext.autodispose_version='0.7.0'\n\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url 'https://jitpack.io' }\n\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And the errors are as below</p>\n\n<pre><code>AAPT2 error: check logs for details\n\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:processDebugResources'.\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\nat org.gradle.api.internal.tasks.execution.OutputDirectoryCreatingTaskExecuter.execute(OutputDirectoryCreatingTaskExecuter.java:51)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\nat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:60)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:97)\nat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:87)\nat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:199)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:110)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:123)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:79)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:104)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:98)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:626)\nat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:581)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:98)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>And at the end, it also said</p>\n\n<pre><code>error: failed linking file resources.\n</code></pre>\n"}, {"tags": ["generics", "enums", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523881911, "post_id": 49855273, "comment_id": 86729252, "body": "To confirm, you want to get an Iterator&lt;T&gt;, where T is an enum type, which has its values iterated over?"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 4, "last_activity_date": 1523882978, "last_edit_date": 1523882978, "creation_date": 1523882530, "answer_id": 49857648, "question_id": 49855273, "link": "https://stackoverflow.com/questions/49855273/kotlin-generic-iterator-over-enum-how-to-declare-type-variables/49857648#49857648", "title": "Kotlin: Generic Iterator over Enum: how to declare type variables", "body": "<p>You'll need to pass the class into the constructor explicitly (and can have a factory function to avoid it at the call-site):</p>\n\n<pre><code>class EnumIterator&lt;T: Enum&lt;T&gt;&gt;(clazz: Class&lt;T&gt;): Iterator&lt;T&gt; {\n   private var cursor = 0\n   // your original code gets them on each hasNext/next call\n   private val values = clazz.enumConstants\n\n   override fun hasNext(): Boolean = cursor &lt; values.size - 1\n   override fun next(): T = values[cursor++]\n}\n\n// factory function \ninline fun &lt;reified T: Enum&lt;T&gt;&gt; EnumIterator(): EnumIterator&lt;T&gt; = EnumIterator(T::class.java)\n</code></pre>\n\n<p>You can also slightly simplify this if you don't need <code>EnumIterator</code> as a separate type by making it local (EDIT: @jrtapsell's \"With reified type\" solution is better):</p>\n\n<pre><code>inline fun &lt;reified T: Enum&lt;T&gt;&gt; EnumIterator(): Iterator&lt;T&gt; = object : Iterator&lt;T&gt; {\n    private var cursor = 0\n    private val values = enumValues&lt;T&gt;()\n\n    override fun hasNext(): Boolean = cursor &lt; values.size - 1\n    override fun next(): T = values[cursor++]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1523882912, "post_id": 49857656, "comment_id": 86729991, "body": "It is impossible with this exact code, the question is how to make it possible."}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": false, "score": 1, "last_activity_date": 1523882562, "creation_date": 1523882562, "answer_id": 49857656, "question_id": 49855273, "link": "https://stackoverflow.com/questions/49855273/kotlin-generic-iterator-over-enum-how-to-declare-type-variables/49857656#49857656", "title": "Kotlin: Generic Iterator over Enum: how to declare type variables", "body": "<p><code>enumValues</code> is an inline function so the exact type of its reified parameter must be known at compile time which is impossible in your case.</p>\n\n<p>Why not just do <code>AnyEnumClass.values().iterator()</code> if you need an iterator.</p>\n"}, {"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1523882839, "post_id": 49857686, "comment_id": 86729945, "body": "Might as well simplify to <code>fun &lt;T&gt; iterator(values: Array&lt;T&gt;):Iterator&lt;T&gt;</code> and <code>iterator(Example.values())</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1523883273, "post_id": 49857686, "comment_id": 86730243, "body": "<code>enumValues&lt;T&gt;().iterator()</code> instead of <code>T::class.java.enumConstants.iterator()</code>?"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 9, "last_activity_date": 1523883363, "last_edit_date": 1523883363, "creation_date": 1523882661, "answer_id": 49857686, "question_id": 49855273, "link": "https://stackoverflow.com/questions/49855273/kotlin-generic-iterator-over-enum-how-to-declare-type-variables/49857686#49857686", "title": "Kotlin: Generic Iterator over Enum: how to declare type variables", "body": "<h2>Without reified type</h2>\n\n<pre><code>enum class Example {\n    A, B, C, D\n}\n\nfun &lt;T: Enum&lt;T&gt;&gt; iterator(values:()-&gt;Array&lt;T&gt;):Iterator&lt;T&gt; = values()\n    .asIterable()\n    .iterator()\n\nfun main(args: Array&lt;String&gt;) {\n\n    val iterator = iterator(Example::values)\n\n    iterator.forEach {\n        println(it)\n    }\n}\n</code></pre>\n\n<p>This works by using a function instead of a wrapper class, depending on your use it may be a better option.</p>\n\n<h2>With reified type</h2>\n\n<pre><code>enum class Example {\n    A, B, C, D\n}\n\ninline fun &lt;reified T: Enum&lt;T&gt;&gt; iterator():Iterator&lt;T&gt; = enumValues&lt;T&gt;().iterator()\n\nfun main(args: Array&lt;String&gt;) {\n\n    val iterator = iterator&lt;Example&gt;()\n\n    iterator.forEach {\n        println(it)\n    }\n}\n</code></pre>\n\n<p>This requires the type to be explicitly set, but does not need a reference to the values method.</p>\n"}], "owner": {"reputation": 1056, "user_id": 9652640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rZGNE.png?s=128&g=1", "display_name": "Min-Soo Pipefeet", "link": "https://stackoverflow.com/users/9652640/min-soo-pipefeet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4636, "favorite_count": 0, "accepted_answer_id": 49857686, "answer_count": 3, "score": 4, "last_activity_date": 1523883363, "creation_date": 1523875138, "last_edit_date": 1523875348, "question_id": 49855273, "link": "https://stackoverflow.com/questions/49855273/kotlin-generic-iterator-over-enum-how-to-declare-type-variables", "title": "Kotlin: Generic Iterator over Enum: how to declare type variables", "body": "<p>My (non compiling) code for a generic iterator over enumerations is as follows:      </p>\n\n<pre><code>class EnumIterator&lt;T: Enum&lt;T&gt;&gt;: Iterator&lt;T&gt; \n{\n   private var cursor = 0\n\n   override fun hasNext(): Boolean = cursor &lt; enumValues&lt;T&gt;().size - 1\n   override fun next(): T = enumValues&lt;T&gt;()[cursor++]\n}\n</code></pre>\n\n<p>The IntelliJ IDE marks the <em>T</em> in both <em>enumValues&lt; T ></em> red:</p>\n\n<blockquote>\n  <p>\"Cannot use 'T' as reified type parameter. Use a class instead.\"</p>\n</blockquote>\n\n<p>How to declare the type parameters to get rid of the error?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 2, "creation_date": 1523875235, "post_id": 49855255, "comment_id": 86724971, "body": "i dont get your question: you already posted java code, so what do you need actually?"}, {"owner": {"reputation": 4426, "user_id": 1068397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SmWCl.jpg?s=128&g=1", "display_name": "aviran", "link": "https://stackoverflow.com/users/1068397/aviran"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1523875306, "post_id": 49855255, "comment_id": 86725009, "body": "i&#39;ll edit to make it clearer"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1523875503, "post_id": 49855255, "comment_id": 86725128, "body": "If you use Java 8 or higher, you can use a lambda or a method reference, otherwise you need to provide an instance of your callback (e.g., an anonymous class). By the way your original question before the edit contained a possible answer, as said by @pskink"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1523875590, "post_id": 49855255, "comment_id": 86725190, "body": "short answer: yes you can use a Kotlin library and access it from a Java class"}, {"owner": {"reputation": 4426, "user_id": 1068397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SmWCl.jpg?s=128&g=1", "display_name": "aviran", "link": "https://stackoverflow.com/users/1068397/aviran"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1523878028, "post_id": 49855255, "comment_id": 86726713, "body": "@user2340612 the code before the edit, does not work, it used to work for v1.x - if you can get it to work, i&#39;d love to see how."}], "answers": [{"comments": [{"owner": {"reputation": 4426, "user_id": 1068397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SmWCl.jpg?s=128&g=1", "display_name": "aviran", "link": "https://stackoverflow.com/users/1068397/aviran"}, "edited": false, "score": 0, "creation_date": 1523878248, "post_id": 49855885, "comment_id": 86726832, "body": "maybe it&#39;s something with my project settings, but that code has a syntax error. &quot;missing return statement&quot; on the last line."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1523880893, "post_id": 49855885, "comment_id": 86728530, "body": "Is the error shown in the callback of <code>whenAvailable</code>, or in the enclosing method? From the source code you linked, the callback passed to <code>whenAvailable</code> returns <code>Unit</code> (i.e., <code>void</code>), so the error you see shouldn&#39;t be linked to that"}, {"owner": {"reputation": 4426, "user_id": 1068397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SmWCl.jpg?s=128&g=1", "display_name": "aviran", "link": "https://stackoverflow.com/users/1068397/aviran"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1523881799, "post_id": 49855885, "comment_id": 86729180, "body": "@user2340612 the error shown in the callback provided to whenAvailable"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1523877091, "creation_date": 1523877091, "answer_id": 49855885, "question_id": 49855255, "link": "https://stackoverflow.com/questions/49855255/mixing-kotlin-and-java-code/49855885#49855885", "title": "Mixing Kotlin and Java code", "body": "<p>Yes you can use something like this:</p>\n\n<pre><code>fotoApparat.takePicture().\n                toPendingResult().\n                whenAvailable(bitmapPhoto -&gt; {\n        ImageView imageView = (ImageView) findViewById(R.id.result);\n        // rest of your code\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 3193776, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003606250641/picture?type=large", "display_name": "tieskedh", "link": "https://stackoverflow.com/users/3193776/tieskedh"}, "is_accepted": true, "score": 5, "last_activity_date": 1523881736, "last_edit_date": 1592644375, "creation_date": 1523881378, "answer_id": 49857273, "question_id": 49855255, "link": "https://stackoverflow.com/questions/49855255/mixing-kotlin-and-java-code/49857273#49857273", "title": "Mixing Kotlin and Java code", "body": "<p>Abreslav <a href=\"https://discuss.kotlinlang.org/t/java-interop-unit-closures-required-to-return-kotlin-unit/1842/3?u=tieskedh\" rel=\"noreferrer\">said</a>:</p>\n<blockquote>\n<p>Unit is a type (unlike void) and has a value (unlike Void). This enable uniform treatment of Unit when it comes to generic classes. I.e. we don\u2019t need another two types: a function that returns something and a function that returns void. It\u2019s all one type: a function that returns something tat may be Unit.</p>\n<p>Introducing void would pose many problems in areas like type inference, compositionality of any sort of functions, etc</p>\n</blockquote>\n<p>So, unlike in Kotlin, in Java you need to return this value explicitly.</p>\n<p>Your lambda needs to be:</p>\n<pre><code>fotoApparat.takePicture().\n                toPendingResult().\n                whenAvailable(bitmapPhoto -&gt; {\n        ImageView imageView = (ImageView) findViewById(R.id.result);\n        return Unit.INSTANCE;\n});\n</code></pre>\n"}], "owner": {"reputation": 4426, "user_id": 1068397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SmWCl.jpg?s=128&g=1", "display_name": "aviran", "link": "https://stackoverflow.com/users/1068397/aviran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 1, "accepted_answer_id": 49857273, "answer_count": 2, "score": 2, "last_activity_date": 1523881736, "creation_date": 1523875083, "last_edit_date": 1523875378, "question_id": 49855255, "link": "https://stackoverflow.com/questions/49855255/mixing-kotlin-and-java-code", "title": "Mixing Kotlin and Java code", "body": "<p>I want to use a <code>Kotlin</code> Android library (FotoApparat) in a <code>Java</code> Android project.</p>\n\n<p>In a Kotlin code base the <code>whenAvailble</code> function gets a kotlin callback as a param, which will be called when the async operation is done.</p>\n\n<pre><code>val photoResult = fotoapparat.takePicture()\n\n// Asynchronously saves photo to file\nphotoResult.saveToFile(someFile)\n\n// Asynchronously converts photo to bitmap and returns the result on the main thread\nphotoResult\n    .toBitmap()\n    .whenAvailable { bitmapPhoto -&gt;\n            val imageView = (ImageView) findViewById(R.id.result)\n\n            imageView.setImageBitmap(bitmapPhoto.bitmap)\n            imageView.setRotation(-bitmapPhoto.rotationDegrees)\n    }\n</code></pre>\n\n<p><code>whenAvailable</code> code can be found <a href=\"https://github.com/Fotoapparat/Fotoapparat/blob/master/fotoapparat/src/main/java/io/fotoapparat/result/PendingResult.kt\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>The equivalent java implementation would be: (Previously the library was written in java)</p>\n\n<pre><code>fotoApparat.takePicture().\n                    toPendingResult().\n                    whenAvailable( /* some sort of call back */);\n</code></pre>\n\n<p>How do I provide the <code>whenAvailable</code> callback from a Java code?</p>\n\n<p>In previous versions of the lib, there was a Java pending result callback class which no longer available.</p>\n"}, {"tags": ["java", "android", "android-studio", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1510, "user_id": 9478932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5309fe486019d5e1deb0da3b81a9b5?s=128&d=identicon&r=PG&f=1", "display_name": "B.M", "link": "https://stackoverflow.com/users/9478932/b-m"}, "edited": false, "score": 2, "creation_date": 1523871488, "post_id": 49854008, "comment_id": 86722567, "body": "Does <code>fragment_single_player_game.xml</code> contains a <code>TextView</code> with <code>player1Name</code> as <code>id</code> ?"}, {"owner": {"reputation": 1060, "user_id": 2300981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mrpm8.gif?s=128&g=1", "display_name": "Gotiasits", "link": "https://stackoverflow.com/users/2300981/gotiasits"}, "edited": false, "score": 0, "creation_date": 1523872470, "post_id": 49854008, "comment_id": 86723214, "body": "I think your problem lies in how Activity <code>ActivitySinglePlayer</code> inflates the fragment."}, {"owner": {"reputation": 152, "user_id": 9528651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5dae46cd1afbdd556743888da6461e?s=128&d=identicon&r=PG&f=1", "display_name": "martink", "link": "https://stackoverflow.com/users/9528651/martink"}, "edited": false, "score": 0, "creation_date": 1523872755, "post_id": 49854008, "comment_id": 86723410, "body": "It is not what you asked for, but additionally the line <code>bundle.putString(player1Name, &quot;player1Name&quot;);</code> seems wrong. The first argument is the key, so you need to call <code>bundle.putString(&quot;player1Name&quot;, player1Name);</code> to be able to retrieve it later via <code>getString(&quot;player1Name&quot;)</code>"}, {"owner": {"reputation": 39, "user_id": 9548267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kveola92", "link": "https://stackoverflow.com/users/9548267/kveola92"}, "reply_to_user": {"reputation": 1510, "user_id": 9478932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5309fe486019d5e1deb0da3b81a9b5?s=128&d=identicon&r=PG&f=1", "display_name": "B.M", "link": "https://stackoverflow.com/users/9478932/b-m"}, "edited": false, "score": 0, "creation_date": 1523873403, "post_id": 49854008, "comment_id": 86723831, "body": "@B.M no, it does not."}, {"owner": {"reputation": 39, "user_id": 9548267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kveola92", "link": "https://stackoverflow.com/users/9548267/kveola92"}, "reply_to_user": {"reputation": 152, "user_id": 9528651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5dae46cd1afbdd556743888da6461e?s=128&d=identicon&r=PG&f=1", "display_name": "martink", "link": "https://stackoverflow.com/users/9528651/martink"}, "edited": false, "score": 0, "creation_date": 1523873406, "post_id": 49854008, "comment_id": 86723834, "body": "@martink oh, I see, thank you :) I fixed that now"}, {"owner": {"reputation": 1510, "user_id": 9478932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad5309fe486019d5e1deb0da3b81a9b5?s=128&d=identicon&r=PG&f=1", "display_name": "B.M", "link": "https://stackoverflow.com/users/9478932/b-m"}, "edited": false, "score": 1, "creation_date": 1523873699, "post_id": 49854008, "comment_id": 86724032, "body": "The <code>textview</code> with the id <code>player1Name</code> should be defined on <code>fragment_single_player_game.xml</code>, that&#39;s where the error comes from"}], "owner": {"reputation": 39, "user_id": 9548267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "kveola92", "link": "https://stackoverflow.com/users/9548267/kveola92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "closed_date": 1523926283, "answer_count": 0, "score": 0, "last_activity_date": 1523871237, "creation_date": 1523871237, "question_id": 49854008, "link": "https://stackoverflow.com/questions/49854008/android-studio-nullpointerexception-using-intent-bundle", "closed_reason": "Duplicate", "title": "Android Studio NullpointerException using Intent + Bundle", "body": "<p>I'm trying to pass a text field from an activity to a fragment, using this code:</p>\n\n<pre><code>EditText textPlayer1;\n\npublic void goToSinglePlayer() {\n    Intent intent = new Intent(this, ActivitySinglePlayer.class);\n    String player1Name = textPlayer1.getText().toString();\n    Bundle bundle = new Bundle();\n    bundle.putString(player1Name, \"player1Name\");\n    intent.putExtras(bundle);\n    startActivity(intent);\n}\n</code></pre>\n\n<p>I want a player to enter the text, and then pass the name to the fragment. When I recieve the bundle, I have this code:</p>\n\n<pre><code>   public SinglePlayerGameFragment() {\n    // Required empty public constructor\n}\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic View onCreateView\n        (LayoutInflater inflater,\n         ViewGroup container,\n         Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_single_player_game, container, false);\n    TextView player1Name = view.findViewById(R.id.player1Name);\n    String name = (getActivity().getIntent().getExtras().getString(\"player1Name\"));\n    player1Name.setText(name);\n    return view;\n}\n</code></pre>\n\n<p>This gives me the error:</p>\n\n<pre><code>Caused by: android.view.InflateException: Binary XML file line #13: Binary XML file line #13: Error inflating class fragment\n               Caused by: android.view.InflateException: Binary XML file line #13: Error inflating class fragment\n               Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n</code></pre>\n\n<p>I've been racking my brain trying to figure this one out, but I'm stuck. Anyone have an idea?</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["java", "kotlin", "javadoc", "kdoc"], "answers": [{"comments": [{"owner": {"reputation": 1610, "user_id": 2220337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22d64a068fd74d3768a167dfd85231d9?s=128&d=identicon&r=PG&f=1", "display_name": "cjurjiu", "link": "https://stackoverflow.com/users/2220337/cjurjiu"}, "edited": false, "score": 2, "creation_date": 1537432567, "post_id": 51068989, "comment_id": 91784766, "body": "that&#39;s what I ended up doing in the end, at that time.  My issue wasn&#39;t about the generated code...it was more about being able to distinguish between getters &amp; setters in the generated documentation, s.t. the documentation also looks natural in Java. Thanks for your input!"}], "tags": [], "owner": {"reputation": 1093, "user_id": 786434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a09afc97177408a422b81de4ed58fec8?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/786434/brian"}, "is_accepted": true, "score": 2, "last_activity_date": 1530122907, "creation_date": 1530122907, "answer_id": 51068989, "question_id": 49853129, "link": "https://stackoverflow.com/questions/49853129/kotlin-documentation-for-property-setter/51068989#51068989", "title": "Kotlin: Documentation for property setter", "body": "<p>I think you should reevaluate your class design, instead of trying to explain special behavior in documentation. This is usually a sign of code smell and maybe also a sign of bad testability.</p>\n\n<p>You should model the class with the special behavior of <code>updateExpiry()</code> in mind. <em>If</em> this aspect is worth being transparent to client, it should probably be part of some kind of interface or protocol steps.</p>\n\n<p>Without knowing the details of the rest of your software, the best I can come up with is to just make the setter private and add a separate function for updating <code>expiryTime</code>:</p>\n\n<pre><code>/** Explain property */\nvar expiryTime = DEFAULT_EXPIRY_TIME\n    get() {\n        mainThreadCheck()\n        return field\n    }\n    private set(value) {\n        mainThreadCheck()\n        field = value\n    }\n\n/** Explain update behavior constraints */\nfun updateExpiryTime(value: Any) {\n  expiryTime = value\n  updateExpiry(value)\n}\n</code></pre>\n\n<p>IMHO Kotlin's Java interoperability should not be expected to result in code that is just like Java code. It is compatible on the byte code level, not necessarily on the source code and Javadoc level.</p>\n"}], "owner": {"reputation": 1610, "user_id": 2220337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22d64a068fd74d3768a167dfd85231d9?s=128&d=identicon&r=PG&f=1", "display_name": "cjurjiu", "link": "https://stackoverflow.com/users/2220337/cjurjiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 1, "accepted_answer_id": 51068989, "answer_count": 1, "score": 8, "last_activity_date": 1530122907, "creation_date": 1523868473, "last_edit_date": 1523886581, "question_id": 49853129, "link": "https://stackoverflow.com/questions/49853129/kotlin-documentation-for-property-setter", "title": "Kotlin: Documentation for property setter", "body": "<p>I am writing a Kotlin library. In one of the classes, I have the following:</p>\n\n<pre><code>class SessionWrapper {\n\n    /**\n     * The time in milliseconds after which the session will expire.\n     */\n    var expiryTime = DEFAULT_EXPIRY_TIME\n        get() {\n            mainThreadCheck()\n            return field\n        }\n        set(value) {\n            mainThreadCheck()\n            field = value\n            updateExpiry(value) &lt;&lt;&lt; THIS ONE\n        }\n\n    ...\n}\n</code></pre>\n\n<p>However, <code>updateExpiry(long)</code> has a behaviour which should be transparent to the clients of <code>SessionWrapper</code>, if they modify <code>expiryTime</code> (i.e. call the setter).</p>\n\n<p>Now, for Kotlin projects, this wouldn't be an issue, since I can just add the extra KDoc to the <code>expiryTime</code> property itself, and it wouldn't feel out of place:</p>\n\n<pre><code>    /**\n     * The time in milliseconds after which the session will expire.\n     *\n     * Updating the expiry time after the session is started does x,\n     * the listeners will receive y.\n     *\n     * Writing comments is fun, when the tools work.\n     */\n     var expiryTime = DEFAULT_EXPIRY_TIME\n</code></pre>\n\n<p>But for Java projects, the documentation above would appear for both <code>setExpiryTime(long)</code> and <code>getExpiryTime()</code>, which feels off because I would have <strong>setter JavaDoc in the getter, and getter JavaDoc in the setter</strong>.</p>\n\n<p>Trying to separate the documentation for the two accessors, in Kotlin, in the following way:</p>\n\n<pre><code>class SomeClass{\n\n    var expiryTime = DEFAULT_EXPIRY_TIME\n        /**\n         * The time in milliseconds after which the session will expire.\n         */\n        get() {\n            mainThreadCheck()\n            return field\n        }\n        /**\n         * Updating the expiry time after the session is started does x,\n         * the listeners will receive y.\n         *\n         * Writing comments is fun, when the tools work.\n         */\n        set(value) {\n            mainThreadCheck()\n            field = value\n            updateExpiry(value)\n        }\n\n    ...\n}\n</code></pre>\n\n<p>just shows no JavaDoc in the IDE, for both Kotlin &amp; Java code.</p>\n\n<p>I found no clear way of trying to separate the docs for Java-visible getters &amp; setters in the <a href=\"https://kotlinlang.org/docs/reference/kotlin-doc.html\" rel=\"noreferrer\">KDoc reference</a> or the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">Java interop page</a>. </p>\n\n<p>I find this pretty annoying, given Kotlin's good interop with Java.</p>\n\n<p>Would appreciate any ideas.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 1, "creation_date": 1523867355, "post_id": 49852565, "comment_id": 86719940, "body": "AFAIK this is an IDE specific question, in my experience if you use an IDE like Android Studio it does not generate <code>super.&lt;method name&gt;</code> but a <code>TODO(&quot;not implemented&quot;)</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1523879837, "post_id": 49853073, "comment_id": 86727822, "body": "I know that works, but my point was to know if there is any mechanical way to let the users (and the IDE) know that they need not call the super.onFail method when they overwrite it, other than saying so in the documentation."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "reply_to_user": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1523887655, "post_id": 49853073, "comment_id": 86733478, "body": "I&#39;m not sure I understand then. Calling super would be up to them, if they want to extend the base behavior that you&#39;d have implemented or not."}], "tags": [], "owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "is_accepted": false, "score": 0, "last_activity_date": 1523868294, "creation_date": 1523868294, "answer_id": 49853073, "question_id": 49852565, "link": "https://stackoverflow.com/questions/49852565/how-to-mark-not-to-call-super-class-implementation-when-overriding/49853073#49853073", "title": "How to mark not to call super class&#39; implementation when overriding?", "body": "<p>AFAIK, there is no problem in writing something like this:</p>\n\n<pre><code>fun doSomething(handler:Handler, result: Int) {\n    handler.onFinished(result)\n}\n    fun main() {\n        doSomething(object: SimpleHandler() {\n            override fun onFail() {\n                println(\"My custom message\")\n            }\n        }, 10)\n    }\n\n    fun main2() {\n        doSomething(object : SimpleHandler() {\n            override fun onSuccess() {\n                println(\"My other custom message\")\n            }\n        }, 0)\n    }\n</code></pre>\n\n<p>The developer only needs to override, if needed, the callback he's interested in.\nIn this case, in main() fails, it'll print \"my custom message\". If it succeeds, the default onSuccess() will be called.\nThe reverse is also true for main2(): If it succeeds, it'll print \"My other custom message\", but it it fails, it'll simply call the default onSuccess.</p>\n\n<p>Tested on AS 3.1.1 with org.jetbrains.kotlin:kotlin-stdlib-jre7:1.2.31</p>\n"}, {"comments": [{"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1523879928, "post_id": 49853123, "comment_id": 86727878, "body": "For most other classes, calling the super.XXX() may be necessary. In some cases, I think Android Studio warned me for not calling that super method. But I wanted to know if there is a way to tell the user/IDE that calling super.XXX() is not necessary."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1523880173, "post_id": 49853123, "comment_id": 86728051, "body": "That&#39;s why I said &quot;for a given method name&quot;. It&#39;s an Apache Velocity template, you have conditionals. There is a problem if you also have other methods with same name, but you can choose the names to avoid it."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1523880320, "post_id": 49853123, "comment_id": 86728150, "body": "This approach has major limitations, I just don&#39;t think there&#39;s anything better (at least currently)."}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "edited": false, "score": 0, "creation_date": 1523895064, "post_id": 49853123, "comment_id": 86738652, "body": "If there is no better way, I will take this as the answer. Thank you for helping me."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 0, "last_activity_date": 1523868446, "creation_date": 1523868446, "answer_id": 49853123, "question_id": 49852565, "link": "https://stackoverflow.com/questions/49852565/how-to-mark-not-to-call-super-class-implementation-when-overriding/49853123#49853123", "title": "How to mark not to call super class&#39; implementation when overriding?", "body": "<p>In IDEA/Android Studio, this is governed by <a href=\"https://www.jetbrains.com/help/idea/using-file-and-code-templates.html\" rel=\"nofollow noreferrer\"><code>Editor &gt; File and Code Templates</code></a> under <code>Settings</code>. </p>\n\n<p>On my installation, I see <code>Overridden Method Body</code> and <code>Overridden Scala Method Body</code> but no special template for Kotlin. So I would expect Kotlin to be using the Java template. </p>\n\n<p>You can change this template not to call <code>super</code> for a given method name, but it looks like you don't have access to the supertype's name. See the linked documentation for how templates can be shared.</p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 1, "accepted_answer_id": 49853123, "answer_count": 2, "score": 0, "last_activity_date": 1523868446, "creation_date": 1523866610, "question_id": 49852565, "link": "https://stackoverflow.com/questions/49852565/how-to-mark-not-to-call-super-class-implementation-when-overriding", "title": "How to mark not to call super class&#39; implementation when overriding?", "body": "<p>Suppose a Library's method takes a callback handler <code>Handler</code>, but for handling the result, the same logic is used over and over again. So, I created a class <code>SimpleHandler</code> that has the logic. The users that use that class are suppose to override its methods <code>onSuccess</code> <code>onFail</code>, if necessary. But if the handling is not necessary for the specific case, the user may not override them, and the <code>SimpleHandler</code>'s default handler will be used.</p>\n\n<p>The problem is that when I auto-complete the methods, the IDE automatically inserts super calls, like <code>super.onFail()</code>. For this code, as you see below, if it is overridden, the super method should not be called. Is there any way to mark that the super method should not be called when overridden, so the IDE will stop inserting it?</p>\n\n<pre><code>interface Handler\n{\n    fun onFinished(result:Int);\n}\n\nabstract class SimpleHandler:Handler\n{\n    override fun onFinished(result: Int)\n    {\n        if(result==0)\n        {\n            onSuccess();\n        }\n        else\n        {\n            onFail();\n        }\n    }\n\n    open fun onSuccess()\n    {\n        println(\"The developer is so lazy that he did not do anything.\");\n    }\n    open fun onFail()\n    {\n        println(\"The developer is so lazy that he did not do anything.\");\n    }\n}\n\nfun doSomething(handler:Handler)\n{\n    handler.onFinished(10);\n}\n\nfun main(args: Array&lt;String&gt;)\n{\n\n    doSomething(object: SimpleHandler(){\n        override fun onSuccess() {\n            println(\"I won! I won!\");\n        }\n\n        override fun onFail() {\n            //super.onFail();\n            println(\"Me fail English?\");\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["javascript", "java", "android", "kotlin", "duktape"], "answers": [{"tags": [], "owner": {"reputation": 386, "user_id": 5038370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152950988176027/picture?type=large", "display_name": "Alexandre Andrade", "link": "https://stackoverflow.com/users/5038370/alexandre-andrade"}, "is_accepted": false, "score": 1, "last_activity_date": 1524496080, "creation_date": 1524496080, "answer_id": 49984334, "question_id": 49851354, "link": "https://stackoverflow.com/questions/49851354/how-to-access-javascript-module-with-duktape-in-android/49984334#49984334", "title": "How to access Javascript module with Duktape in Android", "body": "<p>in the testjs-lib.js, add the JS code that makes use of the module testjs-lib.js itself exports. For example:</p>\n\n<pre><code>function myModule() {\n  this.hello = function() {\n    return 'hello!';\n  }\n\n  this.goodbye = function() {\n    return 'goodbye!';\n  }\n}\n\nmodule.exports = myModule;\n\n//You code goes here\nconsole.log(myModule.hello());\nconsole.log(myModule.goodbye());\n</code></pre>\n\n<p>Then ask Duktape to evaluate the entire file.</p>\n"}, {"tags": [], "owner": {"reputation": 4695, "user_id": 1594776, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/454e7fb5e763a2802a89ef684b814710?s=128&d=identicon&r=PG&f=1", "display_name": "Yash", "link": "https://stackoverflow.com/users/1594776/yash"}, "is_accepted": false, "score": 2, "last_activity_date": 1529419153, "creation_date": 1529419153, "answer_id": 50931090, "question_id": 49851354, "link": "https://stackoverflow.com/questions/49851354/how-to-access-javascript-module-with-duktape-in-android/50931090#50931090", "title": "How to access Javascript module with Duktape in Android", "body": "<p>Say you want to include <a href=\"https://underscorejs.org/\" rel=\"nofollow noreferrer\">Underscore</a> in duktape.</p>\n\n<ol>\n<li><p>Put your module/library code in a separate js file. In an android project, you can put this js file in <code>Assets</code> folder. In our example, it'd be sth like: <code>underscore.js</code></p></li>\n<li><p>Create a java interface that'd be used by duktape to get inputstream to this js file. \nSth like:</p></li>\n</ol>\n\n<p>```   </p>\n\n<pre><code>public interface DuktapeHelper {\n\n    @JavascriptInterface\n    String getUnderScore();\n}\n</code></pre>\n\n<p>````</p>\n\n<ol start=\"3\">\n<li>Bind this java interface to a js interface in your duktape instance.</li>\n</ol>\n\n<p>```</p>\n\n<pre><code>duktape.bind(\"helper\", DuktapeHelper.class, &lt;instance of your DuktapeHelperImplementation&gt;);\n</code></pre>\n\n<p>```</p>\n\n<ol start=\"4\">\n<li>Implment <code>modSearch</code> function in duktape using <code>helper</code> interface that you injected before.</li>\n</ol>\n\n<p>```  </p>\n\n<pre><code> duktape.evaluate(\"Duktape.modSearch = function (id) {\\n\" +\n                    \"  if (id == \\\"underscore\\\") {\" +\n                    \"  return helper.getUnderScore();\" +\n                    \"  } \" +\n                    \"   throw new Error('cannot find module: ' + id);\" +\n                    \"  };\" +\n                \"var _ = require('underscore')._; \");\n</code></pre>\n\n<p>```</p>\n"}], "owner": {"reputation": 379, "user_id": 1931036, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/pUFvB.jpg?s=128&g=1", "display_name": "erickva", "link": "https://stackoverflow.com/users/1931036/erickva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 967, "favorite_count": 0, "answer_count": 2, "score": 12, "last_activity_date": 1529419153, "creation_date": 1523862318, "question_id": 49851354, "link": "https://stackoverflow.com/questions/49851354/how-to-access-javascript-module-with-duktape-in-android", "title": "How to access Javascript module with Duktape in Android", "body": "<p>I am successfully parsing and evaluating a javascript file with Duktape in my Android application using Kotlin.</p>\n\n<pre><code>val file_name = \"lib.js\"\n\nval js_string = application.assets.open(file_name).bufferedReader().use {\n  it.readText()\n}\n\n\nval duktape = Duktape.create()\n\ntry {\n  Log.d(\"Greeting\", duktape.evaluate(\"'hello world'.toUpperCase();\").toString())\n  duktape.evaluate(js_string)\n\n} finally {\n  duktape.close()\n}\n</code></pre>\n\n<p>The javascript file was created with Browserify, so it is one single file with everything and it is working fine. But I need to request a module and a method from the module, example:</p>\n\n<pre><code>var test = require('testjs-lib');\ntest.EVPair.makeRandom().toWTF();\n</code></pre>\n\n<p>I have no idea of how to do it and have not found any example, besides this link: <a href=\"http://wiki.duktape.org/HowtoModules.html\" rel=\"noreferrer\">http://wiki.duktape.org/HowtoModules.html</a></p>\n\n<p>It tells me to use a modsearch, but I don't have a clue how to do it or where it should be placed, not even if it is applicable for the Duktape Android (<a href=\"https://github.com/square/duktape-android\" rel=\"noreferrer\">https://github.com/square/duktape-android</a>).</p>\n\n<p>Has anybody done it successfully that could shed some light on this matter?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding", "kotlin-extension", "rx-kotlin"], "comments": [{"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1523866070, "post_id": 49851127, "comment_id": 86719227, "body": "Can you show more code? I mean process of getting data starting from viewModel to getting data in subscriber, will be easier to get the context of your problem."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1523867674, "post_id": 49851127, "comment_id": 86720151, "body": "What is the question?"}, {"owner": {"reputation": 227, "user_id": 6606971, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/822957514504959/picture?type=large", "display_name": "Dex Sebas", "link": "https://stackoverflow.com/users/6606971/dex-sebas"}, "edited": false, "score": 0, "creation_date": 1523885200, "post_id": 49851127, "comment_id": 86731627, "body": "I&#39;m sorry, I just updated the question"}], "owner": {"reputation": 227, "user_id": 6606971, "user_type": "registered", "accept_rate": 37, "profile_image": "https://graph.facebook.com/822957514504959/picture?type=large", "display_name": "Dex Sebas", "link": "https://stackoverflow.com/users/6606971/dex-sebas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523886001, "creation_date": 1523861447, "last_edit_date": 1523886001, "question_id": 49851127, "link": "https://stackoverflow.com/questions/49851127/kotlin-generic-list-parsing", "title": "Kotlin Generic List Parsing", "body": "<p>I was looking other questions but this one is using a different method.</p>\n\n<p>I\u2019m using MVVM in my Android app.</p>\n\n<p>Actually this is the way that I\u2019m getting data from my server: </p>\n\n<ul>\n<li>Inject dataManager into viewModel.</li>\n<li>viewModel calls dataManager->fetchUsers</li>\n<li>fetchUsers make request to server and return an Observable of Several which in this case should be Several but it\u2019s generic.</li>\n<li>viewModel subscribe to this request and expect a Several.</li>\n<li>At this point everything works besides Several doesn\u2019t have a list of User. This several have a list of LinkedTreeMap</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/UDn9X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDn9X.png\" alt=\"enter image description here\"></a> </p>\n\n<p>I tried to change my dataManager to return a string then map the response in my viewModel but the thing with this is that I will have to do that in every request.</p>\n\n<p>Also I tried to map the request in my dataManager but I got the same link tree map array. </p>\n\n<p>The thing with TypeToken approach is that I have to map in my viewModel. </p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>UsersViewModel</p>\n\n<pre><code> private fun fetchUsers() {\n        isLoading.set(false)\n        compositeDisposable += dataManager.GET&lt;User&gt;(classJava = User::class)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe( { response -&gt;\n                    isLoading.set(false)\n                   // Here the response should be a several with a list of users.\n                }, { err -&gt;\n                    isLoading.set(false)\n                })\n    }\n</code></pre>\n\n<p>GET function:</p>\n\n<pre><code> override fun &lt;T&gt; GET(classJava: KClass&lt;*&gt;): Single&lt;Several&lt;T&gt;&gt; {\n\n    return Rx2AndroidNetworking.get(\"EndPoint\")\n            .addHeaders(\"Authorization\",  apiHeader.protectedAPIHeader.accessToken!!)\n            .setOkHttpClient(APIClient.getUnsafeClient())\n            .build()\n             // Also I tested with\n             // .getObjectSingle(Several::class.java) // The thing is that I can't assign the type &lt;T&gt; with this approach.\n            .stringSingle\n            .map {\n\n                val fromJSON = fromJson&lt;Several&lt;T&gt;&gt;(it)\n                fromJSON\n\n            }\n}\n</code></pre>\n\n<p>fromJson function:</p>\n\n<pre><code>inline fun &lt;reified T&gt; fromJson(json: String): T = Gson().fromJson(json, object: TypeToken&lt;T&gt;() {}.type)\n</code></pre>\n\n<p>Several.kt</p>\n\n<pre><code>data class Several&lt;T&gt;(val items: MutableList&lt;T&gt;)\n</code></pre>\n\n<p>If I change my GET function to return a String then in UsersViewModel I add a .map like this</p>\n\n<pre><code>private fun fetchUsers() {\n        isLoading.set(false)\n        compositeDisposable += dataManager.GET&lt;User&gt;(classJava = User::class)\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .map(\n                    val severalUsers = fromJson&lt;Several&lt;User&gt;&gt;(it)\n                    severalUsers \n\n                )\n                .subscribe( { response -&gt;\n                    isLoading.set(false)\n                   // usersLiveData.value = response\n                }, { err -&gt;\n                    Log.e(\"tag\", \"Ocurred some error\")\n                    isLoading.set(false)\n                })\n    }\n</code></pre>\n\n<p>Then I would have a list of Users as expected but What I dont want to do is map the response in UsersViewModel because I would have to do in every single request that expect a list of items.</p>\n\n<p>Is there any way that I could get a several object without map in my viewmodel?</p>\n"}, {"tags": ["android", "kotlin", "robolectric"], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523861499, "creation_date": 1523860788, "last_edit_date": 1523861499, "question_id": 49850989, "link": "https://stackoverflow.com/questions/49850989/how-to-test-whether-the-activity-has-not-been-routed-with-robolectric", "title": "How to test whether the activity has not been routed with Robolectric?", "body": "<p>I have an activity which is as simple as this:</p>\n\n<pre><code>class HomeActivity : BaseActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home)\n\n        if (!this.userPreference.memberRegistered) {\n            goToActivity(AuthActivity::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>So if the user is registered, it will stay at <code>HomeActivity</code>, otherwise it will route to <code>AuthActivity</code>.</p>\n\n<p><code>userPreference</code> is a wrapper around <code>SharedPreference</code>. Works well and well tested in another codebase.</p>\n\n<p>I first tried whether <code>RuntimeEnvironment</code> from <code>Robolectric</code> could do the trick or not, and it works of course.</p>\n\n<pre><code>@Test\nfun try_test() {\n    val userPreference = UserPreference(\n        Settings(SETTINGS_NAME, RuntimeEnvironment.application.applicationContext)\n    )\n\n    // default value should be false, PASS\n    assertEquals(false, userPreference.memberRegistered)\n\n    // change it to true, then it should be true, PASS\n    userPreference.memberRegistered = true\n    assertEquals(true, userPreference.memberRegistered)\n}\n</code></pre>\n\n<p>Then I tried whether the route to <code>AuthActivity</code> works or not, and it works. The test pass.</p>\n\n<pre><code>@Test\nfun should_go_to_AuthActivity_when_1st_start() {\n    val homeActivity = Robolectric.setupActivity(HomeActivity::class.java)\n    val expectedIntent = Intent(homeActivity, AuthActivity::class.java)\n    val actual = ShadowApplication.getInstance().nextStartedActivity\n    assertEquals(expectedIntent.component, actual.component)\n}\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>Then the problem is I don't know how to check if the activity stays at <code>HomeActivty</code> when <code>this.userPreference.memberRegistered = true</code>. The following test failed due to the reason that <code>actual is null</code>. It is because there is no routing happen, so <code>nextStartedActivity</code> is null, but how to verify that it stays at this activity from the test?</p>\n\n<pre><code>@Test\nfun should_stay_at_HomeActivity_when_already_member() {\n    val userPreference = UserPreference(\n        Settings(SETTINGS_NAME, RuntimeEnvironment.application.applicationContext)\n    )\n\n    userPreference.memberRegistered = true\n\n    val actual = ShadowApplication.getInstance().nextStartedActivity\n    assertEquals(\n        actual.component.shortClassName,\n        \".ui.home.HomeActivity\"\n    )\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 2377, "user_id": 1160959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd2c84b77b3b8d07e85f5c7b9e3cdcaa?s=128&d=identicon&r=PG", "display_name": "asm0dey", "link": "https://stackoverflow.com/users/1160959/asm0dey"}, "edited": false, "score": 0, "creation_date": 1523853754, "post_id": 49849626, "comment_id": 86714092, "body": "Do you need to call Java static function from Kotlin? Or do you want to extend Java class with static function?"}, {"owner": {"reputation": 719, "user_id": 5447822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/776d4f50a4500ad7cb0d11b02dba46a2?s=128&d=identicon&r=PG&f=1", "display_name": "Hussain", "link": "https://stackoverflow.com/users/5447822/hussain"}, "edited": false, "score": 0, "creation_date": 1523853754, "post_id": 49849626, "comment_id": 86714093, "body": "I don&#39;t think it possible, you can check out this <a href=\"https://stackoverflow.com/questions/33911457/how-can-one-add-static-methods-to-java-classes-in-kotlin\">answer</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 2, "last_activity_date": 1523859593, "creation_date": 1523859593, "answer_id": 49850725, "question_id": 49849626, "link": "https://stackoverflow.com/questions/49849626/how-can-i-extension-java-class-with-kotlin-to-use-like-static-fun/49850725#49850725", "title": "How can I extension Java class with Kotlin to use like static fun?", "body": "<p>Actually, it is currently not yet supported to statcally extend a Java-Class. See the corresponding issue </p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-11968\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-11968</a></p>\n"}], "owner": {"reputation": 626, "user_id": 6596737, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qmdFm.jpg?s=128&g=1", "display_name": "Werb", "link": "https://stackoverflow.com/users/6596737/werb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "closed_date": 1523862038, "answer_count": 1, "score": 0, "last_activity_date": 1523859593, "creation_date": 1523852497, "last_edit_date": 1523854984, "question_id": 49849626, "link": "https://stackoverflow.com/questions/49849626/how-can-i-extension-java-class-with-kotlin-to-use-like-static-fun", "closed_reason": "Duplicate", "title": "How can I extension Java class with Kotlin to use like static fun?", "body": "<pre><code>public class TestA {\n     public static void a() {}\n} \n\nfun TestA.b(){}\n</code></pre>\n\n<p>How can I extension Java class with Kotlin to use like static fun ?\njust like <code>TestA.b()</code> to use this fun </p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 0, "last_activity_date": 1523997462, "last_edit_date": 1523997462, "creation_date": 1523996240, "answer_id": 49886767, "question_id": 49849195, "link": "https://stackoverflow.com/questions/49849195/add-relative-location-relativelayout-below/49886767#49886767", "title": "Add relative location RelativeLayout.BELOW", "body": "<p>I was able to manage my requirements using <code>ConstraintLayout</code>, I'm posting my answer here, may some people find it helpful:</p>\n\n<p>In <code>MainActivity.kt</code> I'm calling my custom element as:</p>\n\n<pre><code>main_layout.addView(Cardy(this))\n</code></pre>\n\n<p>My custom element <code>Cardy.kt</code> is:</p>\n\n<pre><code>import android.content.Context\nimport android.support.constraint.ConstraintLayout\nimport android.support.v4.content.ContextCompat\nimport android.widget.Button\nimport oryx.kortex.locateme.R\nimport android.graphics.Color\nimport android.support.constraint.ConstraintSet\nimport android.widget.EditText\nimport android.util.TypedValue\n\nclass Cardy : ConstraintLayout {\n    constructor(context: Context) : super(context) {\n        init(context)\n    }\n\n    private fun init(context: Context) {\n\n        val r = resources\n        val px = TypedValue.applyDimension(\n                TypedValue.COMPLEX_UNIT_DIP, 200f,\n                r.displayMetrics).toInt()\n        val myEditText = EditText(context).apply {\n            id = ConstraintLayout.generateViewId()\n            width = px\n        }\n        val myButton = Button(context).apply {\n            text = \"Press Me\"\n            setBackgroundColor(Color.BLUE)\n            id = ConstraintLayout.generateViewId()\n        }\n\n        this.apply {\n                    layoutParams = LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT)\n                    background =  ContextCompat.getDrawable(context, R.drawable.card)\n                    addView(myButton)\n                    addView(myEditText)\n        }\n\n        val set = ConstraintSet().apply {\n            constrainHeight(myButton.id, ConstraintSet.WRAP_CONTENT)\n            constrainWidth(myButton.id, ConstraintSet.WRAP_CONTENT)\n            connect(myButton.id, ConstraintSet.LEFT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.LEFT, 0)\n            connect(myButton.id, ConstraintSet.RIGHT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.RIGHT, 0)\n            connect(myButton.id, ConstraintSet.TOP,\n                    ConstraintSet.PARENT_ID, ConstraintSet.TOP, 0)\n            connect(myButton.id, ConstraintSet.BOTTOM,\n                    ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, 0)\n\n            constrainHeight(myEditText.id, ConstraintSet.WRAP_CONTENT)\n            constrainWidth(myEditText.id, ConstraintSet.WRAP_CONTENT)\n\n            connect(myEditText.id, ConstraintSet.LEFT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.LEFT, 0)\n            connect(myEditText.id, ConstraintSet.RIGHT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.RIGHT, 0)\n            connect(myEditText.id, ConstraintSet.BOTTOM,\n                    myButton.id, ConstraintSet.TOP, 70)\n\n        }\n\n        set.applyTo(this)\n\n    }\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/X8HhA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8HhA.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>NOTES</strong>:</p>\n\n<p>This part is to center the element <code>horizontal</code>:</p>\n\n<pre><code>   connect(myButton.id, ConstraintSet.LEFT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.LEFT, 0)\n   connect(myButton.id, ConstraintSet.RIGHT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.RIGHT, 0)\n</code></pre>\n\n<p>This part is to center the element <code>vertically</code>:</p>\n\n<pre><code>connect(myButton.id, ConstraintSet.TOP,\n        ConstraintSet.PARENT_ID, ConstraintSet.TOP, 0)\nconnect(myButton.id, ConstraintSet.BOTTOM,\n        ConstraintSet.PARENT_ID, ConstraintSet.BOTTOM, 0)\n</code></pre>\n\n<p>To have both elements in the same line, below code do the job:</p>\n\n<pre><code>val set = ConstraintSet().apply {\n    constrainHeight(myEditText.id, ConstraintSet.WRAP_CONTENT)\n    constrainWidth(myEditText.id, ConstraintSet.WRAP_CONTENT)\n\n    constrainHeight(myButton.id, ConstraintSet.WRAP_CONTENT)\n    constrainWidth(myButton.id, ConstraintSet.WRAP_CONTENT)\n\n    connect(myButton.id, ConstraintSet.RIGHT,\n            ConstraintSet.PARENT_ID, ConstraintSet.RIGHT,0)\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/e9deP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9deP.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 0, "last_activity_date": 1524224996, "creation_date": 1524224996, "answer_id": 49941002, "question_id": 49849195, "link": "https://stackoverflow.com/questions/49849195/add-relative-location-relativelayout-below/49941002#49941002", "title": "Add relative location RelativeLayout.BELOW", "body": "<p>It can be done using the below:</p>\n\n<pre><code>RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                    RelativeLayout.LayoutParams.WRAP_CONTENT).apply {\n                addRule(RelativeLayout.BELOW, ELEMENT.id)\n            }\n</code></pre>\n\n<p>Below is a full running code with me:</p>\n\n<pre><code>    val card1 = Switchy(this).apply {\n        id = ConstraintLayout.generateViewId()\n    }\n\n    val card2 = Cardy(this).apply {\n        id = ConstraintLayout.generateViewId()\n    }\n\n    main_layout.addView(card1)\n    main_layout.addView(card2,\n            RelativeLayout.LayoutParams(LayoutParams.MATCH_PARENT,\n                    RelativeLayout.LayoutParams.WRAP_CONTENT).apply {\n                addRule(RelativeLayout.BELOW, card1.id)\n            })\n\n    main_layout.addView(Settings(this),\n            RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT,\n                    RelativeLayout.LayoutParams.WRAP_CONTENT).apply {\n                addRule(RelativeLayout.BELOW, card2.id)\n            }\n    )\n</code></pre>\n\n<p>Where <code>Switchy</code> is:</p>\n\n<pre><code>class Switchy : RelativeLayout {\n    constructor(context: Context) : super(context) {\n        init(context)\n    }\n\n    private fun init(context: Context) {\n        val colorOn = -0xcdc1ba\n\n        val trackStates = ColorStateList(\n                arrayOf(intArrayOf(-android.R.attr.state_checked), intArrayOf()),\n                intArrayOf(Color.LTGRAY, colorOn)\n        )\n\n        this.apply {\n            layoutParams = android.widget.RelativeLayout.LayoutParams(\n                    LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT)\n\n            addView(Switch(context).apply {\n                    background =  ContextCompat.getDrawable(context, R.drawable.card)\n                    text = \"active or not is it  ?\"\n                    isChecked = true\n                    showText = true\n                    textOn = \"Active\"\n                    textOff = \"Not Active\"\n                    trackTintList = trackStates\n                    thumbTintList = trackStates\n                }, LayoutParams(LayoutParams.MATCH_PARENT,\n            LayoutParams.WRAP_CONTENT))\n        }\n    }\n}\n</code></pre>\n\n<p>And <code>Cardy</code> is:</p>\n\n<pre><code>class Cardy : ConstraintLayout {\n    constructor(context: Context) : super(context) {\n        init(context)\n    }\n\n    private fun init(context: Context) {\n\n        val r = resources\n        val px = TypedValue.applyDimension(\n                TypedValue.COMPLEX_UNIT_DIP, 200f,\n                r.displayMetrics).toInt()\n        val myEditText = EditText(context).apply {\n            id = ConstraintLayout.generateViewId()\n            width = px\n        }\n\n        val myImageButton = ImageButton(context).apply({\n            background = null\n            setImageDrawable(ContextCompat.getDrawable(context, R.drawable.ic_save_black_24px))\n        })\n        val myButton = Button(context).apply {\n            text = \"Press Me\"\n            setBackgroundColor(Color.BLUE)\n            id = ConstraintLayout.generateViewId()\n        }\n\n        this.apply {\n             layoutParams = LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.WRAP_CONTENT)\n             background =  ContextCompat.getDrawable(context, R.drawable.card)\n            addView(myEditText)\n           // addView(myButton)\n            addView(myImageButton)\n\n        }\n\n        val set = ConstraintSet().apply {\n            constrainHeight(myEditText.id, ConstraintSet.WRAP_CONTENT)\n            constrainWidth(myEditText.id, ConstraintSet.WRAP_CONTENT)\n\n            constrainHeight(myImageButton.id, ConstraintSet.WRAP_CONTENT)\n            constrainWidth(myImageButton.id, ConstraintSet.WRAP_CONTENT)\n\n            connect(myImageButton.id, ConstraintSet.RIGHT,\n                    ConstraintSet.PARENT_ID, ConstraintSet.RIGHT,0)\n        }\n        set.applyTo(this)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 0, "last_activity_date": 1524251199, "creation_date": 1524251199, "answer_id": 49948230, "question_id": 49849195, "link": "https://stackoverflow.com/questions/49849195/add-relative-location-relativelayout-below/49948230#49948230", "title": "Add relative location RelativeLayout.BELOW", "body": "<p>LinearLayout also could be an option, below code set a an <code>EditText</code> with <code>ImageButton</code>:</p>\n\n<pre><code>import android.content.Context\nimport android.support.v4.content.ContextCompat\nimport android.support.v7.widget.CardView\nimport android.widget.*\n\nimport android.widget.LinearLayout\n\nclass RespondTo : CardView {\n    constructor(context: Context) : super(context) {\n        init(context)\n    }\n\n    private fun init(context: Context) {\n\n\n        val parent = LinearLayout(context)\n\n        parent.apply {\n            layoutParams = LinearLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,\n                    FrameLayout.LayoutParams.WRAP_CONTENT, 1.0f).apply {\n                orientation = LinearLayout.HORIZONTAL\n\n                addView(EditText(context).apply {\n                    id = generateViewId()\n                    layoutParams = LinearLayout.LayoutParams(0,\n                            LinearLayout.LayoutParams.WRAP_CONTENT, 0.9f).apply {\n                    }\n                })\n                addView(ImageButton(context).apply({\n                    layoutParams = LinearLayout.LayoutParams(0,\n                            LinearLayout.LayoutParams.WRAP_CONTENT, 0.1f)\n                    background = null\n                    setImageDrawable(ContextCompat.getDrawable(context, R.drawable.ic_save_black_24px))\n                    id = generateViewId()\n                    layoutParams = RelativeLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT,\n                            LinearLayout.LayoutParams.WRAP_CONTENT).apply {\n                        addRule(RelativeLayout.ALIGN_PARENT_RIGHT)\n                        // addRule(RelativeLayout.LEFT_OF, myImageButton.id)\n                    }\n                }))\n            }\n        }\n        this.addView(parent)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 49941002, "answer_count": 3, "score": -2, "last_activity_date": 1524251199, "creation_date": 1523848845, "question_id": 49849195, "link": "https://stackoverflow.com/questions/49849195/add-relative-location-relativelayout-below", "title": "Add relative location RelativeLayout.BELOW", "body": "<p>I've the below code, in which I construct a \"card\" and adding to it both <code>Switch</code> and <code>button</code>, I need the <code>button</code> to be exactly under the switch, how to make it!</p>\n\n<pre><code>val swithy = Switch(this).apply {\n    text = \"active\"\n    isChecked = true\n    id = View.generateViewId()\n}\n\nval mcard = CardView(this).apply {\n    background = getDrawable(R.drawable.card_background)\n    radius = 12F\n    setContentPadding(25, 25, 25, 25)\n    setCardBackgroundColor(Color.LTGRAY)\n    cardElevation = 8F\n    maxCardElevation = 12F\n    addView(swithy, RelativeLayout.LayoutParams(LayoutParams.WRAP_CONTENT,\n            LayoutParams.WRAP_CONTENT).apply {\n        RelativeLayout.ALIGN_PARENT_BOTTOM\n        RelativeLayout.ALIGN_PARENT_LEFT\n    })\n    addView(Button(this.context).apply {\n        text = \"click me\"\n    }, LayoutParams(LayoutParams.WRAP_CONTENT,\n            LayoutParams.WRAP_CONTENT).apply {\n     /*     addRule(RelativeLayout.BELOW, swithy.id);  */\n   // How to make this?!  it works in Java, how to make it in Kotlin\n    })\n}\n</code></pre>\n\n<p><code>card_background.xml</code> is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;shape\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"rectangle\"\n    android:name=\"custom_view\"\n    android:id=\"@+id/custom_view\"&gt;\n    &lt;stroke\n        android:width=\"1dp\"\n        android:color=\"#c2f2f2f2\" /&gt;\n    &lt;solid\n        android:color=\"#FFFFFFFF\"\n        /&gt;\n\n    &lt;corners\n        android:bottomRightRadius=\"2dp\"\n        android:bottomLeftRadius=\"2dp\"\n        android:topLeftRadius=\"2dp\"\n        android:topRightRadius=\"2dp\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n"}, {"tags": ["android", "android-layout", "android-studio", "kotlin", "datetimepicker"], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 8614819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187bda32b4ecc51b5b85c564cfaead3d?s=128&d=identicon&r=PG&f=1", "display_name": "Alphonsa Augustine", "link": "https://stackoverflow.com/users/8614819/alphonsa-augustine"}, "is_accepted": false, "score": 0, "last_activity_date": 1524133696, "creation_date": 1524133696, "answer_id": 49918785, "question_id": 49848818, "link": "https://stackoverflow.com/questions/49848818/android-view-inflateexception-binary-xml-file-line-11-error-inflating-class-d/49918785#49918785", "title": "android.view.InflateException: Binary XML file line #11: Error inflating class de.ehsun.coloredtimebar.TimelineView", "body": "<p>The minimum sdkversion of de.ehsun.coloredtimebar.TimelinePickerView is 19. so it works fine in kitkat and above versions. It will not work in below versions than kitkat.</p>\n"}], "owner": {"reputation": 17, "user_id": 8405791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7244e7a494888c61f57425a27e3a0110?s=128&d=identicon&r=PG&f=1", "display_name": "Ash faa", "link": "https://stackoverflow.com/users/8405791/ash-faa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1524133696, "creation_date": 1523845359, "last_edit_date": 1523972843, "question_id": 49848818, "link": "https://stackoverflow.com/questions/49848818/android-view-inflateexception-binary-xml-file-line-11-error-inflating-class-d", "title": "android.view.InflateException: Binary XML file line #11: Error inflating class de.ehsun.coloredtimebar.TimelineView", "body": "<p>I'm working on a app in which user can reserve a seat. User has to choose a time range for his booking. I wanted a time range picker in which I can customize the time whereas user can only choose time from 07:00 to 19:00. I found a library called colored-time-selector <a href=\"https://github.com/ehsunshine/colored-time-selector\" rel=\"nofollow noreferrer\">https://github.com/ehsunshine/colored-time-selector</a> this library has everything what I was looking for. </p>\n\n<p>But I'm facing below error on android kitkat 4.4 it works fine on lollipop and above.</p>\n\n<p><strong>XML</strong></p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"\"\ntools:context=\".booking.test\"&gt;\n\n&lt;de.ehsun.coloredtimebar.TimelinePickerView\n    android:id=\"@+id/timelineView\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:barColorAvailable=\"@color/available_time_default_color\"\n    app:barColorHighlight=\"@color/selector_default_color\"\n    app:barColorNotAvailable=\"@color/timeline_default_color\"\n    app:barWidth=\"16dp\"\n    app:fractionLineColor=\"@color/separatorDark\"\n    app:fractionLineLength=\"8dp\"\n    app:fractionLineWidth=\"1dp\"\n    app:fractionPrimaryTextColor=\"@color/fraction_default_color\"\n    app:fractionSecondaryTextColor=\"@color/fraction_default_color\"\n    app:fractionTextInterval=\"2\"\n    app:fractionTextSize=\"8sp\"\n    app:timeRange=\"07:00-19:00\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>Java</strong></p>\n\n<pre><code>public class test extends AppCompatActivity {\n\nTimelinePickerView tl;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_test); //shows error over here\n\n\n    //diamond operator\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"11:00 - 19:15\");\n    list.add(\"20:00 - 21:00\");\n\n    tl = (TimelinePickerView) findViewById(R.id.timelineView);\n\n    tl.setAvailableTimeRange(list);\n    //tl.setPickerDrawable(getResources().getDrawable(R.drawable.ic_camera));\n\n    }\n}\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<pre><code>    04-16 07:36:18.341 31897-31897/net.cfgvd.bookingE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: net.cfgvd.booking, PID: 31897\njava.lang.RuntimeException: Unable to start activity ComponentInfo{net.cfgvd.booking/net.cfgvd.booking.test}: android.view.InflateException: Binary XML file line #11: Error inflating class de.ehsun.coloredtimebar.TimelinePickerView\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2292)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2350)\n    at android.app.ActivityThread.access$800(ActivityThread.java:163)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1257)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:157)\n    at android.app.ActivityThread.main(ActivityThread.java:5335)\n    at java.lang.reflect.Method.invokeNative(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:515)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:132)\n    at dalvik.system.NativeStart.main(Native Method)\n Caused by: android.view.InflateException: Binary XML file line #11: Error inflating class de.ehsun.coloredtimebar.TimelinePickerView\n    at android.view.LayoutInflater.createView(LayoutInflater.java:626)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:702)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:761)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:498)\n    at de.robv.android.xposed.XposedBridge.invokeOriginalMethodNative(Native Method)\n    at de.robv.android.xposed.XposedBridge.handleHookedMethod(XposedBridge.java:631)\n    at android.view.LayoutInflater.inflate(Native Method)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:398)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:354)\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\n    at net.aafushh.smoky.booking.test.onCreate(test.java:20)\n    at android.app.Activity.performCreate(Activity.java:5389)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2256)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2350)\u00a0\n    at android.app.ActivityThread.access$800(ActivityThread.java:163)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1257)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:157)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:5335)\u00a0\n    at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\u00a0\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:132)\u00a0\n    at dalvik.system.NativeStart.main(Native Method)\u00a0\n Caused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Constructor.constructNative(Native Method)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at android.view.LayoutInflater.createView(LayoutInflater.java:600)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:702)\u00a0\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:761)\u00a0\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:498)\u00a0\n    at de.robv.android.xposed.XposedBridge.invokeOriginalMethodNative(Native Method)\u00a0\n    at de.robv.android.xposed.XposedBridge.handleHookedMethod(XposedBridge.java:631)\u00a0\n    at android.view.LayoutInflater.inflate(Native Method)\u00a0\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:398)\u00a0\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:354)\u00a0\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\u00a0\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n    at net.aafushh.smoky.booking.test.onCreate(test.java:20)\u00a0\n    at android.app.Activity.performCreate(Activity.java:5389)\u00a0\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\u00a0\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2256)\u00a0\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2350)\u00a0\n    at android.app.ActivityThread.access$800(ActivityThread.java:163)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1257)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:157)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:5335)\u00a0\n    at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\u00a0\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:132)\u00a0\n    at dalvik.system.NativeStart.main(Native Method)\u00a0\n Caused by: java.lang.NoSuchMethodError: android.view.View.&lt;init&gt;\n    at de.ehsun.coloredtimebar.TimelineView.&lt;init&gt;(TimelineView.kt:15)\n    at de.ehsun.coloredtimebar.TimelinePickerView.&lt;init&gt;(TimelinePickerView.kt:15)\n    at de.ehsun.coloredtimebar.TimelinePickerView.&lt;init&gt;(TimelinePickerView.kt:14)\n    at de.ehsun.coloredtimebar.TimelinePickerView.&lt;init&gt;(TimelinePickerView.kt)\n    at java.lang.reflect.Constructor.constructNative(Native Method)\u00a0\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\u00a0\n    at android.view.LayoutInflater.createView(LayoutInflater.java:600)\u00a0\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:702)\u00a0\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:761)\u00a0\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:498)\u00a0\n    at de.robv.android.xposed.XposedBridge.invokeOriginalMethodNative(Native Method)\u00a0\n    at de.robv.android.xposed.XposedBridge.handleHookedMethod(XposedBridge.java:631)\u00a0\n    at android.view.LayoutInflater.inflate(Native Method)\u00a0\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:398)\u00a0\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:354)\u00a0\n    at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\u00a0\n    at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n    at net.aafushh.smoky.booking.test.onCreate(test.java:20)\u00a0\n    at android.app.Activity.performCreate(Activity.java:5389)\u00a0\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\u00a0\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2256)\u00a0\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2350)\u00a0\n    at android.app.ActivityThread.access$800(ActivityThread.java:163)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1257)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:157)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:5335)\u00a0\n    at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n    at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\u00a0\n    at de.robv.android.xposed.XposedBridge.main(XposedBridge.java:132)\u00a0\n    at dalvik.system.NativeStart.main(Native Method)\u00a0\n</code></pre>\n\n<p>Someone please help me on this issue. thank you</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 531, "user_id": 3970630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wzfSm.png?s=128&g=1", "display_name": "Ric17101", "link": "https://stackoverflow.com/users/3970630/ric17101"}, "edited": false, "score": 0, "creation_date": 1523854451, "post_id": 49848127, "comment_id": 86714235, "body": "You can enclose this inside the Handler with Delay  &gt; Handler().postDelayed({                         // You UI Changes Here                      }, 1000)"}, {"owner": {"reputation": 365, "user_id": 5504047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3PCaeCv6uy0/AAAAAAAAAAI/AAAAAAAAAV0/DodLcegiOqU/photo.jpg?sz=128", "display_name": "Ashish Kumar", "link": "https://stackoverflow.com/users/5504047/ashish-kumar"}, "edited": false, "score": 0, "creation_date": 1523854701, "post_id": 49848127, "comment_id": 86714287, "body": "See this <a href=\"https://medium.com/@elye.project/switching-text-with-animation-f129eef83786\" rel=\"nofollow noreferrer\">medium.com/@elye.project/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6414320, "user_type": "registered", "profile_image": "https://graph.facebook.com/856451874498845/picture?type=large", "display_name": "Nitsan BenHanoch", "link": "https://stackoverflow.com/users/6414320/nitsan-benhanoch"}, "edited": false, "score": 0, "creation_date": 1523870051, "post_id": 49849838, "comment_id": 86721519, "body": "Thank you, IT WORKS, I&#39;ll use that :] Although it doesn&#39;t address the title question &quot;Refresh View Whilst Function Still Executes&quot; which I&#39;m still curious about.  maybe the answer would be to continue that execution in a different thread"}], "tags": [], "owner": {"reputation": 3548, "user_id": 5717640, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/D9X3M.png?s=128&g=1", "display_name": "Nerdy Bunz", "link": "https://stackoverflow.com/users/5717640/nerdy-bunz"}, "is_accepted": true, "score": 0, "last_activity_date": 1523854321, "creation_date": 1523854321, "answer_id": 49849838, "question_id": 49848127, "link": "https://stackoverflow.com/questions/49848127/refresh-view-whilst-function-still-executes/49849838#49849838", "title": "Refresh View Whilst Function Still Executes", "body": "<p>The problem is that it's pausing the main thread for 1000ms.  </p>\n\n<p>You can avoid that by replacing these two lines:</p>\n\n<pre><code>Thread.sleep(1000)\nlabel.text = \"bar\"\n</code></pre>\n\n<p>... with this:</p>\n\n<pre><code>Handler().postDelayed( { label.text = \"bar\" }, 1000)\n</code></pre>\n\n<p>There are other ways but this is simplest, I think.</p>\n"}], "owner": {"reputation": 13, "user_id": 6414320, "user_type": "registered", "profile_image": "https://graph.facebook.com/856451874498845/picture?type=large", "display_name": "Nitsan BenHanoch", "link": "https://stackoverflow.com/users/6414320/nitsan-benhanoch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 49849838, "answer_count": 1, "score": 1, "last_activity_date": 1523854321, "creation_date": 1523838616, "question_id": 49848127, "link": "https://stackoverflow.com/questions/49848127/refresh-view-whilst-function-still-executes", "title": "Refresh View Whilst Function Still Executes", "body": "<p>I am trying to play the simplest \"animation\", by making a TextView say \"foo\", wait a second, then say \"bar\".<br>\nThe problem is that instead of seeing the label nicely shifting, it freezes for the whole second and then just says the last requested text.</p>\n\n<pre><code>val label = findViewById&lt;TextView&gt;(R.id.textView)\nval button = findViewById&lt;Button&gt;(R.id.button)\n\nbutton.setOnClickListener {\n    label.text = \"foo\"\n    // some \"label.update()\" has to be called here\n    Thread.sleep(1000)\n    label.text = \"bar\"\n}\n</code></pre>\n\n<p>In C# I would solve this by adding \"this.update()\" before sleeping; however, I couldn't find any similar function in Android libraries.</p>\n\n<p>How would you force a view to refresh its looks before the function finishes?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "is_accepted": false, "score": 0, "last_activity_date": 1536107172, "last_edit_date": 1536107172, "creation_date": 1536071769, "answer_id": 52168704, "question_id": 49847728, "link": "https://stackoverflow.com/questions/49847728/how-to-make-indeterminateprogressdialog-in-anko-non-cancelable/52168704#52168704", "title": "How to make indeterminateProgressDialog in Anko non cancelable?", "body": "<p>Now, you may clear the issue.\nBut I want to give an answer to other people.</p>\n\n<p>Try following:</p>\n\n<pre><code>indeterminateProgressDialog(R.string.wait_for_loading).apply {\n    setCancelable(false)\n}\n</code></pre>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 355, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1536107172, "creation_date": 1523834377, "question_id": 49847728, "link": "https://stackoverflow.com/questions/49847728/how-to-make-indeterminateprogressdialog-in-anko-non-cancelable", "title": "How to make indeterminateProgressDialog in Anko non cancelable?", "body": "<p>How to make <code>indeterminateProgressDialog</code> non cancellable? There is a <code>isCancelable</code> property for <code>alert</code>, but seems not the case for <code>indeterminateProgressDialog</code>, how to solve it?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "edited": false, "score": 0, "creation_date": 1523841520, "post_id": 49847839, "comment_id": 86711626, "body": "Thanks for the answer. Tried but nothing shows in the alert. :("}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 0, "last_activity_date": 1523835663, "creation_date": 1523835663, "answer_id": 49847839, "question_id": 49847226, "link": "https://stackoverflow.com/questions/49847226/how-to-add-a-anko-widget-into-another-anko-widget/49847839#49847839", "title": "How to add a anko widget into another anko widget?", "body": "<p>By using extension functions.</p>\n\n<pre><code>fun Context.customDialog() = verticalLayout {\n    padding = dip(16)\n\n    val shortName = editText {\n        hint = \"Short name\"\n        textSize = 24f\n    }\n\n    val pwd = editText {\n        hint = \"Password\"\n        textSize = 24f\n    }\n}\n\nalert(\"Let me join in\") {\n    customView {\n        verticalLayout {\n            customDialog()\n\n            yesButton {\n                isCancelable = true\n            }\n\n            noButton { it.dismiss() }\n        }\n    }\n\n}.show()\n</code></pre>\n"}], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523835663, "creation_date": 1523829773, "question_id": 49847226, "link": "https://stackoverflow.com/questions/49847226/how-to-add-a-anko-widget-into-another-anko-widget", "title": "How to add a anko widget into another anko widget?", "body": "<p>Like the following, how to add <code>customDialog</code> to that alert?</p>\n\n<pre><code>   val customDialog = UI {\n        verticalLayout{\n            padding = dip(16)\n\n            val shortName = editText {\n                hint = \"Short name\"\n                textSize = 24f\n            }\n\n            val pwd = editText {\n                hint = \"Password\"\n                textSize = 24f\n            }\n        }\n    }\n\n    alert(\"Let me join in\") {\n        customView {\n            verticalLayout {\n                customDialog\n\n                yesButton {\n                    isCancelable = true\n                }\n\n                noButton { it.dismiss() }\n            }\n        }\n\n    }.show()\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1523825671, "post_id": 49846654, "comment_id": 86708265, "body": "&quot;In Java, I would normally create a JSONObject and then use methods like getString or getInt on that object to retrieve the specific information I need.&quot; -- there is no <code>JSONObject</code> in Java. In the Android SDK, there is a <code>JSONObject</code> class, but with respect to the language, <code>JSONObject</code> is coming from a third-party library. I do not know what issues you have with third-party libraries and whether this means that you can no longer use <code>JSONObject</code>."}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1523825723, "post_id": 49846654, "comment_id": 86708277, "body": "I apologize for the poor wording.  You&#39;re right.  I am more comfortable parsing the JSON manually, instead of using a parser like GSON or Volley.  That&#39;s what I meant."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1523825788, "post_id": 49846654, "comment_id": 86708301, "body": "<code>without a 3rd party parser?</code> by writing your own parser, I&#39;d guess? But usually people don&#39;t because it&#39;s tricky and other people have already done it"}], "answers": [{"comments": [{"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1523825665, "post_id": 49846691, "comment_id": 86708261, "body": "I know but is it possible to write the entire thing only in Kotlin?"}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1523825855, "post_id": 49846691, "comment_id": 86708326, "body": "@EpicPandaForce and that&#39;s what the question is about.  How do I do that?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1523825933, "post_id": 49846691, "comment_id": 86708353, "body": "Same way you would in Java. Just in Kotlin."}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1523825983, "post_id": 49846691, "comment_id": 86708365, "body": "Okay so can you give me a code block as an example?"}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 0, "creation_date": 1523826072, "post_id": 49846691, "comment_id": 86708396, "body": "Yes, there is a lot of open source JSONParser library in google. For example here - <a href=\"https://github.com/cbeust/klaxon\" rel=\"nofollow noreferrer\">github.com/cbeust/klaxon</a>"}, {"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1523826098, "post_id": 49846691, "comment_id": 86708400, "body": "@Cililing I clearly said that I don&#39;t want a parser."}, {"owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "edited": false, "score": 1, "creation_date": 1523826231, "post_id": 49846691, "comment_id": 86708435, "body": "You wanted an example. In those repo you have much more than examples. Haven&#39;t you noticed it has open source code? XD"}], "tags": [], "owner": {"reputation": 2796, "user_id": 7508302, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bHYHM.jpg?s=128&g=1", "display_name": "Cililing", "link": "https://stackoverflow.com/users/7508302/cililing"}, "is_accepted": false, "score": 1, "last_activity_date": 1523825781, "last_edit_date": 1523825781, "creation_date": 1523825602, "answer_id": 49846691, "question_id": 49846654, "link": "https://stackoverflow.com/questions/49846654/how-do-i-parse-json-in-kotlin-without-a-3rd-party-parser/49846691#49846691", "title": "How do I parse JSON in Kotlin without a 3rd party parser?", "body": "<p>Exactly the same way like in Java. Code written in Java can run in Kotlin applications. Remember also that Java doesn't support JSON by native and this JSONObject you mentioned is from com.google.gson package.</p>\n"}, {"comments": [{"owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 0, "creation_date": 1523826208, "post_id": 49846730, "comment_id": 86708427, "body": "Could you give an example?  Say that you had to get the posters like I am doing.  Would you do that in onCreate?  and does <code>jsonText</code>, in your example, mean the API or an object from the API?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "edited": false, "score": 1, "creation_date": 1523826584, "post_id": 49846730, "comment_id": 86708529, "body": "@OnurOzbek: &quot;Could you give an example?&quot; -- I do not use <code>JSONObject</code> much and have never used it in Kotlin, so I don&#39;t have any code lying around to point you towards. &quot;Would you do that in onCreate?&quot; -- you would parse the JSON as part of your Web service request. Where that Web service request is made is up to you, though triggering it in <code>onCreate()</code> is a common choice. Just remember configuration changes and background threads. &quot;and does jsonText, in your example, mean the API or an object from the API?&quot; -- it means the raw JSON text that you got from the Web service (e.g., via OkHttp3)."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 3, "last_activity_date": 1523825874, "creation_date": 1523825874, "answer_id": 49846730, "question_id": 49846654, "link": "https://stackoverflow.com/questions/49846654/how-do-i-parse-json-in-kotlin-without-a-3rd-party-parser/49846730#49846730", "title": "How do I parse JSON in Kotlin without a 3rd party parser?", "body": "<blockquote>\n  <p>I am more comfortable parsing the JSON manually, instead of using a parser like GSON or Volley.</p>\n</blockquote>\n\n<p>I am interpreting this as meaning that you want to pull data out of the JSON, walking the JSON structure yourself, rather than using a JSON parser that populates model objects.</p>\n\n<p>In that case, there is nothing stopping you from using <code>JSONObject</code> in Kotlin, just as you are using <code>Bundle</code> and <code>LinearLayoutManager</code> and <code>RecyclerView</code> in Kotlin. So, <code>val json = JSONObject(jsonText)</code> and stuff should work just fine.</p>\n"}], "owner": {"reputation": 2236, "user_id": 8124392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/29ccdaed954c2c2d9da35fcefcadcb95?s=128&d=identicon&r=PG&f=1", "display_name": "oo92", "link": "https://stackoverflow.com/users/8124392/oo92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2002, "favorite_count": 0, "accepted_answer_id": 49846730, "answer_count": 2, "score": 2, "last_activity_date": 1523826155, "creation_date": 1523825405, "last_edit_date": 1523826155, "question_id": 49846654, "link": "https://stackoverflow.com/questions/49846654/how-do-i-parse-json-in-kotlin-without-a-3rd-party-parser", "title": "How do I parse JSON in Kotlin without a 3rd party parser?", "body": "<p>I'm trying to parse JSON in Kotlin manually without the use of a 3rd party JSON parser (unlike the other questions that were already asked).  I'm building Udacity's \"popular movies\" app with the themovieDb api to be comfortable building Android apps with Kotlin because I've never used Kotlin before.  For the first section, I want to display the movie posters in a 3 column grid.  This is the position of the <code>poster_path</code> object in the API:</p>\n\n<pre><code>{\n  ...\n  \"poster_path\": \"...jpg\",\n}\n</code></pre>\n\n<p>In Java, I would normally create a <code>JSONObject</code> and then use methods like <code>getString</code> or <code>getInt</code> on that object to retrieve the specific information I need.  How does one go about this in Kotlin?</p>\n\n<p>What I have so far is an app that repeats the same image on a 3 column grid using Recyclerview:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.recycler_view);\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);\n        recyclerView.layoutManager = GridLayoutManager(this, 3);\n        recyclerView.adapter = RecyclerAdapter()\n    }\n\n    data class Response(val movieTitle: String,\n                        val moviePoster: Int,\n                        val overview: String,\n                        val ratings: Int,\n                        val releaseDate: String,\n                        val review: String)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "comments": [{"owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "edited": false, "score": 0, "creation_date": 1523824973, "post_id": 49846529, "comment_id": 86708081, "body": "I suggest you use something like a RecyclerView. It is better equipped to handle dynamic views of the same type"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 1, "creation_date": 1523913652, "post_id": 49846529, "comment_id": 86748274, "body": "Various comments before we can move on. 1. What version of CL are you using? 2. Remove <code>android:layout_alignParentBottom=\u201ctrue\u201d</code> and <code>android:layout_centerHorizontal=\u201ctrue\u201d</code> they belong on RelativeLayout, and will be ignored here."}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523913892, "post_id": 49846529, "comment_id": 86748375, "body": "implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;  The XML code in question for Button was generated by the designer in Android Studio for the Add New Widget button at the bottom of the screen.  It is actually working as advertised.  Not sure why it is there if it is incorrect or will be ignored."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 1, "creation_date": 1523913996, "post_id": 49846529, "comment_id": 86748421, "body": "Ok, if possible I suggest you use <code>1.1.0</code> (since you use <code>wrap_content</code>in your widgets, there are plenty of bug fixes around that). Also, do assign Ids (as indicated in the answer below by @Cheticamp). The incorrect XML is because the design builder makes <i>questionable</i> decisions ;)"}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523914050, "post_id": 49846529, "comment_id": 86748451, "body": "I will try both changes and report back."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1523914170, "post_id": 49846529, "comment_id": 86748513, "body": "I\u2019m interested if <code>textView.id</code> has an actual id <i>magically</i> generated or not. I\u2019ll look into your constraints."}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523914308, "post_id": 49846529, "comment_id": 86748555, "body": "Lol on design builder...live by the crutch die by the crutch.  This is so far turning out to be a vertical learning curve coming from Xcode and iOS."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "edited": false, "score": 0, "creation_date": 1523914795, "post_id": 49846529, "comment_id": 86748754, "body": "I added an answer without a real answer. I\u2019ll try something and update."}], "answers": [{"comments": [{"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523916084, "post_id": 49866265, "comment_id": 86749266, "body": "While I am giving credit for the answer here...kudos also to  Martin Marconcini for his suggestions and for pointing out I was not using the latest version of constraintLayouts."}], "tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": true, "score": 3, "last_activity_date": 1523912931, "creation_date": 1523912931, "answer_id": 49866265, "question_id": 49846529, "link": "https://stackoverflow.com/questions/49846529/strange-behavior-trying-to-add-views-programmatically-to-a-contraintlayout-in-ko/49866265#49866265", "title": "Strange behavior trying to add views programmatically to a ContraintLayout in Kotlin", "body": "<p><code>ConstraintLayout</code> constraints work with resource ids. I see where you create the <code>TextView</code> and <code>Button</code>, but I don't see where you set the ids for these views. Maybe some Kotlin magic? </p>\n\n<p>For API 17+, you can use <a href=\"https://developer.android.com/reference/android/view/View.html#generateViewId()\" rel=\"nofollow noreferrer\"><code>View.generateViewId()</code></a> to generate the id and <a href=\"https://developer.android.com/reference/android/view/View.html#setId(int)\" rel=\"nofollow noreferrer\"><code>View.setId()</code></a> to set it. You can then refer to the ids in the <code>ConstraintSet</code>. Right now they are both <a href=\"https://developer.android.com/reference/android/view/View.html#NO_ID\" rel=\"nofollow noreferrer\"><code>View.NO_ID</code>.</a>.</p>\n\n<p>I will also add that if you want to refer to the parent as a constraint it is <a href=\"https://developer.android.com/reference/android/support/constraint/ConstraintSet.html#PARENT_ID\" rel=\"nofollow noreferrer\"><code>ConstraintSet.PARENT_ID</code></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523915103, "post_id": 49866603, "comment_id": 86748871, "body": "Was trying to get the top example you give.  Was working very piecemeal.  Next would be to stretch textView from left side all the way to the button [text-----------------------------view ][button] then to capture the ids so that the next push drops the same thing but anchored to ones I just built."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 1, "creation_date": 1523915200, "post_id": 49866603, "comment_id": 86748915, "body": "so you want <code>|[TV\u2026\u2026\u2026\u2026.][btn]|</code> ?"}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523915276, "post_id": 49866603, "comment_id": 86748946, "body": "Yes, but for now I was simply trying to keep it as simple as possible just to get the constraints working."}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 1, "creation_date": 1523915416, "post_id": 49866603, "comment_id": 86749015, "body": "Yeah, that should do. You will need to keep track of the last id to pin newTV.top to prevTV.bottom and such. In fact, I\u2019d constraint each new one, to the previous, that way they are all constrained together."}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523915508, "post_id": 49866603, "comment_id": 86749052, "body": "Changed to version 1.1.0 now getting the following exception: java.lang.RuntimeException: All children of ConstraintLayout must have ids to use ConstraintSet,  I also have the following in there now:             textView.setId(View.generateViewId()) &amp; newButton.setId(View.generateViewId()) so I am not sure what the problem is now."}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523915812, "post_id": 49866603, "comment_id": 86749176, "body": "Working well now.  I accidentally was setting the ids after I called constraintSet.clone().  Fixed that and now it seems to be working as advertised.  Just needed to give the ids.  Thanks for all the help!!"}, {"owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "reply_to_user": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1523916223, "post_id": 49866603, "comment_id": 86749320, "body": "Good to hear, check updated answer if you need to do the tv\u2026.btn layout. ;) Good luck!"}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 0, "creation_date": 1524109935, "post_id": 49866603, "comment_id": 86840487, "body": "The last part of your solution is not working as expected.  Trying to set it up so that the button is fixed width and the textView or editView fills the rest of the screen.  In other words the editView will vary in size based on the screen size of the device."}, {"owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "edited": false, "score": 1, "creation_date": 1524113251, "post_id": 49866603, "comment_id": 86841417, "body": "Turns out I just needed to add the following: constraintSet.constrainWidth(editText.id, ConstraintSet.MATCH_CONSTRAINT) and constraintSet.constrainHeight(editText.id, 200)"}], "tags": [], "owner": {"reputation": 23192, "user_id": 2684, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/Z9oZ0.jpg?s=128&g=1", "display_name": "Martin Marconcini", "link": "https://stackoverflow.com/users/2684/martin-marconcini"}, "is_accepted": false, "score": 1, "last_activity_date": 1523916185, "last_edit_date": 1523916185, "creation_date": 1523914523, "answer_id": 49866603, "question_id": 49846529, "link": "https://stackoverflow.com/questions/49846529/strange-behavior-trying-to-add-views-programmatically-to-a-contraintlayout-in-ko/49866603#49866603", "title": "Strange behavior trying to add views programmatically to a ContraintLayout in Kotlin", "body": "<blockquote>\n  <p>I am trying to constrain these such that they are the same distance from the top of the ConstraintLayout, and the leading edge of the textView is constrained to the left side of the ConstraintLayout, and the button is constrained to the right side of the ConstraintLayout.</p>\n</blockquote>\n\n<p>Ok, so if I don\u2019t get that wrong\u2026 what you want is a TextView and a Button side by side, correct?</p>\n\n<p><code>| [TextView]                    [Button]|</code></p>\n\n<p>or</p>\n\n<p><code>|         [TextView][Button]            |</code></p>\n\n<p>or</p>\n\n<p><code>| [TextView        ][Button            ]|</code>  </p>\n\n<p>or </p>\n\n<p>?</p>\n\n<p>Depending what you want, the constraints have to be different.</p>\n\n<p>Additionally, you say: </p>\n\n<blockquote>\n  <p>they are the same distance from the top of the ConstraintLayout</p>\n</blockquote>\n\n<p>This means that they will effectively be on top of the previous one if you keep pressing the button, is this intended? </p>\n\n<p>Or did you mean \u201cI want them below the previous, respecting the \u201ctop margin\u201d so the vertical space between each element is the same?\u201d</p>\n\n<p>In any case, you should (since you\u2019re using CL 1.0.2) correctly specify all the attributes of these Views.</p>\n\n<p>Think of AutoLayout, unless a View has an intrinsic size, you need to pin the start/end/top/bottom before the algorithm can determine where the view must go.</p>\n\n<p>Anyway back to your sample\u2026</p>\n\n<p>I added </p>\n\n<p><code>textView.id = View.generateViewId()</code></p>\n\n<p>and </p>\n\n<p><code>newButton.id = View.generateViewId()</code></p>\n\n<p>and ran your code and it works\u2026 but each new \u201cpair\u201d of button/text is added on top. </p>\n\n<p>If you need to do <code>|[Tv              ][btn]|</code> you can simply add these two:</p>\n\n<p><code>textView.layoutParams = Constraints.LayoutParams(ConstraintSet.MATCH_CONSTRAINT, ConstraintSet.WRAP_CONTENT)</code></p>\n\n<p>and</p>\n\n<p><code>constraintSet.connect(textView.id, ConstraintSet.END, newButton.id, ConstraintSet.START, 10)</code></p>\n\n<p>that should give you that.</p>\n"}], "owner": {"reputation": 3712, "user_id": 1594309, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/2eMZW.jpg?s=128&g=1", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1594309/scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 0, "accepted_answer_id": 49866265, "answer_count": 2, "score": 1, "last_activity_date": 1523916185, "creation_date": 1523824548, "question_id": 49846529, "link": "https://stackoverflow.com/questions/49846529/strange-behavior-trying-to-add-views-programmatically-to-a-contraintlayout-in-ko", "title": "Strange behavior trying to add views programmatically to a ContraintLayout in Kotlin", "body": "<p>I am coming to Android from an iOS developer background and am having some difficulty getting ConstraintLayout to work correctly when adding views programatically.</p>\n\n<p>I have a very simple activity with a ConstraintLayout and a single button that I placed inside of the Android Studio design window.  When the button is pressed I am adding a textView and another button.  I am trying to constrain these such that they are the same distance from the top of the ConstraintLayout, and the leading edge of the textView is constrained to the left side of the ConstraintLayout, and the button is constrained to the right side of the ConstraintLayout.</p>\n\n<p>My XML follows:</p>\n\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n   xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n   xmlns:tools=\"http://schemas.android.com/tools\"\n   android:id=\"@+id/parentViewConstraintLayout\"\n   android:layout_width=\"match_parent\"\n   android:layout_height=\"match_parent\"\n   android:background=\"@android:color/holo_orange_dark\"\n   tools:context=\".MainActivity\"&gt;\n\n   &lt;Button\n       android:id=\"@+id/addWidgetButton\"\n       style=\"@style/Widget.AppCompat.Button.Borderless\"\n       android:layout_width=\"wrap_content\"\n       android:layout_height=\"wrap_content\"\n       android:layout_alignParentBottom=\"true\"\n       android:layout_centerHorizontal=\"true\"\n       android:layout_marginBottom=\"28dp\"\n       android:layout_marginEnd=\"8dp\"\n       android:layout_marginStart=\"8dp\"\n       android:fontFamily=\"@font/muli_bold\"\n       android:text=\"Add New Widget\"\n       app:layout_constraintBottom_toBottomOf=\"parent\"\n       app:layout_constraintEnd_toEndOf=\"parent\"\n       app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>And the Kotlin in question</p>\n\n<pre><code>addWidgetButton.setOnClickListener() {\n\n    val textView = TextView(this)\n    textView.setTextColor(Color.BLACK)\n    textView.setTextSize(20f)\n    textView.setText(\"Text message for testing\")\n\n    val newButton = Button(this)\n    newButton.setText(\"Push me\")\n\n    parentViewConstraintLayout.addView(textView)\n    parentViewConstraintLayout.addView(newButton)\n\n    val constraintSet = ConstraintSet()\n    constraintSet.clone(parentViewConstraintLayout)\n\n    constraintSet.connect(textView.id, ConstraintSet.TOP, parentViewConstraintLayout.id, ConstraintSet.TOP, 10)\n    constraintSet.connect(textView.id, ConstraintSet.START, parentViewConstraintLayout.id, ConstraintSet.START, 10)\n\n    constraintSet.connect(newButton.id, ConstraintSet.END, parentViewConstraintLayout.id, ConstraintSet.END, 30)\n    constraintSet.connect(newButton.id, ConstraintSet.TOP, parentViewConstraintLayout.id, ConstraintSet.TOP, 50)\n\n    constraintSet.applyTo(parentViewConstraintLayout)\n}\n</code></pre>\n\n<p>When the button is pressed, instead of the expected behavior I get this:\n<a href=\"https://i.stack.imgur.com/pEAME.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pEAME.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I comment out some code so that I only add one view (either the button or the textView) it works correctly.  There is some strange interaction between them that I don't understand.</p>\n"}, {"tags": ["string", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1523823060, "post_id": 49846295, "comment_id": 86707535, "body": "You don&#39;t need any regex to count characters in a string. Just use a loop (or any other kind of iteration)."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1523837858, "post_id": 49846295, "comment_id": 86710961, "body": "Could you add your expected logic please?"}, {"owner": {"reputation": 10159, "user_id": 306739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mILId.jpg?s=128&g=1", "display_name": "stan0", "link": "https://stackoverflow.com/users/306739/stan0"}, "edited": false, "score": 0, "creation_date": 1523872241, "post_id": 49846295, "comment_id": 86723045, "body": "Do you need to count each char separately? E.g. how many times you have &#39;H&#39;, how many times &#39;e&#39; and so on?"}, {"owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "edited": false, "score": 2, "creation_date": 1523912909, "post_id": 49846295, "comment_id": 86747937, "body": "Here&#39;s a 1 line solution using Kotlin&#39;s collection functions:     val occurrences = string2.filter{ it in string1}                         .groupingBy { it }                         .eachCount()"}], "answers": [{"tags": [], "owner": {"reputation": 13516, "user_id": 2395636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qmFo.jpg?s=128&g=1", "display_name": "Kamran", "link": "https://stackoverflow.com/users/2395636/kamran"}, "is_accepted": true, "score": 7, "last_activity_date": 1610453297, "last_edit_date": 1610453297, "creation_date": 1523823521, "answer_id": 49846380, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string/49846380#49846380", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p>You can use the below higher order method,</p>\n<pre><code>val count = string2.count{ string1.contains(it) }\nprint(count)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 0, "last_activity_date": 1523825099, "creation_date": 1523825099, "answer_id": 49846610, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string/49846610#49846610", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p>You can use chars from the first string as map keys, for example:</p>\n\n<pre><code>val string1 = \"Hello\"\nval string2 = \"Hello world\"\n\nval chars = HashMap&lt;Character, Int&gt;()\n\nfor (char in string1) // fill keys\n    chars[char] = 0\n\nfor (char in string2) // count occurrences\n    chars[char]?.let {\n        chars[char] = it + 1\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 1, "creation_date": 1523872738, "post_id": 49854227, "comment_id": 86723395, "body": "Shouldn&#39;t it be <code>sum +1</code>and <code>sum</code> as returns?"}, {"owner": {"reputation": 10159, "user_id": 306739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mILId.jpg?s=128&g=1", "display_name": "stan0", "link": "https://stackoverflow.com/users/306739/stan0"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1523873152, "post_id": 49854227, "comment_id": 86723682, "body": "@leoderprofi absolutely! Forgot them. I&#39;ll add a map variant for each char shortly too"}, {"owner": {"reputation": 657, "user_id": 1910286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887d43a6eb4f2f169aebdfcfe0b01db2?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1910286/matt"}, "edited": false, "score": 1, "creation_date": 1551402610, "post_id": 49854227, "comment_id": 96637257, "body": "Nice use of windowed when searching for the whole string! I slightly prefer to do that like this: <code>string2.windowed(string1.length).filter { it == string1 }.count()</code>"}, {"owner": {"reputation": 167, "user_id": 10529638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a2dd86789aad9589e2f188732411f2?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/10529638/marco"}, "edited": false, "score": 3, "creation_date": 1569244698, "post_id": 49854227, "comment_id": 102523018, "body": "This should have been the accepted answer imho, thank you for introducing me to windowed, I&#39;m new to Kotlin/FP."}], "tags": [], "owner": {"reputation": 10159, "user_id": 306739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mILId.jpg?s=128&g=1", "display_name": "stan0", "link": "https://stackoverflow.com/users/306739/stan0"}, "is_accepted": false, "score": 16, "last_activity_date": 1523874737, "last_edit_date": 1523874737, "creation_date": 1523871878, "answer_id": 49854227, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string/49854227#49854227", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p>Here are some <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html\" rel=\"noreferrer\"><code>String</code></a> extension functions you can use</p>\n\n<h2>Occurrences of any char</h2>\n\n<p>With the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/fold.html\" rel=\"noreferrer\"><code>fold</code></a> extension function:</p>\n\n<pre><code>val string1 = \"Hello\"\nval string2 = \"Hello world Hello\"\n\nprint(\n     string2.fold(0) {\n         sum: Int, c: Char -&gt;\n         if (string1.contains(c))\n             sum + 1\n         else\n             sum\n     }   \n) \n</code></pre>\n\n<p>Or even shorter with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/sum-by.html\" rel=\"noreferrer\"><code>sumBy</code></a>:</p>\n\n<pre><code>string2.sumBy { \n    if (string1.contains(it))\n        1\n    else\n        0\n}\n</code></pre>\n\n<p>And shortest:</p>\n\n<pre><code>string2.count{ string1.contains(it) }\n</code></pre>\n\n<h2>Occurrences of each char individually</h2>\n\n<p>With <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/for-each.html\" rel=\"noreferrer\"><code>forEach</code></a> and a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-map/index.html\" rel=\"noreferrer\"><code>MutableMap</code></a>:</p>\n\n<pre><code>val charsMap = mutableMapOf&lt;Char, Int&gt;()\n\nstring2.forEach{\n    charsMap[it] = charsMap.getOrDefault(it, 0) + 1\n}\n\nprint(charsMap)\n</code></pre>\n\n<h2>Occurrences of the whole <code>string1</code></h2>\n\n<p>With the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/windowed.html\" rel=\"noreferrer\"><code>windowed</code></a> extension function:</p>\n\n<pre><code>string2.windowed(string1.length){\n    if (it.equals(string1))\n        1\n    else\n        0\n}.sum()\n</code></pre>\n\n<p>You can browse more <code>String</code> extension functions in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html\" rel=\"noreferrer\"><code>String</code> stblib page</a></p>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 0, "last_activity_date": 1523875266, "last_edit_date": 1523875266, "creation_date": 1523873775, "answer_id": 49854841, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string/49854841#49854841", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p><strong>To answer actual the question</strong>: the simplest regex pattern would be to use a character class syntax <code>\"[\" + string1 + \"]\"</code>. Beware, this is not always well behaved. It works well for all ASCii letters and numbers. Special characters like <code>\\^-?!</code> must be properly escaped. For the rules see <a href=\"https://www.regular-expressions.info/charclass.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/charclass.html</a></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;): Unit {\n    val string1 = \"Hello\"\n    val string2 = \"Hello world Hello\"\n\n    val string1_array = string1.toCharArray()\n    val pattern = Regex(\"[\" + string1 + \"]\") // Regex pattern here\n    val matcher = string2\n\n    val count = pattern.findAll(matcher).count()\n    print(count)\n}\n</code></pre>\n\n<p><strong>How to solve the task:</strong> Imho the best way to do this task is to use <code>filter</code> or <code>count</code> instead of regex, because the you don't have to use any special syntax.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;): Unit {\n        val string1 = \"Hello\"\n        val string2 = \"Hello world Hello\"\n        //returns all chars of string2 contained in string1 as list\n        val count = string2.filter { string1.contains(it) }.length\n        //an other a bit shorter solution with count\n        count = string2.count{ string1.contains(it) }\n        print(count)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "is_accepted": false, "score": 12, "last_activity_date": 1523912289, "creation_date": 1523912289, "answer_id": 49866113, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string/49866113#49866113", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p>Just use Kotlin's collection functions</p>\n\n<pre><code>val occurrences = string2.filter{ it in string1}\n                        .groupingBy { it }\n                        .eachCount()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20965, "user_id": 191246, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zRo29.png?s=128&g=1", "display_name": "ccpizza", "link": "https://stackoverflow.com/users/191246/ccpizza"}, "is_accepted": false, "score": 4, "last_activity_date": 1597582683, "last_edit_date": 1597582683, "creation_date": 1597572911, "answer_id": 63435637, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string/63435637#63435637", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p>Simplified use case when you only want to count occurrences of a single character:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>println(&quot;needle in a haystack&quot;.count{ c -&gt; c == 'a' })\n// OUTPUT: 3\n</code></pre>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/count.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/count.html</a></li>\n</ul>\n"}], "owner": {"reputation": 6188, "user_id": 3719167, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iL5FE.jpg?s=128&g=1", "display_name": "Anuj TBE", "link": "https://stackoverflow.com/users/3719167/anuj-tbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16762, "favorite_count": 4, "accepted_answer_id": 49846380, "answer_count": 6, "score": 13, "last_activity_date": 1610453297, "creation_date": 1523822894, "last_edit_date": 1579807190, "question_id": 49846295, "link": "https://stackoverflow.com/questions/49846295/kotlin-count-occurrences-of-chararray-in-string", "title": "Kotlin: count occurrences of `charArray` in `String`", "body": "<p>I have two strings</p>\n\n<pre><code>val string1 = \"Hello\"\nval string2 = \"Hello world\"\n</code></pre>\n\n<p>I have to count existence of each letter from <code>string1</code> in <code>string2</code> in <code>Kotlin</code></p>\n\n<p>So far, I have written this much code and stuck with regex</p>\n\n<pre><code>val string1_array = string1.toCharArray()\nval pattern = Regex(\"\") // Regex pattern here\nval matcher = string2\n\nval count = pattern.findAll(matcher).count()\n</code></pre>\n\n<p>What should be the appropriate Regex pattern to search for charArray? Is there some better way to do in Kotlin</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication", "facebook-login"], "comments": [{"owner": {"reputation": 4041, "user_id": 2023697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo57V.jpg?s=128&g=1", "display_name": "Liem Vo", "link": "https://stackoverflow.com/users/2023697/liem-vo"}, "edited": false, "score": 0, "creation_date": 1523899823, "post_id": 49845972, "comment_id": 86741300, "body": "Do you logout current account?"}, {"owner": {"reputation": 1, "user_id": 3733072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbcc8996567cb88f1147c786a90765f?s=128&d=identicon&r=PG&f=1", "display_name": "user3733072", "link": "https://stackoverflow.com/users/3733072/user3733072"}, "reply_to_user": {"reputation": 4041, "user_id": 2023697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo57V.jpg?s=128&g=1", "display_name": "Liem Vo", "link": "https://stackoverflow.com/users/2023697/liem-vo"}, "edited": false, "score": 0, "creation_date": 1523951281, "post_id": 49845972, "comment_id": 86760293, "body": "I logout from firebase and using LoginManaget too, this is the code of logout button:     mAuth.signOut()     LoginManager.getInstance().logOut()"}, {"owner": {"reputation": 4041, "user_id": 2023697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo57V.jpg?s=128&g=1", "display_name": "Liem Vo", "link": "https://stackoverflow.com/users/2023697/liem-vo"}, "edited": false, "score": 0, "creation_date": 1523952478, "post_id": 49845972, "comment_id": 86761002, "body": "You only logout when signin issue."}, {"owner": {"reputation": 1, "user_id": 3733072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbcc8996567cb88f1147c786a90765f?s=128&d=identicon&r=PG&f=1", "display_name": "user3733072", "link": "https://stackoverflow.com/users/3733072/user3733072"}, "reply_to_user": {"reputation": 4041, "user_id": 2023697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo57V.jpg?s=128&g=1", "display_name": "Liem Vo", "link": "https://stackoverflow.com/users/2023697/liem-vo"}, "edited": false, "score": 0, "creation_date": 1523952902, "post_id": 49845972, "comment_id": 86761243, "body": "No, I also have button for logout, as I wrote earlier"}, {"owner": {"reputation": 1, "user_id": 3733072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbcc8996567cb88f1147c786a90765f?s=128&d=identicon&r=PG&f=1", "display_name": "user3733072", "link": "https://stackoverflow.com/users/3733072/user3733072"}, "reply_to_user": {"reputation": 4041, "user_id": 2023697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo57V.jpg?s=128&g=1", "display_name": "Liem Vo", "link": "https://stackoverflow.com/users/2023697/liem-vo"}, "edited": false, "score": 0, "creation_date": 1523952950, "post_id": 49845972, "comment_id": 86761276, "body": "fun firebaseLogOut(view: View){         mAuth.signOut()         LoginManager.getInstance().logOut()         startActivity(Intent(this, LoginActivity::class.java))     }"}], "owner": {"reputation": 1, "user_id": 3733072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbcc8996567cb88f1147c786a90765f?s=128&d=identicon&r=PG&f=1", "display_name": "user3733072", "link": "https://stackoverflow.com/users/3733072/user3733072"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2352, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523830506, "creation_date": 1523820757, "last_edit_date": 1523830506, "question_id": 49845972, "link": "https://stackoverflow.com/questions/49845972/android-facebook-login-with-firebase-forces-authentication-via-facebook-com-devi", "title": "Android Facebook login with Firebase forces authentication via facebook.com/devices", "body": "<p>I want to create facebook login in my Android Application which is connected with Firebase.\nI followed the instruction in Firebase docs.\nRight now login with Facebook is possible, but the only way to login is to go to facebook.com/devices and wright one-time code. Also, my app is not asking me if I want to chenge account to another one.</p>\n\n<p>I want my application to read my facebook account from telephone and ask me if I want to log in to this account or log in using credentials.</p>\n\n<p><a href=\"https://i.stack.imgur.com/co9II.jpg\" rel=\"nofollow noreferrer\">When I click \"login with facebook\" this is beeing showed</a></p>\n\n<p>This is code which I wrote:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n[...]\n    mCallbackManager = CallbackManager.Factory.create()\n    val facebookButton = findViewById&lt;View&gt;(R.id.facebook_register_button) as LoginButton\n\n    facebookButton.setReadPermissions(\"email\", \"public_profile\")\n    facebookButton.registerCallback(mCallbackManager, object : FacebookCallback&lt;LoginResult&gt; {\n        override fun onCancel() {//...}\n        override fun onError(error: FacebookException?) {//...}\n        override fun onSuccess(result: LoginResult) {\n            handleFacebookAccessToken(result.accessToken)\n        }\n    })\n}\n\nprivate fun handleFacebookAccessToken(token: AccessToken) {\n    val credential = FacebookAuthProvider.getCredential(token.token)\n    mAuth.signInWithCredential(credential)\n            .addOnCompleteListener(this) {\n                when {\n                    it.isSuccessful -&gt; updateUI(mAuth.currentUser)\n                    else -&gt; {\n                        LoginManager.getInstance().logOut()\n                        updateUI(it.exception)\n                    }\n                }\n            }\n}\n</code></pre>\n\n<p>I albo code meta-data and INTERNET permission in manifest file</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["android-studio", "spring-boot", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "edited": false, "score": 0, "creation_date": 1526209186, "post_id": 49845538, "comment_id": 87646541, "body": "In <code>settings.gradle</code> just use <code>include &quot;:projectA&quot;, &quot;:projectB&quot; </code> and check. I have a multi module project configured in same way, I don&#39;t face any issue."}, {"owner": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "reply_to_user": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "edited": false, "score": 0, "creation_date": 1526209214, "post_id": 49845538, "comment_id": 87646549, "body": "Unfortunately that&#39;s one of the variations I tried already"}, {"owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "edited": false, "score": 0, "creation_date": 1526209422, "post_id": 49845538, "comment_id": 87646606, "body": ":( Try Invalidating cache and restart Android studio."}, {"owner": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "reply_to_user": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "edited": false, "score": 0, "creation_date": 1526209626, "post_id": 49845538, "comment_id": 87646659, "body": "Alas, I&#39;ve also tried that several times. It builds neither in Android Studio, nor by calling <code>.&#47;gradelw clean build</code> from the command line."}, {"owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "edited": false, "score": 1, "creation_date": 1526209757, "post_id": 49845538, "comment_id": 87646693, "body": "<code>Open Module Settings</code> check if your modules and their dependencies are listed properly, check If a module has any cyclic dependencies and remove if any exists."}, {"owner": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "reply_to_user": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "edited": false, "score": 0, "creation_date": 1526210319, "post_id": 49845538, "comment_id": 87646836, "body": "I can&#39;t see anything untoward there. However, the available tabs are different for the two modules, as are the icons. <code>projectA</code> has a green circle next to its folder and several tabs, whereas <code>projectB</code> has a blue square/cup (in the tree view &amp; settings respectively) and only the dependencies tab."}, {"owner": {"reputation": 4917, "user_id": 549978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QGiga.png?s=128&g=1", "display_name": "blizzard", "link": "https://stackoverflow.com/users/549978/blizzard"}, "reply_to_user": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "edited": false, "score": 0, "creation_date": 1526210609, "post_id": 49845538, "comment_id": 87646909, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170947/discussion-between-blizzard-and-dan\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1526463982, "post_id": 49845538, "comment_id": 87751120, "body": "Have you tried using <code>api</code> instead of <code>implementation</code>?"}, {"owner": {"reputation": 93, "user_id": 1330141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/277cb0f0a02f4295b55ab7620b679504?s=128&d=identicon&r=PG", "display_name": "Nexcius", "link": "https://stackoverflow.com/users/1330141/nexcius"}, "edited": false, "score": 4, "creation_date": 1526501674, "post_id": 49845538, "comment_id": 87774640, "body": "Your folder structure is not really <code>com&#47;something&#47;something</code>, right? It should be <code>src&#47;main&#47;java&#47;com&#47;something&#47;something</code> unless you specifically altered the source directories"}, {"owner": {"reputation": 93, "user_id": 890706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaf35ff6bc1afd7d24cf03d4d1f3a91f?s=128&d=identicon&r=PG", "display_name": "tennessee sombrero", "link": "https://stackoverflow.com/users/890706/tennessee-sombrero"}, "edited": false, "score": 0, "creation_date": 1526526250, "post_id": 49845538, "comment_id": 87781155, "body": "I believe I&#39;m seeing the same issue. Android module <code>app</code> depends on android module <code>core</code> and things are fine in Java-land. However when a Kotlin unit test in <code>app</code> imports a Kotlin class from <code>core</code> I get the same misbehavior as Dan. AS looks happy but <code>Unresolved Reference</code> when building (ide or command line)."}, {"owner": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "reply_to_user": {"reputation": 93, "user_id": 1330141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/277cb0f0a02f4295b55ab7620b679504?s=128&d=identicon&r=PG", "display_name": "Nexcius", "link": "https://stackoverflow.com/users/1330141/nexcius"}, "edited": false, "score": 0, "creation_date": 1526714006, "post_id": 49845538, "comment_id": 87860293, "body": "@Nexcius Sorry, the directory structure is as it should be, I just transcribed it incorrectly."}, {"owner": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "reply_to_user": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 0, "creation_date": 1526714024, "post_id": 49845538, "comment_id": 87860300, "body": "@PFuster I tried that already. Unfortunately it doesn&#39;t help"}], "answers": [{"tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 2, "last_activity_date": 1537915694, "last_edit_date": 1537915694, "creation_date": 1537914300, "answer_id": 52507433, "question_id": 49845538, "link": "https://stackoverflow.com/questions/49845538/kotlin-gradle-unresolved-reference/52507433#52507433", "title": "Kotlin + Gradle Unresolved Reference", "body": "<p>in Android Studio &amp; IntelliJ IDE, it is better to define these as \"modules\".</p>\n\n<p>eg. with a <code>settings.gradle</code> alike:</p>\n\n<pre><code>include \":projectA\", \":projectB\"\nrootProject.name = \"project\"\n</code></pre>\n\n<p>with a directory structure alike:</p>\n\n<pre><code>project/\n   settings.gradle\n   projectB/  # common code\n       build.gradle\n       src/\n          test/\n          debug/\n          main/\n             res/\n             assets/\n             java/\n             kotlin/\n                com/\n                   foo/\n                      bar/...\n\n\n   projectA/  # android app\n       build.gradle\n       src/\n          test/\n          debug/\n          main/\n             res/\n             assets/\n             java/\n             kotlin/\n                com/\n                   foo/\n                      baz/...\n</code></pre>\n\n<p>when intending to use other directory-structure, one has the change the <code>sourceSets</code> configuration.</p>\n"}], "owner": {"reputation": 10541, "user_id": 828279, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/aNh7X.png?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/828279/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2971, "favorite_count": 2, "answer_count": 1, "score": 17, "last_activity_date": 1537915694, "creation_date": 1523817784, "last_edit_date": 1526714178, "question_id": 49845538, "link": "https://stackoverflow.com/questions/49845538/kotlin-gradle-unresolved-reference", "title": "Kotlin + Gradle Unresolved Reference", "body": "<p>As per <a href=\"https://stackoverflow.com/questions/49721542/android-studio-scanning-for-files-to-index\">this question</a> I'm trying to setup the following project structure</p>\n\n<pre><code>project/\n   settings.gradle\n   projectB/  # some common code (using spring-boot)\n       build.gradle\n       com/\n          foo/\n             bar/...\n   projectA/  # an android app\n       build.gradle\n       com/\n          foo/\n             baz/...\n</code></pre>\n\n<p><code>settings.gradle</code> looks like</p>\n\n<pre><code>rootProject.name = \"project\"\ninclude \":projectB\"\nproject(\":projectB\").projectDir = new File(rootDir, './projectB')\ninclude \":projectA\"\nproject(\":projectA\").projectDir = new File(rootDir, './projectA')\n</code></pre>\n\n<p>and in <code>projectA/build.gradle</code> I have</p>\n\n<pre><code>dependencies {\n    implementation project(\":projectB\")\n}\n</code></pre>\n\n<p>Android Stuido seems happy and will provide code completion and searching for code in <code>projectB</code> within <code>projectA</code>. However compilation fails with an error </p>\n\n<pre><code>Unsresolved reference: bar\n</code></pre>\n\n<p>on the line where I try to <code>import com.foo.bar.whatever</code>. </p>\n\n<p>I have tried a number of different changes to the various gradle files but nothing has fixed this error. </p>\n\n<p>What is the problem with this setup and how can it be resolved?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "visibility"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1523809507, "post_id": 49844118, "comment_id": 86702973, "body": "&quot;I tried: progress.visibility to .... ?&quot;. What did you try? You tried  <code>progress.visibility =View.GONE</code>?"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 1, "creation_date": 1523809539, "post_id": 49844118, "comment_id": 86702984, "body": "@Raghunandan may be <code>progress.visibility= View.GONE </code>"}, {"owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "edited": false, "score": 0, "creation_date": 1523809709, "post_id": 49844118, "comment_id": 86703031, "body": "Why are you using ButterKnife use kotlin synthetic instead. tutorial here: <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">antonioleiva.com/kotlin-android-extensions</a>"}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1523812527, "post_id": 49844118, "comment_id": 86704064, "body": "@Raghunandan yep, I tried same but it&#39;s not worked"}], "answers": [{"comments": [{"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 0, "creation_date": 1523812903, "post_id": 49844135, "comment_id": 86704188, "body": "I tried <code>progress.visibility= View.VISIBLE</code> but not worked, is it mandatory to use <code>kotlinx.android.synthetic</code>?"}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 0, "creation_date": 1523813107, "post_id": 49844135, "comment_id": 86704283, "body": "Thanx, I don&#39;t know why it&#39;s not worked before, I just restarted my studio <code>progress.visibility = View.VISIBLE</code> is made it work."}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 1, "last_activity_date": 1523810943, "last_edit_date": 1523810943, "creation_date": 1523809121, "answer_id": 49844135, "question_id": 49844118, "link": "https://stackoverflow.com/questions/49844118/android-kotlin-butterknife-view-visibility/49844135#49844135", "title": "Android kotlin butterknife view visibility", "body": "<p>Try with</p>\n\n<pre><code>progress.visibility= View.VISIBLE \nprogress.visibility= View.GONE \n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>You should use <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\"><strong><code>kotlinx.android.synthetic</code></strong></a>.</p>\n\n<blockquote>\n  <p>Every Android developer knows well the findViewById() function. It is,\n  without a doubt, a source of potential bugs and nasty code which is\n  hard to read and support. While there are several libraries available\n  that provide solutions to this problem, those libraries require\n  annotating fields for each exposed View.</p>\n  \n  <p>The Kotlin Android Extensions plugin allows us to obtain the same\n  experience we have with some of these libraries, without having to add\n  any extra code.</p>\n</blockquote>\n\n<p><strong>Example</strong></p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n\n    class MyActivity : Activity() {\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n\n            // Instead of findViewById&lt;ProgressBar&gt;(R.id.progress)\n             progress.visibility= View.GONE \n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 0, "creation_date": 1523812866, "post_id": 49844206, "comment_id": 86704177, "body": "As I said I tried <code>progress.setVisibility(View.VISIBLE)</code> but not worked, is it mandatory to use <code>kotlinx.android.synthetic</code>?"}, {"owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 0, "creation_date": 1523813112, "post_id": 49844206, "comment_id": 86704286, "body": "Thanx, I don&#39;t know why it&#39;s not worked before, I just restarted my studio <code>progress.visibility = View.VISIBLE</code> is made it work."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "edited": false, "score": 1, "creation_date": 1523813702, "post_id": 49844206, "comment_id": 86704501, "body": "It&#39;s definitely not mandatory to use the Kotlin Android Extensions plugin by any means. It&#39;s just one of the available options (to see others, see <a href=\"https://stackoverflow.com/q/44285703/4465208\">this question</a>). If you&#39;re comfortable using ButterKnife, you can absolutely keep using it with Kotlin."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1523809609, "creation_date": 1523809609, "answer_id": 49844206, "question_id": 49844118, "link": "https://stackoverflow.com/questions/49844118/android-kotlin-butterknife-view-visibility/49844206#49844206", "title": "Android kotlin butterknife view visibility", "body": "<p>You can use the same setters in Kotlin:</p>\n\n<pre><code>progress.setVisibility(View.VISIBLE)\n</code></pre>\n\n<p>You can also use a property access syntax instead, which does the exact same thing:</p>\n\n<pre><code>progress.visibility = View.VISIBLE\n</code></pre>\n\n<hr>\n\n<p>As for the last part of your question, if you were trying to write this:</p>\n\n<pre><code>progress.visibility to View.VISIBLE\n</code></pre>\n\n<p>Then all that does is create a <code>Pair</code> which is never used and just thrown away - it's equivalent to this:</p>\n\n<pre><code>Pair(progress.visibility, View.VISIBLE)\n</code></pre>\n"}], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 49844135, "answer_count": 2, "score": 0, "last_activity_date": 1527086565, "creation_date": 1523808997, "question_id": 49844118, "link": "https://stackoverflow.com/questions/49844118/android-kotlin-butterknife-view-visibility", "title": "Android kotlin butterknife view visibility", "body": "<p>I was trying to set the visibility of a view in android using <a href=\"http://jakewharton.github.io/butterknife/\" rel=\"nofollow noreferrer\">ButterKnife</a> with Kotlin</p>\n\n<p>I got the id in butterknife like:</p>\n\n<pre><code>@BindView(R.id.progress)\nlateinit var progress: ProgressBar\n</code></pre>\n\n<p>The visibility can be set in Java like: (As we know)</p>\n\n<pre><code>progress.setVisibility(View.VISIBLE);\nprogress.setVisibility(View.GONE);\n</code></pre>\n\n<p>I tried: <code>progress.visibility to .... ?</code></p>\n\n<p>How will it be in kotlin with ButterKnife?</p>\n"}, {"tags": ["java", "spring-boot", "intellij-idea", "jar", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523833774, "post_id": 49846142, "comment_id": 86710209, "body": "That just causes the error to become <code>Error: Could not find or load main class api.KotlinSpringJpaPostgresqlApplicationKt</code>"}, {"owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "reply_to_user": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523866128, "post_id": 49846142, "comment_id": 86719254, "body": "Can you specify the Main Class in the pom.xml rather than in IntelliJ? I did this yesterday in Gradle &amp; your main class should definitely be the one with the &#39;Kt&#39; suffix.  See:  <a href=\"https://stackoverflow.com/questions/37671510/how-do-i-specify-a-main-class-in-the-manifest-of-my-generated-jar-file\" title=\"how do i specify a main class in the manifest of my generated jar file\">stackoverflow.com/questions/37671510/&hellip;</a>"}, {"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523881325, "post_id": 49846142, "comment_id": 86728830, "body": "I specified it in the pom and compiled the .jar from the command line using maven package for good measure. I got the error Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: api.KotlinSpringJpaPostgresqlApplicationKt at java.net.URLClassLoader.findClass(URLClassLoader.java:381)"}], "tags": [], "owner": {"reputation": 484, "user_id": 2186044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560adc6d3a75c4439c287c4b4c15f248?s=128&d=identicon&r=PG", "display_name": "hexkid", "link": "https://stackoverflow.com/users/2186044/hexkid"}, "is_accepted": false, "score": 1, "last_activity_date": 1523821926, "creation_date": 1523821926, "answer_id": 49846142, "question_id": 49844100, "link": "https://stackoverflow.com/questions/49844100/cant-specify-main-manifest-attribute-in-intellij/49846142#49846142", "title": "Can&#39;t specify main manifest attribute in Intellij", "body": "<p>The issue is the name of the class as Kotlin will create a Java class with a Kt suffix.</p>\n\n<p>This means that the Main Class in your manifest should be:</p>\n\n<p>Main-Class: api.KotlinSpringJpaPostgresqlApplicationKt</p>\n"}, {"comments": [{"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523880887, "post_id": 49854957, "comment_id": 86728526, "body": "I specified it in the pom and compiled the .jar from the command line using maven package for good measure. I got the error <code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: api.KotlinSpringJpaPostgresqlApplication Kt at java.net.URLClassLoader.findClass(URLClassLoader.java:381)</code>"}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "reply_to_user": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523881008, "post_id": 49854957, "comment_id": 86728603, "body": "Sorry, I am note sure where this whitespace in my answer came from. It has to be one word <code>api.KotlinSpringJpaPostgresqlApplicationKt</code> with no blank in front of <code>Kt</code>"}, {"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523881345, "post_id": 49854957, "comment_id": 86728851, "body": "I figured it might be a typo and tried it both ways.  Same result."}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "reply_to_user": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523883614, "post_id": 49854957, "comment_id": 86730489, "body": "Could you please double check that the MANIFEST.MF actually contains the correct Main Class and that the <code>api.KotlinSpringJpaPostgresqlApplicationKt</code> is indeed part of the Jar?"}, {"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523888535, "post_id": 49854957, "comment_id": 86734151, "body": "The MANIFEST.MF generated by the .pom contains the class <code>api.KotlinSpringJpaPostgresqlApplicationKt</code>.  When examined, the jar contains the class <code>BOOT-INF&#47;classes&#47;api&#47;KotlinSpringJpaPostgresqlApplication.cl&zwnj;&#8203;ass</code>"}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "reply_to_user": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523888948, "post_id": 49854957, "comment_id": 86734482, "body": "I just noticed that your file name is <code>api.kt</code> and not KotlinSpringJpaPostgresqlApplication. Do you have an <code>apiKt.class</code> ? If so, that would be your main class."}, {"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523889504, "post_id": 49854957, "comment_id": 86734858, "body": "I don&#39;t.  Should I refactor KotlinSpringJpaPostgresqlApplication to match the filename?"}, {"owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "reply_to_user": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523889621, "post_id": 49854957, "comment_id": 86734927, "body": "Yes. I would give that a try. Alternatively you could also just create a file <code>Main.kt</code> and move your mail function there. It will be compiled to a <code>MainKt</code> class"}, {"owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "edited": false, "score": 0, "creation_date": 1523889876, "post_id": 49854957, "comment_id": 86735145, "body": "That did it!  If you update your original answer to reflect our comments chain I&#39;ll upvote &amp; mark accepted."}], "tags": [], "owner": {"reputation": 3803, "user_id": 249667, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DIGwg.jpg?s=128&g=1", "display_name": "phisch", "link": "https://stackoverflow.com/users/249667/phisch"}, "is_accepted": true, "score": 2, "last_activity_date": 1523890044, "last_edit_date": 1523890044, "creation_date": 1523874138, "answer_id": 49854957, "question_id": 49844100, "link": "https://stackoverflow.com/questions/49844100/cant-specify-main-manifest-attribute-in-intellij/49854957#49854957", "title": "Can&#39;t specify main manifest attribute in Intellij", "body": "<p>You need to append <code>Kt</code> with an upper case <code>K</code> to the <em>filename</em> that holds your main method. This is required because of the way Kotlin compiles to Java Bytecode. The <code>fun main()</code> function in Kotlin is not attached to any class, but Java always requires a class and does not support classless functions.</p>\n\n<p>Note that the <em>filename</em> is of importance here (In your question it is api.kt). I would recommend to just create a file <code>Main.kt</code> and move your main function there. It will be compiled to a MainKt class, which you should reference from your Manifest.</p>\n\n<p>I would expect that your manually created MANIFEST.MF file gets overwritten by the build process. Have you unzipt the final jar file and inspected that MANIFEST.MF is as you expect it to be?</p>\n\n<p>Rather than writing the MANIFEST.MF yourself, let your build system handle it for you: </p>\n\n<p>For Maven:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n          &lt;mainClass&gt;api.KotlinSpringJpaPostgresqlApplicationKt&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n    &lt;/archive&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>For Gradle:</p>\n\n<pre><code>jar {\n     manifest {\n        attributes 'Main-Class': 'api.KotlinSpringJpaPostgresqlApplicationKt'\n    }\n    from { \n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1210, "user_id": 4520965, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7j7J0.png?s=128&g=1", "display_name": "James Jordan Taylor", "link": "https://stackoverflow.com/users/4520965/james-jordan-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1059, "favorite_count": 0, "accepted_answer_id": 49854957, "answer_count": 2, "score": 1, "last_activity_date": 1523890044, "creation_date": 1523808883, "last_edit_date": 1523834088, "question_id": 49844100, "link": "https://stackoverflow.com/questions/49844100/cant-specify-main-manifest-attribute-in-intellij", "title": "Can&#39;t specify main manifest attribute in Intellij", "body": "<p>I'm trying to generate an executable jar for the api that I've been working on.  I've been able to debug locally using localhost, but when I try to run the generated jar artifact from the command line I get the error <code>no main manifest attribute, in api.jar</code>.  I've read up on the related SO questions <a href=\"https://stackoverflow.com/questions/21884217/cant-choose-class-as-main-class-in-intellij\">here</a> and <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">here</a>, but the changes they've recommended seem to have no effect.  My project structure is below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/a9hBz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a9hBz.png\" alt=\"project structure\"></a></p>\n\n<p>When I try to select the main class while navigating through the artifact wizard I can get all the way to highlighting the <code>main</code> class, but the OK button is disabled.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZxRxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZxRxi.png\" alt=\"OK button disabled\"></a></p>\n\n<p>Finally, when I try to specify the main class manually in the manifest file by right clicking on the main class name and selecting <code>Copy Reference</code> and pasting the clipboard value in I get the error that it's an invalid main class:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WvOpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WvOpq.png\" alt=\"Invalid main class\"></a></p>\n\n<p>My actual main class is included below. Any help is appreciated.</p>\n\n<pre><code>package api\n\nimport org.springframework.boot.SpringApplication\nimport org.springframework.boot.autoconfigure.SpringBootApplication\n\n@SpringBootApplication\nopen class KotlinSpringJpaPostgresqlApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(KotlinSpringJpaPostgresqlApplication::class.java, *args)\n}\n</code></pre>\n\n<p>As a final aside, my code is available <a href=\"https://github.com/jamesjmtaylor/weg-api\" rel=\"nofollow noreferrer\">here</a> if you want to try and run it locally.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 885, "user_id": 1201592, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e0125ac022d4861c0e71e4e8701fff1?s=128&d=identicon&r=PG", "display_name": "Sami Issa", "link": "https://stackoverflow.com/users/1201592/sami-issa"}, "is_accepted": false, "score": 0, "last_activity_date": 1523810899, "creation_date": 1523810899, "answer_id": 49844427, "question_id": 49844072, "link": "https://stackoverflow.com/questions/49844072/kotlin-room-error-while-annotation-processing/49844427#49844427", "title": "Kotlin + Room: Error while annotation processing", "body": "<p>Ok, the problem was on MyDao class. The function getItemById returned a wrong type. I've putted Item and I need to return Thumbnails class</p>\n\n<pre><code>@Query(\"SELECT * FROM thumbnails WHERE id = :id\")\n    fun getItemById(id : Int) : Single&lt;Thumbnails&gt;\n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 1201592, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4e0125ac022d4861c0e71e4e8701fff1?s=128&d=identicon&r=PG", "display_name": "Sami Issa", "link": "https://stackoverflow.com/users/1201592/sami-issa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2054, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523883512, "creation_date": 1523808726, "last_edit_date": 1523883512, "question_id": 49844072, "link": "https://stackoverflow.com/questions/49844072/kotlin-room-error-while-annotation-processing", "title": "Kotlin + Room: Error while annotation processing", "body": "<p>I'm facing the following issue without finding a real solution. I try to add Room library without luck. All time I get this error:</p>\n\n<pre><code>    e: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:137)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:158)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:61)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:107)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:51)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:92)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:386)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:892)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$$inlined$ifAlive$lambda$2.invoke(CompileServiceImpl.kt:96)\n    at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.checkedCompile(CompileServiceImpl.kt:919)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.doCompile(CompileServiceImpl.kt:891)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:385)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:346)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing(annotationProcessing.kt:90)\n    at org.jetbrains.kotlin.kapt3.AnnotationProcessingKt.doAnnotationProcessing$default(annotationProcessing.kt:42)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.runAnnotationProcessing(Kapt3Extension.kt:205)\n    at org.jetbrains.kotlin.kapt3.AbstractKapt3Extension.analysisCompleted(Kapt3Extension.kt:166)\n    at org.jetbrains.kotlin.kapt3.ClasspathBasedKapt3Extension.analysisCompleted(Kapt3Extension.kt:82)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM$analyzeFilesWithJavaIntegration$2.invoke(TopDownAnalyzerFacadeForJVM.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration(TopDownAnalyzerFacadeForJVM.kt:106)\n    at org.jetbrains.kotlin.cli.jvm.compiler.TopDownAnalyzerFacadeForJVM.analyzeFilesWithJavaIntegration$default(TopDownAnalyzerFacadeForJVM.kt:83)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:376)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler$analyze$1.invoke(KotlinToJVMBytecodeCompiler.kt:67)\n    at org.jetbrains.kotlin.cli.common.messages.AnalyzerWithCompilerReport.analyzeAndReport(AnalyzerWithCompilerReport.kt:96)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.analyze(KotlinToJVMBytecodeCompiler.kt:367)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:132)\n    ... 30 more\n\n:app:kaptDevDebugKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDevDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p><strong>This is my build.gradle (module)</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n\n    defaultConfig {\n        applicationId \"com.xxx.xxx\"\n        minSdkVersion 16\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n\n    productFlavors {\n        dev {\n            // dev utilizes minSDKVersion = 21 to allow the Android gradle plugin\n            // to pre-dex each module and produce an APK that can be tested on\n            // Android Lollipop without time consuming dex merging processes.\n            minSdkVersion 16\n            buildConfigField \"String\", \"URL_BASE\", \"\\\"https://www.xxxxx.com\\\"\"\n        }\n        prod {\n            minSdkVersion 16\n            buildConfigField \"String\", \"URL_BASE\", \"\\\"https://www.xxxxx.com\\\"\"\n        }\n\n    }\n\n    defaultConfig{\n        multiDexEnabled true\n    }\n\n    lintOptions{\n        abortOnError false\n    }\n\n\n    packagingOptions {\n        exclude 'META-INF/rxjava.properties'\n    }\n\n    flavorDimensions \"default\"\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nbuildscript {\n    ext.supportVersion = '26.0.2'\n    ext.appcompat_version = '26.0.2'\n    ext.retrofitVersion = '2.3.0'\n    ext.rxVersion = '2.0.2'\n    ext.rxAndroidVersion = '2.0.1'\n    ext.rxKotlinVersion = '2.0.0'\n    ext.okhttpVersion = '3.8.1'\n    ext.multidexVersion = '1.0.1'\n    ext.gsonVersion = '2.8.0'\n    ext.inappBillingVersion = '1.0'\n    ext.picassoVersion = '2.5.2'\n    ext.circleImageViewVersion = '2.1.0'\n    ext.tedPermissionsVersion = '2.1.0'\n    ext.firebaseAuthVersion = '2.3.0'\n    ext.firebaseCoreVersion = '11.0.4'\n    ext.rxLifeCycleVersion = '2.2.1'\n    ext.circleImageViewVersion = '2.1.0'\n    ext.picassoVersion = '2.5.2'\n    ext.parcelerVersion = '1.1.9'\n    ext.glideVersion = '4.6.1'\n    ext.roomVersion = '1.0.0'\n\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    //Framework\n    compile \"com.android.support:appcompat-v7:$supportVersion\"\n    compile \"com.android.billingclient:billing:$inappBillingVersion\"\n    compile \"com.firebaseui:firebase-ui-auth:$firebaseAuthVersion\"\n    compile \"com.google.firebase:firebase-core:$firebaseCoreVersion\"\n    compile \"com.android.support:support-v4:$supportVersion\"\n\n    //Room\n    compile \"android.arch.persistence.room:runtime:$roomVersion\"\n    compile \"android.arch.persistence.room:rxjava2:$roomVersion\"\n    kapt \"android.arch.persistence.room:compiler:$roomVersion\"\n\n    //Kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n    //Rx &amp; Retrofit 2 **********************************\n    compile(\"com.squareup.retrofit2:retrofit:$retrofitVersion\") {\n        // exclude Retrofit\u2019s OkHttp peer-dependency module and define your own module import\n        exclude module: 'okhttp'\n    }\n    compile \"com.squareup.retrofit2:converter-gson:$retrofitVersion\"\n    compile \"com.squareup.retrofit2:adapter-rxjava2:$retrofitVersion\"\n    compile \"io.reactivex.rxjava2:rxkotlin:$rxKotlinVersion\"\n    compile \"com.squareup.okhttp3:okhttp:$okhttpVersion\"\n    compile \"com.squareup.okhttp3:logging-interceptor:$okhttpVersion\"\n    compile \"io.reactivex.rxjava2:rxandroid:${rxAndroidVersion}\"\n    compile \"io.reactivex.rxjava2:rxjava:$rxVersion\"\n    compile \"com.trello.rxlifecycle2:rxlifecycle:$rxLifeCycleVersion\"\n    compile \"com.trello.rxlifecycle2:rxlifecycle-android-lifecycle-kotlin:$rxLifeCycleVersion\"\n    compile \"com.trello.rxlifecycle2:rxlifecycle-components:$rxLifeCycleVersion\"\n\n    //others\n    compile \"com.squareup.picasso:picasso:$picassoVersion\"\n    compile \"gun0912.ted:tedpermission-rx2:$tedPermissionsVersion\"\n    compile \"de.hdodenhof:circleimageview:$circleImageViewVersion\"\n    compile \"com.squareup.picasso:picasso:$picassoVersion\"\n    implementation \"com.github.bumptech.glide:glide:$glideVersion\"\n    kapt \"com.github.bumptech.glide:compiler:$glideVersion\"\n\n    //Parceler\n    compile \"org.parceler:parceler-api:$parcelerVersion\"\n    kapt \"org.parceler:parceler:$parcelerVersion\"\n\n    //testing\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n\nkapt {\n    generateStubs = true\n    arguments {\n        arg(\"realm.ignoreKotlinNullability\", true)\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n        def requested = details.requested\n        if (requested.group == 'com.android.support') {\n            if (!requested.name.startsWith(\"multidex\")) {\n                details.useVersion '26.0.2'\n            }\n        }\n    }\n}\n\n// ADD THIS AT THE BOTTOM\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>Entity:</strong></p>\n\n<pre><code>import android.arch.persistence.room.ColumnInfo\nimport android.arch.persistence.room.Entity\nimport android.arch.persistence.room.PrimaryKey\nimport org.parceler.Parcel\n\n\n@Parcel\n@Entity (tableName = \"thumbnails\")\ndata class Thumbnails(\n        @ColumnInfo(name = \"id\")\n        @PrimaryKey(autoGenerate = true)\n        open var id: Long = 0,\n        @ColumnInfo(name = \"profile\")\n        open var profile: String? = \"\",\n        @ColumnInfo(name = \"contact\")\n        open var contact: String? = \"\"\n)\n</code></pre>\n\n<p><strong>MyDao class:</strong></p>\n\n<pre><code>@Dao\ninterface MyDao {\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insertItem(items : List&lt;Item&gt;)\n\n\n    @Query(\"SELECT * FROM thumbnails WHERE id = :id\")\n    fun getItemById(id : Int) : Single&lt;Item&gt;\n}\n</code></pre>\n\n<p><strong>My Database:</strong></p>\n\n<pre><code>@Database (entities = arrayOf(Thumbnails::class), version = 1)\nabstract class MyDataBase : RoomDatabase()  {\n    abstract fun myDao() : MyDao\n}\n</code></pre>\n\n<p><strong>Instance creation from Application:</strong></p>\n\n<pre><code>class AppDelegate : Application() {\n\n    companion object {\n        var appContext : Context? = null\n        var prefs : SharedPreferencesManager? = null\n        var db : MyDataBase? = null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        prefs = SharedPreferencesManager(appContext)\n        db = Room.databaseBuilder(this, MyDataBase::class.java, \"my_database\").build()\n\n    }\n\n    override fun attachBaseContext(base: Context?) {\n        super.attachBaseContext(base)\n        appContext = base\n    }\n}\n</code></pre>\n\n<p>Well, the error it's not clear and I have been trying to find out a solution. </p>\n\n<p>If I delete MyDatabase class, the build process ends succesful. I think the problem it's in this class, but I can't find it.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "edited": false, "score": 0, "creation_date": 1523812128, "post_id": 49843745, "comment_id": 86703937, "body": "besides butterknife, you can also use databinding  <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding/index.htm&zwnj;&#8203;l</a>. (more info here <a href=\"https://medium.com/google-developers/no-more-findviewbyid-457457644885\" rel=\"nofollow noreferrer\">medium.com/google-developers/no-more-findviewbyid-4574576448&zwnj;&#8203;85</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 3, "last_activity_date": 1523807030, "creation_date": 1523807030, "answer_id": 49843771, "question_id": 49843745, "link": "https://stackoverflow.com/questions/49843745/how-to-use-kotlin-android-extensions-in-java/49843771#49843771", "title": "How to use Kotlin Android Extensions in Java", "body": "<p>Kotlin Android Extensions is a plugin for the Kotlin compiler which transforms your Kotlin code at compile time. Since the Kotlin compiler does not compile your Java sources, there is no way for the plugin to work with Java files. There, you'll have to stick to manual lookups or using something like <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">ButterKnife</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 2, "last_activity_date": 1523811201, "creation_date": 1523811201, "answer_id": 49844475, "question_id": 49843745, "link": "https://stackoverflow.com/questions/49843745/how-to-use-kotlin-android-extensions-in-java/49844475#49844475", "title": "How to use Kotlin Android Extensions in Java", "body": "<p>Here is <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">Butterknife </a>library that is very popular among Android Developers including me.</p>\n\n<p>See a sample.</p>\n\n<pre><code>class ExampleActivity extends Activity {\n  @BindView(R.id.user) EditText username;\n  @BindView(R.id.pass) EditText password;\n\n  @Override public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.simple_activity);\n    ButterKnife.bind(this);\n    // TODO Use fields...\n  }\n}\n</code></pre>\n\n<p>Doesn't this looks pretty clean and short? </p>\n\n<p>For adding in your project just add this light weight dependency.</p>\n\n<pre><code>dependencies {\n  implementation 'com.jakewharton:butterknife:8.8.1'\n  annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1'\n}\n</code></pre>\n\n<p>Happy coding :)</p>\n"}], "owner": {"reputation": 21, "user_id": 9649320, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-m7qNQlQ37OY/AAAAAAAAAAI/AAAAAAAAAlo/v5Nn_0NFoxc/photo.jpg?sz=128", "display_name": "Rizwan Waqar", "link": "https://stackoverflow.com/users/9649320/rizwan-waqar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "closed_date": 1523854684, "answer_count": 2, "score": 1, "last_activity_date": 1523854769, "creation_date": 1523806885, "last_edit_date": 1523807142, "question_id": 49843745, "link": "https://stackoverflow.com/questions/49843745/how-to-use-kotlin-android-extensions-in-java", "closed_reason": "Duplicate", "title": "How to use Kotlin Android Extensions in Java", "body": "<p>How can I use Kotlin Android Extensions to skip <code>findViewById</code> in an Activity while coding with Java for Android development?</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions' \n</code></pre>\n"}, {"tags": ["spring-boot", "dependency-injection", "kotlin", "yaml"], "comments": [{"owner": {"reputation": 476, "user_id": 6424383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7Lxy.jpg?s=128&g=1", "display_name": "gokhanbirincii", "link": "https://stackoverflow.com/users/6424383/gokhanbirincii"}, "edited": false, "score": 0, "creation_date": 1523820520, "post_id": 49843327, "comment_id": 86706759, "body": "same issue is <a href=\"https://stackoverflow.com/questions/43098009/spring-boot-inject-map-from-properties-file\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 6624125, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NVfJIf4ol-0/AAAAAAAAAAI/AAAAAAAAAEQ/UFXe8k7X2cA/photo.jpg?sz=128", "display_name": "Vadim", "link": "https://stackoverflow.com/users/6624125/vadim"}, "is_accepted": true, "score": 7, "last_activity_date": 1524038716, "last_edit_date": 1524038716, "creation_date": 1523966134, "answer_id": 49877433, "question_id": 49843327, "link": "https://stackoverflow.com/questions/49843327/spring-boot-injecting-a-map-from-a-yaml-file/49877433#49877433", "title": "Spring Boot - Injecting a map from a YAML file", "body": "<p>We have something similar in our code. This is how we solved it.</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>validation:\n  synonyms:\n    Doctor: Dr.\n    Sanct: St.\n</code></pre>\n\n<p><strong>Config</strong></p>\n\n<pre><code>@Component\n@ConfigurationProperties(\"validation\")\npublic class ValidationConfig {\n\n    private Map&lt;String, String&gt; synonyms;\n    // ...\n}\n</code></pre>\n\n<p>You can find more information for this topic in the documentation: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">Spring Boot Externalized Configuration</a></p>\n"}], "owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6398, "favorite_count": 0, "accepted_answer_id": 49877433, "answer_count": 1, "score": 2, "last_activity_date": 1524038716, "creation_date": 1523804271, "question_id": 49843327, "link": "https://stackoverflow.com/questions/49843327/spring-boot-injecting-a-map-from-a-yaml-file", "title": "Spring Boot - Injecting a map from a YAML file", "body": "<p>I tried several versions but none work.\nWhat's the correct way to have this injected as a map:</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>alias:\n  name: title\n  desc: description\n  content: body\n</code></pre>\n\n<p>I tried using <code>@Value</code> annotation:</p>\n\n<p><strong>NamingService.kt</strong></p>\n\n<pre><code>@Value(\"\\${alias}\")\nprivate var alias: Map&lt;String, String&gt; = emptyMap()\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'alias' in value \"${alias}\"\n</code></pre>\n\n<p><em>kotlinVersion = '1.2.31'; springBootVersion = '2.0.1.RELEASE'</em></p>\n"}, {"tags": ["android", "kotlin", "android-sharedpreferences", "disk-io", "android-strictmode"], "answers": [{"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1523812908, "post_id": 49843629, "comment_id": 86704189, "body": "Sir, this is the correct answer. Thanks for enlightening. For other readers, in addition to <code>StrictMode.allowThreadDiskReads()</code> I had to perform <code>StrictMode.allowThreadDiskWrites()</code> also."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 14, "last_activity_date": 1523806171, "creation_date": 1523806171, "answer_id": 49843629, "question_id": 49841781, "link": "https://stackoverflow.com/questions/49841781/strictmode-strictmodediskreadviolation-when-creating-sharedpreference/49843629#49843629", "title": "StrictMode: StrictModeDiskReadViolation when creating SharedPreference", "body": "<blockquote>\n  <p>Afaik, there does not exist an API to exclude some chunk of code (e.g. by package name) from StrictMode configuration. Practically, I'm ok to leave SharedPreferences related stuff to read from disk on UI thread.</p>\n</blockquote>\n\n<p>It does exist. <code>StrictMode.allowThreadDiskReads()</code> changes the permissions to allow for reads and returns the old <code>ThreadPolicy</code> so it can be reset once the read is done. This can then be used together with a \"try-finally\" setup to allow the read for a single action.</p>\n\n<pre><code>val oldPolicy = StrictMode.allowThreadDiskReads()\ntry {\n    // Do reads here\n} finally {\n    StrictMode.setThreadPolicy(oldPolicy)\n}\n</code></pre>\n\n<p>You could create a kotlin function that handles the restoration with a lambda:</p>\n\n<pre><code>fun &lt;T&gt; allowReads(block: () -&gt; T): T {\n    val oldPolicy = StrictMode.allowThreadDiskReads()\n    try {\n        return block()\n    } finally {\n        StrictMode.setThreadPolicy(oldPolicy)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4174, "favorite_count": 1, "accepted_answer_id": 49843629, "answer_count": 1, "score": 6, "last_activity_date": 1523862302, "creation_date": 1523794470, "last_edit_date": 1523795005, "question_id": 49841781, "link": "https://stackoverflow.com/questions/49841781/strictmode-strictmodediskreadviolation-when-creating-sharedpreference", "title": "StrictMode: StrictModeDiskReadViolation when creating SharedPreference", "body": "<p>I have a project with dagger setup with following provider method:</p>\n\n<pre><code>@Module(...)\nabstract class AppModule {\n\n  @Module\n  companion object {\n    ...\n    @Provides\n    @Singleton\n    @JvmStatic\n    fun provideSharedPreferences(@AppContext context: Context): SharedPreferences = PreferenceManager.getDefaultSharedPreferences(context)\n  }\n\n  @Binds\n  @AppContext\n  @Singleton\n  abstract fun provideAppContext(application: Application): Context\n\n}\n</code></pre>\n\n<p>And here's a code from application's <code>onCreate()</code>:</p>\n\n<pre><code>override fun onCreate() {\n  if (BuildConfig.DEBUG) {\n    StrictMode.setThreadPolicy(StrictMode.ThreadPolicy.Builder()\n        .detectAll()\n        .penaltyLog()\n        .penaltyDialog()\n        .build())\n\n    StrictMode.setVmPolicy(StrictMode.VmPolicy.Builder()\n        .detectAll()\n        .penaltyLog()\n        .build())\n\n    Timber.plant(Timber.DebugTree())\n  }\n  ...\n  super.onCreate()\n}\n</code></pre>\n\n<p>Running the project on API 27 emulator results in following behavior:</p>\n\n<p><img src=\"https://i.stack.imgur.com/xbgmj.jpg\" width=\"300\"></p>\n\n<p>With following logs:</p>\n\n<blockquote>\n  <p>D/StrictMode: StrictMode policy violation; ~duration=275 ms: android.os.StrictMode$StrictModeDiskReadViolation: policy=196671 violation=2\n          at android.os.StrictMode$AndroidBlockGuardPolicy.onReadFromDisk(StrictMode.java:1440)\n          at java.io.UnixFileSystem.checkAccess(UnixFileSystem.java:251)\n          at java.io.File.exists(File.java:807)\n          at android.app.ContextImpl.getDataDir(ContextImpl.java:2197)\n          at android.app.ContextImpl.getPreferencesDir(ContextImpl.java:517)\n          at android.app.ContextImpl.getSharedPreferencesPath(ContextImpl.java:714)\n          at android.app.ContextImpl.getSharedPreferences(ContextImpl.java:368)\n          at android.content.ContextWrapper.getSharedPreferences(ContextWrapper.java:167)\n          at android.preference.PreferenceManager.getDefaultSharedPreferences(PreferenceManager.java:526)\n          at com.some.package.di.module.AppModule$Companion.provideSharedPreferences(AppModule.kt:112)\n          ...</p>\n</blockquote>\n\n<p>What this means, is that <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/ContextImpl.java#2169\" rel=\"noreferrer\">following</a> <code>res.exists()</code> reads from disk:</p>\n\n<pre><code>if (!res.exists() &amp;&amp; android.os.Process.myUid() == android.os.Process.SYSTEM_UID) {\n    Log.wtf(TAG, \"Data directory doesn't exist for package \" + getPackageName(),\n            new Throwable());\n}\n</code></pre>\n\n<p>And because that's happening on UI thread - <code>StrictModeDiskReadViolation</code> results.</p>\n\n<p>Afaik, there does not exist an API to exclude some chunk of code (e.g. by package name) from StrictMode configuration. Practically, I'm ok to leave <code>SharedPreferences</code> related stuff to read from disk on UI thread.</p>\n\n<p>I do not want to turn off read/write StrictMode rule because of this problem.</p>\n\n<h2><strong>Question</strong></h2>\n\n<p>What is the correct way to gracefully recover from this scenario? </p>\n"}]