[{"tags": ["android", "android-recyclerview", "kotlin", "onclicklistener", "onitemclicklistener"], "comments": [{"owner": {"reputation": 15152, "user_id": 1271435, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ec18edaae59b069a7650d3b42b3bed28?s=128&d=identicon&r=PG", "display_name": "Andy Res", "link": "https://stackoverflow.com/users/1271435/andy-res"}, "edited": false, "score": 1, "creation_date": 1534372088, "post_id": 51867215, "comment_id": 90686498, "body": "There&#39;s no built in <code>setOnItemClickListener</code> for <code>RecyclerView</code>. Have a look here also: <a href=\"https://stackoverflow.com/questions/24885223/why-doesnt-recyclerview-have-onitemclicklistener\" title=\"why doesnt recyclerview have onitemclicklistener\">stackoverflow.com/questions/24885223/&hellip;</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534375621, "post_id": 51867215, "comment_id": 90687275, "body": "I checked that question and apparently every answer seems to be incorrect, including the accepted one. Wow!"}], "answers": [{"comments": [{"owner": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "edited": false, "score": 1, "creation_date": 1559117239, "post_id": 51867792, "comment_id": 99315760, "body": "You can write itemClick(myObject, adapterposition), since itemClicks isn&#39;t nullable."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 3297, "user_id": 1857807, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/DSWJ2.jpg?s=128&g=1", "display_name": "Kuno", "link": "https://stackoverflow.com/users/1857807/kuno"}, "edited": false, "score": 0, "creation_date": 1559117290, "post_id": 51867792, "comment_id": 99315794, "body": "Yes, that is true."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 2, "last_activity_date": 1534376121, "creation_date": 1534376121, "answer_id": 51867792, "question_id": 51867215, "link": "https://stackoverflow.com/questions/51867215/can-we-make-use-of-the-built-in-setonclicklistener-on-recyclerview-row-item-inst/51867792#51867792", "title": "Can we make use of the built in setOnClickListener on RecyclerView row item instead of custom item click listener?", "body": "<p>Detecting click on a RecyclerView item is very easy. All you need to do is define an interface (if you're not using Kotlin, in which case you just pass in a lambda):</p>\n\n<pre><code>public class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n    private final Clicks clicks;\n\n    public MyAdapter(Clicks clicks) {\n        this.clicks = clicks;\n    }\n\n    private List&lt;MyObject&gt; items = Collections.emptyList();\n\n    public void updateData(List&lt;MyObject&gt; items) {\n        this.items = items;\n        notifyDataSetChanged(); // TODO: use ListAdapter for diffing instead if you need animations\n    }\n\n    public interface Clicks {\n        void onItemSelected(MyObject myObject, int position);\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n        private MyObject myObject;    \n\n        public MyViewHolder(View view) {\n            super(view);\n            // bind views\n            view.setOnClickListener((v) -&gt; {\n                int adapterPosition = getAdapterPosition();\n                if(adapterPosition &gt;= 0) {\n                    clicks.onItemSelected(myObject, adapterPosition);\n                }\n            });\n        }\n\n        public void bind(MyObject myObject) {\n            this.myObject = myObject;\n            // bind data to views\n        }\n    }\n}\n</code></pre>\n\n<p>Same code in Kotlin:</p>\n\n<pre><code>class MyAdapter(val itemClicks: (MyObject, Int) -&gt; Unit): RecyclerView.Adapter&lt;MyViewHolder&gt;() {\n    private var items: List&lt;MyObject&gt; = Collections.emptyList()\n\n    fun updateData(items: List&lt;MyObject&gt;) {\n        this.items = items\n        notifyDataSetChanged() // TODO: use ListAdapter for diffing instead if you need animations\n    }\n\n    inner class MyViewHolder(val myView: View): RecyclerView.ViewHolder(myView) {\n        private lateinit var myObject: MyObject\n\n        init {\n            // binds views\n            myView.onClick {\n                val adapterPosition = getAdapterPosition()\n                if(adapterPosition &gt;= 0) {\n                    itemClicks.invoke(myObject, adapterPosition)\n                }\n            }\n        }\n\n        fun bind(myObject: MyObject) {\n            this.myObject = myObject\n            // bind data to views\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 10231519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910251d3097f6f44ab832f6d5fb9d30?s=128&d=identicon&r=PG&f=1", "display_name": "sha", "link": "https://stackoverflow.com/users/10231519/sha"}, "edited": false, "score": 0, "creation_date": 1534896515, "post_id": 51869891, "comment_id": 90866906, "body": "Thankyou for all your help!"}], "tags": [], "owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1534396305, "last_edit_date": 1534396305, "creation_date": 1534395724, "answer_id": 51869891, "question_id": 51867215, "link": "https://stackoverflow.com/questions/51867215/can-we-make-use-of-the-built-in-setonclicklistener-on-recyclerview-row-item-inst/51869891#51869891", "title": "Can we make use of the built in setOnClickListener on RecyclerView row item instead of custom item click listener?", "body": "<p>If you are using Kotlin then you can send method as constructor parameter or via setter method. You don't need to created any interface listener for this kind of situation in kotlin.</p>\n\n<pre><code>class ImageCategoryAdapter(val listener: (YourType) -&gt; Unit) : RecyclerView.Adapter&lt;ImageCategoryAdapter.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.item_poll_category, parent, false))\n    }\n\n    override fun getItemCount() = yourList.size\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        // ...\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        // ...\n        init {\n            // this is the magic\n            itemView.setOnClickListener { listener.invoke(yourList[adapterPosition]) }\n        }\n    }\n}\n</code></pre>\n\n<p>In adapter we are taking function as constructor parameter named listener. and then on click of item view we are invoking that function with required type.</p>\n\n<pre><code>val adapter = ImageCategoryAdapter {\n    // Your callback \n    // here it will be type of parameter which we are sending from adapter by invoking the function.\n    processClickedItem(it)\n}\n</code></pre>\n\n<p>This is why i am getting addicted to kotlin. No interface callback needed for this kind of situation.</p>\n\n<p><strong>Updated</strong>\nIf you want to send the position also.</p>\n\n<pre><code>class ImageCategoryAdapter(val listener: (YourType, Int) -&gt; Unit) : RecyclerView.Adapter&lt;ImageCategoryAdapter.ViewHolder&gt;() {\n ...\n}\n</code></pre>\n\n<p>You have to invoke this function with two parameter.</p>\n\n<pre><code>itemView.setOnClickListener { listener.invoke(yourList[adapterPosition], adapterPosition) }\n</code></pre>\n\n<p>Now as we can see there are multiple parameter so <code>it</code> will not work for parameter, we have to provide the variable name for this lambda function.</p>\n\n<pre><code>val adapter = ImageCategoryAdapter { clickItem, position -&gt; processClickedItem(clickItem, position)} \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10231519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910251d3097f6f44ab832f6d5fb9d30?s=128&d=identicon&r=PG&f=1", "display_name": "sha", "link": "https://stackoverflow.com/users/10231519/sha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 1, "accepted_answer_id": 51867792, "answer_count": 2, "score": 0, "last_activity_date": 1581049893, "creation_date": 1534371529, "last_edit_date": 1581049893, "question_id": 51867215, "link": "https://stackoverflow.com/questions/51867215/can-we-make-use-of-the-built-in-setonclicklistener-on-recyclerview-row-item-inst", "title": "Can we make use of the built in setOnClickListener on RecyclerView row item instead of custom item click listener?", "body": "<p>I have seen many examples for providing click functionality (for selecting row item in recycler view) to a row item, but all of them are using custom click listener class to achieve this. Is there any method to achieve this click functionality?</p>\n"}, {"tags": ["android", "kotlin", "null"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534366275, "post_id": 51866220, "comment_id": 90684670, "body": "What safeguard? You have <code>!!</code> operator."}, {"owner": {"reputation": 4437, "user_id": 953454, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/75f766c09d0df9a2e0e0aa50ad7cc267?s=128&d=identicon&r=PG", "display_name": "dex", "link": "https://stackoverflow.com/users/953454/dex"}, "edited": false, "score": 0, "creation_date": 1534366641, "post_id": 51866220, "comment_id": 90684802, "body": "Please try to run a clean build and you find the line where the error is coming. Disable instant run if you using for now and try."}, {"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1534368511, "post_id": 51866220, "comment_id": 90685480, "body": "Thanks, but I tried removing the <code>!!</code> code and I still have the error. I also did a clean build, but I get the error links on the same places, completely unrelated to the code above..."}], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1534368641, "post_id": 51866372, "comment_id": 90685512, "body": "Thanks, but even with the question mark I get the very same error :/"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "edited": false, "score": 0, "creation_date": 1534370094, "post_id": 51866372, "comment_id": 90685982, "body": "From what you wrote, I suspect that you&#39;re having two different issues: one mentioned above, and the other of project not recompiling correctly. Please try removing the project and adding it again, as Android Studio / IntelliJ keep caches."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366845, "creation_date": 1534366845, "answer_id": 51866372, "question_id": 51866220, "link": "https://stackoverflow.com/questions/51866220/why-do-i-i-get-null-point-exception-even-though-i-safeguarded-against-it/51866372#51866372", "title": "Why do I I get null point exception even though I safeguarded against it?", "body": "<p>In short, you're missing the question mark.</p>\n\n<p>You expect that in block: </p>\n\n<pre><code>spr.getString(\"KEY\", null).let { it }\n</code></pre>\n\n<p>Won't be null? That's incorrect.</p>\n\n<p>Correct syntax is </p>\n\n<pre><code>spr.getString(\"KEY\", null)?.let { it }\n</code></pre>\n\n<p>Easy to miss.</p>\n\n<p>Same goes for working with nested JSONs. You should never use bang-bang (<code>!!</code>) in Kotlin. Use the safe syntax instead:</p>\n\n<pre><code>recipeArray?[counterX].recipeKey\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 9493704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66dd69b5827f8d1e31750fd718b33c8b?s=128&d=identicon&r=PG&f=1", "display_name": "tore", "link": "https://stackoverflow.com/users/9493704/tore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534396398, "creation_date": 1534366180, "last_edit_date": 1534396398, "question_id": 51866220, "link": "https://stackoverflow.com/questions/51866220/why-do-i-i-get-null-point-exception-even-though-i-safeguarded-against-it", "title": "Why do I I get null point exception even though I safeguarded against it?", "body": "<p>How do I safeguard against null points? I tried this way:</p>\n\n<pre><code>var spr = context.getSharedPreferences(\"FAV\", Context.MODE_PRIVATE)\nvar emptyArray: JsonArray = jsonArray()\nvar myjson = spr.getString(\"KEY\", null)\n\n//GET JSON FROM SHARED PREFERENCE\n\nLog.d(\"TAG\", \"NOT NULL\")\nif(myjson != null) {\n    var parsedFavFromJson = Gson().fromJson&lt;List&lt;String&gt;&gt;(myjson)\n    //PARSE FROM JSON TO ARRAY\n\n    for (i in parsedFavFromJson) {\n        emptyArray.add(i)\n        Log.d(\"TAG\", \"\" + i)\n\n        if (i == recipeArray!![counterX].recipeKey!!) {\n            Picasso.with(context)\n                    .load(R.drawable.fav_icon_60at3x).into(favMarkerButton)\n            Log.d(\"TAG\", \"Match \" + i)\n        } else {\n            Log.d(\"TAG\", \"WAS NULL\")\n            Picasso.with(context)\n                    .load(R.drawable.fav_unclicked_icon60at3x).into(favMarkerButton)\n        }\n    }\n}\n</code></pre>\n\n<p>I have clearly stated the conditional <code>if(myjson != null)</code>, still it pass through and crash with the error message <code>java.lang.IllegalStateException: fromJson(json, typeToken&lt;T&gt;()) must not be null</code>. There is no clear indication where the error actually occur - it actually points to an empty code line! If I remove the code above, things are working fine. I also tried using: </p>\n\n<pre><code>var myjson = spr.getString(\"KEY\", null).let {\n</code></pre>\n\n<p>...and so on, with the same result. Am I missing something here?    </p>\n\n<p><strong><em>UPDATE</em></strong>\nI checked variable <code>myjson</code> and it <em>is</em> clearly <code>null</code>. Question is why the conditional <code>if(myjson != null)</code> passed...</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 1, "creation_date": 1534363764, "post_id": 51865648, "comment_id": 90683592, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51733552/how-do-i-idiomatically-call-a-nullable-lambda-in-kotlin\">How do I idiomatically call a nullable lambda in Kotlin?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 7, "last_activity_date": 1534363582, "creation_date": 1534363582, "answer_id": 51865687, "question_id": 51865648, "link": "https://stackoverflow.com/questions/51865648/null-safety-operator-for-function-variable-in-kotlin/51865687#51865687", "title": "Null safety operator for function variable in Kotlin", "body": "<p>You can call it as follows:</p>\n\n<pre><code> myCallback?.invoke()\n</code></pre>\n\n<p>The <code>()</code> syntax on variables of function types is simply syntax sugar for the <code>invoke()</code> operator, which can be called using the regular safe call syntax if you expand it.</p>\n"}], "owner": {"reputation": 7265, "user_id": 3457177, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae2e85ed6794ece744ee124d9ac7842?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/3457177/vitalii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 51865687, "answer_count": 1, "score": 3, "last_activity_date": 1534363582, "creation_date": 1534363354, "question_id": 51865648, "link": "https://stackoverflow.com/questions/51865648/null-safety-operator-for-function-variable-in-kotlin", "title": "Null safety operator for function variable in Kotlin", "body": "<p>In my Kotlin app I have nullable variable like this </p>\n\n<pre><code>private var myCallback : (() -&gt; Unit)? = null\n</code></pre>\n\n<p>Is it possible to use null safety operator <code>?</code> to call it? This gives me a compilation error.</p>\n\n<pre><code>myCallback?()\n</code></pre>\n\n<p>I found only this ugly way for a call if it is not null</p>\n\n<pre><code> if(myCallback != null)\n     myCallback!!()\n</code></pre>\n"}, {"tags": ["android", "image", "kotlin", "gif"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "edited": false, "score": 0, "creation_date": 1534380941, "post_id": 51865891, "comment_id": 90688369, "body": "the same problem brother !!"}], "tags": [], "owner": {"reputation": 572, "user_id": 10229105, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QwjPuM1aip0/AAAAAAAAAAI/AAAAAAAAAAc/9ZC1BG0AqRo/photo.jpg?sz=128", "display_name": "Abdou Ouahib", "link": "https://stackoverflow.com/users/10229105/abdou-ouahib"}, "is_accepted": false, "score": 0, "last_activity_date": 1534364596, "creation_date": 1534364596, "answer_id": 51865891, "question_id": 51865573, "link": "https://stackoverflow.com/questions/51865573/how-to-make-a-gif-image-take-the-full-screen-resizable/51865891#51865891", "title": "how to make a Gif image take the full screen (resizable)?", "body": "<p>Try to add this to the GifImageView:</p>\n\n<pre><code>android:scaleType=\"fitXY\"\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534518001, "creation_date": 1534362987, "last_edit_date": 1534518001, "question_id": 51865573, "link": "https://stackoverflow.com/questions/51865573/how-to-make-a-gif-image-take-the-full-screen-resizable", "title": "how to make a Gif image take the full screen (resizable)?", "body": "<p>I'm using a gif image as a Splash page ,but when i try to simulated with the Big screen (10.5\") it fit not the full screen.</p>\n\n<p>My Splash page layout : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@color/cardview_light_background\"\n    tools:context=\".Splash\"&gt;\n\n    &lt;pl.droidsonroids.gif.GifImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#ffffff\"\n        android:src=\"@drawable/fneclis_splash_bg\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>My code : </p>\n\n<pre><code>class Splash : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        //hiding title bar of this activity\n        window.requestFeature(Window.FEATURE_NO_TITLE)\n        //making this activity full screen\n        window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        setContentView(R.layout.activity_splash)\n\n        //2.63second splash time\n        Handler().postDelayed({\n            //start main activity\n            startActivity(Intent(this, MainActivity::class.java))\n            //finish this activity\n            finish()\n        },2630)    \n\n        val gib = GifImageButton(this)\n        setContentView(gib)\n        gib.setImageResource(R.drawable.fneclis_splash_bg)\n        val mc = MediaController(this)\n        mc.setMediaPlayer(gib.drawable as GifDrawable)\n        mc.setAnchorView(gib)\n        gib.setOnClickListener(object : DialogInterface.OnClickListener, View.OnClickListener {\n            override fun onClick(p0: View?) {\n                mc.show()\n            }\n\n            override fun onClick(p0: DialogInterface?, p1: Int) {\n                mc.show()\n            }    \n        })    \n    }\n}\n</code></pre>\n\n<p>Is there any other way to add a gif image to android studio ???</p>\n\n<p><strong>HEEEEEEEEEEEEEEEEEEEEEEEELP !!</strong></p>\n"}, {"tags": ["kotlin", "set"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1534362351, "post_id": 51865382, "comment_id": 90683006, "body": "HashSet puts different items with the same hash code into the same bucket, but if they&#39;re not equal, they still both end up in there. It&#39;s just less efficient to look them up afterwards."}], "answers": [{"comments": [{"owner": {"reputation": 1063, "user_id": 2216670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db8ee199a63834c238c8a5354ef66778?s=128&d=identicon&r=PG", "display_name": "Chill", "link": "https://stackoverflow.com/users/2216670/chill"}, "edited": false, "score": 1, "creation_date": 1534362581, "post_id": 51865451, "comment_id": 90683112, "body": "This is proper behavior for a HashSet, regardless of language. The hash is used as a performance optimization for fast lookup."}, {"owner": {"reputation": 1279, "user_id": 2133585, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qd4Pp.jpg?s=128&g=1", "display_name": "Kirill Vashilo", "link": "https://stackoverflow.com/users/2133585/kirill-vashilo"}, "edited": false, "score": 0, "creation_date": 1537978570, "post_id": 51865451, "comment_id": 91983797, "body": "Actually it&#39;s just copy of java method&#39;s description: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#add(E)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/HashSet.html#add&zwnj;&#8203;(E)</a>"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1537996101, "post_id": 51865451, "comment_id": 91991928, "body": "Actually actually, it&#39;s just the java method. Check the link :)"}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": true, "score": 7, "last_activity_date": 1534362740, "last_edit_date": 1534362740, "creation_date": 1534362462, "answer_id": 51865451, "question_id": 51865382, "link": "https://stackoverflow.com/questions/51865382/in-kotlin-hashset-contains-elements-that-are-duplicate-by-hash/51865451#51865451", "title": "In Kotlin, HashSet contains elements that are duplicate by hash", "body": "<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#add-E-\" rel=\"noreferrer\">HashSet.add()</a> provides this contract:</p>\n\n<blockquote>\n  <p>Adds the specified element to this set if it is not already present.\n      More formally, adds the specified element e to this set if this set\n      contains no element e2 such that (e==null ? e2==null : e.equals(e2)).\n      If this set already contains the element, the call leaves the set\n      unchanged and returns false.</p>\n</blockquote>\n\n<p>In particular, <code>hashCode</code> is not mentioned. hashCode uniqueness is not relevant to the add method: multiple items with the same hash code <em>will</em> go into a hash set.</p>\n\n<p>Items with the same hashCode but not equals will end up in the same bucket, which decreases the performance of <code>get()</code> for those items. But other than that, hashCode isn't important.</p>\n"}], "owner": {"reputation": 1218, "user_id": 2890451, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/591312923/picture?type=large", "display_name": "Mark Green", "link": "https://stackoverflow.com/users/2890451/mark-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2207, "favorite_count": 0, "accepted_answer_id": 51865451, "answer_count": 1, "score": 1, "last_activity_date": 1534366164, "creation_date": 1534362161, "question_id": 51865382, "link": "https://stackoverflow.com/questions/51865382/in-kotlin-hashset-contains-elements-that-are-duplicate-by-hash", "title": "In Kotlin, HashSet contains elements that are duplicate by hash", "body": "<p>I have a variable declared as follows:</p>\n\n<pre><code>val done = HashSet&lt;StudentProgrammeState&gt;()\n</code></pre>\n\n<p>At the end of processing, it is checked as follows:</p>\n\n<pre><code>if (done.distinctBy { it.hashCode() }.size &lt; done.size ) {\n    println(\"Duplicate states were evaluated.\")\n}\n</code></pre>\n\n<p>This message appears every run. Since <code>done</code> is a <code>HashSet</code>, how can it ever contain multiple items which are not distinct by <code>HashCode</code>?</p>\n\n<p>Here are the equality methods for <code>StudentProgrammeState</code>:</p>\n\n<pre><code>class StudentProgrammeState(val program: Program) {\n    val instances = HashSet&lt;StudentModuleInstance&gt;()\n\n    override fun equals(other: Any?): Boolean {\n        if (!(other is StudentProgrammeState)) return false\n        return (other.program == program) &amp;&amp; \n          (other.instances.containsAll(instances) &amp;&amp; \n          instances.containsAll(other.instances))\n    }\n    override fun hashCode() = Objects.hash(program, instances)\n</code></pre>\n\n<p><code>Equals</code> here does not directly check the <code>hashCode</code> of <code>instances</code> but that test should correspond to unordered set equality.</p>\n\n<p>And for studentModuleInstance:</p>\n\n<pre><code>typealias StudentModuleInstance = Pair&lt;Module, Int&gt;\n</code></pre>\n\n<p>Since <code>Pair&lt;&gt;</code> is an inbuilt <code>data class</code> it should have a Kotlin generated <code>equals</code> and <code>hashcode</code> method.</p>\n\n<p>The value of <code>program</code> is set as the same for all instances under consideration.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 956, "user_id": 8218937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0b037426450db64503046b94160fc?s=128&d=identicon&r=PG&f=1", "display_name": "dev_swat", "link": "https://stackoverflow.com/users/8218937/dev-swat"}, "edited": false, "score": 0, "creation_date": 1534362224, "post_id": 51865303, "comment_id": 90682951, "body": "thanks eric Bachhuber"}], "tags": [], "owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "is_accepted": true, "score": 4, "last_activity_date": 1534362273, "last_edit_date": 1534362273, "creation_date": 1534361898, "answer_id": 51865303, "question_id": 51865277, "link": "https://stackoverflow.com/questions/51865277/whats-name-of-this-mark-in-kotlin/51865303#51865303", "title": "whats name of this &#39; &#39; mark in kotlin", "body": "<p><code>in</code> is a reserved keyword in Kotlin, so you need to escape it with backticks (example: `in` ) in order for it to work. Single quotes (example: 'in') are used for character literals, not string literals, so backticks are required.</p>\n"}], "owner": {"reputation": 956, "user_id": 8218937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0b037426450db64503046b94160fc?s=128&d=identicon&r=PG&f=1", "display_name": "dev_swat", "link": "https://stackoverflow.com/users/8218937/dev-swat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "closed_date": 1534361988, "accepted_answer_id": 51865303, "answer_count": 1, "score": 2, "last_activity_date": 1534362273, "creation_date": 1534361787, "question_id": 51865277, "link": "https://stackoverflow.com/questions/51865277/whats-name-of-this-mark-in-kotlin", "closed_reason": "Duplicate", "title": "whats name of this &#39; &#39; mark in kotlin", "body": "<p>I am reading user input using scanner class, when I write code then \nthere is <strong>' ' marks appears around .in</strong>, i try to search about it but not found what its name and use of it can you guys tell me more about this.</p>\n\n<p>my code </p>\n\n<pre><code>fun main(args:Array&lt;String&gt;)\n{\n    var input = Scanner(System.'in')\n\n    println(\"Enter input : \")\n\n    var userInput = input.nextInt()\n\n    println(\"You entered : $userInput\")\n}\n</code></pre>\n\n<p>why code only works when I add '' marks around in otherwise it not work.\nI got error message</p>\n\n<pre><code>Kotlin: Expecting an element\n</code></pre>\n"}, {"tags": ["android", "sqlite", "android-recyclerview", "kotlin", "cardview"], "answers": [{"comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1534362310, "post_id": 51864908, "comment_id": 90682984, "body": "I have tried to call notifyDataSetChanged() in onRestart() and onResume, still nothing happens."}, {"owner": {"reputation": 505, "user_id": 2811504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47ce91794321f6ec2b9e5fd92a8d14d8?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carlos", "link": "https://stackoverflow.com/users/2811504/jo%c3%a3o-carlos"}, "reply_to_user": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1534364485, "post_id": 51864908, "comment_id": 90683921, "body": "add the method to update the list in the onActivityResult then:  <code>public void onActivityResult(int requestCode, int resultCode, Intent data) {         super.onActivityResult(requestCode, resultCode, data);         switch (requestCode) {              case REQUEST_CODE:                    if(resultCode == Activity.RESULT_OK){                             &#47;&#47;getData from database                             adapter.updateElements(newData);                     }              break;</code>"}, {"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 0, "creation_date": 1534405927, "post_id": 51864908, "comment_id": 90695662, "body": "I have tried almost the same by re-reading all data from the database in onActivityResult. I have no idea why the views updates solely rely on onCreate method."}], "tags": [], "owner": {"reputation": 505, "user_id": 2811504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47ce91794321f6ec2b9e5fd92a8d14d8?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Carlos", "link": "https://stackoverflow.com/users/2811504/jo%c3%a3o-carlos"}, "is_accepted": false, "score": 0, "last_activity_date": 1534359945, "creation_date": 1534359945, "answer_id": 51864908, "question_id": 51864770, "link": "https://stackoverflow.com/questions/51864770/recyclerview-not-updating-after-delete-update-of-a-note/51864908#51864908", "title": "RecyclerView not updating after delete/update of a note", "body": "<p>you need to update your list items inside your adapter;\nnot sure how it works on kotlin, but I use something like this:</p>\n\n<p>after a note update call <code>adapter.updateItens(itens);</code></p>\n\n<pre><code>MyAdapter extendes RecyclerView.Adapter&lt;MyViewHolder&gt;\n\nprivate List&lt;MyItem&gt; elements;\n\nMyAdapter(){\n    this.elements = new ArrayList&lt;&gt;();\n}\n\nvoid updateElements(List&lt;MyItem&gt; itens){\n    Collections.sort(itens, new SortByName());\n    this.elements.clear();\n    this.elements.addAll(itens);\n\n    notifyDataSetChanged();\n}\n</code></pre>\n\n<p>you can do even better if instead of <code>notifyDataSetChanged()</code>, you implement a <code>DiffUtil</code>; </p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 9815432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02f4367d47b33398403af7b9694a5416?s=128&d=identicon&r=PG&f=1", "display_name": "Tohu", "link": "https://stackoverflow.com/users/9815432/tohu"}, "is_accepted": false, "score": 0, "last_activity_date": 1534477715, "creation_date": 1534477715, "answer_id": 51888125, "question_id": 51864770, "link": "https://stackoverflow.com/questions/51864770/recyclerview-not-updating-after-delete-update-of-a-note/51888125#51888125", "title": "RecyclerView not updating after delete/update of a note", "body": "<p>After making changes to the data in the database, the <code>RecyclerViewAdapter</code> needs to be given a new list of data. This should be done in <code>onRestart()</code>, so that once you navigate back to <code>MainActivity</code> from <code>SecondActivity</code>, the <code>RecyclerView</code> is populated with the updated data. Try copying the code that populates the <code>RecyclerView</code> and put it into <code>onRestart()</code>. The reason why it was only updating when <code>onCreate()</code> was called is because that's the only place where you do anything to the view.</p>\n"}], "owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1163, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1593948560, "creation_date": 1534359357, "last_edit_date": 1534362104, "question_id": 51864770, "link": "https://stackoverflow.com/questions/51864770/recyclerview-not-updating-after-delete-update-of-a-note", "title": "RecyclerView not updating after delete/update of a note", "body": "<p><strong>PROBLEM -</strong> After a note is deleted from second activity, on returning back to first activity(this activity displays notes), changed made to note i.e deleted or edited does not shows change UNLESS the app is restarted and onCreate() method is recalled. If I change my device orientation, then the data gets updated.</p>\n\n<p><strong>How my code works -</strong> Basically, my app consists of two activities. First(Main) Activity is where recyclerview resides, this activity handles display of notes by fetching data from SQLite database and displays in form of cardViews. Those cardViews are click able, each cardView when clicked takes to Second(Reference) activity and a corresponding data is loaded into that activity. Now a user has a choice to either make changes to current note or to delete it. If a user clicks on delete button, data of the corresponding note is deleted from SQLite database. On deletion, app automatically goes back to Main activity. <strong>HOWEVER,</strong> the deleted note does not appears to be deleted in the main activity not until the app is restarted and onCreate method is called.</p>\n\n<p>I have gone through multiple almost similar questions on the site but they do not appear to fit my needs. I am a beginner in Android development so if you could please explain it a little would greatly help me. Thank you.</p>\n\n<p><strong>MAIN ACTIVITY</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n//START OF EX-INITIALIZATIONS\n\n\n\nvar dbHandler: PediaDatabase? = null\nvar adapter: PediaAdapter? = null\nvar layoutManager: RecyclerView.LayoutManager? = null\n\nvar list: ArrayList&lt;UserNotes&gt;? = ArrayList()\nvar listItems: ArrayList&lt;UserNotes&gt;? = ArrayList()\n\nval PREFS_NAME: String = \"MYPREFS\"\nvar myPrefs: SharedPreferences? = null\nvar first_run: Boolean = true\n\nval REQUEST_CODE: Int = 1\n\nvar deletedNoteID: Int = 0\nvar deletedNoteAdapterPos: Int = 0\n\n\n\n\n//END OF EX-INITIALIZATIONS\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    showOneTimeMessage()\n    invalidateOptionsMenu()\n\n\n\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\n        window.navigationBarColor = Color.BLACK\n    }\n\n\n\n\n\n//START OF IN-INITIALIZATIONS\n\n    dbHandler = PediaDatabase(this)\n   list = ArrayList&lt;UserNotes&gt;()\n    listItems = ArrayList()\n\n    adapter = PediaAdapter(this, listItems!!)\n    layoutManager = LinearLayoutManager(this)\n\n\n    recyclerViewID.adapter = adapter\n    recyclerViewID.layoutManager = layoutManager\n\n    //END OF IN-INITIALIZATIONS\n\n\n    //DATA POPULATION STARTS HERE\n    list = dbHandler!!.readAllNotes()\n\n\n    for(reader in list!!.iterator())\n    {\n        var note = UserNotes()\n\n        note.noteTitle = reader.noteTitle\n        note.noteText = reader.noteText\n        note.noteID = reader.noteID\n        note.noteDate = reader.noteDate\n\n        listItems!!.add(note)\n    }\n\n    adapter!!.notifyDataSetChanged()\n\n    //DATA POPULATION ENDS HERE\n\n\n\n    if(dbHandler!!.totalNotes() == 0) {\n        recyclerViewID.visibility = View.GONE\n    }\n    else{\n        recyclerViewID.visibility = View.VISIBLE\n        showWhenEmptyID.visibility = View.GONE\n    }\n\n\n}//end onCreate\n\n\noverride fun onRestart() {\n    super.onRestart()\n\n    overridePendingTransition(R.anim.slide_out, R.anim.slide_in)\n\n}\n\n\n\noverride fun onCreateOptionsMenu(menu: Menu?): Boolean {\n\n    menuInflater.inflate(R.menu.top_menu, menu)\n    val item = menu!!.findItem(R.id.delete_note_menu)\n    item.setVisible(false)\n\n\n    return true\n    //return super.onCreateOptionsMenu(menu)\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n\n    if(item!!.itemId == R.id.add_note_menu){\n\n        var isNewNote = Intent(this, ReferenceActivity::class.java)\n        isNewNote.putExtra(\"isNewNote\", true)\n\n\n        startActivityForResult(isNewNote, REQUEST_CODE)\n    }\n\n\n    if(item!!.itemId == R.id.delete_note_menu)\n    {\n\n        Toast.makeText(this,\"DELETED\", Toast.LENGTH_SHORT).show()\n    }\n\n    return super.onOptionsItemSelected(item)\n}\n\n\nprivate fun showOneTimeMessage()\n{\n    var data: SharedPreferences = getSharedPreferences(PREFS_NAME, 0)\n    if(data.contains(\"isShown\"))\n    {\n        first_run = data.getBoolean(\"isShown\", true)\n    }\n\n\n    Log.d(\"FIRST_RUN\", first_run.toString())\n\n    if(first_run) {\n\n\n\n        val oneTimeMsg = SweetAlertDialog(this)\n        oneTimeMsg.setTitleText(\"Hey there!\")\n        oneTimeMsg.setContentText(\"Thank you for downloading! Please don`t forget to rate our app :)\").show()\n\n        oneTimeMsg.setConfirmClickListener(object : SweetAlertDialog.OnSweetClickListener {\n\n            override fun onClick(sweetAlertDialog: SweetAlertDialog?) {\n                oneTimeMsg.dismissWithAnimation()\n            }\n        }).show()\n\n\n        myPrefs = getSharedPreferences(PREFS_NAME, 0)\n        var editor: SharedPreferences.Editor = (myPrefs as SharedPreferences).edit()\n        editor.putBoolean(\"isShown\", false)\n        editor.commit()\n\n\n\n    }\n}\n</code></pre>\n\n<p><strong>REFERENCE ACTVITY</strong></p>\n\n<pre><code>class ReferenceActivity : AppCompatActivity() {\n\nvar dbHandler: PediaDatabase? = null\nvar note = UserNotes()\n\nvar existingNote = UserNotes()\nvar noteExisted: Boolean = false\n\nvar cardID: Int = 0\nvar cardAdapterPos: Int? = null\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_reference)\n\n\n\n    getSupportActionBar()!!.setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\n    getSupportActionBar()!!.setCustomView(R.layout.custom_toolbar);\n    val dateTxtView = findViewById&lt;View&gt;(resources.getIdentifier(\"action_bar_title\", \"id\", packageName)) as TextView\n\n\n\n    overridePendingTransition(R.anim.slide_in, R.anim.slide_out);\n\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n        window.navigationBarColor = Color.RED\n\n\n\n\n\n    dbHandler = PediaDatabase(this)\n    var data = intent\n    var isNewNote = intent\n\n\n    if(isNewNote != null)\n        if(isNewNote.extras.getBoolean(\"isNewNote\") != true)\n        {\n            getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN)\n\n            if(data != null)\n            {\n\n                noteExisted = true\n\n\n                this.cardAdapterPos = data.extras.getInt(\"cardPosition\")\n                cardID = data.extras.getInt(\"cardID\")\n\n\n                existingNote = dbHandler!!.readNote(cardID)\n\n                refTitleID.setText(existingNote.noteTitle, TextView.BufferType.EDITABLE)\n                refTextID.setText(existingNote.noteText, TextView.BufferType.EDITABLE)\n                dateTxtView.text = existingNote.noteDate.toString()\n            }\n        }else{\n            dateTxtView.text = \"New note\"\n        }\n}//end onCreate()\n\noverride fun onStop() {\n    super.onStop()\n\n\n    var title: String = refTitleID.text.toString().trim()\n    var text: String = refTextID.text.toString().trim()\n\n    if(existingNote.noteText == text &amp;&amp; existingNote.noteTitle == title)\n        finish()\n\n    if(noteExisted)\n    {\n        if(TextUtils.isEmpty(title))\n            title = \"No title\"\n\n\n        existingNote.noteTitle = title\n        existingNote.noteText = text\n        //existingNote.noteDate =\n\n\n        dbHandler!!.updateNote(existingNote)\n\n\n        var dataToMain = this.intent\n        dataToMain.putExtra(\"cardID\", cardID)\n        dataToMain.putExtra(\"cardAdapterPos\", cardAdapterPos)\n        setResult(Activity.RESULT_OK, dataToMain)\n\n\n        finish()\n\n    }\n    else\n    {\n        if(TextUtils.isEmpty(title) &amp;&amp; TextUtils.isEmpty(text))\n        {\n            finish()\n        }\n        else\n        {\n            if(TextUtils.isEmpty(title))\n                title = \"No title\"\n\n            note.noteTitle = title\n            note.noteText = text\n\n            dbHandler!!.createNote(note)\n            finish()\n\n        }\n    }\n}\n\n\noverride fun onCreateOptionsMenu(menu: Menu?): Boolean {\n\n    menuInflater.inflate(R.menu.top_menu, menu)\n    val addItem: MenuItem = menu!!.findItem(R.id.add_note_menu)\n    val delItem:MenuItem = menu.findItem(R.id.delete_note_menu)\n\n\n    addItem.setVisible(false)\n    delItem.setVisible(false)\n\n    if(noteExisted)\n        delItem.setVisible(true)\n\n    return true\n    //return super.onCreateOptionsMenu(menu)\n}\n\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n\n    if(item!!.itemId == R.id.delete_note_menu)\n    {\n\n\n        val dialogMsg = SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)\n        dialogMsg.setTitleText(\"Are you sure?\")\n        dialogMsg.setContentText(\"You won`t be able to recover this note!\")\n        dialogMsg.setConfirmText(\"Yes,delete it!\")\n\n        dialogMsg.setConfirmClickListener(object: SweetAlertDialog.OnSweetClickListener {\n\n            override fun onClick(sweetAlertDialog: SweetAlertDialog?) {\n\n                dialogMsg.dismissWithAnimation()\n\n                dbHandler!!.deleteNote(cardID)\n\n                var successMsg = SweetAlertDialog(sweetAlertDialog!!.context, SweetAlertDialog.SUCCESS_TYPE)\n                successMsg.setTitleText(\"Note deleted!\")\n                successMsg.setContentText(\"So long,note\").show()\n                successMsg.setCancelable(false)\n\n                //TODO Disable 'OK' button on successMsg dialogbox\n\n                Handler().postDelayed({\n\n                    successMsg.dismissWithAnimation()\n                    finish()\n                }, 1200)\n\n            }\n        }).show()\n\n\n\n\n\n    }\n\n    return super.onOptionsItemSelected(item)\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["autocomplete", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1534358341, "post_id": 51864207, "comment_id": 90681218, "body": "Wow, never though I could exclude completion items like this. There&#39;s a lot of those I&#39;d gladly filter out. :)"}, {"owner": {"reputation": 142, "user_id": 1745433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/efdcaf925666daee6a98390572868278?s=128&d=identicon&r=PG", "display_name": "lukaville", "link": "https://stackoverflow.com/users/1745433/lukaville"}, "edited": false, "score": 0, "creation_date": 1534362897, "post_id": 51864207, "comment_id": 90683237, "body": "is it possible to share the list of excluded functions with other teammates (store under VCS)?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1534363891, "post_id": 51864207, "comment_id": 90683655, "body": "It is! If you make the exclusions project scoped, they are placed in the <code>codeInsightSettings.xml</code> file under the <code>.idea</code> folder."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1534356816, "creation_date": 1534356816, "answer_id": 51864207, "question_id": 51863754, "link": "https://stackoverflow.com/questions/51863754/is-there-any-way-to-disable-autocomplete-for-certain-extension-functions/51864207#51864207", "title": "Is there any way to disable autocomplete for certain extension functions?", "body": "<p>First, the simplest solutions, you can scope your extensions in the following ways:</p>\n\n<ul>\n<li>Member extensions (declared inside a class) are only visible inside their class.</li>\n<li>Top level, private extensions are only visible within the given file.</li>\n<li>Top level, internal extensions are only visible in the given module.</li>\n</ul>\n\n<hr>\n\n<p>You can also use IntelliJ tooling for this if the above doesn't fit your needs. For any given extension, you can start typing its name and choose it in autocomplete, and then invoke intention actions on it (<kbd>Alt + Enter</kbd> on Windows, <kbd>\u2325\u21a9</kbd> on macOS, or by clicking the lightbulb) to get the following menu:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2v1du.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2v1du.png\" alt=\"Intention actions on an autocomplete suggestion\"></a></p>\n\n<p>This will take you to a popup window with auto import settings (this is also available in the regular Settings menu under <code>Editor -&gt; General -&gt; Auto import</code>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/tznKN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tznKN.png\" alt=\"Auto import settings\"></a></p>\n\n<p>What you need here are the Java specific settings, and as you can see among other options you can exclude classes, packages, or just single functions, either scoped to the current project or the entire IDE.</p>\n"}], "owner": {"reputation": 142, "user_id": 1745433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/efdcaf925666daee6a98390572868278?s=128&d=identicon&r=PG", "display_name": "lukaville", "link": "https://stackoverflow.com/users/1745433/lukaville"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534362181, "creation_date": 1534354864, "last_edit_date": 1534362181, "question_id": 51863754, "link": "https://stackoverflow.com/questions/51863754/is-there-any-way-to-disable-autocomplete-for-certain-extension-functions", "title": "Is there any way to disable autocomplete for certain extension functions?", "body": "<p>For example, we have extension functions with too broad receivers (String). Is there any way to hide such extensions from autocomplete (annotation), so it will be required to manually import these extensions?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 0, "creation_date": 1534358020, "post_id": 51863947, "comment_id": 90681059, "body": "interesting side note. I just read the same thing in another SO post. I guess I could use an <code>abstract</code>, but it isn&#39;t providing the same benefits I was hoping for. Is there a reasoning in why it&#39;s designed like this or just a Kotlin limitation?"}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "reply_to_user": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "edited": false, "score": 1, "creation_date": 1534358466, "post_id": 51863947, "comment_id": 90681278, "body": "yeah for abstract , it&#39;s just a <code>Is-a</code> relationship and for data class inheritance , one reason is copy method overriding is not possible other is equals is not possible, see example <code>data class Vehicle(val model:String);  data class FutureCar(val engine:FancyEngine,val body:BodyBuilderFactory,val model:String):Vehcile(model);</code> so in this case it&#39;s hard to implement equals by default respected to other child of <code>Vehicle</code> class though overriding is allowed but the spec designer thought it might break the purpose of having data class and add more implications"}], "tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1534357229, "last_edit_date": 1534357229, "creation_date": 1534355626, "answer_id": 51863947, "question_id": 51863737, "link": "https://stackoverflow.com/questions/51863737/subclassing-room-entities/51863947#51863947", "title": "Subclassing Room Entities", "body": "<p>In <code>kotlin</code>, all classes are final by default.</p>\n\n<p>From <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<blockquote>\n  <p>The open annotation on a class is the opposite of Java's final: it\n  allows others to inherit from this class. <code>By default, all classes in</code>\n  <code>Kotlin are final</code>, which corresponds to Effective Java, 3rd Edition,\n  Item 19: Design and document for inheritance or else prohibit it.</p>\n</blockquote>\n\n<p>so you need to add <code>open</code> keyword  so use</p>\n\n<pre><code>open class Vehicle(..){...}\n</code></pre>\n\n<p>then </p>\n\n<pre><code>data class Car(...): Vehicle(..){}\n</code></pre>\n\n<p>Side Note: if you trying to inherit <code>data</code> classes then simply you cannot inherit <code>data</code> class in Kotlin because method like <code>copy</code> in data class are final which cannot be overridden by the child class (which in this case is <code>data</code> class so it will do it automatically) and it's hard to implement other methods like <code>equals</code> when class hierarchy grows exponentially with different data members though you can avoid all this collision by making non-data parent class or <code>abstract</code> class</p>\n"}], "owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1448, "favorite_count": 0, "accepted_answer_id": 51863947, "answer_count": 1, "score": 3, "last_activity_date": 1534357229, "creation_date": 1534354747, "question_id": 51863737, "link": "https://stackoverflow.com/questions/51863737/subclassing-room-entities", "title": "Subclassing Room Entities", "body": "<p>Is there a way to subclass entities in Room?</p>\n\n<p>I have an car <code>entity</code></p>\n\n<pre><code>@Entity(tableName = \"cars\")\ndata class Car(\n        @PrimaryKey @ColumnInfo(name = \"vin\") val vin: String,\n        val manufacturer: String,\n        val model: String,\n        val color: String,\n        val modelYear: Int,\n        val trim: String = \"\"\n) {\n\n    override fun toString() = String.format(\"%s %s %s %s\", modelYear, manufacturer, model, trim)\n}\n</code></pre>\n\n<p>But I want to move the <code>manufacturer</code>, <code>model</code>, and <code>modelYear</code> to a <code>Vehicle</code> entity and have the <code>Car</code> inherit from it.</p>\n\n<p>I tried creating a <code>Vehicle</code> entity with those fields and use <code>data class Car : Vehicle</code>, but does not compile. The error is <code>This type is final and cannot be inherited</code></p>\n"}, {"tags": ["android-fragments", "kotlin", "mapbox"], "answers": [{"comments": [{"owner": {"reputation": 62, "user_id": 10230313, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DBkN5WijgG0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rldRz97etd0y_Xa3rlXjJkOoQaow/mo/photo.jpg?sz=128", "display_name": "mylan atlani", "link": "https://stackoverflow.com/users/10230313/mylan-atlani"}, "edited": false, "score": 1, "creation_date": 1534431516, "post_id": 51862962, "comment_id": 90711544, "body": "thanks for your response, that was a part of the problem and i resolve the other part myself.  thanks a lot !"}], "tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 0, "last_activity_date": 1534351580, "creation_date": 1534351580, "answer_id": 51862962, "question_id": 51862854, "link": "https://stackoverflow.com/questions/51862854/lateinit-value-is-always-null-or-not-initialized-with-mapbox/51862962#51862962", "title": "lateinit value is always null or not initialized with MapBox", "body": "<p>So here:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_item_four, container, false)\n}\n</code></pre>\n\n<p>You're returning a view that will be attached to the Fragment and actually displayed.</p>\n\n<p>Here:</p>\n\n<pre><code>fun onCreate(savedInstanceState: Bundle?, context: Context, inflater: LayoutInflater, container: ViewGroup?) {\n    super.onCreate(savedInstanceState)\n    // Mapbox Access token\n    Mapbox.getInstance(context, getString(R.string.token_mapbox))\n    val view = inflater.inflate(R.layout.activity_main, container ,false)\n\n    mapView = view.findViewById(R.id.mapview)\n    mapView.onCreate(savedInstanceState)\n    mapView.getMapAsync({\n        it.setStyle(Style.SATELLITE)\n        // Customize map with markers, polylines, etc.\n    })\n}\n</code></pre>\n\n<p>You're inflating a new view that is never being attached to anything. It's also inflating a separate layout, <code>activity_main.xml</code>, which I assume does not include a <code>MapView</code>.</p>\n\n<p>Instead, you should resolve your <code>MapView</code> within <code>onViewCreated()</code>, after you've returned your inflated view in <code>onCreateView()</code>:</p>\n\n<pre><code>override fun onViewCreated(View view, Bundle savedState) {\n    mapView = view.findViewById(R.id.mapview).apply {\n        onCreate(savedState)\n        getMapAsync { map -&gt; \n            map.setStyle(Style.SATELLITE)\n        }\n    }\n}\n</code></pre>\n\n<p>You also should not use <code>lateinit var</code> for this property, as you're not guaranteed to have a view created (e.g. <code>onCreateView()</code> may never be invoked). One instance of this is if your <code>Fragment</code> is on the backstack and not user visible. On a configuration change or recreation of the <code>Activity</code>, the <code>Fragment</code> on the backstack will go through <code>onCreate()</code>, but will not create a view. In this case, you would run into a crash in <code>onStart()</code> attempting to reference <code>mapView</code> that has not been initialized.</p>\n\n<p>Instead, leave it nullable, and perform the operations with <code>mapView?.doThing()</code>.</p>\n"}], "owner": {"reputation": 62, "user_id": 10230313, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DBkN5WijgG0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rldRz97etd0y_Xa3rlXjJkOoQaow/mo/photo.jpg?sz=128", "display_name": "mylan atlani", "link": "https://stackoverflow.com/users/10230313/mylan-atlani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 51862962, "answer_count": 1, "score": 0, "last_activity_date": 1534351580, "creation_date": 1534351124, "question_id": 51862854, "link": "https://stackoverflow.com/questions/51862854/lateinit-value-is-always-null-or-not-initialized-with-mapbox", "title": "lateinit value is always null or not initialized with MapBox", "body": "<p>Hello i have an issue with MapBox SDK for android , i use kotlin language in my project and the Viewmap value always came with problem. I'm new in kotlin so maybe i skip something.</p>\n\n<p>i make bottom_navigation_bar so i use fragment to navigate in my application.</p>\n\n<p>my fragment class were i use my variable</p>\n\n<pre><code>package com.example.parky.parky_android\nimport android.app.Application\nimport android.content.Context\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.support.v7.app.AppCompatActivity\nimport android.view.ContextThemeWrapper\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.RelativeLayout\nimport com.mapbox.mapboxsdk.constants.Style\nimport com.mapbox.mapboxsdk.Mapbox;\nimport com.mapbox.mapboxsdk.annotations.MarkerOptions;\nimport com.mapbox.mapboxsdk.geometry.LatLng;\nimport com.mapbox.mapboxsdk.maps.MapView;\nimport com.mapbox.mapboxsdk.maps.MapboxMap;\nimport com.mapbox.mapboxsdk.maps.OnMapReadyCallback;\n\nclass ItemFourFragment : Fragment() {\n\nprivate lateinit var mapView: MapView\n\nfun onCreate(savedInstanceState: Bundle?, context: Context, inflater: LayoutInflater, container: ViewGroup?) {\n    super.onCreate(savedInstanceState)\n    // Mapbox Access token\n    Mapbox.getInstance(context, getString(R.string.token_mapbox))\n    val view = inflater.inflate(R.layout.activity_main, container ,false)\n\n    mapView = view.findViewById(R.id.mapview)\n    mapView.onCreate(savedInstanceState)\n    mapView.getMapAsync({\n        it.setStyle(Style.SATELLITE)\n        // Customize map with markers, polylines, etc.\n    })\n}\n\noverride fun onStart() {\n    super.onStart()\n    mapView.onStart()\n}\n\noverride fun onResume() {\n    super.onResume()\n    mapView.onResume()\n\n}\noverride fun onPause() {\n    super.onPause()\n    mapView.onPause()\n}\noverride fun onStop() {\n    super.onStop()\n    mapView.onStop()\n\n}\noverride fun onSaveInstanceState(outState: Bundle) {\n    super.onSaveInstanceState(outState)\n    mapView.onSaveInstanceState(outState)\n\n}\noverride fun onLowMemory() {\n    super.onLowMemory()\n    mapView.onLowMemory()\n\n}\noverride fun onDestroy() {\n    super.onDestroy()\n    mapView.onDestroy()\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_item_four, container, false)\n}\n\ncompanion object {\n    fun newInstance(): ItemFourFragment {\n        val fragment = ItemFourFragment()\n        return fragment\n    }\n}\n}\n</code></pre>\n\n<p>And my xml files where i display it :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:mapbox=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".ItemFiveFragment\"&gt;\n\n&lt;com.mapbox.mapboxsdk.maps.MapView\n    android:id=\"@+id/mapview\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    mapbox:mapbox_cameraTargetLat=\"41.885\"\n    mapbox:mapbox_cameraTargetLng=\"-87.679\"\n    mapbox:mapbox_styleUrl=\"@string/mapbox_style_satellite\"\n    mapbox:mapbox_cameraTilt=\"20\"\n    mapbox:mapbox_cameraZoom=\"12\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>and finally the log</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n              Process: com.example.parky.parky_android, PID: 30820\n              kotlin.UninitializedPropertyAccessException: lateinit property mapView has not been initialized\n                  at com.example.parky.parky_android.ItemFourFragment.onStart(ItemFourFragment.kt:42)\n                  at android.support.v4.app.Fragment.performStart(Fragment.java:2372)\n                  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1467)\n                  at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1759)\n                  at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1827)\n                  at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:797)\n                  at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2596)\n                  at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2383)\n                  at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2338)\n                  at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2245)\n                  at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:703)\n                  at android.os.Handler.handleCallback(Handler.java:789)\n                  at android.os.Handler.dispatchMessage(Handler.java:98)\n                  at android.os.Looper.loop(Looper.java:164)\n                  at android.app.ActivityThread.main(ActivityThread.java:6938)\n                  at java.lang.reflect.Method.invoke(Native Method)\n                  at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n                  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n</code></pre>\n\n<p>Do you have any idea what the problem is ?</p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["kotlin", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534440905, "post_id": 51866311, "comment_id": 90716666, "body": "&quot;is to encapsulate this in a class&quot; - agreed, I think I have to do that."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1534366587, "creation_date": 1534366587, "answer_id": 51866311, "question_id": 51862715, "link": "https://stackoverflow.com/questions/51862715/how-would-i-wrap-this-not-quite-by-lazy-result-caching-function-call-in-idio/51866311#51866311", "title": "How would I &quot;wrap&quot; this not-quite-&quot;by lazy&quot; result caching function call in idiomatic Kotlin?", "body": "<p>I'll write this as an answer, since it's not possible to post much code in comments.</p>\n\n<p>What you're looking for is something like this:</p>\n\n<pre><code>private suspend fun cameraDevice() = theMagicFunction {\n    CameraDevice()\n}()\n\nsuspend fun theMagicFunction(block: ()-&gt;CameraDevice): () -&gt; CameraDevice {\n    var cameraDeviceCached: CameraDevice? = null\n\n    return fun(): CameraDevice {\n        cameraDeviceCached?.also { return it }\n        return suspendCoroutine { cont: Continuation&lt;CameraDevice&gt; -&gt;\n            cont.resume(block())\n        }.also {\n            cameraDeviceCached = it\n        }\n    }\n}\n</code></pre>\n\n<p>Unfortunately, this will not compile, since closures cannot be suspendable, and neither are local functions.</p>\n\n<p>Best I can suggest, unless I miss a solution there, is to encapsulate this in a class, if this variable bothers you too much.</p>\n"}, {"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534441282, "post_id": 51877612, "comment_id": 90716825, "body": "It starts a thread which resumes the continuation. It&#39;s just for the sake of self-contained mock code, not something you should emulate in real code."}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1534455112, "post_id": 51877612, "comment_id": 90722718, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178164/discussion-between-benjamin-h-and-marko-topolnik\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 3, "last_activity_date": 1539592921, "last_edit_date": 1539592921, "creation_date": 1534424149, "answer_id": 51877612, "question_id": 51862715, "link": "https://stackoverflow.com/questions/51862715/how-would-i-wrap-this-not-quite-by-lazy-result-caching-function-call-in-idio/51877612#51877612", "title": "How would I &quot;wrap&quot; this not-quite-&quot;by lazy&quot; result caching function call in idiomatic Kotlin?", "body": "<p>You can build a generalized solution by wrapping an <code>async</code> call as follows:</p>\n\n<pre><code>import kotlinx.coroutines.*\nimport kotlinx.coroutines.CoroutineStart.LAZY\n\nclass LazySuspendFun&lt;out T&gt;(\n        scope: CoroutineScope,\n        private val block: suspend () -&gt; T\n) {\n    private val deferred = scope.async(Dispatchers.Unconfined, LAZY) { block() }\n\n    suspend operator fun invoke() = deferred.await()\n}\n\nfun &lt;T&gt; CoroutineScope.lazySuspendFun(block: suspend () -&gt; T) = \n        LazySuspendFun(this, block)\n</code></pre>\n\n<p>This is a simple example of how you can use it. Note that we are able to compose them so that we use a lazy-inited value as a dependency to getting another one:</p>\n\n<pre><code>val fetchToken = lazySuspendFun&lt;String&gt; {\n    suspendCoroutine { continuation -&gt;\n        Thread {\n            info { \"Fetching token\" }\n            sleep(3000)\n            info { \"Got token\" }\n            continuation.resume(\"hodda_\")\n        }.start()\n    }\n}\n\nval fetchPosts = lazySuspendFun&lt;List&lt;String&gt;&gt; {\n    val token = fetchToken()\n    suspendCoroutine { continuation -&gt;\n        Thread {\n            info { \"Fetching posts\" }\n            sleep(3000)\n            info { \"Got posts\" }\n            continuation.resume(listOf(\"${token}post1\", \"${token}post2\"))\n        }\n    }\n}\n</code></pre>\n\n<p>On the calling side you must be inside some coroutine context so you can call the suspending functions:</p>\n\n<pre><code>myScope.launch {\n   val posts = fetchPosts()\n   ...\n}\n</code></pre>\n\n<p>This solution is robust enough that you can concurrently request the value several times and the initializer will run only once.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 51877612, "answer_count": 2, "score": 1, "last_activity_date": 1552980840, "creation_date": 1534350640, "last_edit_date": 1552980840, "question_id": 51862715, "link": "https://stackoverflow.com/questions/51862715/how-would-i-wrap-this-not-quite-by-lazy-result-caching-function-call-in-idio", "title": "How would I &quot;wrap&quot; this not-quite-&quot;by lazy&quot; result caching function call in idiomatic Kotlin?", "body": "<p>I can't use \"by <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/util/Lazy.kt\" rel=\"nofollow noreferrer\">lazy</a>\" because the callbacks require <code>suspendCoroutine</code>, which borks in android if it blocks the main thread, so I have to use the following \"cache the result\" pattern over and over.   Is there a way to wrap it in a <code>funButUseCachedResultsIfTheyAlreadyExist</code> pattern to encapsulate the xCached object?  </p>\n\n<pre><code>private var cameraDeviceCached: CameraDevice? = null\n\nprivate suspend fun cameraDevice(): CameraDevice {\n    cameraDeviceCached?.also { return it }\n    return suspendCoroutine { cont: Continuation&lt;CameraDevice&gt; -&gt;\n        ... deep callbacks with cont.resume(camera) ...\n    }.also {\n        cameraDeviceCached = it\n    }\n}\n</code></pre>\n\n<p>When what I'd really like to write is </p>\n\n<pre><code>private suspend fun cameraDevice(): CameraDevice = theMagicFunction { cont -&gt;\n    ... deep callbacks with cont.resume(camera) ...\n}\n</code></pre>\n"}, {"tags": ["listview", "javafx", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534377654, "post_id": 51865060, "comment_id": 90687699, "body": "even though it seems to be correct in general, my view is completely different as using cellFactory seems to be inappropriate. May be that&#39;s because of your <code>dataclass</code>, my <code>serverHistoryList</code> is: <code>val serverHistoryList: ObservableList&lt;ServerEvent&gt; = FXCollections.observableArrayList()</code> where <code>ServerEvent</code> is one of possible kinds of update (at current version updates are working correctly)."}, {"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534378394, "post_id": 51865060, "comment_id": 90687829, "body": "also it complains on <code>Callback</code> and <code>ListCell</code>"}, {"owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "reply_to_user": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 1, "creation_date": 1534380500, "post_id": 51865060, "comment_id": 90688290, "body": "If you prefer FXCollections, this will work too  <code>val records = FXCollections.observableArrayList&lt;ScrollableItemWrapper&gt;()</code>.  Make sure that the wrapper class is the type.  The wrapper class is the means by which the data tells the cellFactory which item should trigger the retrieval call.  That might be the source of your compilation problems with the generic in Callback and ListCell."}, {"owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "reply_to_user": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 1, "creation_date": 1534380839, "post_id": 51865060, "comment_id": 90688356, "body": "cellFactory usually is limited to an updateItem() and in TornadoFX this can be further streamlined to cellFormat.  A few years ago, I had expected ListView.onScrollFinished() to activate a callback when the user stopped scrolling.  However, even in the current version of Java, this doesn&#39;t seem to do anything on the desktop with a mouse scroll.  The hack IMO is more on the layoutY&gt;0 than the factory."}, {"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534384526, "post_id": 51865060, "comment_id": 90689048, "body": "I haven\u2019t tried to implement it with updates from comments yet, but if I would scroll through thousands of rows - how would be data stored in memory? For example when in Telegram app you searching messages by text and finding one in the very middle of history, gap between &lt;last&gt; and &lt;needed&gt; ranges seems to be empty but still easily managed by view. I wish I could achieve the same result"}, {"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534385143, "post_id": 51865060, "comment_id": 90689147, "body": "And also, may be you know how to store data about last viewed object because whenever you switch between views its better to continue seeing from last saved index. I\u2019m already caching array in memory but as I\u2019m unable to get exact position it seems to be impossible to restore the state."}, {"owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "reply_to_user": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534386462, "post_id": 51865060, "comment_id": 90689367, "body": "For RAM usage, the ObservableList is accruing more and more objects but the JavaFX ListCell Nodes are recycled.  Lets say each message is 200 bytes, if you have 10Mb to spare, you could scroll around 50,000 messages."}, {"owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "reply_to_user": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534386710, "post_id": 51865060, "comment_id": 90689411, "body": "Right now, I&#39;m marking the lastItem when I retrieve a batch from my service call.  This could be expanded to include more information returned by the service.  For instance, you could change my lastItem flag to &quot;needed&quot; and then if the service returns 0 records, you could use the &quot;last&quot; item.  We&#39;re discussing a general solution on the TornadoFX Slack (kotlinlang.slack.com) that will probably build off of the wrapper class to include a paging abstraction."}, {"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 1, "creation_date": 1534430075, "post_id": 51865060, "comment_id": 90710589, "body": "<code>listView.height - this.height - nv.toDouble()) &gt; 0.0</code> - is weak point in code, which makes it asking for next batch whenever <code>scrollable.lastitem</code> is <code>true</code> (is visible). If, for example, you have 50 rows on screen and one of them counts as <code>lastitem</code> it would ask for <code>50+frames</code>x new batches. Already rewriting it, will post a result"}, {"owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534433448, "post_id": 51865060, "comment_id": 90712683, "body": "Updated my post with own version of yours, works fine for me with no bugs.  Last question, how can I revert view (to start from the bottom)?"}, {"owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "reply_to_user": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "edited": false, "score": 0, "creation_date": 1534505461, "post_id": 51865060, "comment_id": 90739472, "body": "I&#39;m not sure the exact requirement, but if you&#39;re returning to new instance of the ListView and need to repeat the retrieval, you could save off the last position along with a second variable of the number of retrievals.  Then, the program would be modified to &quot;prime&quot; the ListView with not just a single fetch, but with several fetches based on # of retrievals.  You&#39;ll have enough items to make the scrollTo() valid.  Be sure to check out the TornadoFX channel: kotlinlang.slack.com."}], "tags": [], "owner": {"reputation": 238, "user_id": 8151834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6999072a68061e07119cecfb0c4f0a96?s=128&d=identicon&r=PG", "display_name": "Wall0p", "link": "https://stackoverflow.com/users/8151834/wall0p"}, "is_accepted": true, "score": 1, "last_activity_date": 1534387271, "last_edit_date": 1534387271, "creation_date": 1534360729, "answer_id": 51865060, "question_id": 51862577, "link": "https://stackoverflow.com/questions/51862577/endless-scroll-on-listview-with-kotlin-and-tornadofx/51865060#51865060", "title": "endless scroll on listview with kotlin and tornadofx", "body": "<p>Try this code which I've used in a plain JavaFX app.  It relies on a side effect that has worked through multiple versions of JavaFX.  A wrapper class is used to pair the data with a flag indicating whether or not an item is the last in a batch.  In the cell factory, a listener is registered and activated when the layoutY property is given space.  If layoutY increases from 0 -- implying that the cell is shown -- and the last item flag is set, more data is fetched.</p>\n\n<p>That data is added but the scroll position is saved so that the ListView doesn't jump through the whole fetched set.</p>\n\n<pre><code>data class ScrollableItemWrapper(val data : String, val lastItem : Boolean = false) {\n\n  val id = nextId() // always increasing\n\n  companion object {\n    private var idgen = 1 // faux static class member\n    fun nextId() = idgen++\n  }\n}\nclass EndlessScrollView : View(\"Endless Scroll\") {\n\n    var currentBatch = 1\n\n    val TOTAL_NUM_BATCHES = 10\n\n    val records = mutableListOf&lt;ScrollableItemWrapper&gt;().observable()\n\n    override val root = listview(records) {\n        cellFactory = Callback {\n\n            object : ListCell&lt;ScrollableItemWrapper&gt;() {\n\n                private val listener = ChangeListener&lt;Number&gt; { obs, ov, nv -&gt;\n                    if ( userData != null ) {\n                        val scrollable = userData as ScrollableItemWrapper\n                        if( scrollable.lastItem &amp;&amp;\n                            ((listView.height - this.height - nv.toDouble()) &gt; 0.0)) {\n\n                            val currentPos = index\n                            runAsync {\n                                getNextBatch()\n                            } ui {\n                                listView.scrollTo(currentPos)\n                                records.addAll( it )\n                            }\n                        }\n                    }\n                }\n\n                init {\n                    layoutYProperty().addListener(listener);\n                }\n\n                override fun updateItem(item: ScrollableItemWrapper?, empty: Boolean) {\n                    super.updateItem(item, empty)\n                    if( item != null &amp;&amp; !empty ) {\n                        text = \"[${item.id}]\" + item.data!!\n                        userData = item\n                    } else {\n                        text = null\n                        userData = null\n                    }\n                }\n\n                protected fun finalize() {\n                    layoutYProperty().removeListener(listener)\n                }\n            }\n        }\n    }\n\n    init {\n        records.addAll( getNextBatch() )\n    }\n\n    private fun getNextBatch() : List&lt;ScrollableItemWrapper&gt; {\n        if( currentBatch &lt;= TOTAL_NUM_BATCHES  ) {\n            return 'A'.rangeTo('Z').map {\n                ScrollableItemWrapper(\"Batch ${currentBatch} Record ${it}\", it == 'Z')\n            }.apply {\n                currentBatch++\n            }.toList()\n        } else {\n            return emptyList()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 9048369, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UuS7Y0mzMxE/AAAAAAAAAAI/AAAAAAAAKH8/nvJBODHkWps/photo.jpg?sz=128", "display_name": "Chickenfresh", "link": "https://stackoverflow.com/users/9048369/chickenfresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 51865060, "answer_count": 1, "score": 2, "last_activity_date": 1534435522, "creation_date": 1534350090, "last_edit_date": 1534435522, "question_id": 51862577, "link": "https://stackoverflow.com/questions/51862577/endless-scroll-on-listview-with-kotlin-and-tornadofx", "title": "endless scroll on listview with kotlin and tornadofx", "body": "<p>I wanna implement endless scroll for listview. </p>\n\n<p>The app receives data from server portionally and currently it shows only last 50 rows. \nI'm using <code>tornadofx</code>, here's the code:</p>\n\n<p><code>MainController.kt</code>:</p>\n\n<pre><code>private fun setAllServerHistoryList() {\n        if (curSelectedLogId != -1) {\n            serverHistoryList.clear()\n            runAsync {\n                serverAPI.getServerHistory(curSelectedLogId)\n            } ui {\n                serverHistoryList.setAll(it)\n            }\n        }\n    }\n</code></pre>\n\n<p><code>MainView.kt</code>:</p>\n\n<pre><code>private val historyListView = listview(controller.serverHistoryList) {\n        selectionModel = NoSelectionModel()\n        cellFormat{...}\n}\n</code></pre>\n\n<p><code>getServerHistory</code> makes <code>GET</code> request to server and returns parsed data, I can easily ask other rows using <code>offset</code> and <code>count</code> parameters. </p>\n\n<p>But I haven't realized yet how can I add listener to detect <code>amount of rows left</code> to both sides of list (in case if I'm opening view not from the bottom but in range of 10000:10200), and how to add data to existing list with avoiding memory errors. </p>\n\n<p>I've already read lots of answers about same question but most of them (if not all) about android and java apps. </p>\n\n<p>Thanks in advance for all the responds.</p>\n\n<p>UPD with rewritten solution from answers (cheers to <a href=\"https://stackoverflow.com/users/8151834/tornadofx-fan\">@TornadoFX</a>):</p>\n\n<pre><code>import javafx.collections.FXCollections\nimport javafx.scene.control.ListCell\nimport javafx.util.Callback\nimport tornadofx.*\n\n\ndata class ScrollableItemWrapper(val data : String, val lastItem : Boolean = false) {\n\n    val id = nextId() // always increasing\n\n    companion object {\n        private var idgen = 1 // faux static class member\n        fun nextId() = idgen++\n    }\n}\n\n\nclass EndlessScrollView : View(\"Endless Scroll\") {\n\n    var currentBatch = 1\n\n    var last_batch = 0\n\n    val TOTAL_NUM_BATCHES = 10\n\n    private val records = FXCollections.observableArrayList&lt;ScrollableItemWrapper&gt;()\n\n    override val root = listview(records) {\n        selectionModel = NoSelectionModel()\n\n        cellFactory = Callback { listView -&gt;\n\n            object : ListCell&lt;ScrollableItemWrapper&gt;() {\n\n                private val listener = ChangeListener&lt;Number&gt; { obs, ov, nv -&gt;\n                    if ( userData != null ) {\n                        val scrollable = userData as ScrollableItemWrapper\n                        val pos = listView.height - this.height - nv.toDouble()\n                        if ( scrollable.lastItem &amp;&amp; pos &gt; 0 &amp;&amp; (pos &lt; this.height) &amp;&amp; index &lt; last_batch*50) {\n                            val currentPos = index\n                            runAsync {\n                                getNextBatch()\n                            } ui {\n                                listView.scrollTo(currentPos)\n                                records.addAll( it )\n                            }\n                        }\n                    }\n                }\n\n                init {\n                    layoutYProperty().addListener(listener)\n                }\n\n                override fun updateItem(item: ScrollableItemWrapper?, empty: Boolean) {\n                    super.updateItem(item, empty)\n                    if( item != null &amp;&amp; !empty ) {\n                        text = \"[${item.id}]\" + item.data\n                        userData = item\n                    } else {\n                        text = null\n                        userData = null\n                    }\n                }\n\n            }\n        }\n    }\n\n    init {\n        records.addAll( getNextBatch() )\n    }\n\n    private fun getNextBatch() : List&lt;ScrollableItemWrapper&gt; {\n        if( currentBatch &lt; TOTAL_NUM_BATCHES  ) {\n            last_batch++\n            return 1.rangeTo(50).map {\n                ScrollableItemWrapper(\"Batch ${currentBatch} Record ${it}\", it == 50)\n            }.apply {\n                currentBatch++\n            }.toList()\n        } else {\n            return emptyList()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534349478, "post_id": 51862286, "comment_id": 90677089, "body": "Well why <i>does</i> fetching data trigger writes?"}, {"owner": {"reputation": 1, "user_id": 10230095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k39pjH0L0Dg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rTzqwU4XloC12Lt5ZNxvUTyrCAow/mo/photo.jpg?sz=128", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/10230095/andronicus"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534349603, "post_id": 51862286, "comment_id": 90677153, "body": "It is writing the data (i.e updating that item) that triggers the fetching of data again."}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1534350056, "post_id": 51862286, "comment_id": 90677384, "body": "If it is supposed to be one item, use <code>take(1)</code> just after <code>getOne()</code>."}, {"owner": {"reputation": 1, "user_id": 10230095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k39pjH0L0Dg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rTzqwU4XloC12Lt5ZNxvUTyrCAow/mo/photo.jpg?sz=128", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/10230095/andronicus"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1534350466, "post_id": 51862286, "comment_id": 90677593, "body": "@akarnokd i will add that, but i will still face that problem because after getting that item then updating it, the getOne observable is triggered again then i get that same item update it, getOne observable is triggered. I hope you now see my issue"}, {"owner": {"reputation": 823, "user_id": 2825911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vYDuh.jpg?s=128&g=1", "display_name": "yaroslav", "link": "https://stackoverflow.com/users/2825911/yaroslav"}, "edited": false, "score": 0, "creation_date": 1534353189, "post_id": 51862286, "comment_id": 90678856, "body": "If you want to update the entry why not do in directly? So orderRepo.updateOne(id). If you try to update entry after fetch or any other operation try to aply your changes to the object before writing it to db (but do not mutate it in rx stream)."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534355643, "post_id": 51862286, "comment_id": 90679948, "body": "I&#39;m quite sure the logic you intend to achieve with your unspecified Rx chain is incorrect, and that&#39;s why you are running into this problem"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534357239, "post_id": 51862286, "comment_id": 90680719, "body": "How do you know you&#39;ll still face that problem? @EpicPandaForce the OP is a typical case of an infinite datasource many Android databases do by default. Updating a record by any means will trigger an ongoing query, so you have to either stop the flow before that, filter out already seen items or try using Single to ensure a single value response (if the db API supports it)."}, {"owner": {"reputation": 1, "user_id": 10230095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k39pjH0L0Dg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rTzqwU4XloC12Lt5ZNxvUTyrCAow/mo/photo.jpg?sz=128", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/10230095/andronicus"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534358834, "post_id": 51862286, "comment_id": 90681470, "body": "@EpicPandaForce I have editted the code in my question, have a look then kindly tell me where the logic is wrong there?"}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1534359492, "creation_date": 1534359492, "answer_id": 51864805, "question_id": 51862286, "link": "https://stackoverflow.com/questions/51862286/rxjava-creates-a-loop-when-retrieving-then-updating-an-item-from-database/51864805#51864805", "title": "Rxjava creates a loop when retrieving then updating an item from database", "body": "<p>If <code>getOrder(orderId)</code> returns a <code>Flowable&lt;Order&gt;</code>, that will receive Order again and again on each update, then this should be executed within the context of a separate <code>Single</code> that can be used to update the item for the given <code>orderId</code>.</p>\n\n<pre><code>public static final Object UNIT = new Object(); // avoid emitting `null`\n\npublic void updateOrder(final long orderId, final long amountDue) {\n    Single.fromCallable(() -&gt; UNIT)\n            .subscribeOn(Schedulers.io())\n            .flatMap((ignored) -&gt; getOrder(orderId).firstOrError()) // &lt;-- convert Flowable to Single\n            .doOnSuccess(order -&gt; {\n                order.setAmountDue(amountDue);\n                mOrderRepository.updateOrder(order);\n            }).subscribe();\n}\n</code></pre>\n\n<p>Or something similar.</p>\n"}, {"tags": [], "owner": {"reputation": 884, "user_id": 6254066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/02jVp.jpg?s=128&g=1", "display_name": "AgileNinja", "link": "https://stackoverflow.com/users/6254066/agileninja"}, "is_accepted": false, "score": 0, "last_activity_date": 1534427416, "last_edit_date": 1534427416, "creation_date": 1534364628, "answer_id": 51865895, "question_id": 51862286, "link": "https://stackoverflow.com/questions/51862286/rxjava-creates-a-loop-when-retrieving-then-updating-an-item-from-database/51865895#51865895", "title": "Rxjava creates a loop when retrieving then updating an item from database", "body": "<p>If you get an <code>Order</code> object every time it is updated in the database, and every time you get that <code>Order</code> object you update it in the database, it will loop indefinitely. The missing logic should answer the following question: When should the object NOT be updated?</p>\n\n<p>One solution, as @akarnokd suggested, is to limit the retrieval to the first emitted item by specifying take(1):</p>\n\n<pre><code>mOrderRepository.getOrder(orderId)\n .take(1)\n .subscribeOn(mSchedulerProvider.io())\n .observeOn(mSchedulerProvider.ui())\n .subscribe((Order order) -&gt; {\n    order.setAmountDue(amountDue);\n    mOrderRepository.updateOrder(order);\n});\n</code></pre>\n\n<p>However, this may not be the logic you desire in the scenario where the order could legitimately be updated several times from another source. In this case, it may make sense to compare whether the received order's <code>amountDue</code> (or whatever other properties are relevant) is different than the updated amount. If so, update the order.</p>\n\n<pre><code>mOrderRepository.getOrder(orderId)\n .subscribeOn(mSchedulerProvider.io())\n .observeOn(mSchedulerProvider.ui())\n .subscribe((Order order) -&gt; {\n    // assuming `amountDue` has already been defined\n    if (!order.getAmoundDue().equals(amountDue)) {\n      order.setAmountDue(amountDue);\n      mOrderRepository.updateOrder(order);\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10230095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k39pjH0L0Dg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rTzqwU4XloC12Lt5ZNxvUTyrCAow/mo/photo.jpg?sz=128", "display_name": "Andronicus", "link": "https://stackoverflow.com/users/10230095/andronicus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534427416, "creation_date": 1534349004, "last_edit_date": 1534358698, "question_id": 51862286, "link": "https://stackoverflow.com/questions/51862286/rxjava-creates-a-loop-when-retrieving-then-updating-an-item-from-database", "title": "Rxjava creates a loop when retrieving then updating an item from database", "body": "<p>I have a challenge with rxjava, there's an observable to retrieve an item from database. I subscribe to this observable and on successful retrieval of an item from database i update that item. Problem is immediately after updating the item, my observable to get an item starts emitting and the update method is called again hence creating a loop.</p>\n\n<p>Sample code</p>\n\n<pre><code>mOrderRepository.getOrder(orderId)\n .subscribeOn(mSchedulerProvider.io())\n .observeOn(mSchedulerProvider.ui())\n .subscribe((Order order) -&gt; {\n // i calculate amount due after payment then update this order\n    order.setAmountDue(amountDue);\n    mOrderRepository.updateOrder(order);\n});\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1534347704, "post_id": 51861913, "comment_id": 90676150, "body": "It makes no sense to call <code>onComplete()</code> upon cancellation and will be ignored anyway."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1534347956, "post_id": 51861913, "comment_id": 90676273, "body": "So just don&#39;t call <code>onComplete</code> at all?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1534349075, "post_id": 51861913, "comment_id": 90676877, "body": "Cancellation is initiated by the consumer telling your source to stop producing alltogether, including terminal events. If your source is otherwise infinite, don&#39;t call <code>onComplete</code>."}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534347496, "creation_date": 1534347496, "question_id": 51861913, "link": "https://stackoverflow.com/questions/51861913/call-oncomplete-in-setcancellable", "title": "Call onComplete() in setCancellable", "body": "<p>I am creating an observable by calling <code>Observable.create</code>. I want to keep it alive as long as there are subscribers. In this case, <code>setCancellable</code> seems to me the only place to call <code>onComplete()</code>, or should it be called at all?</p>\n\n<pre><code>val data: Observable&lt;Data&gt;\n    get() = Observable.create { emitter -&gt;\n        val ref = mDatabase.child(\"users\").child(\"data\")\n        val listener = ref.addValueEventListener(object : ValueEventListener {\n            override fun onCancelled(p0: DatabaseError) {\n                emitter.onError(p0.toException())\n            }\n\n            override fun onDataChange(p0: DataSnapshot) {\n                Data.parse(p0)?.let { emitter.onNext(it) }\n            }\n        })\n        emitter.setCancellable { \n            emitter.onComplete() // ???\n            ref.removeEventListener(listener)\n        } \n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-binding"], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534350857, "post_id": 51862670, "comment_id": 90677802, "body": "My XML file contains a &lt;DatePicker.../&gt; element. In RxBinding I usually use something like this:  RxView.cliks(button) .map{it} .subscribe{navigateToOtherFragment}  I looking for something like this."}, {"owner": {"reputation": 26, "user_id": 7567111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUe29.png?s=128&g=1", "display_name": "Kara", "link": "https://stackoverflow.com/users/7567111/kara"}, "reply_to_user": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534350907, "post_id": 51862670, "comment_id": 90677824, "body": "Sorry guy, I just misunderstood the question. You are asking about RxBinding pickers."}], "tags": [], "owner": {"reputation": 26, "user_id": 7567111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUe29.png?s=128&g=1", "display_name": "Kara", "link": "https://stackoverflow.com/users/7567111/kara"}, "is_accepted": false, "score": 0, "last_activity_date": 1534350461, "creation_date": 1534350461, "answer_id": 51862670, "question_id": 51861766, "link": "https://stackoverflow.com/questions/51861766/rxbinding-datepicker-and-timepicker/51862670#51862670", "title": "RxBinding DatePicker and TimePicker", "body": "<p>Can you be more specific? Do you want to show DatePicker and TimePicker to user and get the user selected value? In that case, you can try like this.\nFor DatePicker,</p>\n\n<pre><code>val mCalendar = Calendar.getInstance()\nval mYear = mCalendar.get(Calendar.YEAR)\nval mMonth = mCalendar.get(Calendar.MONTH)\nval mDay = mCalendar.get(Calendar.DAY_OF_MONTH)\n\nval dpd = DatePickerDialog(\n      this, DatePickerDialog.OnDateSetListener { _, thisYear, thisMonth, thisDay -&gt;\n\n    mYear = thisYear\n    mMonth = thisMonth\n    mDay = thisDay\n\n    tDate.text = mDay.toString() + \"/\" + (mMonth + 1).toString() +\n        \"/\" + mYear.toString()\n\n  }, mYear, mMonth, mDay\n  )\n  dpd.show()\n</code></pre>\n\n<p>For TimePicker,</p>\n\n<pre><code>TimePickerDialog(this, TimePickerDialog.OnTimeSetListener { _, hourOfDay, minute -&gt;\ntvHour.text = Calendar.HOUR_OF_DAY, hourOfDay\ntvMinute.text = Calendar.MINUTE, minute\n}, mCalendar.get(Calendar.HOUR_OF_DAY), mCalendar.get(Calendar.MINUTE), false).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "is_accepted": true, "score": 1, "last_activity_date": 1534352337, "creation_date": 1534352337, "answer_id": 51863168, "question_id": 51861766, "link": "https://stackoverflow.com/questions/51861766/rxbinding-datepicker-and-timepicker/51863168#51863168", "title": "RxBinding DatePicker and TimePicker", "body": "<p>Thanks for <a href=\"https://stackoverflow.com/users/10230467/m%C3%A1rton-so%C3%B3s\">M\u00e1rton So\u00f3s</a></p>\n\n<p>This helper class does the magic for both DatePicker and TimePicker:</p>\n\n<pre><code>data class DatePickerChangeEvent(\n        val view: View,\n        val year: Int = 0,\n        val monthOfYear: Int = 0,\n        val dayOfMonth: Int = 0\n)\n\ndata class TimePickerChangeEvent(\n        val view: View,\n        val hour: Int,\n        val minute: Int\n)\n\n class DatePickerObservable(val view: DatePicker, val year: Int, val monthOfYear: Int, val dayOfMonth: Int)\n    : io.reactivex.Observable&lt;DatePickerChangeEvent&gt;() {\n\n    override fun subscribeActual(observer: Observer&lt;in DatePickerChangeEvent&gt;) {\n        val listener = DateChangeListener(view, observer)\n        observer.onSubscribe(listener)\n        view.init(year, monthOfYear, dayOfMonth, listener)\n    }\n\n    class DateChangeListener(private val dp: DatePicker, private val obs: io.reactivex.Observer&lt;in DatePickerChangeEvent&gt;)\n        : DatePicker.OnDateChangedListener, MainThreadDisposable() {\n\n        override fun onDateChanged(p0: DatePicker, p1: Int, p2: Int, p3: Int) {\n            obs.onNext(DatePickerChangeEvent(dp, p1, p2, p3))\n        }\n\n        override fun onDispose() {\n        }\n    }\n}\n\nclass TimePickerObservable(val view: TimePicker)\n    : io.reactivex.Observable&lt;TimePickerChangeEvent&gt;() {\n\n    override fun subscribeActual(observer: Observer&lt;in TimePickerChangeEvent&gt;) {\n        val listener = TimeChangeListener(view, observer)\n        observer.onSubscribe(listener)\n        view.setOnTimeChangedListener(listener)\n    }\n\n    class TimeChangeListener(private val tp: TimePicker, private val obs: io.reactivex.Observer&lt;in TimePickerChangeEvent&gt;)\n        : TimePicker.OnTimeChangedListener, MainThreadDisposable() {\n\n        override fun onTimeChanged(p0: TimePicker, p1: Int, p2: Int) {\n            obs.onNext(TimePickerChangeEvent(p0, p1, p2))\n        }\n\n        override fun onDispose() {\n            tp.setOnTimeChangedListener { timePicker, i, i2 -&gt; }\n        }\n    }\n}\n\n@Suppress(\"NOTHING_TO_INLINE\")\ninline fun DatePicker.dateChange(year: Int, monthOfYear: Int, dayOfMonth: Int): DatePickerObservable =\n        DatePickerObservable(this, year, monthOfYear, dayOfMonth)\n\n@Suppress(\"NOTHING_TO_INLINE\")\ninline fun TimePicker.timeChange(): TimePickerObservable =\n        TimePickerObservable(this)\n</code></pre>\n\n<p>Than you can call it: </p>\n\n<pre><code> datePicker.dateChange(2018,9,15)\n                .subscribe{\n                    Log.d(\"RxDate\", it.toString())\n                }\n</code></pre>\n"}], "owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "accepted_answer_id": 51863168, "answer_count": 2, "score": 0, "last_activity_date": 1534352337, "creation_date": 1534346901, "question_id": 51861766, "link": "https://stackoverflow.com/questions/51861766/rxbinding-datepicker-and-timepicker", "title": "RxBinding DatePicker and TimePicker", "body": "<p>I'm trying to get the values from DatePicker, but I've no idea how could I manage it. </p>\n\n<p>My layout contains a DatePicker element, and I'm using kotlin.</p>\n\n<p>Same problem with TimePicker.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1534347850, "last_edit_date": 1534347850, "creation_date": 1534346557, "answer_id": 51861669, "question_id": 51860915, "link": "https://stackoverflow.com/questions/51860915/swifts-replacesubrange-in-kotlin/51861669#51861669", "title": "Swift&#39;s replaceSubrange in Kotlin", "body": "<p>There's no built-in function for that in the standard library. You can, however, define an extension as follows:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.replaceSubrange(subrange: IntRange, withItems: List&lt;T&gt;): List&lt;T&gt; =\n    take(subrange.first) + withItems + drop(subrange.endInclusive + 1)\n</code></pre>\n\n<blockquote>\n<pre><code>&gt; listOf(1, 2, 3, 4, 5).replaceSubrange(1..3, listOf(0, 0, 0, 0))\n[1, 0, 0, 0, 0, 5]\n</code></pre>\n</blockquote>\n\n<p>Or, if you only need to insert a sublist into a list:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.insertSubrangeAt(index: IntRange, items: List&lt;T&gt;): List&lt;T&gt; =\n    take(atIndex) + items + drop(atIndex)\n</code></pre>\n\n<blockquote>\n<pre><code>&gt; listOf(1, 2, 3, 4, 5).insertSubrangeAt(1, listOf(0, 0, 0, 0))\n[1, 0, 0, 0, 0, 2, 3, 4, 5]\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 51861669, "answer_count": 1, "score": 1, "last_activity_date": 1534347850, "creation_date": 1534344097, "question_id": 51860915, "link": "https://stackoverflow.com/questions/51860915/swifts-replacesubrange-in-kotlin", "title": "Swift&#39;s replaceSubrange in Kotlin", "body": "<p>What would be an elegant way of achieving something like Swift's:</p>\n\n<pre><code>sections.replaceSubrange(sectionIndex ..&lt; (sectionIndex + 1), with: [section])\n</code></pre>\n\n<p>in Kotlin?</p>\n\n<p>My code so far:</p>\n\n<pre><code>var filters = BehaviorRelay.create&lt;List&lt;FilterSection&gt;&gt;()\n\n fun updateFilters(type: FilterType, filtersArray: List&lt;Filter&gt;, state: SectionState = SectionState.Loaded){\n        val sectionIndex = filters.value.indexOfFirst { it.filterType == type }\n        val section =  filters.value[sectionIndex].update(state, filtersArray)\n        val sections = filters.value\n        //here is where I need to replace the elements\n        filters.accept(sections)\n    }\n</code></pre>\n"}, {"tags": ["database", "kotlin", "persistence", "android-room"], "comments": [{"owner": {"reputation": 2083, "user_id": 5994190, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/b9dd29e38dcadc42fbe02964a6ed685f?s=128&d=identicon&r=PG&f=1", "display_name": "the_dani", "link": "https://stackoverflow.com/users/5994190/the-dani"}, "edited": false, "score": 0, "creation_date": 1545857061, "post_id": 51860810, "comment_id": 94713939, "body": "Did you solve your problem?"}, {"owner": {"reputation": 587, "user_id": 8607640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rI8zw.jpg?s=128&g=1", "display_name": "Psycho", "link": "https://stackoverflow.com/users/8607640/psycho"}, "edited": false, "score": 0, "creation_date": 1565307779, "post_id": 51860810, "comment_id": 101322931, "body": "Did you solve it ?"}], "answers": [{"comments": [{"owner": {"reputation": 3082, "user_id": 6203472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b50d1e339fca4b7a10b74d856a0e790e?s=128&d=identicon&r=PG&f=1", "display_name": "bagerard", "link": "https://stackoverflow.com/users/6203472/bagerard"}, "edited": false, "score": 0, "creation_date": 1576268968, "post_id": 59329047, "comment_id": 104858165, "body": "Hi, welcome to SO. Providing links is fine but its a good practice to provide additional explanations on how it answer&#39;s the initial question"}, {"owner": {"reputation": 57, "user_id": 11338792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4747d17b03c13418fd3f325ea0dca2c?s=128&d=identicon&r=PG&f=1", "display_name": "Dement0", "link": "https://stackoverflow.com/users/11338792/dement0"}, "reply_to_user": {"reputation": 3082, "user_id": 6203472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b50d1e339fca4b7a10b74d856a0e790e?s=128&d=identicon&r=PG&f=1", "display_name": "bagerard", "link": "https://stackoverflow.com/users/6203472/bagerard"}, "edited": false, "score": 2, "creation_date": 1576270814, "post_id": 59329047, "comment_id": 104858818, "body": "Added the corresponding code snippet, hope it clarifies my answer."}], "tags": [], "owner": {"reputation": 57, "user_id": 11338792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4747d17b03c13418fd3f325ea0dca2c?s=128&d=identicon&r=PG&f=1", "display_name": "Dement0", "link": "https://stackoverflow.com/users/11338792/dement0"}, "is_accepted": false, "score": 0, "last_activity_date": 1576270722, "last_edit_date": 1576270722, "creation_date": 1576267039, "answer_id": 59329047, "question_id": 51860810, "link": "https://stackoverflow.com/questions/51860810/android-room-database-how-to-embed-multiple-entities/59329047#59329047", "title": "Android Room Database: How to embed multiple entities", "body": "<p>Have you tried building relationships between your Entities? <a href=\"https://developer.android.com/training/data-storage/room/relationships\" rel=\"nofollow noreferrer\">Android Documentation for Relationships</a></p>\n\n<pre><code>@Entity(tableName=\"addresses\")\ndata class Address(\n    @PrimaryKey\n    @ColumnInfo(name=\"address_id\")\n    val id: Int,\n\n    @ColumnInfo(name=\"address_l1\")\n    val l1: String\n)\n\n@Entity(tablename=\"owners\")\ndata class Owner(\n    @PrimaryKey\n    @ColumnInfo(name=\"owner_id\")\n    val id: Int,\n\n    @ColumnInfo(name=\"owner_name\")\n    val name: String\n\n    @ColumnInfo(name=\"owner_adress\")\n    @Entity val adress: Address\n)\n\n@Entity(tableName=\"sites\")\ndata class Site(\n    @PrimaryKey\n    @ColumnInfo(name=\"site_id\")\n    val id: Int,\n\n    @ColumnInfo(name=\"site_owner\")\n    @Embedded val owner: Owner\n\n    @ColumnInfo(name=\"site_address\")\n    @Embedded val address: Address\n)\n</code></pre>\n\n<p>So now your Site has an Address, and an Owner(which has its address). Both your <code>sites</code> table and <code>owners</code> table will contain Address columns as well.</p>\n"}, {"tags": [], "owner": {"reputation": 1582, "user_id": 13211263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5sEF.jpg?s=128&g=1", "display_name": "luca_999", "link": "https://stackoverflow.com/users/13211263/luca-999"}, "is_accepted": false, "score": 0, "last_activity_date": 1614271274, "creation_date": 1614271274, "answer_id": 66372734, "question_id": 51860810, "link": "https://stackoverflow.com/questions/51860810/android-room-database-how-to-embed-multiple-entities/66372734#66372734", "title": "Android Room Database: How to embed multiple entities", "body": "<p>You could use a TypeConverter and the <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> library for your scope.</p>\n<p>Define your data classes as</p>\n<pre><code>@Entity(tableName=&quot;addresses&quot;)\ndata class Address(\n    @PrimaryKey\n    @ColumnInfo(name=&quot;address_id&quot;)\n    val id: Int,\n\n    @ColumnInfo(name=&quot;address_l1&quot;)\n    val l1: String\n)\n\n@Entity(tablename=&quot;owners&quot;)\ndata class Owner(\n    @PrimaryKey\n    @ColumnInfo(name=&quot;owner_id&quot;)\n    val id: Int,\n\n    @ColumnInfo(name=&quot;owner_name&quot;)\n    val name: String\n)\n\n@Entity(tableName=&quot;sites&quot;)\ndata class Site(\n    @PrimaryKey\n    @ColumnInfo(name=&quot;site_id&quot;)\n    val id: Int,\n\n    @ColumnInfo(name=&quot;site_address&quot;)\n    val address: Address,\n\n    @ColumnInfo(name=&quot;site_owner&quot;)\n    val owner: Owner\n)\n</code></pre>\n<p>Then create a <code>DatabaseConverter</code>\u00a0class</p>\n<pre><code>class DatabaseConverter \n{\n    @TypeConverter\n    fun ownerFromJson(jsonString: String) : Owner {\n        val ownerType = object : TypeToken&lt;Owner&gt;() { }.type\n        return Gson().fromJson(jsonString, ownerType)\n    }\n\n    @TypeConverter\n    fun jsonFromOwner(owner: Owner) : String = Gson().toJson(owner)\n\n    @TypeConverter\n    fun addressFromJson(jsonString: String) : Address {\n        val addressType = object : TypeToken&lt;Address&gt;() { }.type\n        return Gson().fromJson(jsonString, addressType)\n    }\n\n    @TypeConverter\n    fun jsonFromAddress(address: Address) : String = Gson().toJson(address)\n}\n</code></pre>\n<p>And then attach it to your <code>RoomDatabase</code> instance class</p>\n<pre><code>@Database(entities = [ ... ], version = ...)\n@TypeConverters(DatabaseConverter::class)\nabstract class YourDatabaseClass: RoomDatabase() {\n    ...\n}\n</code></pre>\n<p>You should now be able to access your sub-entities instances with</p>\n<pre><code>site.site_address.id \nsite.site_owner.id\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10229555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42846b9a71eddff5549ad84b08337b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Red Orca", "link": "https://stackoverflow.com/users/10229555/red-orca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5043, "favorite_count": 5, "answer_count": 2, "score": 9, "last_activity_date": 1614271274, "creation_date": 1534343781, "last_edit_date": 1534344506, "question_id": 51860810, "link": "https://stackoverflow.com/questions/51860810/android-room-database-how-to-embed-multiple-entities", "title": "Android Room Database: How to embed multiple entities", "body": "<p>I am using room for my new project, but I am struggling with how to access one-to-one values cleanly<br>\nI have entities for addresses, owners and sites, both owners and sites have an associated address, and each site has an owner<br>\nis it possible to access these cleanly eg <code>site.owner.address.l1</code>?</p>\n\n<p>I have looked into <code>@Relation</code> though it returns a list which is less than ideal</p>\n\n<p>Entities</p>\n\n<pre><code>@Entity(tableName=\"addresses\")\ndata class Address(\n    @PrimaryKey\n    @ColumnInfo(name=\"address_id\")\n    val id: Int,\n\n    @ColumnInfo(name=\"address_l1\")\n    val l1: String\n)\n\n@Entity(tablename=\"owners\")\ndata class Owner(\n    @PrimaryKey\n    @ColumnInfo(name=\"owner_id\")\n    val id: Int,\n\n    @ColumnInfo(name=\"owner_name\")\n    val name: String\n)\n\n@Entity(tableName=\"sites\")\ndata class Site(\n    @PrimaryKey\n    @ColumnInfo(name=\"site_id\")\n    val id: Int,\n\n    @ColumnInfo(name=\"site_addressid\")\n    val addressid: Int\n\n    @ColumnInfo(name=\"site_ownerid\")\n    val ownerid: Int\n)\n</code></pre>\n\n<p>Dao's</p>\n\n<pre><code>@Query(\"SELECT * FROM sites\")\nfun getSites(): List&lt;Site&gt;\n\n@Query(\"SELECT * FROM owners\")\nfun getOwners(): List&lt;Owner&gt;\n\n@Query(\"SELECT * FROM addresses\")\nfun getAddresses(): List&lt;Address&gt;\n\n@Query(\"SELECT * FROM sites JOIN address ON sites.site_addressid = address.address_id JOIN owners ON sites.site_ownerid = owners.owner_id JOIN address ON owners.owner_addressid = address.address_id WHERE sites.site_id = :siteid\")\nfun getSiteByIdWithDetails(siteid): Site\n</code></pre>\n\n<hr>\n\n<p>I can only see the method of multiple POJO's to make this work such as<br>\n<em>not valid but roughly correct</em></p>\n\n<pre><code>data class OwnerAddress(\n    @Embedded\n    val owner: Owner,\n\n    @Embedded\n    val address: Address\n)\n\ndata class SiteAddress(\n    @Embedded\n    val site: Site,\n\n    @Embedded\n    val owner: OwnerAddress,\n\n    @Embedded\n    val address: Address\n}\n</code></pre>\n\n<p>and using it via</p>\n\n<pre><code>@Query(\"SELECT * FROM sites JOIN address ON sites.site_addressid = address.address_id JOIN owners ON sites.site_ownerid = owners.owner_id JOIN address ON owners.owner_addressid = address.address_id WHERE sites.site_id = :siteid\")\nfun getSiteByIdWithDetails(siteid): SiteAddress\n</code></pre>\n"}, {"tags": ["junit", "kotlin", "integration-testing", "spark-java"], "answers": [{"tags": [], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "is_accepted": true, "score": 0, "last_activity_date": 1534342539, "creation_date": 1534342539, "answer_id": 51860451, "question_id": 51860375, "link": "https://stackoverflow.com/questions/51860375/why-am-i-getting-connection-refused-error-after-restart-spark-server/51860451#51860451", "title": "Why am I getting &quot;connection refused&quot; error after restart Spark server?", "body": "<p>Solved! Actually, problem wasn't the server initialization after stopped. We must wait until server is stopped. I found the solution <a href=\"https://stackoverflow.com/questions/46451309/how-to-wait-until-spark-service-is-stopped\">here</a>.</p>\n\n<pre><code>fun stop() {\n    try {\n        Spark.stop()\n        while (true) {\n            try {\n                Spark.port()\n                Thread.sleep(500)\n            } catch (ignored: IllegalStateException) {\n                break\n            }\n\n        }\n    } catch (ex: Exception) {\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 51860451, "answer_count": 1, "score": 0, "last_activity_date": 1534342539, "creation_date": 1534342286, "question_id": 51860375, "link": "https://stackoverflow.com/questions/51860375/why-am-i-getting-connection-refused-error-after-restart-spark-server", "title": "Why am I getting &quot;connection refused&quot; error after restart Spark server?", "body": "<p>I have this test classes:</p>\n\n<pre><code>class PostIT {\n\n    companion object {\n\n        @BeforeClass\n        @JvmStatic\n        fun initialise() {\n            baseURI = \"http://localhost:4567\"\n            Server.start()\n        }\n\n        @AfterClass\n        @JvmStatic\n        fun tearDown() {\n            Server.stop()\n        }\n\n    }\n\n    //some test cases\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class UserIT {\n\n    companion object {\n\n        @BeforeClass\n        @JvmStatic\n        fun initialise() {\n            baseURI = \"http://localhost:4567\"\n            Server.start()\n        }\n\n        @AfterClass\n        @JvmStatic\n        fun tearDown() {\n            Server.stop()\n        }\n\n    }\n\n    //some test cases\n\n}\n</code></pre>\n\n<p>and <code>Server</code> object:</p>\n\n<pre><code>object Server {\n\n    fun start() {\n        Spark.init()\n        prepareRoutes()\n    }\n\n    fun stop() {\n        Spark.stop()\n    }\n\n    private fun prepareRoutes() {\n        get(\"/users\", whatever)\n        //more routes\n    }        \n\n}\n</code></pre>\n\n<p>When I run both test classes separately, it works fine. But, when I tell IDE to run both test classes, I'm getting <code>connection refused error</code> when second test class is run.</p>\n\n<p>It seems like when server is stopped, it never starts again. It's like <code>Spark.init()</code> is not working after server being stopped.</p>\n\n<p>I've also tried calling <code>Spark.awaitInitialization()</code> after <code>Spark.init()</code>.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534341844, "post_id": 51860227, "comment_id": 90672692, "body": "um, you tell me. What error does the compiler give?"}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 1, "creation_date": 1534342012, "post_id": 51860227, "comment_id": 90672783, "body": "Are you calling this from Java? Java does not support default arguments. You can add <code>@JvmOverloads</code> so it generates additional methods"}, {"owner": {"reputation": 695, "user_id": 6184896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d1db436afade782fc64261cb7a9309?s=128&d=identicon&r=PG&f=1", "display_name": "UgAr0FF", "link": "https://stackoverflow.com/users/6184896/ugar0ff"}, "reply_to_user": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1534342102, "post_id": 51860227, "comment_id": 90672837, "body": "@RobCo Thanks. I forgot this."}], "answers": [{"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": true, "score": 3, "last_activity_date": 1534342300, "creation_date": 1534342300, "answer_id": 51860379, "question_id": 51860227, "link": "https://stackoverflow.com/questions/51860227/companion-object-and-function-with-default-value/51860379#51860379", "title": "companion object and function with default value", "body": "<p>It looks like you are calling this from Java. Java does not support default arguments.  </p>\n\n<p>You could add <code>@JvmOverloads</code> to the functions so it generates all the additional overload methods that can be called from Java.</p>\n"}], "owner": {"reputation": 695, "user_id": 6184896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d1db436afade782fc64261cb7a9309?s=128&d=identicon&r=PG&f=1", "display_name": "UgAr0FF", "link": "https://stackoverflow.com/users/6184896/ugar0ff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 51860379, "answer_count": 1, "score": 0, "last_activity_date": 1534342300, "creation_date": 1534341712, "question_id": 51860227, "link": "https://stackoverflow.com/questions/51860227/companion-object-and-function-with-default-value", "title": "companion object and function with default value", "body": "<p>I have a class with default values <code>isEnabled: Boolean = true</code> in function <code>getCustomClass</code></p>\n\n<pre><code>class CustomClass(_className: String, _isEnabled: Boolean) {\n\n    private val className: String = _className\n    private val isEnabled: Boolean = _isEnabled\n\n    companion object {\n        fun getCustomClass(className: String, isEnabled: Boolean = true): CustomClass {\n            return CustomClass(className, isEnabled)\n        }\n    }\n}\n</code></pre>\n\n<p>Why can't I use this constructor:</p>\n\n<pre><code>CustomClass.Companion.getCustomClass(MyClass.class.getSimpleName());\n</code></pre>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-architecture-components", "koin"], "answers": [{"tags": [], "owner": {"reputation": 682, "user_id": 2804351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6f2d56a2d1513bcee5e53e32fd1b3af0?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Karadkar", "link": "https://stackoverflow.com/users/2804351/rohit-karadkar"}, "is_accepted": true, "score": 0, "last_activity_date": 1534484522, "creation_date": 1534484522, "answer_id": 51889032, "question_id": 51860102, "link": "https://stackoverflow.com/questions/51860102/how-to-provide-parameters-in-koin-dry-run-test/51889032#51889032", "title": "How to provide parameters in Koin dry run test?", "body": "<p>as <a href=\"https://twitter.com/arnogiu/status/1030170808507949057\" rel=\"nofollow noreferrer\">Arnaud Giuliani</a> pointed on twitter. <code>dryRun</code> accepts lambda function for parameters</p>\n\n<pre><code>class KoinDryRunTest : KoinTest {\n    @Test\n    fun dependencyGraphDryRun() {\n        startKoin(list = appModules)\n        dryRun() {\n            mapOf(\"key.genre\" to \"dummy string\")\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 682, "user_id": 2804351, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6f2d56a2d1513bcee5e53e32fd1b3af0?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit Karadkar", "link": "https://stackoverflow.com/users/2804351/rohit-karadkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 51889032, "answer_count": 1, "score": 0, "last_activity_date": 1534484522, "creation_date": 1534341268, "last_edit_date": 1534394558, "question_id": 51860102, "link": "https://stackoverflow.com/questions/51860102/how-to-provide-parameters-in-koin-dry-run-test", "title": "How to provide parameters in Koin dry run test?", "body": "<p>My <code>ViewModel</code> needs <code>repository</code> &amp; <code>genre</code> through constructor. <code>repository</code> is provided by Koin  &amp; <code>genre</code> string is provided from activity</p>\n\n<pre><code>// Main app module\nval MovieListModule: Module = applicationContext {\n\n    // provide repository\n    bean {\n        DummyMovieListRepository() as MovieListRepository\n    }\n\n    // provides ViewModel\n    viewModel { params: ParameterProvider -&gt;\n        MovieListViewModel(respository = get(), genre = params[\"key.genre\"])\n    }\n}\n\n//Module list for startKoin()\nval appModules = listOf(MovieListModule)\n\n//in activity\nval viewModel = getViewModel&lt;MovieListViewModel&gt; {\n   mapOf(\"key.genre\" to \"Action / Drama\")\n}\n\n// dry run test which fails\nclass KoinDryRunTest : KoinTest {\n    @Test\n    fun dependencyGraphDryRun() {\n        startKoin(list = appModules)\n        dryRun()\n    }\n}\n\n// some error log \norg.koin.error.MissingParameterException: Parameter 'key.genre' is missing\n    at org.koin.dsl.context.ParameterHolder.get(ParameterHolder.kt:46)\norg.koin.error.BeanInstanceCreationException: Can't create bean Factory[class=io.github.karadkar.popularmovies.MovieListViewModel, binds~(android.arch.lifecycle.ViewModel)] due to error :\n    org.koin.error.MissingParameterException: Parameter 'key.genre' is missing\n</code></pre>\n\n<p>here Koin (v 0.9.3) injection inactivity works as expected but the dry run test fails as it can't find parameter <code>key.genre</code>. <a href=\"https://pastebin.com/Qr9Uw9fq\" rel=\"nofollow noreferrer\">Check full error-log</a></p>\n\n<p>Is there any  way to mock/provide <code>key.genre</code> value to dry run test?</p>\n\n<p><a href=\"https://github.com/karadkar/PopularMovies-2\" rel=\"nofollow noreferrer\">full app source</a> </p>\n"}, {"tags": ["rest", "kotlin", "spock", "jooby"], "answers": [{"tags": [], "owner": {"reputation": 487, "user_id": 1717100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kKfQ4.jpg?s=128&g=1", "display_name": "Edgar Espina", "link": "https://stackoverflow.com/users/1717100/edgar-espina"}, "is_accepted": true, "score": 1, "last_activity_date": 1534345571, "creation_date": 1534345571, "answer_id": 51861378, "question_id": 51859945, "link": "https://stackoverflow.com/questions/51859945/integration-testing-of-jooby-application-using-spock/51861378#51861378", "title": "integration testing of Jooby application using Spock", "body": "<p>You need to look for before/after test (or class) hooks in Spock. In the before hook you start Jooby without blocking the thread:  </p>\n\n<pre><code>app.start(\"server.join=false\")\n</code></pre>\n\n<p>in the after hook:</p>\n\n<pre><code>app.stop();\n</code></pre>\n\n<p>Never used Spock but here is a small extension method for <strong>Spek</strong>:</p>\n\n<pre><code>fun SpecBody.jooby(app: Jooby, body: SpecBody.() -&gt; Unit) {\n  beforeGroup {\n    app.start(\"server.join=false\")\n  }\n\n  body()\n\n  afterGroup {\n    app.stop()\n  }\n}\n</code></pre>\n\n<p>Finally from your test:</p>\n\n<pre><code>@RunWith(JUnitPlatform::class)\nobject AppTest : Spek({\n  jooby(App()) {\n    describe(\"Get with query parameter\") {\n        given(\"queryParameter name=Kotlin\") {\n            it(\"should return Hello Kotlin!\") {\n                val name = \"Kotlin\"\n                given()\n                        .queryParam(\"name\", name)\n                        .`when`()\n                        .get(\"/\")\n                        .then()\n                        .assertThat()\n                        .statusCode(Status.OK.value())\n                        .extract()\n                        .asString()\n                        .let {\n                            assertEquals(it, \"Hello $name!\")\n                        }\n            }\n         ...\n      ...\n   ...\n...\n</code></pre>\n\n<p><a href=\"https://github.com/jooby-project/kotlin-starter/blob/master/src/test/kotlin/starter/kotlin/AppTest.kt\" rel=\"nofollow noreferrer\">Maven Spek example</a></p>\n\n<p><a href=\"https://github.com/jooby-project/kotlin-gradle-starter/blob/master/src/test/kotlin/starter/kotlin/AppTest.kt\" rel=\"nofollow noreferrer\">Gradle Spek example</a></p>\n"}], "owner": {"reputation": 9459, "user_id": 1432980, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/e646027bcc545177a971230c1e23134a?s=128&d=identicon&r=PG", "display_name": "lapots", "link": "https://stackoverflow.com/users/1432980/lapots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 51861378, "answer_count": 1, "score": 0, "last_activity_date": 1534345571, "creation_date": 1534340714, "question_id": 51859945, "link": "https://stackoverflow.com/questions/51859945/integration-testing-of-jooby-application-using-spock", "title": "integration testing of Jooby application using Spock", "body": "<p>I've got pretty simple application that uses <code>Jooby</code> as web framework. Its class responsible for REST looks like this </p>\n\n<pre><code>class Sandbox : Kooby ({\n    path(\"/sandbox\") {\n        get {\n            val environment = require(Config::class).getString(\"application.env\")\n            \"Current environment: $environment\"\n        }\n\n        get (\"/:name\") {\n            val name = param(\"name\")\n            \"Auto response $name\"\n        }\n    }\n})\n</code></pre>\n\n<p>I want to write integration test for it. My test looks like this. I use <code>spock</code> and <code>rest-assured</code>. The thing is that I don't have the application running and want to run it using some kind of embedded server or whatever.  How to do that?</p>\n\n<p>My simple test looks like this</p>\n\n<pre><code>class SandboxTest extends Specification {\n\n    def \"check current environment\"() {\n        given:\n            def request = given()\n        when:\n            def response = request.when().get(\"/sandbox\")\n        then:\n            response.then().statusCode(200) // for now 404\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 4, "creation_date": 1534340054, "post_id": 51859652, "comment_id": 90671654, "body": "have you executed it and check the result ?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 4, "creation_date": 1534340244, "post_id": 51859652, "comment_id": 90671768, "body": "@UmarHussain I cannot execute this because there is no <code>whereNotEqualTo</code>, that why I&#39;m asking how can I solve this. Do you have any idea?"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 4, "creation_date": 1534340368, "post_id": 51859652, "comment_id": 90671830, "body": "well the firestore has equal to method I think but this method is missing."}, {"owner": {"reputation": 1183, "user_id": 4794878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bd79c9187f977e4e89b6dd74ac0280?s=128&d=identicon&r=PG&f=1", "display_name": "Suhayl SH", "link": "https://stackoverflow.com/users/4794878/suhayl-sh"}, "edited": false, "score": 4, "creation_date": 1534755661, "post_id": 51859652, "comment_id": 90804189, "body": "If it&#39;s a matter of just one item, why not perform client side filtering?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 1183, "user_id": 4794878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bd79c9187f977e4e89b6dd74ac0280?s=128&d=identicon&r=PG&f=1", "display_name": "Suhayl SH", "link": "https://stackoverflow.com/users/4794878/suhayl-sh"}, "edited": false, "score": 3, "creation_date": 1534770850, "post_id": 51859652, "comment_id": 90812965, "body": "@SuhaylSH Can you please post an answer on how can I achieve this? Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534341269, "post_id": 51859982, "comment_id": 90672353, "body": "Thanks for your answer Umar. I alrdeay tried this out to use a condition when setting the names to the <code>RecyclerView</code> and I always get an empty item view. The text is not present but the view remains. Imagine I have 4 users in my database and when I&#39;m trying to display them using an if statement (<code>if(!myUserClas.getId().equals(uid))</code>) I get 3 rows with the names and one without. Do you have any other idea?s"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534341305, "post_id": 51859982, "comment_id": 90672375, "body": "You are on the right track but the issue is where you are applying the condition. At that time recycler view already has the data and the your condition only removes the name not the actual recycler item."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534341424, "post_id": 51859982, "comment_id": 90672449, "body": "Yes, this is exact what is happening. You are absolutely right so I thought I should just remove that elemet before passing the query to the <code>FirestoreRecyclerOptions</code>, right?"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534341507, "post_id": 51859982, "comment_id": 90672498, "body": "Have you tried the customer parser with the set query and return null when you find the user snapshot with the current user id? By passing null I think you can remove that empty view but I&#39;m not sure. <a href=\"https://github.com/firebase/FirebaseUI-Android/blob/master/database/README.md#using-the-firebaserecycleradapter\" rel=\"nofollow noreferrer\">github.com/firebase/FirebaseUI-Android/blob/master/database/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534776251, "post_id": 51859982, "comment_id": 90816449, "body": "I cannot return <code>null</code> because I get this error: <code>FATAL EXCEPTION: main     Process: com.package.firebase, PID: 1388     java.lang.NullPointerException: key == null || value == null</code> I have tried to return <code>return new UserModel();</code> by I&#39;m ending in having again an empty view. Do you have any idea why is behaving like this and how can I solve this?"}], "tags": [], "owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "is_accepted": false, "score": 4, "last_activity_date": 1534340852, "creation_date": 1534340852, "answer_id": 51859982, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/51859982#51859982", "title": "How to exclude an element from a Firestore query?", "body": "<p>Firestore doesn't support <code>not equal to</code> operation. So you need to filter the data at the client side. Since in you case you only have one extra item you can filter it out.</p>\n\n<p>For that you may need to build your own recycler implementation where when adding data to recycler adapter data layer,  you restrict the data when ever it matches your  <code>!=</code> condition.</p>\n\n<p>I haven't explored recycler implementation firebase provided so I cannot say it supports data manipulation to adapter data or not.</p>\n\n<p>Here is a good resource to start implementing recycler view : <a href=\"https://www.androidhive.info/2016/01/android-working-with-recycler-view/\" rel=\"noreferrer\">https://www.androidhive.info/2016/01/android-working-with-recycler-view/</a></p>\n"}, {"comments": [{"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 1, "creation_date": 1534451835, "post_id": 51884965, "comment_id": 90721492, "body": "Hope this helps @IoanaP."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 1, "creation_date": 1534504698, "post_id": 51884965, "comment_id": 90739091, "body": "Thank you so much for your answer, I really appreciate it but I cannot understand how your solution can solve my problem. Let&#39;s say I&#39;m authenticated in the app and everything works fine but what happens if another user is using the app? It will display all the users except me and this not what I want. I want to display all the users except him, right?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 1, "creation_date": 1534516091, "post_id": 51884965, "comment_id": 90745966, "body": "Raj, do you have another idea? Thanks!"}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 1, "creation_date": 1534516766, "post_id": 51884965, "comment_id": 90746398, "body": "As you didn&#39;t mention anything about this in your above question. So, I thought your requirement is to retrieve data only at one place or for one user. So, this will not work in your case. So, let me think for some another logic to solve your problem @loanaP."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 1, "creation_date": 1534518760, "post_id": 51884965, "comment_id": 90747602, "body": "Ok, take your time and thanks again for trying to help me. Hope you&#39;ll find a way because I&#39;m struggling for days."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534672380, "post_id": 51884965, "comment_id": 90782746, "body": "Hi, have you found a solution? I also added a bounty for this question. Thanks!"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534771928, "post_id": 51884965, "comment_id": 90813654, "body": "What you are actually suggesting is to set the height of the view to <code>0</code> but this doesn&#39;t mean that I&#39;m excluded from the query. All I want is to query the Firestore database to get all the users except me. Thanks Raj for your time. If you have also other ideas, please consider adding it."}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534772633, "post_id": 51884965, "comment_id": 90814137, "body": "As such firestore doesn&#39;t have any method to retrieve the data using not equal to. So, you can retrieve data in that way. The thing is you can retrieve all data and use logic on client side to filter according to your requirements. As you have to leave only one data so it doesn&#39;t make much effect in efficiency if you are retrieving the complete data."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534776376, "post_id": 51884965, "comment_id": 90816506, "body": "I&#39;m not concerned about efficiency for the moment, I just want to get all the users except me, that&#39;s it."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534780363, "post_id": 51884965, "comment_id": 90818862, "body": "Yes and the result of the query still contains my user object that I don&#39;t want it. What you are doing is just hiding a view."}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534780622, "post_id": 51884965, "comment_id": 90818997, "body": "Is the current user details are show in in recycler view ?? Did you add this DocumentSnapshot snapshot =  getSnapshots().getSnapshot(position);         String id = snapshot.getId(); ?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534780856, "post_id": 51884965, "comment_id": 90819114, "body": "No, are not displayed but this is because you are hiding a view not because you are querying the database and you exclude an element that I don&#39;t want it to be there. Do you understand me now?"}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534782033, "post_id": 51884965, "comment_id": 90819698, "body": "The only method I found after searching for days on Internet is this only. It doesn&#39;t matter if I hide that item or something else. The thing is the data now shown in recycler view is correct as according to your requirements"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534789706, "post_id": 51884965, "comment_id": 90823152, "body": "My requirement is to query the database to get the data except one object, mine user object. &quot;doesn&#39;t matter if I hide that item or something else&quot; it does, I want to a clean query, not to hide a view. Btw, thanks for your efforts."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534951430, "post_id": 51884965, "comment_id": 90890758, "body": "Hi Raj, sorry for disturbing you. Do you think that you can find a way to solve this issue? I also wrote to Umar Hussain but he is not answering. Thanks!"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534952437, "post_id": 51884965, "comment_id": 90891333, "body": "As I already said, I need to query the database, to get all the users except me but not through hiding a view. Thanks!"}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534952624, "post_id": 51884965, "comment_id": 90891456, "body": "Basically what task you want to do by getting that data. Can you plz explain in detail. As the above task is not possible in firestore. So, we can look for some another logic to do the exact task you want to perform."}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534953991, "post_id": 51884965, "comment_id": 90892293, "body": "Moreover is it really necessary for you to use Query? What is the main purpose that you are using query. If you use addSnapshotListener your task will be achieved very easily. And also you can customized the data as you want @LoanaR."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534955099, "post_id": 51884965, "comment_id": 90892963, "body": "I&#39;ve searched and read tens of answers but none of them helped me so far. I cannot believe this is not possible in Firestore :( I only want to get all users, except one. &quot;it really necessary for you to use Query?&quot; Yes it is. I don&#39;t need to use <code>addSnapshotListener</code>. I don&#39;t need data in realtime, I only need to get it once. Hope there will be a way. Thanks!"}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534955351, "post_id": 51884965, "comment_id": 90893101, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178554/discussion-between-raj-and-ioana-p\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534964240, "post_id": 51884965, "comment_id": 90897288, "body": "Because you assured me in your last comment that this is possible, I finally found the answer and put it in code. Thanks again!"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1534964581, "post_id": 51884965, "comment_id": 90897448, "body": "It doesn&#39;t , it works fine. Just tested both solutions."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1535365324, "post_id": 51884965, "comment_id": 91024521, "body": "Thanks again, you deserve it."}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1535374073, "post_id": 51884965, "comment_id": 91029809, "body": "Welcome @loanaP."}], "tags": [], "owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "is_accepted": false, "score": 5, "last_activity_date": 1534750251, "last_edit_date": 1534750251, "creation_date": 1534451696, "answer_id": 51884965, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/51884965#51884965", "title": "How to exclude an element from a Firestore query?", "body": "<p>According to the official firestore documentation:-</p>\n\n<blockquote>\n  <p>Cloud Firestore does not support the following type of query:</p>\n  \n  <p>Queries with a != clause. In this case, you should split the query\n  into a greater-than query and a less-than query. For example, although\n  the query clause where(\"age\", \"!=\", \"30\") is not supported, you can\n  get the same result set by combining two queries, one with the clause\n  where(\"age\", \"&lt;\", \"30\") and one with the clause where(\"age\", \">\", 30).</p>\n</blockquote>\n\n<p>If you are using FirestoreRecyclerAdapter then FirestoreRecyclerOptions will directly accepts the query using setQuery() method and hence not allows you to perform client side filtering. </p>\n\n<p>If you try to apply filters in onBindViewHolder() while setting the data that might results in empty items in the recycler view. In order to resolve that refer Method 2.</p>\n\n<p>So, the possible solution to your problem would be to create an integer field in your users collection under every document. Eg:-</p>\n\n<pre><code>users [collection]\n  - uid [document]\n     - uid: \"fR5bih7SysccRu2Gu9990TeSSyg2\"\n     - username: \"John\"\n     - age: 22\n     - check: 100\n</code></pre>\n\n<p>In this I have created a 'check' variable whose value is 100. So, put value of 'check' in all other documents as less than 100.\nNow, you can easily make a query that finds documents with check&lt;100 as:-</p>\n\n<pre><code>Query q = db.collection(\"users\").whereLessThan(\"check\", 100);\n</code></pre>\n\n<p>This will retrieve all your documents except the one you don't want. And while setting the data you can set other parameters skipping the check variable.</p>\n\n<p><strong>Method 2 (Client Side Filtering)</strong></p>\n\n<p>We can apply a check in onBindViewHolder() method that if the retrieved uid matches with current user uid then set the height of Recycler view as 0dp. As:-</p>\n\n<p>ViewUserAdapter.java</p>\n\n<pre><code>public class ViewUserAdapter extends FirestoreRecyclerAdapter&lt;User, ViewUserAdapter.ViewUserHolder&gt;\n{\n    String uid;\n    FirebaseAuth auth;\n\n    public ViewUserAdapter(@NonNull FirestoreRecyclerOptions&lt;User&gt; options)\n    {\n        super(options);\n        auth = FirebaseAuth.getInstance();\n        uid = auth.getCurrentUser().getUid();\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull ViewUserHolder holder, int position, @NonNull User model)\n    {\n        DocumentSnapshot snapshot =  getSnapshots().getSnapshot(position);\n        String id = snapshot.getId();\n\n        if(uid.equals(id))\n        {\n            RecyclerView.LayoutParams param = (RecyclerView.LayoutParams)holder.itemView.getLayoutParams();\n            param.height = 0;\n            param.width = LinearLayout.LayoutParams.MATCH_PARENT;\n            holder.itemView.setVisibility(View.VISIBLE);\n\n        }\n        else\n        {\n            holder.tvName.setText(model.name);\n            holder.tvEmail.setText(model.email);\n            holder.tvAge.setText(String.valueOf(model.age));\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 0, "creation_date": 1534965484, "post_id": 51973447, "comment_id": 90897855, "body": "Now, can you plz tell how will you pass that data in Firestore Recycler Adapter ?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 0, "creation_date": 1534966069, "post_id": 51973447, "comment_id": 90898095, "body": "In both cases I have a list of all user objects except mine. I&#39;ll pass that list to the adapter constructor and populate the views accordingly."}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 0, "creation_date": 1534966469, "post_id": 51973447, "comment_id": 90898289, "body": "When you successfully pass this data to &quot;Firestore Recycler Adapter&quot; do post the solution."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 0, "creation_date": 1534969137, "post_id": 51973447, "comment_id": 90899435, "body": "@Raj Yes. Thanks again!"}, {"owner": {"reputation": 3083, "user_id": 4428159, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VkaFW.jpg?s=128&g=1", "display_name": "Umar Hussain", "link": "https://stackoverflow.com/users/4428159/umar-hussain"}, "edited": false, "score": 1, "creation_date": 1535356131, "post_id": 51973447, "comment_id": 91019581, "body": "You can improve this solution since its using two queries to firestore, in the long run it can increase your cost. If you get time to improve it do look at the custom implementation for recycler view and filtering at client side."}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1535412540, "post_id": 51973447, "comment_id": 91047088, "body": "Querying Firebase twice to return one set of information does not seem cost efficient for real world applications."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 1, "creation_date": 1535446696, "post_id": 51973447, "comment_id": 91057934, "body": "@AdamHurwitz Thanks for your comment and answer but why do you say &quot;Querying Firebase twice to return one set of information does not seem cost efficient for real world applications&quot;? What can happen? Thank you!"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1535446777, "post_id": 51973447, "comment_id": 91057976, "body": "@AdamHurwitz It was also really necessary to down-vote? :("}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1535475549, "post_id": 51973447, "comment_id": 91076287, "body": "@IoanaP. Firebase charges based on how many requests you send them. For prototyping or smaller applications making an extra query / request is not going to have a costly impact, but at larger levels will rack up a high bill and is less performant."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1535539990, "post_id": 51973447, "comment_id": 91100920, "body": "@AdamHurwitz I&#39;m sorry Adam but I cannot understand you. What is difference if I query the database once to get all users or if I query the database using two queries to get same amount of users except one? Let&#39;s say I have 1000 users, in the first case I make 1000 reads in one query in the second case I make 999 reads in 2 queries. One read operation is the difference? I have the cost of one read operation, even if I query the database and I get no result, right?"}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "reply_to_user": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1535540117, "post_id": 51973447, "comment_id": 91100997, "body": "@AdamHurwitz Beside that, two queries on the same amount of data will be much faster rather than a single query on the exact amount of data, right?"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 0, "creation_date": 1535654140, "post_id": 51973447, "comment_id": 91157726, "body": "@IoanaP. One read operation is the difference. This difference is fine for getting something to work, but is not suitable for production if this information is updated on a regular basis as the extra read operation would accumulate over time. Firestore query performance is based on the size of the query result, not the size of the information queried from. If 2 queries are being made I&#39;d expect the additional operation to add slightly additional time. From an architecture stand point it is always best to simplify the # of queries being made."}, {"owner": {"reputation": 966, "user_id": 4254802, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f5dc97dc6ce69f299039d00c2a90a1d7?s=128&d=identicon&r=PG&f=1", "display_name": "Qutbuddin Bohra", "link": "https://stackoverflow.com/users/4254802/qutbuddin-bohra"}, "edited": false, "score": 0, "creation_date": 1580972992, "post_id": 51973447, "comment_id": 106275318, "body": "using your code, i am get getting warning error in isScoliing , Transform variable into final one element array, please resolve me this query, thank you"}], "tags": [], "owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "is_accepted": true, "score": 8, "last_activity_date": 1535446806, "last_edit_date": 1535446806, "creation_date": 1534964218, "answer_id": 51973447, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/51973447#51973447", "title": "How to exclude an element from a Firestore query?", "body": "<p>After days and days of struggling with this issue, I finally found the answer. I could not solve this without the help of @Raj. Thank you so much @Raj for the patience and guidance.</p>\n\n<p>First off all, according to the answer provided by @Frank van Puffelen in his answer from this <a href=\"https://stackoverflow.com/questions/50590989/how-to-add-2-different-queries-inside-an-firestorerecycleradapter\">post</a>, I stopped searching for a solution that can help me pass two queries to a single adapter.</p>\n\n<p>In this question, all that I wanted to achieve was to query the database to get all the users except one, me. So because we cannot combine two queries into a single instance, I found that we can combine the result of both queries. So I have created two queries:</p>\n\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nQuery firstQuery = db.collection(\"users\").whereLessThan(\"uid\", uid);\nQuery secondQuery = db.collection(\"users\").whereGreaterThan(\"uid\", uid);\n</code></pre>\n\n<p>I'm having a <code>UserModel</code> (POJO) class for my user object. I found <strong>not one</strong>, but <strong>two</strong> ways to solve the problem. The first one would be to query the database to get all user objects that correspond to the first criteria and add them to a list. After that, query the database again and get the other user objects that correspond to the second criteria and add them to the <strong>same</strong> list. Now I have a list that contains all the users that I need but one, the one with that particular id from the queries. This is the code for future visitors:</p>\n\n<pre><code>firstQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        List&lt;UserModel&gt; list = new ArrayList&lt;&gt;();\n        if (task.isSuccessful()) {\n            for (DocumentSnapshot document : task.getResult()) {\n                UserModel userModel = document.toObject(UserModel.class);\n                list.add(userModel);\n            }\n\n            secondQuery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        for (DocumentSnapshot document : task.getResult()) {\n                            UserModel userModel = document.toObject(UserModel.class);\n                            list.add(userModel);\n                        }\n\n                        //Use the list of users\n                    }\n                }\n            });\n        }\n    }\n});\n</code></pre>\n\n<p>The second approach would be much shorter because I use <code>Tasks.whenAllSuccess()</code> like this:</p>\n\n<pre><code>Task firstTask = firstQuery.get();\nTask secondTask = secondQuery.get();\n\nTask combinedTask = Tasks.whenAllSuccess(firstTask, secondTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n        @Override\n        public void onSuccess(List&lt;Object&gt; list) {\n            //This is the list that I wanted\n        }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 1, "creation_date": 1535447061, "post_id": 52048159, "comment_id": 91058160, "body": "Can you please explain me how can I use this code to remove a single user (which is me) from a query? I&#39;ll prefer in Java because JS or Kotlin I don&#39;t know. Thanks!"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1535475924, "post_id": 52048159, "comment_id": 91076497, "body": "@IoanaP. In the sample code above the <code>loadInitial()</code> method for instance makes the Firebase Firestore query to return the data <code>it.result.documents</code>. I convert each <code>document</code> into my own <code>Content</code> object: <code>val content = document.toObject(Content::class.java)</code> and then add it to a list <code>items.</code> After all of the <code>Content</code> objects are in the list of <code>items</code> you can remove the unwanted user from the list using <code>.remove(itemToRemove)</code> before adding the list of items to the callback method <code>callback.onResult(items)</code>.  You would also make sure to do the same in the <code>loadAfter()</code> method."}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1535476139, "post_id": 52048159, "comment_id": 91076613, "body": "The documentation in my post above explains the PagedListAdapter in full detail."}, {"owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1535540260, "post_id": 52048159, "comment_id": 91101089, "body": "As I understand from you code, is that you are ordering the result, you aren&#39;t excluding one of them at all, as my initial question was. Can you provide me a concrete example on how I can get the same result as mine, using your code? Thanks!"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "edited": false, "score": 0, "creation_date": 1535653652, "post_id": 52048159, "comment_id": 91157490, "body": "@IoanaP. Correct, the first step taken is ordering the result. Once the ordered result is organized into a collection such as an ArrayList you can remove one or multiple objects if you define a custom <b>Hash Code</b> for your object based on the object&#39;s attributes. If you define an <code>ArrayList&lt;YourCustomObject&gt;</code> you can then call <code>listName.remove(objectName)</code>. Here is a sample on defining a custom Hash Code: <a href=\"https://www.mkyong.com/java/java-how-to-overrides-equals-and-hashcode/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-how-to-overrides-equals-and-hashcode</a>."}], "tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": false, "score": 1, "last_activity_date": 1535412488, "creation_date": 1535412488, "answer_id": 52048159, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/52048159#52048159", "title": "How to exclude an element from a Firestore query?", "body": "<p>The simplest solution would be to use a <strong>PagedListAdapter</strong> and create a custom <strong>DataSource</strong> for the Firestore queries. In the <strong>DataSource</strong> the <strong>Query</strong> can be transformed into an Array or ArrayList in which you can easily remove your item before adding the data to the method <code>callback.onResult(...)</code>. </p>\n\n<p>I used a similar solution to process data after a Firestore query in order to filter and sort by a time attribute, and then re-sort by a quality score attribute in the client before passing the data back in to <code>callback.onResult(...)</code>.</p>\n\n<h3>Documentation</h3>\n\n<ul>\n<li>Google: <a href=\"https://developer.android.com/topic/libraries/architecture/paging/data#custom-data-source\" rel=\"nofollow noreferrer\">Build your own data sources</a></li>\n<li>Codepath: <a href=\"https://github.com/codepath/android_guides/wiki/Paging-Library-Guide\" rel=\"nofollow noreferrer\">Paging Library Guide</a></li>\n</ul>\n\n<h3>Data Source Sample</h3>\n\n<pre><code>class ContentFeedDataSource() : ItemKeyedDataSource&lt;Date, Content&gt;() {\n\noverride fun loadBefore(params: LoadParams&lt;Date&gt;, callback: LoadCallback&lt;Content&gt;) {}\n\noverride fun getKey(item: Content) = item.timestamp\n\noverride fun loadInitial(params: LoadInitialParams&lt;Date&gt;, callback: LoadInitialCallback&lt;Content&gt;) {\n    FirestoreCollections.contentCollection\n            .collection(FirestoreCollections.ALL_COLLECTION)\n            .orderBy(Constants.TIMESTAMP, Query.Direction.DESCENDING)\n            .whereGreaterThanOrEqualTo(Constants.TIMESTAMP, DateAndTime.getTimeframe(WEEK))\n            .limit(params.requestedLoadSize.toLong())\n            .get().addOnCompleteListener {\n                val items = arrayListOf&lt;Content?&gt;()\n                for (document in it.result.documents) {\n                    val content = document.toObject(Content::class.java)\n                    items.add(content)\n                }\n                callback.onResult(items.sortedByDescending { it?.qualityScore })\n            }\n}\n\noverride fun loadAfter(params: LoadParams&lt;Date&gt;, callback: LoadCallback&lt;Content&gt;) {\n    FirestoreCollections.contentCollection\n            .collection(FirestoreCollections.ALL_COLLECTION)\n            .orderBy(Constants.TIMESTAMP, Query.Direction.DESCENDING)\n            .startAt(params.key)\n            .whereGreaterThanOrEqualTo(Constants.TIMESTAMP, DateAndTime.getTimeframe(WEEK))\n            .limit(params.requestedLoadSize.toLong())\n            .get().addOnCompleteListener {\n                val items = arrayListOf&lt;Content?&gt;()\n                for (document in it.result.documents) {\n                    val content = document.toObject(Content::class.java)\n                    items.add(content)\n                }\n                val sortedByQualityScore = ArrayList(items.sortedByDescending { it?.qualityScore })\n                callback.onResult(sortedByQualityScore)\n                sortedByQualityScore.clear()\n            }\n}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 9457832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hf7jd.png?s=128&g=1", "display_name": "The Fluffy T Rex", "link": "https://stackoverflow.com/users/9457832/the-fluffy-t-rex"}, "is_accepted": false, "score": 0, "last_activity_date": 1542907581, "creation_date": 1542907581, "answer_id": 53435829, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/53435829#53435829", "title": "How to exclude an element from a Firestore query?", "body": "<p><strong>Simpler and earlier client-side filtering (when you add items to your list):</strong></p>\n\n<ol>\n<li>Get the current user's ID by using Firestore's standard method.</li>\n<li>Get the name of the doc for all the users in your user collection.</li>\n<li>Before adding the user to\nyour RecyclerView list, check that the user it is about to add to your list is not the current user. </li>\n</ol>\n\n<p>When done is this way, you can use the \"not equals\" method on the client side and not get into any Firestore issues. Another benefit is that you don't have to mess with your adapter or hide the view from a list-item you didn't want in the recycler.</p>\n\n<pre><code>public void getUsers(final ArrayList&lt;Users&gt; usersArrayList, final Adapter adapter) {\n\n    CollectionReference usersCollectionRef = db.collection(\"users\");\n\n    Query query = usersCollectionRef\n            .whereEqualTo(\"is_onboarded\", true);\n\n    query.get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n\n                            final String otherUserID = document.getId();\n\n                             FirebaseUser user = mAuth.getCurrentUser();\n                             String currentUserID = user.getUid();\n\n                            if (!otherUserID.equals(currentUserId)) {\n\n                              usersArrayList.add(new User(otherUserID));\n                              adapter.notifyDataSetChanged(); //Ensures users are visible immediately\n                                            }\n                                        } else {\n                                            Log.d(TAG, \"get failed with \", task.getException());\n                                        }\n                                    }\n                                });\n                            }\n\n                        }\n                    } else {\n                        Log.d(TAG, \"Error getting documents: \", task.getException());\n                    }\n                }\n            });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 3664716, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/EqmCu.jpg?s=128&g=1", "display_name": "Ally Makongo", "link": "https://stackoverflow.com/users/3664716/ally-makongo"}, "is_accepted": false, "score": 0, "last_activity_date": 1596979847, "creation_date": 1596979847, "answer_id": 63326948, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/63326948#63326948", "title": "How to exclude an element from a Firestore query?", "body": "<p>You don't have to do all this</p>\n<p>Just do normal query and hide the layout by setting getLayoutParams().height and width to 0 respectively. See example below.</p>\n<pre><code>  if(firebaseUserId.equalIgnoreCase(&quot;your_holder_firebase_user_id&quot;){\n    holder.mainLayout.setVisibility(View.INVISIBLE);\n    holder.mainLayout.getLayoutParams().height = 0;\n    holder.mainLayout.getLayoutParams().width = 0;\n\n  }else {\n   //show your list as normal\n  }\n  //This will hide any document snapshot u don't need, it will be there but hidden\n \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13764313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0100a78c1d54bd1e47b46e000f4d0b?s=128&d=identicon&r=PG&f=1", "display_name": "Bader-Al", "link": "https://stackoverflow.com/users/13764313/bader-al"}, "is_accepted": false, "score": 0, "last_activity_date": 1597559945, "last_edit_date": 1597559945, "creation_date": 1597541599, "answer_id": 63432331, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/63432331#63432331", "title": "How to exclude an element from a Firestore query?", "body": "<p>here's my solution with flutter for usernames</p>\n<pre class=\"lang-java prettyprint-override\"><code>Future&lt;bool&gt; checkIfUsernameExistsExcludingCurrentUid(\n      // TODO NOT DONE\n      String username,\n      String uid) async {\n    print(&quot;searching db for: $username EXCLUDING SELF&quot;);\n    bool exists = true;\n\n    QuerySnapshot result = await _firestore\n        .collection(USERS_COLLECTION)\n        .where(\n          &quot;username&quot;,\n          isEqualTo: username,\n        )\n        .getDocuments();\n\n    List _documents = result.documents;\n    _documents.forEach((element) {\n      if (element['uid'] == uid) {\n        exists = false;\n      } else {\n        return true;\n      }\n    });\n\n    return exists;\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 658, "user_id": 6576083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rlS0e.png?s=128&g=1", "display_name": "Davis Jones", "link": "https://stackoverflow.com/users/6576083/davis-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1616066994, "creation_date": 1616066994, "answer_id": 66690197, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query/66690197#66690197", "title": "How to exclude an element from a Firestore query?", "body": "<h3>2021 Update: This Is Supported</h3>\n<p>Howdy devs. It looks like this is <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#not_equal_\" rel=\"nofollow noreferrer\">now supported</a> with the where operator used like this: <code>citiesRef.where(&quot;capital&quot;, &quot;!=&quot;, false);</code></p>\n"}], "owner": {"reputation": 1304, "user_id": 7919372, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d7a8c9f97f785b0dc4697f3951346ad0?s=128&d=identicon&r=PG&f=1", "display_name": "Joan P.", "link": "https://stackoverflow.com/users/7919372/joan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9459, "favorite_count": 2, "accepted_answer_id": 51973447, "answer_count": 8, "score": 8, "last_activity_date": 1616066994, "creation_date": 1534339687, "last_edit_date": 1534847264, "question_id": 51859652, "link": "https://stackoverflow.com/questions/51859652/how-to-exclude-an-element-from-a-firestore-query", "title": "How to exclude an element from a Firestore query?", "body": "<p>I have a collection of users and I want to query all users from the database and display them in a <code>RecyclerView</code> except one, <strong>mine</strong>. This is my db schema:</p>\n\n<pre><code>users [collection]\n  - uid [document]\n     - uid: \"fR5bih7SysccRu2Gu9990TeSSyg2\"\n     - username: \"John\"\n     - age: 22\n  - //other users\n</code></pre>\n\n<p>How to query the database like so:</p>\n\n<pre><code>String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\nQuery q = db.collection(\"users\").whereNotEqualTo(\"uid\", uid);\n</code></pre>\n\n<p>So I need this query object to be passed to a <code>FirestoreRecyclerOptions</code> object in order to display all the other users in <code>RecyclerView</code>.</p>\n\n<p>Is this even possible? If not, how can I solve this? Thanks!</p>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>options = new FirestoreRecyclerOptions.Builder&lt;UserModel&gt;()\n        .setQuery(query, new SnapshotParser&lt;UserModel&gt;() {\n            @NonNull\n            @Override\n            public UserModel parseSnapshot(@NonNull DocumentSnapshot snapshot) {\n                UserModel userModel = documentSnapshot.toObject(UserModel.class);\n                if (!userModel.getUid().equals(uid)) {\n                    return userModel;\n                } else {\n                    return new UserModel();\n                }\n            }\n        }).build();\n</code></pre>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 0, "creation_date": 1534338902, "post_id": 51859357, "comment_id": 90670981, "body": "Can you post the exact error message? What compiler version do you use?"}, {"owner": {"reputation": 1419, "user_id": 3185230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kD571.jpg?s=128&g=1", "display_name": "Ariel Carbonaro", "link": "https://stackoverflow.com/users/3185230/ariel-carbonaro"}, "reply_to_user": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 0, "creation_date": 1534347651, "post_id": 51859357, "comment_id": 90676122, "body": "done! @TheOperator"}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 2, "last_activity_date": 1534346063, "creation_date": 1534346063, "answer_id": 51861515, "question_id": 51859357, "link": "https://stackoverflow.com/questions/51859357/kotlin-bound-class-reference-and-generics/51861515#51861515", "title": "kotlin bound class reference and generics", "body": "<p>There's a subtle difference between the two: </p>\n\n<pre><code>class K\nval javaClass: JsonAdapter&lt;K&gt; = moshi.adapter(body.javaClass)\nval classJava: JsonAdapter&lt;out K&gt; = moshi.adapter(body::class.java)\n</code></pre>\n\n<p>Note that <code>body::class.java</code> is marked with <code>out</code> </p>\n\n<p>By calling <code>moshi.adapter(body::class.java).toJson(body)</code> you're try to pass <code>body</code> as <code>in</code> parameter</p>\n"}, {"comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1534350720, "post_id": 51862534, "comment_id": 90677744, "body": "Yeah, <code>T:Any</code> was a bit mind-bending at first glance :)"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1534349896, "creation_date": 1534349896, "answer_id": 51862534, "question_id": 51859357, "link": "https://stackoverflow.com/questions/51859357/kotlin-bound-class-reference-and-generics/51862534#51862534", "title": "kotlin bound class reference and generics", "body": "<p>The difference is, as <a href=\"https://stackoverflow.com/users/5985853/alexey-soshin\">@AlexeySoshin</a> noted, that the unbound class reference <code>Foo::class</code> is typed with the exact type of the referenced class <code>KClass&lt;Foo&gt;</code>, and the bound one is typed with an <code>out</code>-projection: <code>KClass&lt;out Foo&gt;</code>.</p>\n\n<p>There is a strong reason for this difference. When you reference a class by its name, you can be sure that the class token the reference evaluates to designates exactly the referenced type.</p>\n\n<p>But, when you get a bound class reference for an expression typed as <code>Foo</code>, the expression may evaluate to an instance of <code>Foo</code>'s subtype, and the correct type for the type token is <code>KClass&lt;out Foo&gt;</code>, meaning exactly that the actual type argument may be <code>Foo</code> or its subtype.</p>\n\n<p>See this answer for another detailed explanation of the difference between bound and unbound class references: <a href=\"https://stackoverflow.com/a/45782580/2196460\">(link)</a></p>\n"}], "owner": {"reputation": 1419, "user_id": 3185230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kD571.jpg?s=128&g=1", "display_name": "Ariel Carbonaro", "link": "https://stackoverflow.com/users/3185230/ariel-carbonaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 51861515, "answer_count": 2, "score": 2, "last_activity_date": 1534349896, "creation_date": 1534338507, "last_edit_date": 1534347581, "question_id": 51859357, "link": "https://stackoverflow.com/questions/51859357/kotlin-bound-class-reference-and-generics", "title": "kotlin bound class reference and generics", "body": "<p>I'm switching to Kotlin for Android, but I'm struggling to understand the behavior of generics and Bound Class References.\nIn java I can serialize an object using Moshi's lib with the following lines:</p>\n\n<pre><code>    Moshi moshi = new Moshi.Builder().build();\n    String string = moshi.adapter(CredentialsResponse.class).toJson(body);\n</code></pre>\n\n<p>And in Kotlin:</p>\n\n<pre><code>    val moshi = Moshi.Builder().build()\n    var string = moshi.adapter(CredentialsResponse::class.java).toJson(body)\n</code></pre>\n\n<p>If I want to get the class from an instance, I found two options, but one is not  working, and I can't understand why:\nThis code works:</p>\n\n<pre><code>    fun testStack(body: CredentialsResponse) {\n        val moshi = Moshi.Builder().build()\n        var string = moshi.adapter(body.javaClass).toJson(body)\n    }\n</code></pre>\n\n<p>but this code shows a type mismatch error</p>\n\n<pre><code>    fun testStack(body: CredentialsResponse) {\n        val moshi = Moshi.Builder().build()\n        var string = moshi.adapter(body::class.java).toJson(body)\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UerWK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UerWK.png\" alt=\"Compiler Error\"></a></p>\n\n<p>AFAIK, this call is allowed since 1.1 (<a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11</a>), so what am I missing?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-framelayout"], "comments": [{"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1534364304, "post_id": 51859275, "comment_id": 90683838, "body": "Simple answer, don&#39;t touch FragmentViews from inside the ActivityHost, do all logics inside the Fragments, not recommended answer, from inside the Fragment, inject the View at the Activity, but it will look like out of the lifecycle of the Activity since it will only be able to touch the view AFTER it has been set from the fragment, so its better to keep the logic inside the Fragment"}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 5071448, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9P1woenvmJw/AAAAAAAAAAI/AAAAAAAABsY/CfoITJwZCMI/photo.jpg?sz=128", "display_name": "Jos&#233; Fernando Garcia Junior", "link": "https://stackoverflow.com/users/5071448/jos%c3%a9-fernando-garcia-junior"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534361068, "post_id": 51859458, "comment_id": 90682477, "body": "just to make sure, are you closing the <code>FrameLayout </code> tag?"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534368545, "post_id": 51859458, "comment_id": 90685489, "body": "100% yes i closed it"}], "tags": [], "owner": {"reputation": 401, "user_id": 5071448, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9P1woenvmJw/AAAAAAAAAAI/AAAAAAAABsY/CfoITJwZCMI/photo.jpg?sz=128", "display_name": "Jos&#233; Fernando Garcia Junior", "link": "https://stackoverflow.com/users/5071448/jos%c3%a9-fernando-garcia-junior"}, "is_accepted": false, "score": 0, "last_activity_date": 1534338893, "creation_date": 1534338893, "answer_id": 51859458, "question_id": 51859275, "link": "https://stackoverflow.com/questions/51859275/is-it-possible-to-get-recyclerview-from-fragment/51859458#51859458", "title": "is it possible to get `RecyclerView` from Fragment?", "body": "<p>Try to use the <code>findViewById</code> on onCreate or onCreateView (if you are in a Fragment). It is happening because before this methods your layout wasn't inflated yet so Android cannot find your RecyclerView</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n     private lateinit var mBlogList : RecyclerView\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        mBlogList = findViewById&lt;RecyclerView&gt;(R.id.recyclee)\n    }\n}\n</code></pre>\n\n<p>I would recommend you to read this: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a>\nKotlin has a better way to get the reference os your views, you don't need to use <code>findViewById</code> =)</p>\n"}, {"comments": [{"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534342174, "post_id": 51859472, "comment_id": 90672875, "body": "shows another error : Missing &#39;setValue(MainActivity, KProperty&lt;*&gt;,RecyclerView!)"}], "tags": [], "owner": {"reputation": 11, "user_id": 10229398, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-w1NzPrrPIoA/AAAAAAAAAAI/AAAAAAAAAGw/5c0QPbDsLmI/photo.jpg?sz=128", "display_name": "rhylle", "link": "https://stackoverflow.com/users/10229398/rhylle"}, "is_accepted": false, "score": 0, "last_activity_date": 1534339324, "last_edit_date": 1534339324, "creation_date": 1534338950, "answer_id": 51859472, "question_id": 51859275, "link": "https://stackoverflow.com/questions/51859275/is-it-possible-to-get-recyclerview-from-fragment/51859472#51859472", "title": "is it possible to get `RecyclerView` from Fragment?", "body": "<p>You cannot call <code>findViewById</code> from the global scope. But, you can declare it as:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private val mBlogList by lazy { findViewById&lt;RecyclerView&gt;(R.id.recyclee) }\n</code></pre>\n\n<p>...then use the variable the usual.</p>\n"}, {"comments": [{"owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534343412, "post_id": 51859542, "comment_id": 90673623, "body": "@evals what are you getting then?"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534343506, "post_id": 51859542, "comment_id": 90673667, "body": "java.lang.IllegalStateException: recyclee must not be null"}, {"owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534343740, "post_id": 51859542, "comment_id": 90673815, "body": "@evals do you extend <code>AppCompatActivity</code>? Is your provided layout called <code>activity_main.xml</code>?"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534344219, "post_id": 51859542, "comment_id": 90674112, "body": "the MainActivity do extend <code>AppCompatActivity</code> , and the provided layout is not <code>activity_main.xml</code> it is called <code>fragment_List.xml</code> @anatolii"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534354550, "post_id": 51859542, "comment_id": 90679443, "body": "I don&#39;t think this was the problem, the <code>fragment_list.xml</code> already inflated in the Fragment , i will edit the question to provide Fragment code"}, {"owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534354941, "post_id": 51859542, "comment_id": 90679606, "body": "@evals could you share where you create your <code>Fragment</code> ?"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534355411, "post_id": 51859542, "comment_id": 90679828, "body": "i will post everything in minutes , just need to write comments in my code to make it clear"}, {"owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "reply_to_user": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534362648, "post_id": 51859542, "comment_id": 90683147, "body": "@evals hold on, but you call this <code>mBlogList = recyclee</code> in <code>&#242;nCreate</code> before the <code>Fragment&#39;s</code> <code>onCreateView</code> is called."}], "tags": [], "owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "is_accepted": true, "score": 1, "last_activity_date": 1534368340, "last_edit_date": 1534368340, "creation_date": 1534339303, "answer_id": 51859542, "question_id": 51859275, "link": "https://stackoverflow.com/questions/51859275/is-it-possible-to-get-recyclerview-from-fragment/51859542#51859542", "title": "is it possible to get `RecyclerView` from Fragment?", "body": "<p>If you apply <code>kotlin-android-extensions</code> plugin then you don't need to use <code>findViewById</code> anymore because you can access views in the layout as if they're properties (by name). So, your <code>onCreate</code> could look as follows:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    assert recyclee != null\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Since you're trying to do this in <code>Fragment</code> and your layout file is called \n <code>fragment_List.xml</code> then in your <code>Fragment</code> you must inflate the layout first and then you can access your <code>RecyclerView</code> as in the example above for <code>Activity</code>:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_List, container, false)\n} \n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    assert recyclee != null\n}\n</code></pre>\n\n<p>If you try to access your <code>RecyclerView</code> in <code>Activity</code> before <code>fragment_List</code> is inflated in the <code>Fragment</code> then it will obviously be <code>null</code> (it hasn't been created yet). That's actually what you're trying to do in <code>onCreate</code> - it's too early as the <code>Fragment's</code> layout hasn't been built yet.</p>\n\n<p><strong>Edit 2</strong></p>\n\n<p>As it's seen from your code, <code>mBlogList = recyclee</code> is set in <code>onCreate</code>. Even though it's done after the <code>ListFragment</code> is created, it's still too early as its <code>onCreateView</code> hasn't been called yet and so no layout is in place. </p>\n\n<p>A quick fix would be to do it in <code>onStart</code> as at that point <code>ListFragment</code> is definitely there. <em>However, a better approach is to do the logic inside <code>ListFragment</code> itself and communicate with <code>MainActivity</code> via callbacks as described <a href=\"https://developer.android.com/training/basics/fragments/communicating\" rel=\"nofollow noreferrer\">here</a></em></p>\n"}], "owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 0, "accepted_answer_id": 51859542, "answer_count": 3, "score": 2, "last_activity_date": 1534368340, "creation_date": 1534338188, "last_edit_date": 1534356152, "question_id": 51859275, "link": "https://stackoverflow.com/questions/51859275/is-it-possible-to-get-recyclerview-from-fragment", "title": "is it possible to get `RecyclerView` from Fragment?", "body": "<p>trying to get <code>RecyclerView</code> from this layout : </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".listFragment\"&gt;\n\n&lt;android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/recyclee\"&gt;\n&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p></p>\n\n<p>into main activity class :</p>\n\n<pre><code>    private var mBlogList = findViewById&lt;RecyclerView&gt;(R.id.recyclee)\n</code></pre>\n\n<p>getting error :\n<code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.Window$Callback android.view.Window.getCallback()' on a null object reference</code>\nany help please :) </p>\n\n<p><strong>edit 1</strong></p>\n\n<p>i use kotlin extension now </p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_list.*\nclass MainActivity : AppCompatActivity() {\nprivate lateinit var mBlogList : RecyclerView\n</code></pre>\n\n<p>in onCreate method :</p>\n\n<pre><code>        mBlogList = recyclee\n</code></pre>\n\n<p>but the same error still exist</p>\n\n<p><strong>edit 2</strong>\nlistFragment code : </p>\n\n<pre><code>class listFragment : Fragment() {\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_list, container, false)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    recyclee != null\n}\ncompanion object {\n    fun newInstance(): listFragment = listFragment()\n}\n}\n</code></pre>\n\n<p><strong>edit 3</strong> \nwhole MainActivity code:</p>\n\n<pre><code>//this app supposed to read from FirebaseDatabase\n//into Recycler view\n//the RecyclerView is into Fragment layout\n//i use Fragments into FrameLayout in the activity_main.xml\n// the RecyclerView should be shown when navigatoinBar is clicked\n//or on start of MainActivity\nclass MainActivity : AppCompatActivity() {\n    private var mDatabase:DatabaseReference? = null\n    private lateinit var mBlogList : RecyclerView\n    private var query:Query?=null\n    private var options:FirebaseRecyclerOptions&lt;Blog&gt;?=null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        //start listFragment , RecyclerView is there\n        val mFragment = listFragment.newInstance()\n        //openFragment method is below\n        openFragment(mFragment)\n        //navigation bottom onclicklistener\n\n\nnavBar.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n        //get data from database\n        mDatabase=FirebaseDatabase.getInstance().getReference().child(\"mall\")\n        mDatabase?.keepSynced(true)\n        //here i should have recyclee but it is null i don't know why\n        mBlogList = recyclee\n        mBlogList.setHasFixedSize(true)\n        mBlogList.layoutManager = LinearLayoutManager(this)\n        //query of database\n        query = mDatabase?.orderByKey()\n\n    }\nprivate val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n   //there are 4 icons in the navigation_bottom_bar \n    //now we are talking about listNav icon only because it is realted \n    // with listFragment\n    when (item.itemId) {\n        R.id.listNav -&gt; {\n            val mFragment = listFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.cartNav -&gt; {\n            val mFragment = cartFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.supportNav -&gt; {\n            val mFragment = supportFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.accountNav -&gt; {\n            val mFragment = accountFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\nprivate fun openFragment(fragment: Fragment) {\n    //open Fragment into FrameLayout in the main_activity.xml\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.mainFrame, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n\noverride fun onStart() {\n    super.onStart()\n    //set options for FirebaseRecyclerAdapter\n    options = FirebaseRecyclerOptions.Builder&lt;Blog&gt;()\n            .setQuery(query!!, Blog::class.java)\n            .build()\n    //set custom adapter\n    val mAdapter = object : FirebaseRecyclerAdapter&lt;Blog, BlogViewHolder&gt;(\n            options!!) {\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BlogViewHolder {\n            val view = LayoutInflater.from(parent.context)\n                    .inflate(R.layout.cardview, parent, false)\n            return BlogViewHolder(view)}\n\n        override fun onBindViewHolder(holder: BlogViewHolder, position: Int, model: Blog) {\n            holder.setTitle(model.title)\n            holder.setDes(model.des)\n            holder.setImage(applicationContext, model.image)\n        }\n    }\n    mBlogList.adapter = mAdapter\n}\ninner class BlogViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n    var mView:View= itemView\n    //set title, des amd image with data we got from database\n    fun setTitle(title:String){\n        var postTitle = mView.findViewById&lt;TextView&gt;(R.id.post_title)\n        postTitle?.text = title\n    }\n    fun setDes(des:String){\n        var postDes = mView.findViewById&lt;TextView&gt;(R.id.post_des)\n        postDes?.text = des\n    }\n    fun setImage(image:String){\n        var postImage = mView.findViewById&lt;ImageView&gt;(R.id.post_title)\n        Picasso.get().load(image).into(postImage)\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-architecture-navigation", "android-module"], "answers": [{"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 3, "last_activity_date": 1534337849, "creation_date": 1534337849, "answer_id": 51859169, "question_id": 51858862, "link": "https://stackoverflow.com/questions/51858862/navigation-for-app-with-multiple-modules-using-single-navhostfragment/51859169#51859169", "title": "Navigation for app with multiple modules using single NavHostFragment", "body": "<p>As per the <a href=\"https://developer.android.com/reference/androidx/navigation/fragment/NavHostFragment.html#findNavController(android.support.v4.app.Fragment)\" rel=\"nofollow noreferrer\">findNavController() documentation</a>:</p>\n\n<blockquote>\n  <p>This method will locate the NavController associated with this Fragment, looking first for a NavHostFragment along the given Fragment's parent chain.</p>\n</blockquote>\n\n<p>This means that you don't need to pass in the <code>NavHostFragment</code> itself, but can pass in any Fragment created by your <code>NavHostFragment</code> and it'll correctly find the <code>NavController</code>.</p>\n\n<p>Therefore in almost all cases, you should be passing <code>this</code> into <code>findNavController()</code>:</p>\n\n<pre><code>// From anywhere in one of the Fragments in your navigation graph\nfindNavController(this).navigate(R.id.loginFragment)\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 2113042, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/068470cd06daf9e361b59fe72faa450a?s=128&d=identicon&r=PG", "display_name": "TeKo", "link": "https://stackoverflow.com/users/2113042/teko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 2, "accepted_answer_id": 51859169, "answer_count": 1, "score": 1, "last_activity_date": 1534337849, "creation_date": 1534336718, "last_edit_date": 1534337121, "question_id": 51858862, "link": "https://stackoverflow.com/questions/51858862/navigation-for-app-with-multiple-modules-using-single-navhostfragment", "title": "Navigation for app with multiple modules using single NavHostFragment", "body": "<p>I have an app with multiple feature modules that I want to navigate using a single NavHostFragment in my main module.</p>\n\n<pre><code>         app\n       |  |  |\nfeature1  |  feature2\n       |  |  |\n       common\n</code></pre>\n\n<p>The nav graph seems to work fine (I can add all the Fragments from the feature modules and the startFragment shows up when I start the app) but sometimes I have to start a navigation from inside the feature modules but I dont have access to the NavHostFragment there.</p>\n\n<p>for example :</p>\n\n<pre><code>findNavController(navHostFragment).navigate(R.id.loginFragment)\n</code></pre>\n"}, {"tags": ["kotlin", "standard-library"], "answers": [{"comments": [{"owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "edited": false, "score": 1, "creation_date": 1534338590, "post_id": 51859132, "comment_id": 90670824, "body": "Never thought of reading their poms, but I see your point with the dependencies and transitivity. I however still wish there was better documentation on the Kotlin pages."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 14, "last_activity_date": 1534337703, "creation_date": 1534337703, "answer_id": 51859132, "question_id": 51858596, "link": "https://stackoverflow.com/questions/51858596/which-standard-library-to-use-in-kotlin/51859132#51859132", "title": "Which standard library to use in Kotlin", "body": "<p>As the name indicates, -jdk8 is supposed to be used when using the JDK8. It contains code used to integrate the changes made in the JDK 8 into the Kotlin standard lib.</p>\n\n<p>As its pom indicates, it depends on -jdk7, which contains the code needed to integrate the changes made in the JDK 7 into the Kotlin standard lib.</p>\n\n<p>And as the pom of -jdk7 indicates, it depends on the stdlib.</p>\n\n<p>So, in short, use the one matching your JDK. Adding it to the dependencies will also, transitively, add all the ones for the previous versions of the JDK.</p>\n"}, {"tags": [], "owner": {"reputation": 7835, "user_id": 5318303, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/c68a73abf0e7084430aa45ac9f97fda9?s=128&d=identicon&r=PG", "display_name": "Mir-Ismaili", "link": "https://stackoverflow.com/users/5318303/mir-ismaili"}, "is_accepted": false, "score": 0, "last_activity_date": 1548843012, "creation_date": 1548843012, "answer_id": 54438005, "question_id": 51858596, "link": "https://stackoverflow.com/questions/51858596/which-standard-library-to-use-in-kotlin/54438005#54438005", "title": "Which standard library to use in Kotlin", "body": "<p>By running Gradle <code>dependencies</code> task in your Kotlin project, you can find some useful information. This is a part of output in a sample project:</p>\n\n<pre><code>$ ./gradlew dependencies\n\n...\n\nkotlinCompilerClasspath\n\\--- org.jetbrains.kotlin:kotlin-compiler-embeddable:1.3.20\n     +--- org.jetbrains.kotlin:kotlin-stdlib:1.3.20\n     |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.20\n     |    \\--- org.jetbrains:annotations:13.0\n     +--- org.jetbrains.kotlin:kotlin-script-runtime:1.3.20\n     +--- org.jetbrains.kotlin:kotlin-reflect:1.3.20\n     |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.3.20 (*)\n     \\--- org.jetbrains.intellij.deps:trove4j:1.0.20181211\n\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "is_accepted": false, "score": 16, "last_activity_date": 1601113536, "last_edit_date": 1601113536, "creation_date": 1563866477, "answer_id": 57158723, "question_id": 51858596, "link": "https://stackoverflow.com/questions/51858596/which-standard-library-to-use-in-kotlin/57158723#57158723", "title": "Which standard library to use in Kotlin", "body": "<p>Most of the stdlib is in the plain <code>kotlin-stdlib</code> artifact.</p>\n<p><code>kotlin-stdlib-jdk7</code> adds suppressed exceptions and a few extension methods.</p>\n<p><code>kotlin-stdlib-jdk8</code> adds ThreadLocalRandom as well as a few other extension methods and retrieving groups by name in Regexes.</p>\n<p>The code is there: <a href=\"https://github.com/JetBrains/kotlin/blob/55c8b35eee2ee8a93ccaffeaac6f9c3e4fd4ff18/libraries/stdlib/jvm/src/kotlin/internal/PlatformImplementations.kt#L27\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/55c8b35eee2ee8a93ccaffeaac6f9c3e4fd4ff18/libraries/stdlib/jvm/src/kotlin/internal/PlatformImplementations.kt#L27</a></p>\n<p>EDIT: I got curious so wrote an article about this: <a href=\"https://medium.com/@mbonnin/the-different-kotlin-stdlibs-explained-83d7c6bf293\" rel=\"nofollow noreferrer\">https://medium.com/@mbonnin/the-different-kotlin-stdlibs-explained-83d7c6bf293</a>.\nBottom line: Android declares a weird JVM version so almost nothing from <code>-jdk7</code> and <code>-jdk8</code> is used.</p>\n"}], "owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4271, "favorite_count": 3, "accepted_answer_id": 51859132, "answer_count": 3, "score": 15, "last_activity_date": 1601113536, "creation_date": 1534335624, "last_edit_date": 1534336750, "question_id": 51858596, "link": "https://stackoverflow.com/questions/51858596/which-standard-library-to-use-in-kotlin", "title": "Which standard library to use in Kotlin", "body": "<p>In Kotlin, when working with the JVM, it seems there is multiple choices for standard library, namely <code>kotlin-stdlib</code>, <code>kotlin-stdlib-jdk7</code> and <code>kotlin-stdlib-jdk8</code>.</p>\n\n<p>I cannot, however, find anything telling me the difference between these.\nThe only visible difference I have found is that I cannot use <code>com.fasterxml.jackson.databind.exc.MismatchedInputException</code> with <code>kotlin-stdlib</code>, but I can with <code>kotlin-stdlib-jdk8</code>.</p>\n\n<p>Is there anywhere I can read about the advantages using one over the others, or can anyone explain this in layman terms?</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "is_accepted": true, "score": 1, "last_activity_date": 1534417213, "creation_date": 1534417213, "answer_id": 51875457, "question_id": 51857733, "link": "https://stackoverflow.com/questions/51857733/how-to-prevent-form-hiding-tornadofx/51875457#51875457", "title": "How to prevent form hiding TornadoFX", "body": "<p>I tried setting the <code>onCloseRequest</code> to the <strong>window</strong> not the stage. On OS X, after I hit <code>cmd</code> + <code>q</code> the window minimises, but does not close. I guess the best solution I was able to get was:</p>\n\n<pre><code>//Method in my view\noverride fun onDock() {\n    super.onDock()\n    currentWindow?.setOnCloseRequest {\n        it.consume()\n        currentStage?.isFullScreen = true //Set the window to fullscreen again\n    }\n}\n</code></pre>\n\n<p>As I said, this behaviour is on OS X, I guess it will be different across various OSs...  </p>\n"}], "owner": {"reputation": 21, "user_id": 9442898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c6a3a4bfbd57268f9949ffe77d0002?s=128&d=identicon&r=PG&f=1", "display_name": "Y2Kot", "link": "https://stackoverflow.com/users/9442898/y2kot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 51875457, "answer_count": 1, "score": 1, "last_activity_date": 1534417460, "creation_date": 1534332073, "last_edit_date": 1534417460, "question_id": 51857733, "link": "https://stackoverflow.com/questions/51857733/how-to-prevent-form-hiding-tornadofx", "title": "How to prevent form hiding TornadoFX", "body": "<p>I need to disable closing of my app (It works in full screen) by pressing alt + f4. I read other threads and wrote the following code:</p>\n\n<pre><code>override fun start(stage: Stage) {\n        Platform.setImplicitExit(false)\n        stage.addEventFilter(KeyEvent.KEY_PRESSED) {\n            if (it.isAltDown &amp;&amp; it.code == KeyCode.F4) {\n                it.consume()\n            }\n        }\n        stage.setOnHiding { _ -&gt; EventHandler&lt;WindowEvent&gt; { it.consume() } }\n        stage.setOnCloseRequest { _ -&gt; EventHandler&lt;WindowEvent&gt; {\n            it.consume()\n        } }\n\n        stage.fullScreenExitKeyCombination = KeyCombination.NO_MATCH\n        stage.fullScreenExitHint = \"\"\n        stage.isFullScreen = true\n        super.start(stage)\n    }\n</code></pre>\n\n<p>The problem is that my app doesn't close but stage is being hidden. How can I disable the form from being hidden by pressing alf+f4?</p>\n"}, {"tags": ["android-fragments", "kotlin", "android-animation", "android-architecture-components", "android-architecture-navigation"], "comments": [{"owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1601934223, "post_id": 51856988, "comment_id": 113555558, "body": "does <code>KebabFragment</code> extend <code>baseFragment</code>? it seems to me that the action already has the transitions embedded, why do you need to reapply them?"}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "reply_to_user": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1601978102, "post_id": 51856988, "comment_id": 113567353, "body": "Yes KebabFragment extend BaseFragment and BaseFragment holds navigateAndClean function which reads fragment settings in nav_graph.xml and apply transition if there is any. If there is any transition we put it into navBuilder."}, {"owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1601985931, "post_id": 51856988, "comment_id": 113570700, "body": "so you say that when action passed to <code>navigateAndClean</code> has transitions they&#39;re not applied automatically and you need to apply them manually, correct?"}, {"owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "reply_to_user": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1601986841, "post_id": 51856988, "comment_id": 113571160, "body": "navController.navigate() does not take action object but actionId thats big difference. It does not now about any transition. You have to create custom navBuilder object with animations. So you first get the action from graph with actionId then check if there is any transition if so you set it to custom navBuilder object."}, {"owner": {"reputation": 1099, "user_id": 12506486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8884cfa783f8d85bd3268b4f457eb9d9?s=128&d=identicon&r=PG&f=1", "display_name": "Stachu", "link": "https://stackoverflow.com/users/12506486/stachu"}, "edited": false, "score": 0, "creation_date": 1601989052, "post_id": 51856988, "comment_id": 113572265, "body": "OK, clear. why not use <code>navController.navigate(actionId, null, action?.navOptions)</code>? doesn&#39;t it do the trick?"}], "owner": {"reputation": 1052, "user_id": 8187578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tz0fe.jpg?s=128&g=1", "display_name": "Kebab Krabby", "link": "https://stackoverflow.com/users/8187578/kebab-krabby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4292, "favorite_count": 5, "answer_count": 0, "score": 15, "last_activity_date": 1534755491, "creation_date": 1534328633, "last_edit_date": 1534755491, "question_id": 51856988, "link": "https://stackoverflow.com/questions/51856988/navigation-component-set-transition-animation-programmatically", "title": "Navigation Component set transition animation programmatically", "body": "<p>yesterday i come across with a problem that i needed to set animation from nav_graph.xml in my baseFragment and programatically get action object from current node  which includes enterAnim and exitAnim resource. Could not find solution here so here we go.</p>\n\n<p>First we need to feed anim folder with our animations in res folder because its hungry.</p>\n\n<p>slide_in_left.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;translate\n        android:duration=\"250\"\n        android:fromXDelta=\"-100%\"\n        android:fromYDelta=\"0%\"\n        android:toXDelta=\"0%\"\n        android:toYDelta=\"0%\" /&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>other animations you can easily found on github or stackoverflow.</p>\n\n<p>Here is my nav_graph.xml fragment from which we gonna make transition</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/kebabsFragment\"\n    android:name=\"com.kebabkrabby.kebabapp.KebabFragment\"\n    android:label=\"so many kebabs\"\n    tools:layout=\"@layout/fragment_kebab\"&gt;\n\n    &lt;action\n        android:id=\"@+id/action_kebabs_to_kebab_detail\"\n        app:destination=\"@id/kebabDetailFragment\"\n        app:enterAnim=\"@anim/slide_in_right\"\n        app:exitAnim=\"@anim/slide_out_left\" /&gt;\n&lt;/fragment&gt;\n</code></pre>\n\n<p>now in KebabFragment.tk u gonna call baseFragment method for transition to get into detail of our desired kebab and then popFromBackStack</p>\n\n<pre><code>//navigateAndClean(actionId, cleanFragmentId)\nnavigateAndClean(R.id.action_kebabs_to_kebab_detail, R.id.kebabsFragment)\n</code></pre>\n\n<p>in our baseFragment.kt</p>\n\n<pre><code>internal fun navigateAndClean(actionId: Int, currentFragmentIdToClear: Int) {\n\n    val navBuilder = NavOptions.Builder()\n\n    val navController = Navigation.findNavController(getRootView())\n    val currNavigationNode = navController.graph.findNode(currentFragmentIdToClear) // NavDestination of kebabsFragment object in nav_graph.xml\n    val action = currNavigationNode?.getAction(actionId) // finally we get this action_kebabs_to_kebab_detail action object\n\n    action?.navOptions?.enterAnim?.let {  //do we have animation or not?\n        navBuilder.setEnterAnim(it)\n    }\n\n    action?.navOptions?.exitAnim?.let {\n        navBuilder.setExitAnim(it)\n    }\n\n    navBuilder.setPopUpTo(currentFragmentIdToClear, true)       //remove from backstack\n\n    navController.navigate(actionId, null, navBuilder.build())\n}\n</code></pre>\n\n<p>Some people will ask. Hey, Mr. Kebab but how do i get <code>getRootView()</code>\nand Mr. Kebab will look at u and say \"buddy, look at this world, together we can achieve big things\"</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    rootView = inflater.inflate(mContentLayoutResourceId, container, false)\n    return rootView\n}\n\nfun getRootView(): View {\n    return rootView\n}\n</code></pre>\n\n<p>Durum kebab. Enjoy.</p>\n"}, {"tags": ["pointers", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 9716, "user_id": 1116739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7dd5d55de3e76fd4ca0916028e2d46?s=128&d=identicon&r=PG", "display_name": "cha0site", "link": "https://stackoverflow.com/users/1116739/cha0site"}, "is_accepted": true, "score": 10, "last_activity_date": 1578844919, "last_edit_date": 1578844919, "creation_date": 1534326420, "answer_id": 51856456, "question_id": 51856331, "link": "https://stackoverflow.com/questions/51856331/does-kotlin-have-pointers/51856456#51856456", "title": "Does Kotlin have pointers?", "body": "<p>It has references, and it doesn't support pointer arithmetic (so you can't increment or decrement).</p>\n\n<p>Note that the only thing that \"having pointers\" allows you is the ability to create a pointer and to dereference it.</p>\n\n<p>The closest thing to a \"pointer comparison\" is referential equality, which is performed with the <code>===</code> operator.</p>\n"}, {"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 1, "last_activity_date": 1569781984, "last_edit_date": 1569781984, "creation_date": 1569777774, "answer_id": 58157535, "question_id": 51856331, "link": "https://stackoverflow.com/questions/51856331/does-kotlin-have-pointers/58157535#58157535", "title": "Does Kotlin have pointers?", "body": "<p>There is no pointers in <em>Kotlin</em> for low-level processing as <em>C</em>. </p>\n\n<p>However, it's possible emulate pointers in high-level programming.</p>\n\n<p>For low-level programming it is necessary using special  system APIs to simulate arrays in memories, that exists  in <em>Windows</em>, <code>Linux</code>, etc. Read about memory mapped files <a href=\"https://www.infoworld.com/article/2898365/working-with-memory-mapped-files-in-net.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://javarevisited.blogspot.com/2012/01/memorymapped-file-and-io-in-java.html\" rel=\"nofollow noreferrer\">here</a>. Java <a href=\"https://stackoverflow.com/questions/18849609/how-to-manipulate-memory-from-java-with-jna-on-windows\">has</a> library to read and write directly in memory. </p>\n\n<p>Single types (numeric, string and boolean) are values, however, other types  are references (high level pointers) in <em>Kotlin</em>, that one can compare, assign, etc.</p>\n\n<p>If one needs increment or decrement pointers, just encapsulate the desired data package into a array</p>\n\n<p>For simulate pointers to simple values it just wrap the value in a class:</p>\n\n<pre><code>data class pStr (   // Pointer to a String\n  var s:String=\"\"\n)\n\nfun main() {\n var st=pStr(\"banana\")\n var tt=st\n tt.s = \"melon\"\n println(st.s) // display \"melon\"\n\n var s:String = \"banana\"\n var t:String = s\n t.s = \"melon\"\n println(s.s) // display \"banana\"\n}\n</code></pre>\n"}], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3421, "favorite_count": 1, "accepted_answer_id": 51856456, "answer_count": 2, "score": 1, "last_activity_date": 1578844919, "creation_date": 1534325941, "question_id": 51856331, "link": "https://stackoverflow.com/questions/51856331/does-kotlin-have-pointers", "title": "Does Kotlin have pointers?", "body": "<p>Does Kotlin have pointers? \nIf yes,</p>\n\n<ol>\n<li><p>How to increment a Pointer?</p></li>\n<li><p>How to decrement a Pointer?</p></li>\n<li><p>How to do Pointer Comparisons?</p></li>\n</ol>\n"}, {"tags": ["android", "unit-testing", "kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 2, "last_activity_date": 1534331167, "creation_date": 1534331167, "answer_id": 51857538, "question_id": 51855919, "link": "https://stackoverflow.com/questions/51855919/how-do-i-test-kotlin-coroutines-inside-a-function/51857538#51857538", "title": "How do I test Kotlin coroutines inside a function?", "body": "<p>Best way would be not to swallow <code>Job</code> in your <code>doIt()</code> function as you do now.<br>\nInstead of</p>\n\n<pre><code>fun doIt() {\n    launch {\n        listener.listen(theThing().await())\n    }\n}\n</code></pre>\n\n<p>Do </p>\n\n<pre><code>fun doIt() = launch {\n        listener.listen(theThing().await())\n    }\n</code></pre>\n\n<p>That way your function will return a coroutine, which you can wait for:</p>\n\n<pre><code>doIt().join()\n</code></pre>\n\n<p>Better still is to use <code>async()</code> instead of <code>launch()</code></p>\n\n<p>Another comment is that <code>doIt()</code> should be actually <code>doItAsync()</code>, as suggested by Kotlin guidelines. </p>\n"}, {"comments": [{"owner": {"reputation": 1497, "user_id": 1570640, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4f87cb5b7ea2208b35a6503e5c1d56b0?s=128&d=identicon&r=PG", "display_name": "Yokich", "link": "https://stackoverflow.com/users/1570640/yokich"}, "edited": false, "score": 0, "creation_date": 1534403086, "post_id": 51858410, "comment_id": 90694039, "body": "<i>facepalm</i> Thank you! I shouldn&#39;t of course wrap the functionality in a launch, I should make the function suspend and <code>launch</code> the function. That&#39;s how you make it testable. (I don&#39;t agree with sending in the <code>coroutineContext</code>, that&#39;s seems kind&#39;a weird. But <code>suspend</code> is definitely the way to go for testability!"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 3, "last_activity_date": 1550683397, "last_edit_date": 1550683397, "creation_date": 1534334831, "answer_id": 51858410, "question_id": 51855919, "link": "https://stackoverflow.com/questions/51855919/how-do-i-test-kotlin-coroutines-inside-a-function/51858410#51858410", "title": "How do I test Kotlin coroutines inside a function?", "body": "<p>You can provide the CoroutineContext explicitly for your <code>doIt()</code> function: </p>\n\n<pre><code>fun doIt(context: CoroutineContext = DefaultDispatcher) {\n    launch(context) {\n        listener.listen(theThing().await()\n    }\n}\n</code></pre>\n\n<p>With this parameter you could easily change the coroutine context - in your test code you use the blocking context: </p>\n\n<pre><code>runBlocking {\n    doer.doIt(coroutineContext)\n}\n</code></pre>\n\n<p>BTW: You don't need to use <code>launch</code> and <code>async</code>. With <code>launch</code> you are in a <code>suspendable</code> context and you don't need to run <code>theThing()</code> asynchronously. Especially if you invoke <code>await()</code> in the next step:</p>\n\n<pre><code>fun doIt(context: CoroutineContext = DefaultDispatcher) {\n    launch(context) {\n        listener.listen(theThing())\n    }\n}\n\nprivate suspend fun theThing(): String {\n    delay(5, TimeUnit.SECONDS)\n    return \"Wow, a thing\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1497, "user_id": 1570640, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4f87cb5b7ea2208b35a6503e5c1d56b0?s=128&d=identicon&r=PG", "display_name": "Yokich", "link": "https://stackoverflow.com/users/1570640/yokich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2551, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1550683397, "creation_date": 1534324180, "question_id": 51855919, "link": "https://stackoverflow.com/questions/51855919/how-do-i-test-kotlin-coroutines-inside-a-function", "title": "How do I test Kotlin coroutines inside a function?", "body": "<p>I am creating a library and I'm using Retrofit with a call-adapter that gives me a Deferred&lt;> value.</p>\n\n<p>In a function in my code I call <code>launch {}</code>, and inside that i <code>try-catch</code> the values, and possible exceptions - calling different callbacks for different results.</p>\n\n<p>The resources I've found on testing coroutines are all about testing suspended functions, and <code>runBlocking {}</code> is the solution to everything. Except for me it isn't</p>\n\n<p>I made a quick example</p>\n\n<pre><code>    @Mock\nval mockListener: DoSomething.Listener = mock()\n\n@Test\nfun testSomething() {\n    val doer = DoSomething(mockListener)\n    runBlocking {\n        doer.doIt()\n        verify(mockListener).listen(any())\n    }\n}\n\nclass DoSomething(val listener: Listener) {\n\n    interface Listener {\n        fun listen(s: String)\n    }\n\n    fun doIt() {\n        launch {\n            listener.listen(theThing().await())\n        }\n    }\n\n    private fun theThing(): Deferred&lt;String&gt; {\n        return async {\n            delay(5, TimeUnit.SECONDS)\n            return@async \"Wow, a thing\"\n        }\n    }\n}\n</code></pre>\n\n<p>What I want is for the actually run all functions. The test should take 5 seconds minimum, but it just runs through the code in a couple of millisconds- ie. it doesn't block.</p>\n\n<p>I've tried adding</p>\n\n<pre><code>runBlocking {\n    launch {\n        // doer.doIt()\n    }.joinChildren()\n}\n</code></pre>\n\n<p>And similar practices but I just can't get the test to actually wait for my launch inside of another class to finish before the test is finished.\nPlacing the <code>verify(...)</code> outside of the <code>runBlocking</code> also makes the test fail, which it should.</p>\n\n<p>Any input, helpers, good practice etc. is appreciated!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 21, "user_id": 4257623, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001478293861/picture?type=large", "display_name": "Maninder Singh Badshah", "link": "https://stackoverflow.com/users/4257623/maninder-singh-badshah"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534335994, "post_id": 51855903, "comment_id": 90669368, "body": "@EpicPandaForce my friend there is no such kind of Syntax in Kotlin."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534338044, "post_id": 51855903, "comment_id": 90670487, "body": "...bah they have <code>requireActivity()</code> but they don&#39;t have <code>requireArguments()</code> by default, how weird"}, {"owner": {"reputation": 1575, "user_id": 2684278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/430e8e82bdb9cdc5fc0cbceebe87f9be?s=128&d=identicon&r=PG", "display_name": "Mike Critchley", "link": "https://stackoverflow.com/users/2684278/mike-critchley"}, "edited": false, "score": 0, "creation_date": 1541331741, "post_id": 51855903, "comment_id": 93172731, "body": "Trying to sort this out myself right now. I&#39;m an iOS guy...data is a no brainer there. Can&#39;t believe how clunky data handling is in Android. Anyway, you&#39;re getting an exception because you&#39;re force unwrapping the arguments optional. Always do this instead: arguments?.getStringArrayList(&quot;name01&quot;)"}], "owner": {"reputation": 21, "user_id": 4257623, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001478293861/picture?type=large", "display_name": "Maninder Singh Badshah", "link": "https://stackoverflow.com/users/4257623/maninder-singh-badshah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551562852, "creation_date": 1534324100, "last_edit_date": 1551562852, "question_id": 51855903, "link": "https://stackoverflow.com/questions/51855903/passing-data-from-db-helper-activity-to-fragment-in-kotlin", "title": "Passing data from db_helper Activity to Fragment in kotlin", "body": "<p>for Sending Data:</p>\n\n<pre><code>val u = Users()\nval b = Bundle()\nb.putStringArrayList(\"name01\", name01)\nu.arguments=b\n</code></pre>\n\n<p>for Receiving Data: </p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, \n                          container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n  strtext = arguments!!.getStringArrayList(\"name01\")\n  // Inflate the layout for this fragment\n  return inflater.inflate(R.layout.fragment_users, container, false)\n}\n</code></pre>\n\n<p>output: <code>kotlin.KotlinNullPointerException</code></p>\n\n<p>How should I get the data?\nIs there is another Method?</p>\n"}, {"tags": ["node.js", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 3, "last_activity_date": 1534324515, "last_edit_date": 1534324515, "creation_date": 1534324201, "answer_id": 51855923, "question_id": 51855387, "link": "https://stackoverflow.com/questions/51855387/how-to-module-exports-at-kotlin-java-like-nodejs/51855923#51855923", "title": "How to module.exports at kotlin java like nodejs", "body": "<p>Kotlin Java doesn't have module exports. Kotlin JS kinda does, but it works differently. See <a href=\"https://kotlinlang.org/docs/tutorials/javascript/working-with-modules/working-with-modules.html\" rel=\"nofollow noreferrer\">this</a>. </p>\n\n<p>Just import the functions you need. If you have a top-level function, it's imported as <code>com.some.package.someFunction</code>. Once it's imported, it's just called like any other function, using <code>someFunction()</code> (obviously with arguments if there are any, and handling a return type if there is one)</p>\n"}], "owner": {"reputation": 103, "user_id": 6818786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0d82491d0a51b64d470414b2b77a3ff?s=128&d=identicon&r=PG&f=1", "display_name": "David Async", "link": "https://stackoverflow.com/users/6818786/david-async"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 51855923, "answer_count": 1, "score": -1, "last_activity_date": 1534324515, "creation_date": 1534321896, "question_id": 51855387, "link": "https://stackoverflow.com/questions/51855387/how-to-module-exports-at-kotlin-java-like-nodejs", "title": "How to module.exports at kotlin java like nodejs", "body": "<p>at node js you can create 1 function per 1 file for example</p>\n\n<pre><code>// a.js\nmodule.exports = () =&gt; \"abc\";\n\n// b.js\nconst a = require('./a');\nconsole.log(a()); // abc\n</code></pre>\n\n<p>How can I achieve this at kotlin java\nI don't want to create a dot function name, like <code>a.printAbc</code></p>\n"}, {"tags": ["kotlin", "glibc", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": true, "score": 1, "last_activity_date": 1534406241, "creation_date": 1534406241, "answer_id": 51872240, "question_id": 51855306, "link": "https://stackoverflow.com/questions/51855306/fatal-error-glibc-detected-an-invalid-stdio-handle-when-using-kotlin-native/51872240#51872240", "title": "Fatal error: glibc detected an invalid stdio handle when using kotlin-native", "body": "<p>This code does the job:</p>\n\n<pre><code>import kotlinx.cinterop.*\nimport platform.posix.*\n\nfun main(args: Array&lt;String&gt;) {\n    val home = getenv(\"HOME\")?.toKString() ?: \"NONE\"\n    val f = fopen(\"$home/checkinTime\", \"w\") ?: throw RuntimeException()\n    fprintf(f, \"String\")\n    fclose(f)\n}\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 4760788, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/acb991d8487049e3d613c886f24ffad2?s=128&d=identicon&r=PG&f=1", "display_name": "jelmew", "link": "https://stackoverflow.com/users/4760788/jelmew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5711, "favorite_count": 0, "accepted_answer_id": 51872240, "answer_count": 1, "score": 0, "last_activity_date": 1534406241, "creation_date": 1534321556, "last_edit_date": 1534323597, "question_id": 51855306, "link": "https://stackoverflow.com/questions/51855306/fatal-error-glibc-detected-an-invalid-stdio-handle-when-using-kotlin-native", "title": "Fatal error: glibc detected an invalid stdio handle when using kotlin-native", "body": "<p>I was playing around with kotlin-native, trying to open a file. The file is opened and created correctly, however, when printing to the file I get the error \"Fatal error: glibc detected an invalid stdio handle</p>\n\n<p>Process finished with exit code 134 (interrupted by signal 6: SIGABRT)\"</p>\n\n<p>Am I doig something wrong here? Or is this a kotlin configuration issue? The same code does work in C</p>\n\n<pre><code>import kotlinx.cinterop.*\nimport platform.posix.*\n\nfun main(args: Array&lt;String&gt;) {\n    val home = getenv(\"HOME\")?.toKString() ?: \"NONE\"\n    val fopen: FILE = fopen(\"$home/checkinTime\", \"w\")?.pointed ?: throw RuntimeException()\n    val readValue: CValue&lt;FILE&gt; = fopen.readValue();\n    fprintf(readValue,\"String\")\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-viewholder"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1534321702, "post_id": 51855276, "comment_id": 90662983, "body": "Do you have an <code>OnCheckedChangeListener</code> on <code>switchButton</code>? If so, that would be why. You should instead be updating the dataset, then notifying the changes on the <code>Adapter</code>. <code>findViewHolderForAdapterPosition()</code> will return null for items that aren&#39;t currently laid out."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1534322138, "post_id": 51855276, "comment_id": 90663132, "body": "@MikeM. I changed to <code>setOnClickListener</code> but it also changed object values."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1534322752, "post_id": 51855276, "comment_id": 90663378, "body": "Well, first off, why wouldn&#39;t you want the dataset and the UI to match? Beyond that, I don&#39;t believe there&#39;s enough information to determine the cause of that issue. However, as I mentioned, you really shouldn&#39;t be doing it like that, anyway. You would want to update the dataset, then notify. Don&#39;t try to directly manipulate the <code>View</code>s like that. It&#39;s not going to work if there are more items than are displayed at a time. Not every item will have a <code>ViewHolder</code>, in that case."}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1534323006, "post_id": 51855276, "comment_id": 90663479, "body": "@MikeM. Well, I&#39;ve a bigger switch, that turns off all children switches, but the moment I turn on big switch it should turn on only previously enabled switched (basically I&#39;ve to save state). I guess better way would be to make a list of Boolean values that do that?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1534323220, "post_id": 51855276, "comment_id": 90663586, "body": "Yeah, you&#39;re going to need an additional state variable for the items for that, however you want to handle it. Otherwise, scrolling would mess that all up anyway."}], "answers": [{"tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": false, "score": 1, "last_activity_date": 1534329278, "creation_date": 1534329278, "answer_id": 51857118, "question_id": 51855276, "link": "https://stackoverflow.com/questions/51855276/viewholder-attribute-changes-affects-objects-attribute/51857118#51857118", "title": "ViewHolder attribute changes affects Objects attribute", "body": "<p>I strongly believe that you are doing it the wrong way. RecyclerView is meant to display already modified data, meaning that you have a set of it.</p>\n\n<p>Let's say, 10 tables in restaurant, and at some point table #4 becomes available for new customer and you want to indicate that.  </p>\n\n<p>A good approach would be to modify your list of tables somewhere outside RCV, even fragment or activity will do, and then just graphically update (all or just one) item by means of RCV.</p>\n\n<p>Here's a little <a href=\"https://medium.com/androidsolutions/recyclerview-adapters-4d39a24da3c0\" rel=\"nofollow noreferrer\">article</a> I made to illustrate how to properly use <code>RecyclerView</code>, hope it will help you</p>\n"}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534329278, "creation_date": 1534321402, "question_id": 51855276, "link": "https://stackoverflow.com/questions/51855276/viewholder-attribute-changes-affects-objects-attribute", "title": "ViewHolder attribute changes affects Objects attribute", "body": "<pre><code>private fun turnOnAllItems() {\n    items.forEachIndexed { index, item -&gt;\n        val viewHolder = recyclerView.findViewHolderForAdapterPosition(index)\n                as SwitchableItemViewHolder\n        viewHolder.switchButton.isChecked = false\n    }\n}\n</code></pre>\n\n<p>What this does, is it also changes list <code>items</code> object values <code>isEnabled</code> to false. Looks weird to me, as I actually change viewHolder attribute. Why is this happening? How to avoid this?</p>\n"}, {"tags": ["android", "kotlin", "stringbuilder"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 4, "creation_date": 1534320635, "post_id": 51855054, "comment_id": 90662530, "body": "<code>indexOf(&quot;;&quot; + 1, length)</code> should be <code>indexOf(&quot;;&quot; + 1), length</code>?"}, {"owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "reply_to_user": {"reputation": 6882, "user_id": 2886891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yaE6t.png?s=128&g=1", "display_name": "Honza Zidek", "link": "https://stackoverflow.com/users/2886891/honza-zidek"}, "edited": false, "score": 0, "creation_date": 1534320842, "post_id": 51855054, "comment_id": 90662629, "body": "@HonzaZidek it is Kotlin, and it was complilable)"}, {"owner": {"reputation": 6882, "user_id": 2886891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yaE6t.png?s=128&g=1", "display_name": "Honza Zidek", "link": "https://stackoverflow.com/users/2886891/honza-zidek"}, "edited": false, "score": 0, "creation_date": 1534353263, "post_id": 51855054, "comment_id": 90678891, "body": "Sorry, I was confused by <code>indexOf(&quot;;&quot; + 1, length)</code>, which was visibly not what you wanted and I did not realize that there is also an overloaded method with signiture <code>indexOf(int ch, int fromIndex)</code>. By the way, your error is a punishment for ugly programming style :) Calculating <code>indexOf(&quot;;&quot;)</code> twice instead of assigning it to a variable is the bad style, and the bad style often produces errors."}], "answers": [{"comments": [{"owner": {"reputation": 6882, "user_id": 2886891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yaE6t.png?s=128&g=1", "display_name": "Honza Zidek", "link": "https://stackoverflow.com/users/2886891/honza-zidek"}, "edited": false, "score": 2, "creation_date": 1534353311, "post_id": 51855106, "comment_id": 90678912, "body": "By the way, your error is a punishment for ugly programming style :) Calculating <code>indexOf(&quot;;&quot;)</code> twice instead of assigning it to a variable is the bad style, and the bad style often produces errors."}, {"owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "reply_to_user": {"reputation": 6882, "user_id": 2886891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yaE6t.png?s=128&g=1", "display_name": "Honza Zidek", "link": "https://stackoverflow.com/users/2886891/honza-zidek"}, "edited": false, "score": 0, "creation_date": 1534356394, "post_id": 51855106, "comment_id": 90680359, "body": "@HonzaZidek it is time vs memory)"}, {"owner": {"reputation": 6882, "user_id": 2886891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yaE6t.png?s=128&g=1", "display_name": "Honza Zidek", "link": "https://stackoverflow.com/users/2886891/honza-zidek"}, "edited": false, "score": 1, "creation_date": 1534362543, "post_id": 51855106, "comment_id": 90683096, "body": "Nice try, but <i>no</i> - by calculating the same <code>int</code> value twice you consume much more memory, which is most probably not garbage collected before your method finishes. And <code>indexOf(...)</code> is expensive."}], "tags": [], "owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1534320665, "creation_date": 1534320665, "answer_id": 51855106, "question_id": 51855054, "link": "https://stackoverflow.com/questions/51855054/kotlin-withstring-strange-behavior/51855106#51855106", "title": "Kotlin with(String) strange behavior", "body": "<p>My bad.</p>\n\n<p>Incorrect</p>\n\n<pre><code>card.name = substring(indexOf(\";\" + 1, length))\n</code></pre>\n\n<p>Correct</p>\n\n<pre><code>card.name = substring(indexOf(\";\") + 1, length)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1534320863, "post_id": 51855144, "comment_id": 90662636, "body": "&quot;do Y&quot; is not an answer to &quot;why does X not work&quot;"}, {"owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1534320940, "post_id": 51855144, "comment_id": 90662670, "body": "@TimCastelijns but it is good suggestion to simplify code. I did not know about this method"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 4, "creation_date": 1534320964, "post_id": 51855144, "comment_id": 90662684, "body": "<i>is not an answer</i> yes but it is the simplest solution"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "reply_to_user": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "edited": false, "score": 3, "creation_date": 1534321034, "post_id": 51855144, "comment_id": 90662717, "body": "@AntonA. that is not relevant in the context of this question. I might also suggest you to delete your question, which is a good suggestion"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 2, "last_activity_date": 1534320825, "creation_date": 1534320825, "answer_id": 51855144, "question_id": 51855054, "link": "https://stackoverflow.com/questions/51855054/kotlin-withstring-strange-behavior/51855144#51855144", "title": "Kotlin with(String) strange behavior", "body": "<p>Don't bother with indexes:  <br/></p>\n\n<pre><code>with(str.toString().trim()) {\n    card.id = substringBefore(\";\")\n    card.name = substringAfter(\";\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1406, "user_id": 2252174, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/113ce5711f751d31b643c65c9cb44585?s=128&d=identicon&r=PG", "display_name": "Anton A.", "link": "https://stackoverflow.com/users/2252174/anton-a"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "closed_date": 1534322354, "accepted_answer_id": 51855144, "answer_count": 2, "score": 0, "last_activity_date": 1534320825, "creation_date": 1534320399, "question_id": 51855054, "link": "https://stackoverflow.com/questions/51855054/kotlin-withstring-strange-behavior", "closed_reason": "Not suitable for this site", "title": "Kotlin with(String) strange behavior", "body": "<p>I have simple block of code wich should parse String like \"5555;John Snow\"</p>\n\n<pre><code>//Example of code without string population\n\nval str = StringBuilder() \n\nwith(str.toString().trim()) {\n    card.id = substring(0, indexOf(\";\"))\n    card.name = substring(indexOf(\";\" + 1, length))\n}\n</code></pre>\n\n<p>But when it try to take name, throws an error </p>\n\n<blockquote>\n  <p>java.lang.StringIndexOutOfBoundsException: length=SOME_LENGHT; index=-1</p>\n</blockquote>\n\n<p>Debuged and checked, String is correct. It's even work some times in debugger</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-lifecycle"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534320496, "post_id": 51853827, "comment_id": 90662481, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20594936/communication-between-activity-and-service\">Communication between Activity and Service</a>"}, {"owner": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534328894, "post_id": 51853827, "comment_id": 90666269, "body": "That question deals with Activities and Services. I&#39;m asking about the Fragments that are attached to the Activity, and how they can access a service that the Activity has already bound to. I don&#39;t see where that question is addressed in any of the answers."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534329125, "post_id": 51853827, "comment_id": 90666354, "body": "It&#39;s still the same system"}, {"owner": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534330207, "post_id": 51853827, "comment_id": 90666758, "body": "It may turn out my question duplicates this though: <a href=\"https://stackoverflow.com/questions/40750712/how-to-access-service-functions-from-fragment-which-is-bound-to-parent-activity\" title=\"how to access service functions from fragment which is bound to parent activity\">stackoverflow.com/questions/40750712/&hellip;</a>   It contains an answer that looks like it might solve my problem."}], "answers": [{"comments": [{"owner": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "edited": false, "score": 0, "creation_date": 1534328576, "post_id": 51854429, "comment_id": 90666139, "body": "Thanks Sativa. I am using onServiceConnected in the activity. But it&#39;s apparently completing after onCreate() finishes in the activity, hence the race with onActivityCreated() in the fragment. So how do I use the onServiceConnected() callback from the fragment, to avoid the race?"}, {"owner": {"reputation": 1200, "user_id": 2693628, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39d76535696fb24e2a6ba9b924e105a3?s=128&d=identicon&r=PG&f=1", "display_name": "sativa", "link": "https://stackoverflow.com/users/2693628/sativa"}, "reply_to_user": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "edited": false, "score": 0, "creation_date": 1534335841, "post_id": 51854429, "comment_id": 90669295, "body": "You can just call bindService in the Activity in onCreate to use the service in the activity and in the Fragment in onActivityCreated to use it in the fragment. The Service will only have one instance. It can be bound to as many Activities, Fragments as you want"}, {"owner": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "edited": false, "score": 0, "creation_date": 1534338437, "post_id": 51854429, "comment_id": 90670714, "body": "Thanks. I guess I will have to do that. I was trying to bind to the service just the one time, in the Activity, and then pass a reference to that binding to the fragments. But it seems to create a race between the onActivityCreated() callback and the onServiceConnected() callback. I might also try binding to the application context as outlined here: <a href=\"https://stackoverflow.com/questions/15235773/bind-service-to-fragmentactivity-or-fragment\" title=\"bind service to fragmentactivity or fragment\">stackoverflow.com/questions/15235773/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1200, "user_id": 2693628, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/39d76535696fb24e2a6ba9b924e105a3?s=128&d=identicon&r=PG&f=1", "display_name": "sativa", "link": "https://stackoverflow.com/users/2693628/sativa"}, "is_accepted": true, "score": 1, "last_activity_date": 1534317362, "creation_date": 1534317362, "answer_id": 51854429, "question_id": 51853827, "link": "https://stackoverflow.com/questions/51853827/how-to-access-a-service-from-a-fragment-via-its-activity/51854429#51854429", "title": "How to access a service from a fragment, via its activity?", "body": "<p>The service is not available directly after calling bindService. Use a ServiceConnection. When onServiceConnected is called the service is ready to use</p>\n\n<pre><code>private val connection = object : ServiceConnection {\n    override fun onServiceDisconnected(p0: ComponentName?) {\n\n    }\n\n    override fun onServiceConnected(p0: ComponentName, binder: IBinder) {\n\n    }\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    application.bindService(Intent(application, MyService::class.java), connection, Context.BIND_AUTO_CREATE)\n}\n</code></pre>\n"}], "owner": {"reputation": 3318, "user_id": 3947344, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad6e8de36222aa411d90a85911398dc8?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3947344/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 51854429, "answer_count": 1, "score": 0, "last_activity_date": 1534329136, "creation_date": 1534313938, "last_edit_date": 1534329136, "question_id": 51853827, "link": "https://stackoverflow.com/questions/51853827/how-to-access-a-service-from-a-fragment-via-its-activity", "title": "How to access a service from a fragment, via its activity?", "body": "<p>I have an activity that, as far as I can tell, is happily binding to a service every time the activity is created. The first time the activity is created, it also starts the service with the startService command, as follows:</p>\n\n<pre><code>    private fun attachRecorderService() {\n       val intent = Intent(this, AudioRecorderService::class.java)\n       bindService(intent, mServiceConnection, Context.BIND_AUTO_CREATE)\n       if (!mBooleanRecorderServiceStarted) {\n           startService(intent)\n           mBooleanRecorderServiceStarted = true\n       }\n    }\n</code></pre>\n\n<p>That activity's fragments all get a reference to that service in their onActivityCreated() function as follows:</p>\n\n<pre><code>    override fun onActivityCreated(savedInstanceState: Bundle?) {\n       super.onActivityCreated(savedInstanceState)\n       val parentActivity = activity as MainActivity\n       mAudioRecorderService = parentActivity.mAudioRecorderService\n</code></pre>\n\n<p>That works fine the first time the fragment is created, but as soon as the screen is rotated I get an error telling me the service hasn't been initialised in the activity.</p>\n\n<blockquote>\n  <p>lateinit property mAudioRecorderService has not been initialized</p>\n</blockquote>\n\n<p>As far as I can tell, onActivityCreated() in the fragment is racing with onCreate() in the activity, and trying to get the reference before onCreate() initialises it.</p>\n\n<p>Which I don't understand. I thought onActivityCreated() waited until <em>after</em> onCreate() had completed.</p>\n\n<p>What am I doing wrong? Should I use some sort of callback in the fragment, that only triggers when the activity has bound to the service? I've seen mention of that, but I have no idea how to do it.</p>\n\n<p>The question <a href=\"https://stackoverflow.com/questions/20594936/communication-between-activity-and-service\">Communication between Activity and Service</a> deals with Activities and Services. I'm asking about the Fragments that are attached to the Activity, and how they can access a service that the Activity has already bound to. </p>\n"}, {"tags": ["android", "kotlin", "main-activity"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "edited": false, "score": 1, "creation_date": 1534343490, "post_id": 51853754, "comment_id": 90673661, "body": "This is very insightful and clears up a lot of the misconceptions I&#39;ve had.  Sometimes reading it in simplified terms like this is all I need.  I appreciate it, this will definitely help my understanding moving forward."}], "tags": [], "owner": {"reputation": 1082, "user_id": 6903132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gIEIl.jpg?s=128&g=1", "display_name": "Mahavir Jain", "link": "https://stackoverflow.com/users/6903132/mahavir-jain"}, "is_accepted": true, "score": 2, "last_activity_date": 1568864402, "last_edit_date": 1568864402, "creation_date": 1534313529, "answer_id": 51853754, "question_id": 51853587, "link": "https://stackoverflow.com/questions/51853587/android-kotlin-context-usage/51853754#51853754", "title": "Android (Kotlin) Context Usage", "body": "<p>If you follow the link it is used the application context.\nThere are two types of context <code>ApplicationContext</code> and <code>ActivityContext</code>, both have the super class <code>Context</code> . </p>\n\n<p><code>ActivityContext</code> represent the current activity information and it life cycle is depend upon <code>ActivityLifecycle</code>.</p>\n\n<p><code>ApplicationContext's</code> if you need a context whose lifecycle is separate from the current activity than only you have to use this.</p>\n\n<p>If you want to start any service or the functionality which is not depend on activity life cycle than you can used <code>applicationContext</code>.</p>\n\n<p>If you want to show <code>dialog</code> or <code>startActivity</code> you can used  <code>activityContext</code>.</p>\n\n<p>You can get the applicationContext in activity(Kotlin):-\n<code>this@ActivityName.application</code></p>\n\n<p>You can get the activityContext in activity(Kotlin):-\n<code>this@ActivityName</code></p>\n\n<p>You can find the context in fragment(Kotlin):-\n<code>activity</code> or <code>context</code></p>\n"}], "owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 1, "accepted_answer_id": 51853754, "answer_count": 1, "score": 0, "last_activity_date": 1568864402, "creation_date": 1534312414, "question_id": 51853587, "link": "https://stackoverflow.com/questions/51853587/android-kotlin-context-usage", "title": "Android (Kotlin) Context Usage", "body": "<p>I've been researching various methods on how to access an activity's context, with mixed results.  One concept I came across was creating a global context variable in the 'mainActivity' class.  See the GitHub writeup below:</p>\n\n<p><a href=\"https://gist.github.com/paraya3636/bf8108a75eb49323e56c0c90dd0747e0\" rel=\"nofollow noreferrer\">https://gist.github.com/paraya3636/bf8108a75eb49323e56c0c90dd0747e0</a></p>\n\n<p>This seems very appealing and I'm certain it would work for each time I need to access my context.  My question, is if this is proper and encouraged, or something to be avoided?  Are there pitfalls and dangers in doing this?  Or, perhaps it's situational and really depends on what the app's purpose is?</p>\n\n<p>To sum it up, I'm looking for an experienced answer on how to handle context, when to access it, and how to access it (just high level suggestions).  I've taken many Android tutorials and have accessed/used contexts many times, but I really would like to improve my comprehension on the topic and learn from others who are far more versed in Kotlin Android development than I am.  I just feel like I'm winging it often times; I'd rather UNDERSTAND it and become a better developer as a result.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components", "android-jetpack"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1534308750, "post_id": 51853130, "comment_id": 90658765, "body": "no, you dont need kotlin - you can use java with jetpack"}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 1, "creation_date": 1534311441, "post_id": 51853130, "comment_id": 90659387, "body": "Java and Kotlin are inter operable."}, {"owner": {"reputation": 2334, "user_id": 2009178, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a54bb2f851c9a2663b82af59b462603c?s=128&d=identicon&r=PG&f=1", "display_name": "codezombie", "link": "https://stackoverflow.com/users/2009178/codezombie"}, "reply_to_user": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1534328463, "post_id": 51853130, "comment_id": 90666089, "body": "@ArchieG.Qui&#241;ones do you mean Kotlin is a kind of Java?"}, {"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "reply_to_user": {"reputation": 2334, "user_id": 2009178, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a54bb2f851c9a2663b82af59b462603c?s=128&d=identicon&r=PG&f=1", "display_name": "codezombie", "link": "https://stackoverflow.com/users/2009178/codezombie"}, "edited": false, "score": 0, "creation_date": 1534342785, "post_id": 51853130, "comment_id": 90673232, "body": "@JasonStack Kotlin isnt a kind of Java. The main reason the are interoperable is that they both compile down to bytecode."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1534311527, "creation_date": 1534311527, "answer_id": 51853479, "question_id": 51853130, "link": "https://stackoverflow.com/questions/51853130/does-android-jetpack-require-the-use-of-the-kotlin-language/51853479#51853479", "title": "Does Android Jetpack require the use of the Kotlin language?", "body": "<p>Jetpack is a collection of libraries plus guidance on how Google recommends building Android applications. These libraries all have Java APIs, so you don't need to move to Kotlin to use any of them. Both languages are still completely supported for Android development.</p>\n\n<p>As for the APK size consideration, it's true that Kotlin will definitely increase it. It's hard to tell how much larger it'll be, but Proguard should strip out a lot of the standard library that you end up not using, so it could be much less than an entire MB. <a href=\"https://android.jlelse.eu/comparing-apk-sizes-a0eb37bb36f\" rel=\"noreferrer\">Here's</a> an article that compared Java and Kotlin APK sizes of an essentially empty Hello world app that found the increase to be just 11 KBs, for example. So unless you're in a market where this is extremely important, you could probably get away with using Kotlin. </p>\n\n<p>More importantly though, switching to Kotlin is more than just pulling in a library - it's a new language to learn, which means you have to put some effort into it, and it can change a lot about how you write your applications. You should look into the language more and see if you like what it offers.</p>\n"}, {"comments": [{"owner": {"reputation": 6561, "user_id": 80209, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1rtrC.jpg?s=128&g=1", "display_name": "eidylon", "link": "https://stackoverflow.com/users/80209/eidylon"}, "edited": false, "score": 2, "creation_date": 1534313709, "post_id": 51853677, "comment_id": 90659920, "body": "But then on the Jetpack homepage, it says stuff like &quot;Components are individually adoptable but built to work together while taking advantage of Kotlin language features that make you more productive.&quot;, implying that it does depend on Kotlin. Good to know that it does not though."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1534326562, "post_id": 51853677, "comment_id": 90665124, "body": "Kotlin users get some additional API made possible by Kotlin language features, but there&#39;s no additional functionality for them - they just get slightly different syntax for calling into the same implementations."}], "tags": [], "owner": {"reputation": 2334, "user_id": 2009178, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a54bb2f851c9a2663b82af59b462603c?s=128&d=identicon&r=PG&f=1", "display_name": "codezombie", "link": "https://stackoverflow.com/users/2009178/codezombie"}, "is_accepted": false, "score": 1, "last_activity_date": 1534313070, "last_edit_date": 1592644375, "creation_date": 1534313070, "answer_id": 51853677, "question_id": 51853130, "link": "https://stackoverflow.com/questions/51853130/does-android-jetpack-require-the-use-of-the-kotlin-language/51853677#51853677", "title": "Does Android Jetpack require the use of the Kotlin language?", "body": "<p>Quoting <a href=\"https://developer.android.com/jetpack/?gclid=EAIaIQobChMI9oit7K7u3AIVU7nACh17NQfuEAAYASAAEgJldfD_BwE\" rel=\"nofollow noreferrer\">Android documentation</a></p>\n<blockquote>\n<p>Jetpack is a collection of Android software components to make it easier for you to develop great Android apps. These components help you follow best practices, free you from writing boilerplate code, and simplify complex tasks, so you can focus on the code you care about.</p>\n<p>Jetpack comprises the androidx.* package libraries, unbundled from the platform APIs. This means that it offers backward compatibility and is updated more frequently than the Android platform, making sure you always have access to the latest and greatest versions of the Jetpack components.</p>\n</blockquote>\n<p>Nowhere in the docs you'll find something saying that using Kotlin is required for Jetpack development. Also, if you open Android Studio 3.2 (Currently beta 5), in the New Project Dialog, you'll see the option to add Kotlin support just like the previous version of Android Studio, so you'll be completely fine going with Java without checking this box.<br />\n<a href=\"https://i.stack.imgur.com/1OHt0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1OHt0.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": [], "owner": {"reputation": 189, "user_id": 2615178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc0AZ.png?s=128&g=1", "display_name": "EffectiveMatrix", "link": "https://stackoverflow.com/users/2615178/effectivematrix"}, "is_accepted": false, "score": 3, "last_activity_date": 1554309197, "creation_date": 1554309197, "answer_id": 55500100, "question_id": 51853130, "link": "https://stackoverflow.com/questions/51853130/does-android-jetpack-require-the-use-of-the-kotlin-language/55500100#55500100", "title": "Does Android Jetpack require the use of the Kotlin language?", "body": "<p>You just get more syntactic sugar when you use kotlin instead of java, but they have same functionality and you can even use them hybird.</p>\n\n<p>Also android Jetpack is great, it shouldn't be limited by language. Although <a href=\"https://github.com/googlesamples/android-sunflower\" rel=\"nofollow noreferrer\"><strong>android-sunflower</strong></a> - the official demonstrate app of Android Jetpack wrote in Kotlin, it can still implement by java. In order to support Android Jetpack, I translated all kotlin implementations to Java, and added [app-java] module as the Java version of android-sunflower app, please check out <a href=\"https://github.com/hatewx/android-sunflower-java\" rel=\"nofollow noreferrer\"><strong>android-sunflower-java</strong></a>.</p>\n"}], "owner": {"reputation": 6561, "user_id": 80209, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1rtrC.jpg?s=128&g=1", "display_name": "eidylon", "link": "https://stackoverflow.com/users/80209/eidylon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2383, "favorite_count": 1, "answer_count": 3, "score": 10, "last_activity_date": 1567675394, "creation_date": 1534308594, "last_edit_date": 1534339819, "question_id": 51853130, "link": "https://stackoverflow.com/questions/51853130/does-android-jetpack-require-the-use-of-the-kotlin-language", "title": "Does Android Jetpack require the use of the Kotlin language?", "body": "<p>I can't seem to find a clear answer to this in Google, and all the documentation and samples I've seen for Jetpack seem to refer to and use Kotlin. </p>\n\n<p>But do you HAVE to use Kotlin in order to use Jetpack? Or can Jetpack be used with traditional Java programs?</p>\n\n<p>I was looking at Kotlin but it adds almost a MB to your app size. And seeing as my entire app is only about 200KB currently, I don't think Kotlin is worth increasing the size of my app by 500%! </p>\n"}, {"tags": ["android", "android-studio", "kotlin", "plug"], "comments": [{"owner": {"reputation": 9345, "user_id": 1021920, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VukgG.jpg?s=128&g=1", "display_name": "hellow", "link": "https://stackoverflow.com/users/1021920/hellow"}, "edited": false, "score": 1, "creation_date": 1534314584, "post_id": 51852580, "comment_id": 90660228, "body": "Check your internet. <i>Connection refused</i> means the error is in your network connection."}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1534332674, "post_id": 51852580, "comment_id": 90667816, "body": "Are you behind a proxy?"}], "owner": {"reputation": 1, "user_id": 8364140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f908017c6538b52c6b469d5c6a331513?s=128&d=identicon&r=PG&f=1", "display_name": "jake", "link": "https://stackoverflow.com/users/8364140/jake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534331621, "creation_date": 1534303989, "last_edit_date": 1534331621, "question_id": 51852580, "link": "https://stackoverflow.com/questions/51852580/android-studio-3-1-3-download-kotlin-plug-fail", "title": "Android studio 3.1.3 download kotlin-plug fail", "body": "<p><a href=\"https://i.stack.imgur.com/SIFro.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Android studio 3.1.3 use kotlin-plug v'1.2.60, always Connection refused: connect.\nWhat is the problem and how can I solve it?</p>\n"}, {"tags": ["lambda", "callback", "kotlin", "simplify"], "answers": [{"tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": true, "score": 2, "last_activity_date": 1534305117, "creation_date": 1534305117, "answer_id": 51852702, "question_id": 51852291, "link": "https://stackoverflow.com/questions/51852291/kotlin-make-an-instance-of-a-class-and-implement-a-callback-in-one-line-of-code/51852702#51852702", "title": "Kotlin make an instance of a class and implement a callback in one line of code", "body": "<p>Given your interface, you can probably move your properties declaration to a primary constructor, and the <code>start()</code> to an <code>init</code> block.</p>\n\n<p>Also note that <code>val</code> over <code>var</code> gives you <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">immutable/read-only properties</a></p>\n\n<pre><code>// this is not one line now, but just for formatting purposes ;)\nfun testTimer() {\n    val timer = MyTimer(\n            repeatDelayMS = 1000,\n            runOnCreate = true,\n            onTimer = { doSomething() }\n    )\n}\n\nclass MyTimer(\n        private var running: Boolean = false,\n        private val runOnCreate: Boolean,\n        private val repeatDelayMS: Int = 0,\n        private val handler: Handler = Handler(),\n        private val onTimer: () -&gt; Unit = {}\n) {\n\n    init {\n        if (runOnCreate) {\n            start()\n        }\n    }\n\n    // the rest is the same\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 1767050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a95a2cd30a44af5a06e50e4659d0b49?s=128&d=identicon&r=PG", "display_name": "Red wine", "link": "https://stackoverflow.com/users/1767050/red-wine"}, "edited": false, "score": 0, "creation_date": 1534380486, "post_id": 51852721, "comment_id": 90688285, "body": "Thanks for your time in answering my question. This works for me, but I will probably use @marianosimone&#39;s answer in my final implementation"}], "tags": [], "owner": {"reputation": 141, "user_id": 9815432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02f4367d47b33398403af7b9694a5416?s=128&d=identicon&r=PG&f=1", "display_name": "Tohu", "link": "https://stackoverflow.com/users/9815432/tohu"}, "is_accepted": false, "score": 3, "last_activity_date": 1534305273, "creation_date": 1534305273, "answer_id": 51852721, "question_id": 51852291, "link": "https://stackoverflow.com/questions/51852291/kotlin-make-an-instance-of-a-class-and-implement-a-callback-in-one-line-of-code/51852721#51852721", "title": "Kotlin make an instance of a class and implement a callback in one line of code", "body": "<p>You could do</p>\n\n<pre><code>val tmr = MyTimer(1000, true).apply {\n    onTimer = { doSomething() }\n}\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 1767050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a95a2cd30a44af5a06e50e4659d0b49?s=128&d=identicon&r=PG", "display_name": "Red wine", "link": "https://stackoverflow.com/users/1767050/red-wine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 51852702, "answer_count": 2, "score": 1, "last_activity_date": 1534305273, "creation_date": 1534301315, "question_id": 51852291, "link": "https://stackoverflow.com/questions/51852291/kotlin-make-an-instance-of-a-class-and-implement-a-callback-in-one-line-of-code", "title": "Kotlin make an instance of a class and implement a callback in one line of code", "body": "<p>I am new to Kotlin and have managed to modify my Java timer class so that I can implement it with two lines of code.</p>\n\n<p>I wonder if there is some way to perhaps modify it and so implement it with one line of code?\nThanks for any suggestions.</p>\n\n<p>Two lines implementation:</p>\n\n<pre><code>fun testTimer() {\n    var tmr = MyTimer(1000, true)\n    tmr.onTimer = { doSometing() }\n}\n</code></pre>\n\n<p>Timer class</p>\n\n<pre><code>class MyTimer {\n    private var running = false\n    private var repeatDelayMS: Int = 0\n    private val handler = Handler()\n    var onTimer:()-&gt; Unit = {}\n\n    private val runnable = object : Runnable {\n        override fun run() {\n            if (running) {\n                onTimer()\n                if (repeatDelayMS &gt; 0)\n                    handler.postDelayed(this, repeatDelayMS.toLong())\n                else\n                    stop()\n            }\n        }\n    }\n\n    constructor(repeatDelayMS: Int, runOnCreate: Boolean) {\n        this.repeatDelayMS = repeatDelayMS\n        if (runOnCreate)\n            start()\n    }\n\n    fun start() {\n        running = true\n        handler.postDelayed(runnable, repeatDelayMS.toLong())\n    }\n\n\n    fun stop() {\n        running = false\n        handler.removeCallbacks(runnable)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "listview", "android-recyclerview", "kotlin", "android-tablayout"], "owner": {"reputation": 648, "user_id": 280889, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3fb13c115d9242927ce002d3ecd3d95d?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/280889/kat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1534298690, "creation_date": 1534298690, "question_id": 51851992, "link": "https://stackoverflow.com/questions/51851992/slidinguppanel-with-tablayout-and-scrollable-views", "title": "SlidingUpPanel with TabLayout and scrollable views", "body": "<p>My app uses the SlidingUpPanel library. The main sliding up panel holds a RelativeLayout and a LinearLayout as its two children. The TabLayout is in the LinearLayout. Two of the tabs contain scrollable views and the third does not. All of the tabs are fragments.</p>\n\n<p>The sliding up panel works as expected for the non-scrollable view and handles the first scrollable event on the scrollable views. However, the moment I release my finger, the scroll capability goes away and the view sticks.</p>\n\n<p>Looking at other stackoverflow questions, I have tried setting the drag view and setting the scrollview as the documentation suggests but no dice. The view still sticks after the first scroll event.</p>\n\n<p>I also implemented a ScrollableViewHelper as the documentation recommended but that didn't seem to help at all.</p>\n\n<p>Here is a video of the behavior I am describing\n<a href=\"https://i.stack.imgur.com/tRGxQ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tRGxQ.gif\" alt=\"ScrollableViewGlitch\"></a></p>\n\n<p>SlidingUpPanel documentation on scrollable views\n<a href=\"https://github.com/umano/AndroidSlidingUpPanel#scrollable-sliding-views\" rel=\"nofollow noreferrer\">https://github.com/umano/AndroidSlidingUpPanel#scrollable-sliding-views</a> </p>\n\n<p>SlidingUpPanel Layout</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:sothree=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/eventDetailsFullLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;com.sothree.slidinguppanel.SlidingUpPanelLayout\n        android:id=\"@+id/eventDetailsSlidingUpPanel\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:gravity=\"bottom\"\n        sothree:umanoShadowHeight=\"4dp\"&gt;\n\n        &lt;RelativeLayout\n            android:id=\"@+id/eventDetailsHeaderLayout\"\n            android:paddingTop=\"8dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;RelativeLayout\n                android:id=\"@+id/eventDetailsEventImageLayout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"&gt;\n\n                &lt;android.support.v7.widget.AppCompatImageView\n                    android:id=\"@+id/eventDetailsEventBanner\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"120dp\"\n                    android:background=\"@color/gray\"\n                    android:scaleType=\"fitXY\" /&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=\"72dp\"\n                    android:layout_height=\"72dp\"\n                    android:layout_centerInParent=\"true\"\n                    android:background=\"@drawable/grey_circle\"\n                    android:gravity=\"center\"&gt;\n\n                    &lt;android.support.v7.widget.AppCompatImageView\n                        android:id=\"@+id/eventDetailsEventLogo\"\n                        android:layout_width=\"56dp\"\n                        android:layout_height=\"56dp\"\n                        android:gravity=\"center\"\n                        app:srcCompat=\"@drawable/ic_storefront\" /&gt;\n                &lt;/LinearLayout&gt;\n            &lt;/RelativeLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/eventDetailsEventImageLayout\"\n                android:layout_margin=\"16dp\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;TextView\n                    android:id=\"@+id/eventDetailsEventName\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:textColor=\"@color/darkDarkGray\"\n                    android:textSize=\"18sp\"\n                    app:fontFamily=\"sans-serif-medium\" /&gt;\n\n            &lt;/LinearLayout&gt;\n        &lt;/RelativeLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;android.support.design.widget.TabLayout\n                android:id=\"@+id/eventDetailsTabLayout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:tabIndicatorColor=\"@color/teal\"\n                app:tabSelectedTextColor=\"@color/teal\"\n                app:tabTextColor=\"@color/gray\" /&gt;\n\n            &lt;android.support.v4.view.ViewPager\n                android:id=\"@+id/eventDetailsViewPager\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\" /&gt;\n\n        &lt;/LinearLayout&gt;\n    &lt;/com.sothree.slidinguppanel.SlidingUpPanelLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-alertdialog"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534320627, "post_id": 51851505, "comment_id": 90662524, "body": "Add the stacktrace"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1535562847, "post_id": 51851505, "comment_id": 91116025, "body": "Question down voted due to lack of effort to do research this is not true we looked at post after post every where even here on Stackoverflow we tested lots of code we found with NO results I would like to add that we do not ask question without at the minimum of 4 hours or 2 days of reading and research"}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 3, "creation_date": 1534319570, "post_id": 51851911, "comment_id": 90662055, "body": "I appreciate your feed back but need to share with you that both of these suggestions produce warnings that they are not permitted So the syntax structure fails to be useable"}], "tags": [], "owner": {"reputation": 1016, "user_id": 8587899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753587434927148/picture?type=large", "display_name": "Declan Nnadozie", "link": "https://stackoverflow.com/users/8587899/declan-nnadozie"}, "is_accepted": false, "score": 2, "last_activity_date": 1534298087, "creation_date": 1534298087, "answer_id": 51851911, "question_id": 51851505, "link": "https://stackoverflow.com/questions/51851505/android-kotlin-findviewbyid-must-not-be-null/51851911#51851911", "title": "Android Kotlin findViewById must not be null", "body": "<p><code>findViewByID()</code> returns a nullable object.</p>\n\n<pre><code>btnYES = findViewById(R.id.btnYES)\n</code></pre>\n\n<p>Tries to assign a nullable view to a lateinit non-nullable view.</p>\n\n<p>So here's the solution.\nchange this <code>internal lateinit var btnYES: Button</code> to this <code>internal lateinit var btnYES: Button?</code></p>\n\n<p>Or</p>\n\n<p>change this <code>btnYES = findViewById(R.id.btnYES)</code> to this <code>btnYES = findViewById(R.id.btnYES)!!</code></p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 8157136, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oQQ9gVWYwhk/AAAAAAAAAAI/AAAAAAAAAEM/LMdRXly1kRA/photo.jpg?sz=128", "display_name": "Corey Johnson", "link": "https://stackoverflow.com/users/8157136/corey-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1534298112, "creation_date": 1534298112, "answer_id": 51851913, "question_id": 51851505, "link": "https://stackoverflow.com/questions/51851505/android-kotlin-findviewbyid-must-not-be-null/51851913#51851913", "title": "Android Kotlin findViewById must not be null", "body": "<p>One approach that you can take is instead of trying to customize the Dialog by using setContentView, you can extend DialogFragment with a new Custom Dialog Fragment. Then you can approach it similar to how you would a fragment; You inflate a view in onCreateDialog, this is an approach I found in a similar question:</p>\n\n<pre><code>public class PopupAlert extends DialogFragment {\n    TextView heading;\n    TextView popupMessage;\n    Button okBtn;\n\n    private Runnable onDismissRunnable;\n    private String titleText;\n    private String messageText;\n\n    private View.OnClickListener positiveListener;\n\n    public void setOnDismissRunnable(Runnable runnable) {\n        this.onDismissRunnable = runnable;\n    }\n\n    public void setOkBtnText(String text) {\n        this.okBtnText = text;\n    }\n\n    public static PopupAlert newInstance(String title, String message) {\n        PopupAlert alert = new PopupAlert();\n        alert.titleText = title;\n        alert.messageText = message;\n        return alert;\n    }\n\n    @Override\n    public void onDismiss(DialogInterface dialog) {\n        super.onDismiss(dialog);\n        if (onDismissRunnable != null) onDismissRunnable.run();\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n\n        @SuppressLint(\"InflateParams\") View view = LayoutInflater.from(getContext()).inflate(R.layout.view_popup_alert, null);\n        fetchViews(view);\n        builder.setView(view);\n\n        return builder.create();\n    }\n\n    private void fetchViews(View view) {\n        heading = view.findViewById(R.id.popupHeading);\n        popupMessage = view.findViewById(R.id.popupMessage);\n        okBtn = view.findViewById(R.id.okBtn);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        bindToData();\n    }\n\n    private void bindToData() {\n        heading.setText(titleText);\n        popupMessage.setText(messageText);\n        okBtn.setOnClickListener((v) -&gt; dismiss());\n        okBtn.setText(okBtnText);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 10, "last_activity_date": 1534329048, "last_edit_date": 1534329048, "creation_date": 1534323606, "answer_id": 51855783, "question_id": 51851505, "link": "https://stackoverflow.com/questions/51851505/android-kotlin-findviewbyid-must-not-be-null/51855783#51855783", "title": "Android Kotlin findViewById must not be null", "body": "<p>As @Declan Nnadozie already mentioned: <code>btnYES = findViewById(R.id.btnYES)</code> returns <code>null</code> because <code>btnYES</code> is not a view inside the <code>contentView</code> inflated to <code>PageTwoActivity</code>.  <br/> The buttons <code>btnYES</code> and <code>btnNO</code> and the EditText <code>etStudentName</code> can be found in the content that is inflated in the dialog:  <br/>\nAlso in Kotlin you do not need findViewById to access the activity's views.  <br/>\nYou can delete all these:  <br/></p>\n\n<pre><code>internal lateinit var btnBACK: Button\ninternal lateinit var btnDIALOG: Button\n\ninternal lateinit var btnYES: Button\ninternal lateinit var btnNO: Button\ninternal lateinit var etStudentName:EditText\n</code></pre>\n\n<p>My suggestion is to use the below code:  <br/></p>\n\n<pre><code>class PageTwoActivity : AppCompatActivity() {\nvar EnteredText: String = \"\"\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_page_two)\n\n        addListenerOnButtonBACK()\n        addListenerOnButtonDIALOG()\n\n        Toast.makeText(this@PageTwoActivity, \"You are on Page Two\",\n            Toast.LENGTH_LONG).show()\n    }\n\n    fun doCustom(v: View) {\n        val openDialog = Dialog(this)\n        openDialog.setContentView(R.layout.custom_dialog)\n        val btnYES = openDialog.findViewById&lt;Button&gt;(R.id.btnYES)\n        val btnNO = openDialog.findViewById&lt;Button&gt;(R.id.btnNO)\n        val etStudentName = openDialog.findViewById&lt;EditText&gt;(R.id.etStudentName)\n        openDialog.setCancelable(false)\n\n        btnYES.setOnClickListener(View.OnClickListener {\n            EnteredText = etStudentName.getText().toString().trim({ it &lt;= ' ' })\n            if (EnteredText.isEmpty()) {\n                Toast.makeText(applicationContext, \"Enter Your Name\\n\\n OR Click DECLINE\", Toast.LENGTH_LONG).show()\n                        return@OnClickListener\n            }\n            Toast.makeText(applicationContext, \"Registered $EnteredText\", Toast.LENGTH_SHORT).show()\n            openDialog.dismiss()\n        })\n\n        btnNO.setOnClickListener(View.OnClickListener {\n            EnteredText = \"\"\n            val intent = Intent(this@PageTwoActivity, MainActivity::class.java)\n            startActivity(intent)\n            openDialog.dismiss()\n        })\n        openDialog.show()\n    }\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23588, "favorite_count": 2, "accepted_answer_id": 51855783, "answer_count": 3, "score": 13, "last_activity_date": 1600234608, "creation_date": 1534294078, "last_edit_date": 1534318987, "question_id": 51851505, "link": "https://stackoverflow.com/questions/51851505/android-kotlin-findviewbyid-must-not-be-null", "title": "Android Kotlin findViewById must not be null", "body": "<p>We have created a custom alert dialog that was used in a Java project by converting it to Kotlin The error posted below \njava.lang.IllegalStateException: findViewById(R.id.btnYES) must not be null</p>\n\n<p>The error source is eluding us ! We have looked at a number of posts and tried a few with no results. The Activity structure is as follows PageTwoActivity has its own XML file with two buttons attached. The custom dialog has its own xml file\nHere is the PageTwoActivity code. Without the two buttons for PageTwoActivity \nNO name conflicts</p>\n\n<pre><code>import android.app.Dialog\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\nimport android.widget.Toast\n\nclass PageTwoActivity : AppCompatActivity() {\ninternal lateinit var btnBACK: Button\ninternal lateinit var btnDIALOG: Button\n\ninternal lateinit var btnYES: Button\ninternal lateinit var btnNO: Button\ninternal lateinit var etStudentName:EditText\nvar EnteredText: String = \"\"\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_page_two)\n\n    btnBACK = findViewById(R.id.btnBACK)\n    btnDIALOG = findViewById(R.id.btnDIALOG)\n\n    btnYES = findViewById(R.id.btnYES)\n    btnNO = findViewById(R.id.btnNO)\n    etStudentName = findViewById(R.id.etStudentName)\n    addListenerOnButtonBACK()\n    addListenerOnButtonDIALOG()\n\n    Toast.makeText(this@PageTwoActivity, \"You are on Page Two\", \n    Toast.LENGTH_LONG).show()\n\n}// END onCreate\n</code></pre>\n\n<p>Here is the code for the Custom Dialog</p>\n\n<pre><code>    private fun doCustom() {\n\n    val openDialog = Dialog(this)\n    openDialog.setContentView(R.layout.custom_dialog)\n    //val btnYES = view!!.findViewById&lt;Button&gt;(R.id.btnYES)\n    //val btnNO = openDialog.findViewById(R.id.btnNO)\n    //val etStudentName = openDialog.findViewById(R.id.etStudentName)\n    openDialog.setCancelable(false)\n\n\n    btnYES.setOnClickListener(View.OnClickListener {\n        EnteredText = etStudentName.getText().toString().trim({ it &lt;= ' ' })\n        if (EnteredText.isEmpty()) {\n            Toast.makeText(applicationContext, \"Enter Your Name\\n\\n OR Click \n     DECLINE\", Toast.LENGTH_LONG).show()\n            return@OnClickListener\n        }\n        Toast.makeText(applicationContext, \"Registered $EnteredText\", \n        Toast.LENGTH_SHORT).show()\n        openDialog.dismiss()\n    })\n\n    btnNO.setOnClickListener(View.OnClickListener {\n        EnteredText = \"\"\n        val intent = Intent(this@PageTwoActivity, MainActivity::class.java)\n        startActivity(intent)\n        openDialog.dismiss()\n    })\n    openDialog.show()\n}\n</code></pre>\n\n<p>The XML file code for the custom dialog</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"400dp\"\nandroid:layout_height=\"200dp\"\nandroid:background=\"@color/color_lightGray\"&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvDAT\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"70dp\"\n    android:layout_marginTop=\"30dp\"\n    android:text=\"Enter First and Last Name\"\n    android:textColor=\"@color/color_Black\"\n    android:textSize=\"22sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/etStudentName\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"20dp\"\n    android:layout_marginTop=\"80dp\"\n    android:ems=\"14\"\n    android:gravity=\"center\"\n    android:inputType=\"textPersonName\"\n    android:text=\"\"\n    android:textColor=\"@color/color_Black\"\n    android:textSize=\"20sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/btnYES\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"250dp\"\n    android:layout_marginTop=\"120dp\"\n    android:background=\"@color/color_Transparent\"\n    android:text=\"TAKE QUIZ\"\n    android:textColor=\"@color/color_deepBlue\"\n    android:textSize=\"22sp\"\n    android:textStyle=\"bold\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/btnNO\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"22dp\"\n    android:layout_marginTop=\"120dp\"\n    android:background=\"@color/color_Transparent\"\n    android:text=\"DECLINE\"\n    android:textColor=\"@color/color_deepBlue\"\n    android:textSize=\"22sp\"\n    android:textStyle=\"bold\" /&gt;\n\n   &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>So the question is how do we FIX the error?\nShould we be inflating the custom dialog xml?\nAs you can see we tried to move the declaration to find the id into the doCustom function //val btnYES = view!!.findViewById(R.id.btnYES)\nthis link offers advice but we have no idea where to start\n<a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">LINK</a></p>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1534281627, "post_id": 51849162, "comment_id": 90653090, "body": "did you check if somewhere under the <code>build</code> folder you have the generated classes? By default that folder is excluded by the IDE from being indexed, so you won&#39;t be able to use them even if files are physically present in the file system."}, {"owner": {"reputation": 587, "user_id": 5610489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-1aw2WobTx_o/AAAAAAAAAAI/AAAAAAAADdM/gS9xHbzT2x0/photo.jpg?sz=128", "display_name": "Galih laras prakoso", "link": "https://stackoverflow.com/users/5610489/galih-laras-prakoso"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1534307110, "post_id": 51849162, "comment_id": 90658394, "body": "I can&#39;t find it under the build folder."}], "answers": [{"comments": [{"owner": {"reputation": 1345, "user_id": 905089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/L54Dq.gif?s=128&g=1", "display_name": "elliptic1", "link": "https://stackoverflow.com/users/905089/elliptic1"}, "edited": false, "score": 0, "creation_date": 1604089950, "post_id": 51852612, "comment_id": 114251196, "body": "Please explain why."}], "tags": [], "owner": {"reputation": 801, "user_id": 3897544, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/zRXCs.png?s=128&g=1", "display_name": "renzvader", "link": "https://stackoverflow.com/users/3897544/renzvader"}, "is_accepted": true, "score": 3, "last_activity_date": 1534304260, "creation_date": 1534304260, "answer_id": 51852612, "question_id": 51849162, "link": "https://stackoverflow.com/questions/51849162/kotlin-dagger-2-component-is-not-generated-by-dagger-2-in-android/51852612#51852612", "title": "Kotlin - Dagger 2 - Component is not generated by Dagger 2 in Android", "body": "<p>add @Singleton</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class, DatabaseModule::class))\ninterface DIComponent {\n    fun inject(app:App)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 5610489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-1aw2WobTx_o/AAAAAAAAAAI/AAAAAAAADdM/gS9xHbzT2x0/photo.jpg?sz=128", "display_name": "Galih laras prakoso", "link": "https://stackoverflow.com/users/5610489/galih-laras-prakoso"}, "is_accepted": false, "score": 0, "last_activity_date": 1534308015, "creation_date": 1534308015, "answer_id": 51853058, "question_id": 51849162, "link": "https://stackoverflow.com/questions/51849162/kotlin-dagger-2-component-is-not-generated-by-dagger-2-in-android/51853058#51853058", "title": "Kotlin - Dagger 2 - Component is not generated by Dagger 2 in Android", "body": "<p>I just fixed my problem by adding @Singleton to my component and then add this to my app gradle :</p>\n\n<pre><code>compile 'com.android.databinding:compiler:3.1.4'\n</code></pre>\n\n<p>I dont know with one solved my problem. But i saw that in the message when the gradle is finished building there are some warning and one of the warning is that there is a problem with the kotlin compiler in data binding. So fixed that and i fixed my problem too. Thanks .</p>\n"}], "owner": {"reputation": 587, "user_id": 5610489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-1aw2WobTx_o/AAAAAAAAAAI/AAAAAAAADdM/gS9xHbzT2x0/photo.jpg?sz=128", "display_name": "Galih laras prakoso", "link": "https://stackoverflow.com/users/5610489/galih-laras-prakoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1502, "favorite_count": 0, "accepted_answer_id": 51852612, "answer_count": 2, "score": 2, "last_activity_date": 1534397273, "creation_date": 1534277888, "last_edit_date": 1592644375, "question_id": 51849162, "link": "https://stackoverflow.com/questions/51849162/kotlin-dagger-2-component-is-not-generated-by-dagger-2-in-android", "title": "Kotlin - Dagger 2 - Component is not generated by Dagger 2 in Android", "body": "<p>I'm stuck at this problem when I move from java to Kotlin. Dagger is not generating the DaggerComponent class. I've tried many ways to fix this. This is my Code :</p>\n<p><strong>app.gradle</strong> :</p>\n<p>...</p>\n<pre><code>apply plugin: 'kotlin-kapt'\n\n...\n\ndependencies {\n    ...\n\n    implementation &quot;com.google.dagger:dagger:$dagger_version&quot;\n    implementation &quot;com.google.dagger:dagger-android:$dagger_version&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:$dagger_version&quot;\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\n    kapt &quot;com.google.dagger:dagger-android-processor:$dagger_version&quot;\n    provided 'javax.annotation:jsr250-api:1.0'\n\n   ...\n\n    compileOnly 'org.glassfish:javax.annotation:10.0-b28'\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>this is my <strong>project.gradle</strong> :</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n    ext.support_version = '27.1.1'\n    ext.glide_version = '4.7.1'\n    ext.glide_slider_version = '1.3.2'\n    ext.dagger_version = '2.17'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.0.1'\n\n       ...\n</code></pre>\n<p>And finally this is my component interface code :</p>\n<pre><code>@Component(modules = arrayOf(AppModule::class, DatabaseModule::class))\ninterface DIComponent {\n    fun inject(app:App)\n}\n</code></pre>\n<p>I think that i did it correctly, I declare all the required code with the correct annotations. I've did clean and rebuild the project but it still doesn't work. i did the invalidate caches and restart etc. it's still doesn't work.</p>\n<p>Did I make a mistake when declaring the component? Or is there something wrong with my Android Studio. I don't have any idea about this. It's really confusing me and made me stressful.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "edited": false, "score": 0, "creation_date": 1534323219, "post_id": 51853881, "comment_id": 90663583, "body": "i asume that this remove opraction not cost me money because its happning on clinte side am i right?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "reply_to_user": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "edited": false, "score": 0, "creation_date": 1534365410, "post_id": 51853881, "comment_id": 90684307, "body": "If no document is read on/from the server for the <code>REMOVED</code> (which is at the very least the most common case), then indeed it&#39;s an uncharged read."}, {"owner": {"reputation": 4325, "user_id": 1509483, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b10bd69a59535b1e5bef90c1a0a9348c?s=128&d=identicon&r=PG", "display_name": "Leon", "link": "https://stackoverflow.com/users/1509483/leon"}, "edited": false, "score": 0, "creation_date": 1600927709, "post_id": 51853881, "comment_id": 113244465, "body": "Damn, I love Stack Overflow. Some of the most brilliant people"}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 1, "last_activity_date": 1534314333, "creation_date": 1534314333, "answer_id": 51853881, "question_id": 51848759, "link": "https://stackoverflow.com/questions/51848759/why-removed-event-called-in-firestore-realtime-listener-when-new-document-added/51853881#51853881", "title": "Why removed event called in firestore realtime Listener when new document added in the collection?", "body": "<p>A quick guess is that you have more than 5 messages in the collection. In that scenario this listener shows the latest 5 messages only:</p>\n\n<pre><code>readMessageListener = db.collection(Constants.CONVERSATION)\n        .document(documentID)\n        .collection(\"0\")\n        .orderBy(\"data\", Query.Direction.DESCENDING)\n        .limit(5)\n</code></pre>\n\n<p>So now when you add a new message, that new message becomes the latest. And the previously first message is removed from the <code>QuerySnapshot</code>.</p>\n\n<p>It's easiest to see if we quickly draw up up the messages. Say you start with these 5:</p>\n\n<pre><code>1\n2\n3\n4\n5\n</code></pre>\n\n<p>So your listener gets called with these 5 messages. And now we add a new message <code>6</code>. This new message will be added to the <code>QuerySnapshot</code>. But that would lead to it having 6 messages, and you only asked for 5. So you get an <code>ADDED</code> for <code>6</code>, and a <code>REMOVED</code> for `1.</p>\n\n<pre><code>1 REMOVED\n2\n3\n4\n5\n6 ADDED\n</code></pre>\n\n<p>And end up with:</p>\n\n<pre><code>2\n3\n4\n5\n6\n</code></pre>\n"}], "owner": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534314333, "creation_date": 1534275896, "last_edit_date": 1534276581, "question_id": 51848759, "link": "https://stackoverflow.com/questions/51848759/why-removed-event-called-in-firestore-realtime-listener-when-new-document-added", "title": "Why removed event called in firestore realtime Listener when new document added in the collection?", "body": "<p>I am trying to read the messages in real time, the problem is when Person A sends a message to Person B the Person B real-time Listener called with an Added event which is totally I get it but why the Removed event also called?</p>\n\n<pre><code> fun readMessagesRealTimeListener(documentID: String, date: Date, senderUser: ChatUser, reciverUser: ChatUser): LiveData&lt;List&lt;ChatMessage&gt;&gt; {\n        if (mutableChatMessageList == null) {\n            mutableChatMessageList = MutableLiveData()\n            val chatMessageList = ArrayList&lt;ChatMessage&gt;()\n            db = FirebaseFirestore.getInstance()\n            readMessageListener = db.collection(Constants.CONVERSATION)\n                    .document(documentID)\n                    .collection(\"0\")\n                    .orderBy(\"data\", Query.Direction.DESCENDING)\n                    .limit(5)\n                    .addSnapshotListener(EventListener&lt;QuerySnapshot&gt; { querySnapshot, e -&gt;\n                        if (e != null) {\n                            Log.d(TAG, \"error in real time listerner: \" + e.code);\n                        }\n                        val source = if (querySnapshot != null &amp;&amp; querySnapshot.metadata.hasPendingWrites())\n                            \"Local\"\n                        else\n                            \"Server\"\n                        Log.d(TAG, \"source of $source\")\n                        chatMessageList.clear()\n                        if (!querySnapshot?.isEmpty!!) {\n                            for (changedSnapshot in querySnapshot.documentChanges) {\n                                when (changedSnapshot.type) {\n                                    DocumentChange.Type.ADDED -&gt; Log.d(TAG, \"New message: \" + changedSnapshot.getDocument().getData())\n                                    DocumentChange.Type.MODIFIED -&gt; Log.d(TAG, \"Modified message: \" + changedSnapshot.getDocument().getData())\n                                    DocumentChange.Type.REMOVED -&gt; Log.d(TAG, \"Removed message: \" + changedSnapshot.getDocument().getData())//this log also called when new document added in firestore but why?\n                                }\n\n                                var chatMessage = changedSnapshot.document.toObject(ChatMessage::class.java)\n\n                                Log.d(TAG, \"message \" + chatMessage.message)\n                                chatMessageList.add(chatMessage)\n\n                            }\n                            mutableChatMessageList?.value = chatMessageList\n                        } else {\n                            Log.d(TAG, \"no message found in real time\")\n                            mutableChatMessageList?.setValue(null)\n                        }\n                    })\n        }\n\n        return mutableChatMessageList!!\n    }\n</code></pre>\n"}, {"tags": ["firebase", "android-studio", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "edited": false, "score": 0, "creation_date": 1534276566, "post_id": 51848761, "comment_id": 90650999, "body": "moving <code>options</code>  into onCreate methond solved the problem, thanks"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1534275910, "creation_date": 1534275910, "answer_id": 51848761, "question_id": 51848732, "link": "https://stackoverflow.com/questions/51848732/kotlinnullexception-when-using-query/51848761#51848761", "title": "KotlinNullException when using query", "body": "<p>You're trying to make use of <code>query</code> before it's initially assigned in <code>onCreate</code>.  You should wait to create <code>options</code> only after <code>query</code> has a non-null value.  Notice that your <code>options</code> is sitting at the class member level, which gets evaluated before Android calls your <code>onCreate</code>.</p>\n"}], "owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 51848761, "answer_count": 1, "score": 0, "last_activity_date": 1534343625, "creation_date": 1534275779, "last_edit_date": 1534343625, "question_id": 51848732, "link": "https://stackoverflow.com/questions/51848732/kotlinnullexception-when-using-query", "title": "KotlinNullException when using query", "body": "<p>i'm trying to build an app that shows images from FirebaseDatabase into RecyclerView, something like this <a href=\"https://www.youtube.com/watch?v=dth3aq_QPzU\" rel=\"nofollow noreferrer\">tutorial</a> but with Kotlin, now I have <code>kotlin.KotlinNullPointerException</code> and it points to this code line </p>\n\n<pre><code>var options = FirebaseRecyclerOptions.Builder&lt;Blog&gt;()\n        .setQuery(query!!, Blog::class.java)\n        .build()\n</code></pre>\n\n<p>I couldn't solve it since tow days, this is the activity code :</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    private var mDatabase:DatabaseReference? = null\n    private var mBlogList:RecyclerView?=null\n    private var query:Query?=null\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        navBar.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n        mDatabase=FirebaseDatabase.getInstance().getReference().child(\"mall\")\n        mDatabase?.keepSynced(true)\n        mBlogList = findViewById(R.id.recyclee)\n        mBlogList?.setHasFixedSize(true)\n        mBlogList?.layoutManager = LinearLayoutManager(this)\n        query = mDatabase?.orderByKey()\n    }\n    var options = FirebaseRecyclerOptions.Builder&lt;Blog&gt;()\n            .setQuery(query!!, Blog::class.java)\n            .build()\n    override fun onStart() {\n        super.onStart()\n        val mAdapter = object : FirebaseRecyclerAdapter&lt;Blog, BlogViewHolder&gt;(\n                options) {\n            override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BlogViewHolder {\n                val view = LayoutInflater.from(parent.context)\n                        .inflate(R.layout.cardview, parent, false)\n                return BlogViewHolder(view)}\n\n            override fun onBindViewHolder(holder: BlogViewHolder, position: Int, model: Blog) {\n                holder.setTitle(model.title)\n                holder.setDes(model.des)\n                holder.setImage(applicationContext, model.image)\n            }\n        }\n        mBlogList?.adapter = mAdapter\n    }\n    inner class BlogViewHolder : RecyclerView.ViewHolder{\n        var mView:View?=null\n        constructor(itemView: View?) : super(itemView) {\n            this.mView = itemView\n        }\n        fun setTitle(title:String){\n            var postTitle = mView?.findViewById&lt;TextView&gt;(R.id.post_title)\n            postTitle?.text = title\n        }\n        fun setDes(des:String){\n            var postDes = mView?.findViewById&lt;TextView&gt;(R.id.post_des)\n            postDes?.text = des\n        }\n        fun setImage(ctx:Context, image:String){\n            var postImage = mView?.findViewById&lt;ImageView&gt;(R.id.post_title)\n            Picasso.get().load(image).into(postImage)\n        }\n    }\n}\n</code></pre>\n\n<p>Blog class: </p>\n\n<pre><code>class Blog(var title: String?, var des: String?, var image: String?)\n</code></pre>\n\n<p>My database looks like: </p>\n\n<p><a href=\"https://i.stack.imgur.com/cckTW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cckTW.png\" alt=\"database\"></a></p>\n"}, {"tags": ["design-patterns", "kotlin", "null-object-pattern"], "comments": [{"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 1, "creation_date": 1534272709, "post_id": 51847914, "comment_id": 90649374, "body": "Have you done the equivalent in, for example, Java? Or any other languages?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1534272715, "post_id": 51847914, "comment_id": 90649377, "body": "Why do you need the null object pattern when you have nullable types?"}, {"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1534272961, "post_id": 51847914, "comment_id": 90649473, "body": "@marstran Just because there&#39;s null safety doesn&#39;t mean the null object pattern is obsolete. One of the main ideas behind the null object pattern is to have a default object in the case that you are required to have an object, but really have nothing to pass to it."}, {"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "reply_to_user": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1534273096, "post_id": 51847914, "comment_id": 90649531, "body": "@Pelocho Java - yes. But I new to Kotlin so I expect here to be some difference in implementation or more concise or elegant ways to implement it"}, {"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1534273251, "post_id": 51847914, "comment_id": 90649621, "body": "Cool, can you edit the question and add the implementation you&#39;d do in Java and we&#39;ll help you do it with Kotlin. I can say in advance that probably the elvis operator will be involved"}, {"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "reply_to_user": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1534273369, "post_id": 51847914, "comment_id": 90649678, "body": "@Pelocho Yes. One moment."}, {"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "reply_to_user": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1534274893, "post_id": 51847914, "comment_id": 90650313, "body": "@Pelocho I added the java code"}], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "edited": false, "score": 0, "creation_date": 1534275373, "post_id": 51848554, "comment_id": 90650494, "body": "Forgot about singleton. Good addition."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 4, "last_activity_date": 1534340327, "last_edit_date": 1534340327, "creation_date": 1534274973, "answer_id": 51848554, "question_id": 51847914, "link": "https://stackoverflow.com/questions/51847914/how-to-implement-null-object-pattern-on-data-class-in-kotlin/51848554#51848554", "title": "How to implement Null Object pattern on data class in Kotlin?", "body": "<p>In Kotlin you can do the same, just with less lines of code:</p>\n\n<pre><code>interface Account {\n    val accountId: Int\n    val accountNumber: String\n    val title: String\n}\n\nobject EmptyAccount : Account {\n        override val accountId: Int = 1\n        override val accountNumber: String = \"\"\n        override val title: String = \"\"\n}\n\ndata class PaymentAccount(\n        override val accountId: Int,\n        override val accountNumber: String,\n        override val title: String): Account\n</code></pre>\n\n<p>Notice that we also make <code>EmptyAccount</code> singletone for efficiency.</p>\n"}, {"comments": [{"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "edited": false, "score": 0, "creation_date": 1534277220, "post_id": 51848688, "comment_id": 90651297, "body": "Looks good. But there is one more (insignificant, but) problem needs to be mentioned. What if for some reason in code to which this NullObject was provided we need to check whether PaymentAccount is EmptyAccount or just an Account? I don&#39;t see any elegant way to do so."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 3, "last_activity_date": 1534275910, "last_edit_date": 1534275910, "creation_date": 1534275561, "answer_id": 51848688, "question_id": 51847914, "link": "https://stackoverflow.com/questions/51847914/how-to-implement-null-object-pattern-on-data-class-in-kotlin/51848688#51848688", "title": "How to implement Null Object pattern on data class in Kotlin?", "body": "<p>While the solution you've been given already is fine, you might not need to have an explicit class to represent a null state if your default values aren't all or nothing. I would argue that providing defaults for all of your fields <em>is</em> the null object pattern.</p>\n\n<p>For example, you could write your class like this:</p>\n\n<pre><code>data class PaymentAccount(\n    val accountId: Int = -1,\n    val accountNumber: String = \"Invalid Account Number\",\n    val title: String = \"Invalid Title\"\n)\n</code></pre>\n\n<p>And when you construct them:</p>\n\n<pre><code>PaymentAccount(1, \"Acct2\", \"Checking\") // Actual data\nPaymentAccount() // Default values, therefore a \"null\" object.\n</code></pre>\n\n<p>The only real problem is when you only specify some of the values, but that might be ok/desirable:</p>\n\n<pre><code>PaymentAccount(1) // accountNumber and title have defaults\n</code></pre>\n"}], "owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3222, "favorite_count": 0, "accepted_answer_id": 51848554, "answer_count": 2, "score": 1, "last_activity_date": 1534340327, "creation_date": 1534272148, "last_edit_date": 1534274969, "question_id": 51847914, "link": "https://stackoverflow.com/questions/51847914/how-to-implement-null-object-pattern-on-data-class-in-kotlin", "title": "How to implement Null Object pattern on data class in Kotlin?", "body": "<p>I have a Kotlin data class:</p>\n\n<pre><code>data class PaymentAccount(\n    val accountId: Int,\n    val accountNumber: String,\n    val title: String\n)\n</code></pre>\n\n<p>This is what I'd do in Java:</p>\n\n<p>Create an abstract class:</p>\n\n<pre><code>public abstract class PaymentAccount {\n\n    protected int accountId;\n    protected String accountNumber;\n    protected String title;\n\n    public PaymentAccount(int accountId,\n                          String accountNumber,\n                          String title) {\n        this.accountId = accountId;\n        this.accountNumber = accountNumber;\n        this.title = title;\n    }\n}\n</code></pre>\n\n<p>Create null object and extend abstract class:</p>\n\n<pre><code>public class NullPaymentAccount extends PaymentAccount {\n\n    public NullPaymentAccount() {\n        super(-1,\n                \"Invalid account number\",\n                \"Invalid title\");\n    }\n}\n</code></pre>\n\n<p>Create a real object and extend abstract class too:</p>\n\n<pre><code>public class RealPaymentAccount extends PaymentAccount {\n\n    public RealPaymentAccount(int accountId,\n                              String accountNumber,\n                              String title) {\n        super(accountId,\n                accountNumber,\n                title);\n    }\n}\n</code></pre>\n\n<p>How to implement Null Object pattern in Kotlin properly? Is there more than one way? If so, what is the most concise and elegant way?</p>\n"}, {"tags": ["java", "maven", "jar", "kotlin", "jetbrains-ide"], "comments": [{"owner": {"reputation": 169, "user_id": 3052489, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36aacf1e7f0c852d91edbee7c83a62aa?s=128&d=identicon&r=PG&f=1", "display_name": "Estev&#227;o Jord&#227;o", "link": "https://stackoverflow.com/users/3052489/estev%c3%a3o-jord%c3%a3o"}, "reply_to_user": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "edited": false, "score": 0, "creation_date": 1534274404, "post_id": 51847794, "comment_id": 90650114, "body": "@PinkieSwirl Thanks for the reply, but this solution did not help."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1534342966, "post_id": 51847794, "comment_id": 90673344, "body": "Please show how you are running this application. You don&#39;t have the kotlin-runtime on your classpath when running your application."}, {"owner": {"reputation": 169, "user_id": 3052489, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36aacf1e7f0c852d91edbee7c83a62aa?s=128&d=identicon&r=PG&f=1", "display_name": "Estev&#227;o Jord&#227;o", "link": "https://stackoverflow.com/users/3052489/estev%c3%a3o-jord%c3%a3o"}, "reply_to_user": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "edited": false, "score": 0, "creation_date": 1534343701, "post_id": 51847794, "comment_id": 90673788, "body": "@PinkieSwirl and Mark I&#39;m sorry the solution is in the PinkieSwirl link, I had to add the class path and runtime dependency, then just used maven shade to make a Fat JAR.  Administrators, can mark as duplicate I&#39;m sorry"}], "owner": {"reputation": 169, "user_id": 3052489, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/36aacf1e7f0c852d91edbee7c83a62aa?s=128&d=identicon&r=PG&f=1", "display_name": "Estev&#227;o Jord&#227;o", "link": "https://stackoverflow.com/users/3052489/estev%c3%a3o-jord%c3%a3o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 0, "closed_date": 1534343706, "answer_count": 0, "score": 0, "last_activity_date": 1534271604, "creation_date": 1534271604, "question_id": 51847794, "link": "https://stackoverflow.com/questions/51847794/kotlin-jar-being-called-by-java-application-kotlin-jvm-internal-intrinsics", "closed_reason": "Duplicate", "title": "Kotlin Jar Being called by Java application [kotlin/jvm/internal/Intrinsics]", "body": "<p>I would like some help to solve this problem.</p>\n\n<p>Kotlin Client Version:\n<strong>Kotlin 1.2.41 and \nJava: 1.8</strong></p>\n\n<p>Java Application Consumer:\n<strong>jre1.8.0_144</strong></p>\n\n<p>I have a Client Generated in Kotlin, but when a java application is going to consume this Client in Kotlin, I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n    at br.com.test.security.web.oauth2.json.UsuarioJson.&lt;init&gt;(UsuarioJson.kt)\n    at com.baeldung.Test.main(Test.java:11)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 2 more\n</code></pre>\n\n<p><strong>My Clinet Generate pom.XML</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;br.com.test.security&lt;/groupId&gt;\n        &lt;artifactId&gt;security&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;security-client&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;security-client&lt;/name&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n            &lt;version&gt;1.4.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                   &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;skip&gt;true&lt;/skip&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;args&gt;\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                    &lt;/args&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Many thank's for the help</p>\n"}, {"tags": ["android", "kotlin", "android-transitions"], "comments": [{"owner": {"reputation": 7362, "user_id": 972671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d60679aa1bf8f8400d3953e7dc78d2db?s=128&d=identicon&r=PG", "display_name": "Kingfisher Phuoc", "link": "https://stackoverflow.com/users/972671/kingfisher-phuoc"}, "edited": false, "score": 0, "creation_date": 1534271453, "post_id": 51847660, "comment_id": 90648818, "body": "you should post your xml here."}, {"owner": {"reputation": 654, "user_id": 8206300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ElkGS.jpg?s=128&g=1", "display_name": "Lukas Bimba", "link": "https://stackoverflow.com/users/8206300/lukas-bimba"}, "reply_to_user": {"reputation": 7362, "user_id": 972671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d60679aa1bf8f8400d3953e7dc78d2db?s=128&d=identicon&r=PG", "display_name": "Kingfisher Phuoc", "link": "https://stackoverflow.com/users/972671/kingfisher-phuoc"}, "edited": false, "score": 0, "creation_date": 1534271711, "post_id": 51847660, "comment_id": 90648933, "body": "Just added them"}, {"owner": {"reputation": 654, "user_id": 8206300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ElkGS.jpg?s=128&g=1", "display_name": "Lukas Bimba", "link": "https://stackoverflow.com/users/8206300/lukas-bimba"}, "reply_to_user": {"reputation": 7362, "user_id": 972671, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/d60679aa1bf8f8400d3953e7dc78d2db?s=128&d=identicon&r=PG", "display_name": "Kingfisher Phuoc", "link": "https://stackoverflow.com/users/972671/kingfisher-phuoc"}, "edited": false, "score": 0, "creation_date": 1534271966, "post_id": 51847660, "comment_id": 90649061, "body": "The app runs fine when I remove the code for the animation/transitions"}], "answers": [{"tags": [], "owner": {"reputation": 654, "user_id": 8206300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ElkGS.jpg?s=128&g=1", "display_name": "Lukas Bimba", "link": "https://stackoverflow.com/users/8206300/lukas-bimba"}, "is_accepted": true, "score": 3, "last_activity_date": 1534347674, "creation_date": 1534347674, "answer_id": 51861968, "question_id": 51847660, "link": "https://stackoverflow.com/questions/51847660/android-kotlin-unknown-scene-name-transitionmanager-chapter-41-pg-308/51861968#51861968", "title": "Android Kotlin &quot;Unknown scene name: transitionManager&quot; Chapter 41 pg 308", "body": "<p>For some reason my XML was:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;transitionManager xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;changeBounds\nandroid:duration=\"2000\"&gt;\n&lt;/changeBounds&gt;\n\n&lt;/transitionManager&gt;\n</code></pre>\n\n<p>and was supposed to be </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;transitionSet xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;changeBounds\n        android:duration=\"2000\"&gt;\n    &lt;/changeBounds&gt;\n\n&lt;/transitionSet&gt;\n</code></pre>\n\n<p>I don't know why when I created the file the name was \"transitionManager\", but the change to \"transitionSet\" is what corrected the problem.</p>\n"}], "owner": {"reputation": 654, "user_id": 8206300, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ElkGS.jpg?s=128&g=1", "display_name": "Lukas Bimba", "link": "https://stackoverflow.com/users/8206300/lukas-bimba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 0, "accepted_answer_id": 51861968, "answer_count": 1, "score": 0, "last_activity_date": 1534347674, "creation_date": 1534271119, "last_edit_date": 1534271491, "question_id": 51847660, "link": "https://stackoverflow.com/questions/51847660/android-kotlin-unknown-scene-name-transitionmanager-chapter-41-pg-308", "title": "Android Kotlin &quot;Unknown scene name: transitionManager&quot; Chapter 41 pg 308", "body": "<p>I am going through the android studio 3.0 development essentials Kotlin edition book and am having a problem. </p>\n\n<p>The app crashes and inside the logcat it is saying \"Unknown scene name: transitionManager\"</p>\n\n<p>I simply don't understand simple errors like this yet since I am new, hopefully someone can help me solve this error.</p>\n\n<p>I am following every step in the book and double checked, so I am guessing this is a error inside the book? or the book is getting old</p>\n\n<pre><code>package com.ebookfrenzy.scenetransitions\n\nimport android.os.Build\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.support.annotation.RequiresApi\nimport android.transition.Scene\nimport android.view.View\nimport android.transition.TransitionManager\nimport android.transition.TransitionInflater\nimport android.transition.Transition\n\nimport kotlinx.android.synthetic.main.activity_scene_transitions.*\n\nclass SceneTransitionsActivity : AppCompatActivity() {\n\nvar scene1: Scene? = null\nvar scene2: Scene? = null\nvar transitionMgr: Transition? = null\n\n@RequiresApi(Build.VERSION_CODES.KITKAT)\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_scene_transitions)\n\n    transitionMgr = TransitionInflater.from(this)\n            .inflateTransition(R.transition.transition)\n    scene1 = Scene.getSceneForLayout(rootContainer,\n            R.layout.scene1_layout, this)\n\n    scene2 = Scene.getSceneForLayout(rootContainer,\n            R.layout.scene2_layout, this)\n\n    scene1?.enter()\n}\n\nfun goToScene2(view: View) {\n    TransitionManager.go(scene2, transitionMgr)\n}\n\nfun goToScene1(view: View) {\n    TransitionManager.go(scene1, transitionMgr)\n}\n}\n</code></pre>\n\n<p><strong>Logcat</strong></p>\n\n<pre><code>08-14 14:18:25.920 30350-30350/com.ebookfrenzy.scenetransitions E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.ebookfrenzy.scenetransitions, PID: 30350\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.ebookfrenzy.scenetransitions/com.ebookfrenzy.scenetransitions.SceneTransitionsActivity}: java.lang.RuntimeException: Unknown scene name: transitionManager\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2957)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6940)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\n Caused by: java.lang.RuntimeException: Unknown scene name: transitionManager\n    at android.transition.TransitionInflater.createTransitionFromXml(TransitionInflater.java:181)\n    at android.transition.TransitionInflater.inflateTransition(TransitionInflater.java:79)\n    at com.ebookfrenzy.scenetransitions.SceneTransitionsActivity.onCreate(SceneTransitionsActivity.kt:27)\n    at android.app.Activity.performCreate(Activity.java:7174)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1220)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2910)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3032)\u00a0\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1696)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n    at android.os.Looper.loop(Looper.java:164)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6940)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:327)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1374)\u00a0\n08-14 14:18:25.994 30350-30406/com.ebookfrenzy.scenetransitions I/vndksupport: sphal namespace is not configured for this process. Loading /vendor/lib64/egl/libGLESv2_adreno.so from the current namespace instead.\n08-14 14:18:25.999 30350-30406/com.ebookfrenzy.scenetransitions D/libEGL: loaded /vendor/lib64/egl/libGLESv2_adreno.so\n</code></pre>\n\n<p><strong>Project XML's</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/rootContainer\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\n       tools:context=\"com.ebookfrenzy.scenetransitions.SceneTransitionsActivity\"&gt;\n\n&lt;/RelativeLayout&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:onClick=\"goToScene2\"\n    android:text=\"@string/one\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/button2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginRight=\"16dp\"\n    android:layout_marginTop=\"16dp\"\n    android:onClick=\"goToScene1\"\n    android:text=\"@string/two\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/button3\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/three\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n &lt;/android.support.constraint.ConstraintLayout&gt;\n\n\n &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:layout_editor_absoluteY=\"81dp\"&gt;\n\n&lt;Button\n    android:id=\"@+id/button\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"19dp\"\n    android:layout_marginEnd=\"16dp\"\n    android:layout_marginRight=\"16dp\"\n    android:onClick=\"goToScene2\"\n    android:text=\"@string/one\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/button2\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginBottom=\"19dp\"\n    android:layout_marginLeft=\"16dp\"\n    android:layout_marginStart=\"16dp\"\n    android:onClick=\"goToScene1\"\n    android:text=\"@string/two\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n &lt;/android.support.constraint.ConstraintLayout&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;transitionManager xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n&lt;changeBounds\n    android:duration=\"2000\"&gt;\n&lt;/changeBounds&gt;\n\n &lt;/transitionManager&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm", "realm-mobile-platform", "realm-migration"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534260955, "post_id": 51844730, "comment_id": 90643477, "body": "I assume your <code>initialData</code> is a long-running transaction which happens on UI thread, therefore it can take a while. You could theoretically do some trickery with <code>Realm.getInstanceAsync()</code>."}, {"owner": {"reputation": 2028, "user_id": 4820556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9aa907b1afcf77e0d4a1bc0aea7e9b?s=128&d=identicon&r=PG", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/4820556/madscientist"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534261732, "post_id": 51844730, "comment_id": 90643927, "body": "The initialData doesnt have much, i tried with that, i even tried removing it, still it takes the same time, also the configuration static object is already initialized at application level. And as per the doc, the <code>initialData</code> would run only once right, still the anr appears everytime"}, {"owner": {"reputation": 2028, "user_id": 4820556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9aa907b1afcf77e0d4a1bc0aea7e9b?s=128&d=identicon&r=PG", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/4820556/madscientist"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534262594, "post_id": 51844730, "comment_id": 90644390, "body": "@EpicPandaForce even though the Async thing works, what i&#39;m unable to understand is that why does it take time to open an instance, even if it&#39;s in a separate file?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534266843, "post_id": 51844730, "comment_id": 90646545, "body": "Maybe it&#39;s the migration? The migration is also a write transaction. But I recommend using the Method Profiling in AS profiler to see what method executed for long time"}, {"owner": {"reputation": 2028, "user_id": 4820556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9aa907b1afcf77e0d4a1bc0aea7e9b?s=128&d=identicon&r=PG", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/4820556/madscientist"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534267026, "post_id": 51844730, "comment_id": 90646646, "body": "I did try the AS profiler, it took some 2-3 seconds to return the instance for the <code>aux.realm</code> file. I thought it might be a migration issue, so i cleared my app data and tried the same, this I suppose would recreate the schema from scratch and the realm file does not exists (not sure about this though, assuming this by the file.exists check in souce)"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534268296, "post_id": 51844730, "comment_id": 90647300, "body": "If you actually show where it takes a long time in Realm&#39;s methods then I&#39;ll know more. I recommend taking a screenshot"}, {"owner": {"reputation": 2028, "user_id": 4820556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9aa907b1afcf77e0d4a1bc0aea7e9b?s=128&d=identicon&r=PG", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/4820556/madscientist"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534269065, "post_id": 51844730, "comment_id": 90647700, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178032/discussion-between-madscientist-and-epicpandaforce\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 6071640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AwvBF.png?s=128&g=1", "display_name": "Oliver Christen", "link": "https://stackoverflow.com/users/6071640/oliver-christen"}, "is_accepted": false, "score": 0, "last_activity_date": 1546941638, "creation_date": 1546941638, "answer_id": 54089316, "question_id": 51844730, "link": "https://stackoverflow.com/questions/51844730/secondary-realm-file-getinstance-taking-too-long/54089316#54089316", "title": "Secondary .realm file getInstance taking too long", "body": "<p>I solved this problem by caching the realm instance:</p>\n\n<pre><code>private Realm auxiliaryRealmInstance;\n\nfun getAuxiliaryRealmInstance(): Realm{\nreturn auxiliaryRealmInstance == null ? Realm.getInstance(auxiliaryConfiguration.value) : auxiliaryRealmInstance;\n}\n</code></pre>\n\n<p>This workaround should not be necessary because <a href=\"https://stackoverflow.com/a/37693214/6071640\">here</a> it's written that caching will not make anything more efficient. But I did not notice any disadvantages so far.</p>\n"}], "owner": {"reputation": 2028, "user_id": 4820556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d9aa907b1afcf77e0d4a1bc0aea7e9b?s=128&d=identicon&r=PG", "display_name": "MadScientist", "link": "https://stackoverflow.com/users/4820556/madscientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1546941638, "creation_date": 1534259786, "last_edit_date": 1534265419, "question_id": 51844730, "link": "https://stackoverflow.com/questions/51844730/secondary-realm-file-getinstance-taking-too-long", "title": "Secondary .realm file getInstance taking too long", "body": "<blockquote>\n  <p>By secondary <code>.realm</code> file I mean a realm file which is not the <code>default.realm</code> file.</p>\n</blockquote>\n\n<p>I have two <code>.realm</code> files - one being the standard <code>default.realm</code> and the other being say <code>aux.realm</code>.</p>\n\n<p>Things work as they should under normal circumstances, but when I perform a heavy operation (multiple tables undergo <code>.deleteAllFromRealm()</code> and re-sync everything) while this happens on a worker thread, the user is still free to perform any UI activities, whenever any interaction is performed involving the <code>aux.realm</code> instance, the app shuts with an ANR.</p>\n\n<p>With some extensive debugging I found that the <code>getAuxRealmInstance</code> takes a lot of time to pass the instance, even though the value for it should be cached. This is in spite of the fact that its configuration already loaded lazily. Hence, it is unclear as to why it takes so much time? </p>\n\n<p>I also though it might be an issue of transactions as there can be only one active transaction at a time, but what i'm not sure is that is the rule valid also through files, like can two realm files have their own <code>transactions</code> running in parallel?</p>\n\n<p>My <code>aux.realm</code> file: </p>\n\n<pre><code>private const val FILE_NAME = \"auxiliary.realm\"\nprivate val auxiliaryConfiguration  = lazy {\n    RealmConfiguration.Builder()\n            .name(FILE_NAME)\n            .schemaVersion(AuxiliarySchemaVersionMappings.CURRENT_SCHEMA_VERSION)\n            .modules(AuxiliaryRealmModule())\n            .initialData {\n                Log.d(\"AuxRealm\", \"running initial data migration: \")\n                // initial version..\n                // migrate the AppMetaData table from base realm to aux realm\n                }\n            }\n            .migration(AuxiliaryRealmMigration())\n            .build().also { Log.d(\"AuxRealm\", \"configuration created: \") }\n}\n\nfun getAuxiliaryRealmInstance(): Realm{\n    return Realm.getInstance(auxiliaryConfiguration.value)\n}\n\nfun getAuxiliaryRealmInstanceAsync(callback: Realm.Callback): RealmAsyncTask{\n    return Realm.getInstanceAsync(auxiliaryConfiguration.value, callback)\n}\n</code></pre>\n\n<p>PS: The ANR goes away if I load the aux realm instance in async, which as mentioned above, points to the same problem. </p>\n\n<p>Env variables: Realm: 5.4.2, Kotlin 1.2.51</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534258741, "post_id": 51844386, "comment_id": 90642114, "body": "Why don&#39;t you use <code>var age : Int</code> instead and return <code>&quot;person_age&quot; to age</code> when needed?"}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1534262856, "last_edit_date": 1534262856, "creation_date": 1534258848, "answer_id": 51844455, "question_id": 51844386, "link": "https://stackoverflow.com/questions/51844386/override-getvalue-and-setvalue-to-capselate-a-pair/51844455#51844455", "title": "Override getValue and setValue to capselate a Pair", "body": "<p>The following should probably already suffice:</p>\n\n<pre><code>class Person() {\n  var age : Int = 23 // public by default\n  private /* or internal */ fun toAgePair() = \"person_age\" to age // narrow visibility\n}\n</code></pre>\n\n<p>So all your code accesses the age as you have shown:</p>\n\n<pre><code>val p = Person()\np.age = 25\nif (p.age &lt;= 30) ...\n</code></pre>\n\n<p>But if you require your <code>Pair</code> you just do the following instead:</p>\n\n<pre><code>p.toAgePair() // or skip that method and use: '\"person_age\" to p.age' instead\n</code></pre>\n\n<p>Alternatives to access the <code>Pair</code> content are: <code>Pair.first</code>, <code>Pair.second</code> or <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">destructured</a>, e.g.:</p>\n\n<pre><code>val myPair = Pair(\"person_age\", 23)\n// myPair.second = 25 // setting will not work however\nmyPair.let { (name, age) -&gt; /* do something with it */ }\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>val p = Person()\nval (name, age) = p.toAgePair()\n// age = 25 // setting will not work however (and it wouldn't set the actual value inside the Pair if it would contain vars)\nif (age &lt; 30) // accessing is OK\n</code></pre>\n\n<p>However then you get access to both values which you probably didn't want in the first place, if I understood you correctly.\nYou could overcome the setting part using your own <code>data class</code> with a <code>var</code> but then again, you do not really gain something from it.</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1534282400, "last_edit_date": 1534282400, "creation_date": 1534260283, "answer_id": 51844870, "question_id": 51844386, "link": "https://stackoverflow.com/questions/51844386/override-getvalue-and-setvalue-to-capselate-a-pair/51844870#51844870", "title": "Override getValue and setValue to capselate a Pair", "body": "<blockquote>\n  <p>Now I want to capselate the actual Pair and only want the user to read/write the second value of the pair.</p>\n</blockquote>\n\n<p>Assuming this means you want the first value to be final, but not the second one, there are some options.</p>\n\n<p>If you only want one of the values to be writeable and readable, don't use a pair. It's not designed to be used like that. All the items of a Pair are <code>val</code>s.</p>\n\n<p>If you want a Pair either way, can do this:</p>\n\n<pre><code>class Person(var age: Int = 23){\n    val pair: Pair&lt;String, Int&gt;\n        get() = Pair(\"person_age\", age)\n    //Alternatively, if you don't want to use a property:\n    //fun getPair() = \"person_age\" to age\n}\n</code></pre>\n\n<p>What this does is creating a final pair where the first value can't be modified, but the second can. </p>\n\n<p>So now:</p>\n\n<pre><code>fun example(){\n    val person = Person()\n    person.age = 25;//Fine: Age is an int, and a var\n    //person.pair = Pair(\"something\", 45)//fails: \"Val cannot be reassigned\n    val pair = person.pair // Allowed. Accessing the pair still works\n    assert(pair.second == person.age) // This is true\n}\n</code></pre>\n\n<p>However, if you're fine with a non-Pair solution, this works too:</p>\n\n<pre><code>data class Person (var age: Int, val string: String = \"person_age\")\n\nfun example(){\n    val person = Person(23)\n    val (name, string) = person// Allowed! Just like with Pairs\n    person.age = 25; // Also allowed\n    //person.string = \"something\"//Not allowed\n}\n</code></pre>\n\n<p>The n-touple unpacking is supported for data classes. If you don't have a data class, you need to declare an <code>operator fun</code> for each component you want to unpack. Example:</p>\n\n<pre><code>class Person (val string: String = \"person_age\", var age: Int){\n    operator fun component1() = string\n    operator fun component2() = age\n}\n</code></pre>\n\n<p>But tbh, it sounds like the <code>data class</code> solution is the one you're looking for. It would lock the String to what it's initialized with, and because of the default value and its position, you can initialize it with a single positioned argument*</p>\n\n<p>You could also use generics if you want to use the same class for multiple types.</p>\n\n<p><sub>* Assumes the code is in Kotlin. Positioned and default arguments don't work from Java code.</sub></p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1534281811, "creation_date": 1534281811, "answer_id": 51849955, "question_id": 51844386, "link": "https://stackoverflow.com/questions/51844386/override-getvalue-and-setvalue-to-capselate-a-pair/51849955#51849955", "title": "Override getValue and setValue to capselate a Pair", "body": "<p>I wouldn't recommend you to use <code>Pair</code> at all. Maybe you could modify it (inherit from it, use extension functions) to suit your needs, but why try to change something as simple as Pair?. It is much easier and in this case also cleaner to just create your own class which suits your needs:</p>\n\n<pre><code>data class MyPair&lt;out A, B&gt;(\n    val first: A, \n    var second: B\n)\n\nval pair = MyPair(\"age\", 1)\npair.second = 2\npair.first = 1 // error\n</code></pre>\n\n<p>This class has all important features which <code>Pair</code> has: generic types for <code>first</code> and <code>second</code>, and you can use destructuring declarations.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10226826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P7UOafEJP20/AAAAAAAAAAI/AAAAAAAAA7g/raw_jFyFf38/photo.jpg?sz=128", "display_name": "Gustavo Wilgenhoff", "link": "https://stackoverflow.com/users/10226826/gustavo-wilgenhoff"}, "is_accepted": false, "score": 1, "last_activity_date": 1534293301, "creation_date": 1534293301, "answer_id": 51851432, "question_id": 51844386, "link": "https://stackoverflow.com/questions/51844386/override-getvalue-and-setvalue-to-capselate-a-pair/51851432#51851432", "title": "Override getValue and setValue to capselate a Pair", "body": "<p>Here's how to overwrite a getter method in Kotlin</p>\n\n<pre><code>class Person {\n    var age: Int = 0\n       get() = if (field &lt; 0) 0 else field \n\n}\n</code></pre>\n\n<p>The attribute is accessed directly</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    val p = Person()\n    p.age = -28\n    println(p.age) //0\n}\n</code></pre>\n"}], "owner": {"reputation": 6194, "user_id": 2047987, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/WY0Zw.png?s=128&g=1", "display_name": "Cilenco", "link": "https://stackoverflow.com/users/2047987/cilenco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1535433863, "creation_date": 1534258627, "last_edit_date": 1535433863, "question_id": 51844386, "link": "https://stackoverflow.com/questions/51844386/override-getvalue-and-setvalue-to-capselate-a-pair", "title": "Override getValue and setValue to capselate a Pair", "body": "<p>Let's say I have following class:</p>\n\n<pre><code>class Person() {\n    var age: Pair&lt;String, Int&gt; = Pair(\"person_age\", 23)\n    // override getValue and setValue here\n}\n</code></pre>\n\n<p>Now I want to capsulate the actual <code>Pair</code> and only want the user to read/write the second value of the pair. Is it possible to override the <code>getValue</code> and <code>setValue</code> methods so I can do something like this:</p>\n\n<pre><code>val p = Person()\np.age = 25\n\nif(p.age &lt;= 30)\n</code></pre>\n\n<p>Of course I can write own <code>getter</code> and <code>setter</code> methods for each property but one nice thing about Kotlin is that you have to write such less boilerplate code which will get lost then.</p>\n"}, {"tags": ["spring", "kotlin", "mono", "flux", "project-reactor"], "comments": [{"owner": {"reputation": 524, "user_id": 1344124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0acf3475ab5a9fb3fcf75fc09033dc1?s=128&d=identicon&r=PG", "display_name": "jimonthebarn", "link": "https://stackoverflow.com/users/1344124/jimonthebarn"}, "edited": false, "score": 0, "creation_date": 1534334874, "post_id": 51843767, "comment_id": 90668847, "body": "The hint @artem-bilan gave did the trick."}, {"owner": {"reputation": 139, "user_id": 2748664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbc369bc1197f7c06de28c1b4b5a512?s=128&d=identicon&r=PG&f=1", "display_name": "jonenst", "link": "https://stackoverflow.com/users/2748664/jonenst"}, "edited": false, "score": 0, "creation_date": 1599046425, "post_id": 51843767, "comment_id": 112650488, "body": "Isn&#39;t this code totally wrong ? presumably persistAndReturnMonoOfCustomObject does not block, and so all the foreach block is executed instantaneously and then sink.complete() is called. So all the subsequent sink.next(it) (executed only when the mono returned by persistAndReturnMonoOfCustomObject completes) have no effect ?"}], "answers": [{"tags": [], "owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "is_accepted": true, "score": 8, "last_activity_date": 1534262128, "creation_date": 1534262128, "answer_id": 51845422, "question_id": 51843767, "link": "https://stackoverflow.com/questions/51843767/proper-way-to-create-a-flux-from-a-list-of-monos/51845422#51845422", "title": "Proper way to create a Flux from a list of Mono&#39;s", "body": "<p>I believe you can use <code>concat()</code> instead:</p>\n\n<pre><code>/**\n * Concatenate all sources provided as a vararg, forwarding elements emitted by the\n * sources downstream.\n * &lt;p&gt;\n * Concatenation is achieved by sequentially subscribing to the first source then\n * waiting for it to complete before subscribing to the next, and so on until the\n * last source completes. Any error interrupts the sequence immediately and is\n * forwarded downstream.\n * &lt;p&gt;\n * &lt;img class=\"marble\" src=\"https://raw.githubusercontent.com/reactor/reactor-core/v3.1.3.RELEASE/src/docs/marble/concat.png\" alt=\"\"&gt;\n * &lt;p&gt;\n * @param sources The {@link Publisher} of {@link Publisher} to concat\n * @param &lt;T&gt; The type of values in both source and output sequences\n *\n * @return a new {@link Flux} concatenating all source sequences\n */\n@SafeVarargs\npublic static &lt;T&gt; Flux&lt;T&gt; concat(Publisher&lt;? extends T&gt;... sources) {\n</code></pre>\n\n<p>Or <code>merge()</code>:</p>\n\n<pre><code>/**\n * Merge data from {@link Publisher} sequences contained in an array / vararg\n * into an interleaved merged sequence. Unlike {@link #concat(Publisher) concat},\n * sources are subscribed to eagerly.\n * &lt;p&gt;\n * &lt;img class=\"marble\" src=\"https://raw.githubusercontent.com/reactor/reactor-core/v3.1.3.RELEASE/src/docs/marble/merge.png\" alt=\"\"&gt;\n * &lt;p&gt;\n * Note that merge is tailored to work with asynchronous sources or finite sources. When dealing with\n * an infinite source that doesn't already publish on a dedicated Scheduler, you must isolate that source\n * in its own Scheduler, as merge would otherwise attempt to drain it before subscribing to\n * another source.\n *\n * @param sources the array of {@link Publisher} sources to merge\n * @param &lt;I&gt; The source type of the data sequence\n *\n * @return a merged {@link Flux}\n */\n@SafeVarargs\npublic static &lt;I&gt; Flux&lt;I&gt; merge(Publisher&lt;? extends I&gt;... sources) {\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 1344124, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0acf3475ab5a9fb3fcf75fc09033dc1?s=128&d=identicon&r=PG", "display_name": "jimonthebarn", "link": "https://stackoverflow.com/users/1344124/jimonthebarn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5877, "favorite_count": 0, "accepted_answer_id": 51845422, "answer_count": 1, "score": 3, "last_activity_date": 1534957164, "creation_date": 1534256731, "last_edit_date": 1534957164, "question_id": 51843767, "link": "https://stackoverflow.com/questions/51843767/proper-way-to-create-a-flux-from-a-list-of-monos", "title": "Proper way to create a Flux from a list of Mono&#39;s", "body": "<p>Lets say I have a API operation that consumes a List of CustomObjects. For every one of those objects it calls a service method that creates a Mono. How do I create a Flux from those Mono objects in an idiomatic and therefore non-blocking way?</p>\n\n<p>What I've come up with for now is this. I changed the method names to better reflect their intended purpose.</p>\n\n<pre><code>fun myApiMethod(@RequestBody customObjs: List&lt;CustomObject&gt;): Flux&lt;CustomObject&gt; {\n\n    return Flux.create { sink -&gt;\n        customObjs.forEach {\n\n            service.persistAndReturnMonoOfCustomObject(it).map {\n                sink.next(it)\n            }\n        }\n        sink.complete()\n    }\n}\n</code></pre>\n\n<p>Moreover do I need to subscribe to the flux to actually make it return something?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-coordinatorlayout"], "answers": [{"tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": false, "score": 0, "last_activity_date": 1534254829, "creation_date": 1534254829, "answer_id": 51843173, "question_id": 51843172, "link": "https://stackoverflow.com/questions/51843172/how-to-show-or-hide-a-view-upon-recyclerview-scroll/51843173#51843173", "title": "How to show or hide a view upon RecyclerView scroll", "body": "<p>The easiest way to do this is to add <code>RecyclerView.OnScrollListener</code> to your recyclerview.</p>\n\n<p>This solution is quite straightforward and works quite decent, plus you can adjust length of scroll to be ignored via <code>threshold</code> property, which is a  percentage of RCV height.</p>\n\n<pre><code>fun RecyclerView.hideShowScrollListener(view: View, threshold: Double = .5) {\n    this.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n        override fun onScrolled(recyclerView: RecyclerView?, dx: Int, dy: Int) {\n            super.onScrolled(recyclerView, dx, dy)\n            val thresholdValue = (recyclerView?.height ?: 0) / 100 * threshold\n            if (dy &gt; thresholdValue &amp;&amp; view.visibility == View.VISIBLE) {\n                view.gone()\n            } else if (dy &lt; -thresholdValue &amp;&amp; view.visibility != View.VISIBLE) {\n                view.visible()\n            }\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534254971, "creation_date": 1534254829, "last_edit_date": 1534254971, "question_id": 51843172, "link": "https://stackoverflow.com/questions/51843172/how-to-show-or-hide-a-view-upon-recyclerview-scroll", "title": "How to show or hide a view upon RecyclerView scroll", "body": "<p>There is a plenty of answers related with <code>CoordinatorLayout</code> and <code>FAB</code>, however sometimes you just need to show / hide your custom view upon scroll down / up events from <code>RecyclerView</code>.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 1, "creation_date": 1534254143, "post_id": 51842614, "comment_id": 90638897, "body": "Great explanation."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534254469, "post_id": 51842614, "comment_id": 90639117, "body": "So we actually get a lot of code / functionality baked into the byte code when using <code>::test</code> (all the reflection stuff), but the relevant code seems to be as efficient as without reflection."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534254865, "post_id": 51842614, "comment_id": 90639341, "body": "@Roland I just updated my answer. I think the main difference is in the extra method call that needs to be done in case of reflection, but probably it could be optimized with external tools like Proguard, making the performance equivalent between the 2 solutions. When in doubt I&#39;d go with the more readable one."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534255474, "post_id": 51842614, "comment_id": 90639734, "body": "That was my thought too... but in this specific case they are both similarly readable to me and just wanted to know which other impacts such a decision might have. For me such an impact is negligible."}], "tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": true, "score": 7, "last_activity_date": 1534254728, "last_edit_date": 1534254728, "creation_date": 1534253139, "answer_id": 51842614, "question_id": 51842043, "link": "https://stackoverflow.com/questions/51842043/is-the-property-reference-test-equivalent-to-a-function-accessing-the-proper/51842614#51842614", "title": "Is the property reference (::test) equivalent to a function accessing the property ({ test }) when passed as argument e.g. `() -&gt; String`?", "body": "<p>I think in this case it's better to check the bytecode to see what's going on.</p>\n\n<p>I used the following code:</p>\n\n<pre><code>class Test(val test: String) {\n    fun testFun(func: () -&gt; String): Unit = TODO()\n    fun callTest() {\n        testFun { test }\n        testFun(::test)\n    }\n}\n</code></pre>\n\n<p>For <code>testFun { test }</code> here's the generated bytecode:</p>\n\n<pre><code>ALOAD 0\nNEW Test$callTest$1\nDUP\nALOAD 0\nINVOKESPECIAL Test$callTest$1.&lt;init&gt; (LTest;)V\nCHECKCAST kotlin/jvm/functions/Function0\nINVOKEVIRTUAL Test.testFun (Lkotlin/jvm/functions/Function0;)V\n</code></pre>\n\n<p>And here's the bytecode for <code>testFun(::test)</code>:</p>\n\n<pre><code>ALOAD 0\nNEW Test$callTest$2\nDUP\nALOAD 0\nCHECKCAST Test\nINVOKESPECIAL Test$callTest$2.&lt;init&gt; (LTest;)V\nCHECKCAST kotlin/jvm/functions/Function0\nINVOKEVIRTUAL Test.testFun (Lkotlin/jvm/functions/Function0;)V\n</code></pre>\n\n<p>They look almost exactly the same, except that the first one is creating a <code>Test$callTest$1</code>, while the second is using a <code>Test$callTest$2</code>. There's also an extra <code>CHECKCAST Test</code> in the second \"version\" because <code>Test$callTest$2</code> is expecting an instance of <code>Test</code> in its constructor.</p>\n\n<p>So, what's the difference between <code>$1</code> and <code>$2</code>?</p>\n\n<p>Here's <code>$1</code> version:</p>\n\n<pre><code>final class Test$callTest$1 extends kotlin/jvm/internal/Lambda implements kotlin/jvm/functions/Function0  {\n\n    ....\n\n    final synthetic LTest; this$0 // reference to your Test instance\n\n    &lt;init&gt;(LTest;)V {\n        ALOAD 0\n        ALOAD 1\n        PUTFIELD Test$callTest$1.this$0 : LTest;\n        ALOAD 0\n        ICONST_0 // Lambda arity is zero\n        INVOKESPECIAL kotlin/jvm/internal/Lambda.&lt;init&gt; (I)V\n        RETURN\n    }\n\n    public final String invoke() {\n        ALOAD 0\n        GETFIELD Test$callTest$1.this$0 : LTest;\n        INVOKEVIRTUAL Test.getTest ()Ljava/lang/String;\n    }\n}\n</code></pre>\n\n<p>While <code>$2</code>: </p>\n\n<pre><code>final class Test$callTest$2 extends kotlin/jvm/internal/PropertyReference0  {\n\n    ...\n\n    &lt;init&gt;(LTest;)V {\n        ALOAD 0\n        ALOAD 1\n        INVOKESPECIAL kotlin/jvm/internal/PropertyReference0.&lt;init&gt; (Ljava/lang/Object;)V\n        RETURN\n   }\n\n    public Object get() {\n        GETFIELD Test$callTest$2.receiver : Ljava/lang/Object;\n        CHECKCAST Test\n        INVOKEVIRTUAL Test.getTest ()Ljava/lang/String;\n        ARETURN\n    }\n}\n</code></pre>\n\n<p>So it seems there's no big difference in terms of bytecode instructions.</p>\n\n<p>EDIT:\nClass <code>$2</code> inherits an <code>invoke</code> method from its parent class <code>PropertyReference0</code> that calls its <code>get()</code> method, while <code>$1</code> immediately declares <code>invoke</code>. Because of that, without further optimization <code>$2</code> performs one extra method call compared to <code>$1</code>.</p>\n"}], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 51842614, "answer_count": 1, "score": 8, "last_activity_date": 1534254728, "creation_date": 1534251457, "last_edit_date": 1534253915, "question_id": 51842043, "link": "https://stackoverflow.com/questions/51842043/is-the-property-reference-test-equivalent-to-a-function-accessing-the-proper", "title": "Is the property reference (::test) equivalent to a function accessing the property ({ test }) when passed as argument e.g. `() -&gt; String`?", "body": "<p>I started wondering whether accessing a property via <code>::test</code> is equivalent to calling <code>{ test }</code> or whether it is rather an indirect call using reflection.</p>\n\n<p>The question came to my mind when looking at the following: <a href=\"https://stackoverflow.com/questions/51840809/how-can-i-pass-property-getter-as-a-function-type-to-another-function\">How can I pass property getter as a function type to another function</a></p>\n\n<p>While both <code>::test</code> and <code>{ test }</code> work, the IDE (Intellij) set the <code>::test</code> to a <code>KProperty</code>-type whereas the latter type was <code>() -&gt; String</code> when assigned to a variable. So there is a difference here. But what would be the effective difference? Are these real method references as in Java or are they rather a reflection way to access properties? Will one variant probably have any performance impact over the other?</p>\n\n<p>Code snippet:</p>\n\n<pre><code>class Test(val test : String) {\n  fun testFun(func: ()-&gt;String) : String = func()\n  fun callTest() {\n    testFun { test } // or (::test) // is it using reflection? are these real references?\n  }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "client", "resteasy", "jackson2"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 9338223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45168e3e584b440be3f3846282937ba6?s=128&d=identicon&r=PG&f=1", "display_name": "abi", "link": "https://stackoverflow.com/users/9338223/abi"}, "is_accepted": true, "score": 0, "last_activity_date": 1534491978, "creation_date": 1534491978, "answer_id": 51890620, "question_id": 51841756, "link": "https://stackoverflow.com/questions/51841756/resteasy003145-unable-to-find-a-messagebodyreader-of-content-type-text-xmlchar/51890620#51890620", "title": "RESTEASY003145: Unable to find a MessageBodyReader of content-type text/xml;charset=UTF-8", "body": "<p>Reasteasy can't handle application/xml content-type out of the box with jackson-xml. So the idea is to write it by yourself.</p>\n\n<pre><code>@Provider\n@Consumes(MediaType.TEXT_XML, MediaType.APPLICATION_XML)\nclass BodyReaderProvider : MessageBodyReader&lt;Any&gt; {\n\n   //jackson instantiation and some check code here\n}\n</code></pre>\n\n<p>and register it </p>\n\n<pre><code>val client = ResteasyClientBuilder.newBuilder()\n               .register(BodyReaderProvider())\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9338223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45168e3e584b440be3f3846282937ba6?s=128&d=identicon&r=PG&f=1", "display_name": "abi", "link": "https://stackoverflow.com/users/9338223/abi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 51890620, "answer_count": 1, "score": 1, "last_activity_date": 1534491978, "creation_date": 1534250622, "question_id": 51841756, "link": "https://stackoverflow.com/questions/51841756/resteasy003145-unable-to-find-a-messagebodyreader-of-content-type-text-xmlchar", "title": "RESTEASY003145: Unable to find a MessageBodyReader of content-type text/xml;charset=UTF-8", "body": "<p>I'm a newbie in a REST services, but all solutions I found was due to lack of necessary providers. </p>\n\n<p>Dependencies:</p>\n\n<pre><code>compile group: 'org.jboss.resteasy', name: 'resteasy-client', version: '3.6.1.Final'\ncompile group: 'org.jboss.resteasy', name: 'resteasy-jackson2-provider', version: '3.6.1.Final'\ncompile \"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.+\"\ncompile \"com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.9.+\"\n</code></pre>\n\n<p>Data class:</p>\n\n<pre><code>@JacksonXmlRootElement(localName = \"Response\")\ndata class ResponseSessionInit(@JacksonXmlProperty(localName = \"Error\") val error: Error)\ndata class Error(@JacksonXmlProperty(localName = \"Text\", isAttribute = true) val text: String)\n</code></pre>\n\n<p>Proxy:</p>\n\n<pre><code>interface L3Client {\n\n  @POST\n  @Consumes(\"text/xml;charset=UTF-8\")\n  @Produces(\"text/xml; charset=UTF-8\")\n  fun test(string: String): ResponseSessionInit\n}\n</code></pre>\n\n<p>Proxy method invocation:</p>\n\n<pre><code>    val proxy = client.target(API).proxyBuilder(L3Client::class.java).build()\n    println(proxy.test(\"&lt;Request&gt;&lt;ProtocolInfoGet/&gt;&lt;/Request&gt;\"))\n</code></pre>\n\n<p>I receive exception:</p>\n\n<pre><code>javax.ws.rs.client.ResponseProcessingException: javax.ws.rs.ProcessingException: RESTEASY003145: Unable to find a MessageBodyReader of content-type text/xml;charset=UTF-8 and type class ru.abinet.commons.cft.L3.messages.ResponseSessionInit\n\nat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.extractResult(ClientInvocation.java:156)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.extractors.BodyEntityExtractor.extractEntity(BodyEntityExtractor.java:60)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invokeSync(ClientInvoker.java:150)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientInvoker.invoke(ClientInvoker.java:112)\nat org.jboss.resteasy.client.jaxrs.internal.proxy.ClientProxy.invoke(ClientProxy.java:76)\nat com.sun.proxy.$Proxy19.test(Unknown Source)\n</code></pre>\n\n<p>It really looks like if Resteasy client can't find a decoder for my XML, however I have it in path.</p>\n\n<p>I can change test() method to return String and successfully parse XML with something like</p>\n\n<pre><code>    val mapper = XmlMapper()\n    mapper.registerModule(KotlinModule())\n    val value = mapper.readValue(xml, ResponseSessionInit::class.java)\n</code></pre>\n\n<p>However, I'd like to do it automagically. What I'm missing ?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin", "war"], "comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1534249920, "post_id": 51841286, "comment_id": 90635973, "body": "How did you create the war? And do you really need JSP?"}, {"owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1534250629, "post_id": 51841286, "comment_id": 90636447, "body": "WAR is created as an Intellij IDEA project artifact, via \u2018Web Application: Archive\u2019 preset. As I\u2019ve said, this is a teaching project, hence JSP. More to the point, I want to understand what goes wrong here, since I don\u2019t see a reason for <code>ClassNotFoundException</code>."}, {"owner": {"reputation": 3524, "user_id": 1364747, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/dAdPj.png?s=128&g=1", "display_name": "Teddy", "link": "https://stackoverflow.com/users/1364747/teddy"}, "edited": false, "score": 0, "creation_date": 1534251208, "post_id": 51841286, "comment_id": 90636829, "body": "Maybe its because a normal java -jar with Manifest mentioning main class will not look inside WEB-INF/classes folder for org.domain.apps.App00HelloMvcKt.class  It has to be packaged differently"}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1534253440, "post_id": 51841286, "comment_id": 90638406, "body": "You should use the spring boot plugin to create the war not simply export a war. using IntelliJ."}], "answers": [{"tags": [], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1534250624, "creation_date": 1534250624, "answer_id": 51841757, "question_id": 51841286, "link": "https://stackoverflow.com/questions/51841286/war-file-could-not-find-or-load-main-class-but-it-s-there/51841757#51841757", "title": "WAR file: Could not find or load main class, but it\u2019s there", "body": "<p>A jar file is simply a zip file, so do <code>zip -l application.war</code> and look to make sure your <code>App00HelloMvcKit</code> class is in there, and that your <code>MANIFEST.MF</code> is in the correct place.  One of these things is probably incorrect, so fix that.</p>\n\n<p>If you can't figure it out, post the output of the above command in an edit to your question.</p>\n"}, {"comments": [{"owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "edited": false, "score": 0, "creation_date": 1534251560, "post_id": 51841838, "comment_id": 90637074, "body": "Although, <code>.jsp</code> files still fail miserably with 404. But that is a story for another day."}], "tags": [], "owner": {"reputation": 38504, "user_id": 1602555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1sjqZ.jpg?s=128&g=1", "display_name": "Karol Dowbecki", "link": "https://stackoverflow.com/users/1602555/karol-dowbecki"}, "is_accepted": true, "score": 5, "last_activity_date": 1534250869, "creation_date": 1534250869, "answer_id": 51841838, "question_id": 51841286, "link": "https://stackoverflow.com/questions/51841286/war-file-could-not-find-or-load-main-class-but-it-s-there/51841838#51841838", "title": "WAR file: Could not find or load main class, but it\u2019s there", "body": "<p>Most likely IntelliJ \"Web Application: Archive\" doesn't fully understand Spring Boot semantics. Try packaging the WAR with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html\" rel=\"noreferrer\">Maven Spring Boot Plugin</a>, as in explained in chapter <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-maven-plugin.html#build-tool-plugins-maven-packaging\" rel=\"noreferrer\">68.2 Packaging Executable Jar and War Files</a>:</p>\n\n<pre><code>$ mvn clean package spring-boot:repackage\n$ java -jar target/application.war\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 8041935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8edce89a4cdadcd918591f96c38a4f00?s=128&d=identicon&r=PG&f=1", "display_name": "CBlew", "link": "https://stackoverflow.com/users/8041935/cblew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1550, "favorite_count": 0, "accepted_answer_id": 51841838, "answer_count": 2, "score": 3, "last_activity_date": 1534250869, "creation_date": 1534249151, "question_id": 51841286, "link": "https://stackoverflow.com/questions/51841286/war-file-could-not-find-or-load-main-class-but-it-s-there", "title": "WAR file: Could not find or load main class, but it\u2019s there", "body": "<p>I have built a WAR archive artifact with Intellij IDEA that contains a Spring Boot MVC application written in Kotlin.</p>\n\n<p>Here\u2019s the relevant contents:</p>\n\n<pre><code>$ jar tvf application.war\n...\n1649 [timestamp] WEB-INF/classes/org/domain/apps/App00HelloMvcKt.class\n2087 [timestamp] WEB-INF/classes/org/domain/apps/App00HelloMvc.class\n...\n</code></pre>\n\n<p><code>App00HelloMvcKt</code> contains <code>fun main(...)</code>, and <code>App00HelloMvc</code> is the Spring Boot application class.</p>\n\n<p><code>MANIFEST.MF</code> contains <code>Main-Class</code> entry:</p>\n\n<pre><code>Main-Class: org.domain.apps.App00HelloMvcKt\n</code></pre>\n\n<p>However, when I run it, there is a problem:</p>\n\n<pre><code>$ java -jar application.war\nError: Could not find or load main class org.domain.apps.App00HelloMvcKt\nCaused by: java.lang.ClassNotFoundException: org.domain.apps.App00HelloMvcKt\n</code></pre>\n\n<p>As I understand it, with this directory structure, no additional fumbling with class path is required. Then why is it unable to run?</p>\n\n<hr>\n\n<p>Additional info: This is a teaching project. I am trying to serve <code>.jsp</code> pages from Spring Boot MVC application with embedded Tomcat. According to the internet, this setup only works if you package the app into a WAR and run it with <code>java -jar</code>.</p>\n"}, {"tags": ["swift", "kotlin"], "comments": [{"owner": {"reputation": 249309, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 5, "creation_date": 1534253151, "post_id": 51840957, "comment_id": 90638198, "body": "What part of @escaping are you trying to capture here? Kotlin&#39;s memory management is completely different than Swift&#39;s. I would expect every Kotlin closure to the equivalent of escaping (but also that it shouldn&#39;t matter). What you&#39;re describing in your comments to Pranavan don&#39;t sound like escaping. They sound more like a coroutine (which doesn&#39;t exist in Swift today)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9914227"}, "edited": false, "score": 1, "creation_date": 1534248836, "post_id": 51841110, "comment_id": 90635342, "body": "I&#39;m talking about the command @escaping, because in kotlin if I call the response and I want to leave the function I would have to write then return.  Because in my function I have a condition that calls response several times, so every time I have to write return"}, {"owner": {"reputation": 1445, "user_id": 8368982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziT7d.jpg?s=128&g=1", "display_name": "Pranavan SP", "link": "https://stackoverflow.com/users/8368982/pranavan-sp"}, "edited": false, "score": 0, "creation_date": 1534249164, "post_id": 51841110, "comment_id": 90635545, "body": "@mickael don&#39;t you want to implement completion handler in kotlin?"}], "tags": [], "owner": {"reputation": 1445, "user_id": 8368982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziT7d.jpg?s=128&g=1", "display_name": "Pranavan SP", "link": "https://stackoverflow.com/users/8368982/pranavan-sp"}, "is_accepted": false, "score": 3, "last_activity_date": 1534250070, "last_edit_date": 1534250070, "creation_date": 1534248630, "answer_id": 51841110, "question_id": 51840957, "link": "https://stackoverflow.com/questions/51840957/kotlin-equivalent-escaping-of-swift-exist/51841110#51841110", "title": "Kotlin: Equivalent @escaping of swift exist?", "body": "<p>Yes. exists. Also The syntax is similar to swift:</p>\n\n<pre><code>fun fetch(callback: (PriceResponse) -&gt; Unit){ }\n</code></pre>\n\n<p>change  <code>PriceResponse</code> to whatever you're returning</p>\n\n<p>Also <strong>edited</strong></p>\n\n<p>Then change your function invocation from <code>fetch()</code> to</p>\n\n<pre><code>fetch {\n    callingYourAPI(here) // or you can get named argument\n    // do some more stuff\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 1, "creation_date": 1534326762, "post_id": 51842156, "comment_id": 90665234, "body": "As far as I can see the Kotlin reference manual doesn&#39;t explicitly mention the issue but the implication is all lambda&#39;s are what Apple call &quot;escaping&quot; in Swift. This is not surprising at all as that is how lambda&#39;s are normally handled in programming languages; the non-escaping/escaping distinction is  Apple surfacing a compiler optimisation which they either: believe should be manual; or cannot make automatic. However as @RobNapier has commented it is unclear that the OP is actually taking about <code>@escaping</code> at all..."}, {"owner": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "reply_to_user": {"reputation": 50374, "user_id": 568283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/120ceee2dc40d539b9983265a2e0a2f8?s=128&d=identicon&r=PG", "display_name": "CRD", "link": "https://stackoverflow.com/users/568283/crd"}, "edited": false, "score": 1, "creation_date": 1534328826, "post_id": 51842156, "comment_id": 90666242, "body": "It looks, that I misunderstood @escaping notation in swift and you right, that all lamdas are usually implemented as escaping as it in kotlin. And my answer is not correct."}], "tags": [], "owner": {"reputation": 497, "user_id": 2064251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4dd3604f9b4523acd684accd7aed728?s=128&d=identicon&r=PG", "display_name": "redlabrat", "link": "https://stackoverflow.com/users/2064251/redlabrat"}, "is_accepted": false, "score": -1, "last_activity_date": 1534253024, "last_edit_date": 1534253024, "creation_date": 1534251774, "answer_id": 51842156, "question_id": 51840957, "link": "https://stackoverflow.com/questions/51840957/kotlin-equivalent-escaping-of-swift-exist/51842156#51842156", "title": "Kotlin: Equivalent @escaping of swift exist?", "body": "<p>I think that according to this <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html</a> all closures in kotlin are nonescaping and there is no way to make escaping.</p>\n\n<p>UPD: Similar functionality can be achieved with help of kotlin corutines. More you can find here: <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines.html</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9914227"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1108, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1534253384, "creation_date": 1534248102, "question_id": 51840957, "link": "https://stackoverflow.com/questions/51840957/kotlin-equivalent-escaping-of-swift-exist", "title": "Kotlin: Equivalent @escaping of swift exist?", "body": "<p>I am looking for the equivalent of the command @escaping for kotlin if it exists?</p>\n\n<pre><code>func fetch(response: @escaping (PriceResponse?) -&gt; Void)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "interceptor", "grpc"], "comments": [{"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1579689381, "post_id": 51840892, "comment_id": 105847280, "body": "Did you find anything on this?"}, {"owner": {"reputation": 207, "user_id": 6043328, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/haeWW.jpg?s=128&g=1", "display_name": "ArtemNeFRiT", "link": "https://stackoverflow.com/users/6043328/artemnefrit"}, "reply_to_user": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1579791895, "post_id": 51840892, "comment_id": 105892072, "body": "@VarunRaj nope, we still checking time before request =/"}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1579792156, "post_id": 51840892, "comment_id": 105892242, "body": "Oh man, that&#39;s a bummer."}, {"owner": {"reputation": 207, "user_id": 6043328, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/haeWW.jpg?s=128&g=1", "display_name": "ArtemNeFRiT", "link": "https://stackoverflow.com/users/6043328/artemnefrit"}, "reply_to_user": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 0, "creation_date": 1579792411, "post_id": 51840892, "comment_id": 105892428, "body": "yes, I didn&#39;t find anything that could help me implement that logic"}, {"owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "edited": false, "score": 1, "creation_date": 1579862903, "post_id": 51840892, "comment_id": 105917460, "body": "Hey, I have asked this question on the <code>grpc-java</code> GitHub account here is the link <code>https:&#47;&#47;github.com&#47;grpc&#47;grpc-java&#47;issues&#47;6638</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1154, "user_id": 154947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0f03703597bf3c6afeb04f54cecd607?s=128&d=identicon&r=PG", "display_name": "Mandar Vaze", "link": "https://stackoverflow.com/users/154947/mandar-vaze"}, "edited": false, "score": 1, "creation_date": 1544547325, "post_id": 51864183, "comment_id": 94311410, "body": "In Step 2, is thee a standard error/exception at gRPC level ? (when server notices that token has expired) Or is it at application level ?"}], "tags": [], "owner": {"reputation": 67, "user_id": 8942125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4adf0744567bb3d9f9c8a4e2c685e6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Spencer", "link": "https://stackoverflow.com/users/8942125/spencer"}, "is_accepted": false, "score": -2, "last_activity_date": 1534356716, "creation_date": 1534356716, "answer_id": 51864183, "question_id": 51840892, "link": "https://stackoverflow.com/questions/51840892/intercept-call-to-refresh-token-grpc/51864183#51864183", "title": "Intercept call to refresh token GRPC", "body": "<p>If you want to do that, I think you will have to handle it at the application level exactly as you described. This is because gRPC does not know about your application level tokens.</p>\n\n<ol>\n<li>Make the RPC</li>\n<li>Notice that the RPC failed due to an expired token</li>\n<li>Call your code that refreshes the token</li>\n<li>Repeat</li>\n</ol>\n\n<p>What is the authenticator that you are referring to?</p>\n"}, {"comments": [{"owner": {"reputation": 207, "user_id": 6043328, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/haeWW.jpg?s=128&g=1", "display_name": "ArtemNeFRiT", "link": "https://stackoverflow.com/users/6043328/artemnefrit"}, "edited": false, "score": 0, "creation_date": 1584437180, "post_id": 59946457, "comment_id": 107429340, "body": "it doesn&#39;t work, because previous call will be closed anyway with error.  We can&#39;t just hold it, refresh our token, and then repeat the same call with new token and pass valid response using grpc interceptors."}], "tags": [], "owner": {"reputation": 2133, "user_id": 7436566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VxBgdn2E0Qk/AAAAAAAAAAI/AAAAAAAAAIg/H8mCkOR8q_k/photo.jpg?sz=128", "display_name": "OhhhThatVarun", "link": "https://stackoverflow.com/users/7436566/ohhhthatvarun"}, "is_accepted": false, "score": 0, "last_activity_date": 1580206514, "creation_date": 1580206514, "answer_id": 59946457, "question_id": 51840892, "link": "https://stackoverflow.com/questions/51840892/intercept-call-to-refresh-token-grpc/59946457#59946457", "title": "Intercept call to refresh token GRPC", "body": "<p>Here is the full client interceptor class you can use.</p>\n\n<pre><code>class Interceptor() : ClientInterceptor {\n\n    override fun &lt;ReqT : Any?, RespT : Any?&gt; interceptCall(method: MethodDescriptor&lt;ReqT, RespT&gt;?, callOptions: CallOptions?, next: Channel?): ClientCall&lt;ReqT, RespT&gt; {\n\n        return object : ClientCall&lt;ReqT, RespT&gt;() {\n\n            var listener: Listener&lt;RespT&gt;? = null\n            var metadata: Metadata? = null\n            var message: ReqT? = null\n            var request = 0\n            var call: ClientCall&lt;ReqT, RespT&gt;? = null\n\n            override fun start(responseListener: Listener&lt;RespT&gt;?, headers: Metadata?) {\n                this.listener = responseListener\n                this.metadata = headers\n            }\n\n            override fun sendMessage(message: ReqT) {\n                assert(this.message == null)\n                this.message = message\n            }\n\n            override fun request(numMessages: Int) {\n                request += numMessages\n                assert(this.message == null)\n            }\n\n            override fun isReady(): Boolean {\n                return false\n            }\n\n            override fun halfClose() {\n\n                startCall(object : ForwardingClientCallListener&lt;RespT&gt;() {\n\n                    var delegate: Listener&lt;RespT&gt;? = null\n\n                    override fun onReady() {\n                        delegate = listener\n                        super.onReady()\n                    }\n\n                    override fun delegate(): Listener&lt;RespT&gt; {\n                        if (delegate == null) {\n                            throw IllegalStateException()\n                        }\n                        return delegate!!\n                    }\n\n                    override fun onClose(status: Status?, trailers: Metadata?) {\n                        if (delegate == null) {\n                            super.onClose(status, trailers)\n                            return\n                        }\n                        if (!needToRetry(status, trailers)) {\n                            delegate = listener\n                            super.onClose(status, trailers)\n                            return\n                        }\n                        startCall(listener) // Only retry once\n                    }\n\n                    private fun needToRetry(status: Status?, trailers: Metadata?): Boolean {\n                        if (status?.code?.toStatus() == UNAUTHENTICATED) {\n                            Log.e(\"code\", status?.code.toString())\n                            return true\n                        }\n                        return false\n                    }\n                })\n            }\n\n            private fun startCall(listener: Listener&lt;RespT&gt;?) {\n                call = next?.newCall(method, callOptions)\n                val headers = Metadata()\n                headers.merge(metadata)\n                call?.start(listener, headers)\n                assert(this.message != null)\n                call?.request(request)\n                call?.sendMessage(message)\n                call?.halfClose()\n            }\n\n            override fun cancel(message: String?, cause: Throwable?) {\n                if (call != null) {\n                    call?.cancel(message, cause)\n                }\n                listener?.onClose(Status.CANCELLED.withDescription(message).withCause(cause), Metadata())\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It buffers the message and retries, you can add your logic in <code>needToRetry(status, trailers)</code></p>\n\n<p>For more information, you can visit this GitHub <a href=\"https://github.com/grpc/grpc-java/issues/5856#issuecomment-511077021\" rel=\"nofollow noreferrer\">link.</a></p>\n"}], "owner": {"reputation": 207, "user_id": 6043328, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/haeWW.jpg?s=128&g=1", "display_name": "ArtemNeFRiT", "link": "https://stackoverflow.com/users/6043328/artemnefrit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1083, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1580206514, "creation_date": 1534247907, "question_id": 51840892, "link": "https://stackoverflow.com/questions/51840892/intercept-call-to-refresh-token-grpc", "title": "Intercept call to refresh token GRPC", "body": "<p>I am using GRPC with proto in my project and I have KEY and AUTHORITY tokens to access the server API.\nSo, I need to update KEY using my AUTHORITY.\nI am building Channel like this: </p>\n\n<pre><code>OkHttpChannelBuilder.forAddress(host, port)\n        .usePlaintext()\n        .intercept(auth, logger)\n        .build()\n</code></pre>\n\n<p>My interceptor looks like: </p>\n\n<pre><code>class AuthClientInterceptor(\n    private val prefs: Preferences,\n    private val keyApi: KeyApi) : ClientInterceptor {\n\n    companion object {\n        private const val ACCESS_TOKEN = \"authorization\"\n    }\n\n    override fun &lt;ReqT : Any?, RespT : Any?&gt; interceptCall(method: MethodDescriptor&lt;ReqT, RespT&gt;?,\n                                                       callOptions: CallOptions?,\n                                                       next: Channel): ClientCall&lt;ReqT, RespT&gt; {\n\n        val call = next.newCall(method, callOptions)\n\n        val callForwarding = object : ClientInterceptors.CheckedForwardingClientCall&lt;ReqT, RespT&gt;(call) {\n            override fun checkedStart(responseListener: Listener&lt;RespT&gt;?, headers: Metadata) {\n\n            synchronized(this@AuthClientInterceptor) {\n                val keyCreated = prefs.getAccessKeyCreated()\n                val keyExpires = prefs.getAccessKeyExpires()\n                val currentTime = System.currentTimeMillis()\n                if (currentTime &lt; keyCreated || currentTime &gt; keyExpires) {\n                    keyApi.issueNewKey(prefs.getAuthority())\n                        .map { it.data }\n                        .doOnSuccess { prefs.setAccessKey(it.token) }\n                        .doOnSuccess { prefs.setAccessKeyCreated(it.createdDate) }\n                        .doOnSuccess { prefs.setAccessKeyExpires(it.expiresDate) }\n                        .blockingGet()\n                }\n            }\n\n            val keyData = Metadata.Key.of(ACCESS_TOKEN, Metadata.ASCII_STRING_MARSHALLER)\n                if (headers[keyData] == null) {\n                    headers.put(keyData, \"Bearer ${prefs.getAccessKey()}\")\n                }\n                call.start(responseListener, headers)\n            }\n        }\n        return callForwarding\n    }\n}\n</code></pre>\n\n<p>As you can see, I just check current time and compare it with token created and expiry dates.</p>\n\n<p>So, I don't like that way. I want implement this:</p>\n\n<p>1) Send request to server;</p>\n\n<p>2) Check response. If it means, that my KEY expired, refresh key synchronously and repeat the request (like authenticator).</p>\n\n<p>But I didn't find the solution or any helpful information about implementing this with gRPC. Can somebody help me?</p>\n"}, {"tags": ["properties", "kotlin", "getter"], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1534248279, "post_id": 51840953, "comment_id": 90634946, "body": "While this is true, I still don&#39;t see why bother with all of those complications, when you are getting the result of expression written in getter by just accessing variable by it&#39;s name"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1534248384, "post_id": 51840953, "comment_id": 90635032, "body": "@GeorgySavatkov What if you do not want to deal with the value immediately, but at some later point, maybe never?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534248452, "post_id": 51840953, "comment_id": 90635085, "body": "as a side-note: you can also access the variable using <code>this::test</code>. Maybe that makes it more obvious what&#39;s behind the reference ;-)"}, {"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534248454, "post_id": 51840953, "comment_id": 90635087, "body": "@Roland how&#39;s that relevant? What do you mean by dealing later?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534248622, "post_id": 51840953, "comment_id": 90635194, "body": "I think the sample code is not the best to show the benefit of such a construct... If I understood you correctly, you question the usage of the reference instead of accessing the value directly... right?"}, {"owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534248806, "post_id": 51840953, "comment_id": 90635320, "body": "@Roland I am questioning that there is any need for reflection for such a simple job like OP stated"}, {"owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "edited": false, "score": 1, "creation_date": 1534248910, "post_id": 51840953, "comment_id": 90635387, "body": "Very good answer! It&#39;s exactly what I wanted. I didn&#39;t want to immediately access the value, but pass it to another object that will call this function numerous times, as the value can change over time, and I want it to be always the newest one. Thanks :)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 0, "creation_date": 1534249883, "post_id": 51840953, "comment_id": 90635951, "body": "@GeorgySavatkov Actually these are &quot;just&quot; references and I guess that they are as cheap to execute as their Java counterpart is (even if its technique may differ)... Otherwise such references wouldn&#39;t make sense at all and shouldn&#39;t be supported in the first place ;-)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "edited": false, "score": 1, "creation_date": 1534250917, "post_id": 51840953, "comment_id": 90636614, "body": "@GeorgySavatkov but at least I got your point better now... would really be interesting if <code>{ test }</code> is the way to go or whether <code>::test</code> is equivalent."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 2, "last_activity_date": 1534249175, "last_edit_date": 1534249175, "creation_date": 1534248080, "answer_id": 51840953, "question_id": 51840809, "link": "https://stackoverflow.com/questions/51840809/how-can-i-pass-property-getter-as-a-function-type-to-another-function/51840953#51840953", "title": "How can I pass property getter as a function type to another function", "body": "<p>You can reference the getter by writing <code>::test</code> (or <code>this::test</code>).</p>\n\n<p>When you write <code>test::get</code>, you are actually referencing the <code>get</code> method on <code>String</code>. That method takes an index and returns the character at that index.</p>\n\n<p>If the property was a <code>var</code> and you want a reference to its setter, you can write <code>::test::set</code>.</p>\n\n<p>For more info on property references, see here: <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11</a></p>\n"}, {"tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": false, "score": 0, "last_activity_date": 1534248131, "creation_date": 1534248131, "answer_id": 51840967, "question_id": 51840809, "link": "https://stackoverflow.com/questions/51840809/how-can-i-pass-property-getter-as-a-function-type-to-another-function/51840967#51840967", "title": "How can I pass property getter as a function type to another function", "body": "<p>It seems that you are doing something wrong on logical level.</p>\n\n<p>If you are overriding <code>get</code> method of a variable, then you can access it's value through this get method. Thus, why bother with <code>test::get</code> (which is totally different method, by the way, all you are doing is trying to access <code>char</code> from <code>string</code>), when you can just access variable by it's name?</p>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1534249120, "creation_date": 1534249120, "answer_id": 51841276, "question_id": 51840809, "link": "https://stackoverflow.com/questions/51840809/how-can-i-pass-property-getter-as-a-function-type-to-another-function/51841276#51841276", "title": "How can I pass property getter as a function type to another function", "body": "<p>As already mentioned, you can use <code>this::test</code> to refer to the getter. Alternatively, if you have <code>kotlin-reflect</code>, you can do <code>this::test.getter</code>. </p>\n\n<p>When you pass the field as a function, it assumes you mean the getter. As a result, if you want the setter, you have two options:</p>\n\n<pre><code>this::test::set\n</code></pre>\n\n<p>or</p>\n\n<pre><code>this::test.setter\n</code></pre>\n\n<p>The latter, just like <code>this::test.getter</code> requires <code>kotlin-reflect</code>, or the program will crash (tested locally with Kotlin 1.2.50)</p>\n\n<p>You can, however, get the getter in another way. But I recommend you just stick with <code>this::test</code> because it's shorter.</p>\n\n<p>You can do:</p>\n\n<pre><code>this::something::get\n</code></pre>\n\n<p>With just <code>something::get</code> it refers to the method inside the String class, which returns a char at an index. For reference, the method declaration:</p>\n\n<pre><code>public override fun get(index: Int): Char\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1534255819, "last_edit_date": 1534255819, "creation_date": 1534250526, "answer_id": 51841724, "question_id": 51840809, "link": "https://stackoverflow.com/questions/51840809/how-can-i-pass-property-getter-as-a-function-type-to-another-function/51841724#51841724", "title": "How can I pass property getter as a function type to another function", "body": "<p>If you don't mind, just use <code>{ test }</code> (e.g. <code>testFun { test }</code>). This will exactly translate to your <code>() -&gt; String</code>. The next best alternative is probably <code>::test</code> (or <code>this::test</code>) as was already mentioned.</p>\n\n<p>The second has probably only minor (negligible?) impact on performance. I did not test it myself, nor did I found any source which tells something regarding it. The reason why I say this, is how the byte code underneath looks like. Just due to this question I asked myself about the difference of the two: <a href=\"https://stackoverflow.com/questions/51842043/is-test-equivalent-to-test-when-passed-to-string\">Is the property reference (::test) equivalent to a function accessing the property ({ test }) when passed as argument e.g. `() -&gt; String`?</a></p>\n"}], "owner": {"reputation": 6885, "user_id": 5405086, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/PxgGr.png?s=128&g=1", "display_name": "xinaiz", "link": "https://stackoverflow.com/users/5405086/xinaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 647, "favorite_count": 0, "accepted_answer_id": 51840953, "answer_count": 4, "score": 2, "last_activity_date": 1534255819, "creation_date": 1534247639, "question_id": 51840809, "link": "https://stackoverflow.com/questions/51840809/how-can-i-pass-property-getter-as-a-function-type-to-another-function", "title": "How can I pass property getter as a function type to another function", "body": "<p>How can I pass property getter to a function that accepts function type?</p>\n\n<p>Here is an example of what I want achieve:</p>\n\n<pre><code>class Test {\n    val test: String\n        get() = \"lol\"\n\n    fun testFun(func: ()-&gt;String) {\n        // invoke it here\n    }\n\n    fun callTest() {\n        testFun(test::get) \n        // error: Type mismatch: inferred type is \n        // KFunction1&lt;@ParameterName Int, Char&gt; but () -&gt; String was expected\n    }\n}\n</code></pre>\n\n<p>Is there a way?</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "showcaseview"], "comments": [{"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534247104, "post_id": 51840034, "comment_id": 90634211, "body": "Are you want set MaterialShowcaseView inside fragment?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "reply_to_user": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534247407, "post_id": 51840034, "comment_id": 90634398, "body": "No actually i want to set MaterialShowcaseView into Activity where i placed ViewPager @mducc"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534247922, "post_id": 51840034, "comment_id": 90634731, "body": "Can you show your activity code?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "reply_to_user": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534249397, "post_id": 51840034, "comment_id": 90635684, "body": "Why u need my Activity? @mducc I put my Code here alredy."}], "owner": {"user_type": "does_not_exist", "display_name": "user10211288"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534244964, "creation_date": 1534244964, "question_id": 51840034, "link": "https://stackoverflow.com/questions/51840034/how-can-i-set-materialshowcaseview-for-viewpager-android", "title": "How can i set MaterialShowcaseView for ViewPager android?", "body": "<p>I try to set MaterialShowcaseView in ViewPager but it not work . I use this library for showcase <a href=\"https://github.com/deano2390/MaterialShowcaseView\" rel=\"nofollow noreferrer\">https://github.com/deano2390/MaterialShowcaseView</a></p>\n\n<p>I call presentShowcaseSequence() in onCreate() but it's not working.</p>\n\n<p>Here is my code for it:- </p>\n\n<pre><code>&lt;RelativeLayout\n    android:id=\"@+id/relforswipe\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_above=\"@+id/examBtnLayout\"\n    android:layout_below=\"@+id/exam_toolbar_top\"\n    android:padding=\"5dp\"&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/examViewPager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>ExamActivity.kt :- </p>\n\n<pre><code>private fun presentShowcaseSequence() {\n\n    val config = ShowcaseConfig()\n    config.delay = 500\n\n    val sequence = MaterialShowcaseSequence(this, SHOWCASE_ID)\n    sequence.setConfig(config)\n\n    sequence.setOnItemShownListener(object : MaterialShowcaseSequence.OnSequenceItemShownListener {\n        override fun onShow(itemView: MaterialShowcaseView, position: Int) {\n        }\n    })\n\n    sequence.addSequenceItem(\n            MaterialShowcaseView.Builder(this)\n                    .setTarget(examViewPager)\n                    .setDismissText(R.string.next)\n                    .setTitleText(R.string.questions)\n                    .withRectangleShape()\n                    .setContentText(R.string.input_question)\n                    .build()\n    )\n    sequence.start()\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "kotlin-multiplatform", "kotlin-js"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534242231, "post_id": 51838900, "comment_id": 90631296, "body": "Doesn&#39;t kotlin-js generate JS code? If yes, you can&#39;t access it directly. You&#39;d need a ScriptEngine"}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534242530, "post_id": 51838900, "comment_id": 90631466, "body": "Yes it does. But how can I access it directly, if I am unable to add the JS code output as a dependency to my module?"}], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1534259179, "post_id": 51842003, "comment_id": 90642418, "body": "I am unsure what you are trying to propose: &quot;from&quot; in processResources is a method of the &quot;Copy&quot; task, but your task is of no type, so from is undefined. However, if you mean a &quot;Copy&quot; task and jsut forgot to specify, you are missing the destination. Or is there some form of collection task for resource management?"}, {"owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 0, "creation_date": 1534259471, "post_id": 51842003, "comment_id": 90642592, "body": "Oh. By specifying the output directory as <code>${project.buildDir}&#47;resources&#47;main</code> it works. Thank your for the hint with &quot;collect&quot;. Also I used task type <code>ProcessResources</code> instead of <code>Copy</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "edited": false, "score": 2, "creation_date": 1534265380, "post_id": 51842003, "comment_id": 90645819, "body": "The <code>processResources</code> task I used is the task created by default for collecting and transforming the resources of the <code>main</code> source set. Since it is already created by the Java plugin, we don&#39;t have to specify its type (which is, indeed, <code>ProcessResources</code>)."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1534251360, "creation_date": 1534251360, "answer_id": 51842003, "question_id": 51838900, "link": "https://stackoverflow.com/questions/51838900/depend-on-kotlin-multiplatfrom-js-module-from-jvm/51842003#51842003", "title": "Depend on Kotlin Multiplatfrom JS Module from JVM", "body": "<p>Here's what should work:</p>\n\n<ol>\n<li><p>Create a configuration for the <code>myproject-js</code> dependency:</p>\n\n<pre><code>configurations {\n    js\n}\n</code></pre></li>\n<li><p>Add the project dependency to that configuration:</p>\n\n<pre><code>dependencies {\n    js project(\":myproject-js\")\n}\n</code></pre></li>\n<li><p>Add the configuration files to the <code>processResources</code> task with <code>.from(...)</code>, and the corresponding build dependency:</p>\n\n<pre><code>processResources {\n    dependsOn configurations.js\n    from(configurations.js.collect { zipTree(it) })\n}\n</code></pre></li>\n</ol>\n\n<p>Then, whenever you build the JVM project, the JS module's files get unpacked into the resources output directory and then packed into the JAR.</p>\n"}], "owner": {"reputation": 178, "user_id": 8593735, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zux1E-CBID4/AAAAAAAAAAI/AAAAAAAAAAk/MwTyyXpXl_4/photo.jpg?sz=128", "display_name": "J Horseman", "link": "https://stackoverflow.com/users/8593735/j-horseman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 51842003, "answer_count": 1, "score": 1, "last_activity_date": 1534251360, "creation_date": 1534241207, "question_id": 51838900, "link": "https://stackoverflow.com/questions/51838900/depend-on-kotlin-multiplatfrom-js-module-from-jvm", "title": "Depend on Kotlin Multiplatfrom JS Module from JVM", "body": "<p>I have a Kotlin Multiplatform project with a common, a JS and a JVM module. The JVM  module uses a JavaFX WebView to display a GUI. This GUI however shall be implemented as the JS module. How do I add the JS module as a dependency correctly? I tried </p>\n\n<pre><code>dependencies {\n    compile project(\":myproject-js\")\n}\n</code></pre>\n\n<p>however, this does not include the resulting JS files anywhere in the classpath. The JS module does indeed create a JAR file with the required dependencies, but I could not find a way to access them.</p>\n\n<p>I also tried simply copying the JS files into my build output, but they are still ignored:</p>\n\n<pre><code>configurations {\n    js\n}\n\ndependencies {\n    js project(\":myproject-js\")\n}\n\nproject.afterEvaluate {\n    build.dependsOn copyResources\n}\n\ntask copyResources(type: Copy) {\n    dependsOn configurations.js\n\n    into file(\"${project.buildDir}/resources\")\n\n    from {\n        configurations.js.asFileTree.each {\n            from (zipTree(it))\n        }\n        null\n    }\n}\n</code></pre>\n\n<p>Is there a way to achieve this?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1477, "user_id": 8475893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d80cc7fc37476a23d9bedd426a45f0b5?s=128&d=identicon&r=PG&f=1", "display_name": "prashant17", "link": "https://stackoverflow.com/users/8475893/prashant17"}, "edited": false, "score": 0, "creation_date": 1534239464, "post_id": 51838220, "comment_id": 90629720, "body": "post your XML for <code>ManageGivenFragment</code>."}, {"owner": {"reputation": 252, "user_id": 7063947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sJj4zJ4UZCQ/AAAAAAAAAAI/AAAAAAAAF7A/tKBhMTQB2e4/photo.jpg?sz=128", "display_name": "Manoj Patidar", "link": "https://stackoverflow.com/users/7063947/manoj-patidar"}, "edited": false, "score": 0, "creation_date": 1534239703, "post_id": 51838220, "comment_id": 90629856, "body": "is id <code>container</code> is defined in <code>ManageGivenFragment</code> in <code>FrameLayout</code>"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534245797, "post_id": 51838220, "comment_id": 90633407, "body": "Where is your R.id.container"}, {"owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "reply_to_user": {"reputation": 252, "user_id": 7063947, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sJj4zJ4UZCQ/AAAAAAAAAAI/AAAAAAAAF7A/tKBhMTQB2e4/photo.jpg?sz=128", "display_name": "Manoj Patidar", "link": "https://stackoverflow.com/users/7063947/manoj-patidar"}, "edited": false, "score": 0, "creation_date": 1534249008, "post_id": 51838220, "comment_id": 90635439, "body": "@ManojPatidar what do you mean defined? how?"}, {"owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "reply_to_user": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534249492, "post_id": 51838220, "comment_id": 90635739, "body": "@mducc in activity_main.xml"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534249742, "post_id": 51838220, "comment_id": 90635872, "body": "Move <code>R.id.container</code> to <code>ManageGivenFragment</code> layout XML and try again"}, {"owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "reply_to_user": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534249824, "post_id": 51838220, "comment_id": 90635916, "body": "@mducc I don&#39;t get it, how can I? I mean the whole app is using it, doesn&#39;t this break the other fragments if I bring it here?"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "edited": false, "score": 0, "creation_date": 1534250348, "post_id": 51838220, "comment_id": 90636256, "body": "You are use <code>childFragmentManager</code>, R.id.container is parent view, you will add <code>manageGivenTask DetailsFragment</code> to inside parent view, R.id.container should is view of fragment selected"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534323009, "post_id": 51838735, "comment_id": 90663481, "body": "Please answer this  You have R.id.container in R.layout.mainActivity file, right?  If yes then You can&#39;t access parent activity XML element from a fragment by using R.id.the_element  Answer above and we can discuss how to solve this."}, {"owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534323248, "post_id": 51838735, "comment_id": 90663603, "body": "Yes the containter is in main_activity.xml"}, {"owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534324336, "post_id": 51838735, "comment_id": 90664084, "body": "Exactly so post one last thing Please post main_activity.xml"}, {"owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534324762, "post_id": 51838735, "comment_id": 90664252, "body": "I think this should work (but I&#39;ll be more sure if I have the XML file) BTW I&#39;m proficient in java so you&#39;ll have to format the code to kotlin though the logic will be exactly the same since Google made sure java and kotlin have same logic but different syntax             ________ val container = view.findViewById&lt;Fragment <i>I dont know what you used for container</i> &gt;(R.id.container) val containerID = container.getId() this.childFragmentManager?.beginTransaction()?.replace(conta&zwnj;&#8203;inerID, manageGivenTaskDetailsFragment)?.commit()"}, {"owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534337891, "post_id": 51838735, "comment_id": 90670391, "body": "Hey, I did that but I&#39;m getting null again, this value container that I defined now, is null so I can&#39;t reach it&#39;s id. I have added the layout of my mainActivity."}, {"owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534387010, "post_id": 51838735, "comment_id": 90689456, "body": "Yeah we get a null because the variable view contains ManageTasksFragment&#39;s layout and that layout doesn&#39;t have container."}, {"owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534387542, "post_id": 51838735, "comment_id": 90689562, "body": "This is my final shot. I&#39;m trying to write in kotlin but do check the syntax once before running. val container = getActivity().findViewById&lt;FrameLayout&gt;(R.id.container) val containerID = container.getId() this.childFragmentManager?.beginTransaction()?.replace(conta&zwnj;&#8203;inerID, manageGivenTaskDetailsFragment)?.commit()"}, {"owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534414490, "post_id": 51838735, "comment_id": 90700661, "body": "What is the error you get? Copy and paste it if you can."}], "tags": [], "owner": {"reputation": 21, "user_id": 9981490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r6V0G3vp5JM/AAAAAAAAAAI/AAAAAAAALQY/JbcObKJpYvw/photo.jpg?sz=128", "display_name": "Yashaswi Ratan", "link": "https://stackoverflow.com/users/9981490/yashaswi-ratan"}, "is_accepted": false, "score": 1, "last_activity_date": 1534245038, "last_edit_date": 1534245038, "creation_date": 1534240622, "answer_id": 51838735, "question_id": 51838220, "link": "https://stackoverflow.com/questions/51838220/no-view-found-for-id-0x7f080032-for-fragment/51838735#51838735", "title": "No view found for id 0x7f080032 for fragment", "body": "<p>Okay, so I am assuming that <code>R.id.container</code> is in mainactivity.java\nDue to this managegivenfragment cannot reach it and so you are getting no view found.</p>\n\n<pre><code>this.childFragmentManager?.beginTransaction()?.replace(R.id.container, manageGivenTaskDetailsFragment)?.commit()\n</code></pre>\n\n<p>replace <code>R.id.container</code> with below</p>\n\n<pre><code>getActivity().findViewById(R.id.container).getId()\n</code></pre>\n\n<p>If above doesn't work, post your mainactivity code.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8035455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fecac178a22f1da1e9348fb581d02d5?s=128&d=identicon&r=PG&f=1", "display_name": "shashank J", "link": "https://stackoverflow.com/users/8035455/shashank-j"}, "reply_to_user": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "edited": false, "score": 0, "creation_date": 1534253653, "post_id": 51838802, "comment_id": 90638566, "body": "why are you using fragment for detailed view ??(i.e. <b>make ManageGivenDetailsFragment as Activity instead of fragment</b>) , so it will be better for back navigation. <b>OR</b>  instead of this.childFragmentManager?.beginTransaction()?... try getActivity.getFragmentManager().beginTransaction()..."}], "tags": [], "owner": {"reputation": 29, "user_id": 8035455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fecac178a22f1da1e9348fb581d02d5?s=128&d=identicon&r=PG&f=1", "display_name": "shashank J", "link": "https://stackoverflow.com/users/8035455/shashank-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1534240881, "creation_date": 1534240881, "answer_id": 51838802, "question_id": 51838220, "link": "https://stackoverflow.com/questions/51838220/no-view-found-for-id-0x7f080032-for-fragment/51838802#51838802", "title": "No view found for id 0x7f080032 for fragment", "body": "<p>It's may be because you are trying to access the fragment's view, before activity layout inintialization i.e. In android once activity created then only we can access its fragment layout. So simply <strong>remove the code from onCreateView() and copy it to onActivityCreated()</strong>, as following.</p>\n\n<pre><code>@Override\npublic void onActivityCreated(@Nullable Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n     //make variable 'view' to global and access it\n     tabLayout = view.findViewById(R.id.manage_tasks_tab_layout)\n     viewPager = view.findViewById(R.id.manage_tasks_view_pager)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 502, "user_id": 7652532, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/1298163596907042/picture?type=large", "display_name": "Abed Naseri", "link": "https://stackoverflow.com/users/7652532/abed-naseri"}, "is_accepted": true, "score": 2, "last_activity_date": 1534422642, "creation_date": 1534422642, "answer_id": 51877145, "question_id": 51838220, "link": "https://stackoverflow.com/questions/51838220/no-view-found-for-id-0x7f080032-for-fragment/51877145#51877145", "title": "No view found for id 0x7f080032 for fragment", "body": "<p>You cannot just call the activity from this Fragment, replace</p>\n\n<pre><code>this.childFragmentManager\n</code></pre>\n\n<p>with</p>\n\n<pre><code>activity?.supportFragmentManager\n</code></pre>\n\n<p>So you should have: </p>\n\n<pre><code>activity?.supportFragmentManager?.beginTransaction()?.replace(R.id.container, manageGivenTaskDetailsFragment)?.addToBackStack(null)?.commit()\n</code></pre>\n\n<p>This should work.</p>\n"}], "owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1769, "favorite_count": 0, "accepted_answer_id": 51877145, "answer_count": 3, "score": 0, "last_activity_date": 1534422642, "creation_date": 1534239085, "last_edit_date": 1534337805, "question_id": 51838220, "link": "https://stackoverflow.com/questions/51838220/no-view-found-for-id-0x7f080032-for-fragment", "title": "No view found for id 0x7f080032 for fragment", "body": "<p>Hi I have tried a lot to find a solution and tried a lot of different ones (that were in <code>Java</code>) but none worked for me, my approach is also a bit different than those already on <code>Stackoverflow</code> so that's why I have to ask the question again.</p>\n\n<p>I will try to shortly explain what I am doing,\nI have a <code>MainActivity</code> that has a <code>BottomNavigationView</code> that contains 5 <code>Fragments</code>.</p>\n\n<p>In one of these (<code>ManageTasksFragment</code>) I have a <code>ViewPager</code> that has 2 tabs (two child Fragments) <code>ManageGivenFragment</code> and <code>ManageDoingFragment</code>, so far so good.</p>\n\n<blockquote>\n  <p>ManageTasksFragment.kt</p>\n</blockquote>\n\n<pre><code>private lateinit var tabLayout: TabLayout\nprivate lateinit var viewPager: ViewPager\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    val view = inflater.inflate(R.layout.fragment_manage_tasks, container, false)\n    //val indicator = view.findViewById(R.id.tpi_header) as TabPageIndicator\n    tabLayout = view.findViewById(R.id.manage_tasks_tab_layout)\n    viewPager = view.findViewById(R.id.manage_tasks_view_pager)\n\n    return view\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    val sectionPageAdapter = SectionPageAdapter(childFragmentManager)\n    // Adding Fragments\n    sectionPageAdapter.addFragment(ManageGivenFragment(), \"Given\")\n    sectionPageAdapter.addFragment(ManageDoingFragment(), \"Doing\")\n    //adapter Setup\n    viewPager.adapter = sectionPageAdapter\n    tabLayout.setupWithViewPager(viewPager)\n}\n</code></pre>\n\n<p>Now I have a new fragment called <code>ManageGivenDetailsFragment</code> that is supposed to be the child of <code>ManageGivenFragment</code>, but when I try to replace the fragment the app crashes and I get the error</p>\n\n<pre><code>java.lang.IllegalArgumentException: No view found for id 0x7f080032 (it.dobeedo.dobeedo:id/container) for fragment ManageGivenDetailsFragment\n</code></pre>\n\n<blockquote>\n  <p>ManageGivenFragment.kt</p>\n</blockquote>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    val tasksArray = DataViewModel.instance.dataSource\n    //val openTasksArray = removeDoneTasks(tasksArray)\n    val recyclerView = view.findViewById&lt;RecyclerView&gt;(R.id.manage_given_tasks_recyclerView)\n    recyclerView.layoutManager = LinearLayoutManager(activity, LinearLayout.VERTICAL, false)\n\n\n    adapter = ManageGivenTasksAdapter(tasksArray, context!!) { item -&gt;\n\n        val manageGivenTaskDetailsFragment = ManageGivenDetailsFragment()\n        //manageGivenTaskDetailsFragment.selectedTask = item\n        //fragmentManager?.beginTransaction()?.replace(R.id.container, manageGivenTaskDetailsFragment)?.addToBackStack(null)?.commit()\n        this.childFragmentManager?.beginTransaction()?.replace(R.id.container, manageGivenTaskDetailsFragment)?.commit()\n    }\n    recyclerView.adapter = adapter\n}\n</code></pre>\n\n<p>In the code above I have tried both <code>fragmentManager</code> and <code>childFragmentManager</code>.</p>\n\n<p>ManageGivenDetailsFragment.kt</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_manage_given_details, null, false)\n}\n</code></pre>\n\n<p>in the code above I tried both <code>null</code> and <code>container</code> as the <code>root</code> for <code>inflater</code>, since someone suggested to change this to <code>null</code> but still didn't work.</p>\n\n<p>If you need more code of a specific part please let me know, I would be glad to get help from you.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<blockquote>\n  <p>MainActivity.kt</p>\n</blockquote>\n\n<pre><code>lateinit var toolbar: Toolbar\n\nprivate val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n        R.id.navigation_home -&gt; {\n            toolbar.title = \"Home\"\n            val homeFragment = HomeFragment.newInstance()\n            openFragment(homeFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_manage_tasks -&gt; {\n            toolbar.title = \"Manage Tasks\"\n            val manageTasksFragment = ManageTasksFragment.newInstance()\n            openFragment(manageTasksFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_add_tasks -&gt; {\n            //toolbar.title = \"Add Task\"\n            val addTaskFragment = AddTaskFragment.newInstance()\n            openFragment(addTaskFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.navigation_profile -&gt; {\n            //toolbar.title = \"Profile\"\n            val profileFragment = ProfileFragment.newInstance()\n            openFragment(profileFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    toolbar = findViewById(R.id.action_bar)\n    setSupportActionBar(toolbar)\n\n    //toolbar = supportActionBar!!\n    val bottomNavigation: BottomNavigationView = findViewById(R.id.navigationView)\n    BottomNavigationViewHelper.disableShiftMode(bottomNavigation)\n    bottomNavigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener)\n\n    //\n    // Show the First Fragmnet on load - One time only\n    //\n    val manager = supportFragmentManager\n    var fragment: Fragment? = manager.findFragmentById(R.id.container)\n\n    if (fragment == null) {\n        fragment = HomeFragment()\n        manager.beginTransaction().add(R.id.container, fragment).commit()\n    }\n}\n\n\n\n\nprivate fun openFragment(fragment: Fragment) {\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.container, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>activity_main.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"it.dobeedo.dobeedo.Activities.MainActivity\"&gt;\n\n&lt;include\n    android:id=\"@+id/action_bar\"\n    layout=\"@layout/action_bar\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n\n&lt;FrameLayout\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"0dp\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    app:layout_constraintBottom_toTopOf=\"@+id/navigationView\"\n    app:layout_constraintTop_toBottomOf=\"@+id/action_bar\" /&gt;\n\n&lt;android.support.design.widget.BottomNavigationView\n    android:id=\"@+id/navigationView\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"0dp\"\n    android:layout_marginStart=\"0dp\"\n    android:background=\"?android:attr/windowBackground\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintLeft_toLeftOf=\"parent\"\n    app:layout_constraintRight_toRightOf=\"parent\"\n    app:itemBackground=\"@color/colorPrimary\"\n    app:itemIconTint=\"@color/colorPrimaryDark\"\n    app:itemTextColor=\"@color/colorAccent\"\n    app:menu=\"@menu/bottom_navigation\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "generics", "kotlin", "jackson", "jackson-databind"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534238903, "post_id": 51838059, "comment_id": 90629351, "body": "You can use an unchecked cast instead, e.g. just writing <code>return jacksonObjectMapper().readValue(resourceContent) as T</code>."}, {"owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534240610, "post_id": 51838059, "comment_id": 90630378, "body": "Then I get <code>Cannot use &#39;T&#39; as reified type parameter. Use a class instead.</code> if I use the Kotlin&#39;ized <code>jacksonObjectMapper()</code>. If I instead try <code>ObjectMapper().readValue(resource, object : TypeReference&lt;T&gt;() {}) as T</code>, I get a runtime exception: <code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to dk.whatever...</code>"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534243658, "post_id": 51838059, "comment_id": 90632117, "body": "sorry, my mistake... when un/marshalling you need a concrete type... which is what you delivered also with the <code>TypeReference&lt;T&gt;() {}</code>... at least I thought so... if you just pass the type itself (e.g. <code>dk.whatever.....class</code>), does it work then?"}, {"owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534244177, "post_id": 51838059, "comment_id": 90632445, "body": "Nope. I&#39;m trying to code this in Java instead now, and the I will see if it works in Kotlin."}, {"owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534250991, "post_id": 51838059, "comment_id": 90636667, "body": "This looks more and more like a limitation of Jackson. My Java implementation also results in <code>ClassCastException</code>"}, {"owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534251348, "post_id": 51838059, "comment_id": 90636926, "body": "I will leave this question as is for now. Unfortunately I deleted my java implementation, so I cannot share it. For now, I&#39;m going simple on this; instead of deserializing to a custom class, i will always deserialize to a <code>Map&lt;String, String&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6986, "user_id": 1017224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fcba4f17c4b26be422b6ef62679b0ae?s=128&d=identicon&r=PG", "display_name": "flesk", "link": "https://stackoverflow.com/users/1017224/flesk"}, "is_accepted": false, "score": 0, "last_activity_date": 1557156859, "last_edit_date": 1557156859, "creation_date": 1557156513, "answer_id": 56008243, "question_id": 51838059, "link": "https://stackoverflow.com/questions/51838059/avoiding-inline-with-kotlin-generics/56008243#56008243", "title": "Avoiding inline with Kotlin generics", "body": "<p>I stumbled upon the same issue recently, and solved it by passing along a <code>TypeReference</code> as a second parameter.</p>\n\n<p>My base config class:</p>\n\n<pre><code>package config\n\nimport com.fasterxml.jackson.core.type.TypeReference\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport com.fasterxml.jackson.dataformat.yaml.YAMLFactory\nimport com.fasterxml.jackson.module.kotlin.KotlinModule\n\nopen class BaseConfig&lt;T&gt;(configFile: String, typeReference: TypeReference&lt;T&gt;) {\n\n    val config: T\n\n    init {\n        val mapper = ObjectMapper(YAMLFactory())\n        mapper.registerModule(KotlinModule())\n\n        val inputStream = this.javaClass.classLoader\n            .getResourceAsStream(configFile)\n        config = mapper.readValue(inputStream, typeReference)\n    }\n}\n</code></pre>\n\n<p>Example data class:</p>\n\n<pre><code>package config.dto\n\ndata class MessageDto(\n    val `example messages`: List&lt;String&gt;\n)\n</code></pre>\n\n<p>Example object:</p>\n\n<pre><code>package config\n\nimport com.fasterxml.jackson.core.type.TypeReference\nimport config.dto.MessageDto\n\nobject Message: BaseConfig&lt;MessageDto&gt;(\"messages.yml\", object: TypeReference&lt;MessageDto&gt;() {}) {\n    val exampleMessages: List&lt;String&gt; = config.`example messages`\n}\n</code></pre>\n\n<p>Example yaml:</p>\n\n<pre><code>example messages:\n  - \"An example message\"\n  - \"Another example message\"\n</code></pre>\n\n<p>It's not as concise as I would have wished, but it works, and it gives me a flexible way to map content from config files to any data class.</p>\n"}], "owner": {"reputation": 3958, "user_id": 1031534, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d100663842547dbb0621b52ece396dd6?s=128&d=identicon&r=PG", "display_name": "beruic", "link": "https://stackoverflow.com/users/1031534/beruic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1557156859, "creation_date": 1534238619, "question_id": 51838059, "link": "https://stackoverflow.com/questions/51838059/avoiding-inline-with-kotlin-generics", "title": "Avoiding inline with Kotlin generics", "body": "<p>I'm trying to build a generic class for handling configuration injections in Kotlin and Java.</p>\n\n<p>Basically I want a class to be bound to a data class and a path to a resource file that should contain an easily writable deserialization of an instance of the data class.</p>\n\n<p>What I have come up with so far is this:</p>\n\n<pre><code>import com.fasterxml.jackson.module.kotlin.jacksonObjectMapper\nimport com.fasterxml.jackson.module.kotlin.readValue\n\nclass ResourceLoader()\n\ninline fun &lt;reified T : Any&gt; loadObject(resourcePath: String): T {\n    // Load resource file\n    val resource = ResourceLoader::class.java.classLoader.getResource(resourcePath)\n    val resourceContent = resource.readText()\n\n    // Return deserialized object\n    return jacksonObjectMapper().readValue(resourceContent)\n}\n\n\nabstract class ResourceBound&lt;T : Any&gt;(val resourcePath: String) {\n    inline fun &lt;reified U : T&gt; getResource(): U {\n        return loadObject(this.resourcePath)\n    }\n}\n</code></pre>\n\n<p>With this, I can bind a test class to the existence of a resource file, and have it fail in glorious <em>exception</em>ality if the file is missing of malformed, like so:</p>\n\n<pre><code>data class ServiceConfig(val endpoint: String, val apiKey: String)\n\nclass TestClassLoadingConfig() : ResourceBound&lt;ServiceConfig&gt;(\"TestConfig.json\") {\n    @Test\n    fun testThis() {\n        val config: ServiceConfig = this.getResource()\n        val client = ServiceClient(config.endpoint, config.apiKey)\n        ...\n    }\n}\n</code></pre>\n\n<p>Only problem is that it only works in Kotlin because <code>inline</code> is not compatible with java. So how do I get around this?</p>\n\n<p>As a bonus, I would like to get rid of the explicit type declaration so <code>val config: ServiceConfig = this.getResource()</code> can just be <code>val config = this.getResource()</code>.</p>\n"}, {"tags": ["android", "post", "kotlin", "http-status-code-404", "retrofit2"], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1534239307, "post_id": 51838257, "comment_id": 90629618, "body": "I have tried PUT request too. I still get a 404 response code. My target url on POSTMAN shows a 405 response code for POST request and 400 for PUT request."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1534245266, "post_id": 51838257, "comment_id": 90633114, "body": "I have modified the code and the question. Could you respond to the same?"}, {"owner": {"reputation": 770, "user_id": 10160773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VyEJsrF4FeQ/AAAAAAAAAAI/AAAAAAAABkU/6T3rIeeuzG4/photo.jpg?sz=128", "display_name": "nsndvd", "link": "https://stackoverflow.com/users/10160773/nsndvd"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1534245671, "post_id": 51838257, "comment_id": 90633316, "body": "Well it would have been nicer to accept the answer and post another question. Anyway, you still have a problem, probably with the format of what you are trying to upload. To help you I either need specifications, or a working curl or postman config. And maybe implementation for this createParent method"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1535091800, "post_id": 51838257, "comment_id": 90946231, "body": "You were right? I needed a PUT request coz that was how how it was configured in the backend. However, the problem was with the parameters in the body that I was sending were wrong. Probably you could modify your answer to include this point as well(to accept it). Moreover, I have rollbacked the question, so that it perfectly matches you answer."}, {"owner": {"reputation": 770, "user_id": 10160773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VyEJsrF4FeQ/AAAAAAAAAAI/AAAAAAAABkU/6T3rIeeuzG4/photo.jpg?sz=128", "display_name": "nsndvd", "link": "https://stackoverflow.com/users/10160773/nsndvd"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1535964487, "post_id": 51838257, "comment_id": 91242091, "body": "@Eswar I&#39;d be glad to do so, but I have no idea about what&#39;s wrong with your body :)"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1535964785, "post_id": 51838257, "comment_id": 91242205, "body": "Probably you could just say that PUT must be used and since it&#39; an idempotent operation, the correct fields need to be passed. The correct fields can be passed only by the knowing how the back-end was configured for that particular end-point."}], "tags": [], "owner": {"reputation": 770, "user_id": 10160773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VyEJsrF4FeQ/AAAAAAAAAAI/AAAAAAAABkU/6T3rIeeuzG4/photo.jpg?sz=128", "display_name": "nsndvd", "link": "https://stackoverflow.com/users/10160773/nsndvd"}, "is_accepted": true, "score": 1, "last_activity_date": 1535966095, "last_edit_date": 1535966095, "creation_date": 1534239181, "answer_id": 51838257, "question_id": 51837726, "link": "https://stackoverflow.com/questions/51837726/unable-to-post-my-data-using-retrofit-android-using-kotlin/51838257#51838257", "title": "Unable to POST my data using retrofit android using kotlin", "body": "<p>I think what you need is a <code>PUT</code> request. \nWhen I try your API with <code>POST</code> I actually get a <code>405 - Method Not Allowed</code>. But <code>PUT</code> works.. except that I am sending no data, so I get a <code>400</code>. But definitely not a <code>404</code></p>\n\n<pre><code>curl -X POST http://.../create -&gt; Method not allowed\ncurl -X PUT http://.../create -&gt; Bad Request\n</code></pre>\n\n<p>Also double check that your body actually contains valid data in the required format, as specified by your backend endpoint, otherwise you'll get further errors</p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1767, "favorite_count": 0, "accepted_answer_id": 51838257, "answer_count": 1, "score": 0, "last_activity_date": 1535966095, "creation_date": 1534237706, "last_edit_date": 1535091981, "question_id": 51837726, "link": "https://stackoverflow.com/questions/51837726/unable-to-post-my-data-using-retrofit-android-using-kotlin", "title": "Unable to POST my data using retrofit android using kotlin", "body": "<p>I am new to android studio and kotlin. I have trying to post my data(object) onto the server but I'm getting a 404 response code.</p>\n\n<p>My retrofit:</p>\n\n<pre><code>object RetrofitClient {\nprivate var OurInstance : Retrofit?=null\nval client = OkHttpClient.Builder()\nval instance:Retrofit\nget() {\n    if (OurInstance==null)\n    {\n        OurInstance =Retrofit.Builder()\n                .baseUrl(\"http://coreapi.imagin8ors.org:8080/\")\n                .addConverterFactory(GsonConverterFactory.create())\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .build()\n    }\n    return OurInstance!!\n  }\n}\n</code></pre>\n\n<p>My interface:</p>\n\n<pre><code>interface IMyAPI {\n@GET(\"v1/child/{dynamic}/learningpods_new\")\nfun getDynamic(@Path(\"dynamic\")dynamic:String):Observable&lt;ArrayList&lt;Data&gt;&gt;\n\n@POST(\"v1/authenticate/create\")\nfun createParent(@Body parentDetails: ParentDetails):Call&lt;ParentDetails&gt;\n}\n</code></pre>\n\n<p>Code snippet in my activity:</p>\n\n<pre><code>fun sendNetworkRequest(parentDetails: ParentDetails){\n    val retrofit=Retrofit.Builder().baseUrl(\"http://coreapi.imagin8ors.org:8080/\")\n            .addConverterFactory(GsonConverterFactory.create())\n            .build()\n    val client=retrofit.create(IMyAPI::class.java)\n    val call = client.createParent(parentDetails)\n    call.enqueue(object :Callback&lt;ParentDetails&gt;{\n        override fun onFailure(call: Call&lt;ParentDetails&gt;?, t: Throwable?) {\n            Toast.makeText(this@ParentmainActivity,\"something went wrong\",Toast.LENGTH_LONG).show()\n        }\n\n        override fun onResponse(call: Call&lt;ParentDetails&gt;?, response: Response&lt;ParentDetails&gt;?) {\n            Toast.makeText(this@ParentmainActivity,\"successful :\"+response?.code(),Toast.LENGTH_LONG).show()\n        }\n\n    })\n}\n</code></pre>\n\n<p>Function call: <code>sendNetworkRequest(new_parent)</code></p>\n\n<p>Now, the response code returned is 404. This issue has been raised previously but those solutions didn't work for me. That's why I have posted as another question. </p>\n\n<p>The links I have referred to: <a href=\"https://stackoverflow.com/questions/39482738/unable-to-send-raw-json-data-in-post-api-data-using-retrofit-2-0\">link1</a>, <a href=\"https://stackoverflow.com/questions/37267975/how-to-post-json-object-using-retrofit\">link2</a>, <a href=\"https://www.youtube.com/watch?v=j7lRiTJ_-cI\" rel=\"nofollow noreferrer\">link3</a> and many more..</p>\n\n<p>Initially I was using the retrofitclient but then it didn't work so I tried with the sendNetworkResquest() function. However, this too doesn't work.</p>\n"}, {"tags": ["android", "kotlin", "objectbox"], "comments": [{"owner": {"reputation": 23, "user_id": 8361227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gB8OLLdKLiA/AAAAAAAAAAI/AAAAAAAAADs/u0Fz7rqjDN0/photo.jpg?sz=128", "display_name": "Hank Li", "link": "https://stackoverflow.com/users/8361227/hank-li"}, "edited": false, "score": 0, "creation_date": 1534398212, "post_id": 51837559, "comment_id": 90691967, "body": "I just remove the keyword &#39;data&#39; with entity, it&#39;s work!"}], "answers": [{"tags": [], "owner": {"reputation": 828, "user_id": 2539474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HaPeN.png?s=128&g=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/2539474/fabian"}, "is_accepted": false, "score": 0, "last_activity_date": 1534498346, "last_edit_date": 1534498346, "creation_date": 1534340741, "answer_id": 51859952, "question_id": 51837559, "link": "https://stackoverflow.com/questions/51837559/cant-save-same-data-using-objectbox-with-android-kotlin/51859952#51859952", "title": "Can&#39;t save same data using ObjectBox with Android (Kotlin)", "body": "<p>You need to specify the OrderDetail id, otherwise its always 0 at default and will override the previous order detail.</p>\n\n<pre><code>val orderDetail = OrderDetail(id = 1, productSpecName = \"ABC\")\norderDetail.order = order\nthis.details.add(orderDetail)\nval orderDetail2 = OrderDetail(id = 2, productSpecName = \"ABC\")\norderDetail2.order = order\nthis.details.add(orderDetail2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 9187282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb0d1567c04d9165050afe5286964a8?s=128&d=identicon&r=PG&f=1", "display_name": "Uwe - ObjectBox", "link": "https://stackoverflow.com/users/9187282/uwe-objectbox"}, "is_accepted": true, "score": 1, "last_activity_date": 1534841055, "creation_date": 1534841055, "answer_id": 51944855, "question_id": 51837559, "link": "https://stackoverflow.com/questions/51837559/cant-save-same-data-using-objectbox-with-android-kotlin/51944855#51944855", "title": "Can&#39;t save same data using ObjectBox with Android (Kotlin)", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">Kotlin data classes</a> provide among others a custom implementation for <code>hashCode()</code>. <code>ToMany</code> uses a <code>HashMap</code> to keep track of entities to add or remove. I guess you can see where this is going:</p>\n\n<p>Based on the Kotlin data class implementation if two data classes have the same properties, their hash codes match. Now given this example with two identical <code>OrderDetail</code> data classes according to their <code>hashCode()</code>:</p>\n\n<pre><code>val order = Order().apply {\n    this.details.add(OrderDetail(productSpecName = \"ABC\"))\n    this.details.add(OrderDetail(productSpecName = \"ABC\"))\n}\n</code></pre>\n\n<p>Two entities will be added to the <code>ToMany</code> list. However, the internal change tracking mechanism assumes that the second entity replaces the first one, because <code>HashMap</code> believes they are the same. Hence only one gets added.</p>\n\n<p><strong>Making <code>OrderDetail</code> a regular class (remove the <code>data</code> keyword)</strong> drops the custom <code>hashCode()</code> implementation and everything works as expected.</p>\n\n<p>I believe in Kotlin two data classes that share the same properties are considered to be \"the same\", so this behavior is kind of expected. Though I agree it is unintuitive. Not sure what we should do here.</p>\n\n<p><a href=\"https://github.com/objectbox/objectbox-java/issues/528\" rel=\"nofollow noreferrer\">Related GitHub Issue</a></p>\n"}], "owner": {"reputation": 23, "user_id": 8361227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gB8OLLdKLiA/AAAAAAAAAAI/AAAAAAAAADs/u0Fz7rqjDN0/photo.jpg?sz=128", "display_name": "Hank Li", "link": "https://stackoverflow.com/users/8361227/hank-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 51944855, "answer_count": 2, "score": 2, "last_activity_date": 1534841055, "creation_date": 1534237176, "last_edit_date": 1534238647, "question_id": 51837559, "link": "https://stackoverflow.com/questions/51837559/cant-save-same-data-using-objectbox-with-android-kotlin", "title": "Can&#39;t save same data using ObjectBox with Android (Kotlin)", "body": "<p>I'm using ObjectBox to save data. When I save the same data with ToMany, it only save the first one.</p>\n\n<ul>\n<li>ObjectBox(version:2.0.0) </li>\n<li>Android(target sdk version:27)</li>\n<li>Kotlin(version:1.2.60)</li>\n</ul>\n\n<p>Here is my code.</p>\n\n<pre><code>@Entity\ndata class Order(@Id var id: Long = 0,\n                 val createTime: Long = 0,\n                 val total: Int = 0) {\n\n    @Backlink(to = \"order\")\n    lateinit var details: ToMany&lt;OrderDetail&gt;\n}\n\n@Entity\ndata class OrderDetail(@Id var id: Long = 0,\n                       val productName: String = \"\",\n                       val productSpecName: String = \"\",\n                       val productSpecPrice: Int = 0,\n                       val quantity: Int = 0,\n                       val subtotal: Int = 0) {\n\n    lateinit var order: ToOne&lt;Order&gt;\n}\n</code></pre>\n\n<p>The test</p>\n\n<pre><code>@Test\n    fun orderDetailTest() {\n\n        val orderBox = store.boxFor(Order::class.java)\n\n        // \u5132\u5b58\u5169\u500b\u5167\u5bb9\u76f8\u540c\u7684\u8cc7\u6599\n        val order = Order().apply {\n            this.details.add(OrderDetail(productSpecName = \"ABC\"))\n            this.details.add(OrderDetail(productSpecName = \"ABC\"))\n        }\n\n        val orderId = orderBox.put(order)\n\n        val result = orderBox.get(orderId)\n\n        assert(result.details.size == 2)\n    }\n</code></pre>\n\n<p>The size of result.details is 1.</p>\n\n<p>Can I save multiple same data with ToMany? How can I fix it?</p>\n\n<p>Thanks for answer.</p>\n"}, {"tags": ["kotlin", "project-reactor"], "comments": [{"owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "edited": false, "score": 0, "creation_date": 1534327582, "post_id": 51837156, "comment_id": 90665674, "body": "Commit a <a href=\"https://github.com/reactor/reactor-core/issues/1314\" rel=\"nofollow noreferrer\">issue#1314</a> to reactor-core."}], "answers": [{"comments": [{"owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "edited": false, "score": 0, "creation_date": 1534431920, "post_id": 51871991, "comment_id": 90711793, "body": "Wonderfull answer. The original is so."}], "tags": [], "owner": {"reputation": 20335, "user_id": 1113486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fda20bf9d9c85c4390ca7237beba45a2?s=128&d=identicon&r=PG", "display_name": "Simon Basl&#233;", "link": "https://stackoverflow.com/users/1113486/simon-basl%c3%a9"}, "is_accepted": false, "score": 2, "last_activity_date": 1534405300, "creation_date": 1534405300, "answer_id": 51871991, "question_id": 51837156, "link": "https://stackoverflow.com/questions/51837156/failed-to-subscribe-thenmany-item/51871991#51871991", "title": "Failed to subscribe thenMany item", "body": "<p>You are using Kotlin's \"lambda as a last parameter\" short-form syntax. The thing is, if you look at the <code>thenMany</code> method signature, it doesn't accept a <code>Function</code>, but a <code>Publisher</code>.</p>\n\n<p>So why is that lambda accepted, and what does it represent?</p>\n\n<p>It seems to be in fact interpreted as a <code>Publisher</code> (as it has only 1 method, <code>subscribe(Subscriber)</code>)!</p>\n\n<p>Replace the <code>{ }</code> with <code>( )</code> and everything will be back to normal.</p>\n"}], "owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534957144, "creation_date": 1534235861, "last_edit_date": 1534957144, "question_id": 51837156, "link": "https://stackoverflow.com/questions/51837156/failed-to-subscribe-thenmany-item", "title": "Failed to subscribe thenMany item", "body": "<p>When I use <code>Mono.thenMany</code>, the Flux data is lost, why?</p>\n\n<pre><code>@Test\nfun thenManyLostFluxDataTest() {\n  Mono.empty&lt;Int&gt;()\n    .thenMany&lt;Int&gt; { Flux.fromIterable(listOf(1, 2)) }\n    .subscribe { println(it) } // why not output item 1, 2\n}\n</code></pre>\n\n<p>If I change to use <code>blockLast()</code> to do the subscribe, the test method run forever. So fearful:</p>\n\n<pre><code>@Test\nfun thenManyRunForeverTest() {\n  Mono.empty&lt;Int&gt;()\n    .thenMany&lt;Int&gt; { Flux.fromIterable(listOf(1, 2)) }\n    .blockLast() // why run forever\n}\n</code></pre>\n\n<p>Now I use another way to do what the <code>thenMany</code> method should do:</p>\n\n<pre><code>// this method output item 1, 2\n@Test\nfun flatMapIterableTest() {\n  Mono.empty&lt;Int&gt;()\n    .then(Mono.just(listOf(1, 2)))\n    .flatMapIterable { it.asIterable() }\n    .subscribe { println(it) } // output item 1, 2 correctly\n}ed\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1534234079, "post_id": 51836480, "comment_id": 90626498, "body": "Have you tried this with other primitive wraps, such as Int or Float?"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "reply_to_user": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1534234244, "post_id": 51836480, "comment_id": 90626603, "body": "Same error with Integer and Float"}, {"owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 1, "creation_date": 1534234442, "post_id": 51836480, "comment_id": 90626712, "body": "And what if you define a parameter in interface method like this <code>vararg value: C?</code> (added nullability)"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "reply_to_user": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "edited": false, "score": 0, "creation_date": 1534234707, "post_id": 51836480, "comment_id": 90626840, "body": "It works with nullable. It&#39;s weird. Maybe it&#39;s a bug?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534235038, "post_id": 51836480, "comment_id": 90627033, "body": "Maybe it has to do with how Kotlin handles those types. They are translated to primitives by nature and as soon as a nullable type is involved, they are boxed... see also: <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#representation\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/basic-types.html#representatio&zwnj;&#8203;n</a> ; As generics are also mentioned there but seem not to be handled correctly, it could be a bug..."}], "answers": [{"tags": [], "owner": {"reputation": 2094, "user_id": 3858030, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/213edfb3b091fb865caa70bde8c43763?s=128&d=identicon&r=PG", "display_name": "Ufkoku", "link": "https://stackoverflow.com/users/3858030/ufkoku"}, "is_accepted": true, "score": 5, "last_activity_date": 1534235028, "creation_date": 1534235028, "answer_id": 51836919, "question_id": 51836480, "link": "https://stackoverflow.com/questions/51836480/kotlin-inheritance-with-boolean-generics/51836919#51836919", "title": "Kotlin Inheritance with Boolean generics", "body": "<p>It looks like a bug in kotlin compiler. As I know during compiling it decides to use primitive type (int) or wrap (Integer). Java generics can't work with primitives, so compiler uses wrap for generic-type, BUT then compiler sees, that method param is never null and replaces it with primitive-type, and type-conflict appears. And here nullable saves a day.<br>\nBut I'm not sure, it's just a guess.</p>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1534238471, "last_edit_date": 1534238471, "creation_date": 1534235998, "answer_id": 51837205, "question_id": 51836480, "link": "https://stackoverflow.com/questions/51836480/kotlin-inheritance-with-boolean-generics/51837205#51837205", "title": "Kotlin Inheritance with Boolean generics", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html#representation\" rel=\"nofollow noreferrer\">The kotlin reference regarding basic types</a> contains a passage which explains how it should deal with primitive types and generics in particular.</p>\n\n<p>Obviously the latter is not working correctly. When generics are involved it should box the types which it either doesn't do or which the compiler complains about falsely.</p>\n\n<p>You should open a bug at <a href=\"https://youtrack.jetbrains.com/\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/</a> and link it here too. Maybe it was also a conscious design decision.</p>\n\n<p>A workaround is to use the nullable type <code>Boolean?</code> as that will work as it is described in the reference. It will be boxed and therefore will work with generics.</p>\n\n<p>Alternatively, if you are on the JVM, you can use the <code>java.lang.Boolean</code> instead. It's the object type of the primitive boolean and even though it is discouraged to use the Java types in Kotlin it is a possible workaround until Kotlin behaves as it should. However... testing it, Kotlin does some more magic around it so that its usage isn't that helpful neither. You would then even need to cast the <code>java.lang.Boolean.TRUE as java.lang.Boolean</code>. That's clearly not helpful at all. Opening a bug is the best you can do here.</p>\n"}], "owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 51836919, "answer_count": 2, "score": 9, "last_activity_date": 1534238471, "creation_date": 1534233561, "last_edit_date": 1534234826, "question_id": 51836480, "link": "https://stackoverflow.com/questions/51836480/kotlin-inheritance-with-boolean-generics", "title": "Kotlin Inheritance with Boolean generics", "body": "<p>I have a problem when I try to override a generics method with Boolean,Double,Integer,Float.\nIt works with Date. (May because is it Serializable?)</p>\n\n<p>The interface:</p>\n\n<pre><code>interface AnInterface&lt;C, T&gt; {\n    fun doSomething(items: List&lt;T&gt;, vararg value: C): List&lt;T&gt;\n}\n</code></pre>\n\n<p>An abstact implementation: (No override doSomething)</p>\n\n<pre><code>abstract class BaseClass&lt;C, T&gt; : AnInterface&lt;C, T&gt; { ... }\n</code></pre>\n\n<p>It's work:</p>\n\n<pre><code>class AnImplementetion&lt;T&gt; : BaseClass&lt;Date, T&gt;() {\n\n    override fun doSomething(items: List&lt;T&gt;, vararg value: Date): List&lt;T&gt; {\n            // It works\n    }\n}\n</code></pre>\n\n<p>It doesn't work:</p>\n\n<pre><code>class AnAnotherImplementetion&lt;T&gt; : BaseClass&lt;Boolean, T&gt;() {\n\n    override fun doSomething(items: List&lt;T&gt;, vararg value: Boolean): List&lt;T&gt; {\n            // It doens't\n    }\n}\n</code></pre>\n\n<p>The IDE always want to implement the doSomething. When I implement it with IDE it creates always the same one.</p>\n\n<p>Error message:</p>\n\n<pre><code>Class 'AnAnotherImplementetion' is not abstract and does not implement abstract base class member\npublic abstract fun fun doSomething(items: List&lt;T&gt;, vararg value: Boolean): List&lt;T&gt; defined in BaseClass\n\n'doSomething' overrides nothing\n</code></pre>\n\n<p>How can I fix it?\nThank you</p>\n\n<p><strong>UPDATE:</strong>\nIt works with JAVA. But Why doesn't with Kotlin?</p>\n\n<pre><code>public class AnAnotherImplementetion&lt;T&gt; extends BaseClass&lt;Boolean, T&gt; {\n\n    @NotNull\n    @Override\n    public List&lt;T&gt; doSomething(@NotNull List&lt;? extends T&gt; items,  Boolean... value) {\n        // It works with JAVA\n\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>It works when vararg is nullable. </p>\n\n<pre><code>interface AnInterface&lt;C, T&gt; {\n    fun doSomething(items: List&lt;T&gt;, vararg value: C?): List&lt;T&gt;\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534233336, "post_id": 51836195, "comment_id": 90626117, "body": "It doesn&#39;t have to do with <code>infix</code>, but rather with the extension function itself. The same would happen on other extension functions as well. Even though I did not find a source for it yet, I believe it has to do with how the extension functions are translated underneath (e.g. using JVM they are just static methods). Funny enough: if you do <code>val func = Set&lt;Int&gt;::union; sets.reduce(func)</code> it will work. But <code>sets.reduce(Set&lt;Int&gt;::union)</code> will not."}, {"owner": {"reputation": 43, "user_id": 10222868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14KSg.jpg?s=128&g=1", "display_name": "Yoshiki Sunada", "link": "https://stackoverflow.com/users/10222868/yoshiki-sunada"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534238935, "post_id": 51836195, "comment_id": 90629374, "body": "Thank you @Roland, I clarified and generalized my question in light of your comments."}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 6412506, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNc6DCKasfo/AAAAAAAAAAI/AAAAAAAAASs/MNvZqzkIybI/photo.jpg?sz=128", "display_name": "Marc Wieser", "link": "https://stackoverflow.com/users/6412506/marc-wieser"}, "is_accepted": true, "score": 3, "last_activity_date": 1534274569, "last_edit_date": 1534274569, "creation_date": 1534236115, "answer_id": 51837237, "question_id": 51836195, "link": "https://stackoverflow.com/questions/51836195/using-extension-function-reference-inside-reduce/51837237#51837237", "title": "Using extension function reference inside reduce()", "body": "<p>It appears that Kotlin doesn't do type inference successfully on the receiver, maybe because of all the templates (Kotlin doesn't have any guarantee on types).</p>\n\n<p>But you can work around it by passing a reference to the invoke callable instead : </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val sets = listOf(setOf(1,2,3), setOf(4,5,6), setOf(7,8,9))\n    val unionOfSets = sets.reduce(Set&lt;Int&gt;::union::invoke)\n\n    println(unionOfSets)\n}\n</code></pre>\n\n<p><strong>Update</strong> : Here is the reason why sets.reduce(Set::union) doesn't work</p>\n\n<p>Kotlin use a smart cast to resolve receivers (cf. <a href=\"https://github.com/JetBrains/kotlin/blob/143c3ccb95f93299233ade88c24b2fa2b9b29abf/compiler/frontend/src/org/jetbrains/kotlin/resolve/calls/tower/PSICallResolver.kt\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/143c3ccb95f93299233ade88c24b2fa2b9b29abf/compiler/frontend/src/org/jetbrains/kotlin/resolve/calls/tower/PSICallResolver.kt</a> at line 553)</p>\n\n<p>But smart cast can work only if the type is guaranteed as mentionned in the documentation (<a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/typecasts.html#smart-casts</a>) : </p>\n\n<blockquote>\n  <p>Note that smart casts do not work when the compiler cannot guarantee that the variable cannot change between the check and the usage.</p>\n</blockquote>\n\n<p>The compiler tries to find the right receiver (through a smart cast), but cannot do it because the compiler cannot guarantee the acc variable cannot change. This is due to the nested generic: you have a <code>List&lt;Set&lt;Int&gt;&gt;</code> which will be <code>List&lt;*&gt;</code> at runtime.</p>\n\n<p>And that's why we can use invoke instead. Invoke is an operator method generated at build time and will be type safe (no smart cast needed).</p>\n"}], "owner": {"reputation": 43, "user_id": 10222868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/14KSg.jpg?s=128&g=1", "display_name": "Yoshiki Sunada", "link": "https://stackoverflow.com/users/10222868/yoshiki-sunada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 51837237, "answer_count": 1, "score": 4, "last_activity_date": 1534274569, "creation_date": 1534232629, "last_edit_date": 1534238627, "question_id": 51836195, "link": "https://stackoverflow.com/questions/51836195/using-extension-function-reference-inside-reduce", "title": "Using extension function reference inside reduce()", "body": "<p>Suppose:</p>\n\n<pre><code>val sets = listOf(setOf(1, 2, 3), setOf(2, 3, 4), setOf(3, 4, 5))\n</code></pre>\n\n<p>Why is this illegal in Kotlin 1.2?</p>\n\n<pre><code>val unionOfSets = sets.reduce(Set&lt;Int&gt;::union)  // == setOf(1, 2, 3, 4, 5)\n</code></pre>\n\n<p>Shouldn't it be equivalent to this?</p>\n\n<pre><code>val unionOfSets = sets.reduce { acc, set -&gt; acc.union(set) }\n</code></pre>\n\n<p>From <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html</a>:</p>\n\n<blockquote>\n  <p>Non-literal values of function types with and without receiver are interchangeable, so that the receiver can stand in for the first parameter, and vice versa. For instance, a value of type (A, B) -> C can be passed or assigned where a A.(B) -> C is expected and the other way around</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 21, "last_activity_date": 1534230958, "creation_date": 1534230958, "answer_id": 51835706, "question_id": 51835236, "link": "https://stackoverflow.com/questions/51835236/i-try-to-implement-a-room-database-with-androidx-i-am-getting-error/51835706#51835706", "title": "I try to implement a Room Database with Androidx, I am getting error", "body": "<p>When using annotation processing in a Kotlin project (which Room does), you should be using <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"noreferrer\">kapt</a>, the Kotlin annotation processor plugin.</p>\n\n<p>First, you should add this to the top of your <code>build.gradle</code> file to the rest of the plugins, to enable kapt:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>And then you should use <code>kapt</code> instead of <code>annotationProcessor</code> for your dependencies, as the comment you have on the line says:</p>\n\n<pre><code>kapt \"androidx.room:room-compiler:$room_version\" // use kapt for Kotlin\n</code></pre>\n\n<p>Note that kapt will also process Java files, so you don't need to add everything twice, it's enough to have any annotation processors you have added with <code>kapt</code>.</p>\n"}], "owner": {"reputation": 585, "user_id": 5897268, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1etKLEW6T3o/AAAAAAAAAAI/AAAAAAAAA1k/4vN7XYte-iQ/photo.jpg?sz=128", "display_name": "Sabin ks", "link": "https://stackoverflow.com/users/5897268/sabin-ks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6140, "favorite_count": 0, "accepted_answer_id": 51835706, "answer_count": 1, "score": 6, "last_activity_date": 1534230958, "creation_date": 1534229155, "last_edit_date": 1534229894, "question_id": 51835236, "link": "https://stackoverflow.com/questions/51835236/i-try-to-implement-a-room-database-with-androidx-i-am-getting-error", "title": "I try to implement a Room Database with Androidx, I am getting error", "body": "<blockquote>\n  <p>java.lang.RuntimeException: cannot find implementation for\n  com.qbitstream.salesmanagementsystem.data.AppDatabase.\n  AppDatabase_Impl does not exist\n          at androidx.room.Room.getGeneratedImplementation(Room.java:94)</p>\n</blockquote>\n\n<p>I have add every thing in my gradle file. My gradle file is shown below</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.qbitstream.salesmanagementsystem\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    def nav_version = \"1.0.0-alpha04\"\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'androidx.appcompat:appcompat:1.0.0-rc01'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.2'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0-rc01'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0-rc01'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.0-alpha4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.0-alpha4'\n\n\n    implementation \"android.arch.navigation:navigation-fragment:$nav_version\" // use -ktx for Kotlin\n    implementation \"android.arch.navigation:navigation-ui:$nav_version\" // use -ktx for Kotlin\n\n    //room\n        def room_version = \"2.0.0-rc01\"\n\n    implementation \"androidx.room:room-runtime:$room_version\"\n    annotationProcessor \"androidx.room:room-compiler:$room_version\" // use kapt for Kotlin\n        // optional - RxJava support for Room\n    implementation \"androidx.room:room-rxjava2:$room_version\"\n        // optional - Guava support for Room, including Optional and ListenableFuture\n    implementation \"androidx.room:room-guava:$room_version\"\n        // Test helpers\n    testImplementation \"androidx.room:room-testing:$room_version\"\n\n// retrofit\n    implementation \"com.squareup.retrofit2:retrofit:2.3.0\"\n    implementation \"com.squareup.retrofit2:adapter-rxjava2:2.3.0\"\n    implementation \"com.squareup.retrofit2:converter-gson:2.3.0\"\n\n    // rxandroid\n    implementation \"io.reactivex.rxjava2:rxandroid:2.0.1\"\n\n}\n</code></pre>\n\n<p>Invoking room</p>\n\n<pre><code>ioThread {\n                                            AppDatabase.getInstance(activity!!).customerDao().insertAll(it.customer.data)\n                                        }\n</code></pre>\n\n<p><strong>AppDatabase.kt</strong></p>\n\n<pre><code>import android.content.Context\nimport androidx.room.Database\nimport androidx.room.Room\nimport androidx.room.RoomDatabase\nimport com.qbitstream.salesmanagementsystem.model.Customer\n\n@Database(entities = [(Customer::class)], version = 1)\nabstract class AppDatabase: RoomDatabase() {\n    abstract fun customerDao(): CustomerDao\n\n    companion object {\n            @Volatile private var INSTANCE: AppDatabase? = null\n\n            fun getInstance(context: Context): AppDatabase =\n                    INSTANCE ?: synchronized(this) {\n                        INSTANCE ?: buildDatabase(context).also { INSTANCE = it }\n                    }\n\n            private fun buildDatabase(context: Context) =\n                    Room.databaseBuilder(context.applicationContext,\n                            AppDatabase::class.java, \"sms.db\")\n                            .build()\n    }\n\n}\n</code></pre>\n\n<p><strong>CustomerDao.kt</strong></p>\n\n<pre><code>import androidx.room.Dao\nimport androidx.room.Insert\nimport androidx.room.OnConflictStrategy\nimport androidx.room.Query\nimport com.qbitstream.salesmanagementsystem.model.Customer\n\n@Dao\ninterface CustomerDao {\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    fun insertAll(customer:List&lt;Customer&gt;)\n\n    @Query(\"SELECT * FROM customer where lower(customer_name) like ':name%'\")\n    fun customers(name:String):List&lt;Customer&gt;\n\n\n}\n</code></pre>\n\n<p><strong>DataClasses.kt</strong></p>\n\n<pre><code>import androidx.room.ColumnInfo\nimport androidx.room.Entity\nimport androidx.room.PrimaryKey\nimport com.google.gson.annotations.SerializedName\n\ndata class Customers(val customer: Data,val response_code:Int,val status:String)\ndata class Data(val data:ArrayList&lt;Customer&gt;)\n\n@Entity(tableName = \"customer\")\ndata class Customer(\n        @PrimaryKey\n        @ColumnInfo(name = \"id\")\n        @SerializedName(\"id\")\n        val id:String,\n        @ColumnInfo(name = \"customer_name\")\n        @SerializedName(\"customer_name\")\n        val name:String)\n\n\ndata class Manufacturer(val id:Int,val name:String)\ndata class Product(val id:Int,val manufacturerId: Int,val name:String)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1534228981, "post_id": 51835156, "comment_id": 90623931, "body": "Are all objects inside <code>companion</code> singleton?"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "reply_to_user": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1534229091, "post_id": 51835156, "comment_id": 90623972, "body": "@Khemraj No. The <code>companion object</code> is one singleton object. If you need many different singletons, you can create many objects for each singleton. I will update the answer."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1534239897, "post_id": 51835156, "comment_id": 90629975, "body": "Good explanation !, Still I need a year to understand this new language syntax."}, {"owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "edited": false, "score": 0, "creation_date": 1592703527, "post_id": 51835156, "comment_id": 110519519, "body": "That&#39;s not the best answer, because the best way to create a util class is to use object keyword in place of class keyword - then it is a language level singleton, and we don&#39;t have to bother with creating an instance of such a class. We just use functions the same way as Java&#39;s static methods. Please see my answer"}, {"owner": {"reputation": 1934, "user_id": 9674249, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Toy7JJFRdP8/AAAAAAAAAAI/AAAAAAAAAro/14UEMAKHESo/photo.jpg?sz=128", "display_name": "i30mb1", "link": "https://stackoverflow.com/users/9674249/i30mb1"}, "edited": false, "score": 0, "creation_date": 1606205472, "post_id": 51835156, "comment_id": 114884854, "body": "<code>The companion object is one singleton object. If you need many different singletons, you can create many objects for each singleton.</code> - hehe, nice joke bro"}, {"owner": {"reputation": 9549, "user_id": 317522, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/y7DXx.jpg?s=128&g=1", "display_name": "Paulo Merson", "link": "https://stackoverflow.com/users/317522/paulo-merson"}, "edited": false, "score": 0, "creation_date": 1607974856, "post_id": 51835156, "comment_id": 115435362, "body": "What about INITIALIZATION of the singleton? If <code>ojbect</code> can&#39;t have a constructor, should we use an initializer block (<code>init {...}</code>)?"}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": true, "score": 60, "last_activity_date": 1534230857, "last_edit_date": 1534230857, "creation_date": 1534228867, "answer_id": 51835156, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/51835156#51835156", "title": "Singleton class in Kotlin", "body": "<p>Just</p>\n\n<pre><code>companion object {\n    val instance = UtilProject()\n} \n</code></pre>\n\n<p>will do the job because the <em>companion object</em> itself is a language-level singleton.<br>\n(The <code>instance</code> will be assigned when the companion object is <em>first</em> called.)</p>\n\n<p>-- Updated --</p>\n\n<p>If you need to adjust when the singleton object should be initilized, you can create one object for each class.</p>\n\n<pre><code>class UtilProject {\n    ....\n    companion object {\n        val instance = UtilProject()\n    }\n}\n\nclass AnotherClass {\n    ...\n    companion object {\n        val instance = AnotherClass()\n        const val abc = \"ABC\"\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val a = UtilProject.instance // UtilProject.instance will be initialized here.\n    val b = AnotherClass.abc // AnotherClass.instance will be initialized here because AnotherClass's companion object is instantiated.\n    val c = AnotherClass.instance\n}\n</code></pre>\n\n<p>Here, <code>AnotherClass.instance</code> is initialized before <code>AnotherClass.instance</code> is actually called. It is initialized when <code>AnotherClass</code>'s companion object is called.\nTo prevent being initialized before when needed, you can use like this:</p>\n\n<pre><code>class UtilProject {\n    ....\n    companion object {\n        fun f() = ...\n    }\n}\n\nclass AnotherClass {\n    ...\n    companion object {\n        const val abc = \"ABC\"\n    }\n}\n\nobject UtilProjectSingleton {\n    val instance = UtilProject()\n}\n\nobject AnotherClassSingleton {\n    val instance = AnotherClass()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    UtilProject.f()\n    println(AnotherClass.abc)\n\n    val a = UtilProjectSingleton.instance // UtilProjectSingleton.instance will be initialized here.\n    val b = AnotherClassSingleton.instance // AnotherClassSingleton.instance will be initialized here.\n\n    val c = UtilProjectSingleton.instance // c is a.\n}\n</code></pre>\n\n<p>If you don't care when each singleton is initialized, you can also use like this:</p>\n\n<pre><code>class UtilProject {\n    ....\n    companion object {\n        fun f() = ...\n    }\n}\n\nclass AnotherClass {\n    ...\n    companion object {\n        const val abc = \"ABC\"\n    }\n}\n\nobject Singletons {\n    val utilProject = UtilProject()\n    val anotherClass = AnotherClass()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val a = Singletons.utilProject\n    val b = Singletons.anotherClass \n}\n</code></pre>\n\n<p>In summary,<br>\nan <code>object</code> or a <code>companion object</code> is one singleton object in Kotlin.<br>\nYou can assign variables in an <em>object</em> or <em>objects</em>, and then use the variables just like they were singletons.</p>\n\n<p><code>object</code> or <code>companion object</code> is instantiated when it is first used.\n<code>val</code>s and <code>var</code>s in an <code>object</code> are initialized when the <code>object</code> is first instantiated (i.e., when the <code>object</code> is first used).</p>\n"}, {"comments": [{"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1534230040, "post_id": 51835428, "comment_id": 90624429, "body": "I did not get this. How can this be useful for my Util class?"}, {"owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "reply_to_user": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1534231017, "post_id": 51835428, "comment_id": 90624940, "body": "against creating <code>companion object</code>, just change declaration of <code>class UtilProject</code> to <code>object UtilProject</code>"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "edited": false, "score": 0, "creation_date": 1534231097, "post_id": 51835428, "comment_id": 90624971, "body": "Like @Naetmul answer?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 3, "creation_date": 1534231302, "post_id": 51835428, "comment_id": 90625061, "body": "actually, using <code>object</code> instead of <code>class</code> is your singleton. The <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">mentioned reference above</a> is worth reading ;-)"}, {"owner": {"reputation": 1503, "user_id": 1904778, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/f4qlM.jpg?s=128&g=1", "display_name": "Nithinjith", "link": "https://stackoverflow.com/users/1904778/nithinjith"}, "edited": false, "score": 0, "creation_date": 1561549351, "post_id": 51835428, "comment_id": 100099399, "body": "How we can create a singleton(object) class with an extended base class? Also, the base class is expecting some context as constructor parameter? Is this possible?. In my understanding, an object class won&#39;t have a constructor."}, {"owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "edited": false, "score": 0, "creation_date": 1561626703, "post_id": 51835428, "comment_id": 100129545, "body": "As far as I understand, you want to create singleton which extends some other class, you can simply do that just by doing this: <code>object MySingleton: BaseClass(&quot;some value&quot;)</code> where <code>abstract class BaseClass(val value: String)</code> of course your <code>BaseClass</code> don&#39;t have to be abstract."}], "tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": false, "score": 72, "last_activity_date": 1566028353, "last_edit_date": 1566028353, "creation_date": 1534229836, "answer_id": 51835428, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/51835428#51835428", "title": "Singleton class in Kotlin", "body": "<p>There is a special keyword <code>object</code> for singletons in Kotlin. You can just type something as simple as this to get working singleton class:</p>\n\n<pre><code>object MySingleton\n</code></pre>\n\n<p>or when you want some member functions:</p>\n\n<pre><code>object MySingleton {\n    fun someFunction(...) {...}\n}\n</code></pre>\n\n<p>And then use it:</p>\n\n<pre><code>MySingleton.someFunction(...)\n</code></pre>\n\n<p>there is a reference: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations</a></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In your case, you just need to replace in your definition of <code>class UtilProject</code> to this:</p>\n\n<pre><code>object UtilProject {\n\n    // here you put all member functions, values and variables\n    // that you need in your singleton Util class, for example:\n\n    val maxValue: Int = 100\n\n    fun compareInts(a: Int, b: Int): Int {...}\n}\n</code></pre>\n\n<p>And then you can simply use your singleton in other places:</p>\n\n<pre><code>UtilProject.compareInts(1, 2)\n//or\nvar value = UtilProject.maxValue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 3, "last_activity_date": 1543488964, "last_edit_date": 1543488964, "creation_date": 1534231609, "answer_id": 51835893, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/51835893#51835893", "title": "Singleton class in Kotlin", "body": "<p>In Kotlin you should get rid of the whole notion of the utility singleton class. The idiomatic way is to simply move all declarations to the top level.</p>\n\n<p>Java:</p>\n\n<pre><code>public final class Util {\n    public static final Util UTIL = new Util();\n\n    private int prefixLength = 4;\n\n    private Util() {}\n\n    public void setPrefixLength(int newLen) {\n        prefixLength = newLen;\n    }\n\n    public String extractVin(String input) {\n        return input.substring(prefixLength);\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>String vin = UTIL.extractVin(\"aoeuVN14134230430\")\n</code></pre>\n\n<p>In Kotlin just create a separate file called <code>util.kt</code> with the following:</p>\n\n<pre><code>var prefixLength = 4\n\nfun String.extractVin() = this.substring(prefixLength)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val vin = \"aoeuVN14134230430\".extractVin()\n</code></pre>\n\n<h3>But... you're polluting the top-level namespace!</h3>\n\n<p>If your Java intuition triggers a red flag here, simply remember that the <em>package</em> is the namespacing construct and as opposed to Java, Kotlin doesn't conflate the concerns of namespacing and encapsulation. There's no \"package-private\" access level so you're free from the burden of deciding that something must stay within the same package so it can be made package-private. </p>\n\n<p>So, where in Java you create a degenerate class as a workaround, in Kotlin you just create a file in its own package.</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 10226826, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-P7UOafEJP20/AAAAAAAAAAI/AAAAAAAAA7g/raw_jFyFf38/photo.jpg?sz=128", "display_name": "Gustavo Wilgenhoff", "link": "https://stackoverflow.com/users/10226826/gustavo-wilgenhoff"}, "is_accepted": false, "score": 5, "last_activity_date": 1534294288, "creation_date": 1534294288, "answer_id": 51851527, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/51851527#51851527", "title": "Singleton class in Kotlin", "body": "<p>Only the word object is needed. </p>\n\n<pre><code>object UtilProject {\n    var bar: Int = 0\n    fun foo() {        \n    }\n}\n</code></pre>\n\n<p>And you directly access the object that has only one instance</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    UtilProject.bar = 1\n    println(UtilProject.bar)    \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 1, "creation_date": 1575996461, "post_id": 55043501, "comment_id": 104751041, "body": "The way you&#39;re implementing the <code>getInstance()</code> method is not correct. The logic inside <code>getInstance()</code> says it will always return <code>non-null</code> value yet your return type (<code>Api?</code>) says it can return <code>null</code> value. If you try to refactor return type to <code>Api</code> you&#39;ll get <code>Smart cast to a mutable property is not possible</code> warning."}], "tags": [], "owner": {"reputation": 191, "user_id": 11158904, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gId7tN-_GTA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJKC7AIaFblU9P7nrA3G-IZAzpWw/mo/photo.jpg?sz=128", "display_name": "Abhishek Rana", "link": "https://stackoverflow.com/users/11158904/abhishek-rana"}, "is_accepted": false, "score": 1, "last_activity_date": 1552220689, "last_edit_date": 1552220689, "creation_date": 1551960732, "answer_id": 55043501, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/55043501#55043501", "title": "Singleton class in Kotlin", "body": "<p>A <code>Singleton</code> example over retrofit to support the api call.</p>\n\n<pre><code>object RetrofitClient {\n\n    private var instance: Api? = null\n    private val BASE_URL = \"https://jsonplaceholder.typicode.com/\"\n\n    fun getInstance(): Api? {\n        if (instance == null) {\n            val retrofit = Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n            instance = retrofit.create(Api::class.java)\n        }\n        return instance\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 5869630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Iuxo.jpg?s=128&g=1", "display_name": "roghayeh hosseini", "link": "https://stackoverflow.com/users/5869630/roghayeh-hosseini"}, "edited": false, "score": 3, "creation_date": 1583335881, "post_id": 55636839, "comment_id": 107082731, "body": "dont needed! just use object keyword"}, {"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "reply_to_user": {"reputation": 612, "user_id": 5869630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Iuxo.jpg?s=128&g=1", "display_name": "roghayeh hosseini", "link": "https://stackoverflow.com/users/5869630/roghayeh-hosseini"}, "edited": false, "score": 0, "creation_date": 1583400371, "post_id": 55636839, "comment_id": 107105669, "body": "True. Actually, the object keyword does the same"}], "tags": [], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "is_accepted": false, "score": 10, "last_activity_date": 1554998719, "creation_date": 1554998719, "answer_id": 55636839, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/55636839#55636839", "title": "Singleton class in Kotlin", "body": "<p>Super simple lazy example:</p>\n\n<pre><code>companion object {\n    val instance: UtilProject by lazy { UtilProject() }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 220, "user_id": 3024805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyL04.jpg?s=128&g=1", "display_name": "Joyal  C  Joseph", "link": "https://stackoverflow.com/users/3024805/joyal-c-joseph"}, "is_accepted": false, "score": 2, "last_activity_date": 1582020526, "last_edit_date": 1582020526, "creation_date": 1582020073, "answer_id": 60278225, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/60278225#60278225", "title": "Singleton class in Kotlin", "body": "<pre><code> class TestMySingleton private constructor() {\n\u200b\n   companion object {\n        var single = TestMySingleton()\n\n        fun getInstance(): TestMySingleton {\n            if (single == null)\n                single = TestMySingleton()\n            return single\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 210, "user_id": 8463520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gHzb2.jpg?s=128&g=1", "display_name": "abhi", "link": "https://stackoverflow.com/users/8463520/abhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1585663823, "creation_date": 1585663823, "answer_id": 60952626, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/60952626#60952626", "title": "Singleton class in Kotlin", "body": "<pre><code>class MyClass {\n\n\n    init {\n        println(\"init is called\")\n    }\n\n    companion object {\n\n        private var obj: MyClass? = null\n        fun getInstance(): MyClass {\n            if (obj == null) {\n                obj = MyClass()\n            }\n            return obj as MyClass \n        }\n\n    }\n\n    fun printHello() {\n        println(\"Hello World\")\n    }\n</code></pre>\n\n<p>You can create its instance by  <code>MyClass.getInstance()</code> something like java</p>\n"}, {"tags": [], "owner": {"reputation": 2513, "user_id": 1164529, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/o0LWv.png?s=128&g=1", "display_name": "Harpreet", "link": "https://stackoverflow.com/users/1164529/harpreet"}, "is_accepted": false, "score": 0, "last_activity_date": 1612793385, "creation_date": 1612793385, "answer_id": 66103274, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/66103274#66103274", "title": "Singleton class in Kotlin", "body": "<p>This will help. I am using <code>Dialog</code> class, but you can use the example for the idea on how to implement.</p>\n<pre><code>class MyClass(context: Context) : Dialog(context) {\n    companion object {\n    lateinit var INSTANCE: MyClass\n\n    @JvmStatic\n    fun getInstance(context: Context): MyClass{\n        if (!::INSTANCE.isInitialized) {\n            INSTANCE = MyClass(context)\n        }\n\n        return INSTANCE\n    }\n}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15452163, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgLi07lmdt3TTelANemm8yIrPmQYv0N8IUBbv1bWg=k-s128", "display_name": "Fury Safik", "link": "https://stackoverflow.com/users/15452163/fury-safik"}, "is_accepted": false, "score": 0, "last_activity_date": 1618129109, "creation_date": 1618129109, "answer_id": 67042804, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin/67042804#67042804", "title": "Singleton class in Kotlin", "body": "<p>Variant with parametrs</p>\n<pre><code>open class SingletonHolder&lt;out T: Any, in A&gt;(creator: (A) -&gt; T) {\n    private var creator: ((A) -&gt; T)? = creator\n    @Volatile private var instance: T? = null\n\n    fun getInstance(arg: A): T {\n        val checkInstance = instance\n        if (checkInstance != null) {\n            return checkInstance\n        }\n\n        return synchronized(this) {\n            val checkInstanceAgain = instance\n            if (checkInstanceAgain != null) {\n                checkInstanceAgain\n            } else {\n                val created = creator!!(arg)\n                instance = created\n                creator = null\n                created\n            }\n        }\n    }\n}\n\n\n</code></pre>\n"}], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59103, "favorite_count": 7, "accepted_answer_id": 51835156, "answer_count": 10, "score": 59, "last_activity_date": 1618129109, "creation_date": 1534228187, "last_edit_date": 1607973973, "question_id": 51834996, "link": "https://stackoverflow.com/questions/51834996/singleton-class-in-kotlin", "title": "Singleton class in Kotlin", "body": "<p>I want to know how to create a singleton class in Kotlin, so that my Util class instantiates it only once per app execution. However, when I converted my Java class to kotlin, the code below was generated.</p>\n<p><strong>Is this correct?</strong></p>\n<pre><code>companion object {\n    private var utilProject: UtilProject? = null\n\n    val instance: UtilProject\n        get() {\n            if (utilProject == null) utilProject = UtilProject()\n            return utilProject!!\n        }\n} \n</code></pre>\n<p>I could find a related <strong><a href=\"https://stackoverflow.com/q/40398072/6891563\">question</a></strong>, but it is with parameters, and I am not getting it convert without params.</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlin-coroutines"], "answers": [{"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534262556, "post_id": 51835612, "comment_id": 90644364, "body": "I&#39;m 80% towards understanding, bear with me.  I tried wrapping all of the cam class (initialization and taking a picture) with <code>launch(UI) { ... camstuff... }</code> but got the same error.  I&#39;d be fine with doing all the setup before the final &quot;take a picture&quot; call earlier (like in the onCreate call) but am not sure how to avoid that error."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534262824, "post_id": 51835612, "comment_id": 90644503, "body": "Did you remove <code>runBlocking</code> then?"}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534270098, "post_id": 51835612, "comment_id": 90648247, "body": "In your <code>suspend fun cameraCaptureSession() = suspendCoroutine...</code> example, it looks like it would re-run the function each time it was called, which I was happy to let the <code>by lazy</code> take care of for me so it would initialize each object once.  But if there is really no way to use by lazy along with blocking, then I guess I&#39;ll have to!"}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534270434, "post_id": 51835612, "comment_id": 90648394, "body": "May be related to <a href=\"https://github.com/Kotlin/kotlin-coroutines/issues/52\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlin-coroutines/issues/52</a>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534272456, "post_id": 51835612, "comment_id": 90649254, "body": "You can use <code>runBlocking</code> with <code>by lazy</code>, that&#39;s not the issue. The issue is initializing it on the UI thread and freezing the app. You have to give up the idea that you can pretend such a thing is a regular <code>val</code> that you can simply access like any other."}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534274439, "post_id": 51835612, "comment_id": 90650130, "body": "... drat.  I can&#39;t run the whole thing in some background process and have the main app sitting around checking for it every so often?  I was just so close to having all the API callbacks in the right order.  Dangit."}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534287289, "post_id": 51835612, "comment_id": 90654732, "body": "Ok, I get what you are saying.  It just seems odd to me that you have to manually provide the &quot;savedSession&quot; var, which caches the cameraCaptureSession() result, so it only does it once - which is, at a high level, what &quot;by lazy&quot; is supposed to do."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1534315464, "post_id": 51835612, "comment_id": 90660514, "body": "<code>by lazy</code> is a synchronous construct, it&#39;s totally different from this. With the code I gave, the <code>cameraCaptureSession()</code> call doesn&#39;t return the created session, it returns the special <code>COROUTINE_SUSPENDED</code> object. Then, at some arbitrary later time, Android calls the <code>onConfigured</code> callback, which pushes the result into the continuation object, and that makes your code that originally called <code>cameraCaptureSession()</code> to resume."}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1534352269, "post_id": 51835612, "comment_id": 90678446, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/178091/discussion-between-benjamin-h-and-marko-topolnik\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 5, "last_activity_date": 1534582769, "last_edit_date": 1534582769, "creation_date": 1534230512, "answer_id": 51835612, "question_id": 51834401, "link": "https://stackoverflow.com/questions/51834401/is-it-possible-to-suspendcoroutine-in-a-by-lazy-initializer-i-get-errors-of/51835612#51835612", "title": "Is it possible to suspendCoroutine in a &quot;by lazy&quot; initializer? I get errors of &quot;runBlocking is not allowed in Android main looper thread&quot;", "body": "<p>It is a well-known fact that performing a blocking call on the UI thread results in a completely frozen app for the duration of the call. The documentation of <code>createCaptureSession</code> specifically states</p>\n\n<blockquote>\n  <p>It can take several hundred milliseconds for the session's configuration to complete, since camera hardware may need to be powered on or reconfigured.</p>\n</blockquote>\n\n<p>It may very easily result in an <code>Application Not Responding</code> dialog and your app being killed. That's why Kotlin has introduced an explicit guard against <code>runBlocking</code> on the UI thread.</p>\n\n<p>Therefore your idea to start this process just in time, when you have already tried to access <code>cameraCaptureSession</code>, cannot work. What you must do instead is wrap the code that accesses it into <code>launch(UI)</code> and turn your <code>val</code> into a <code>suspend fun</code>.</p>\n\n<p>In a nutshell:</p>\n\n<pre><code>private var savedSession: CameraCaptureSession? = null\n\nprivate suspend fun cameraCaptureSession(): CameraCaptureSession {\n    savedSession?.also { return it }\n    return suspendCoroutine { cont -&gt;\n        cameraDevice.createCaptureSession(listOf(readySurface, imageReader.surface), object : CameraCaptureSession.StateCallback() {\n            override fun onConfigured(session: CameraCaptureSession) {\n                savedSession = session\n                Log.i(TAG, \"Created cameraCaptureSession through createCaptureSession.onConfigured\")\n                cont.resume(session)\n            }\n\n            override fun onConfigureFailed(session: CameraCaptureSession) {\n                Log.e(TAG, \"onConfigureFailed: Could not configure capture session.\")\n                cont.resumeWithException(Exception(\"createCaptureSession.onConfigureFailed\"))\n            }\n        })\n    }\n}\n\nfun useCamera() {\n    launch(UI) {\n        cameraCaptureSession().also { session -&gt;\n            session.capture(...)\n        }\n    }\n}\n</code></pre>\n\n<p>Note that <code>session.capture()</code> is another target for wrapping into a <code>suspend fun</code>.</p>\n\n<p>Also be sure to note that the code I gave is only safe if you can ensure that you won't call <code>cameraCaptureSession()</code> again before the first call has resumed. Check out the <a href=\"https://stackoverflow.com/questions/51862715/how-would-i-wrap-this-not-quite-by-lazy-result-caching-function-call-in-idio/51877612#51877612\">followup thread</a> for a more general solution that takes care of that.</p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "accepted_answer_id": 51835612, "answer_count": 1, "score": 5, "last_activity_date": 1552980898, "creation_date": 1534225312, "last_edit_date": 1552980898, "question_id": 51834401, "link": "https://stackoverflow.com/questions/51834401/is-it-possible-to-suspendcoroutine-in-a-by-lazy-initializer-i-get-errors-of", "title": "Is it possible to suspendCoroutine in a &quot;by lazy&quot; initializer? I get errors of &quot;runBlocking is not allowed in Android main looper thread&quot;", "body": "<p>I've got much of my app working fine with \"by lazy\" initializers because everything magically happens in the order that is necessary.</p>\n\n<p>But not all of the initializers are synchronous.  Some of them are wrapping callbacks, which means I need to wait until the callback happens, which means I need <code>runBlocking</code> and <code>suspendCoroutine</code>.</p>\n\n<p>But after refactoring everything, I get this <code>IllegalStateException: runBlocking is not allowed in Android main looper thread</code></p>\n\n<p>What?  You can't block?  You're killing me here.  What is the right way if my \"by lazy\" happens to be a blocking function?</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val cameraCaptureSession: CameraCaptureSession by lazy {\n    runBlocking(Background) {\n        suspendCoroutine { cont: Continuation&lt;CameraCaptureSession&gt; -&gt;\n            cameraDevice.createCaptureSession(Arrays.asList(readySurface, imageReader.surface), object : CameraCaptureSession.StateCallback() {\n                override fun onConfigured(session: CameraCaptureSession) {\n                    cont.resume(session).also {\n                        Log.i(TAG, \"Created cameraCaptureSession through createCaptureSession.onConfigured\")\n                    }\n                }\n\n                override fun onConfigureFailed(session: CameraCaptureSession) {\n                    cont.resumeWithException(Exception(\"createCaptureSession.onConfigureFailed\")).also {\n                        Log.e(TAG, \"onConfigureFailed: Could not configure capture session.\")\n                    }\n                }\n            }, backgroundHandler)\n        }\n    }\n}\n</code></pre>\n\n<p>Full GIST of the class, for getting an idea of what I was originally trying to accomplish: <a href=\"https://gist.github.com/salamanders/aae560d9f72289d5e4b49011fd2ce62b\" rel=\"nofollow noreferrer\">https://gist.github.com/salamanders/aae560d9f72289d5e4b49011fd2ce62b</a></p>\n"}, {"tags": ["java", "arrays", "random", "enums", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3846, "user_id": 2032415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vrze5.jpg?s=128&g=1", "display_name": "Tomasz Linkowski", "link": "https://stackoverflow.com/users/2032415/tomasz-linkowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1534229071, "creation_date": 1534229071, "answer_id": 51835217, "question_id": 51833913, "link": "https://stackoverflow.com/questions/51833913/filtering-enum-of-chances-and-selecting-one-based-on-a-random-chance/51835217#51835217", "title": "Filtering Enum of chances and selecting one based on a random chance", "body": "<p>It seems that when your <code>randomChance(100F)</code> returns a float greater than <code>60F</code>, no <code>RewardType</code> gets selected (or I misunderstood something - I don't know Kotlin, really; please verify this).</p>\n\n<p>Besides, it seems you're selecting <code>it.chance</code> as <code>tier</code>, and <code>it.tier</code> as <code>tierChance</code> in <code>val (tier, tierChance)</code> &amp; <code>Pair(it.chance, it.tier)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 10063126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2210b9e8867452d5326a473196eac8b5?s=128&d=identicon&r=PG&f=1", "display_name": "Brian T.", "link": "https://stackoverflow.com/users/10063126/brian-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1534229384, "creation_date": 1534229384, "answer_id": 51835297, "question_id": 51833913, "link": "https://stackoverflow.com/questions/51833913/filtering-enum-of-chances-and-selecting-one-based-on-a-random-chance/51835297#51835297", "title": "Filtering Enum of chances and selecting one based on a random chance", "body": "<p>This seems to be the problem:</p>\n\n<pre><code>filter{ it.chance.passRandom()   }\n.map  { Pair(it.chance, it.tier) }\n</code></pre>\n\n<p>If filter is empty, maybe when <code>randomChance(100F)</code> returns a float greater than <code>60F</code> as pointed out by <a href=\"https://stackoverflow.com/a/51835217/10063126\">Tomasz Linkowski</a>, calling .map will result to <code>IndexArrayOutOfBounds</code></p>\n\n<p>Please verify.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 8920267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1604028269663866/picture?type=large", "display_name": "Tamatea-geordie Schofield", "link": "https://stackoverflow.com/users/8920267/tamatea-geordie-schofield"}, "is_accepted": false, "score": 0, "last_activity_date": 1534239110, "creation_date": 1534239110, "answer_id": 51838237, "question_id": 51833913, "link": "https://stackoverflow.com/questions/51833913/filtering-enum-of-chances-and-selecting-one-based-on-a-random-chance/51838237#51838237", "title": "Filtering Enum of chances and selecting one based on a random chance", "body": "<p>I appreciate all of your guys contribution by commenting. However I came up with a solution myself which I've tested and is very accurate according to the values in the enum.</p>\n\n<pre><code>    fun tier() : Int {\n    for (tier in rewardType.values().reversed()) {\n        if(tier.chance.passRandom())\n            return tier.tier\n    }\n    return 0\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8920267, "user_type": "registered", "profile_image": "https://graph.facebook.com/1604028269663866/picture?type=large", "display_name": "Tamatea-geordie Schofield", "link": "https://stackoverflow.com/users/8920267/tamatea-geordie-schofield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1534239110, "creation_date": 1534222235, "last_edit_date": 1534228656, "question_id": 51833913, "link": "https://stackoverflow.com/questions/51833913/filtering-enum-of-chances-and-selecting-one-based-on-a-random-chance", "title": "Filtering Enum of chances and selecting one based on a random chance", "body": "<p>I'm trying to filter from the following enum to select one of the values based on a random chance.</p>\n\n<pre><code>enum class rewardType(var chance : Float, var tier : Int) {\n    TIER_1(60.0F,0),\n    TIER_2(45.0F,1),\n    TIER_3(20.0F,2),\n    TIER_4(10.0F,3),\n    TIER_5(2.0F,4),\n    TIER_6(1.0F,5)\n}\n</code></pre>\n\n<p>At the moment I'm selecting a value using this code.</p>\n\n<pre><code>val (tier, tierChance) = rewardType.values().filter { it.chance.passRandom() }\n    .map { Pair(it.chance, it.tier) }\n</code></pre>\n\n<p>There are my random utility functions also</p>\n\n<pre><code>val random = ThreadLocalRandom.current()!!\n\nfun randomChance(value: Float) = random.nextFloat() * value\n\nfun Float.passRandom() = randomChance(100F) &lt; this\n</code></pre>\n\n<p>At the moment the majority of the time it will accurately select one of the tier values with no issue. However around %15 of the time I will get an <code>IndexArrayOutOfBounds</code>. </p>\n\n<p>I know that this is because the chances in the enum are spread to far apart(Because if I add more values to the enum, the chances aren't spread out as much as they are, then this Exception doesn't occur).</p>\n\n<p>How do I fix this error? or Is there a better way of doing this?</p>\n\n<p>Feel free to answer using Java</p>\n"}, {"tags": ["kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1534215068, "post_id": 51832571, "comment_id": 90620018, "body": "Have you tried asking on the Gradle forums or posting a bug report?"}, {"owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "reply_to_user": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1534225914, "post_id": 51832571, "comment_id": 90622723, "body": "not yet....wondered if it was a known change"}, {"owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "edited": false, "score": 1, "creation_date": 1534414107, "post_id": 51832571, "comment_id": 90700425, "body": "Same issue here I asked on Kotlin Slack in #gradle channel."}], "answers": [{"tags": [], "owner": {"reputation": 3485, "user_id": 300053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdc4f36b549c1066a3b47bcfa85d40da?s=128&d=identicon&r=PG", "display_name": "eskatos", "link": "https://stackoverflow.com/users/300053/eskatos"}, "is_accepted": true, "score": 12, "last_activity_date": 1534415025, "creation_date": 1534415025, "answer_id": 51874797, "question_id": 51832571, "link": "https://stackoverflow.com/questions/51832571/sourcesets-with-gradle-kotlin-dsl-in-grade-4-10rc/51874797#51874797", "title": "sourceSets with gradle kotlin DSL in grade 4.10rc", "body": "<p>This is an expected breaking change and is listed at <a href=\"https://docs.gradle.org/4.10-rc-2/release-notes.html#changes-to-the-gradle-kotlin-dsl\" rel=\"noreferrer\">https://docs.gradle.org/4.10-rc-2/release-notes.html#changes-to-the-gradle-kotlin-dsl</a></p>\n\n<p>But unfortunately it's missing in the Kotlin DSL release notes, it'll be fixed for 4.10 GA.</p>\n\n<p>In a nutshell, <code>java.sourceSets</code> is now <code>sourceSets</code>. For your example the fixed script is:</p>\n\n<pre><code>sourceSets[\"main\"].java {\n    srcDir(\"src/main/extraSource\")\n}\n</code></pre>\n\n<p>It\u2019s a change in <code>gradle/gradle</code>, see <a href=\"https://github.com/gradle/gradle/pull/5867\" rel=\"noreferrer\">https://github.com/gradle/gradle/pull/5867</a> for some background.</p>\n"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1279, "favorite_count": 0, "accepted_answer_id": 51874797, "answer_count": 1, "score": 8, "last_activity_date": 1534415025, "creation_date": 1534210383, "question_id": 51832571, "link": "https://stackoverflow.com/questions/51832571/sourcesets-with-gradle-kotlin-dsl-in-grade-4-10rc", "title": "sourceSets with gradle kotlin DSL in grade 4.10rc", "body": "<p>I am using the following code:</p>\n\n<pre><code>java.sourceSets[\"main\"].java {\n    srcDir(\"src/main/extraSource\")\n}\n</code></pre>\n\n<p>works perfectly in gradle 4.9, but in 4.10 rc1 gives the following error:</p>\n\n<pre><code>  Line 5: java.sourceSets[\"main\"].java {\n               ^ Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n                   public val Project.sourceSets: SourceSetContainer defined in org.gradle.kotlin.dsl\n</code></pre>\n\n<p>Any ideas? Has there been a change to what is needed?\nMany other answers (eg. <a href=\"https://stackoverflow.com/questions/46419817/how-to-add-new-sourceset-with-gradle-kotlin-dsl\">this one</a>  and every suggested answer to this question) will also need updates if this has changed</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "junit4"], "answers": [{"comments": [{"owner": {"reputation": 522, "user_id": 1822723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f1de5f650cd759d9731fa1417268eabb?s=128&d=identicon&r=PG", "display_name": "willcwf", "link": "https://stackoverflow.com/users/1822723/willcwf"}, "edited": false, "score": 1, "creation_date": 1537643153, "post_id": 52459796, "comment_id": 91862000, "body": "<a href=\"https://stackoverflow.com/questions/39282282/class-not-found-empty-test-suite-in-intellij\" title=\"class not found empty test suite in intellij\">stackoverflow.com/questions/39282282/&hellip;</a> Also appears to help"}, {"owner": {"reputation": 2393, "user_id": 671393, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/035d4c85912d57bddcef8e8b5745f2e4?s=128&d=identicon&r=PG", "display_name": "Rupert Rawnsley", "link": "https://stackoverflow.com/users/671393/rupert-rawnsley"}, "edited": false, "score": 0, "creation_date": 1548843990, "post_id": 52459796, "comment_id": 95685990, "body": "Android Studio unit tests are flaky as hell. I&#39;ve had to clear caches and clean builds at almost every step. Makes TDD very tedious."}], "tags": [], "owner": {"reputation": 522, "user_id": 1822723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f1de5f650cd759d9731fa1417268eabb?s=128&d=identicon&r=PG", "display_name": "willcwf", "link": "https://stackoverflow.com/users/1822723/willcwf"}, "is_accepted": false, "score": 4, "last_activity_date": 1537642027, "creation_date": 1537642027, "answer_id": 52459796, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception/52459796#52459796", "title": "Type Android Junit4 not present exception", "body": "<p>Hopefully someone can give you a better answer as to why, but I had this exact same problem. I did the following: </p>\n\n<ul>\n<li>Build > Clean Project, </li>\n<li>Ran the app on the emulator</li>\n</ul>\n\n<p>This done, I was able to get back into a state where I could run the tests again.</p>\n"}, {"tags": [], "owner": {"reputation": 1964, "user_id": 9864248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ad04cf82f01fccebf5a39c700617b8c?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/9864248/nico"}, "is_accepted": false, "score": 0, "last_activity_date": 1552320706, "creation_date": 1552320706, "answer_id": 55106061, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception/55106061#55106061", "title": "Type Android Junit4 not present exception", "body": "<p>I had the same with:</p>\n\n<pre><code>Type androidx.test.ext.junit.runners.AndroidJUnit4 not present\n</code></pre>\n\n<p>I tried a lot of things before manually removing the App from the device and running the test again. Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 1200, "user_id": 3702595, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/VIHEp.png?s=128&g=1", "display_name": "Sattar Hummatli", "link": "https://stackoverflow.com/users/3702595/sattar-hummatli"}, "edited": false, "score": 3, "creation_date": 1562688408, "post_id": 55138346, "comment_id": 100451580, "body": "This is correct and should be accepted as a correct answer."}, {"owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "edited": false, "score": 0, "creation_date": 1565065305, "post_id": 55138346, "comment_id": 101223225, "body": "@Bohsen How to do that, any steps ?"}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 11, "creation_date": 1568312484, "post_id": 55138346, "comment_id": 102244255, "body": "Why does Android Studio continue to try to add it to the JUnit tests instead of instrumented tests though? I don&#39;t want to have to manually adjust configuration for every test."}, {"owner": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "reply_to_user": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1574770852, "post_id": 55138346, "comment_id": 104341736, "body": "@FutureShocked in my case the reason was that the device was not recognized properly. I had some general usb recognition issue with my device. Additionally some phones ask for permission to allow access from the PC"}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1574792515, "post_id": 55138346, "comment_id": 104353836, "body": "I continue to face this issue, and pretty strictly use an emulator for instrumented testing."}, {"owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "reply_to_user": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1574797242, "post_id": 55138346, "comment_id": 104355894, "body": "@FutureShocked I&#39;ve never checked if this issue was raised on Googles issue Tracker. Might be worth rasing."}], "tags": [], "owner": {"reputation": 3828, "user_id": 1495686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQMVJ.png?s=128&g=1", "display_name": "Bohsen", "link": "https://stackoverflow.com/users/1495686/bohsen"}, "is_accepted": true, "score": 109, "last_activity_date": 1569057441, "last_edit_date": 1569057441, "creation_date": 1552469272, "answer_id": 55138346, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception/55138346#55138346", "title": "Type Android Junit4 not present exception", "body": "<p>This is caused by Android Studio trying to execute an instrumentation test as a JUnit test. </p>\n\n<p>I had to go to 'Edit Configurations...' and delete the configuration from Android JUnit group and manually add to the 'Android Instrumented Tests' group. After this I had no problem executing the tests.</p>\n\n<p>In Android Studio, click <code>Run &gt; Edit Configurations</code>.</p>\n\n<p><a href=\"https://developer.android.com/studio/run/rundebugconfig\" rel=\"noreferrer\">https://developer.android.com/studio/run/rundebugconfig</a></p>\n"}, {"tags": [], "owner": {"reputation": 882, "user_id": 6521990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb806db385a136a0b2f96219e990d6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/6521990/tarun"}, "is_accepted": false, "score": 9, "last_activity_date": 1569050705, "last_edit_date": 1569050705, "creation_date": 1565069741, "answer_id": 57369507, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception/57369507#57369507", "title": "Type Android Junit4 not present exception", "body": "<p><strong>Writing steps if someone facing issue while edit configuration for above @Bohsen's answe</strong>r </p>\n\n<ol>\n<li>In Android Studio, click <code>Run &gt; Edit Configurations</code> (or press <code>alt + shift + f10</code> if on Windows) to open the configuration editor.</li>\n<li>The left panel of the window shows configurations and their groups.\n\n<ul>\n<li>Android JUnit group </li>\n<li>Android instrumented tests</li>\n</ul></li>\n</ol>\n\n<p>If your test is an instrumentation test, delete it from any JUnit tests groups.</p>\n\n<p>If your test is a JUnit test, delete it from any instrumentation test groups.</p>\n\n<p>For example, my test (DBTest.kt) was appearing in both <strong>Android JUnit and Instrumented group's section</strong>. So I deleted from JUnit group and ran it again, it was working fine.</p>\n"}, {"tags": [], "owner": {"reputation": 1888, "user_id": 8536239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef95deb577f83fc571bc5ab416461daa?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Padgett", "link": "https://stackoverflow.com/users/8536239/jeff-padgett"}, "is_accepted": false, "score": 0, "last_activity_date": 1600695272, "creation_date": 1600695272, "answer_id": 63993414, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception/63993414#63993414", "title": "Type Android Junit4 not present exception", "body": "<p>For me this actually seemed to be caused by an internet connection issue.  Turning off and on wifi fixed and rebuilding seemed to fix.</p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 11540133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6967a620870e9b7e4bbfb78ef27ba076?s=128&d=identicon&r=PG&f=1", "display_name": "Veniamin", "link": "https://stackoverflow.com/users/11540133/veniamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1602595444, "creation_date": 1602595444, "answer_id": 64336039, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception/64336039#64336039", "title": "Type Android Junit4 not present exception", "body": "<p>I got this issue when I did my tests on the emulator.</p>\n<p>I fixed it by downloading a new project copy from the git repository.</p>\n"}], "owner": {"reputation": 645, "user_id": 4420802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091f8ece32f5400a00e1e79e22c5c5fe?s=128&d=identicon&r=PG&f=1", "display_name": "firedrillsergeant", "link": "https://stackoverflow.com/users/4420802/firedrillsergeant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9827, "favorite_count": 3, "accepted_answer_id": 55138346, "answer_count": 6, "score": 46, "last_activity_date": 1602595444, "creation_date": 1534208085, "last_edit_date": 1552474734, "question_id": 51832349, "link": "https://stackoverflow.com/questions/51832349/type-android-junit4-not-present-exception", "title": "Type Android Junit4 not present exception", "body": "<p>I have an Android project that I am trying to run Instrumentation tests for using AndroidStudio, but when I try to run the whole class file for the tests, I get the exceptions as stated below :</p>\n\n<pre><code>java.lang.TypeNotPresentException: Type android.support.test.runner.AndroidJUnit4 not present\nCaused by: java.lang.ClassNotFoundException: android.support.test.runner.AndroidJUnit4\n</code></pre>\n\n<p>Interestingly, I can run individual methods in this Instrument Test class, just not the whole class. My build.gradle file for the app is below:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    lintOptions {\n        abortOnError false\n    }\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.sarpuner.journal\"\n        minSdkVersion 19\n        targetSdkVersion 28\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    buildToolsVersion '27.0.3'\n}\n\nrepositories {\n    maven { url \"https://dl.bintray.com/ijabz/maven\" }\n}\n\ndependencies {\n    androidTestImplementation 'com.android.support:support-annotations:27.1.1'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:28.0.0-rc01'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    implementation 'dev.dworks.libs:volleyplus:0.1.4'\n    implementation 'com.google.code.gson:gson:2.8.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation 'org.jsoup:jsoup:1.11.3'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.1.1'\n    implementation 'net.jthink:jaudiotagger:2.2.3'\n    api 'com.google.guava:guava:26.0-android'\n}\n</code></pre>\n\n<p>And the InstrumentTest class is as follows:</p>\n\n<pre><code>package com.sarpuner.journal\n\nimport android.support.test.InstrumentationRegistry\nimport android.support.test.runner.AndroidJUnit4\nimport android.util.Log    \nimport org.junit.Test\nimport org.junit.runner.RunWith    \nimport org.junit.Assert.*\nimport java.io.File\n\nprivate const val INSTRUMENT_TAG = \"InstrumentTest\"\n\n// TODO: There is a problem here with the class run!\n\n@RunWith(AndroidJUnit4::class)\nclass ExampleInstrumentedTest {\n\n    private val appContext = InstrumentationRegistry.getTargetContext()\n\n    @Test\n    fun useAppContext() {\n        // Context of the app under test.\n        assertEquals(\"com.sarpuner.journal\", appContext.packageName)\n    }\n\n    @Test\n    fun downloadAndSaveAudio() {\n        val url = \"http://telechargement.rfi.fr/rfi/francais/audio/jff/201808/journal_francais_facile_20h00_-_20h10_tu_20180809.mp3\"\n        val name = \"09-08-2018.mp3\"\n        val f = File(appContext.filesDir, name)\n        Log.d(INSTRUMENT_TAG, f.absolutePath)\n        downloadAudio(url, f)\n    }\n\n    @Test\n    fun downloadAndSaveTranscript() {\n        val url = \"https://savoirs.rfi.fr/fr/apprendre-enseigner/langue-francaise/journal-en-francais-facile-09082018-20h00-gmt\"\n        val name = \"09-08-2018.txt\"\n        val f = File(appContext.filesDir, name)\n\n        downloadText(url, f)\n    }\n\n    @Test\n    fun addLyricsToAudio() {\n\n    }\n}\n</code></pre>\n\n<p>Any help/guidance is much appreciated, thank you.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 6, "last_activity_date": 1534207380, "creation_date": 1534207380, "answer_id": 51832282, "question_id": 51832204, "link": "https://stackoverflow.com/questions/51832204/in-kotlin-can-i-init-an-object-and-set-a-paramater-in-one-line/51832282#51832282", "title": "In kotlin can i Init an object and set a paramater in one line", "body": "<p>Yes, just use the standard library function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"noreferrer\"><code>.apply { ... }</code></a>, which executes <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"noreferrer\">the lambda with receiver</a> on the object and returns that object:</p>\n\n<pre><code>val axisDto = CameraBrandDto().apply { name = \"AXIS\" }\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 981511, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/6caaf3411cbad97805c5556cb2fcd837?s=128&d=identicon&r=PG", "display_name": "Chris Legge", "link": "https://stackoverflow.com/users/981511/chris-legge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1534207380, "creation_date": 1534206605, "question_id": 51832204, "link": "https://stackoverflow.com/questions/51832204/in-kotlin-can-i-init-an-object-and-set-a-paramater-in-one-line", "title": "In kotlin can i Init an object and set a paramater in one line", "body": "<p>class:</p>\n\n<pre><code>class CameraBrandDto(override val id: Long = 0, override var dateCreated: Date = Date(), override var dateUpdated: Date = Date()) : DataTransportObject {\n    override var clazz = this.javaClass.simpleName.replace(\"Dto\", \"\")\n\n    @NotBlank\n    @Size(max = 13)\n    var name: String = \"\"\n\n    var models: MutableSet&lt;DtoMin&gt; = mutableSetOf(DtoMin(0, \"UNDEFINED\", \"UNDEFINED\", Date(), Date()))\n\n}\n</code></pre>\n\n<p>I would like to accomplish this in one line</p>\n\n<pre><code>val axisDto  = CameraBrandDto()\naxisDto.name = \"AXIS\"\n</code></pre>\n\n<p>is this possible???</p>\n"}, {"tags": ["kotlin", "retrofit2", "okhttp", "interceptor", "okhttp3"], "answers": [{"tags": [], "owner": {"reputation": 880, "user_id": 6559031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJppD.jpg?s=128&g=1", "display_name": "Devil10", "link": "https://stackoverflow.com/users/6559031/devil10"}, "is_accepted": true, "score": 11, "last_activity_date": 1534219556, "last_edit_date": 1534219556, "creation_date": 1534219062, "answer_id": 51833497, "question_id": 51832058, "link": "https://stackoverflow.com/questions/51832058/how-to-add-api-key-into-interceptor-using-okhttp/51833497#51833497", "title": "How to add Api_KEY into interceptor using okhttp", "body": "<p><strong>add like this</strong></p>\n\n<pre><code>HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n\n    OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n    httpClient.addInterceptor(new Interceptor() {\n        @Override\n        public Response intercept(Interceptor.Chain chain) throws IOException {\n            Request original = chain.request();\n\n            // Request customization: add request headers\n            Request.Builder requestBuilder = original.newBuilder()\n                    .header(\"Authorization\", \"MY_API_KEY\"); // &lt;-- this is the important line\n\n            Request request = requestBuilder.build();\n            return chain.proceed(request);\n        }\n    });\n\n\n    httpClient.connectTimeout(30, TimeUnit.SECONDS);\n    httpClient.readTimeout(30, TimeUnit.SECONDS);\n    httpClient.addNetworkInterceptor(logging);\n\n OkHttpClient client = httpClient.build();\n</code></pre>\n\n<p><strong>in kotlin its like</strong></p>\n\n<pre><code> val logging = HttpLoggingInterceptor()\n    logging.level = HttpLoggingInterceptor.Level.BODY\n\n    val httpClient = OkHttpClient.Builder()\n    httpClient.addInterceptor { chain -&gt;\n        val original = chain.request()\n\n        // Request customization: add request headers\n        val requestBuilder = original.newBuilder()\n                .header(\"Authorization\", \"MY_API_KEY\") // &lt;-- this is the important line\n\n        val request = requestBuilder.build()\n        chain.proceed(request)\n    }\n\n\n    httpClient.connectTimeout(30, TimeUnit.SECONDS)\n    httpClient.readTimeout(30, TimeUnit.SECONDS)\n\n    httpClient.addNetworkInterceptor(logging)\n\n val okHttpClient=httpClient.build()\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6030, "favorite_count": 2, "accepted_answer_id": 51833497, "answer_count": 1, "score": 7, "last_activity_date": 1559288941, "creation_date": 1534205128, "last_edit_date": 1559288941, "question_id": 51832058, "link": "https://stackoverflow.com/questions/51832058/how-to-add-api-key-into-interceptor-using-okhttp", "title": "How to add Api_KEY into interceptor using okhttp", "body": "<p>I have this service where I want to put the token as an interception in the okhttp instead of passing as a parameter with @Header(\"MY_API_KEY\")</p>\n\n<p>This is my code regarding the service</p>\n\n<pre><code>/**\n     * Provides the [PHService]\n     */\n    fun provideService(): PHService {\n\n        val logger = HttpLoggingInterceptor()\n        logger.level = HttpLoggingInterceptor.Level.BASIC\n\n\n\n        val client = OkHttpClient.Builder()\n                .addInterceptor(logger)\n                .build()\n\n        return Retrofit.Builder()\n                .baseUrl(BuildConfig.API_URL)\n                .client(client)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n                .create(PHService::class.java)\n    }\n</code></pre>\n\n<p>How can I add an interceptor for header authorization in here?</p>\n"}, {"tags": ["android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1534202981, "post_id": 51831820, "comment_id": 90617772, "body": "Yes, startActivityForResult and setResult with some EXIT_CODE and go listening it back and propagating backwards(with more setResuts)"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1534209258, "post_id": 51831820, "comment_id": 90618885, "body": "@MarcosVasconcelos Because I searched and could not find example code could you post a small snip of code it is this line that has me confused  val intent = Intent(this@MainActivity, PageTwoActivity::class.java) declaring the intent in is where we are lost"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1534210469, "post_id": 51831820, "comment_id": 90619133, "body": "@MarcosVasconcelos I added and edit to my quest to show the structure of the code I use to construct and Intent in Kotlin NO RESULTS"}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1534269357, "post_id": 51843166, "comment_id": 90647869, "body": "I appreciate your suggestions they look great tried both sorry to say we are both in the boat of &quot;not Kotlin&quot; dev too much red when I pasted the code in the simple project see comment to mducc for design of app if you can write in Java we can always convert Still looking for code to just close the app It should not be this difficult but if it wasn&#39;t then where would the fun be"}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1534270755, "post_id": 51843166, "comment_id": 90648539, "body": "It actually is, you just have to translate this"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1534271424, "post_id": 51843166, "comment_id": 90648803, "body": "@MarcosVasconcelow I did the translation and still lots of RED I did add the variables but no luck will let you know if I get a result"}, {"owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "reply_to_user": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1534271604, "post_id": 51843166, "comment_id": 90648878, "body": "The idea there is to remove the stack and finish the only one that lasts, you can simply create a new FinishActivity and call it with CLEAR_TOP | NEW_TASK and the only thing you do onCreate is to finish()"}], "tags": [], "owner": {"reputation": 17743, "user_id": 558433, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/XZg0R.jpg?s=128&g=1", "display_name": "Marcos Vasconcelos", "link": "https://stackoverflow.com/users/558433/marcos-vasconcelos"}, "is_accepted": false, "score": 1, "last_activity_date": 1534254817, "creation_date": 1534254817, "answer_id": 51843166, "question_id": 51831820, "link": "https://stackoverflow.com/questions/51831820/how-to-close-android-application-in-kotlin/51843166#51843166", "title": "How to close Android application in Kotlin", "body": "<p>There's two solutions on this, working on yours code:</p>\n\n<pre><code>val intent = Intent(context, MainActivity::class.java)\nintent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOIntent.FLAG_ACTIVITY_NEW_TASK\nintent.putBooleanExtra(MainActivity.FINISH, true)\nfinish()\n</code></pre>\n\n<p>Declare FINISH as <code>val FINISH = \"finish_key_extra\"</code></p>\n\n<p>And add this code at onCreate of MainActivity</p>\n\n<pre><code>super.onCreate(state)\nboolean finish = getIntent().getBooleanExtra(FINISH, false) //default false if not set by argument\nif(finish) {\n    finish();\n    return;\n}\n</code></pre>\n\n<p>Since you using CLEAR_TOP and NEW_TASK you will have only that one activity on stack, so you finish it by sending a argument.</p>\n\n<p>The other solution I mentioned is starting every Activity on your application with <code>startActivityForResult(intent, REQUEST_CODE_X)</code></p>\n\n<p>And at on every activity on application also have this code: (declare a int FINISH_APP to be used as result code somewhere)</p>\n\n<pre><code>void onActivityResult(int requestCode, int resultCode, Bundle result) {\n     if(requestCode == AppIntents.REQUEST_CODE_X)\n         if(resultCode == FINISH_APP){\n             setResult(FINISH_APP);\n             finish();\n         }\n}\n</code></pre>\n\n<p>And at any point you want to start closing the app you call:</p>\n\n<pre><code>             setResult(FINISH_APP);\n             finish();\n</code></pre>\n\n<p>Note that the FINISH_APP is declared different from RESULT_OK, RESULT_CANCELED so it can still be used by your app.</p>\n\n<p>Note: I'm a Java dev, not kotlin</p>\n"}, {"tags": [], "owner": {"reputation": 1091, "user_id": 4932972, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e89a58e35c62040c0d804afb6d1d3c2?s=128&d=identicon&r=PG&f=1", "display_name": "James_Duh", "link": "https://stackoverflow.com/users/4932972/james-duh"}, "is_accepted": true, "score": 19, "last_activity_date": 1534275663, "creation_date": 1534275663, "answer_id": 51848705, "question_id": 51831820, "link": "https://stackoverflow.com/questions/51831820/how-to-close-android-application-in-kotlin/51848705#51848705", "title": "How to close Android application in Kotlin", "body": "<p>Grendel here is the absolute easiest two ways to close the Kotlin App\nthe first way will open the app on PageTwo when it is reloaded\nnot elegant but I included on the chance that someone has a Splash Screen</p>\n\n<pre><code>     moveTaskToBack(true);\n     exitProcess(-1)\n</code></pre>\n\n<p>The second way is so simple and old you are going to scream\nIt will close the Kotlin App and when reloaded the MainActivity is shown first</p>\n\n<pre><code>finishAffinity()\n</code></pre>\n\n<p>I tested this with Nexus 9 API 26 I do not have a Samsung Galaxy S2 \nbut feel free to mail me one ha ha</p>\n"}, {"tags": [], "owner": {"reputation": 1519, "user_id": 2200923, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/93e7d108ab61df2d2706108f412d6df6?s=128&d=identicon&r=PG", "display_name": "kwishnu", "link": "https://stackoverflow.com/users/2200923/kwishnu"}, "is_accepted": false, "score": 0, "last_activity_date": 1616983558, "creation_date": 1616983558, "answer_id": 66847926, "question_id": 51831820, "link": "https://stackoverflow.com/questions/51831820/how-to-close-android-application-in-kotlin/66847926#66847926", "title": "How to close Android application in Kotlin", "body": "<p>This works:</p>\n<pre><code>android.os.Process.killProcess(android.os.Process.myPid())\n</code></pre>\n<p>...but with important caveats that have a heated discussion in this SO question, <a href=\"https://stackoverflow.com/questions/11035328/why-is-calling-process-killprocessprocess-mypid-a-bad-idea\">Why is calling Process.killProcess(Process.myPid()) a bad idea?</a></p>\n"}], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17532, "favorite_count": 1, "accepted_answer_id": 51848705, "answer_count": 3, "score": 6, "last_activity_date": 1616983558, "creation_date": 1534202683, "last_edit_date": 1534272036, "question_id": 51831820, "link": "https://stackoverflow.com/questions/51831820/how-to-close-android-application-in-kotlin", "title": "How to close Android application in Kotlin", "body": "<p>In JAVA we can close the application. We trying to develop skills with Kotlin and feel we are using the correct syntax to close the application. The issue is that the code only works if you close the app before going to the Second Page and back to the MainActivity which is the launcher activity code below</p>\n\n<pre><code>    fun onTV(view: View){\n    exitProcess()\n}\n\nprivate fun exitProcess() {\n    //finish()\n    System.exit(-1)\n}\n</code></pre>\n\n<p>Both finish and System.exit(-1) work if selected first without navigating\nto PageTwoActivity </p>\n\n<p>The onTV is the onClick property of a TextView\nMy guess is that we need to clear the Stack buy setting Flags so the question is\nwhat is the syntax for this in Kotlin? Remember we are on the launcher page\nMainActivity. Do we need an Intent for results?</p>\n\n<p>Ok I tried this code with no improvement </p>\n\n<pre><code>    val intent = Intent(context, MainActivity::class.java)\n    intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOIntent.FLAG_ACTIVITY_NEW_TASK\n    finish()\n</code></pre>\n\n<p>We are close here is the code as it stands now the issue is still that while this  will close the app if you do NOT navigate to the PageTwo and click the button to close the app right after it starts</p>\n\n<pre><code>    fun onTV(view: View){\n    onBYE()\n}\n\n fun onBYE() {\n     exitProcess(-1)\n }\n</code></pre>\n\n<p>So I guess the question is how to clear PageTwo from the stack when onBYE is executed ?</p>\n"}, {"tags": ["android-studio", "kotlin", "fragment", "companion-object"], "comments": [{"owner": {"reputation": 1024, "user_id": 5095473, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-viE-V7PoMqY/AAAAAAAAAAI/AAAAAAAAANg/bsytZE_XHYc/photo.jpg?sz=128", "display_name": "Mehul Kanzariya", "link": "https://stackoverflow.com/users/5095473/mehul-kanzariya"}, "edited": false, "score": 0, "creation_date": 1534232742, "post_id": 51831537, "comment_id": 90625837, "body": "I think you have not intialized the listFragment properly and thats why you are getting this error. Can you please add the full code of this activity and the code of the LIstFragment?"}, {"owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "reply_to_user": {"reputation": 1024, "user_id": 5095473, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh4.googleusercontent.com/-viE-V7PoMqY/AAAAAAAAAAI/AAAAAAAAANg/bsytZE_XHYc/photo.jpg?sz=128", "display_name": "Mehul Kanzariya", "link": "https://stackoverflow.com/users/5095473/mehul-kanzariya"}, "edited": false, "score": 0, "creation_date": 1534256577, "post_id": 51831537, "comment_id": 90640579, "body": "i found the solution see the answer please @MehulKanzariya"}], "answers": [{"tags": [], "owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "is_accepted": true, "score": 5, "last_activity_date": 1534256530, "creation_date": 1534256530, "answer_id": 51843713, "question_id": 51831537, "link": "https://stackoverflow.com/questions/51831537/classifier-does-not-have-a-companion-object/51843713#51843713", "title": "classifier does not have a companion object", "body": "<p>i edited it this way and it worked :</p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n        R.id.listNav -&gt; {\n            val mFragment = cartFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.cartNav -&gt; {\n            val mFragment = cartFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.supportNav -&gt; {\n            val mFragment = supportFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.accountNav -&gt; {\n            val mFragment = accountFragment.newInstance()\n            openFragment(mFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n    }\n    false\n}\nprivate fun openFragment(fragment: Fragment) {\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.mainFrame, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n</code></pre>\n\n<p>fragments goes like this : </p>\n\n<pre><code>class listFragment : Fragment() {\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? =\n        inflater.inflate(R.layout.fragment_list, container, false)\n\ncompanion object {\n    fun newInstance(): listFragment = listFragment()\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 3, "last_activity_date": 1607492358, "creation_date": 1607492358, "answer_id": 65211246, "question_id": 51831537, "link": "https://stackoverflow.com/questions/51831537/classifier-does-not-have-a-companion-object/65211246#65211246", "title": "classifier does not have a companion object", "body": "<p>If someone is struggling (like I was) with the error in the title produced in a <code>when</code> block,\nwhen compared a <code>sealed</code> object, then don't forget the <code>is</code> keyword, like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>when (someSealedClass) {\n        is SomeSealedClass.Foo -&gt; ...\n//      ^^ don't forget this\n      }\n</code></pre>\n"}], "owner": {"reputation": 948, "user_id": 9528391, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JQCNN5aFY14/AAAAAAAAAAI/AAAAAAAAAXk/lzbmC7DipXg/photo.jpg?sz=128", "display_name": "evals", "link": "https://stackoverflow.com/users/9528391/evals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11681, "favorite_count": 0, "accepted_answer_id": 51843713, "answer_count": 2, "score": 6, "last_activity_date": 1607492358, "creation_date": 1534200355, "last_edit_date": 1534233422, "question_id": 51831537, "link": "https://stackoverflow.com/questions/51831537/classifier-does-not-have-a-companion-object", "title": "classifier does not have a companion object", "body": "<p>i want to use BottomNavigationView in my app and i'm facing this problem with kotlin (never had it before with java) i see this message :\nclassifier 'listFragment' does not have a companion object and thus must be initialized here</p>\n\n<p>this is my code :</p>\n\n<pre><code>private val mOnNavigationItemSelectedListener = BottomNavigationView.OnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n        R.id.listNav -&gt; {\n//the problem is here in listFragment word below\n            setFragment(listFragment)\n            return@OnNavigationItemSelectedListener true\n        }\n        R.id.accountNav -&gt; {\n//the problem is here also in accountFragment word below\n            setFragment(accountFragment)\n            return@OnNavigationItemSelectedListener true\n        }\nfalse \n}\nprivate fun setFragment(fragment: Fragment) {\n    supportFragmentManager.beginTransaction().replace(R.id.mainFrame , fragment).commit()\n}\n</code></pre>\n\n<p>any help is appreciated :) </p>\n"}, {"tags": ["android", "time", "kotlin", "format"], "comments": [{"owner": {"reputation": 2060, "user_id": 8052043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18ToK.jpg?s=128&g=1", "display_name": "CodeMatrix", "link": "https://stackoverflow.com/users/8052043/codematrix"}, "edited": false, "score": 0, "creation_date": 1534198103, "post_id": 51830732, "comment_id": 90616606, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9027317/how-to-convert-milliseconds-to-hhmmss-format\">How to convert milliseconds to &quot;hh:mm:ss&quot; format?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 2912269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e83136245ef8da7e5ccdf1fb5cac3?s=128&d=identicon&r=PG&f=1", "display_name": "Jsperk", "link": "https://stackoverflow.com/users/2912269/jsperk"}, "is_accepted": false, "score": 1, "last_activity_date": 1534197344, "creation_date": 1534197344, "answer_id": 51831120, "question_id": 51830732, "link": "https://stackoverflow.com/questions/51830732/android-kotlin-time-format/51831120#51831120", "title": "Android Kotlin Time Format", "body": "<p>First, it controls the length of the values, if they have 5 positions it adds 0 in the first position.</p>\n\n<p>Then use\nDateTimeFormatter.ofPattern (\"HH: mm: ss\") (look this \n <a href=\"https://developer.android.com/reference/java/time/format/DateTimeFormatter\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/time/format/DateTimeFormatter</a>)</p>\n\n<p>Another option and simpler is to format the chain, adding a \":\" every two positions since you will always have a value of 6 characters.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 1, "last_activity_date": 1534233071, "last_edit_date": 1534233071, "creation_date": 1534231412, "answer_id": 51835843, "question_id": 51830732, "link": "https://stackoverflow.com/questions/51830732/android-kotlin-time-format/51835843#51835843", "title": "Android Kotlin Time Format", "body": "<p>In your question you did not mention if in the string contains minutes.  <br/>\nIf not, you can use the following function:  <br/></p>\n\n<pre><code>fun getTime(s: String): String {\n    var timeInt = 0\n    try {\n        timeInt = s.split(\":\")[1].replace(\"\\\"\", \"\").toInt()\n    } catch (e: Exception) { }\n    timeInt /= 10000\n    val timeStr = timeInt.toString().padStart(2, '0') + \":00\"\n    return timeStr\n}\n</code></pre>\n\n<p>and use it like this:  <br/></p>\n\n<pre><code>val start =  \"\\\"tstart\\\":\\\"80000\\\"\"\nval end = \"\\\"tend\\\":\\\"160000\\\"\"\nval formattedStart = getTime(start)\nval formattedEnd =  getTime(end)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5618593, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7cf1e98544d85172c3fec9f7f202d5a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jade", "link": "https://stackoverflow.com/users/5618593/jade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1500, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534233071, "creation_date": 1534195232, "question_id": 51830732, "link": "https://stackoverflow.com/questions/51830732/android-kotlin-time-format", "title": "Android Kotlin Time Format", "body": "<p>I got a API which gives me data for start and end time like this:\n\"tstart\":\"80000\",\"tend\":\"160000\"</p>\n\n<p>Do you have a easy way to format it to time like 08:00 and 16:00 with Kotlin?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1534183421, "creation_date": 1534183421, "answer_id": 51828127, "question_id": 51828081, "link": "https://stackoverflow.com/questions/51828081/the-app-stops-working-when-any-button-is-clicked-error-says-that-it-couldnt-fi/51828127#51828127", "title": "The app stops working when any button is clicked, Error says that it couldn&#39;t find method", "body": "<p>The issue is , the <code>onclick</code> method should have <code>public</code> access modifier, so use</p>\n\n<pre><code> public fun buRequestEvent(view: View){\n        var userEmail = etEmail.text.toString()\n        myRef.child(\"Users\").child(splitString(userEmail)).child(\"Request\").push().setValue(myEmail)\n    }\n</code></pre>\n\n<p>From <a href=\"https://developer.android.com/guide/topics/ui/controls/button#HandlingEvents\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<ul>\n<li>Be public      // violation here</li>\n<li>Return void</li>\n<li>Define a View as its only parameter (this will be the View that was clicked)</li>\n</ul>\n"}], "owner": {"reputation": 75, "user_id": 10211042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a88add1d5052b76a430d00145a3f5662?s=128&d=identicon&r=PG&f=1", "display_name": "Sahil", "link": "https://stackoverflow.com/users/10211042/sahil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 51828127, "answer_count": 1, "score": 2, "last_activity_date": 1534187101, "creation_date": 1534183222, "last_edit_date": 1534187101, "question_id": 51828081, "link": "https://stackoverflow.com/questions/51828081/the-app-stops-working-when-any-button-is-clicked-error-says-that-it-couldnt-fi", "title": "The app stops working when any button is clicked, Error says that it couldn&#39;t find method", "body": "<p>I am learning Kotlin and recently have jumped upon a certain problem. As soon as I click on any button in my app, I get a similar error as shown in the title. Here's the complete error code</p>\n\n<pre><code>  java.lang.IllegalStateException: Could not find method buRequestEvent(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.support.v7.widget.AppCompatButton with id 'buRequest'\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:423)\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:380)\n    at android.view.View.performClick(View.java:5646)\n    at android.view.View$PerformClick.run(View.java:22473)\n    at android.os.Handler.handleCallback(Handler.java:761)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:156)\n    at android.app.ActivityThread.main(ActivityThread.java:6523)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:942)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:832)\n</code></pre>\n\n<p>I have tried a lot of fixes given on other questions but most of them are in Java and I am programming in Kotlin. None of them have worked yet.</p>\n\n<p>Here's the code of one of the buttons</p>\n\n<p>from <em>MainActivity.kt</em></p>\n\n<pre><code> protected fun buRequestEvent(view: View){\n        var userEmail = etEmail.text.toString()\n        myRef.child(\"Users\").child(splitString(userEmail)).child(\"Request\").push().setValue(myEmail)\n    }\n</code></pre>\n\n<p>I have a rough idea that the problem might be due to the imports in my project file so here's the list of the imports</p>\n\n<p>from <em>MainActivity.kt</em></p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.Toast\nimport com.google.firebase.analytics.FirebaseAnalytics\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.database.DataSnapshot\nimport com.google.firebase.database.DatabaseError\nimport com.google.firebase.database.FirebaseDatabase\nimport com.google.firebase.database.ValueEventListener\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\nimport kotlin.collections.HashMap\n</code></pre>\n\n<p>P.S. - I have checked the XML file, the button has an onClick attribute added to it</p>\n\n<p>from <em>activity_main.xml</em></p>\n\n<pre><code>&lt;Button\n            android:id=\"@+id/buRequest\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:onClick=\"buRequestEvent\"\n            android:text=\"REQUEST\" /&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "user-interface", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534184351, "post_id": 51828058, "comment_id": 90611046, "body": "Now if only you had added some code, we&#39;d have a clue what you are actually doing"}], "answers": [{"tags": [], "owner": {"reputation": 892, "user_id": 5563191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CrAy7v9_zUY/AAAAAAAAAAI/AAAAAAAADBk/5h-RKBXG21g/photo.jpg?sz=128", "display_name": "Raymond Mutyaba", "link": "https://stackoverflow.com/users/5563191/raymond-mutyaba"}, "is_accepted": false, "score": 0, "last_activity_date": 1534188300, "creation_date": 1534188300, "answer_id": 51829259, "question_id": 51828058, "link": "https://stackoverflow.com/questions/51828058/editing-fragment-ui-items-with-asyntask/51829259#51829259", "title": "Editing Fragment UI items with AsynTask", "body": "<p>Only the activity which created the fragment can access the fragment. Create a function in the activity which changes the elements in the fragment. Then call that function from the AsyncTask and pass along any information the fragment will need in the parameters of the function.</p>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 9470380, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eTecrY-j9qg/AAAAAAAAAAI/AAAAAAAAABY/CkJOHwy0YIc/photo.jpg?sz=128", "display_name": "Salman Qadami", "link": "https://stackoverflow.com/users/9470380/salman-qadami"}, "is_accepted": true, "score": 1, "last_activity_date": 1534189508, "creation_date": 1534189508, "answer_id": 51829553, "question_id": 51828058, "link": "https://stackoverflow.com/questions/51828058/editing-fragment-ui-items-with-asyntask/51829553#51829553", "title": "Editing Fragment UI items with AsynTask", "body": "<p>you can use interface for interaction between AsyncTask and your fragment:</p>\n\n<pre><code>interface TaskListener {\n    void onTaskComplete(Data data);\n}\n</code></pre>\n\n<p>implement fragment ... TaskListener</p>\n\n<pre><code>class YourFragment implements TaskListener {\n// your fragment code is here\n\n    @Override\n    public void onTaskComplete(Data data) {\n        //this method will call from AsyncTask\n        //update your fragment ui here\n    }\n}\n</code></pre>\n\n<p>assign the TaskListener to the AsyncTask in Constructor</p>\n\n<pre><code>public AsycTask(TaskListener listener) {\n    this.listener = listener;\n}\n</code></pre>\n\n<p>call the onTaskComplete in \"onPostExecute\" method of AsyncTask:</p>\n\n<pre><code>@Override\nprotected void onPostExecute(Data data) {\n    listener.onTaskComplete(data);\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 10203522, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gE9OQoMer2Q/AAAAAAAAAAI/AAAAAAAAECY/8OpFVQKf9JU/photo.jpg?sz=128", "display_name": "Ayberk Eser", "link": "https://stackoverflow.com/users/10203522/ayberk-eser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 51829553, "answer_count": 2, "score": 2, "last_activity_date": 1534189508, "creation_date": 1534183084, "question_id": 51828058, "link": "https://stackoverflow.com/questions/51828058/editing-fragment-ui-items-with-asyntask", "title": "Editing Fragment UI items with AsynTask", "body": "<p>I'm working on an Android application that finds the computers on local network. It using <strong>AsynTask</strong> in background to discover that devices, i'm also using <strong>fragment</strong> pages to show results. The problem is i'm not able to make AsyncTask to edit fragment items. How can i handle it</p>\n"}, {"tags": ["kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 2979, "user_id": 2837971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b564d7a9e725cd920f1088e8326cafc0?s=128&d=identicon&r=PG", "display_name": "b2mob", "link": "https://stackoverflow.com/users/2837971/b2mob"}, "edited": false, "score": 0, "creation_date": 1534182627, "post_id": 51827913, "comment_id": 90610216, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44493908/setting-text-in-edittext-kotlin\">Setting text in EditText Kotlin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534183703, "post_id": 51828131, "comment_id": 90610709, "body": "I tried that and it shows this: only safe(?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type EditText?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534184558, "post_id": 51828131, "comment_id": 90611154, "body": "@GaboWalker is there any problem?"}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534185283, "post_id": 51828131, "comment_id": 90611514, "body": "Im making some tests, im trying to use your code in a dialog, I&#180;m using this: editText!!.setText(&quot;new text here&quot;) right now, and its crashing my app, I&#180;ll inform you what appened as soon as i check everything else is ok"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534185896, "post_id": 51828131, "comment_id": 90611824, "body": "If it&#39;s crashing your app then <code>editText</code> is <code>null</code> and you cannot use <code>setText</code>"}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534185929, "post_id": 51828131, "comment_id": 90611837, "body": "With editText!!.setText(&quot;new text here&quot;) my app crashes, with: editText?.setText(&quot;new text here&quot;) my app doesnt crash but the editText keeps showing the hint: &quot;Search&quot; an nothing else. what I&#180;m trying to achieve is to show a popup window, that when the user clicks on ok button, the app will take you to an specific cathegory and input a word in an editText, the one that is used to filter among a list."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534186049, "post_id": 51828131, "comment_id": 90611901, "body": "After you inflate the layout to the dialog you must use findViewById to get the EditText"}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534186723, "post_id": 51828131, "comment_id": 90612222, "body": "I added my code to my original question for you to see it"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534186912, "post_id": 51828131, "comment_id": 90612334, "body": "@GaboWalker Do you understand the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">difference between !! and ?</a> ? Your edit text is null. With !! it crashes because you can&#39;t set text on null. With ? it does nothing because it only does something when <code>editText</code> is not null. You need to set <code>editText</code> to something first."}, {"owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "edited": false, "score": 0, "creation_date": 1534187448, "post_id": 51828131, "comment_id": 90612558, "body": "Thanks for your asistance Eugen Pechanec, that&#180;s what I was asking in the very first place, how can I input some text to an EditText that is empty, after clicking a button. Let me check the link you shared, regards."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 0, "last_activity_date": 1534183810, "last_edit_date": 1534183810, "creation_date": 1534183434, "answer_id": 51828131, "question_id": 51827913, "link": "https://stackoverflow.com/questions/51827913/button-click-to-textview-text-works-but-edittext-text-doesnt-work/51828131#51828131", "title": "Button click to: TextView.text = &quot;works&quot; but EditText.text = &quot;Doesnt work&quot;", "body": "<p>You need <code>editText?.setText(\"new text here\")</code> or <code>editText!!.setText(\"new text here\")</code> if you are sure that this EditText is not null.</p>\n"}, {"tags": [], "owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534253674, "creation_date": 1534253674, "answer_id": 51842785, "question_id": 51827913, "link": "https://stackoverflow.com/questions/51827913/button-click-to-textview-text-works-but-edittext-text-doesnt-work/51842785#51842785", "title": "Button click to: TextView.text = &quot;works&quot; but EditText.text = &quot;Doesnt work&quot;", "body": "<p>This is happening because java getter setter ambiguous in case of <code>EditText</code>, To understand this scenario you first need to understand that how kotlin generate the properties from java class for kotlin. </p>\n\n<p>Kotlin official </p>\n\n<blockquote>\n  <p>Methods that follow the Java conventions for getters and setters (no-argument methods with names starting with get and single-argument methods with names starting with set) are represented as properties in Kotlin. Boolean accessor methods (where the name of the getter starts with is and the name of the setter starts with set) are represented as properties which have the same name as the getter method.</p>\n</blockquote>\n\n<p>But in case EditText, which inherits setter from TextView creating problem here.</p>\n\n<blockquote>\n  <p>When a setter comes into play, property generation process becomes ambiguous. The reason is that the getter and the setter may have different types. Moreover, the getter and/or the setter may be overridden in a subclass,\n  which exactly is the case of EditText in Android.</p>\n  \n  <p>It means that you can get an Editable for an EditText and set an Editable to an EditText. Therefore, Kotlin reasonably creates a synthetic property text of type Editable. Considering that the String Class is not editable, I cannot assign a String instance to the text property of the EditText class.</p>\n</blockquote>\n\n<p>Original source <a href=\"https://medium.com/cashify-engineering/how-does-kotlin-generated-property-from-java-getters-and-setters-undocumented-by-jetbrains-7e1ad88052b1\" rel=\"nofollow noreferrer\">https://medium.com/cashify-engineering/how-does-kotlin-generated-property-from-java-getters-and-setters-undocumented-by-jetbrains-7e1ad88052b1</a></p>\n"}], "owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 0, "accepted_answer_id": 51828131, "answer_count": 2, "score": 0, "last_activity_date": 1534253674, "creation_date": 1534182529, "last_edit_date": 1534186585, "question_id": 51827913, "link": "https://stackoverflow.com/questions/51827913/button-click-to-textview-text-works-but-edittext-text-doesnt-work", "title": "Button click to: TextView.text = &quot;works&quot; but EditText.text = &quot;Doesnt work&quot;", "body": "<p>As title says:</p>\n\n<p>I\u00b4d like to change the text inside an editText with a button click.</p>\n\n<p>I can do it with TextViews by using this code:</p>\n\n<pre><code>TextView.text= \"new text here\"\n</code></pre>\n\n<p>but it doesnt work for EditText</p>\n\n<p>I already tried something like this:</p>\n\n<p>editText.setText(\"new text here\")</p>\n\n<p>Can some one please tell me the equivalent code for editTexts?</p>\n\n<p>this is my code so far:</p>\n\n<pre><code>        dialog.setOnClickListener {\n        var builder = AlertDialog.Builder(this)\n        var inflater: LayoutInflater = layoutInflater\n        var view : View = inflater.inflate(R.layout.dialog,null)\n        builder.setView(view)\n        builder.setTitle(\"categories\")\n        builder.setPositiveButton(\"Ver\", { dialogInterface: DialogInterface, i: Int -&gt;\n            mainscreen.visibility = View.GONE\n            ListView.visibility = View.VISIBLE\n            listdogs.visibility=View.VISIBLE\n            listdogs.adapter = adapterdogs\n            editText?.setText(\"husky\")\n        })\n</code></pre>\n\n<p>Regards</p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin", "spinner"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1534181997, "post_id": 51826803, "comment_id": 90609926, "body": "what exactly is the issue?"}, {"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1534182628, "post_id": 51826803, "comment_id": 90610217, "body": "@Pavneet_Singh I want the recycler view to scroll to the last visible row but it doesn&#39;t."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1534183140, "post_id": 51826803, "comment_id": 90610452, "body": "anything in logcat? and try that in onpostresume, might work"}, {"owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1534230871, "post_id": 51826803, "comment_id": 90624865, "body": "@Pavneet_Singh None of them worked unfortunately. This is the weirdesr problem I&#39;ve ever faced."}], "owner": {"reputation": 137, "user_id": 10132533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28033c4acbecc0682db1a25eaee66e52?s=128&d=identicon&r=PG&f=1", "display_name": "Javad", "link": "https://stackoverflow.com/users/10132533/javad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534177889, "creation_date": 1534177889, "question_id": 51826803, "link": "https://stackoverflow.com/questions/51826803/setting-adapter-to-spinner-scrolls-recycler-view-to-top", "title": "Setting adapter to spinner scrolls recycler view to top", "body": "<p>I have a spinner and a recycler view in one layout. In my activity's onResume, I'm setting an adapter to the spinner and trying to scroll recycler view to the last visible item that I have saved in the activity's onPause. The problem is that setting adapter to spinner, scrolls recycler view to top! I've tested if I don't set the adapter there would be no problem. Here's my code:</p>\n\n<pre><code>override fun onPause() {\n      super.onPause()\n      currentVisiblePosition = (recyclerView.layoutManager as LinearLayoutManager).findFirstCompletelyVisibleItemPosition()\n}\n\noverride fun onResume() {\n      super.onResume()\n      val list = ArrayList&lt;String&gt;()\n      list.add(\"item1\")\n      list.add(\"item2\")\n      spinner.adapter = ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,list)\n      (recyclerView.layoutManager as LinearLayoutManager).scrollToPosition(currentVisiblePosition)\n}\n</code></pre>\n\n<p>Do you guys know where the problem is?</p>\n"}, {"tags": ["kotlin", "project-reactor"], "comments": [{"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 0, "creation_date": 1534176138, "post_id": 51826352, "comment_id": 90606984, "body": "Why does <code>verify()</code> return <code>Mono&lt;Void&gt;</code> in the first place? Why <code>Void</code> (especially in Kotlin)?"}, {"owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "reply_to_user": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 0, "creation_date": 1534176522, "post_id": 51826352, "comment_id": 90607219, "body": "because if verify ok, do not need to return anything, just complete signal."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1534177507, "post_id": 51826352, "comment_id": 90607756, "body": "If it fails to compile, you need to read the error message from the compiler, and to post it if you don&#39;t understand it. And post the actual code, too. <code>int</code> doesn&#39;t exist in Kotlin."}, {"owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534215493, "post_id": 51826352, "comment_id": 90620115, "body": "@JBNizet correct int to Int. Sorry I make a wrong question, I change it again\u3002"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534225058, "post_id": 51826352, "comment_id": 90622438, "body": "It&#39;s perfectly normal for get(id) to be invoked. get(id) just creates a Mono. It doesn&#39;t actually do anything. The actual work (i.e. getting the entity by querying the database) will happen when a subscriber subscribes to the Mono returned by get(id). But that won&#39;t happen if verify() returns an error Mono."}, {"owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "edited": false, "score": 0, "creation_date": 1534226834, "post_id": 51826352, "comment_id": 90623063, "body": "That&#39;s real. But I need to use Mockito to verify the <code>get(id)</code> method invoked times in my unit test. I need to sure this <code>get(id)</code> method never invoked if <code>verify()</code> failed. Finally I use this code <code>verify().then(Mono.just(0).flatMap { get(id) })</code>, but <code>Mono.just(0)</code> is really noise. I thing <code>verify().then { get(id) }</code> is perfect, but reactor not support this function now. I dont know why. I also summit a <a href=\"https://github.com/reactor/reactor-core/issues/1312\" rel=\"nofollow noreferrer\">issue-1312</a> to reactor to ask why."}], "answers": [{"comments": [{"owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "edited": false, "score": 0, "creation_date": 1534207651, "post_id": 51830135, "comment_id": 90618590, "body": "To be clear, my question code is reactive program code, all the method need to be reactive. So the return value is designed to Mono."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "reply_to_user": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "edited": false, "score": 0, "creation_date": 1534226867, "post_id": 51830135, "comment_id": 90623072, "body": "How do you want us to know that if you forget to mention that in your question?"}], "tags": [], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "is_accepted": false, "score": -1, "last_activity_date": 1534192328, "creation_date": 1534192328, "answer_id": 51830135, "question_id": 51826352, "link": "https://stackoverflow.com/questions/51826352/how-to-avoid-getid-method-invoked-if-verify-return-mono-errortheexception/51830135#51830135", "title": "How to avoid get(id) method invoked if verify() return Mono.error(TheException())", "body": "<p>Given the comments on your code, looks like your <code>verify</code> method should have the following signature:</p>\n\n<pre><code>fun verify(): Unit\n</code></pre>\n\n<p>In Kotlin, usually, you just would throw an <code>Exception</code> instead of return an error (maybe you have your own error type to return? in which case maybe return <code>MyError?</code> if you really want that).</p>\n\n<p><code>get</code> should probably look like this:</p>\n\n<pre><code>fun get(id: Int): MyEntity?\n</code></pre>\n\n<p>The <code>?</code> at the end of the type name means the return value is optional, so it may be <code>null</code>.</p>\n\n<p>To combine <code>verify</code> with your <code>get</code> function is trivial:</p>\n\n<pre><code>fun verifyThenGet(id: Int): MyEntity? {\n    verify()\n    return get(id)\n}\n</code></pre>\n"}], "owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1534957100, "creation_date": 1534175978, "last_edit_date": 1534957100, "question_id": 51826352, "link": "https://stackoverflow.com/questions/51826352/how-to-avoid-getid-method-invoked-if-verify-return-mono-errortheexception", "title": "How to avoid get(id) method invoked if verify() return Mono.error(TheException())", "body": "<p>First need to <code>verify()</code> something, if all ok then invoke <code>get(id)</code> method to get the entity, otherwise no need to invoke <code>get(id)</code>. How to write the method <code>verifyThenGet(id)</code> code?</p>\n\n<pre><code>fun verifyThenGet(id: Int) : Mono&lt;MyEntity&gt; {\n    return verify().then(get(id)) // also invoke get(id) even verify failed\n}\n\n// return Mono.empty() if success to verify,\n// otherwise return Mono.error(TheException())\nfun verify() : Mono&lt;Void&gt;\n\n// get the entiry\nfun get(id: Int) : Mono&lt;MyEntity&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2", "okhttp3"], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "is_accepted": false, "score": 1, "last_activity_date": 1560876390, "creation_date": 1560876390, "answer_id": 56653691, "question_id": 51824849, "link": "https://stackoverflow.com/questions/51824849/retrofit-does-not-close-connection-where-seems-it-should/56653691#56653691", "title": "Retrofit does not close connection where seems it should", "body": "<p>The answer is </p>\n\n<pre><code>    @Throws(ApiException::class)\n    inline fun &lt;reified R&gt; execute(call: Call&lt;R&gt;): R {\n    var response: Response&lt;R&gt;? = null\n    try {\n        response = call.execute() //line (main.kt:137) THE ONE STACKTRACE POINTS TO!!\n    } catch (e: IOException) {\n        //SHOULD close connection\n        throw ApiException.NetworkError(response?.errorBody()?.string() ?: DEFAULT_REASON, cause = e)\n    }\n    if (response != null &amp;&amp; response.isSuccessful)\n        try {\n            return response.body()!!\n        } catch (e: Exception) {\n            response.errorBody()?.close()\n        }\n    else response.close() // something like this line was forgotten.\n        //SHOULD close connection\n        //throw ApiException.ServiceRespondedNegative(response.errorBody()?.string() ?: DEFAULT_REASON)\n    }\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 8305572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52c1eaf0f043170370b559fea5ba9df?s=128&d=identicon&r=PG&f=1", "display_name": "SoBeRich", "link": "https://stackoverflow.com/users/8305572/soberich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560876390, "creation_date": 1534170998, "question_id": 51824849, "link": "https://stackoverflow.com/questions/51824849/retrofit-does-not-close-connection-where-seems-it-should", "title": "Retrofit does not close connection where seems it should", "body": "<p>After the timeout the following code</p>\n\n<pre><code>        @Throws(ApiException::class)\n        inline fun &lt;reified R&gt; execute(call: Call&lt;R&gt;): R {\n        var response: Response&lt;R&gt;? = null\n        try {\n            response = call.execute() //line (main.kt:137) THE ONE STACKTRACE POINTS TO!!\n        } catch (e: IOException) {\n            //SHOULD close connection\n            throw ApiException.NetworkError(response?.errorBody()?.string() ?: DEFAULT_REASON, cause = e)\n        }\n        if (response != null &amp;&amp; response.isSuccessful)\n            try {\n                return response.body()!!\n            } catch (e: Exception) {\n                response.errorBody()?.close()\n            }\n            //SHOULD close connection\n            throw ApiException.ServiceRespondedNegative(response.errorBody()?.string() ?: DEFAULT_REASON)\n        }\n</code></pre>\n\n<p>throws </p>\n\n<pre><code>java.lang.Throwable: response.body().close()\n    at okhttp3.internal.platform.Platform.getStackTraceForCloseable(Platform.java:148)\n    at okhttp3.RealCall.captureCallStackTrace(RealCall.java:89)\n    at okhttp3.RealCall.execute(RealCall.java:73)\n    at retrofit2.OkHttpCall.execute(OkHttpCall.java:180)\n    at com.example.client.functional.Api$analyze$1$doResume$$inlined$get$1$1.invoke(main.kt:137)\n    at com.example.client.functional.MainKt$runInAsyncContext$1$1.doResume(main.kt:97)\n    at kotlin.coroutines.experimental.jvm.internal.CoroutineImpl.resume(CoroutineImpl.kt:42)\n    at kotlinx.coroutines.experimental.DispatchedTask$DefaultImpls.run(Dispatched.kt:150)\n    at kotlinx.coroutines.experimental.DispatchedContinuation.run(Dispatched.kt:14)\n    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n</code></pre>\n\n<p>I've tried lots of combinations of <code>try</code>/<code>catch</code>/<code>finally</code>\nThe stacktrace points to <code>execute()</code> method call at <code>(main.kt:137)</code>\nDon't  know how and where to close body.\ntried call <code>raw().close()</code>, <code>string()</code> all over the place, \nstill the same error.</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "rx-java2", "okhttp3"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534170462, "post_id": 51824557, "comment_id": 90603412, "body": "onError is only called for errors. While 4xx represents an unsuccessful call as far as data goes, it is not erroneous of nature. You can distinguish between successful and unsuccessful calls in the success callback (onNext or something) using <code>Response&lt;T&gt;#isSuccessful()</code>"}, {"owner": {"reputation": 780, "user_id": 831519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/514c11d39e5b403f0aa4a40d2a8a80eb?s=128&d=identicon&r=PG", "display_name": "Fouad", "link": "https://stackoverflow.com/users/831519/fouad"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534170790, "post_id": 51824557, "comment_id": 90603629, "body": "@TimCastelijns how is it done in here: <a href=\"https://medium.com/mindorks/rxjava2-and-retrofit2-error-handling-on-a-single-place-8daf720d42d6\" rel=\"nofollow noreferrer\">medium.com/mindorks/&hellip;</a> plus I remember in RxJava1 onError was also called for 400 status code responses. Do you have any idea if this behavior was changed?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534170915, "post_id": 51824557, "comment_id": 90603710, "body": "as you can see this example you link to only handles errors with the call itself, not &quot;errors&quot; with the transmitted data"}, {"owner": {"reputation": 780, "user_id": 831519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/514c11d39e5b403f0aa4a40d2a8a80eb?s=128&d=identicon&r=PG", "display_name": "Fouad", "link": "https://stackoverflow.com/users/831519/fouad"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534171001, "post_id": 51824557, "comment_id": 90603760, "body": "but he&#39;s checking for <code>if (e instanceof HttpException)</code> which happens with transmitted errors, or am i mistaken?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534171254, "post_id": 51824557, "comment_id": 90603920, "body": "it&#39;s easiest to just check it for yourself. Attach a debugger, trigger a 401 response and see what happens"}], "answers": [{"tags": [], "owner": {"reputation": 2471, "user_id": 5360809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1618836835044059/picture?type=large", "display_name": "Maksym V.", "link": "https://stackoverflow.com/users/5360809/maksym-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1534171323, "creation_date": 1534171323, "answer_id": 51824949, "question_id": 51824557, "link": "https://stackoverflow.com/questions/51824557/kotlin-rxjava2-onerror-not-called-for-http-status-code-400/51824949#51824949", "title": "Kotlin RxJava2 onError not called for Http status code 400", "body": "<p><code>onError</code> does catch errors which occur due to execution of the task or handling the result.</p>\n\n<p>In your case retrofit call is ok.</p>\n\n<p>You have to handle the result of response:\nIn your <code>onSuccess</code> check if response <code>isSuccessful</code> and move on</p>\n"}, {"tags": [], "owner": {"reputation": 780, "user_id": 831519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/514c11d39e5b403f0aa4a40d2a8a80eb?s=128&d=identicon&r=PG", "display_name": "Fouad", "link": "https://stackoverflow.com/users/831519/fouad"}, "is_accepted": false, "score": 1, "last_activity_date": 1534235558, "creation_date": 1534235558, "answer_id": 51837082, "question_id": 51824557, "link": "https://stackoverflow.com/questions/51824557/kotlin-rxjava2-onerror-not-called-for-http-status-code-400/51837082#51837082", "title": "Kotlin RxJava2 onError not called for Http status code 400", "body": "<p>It turns out the behavior faced was correct because of the following:</p>\n\n<pre><code>@POST(\"/login\")\nfun login(@Body userDto: UserDto): Observable&lt;Response&lt;User&gt;&gt;\n</code></pre>\n\n<p>as you can see that the return type of the function is <code>Observable&lt;Response&lt;User&gt;&gt;</code> more precisely <code>Response&lt;User&gt;</code></p>\n\n<p>So whenever a response is received irrespective of the http status code, <code>onNext</code> is called. The only time <code>onError</code> is called when a response can't be received.</p>\n\n<p>So in the case where you want a <code>Response</code> back, you will need to use the method suggested by @MaxAves </p>\n\n<p>If you want <code>onError</code> to be called when your server returns a 400 error code you will need to modify the interface so that it becomes like the following:</p>\n\n<pre><code>@POST(\"/login\")\nfun login(@Body userDto: UserDto): Observable&lt;User&gt;\n</code></pre>\n\n<p>In my case this is not doable because I need access to the response headers.</p>\n"}], "owner": {"reputation": 780, "user_id": 831519, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/514c11d39e5b403f0aa4a40d2a8a80eb?s=128&d=identicon&r=PG", "display_name": "Fouad", "link": "https://stackoverflow.com/users/831519/fouad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1534235558, "creation_date": 1534170066, "question_id": 51824557, "link": "https://stackoverflow.com/questions/51824557/kotlin-rxjava2-onerror-not-called-for-http-status-code-400", "title": "Kotlin RxJava2 onError not called for Http status code 400", "body": "<p>I'm using RxJava2 with Retrofit and OkHttp in Android application that I'm working on.</p>\n\n<p>For this app I am using Kotlin, not that it makes any difference whether it's Java or Kotlin.</p>\n\n<p>In previous apps that I've worked on, when the server returns a <strong>400</strong> error code, the onError callback is called. However today while working on this setup, the onError callback only fires when for example the server is down but <code>onNext</code> is called even for <strong>400</strong> error codes.</p>\n\n<p>below are extracts from my setup</p>\n\n<pre><code>/**\n * Networking\n */\nimplementation \"com.squareup.okhttp3:okhttp:3.11.0\"\nimplementation \"com.squareup.okhttp3:logging-interceptor:3.11.0\"\nimplementation \"com.squareup.retrofit2:retrofit:2.4.0\"\nimplementation \"com.squareup.retrofit2:adapter-rxjava2:2.4.0\"\n/**\n * Rx\n */\nimplementation \"io.reactivex.rxjava2:rxandroid:2.0.2\"\nimplementation \"io.reactivex.rxjava2:rxkotlin:2.2.0\"\n</code></pre>\n\n<p>This is an extract from a dagger2 module which actually builds the retrofit object</p>\n\n<pre><code>    @Singleton\n    @Provides\n    fun provideRetrofit(okHttpClient: OkHttpClient,\n                        gson: Gson,\n                        @BaseUrl baseUrl: String): Retrofit {\n        return Retrofit.Builder()\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .baseUrl(baseUrl)\n                .client(okHttpClient)\n                .build()\n    }\n</code></pre>\n\n<p>This is the actual code that calls the API</p>\n\n<pre><code>fun loginUser(username: String, password: String): MutableLiveData&lt;Result&gt; {\n        if (username.isNotBlank() &amp;&amp; password.isNotBlank()) {\n            subscriptions.addAll(remoteUserRepository\n                    .getUser(UserDto(username, password))\n                    .subscribeBy(onNext = {\n                        saveUser(it.body())\n                        saveAuthenticationToken(it.headers().get(\"token\"))\n                    }, onError = { handleError(it) }))\n        }\n        return resultLiveData\n    }\n\n    private fun saveUser(user: User?) {\n        user?.let {\n            localUserRepository.saveUser(it)\n            resultLiveData.value = Result.SUCCESS\n        }\n    }\n\n    private fun saveAuthenticationToken(token: String?) {\n        token?.let { localUserRepository.saveToken(it) }\n    }\n\n    override fun handleError(error: Throwable) {\n        super.handleError(error)\n        resultLiveData.value = Result.FAILURE\n    }\n</code></pre>\n\n<p>This is a log from a request and response to the server which clearly shows that the server is returning an http code 401</p>\n\n<pre><code>   D/OkHttp: --&gt; POST http://10.0.2.2:3000/login http/1.1\n    Content-Type: application/json; charset=UTF-8\nD/OkHttp: Content-Length: 48\n    Host: 10.0.2.2:3000\n    Connection: Keep-Alive\n    Accept-Encoding: gzip\n    User-Agent: okhttp/3.11.0\n    --&gt; END POST\nD/OkHttp: &lt;-- 401 Unauthorized http://10.0.2.2:3000/login (20ms)\n    content-type: application/json; charset=utf-8\n    cache-control: no-cache\n    content-length: 94\n    Date: Mon, 13 Aug 2018 13:55:07 GMT\n    Connection: keep-alive\n    &lt;-- END HTTP\n</code></pre>\n\n<p>Even though the server is returning a 401 error, the <code>handleError(error: Throwable)</code> callback is never called. It is only called in case the server is not reachable.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1534167987, "post_id": 51823843, "comment_id": 90601776, "body": "Java is actually the language that introduced the term <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-8.html#jls-8.1.3\" rel=\"nofollow noreferrer\">&quot;inner class&quot;</a> and it has exactly the same meaning as in Kotlin. So there&#39;s no need to describe it in a roundabout way."}], "tags": [], "owner": {"reputation": 1673, "user_id": 4825845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y4L0vj6kHkU/AAAAAAAAAAI/AAAAAAAABP8/fT4bDUserqA/photo.jpg?sz=128", "display_name": "JuanMoreno", "link": "https://stackoverflow.com/users/4825845/juanmoreno"}, "is_accepted": true, "score": 7, "last_activity_date": 1534339581, "last_edit_date": 1534339581, "creation_date": 1534167848, "answer_id": 51823843, "question_id": 51823842, "link": "https://stackoverflow.com/questions/51823842/what-are-the-differences-between-java-and-kotlin-inner-local-anonymous-classes/51823843#51823843", "title": "What are the differences between Java and Kotlin inner/local/anonymous classes?", "body": "<p>These are the name equivalents:</p>\n\n<pre><code>| Kotlin            | Java                                      |\n|-------------------|-------------------------------------------|\n| Inner Classes     | Non-Static Nested Classes / Inner Classes |\n| Nested Classes    | Static Nested Classes                     |\n| Local Classes     | Local Classes                             |\n| Anonymous Objects | Anonymous Classes                         |\n</code></pre>\n\n<p>This is a quick overview of differences:</p>\n\n<ul>\n<li>In both cases, we can group multiple classes in the same file. However, in <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#source-file-names\" rel=\"nofollow noreferrer\">Kotlin we can have multiple top-level classes in the same .kt file</a>, <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-7.html#jls-7.6\" rel=\"nofollow noreferrer\">in Java we can have many classes per compilation unit but only one can be public</a>.   </li>\n<li>Kotlin anonymous objects have support to implement multiple interfaces. </li>\n<li>Java anonymous classes are limited to implement only one abstract class or interface.         </li>\n<li>In Kotlin we can mutate a local variable from a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#closures\" rel=\"nofollow noreferrer\">closure</a>; because of that the Java concept of effectively final doesn't apply to Kotlin.      </li>\n<li><p>In Kotlin inner classes to reference the instance of the outer class, we need to use the <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">qualifier this expression</a>.      </p>\n\n<p>Some examples can be found over on <a href=\"https://www.baeldung.com/kotlin-inner-classes\" rel=\"nofollow noreferrer\">this tutorial</a>.</p></li>\n</ul>\n"}], "owner": {"reputation": 1673, "user_id": 4825845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-y4L0vj6kHkU/AAAAAAAAAAI/AAAAAAAABP8/fT4bDUserqA/photo.jpg?sz=128", "display_name": "JuanMoreno", "link": "https://stackoverflow.com/users/4825845/juanmoreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 51823843, "answer_count": 1, "score": 4, "last_activity_date": 1534339581, "creation_date": 1534167848, "question_id": 51823842, "link": "https://stackoverflow.com/questions/51823842/what-are-the-differences-between-java-and-kotlin-inner-local-anonymous-classes", "title": "What are the differences between Java and Kotlin inner/local/anonymous classes?", "body": "<p>What are the name equivalents and main differences between Java and Kotlin nested/inner/local classes?</p>\n"}, {"tags": ["class", "object", "constructor", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1534166458, "post_id": 51822993, "comment_id": 90600788, "body": "Thank you. This works but why is the way I have written not working? Moreover, the intent.extras return valid. I have checked."}, {"owner": {"reputation": 170, "user_id": 5996798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dhLeU71AkxA/AAAAAAAAAAI/AAAAAAAAABw/yc6Ei_4V314/photo.jpg?sz=128", "display_name": "Alex Grebennikov", "link": "https://stackoverflow.com/users/5996798/alex-grebennikov"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1534169329, "post_id": 51822993, "comment_id": 90602648, "body": "@Eswar data class generates <code>toString()</code> fun for you (as well as a couple of other). I guess it was the main issue in your case. Check out <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data class</a> for more info."}], "tags": [], "owner": {"reputation": 170, "user_id": 5996798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dhLeU71AkxA/AAAAAAAAAAI/AAAAAAAAABw/yc6Ei_4V314/photo.jpg?sz=128", "display_name": "Alex Grebennikov", "link": "https://stackoverflow.com/users/5996798/alex-grebennikov"}, "is_accepted": false, "score": 1, "last_activity_date": 1534165169, "creation_date": 1534165169, "answer_id": 51822993, "question_id": 51822512, "link": "https://stackoverflow.com/questions/51822512/unable-to-print-the-values-of-an-instance-of-my-model/51822993#51822993", "title": "Unable to print the values of an instance of my model", "body": "<p>Did you check that you receive valid data from your <code>intent.extras</code>?</p>\n\n<p>Also I suggest you use <code>data class</code> for your models.\nIt will look something like this:</p>\n\n<pre><code>data class ParentDetails(\n    var parent_id: Int = 0,\n    var parent_name: String = \"\",\n    var parent_email: String = \"\",\n    var parent_relation: String = \"\",\n    var parent_location: String = \"\"\n)\n</code></pre>\n\n<p>You will be able to use it like this :</p>\n\n<pre><code>val new_parent = ParentDetails(\n        parent_name = intent.extras.getString(\"name\"),\n        parent_email = intent.extras.getString(\"email\"),\n        parent_relation = intent.extras.getString(\"parent_relation\"),\n        parent_location = intent.extras.getString(\"locationdata\")\n    )\n    println(new_parent.tostring())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1534167490, "post_id": 51823575, "comment_id": 90601437, "body": "Why is the way I have written not working? Using data class method also works. But I&#39;m looking for an explanation as to why the way I have written isn&#39;t working the way I thought it should."}], "tags": [], "owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "is_accepted": true, "score": 3, "last_activity_date": 1535204248, "last_edit_date": 1535204248, "creation_date": 1534167077, "answer_id": 51823575, "question_id": 51822512, "link": "https://stackoverflow.com/questions/51822512/unable-to-print-the-values-of-an-instance-of-my-model/51823575#51823575", "title": "Unable to print the values of an instance of my model", "body": "<p>As I understand your problem is that calling <code>println(new_parent.tostring())</code> does not print what you would like to print in function <code>ParentDetailsprintme</code>.</p>\n\n<p>First of all, you have a typo, the correct call would be <code>new_parent.toString()</code>.</p>\n\n<p>Note that it could have been simplified as <code>println(new_parent)</code>.</p>\n\n<p>It does not print that you defined in the <code>ParentDetailsprintme</code> method, as the method is not called. </p>\n\n<p>What <code>println(new_parent.toString())</code> prints, is actually the hashcode of the object, as this is the default behaviour of every object.</p>\n\n<p>To make it work call it like <code>println(new_parent.ParentDetailsprintme())</code> or override the <code>toString()</code> method for example as:</p>\n\n<pre><code>override fun toString() = \"$parent_name $parent_email $parent_relation $parent_location\"\n</code></pre>\n\n<p>then the following</p>\n\n<pre><code>val new_parent = ParentDetails(\"myName\", \"myEmail\", \"myParent_relation\", \"myLocationdata\")\nprintln(new_parent)\n</code></pre>\n\n<p>should print </p>\n\n<pre><code>myName myEmail myParent_relation myLocationdata\n</code></pre>\n\n<hr>\n\n<p>Kotlin's <a href=\"https://github.com/JetBrains/kotlin/blob/1.2.60/libraries/stdlib/jvm/src/kotlin/io/Console.kt#L140\" rel=\"nofollow noreferrer\"><code>println</code></a> function simply calls <code>System.out.println(message)</code> under the hood which will call <code>String.valueOf()</code> (e.g. <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>String.valueOf(Object object)</code></a> for objects, which will call the <code>toString()</code> method of the passed object).</p>\n\n<pre><code>/** Prints the given message and newline to the standard output stream. */\n@kotlin.internal.InlineOnly\npublic inline fun println(message: CharArray) {\n    System.out.println(message)\n}\n</code></pre>\n\n<hr>\n\n<p><em>Update (</em>\"Using data class method also works\"<em>):</em></p>\n\n<p>If you make the class to be a data class:</p>\n\n<pre><code>data class ParentDetails(\n        val parent_id: Int = 0,\n        val parent_name: String = \"\",\n        val parent_email: String = \"\",\n        val parent_relation: String = \"\",\n        val parent_location: String = \"\"\n)\n</code></pre>\n\n<p>and then you execute</p>\n\n<pre><code>val new_parent = ParentDetails(0, \"myName\", \"myEmail\", \"myParent_relation\", \"myLocationdata\")\nprintln(new_parent)\n</code></pre>\n\n<p>you will receive as result</p>\n\n<pre><code>ParentDetails(parent_id=0, parent_name=myName, parent_email=myEmail, parent_relation=myParent_relation, parent_location=myLocationdata)\n</code></pre>\n\n<p>This is because <a href=\"http://ParentDetails(parent_id=0,%20parent_name=myName,%20parent_email=myEmail,%20parent_relation=myParent_relation,%20parent_location=myLocationdata)\" rel=\"nofollow noreferrer\">data classes</a> override the <code>toString()</code> function:</p>\n\n<blockquote>\n  <p>The compiler automatically derives the following members from all\n  properties declared in the primary constructor:</p>\n  \n  <ul>\n  <li>equals()/hashCode() pair;</li>\n  <li><strong>toString() of the form \"User(name=John, age=42)\";</strong></li>\n  </ul>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1534168286, "creation_date": 1534168286, "answer_id": 51823993, "question_id": 51822512, "link": "https://stackoverflow.com/questions/51822512/unable-to-print-the-values-of-an-instance-of-my-model/51823993#51823993", "title": "Unable to print the values of an instance of my model", "body": "<p>As already mentioned, you have a typo. <code>toString</code> returns the hashcode of an object unless it's overridden to return something else. Look up the original implementation for more details. </p>\n\n<p>By overriding the <code>toString</code> method, you change what it returns, and through that, what is printed when you <code>print(someClass)</code>. DVarga showed that in their answer.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">Data classes</a> auto-generate a <code>toString</code> method containing the content of the class. So creating a data class is a shortcut to getting output containing the data.</p>\n\n<p>The reason the method you had didn't work is because you didn't call it. if you call it instead of <code>toString</code>, you would get the data printed. </p>\n\n<p>Also, <code>toString</code> is explicitly called when you print a class. You don't need to call <code>print(someInstance.toString())</code>, <code>print(someInstance)</code> is enough.</p>\n\n<hr>\n\n<p>And while I'm writing an answer, you don't need to use secondary constructors in Kotlin. Primary constructors would shorten your code significantly, whether it's a data class or not. Also, you should look into naming conventions.</p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 51823575, "answer_count": 3, "score": 0, "last_activity_date": 1535204289, "creation_date": 1534163681, "last_edit_date": 1535204289, "question_id": 51822512, "link": "https://stackoverflow.com/questions/51822512/unable-to-print-the-values-of-an-instance-of-my-model", "title": "Unable to print the values of an instance of my model", "body": "<p>I know this is a very fundamental question but answer to this will solve many of my doubts. </p>\n\n<pre><code>val new_parent = ParentDetails(intent.extras.getString(\"name\"), \n    intent.extras.getString(\"email\"),\n    intent.extras.getString(\"parent_relation\"),\n    intent.extras.getString(\"locationdata\"))\n\nprintln(new_parent.tostring())\n</code></pre>\n\n<p>The code above doesn't print the various fields and their values present in the class.</p>\n\n<p>The <code>ParentDetails</code> is a model I have created with some fields that are initialized.  The <code>ParentDetails</code> model:</p>\n\n<pre><code>class ParentDetails {\n    var parent_id: Int = 0\n    var parent_name: String = \"\"\n    var parent_email: String = \"\"\n    var parent_relation: String = \"\"\n    var parent_location: String=\"\"\n\n    constructor(parent_name: String, parent_email: String, parent_relation: String,parent_location:String) {\n        this.parent_name = parent_name\n        this.parent_email = parent_email\n        this.parent_relation = parent_relation\n        this.parent_location = parent_location\n    }\n\n    public fun getparentId(): Int {\n        return parent_id\n    }\n\n    fun ParentDetailsprintme() {\n        println(parent_name)\n        println(parent_email)\n        println(parent_relation)\n        println(parent_location)\n     }\n}\n</code></pre>\n\n<p>In fact, it prints null and accessing individual fields, it prints empty string(the way it was initialized). </p>\n\n<p>How do we explain this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1534155564, "post_id": 51819983, "comment_id": 90593897, "body": "<i>I want to update view from my service class using static method inside my activity</i> - please don&#39;t do this. Instead you should allow the service to inform the activity of events, and let the activity decide what to do. The service should now know anything about how the activity works. You can do this for example by binding the activity to the service and using a &#39;serviceconnection&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 1, "last_activity_date": 1534166434, "creation_date": 1534166434, "answer_id": 51823366, "question_id": 51819983, "link": "https://stackoverflow.com/questions/51819983/kotlin-update-view-using-function-created-in-companion-object/51823366#51823366", "title": "Kotlin : Update view using function created in companion object", "body": "<blockquote>\n  <p>I want to update view from my service class using static method inside my activity so when i have create method in companion object it will now allow to inherit view class inside companion object</p>\n</blockquote>\n\n<p>As you already are aware then, companion objects are static. Static methods, variables, etc, cannot access non-static variables. </p>\n\n<p>Here's an example:</p>\n\n<pre><code>class Something(var x: Int){\n    // The companion object is static\n    companion object{\n        fun someFun(){\n            x = 3;//Unresolved reference: x\n        }\n    }\n}\n</code></pre>\n\n<p>In Kotlin, x isn't found. Java does a slightly better job at explaining it:</p>\n\n<pre><code>private int x;//getter and setter\nprivate static void someFun(){\n    x = 3;//Non-static field cannot be referenced from static context\n}\n</code></pre>\n\n<p>The same applies in Kotlin, but it handles it differently. The point, however, still applies: you cannot access non-static variables from a static class, method, field, or anything else.</p>\n\n<p>To bring this back to your problem, you cannot access the non-static field <code>titleMain</code> from a static object, even if it's nested. It has to be non-static for you to access it. </p>\n\n<p>Before I go on to a possible solution, I want to explain why you shouldn't use static methods at all when it comes to activities.</p>\n\n<p>In order for you to access a non-static field in the activity, you need a static instance of the activity. Or a view for that matter. However, <strong><em>all</em></strong> of these have a Context in them. Context fields should never be static, and IntelliJ/Android Studio will warn you if you try. It can cause memory leaks, which would be the biggest problem here. It also makes instant run unusable, but that's not a problem unless you actually use it. See <a href=\"https://stackoverflow.com/q/37709918/6296561\">this Stack Overflow post</a>. </p>\n\n<p>Now, for the solution: Use callbacks. It's more complicated than using static methods, but it doesn't involve memory leaks</p>\n\n<p>You didn't include that much code, so I've written most of it from scratch. It should still give you some pointers on getting started.</p>\n\n<p>First off, you'll need to add an interface to the service, containing all the callback methods. It could be one, or it could be 100. Declare as many as you need, with or without return values and arguments. </p>\n\n<p>Here is an example Service class. There are comments explaining what everything does.</p>\n\n<pre><code>class SomeService : Service(){\n    private val binder = SomeServiceBinder()\n    private var callback: SomeServiceCallback? = null\n\n    // The rest of the service\n\n    /**\n     * In this method, you return the binder instance created earlier. It's necessary\n     * for the connection to the Activity\n     */\n    override fun onBind(intent: Intent?): IBinder {\n        // Do something here if necessary\n        return binder;\n    }\n\n    /**\n     * Method containing example use of callbacks\n     */\n    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n        // If a callback has been registered, call the callback\n        // Could be done in a separate thread, after some action, before some action,\n        // TL;DR: anywhere you'd like.\n        callback?.updateUI(product)\n\n        // The return value could of course be anything.\n        return START_STICKY\n    }\n\n    /**\n     * Register the callback, or null for removing it\n     */\n    fun registerCallback(callback: SomeServiceCallback?){\n        this.callback = callback\n    }\n\n    /**\n     * The binder. Contains a `getService` method, returning the active instance of the service.\n     */\n    inner class SomeServiceBinder : Binder() {\n        fun getService() = this@SomeService\n    }\n\n    /**\n     * Add methods to this as you need. They can have arguments, or not. They can have a return type, or not. It's up to you\n     */\n    interface SomeServiceCallback{\n        fun updateUI(product: Product);\n    }\n}\n</code></pre>\n\n<p>And finally, the activity. In addition to extending an Activity (here: <code>AppCompatActivity</code>), it also implements the callback interface. </p>\n\n<p>In addition, it implements <code>ServiceConnection</code>. The <code>ServiceConnection</code> could also be an inner class, or declared as a field. </p>\n\n<pre><code>class SomeActivity : AppCompatActivity(), SomeService.SomeServiceCallback, ServiceConnection{\n    /**\n     * Stored externally to help with shutdown\n     */\n    lateinit var someServiceIntent: Intent\n\n    override fun callbackForSomething(product: Product) {\n        println(\"Service called activity!\")\n        runOnUiThread{\n            titleMain.text = product.title;\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        /**\n         * The intent needs to be created here. if it's created outside, it might reference the context before it's\n         * been initialized, which makes it throw an NPE\n         */\n        someServiceIntent = Intent(this, SomeService::class.java)\n    }\n\n    private fun connectToService(){\n\n        startService(someServiceIntent)// This is the normal part. You need this to start the service\n        // However, it doesn't register a ServiceConnection. In addition to that, you also need\n        // to call bindService:\n        bindService(someServiceIntent, this, Context.BIND_AUTO_CREATE)\n    }\n\n    private fun disconnect(){\n        //Equivalently, on shutdown, there's an extra call\n        // First stop the service\n        stopService(someServiceIntent)\n        // Then unbind it\n        unbindService(this)\n    }\n\n\n    override fun onServiceConnected(name: ComponentName?, service: IBinder?) {\n        println(\"The service is connected\")\n        /**\n         * This uses an unsafe cast since there is just one service and one service binder. If you have multiple,\n         * use a when statement or something else to check the type\n         */\n        val binder = service as SomeService.SomeServiceBinder? ?: return\n        binder.getService().registerCallback(this)\n    }\n\n    override fun onServiceDisconnected(name: ComponentName?) {\n        TODO(\"Do something here if you want\")\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534166434, "creation_date": 1534155295, "question_id": 51819983, "link": "https://stackoverflow.com/questions/51819983/kotlin-update-view-using-function-created-in-companion-object", "title": "Kotlin : Update view using function created in companion object", "body": "<p>I want to update view from my service class using static method inside my activity so when i have create method in companion object it will now allow to inherit view class inside companion object</p>\n\n<p>Here is the code sample</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\ncompanion object {\n    private const val MY_PERMISSIONS_REQUEST_READ_EXTERNAL_STORAGE: Int = 0x01\n\n       fun updateUI(product: Product, activity: Context) {\n          /*Error Line*/\n          titleMain.text = product.title\n       }\n    }\n}\n</code></pre>\n\n<p>Service Class</p>\n\n<pre><code>override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n        MainActivity.updateUI(product,this)\n}\n</code></pre>\n\n<p>I think this is not the correct way. Is there any other way to achieve the solution?</p>\n\n<p>Thank in advance. </p>\n"}, {"tags": ["android", "canvas", "kotlin", "drawing"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1534155053, "post_id": 51819849, "comment_id": 90593603, "body": "The first and third arguments in the <code>drawLine()</code> call need to be the same; e.g., <code>canvas.drawLine(150f, 0f, 150f, height.toFloat(), paint)</code>. Those are the x-coordinates of the two points."}, {"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1534155169, "post_id": 51819849, "comment_id": 90593666, "body": "@MikeM. It works!"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "edited": false, "score": 0, "creation_date": 1534155492, "post_id": 51819967, "comment_id": 90593857, "body": "How do I change the color of that line only?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "edited": false, "score": 0, "creation_date": 1534155519, "post_id": 51819967, "comment_id": 90593868, "body": "Use a different <code>paint</code>."}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 3, "last_activity_date": 1534155681, "last_edit_date": 1534155681, "creation_date": 1534155228, "answer_id": 51819967, "question_id": 51819849, "link": "https://stackoverflow.com/questions/51819849/draw-vertical-line-along-the-entire-height-of-the-canvas/51819967#51819967", "title": "Draw vertical line along the entire height of the canvas?", "body": "<pre><code>canvas.drawLine(150f, //Start at x == 150\n        0f, // And y = 0\n        width.toFloat(),// Continue to x = width \n        height.toFloat(), //And y = height\n\n        paint) // Not relevant to the position\n</code></pre>\n\n<p>Your x values have to match for it to be vertical. X is the value that matches width. When you have an x value at 150 and one at width, it will end up like that.</p>\n\n<p>Straight lines always have matching x <strong>or</strong> y coordinates, depending on the direction. So, for this to work, you need to change <code>width.toFloat()</code> to <code>150f</code> or some other value.</p>\n\n<hr>\n\n<p>I also highly recommend you read up on coordinate systems. You can take a look at <a href=\"http://www.ntu.edu.sg/home/ehchua/programming/java/J4b_CustomGraphics.html\" rel=\"nofollow noreferrer\">this</a>. Although it covers Java code, it's still the same system on Android. </p>\n"}], "owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "accepted_answer_id": 51819967, "answer_count": 1, "score": 0, "last_activity_date": 1534155681, "creation_date": 1534154760, "question_id": 51819849, "link": "https://stackoverflow.com/questions/51819849/draw-vertical-line-along-the-entire-height-of-the-canvas", "title": "Draw vertical line along the entire height of the canvas?", "body": "<p>I have the following code:</p>\n\n<pre><code>class Canvass(context: Context) : View(context) {\n\n    override fun onDraw(canvas: Canvas) {\n\n        canvas.drawRGB(255, 255, 255)\n\n        val width = width\n        val height = height\n\n        val paint = Paint()\n\n        var offset = 50\n        paint.setARGB(255, 0, 0, 0)\n\n        paint.setStrokeWidth(2f)\n\n        for (i in 0..100) {\n            canvas.drawLine(0f, 30f + offset, width.toFloat(), 30f + offset, paint)\n            offset += 40\n\n        }\n\n        canvas.drawLine(150f, 0f, width.toFloat(), height.toFloat() , paint)\n\n    }\n}\n</code></pre>\n\n<p>It produces the following: </p>\n\n<p><a href=\"https://i.stack.imgur.com/PF0ZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PF0ZC.png\" alt=\"result 1\"></a></p>\n\n<p>but I want the <strong><em>skewed</em></strong> line in the result to be vertical. </p>\n\n<p>when I change: </p>\n\n<pre><code>canvas.drawLine(150f, 0f, width.toFloat(), height.toFloat() , paint)\n</code></pre>\n\n<p>to something like: </p>\n\n<pre><code>canvas.drawLine(150f, 0f, width.toFloat(), 16000F, paint)\n</code></pre>\n\n<p>it gets closer to vertical but still skewed: </p>\n\n<p><a href=\"https://i.stack.imgur.com/VQnP8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQnP8.png\" alt=\"result 2\"></a></p>\n"}, {"tags": ["java", "android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 3, "creation_date": 1534154698, "post_id": 51819785, "comment_id": 90593399, "body": "why would you want this? Nested scrolling on the same orientation is generally asking for problems. How is the app supposed to know which element it should scroll?"}, {"owner": {"reputation": 304, "user_id": 7425207, "user_type": "registered", "profile_image": "https://graph.facebook.com/1137695456303979/picture?type=large", "display_name": "Alexandru Sandu", "link": "https://stackoverflow.com/users/7425207/alexandru-sandu"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1534154869, "post_id": 51819785, "comment_id": 90593505, "body": "Why is it asking for problems? It should basically work, it works with ViewPager and it is the same idea. The same way it knows to scroll a vertical recycler inside a horizontal recycler i guess. I can make it work with lots of time by extending the Recycler or the LayoutManager but it is overkill. I thought before trying that i should ask maybe an easier solution exists"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 3, "creation_date": 1534155060, "post_id": 51819785, "comment_id": 90593605, "body": "<i>it knows to scroll a vertical recycler inside a horizontal recycler</i> - this is easy to distinguish, because it is not the same scrolling direction. My 2 cents is that the easier solution is to make a different design that does not require nested horizontal scrolling"}, {"owner": {"reputation": 304, "user_id": 7425207, "user_type": "registered", "profile_image": "https://graph.facebook.com/1137695456303979/picture?type=large", "display_name": "Alexandru Sandu", "link": "https://stackoverflow.com/users/7425207/alexandru-sandu"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1534155254, "post_id": 51819785, "comment_id": 90593715, "body": "The design is not mine to change. Easy or not to distunguish it should. It is just a scroll listener that should propagate to the children of the view"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534155960, "post_id": 51819785, "comment_id": 90594118, "body": "what would happen if the scroll event is propagated to the children? They all scroll? Or only the child? Only the parent? How does it know"}, {"owner": {"reputation": 304, "user_id": 7425207, "user_type": "registered", "profile_image": "https://graph.facebook.com/1137695456303979/picture?type=large", "display_name": "Alexandru Sandu", "link": "https://stackoverflow.com/users/7425207/alexandru-sandu"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534156498, "post_id": 51819785, "comment_id": 90594413, "body": "Only the child ofcourse"}, {"owner": {"reputation": 135, "user_id": 5472067, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a24a0cb6a8d4796cc122d2c64f1be303?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen Duc Quy", "link": "https://stackoverflow.com/users/5472067/nguyen-duc-quy"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1545711980, "post_id": 51819785, "comment_id": 94681167, "body": "@Tim Castelijns : thanks. I am facing the same issue becasue i missed require nested for horizontal_recyclerview"}, {"owner": {"reputation": 747, "user_id": 5440656, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tXHDvgv_f6U/AAAAAAAAAAI/AAAAAAAAAPc/MMc8cfQiEuI/photo.jpg?sz=128", "display_name": "Divakar Murugesh", "link": "https://stackoverflow.com/users/5440656/divakar-murugesh"}, "edited": false, "score": 0, "creation_date": 1580899482, "post_id": 51819785, "comment_id": 106247092, "body": "@AlexandruSandu did you find the solution for this? Now I am facing same problem. if you got the solution can you please add it as answer."}, {"owner": {"reputation": 304, "user_id": 7425207, "user_type": "registered", "profile_image": "https://graph.facebook.com/1137695456303979/picture?type=large", "display_name": "Alexandru Sandu", "link": "https://stackoverflow.com/users/7425207/alexandru-sandu"}, "edited": false, "score": 0, "creation_date": 1580899772, "post_id": 51819785, "comment_id": 106247258, "body": "I didn\u2019t actually, i took a different approach changing the ui. I couldn\u2019t find any good fix that wouldn\u2019t cause problems when there were big lists of different sizes"}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": -1, "last_activity_date": 1538692470, "creation_date": 1538692470, "answer_id": 52656067, "question_id": 51819785, "link": "https://stackoverflow.com/questions/51819785/horizontal-recyclerview-inside-a-horizontal-recyclerview/52656067#52656067", "title": "Horizontal RecyclerView inside a Horizontal RecyclerView", "body": "<p>Have a look at this site and his code on GitHub\n<a href=\"https://medium.com/@navendra/easily-adding-nested-recycler-view-in-android-a7e9f7f04047\" rel=\"nofollow noreferrer\">Nested Recyclerview</a></p>\n"}, {"tags": [], "owner": {"reputation": 2655, "user_id": 2294985, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2d36P.jpg?s=128&g=1", "display_name": "Omar HossamEldin", "link": "https://stackoverflow.com/users/2294985/omar-hossameldin"}, "is_accepted": false, "score": 0, "last_activity_date": 1538696308, "creation_date": 1538696308, "answer_id": 52656464, "question_id": 51819785, "link": "https://stackoverflow.com/questions/51819785/horizontal-recyclerview-inside-a-horizontal-recyclerview/52656464#52656464", "title": "Horizontal RecyclerView inside a Horizontal RecyclerView", "body": "<p>I had implemented before a nested <em>ScrollView</em>, What I thought that the child scroll view is always consuming touches, and the parent scroll view will never listen to them</p>\n\n<p>Here comes the role of the method\n<code>onInterceptTouchEvent</code> which control whether the view consumes the touch or just pass it to its parent.</p>\n\n<p>So the plan was to calculate the direction of the scroll and do I reached the end of scrolling of the child ScrollView or not.</p>\n\n<p>This code was written 2 years ago, so please forgive if something deprecated.</p>\n\n<pre><code>public class CustomScrollView extends ScrollView {\n\nprivate boolean bottomReached = false;\nprivate boolean topReached = true;\nprivate float startTouch = -1;\nprivate float distance = -1;\n\npublic CustomScrollView(Context context) {\n    super(context);\n}\n\npublic CustomScrollView(Context context, AttributeSet attrs) {\n    super(context, attrs);\n}\n\npublic CustomScrollView(Context context, AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n}\n\n@Override\nprotected void onOverScrolled(int scrollX, int scrollY, boolean clampedX, boolean clampedY) {\n    super.onOverScrolled(scrollX, scrollY, clampedX, clampedY);\n}\n\n@Override\npublic boolean onInterceptTouchEvent(MotionEvent ev) {\n    switch (ev.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            startTouch = ev.getY();\n            break;\n        case MotionEvent.ACTION_UP:\n            startTouch = -1;\n            break;\n        case MotionEvent.ACTION_MOVE:\n            distance = ev.getY() - startTouch;\n                if (Math.abs(distance) &lt; 10) {\n                    boolean onIntercept = super.onInterceptTouchEvent(ev);\n                    return onIntercept;\n                } else {\n                    if (!bottomReached &amp;&amp; !topReached) {\n                        return true;\n                    } else {\n                        if (distance &gt; 0) {\n                            // Scrolling Up\n                            return bottomReached;\n                        } else {\n                            // Scrolling Down\n                            return topReached;\n                        }\n                    }\n                }\n    }\n    return super.onInterceptTouchEvent(ev);\n}\n\n@Override\npublic boolean onTouchEvent(MotionEvent ev) {\n    switch (ev.getAction()) {\n        case MotionEvent.ACTION_DOWN:\n            startTouch = ev.getY();\n            break;\n        case MotionEvent.ACTION_UP:\n\n\n            startTouch = -1;\n            break;\n        case MotionEvent.ACTION_MOVE:\n            distance = ev.getY() - startTouch;\n    }\n    return super.onTouchEvent(ev);\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 304, "user_id": 7425207, "user_type": "registered", "profile_image": "https://graph.facebook.com/1137695456303979/picture?type=large", "display_name": "Alexandru Sandu", "link": "https://stackoverflow.com/users/7425207/alexandru-sandu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1507, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1538696308, "creation_date": 1534154538, "question_id": 51819785, "link": "https://stackoverflow.com/questions/51819785/horizontal-recyclerview-inside-a-horizontal-recyclerview", "title": "Horizontal RecyclerView inside a Horizontal RecyclerView", "body": "<p>I am trying to use a RecyclerView with a Horizontal LinearLayoutManager inside another RecyclerView with a Horizontal LinearLayoutManager. The whole hierarchy is like this: RecyclerView, the child of the Recycler is a ScrollView which contains a TextView and another RecyclerView. For better understanding, i want the first recycler to work like, but not exactly the same, a ViewPager (i don't want to use a ViewPager). The problem is that the when i try to scroll horizontally on the child Recycler the motion event is caught by the parent Recycler resulting in scrolling to the next page without being able to scroll through the child Recycler. </p>\n\n<p>MainActivityLayout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/RVpage\"\n        android:descendantFocusability=\"blocksDescendants\"\n        android:focusableInTouchMode=\"false\"\n        android:focusable=\"false\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>MainActivity.java: </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private RecyclerView recyclerView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        setRecycler();\n    }\n\n    private void setRecycler() {\n        recyclerView=(RecyclerView) findViewById(R.id.RVpage);\n        SnapHelper snapHelper = new LinearSnapHelper();\n        snapHelper.attachToRecyclerView(recyclerView);\n        BigRecyclerAdapter bigRecyclerAdapter=new BigRecyclerAdapter(this);\n        recyclerView.setAdapter(bigRecyclerAdapter);\n\n        //recyclerView.setNestedScrollingEnabled(true);\n\n\n        recyclerView.setLayoutManager(new LinearLayoutManager(\n            this, LinearLayoutManager.HORIZONTAL, false)\n        );\n        recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @Override\n            public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n                //Toast.makeText(MainActivity.this, \"CHANGED BIG\", Toast.LENGTH_SHORT).show();\n                super.onScrollStateChanged(recyclerView, newState);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>PageRecycler layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;ScrollView             xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"\n        android:text=\"nskjdnaskdn \\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\\n sudbadbak\nv\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\n\\n sudbadbak\nv\nv\n\\n sudbadbak\n\\n sudbadbak\nv\nv\n\\n sudbadbak\nvv\n\\n sudbadbak\nv\nv\n\\n sudbadbak\"\n        android:textColor=\"@android:color/black\"\n        android:textSize=\"50sp\"/&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/photo\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:clickable=\"true\"\n        android:focusableInTouchMode=\"true\"\n        android:focusedByDefault=\"true\"\n        android:descendantFocusability=\"afterDescendents\"\n        android:focusable=\"true\"\n        android:padding=\"20dp\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>In the relativeLayout i left all the things i have tried, from clickable=true to descendentFocusability.</p>\n\n<p>PageRecycler Adapter:</p>\n\n<pre><code>class BigRecyclerAdapter(private val context: MainActivity) :     RecyclerView.Adapter&lt;BigRecyclerAdapter.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        val v = LayoutInflater.from(parent?.context)\n            .inflate(R.layout.raw, parent, false)\n\n        return ViewHolder(v)\n    }\n\n/* override fun onViewAttachedToWindow(holder: ViewHolder?) {\n    var parent = holder?.recycler?.parent\n\n\n    val DEBUG_TAG_SCROLL = \"DEBUG_TAG_SCROLL\"\n    Log.d(DEBUG_TAG_SCROLL, \"NESTED_SCROLL_VALUE: ${holder?.recycler?.hasNestedScrollingParent()}\")\n\n\n\n    if (holder?.recycler?.parent is RecyclerView) {\n        Log.d(DEBUG_TAG_SCROLL, \"Good parent\")\n    }\n    super.onViewAttachedToWindow(holder)\n}*/\n\n    override fun getItemCount(): Int {\n        return 5\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n\n        holder?.bind()\n//        val DEBUG_TAG_SCROLL = \"DEBUG_TAG_SCROLL\"\n////        Log.d(DEBUG_TAG_SCROLL, \"NESTED_SCROLL_VALUE: ${holder?.recycler?.hasNestedScrollingParent()}\")\n//\n//        if(holder?.recycler?.parent is RecyclerView){\n//            Log.d(DEBUG_TAG_SCROLL, \"Good parent\")\n//        }\n    }\n\n\n    inner class ViewHolder(v: View) : RecyclerView.ViewHolder(v) {\n        var recycler: RecyclerView\n\n        init {\n            recycler = v.findViewById(R.id.photo) as RecyclerView\n        }\n\n        fun bind() {\n            recycler.addOnScrollListener(object : RecyclerView.OnScrollListener() {\n                override fun onScrollStateChanged(recyclerView: RecyclerView?, newState: Int) {\n                    Toast.makeText(context, \"CHANGED SMALL\", Toast.LENGTH_SHORT).show()\n                    super.onScrollStateChanged(recyclerView, newState)\n                }\n\n//            override fun onScrolled(recyclerView: RecyclerView?, dx: Int, dy: Int) {\n//                super.onScrolled(recyclerView, dx, dy)\n//            }\n            })\n\n            val smallRecyclerAdapter = SmallRecyclerAdapter(context)\n            recycler.adapter = smallRecyclerAdapter\n            recycler.layoutManager = LinearLayoutManager(\n                    context, LinearLayoutManager.HORIZONTAL, false\n            )\n            recycler.scrollToPosition(5)\n        }\n    }\n}\n</code></pre>\n\n<p>PhotoRecycler raw (child recyclerView):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"&gt;\n    &lt;ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/photoView\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>PhotoRecycler adapter:</p>\n\n<pre><code>class SmallRecyclerAdapter(private val context: MainActivity): RecyclerView.Adapter&lt;SmallRecyclerAdapter.ViewHolder&gt;(){\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        val v = LayoutInflater.from(parent?.context)\n            .inflate(R.layout.raw_small, parent, false)\n        // set the view's size, margins, paddings and layout parameters\n\n        return ViewHolder(v)\n    }\n\n    override fun getItemCount(): Int {\n        return 10\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        //TODO here\n\n        var drawableName=\"p\"+((position%4)+1)\n        val drawable =  context.getResources().getDrawable(context.getResources()\n            .getIdentifier(drawableName, \"drawable\", context.getPackageName()))\n        holder?.imageView?.setImageDrawable(drawable)\n    }\n\n\n    inner class ViewHolder(v: View) : RecyclerView.ViewHolder(v) {\n        var imageView: ImageView\n\n        init {\n            imageView=v.findViewById(R.id.photoView) as ImageView\n        }\n    }\n}\n</code></pre>\n\n<p>If you need anymore details let me know and i will update.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1534153740, "post_id": 51819520, "comment_id": 90592807, "body": "Can you explain what \u05f3case of string\u2019 means"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 2, "creation_date": 1534153792, "post_id": 51819520, "comment_id": 90592841, "body": "Why don&#39;t you test it yourself ? you already have the code written ."}, {"owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "edited": false, "score": 0, "creation_date": 1534153833, "post_id": 51819520, "comment_id": 90592868, "body": "It means if String is &quot;one&quot; than return 10 for it. I use it in a comparator."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1534153938, "post_id": 51819520, "comment_id": 90592931, "body": "String comparison works with the <code>equals</code> method. Two strings are equal if they have all the characters <i>the same</i>, not equivalent by case conversion."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1534595086, "post_id": 51819520, "comment_id": 90767370, "body": "@Tarun pls choose an answer :)"}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1534159722, "last_edit_date": 1534159722, "creation_date": 1534154054, "answer_id": 51819658, "question_id": 51819520, "link": "https://stackoverflow.com/questions/51819520/does-when-comparison-ignores-case-of-string/51819658#51819658", "title": "Does when comparison ignores case of String?", "body": "<p><code>when</code> does a <code>equals</code>-comparison, so it is case-sensitive indeed (see also <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/equals.html\" rel=\"nofollow noreferrer\"><code>String.equals</code></a>).</p>\n\n<p>Ignoring case sensitivity can be accomplished in several ways, one of which is already shown by Willi Mentzel... Some other (depending on what you want to accomplish):</p>\n\n<pre><code>fun getPriority(groupValue : String?) = when {\n  groupValue == null -&gt; /* handle the null first, so you can concentrate null-safe on the rest later */ 4\n  groupValue.equals(\"one\", ignoreCase = true) -&gt; 10 /* ignoreCase = false is the default */\n  /* ... */\n  else -&gt; 4\n}\n</code></pre>\n\n<p>If it's that simple Willis approach will probably suffice you already.</p>\n"}, {"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1534154489, "post_id": 51819694, "comment_id": 90593267, "body": "That requires the checks to be lower-cased though. A true case-insensitive check would be done with <code>equals(other: String, caseInsensitive: Boolean)</code>, but it&#39;s not directly accessible without making a method call"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1534155264, "post_id": 51819694, "comment_id": 90593722, "body": "@Zoe since we are dealing with string constants, that&#39;s no problem at all."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534193106, "post_id": 51819694, "comment_id": 90614936, "body": "@Zoe I added a more dynamic alternative. Hope you like it :)"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1534588969, "last_edit_date": 1534588969, "creation_date": 1534154202, "answer_id": 51819694, "question_id": 51819520, "link": "https://stackoverflow.com/questions/51819520/does-when-comparison-ignores-case-of-string/51819694#51819694", "title": "Does when comparison ignores case of String?", "body": "<p>Yes, it is case sensitive, because <code>String.equals</code> is invoked as Roland already said.</p>\n\n<p><strong>To make it case insensitive:</strong></p>\n\n<pre><code>fun getPriority(groupValue: String?) = when (groupValue?.toLowerCase()) {\n    \"one\" -&gt; 10\n    \"two\" -&gt; 9\n    \"three\" -&gt; 8\n    else -&gt; 4\n}\n</code></pre>\n\n<p>Tip: since <code>when</code> is an expression, you can use the expression body notation for your function.</p>\n\n<p><strong>Alternative:</strong></p>\n\n<p>Use a <code>Map</code> instead of <code>when</code>. This becomes especially handy if your code should be dynamic.</p>\n\n<pre><code>val priorityMapping = mapOf(\n    \"one\" to 10,\n    \"Two\" to 9,\n    \"THREE\" to 8\n)\n\nfun getPriority(groupValue: String?): Int { \n\n    groupValue?.let {\n        priorityMapping.forEach { (key, value) -&gt; \n            if(key.equals(it, true)) {\n                return value\n            }\n        }   \n    }\n\n    return 4 // default value\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18780, "user_id": 5966775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d03a5259f8169269385188f7c5fb8ed?s=128&d=identicon&r=PG", "display_name": "DVarga", "link": "https://stackoverflow.com/users/5966775/dvarga"}, "is_accepted": false, "score": 0, "last_activity_date": 1534158555, "last_edit_date": 1534158555, "creation_date": 1534156630, "answer_id": 51820369, "question_id": 51819520, "link": "https://stackoverflow.com/questions/51819520/does-when-comparison-ignores-case-of-string/51820369#51820369", "title": "Does when comparison ignores case of String?", "body": "<p>As others already stated, <code>when</code> uses <code>equals</code> to form a boolean expression if a scalar (or a list of scalars) is placed in front of the <code>-&gt;</code> sign. Therefore (snippet from official <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">docs of when</a> - block comments are mine):</p>\n\n<pre><code>when (x) {\n    1 -&gt; print(\"x == 1\") /* same as x.equals(1) or x == 1 */\n    2 -&gt; print(\"x == 2\") /* same as x.equals(2) or x == 2 */\n    else -&gt; { // Note the block\n        print(\"x is neither 1 nor 2\")\n    }\n}\n</code></pre>\n\n<p>According to the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/equals.html\" rel=\"nofollow noreferrer\">doc of <code>text.equals</code></a>:</p>\n\n<blockquote>\n  <p><strong>Parameters</strong></p>\n  \n  <p>ignoreCase - true to ignore character case when comparing characters. <strong>By default\n  fals</strong>e.</p>\n  \n  <p>Two characters are considered the same ignoring case if at least one\n  of the following is true:</p>\n  \n  <ul>\n  <li>The two characters are the same (as compared by the == operator)</li>\n  <li>Applying the method toUpperCase to each character produces the same result</li>\n  <li>Applying the method toLowerCase to each character produces the same result</li>\n  </ul>\n</blockquote>\n\n<p>So in you case <code>groupValue.equals(\"one\")</code> is the same as <code>groupValue.equals(\"one\", ignoreCase = false)</code> therefore the answer is yes, when you use <code>when</code> on a <code>String</code> <strong>by default the comparison will consider casing</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 1, "last_activity_date": 1534164316, "creation_date": 1534164316, "answer_id": 51822704, "question_id": 51819520, "link": "https://stackoverflow.com/questions/51819520/does-when-comparison-ignores-case-of-string/51822704#51822704", "title": "Does when comparison ignores case of String?", "body": "<p>As other answers has stated, the <code>when</code>-expression uses the <code>equals</code> method for comparison. The equals method on <code>String</code> is case sensitive by default.</p>\n\n<p>If you want to compare objects on something else than its <code>equals</code> method, you could create a small wrapper class with it's own implementation of <code>equals</code>. This might be a little overkill in your particular case, but it might be useful in other cases.</p>\n\n<p>The wrapper class:</p>\n\n<pre><code>// In Kotlin 1.3, this class could probably be inlined.\nclass CaseInsensitiveString(val s: String) {\n    fun equals(other: Any) = \n        (other as? CaseInsensitiveString)?.s?.equals(s, ignoreCase = true) ?: false\n\n    // Overriding hashCode() just so it's consistent with the equals method.\n    override fun hashCode() = s.toLowerCase().hashCode()\n}\n</code></pre>\n\n<p>A convenient extension property to wrap a <code>String</code>:</p>\n\n<pre><code>val String.caseInsensitive\n    get() = CaseInsensitiveString(this)\n</code></pre>\n\n<p>Now you can do this:</p>\n\n<pre><code>fun getPriority(groupValue: String?): Int {\n    when (groupValue?.caseInsensitive) {\n        \"one\".caseInsensitive -&gt; return 10\n        \"Two\".caseInsensitive -&gt; return 9\n        \"THREE\".caseInsensitive -&gt; return 8\n        else -&gt; return 4\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5882, "user_id": 4598169, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42f0c50fc77c68c1b4bc96740d701fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun", "link": "https://stackoverflow.com/users/4598169/tarun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 51819658, "answer_count": 4, "score": 0, "last_activity_date": 1534588969, "creation_date": 1534153598, "question_id": 51819520, "link": "https://stackoverflow.com/questions/51819520/does-when-comparison-ignores-case-of-string", "title": "Does when comparison ignores case of String?", "body": "<p>I have a method which takes String as input and returns an Integer corresponding to it as shown below : </p>\n\n<pre><code>    fun getPriority(groupValue: String?): Int {\n        when (groupValue) {\n            \"one\" -&gt; return 10\n            \"Two\" -&gt; return 9\n            \"THREE\" -&gt; return 8\n            else -&gt; return 4\n        }\n    }\n</code></pre>\n\n<p>My Question is String comparison in this case takes case of string into consideration or ignores case?</p>\n"}, {"tags": ["android", "kotlin", "chatkit"], "owner": {"reputation": 2791, "user_id": 1410561, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dae9e2962f1b6daa4e69d2266531ba00?s=128&d=identicon&r=PG", "display_name": "Bharath", "link": "https://stackoverflow.com/users/1410561/bharath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534153553, "creation_date": 1534153109, "last_edit_date": 1534153553, "question_id": 51819378, "link": "https://stackoverflow.com/questions/51819378/how-to-create-an-extra-message-layout-in-chatkit-library-for-android", "title": "How to create an extra message layout in ChatKit library for Android?", "body": "<p>I am trying to implement a <code>Interactive Console</code> for one of the Android application. I am using <a href=\"https://github.com/stfalcon-studio/ChatKit\" rel=\"nofollow noreferrer\">ChatKit</a> for this. Apart from the existing message layouts, I want to use a custom message type,layout &amp; view holder.</p>\n\n<p>This is what I did.</p>\n\n<pre><code>    val CONTENT_TYPE_CARD_LIST= \"5\".toByte()\n    val holders = MessageHolders().registerContentType(CONTENT_TYPE_CARD_LIST,\n            CardListViewHolder::class.java,R.layout.card_list_layout,\n            CardListViewHolder::class.java,R.layout.card_list_layout,\n            object : MessageHolders.ContentChecker&lt;Message&gt;{\n                override fun hasContentFor(message: Message?, type: Byte): Boolean {\n\n                    if (type.toString().equals(\"5\"))\n                        return true\n                    return false\n\n                }\n\n            })\n</code></pre>\n\n<p>Here is the <code>CardListViewHolder.kt</code> file</p>\n\n<pre><code>class CardListViewHolder(itemView: View?) : MessageHolders.BaseMessageViewHolder&lt;Message&gt;(itemView) {\n\n    var cardsListView : RecyclerView\n\n    init {\n\n        cardsListView = itemView?.findViewById(R.id.cardList)!!\n\n\n    }\n\n\n    override fun onBind(data: Message?) {\n\n\n        print(\"Checking\")\n\n\n\n    }\n\n    class CardListAdapter : RecyclerView.Adapter&lt;CardItemViewHolder&gt;() {\n\n        var listItems : Array&lt;CardItem&gt; = emptyArray()\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CardItemViewHolder {\n\n            return CardItemViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.card_item,parent,false))\n        }\n\n        override fun getItemCount(): Int {\n\n            return listItems.size\n        }\n\n        override fun onBindViewHolder(holder: CardItemViewHolder, position: Int) {\n\n\n            holder.cardTitle?.text = listItems[position].cardTitle\n            holder.cardSummary?.text = listItems[position].cardSummary\n            Picasso.get().load(Uri.parse(listItems[position].cardImageUrl)).into(holder.cardIcon)\n\n        }\n\n    }\n\n    class CardItemViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n\n        var cardTitle : TextView ?= null\n        var cardSummary : TextView ?= null\n        var cardIcon : ImageView ?= null\n\n        init {\n\n            cardTitle = itemView?.findViewById(R.id.cardTitle)\n            cardSummary = itemView?.findViewById(R.id.cardSummary)\n            cardIcon = itemView?.findViewById(R.id.cardIcon)\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>But, now this is not loading the existing text <code>MessageHolders/Layouts</code>. I want to use the existing message cell types along with this extra Carousal kind of message layout. </p>\n\n<p>Did I do something wrong here ? Why other existing content types not working ?</p>\n"}, {"tags": ["android", "kotlin", "android-volley"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 4, "creation_date": 1534152524, "post_id": 51819176, "comment_id": 90592102, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17049473/how-to-set-custom-header-in-volley-request\">How to set custom header in Volley Request</a>"}, {"owner": {"reputation": 251, "user_id": 10218450, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y8fRdHktJK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pbde4iIkChoEi39NDgpMQ80hVPcw/mo/photo.jpg?sz=128", "display_name": "Nguyen Thuan", "link": "https://stackoverflow.com/users/10218450/nguyen-thuan"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1534152682, "post_id": 51819176, "comment_id": 90592185, "body": "I need a kotlin code"}, {"owner": {"reputation": 1705, "user_id": 5260051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f64b07e45e4cc63f16fb54054f737f?s=128&d=identicon&r=PG&f=1", "display_name": "nitinkumarp", "link": "https://stackoverflow.com/users/5260051/nitinkumarp"}, "edited": false, "score": 0, "creation_date": 1534152993, "post_id": 51819176, "comment_id": 90592366, "body": "Just copy/paste  the Java code, you would get your Kotlin code."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 5054902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a644d1dd183d9dca850592be66152210?s=128&d=identicon&r=PG&f=1", "display_name": "Vaibhav Kumar Gautam", "link": "https://stackoverflow.com/users/5054902/vaibhav-kumar-gautam"}, "edited": false, "score": 2, "creation_date": 1588001816, "post_id": 53141982, "comment_id": 108724885, "body": "Up vote for  &quot;It is important to use the object keyword &quot;"}], "tags": [], "owner": {"reputation": 534, "user_id": 4080923, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7h1Tn7onNOA/AAAAAAAAAAI/AAAAAAAAEHI/mlLh9nKFUG4/photo.jpg?sz=128", "display_name": "Daniel Diehl", "link": "https://stackoverflow.com/users/4080923/daniel-diehl"}, "is_accepted": false, "score": 21, "last_activity_date": 1558761817, "last_edit_date": 1558761817, "creation_date": 1541342631, "answer_id": 53141982, "question_id": 51819176, "link": "https://stackoverflow.com/questions/51819176/how-to-add-custom-header-in-volley-request-with-kotlin/53141982#53141982", "title": "How to add custom header in volley request with kotlin", "body": "<p>I was able to do it in Kotlin using: </p>\n\n<pre><code>    val linkTrang = \"YOUR URL\"\n\n    val queue = Volley.newRequestQueue(this)\n\n    val stringRequest = object: StringRequest(Request.Method.GET, linkTrang,\n        Response.Listener&lt;String&gt; { response -&gt;\n            Log.d(\"A\", \"Response is: \" + response.substring(0,500))\n        },\n        Response.ErrorListener {  }) \n    {\n        override fun getHeaders(): MutableMap&lt;String, String&gt; {\n            val headers = HashMap&lt;String, String&gt;()\n            headers[\"Authorization\"] = \"Basic &lt;&lt;YOUR BASE64 USER:PASS&gt;&gt;\"\n            return headers\n        }\n    }\n\n    queue.add(stringRequest)\n</code></pre>\n\n<p>It is important to use the <strong><code>object</code></strong> keyword before the construction of the request in order to be able to override the <code>getHeaders()</code> method.</p>\n"}], "owner": {"reputation": 251, "user_id": 10218450, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-y8fRdHktJK4/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pbde4iIkChoEi39NDgpMQ80hVPcw/mo/photo.jpg?sz=128", "display_name": "Nguyen Thuan", "link": "https://stackoverflow.com/users/10218450/nguyen-thuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6536, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1558761817, "creation_date": 1534152436, "last_edit_date": 1534152820, "question_id": 51819176, "link": "https://stackoverflow.com/questions/51819176/how-to-add-custom-header-in-volley-request-with-kotlin", "title": "How to add custom header in volley request with kotlin", "body": "<p>I have a code Volley Code</p>\n\n<pre><code> val queue = Volley.newRequestQueue(context)\n val stringRequest = StringRequest(Request.Method.GET, linkTrang,\n            Response.Listener&lt;String&gt; { response -&gt;\n                mTextView.text = \"Response is: \" + response.substring(0,500));\n            },\n            Response.ErrorListener {  })\n    {\n\n    }\n    queue.add(stringRequest)\n</code></pre>\n\n<p>How do I set a header called Authorization in this??</p>\n"}, {"tags": ["android", "amazon-web-services", "post", "amazon-s3", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 228, "user_id": 9282303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b467cc4590186517374e21dcc32adffe?s=128&d=identicon&r=PG&f=1", "display_name": "Bommas", "link": "https://stackoverflow.com/users/9282303/bommas"}, "edited": false, "score": 0, "creation_date": 1535040425, "post_id": 51821991, "comment_id": 90929605, "body": "Another way would be to use the getObjectMetadata method to get the meta data of the uploaded object. That will give you the same info i.e., that the object was successfully loaded, without having to fully download the object."}], "tags": [], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "is_accepted": true, "score": 0, "last_activity_date": 1534161957, "creation_date": 1534161957, "answer_id": 51821991, "question_id": 51818783, "link": "https://stackoverflow.com/questions/51818783/putobject-in-aws-s3-from-my-android-project-in-kotlin/51821991#51821991", "title": "Putobject in AWS S3 from my android project in kotlin", "body": "<p>Checking if the posting the object has been successful can be done by printing the <code>objectContents</code> after <code>getObject</code>. Sample code snippet:</p>\n\n<pre><code>val background= object :Thread() {\n        override fun run() {\n            try {\n                try {\n                    AWSMobileClient.getInstance().initialize(baseContext)\n                    credentials = BasicAWSCredentials(AWSutils().KEY,AWSutils().SECRET)\n                    s3Client = AmazonS3Client(credentials)\n                    val response = s3Client.getObject(AWSutils().bucket_name,\"jsa3/NewParentData\")\n                    println(\"Checking the respose\" + response.objectContent.toString())\n                    Log.i(response.objectContent.toString(),\"checking if response successful\")\n                    response.close()\n                } catch(e:AmazonServiceException) {\n                    // The call was transmitted successfully, but Amazon S3 couldn't process\n                    // it, so it returned an error response.\n                    e.printStackTrace();\n                }\n                catch(e:AmazonClientException) {\n                    // Amazon S3 couldn't be contacted for a response, or the client\n                    // couldn't parse the response from Amazon S3.\n                    e.printStackTrace();\n                }\n            }catch (e:Exception){\n                e.printStackTrace()\n            }\n        }\n    }\n    background.start()\n</code></pre>\n\n<p>This should help. </p>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 51821991, "answer_count": 1, "score": 0, "last_activity_date": 1534161957, "creation_date": 1534151124, "question_id": 51818783, "link": "https://stackoverflow.com/questions/51818783/putobject-in-aws-s3-from-my-android-project-in-kotlin", "title": "Putobject in AWS S3 from my android project in kotlin", "body": "<p>I am amateur in both android studio and kotlin. However, I am designing an where I have post the new user data to AWS S3 for storage. I have done the same using <code>Putobject</code> but I am not able to know its been successful. Moreover, I want to know if I am doing it right. The code snippets are shown below.</p>\n\n<pre><code>val background= object :Thread() {\n        override fun run() {\n            try {\n                try {\n                    AWSMobileClient.getInstance().initialize(baseContext)\n                    credentials = BasicAWSCredentials(AWSutils().KEY,AWSutils().SECRET)\n                    s3Client = AmazonS3Client(credentials)\n                    s3Client.putObject(AWSutils().bucket_name,AWSutils().KEY,new_parent.toString())\n                } catch(e:AmazonServiceException) {\n                    // The call was transmitted successfully, but Amazon S3 couldn't process\n                    // it, so it returned an error response.\n                    e.printStackTrace();\n                }\n                catch(e:AmazonClientException) {\n                    // Amazon S3 couldn't be contacted for a response, or the client\n                    // couldn't parse the response from Amazon S3.\n                    e.printStackTrace();\n                }\n            }catch (e:Exception){\n                e.printStackTrace()\n            }\n        }\n    }\n    background.start()\n</code></pre>\n\n<p>In the above scenario I'm trying to post my object new_parent. Since the syntax takes a string in the third argument, I've casted it to string.</p>\n\n<p>Another clarification is that I have to run this a different thread because I get networkingonMainthread exception. Therefore, I have done the way you see the code above.</p>\n\n<p>How do I know that the posting has been successful?</p>\n\n<p>Any corrections and help is appreciated. </p>\n"}, {"tags": ["java", "android", "kotlin"], "owner": {"reputation": 2384, "user_id": 452486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/a8k4V.jpg?s=128&g=1", "display_name": "Arst", "link": "https://stackoverflow.com/users/452486/arst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1534240684, "creation_date": 1534150953, "last_edit_date": 1534240684, "question_id": 51818725, "link": "https://stackoverflow.com/questions/51818725/cannot-get-mediastyle-notifications-media-buttons-working", "title": "Cannot get MediaStyle notification&#39;s media buttons working", "body": "<p>I have a <code>PlaybackService</code> that manages music playback. When the app plays the music, it shows the notification. I have got the MediaStyle notification working, I can see the album artwork and three buttons: pause, stop, next. But they don't trigger the <code>MediaSessionCompat.Callback</code>'s <code>onStop</code> <code>onPause</code> <code>onSkipToNext</code>. I have assigned the session token to the notification, also set <code>mediaSession!!.isActive = true</code>. </p>\n\n<p>Also, although I extend MediaBrowserServiceCompat but I don't need the browsing function atm. I just want to try if I do that will this fixes the issue, but turns out it stll does not work. I have read the document for many times and tried different things, but still no luck.. Please help me out!!</p>\n\n<pre><code>class PlaybackService : MediaBrowserServiceCompat() {\n\n    private var mediaSession: MediaSessionCompat? = null\n\n    private val stateBuilder: PlaybackStateCompat.Builder by lazy {\n        PlaybackStateCompat.Builder().setActions(\n            PlaybackStateCompat.ACTION_PLAY\n                or PlaybackStateCompat.ACTION_PLAY_PAUSE\n                or PlaybackStateCompat.ACTION_STOP\n                or PlaybackStateCompat.ACTION_SKIP_TO_NEXT\n        )\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        mediaSession = MediaSessionCompat(this, \"debug log\").apply {\n            setFlags(MediaSessionCompat.FLAG_HANDLES_MEDIA_BUTTONS or MediaSessionCompat.FLAG_HANDLES_TRANSPORT_CONTROLS)\n            setPlaybackState(stateBuilder.build())\n            setCallback(object : MediaSessionCompat.Callback() {\n\n                override fun onStop() {\n                    stop()\n                }\n\n                override fun onPause() {\n                    pause()\n                }\n\n                override fun onSkipToNext() {\n                    playNext()\n                }\n            })\n            setMediaButtonReceiver(MediaButtonReceiver.buildMediaButtonPendingIntent(this@PlaybackService, PlaybackStateCompat.ACTION_STOP))\n\n        }\n\n        sessionToken = mediaSession!!.sessionToken\n\n    }\n\n    override fun onGetRoot(clientPackageName: String, clientUid: Int, rootHints: Bundle?): BrowserRoot? {\n\n    }\n\n    override fun onLoadChildren(parentId: String, result: Result&lt;MutableList&lt;MediaBrowserCompat.MediaItem&gt;&gt;) {\n\n    }\n\n    private fun startForeground() {\n        mediaSession!!.isActive = true\n\n        createNotificationChannel()\n\n        var artist = PlayingAudioInfo.audio!!.artist\n\n        if (artist.isNullOrBlank())\n            artist = \"unknown artist\"\n        val builder = NotificationCompat.Builder(this, NOTI_CHANNEL_ID).apply {\n\n           setContentIntent(mediaSession!!.controller.sessionActivity)\n\n            // Stop the service when the notification is swiped away\n            setDeleteIntent(MediaButtonReceiver.buildMediaButtonPendingIntent(this@PlaybackService, PlaybackStateCompat.ACTION_STOP))\n\n            setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n\n            if (mNotification == null) //first time show it on status bar\n                setTicker(title)\n\n            getNextPlayerAudioImg()?.let {\n                setLargeIcon(it)\n            }\n\n            setContentTitle(artist!! + title!!)\n\n            setSubText(PlayingAudioInfo.audio!!.album)\n\n            val album = PlayingAudioInfo.audio!!.album.takeIf { true }\n            if (!album.isNullOrBlank())\n                setContentText(album)\n\n\n            setSmallIcon(android.R.drawable.ic_media_play)\n\n            // Add media control buttons that invoke intents in your media service\n            addAction(R.drawable.ic_stop, \"Stop\", MediaButtonReceiver.buildMediaButtonPendingIntent(this@PlaybackService, PlaybackStateCompat.ACTION_STOP))\n\n            addAction(R.drawable.ic_stop, \"Stop\",\n                MediaButtonReceiver.buildMediaButtonPendingIntent(this@PlaybackService, PlaybackStateCompat.ACTION_STOP))\n            addAction(R.drawable.ic_pause, \"Pause\",\n                MediaButtonReceiver.buildMediaButtonPendingIntent(this@PlaybackService, PlaybackStateCompat.ACTION_PLAY_PAUSE))\n            addAction(R.drawable.ic_skip_next, \"Next\",\n                MediaButtonReceiver.buildMediaButtonPendingIntent(this@PlaybackService, PlaybackStateCompat.ACTION_SKIP_TO_NEXT))\n\n            setStyle(\n                android.support.v4.media.app.NotificationCompat.MediaStyle()\n                    .setShowActionsInCompactView(0, 1, 2)\n                    .setMediaSession(mediaSession!!.sessionToken)\n                    // Add a cancel button\n                    .setShowCancelButton(true)\n                    .setCancelButtonIntent(\n                        MediaButtonReceiver.buildMediaButtonPendingIntent(\n                            this@PlaybackService,\n                            PlaybackStateCompat.ACTION_STOP\n                        )\n                    )\n            )\n\n        }\n\n        mNotification = builder.build()\n\n        startForeground(1, mNotification)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "realm"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534151664, "post_id": 51818541, "comment_id": 90591586, "body": "why does it matter where it ends up?"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534152349, "post_id": 51818541, "comment_id": 90591982, "body": "@TimCastelijns Updated the post with exact situation."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1534152424, "post_id": 51818541, "comment_id": 90592040, "body": "does the table not have a timestamp or other value from which you can derive the desired order, rather than depending on the order of the list itself?"}, {"owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534156219, "post_id": 51818541, "comment_id": 90594255, "body": "It does not. I was just wondering if there&#39;s such a possibility to make sure where to insert data, but it looks like the easiest way and possibly the best one is to add a new field in API."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1534165738, "post_id": 51818541, "comment_id": 90600300, "body": "There is no such thing as &quot;order in table&quot; in Realm, deletion moves the last item in place of the deleted item. You should have a timestamp and sort based on that."}], "owner": {"reputation": 1390, "user_id": 8358447, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/42517ecf0b59e26c5e2b4cd1f6a7e0f0?s=128&d=identicon&r=PG&f=1", "display_name": "MaartinAndroid", "link": "https://stackoverflow.com/users/8358447/maartinandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534152333, "creation_date": 1534150405, "last_edit_date": 1534152333, "question_id": 51818541, "link": "https://stackoverflow.com/questions/51818541/realm-insert-object-at-the-beginning-of-table", "title": "Realm - insert object at the beginning of table", "body": "<p>I insert/update my Realm database like this:</p>\n\n<pre><code>Realm.getDefaultInstance().use {\n    realmInstance -&gt; realmInstance.executeTransaction {\n        realm -&gt; realm.insertOrUpdate(data)\n    }\n}\n</code></pre>\n\n<p>But this puts newly added data at the end of the table content. How can I put the data at the beginning? </p>\n\n<hr>\n\n<p>Respone from API:</p>\n\n<ol>\n<li>Latest item</li>\n<li>Other items</li>\n</ol>\n\n<p>Scenerio A: This is the first time I receive items from API. I insert them in database in the same exact order.</p>\n\n<p>After a while, I've to send the latest item from my local storage. Usually this would be the <code>last</code> item in local database, but as the list is in reverse order from API, I've to send the first item (you can see order of list). Well. After some while I get a new data from API. We insert in database. From this moment, the latest item will be always the last one in database. I could avoid this mess if I just always knew, that the latest item would be the very first item. It would work for both cases.</p>\n"}, {"tags": ["android", "kotlin", "android-sqlite", "android-room", "android-jetpack"], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 3263231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd323fccb550d59e75839a5a76836c49?s=128&d=identicon&r=PG&f=1", "display_name": "styp", "link": "https://stackoverflow.com/users/3263231/styp"}, "is_accepted": false, "score": 2, "last_activity_date": 1544741669, "creation_date": 1544741669, "answer_id": 53771230, "question_id": 51818037, "link": "https://stackoverflow.com/questions/51818037/room-renaming-table-doesnt-update-foreign-key-table-reference/53771230#53771230", "title": "Room: Renaming Table doesn&#39;t update Foreign Key Table Reference", "body": "<p>In SQLite There is only a limited support for foreign keys [1]. If you really want to rename the table you have to create a new table with updated foreign keys and copy the content of the old table. (Adjusted from [2])</p>\n\n<pre><code>object Migration1to2 : Migration(1, 2) {\n\n    override fun migrate(database: SupportSQLiteDatabase) {\n        database.execSQL(\"PRAGMA foreign_keys = OFF;\")\n        database.beginTransaction()\n        database.execSQL(\"ALTER TABLE photos RENAME TO media; \")\n        database.execSQL(\"ALTER TABLE tags RENAME TO tagsOld; \")\n        // database.execSQL(\"DROP INDEX `indexName`\") // optional\n        database.execSQL(\"CREATE TABLE `tags` ( ... ); \") // you can copy that from scheme 2.json\n        // database.execSQL(\"CREATE INDEX `indexName` ON `tags` ( ... )\") // optional - you can copy that from scheme 2.json\n        database.execSQL(\"INSERT INTO tags SELECT * FROM tagsOld; \")\n        database.execSQL(\"DROP TABLE tagsOld; \")\n        database.setTransactionSuccessful()\n        database.endTransaction()\n        database.execSQL(\"PRAGMA foreign_keys = ON;\")\n    }\n}\n</code></pre>\n\n<p>[1] <a href=\"https://www.sqlite.org/lang_altertable.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/lang_altertable.html</a></p>\n\n<p>[2] <a href=\"https://www.techonthenet.com/sqlite/foreign_keys/drop.php\" rel=\"nofollow noreferrer\">https://www.techonthenet.com/sqlite/foreign_keys/drop.php</a></p>\n"}], "owner": {"reputation": 633, "user_id": 1733576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OKLj1.jpg?s=128&g=1", "display_name": "Chris Rohit Brendan", "link": "https://stackoverflow.com/users/1733576/chris-rohit-brendan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1544741669, "creation_date": 1534148510, "last_edit_date": 1534247296, "question_id": 51818037, "link": "https://stackoverflow.com/questions/51818037/room-renaming-table-doesnt-update-foreign-key-table-reference", "title": "Room: Renaming Table doesn&#39;t update Foreign Key Table Reference", "body": "<pre><code>object Migration1to2 : Migration(1, 2) {\n\n    override fun migrate(database: SupportSQLiteDatabase) {\n        database.execSQL(\"ALTER TABLE photos RENAME TO media\")\n    }\n}\n</code></pre>\n\n<p>I'm using the above Migration object to perform the migration but get the following <code>IllegalStateException</code>:</p>\n\n<pre><code>java.lang.IllegalStateException: Migration didn't properly handle tags(com.curator.android.storage.room.model.Tag).\n     Expected:\n    TableInfo{name='tags', columns={groupId=Column{name='groupId', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, name=Column{name='name', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0}, photoId=Column{name='photoId', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, accuracy=Column{name='accuracy', type='REAL', affinity='4', notNull=false, primaryKeyPosition=0}, entityId=Column{name='entityId', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0}, id=Column{name='id', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=1}, parentId=Column{name='parentId', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}}, foreignKeys=[ForeignKey{referenceTable='media', onDelete='CASCADE', onUpdate='CASCADE', columnNames=[photoId], referenceColumnNames=[id]}], indices=[Index{name='index_tags_photoId', unique=false, columns=[photoId]}, Index{name='index_tags_name_photoId', unique=true, columns=[name, photoId]}, Index{name='index_tags_name', unique=false, columns=[name]}]}\n     Found:\n    TableInfo{name='tags', columns={groupId=Column{name='groupId', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, name=Column{name='name', type='TEXT', affinity='2', notNull=true, primaryKeyPosition=0}, photoId=Column{name='photoId', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}, accuracy=Column{name='accuracy', type='REAL', affinity='4', notNull=false, primaryKeyPosition=0}, entityId=Column{name='entityId', type='TEXT', affinity='2', notNull=false, primaryKeyPosition=0}, id=Column{name='id', type='INTEGER', affinity='3', notNull=false, primaryKeyPosition=1}, parentId=Column{name='parentId', type='INTEGER', affinity='3', notNull=true, primaryKeyPosition=0}}, foreignKeys=[ForeignKey{referenceTable='photos', onDelete='CASCADE', onUpdate='CASCADE', columnNames=[photoId], referenceColumnNames=[id]}], indices=[Index{name='index_tags_photoId', unique=false, columns=[photoId]}, Index{name='index_tags_name_photoId', unique=true, columns=[name, photoId]}, Index{name='index_tags_name', unique=false, columns=[name]}]}\n</code></pre>\n\n<p>The difference is between the referenceTable</p>\n\n<pre><code>foreignKeys=[ForeignKey{referenceTable='media', onDelete='CASCADE', onUpdate='CASCADE', columnNames=[photoId], referenceColumnNames=[id]}]\nforeignKeys=[ForeignKey{referenceTable='photos', onDelete='CASCADE', onUpdate='CASCADE', columnNames=[photoId], referenceColumnNames=[id]}]\n</code></pre>\n"}, {"tags": ["kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 230, "user_id": 6806787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DA7Gscb8GcA/AAAAAAAAAAI/AAAAAAAAAEc/BGsdeHaAvLo/photo.jpg?sz=128", "display_name": "natonomo", "link": "https://stackoverflow.com/users/6806787/natonomo"}, "is_accepted": false, "score": 1, "last_activity_date": 1534182499, "creation_date": 1534182499, "answer_id": 51827908, "question_id": 51817744, "link": "https://stackoverflow.com/questions/51817744/add-element-to-firestore-array/51827908#51827908", "title": "Add element to Firestore array", "body": "<p>I don't think support for that has actually been added to the Android API, despite its documentation as such on the page you linked. </p>\n\n<p>It's missing from the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue\" rel=\"nofollow noreferrer\">Android API documentation</a>, but is present in the <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.FieldValue#.arrayUnion\" rel=\"nofollow noreferrer\">Web API documentation</a> as well as the <a href=\"https://firebase.google.com/support/release-notes/js\" rel=\"nofollow noreferrer\">Web changelog</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "is_accepted": true, "score": 0, "last_activity_date": 1535031915, "creation_date": 1535031915, "answer_id": 51987322, "question_id": 51817744, "link": "https://stackoverflow.com/questions/51817744/add-element-to-firestore-array/51987322#51987322", "title": "Add element to Firestore array", "body": "<p>Newest version of firestore now supports it:</p>\n\n<pre><code> implementation 'com.google.firebase:firebase-firestore:17.1.0'\n</code></pre>\n"}], "owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 51987322, "answer_count": 2, "score": 0, "last_activity_date": 1535031915, "creation_date": 1534147402, "last_edit_date": 1534167001, "question_id": 51817744, "link": "https://stackoverflow.com/questions/51817744/add-element-to-firestore-array", "title": "Add element to Firestore array", "body": "<p>Currently, I have an empty array in Firestore dashboard. And I'm trying to add some item to it. I've followed <a href=\"https://firebase.google.com/docs/firestore/manage-data/add-data#update_elements_in_an_array\" rel=\"nofollow noreferrer\">this</a>, but no result. I don't want to sore and rewrite this element. </p>\n\n<p>My gradle contains:     </p>\n\n<pre><code>implementation 'com.google.firebase:firebase-firestore:17.0.4'\n</code></pre>\n\n<p>and my code:     </p>\n\n<pre><code>import com.google.firebase.firestore.FieldValue\n</code></pre>\n\n<p>...   </p>\n\n<pre><code>val documentReference = firestore.collection(\"events\")\n                .document(event.firebaseUserUid + \"-\" + event.title)\n    documentReference\n                .update(\"participants\", (FieldValue.arrayUnion(FirebaseAuth.getInstance().currentUser!!.uid)) )\n</code></pre>\n\n<p>But FieldValue.arrayUnion doesn't exists.</p>\n"}, {"tags": ["android", "kotlin", "android-room", "observers", "android-livedata"], "comments": [{"owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1534142243, "post_id": 51816324, "comment_id": 90587022, "body": "can you add your model class and database class"}, {"owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "reply_to_user": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "edited": false, "score": 0, "creation_date": 1534142821, "post_id": 51816324, "comment_id": 90587292, "body": "Yes. I&#39;ve updated the question."}, {"owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "edited": false, "score": 0, "creation_date": 1534143067, "post_id": 51816324, "comment_id": 90587395, "body": "What primary key do you use? Is it possible that you are inserting rows with the same key causing room to overwrite the original row or abort the insert?"}, {"owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "edited": false, "score": 0, "creation_date": 1534145376, "post_id": 51816324, "comment_id": 90588475, "body": "I am passing <code>null</code> when creating it, it is auto generated."}, {"owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "edited": false, "score": 0, "creation_date": 1534147709, "post_id": 51816324, "comment_id": 90589566, "body": "Also, I had a conflict check to replace, but even though it wasn&#39;t replacing but simply not inserting."}, {"owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "edited": false, "score": 0, "creation_date": 1534148407, "post_id": 51816324, "comment_id": 90589908, "body": "I just tried to use <code>init</code> instead of passing the <code>constructor</code>, but the same thing happens."}, {"owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "edited": false, "score": 0, "creation_date": 1534151841, "post_id": 51816324, "comment_id": 90591693, "body": "Someone, please? I cannot solve this. All the codes I see are just like the way I did, yet it happens to me. I added <code>@Volatile</code> before the instance variable in <code>AppDatabase</code>, but the problem persists."}], "owner": {"reputation": 2946, "user_id": 4383363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3ed1bb5340a71a0c98a1577b8101b97?s=128&d=identicon&r=PG&f=1", "display_name": "gamofe", "link": "https://stackoverflow.com/users/4383363/gamofe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534177744, "creation_date": 1534141775, "last_edit_date": 1534177744, "question_id": 51816324, "link": "https://stackoverflow.com/questions/51816324/i-cannot-execute-more-than-one-or-two-insertions-in-my-room-database-for-it-wil", "title": "I cannot execute more than one or two insertions in my Room database, for it will simply not persist the data after those", "body": "<p>Whether it's an insert operation in table X or a delete one from table Y, the issue is that only one operation is being executed and for it to work again I need to re-run my app, making a new APK installation. That is, if I insert in table X and attempt to make another insert in table Y, although it will list in the app, it will not persist in the database. </p>\n\n<p>I have confirmed it by running my application in debug mode and inspecting the database using the <a href=\"https://github.com/amitshekhariitbhu/Android-Debug-Database\" rel=\"nofollow noreferrer\">com.amitshekhar.android:debug-db:1.0.4</a>. It is this weird, listing from the database while not being in the database. Then, when running the app one more time, these \"ghost data\" disappear.</p>\n\n<p>I don't know what to show except for the operations code. The easiest one, a <code>Student</code> insertion:</p>\n\n<pre><code>fun onClickSaveStudentButton(view: View?) {\n    val studentName: String = mEdtStudentName?.text.toString()\n    val studentEntry = Student(null, studentName)\n\n    thread { mDb?.studentsDao()?.insert(studentEntry) }\n\n    finish()\n}\n</code></pre>\n\n<p>Only one field for the name, and a thread executing the insertion. It sometimes will allow me to insert twice but after it, the same problem will happen. I thought it could be something with <code>thread</code>, so I installed <code>Anko</code> and made use of <code>doAsync</code>, but the problem continues.</p>\n\n<p>This is the DAO function to insert:</p>\n\n<pre><code>@Insert\nfun insert(data: Student)\n</code></pre>\n\n<p>What is going wrong here? Why's it only allowing me to insert once or twice?</p>\n\n<p>The database class:</p>\n\n<pre><code>@Database(entities = [(Schedule::class), (Student::class)], version = 1)\nabstract class AppDatabase : RoomDatabase() {\n    companion object {\n        @Volatile\n        private var sInstance: AppDatabase? = null\n\n        fun getInstance(context: Context): AppDatabase = sInstance ?: synchronized(this) {\n            sInstance ?: Room.databaseBuilder(\n                context,\n                AppDatabase::class.java,\n                Constants.DATABASE_NAME\n            ).build().also {\n                sInstance = it\n            }\n        }\n    }\n\n    abstract fun scheduleDao(): ScheduleDao\n    abstract fun studentsDao(): StudentDao\n}\n</code></pre>\n\n<p>And here, as example, <code>Student</code> model:</p>\n\n<pre><code>@Entity(tableName = \"students\")\nclass Student constructor(\n    @PrimaryKey(autoGenerate = true) var id: Int?,\n    @ColumnInfo(name = \"name\") var name: String?\n)\n</code></pre>\n\n<p>Full code <a href=\"https://github.com/mfgabriel92/classes-android\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1534133620, "post_id": 51814977, "comment_id": 90584556, "body": "getting the <code>context</code> from within a <code>service</code> may work differently."}], "owner": {"reputation": 486, "user_id": 6595777, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e879aa936c5e41f6a67b6d882c61e640?s=128&d=identicon&r=PG&f=1", "display_name": "DarkMatterMatt", "link": "https://stackoverflow.com/users/6595777/darkmattermatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534132299, "creation_date": 1534132299, "question_id": 51814977, "link": "https://stackoverflow.com/questions/51814977/building-a-room-database-object-causes-force-finishing-activity", "title": "Building a Room Database object causes &quot;Force finishing activity&quot;", "body": "<p><strong>Can I open a Room database from a Android NotificationListenerService?</strong></p>\n\n<p>When I try to open the database in the NotificationListenerService my app crashes, saying</p>\n\n<pre><code>W/ActivityManager: Force finishing activity com.xyz.abc.notificationmanager/.MainActivity\nW/InputDispatcher: channel '79ec910 com.xyz.abc.notificationmanager/com.xyz.abc.notificationmanager.MainActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9\nE/InputDispatcher: channel '79ec910 com.xyz.abc.notificationmanager/com.xyz.abc.notificationmanager.MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n</code></pre>\n\n<p><strong>What do these errors mean?</strong></p>\n\n<p>If I remove the inMemoryDatabaseBuilder line it works fine. I originally started with a regular databaseBuilder but I'm trying the in memory one just in case that was the problem (which it doesn't appear to be).</p>\n\n<p>It does not crash if I simply <code>val db = Room.inMemoryDatabaseBuilder(applicationContext, TheDatabase::class.java)</code> without <code>.build()</code>ing it.</p>\n\n<p><strong>The code:</strong></p>\n\n<p>Database:</p>\n\n<pre><code>package com.xyz.abc.notificationmanager\nimport android.arch.persistence.room.*\n\n@Entity(tableName=\"matches\")\nclass SettingsMatch {\n    @PrimaryKey(autoGenerate=true)\n    var id: Long = 0\n\n    @ColumnInfo(name=\"package_name\")\n    var packageName: String? = null\n\n    @ColumnInfo(name=\"group_id\")\n    var groupId: Long? = null\n\n    @ColumnInfo(name=\"comment\")\n    var comment: String? = null\n\n    @ColumnInfo(name=\"search_title\")\n    var searchTitle: String? = null\n\n    @ColumnInfo(name=\"search_content\")\n    var searchContent: String? = null\n}\n\n@Entity(tableName=\"groups\", foreignKeys=arrayOf(\n    ForeignKey(entity=SettingsMatch::class, parentColumns=arrayOf(\"id\"), childColumns=arrayOf(\"group_id\"))\n))\nclass SettingsGroup {\n    @PrimaryKey(autoGenerate=true)\n    var id: Long = 0\n\n    @ColumnInfo(name=\"comment\")\n    var comment: String? = null\n\n    @ColumnInfo(name=\"min_secs_between_alerts\")\n    var minSecsBetweenAlerts: Int = 0\n\n    @ColumnInfo(name=\"last_alert_time\")\n    var lastAlertTime: Int = 0\n\n    @ColumnInfo(name=\"alert_when_screen_on\")\n    var alertWhenScreenOn: Boolean = true\n\n    @ColumnInfo(name=\"volume_percent\")\n    var volumePercent: Int = 100\n\n    @ColumnInfo(name=\"vibration_pattern\")\n    var vibrationPattern: LongArray = longArrayOf(0)\n}\n\n@Dao\ninterface SettingsMatchDao {\n    @get:Query(\"SELECT * FROM matches\")\n    val all: List&lt;SettingsMatch&gt;\n\n    @Query(\"SELECT * FROM matches WHERE package_name=:packageName\")\n    fun loadAllByPackageName(packageName: String): List&lt;SettingsMatch&gt;\n\n    @Query(\"SELECT * FROM matches \"\n            + \"WHERE package_name=:packageName AND \"\n            + \"(:searchTitle LIKE CONCAT('%', search_title, '%') OR :searchContent LIKE CONCAT('%', search_content, '%')) \"\n            + \"LIMIT 1\")\n    fun loadByPackageNameTitleContent(packageName: String, searchTitle: String, searchContent: String): SettingsMatch\n\n    @Insert\n    fun insert(settingsMatch: SettingsMatch): Long\n\n    @Delete\n    fun delete(settingsMatch: SettingsMatch)\n}\n\n@Dao\ninterface SettingsGroupDao {\n    @get:Query(\"SELECT * FROM groups\")\n    val all: List&lt;SettingsGroup&gt;\n\n    @Query(\"SELECT * FROM groups WHERE id=:id LIMIT 1\")\n    fun loadByGroupId(id: Int): SettingsGroup\n\n    @Query(\"SELECT * FROM groups \"\n            + \"INNER JOIN matches ON matches.group_id = groups.id \"\n            + \"WHERE package_name=:packageName AND \"\n            + \"(:searchTitle LIKE CONCAT('%', search_title, '%') OR :searchContent LIKE CONCAT('%', search_content, '%')) \"\n            + \"LIMIT 1\")\n    fun loadByPackageNameTitleContent(packageName: String, searchTitle: String, searchContent: String): SettingsGroup\n\n    @Insert\n    fun insert(settingsGroup: SettingsGroup): Long\n\n    @Delete\n    fun delete(settingsGroup: SettingsGroup)\n}\n\n@Database(entities=arrayOf(SettingsMatch::class, SettingsGroup::class), version=1)\nabstract class TheDatabase : RoomDatabase() {\n    abstract fun matchDao(): SettingsMatchDao\n    abstract fun groupDao(): SettingsGroupDao\n}\n</code></pre>\n\n<p>NotificationListenerService:</p>\n\n<pre><code>class NotificationManagerService : NotificationListenerService() {\n    override fun onBind(intent: Intent): IBinder? {\n        return super.onBind(intent)\n    }\n\n    override fun onNotificationPosted(sbn: StatusBarNotification) {\n        /** This is the troublesome line **/\n        val db = Room.inMemoryDatabaseBuilder(applicationContext, TheDatabase::class.java).build()\n        db.close()\n    }\n\n    override fun onNotificationRemoved(sbn: StatusBarNotification) {\n\n    }\n}\n</code></pre>\n"}]