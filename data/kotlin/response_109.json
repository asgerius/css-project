[{"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1486587095, "post_id": 42123153, "comment_id": 71414774, "body": "Did you also add <code>kotlin-stdlib</code> as a dependency? See: <a href=\"http://stackoverflow.com/questions/36226278/setup-kotlin-project-with-gradle\" title=\"setup kotlin project with gradle\">stackoverflow.com/questions/36226278/&hellip;</a>"}, {"owner": {"reputation": 1016, "user_id": 2065363, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6deb36dc020a0f0afa1e9d37a3ca971b?s=128&d=identicon&r=PG", "display_name": "Jorge Antonio D&#237;az-Benito", "link": "https://stackoverflow.com/users/2065363/jorge-antonio-d%c3%adaz-benito"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1486587426, "post_id": 42123153, "comment_id": 71414950, "body": "Yes I did, the module&#39;s build.gradle adds the dependencies specified in buildsystem/dependencies.gradle."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "edited": false, "score": 0, "creation_date": 1486593700, "post_id": 42123153, "comment_id": 71418086, "body": "What is the output of <code>gradlew dependencies</code>?, because I am not sure an array of strings is an acceptable way to specify dependencies."}, {"owner": {"reputation": 1016, "user_id": 2065363, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6deb36dc020a0f0afa1e9d37a3ca971b?s=128&d=identicon&r=PG", "display_name": "Jorge Antonio D&#237;az-Benito", "link": "https://stackoverflow.com/users/2065363/jorge-antonio-d%c3%adaz-benito"}, "edited": false, "score": 0, "creation_date": 1486624275, "post_id": 42123153, "comment_id": 71427683, "body": "It is just as it should be, the std-lib bringing in the runtime."}], "answers": [{"tags": [], "owner": {"reputation": 1016, "user_id": 2065363, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6deb36dc020a0f0afa1e9d37a3ca971b?s=128&d=identicon&r=PG", "display_name": "Jorge Antonio D&#237;az-Benito", "link": "https://stackoverflow.com/users/2065363/jorge-antonio-d%c3%adaz-benito"}, "is_accepted": false, "score": 0, "last_activity_date": 1486634677, "creation_date": 1486634677, "answer_id": 42133607, "question_id": 42123153, "link": "https://stackoverflow.com/questions/42123153/kotlin-setup-for-gradle-without-ide-assistance-kotlin-classes-not-making-it-to/42133607#42133607", "title": "Kotlin setup for Gradle without IDE assistance - Kotlin classes not making it to classpath", "body": "<p>So I didn't really solve this, but I think it has something to do with the module being set up as a library one. Once I added another one (Android in that case, although I doubt that matters) as an application and referenced to the first one from it, everything worked correctly. /shrug</p>\n"}], "owner": {"reputation": 1016, "user_id": 2065363, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6deb36dc020a0f0afa1e9d37a3ca971b?s=128&d=identicon&r=PG", "display_name": "Jorge Antonio D&#237;az-Benito", "link": "https://stackoverflow.com/users/2065363/jorge-antonio-d%c3%adaz-benito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1486634677, "creation_date": 1486586366, "question_id": 42123153, "link": "https://stackoverflow.com/questions/42123153/kotlin-setup-for-gradle-without-ide-assistance-kotlin-classes-not-making-it-to", "title": "Kotlin setup for Gradle without IDE assistance - Kotlin classes not making it to classpath", "body": "<p>I am trying to create a Java sub-module using Gradle by myself. I followed the steps in <a href=\"http://kotlinlang.org/docs/reference/using-gradle.html#using-Gradle\" rel=\"nofollow noreferrer\">http://kotlinlang.org/docs/reference/using-gradle.html#using-Gradle</a> albeit the split of some things in different Gradle files, and the IDE seems to recognize everything correctly, Kotlin source does not make it to the classpath. In <a href=\"https://github.com/stoyicker/master-slave-clean-store/tree/792c8207776846b0320c1e055521a288c9e63b5a\" rel=\"nofollow noreferrer\">https://github.com/stoyicker/master-slave-clean-store/tree/792c8207776846b0320c1e055521a288c9e63b5a</a> you can see a snapshot of what fails.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 2, "creation_date": 1486632158, "post_id": 42130108, "comment_id": 71432001, "body": "See documentation: <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#annotation-processing\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1486640811, "post_id": 42130108, "comment_id": 71437862, "body": "Also do not apply <code>android-apt</code> if using <code>kotlin-android</code>"}], "tags": [], "owner": {"reputation": 9320, "user_id": 7045114, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9OfXY.jpg?s=128&g=1", "display_name": "Maksim Ostrovidov", "link": "https://stackoverflow.com/users/7045114/maksim-ostrovidov"}, "is_accepted": true, "score": 5, "last_activity_date": 1486642822, "last_edit_date": 1486642822, "creation_date": 1486623143, "answer_id": 42130108, "question_id": 42115498, "link": "https://stackoverflow.com/questions/42115498/dagger2-do-not-generate-dagger-classes/42130108#42130108", "title": "Dagger2 do not generate Dagger classes", "body": "<p>In order to use Dagger annotations in <em>Kotlin</em> files you have to use <code>kapt</code> for Dagger compiler:</p>\n\n<pre><code>kapt 'com.google.dagger:dagger-compiler:2.8'\n</code></pre>\n\n<p>Also, delete all <code>apt</code> dependencies because <code>kapt</code> handles annotations in Java too.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#annotation-processing\" rel=\"noreferrer\">Official docs</a></p>\n"}], "owner": {"reputation": 439, "user_id": 4881990, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/acd4be4abd5ba53fdb0c7f40629ef8e2?s=128&d=identicon&r=PG&f=1", "display_name": "Abbas Moazzami", "link": "https://stackoverflow.com/users/4881990/abbas-moazzami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1127, "favorite_count": 3, "accepted_answer_id": 42130108, "answer_count": 1, "score": 1, "last_activity_date": 1486642822, "creation_date": 1486563304, "last_edit_date": 1486631334, "question_id": 42115498, "link": "https://stackoverflow.com/questions/42115498/dagger2-do-not-generate-dagger-classes", "title": "Dagger2 do not generate Dagger classes", "body": "<p>Dagger2 does not create classes Dagger*. I created the interface MyContainerComponent, but the class DaggerMyContainerComponent not created!</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.2.3'\n        classpath \"com.android.databinding:dataBinder:1.0-rc4\"\n        classpath 'com.neenbedankt.gradle.plugins:android-apt:1.8'\n        classpath 'com.frogermcs.androiddevmetrics:androiddevmetrics-plugin:0.4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.6\"\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>in <strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'android-apt'\napply plugin: 'com.android.databinding'\napply plugin: 'kotlin-android'\napply plugin: 'com.frogermcs.androiddevmetrics'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.tegra.module.profile\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:25.1.1'\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    kapt 'com.android.databinding:compiler:1.0-rc4'\n\n    //dagger\n    compile 'com.google.dagger:dagger:2.8'\n    apt 'com.google.dagger:dagger-compiler:2.8'\n    provided 'javax.annotation:jsr250-api:1.0'\n\n    //glide\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n\n    //rxAndroid\n    compile 'io.reactivex:rxandroid:1.2.1'\n    compile 'io.reactivex:rxjava:1.1.6'\n\n    //autoFactory\n    compile group: 'com.google.auto.factory', name: 'auto-factory', version: '1.0-beta3'\n\n    //retrofit\n    compile 'com.squareup.retrofit2:retrofit:2.1.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    compile group: 'com.squareup.retrofit2', name: 'adapter-rxjava', version: '2.1.0'\n\n    //OkHttp\n    compile 'com.squareup.okhttp3:logging-interceptor:3.3.1'\n\n    //timber\n    compile 'com.jakewharton.timber:timber:4.5.1'\n\n    //stetho\n    compile 'com.facebook.stetho:stetho:1.4.2'\n    compile 'com.facebook.stetho:stetho-okhttp3:1.4.2'\n\n    //constraint-layout\n    compile 'com.android.support.constraint:constraint-layout:1.0.0-beta4'\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p><strong>MyContainerComponent.kt</strong></p>\n\n<pre><code>package com.tegra.module.profile.ioc\n\n@Component(modules = arrayOf(ProfileModule::class))\n@Singleton\npublic interface MyContainerComponent {\n    fun inject(profileActivity: ProfileActivity)\n}\n</code></pre>\n\n<p><strong>ProfileModule.kt</strong></p>\n\n<pre><code>package com.tegra.module.profile.bl.di\n\n@Module\nclass ProfileModule(val application: Application) {\n\n    @Provides\n    @Singleton\n    fun provideApplication(): Application {\n        return application\n    }\n\n    @Provides\n    @Singleton\n    fun provideContext(): Context {\n        return application\n    }\n}\n</code></pre>\n\n<p>Any solutions? Already tried to: change gradle version, Clean, Rebuild, Change dependecy versions, also deleting the Gradle cache and reinstalling Android Studio.</p>\n"}, {"tags": ["mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1486547698, "post_id": 42109439, "comment_id": 71388558, "body": "ah, I see the key is to use <code>defaultAnswer=</code>. thanks"}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 2, "last_activity_date": 1486547152, "last_edit_date": 1486547152, "creation_date": 1486546668, "answer_id": 42109439, "question_id": 42108068, "link": "https://stackoverflow.com/questions/42108068/is-it-possible-to-use-doreturn-and-calls-real-methods-with-mockito-kotlin/42109439#42109439", "title": "Is it possible to use doReturn() and CALLS_REAL_METHODS with mockito-kotlin?", "body": "<p>Since Mockito-Kotlin 1.2.0 <code>mock()</code> takes optional parameters:</p>\n\n<pre><code>val mockObj : TheClass = mock(defaultAnswer = Mockito.CALLS_REAL_METHODS)\n</code></pre>\n\n<p>You can use the stubbing mechanism to then again override this default behavior for individual methods:</p>\n\n<pre><code>val mockObj = mock&lt;TheClass&gt;(defaultAnswer = Mockito.CALLS_REAL_METHODS) {\n  on { method() } doReturn something\n}\n</code></pre>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 42109439, "answer_count": 1, "score": 1, "last_activity_date": 1486547152, "creation_date": 1486542435, "last_edit_date": 1486546826, "question_id": 42108068, "link": "https://stackoverflow.com/questions/42108068/is-it-possible-to-use-doreturn-and-calls-real-methods-with-mockito-kotlin", "title": "Is it possible to use doReturn() and CALLS_REAL_METHODS with mockito-kotlin?", "body": "<p>My understanding is that to use <code>doReturn()</code> with <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">mockito-kotlin</a> is that I must call it from within a </p>\n\n<pre><code>val mockObj = mock&lt;TheClass&gt; {\n    on { method } doReturn something\n}\n</code></pre>\n\n<p>how can I specify that this must use <code>CALLS_REAL_METHODS</code> ?</p>\n\n<p>or can I use <code>doReturn()</code> in some other way with <code>val mockObj : TheClass = mock(Mockito.CALLS_REAL_METHODS)</code> instead?</p>\n\n<p><em>just to clarify - this is a <code>doReturn()</code> (not <code>when/whenever</code>) question</em></p>\n"}, {"tags": ["java", "rdf", "kotlin", "jena", "apache-jena"], "comments": [{"owner": {"reputation": 8217, "user_id": 241164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c827c7be0a2d3dc7e4732934f62aa9a?s=128&d=identicon&r=PG", "display_name": "TallTed", "link": "https://stackoverflow.com/users/241164/tallted"}, "edited": false, "score": 0, "creation_date": 1486592724, "post_id": 42106416, "comment_id": 71417645, "body": "Screenshots are very difficult to work with. Please replace the screenshot with the text. The highlight isn&#39;t necessary."}], "answers": [{"tags": [], "owner": {"reputation": 8217, "user_id": 241164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c827c7be0a2d3dc7e4732934f62aa9a?s=128&d=identicon&r=PG", "display_name": "TallTed", "link": "https://stackoverflow.com/users/241164/tallted"}, "is_accepted": true, "score": 1, "last_activity_date": 1486593225, "creation_date": 1486593225, "answer_id": 42124909, "question_id": 42106416, "link": "https://stackoverflow.com/questions/42106416/how-can-i-get-the-value-object-of-a-resources-property/42124909#42124909", "title": "How can I get the value (object) of a Resource&#39;s property?", "body": "<p>Note that the property in the data is <code>FirstContactDateTime</code> not <code>FirstContactTime</code>.</p>\n\n<p>The SPARQL you're looking for is something like this --</p>\n\n<pre><code>PREFIX  vcard:  &lt;http://www.w3.org/2001/vcard-rdf/3.0#&gt;\nPREFIX     ex:  &lt;http://example.com/schema/person/&gt;\n\nSELECT ?user ?email ?firstcontact\n WHERE\n   {               ?x  vcard:EMAIL              ?email         .\n      OPTIONAL  {  ?x  ex:firstContactDateTime  ?firstcontact  }\n   }\n</code></pre>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 42124909, "answer_count": 1, "score": 0, "last_activity_date": 1486593225, "creation_date": 1486536333, "question_id": 42106416, "link": "https://stackoverflow.com/questions/42106416/how-can-i-get-the-value-object-of-a-resources-property", "title": "How can I get the value (object) of a Resource&#39;s property?", "body": "<p>I have the following code, in which I find a resource by its e-mail.</p>\n\n<pre><code>val varn = \"x\"\nval query = createQuery(\"\"\"SELECT ?${varn}\n                    WHERE { ?x  &lt;http://www.w3.org/2001/vcard-rdf/3.0#EMAIL&gt;  \"${email}\" }\"\"\")\nval qexec = createQueryExecution(ds, query)\nval rs = qexec.execSelect()\nif (rs.hasNext()) {\n    val solution = rs.nextSolution()\n    val rec = solution[varn]\n    // Here I need to find the value of the property FirstContactTime\n}\n</code></pre>\n\n<p>Now I want to find out whether <code>rec</code> has a property <code>FirstContactTime</code> and if yes, its value.</p>\n\n<p>I tried <code>rec.model.listObjectsOfProperty(ds.defaultModel.createProperty(FirstContactTime))</code> but it doesn't return anything. The debugger says <code>rec</code> does have a property <code>FirstContactTime</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WWvPE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WWvPE.png\" alt=\"Debugger\"></a></p>\n\n<p>How can I get the value of <code>FirstContactTime</code> (<code>2017-03-03T10:35:00Z</code>) in my code?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1486505135, "creation_date": 1486505135, "answer_id": 42100903, "question_id": 42100656, "link": "https://stackoverflow.com/questions/42100656/kotlin-generics-and-nullable-class-type/42100903#42100903", "title": "Kotlin Generics and nullable Class type", "body": "<p>Since there is no way to specify nullable classes as you discovered, your premise of limiting it by the first variable is not possible.</p>\n\n<p>What is possible is to limit it by the nullability of the second variable by adding a second generic parameter:</p>\n\n<pre><code>fun &lt;I, NI: I&gt; calculateStuff(valueType: Class&lt;NI&gt;, defaultValue: I): I {\n    // do some work\n\n    return defaultValue;\n}\n</code></pre>\n\n<p><code>val myVar2 = calculateStuff(String::class.java, null as String?)</code> will now compile.</p>\n\n<p>The reason this works is because in the kotlin type system, <code>T</code> is a subclass of <code>T?</code> so any non-nullable value is an acceptable value for a nullable type.</p>\n"}, {"tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 4, "last_activity_date": 1486507396, "last_edit_date": 1486507396, "creation_date": 1486506671, "answer_id": 42101263, "question_id": 42100656, "link": "https://stackoverflow.com/questions/42100656/kotlin-generics-and-nullable-class-type/42101263#42101263", "title": "Kotlin Generics and nullable Class type", "body": "<p>You need to change <code>Class&lt;I&gt;</code> to <code>Class&lt;out I&gt;</code>:</p>\n\n<pre><code>fun &lt;I&gt; calculateStuff(valueType: Class&lt;out I&gt;, defaultValue: I): I {\n    return defaultValue;\n}\n</code></pre>\n\n<p>You can also do this using <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified type parameters</a>:</p>\n\n<pre><code>inline fun &lt;reified I&gt; calculateStuff(defaultValue: I): I {\n    // do some work\n\n    return defaultValue;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val myVar1 = calculateStuff(\"\")             // myVar1 is String\nval myVar2 = calculateStuff&lt;String?&gt;(null)  // myVar2 is String?\n</code></pre>\n"}], "owner": {"reputation": 1345, "user_id": 1347005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vLycm.png?s=128&g=1", "display_name": "Jeff Campbell", "link": "https://stackoverflow.com/users/1347005/jeff-campbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2166, "favorite_count": 0, "accepted_answer_id": 42101263, "answer_count": 2, "score": 3, "last_activity_date": 1486507396, "creation_date": 1486504093, "question_id": 42100656, "link": "https://stackoverflow.com/questions/42100656/kotlin-generics-and-nullable-class-type", "title": "Kotlin Generics and nullable Class type", "body": "<p>How do I handle a nullable generics Class type in Kotlin?</p>\n\n<p>Example function with generics:</p>\n\n<pre><code>fun &lt;I&gt; calculateStuff(valueType: Class&lt;I&gt;, defaultValue: I): I {\n    // do some work\n\n    return defaultValue;\n}\n</code></pre>\n\n<p>Here is a calling function (note the 2nd param for calculateStuff(...))</p>\n\n<pre><code>fun doStuff() {\n    // works fine!\n    val myVar1 = calculateStuff(String::class.java, \"\")\n\n    // FAIL (null is not accepted... Error: \"Cannot infer type parameter I in....\")\n    val myVar2 = calculateStuff(String::class.java, null)\n}\n</code></pre>\n\n<p>Work-around (change return type to I? AND defaultValue to I?):</p>\n\n<pre><code>fun &lt;I&gt; calculateStuff(valueType: Class&lt;I&gt;, defaultValue: I?): I? {\n    return defaultValue;\n}\n</code></pre>\n\n<p>Preferred method, but does not seemed supported by Kotlin (note \"String?::class.java\"):</p>\n\n<pre><code>val myVar2 = calculateStuff(String?::class.java, null)\n</code></pre>\n\n<p>I really want to be able to send to the method (calculateStuff(...)) the return type, and if it can be null, as the first parameter... that way I ONLY have to null-check the return value if I pass a nullable Class in the first param.</p>\n\n<p>Is this possible to do in Kotlin?</p>\n"}, {"tags": ["java", "javafx", "properties", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1486659528, "post_id": 42098698, "comment_id": 71451204, "body": "Is there a way to create a (perhaps read-only) <code>Property</code> from a <code>Binding</code>? I want to use my bindings in the ItemViewModel, but I cannot use <code>bind {}</code> because it is a <code>Binding</code>, not a <code>Property</code>..."}, {"owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1486659890, "post_id": 42098698, "comment_id": 71451460, "body": "I&#39;ve used <code>ReadOnlyObjectWrapper</code> to turn a Binding into a <code>ReadOnlyObjectProperty</code>. Is there a better way?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1486678906, "post_id": 42098698, "comment_id": 71462388, "body": "Interesting issue indeed. I&#39;ll look into this during the weekend and get back to you :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 0, "last_activity_date": 1486496950, "creation_date": 1486496950, "answer_id": 42098698, "question_id": 42097798, "link": "https://stackoverflow.com/questions/42097798/in-tornadofx-how-can-i-bind-bigdecimal-properites-to-another-bigdecimal-propert/42098698#42098698", "title": "In TornadoFX, how can I bind BigDecimal properites to another BigDecimal property using objectBinding?", "body": "<p>All the <code>xBinding</code> functions returns bindings, not properties. If you think about it, how would a calculated property behave if it was writable? Should it write back into the underlying properties perhaps? TornadoFX actually supports these kinds of proxy properties as well, but I suspect that's not what you're after.</p>\n\n<p>Are you wondering why you get <code>ObjectBinding&lt;BigDecimal?&gt;</code> instead of <code>ObjectBinding&lt;BigDecimal&gt;</code>?</p>\n\n<p>The reason is that the underlying property might be null, and if so we might want to return null from the calculated binding as well.</p>\n\n<p>This normally doesn't create an issue, the property is still observable and would carry the correct calculated <code>BigDecimal</code> value.</p>\n"}], "owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 42098698, "answer_count": 1, "score": 0, "last_activity_date": 1486651124, "creation_date": 1486493994, "last_edit_date": 1486651124, "question_id": 42097798, "link": "https://stackoverflow.com/questions/42097798/in-tornadofx-how-can-i-bind-bigdecimal-properites-to-another-bigdecimal-propert", "title": "In TornadoFX, how can I bind BigDecimal properites to another BigDecimal property using objectBinding?", "body": "<p>I'm trying to create a binded <code>BigDecimal</code> property that is a calculation of two other <code>BigDecimal</code> properites, like this:</p>\n\n<pre><code>val caculatedProperty: ObjectProperty&lt;BigDecimal&gt; = objectBinding&lt;Any, BigDecimal&gt;(sumProperty, discountProperty) { ... }\n</code></pre>\n\n<p>...like I would do with <code>StringProperty</code> or <code>IntegerProperty</code>, and it would otherwise work without issues. However, this time I get a type mismatch: it expects <code>ObjectProperty&lt;BigDecimal&gt;</code>, but receives <code>ObjectBinding&lt;BigDecimal?&gt;</code>.</p>\n\n<p>What's the problem here? Did I use the <code>objectProperty()</code> method incorrectly? Should I use some other method to create a binding of a custom object?</p>\n\n<p>EDIT:</p>\n\n<p>The issue was that I was trying to override the <code>ObjectProperty&lt;BigDecimal&gt;</code> from parent class with <code>ObjectBinding&lt;BigDecimal&gt;</code>. The solution, in my case, was to make the original <code>ObjectProperty&lt;BigDecimal&gt;</code> abstract, and leave implementation to the classes that inherit it.</p>\n"}, {"tags": ["constructor", "initialization", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 3493853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdabf4467be658da555b3324331d01ca?s=128&d=identicon&r=PG", "display_name": "egdvnyjklu", "link": "https://stackoverflow.com/users/3493853/egdvnyjklu"}, "is_accepted": false, "score": 3, "last_activity_date": 1486491271, "creation_date": 1486491271, "answer_id": 42097017, "question_id": 42096839, "link": "https://stackoverflow.com/questions/42096839/statements-in-kotlin-constructor/42097017#42097017", "title": "Statements in Kotlin constructor", "body": "<p>Declare the fields and use an init block:</p>\n\n<pre><code>internal class MySystem {\n    val componentA: ComponentA\n    val componentB: ComponentB\n\n    init {\n        println(\"Initializing components\")\n        this.componentA = ComponentA()\n        println(\"Constructed componentA\")\n        this.componentB = ComponentB()\n        println(\"Constructed componentB\")\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 3493853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdabf4467be658da555b3324331d01ca?s=128&d=identicon&r=PG", "display_name": "egdvnyjklu", "link": "https://stackoverflow.com/users/3493853/egdvnyjklu"}, "edited": false, "score": 2, "creation_date": 1486492126, "post_id": 42097020, "comment_id": 71364977, "body": "Thank you :) I had not planned to answer it myself, but once I had written the question down, I could paste the code into IntelliJ and it was translated to Kotlin."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1486501487, "last_edit_date": 1486501487, "creation_date": 1486491286, "answer_id": 42097020, "question_id": 42096839, "link": "https://stackoverflow.com/questions/42096839/statements-in-kotlin-constructor/42097020#42097020", "title": "Statements in Kotlin constructor", "body": "<p>Yes, there is: use the <a href=\"https://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\"><code>init</code> blocks</a>. The <code>init</code> blocks and property initializers are executed in the same order as they appear in the code:</p>\n\n<pre><code>class MyClass {\n    init { println(\"Initializing components\") }\n\n    val componentA = ComponentA()\n    init { println(\"Constructed componentA\") }\n\n    val componentB = ComponentB()\n    init { println(\"Constructed componentA\") }\n}\n</code></pre>\n\n<p>Or, alternatively, separate the declaration and initialization:</p>\n\n<pre><code>class MyClass {\n    val componentA: ComponentA\n    val componentB: ComponentB\n\n    init {\n        println(\"Initializing components\")\n        componentA = ComponentA()\n        println(\"Constructed componentA\")\n        componentB = ComponentB()\n        println(\"Constructed componentB\");\n    }\n}\n</code></pre>\n\n<p>This will also work with secondary constructors.</p>\n"}], "owner": {"reputation": 123, "user_id": 3493853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdabf4467be658da555b3324331d01ca?s=128&d=identicon&r=PG", "display_name": "egdvnyjklu", "link": "https://stackoverflow.com/users/3493853/egdvnyjklu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 42097020, "answer_count": 2, "score": 2, "last_activity_date": 1486501487, "creation_date": 1486490610, "question_id": 42096839, "link": "https://stackoverflow.com/questions/42096839/statements-in-kotlin-constructor", "title": "Statements in Kotlin constructor", "body": "<p>Is there a way to mix statements (like print statements) and member assignments in Kotlin?\nHere is an example of what I would like to do (in Java):</p>\n\n<pre><code>class MySystem {\n    ComponentA componentA;\n    ComponentB componentB;\n\n    public MySystem() {\n        System.out.println(\"Initializing components\");\n        this.componentA = new ComponentA();\n        System.out.println(\"Constructed componentA\");\n        this.componentB = new ComponentB();\n        System.out.println(\"Constructed componentB\");\n    }\n}\n</code></pre>\n\n<p>Grateful for any input, thanks.</p>\n"}, {"tags": ["java", "generics", "reflection", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1486488863, "post_id": 42096227, "comment_id": 71363105, "body": "In a nutshell, the equivalent of Java <code>&lt;? extends Event&gt;</code> is <code>&lt;out Event&gt;</code>. Does it solve your problem? If not, it would be easier to also see your Kotlin code. Also, see the <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\"><i>Generic Variance</i></a> section of the reference to learn about Kotlin generics if interested."}, {"owner": {"reputation": 323, "user_id": 7332457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af35c6f0d923c10c744a9087b2d4e824?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco", "link": "https://stackoverflow.com/users/7332457/francisco"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1486489464, "post_id": 42096227, "comment_id": 71363464, "body": "Woah, actually it did solve! I had been reading through the docs already, and had already tried &lt;out Event&gt;. But after reading your comment I tried again and just noticed a foolish error elsewhere that wouldn&#39;t make it work... Thank you! :)"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1486489659, "post_id": 42096227, "comment_id": 71363594, "body": "@Frank You might even post an answer clarifying how it solves it so that if others ever stumble upon your question they might benefit from the clarity you&#39;ve gained."}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 7332457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af35c6f0d923c10c744a9087b2d4e824?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco", "link": "https://stackoverflow.com/users/7332457/francisco"}, "is_accepted": true, "score": 5, "last_activity_date": 1486490081, "creation_date": 1486490081, "answer_id": 42096689, "question_id": 42096227, "link": "https://stackoverflow.com/questions/42096227/kotlin-reflection-generics/42096689#42096689", "title": "Kotlin reflection + generics", "body": "<p>Thanks for the help; this would be the way to do it in Kotlin:</p>\n\n<pre><code>// &lt;? extends Event&gt; in Java ==&gt; &lt;out Event&gt; in Kotlin.\nval myList: MutableList&lt;Class&lt;out Event&gt;&gt;\n\nval param: Class&lt;*&gt; = methodThatHasSomeEventAsParam.parameterTypes[0]\n\nif (Event::class.java.isAssignableFrom(param)) {\n    param as Class&lt;out Event&gt;\n    myList.add(param)\n}\n</code></pre>\n"}], "owner": {"reputation": 323, "user_id": 7332457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af35c6f0d923c10c744a9087b2d4e824?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco", "link": "https://stackoverflow.com/users/7332457/francisco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1238, "favorite_count": 0, "accepted_answer_id": 42096689, "answer_count": 1, "score": 3, "last_activity_date": 1486490081, "creation_date": 1486488541, "question_id": 42096227, "link": "https://stackoverflow.com/questions/42096227/kotlin-reflection-generics", "title": "Kotlin reflection + generics", "body": "<p><strong>EDIT 1:</strong> Changed title, my bad.</p>\n\n<p>I have an interface <strong>Event</strong>:</p>\n\n<pre><code>interface Event\n</code></pre>\n\n<p>And some classes that implement it, like <strong>CustomEvent</strong>:</p>\n\n<pre><code>class CustomEvent : Event { ... }\n</code></pre>\n\n<p>What I've been trying to do now is: given a method that has an event as a parameter (so, any class that implements the <strong>Event</strong> interface), like this</p>\n\n<pre><code>fun onCustomEvent(event: CustomEvent) {\n    ...\n}\n</code></pre>\n\n<p>, I want to add that event to a list. Thus, this list will end up holding a bunch of different events.</p>\n\n<hr>\n\n<p>In <strong>Java</strong> I belive it would be something like this (might not be 100% accurate):</p>\n\n<pre><code>List&lt;Class&lt;? extends Event&gt;&gt; eventsList;\n\n....\n\nClass&lt;?&gt; param = methodThatHasSomeEventAsParam.parameterTypes[0];\n\nif (Event.class.isAssignableFrom(param)) {\n    Class&lt;? extends Event&gt; actualParam = (Class&lt;? extends Event&gt;) param;\n    eventsList.add(actualParam); // Adds CustomEvent to the events list.\n}\n</code></pre>\n\n<hr>\n\n<p>But as for Kotlin, I'm really not sure how to use the generics properly, specifically what would be the correct way to translate </p>\n\n<pre><code>Class&lt;? extends Event&gt; \n</code></pre>\n\n<p>to Kotlin, keeping the same behaviour as the Java code above.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1486471627, "post_id": 42090197, "comment_id": 71350491, "body": "Why are you both <code>compile</code>ing and <code>androidTestCompile</code>ing dagger? If you have <code>compile</code>ed it, then it already will be included in <code>androidTestCompile</code> build."}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 1, "last_activity_date": 1486476385, "creation_date": 1486476385, "answer_id": 42091908, "question_id": 42090197, "link": "https://stackoverflow.com/questions/42090197/dagger-dont-generate-component-for-androidtest/42091908#42091908", "title": "Dagger don&#39;t generate component for androidTest", "body": "<p>This is caused by <a href=\"https://youtrack.jetbrains.com/issue/KT-15459\" rel=\"nofollow noreferrer\">an issue in kapt</a>. The fix for it targets <code>1.0.7</code>, <code>1.1-Beta</code>. </p>\n\n<p>As a temporary workaround (until fix gets released) one could move <code>MockAppComponent</code> and related sources in to <code>main</code> source set.</p>\n"}], "owner": {"reputation": 1581, "user_id": 2087161, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e5YGG.png?s=128&g=1", "display_name": "Felipe R. Saruhashi", "link": "https://stackoverflow.com/users/2087161/felipe-r-saruhashi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1486476385, "creation_date": 1486471336, "question_id": 42090197, "link": "https://stackoverflow.com/questions/42090197/dagger-dont-generate-component-for-androidtest", "title": "Dagger don&#39;t generate component for androidTest", "body": "<p>I'm facing a problema with the component dagger generation, I want to generate the component for androidTest, but when I build the project, the DaggerTestComponent it's not generated.</p>\n\n<p>Component:</p>\n\n<pre><code>package com.test.feliperibeirosaruhashi.testingkotlindagger\n\nimport dagger.Component\n\n@Component(modules = arrayOf(MockTestModule::class))\ninterface MockAppComponent {\n  fun inject(mainActivityTest:MainActivityTest)\n}\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>dependencies {\n  compile fileTree(dir: 'libs', include: ['*.jar'])\n  androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n  })\n  compile 'com.android.support:appcompat-v7:25.1.0'\n  testCompile 'junit:junit:4.12'\n\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n  compile \"com.android.support:appcompat-v7:$SUPPORT_LIBRARY_VERSION\"\n  compile \"com.android.support:design:$SUPPORT_LIBRARY_VERSION\"\n\n  compile \"com.google.dagger:dagger:$DAGGER_VERSION\"\n  kapt \"com.google.dagger:dagger-compiler:$DAGGER_VERSION\"\n  provided 'org.glassfish:javax.annotation:10.0-b28'\n\n\n  kaptTest \"com.google.dagger:dagger-compiler:$DAGGER_VERSION\"\n\n  kaptAndroidTest \"com.google.dagger:dagger-compiler:$DAGGER_VERSION\"\n\n\n  androidTestCompile \"com.google.dagger:dagger:$DAGGER_VERSION\"\n\n  androidTestCompile \"com.android.support.test:runner:$RUNNER_VERSION\"\n  androidTestCompile \"com.android.support.test:rules:$RUNNER_VERSION\"\n  androidTestCompile \"org.mockito:mockito-core:$MOCKITO_VERSION\"\n\n  androidTestCompile \"com.android.support.test.espresso:espresso-core:$ESPRESSO_VERSION\"\n  androidTestCompile \"com.android.support.test.espresso:espresso-intents:$ESPRESSO_VERSION\"\n\n\n  androidTestCompile \"com.crittercism.dexmaker:dexmaker:$DEXMAKER_VERSION\"\n  androidTestCompile \"com.crittercism.dexmaker:dexmaker-dx:$DEXMAKER_VERSION\"\n  androidTestCompile \"com.crittercism.dexmaker:dexmaker-mockito:$DEXMAKER_VERSION\"\n}\n</code></pre>\n\n<p>I put the full project on github:\n<a href=\"https://github.com/felipesaruhashi/TestingKotlinDagger\" rel=\"nofollow noreferrer\">https://github.com/felipesaruhashi/TestingKotlinDagger</a></p>\n"}, {"tags": ["java", "javafx", "properties", "kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1486493937, "post_id": 42089363, "comment_id": 71365952, "body": "I think you need either <code>stringBinding(a, b) { &quot;${a.get()} ${b.get()}&quot; }</code> or <code>stringBinding(a, b) { &quot;$(a.value) ${b.value}&quot; }</code>. JavaFX properties show more than just their value with the default <code>toString()</code>."}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1486495871, "last_edit_date": 1486495871, "creation_date": 1486468841, "answer_id": 42089363, "question_id": 42088902, "link": "https://stackoverflow.com/questions/42088902/in-tornadofx-how-can-i-make-one-property-change-when-other-properties-are-chang/42089363#42089363", "title": "In TornadoFX, how can I make one Property change when other properties are changed?", "body": "<p><code>stringBinding</code> is what you want. The first argument will become <code>this</code> inside the calculation block, and if <code>this</code> is an observable value, it will be added as a dependency used to calculate when the string binding should be reevaluated. The rest of the parameters (only <code>b</code> here) are added as re-evaluation dependencies as well.</p>\n\n<p>If you do <code>stringBinding(a, b) { \"${a.value} ${b.value}\" }</code>, you have created a string binding that will update whenever either <code>a</code> or <code>b</code> changes. Since <code>this</code> is <code>a</code> in the above example, you could also have written in <code>stringBinding(a, b) { \"${this.value} ${b.value}\" }</code> but I don't think that makes it any clearer :)</p>\n\n<p>The reason we decided to make the first element <code>this</code> is made more apparent by the following example:</p>\n\n<p><code>val sizeDescription = bind(items) { \"$size elements in list\" }</code></p>\n\n<p>Here you don't need to reference the <code>items</code> again to get to it's <code>size</code> property.</p>\n"}], "owner": {"reputation": 1363, "user_id": 1640235, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Zmgq9.jpg?s=128&g=1", "display_name": "Aleksandar Stefanovi\u0107", "link": "https://stackoverflow.com/users/1640235/aleksandar-stefanovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 754, "favorite_count": 0, "accepted_answer_id": 42089363, "answer_count": 1, "score": 1, "last_activity_date": 1486495871, "creation_date": 1486467405, "question_id": 42088902, "link": "https://stackoverflow.com/questions/42088902/in-tornadofx-how-can-i-make-one-property-change-when-other-properties-are-chang", "title": "In TornadoFX, how can I make one Property change when other properties are changed?", "body": "<p>For example, I want to do this: I have a StringProperty, and it is a combination of an IntegerProperty and anoter StringProperty, like this:</p>\n\n<ul>\n<li>StringProperty A = \"foo\" </li>\n<li>IntegerProperty B = 3 </li>\n<li>resulting StringProperty C = \"foo 3\"</li>\n</ul>\n\n<p>How can I \"bind\" properties so that the C changes when either A or B are changed? (Note that I don't want to react to changes made to C)</p>\n\n<p>I tried using <code>stringBinding()</code> method, but it is unclear to me how this method works exactly, and the documentation about it is unclear. </p>\n"}, {"tags": ["android", "progress-bar", "android-custom-view", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1614171508, "post_id": 42118831, "comment_id": 117303299, "body": "Link is dead. :("}], "tags": [], "owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "is_accepted": false, "score": 0, "last_activity_date": 1486572101, "creation_date": 1486572101, "answer_id": 42118831, "question_id": 42087818, "link": "https://stackoverflow.com/questions/42087818/custom-progressbar-in-kotlin/42118831#42118831", "title": "Custom ProgressBar in kotlin", "body": "<p>According to the bullet 5 of this <a href=\"http://ivankocijan.xyz/writing-a-maintainable-custom-view-in-android/\" rel=\"nofollow noreferrer\">article</a>, you may need to modify initialSetup:</p>\n\n<pre><code>fun initialSetup() {\n    max = 100\n    isIndeterminate = false\n    progressDrawable = context.getDrawable(R.drawable.progress_bar)\n    invalidate()\n    requestLayout()\n}\n</code></pre>\n\n<p>If it doesn't change anything, try calling initialSetup later, on onResume of activity/fragment for example. If this work, the problem is maybe linked to the complexity of initialization/lifecycle of android components.</p>\n"}], "owner": {"reputation": 11425, "user_id": 928611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/da05aaa7485715ca1f59f19a6ba69d7a?s=128&d=identicon&r=PG", "display_name": "Jacek Kwiecie\u0144", "link": "https://stackoverflow.com/users/928611/jacek-kwiecie%c5%84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2267, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1486572101, "creation_date": 1486464419, "question_id": 42087818, "link": "https://stackoverflow.com/questions/42087818/custom-progressbar-in-kotlin", "title": "Custom ProgressBar in kotlin", "body": "<p>I'm trying to make a custom <code>ProgressBar</code> the way I did custom layouts a lot before. This time I'm having issues.</p>\n\n<p><strong>I can achieve the desired look with just this xml:</strong></p>\n\n<pre><code>&lt;ProgressBar\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:indeterminateOnly=\"false\"\n    android:progressDrawable=\"@drawable/progress_bar\" /&gt;\n</code></pre>\n\n<p><strong>The ultimate goal, however, would be doing some of the customization in the custom class so the xml shrinks to this:</strong></p>\n\n<pre><code>&lt;se.my.viktklubb.app.progressbar.HorizontalProgressBar\n    android:id=\"@+id/planProgressBar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" /&gt;\n</code></pre>\n\n<p><strong>Here is the custom class:</strong></p>\n\n<pre><code>class HorizontalProgressBar : ProgressBar {\n\n    constructor(context: Context) : super(context) {\n        initialSetup()\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        initialSetup()\n    }\n\n    constructor(context: Context, attrs: AttributeSet, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {\n        initialSetup()\n    }\n\n    fun initialSetup() {\n        max = 100\n        isIndeterminate = false\n        progressDrawable = context.getDrawable(R.drawable.progress_bar)\n    }\n}\n</code></pre>\n\n<p>Second constructor gets fired but the bar isn't styled. It actually appears as indeterminate spinning progress and none of these setup gets applied eventually - feels like those are overriden later by something else.</p>\n\n<p>What's wrong here?</p>\n\n<p><strong>DISCLAIMER:</strong>\nThis is a very simple example. I'm perfectly aware I could go for styles or a simple xml implementation but I just use this simple case only to demonstrate the issue.</p>\n"}, {"tags": ["android", "radio-button", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7383253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b37d1d1e9421b2a9128b4b99333b35?s=128&d=identicon&r=PG&f=1", "display_name": "Aromic", "link": "https://stackoverflow.com/users/7383253/aromic"}, "edited": false, "score": 0, "creation_date": 1486462249, "post_id": 42086797, "comment_id": 71344219, "body": "hmm.., I think this code return only 1 value. I need 2 values, 1 value in each topic."}, {"owner": {"reputation": 2709, "user_id": 2707325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CX4tb.png?s=128&g=1", "display_name": "Mehmet K", "link": "https://stackoverflow.com/users/2707325/mehmet-k"}, "reply_to_user": {"reputation": 73, "user_id": 7383253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b37d1d1e9421b2a9128b4b99333b35?s=128&d=identicon&r=PG&f=1", "display_name": "Aromic", "link": "https://stackoverflow.com/users/7383253/aromic"}, "edited": false, "score": 0, "creation_date": 1486462470, "post_id": 42086797, "comment_id": 71344362, "body": "Im sorry but i only see onClick method binding in your code, where is the data binding part?"}, {"owner": {"reputation": 73, "user_id": 7383253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b37d1d1e9421b2a9128b4b99333b35?s=128&d=identicon&r=PG&f=1", "display_name": "Aromic", "link": "https://stackoverflow.com/users/7383253/aromic"}, "edited": false, "score": 0, "creation_date": 1486463172, "post_id": 42086797, "comment_id": 71344873, "body": "I&#39;ve do like <code>value1 = onRadioButtonClicked1(view)</code> and <code>value2 = onRadioButtonClicked2()</code>"}], "tags": [], "owner": {"reputation": 2709, "user_id": 2707325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CX4tb.png?s=128&g=1", "display_name": "Mehmet K", "link": "https://stackoverflow.com/users/2707325/mehmet-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1486461530, "creation_date": 1486461530, "answer_id": 42086797, "question_id": 42086486, "link": "https://stackoverflow.com/questions/42086486/android-refactor-many-groups-of-radio-buttons-in-one-activity/42086797#42086797", "title": "Android: Refactor many groups of radio buttons in one activity", "body": "<p>Call the same function in all <code>onClick</code>s</p>\n\n<p><code>android:onClick=\"onRadioButtonClicked\"</code></p>\n\n<p>Then add all 6 <code>case</code>s into the <code>when</code> statement</p>\n\n<pre><code>fun onRadioButtonClicked(view: View): Boolean? {\nval checked = (view as RadioButton).isChecked\nvar value: Boolean? = null\n\nwhen (view.id) {\n    R.id.pass_1 -&gt; if (checked) value = true\n    R.id.not_pass_1 -&gt; if (checked) value = false\n    R.id.not_available_1 -&gt; if (checked) value = null\n    R.id.pass_2 -&gt; if (checked) value = true\n    R.id.not_pass_2 -&gt; if (checked) value = false\n    R.id.not_available_2 -&gt; if (checked) value = null\n}\nreturn value\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "is_accepted": false, "score": 0, "last_activity_date": 1486579677, "creation_date": 1486579677, "answer_id": 42121247, "question_id": 42086486, "link": "https://stackoverflow.com/questions/42086486/android-refactor-many-groups-of-radio-buttons-in-one-activity/42121247#42121247", "title": "Android: Refactor many groups of radio buttons in one activity", "body": "<p>First evident method:</p>\n\n<pre><code>var value1: Boolean? = null\nvar value2: Boolean? = null\n\nfun onRadioButtonClicked(view: View) {\n    val checked = (view as RadioButton).isChecked\n\n    when (view.id) {\n        R.id.pass_1 -&gt; if (checked) value1 = true\n        R.id.not_pass_1 -&gt; if (checked) value1 = false\n        R.id.not_available_1 -&gt; if (checked) value1 = null\n        R.id.pass_2 -&gt; if (checked) value2 = true\n        R.id.not_pass_2 -&gt; if (checked) value2 = false\n        R.id.not_available_2 -&gt; if (checked) value2 = null\n    }\n}\n</code></pre>\n\n<p>But if you have plenty of RadioGroup, an alternative is to set Tag on XML for each RadioButton (I used for the example below string \"TRUE\", \"FALSE\"):</p>\n\n<pre><code>var value1: Boolean? = null\nvar value2: Boolean? = null\n\nfun onRadioButtonClicked1(view: View) = onRadioButtonClicked(view) { value1 = it }\nfun onRadioButtonClicked2(view: View) = onRadioButtonClicked(view) { value2 = it }\n\nfun onRadioButtonClicked(view: View, function: (Boolean?) -&gt; Unit) {\n    val checked = (view as RadioButton).isChecked\n\n    if (checked) {\n        view.tag\n                .let {\n                    when (it) {\n                        \"TRUE\" -&gt; true\n                        \"FALSE\" -&gt; false\n                        else -&gt; null\n                    }\n                }\n                .let { function.invoke(it) }\n    }\n}\n</code></pre>\n\n<p>I didn't check, but I think you have more appropriate callback, something like onCheckedChanged on RadioButton or RadioGroup.</p>\n"}], "owner": {"reputation": 73, "user_id": 7383253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b37d1d1e9421b2a9128b4b99333b35?s=128&d=identicon&r=PG&f=1", "display_name": "Aromic", "link": "https://stackoverflow.com/users/7383253/aromic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1486579677, "creation_date": 1486460696, "last_edit_date": 1486462142, "question_id": 42086486, "link": "https://stackoverflow.com/questions/42086486/android-refactor-many-groups-of-radio-buttons-in-one-activity", "title": "Android: Refactor many groups of radio buttons in one activity", "body": "<p>I want to create many radio groups in one activity like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/GVHf4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GVHf4.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Following to Android docs, <a href=\"https://developer.android.com/guide/topics/ui/controls/radiobutton.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/controls/radiobutton.html</a>, to make data binding to <code>Activity</code> to obtain value like \"object1 = true, object2 = false\". I've create 2 functions to get data from 2 radio groups.</p>\n\n<p>In xml file, the code is</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"10dp\"\n    android:text=\"Object 1.\"\n    android:textColor=\"#000000\"\n    android:textSize=\"24dp\" /&gt;\n\n&lt;RadioGroup\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"30dp\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/pass_1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onRadioButtonClicked1\"\n        android:text=\"pass\" /&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/not_pass_1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onRadioButtonClicked1\"\n        android:text=\"not pass\" /&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/not_available_1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onRadioButtonClicked1\"\n        android:text=\"not available\" /&gt;\n\n&lt;/RadioGroup&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"10dp\"\n    android:text=\"Object 2.\"\n    android:textColor=\"#000000\"\n    android:textSize=\"24dp\" /&gt;\n\n&lt;RadioGroup\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"30dp\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/pass_2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onRadioButtonClicked1\"\n        android:text=\"pass\" /&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/not_pass_2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onRadioButtonClicked1\"\n        android:text=\"not pass\" /&gt;\n\n    &lt;RadioButton\n        android:id=\"@+id/not_available_2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"onRadioButtonClicked1\"\n        android:text=\"not available\" /&gt;\n\n&lt;/RadioGroup&gt;\n</code></pre>\n\n<p>, and I create 2 functions like these:</p>\n\n<pre><code>fun onRadioButtonClicked1(view: View): Boolean? {\n    val checked = (view as RadioButton).isChecked\n    var value: Boolean? = null\n\n    when (view.id) {\n        R.id.pass_1 -&gt; if (checked) value = true\n        R.id.not_pass_1 -&gt; if (checked) value = false\n        R.id.not_available_1 -&gt; if (checked) value = null\n    }\n    return value\n}\n\nfun onRadioButtonClicked2(view: View): Boolean? {\n    val checked = (view as RadioButton).isChecked\n    var value: Boolean? = null\n\n    when (view.id) {\n        R.id.pass_2 -&gt; if (checked) value = true\n        R.id.not_pass_2 -&gt; if (checked) value = false\n        R.id.not_available_2 -&gt; if (checked) value = null\n    }\n    return value\n}\n</code></pre>\n\n<p>Could it has some logic to refactor these stuff (like reuse this function)?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1486449070, "post_id": 42082613, "comment_id": 71336922, "body": "Are you sure the code you pasted is the one that is failing with NPE? It doesn&#39;t compile even."}], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 6, "last_activity_date": 1486450041, "creation_date": 1486450041, "answer_id": 42083432, "question_id": 42082613, "link": "https://stackoverflow.com/questions/42082613/object-constructor-and-delegates-notnull/42083432#42083432", "title": "Object constructor and Delegates.notNull", "body": "<p>The problem is caused by the miss ordered <code>init</code> block and property initializer. As stated in the <a href=\"https://stackoverflow.com/questions/33688821/what-are-the-kotlin-class-initialisation-semantics\">answer about class initialization semantics</a>. The <strong><code>init</code></strong> block is not the constructor - its code is included in the primary constructor. </p>\n\n<p>The following example:</p>\n\n<pre><code>class OrderOfInits {\n    constructor() {\n        println(\"constructor\")\n    }\n    init {\n        println(\"A\")\n    }\n    init {\n        println(\"B\")\n    }\n    init {\n        println(\"C\")\n    }\n}\n\nval a = OrderOfInits()\n</code></pre>\n\n<p>Would print:</p>\n\n<pre><code>A\nB\nC\nconstructor\n</code></pre>\n\n<p>Property delegates initialization is also part of primary constructor. Their initialization order in constructor reflects the order they were declared in. In other words the <code>init { fill(...) }</code> initializer block invokes <code>clientUrl</code> setter which in turn tries to call <code>Delegates.notNull()</code> instance method. However the instance field holding the <code>Delegates.notNull()</code> was not yet set hence NPE.</p>\n\n<p>To fix the problem you just need to reorder them like so:</p>\n\n<pre><code>object WalletConfig {\n    var clientUrl: String by Delegates.notNull()\n        private set\n\n    init {\n        fill(HashMap&lt;String, String&gt;())\n    }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 1284, "user_id": 6233653, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3iNsk.jpg?s=128&g=1", "display_name": "Ant20", "link": "https://stackoverflow.com/users/6233653/ant20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "accepted_answer_id": 42083432, "answer_count": 1, "score": 2, "last_activity_date": 1486457087, "creation_date": 1486446447, "last_edit_date": 1486457087, "question_id": 42082613, "link": "https://stackoverflow.com/questions/42082613/object-constructor-and-delegates-notnull", "title": "Object constructor and Delegates.notNull", "body": "<pre><code>object WalletConfig {\n\n    init {\n        fill(HashMap&lt;String, String&gt;())\n    }\n\n    var clientUrl: String by Delegates.notNull()\n        private set\n\n    fun fill(settingMap: Map&lt;String, String&gt;) {\n        try {\n            clientUrl = settingMap[\"URL_CLIENT\"] ?: \"\"\n        } catch(ex:Exception) { }\n    }\n}\n</code></pre>\n\n<p>throw ex: fill: Load 'wallet.config' config file: java.lang.NullPointerException at ru.WalletConfig.setClientUrl(WalletConfig.kt)</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": true, "score": 17, "last_activity_date": 1538379529, "last_edit_date": 1538379529, "creation_date": 1486448755, "answer_id": 42083125, "question_id": 42082380, "link": "https://stackoverflow.com/questions/42082380/anko-dialog-button-title/42083125#42083125", "title": "Anko dialog button title", "body": "<p>You can use <a href=\"https://github.com/Kotlin/anko/blob/v.0.10.6/anko/library/static/appcompatV7/src/main/java/SupportAlertBuilder.kt#L80\" rel=\"noreferrer\"><code>positiveButton</code></a> and <a href=\"https://github.com/Kotlin/anko/blob/v.0.10.6/anko/library/static/appcompatV7/src/main/java/SupportAlertBuilder.kt#L88\" rel=\"noreferrer\"><code>negativeButton</code></a> like so:</p>\n\n<pre><code>alert(\"Dialog title\") {\n    positiveButton(\"Yes\") { it.dismiss() }\n    negativeButton(\"No\") { it.dismiss() }\n}.show()\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 3040873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8JjLG.jpg?s=128&g=1", "display_name": "glnix", "link": "https://stackoverflow.com/users/3040873/glnix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1119, "favorite_count": 0, "accepted_answer_id": 42083125, "answer_count": 1, "score": 9, "last_activity_date": 1574325677, "creation_date": 1486445291, "last_edit_date": 1574325677, "question_id": 42082380, "link": "https://stackoverflow.com/questions/42082380/anko-dialog-button-title", "title": "Anko dialog button title", "body": "<p>With Anko, I can write something like this for showing dialog:</p>\n\n<pre><code>alert(\"Dialog title\") {\n   yesButton {}\n   noButton {}\n}.show()\n</code></pre>\n\n<p>How can I set a title for the button?</p>\n\n<pre><code>noButton {title = \"title\"}\n</code></pre>\n\n<p>Unfortunately, it doesn't work.</p>\n"}, {"tags": ["hashmap", "kotlin"], "comments": [{"owner": {"reputation": 5576, "user_id": 767632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75a05c23a398c887e8f085b9c870586c?s=128&d=identicon&r=PG", "display_name": "yeputons", "link": "https://stackoverflow.com/users/767632/yeputons"}, "edited": false, "score": 0, "creation_date": 1486440879, "post_id": 42081563, "comment_id": 71334213, "body": "How about <code>mapKeys</code>, <code>mapValues</code> or applying <code>groupBy</code> to the result of simple <code>map</code>?"}, {"owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "reply_to_user": {"reputation": 5576, "user_id": 767632, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75a05c23a398c887e8f085b9c870586c?s=128&d=identicon&r=PG", "display_name": "yeputons", "link": "https://stackoverflow.com/users/767632/yeputons"}, "edited": false, "score": 1, "creation_date": 1486441108, "post_id": 42081563, "comment_id": 71334275, "body": "@yeputons. I don&#39;t know. You tell me if that&#39;s idiomatic. Feel free to add an answer"}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1504775328, "post_id": 42081563, "comment_id": 79146181, "body": "You should accept the answer from @James-bassett"}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 4, "creation_date": 1486478374, "post_id": 42082478, "comment_id": 71355386, "body": "This is what I would do too although if you are only transforming values then you can use <code>mapValues</code> instead (e.g. <code>hashMap.mapValues { it.value.toUpperCase() }</code>) but I personally don&#39;t like the signature of <code>mapValues</code> because it uses <code>transform: (Map.Entry&lt;K, V&gt;) -&gt; R</code> instead of <code>transform: (V) -&gt; R</code> which seems to me to be inconsistent with <code>filterValues(predicate: (V) -&gt; Boolean)</code> meaning you can&#39;t write <code>hashMap.mapValues(String::toUpperCase)</code> so I just use <code>hashMap.entries.associate { ... }</code>."}, {"owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1486496247, "post_id": 42082478, "comment_id": 71367284, "body": "Updated to include <code>mapValues()</code> as well, thanks @mfulton26"}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 0, "creation_date": 1607539752, "post_id": 42082478, "comment_id": 115307642, "body": "The last line is beautiful. Thank you for this example, Kotlin is indeed awesome."}], "tags": [], "owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "is_accepted": false, "score": 83, "last_activity_date": 1506356203, "last_edit_date": 1506356203, "creation_date": 1486445714, "answer_id": 42082478, "question_id": 42081563, "link": "https://stackoverflow.com/questions/42081563/idiomatic-way-to-transform-map-in-kotlin/42082478#42082478", "title": "Idiomatic way to transform map in kotlin?", "body": "<p>I don't think one person's opinion counts as idiomatic, but I'd probably use</p>\n\n<pre><code>// transform keys only (use same values)\nhashMap.mapKeys { it.key.toUpperCase() }\n\n// transform values only (use same key) - what you're after!\nhashMap.mapValues { it.value.toUpperCase() }\n\n// transform keys + values\nhashMap.entries.associate { it.key.toUpperCase() to it.value.toUpperCase() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 3, "last_activity_date": 1486493491, "creation_date": 1486493491, "answer_id": 42097650, "question_id": 42081563, "link": "https://stackoverflow.com/questions/42081563/idiomatic-way-to-transform-map-in-kotlin/42097650#42097650", "title": "Idiomatic way to transform map in kotlin?", "body": "<p>You could use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-values.html\" rel=\"nofollow noreferrer\">stdlib <code>mapValues</code> function</a> that others have suggested:</p>\n\n<pre><code>hashMap.mapValues { it.value.toUpperCase() }\n</code></pre>\n\n<p>I believe this is the most idiomatic way.</p>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 6786816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb1591438c0ff6fdea2ea9445ef3dda?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Usikov", "link": "https://stackoverflow.com/users/6786816/alexander-usikov"}, "is_accepted": false, "score": 0, "last_activity_date": 1516376582, "last_edit_date": 1516376582, "creation_date": 1516374137, "answer_id": 48343932, "question_id": 42081563, "link": "https://stackoverflow.com/questions/42081563/idiomatic-way-to-transform-map-in-kotlin/48343932#48343932", "title": "Idiomatic way to transform map in kotlin?", "body": "<p>I found another variant. It seems to be more clear</p>\n\n<pre><code>val result = mapOf( *hashMap.map { it.key.toUpperCase() to it.value.toUpperCase() }.toTypedArray() ) \n</code></pre>\n\n<p>It'll automatically infer the type of resulted map.</p>\n\n<p><code>.toTypedArray()</code> is required to use <code>splat(*)</code> operator.</p>\n"}, {"comments": [{"owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "edited": false, "score": 1, "creation_date": 1596104580, "post_id": 56430340, "comment_id": 111706822, "body": "Here is an unnecessary transformation <code>toMap</code>  For better performance and less code use methods from @James Bassett answer above"}], "tags": [], "owner": {"reputation": 1256, "user_id": 797845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8377d3c1b378e20d4f6cd6f24a5b246?s=128&d=identicon&r=PG", "display_name": "emu", "link": "https://stackoverflow.com/users/797845/emu"}, "is_accepted": false, "score": 11, "last_activity_date": 1559575457, "creation_date": 1559575457, "answer_id": 56430340, "question_id": 42081563, "link": "https://stackoverflow.com/questions/42081563/idiomatic-way-to-transform-map-in-kotlin/56430340#56430340", "title": "Idiomatic way to transform map in kotlin?", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"noreferrer\"><code>toMap</code></a> function seems to be designed for this:</p>\n\n<pre><code>hashMap.map { (key, value) -&gt;\n      key.toLowerCase() to value.toUpperCase()\n    }.toMap()\n</code></pre>\n\n<p>It converts <code>Iterable&lt;Pair&lt;K, V&gt;&gt;</code> to <code>Map&lt;K, V&gt;</code></p>\n"}], "owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20049, "favorite_count": 6, "answer_count": 4, "score": 44, "last_activity_date": 1559575457, "creation_date": 1486440515, "question_id": 42081563, "link": "https://stackoverflow.com/questions/42081563/idiomatic-way-to-transform-map-in-kotlin", "title": "Idiomatic way to transform map in kotlin?", "body": "<p>In Scala, it's just the <code>map</code> function. For example, if hashMap is a hashMap of strings, then you can do the following:</p>\n\n<pre><code>val result : HashMap[String,String] = hashMap.map(case(k,v) =&gt; (k -&gt; v.toUpperCase))\n</code></pre>\n\n<p>In Kotlin, however, <code>map</code> turns the map into a list. Is there an idiomatic way of doing the same thing in Kotlin?</p>\n"}, {"tags": ["kotlin", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11834, "user_id": 1538877, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/N9qfZ.jpg?s=128&g=1", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/1538877/ruslan"}, "edited": false, "score": 3, "creation_date": 1486765386, "post_id": 42126960, "comment_id": 71504115, "body": "So instead of wrapping everything in an Observable, you will wrap everything in an Future."}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 14, "creation_date": 1490544122, "post_id": 42126960, "comment_id": 73147629, "body": "Fortunately, Kotlin coroutines are quite unlike C# and JS and don&#39;t require wrapping your code in a Future. You <i>can</i> use futures with Kotlin coroutines, but <i>idiomatic</i> code that is based on Kotlin coroutines uses almost no futures at all."}, {"owner": {"reputation": 12909, "user_id": 458365, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aEkXV.jpg?s=128&g=1", "display_name": "pablisco", "link": "https://stackoverflow.com/users/458365/pablisco"}, "edited": false, "score": 1, "creation_date": 1508192728, "post_id": 42126960, "comment_id": 80505904, "body": "One can do event driven architecture using channels fairly easily."}, {"owner": {"reputation": 353, "user_id": 4471534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rQS9kf4ZjOc/AAAAAAAAAAI/AAAAAAAAA7g/egTCeMZdKeE/photo.jpg?sz=128", "display_name": "Andres", "link": "https://stackoverflow.com/users/4471534/andres"}, "edited": false, "score": 0, "creation_date": 1558312741, "post_id": 42126960, "comment_id": 99047272, "body": "do you think i can use both in some situations?"}, {"owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 1, "creation_date": 1558363283, "post_id": 42126960, "comment_id": 99067016, "body": "Personally I would avoid mixing Coroutines and RxJava, for consistency and complexity reasons. Depending your use-case, you may consider Coroutines with LiveData or the newly introduced type Flow: <a href=\"https://medium.com/@elizarov/cold-flows-hot-channels-d74769805f9\" rel=\"nofollow noreferrer\">Roman Elizarov: Cold flows, hot channels</a>"}, {"owner": {"reputation": 1397, "user_id": 10199138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-B3EYIaWV1xY/AAAAAAAAAAI/AAAAAAAABPk/MlOok2YSU5I/photo.jpg?sz=128", "display_name": "MJ Studio", "link": "https://stackoverflow.com/users/10199138/mj-studio"}, "edited": false, "score": 3, "creation_date": 1566935136, "post_id": 42126960, "comment_id": 101809223, "body": "In addition, \u2018\u2019\u2019map()\u2019\u2019\u2019 or \u2018\u2019\u2019flatMap()\u2019\u2019\u2019 is available in Coroutin too. The role of \u2018\u2019\u2019flow\u2019\u2019\u2019 of Coroutine is similiar with Observable in Rx and you can also use so many operator for this. Plus, Coroutine is significantly faster than Rx and use less resources than Rx. Let me show this article. <a href=\"https://link.medium.com/o1QNGL2bvZ\" rel=\"nofollow noreferrer\">link.medium.com/o1QNGL2bvZ</a>"}, {"owner": {"reputation": 609, "user_id": 2861185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/af26bede4288dc4b793b33b24bfb5b27?s=128&d=identicon&r=PG&f=1", "display_name": "Lee Kang", "link": "https://stackoverflow.com/users/2861185/lee-kang"}, "edited": false, "score": 0, "creation_date": 1567408212, "post_id": 42126960, "comment_id": 101942196, "body": "I&#39;m not sure how an answer gets by without mentioning <code>Flow</code> type.  <a href=\"https://kotlinlang.org/docs/reference/coroutines/flow.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/coroutines/flow.html</a> .  That is the most comparable part of coroutines to RxJava"}, {"owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "edited": false, "score": 0, "creation_date": 1567435502, "post_id": 42126960, "comment_id": 101953937, "body": "That&#39;s right, but <code>Flow</code> wasn&#39;t available when the question and the answers were written."}], "tags": [], "owner": {"reputation": 4058, "user_id": 3988291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7nFrq.jpg?s=128&g=1", "display_name": "Geoffrey Marizy", "link": "https://stackoverflow.com/users/3988291/geoffrey-marizy"}, "is_accepted": true, "score": 102, "last_activity_date": 1610275153, "last_edit_date": 1610275153, "creation_date": 1486605606, "answer_id": 42126960, "question_id": 42066066, "link": "https://stackoverflow.com/questions/42066066/how-kotlin-coroutines-are-better-than-rxkotlin/42126960#42126960", "title": "How Kotlin coroutines are better than RxKotlin?", "body": "<p><strong>Disclaimer:</strong> Parts of this answer are irrelevant since Coroutines now have the flow API, very similar to Rx one. If you want an up-to-date answer, jump to the last edit.</p>\n<p>There is two parts in Rx; the Observable pattern, and a solid set of operators to manipulate, transform and combine them. The Observable pattern, by itself, doesn't do a lot. Same with Coroutines; it's just another paradigm to deal with asynchronism. You can compare the pro/cons of callbacks, Observable and coroutines to solve a given problem, but you can't compare a paradigm with a fully featured library. It's like comparing a language with a framework.</p>\n<p>How Kotlin coroutines are better than RxKotlin ? Didn't used coroutines yet, but it's look similar to async/wait in C#. You just write sequential code, everything is as easy as writing synchronous code ... except it execute asynchronously. It's easier to grasp.</p>\n<p>Why would I want to use kotlin coroutines ? I will answer for myself. Most of the time I will stick to Rx, because I favor event-driven architecture. But should arise the situation where I am writing sequential code, and I need to call an asynchronous method in the middle, I will happily leverage coroutines to keep it that way and avoiding wrapping everything in Observable.</p>\n<p><strong>Edit</strong>: Now that I am using coroutines it's time for an update.</p>\n<p>RxKotlin is just syntactic sugar to use RxJava in Kotlin, so I will speak about RxJava and not RxKotlin in the following. Coroutines are a lower lever and more general concept than RxJava, they serve others use-cases. That said, there is one use-case where you could compare RxJava and coroutines (<code>channel</code>), it's passing around data asynchronously. Coroutines have a clear advantage over RxJava here:</p>\n<h2>Coroutines are better to deal with resources</h2>\n<ul>\n<li>In RxJava you can assign computations to schedulers but <code>subscribeOn()</code> and <code>ObserveOn()</code>are confusing. Every coroutine is given a thread context and return to parent context. For a channel, both side (producer, consumer) execute on his own context. Coroutines are more intuitive on thread or thread pool affectation.</li>\n<li>Coroutines give more control on when those computation occur. You can for example pass hand (<code>yield</code>), prioritize (<code>select</code>), parallelize (multiple <code>producer</code>/<code>actor</code> on <code>channel</code>) or lock resource (<code>Mutex</code>) for a given computation. It may not matter on server (where RxJava came first) but on resources limited environment this level of control may be required.</li>\n<li>Due to it's reactive nature, backpressure doesn't fit well in RxJava. In the other end <code>send()</code> to channel is a suspensive function that suspend when channel capacity is reached. It's out-of-the-box backpressure given by nature. You could also <code>offer()</code> to channel, in which case the call never suspend but return <code>false</code> in case the channel is full, effectively reproducing <code>onBackpressureDrop()</code> from RxJava. Or you could just write your own custom backpressure logic, which won't be difficult with coroutines, especially compared to do the same with RxJava.</li>\n</ul>\n<p>There is another use-case, where coroutines shine and this will answer your second question &quot;Why would I want to use Kotlin coroutines?&quot;. Coroutines are the perfect replacement for background threads or <code>AsyncTask</code> (Android). It's as easy as <code>launch { someBlockingFunction() }</code>. Of course you could achieve this with RxJava too, using <code>Schedulers</code> and <code>Completable</code> perhaps. You won't (or little) use the Observer pattern and the operators which are the signature of RxJava, a hint that this work is out of scope for RxJava. RxJava complexity (a useless tax here) will make your code more verbose and less clean than Coroutine's version.</p>\n<p>Readability matters. On this regard, RxJava and coroutines approach differ a lot. Coroutines are simpler than RxJava. If you are not at ease with <code>map()</code>, <code>flatmap()</code> and functional reactive programming in general, coroutines manipulations are easier, involving basics instructions: <code>for</code>, <code>if</code>, <code>try/catch</code> ... But I personally find coroutine's code harder to understand for non-trivial tasks. Especially it involves more nesting and indentation whereas operator chaining in RxJava keep everything in line. Functional-style programming make processing more explicit. On top of that RxJava can solve complex transformations with a few standard operators from their rich (OK, way too rich) operator set. RxJava shine when you have complex data flows requiring a lot of combinations and transformations.</p>\n<p>I hope those considerations will help you choose the right tool given your needs.</p>\n<p><strong>Edit:</strong> Coroutine now have flow, an API very, very similar to Rx. One could compare pro/cons of each, but the truth is the differences are minor.</p>\n<p>Coroutines as it's core is a concurrency design pattern, with add-on libraries, one of those being a stream API similar to Rx. Obviously, Coroutines having a far broader scope than Rx, there is a lot of things that Coroutines can that Rx can't, and I can't list them all. But usually if I use Coroutines in one of my project it boil down to one reason:</p>\n<h2>Coroutines are better at removing callback from your code</h2>\n<p>I avoid using callback wich harm readability too much. Coroutines make asynchronous code simple and easy to write. By leveraging the suspend keyword, your code look like synchronous one.</p>\n<p>I have seen Rx used in project mostly for the same purpose of replacing callback, but if you don't plan to modify your architecture to commit to the reactive pattern, Rx will be a burden. Consider this interface:</p>\n<pre><code>interface Foo {\n   fun bar(callback: Callback)\n}\n</code></pre>\n<p>The Coroutine equivalent is more explicit, with a return type and the keyword suspend indicating it's an asynchronous operation.</p>\n<pre><code>interface Foo {\n   suspend fun bar: Result\n}\n</code></pre>\n<p>But there is a problem with the Rx equivalent:</p>\n<pre><code>interface Foo {\n   fun bar: Single&lt;Result&gt;\n}\n</code></pre>\n<p>When you call bar() in the callback or Coroutine version, you trigger the computation; with the Rx version, you get a representation of a computation that you can trigger at will. You need to call bar() then subscribing to the Single. Usually not a big deal, but it's a little confusing for beginner and can lead to subtle problem.</p>\n<p>One exemple of such problems, suppose the callback bar function is implemented as such:</p>\n<pre><code>fun bar(callback: Callback) {\n   setCallback(callback)\n   refreshData()\n}\n</code></pre>\n<p>If you don't port it properly, you will end with a Single that can be triggered only once because refreshData() is called in bar() function and not at subscription time. A beginner mistake, granted, but the thing is Rx is way more than a callback replacement and a lot of developers struggle to grasp Rx.</p>\n<p>If your objective is to transform an asynchronous task from callback to a nicer paradigm, Coroutines are a perfect fit whereas Rx add some complexity.</p>\n"}, {"comments": [{"owner": {"reputation": 497, "user_id": 3282642, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d1ed31d919f57c4c78ea3025e4d210b0?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush Katariya", "link": "https://stackoverflow.com/users/3282642/piyush-katariya"}, "edited": false, "score": 0, "creation_date": 1534677880, "post_id": 43783215, "comment_id": 90784034, "body": "What about Error/Exception Handling Management ? Is Rx better than Coroutines ?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "reply_to_user": {"reputation": 497, "user_id": 3282642, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d1ed31d919f57c4c78ea3025e4d210b0?s=128&d=identicon&r=PG&f=1", "display_name": "Piyush Katariya", "link": "https://stackoverflow.com/users/3282642/piyush-katariya"}, "edited": false, "score": 2, "creation_date": 1534766721, "post_id": 43783215, "comment_id": 90810415, "body": "If we compare Rx to kotlinx.coroutines library then they both provide roughly identical error/exception handling capabilities, modulo the style differences. You can either install global error/exception handlers or handle errors locally using various constructs."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1536577418, "post_id": 43783215, "comment_id": 91459956, "body": "I&#39;d say that coroutines are definitely more flexible in error handling because you can use the good old <code>try-catch</code>. You get out-of-the-box scope control that clearly, visually demarcates what you&#39;re guarding. You can nest these blocks and code up intricate error handling patterns that are still quite easy to reason about. Syntactically, all a library based on higher-order functions can use is the method chain. Coroutines have the whole language."}, {"owner": {"reputation": 972, "user_id": 1229735, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/82d3be299cc6d15d5bbe4c424030b1d1?s=128&d=identicon&r=PG", "display_name": "yiati", "link": "https://stackoverflow.com/users/1229735/yiati"}, "edited": false, "score": 0, "creation_date": 1550164419, "post_id": 43783215, "comment_id": 96179004, "body": "What is an example of a problem/code that does not &quot;easily decompose into a sequence of standard operators&quot;?"}, {"owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "edited": false, "score": 0, "creation_date": 1606121417, "post_id": 43783215, "comment_id": 114854029, "body": "hey Roman congrats on the Kotlin leadership :) anything wrong in my answer to this question?"}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 85, "last_activity_date": 1528879443, "last_edit_date": 1528879443, "creation_date": 1493901730, "answer_id": 43783215, "question_id": 42066066, "link": "https://stackoverflow.com/questions/42066066/how-kotlin-coroutines-are-better-than-rxkotlin/43783215#43783215", "title": "How Kotlin coroutines are better than RxKotlin?", "body": "<p>Kotlin coroutines are different from Rx. It is hard to compare them apples-to-apples, because Kotlin coroutines are a thin language feature (with just a couple of basic concepts and a few basic functions to manipulate them), while Rx is a pretty heavy library with quite large variety of ready-to-use operators. Both are designed to address a problem of asynchronous programming, however their approach to solution is very different:</p>\n\n<ul>\n<li><p>Rx comes with a particular functional style of programming that can be implemented in virtually any programming language without support from the language itself. It works well when the problem at hand easily decomposes into a sequence of standard operators and not so well otherwise.</p></li>\n<li><p>Kotlin coroutines provide a language feature that let library writers implement various asynchronous programming styles, including, but not limited to functional reactive style (Rx). With Kotlin coroutines you can also write your asynchronous code in imperative style, in promise/futures-based style, in actor-style, etc. </p></li>\n</ul>\n\n<p>It is more appropriate to compare Rx with some specific libraries that are implemented based on Kotlin coroutines. </p>\n\n<p>Take <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"noreferrer\">kotlinx.coroutines library</a> as one example. This library provides a set of primitives like <code>async/await</code> and channels that are typically baked into other programming languages. It also has support for light-weight future-less actors. You can read more in the <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\">Guide to kotlinx.coroutines by example</a>.</p>\n\n<p>Channels provided by <code>kotlinx.coroutines</code> can replace or augment Rx in certain use-cases. There is a separate <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/reactive/coroutines-guide-reactive.md\" rel=\"noreferrer\">Guide to reactive streams with coroutines</a> that goes deeper into similarities and differences with Rx. </p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 3098976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41a291c85b10aad2250aa80744d6b8c?s=128&d=identicon&r=PG", "display_name": "Davide Bertola", "link": "https://stackoverflow.com/users/3098976/davide-bertola"}, "is_accepted": false, "score": 6, "last_activity_date": 1510384076, "creation_date": 1510384076, "answer_id": 47235364, "question_id": 42066066, "link": "https://stackoverflow.com/questions/42066066/how-kotlin-coroutines-are-better-than-rxkotlin/47235364#47235364", "title": "How Kotlin coroutines are better than RxKotlin?", "body": "<p>The talk/doc you linked does not talk about channels. Channels are what fill the gap between your current understanding of coroutines and event driven programming. </p>\n\n<p>With coroutines and channels you can do event driven programming as you are probably used to do with rx, but you can do it with synchronous-looking code and without as many \"custom\" operators.</p>\n\n<p>If you want to understand this better I suggest to look outside of kotlin, where those concepts are more mature and refined (not experimental). Look at <code>core.async</code> from Clojure, Rich Hickey videos, posts and related discussions.</p>\n\n<ul>\n<li><a href=\"http://discuss.purelyfunctional.tv/t/core-async-channels-vs-rx-observables/519/2\" rel=\"noreferrer\">http://discuss.purelyfunctional.tv/t/core-async-channels-vs-rx-observables/519/2</a></li>\n<li><a href=\"https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/CoreAsync.md\" rel=\"noreferrer\">https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/CoreAsync.md</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 699, "user_id": 3379751, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/19ac73ac00eae3b39950161b8f44d6a5?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Urbanowicz", "link": "https://stackoverflow.com/users/3379751/samuel-urbanowicz"}, "is_accepted": false, "score": 3, "last_activity_date": 1574241057, "creation_date": 1574241057, "answer_id": 58950546, "question_id": 42066066, "link": "https://stackoverflow.com/questions/42066066/how-kotlin-coroutines-are-better-than-rxkotlin/58950546#58950546", "title": "How Kotlin coroutines are better than RxKotlin?", "body": "<p>Coroutines are designed to provide a lightweight asynchronous programming framework. Lightweight in terms of resources needed to start the async job. Coroutines don't enforce using an external API and are more natural for the users (programmers). In contrast, RxJava + RxKotlin has an additional data processing package that is not really needed in Kotlin which has a really rich API in the standard library for Sequences and Collections processing.</p>\n\n<p>If you'd like to see more about the practical use of coroutines on Android I can recommend my article:\n<a href=\"https://www.netguru.com/codestories/android-coroutines-%EF%B8%8Fin-2020\" rel=\"nofollow noreferrer\">https://www.netguru.com/codestories/android-coroutines-%EF%B8%8Fin-2020</a></p>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 11310951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73969901d80ca089c799098c2d10bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Rvb84", "link": "https://stackoverflow.com/users/11310951/rvb84"}, "edited": false, "score": 0, "creation_date": 1601299119, "post_id": 63943728, "comment_id": 113355721, "body": "Great comparison and summary."}, {"owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "reply_to_user": {"reputation": 405, "user_id": 11310951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73969901d80ca089c799098c2d10bf1?s=128&d=identicon&r=PG&f=1", "display_name": "Rvb84", "link": "https://stackoverflow.com/users/11310951/rvb84"}, "edited": false, "score": 0, "creation_date": 1601997061, "post_id": 63943728, "comment_id": 113576736, "body": "thanks, I actually improved it by fixing some mistake in formatting and adding some part i forgot to include"}], "tags": [], "owner": {"reputation": 10302, "user_id": 902276, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/eLAjw.jpg?s=128&g=1", "display_name": "Daniele Segato", "link": "https://stackoverflow.com/users/902276/daniele-segato"}, "is_accepted": false, "score": 24, "last_activity_date": 1601997484, "last_edit_date": 1601997484, "creation_date": 1600365418, "answer_id": 63943728, "question_id": 42066066, "link": "https://stackoverflow.com/questions/42066066/how-kotlin-coroutines-are-better-than-rxkotlin/63943728#63943728", "title": "How Kotlin coroutines are better than RxKotlin?", "body": "<p>I know RxJava very well and I've recently switched to Kotlin Coroutines and Flow.</p>\n<p>RxKotlin is basically the same as RxJava, it just adds some syntactic sugar to make it more comfortable / idiomatic writing RxJava code in Kotlin.</p>\n<p>A &quot;fair&quot; comparison between RxJava and Kotlin Coroutines should include Flow in the mix and I'm gonna try to explain why here. This is gonna be a bit long but I'll try to keep it as simple as I can with examples.</p>\n<p>With RxJava you have different objects (since version 2):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// 0-n events without backpressure management\nfun observeEventsA(): Observable&lt;String&gt;\n\n// 0-n events with explicit backpressure management\nfun observeEventsB(): Flowable&lt;String&gt;\n\n// exactly 1 event\nfun encrypt(original: String): Single&lt;String&gt;\n\n// 0-1 events\nfun cached(key: String): Maybe&lt;MyData&gt;\n\n// just completes with no specific results\nfun syncPending(): Completable\n</code></pre>\n<p>In kotlin coroutines + flow you do not need many entities cause if you do not have a stream of events you can just use simple coroutines (suspending functions):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// 0-n events, the backpressure is automatically taken care off\nfun observeEvents(): Flow&lt;String&gt;\n\n// exactly 1 event\nsuspend fun encrypt(original: String): String\n\n// 0-1 events\nsuspend fun cached(key: String): MyData?\n\n// just completes with no specific results\nsuspend fun syncPending()\n</code></pre>\n<p>Bonus: Kotlin Flow / Coroutines support <code>null</code> values (support removed with RxJava 2)</p>\n<h2>What about the operators?</h2>\n<p>With RxJava you have so many operators (<code>map</code>, <code>filter</code>, <code>flatMap</code>, <code>switchMap</code>, ...), and for most of them there's a version for each entity type (<code>Single.map()</code>, <code>Observable.map()</code>, ...).</p>\n<p>Kotlin Coroutines + Flow <strong>do not need that many operators</strong>, let's see why with some example on the most common operators</p>\n<p><strong>map()</strong></p>\n<p>RxJava:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getPerson(id: String): Single&lt;Person&gt;\nfun observePersons(): Observable&lt;Person&gt;\n\nfun getPersonName(id: String): Single&lt;String&gt; {\n  return getPerson(id)\n     .map { it.firstName }\n}\n\nfun observePersonsNames(): Observable&lt;String&gt; {\n  return observePersons()\n     .map { it.firstName }\n}\n</code></pre>\n<p>Kotlin coroutines + Flow</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun getPerson(id: String): Person\nfun observePersons(): Flow&lt;Person&gt;\n\nsuspend fun getPersonName(id: String): String? {\n  return getPerson(id).firstName\n}\n\nfun observePersonsNames(): Flow&lt;String&gt; {\n  return observePersons()\n     .map { it.firstName }\n}\n</code></pre>\n<p>You do not need an operator for the &quot;single&quot; case and it is fairly similar for the <code>Flow</code> case.</p>\n<p><strong>flatMap()</strong></p>\n<p>Say you need, for each person, to grab from a database (or remote service) it's insurance</p>\n<p>RxJava</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun fetchInsurance(insuranceId: String): Single&lt;Insurance&gt;\n\nfun getPersonInsurance(id: String): Single&lt;Insurance&gt; {\n  return getPerson(id)\n    .flatMap { person -&gt;\n      fetchInsurance(person.insuranceId)\n    }\n}\n\nfun obseverPersonsInsurances(): Observable&lt;Insurance&gt; {\n  return observePersons()\n    .flatMap { person -&gt;\n      fetchInsurance(person.insuranceId) // this is a Single\n          .toObservable() // flatMap expect an Observable\n    }\n}\n</code></pre>\n<p>Let's see with Kotlin Coroutiens + Flow</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun fetchInsurance(insuranceId: String): Insurance\n\nsuspend fun getPersonInsurance(id: String): Insurance {\n  val person = getPerson(id)\n  return fetchInsurance(person.insuranceId)\n}\n\nfun obseverPersonsInsurances(): Flow&lt;Insurance&gt; {\n  return observePersons()\n    .map { person -&gt;\n      fetchInsurance(person.insuranceId)\n    }\n}\n</code></pre>\n<p>Like before, with the simple coroutine case we do not need operators, we just write the code like we would if it wasn't async, just using suspending functions.</p>\n<p>And with <code>Flow</code> that is NOT a typo, there's no need for a <code>flatMap</code> operator, we can just use <code>map</code>. And the reason is that map lambda is a suspending function! We can execute suspending code in it!!!</p>\n<p>We don't need another operator just for that.</p>\n<p>For more complex stuff you can use the Flow <code>transform()</code> operator.</p>\n<p><strong>Every Flow operator accept a suspending function!</strong></p>\n<p>so if you need to <code>filter()</code> but your filter need to perform a network call you can!</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun observePersonsWithValidInsurance(): Flow&lt;Person&gt; {\n  return observerPersons()\n    .filter { person -&gt;\n        val insurance = fetchInsurance(person.insuranceId)\n        insurance.isValid()\n    }\n}\n</code></pre>\n<p><strong>delay(), startWith(), concatWith(), ...</strong></p>\n<p>In RxJava you have many operators for applying delay or adding items before and after:</p>\n<ul>\n<li>delay()</li>\n<li>delaySubscription()</li>\n<li>startWith(T)</li>\n<li>startWith(Observable)</li>\n<li>concatWith(...)</li>\n</ul>\n<p>with kotlin Flow you can simply:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>grabMyFlow()\n  .onStart {\n    // delay by 3 seconds before starting\n    delay(3000L)\n    // just emitting an item first\n    emit(&quot;First item!&quot;)\n    emit(cachedItem()) // call another suspending function and emit the result\n  }\n  .onEach { value -&gt;\n    // insert a delay of 1 second after a value only on some condition\n    if (value.length() &gt; 5) {\n      delay(1000L)\n    }\n  }\n  .onCompletion {\n    val endingSequence: Flow&lt;String&gt; = grabEndingSequence()\n    emitAll(endingSequence)\n  }\n</code></pre>\n<p><strong>error handling</strong></p>\n<p>RxJava have lot of operators to handle errors:</p>\n<ul>\n<li>onErrorResumeWith()</li>\n<li>onErrorReturn()</li>\n<li>onErrorComplete()</li>\n</ul>\n<p>with Flow you don't need much more than the operator <code>catch()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>  grabMyFlow()\n    .catch { error -&gt;\n       // emit something from the flow\n       emit(&quot;We got an error: $error.message&quot;)\n       // then if we can recover from this error emit it\n       if (error is RecoverableError) {\n          // error.recover() here is supposed to return a Flow&lt;&gt; to recover\n          emitAll(error.recover())\n       } else {\n          // re-throw the error if we can't recover (aka = don't catch it)\n          throw error\n       }\n    }\n</code></pre>\n<p>and with suspending function you can just use <code>try {} catch() {}</code>.</p>\n<p><strong>easy to write Flow operators</strong></p>\n<p>Due to the coroutines powering Flow under the hood it is way easier to write operators. If you ever checked an RxJava operator you would see how hard it is and how many things you need to learn.</p>\n<p>Writing Kotlin Flow operators is easier, you can get an idea just by looking at the source code of the operators that are already part of Flow <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/kotlinx-coroutines-core/common/src/flow/operators\" rel=\"noreferrer\">here</a>. The reason is coroutines makes it easier to write async code and operators just feels more natural to use.</p>\n<p>As a bonus, Flow operators are all kotlin Extension Functions, which means either you or libraries can easily add operators and they will not feel weird to use (ex. <code>observable.lift()</code> or <code>observable.compose()</code>).</p>\n<p><strong>Upstream thread doesn't leak downstream</strong></p>\n<p>What does this even mean?</p>\n<p>Let's take this RxJava example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>urlsToCall()\n  .switchMap { url -&gt;\n    if (url.scheme == &quot;local&quot;) {\n       val data = grabFromMemory(url.path)\n       Flowable.just(data)\n    } else {\n       performNetworkCall(url)\n        .subscribeOn(Subscribers.io())\n        .toObservable()\n    }\n  }\n  .subscribe {\n    // in which thread is this call executed?\n  }\n</code></pre>\n<p>So where is the callback in <code>subscribe</code> executed?</p>\n<p>The answer is:</p>\n<blockquote>\n<p>depends...</p>\n</blockquote>\n<p>if it comes from the network it's in an IO thread; if it comes from the other branch it is undefined, depends on which thread is used to send the url.</p>\n<p>This is the concept of &quot;upstream thread leaking downstream&quot;.</p>\n<p>With Flow and Coroutines this is not the case, unless you explicitly require this behavior (using <code>Dispatchers.Unconfined</code>).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>suspend fun myFunction() {\n  // execute this coroutine body in the main thread\n  withContext(Dispatchers.Main) {\n    urlsToCall()\n      .conflate() // to achieve the effect of switchMap\n      .transform { url -&gt;\n        if (url.scheme == &quot;local&quot;) {\n           val data = grabFromMemory(url.path)\n           emit(data)\n        } else {\n           withContext(Dispatchers.IO) {\n             performNetworkCall(url)\n           }\n        }\n      }\n      .collect {\n        // this will always execute in the main thread\n        // because this is where we collect,\n        // inside withContext(Dispatchers.Main)\n      }\n  }\n}\n</code></pre>\n<p>Coroutines code will run in the context that they have been executed into. And only the part with the network call will run on the IO thread, while everything else we see here will run on the main thread.</p>\n<p>Well, actually, we don't know where code inside <code>grabFromMemory()</code> will run, if it's a suspending function we only know that it will be called inside the Main thread, but inside that suspending function we could have another Dispatcher being used, but when it will get back with the result <code>val data</code> this will be again in the main thread.</p>\n<p>Which means, looking at a piece of code, it's easier to tell in which thread it will run, if you see an explicit Dispatcher = it's that dispatcher, if you do not see it: in whatever thread dispatcher the suspension call you are looking at is being called.</p>\n<h2>Structured Concurrency</h2>\n<p>This is not a concept invented by kotlin, but it is something they embraced more than any other language I know of.</p>\n<p>If what i explain here is not enough for you read <a href=\"https://medium.com/@elizarov/structured-concurrency-722d765aa952\" rel=\"noreferrer\">this article</a> or watch <a href=\"https://youtu.be/Mj5P47F6nJg\" rel=\"noreferrer\">this video</a>.</p>\n<p>So what is it?</p>\n<p>With RxJava you subscribe to observables, and they give you a <code>Disposable</code> object.</p>\n<p>You need to take care of disposing of it when it's not needed anymore. So what you usually do is keep a reference to it (or put it in a <code>CompositeDisposable</code>) to later call <code>dispose()</code> on it when it's not needed anymore. If you don't the linter will give you a warning.</p>\n<p>RxJava is somewhat nicer than a traditional thread. When you create a new thread and execute something on it, it's a &quot;fire and forget&quot;, you do not even get a way to cancel it: <code>Thread.stop()</code> is deprecated, harmful, and recent implementation actually do nothing. <code>Thread.interrupt()</code> makes your thread fail etc.. Any exceptions goes lost.. you get the picture.</p>\n<p>With kotlin coroutines and flow they reverse the &quot;Disposable&quot; concept. You CANNOT create a coroutine without a <code>CoroutineContext</code>.</p>\n<p>This context define the <code>scope</code> of your coroutine. Every child coroutine spawned inside that one will share the same scope.</p>\n<p>If you subscribe to a flow you have to be inside a coroutine or provide a scope too.</p>\n<p>You can still keep reference of the coroutines you start (<code>Job</code>) and cancel them. This will cancel every child of that coroutine automatically.</p>\n<p>If you are an Android developer they give you these scopes automatically. Example: <code>viewModelScope</code> and you can launch coroutines inside a viewModel with that scope knowing they will automatically be cancelled when the viewmodel is cleared.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>viewModelScope.launch {\n  // my coroutine here\n}\n</code></pre>\n<p>Some scope will terminate if any children fail, some other scope will let each children leave his own lifecycle without stopping other children if one fails (<code>SupervisedJob</code>).</p>\n<p>Why is this a good thing?</p>\n<p>Let me try to explain it like <em>Roman Elizarov</em> did.</p>\n<p>Some old programming language had this concept of <code>goto</code> which basically let you jump from one line of code to another at will.</p>\n<p>Very powerful, but if abused you could end up with very hard to understand code, difficult to debug and reason upon.</p>\n<p>So new programming languages eventually completely removed it from the language.</p>\n<p>When you use <code>if</code> or <code>while</code> or <code>when</code> it is way easier to reason on the code: doesn't matter what happens inside those blocks, you'll eventually come out of them, it's a &quot;context&quot;, you don't have weird jumps in and out.</p>\n<p>Launching a thread or subscribing to an RxJava observable is similar to the goto: you are executing code which than will keep going until &quot;elsewhere&quot; is stopped.</p>\n<p>With coroutines, by demanding you provide a context/scope, you know that when your scope is over everything inside that coroutines will complete when your context completes, doesn't matter if you have a single coroutines or 10 thousands.</p>\n<p>You can still &quot;goto&quot; with coroutines by using <code>GlobalScope</code>, which you shouldn't for the same reason you shouldn't use <code>goto</code> in languages that provides it.</p>\n<h2>Any Drawback?</h2>\n<p>Flow is still in development and some features available in RxJava right now are still not available in Kotlin Coroutines Flow.</p>\n<p>The big missing, right now, is <code>share()</code> operators and its friends (<code>publish()</code>, <code>replay()</code> etc...)</p>\n<p>They are actually in advanced state of development and expected to be released soon (shortly after the already released kotlin <code>1.4.0</code>), you can see the API design <a href=\"https://github.com/Kotlin/kotlinx.coroutines/issues/2047\" rel=\"noreferrer\">here</a>:</p>\n"}], "owner": {"reputation": 2150, "user_id": 3160531, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/501097d9d9b4f54f0eff01d859f42901?s=128&d=identicon&r=PG&f=1", "display_name": "charlie_pl", "link": "https://stackoverflow.com/users/3160531/charlie-pl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23808, "favorite_count": 38, "accepted_answer_id": 42126960, "answer_count": 5, "score": 76, "last_activity_date": 1610275153, "creation_date": 1486378551, "last_edit_date": 1595800518, "question_id": 42066066, "link": "https://stackoverflow.com/questions/42066066/how-kotlin-coroutines-are-better-than-rxkotlin", "title": "How Kotlin coroutines are better than RxKotlin?", "body": "<p>Why would I want to use Kotlin's coroutines?</p>\n<p>It seems that the RxKotlin library is much more versatile.\nKotlin's coroutines look significantly less powerful and more cumbersome to use in comparison.</p>\n<p>I base my opinion on coroutines on <a href=\"https://www.youtube.com/watch?v=4W3ruTWUhpw\" rel=\"noreferrer\">this design talk by Andrey Breslav (JetBrains)</a></p>\n<p>Slideshow from the talk is <a href=\"https://www.slideshare.net/abreslav/jvmls-2016-coroutines-in-kotlin\" rel=\"noreferrer\">accessible here.</a></p>\n<hr />\n<p>EDIT (thanks to @hotkey):</p>\n<p>Better source on the current state of coroutines <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/coroutines.md\" rel=\"noreferrer\">here.</a></p>\n"}, {"tags": ["android", "android-volley", "kotlin", "android-listfragment", "custom-adapter"], "comments": [{"owner": {"reputation": 921, "user_id": 5217410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d86469e3a8590912cfe93304d7121b9?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Darryl", "link": "https://stackoverflow.com/users/5217410/jonathan-darryl"}, "edited": false, "score": 0, "creation_date": 1486377315, "post_id": 42065482, "comment_id": 71302646, "body": "why do you inflate your fragment view when refreshing? you should inflate it on <code>onCreateView()</code> part. Possibly you took the listView reference in your Response.Listener from the wrong root (i.e. the one you newly inflated) and that&#39;s why the update is not showing up. (Your screen uses old rootView and you did nothing to it)."}, {"owner": {"reputation": 588, "user_id": 6749691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46d3b1bce223f8a032530c894cff1759?s=128&d=identicon&r=PG&f=1", "display_name": "mayosk", "link": "https://stackoverflow.com/users/6749691/mayosk"}, "edited": false, "score": 1, "creation_date": 1486397645, "post_id": 42065482, "comment_id": 71315988, "body": "this is bad implementation, why you don&#39;t make ArrayList with data public and set it again? i mean like this: adapter.job_list = pending_job and then call notifyDataSetChanged() ?"}, {"owner": {"reputation": 73, "user_id": 7383253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b37d1d1e9421b2a9128b4b99333b35?s=128&d=identicon&r=PG&f=1", "display_name": "Aromic", "link": "https://stackoverflow.com/users/7383253/aromic"}, "edited": false, "score": 0, "creation_date": 1486458092, "post_id": 42065482, "comment_id": 71341523, "body": "I just add <code>adapter.job_list</code> in <code>onRefresh</code> and then call <code>adapter.notifyDataSetChanged()</code>, so it work! Thank you everyone for help me out."}], "answers": [{"tags": [], "owner": {"reputation": 1486, "user_id": 6533179, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154375699724456/picture?type=large", "display_name": "Kemal T&#252;rk", "link": "https://stackoverflow.com/users/6533179/kemal-t%c3%bcrk"}, "is_accepted": false, "score": 0, "last_activity_date": 1499841453, "last_edit_date": 1499841453, "creation_date": 1499785982, "answer_id": 45038405, "question_id": 42065482, "link": "https://stackoverflow.com/questions/42065482/android-cannot-refresh-listview-using-customadapter/45038405#45038405", "title": "Android: cannot refresh Listview using CustomAdapter", "body": "<p>1.Way:\nYou can make background listener with <code>Asynctask</code> .You can listen to your server in a loop continuous.When data changed than you can refresh the <code>listview</code>.This way is easy but not good for performance.</p>\n\n<p>2.Way:\nYou can use <code>firebase</code> database.Because it is working realtime.</p>\n\n<p>3.Way:\nIf you don't want change your database.You can use <code>Google Cloud Messaging</code>.You must implement this, both server and your application.When data changed on server listen and send message with cloud messaging to android app.And refresh <code>list view</code> automatically.</p>\n"}, {"tags": [], "owner": {"reputation": 579, "user_id": 3273801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qP8A9.png?s=128&g=1", "display_name": "Altaf Shaikh", "link": "https://stackoverflow.com/users/3273801/altaf-shaikh"}, "is_accepted": true, "score": 0, "last_activity_date": 1501840832, "creation_date": 1501840832, "answer_id": 45503838, "question_id": 42065482, "link": "https://stackoverflow.com/questions/42065482/android-cannot-refresh-listview-using-customadapter/45503838#45503838", "title": "Android: cannot refresh Listview using CustomAdapter", "body": "<p>Define a method <code>UpdateData</code> in CustomAdapter class which will receive new data and replaces old data</p>\n\n<pre><code>fun UpdateData(new_job_list: ArrayList&lt;HashMap&lt;String, String&gt;&gt;){\n       job_list.clear()\n       job_list.addAll(new_job_list)\n       notifyDataSetChanged()\n   }\n</code></pre>\n\n<p>Now when you get new data from volly, instead of setting adapter again for listview just use </p>\n\n<pre><code>adapter.UpdateData(pending_job)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 7383253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87b37d1d1e9421b2a9128b4b99333b35?s=128&d=identicon&r=PG&f=1", "display_name": "Aromic", "link": "https://stackoverflow.com/users/7383253/aromic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 45503838, "answer_count": 2, "score": 6, "last_activity_date": 1501840832, "creation_date": 1486376881, "last_edit_date": 1486377754, "question_id": 42065482, "link": "https://stackoverflow.com/questions/42065482/android-cannot-refresh-listview-using-customadapter", "title": "Android: cannot refresh Listview using CustomAdapter", "body": "<p>I need to refresh the list view with new data. This code below is used to obtain data in <code>OnCreateView</code> that is in <code>FragmentActivity</code> at the first time.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n        val url = \"something\"\n\n        val request_queue = Volley.newRequestQueue(this.context)\n        val stringRequest = StringRequest(Request.Method.GET, url,\n                Response.Listener&lt;String&gt; { response -&gt;\n                    val pending_job = Gson().fromJson&lt;ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;(\n                            response.toString(),\n                            object : TypeToken&lt;ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;() {}.type\n                    )\n                    this@PlaceholderFragment.showList(rootView, R.id.pending_job_list, pending_job)\n\n                    pending_job_list_layout.setOnRefreshListener(this)\n\n                    request_queue.stop()\n                }, Response.ErrorListener { error -&gt;\n            if (error.networkResponse != null) {\n                Toast.makeText(this.context, error.networkResponse.statusCode.toString(), Toast.LENGTH_SHORT).show()\n            }\n            request_queue.stop()\n        })\n        request_queue.add(stringRequest)\n}\n</code></pre>\n\n<p><code>showList</code> is the function to set CustomAdapter, which is</p>\n\n<pre><code>fun showList(rootView: View, tab_id: Int, job_list: ArrayList&lt;HashMap&lt;String, String&gt;&gt;) {\n\n    // custom display ListView\n    val adapter: CustomAdapter = CustomAdapter(\n            this.context,\n            job_list\n    )\n\n    this_adapter = adapter\n\n    val listView = rootView.findViewById(tab_id) as ListView\n    listView.adapter = adapter\n}\n</code></pre>\n\n<p>, and this <code>CustomAdapter</code> class,</p>\n\n<pre><code>class CustomAdapter(internal var mContext: Context,\n                internal var job_list: ArrayList&lt;HashMap&lt;String, String&gt;&gt;\n                ) : BaseAdapter() {\n\noverride fun getCount(): Int {\n    return job_list.size\n}\n\noverride fun getItem(position: Int): Any? {\n    return null\n}\n\noverride fun getItemId(position: Int): Long {\n    return 0\n}\n\noverride fun getView(position: Int, view: View?, parent: ViewGroup): View {\n    val mInflater = mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n    val item_view = mInflater.inflate(R.layout.activity_job_item, parent, false)\n\n    val job_name: MutableList&lt;String&gt; = arrayListOf()\n    job_list.mapTo(job_name) { it[\"BaseSiteName\"] as String }\n    val nameView: TextView = item_view.findViewById(R.id.name) as TextView\n    nameView.text = job_name[position]\n\n    val job_date: MutableList&lt;String&gt; = arrayListOf()\n    job_list.mapTo(job_date) { it[\"PlanDt\"] as String}\n    val dateView: TextView = item_view.findViewById(R.id.date) as TextView\n    dateView.text = job_date[position]\n\n    item_view.setOnClickListener{\n        val intent: Intent = Intent(mContext, JobDetailActivity::class.java)\n        intent.putExtra(\"job\", job_list[position])\n        mContext.startActivity(intent)\n    }\n\n    return item_view\n}\n</code></pre>\n\n<p>}</p>\n\n<p>However, I want to make the list refresh-able. I've written the following code to refresh the list.</p>\n\n<pre><code>override fun onRefresh() {\n    Toast.makeText(this.context, \"Refresh\", Toast.LENGTH_SHORT).show()\n    val rootView = this_inflater!!.inflate(R.layout.fragment_pending_job, this_container, false)\n\n    val url = \"something\"\n\n    val request_queue = Volley.newRequestQueue(this.context)\n    val stringRequest = StringRequest(Request.Method.GET, url,\n            Response.Listener&lt;String&gt; { response -&gt;\n                val pending_job = Gson().fromJson&lt;ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;(\n                        response.toString(),\n                        object : TypeToken&lt;ArrayList&lt;HashMap&lt;String, String&gt;&gt;&gt;() {}.type\n                )\n\n                val adapter: CustomAdapter = CustomAdapter(\n                        this.context,\n                        pending_job\n                )\n\n                val listView = rootView.findViewById(R.id.pending_job_list) as ListView\n                listView.adapter = adapter\n\n                pending_job_list_layout.isRefreshing = false\n\n                pending_job_list_layout.setOnRefreshListener(this)\n\n                request_queue.stop()\n            }, Response.ErrorListener { error -&gt;\n        if (error.networkResponse != null) {\n            Toast.makeText(this.context, error.networkResponse.statusCode.toString(), Toast.LENGTH_SHORT).show()\n        }\n        request_queue.stop()\n    })\n    request_queue.add(stringRequest)\n}\n</code></pre>\n\n<p>That is just instantiating the <code>CustomAdapter</code> again and take it to the listview again. </p>\n\n<p>When I refresh, nothing in the list is changed.</p>\n"}, {"tags": ["spring", "testing", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1486373597, "post_id": 42064001, "comment_id": 71300268, "body": "A workaround that I can immediately suggest trying is a local <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\"><code>object</code> expression</a> with the <code>@Autowired</code> property in it. Does it work?"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5206971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c987b7f81f805b296c8019c8a122720?s=128&d=identicon&r=PG&f=1", "display_name": "random_user", "link": "https://stackoverflow.com/users/5206971/random-user"}, "edited": false, "score": 0, "creation_date": 1524656478, "post_id": 47485109, "comment_id": 87058487, "body": "did you find any solution for the above question ? @user3528733"}], "tags": [], "owner": {"reputation": 347, "user_id": 560350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89f2b5641fa5e2a2fb4e6746f1305de0?s=128&d=identicon&r=PG", "display_name": "loc", "link": "https://stackoverflow.com/users/560350/loc"}, "is_accepted": false, "score": 0, "last_activity_date": 1511607199, "creation_date": 1511607199, "answer_id": 47485109, "question_id": 42064001, "link": "https://stackoverflow.com/questions/42064001/how-to-use-dependency-injection-in-spek-tests/47485109#47485109", "title": "How to use dependency injection in Spek tests", "body": "<p>Try it with <a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"nofollow noreferrer\">lateinit</a>:\n</p>\n\n<pre><code>@Autowired\nlateinit var calculator: SampleCalculator\n</code></pre>\n\n\n"}, {"comments": [{"owner": {"reputation": 1071, "user_id": 1081827, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/82f3c665bf2b98505b201d2a9fdbb950?s=128&d=identicon&r=PG", "display_name": "JoseF", "link": "https://stackoverflow.com/users/1081827/josef"}, "edited": false, "score": 0, "creation_date": 1590764844, "post_id": 54203531, "comment_id": 109813629, "body": "This example is no longer valid, functions and logic doesn&#39;t exist in Spek <code>2.0.10</code>"}], "tags": [], "owner": {"reputation": 599, "user_id": 4033879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a081550ea20081401cccaa29ba551627?s=128&d=identicon&r=PG&f=1", "display_name": "p3quod", "link": "https://stackoverflow.com/users/4033879/p3quod"}, "is_accepted": false, "score": 0, "last_activity_date": 1547571552, "creation_date": 1547571552, "answer_id": 54203531, "question_id": 42064001, "link": "https://stackoverflow.com/questions/42064001/how-to-use-dependency-injection-in-spek-tests/54203531#54203531", "title": "How to use dependency injection in Spek tests", "body": "<p>Take a look at <a href=\"https://github.com/spekframework/spek-spring-extension\" rel=\"nofollow noreferrer\">spek-spring-extension</a> project at GitHub, there's a way to inject beans from Spring context:</p>\n\n<p><strong>Spring Extension for Spek</strong></p>\n\n<p>This is a proof of concept for writing spring integration tests in Spek</p>\n\n<p><strong>Limitations</strong></p>\n\n<p>Currently, only injecting beans is supported.</p>\n\n<pre><code>@ContextConfiguration(classes = arrayOf(MyConfiguration::class))\nobject MySpec: Spek({\n    val context = createContext(MySpec::class)\n    val foo = context.inject&lt;Foo&gt;()\n    // val foo: Foo by context.inject()\n\n    it(\"blah blah blah\") {\n        foo.doSomething()\n    }\n})\n</code></pre>\n\n<p><strong>Issues</strong></p>\n\n<p>Spring's TestContext framework makes assumptions on how tests are structured which is incompatible with Spek, which means we can't use TestContextManager (we can but it will be very hackish).</p>\n"}], "owner": {"reputation": 1099, "user_id": 3528733, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/rCJ5b.jpg?s=128&g=1", "display_name": "user3528733", "link": "https://stackoverflow.com/users/3528733/user3528733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1399, "favorite_count": 3, "answer_count": 2, "score": 9, "last_activity_date": 1547571552, "creation_date": 1486372297, "question_id": 42064001, "link": "https://stackoverflow.com/questions/42064001/how-to-use-dependency-injection-in-spek-tests", "title": "How to use dependency injection in Spek tests", "body": "<p>I am implementing simple microservice using Kotlin, Spring and Spek. I want to test my repository but I wonder how can I inject repo into spek test case. Every example or tutorial base on creating new reference like this:</p>\n\n<pre><code>object SampleTest : Spek({\n    describe(\"a calculator\") {\n        val calculator = SampleCalculator()\n\n        it(\"should return the result of adding the first number to the second number\") {\n            val sum = calculator.sum(2, 4)\n            assertEquals(6, sum)\n        }\n\n        it(\"should return the result of subtracting the second number from the first number\") {\n            val subtract = calculator.subtract(4, 2)\n            assertEquals(2, subtract)\n        }\n    }\n})\n</code></pre>\n\n<p>To summup I dont want to do sth like this:</p>\n\n<pre><code>val calculator = SampleCalculator()\n</code></pre>\n\n<p>I want to achieve this</p>\n\n<pre><code>@Autowired\nval calculator: SampleCalculator\n</code></pre>\n\n<p>but I cant to that becasue I cant autowire service into local variable.. Any solutions ? I am new in kotlin and spek.</p>\n"}, {"tags": ["spring-boot", "kotlin", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 7271796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGXB.png?s=128&g=1", "display_name": "MrPowerGamerBR", "link": "https://stackoverflow.com/users/7271796/mrpowergamerbr"}, "edited": false, "score": 2, "creation_date": 1571672236, "post_id": 42060084, "comment_id": 103309595, "body": "This answer is the first that shows up when you search for &quot;exposed log sql&quot;  So here&#39;s the answer if you are using Logback:  ```     <code>&lt;logger name=&quot;Exposed&quot; level=&quot;debug&quot;&gt;         &lt;appender-ref ref=&quot;STDOUT&quot; &#47;&gt;     &lt;&#47;logger&gt;</code>"}], "tags": [], "owner": {"reputation": 277, "user_id": 3051750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c6d2cd4a40bf0cdc61d4cc414f9d422?s=128&d=identicon&r=PG&f=1", "display_name": "Josh B", "link": "https://stackoverflow.com/users/3051750/josh-b"}, "is_accepted": false, "score": 6, "last_activity_date": 1486353073, "creation_date": 1486353073, "answer_id": 42060084, "question_id": 42060083, "link": "https://stackoverflow.com/questions/42060083/sql-logging-with-exposed-in-spring-boot/42060084#42060084", "title": "SQL Logging with Exposed in Spring Boot", "body": "<p>logging.level.Exposed: DEBUG</p>\n\n<p>Put it in application.properties.  It will not work without the capital E on Exposed.</p>\n"}], "owner": {"reputation": 277, "user_id": 3051750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c6d2cd4a40bf0cdc61d4cc414f9d422?s=128&d=identicon&r=PG&f=1", "display_name": "Josh B", "link": "https://stackoverflow.com/users/3051750/josh-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2496, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1503093013, "creation_date": 1486353073, "last_edit_date": 1503093013, "question_id": 42060083, "link": "https://stackoverflow.com/questions/42060083/sql-logging-with-exposed-in-spring-boot", "title": "SQL Logging with Exposed in Spring Boot", "body": "<p>How do you enable logging of sql queries generated by Exposed in Spring Boot?</p>\n\n<p>The following do <em>not</em> work:\nlogging.level.org.jetbrains.exposed.sql: DEBUG\nlogging.level.org.jetbrains.exposed: DEBUG</p>\n"}, {"tags": ["android", "android-studio", "java-native-interface", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1486336501, "post_id": 42055121, "comment_id": 71289477, "body": "Could you please provide more details about the problem? Anything that might help someone reproduce it or understand what causes it: your OS, your software &amp; build setup including versions, project layout etc."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1486380952, "post_id": 42055121, "comment_id": 71304907, "body": "I have updated my question"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1486380798, "creation_date": 1486315936, "last_edit_date": 1486380798, "question_id": 42055121, "link": "https://stackoverflow.com/questions/42055121/android-studio-debugger-doesnt-work-when-using-c-support", "title": "Android Studio debugger doesn&#39;t work when using C++ support", "body": "<p>I can't debug my <strong>Java</strong> classes or <strong>Kotlin</strong> files, all breakpoints has \"x\" signature , but it works for <strong>cpp</strong> class files</p>\n\n<p>I'm using</p>\n\n<p><strong>Android Studio version 2.2.2</strong></p>\n\n<p><strong>OS version macOS siera 10.12</strong></p>\n\n<p><strong>Gradle version 2.2.2</strong></p>\n\n<p>this is my Module Build.gradle file </p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"awesomethings.ge.takeapic\"\n        minSdkVersion 18\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        externalNativeBuild {\n            cmake {\n                cppFlags \"-std=c++11 -fexceptions\"\n            }\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            debuggable true\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    externalNativeBuild {\n        cmake {\n            path \"CMakeLists.txt\"\n        }\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.1.1'\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1486291233, "post_id": 42048266, "comment_id": 71274402, "body": "Can you provide a more complete example of unit test that you&#39;d like to improve? I find it easier to use <code>!!.otherProperty</code>  to assert that the receiver should not be null."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 1, "creation_date": 1486310418, "post_id": 42048266, "comment_id": 71280444, "body": "@miensol, with <code>!!.otherProperty</code> you get an NPE, and the test result will be an error, not a failed assertion. Not a big deal though."}, {"owner": {"reputation": 24593, "user_id": 1071320, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dTt5I.jpg?s=128&g=1", "display_name": "Adil Hussain", "link": "https://stackoverflow.com/users/1071320/adil-hussain"}, "edited": false, "score": 0, "creation_date": 1605697705, "post_id": 42048266, "comment_id": 114729125, "body": "Force-unwrapping properties is unnecessary in tests written in Kotlin. See my answer in this thread <a href=\"https://stackoverflow.com/a/64891834/1071320\">here</a> which shows how to use the <code>kotlin-test</code> library&#39;s <code>assertNotNull</code> method to remove the need to force unwrap."}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1486391969, "post_id": 42053019, "comment_id": 71311936, "body": "You can also do <code>test ?: fail(&quot;...&quot;)</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1486392466, "post_id": 42053019, "comment_id": 71312301, "body": "@mfulton26, but the JUnit <code>Assert.fail()</code> is not a <code>Nothing</code> function, therefore there will be no nullability inference from this statement. Or is there a Kotlin testing library shipped with a <code>fail(): Nothing</code>  function?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 1, "creation_date": 1486392841, "post_id": 42053019, "comment_id": 71312553, "body": "<code>kotlin.test.fail</code> from <code>kotlin-test</code> (transitive dependency of <code>kotlin-test-junit</code>). I suppose the SO may not be using <code>kotlin-test</code> though so that is a good point."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 11, "last_activity_date": 1486393551, "last_edit_date": 1486393551, "creation_date": 1486303704, "answer_id": 42053019, "question_id": 42048266, "link": "https://stackoverflow.com/questions/42048266/combine-null-safety-and-assertnotnull/42053019#42053019", "title": "Combine null safety and assertNotNull", "body": "<p>Unfortunately, the bodies of the functions that you call, including inline functions, are not used for smart casts and nullability inference.</p>\n\n<p>There's not much in your code that can be improved, and I would only suggest one thing: you can use <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">the Elvis operator</a> with a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html#nothing\" rel=\"noreferrer\"><code>Nothing</code></a> function for those assertion statements. The control flow analysis takes into account the branches resulting into <code>Nothing</code> and infers nullability from that:</p>\n\n<pre><code>fun failOnNull(): Nothing = throw AssertionError(\"Value should not be null\")\n</code></pre>\n\n<p><sup></sup></p>\n\n<pre><code>val test: Foo? = foo()\n\ntest ?: failOnNull()\n// `test` is not-null after that\n</code></pre>\n\n<p><sup>This can be written without a function as well: <code>test ?: throw AssertionError(\"...\")</code>, because a <code>throw</code> expression also has type <code>Nothing</code>.</sup></p>\n\n<hr>\n\n<p>Speaking of a more general case of failing an assertion, one might use a <code>fail(...): Nothing</code> function, which provides a bonus hint for the control flow analysis as well. The JUnit <code>Assert.fail(...)</code> is not a <code>Nothing</code> function, but you can find one in the <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-test-junit\" rel=\"noreferrer\"><code>kotlin-test-junit</code></a> module or write your own one.</p>\n\n<pre><code>test as? SomeType ?: fail(\"`test` should be an instance of SomeType\")\n// smart cast works here, `test` is `SomeType`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8147, "user_id": 1052697, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/w37j0.png?s=128&g=1", "display_name": "Rolf \u30c4", "link": "https://stackoverflow.com/users/1052697/rolf-%e3%83%84"}, "is_accepted": false, "score": 3, "last_activity_date": 1548165541, "creation_date": 1548165541, "answer_id": 54309928, "question_id": 42048266, "link": "https://stackoverflow.com/questions/42048266/combine-null-safety-and-assertnotnull/54309928#54309928", "title": "Combine null safety and assertNotNull", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/kotlin.test/index.html\" rel=\"nofollow noreferrer\">kotlin.test</a> library comes with an easy solution for this:</p>\n\n<p><code>kotlin.test.assertNotNull()</code></p>\n\n<p>Because this function implements Kotlin contracts it supports smart casting:</p>\n\n<p><code>contract { returns() implies (actual != null) }</code></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>    fun Foo?.assertBar() {\n        assertNotNull(this)\n        assertEquals(this.bar, 0)\n    }\n</code></pre>\n\n<p><em>Just make sure to use the right <code>assertNotNull</code> import (<code>import kotlin.test.assertNotNull</code>)!</em></p>\n\n<p>If you don't already use the <code>kotlin.test</code> library, add it to your project:</p>\n\n<p><code>group: 'org.jetbrains.kotlin', name: 'kotlin-test', version: '1.3.11</code></p>\n"}, {"tags": [], "owner": {"reputation": 24593, "user_id": 1071320, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dTt5I.jpg?s=128&g=1", "display_name": "Adil Hussain", "link": "https://stackoverflow.com/users/1071320/adil-hussain"}, "is_accepted": false, "score": 0, "last_activity_date": 1605697553, "creation_date": 1605697553, "answer_id": 64891834, "question_id": 42048266, "link": "https://stackoverflow.com/questions/42048266/combine-null-safety-and-assertnotnull/64891834#64891834", "title": "Combine null safety and assertNotNull", "body": "<p>Big thank you to @Rolf for pointing me to the <a href=\"https://kotlinlang.org/api/latest/kotlin.test/kotlin.test/assert-not-null.html\" rel=\"nofollow noreferrer\">assertNotNull</a> method offered by the <a href=\"https://kotlinlang.org/api/latest/kotlin.test/\" rel=\"nofollow noreferrer\">kotlin-test</a> library in his answer <a href=\"https://stackoverflow.com/a/54309928/1071320\">here</a>.</p>\n<p>I just want to add and point out that this method has a non-null return type (i.e. it returns the nullable object that is passed into it as a non-null object). So if you are force unwrapping properties in your test, you can move away from this and improve your tests as follows:</p>\n<pre><code>val myProperty = assertNotNull(myObject?.myProperty)\nassertEquals(&quot;Foo&quot;, myProperty.someOtherProperty)\n</code></pre>\n"}], "owner": {"reputation": 3822, "user_id": 4725496, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/BYQOo.jpg?s=128&g=1", "display_name": "Feeco", "link": "https://stackoverflow.com/users/4725496/feeco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2331, "favorite_count": 2, "accepted_answer_id": 42053019, "answer_count": 3, "score": 13, "last_activity_date": 1605697553, "creation_date": 1486265566, "last_edit_date": 1502647486, "question_id": 42048266, "link": "https://stackoverflow.com/questions/42048266/combine-null-safety-and-assertnotnull", "title": "Combine null safety and assertNotNull", "body": "<p>In test we usually have <code>assertNotNull</code>, but it does not perform smart cast from a nullable type to a non-nullable. I have to write something like this:</p>\n\n<pre><code>if (test == null) {\n    Assert.fail(\"\")\n    return\n}\n</code></pre>\n\n<p>Is it a workaround to perform smart cast only with <code>assertNotNull</code> call? How do you deal with it?</p>\n"}, {"tags": ["guice", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 15395, "user_id": 17339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1ed8a9e71adc2b356cfc4e020e0dd0f?s=128&d=identicon&r=PG", "display_name": "Drew Stephens", "link": "https://stackoverflow.com/users/17339/drew-stephens"}, "edited": false, "score": 0, "creation_date": 1495487374, "post_id": 42039555, "comment_id": 75263674, "body": "Wow, same\u2014very surprised that is where the annotation belongs"}], "tags": [], "owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "is_accepted": true, "score": 12, "last_activity_date": 1486205975, "creation_date": 1486205975, "answer_id": 42039555, "question_id": 42038982, "link": "https://stackoverflow.com/questions/42038982/providing-a-generic-instance-in-kotlin-guice/42039555#42039555", "title": "Providing a generic instance in Kotlin &amp; Guice", "body": "<p>After lots of trial and error I arrived at this solution:</p>\n\n<pre><code>@Test\nfun `provider can not deliver`() {\n  val injector = Guice.createInjector(TestModule())\n  injector.getInstance(object : Key&lt;List&lt;@JvmSuppressWildcards String&gt;&gt;() {})\n}\n</code></pre>\n\n<p>It\u2019s the last place I would have thought that the annotation is actually valid but suddenly the test was green.</p>\n"}], "owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 1, "accepted_answer_id": 42039555, "answer_count": 1, "score": 8, "last_activity_date": 1486205975, "creation_date": 1486202325, "last_edit_date": 1495542893, "question_id": 42038982, "link": "https://stackoverflow.com/questions/42038982/providing-a-generic-instance-in-kotlin-guice", "title": "Providing a generic instance in Kotlin &amp; Guice", "body": "<p>I have a Guice <code>Module</code> that provides a <code>List&lt;String&gt;</code> using a <code>@Provides</code>-annotated method.</p>\n\n<pre><code>class TestModule() : Module {\n  override fun configure(binder: Binder) {}\n  @Provides fun getStrings(): List&lt;String&gt; = listOf(\"foo\", \"bar\")\n}\n\nclass Test {\n  @Test fun `provider can not deliver`() {\n    val injector = Guice.createInjector(TestModule())\n    injector.getInstance(object : Key&lt;List&lt;String&gt;&gt;() {})\n  }\n}\n</code></pre>\n\n<p>The test, however, fails with:</p>\n\n<pre><code>1) No implementation for java.util.List&lt;? extends java.lang.String&gt; was bound.\n  while locating java.util.List&lt;? extends java.lang.String&gt;\n</code></pre>\n\n<p>Now, this seems to be the same as <a href=\"https://stackoverflow.com/questions/36625168/bind-list-of-objects-using-guice-kotlin\">this question</a> but I have no idea where to add the <code>@JvmSuppressWildcards</code> annotation; adding it to the <code>getStrings()</code> method doesn\u2019t change anything, as does adding it to the <code>object</code> in the <code>getInstance()</code> call. How do I get Guice to do what I want?</p>\n"}, {"tags": ["generics", "kotlin", "extension-function"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7513688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e057f89c9a0c1115e806affb8a36f?s=128&d=identicon&r=PG&f=1", "display_name": "V&#237;ctor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/7513688/v%c3%adctor-manuel-pineda-murcia"}, "edited": false, "score": 0, "creation_date": 1486164872, "post_id": 42034662, "comment_id": 71243699, "body": "Thanks you very much!!"}, {"owner": {"reputation": 1069, "user_id": 2172566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f5502f74c9d40b40cc238c9d0ca171?s=128&d=identicon&r=PG", "display_name": "forresthopkinsa", "link": "https://stackoverflow.com/users/2172566/forresthopkinsa"}, "edited": false, "score": 0, "creation_date": 1516926762, "post_id": 42034662, "comment_id": 83901257, "body": "Making <code>T</code> a child of <code>Any</code> solved my (almost entirely unrelated) issue -- thank you!"}, {"owner": {"reputation": 624, "user_id": 2761541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/819bff5fbf0a875cbba1b2a6db9d5e08?s=128&d=identicon&r=PG&f=1", "display_name": "Anigif", "link": "https://stackoverflow.com/users/2761541/anigif"}, "edited": false, "score": 0, "creation_date": 1537951131, "post_id": 42034662, "comment_id": 91966540, "body": "This results in the warning <code>Receiver parameter is never used</code>. Any idea on how to surpress/avoid that?"}, {"owner": {"reputation": 1536, "user_id": 1028906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faed3d6465f07ef235e4a96aaa9eb41e?s=128&d=identicon&r=PG", "display_name": "Josh Rosen", "link": "https://stackoverflow.com/users/1028906/josh-rosen"}, "reply_to_user": {"reputation": 624, "user_id": 2761541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/819bff5fbf0a875cbba1b2a6db9d5e08?s=128&d=identicon&r=PG&f=1", "display_name": "Anigif", "link": "https://stackoverflow.com/users/2761541/anigif"}, "edited": false, "score": 0, "creation_date": 1538439041, "post_id": 42034662, "comment_id": 92135275, "body": "@Anigif The first code block in my answer won&#39;t have this issue. The second example was an illustration of how the OP could still use the :: operator to get the class from the reified type, but in practice the first code block is probably a better choice. The behavior is slightly different, though. The first code block gets the members of the instance&#39;s runtime type, whereas the second code block gets the members of the receiver&#39;s compile-time type (e.g. a variable&#39;s declared type)."}], "tags": [], "owner": {"reputation": 1536, "user_id": 1028906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faed3d6465f07ef235e4a96aaa9eb41e?s=128&d=identicon&r=PG", "display_name": "Josh Rosen", "link": "https://stackoverflow.com/users/1028906/josh-rosen"}, "is_accepted": true, "score": 5, "last_activity_date": 1486164733, "creation_date": 1486164733, "answer_id": 42034662, "question_id": 42034494, "link": "https://stackoverflow.com/questions/42034494/kotlin-kclass-instance-inside-extension-function/42034662#42034662", "title": "Kotlin KClass instance inside extension function", "body": "<p>In general, you wouldn't use <code>::</code> to get the class from <code>this</code>, because <code>this</code> references an instance, not a type. Generally you would get the class from <code>this</code> with <code>this.javaClass.kotlin</code></p>\n\n<p>T references a type, so generally you would reference the KClass with <code>T::class</code>.</p>\n\n<p>However, in your specific code snippet neither of these will work without some additional changes.</p>\n\n<p>Since generic type <code>T</code> is not constrained to <code>Any</code>, you cannot access the javaClass field. To add the constrain, use:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T : Any&gt; T.getMembers() =\n   this::class.memberProperties\n</code></pre>\n\n<p>Since generic type is not reified, you cannot use <code>T::class</code>. To reify T, use:\n</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; T.getMembers() =\n   T::class.memberProperties\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters</a></p>\n"}], "owner": {"reputation": 43, "user_id": 7513688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2e057f89c9a0c1115e806affb8a36f?s=128&d=identicon&r=PG&f=1", "display_name": "V&#237;ctor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/7513688/v%c3%adctor-manuel-pineda-murcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2311, "favorite_count": 0, "accepted_answer_id": 42034662, "answer_count": 1, "score": 4, "last_activity_date": 1486164733, "creation_date": 1486163593, "question_id": 42034494, "link": "https://stackoverflow.com/questions/42034494/kotlin-kclass-instance-inside-extension-function", "title": "Kotlin KClass instance inside extension function", "body": "<p>I need to access to class type inside a generic extension function. For example, if I want to make an extension function to return a collections of the members of the type I am extending, I would do:</p>\n\n<pre><code>fun &lt;T&gt; T.getMembers() =\n       this::class.memberProperties\n</code></pre>\n\n<p>The problem is that I cannot do this::class nor T::class inside the function. Is there any way to access to the class type of a generic type?</p>\n"}, {"tags": ["android", "realm", "kotlin"], "comments": [{"owner": {"reputation": 19323, "user_id": 1389357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uy7DP.jpg?s=128&g=1", "display_name": "Christian Melchior", "link": "https://stackoverflow.com/users/1389357/christian-melchior"}, "edited": false, "score": 0, "creation_date": 1486372883, "post_id": 42032443, "comment_id": 71299821, "body": "How do you verify that realmUser doesn&#39;t have the correct values? The code looks correct."}, {"owner": {"reputation": 3471, "user_id": 2068693, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Cu4rC.jpg?s=128&g=1", "display_name": "E. Fernandes", "link": "https://stackoverflow.com/users/2068693/e-fernandes"}, "reply_to_user": {"reputation": 19323, "user_id": 1389357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uy7DP.jpg?s=128&g=1", "display_name": "Christian Melchior", "link": "https://stackoverflow.com/users/1389357/christian-melchior"}, "edited": false, "score": 0, "creation_date": 1486379974, "post_id": 42032443, "comment_id": 71304323, "body": "I was verifying it via debbuger, values wasn&#39;t showing on var state after trying to assign them. Anyways, I kind of started the process again and it started working. I&#39;ll post what I did in some minutes"}, {"owner": {"reputation": 19323, "user_id": 1389357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uy7DP.jpg?s=128&g=1", "display_name": "Christian Melchior", "link": "https://stackoverflow.com/users/1389357/christian-melchior"}, "edited": false, "score": 0, "creation_date": 1486382474, "post_id": 42032443, "comment_id": 71305792, "body": "See <a href=\"https://realm.io/docs/java/latest/#testing-and-debugging\" rel=\"nofollow noreferrer\">realm.io/docs/java/latest/#testing-and-debugging</a>"}], "owner": {"reputation": 3471, "user_id": 2068693, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Cu4rC.jpg?s=128&g=1", "display_name": "E. Fernandes", "link": "https://stackoverflow.com/users/2068693/e-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 724, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486153357, "creation_date": 1486153357, "question_id": 42032443, "link": "https://stackoverflow.com/questions/42032443/basic-realm-kotlin-realmobject-is-not-setting-passed-values", "title": "Basic Realm + Kotlin: RealmObject is not setting passed values", "body": "<p>I'm starting using Realm with Kotlin recently but I'm not able to make a simple insert on DB. Below is the code I'm using:</p>\n\n<h1>MODEL</h1>\n\n<pre><code>open class User : Serializable, RealmObject() {\n    open var user_id: Long = 0\n    open var name: String = \"\"\n    open var nickname: String = \"\"\n    open var thumbnail: String = \"\"\n    open var password: String = \"\"\n    open var email: String = \"\"\n    open var token: String = \"\"\n    open var country_code: String = \"\"\n    open var image_profile_original: String = \"\"\n    open var distance: Double = 0.toDouble()\n    open var birth_date: Date = Date()\n\n    @Ignore\n    open var status: UserStatus = UserStatus.OFFLINE\n    @Ignore\n    open var type: UserType = UserType.OTHER\n    @Ignore\n    open var gender: Gender = Gender.male\n    @Ignore\n    open var game_objects = mutableListOf&lt;Game&gt;()\n    @Ignore\n    open var games = mutableListOf&lt;Long&gt;()\n    @Ignore\n    open var friends: RealmList&lt;User&gt;? = null\n    @Ignore\n    open var friends_request: RealmList&lt;User&gt;? = null\n\n    override fun toString(): String {\n        return Gson().toString()\n    }\n\n    fun toCanvasUser(): br.com.edsilfer.android.messenger.model.User {\n        val canvasUser: br.com.edsilfer.android.messenger.model.User = br.com.edsilfer.android.messenger.model.User()\n        canvasUser.id = user_id.toDouble()\n        canvasUser.name = name!!\n        canvasUser.nickname = nickname!!\n        canvasUser.thumbnail = image_profile_original!!\n        return canvasUser\n    }\n\n    companion object {\n        fun fromCanvasUser(canvasUser: br.com.edsilfer.android.messenger.model.User): User {\n            val user = User()\n            return user\n        }\n    }\n}\n</code></pre>\n\n<h1>On Applicaion class</h1>\n\n<pre><code>private fun initRealm() {\n    Realm.init(this)\n    val config = RealmConfiguration.Builder()\n            .deleteRealmIfMigrationNeeded()\n            .build()\n}\n</code></pre>\n\n<h1>DAO Pattern</h1>\n\n<pre><code>object UserDAO {\n\n    val TAG = UserDAO::class.simpleName\n    val mRealm = Realm.getDefaultInstance()\n\n    fun create(user: User) {\n        mRealm.beginTransaction()\n        mapObject(user)\n        mRealm.commitTransaction()\n        Log.i(TAG, \"Realm persisted object: $user successfully}\")\n    }\n\n    fun read(id: Long): User {\n        val user = mRealm.where(User::class.java).equalTo(\"user_id\", id).findFirst()\n        Log.i(TAG, \"Realm read object: $user\")\n        return user\n    }\n\n    fun list(): RealmResults&lt;User&gt; {\n        val realm = Realm.getDefaultInstance()\n        return realm.where(User::class.java).findAll()\n    }\n\n    fun update(user: User) {\n        mRealm.beginTransaction()\n        mRealm.copyToRealmOrUpdate(user)\n        mRealm.commitTransaction()\n        Log.i(TAG, \"Realm updated object: $user\")\n    }\n\n    fun delete(id: Long) {\n        mRealm.beginTransaction()\n        val user = mRealm.where(User::class.java).equalTo(\"user_id\", id).findAll()\n        user.clear()\n        Log.i(TAG, \"Realm removed object: $user\")\n        mRealm.commitTransaction()\n    }\n\n    fun deleteAll() {\n        mRealm.beginTransaction()\n        val results = mRealm.where(User::class.java).findAll()\n        results.clear()\n        mRealm.commitTransaction()\n    }\n\n    private fun mapObject(user: User) {\n        val realmUser = mRealm.createObject(User::class.java)\n        realmUser.name = user.name\n        realmUser.user_id = user.user_id\n        realmUser.nickname = user.nickname\n        realmUser.thumbnail = user.thumbnail\n        realmUser.password = \"sample password\"\n        realmUser.email = user.email\n        realmUser.token = user.token\n        realmUser.country_code = user.country_code\n        realmUser.image_profile_original = user.image_profile_original\n        realmUser.status = user.status\n        realmUser.type = user.type\n        realmUser.birth_date = user.birth_date\n        realmUser.gender = user.gender\n        realmUser.distance = user.distance\n        realmUser.game_objects = user.game_objects\n        realmUser.games = user.games\n        realmUser.friends = user.friends\n        realmUser.friends_request = user.friends_request\n    }\n}\n</code></pre>\n\n<p>The problem is inside mapObject function. Even though the argument user is filled, the object realmUser doesn't assign the passed values to it. Any ideas?</p>\n"}, {"tags": ["android", "kotlin", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 4623824, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d00831d1fe891782e870c7c8cc3967ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/4623824/victor-manuel-pineda-murcia"}, "edited": false, "score": 0, "creation_date": 1486163896, "post_id": 42025441, "comment_id": 71243416, "body": "Ok, I understand now. Thanks you very much!"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 10, "last_activity_date": 1486150489, "last_edit_date": 1486150489, "creation_date": 1486128491, "answer_id": 42025441, "question_id": 42025271, "link": "https://stackoverflow.com/questions/42025271/kotlin-data-classes-and-nullable-types/42025441#42025441", "title": "Kotlin data classes and nullable types", "body": "<p>The expression <code>test?.data.length</code> is equivalent to <code>(test?.data).length</code>, and the <code>test?.data</code> part is nullable: it is either <code>test.data</code> or <code>null</code>. Therefore it is not null-safe to get its <code>length</code>, but instead you should use the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe call operator</a> again: <code>test?.data?.length</code>.</p>\n\n<p>The nullability is propagated through the whole calls chain: you have to write these chains as <code>a?.b?.c?.d?.e</code> (which is, again, equivalent to <code>(((a?.b)?.c)?.d)?.e</code>), because, if one of the left parts is null, the rest of the calls cannot be performed as if the value is not-null.</p>\n"}, {"comments": [{"owner": {"reputation": 610, "user_id": 4623824, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d00831d1fe891782e870c7c8cc3967ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/4623824/victor-manuel-pineda-murcia"}, "edited": false, "score": 0, "creation_date": 1486163876, "post_id": 42026676, "comment_id": 71243409, "body": "Thanks you very much!"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 3, "last_activity_date": 1486132630, "creation_date": 1486132630, "answer_id": 42026676, "question_id": 42025271, "link": "https://stackoverflow.com/questions/42025271/kotlin-data-classes-and-nullable-types/42026676#42026676", "title": "Kotlin data classes and nullable types", "body": "<p>If you don't want to use safe call before each non-nullable component of the call chain, you can get the result of the first safe call into a new variable with the standard extension functions <code>run</code> or <code>let</code>:</p>\n\n<pre><code>// `this` is non-nullable `Test` inside lambda \nval size = test?.run { data.length }   \n\n// or: `it` is non-nullable `Test` inside lambda\nval size = test?.let { it.data.length }\n</code></pre>\n\n<p>Note that <code>size</code> is still nullable <code>Int?</code> here.</p>\n"}], "owner": {"reputation": 610, "user_id": 4623824, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d00831d1fe891782e870c7c8cc3967ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Manuel Pineda Murcia", "link": "https://stackoverflow.com/users/4623824/victor-manuel-pineda-murcia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4158, "favorite_count": 0, "accepted_answer_id": 42025441, "answer_count": 2, "score": 9, "last_activity_date": 1486150489, "creation_date": 1486127872, "last_edit_date": 1486132272, "question_id": 42025271, "link": "https://stackoverflow.com/questions/42025271/kotlin-data-classes-and-nullable-types", "title": "Kotlin data classes and nullable types", "body": "<p>I'm new to Kotlin and I don't know why compiler complains about this code:</p>\n\n<pre><code>data class Test(var data : String = \"data\")\n\nfun test(){\n  var test: Test? = Test(\"\")\n  var size = test?.data.length\n}\n</code></pre>\n\n<p>Compiler complains with <code>test?.data.length</code>, it says that I should do: <code>test?.data?.length</code>. But data variable is <code>String</code>, not <code>String?</code>, so I don't understand why I have to put the <code>?</code> when I want to check the length.</p>\n"}, {"tags": ["java", "image-processing", "kotlin", "sobel"], "answers": [{"comments": [{"owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "edited": false, "score": 0, "creation_date": 1509935657, "post_id": 42033479, "comment_id": 81207900, "body": "can this detect edges of receipt and crop automatically ?"}], "tags": [], "owner": {"reputation": 35, "user_id": 5309525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tpahGsHgvwE/AAAAAAAAAAI/AAAAAAAAEug/zUlI_Q7ztvM/photo.jpg?sz=128", "display_name": "Ihor Salnikov", "link": "https://stackoverflow.com/users/5309525/ihor-salnikov"}, "is_accepted": true, "score": 0, "last_activity_date": 1486158244, "creation_date": 1486158244, "answer_id": 42033479, "question_id": 42022707, "link": "https://stackoverflow.com/questions/42022707/sobel-filter-imlementation/42033479#42033479", "title": "Sobel filter imlementation", "body": "<p>Ok, after some research I found out what was my problem. My pixels were stored in RGB int array. So I have to manually calculate G for each color channel:</p>\n\n<pre><code>                    val cx = Color(argb1)\n                    val cy = Color(argb2)\n\n                    val rx = cx.red\n                    val gx = cx.green\n                    val bx = cx.blue\n\n                    val ry = cy.red\n                    val gy = cy.green\n                    val by = cy.blue\n\n                    val R = Math.hypot(rx.toDouble(), ry.toDouble()).toInt().clamp()\n                    val G = Math.hypot(gx.toDouble(), gy.toDouble()).toInt().clamp()\n                    val B = Math.hypot(bx.toDouble(), by.toDouble()).toInt().clamp()\n\n                    val color = Color(R, G, B)\n\n                    fast.setARGB(x, y, color.rgb)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5309525, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tpahGsHgvwE/AAAAAAAAAAI/AAAAAAAAEug/zUlI_Q7ztvM/photo.jpg?sz=128", "display_name": "Ihor Salnikov", "link": "https://stackoverflow.com/users/5309525/ihor-salnikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 42033479, "answer_count": 1, "score": 0, "last_activity_date": 1486158244, "creation_date": 1486119742, "question_id": 42022707, "link": "https://stackoverflow.com/questions/42022707/sobel-filter-imlementation", "title": "Sobel filter imlementation", "body": "<p>I have trouble implementing Sobele filter for edge detection. </p>\n\n<p>First of all, I make SOBEL_VERTICAL and SOBEL_HORIZONTAL convolution and then calculate color of pixel using this formula: G = sqrt(Gx * Gx + Gy * Gy)</p>\n\n<p>Code: </p>\n\n<pre><code>val log = KotlinLogging.logger { }\n\nval width = fastImage.width\nval height = fastImage.height\n\noverride fun filter(): FastImage {\n    val convolution = Convolution(fastImage)\n    val obsSobelHorizontal = Observable.fromCallable { convolution.convolve(Convolution.SOBEL_HORIZONTAL) }\n    val obsSobelVertical = Observable.fromCallable { convolution.convolve(Convolution.SOBEL_VERTICAL) }\n\n    var fastImageSobel: FastImage? = null\n\n    Observable.zip(obsSobelHorizontal, obsSobelVertical, { r1, r2 -&gt;\n        log.info { Thread.currentThread() }\n        val fast = FastImage(width, height)\n        for (x in 0..width - 1) {\n            for (y in 0..height - 1) {\n                val argb1: Int? = r1.getARGB(x, y)\n                val argb2: Int? = r2.getARGB(x, y)\n                if (argb1 != null &amp;&amp; argb2 != null) {\n                    val G = sqrt(((argb1 * argb1) + (argb2 * argb2)).toDouble()).toInt().clamp()\n                    val color = Color(G,G,G)\n                    fast.setARGB(x, y, color.rgb)\n                }\n            }\n        }\n        return@zip fast\n\n    }).subscribe({ fastImageSobel = it }, { log.error(\"Can`t do sobel!\", it) })\n\n    return fastImageSobel!!\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dkpDz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkpDz.jpg\" alt=\"enter image description here\"></a>\nRight image is wrong</p>\n"}, {"tags": ["java", "error-handling", "kotlin", "jena", "apache-jena"], "answers": [{"comments": [{"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1486110504, "post_id": 42019761, "comment_id": 71213822, "body": "The question is <b>not</b> application-specific. There are general rules for error handilng. If you read or write to a file, you have to catch a standard set of exceptions (I/O, file not found) and close the streams in both success and failure cases. If you insert a record into a relational database with JDBC, you need to rollback the transaction in case of failure, and close the statement. These things are generic and don&#39;t depend on application. I&#39;m looking for an established best practice for Apache Jena."}, {"owner": {"reputation": 14789, "user_id": 757100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/442cf0ccb33b748e24cd178f5efa0b35?s=128&d=identicon&r=PG", "display_name": "AndyS", "link": "https://stackoverflow.com/users/757100/andys"}, "edited": false, "score": 1, "creation_date": 1486122898, "post_id": 42019761, "comment_id": 71221267, "body": "Call <code>ds.abort()</code> (in fact, the <code>ds.end()</code> will do that for you - it aborts any uncommited transaction).  So the database clears up; a database error is serious (e.g. out of disk space, JVM OOME) and needs to be looked at  but the data is intact, just not updated. The rest is an application issue."}, {"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "reply_to_user": {"reputation": 14789, "user_id": 757100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/442cf0ccb33b748e24cd178f5efa0b35?s=128&d=identicon&r=PG", "display_name": "AndyS", "link": "https://stackoverflow.com/users/757100/andys"}, "edited": false, "score": 0, "creation_date": 1486354081, "post_id": 42019761, "comment_id": 71292658, "body": "@AndyS Does it mean that my code handles persistence-related errors correctly?"}, {"owner": {"reputation": 14789, "user_id": 757100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/442cf0ccb33b748e24cd178f5efa0b35?s=128&d=identicon&r=PG", "display_name": "AndyS", "link": "https://stackoverflow.com/users/757100/andys"}, "edited": false, "score": 0, "creation_date": 1486459133, "post_id": 42019761, "comment_id": 71342149, "body": "Your code handles the transaction OK with try-finally. The first version is not because it can bypass the <code>ds.end()</code>.  Th code also needs to react to the fact a write-transaction failed."}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 0, "last_activity_date": 1486110217, "creation_date": 1486110217, "answer_id": 42019761, "question_id": 42019617, "link": "https://stackoverflow.com/questions/42019617/how-to-handle-write-errors-in-apache-jena/42019761#42019761", "title": "How to handle write errors in Apache Jena?", "body": "<p>How could we possible know what is the correct answer in <strong>your</strong> application to such a failure?!</p>\n\n<p>Seriously: it is your project, your application, <strong>your</strong> requirements. You have to be clear what such kind of problems <strong>mean</strong> to you.</p>\n\n<p>Nonetheless, a \"generic\" is:</p>\n\n<ol>\n<li>Give feedback to the user of the system - obviously some very core operation just <strong>failed</strong>. You can't continue this operation; you might even need some rollback.</li>\n<li>There are patterns around failure situations (like the <a href=\"https://en.wikipedia.org/wiki/Circuit_breaker_design_pattern\" rel=\"nofollow noreferrer\">circuit breaker</a>) that give guidance for such kind of problems. In other words: when your database refuses to write data, something <strong>important</strong> might be broken. You probably have to deal with that; beyond the scope of that one operation that failed in this case.</li>\n</ol>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1486110217, "creation_date": 1486109639, "question_id": 42019617, "link": "https://stackoverflow.com/questions/42019617/how-to-handle-write-errors-in-apache-jena", "title": "How to handle write errors in Apache Jena?", "body": "<p>Imagine I have the following code for inserting a record into Apache Jena database (TBD):</p>\n\n<pre><code>private fun createPersonLogic(ds: Dataset, email: String, nick: String) {\n    ds.begin(ReadWrite.WRITE)\n    val model = ds.defaultModel\n\n    val uuid = UUID.randomUUID()\n    val uri = \"http://mycompany.com/data/p-${uuid}\"\n    val person = model.createResource(uri)\n    person.addProperty(VCARD.EMAIL, email)\n    person.addProperty(VCARD.N,\n            model.createResource()\n                    .addProperty(VCARD.NICKNAME, nick))\n    ds.commit()\n    ds.end()\n}\n</code></pre>\n\n<p>What is the right way to handle errors during execution of <code>model.createResource</code> and <code>ds.commit</code> -- like in the code fragment below or differently?</p>\n\n<pre><code>private fun createPersonLogic(ds: Dataset, email: String, nick: String) {\n    try {\n        ds.begin(ReadWrite.WRITE)\n        val model = ds.defaultModel\n\n        val uuid = UUID.randomUUID()\n        val uri = \"http://mycompany.com/data/p-${uuid}\"\n        val person = model.createResource(uri)\n        person.addProperty(VCARD.EMAIL, email)\n        person.addProperty(VCARD.N,\n                model.createResource()\n                        .addProperty(VCARD.NICKNAME, nick))\n        ds.commit() \n    }\n    catch (throwable:Throwable) {\n        // react to the error\n    }\n    finally {\n        ds.end()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1486108754, "post_id": 42017584, "comment_id": 71212917, "body": "Run <code>gradlew dependencies</code> to see where the dependency comes from."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1486112026, "post_id": 42017584, "comment_id": 71214612, "body": "@KirillRakhman Which dependency in particular are you looking for?"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1486128553, "post_id": 42017584, "comment_id": 71224686, "body": "Is this the whole output? The second warning should have the path of the problematic library included"}, {"owner": {"reputation": 2108, "user_id": 1377037, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/b5941b2951d33748024848f82e7bf784?s=128&d=identicon&r=PG", "display_name": "Jonathan Beaudoin", "link": "https://stackoverflow.com/users/1377037/jonathan-beaudoin"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 1, "creation_date": 1486135435, "post_id": 42017584, "comment_id": 71229174, "body": "@AlexanderUdalov that is all that is printing in the console."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1486177035, "post_id": 42017584, "comment_id": 71246264, "body": "@AlexanderUdalov Yes, it&#39;s the entire output. Something I forgot to mention is that we use 1.1 beta 2 (version 38)"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1486213925, "post_id": 42017584, "comment_id": 71254921, "body": "In that case it may be a bug, please report an issue at <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>. Thanks!"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3119, "favorite_count": 3, "answer_count": 0, "score": 6, "last_activity_date": 1486346298, "creation_date": 1486100900, "last_edit_date": 1486346298, "question_id": 42017584, "link": "https://stackoverflow.com/questions/42017584/kotlin-warning-some-jar-files-in-the-classpath-have-the-kotlin-runtime-library", "title": "Kotlin &quot;warning: some JAR files in the classpath have the Kotlin Runtime library bundled into them&quot;", "body": "<p>For some reason I receive this warning when I start my application:</p>\n\n<blockquote>\n  <p>warning: some JAR files in the classpath have the Kotlin Runtime\n  library bundled into them. This may cause difficult to debug problems\n  if there's a different version of the Kotlin Runtime library in the\n  classpath. Consider removing these libraries from the classpath or use\n  '-Xskip-runtime-version-check' to suppress this warning warning:\n  library has Kotlin runtime bundled into it</p>\n</blockquote>\n\n<p>I use Gradle to build my application using the <code>kotlin-script-util</code> dependency, which I noticed has a dependency on <code>kotlin-script-runtime</code> which I figured was the problem. I thus excluded that dependency in Gradle like so:</p>\n\n<pre><code>compile(group: 'org.jetbrains.kotlin', name: 'kotlin-script-util', version: kotlin_version) {\n    exclude group: 'org.jetbrains.kotlin', module: 'kotlin-script-runtime'\n}\n</code></pre>\n\n<p>Unfortunately no dice. Does anybody know how to get rid of this warning? <code>-Xskip-runtime-version-check</code> is not an option for my use case.</p>\n"}, {"tags": ["java", "gradle", "kotlin", "coverity"], "comments": [{"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "edited": false, "score": 0, "creation_date": 1486094475, "post_id": 42016042, "comment_id": 71207935, "body": "Looking at the build log you posted, nothing happened when <code>gradlew.bat</code> was executed, and the console seems to say that whatever you tried to execute, &quot;The system cannot execute the specified program&quot; (that came from your build command, not Coverity. Have you tried running that command directly to see what happens?"}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "reply_to_user": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "edited": false, "score": 0, "creation_date": 1486096065, "post_id": 42016042, "comment_id": 71208325, "body": "When I run <code>gradlew jar</code> without coverity it compiles and builds a JAR. Also, if you have a look at the linked TravisCI job, you will see that the same produces different output when run on the linux server."}], "answers": [{"comments": [{"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486427149, "post_id": 42077019, "comment_id": 71330785, "body": "Thanks for the tip, a bit more background on how Coverity extracts the information may reduce your support burden. Please fell free to point me to any resources I may have missed. I tried no-daemon on Windows 10 - still failing in the same opaque way - if I was able to see the cpommand stdout or error code would have been useful. I am not sure if my Travis CI setup is correct (in particular the add-on and my build script). Iwould appreciate if you could have a look at this job and the associated commit: <a href=\"https://travis-ci.org/ddimtirov/nuggets/jobs/199040064\" rel=\"nofollow noreferrer\">travis-ci.org/ddimtirov/nuggets/jobs/199040064</a>"}, {"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "reply_to_user": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486432499, "post_id": 42077019, "comment_id": 71332107, "body": "I took a peek in the Travis log, and I see something suspicious: &quot;:buildSrc:compileJava UP-TO-DATE&quot; et. al, with a total build time of 1.59 seconds. Did anything actually build?"}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486433649, "post_id": 42077019, "comment_id": 71332406, "body": "The <code>:buildSrc:compileJava</code> does not build anything, <code>:compileJava</code> does. See line 394 in this build for comparison: <a href=\"https://travis-ci.org/ddimtirov/nuggets/jobs/198719233#L394\" rel=\"nofollow noreferrer\">travis-ci.org/ddimtirov/nuggets/jobs/198719233#L394</a>"}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486433962, "post_id": 42077019, "comment_id": 71332482, "body": "I noticed that env vars are <code>COVERITY_SCAN_BUILD_COMMAND=&quot;${COVERITY_SCAN_BUILD_COMMAND:-&zwnj;&#8203;.&#47;gradlew --no-daemon jar}&quot; COVERITY_SCAN_BUILD_COMMAND_PREPEND=&quot;${COVERITY_SCAN_BUILD_C&zwnj;&#8203;OMMAND_PREPEND:-.&#47;gr&zwnj;&#8203;adlew clean}&quot;</code> -- in this case I can see the PREPEND command running, but I don&#39;t see the BUILD command..."}, {"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "reply_to_user": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486501349, "post_id": 42077019, "comment_id": 71370021, "body": "I suspect that&#39;s your problem then - you&#39;re not running your full build, so Coverity isn&#39;t seeing it. I believe the <code>COVERITY_SCAN_BUILD_COMMAND_PREPEND</code> is prepended to <code>COVERITY_SCAN_BUILD_COMMAND</code> and is presumably used to do something like set an env var. Can you combine both of these into a single build command?"}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486523259, "post_id": 42077019, "comment_id": 71377725, "body": "Not running Gradle in the prepend-command moves us forward (btw that seems to be rather arbitrary undocumented restriction). Now the build runs and creates a JAR file (evidence at line 424), but Coverity still doesn&#39;t pick up on it (see the Coverity build log from line 479 onwards). The Travis build I refer to is here: <a href=\"https://travis-ci.org/ddimtirov/nuggets/jobs/199474714#L424\" rel=\"nofollow noreferrer\">travis-ci.org/ddimtirov/nuggets/jobs/199474714#L424</a>"}, {"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "reply_to_user": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486526277, "post_id": 42077019, "comment_id": 71378460, "body": "Can you link the build log from that run?"}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486526462, "post_id": 42077019, "comment_id": 71378500, "body": "It is printed at the bottom of the travis log. Starting a line 479 (you need to click the little arrow in the left gutter to unfold)"}, {"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "reply_to_user": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486660180, "post_id": 42077019, "comment_id": 71451655, "body": "Thanks. It would seem this is the cause of the problem: &quot;WARNING: Failed load class file java/io/FileNotFoundException.class as a resource using the class loader net.ltgt.gradle.errorprone.ErrorProneCompiler$SelfFirstClass&zwnj;&#8203;Loader@36358417&quot;  Coverity&#39;s Java capture agent works by injecting a JAR file into the build, which allows it to see the compilation steps that are occurring. I suspect this JAR file has some dependencies that are somehow not being satisfied. If you can figure out why, your issue will probably be fixed - otherwise I think you&#39;ll need to engage directly with SCAN support."}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486703594, "post_id": 42077019, "comment_id": 71470060, "body": "DID IT! So it turns out that Coverity bombs if the Google Errorprone plugin is enabled. It would be nice if that is solved, as it is a nice feature. Do you think I can contact support about that? (Last time I tried, I didn&#39;t receive response)."}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486703620, "post_id": 42077019, "comment_id": 71470076, "body": "Also, do you have any idea how to start investigating about the windows build?"}, {"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "reply_to_user": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486753058, "post_id": 42077019, "comment_id": 71498346, "body": "Coverity&#39;s support@coverity.com will reject SCAN customers requests (although I think they should at least accept bug reports). There is a SCAN admin who is very happy to engage with and help SCAN customers and actively advocates for bugfixes - so if you contact that channel, you should be well satisfied. I&#39;ll also make an unofficial report to the team responsible for this area of the product; I suspect they&#39;ll appreciate the heads up."}, {"owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "reply_to_user": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486753158, "post_id": 42077019, "comment_id": 71498397, "body": "As for investigating the Windows build, the story there is about the same. The first step is to find out what the difference is. Ensuring identical environments is step #1 - it&#39;s a common problem where people open up a cmd.exe terminal that doesn&#39;t have the same environment as their build and run into issues. Then it&#39;s a matter of investigating the build log for clues and chasing them down. I&#39;m not expert on the build capture side of things, so I&#39;m somewhat limited in my ability to help there."}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1486776621, "post_id": 42077019, "comment_id": 71507112, "body": "My previous email was to scan-admin. I have forwarded the finding form this conversation again, but I would appreciate if you would just check that they are received. As my email may be caught in some filters, I&#39;ve included the word &quot;Limburger&quot; in the email body, so it would be easier to search for."}, {"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1487301897, "post_id": 42077019, "comment_id": 71733973, "body": "Confirmed that the Windows issue was caused by the 32 vs 64 bit version."}], "tags": [], "owner": {"reputation": 1113, "user_id": 5590551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myyec.gif?s=128&g=1", "display_name": "Caleb", "link": "https://stackoverflow.com/users/5590551/caleb"}, "is_accepted": true, "score": 5, "last_activity_date": 1487117424, "last_edit_date": 1487117424, "creation_date": 1486414123, "answer_id": 42077019, "question_id": 42016042, "link": "https://stackoverflow.com/questions/42016042/cant-get-coverity-scan-to-work-java-kotlin-gradle-3-3-on-windows-and-travis/42077019#42077019", "title": "Can&#39;t get Coverity Scan to work (Java/Kotlin/Gradle 3.3 on Windows and Travis)", "body": "<h2>Issue 1 - \"The system cannot execute the specified program.\"</h2>\n\n<p>This issue arose because a Windows 32-bit kit was used to attempt to capture a Windows 64-bit build. The attempt to attach a 32-bit process to a 64-bit one causes failure to execute.</p>\n\n<ul>\n<li>The solution here is to match the bitness of Coverity binaries with the bitness of your platform (use a Windows 64-bit kit).</li>\n</ul>\n\n<h2>Issue 2 - Failure to capture TravisCI build on Linux</h2>\n\n<p>This issue appears to be due to an incompatibility between Coverity's Java Capture and the ErrorProne plugin, as evidenced by messages such as this one in the build log:</p>\n\n<pre><code>WARNING: Failed load class file java/io/FileNotFoundException.class as a resource using the class loader net.ltgt.gradle.errorprone.ErrorProneCompiler$SelfFirstClassLoader@36358417\n</code></pre>\n\n<ul>\n<li>The solution here is to disable that plugin for the Coverity build.</li>\n</ul>\n\n<h2>Varia</h2>\n\n<ul>\n<li>When debugging the issue, the known issue of the Gradle daemon interfering with Coverity was discussed, but was ultimately not relevant to the issue.</li>\n<li>The noted issues with the \"prepend\" command are user error; the prepend command is not a separate command to run, it's there for utility purposes.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "edited": false, "score": 0, "creation_date": 1487105021, "post_id": 42233943, "comment_id": 71631116, "body": "Could you please provide a link to the documentation stating these things?"}], "tags": [], "owner": {"reputation": 11, "user_id": 7564714, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/14190fa19e006af42159d2ec1b1ed243?s=128&d=identicon&r=PG", "display_name": "SCAN Admin", "link": "https://stackoverflow.com/users/7564714/scan-admin"}, "is_accepted": false, "score": 1, "last_activity_date": 1487099450, "last_edit_date": 1487099450, "creation_date": 1487098012, "answer_id": 42233943, "question_id": 42016042, "link": "https://stackoverflow.com/questions/42016042/cant-get-coverity-scan-to-work-java-kotlin-gradle-3-3-on-windows-and-travis/42233943#42233943", "title": "Can&#39;t get Coverity Scan to work (Java/Kotlin/Gradle 3.3 on Windows and Travis)", "body": "<p>A few things to note, because reading our documentation is crucial to using our tool successfully:</p>\n\n<ol>\n<li>Kotlin is <em>not</em> supported.</li>\n<li>Using the appropriate binaries for your platform is <em>required</em> (so using win32 binaries on a 64 bit platform will generally not work).</li>\n</ol>\n"}], "owner": {"reputation": 3129, "user_id": 18187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/35565f5e3f3f47e6e65fa445e77e40fc?s=128&d=identicon&r=PG", "display_name": "ddimitrov", "link": "https://stackoverflow.com/users/18187/ddimitrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 1, "accepted_answer_id": 42077019, "answer_count": 2, "score": 7, "last_activity_date": 1487117424, "creation_date": 1486090912, "last_edit_date": 1486886706, "question_id": 42016042, "link": "https://stackoverflow.com/questions/42016042/cant-get-coverity-scan-to-work-java-kotlin-gradle-3-3-on-windows-and-travis", "title": "Can&#39;t get Coverity Scan to work (Java/Kotlin/Gradle 3.3 on Windows and Travis)", "body": "<p><strong>UPDATE: See the solution in Caleb's answer</strong></p>\n\n<p>I am trying really hard to make Coverity work for my build, but so far with little success.</p>\n\n<p>First the details:</p>\n\n<ul>\n<li>My project is run of the mill java library (no web or fancy containers), very few compile-only dependencies, built using Gradle </li>\n<li>The production code is written in Java and Kotlin</li>\n<li>The complete project is available on github: <a href=\"https://github.com/ddimtirov/nuggets\" rel=\"nofollow noreferrer\">https://github.com/ddimtirov/nuggets</a> </li>\n<li>And on Coverity Scan: <a href=\"https://scan.coverity.com/projects/ddimtirov-nuggets?tab=project_settings\" rel=\"nofollow noreferrer\">https://scan.coverity.com/projects/ddimtirov-nuggets?tab=project_settings</a> </li>\n<li>My development environment is Windows 10, Java 1.8.0_92, Gradle 3.3, CMD shell (though I also tried Cygwin and Mingw Bash)</li>\n<li>there is also Travis build on Linux </li>\n</ul>\n\n<p>I started by downloading a package from: <a href=\"https://scan.coverity.com/download/java/win64\" rel=\"nofollow noreferrer\">https://scan.coverity.com/download/java/win64</a> </p>\n\n<p>Then I added the bin directory to my path, went to my project root and ran the following commands.</p>\n\n<pre><code>$ set PATH=%PATH%;C:\\Users\\dimit\\sandbox\\cov-analysis\\bin\n$ gradlew clean\n$ cov-build --dir cov-int gradlew jar\n</code></pre>\n\n<p>The first 2 went as expected, the last - not so much:</p>\n\n<pre><code>Coverity Build Capture (32-bit) version 8.7.0 on Windows 10 Professional, 64-bit (build 14393)\nInternal version numbers: b452b3f2c8 p-lodi-push-28091.612\n\nThe system cannot execute the specified program.\n[WARNING] Build command gradlew.bat jar exited with code 1. Please verify that the build completed successfully.\n[WARNING] No files were emitted. This may be due to a problem with your configuration\nor because no files were actually compiled by your build command.\nPlease make sure you have configured the compilers actually used in the compilation.\n For more details, please look at:\n    C:/Users/dimit/sandbox/nuggets/cov-int/build-log.txt\n</code></pre>\n\n<p>I have put the build log here: <a href=\"https://gist.github.com/ddimtirov/9daa0e9f1f0954453f01fcec42ae2198\" rel=\"nofollow noreferrer\">https://gist.github.com/ddimtirov/9daa0e9f1f0954453f01fcec42ae2198</a></p>\n\n<p>The \"Troubleshoot build failure\" on the instructions page was pointing to a forum index page, which does not help at all: <a href=\"https://software-community-synopsys.force.com/s/#4838\" rel=\"nofollow noreferrer\">https://software-community-synopsys.force.com/s/#4838</a> </p>\n\n<p>Moving on, I thought that if I could only generate the data in some other way I could upload it to the scan service and bypass the problem. I found <a href=\"https://github.com/mjdetullio/gradle-coverity-plugin\" rel=\"nofollow noreferrer\">https://github.com/mjdetullio/gradle-coverity-plugin</a> </p>\n\n<p>The Gradle Coverity plugin emitted the data, but when I zipped it and uploaded to the scan service, it barfed the error email.</p>\n\n<p>As last resort, I tried the TravisCI integration - after a few attempts, I got it to complete without an error, but it didn't seem to upload anything...</p>\n\n<p><a href=\"https://travis-ci.org/ddimtirov/nuggets/builds/196307253\" rel=\"nofollow noreferrer\">https://travis-ci.org/ddimtirov/nuggets/builds/196307253</a>\n<a href=\"https://scan.coverity.com/projects/ddimtirov-nuggets?tab=overview\" rel=\"nofollow noreferrer\">https://scan.coverity.com/projects/ddimtirov-nuggets?tab=overview</a> </p>\n\n<p>I am close to giving up (BTW, not having docs available online doesn't help)</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1486104687, "post_id": 42014276, "comment_id": 71211150, "body": "@hotkey Thanks for referring me to the other question - this is what I was looking for."}], "owner": {"reputation": 17849, "user_id": 4230345, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-fWK0YfC5ong/AAAAAAAAAAI/AAAAAAAAADk/a23H1FFs8Jg/photo.jpg?sz=128", "display_name": "Farbod Salamat-Zadeh", "link": "https://stackoverflow.com/users/4230345/farbod-salamat-zadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "closed_date": 1486129378, "answer_count": 0, "score": 1, "last_activity_date": 1486078291, "creation_date": 1486078291, "question_id": 42014276, "link": "https://stackoverflow.com/questions/42014276/access-fields-from-interface-in-an-object-in-kotlin", "closed_reason": "Duplicate", "title": "Access fields from interface in an object in Kotlin", "body": "<p>I've started to convert some of my code from Java to Kotlin.</p>\n\n<p>Some of these are database schema classes, containing constants for the different column names (I'm working with Android here).</p>\n\n<p>I've modified my Java <code>final class</code> with <code>static</code> constants, so that it is an <code>object</code> in Kotlin with constants (<code>const</code>):</p>\n\n<pre><code>object MySchema : BaseColumns {\n\n    const val TABLE_NAME = \"my_table\"\n    const val COL_TITLE = \"title\"\n    const val COL_DETAIL = \"detail\"\n    // ...\n</code></pre>\n\n<p>}</p>\n\n<p>The <code>BaseColumns</code> class in Android is basically this:</p>\n\n<pre><code>public interface BaseColumns {\n\n    public static final String _ID = \"_id\";\n\n    public static final String _COUNT = \"_count\";\n}\n</code></pre>\n\n<p>However, this code now does not compile:</p>\n\n<pre><code>// ContentValues values = ...\nvalues.put(MySchema._ID, myThing.getId())\n</code></pre>\n\n<blockquote>\n  <p>Unresolved reference: _ID</p>\n</blockquote>\n\n<p>This doesn't make sense to me since <code>MySchema</code> implements the <code>BaseColumns</code> interface, and thus should inherit its fields.</p>\n\n<p>The code that isn't compiling was able to compile before I had converted the database schema class to Kotlin - i.e.:</p>\n\n<pre><code>public final class MySchema implements BaseColumns {\n\n    // ...\n\n}\n</code></pre>\n\n<p>I hope that makes sense.</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["java", "kotlin", "jena", "apache-jena"], "answers": [{"tags": [], "owner": {"reputation": 14789, "user_id": 757100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/442cf0ccb33b748e24cd178f5efa0b35?s=128&d=identicon&r=PG", "display_name": "AndyS", "link": "https://stackoverflow.com/users/757100/andys"}, "is_accepted": true, "score": 2, "last_activity_date": 1486075729, "creation_date": 1486075729, "answer_id": 42013781, "question_id": 42008705, "link": "https://stackoverflow.com/questions/42008705/how-do-i-save-a-record-in-apache-jena/42013781#42013781", "title": "How do I save a record in Apache Jena?", "body": "<p>You should get a warning at <code>end</code> because you have not committed the transaction.</p>\n\n<pre><code>dataSet.begin(ReadWrite.WRITE)\nval model = dataSet.defaultModel\ncreatePerson(\"john.doe@provider.com\", model, \"jd\")\ndataSet.commit()\ndataSet.end()\n</code></pre>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 42013781, "answer_count": 1, "score": 0, "last_activity_date": 1486075729, "creation_date": 1486056807, "question_id": 42008705, "link": "https://stackoverflow.com/questions/42008705/how-do-i-save-a-record-in-apache-jena", "title": "How do I save a record in Apache Jena?", "body": "<p>I want to create a person with nick name <code>jd</code> and e-mail <code>john.doe@provider.com</code> in a persistent Apache Jena database.</p>\n\n<p>I wrote following code:</p>\n\n<pre><code>var dataSet:Dataset? = null\nval Dir = \"data/MyDataSet\"\ndataSet = TDBFactory.createDataset(Dir)\n\ndataSet.begin(ReadWrite.WRITE)\nval model = dataSet.defaultModel\ncreatePerson(\"john.doe@provider.com\", model, \"jd\")\ndataSet.end()\ndataSet.close()\n\nprivate fun createPerson(email: String, model: Model, nick: String) {\n    val uuid = UUID.randomUUID()\n    val uri = \"http://mycompany.com/data/p-${uuid}\"\n    val person = model.createResource(uri)\n    person.addProperty(VCARD.EMAIL, email)\n    person.addProperty(VCARD.N,\n            model.createResource()\n                    .addProperty(VCARD.NICKNAME, nick))\n}\n</code></pre>\n\n<p>When I run it, I get no errors.</p>\n\n<p>But when I try to read the data from the file (see code below), the query doesn't find anything.</p>\n\n<pre><code>    ds.begin(ReadWrite.READ)\n    val query = QueryFactory.create(\"\"\"SELECT ?x\n            WHERE { ?x  &lt;http://www.w3.org/2001/vcard-rdf/3.0#EMAIL&gt;  \"john.doe@provider.com\" }\"\"\")\n    val qexec: QueryExecution\n    try {\n        qexec = QueryExecutionFactory.create(query, ds.defaultModel)\n        val rs = qexec.execSelect()\n        while (rs.hasNext()) {\n            val solution = rs.nextSolution()\n            System.out.println(\"\")\n        }\n    }\n    catch (throwable:Throwable) {\n        logger.error(\"\", throwable)\n    }\n    finally {\n        ds.end()\n    }\n</code></pre>\n\n<p>What's wrong with my code?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1486064202, "post_id": 42001355, "comment_id": 71197154, "body": "FYI <code>&quot;a1 = ${a1.toString()}&quot;</code> is the same as <code>&quot;a1 = $a1&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1486039901, "post_id": 42002082, "comment_id": 71181623, "body": "Thanks! For example, if the protocol use string commands just converted into byte array the I should use toByteArray2()? If the protocol is special binary format then toByteArray1() maybe usefull?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "edited": false, "score": 0, "creation_date": 1486046925, "post_id": 42002082, "comment_id": 71186372, "body": "@AndreiSibircevs If your protocol uses string commands, just convert the number to string."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1486038245, "last_edit_date": 1486038245, "creation_date": 1486037872, "answer_id": 42002082, "question_id": 42001355, "link": "https://stackoverflow.com/questions/42001355/what-is-the-difference-between-two-conversions-from-long-to-bytearray/42002082#42002082", "title": "What is the difference between two conversions from Long to ByteArray?", "body": "<p>They are completely different.</p>\n\n<ul>\n<li><p><code>.toByteArray1()</code> returns bytes of the signed long number (therefore it should contain exactly 8 bytes = 64 bits):</p>\n\n<pre><code>println(0.toByteArray1().size) // 8\nprintln(1234.toByteArray1().size) // 8\n</code></pre></li>\n<li><p><code>.toByteArray2()</code> first converts the long to <code>String</code> and then to the byte array with the <code>String</code> characters encoded in UTF-8 (since there are only digits, they are encoded one byte each), and the byte array in this case contains the same number of bytes as the length of the string representation:</p>\n\n<pre><code>println(0.toByteArray2().size) // 1\nprintln(-1234.toByteArray2().size) // 5\nprintln(123456789012.toByteArray2().size) // 12\n</code></pre></li>\n</ul>\n\n<p>And, of course, the decoders should be different, as in your example where you decode <code>a1</code> and <code>a2</code>.</p>\n"}], "owner": {"reputation": 137, "user_id": 1106003, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9f7b4c18b0c8dcba496461e10110995?s=128&d=identicon&r=PG", "display_name": "Andrei Sibircevs", "link": "https://stackoverflow.com/users/1106003/andrei-sibircevs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 42002082, "answer_count": 1, "score": 2, "last_activity_date": 1486038245, "creation_date": 1486035792, "question_id": 42001355, "link": "https://stackoverflow.com/questions/42001355/what-is-the-difference-between-two-conversions-from-long-to-bytearray", "title": "What is the difference between two conversions from Long to ByteArray?", "body": "<pre><code>import java.lang.Long as JLong\nimport java.lang.Byte as JByte\nimport java.nio.ByteBuffer\n\nfun Long.toByteArray1() = \n    ByteBuffer.allocate(JLong.SIZE / JByte.SIZE)\n        .putLong(this)\n        .array()\n\nfun Long.toByteArray2() =\n    this.toString()\n        .toByteArray(Charsets.UTF_8)\n\nfun main(args: Array&lt;String&gt;) {\n    val a1: ByteArray = 10L.toByteArray1()\n    val a2: ByteArray = 10L.toByteArray2()\n    println(\"a1 = ${a1.toString()}\")\n    println(\"a1 = ${ByteBuffer.wrap(a1).getLong()}\")\n    println(\"a2 = ${a2.toString()}\")\n    println(\"a2 = ${String(a2, Charsets.UTF_8)}\")\n}\n</code></pre>\n\n<p>What is the difference between toByteArray1() and toByteArray2()?</p>\n\n<p>If I send the bytes into the outputstream what receiver will get?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1486026919, "post_id": 41998155, "comment_id": 71172955, "body": "<a href=\"https://github.com/yanex/anko-example/blob/master/app/build.gradle\" rel=\"nofollow noreferrer\">github.com/yanex/anko-example/blob/master/app/build.gradle</a>"}, {"owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 2, "creation_date": 1486027084, "post_id": 41998155, "comment_id": 71173076, "body": "that&#39;s the project I cloned, and when I build it, I get the error message I post. I tried an earlier version with this <code>compile &#39;org.jetbrains.anko:anko-sdk15:0.9&#39;</code> and it works. So I guess there&#39;s a problem with the <code>0.9.1</code> version"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1486027148, "post_id": 41998155, "comment_id": 71173128, "body": "show <code>build.gradle</code>"}, {"owner": {"reputation": 800, "user_id": 5147603, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F7wHB.jpg?s=128&g=1", "display_name": "Rucha Bhatt Joshi", "link": "https://stackoverflow.com/users/5147603/rucha-bhatt-joshi"}, "edited": false, "score": 0, "creation_date": 1498129696, "post_id": 41998155, "comment_id": 76378127, "body": "@tufekoi thank you this is working.."}], "answers": [{"tags": [], "owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "is_accepted": true, "score": 2, "last_activity_date": 1486032278, "last_edit_date": 1486032278, "creation_date": 1486031512, "answer_id": 41999815, "question_id": 41998155, "link": "https://stackoverflow.com/questions/41998155/trouble-resolving-anko-library-version-0-9-1/41999815#41999815", "title": "Trouble resolving anko library version 0.9.1", "body": "<p>Looks to be a <a href=\"https://github.com/yanex/anko-example/issues/7\" rel=\"nofollow noreferrer\">known issue</a> (that dependency hasn't been synced to jcenter yet).</p>\n\n<p>Temporary solution is to add the anko bintray repository to your root <code>build.gradle</code> file:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://dl.bintray.com/jetbrains/anko' }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 1958693, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a9bf1f231b7b279298ccd9ac3646230e?s=128&d=identicon&r=PG", "display_name": "tufekoi", "link": "https://stackoverflow.com/users/1958693/tufekoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 41999815, "answer_count": 1, "score": 1, "last_activity_date": 1486032278, "creation_date": 1486026650, "last_edit_date": 1486027423, "question_id": 41998155, "link": "https://stackoverflow.com/questions/41998155/trouble-resolving-anko-library-version-0-9-1", "title": "Trouble resolving anko library version 0.9.1", "body": "<p>I'm trying to compile the anko-test project (<a href=\"https://github.com/yanex/anko-example.git\" rel=\"nofollow noreferrer\">https://github.com/yanex/anko-example.git</a>) but gradle can't resolve the dependency to the library : </p>\n\n<pre><code>Error: A problem occurred configuring project ':app'.\n&gt; Could not resolve all dependencies for configuration ':app:_debugApkCopy'.\n&gt; Could not find org.jetbrains.anko:anko-sdk15:0.9.1.\n  Required by:\n     anko-example:app:unspecified\n</code></pre>\n\n<p>here's my gradle file : </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.0.5-2'\n    repositories {\n         jcenter()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.1\"\n\n    defaultConfig {\n        applicationId \"org.example.ankodemo\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:25.1.1'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'org.jetbrains.anko:anko-sdk15:0.9.1'\n}\n</code></pre>\n\n<p>I haven't change anything after cloning the project, any Idea what's going on?</p>\n"}, {"tags": ["spring-mvc", "kotlin", "bean-validation"], "comments": [{"owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "edited": false, "score": 0, "creation_date": 1486068148, "post_id": 41993706, "comment_id": 71199261, "body": "Are you asking about kotlin in general, or specifically how to handle this situation in Spring MVC (i.e. &quot;as <code>@NotNull</code> is redundant when using Kotlin, how do I validate requests in which a non-null property isn&#39;t supplied in the request JSON?&quot;)"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 5, "last_activity_date": 1487743807, "last_edit_date": 1487743807, "creation_date": 1486011693, "answer_id": 41994512, "question_id": 41993706, "link": "https://stackoverflow.com/questions/41993706/is-notnull-needed-on-kotlin/41994512#41994512", "title": "Is NotNull needed on Kotlin?", "body": "<p>Since <code>name</code> is a not-null parameter of <code>User</code>, it cannot accept <code>null</code>s, ever.</p>\n\n<p>To guarantee that Kotlin compiler:</p>\n\n<ul>\n<li><p>inserts a <code>null</code> check inside the <code>User</code> constructor which throws an exception if some Java code tries to pass a <code>null</code>.</p></li>\n<li><p>annotates <code>name</code> with<code>@NotNull</code> in order to stay consistent with Java APIs</p></li>\n<li><p><s> does not add any <code>@NotNull</code> annotation since there isn't one which everybody agrees on :( </s></p></li>\n</ul>\n\n<p>Here are the corresponding <a href=\"http://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#null-safety\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<h2>Update</h2>\n\n<p>I have rechecked it, and Kotlin compiler v1.0.6 <em>does</em> insert <code>@Nullable</code> and <code>@NotNull</code> from <code>org.jetbrains.annotations</code>. I have updated the answer accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 8022, "user_id": 1068649, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e44a15ecb4ee475548612da03c81f33?s=128&d=identicon&r=PG", "display_name": "James Bassett", "link": "https://stackoverflow.com/users/1068649/james-bassett"}, "is_accepted": false, "score": 8, "last_activity_date": 1486068000, "last_edit_date": 1486068000, "creation_date": 1486033082, "answer_id": 42000389, "question_id": 41993706, "link": "https://stackoverflow.com/questions/41993706/is-notnull-needed-on-kotlin/42000389#42000389", "title": "Is NotNull needed on Kotlin?", "body": "<p>You can avoid using <code>@NotNull</code>, as it'll never get triggered for non-nullable property (bean validation only kicks in after Jackson deserializes the JSON - which is where this will fail). </p>\n\n<p>Assuming you're using <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"noreferrer\">jackson-module-kotlin</a>, then you should get an exception with <a href=\"https://github.com/FasterXML/jackson-module-kotlin/blob/master/src/main/kotlin/com/fasterxml/jackson/module/kotlin/Exceptions.kt\" rel=\"noreferrer\"><code>MissingKotlinParameterException</code></a> as the root cause, which you can then handle in a <code>@ControllerAdvice</code>. In your advice you can handle normal bean validation exceptions (e.g. <code>ConstraintViolationException</code>caused by <code>@Size</code>) and missing non-null constructor params (<code>MissingKotlinParameterException</code>) and return an API response indicating the fields in error.</p>\n\n<p>The only caveat with this is that the <code>jackson-kotlin-module</code> <a href=\"https://github.com/FasterXML/jackson-module-kotlin/issues/58\" rel=\"noreferrer\">fails on the first missing property</a>, unlike bean validation in Java, which will return all violations.</p>\n"}, {"tags": [], "owner": {"reputation": 3822, "user_id": 4725496, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/BYQOo.jpg?s=128&g=1", "display_name": "Feeco", "link": "https://stackoverflow.com/users/4725496/feeco"}, "is_accepted": true, "score": 1, "last_activity_date": 1486080565, "creation_date": 1486080565, "answer_id": 42014649, "question_id": 41993706, "link": "https://stackoverflow.com/questions/41993706/is-notnull-needed-on-kotlin/42014649#42014649", "title": "Is NotNull needed on Kotlin?", "body": "<p>As I tested, <code>@NotNull</code> doesn't affect on the MVC validation at all. You will only receive a <code>WARN</code> message in console which is normal:</p>\n\n<blockquote>\n  <p>Failed to read HTTP message: org.springframework.http.converter.HttpMessageNotReadableException: Could not read document: Instantiation of...</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 499, "user_id": 12900361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B3Ivd.jpg?s=128&g=1", "display_name": "mleister", "link": "https://stackoverflow.com/users/12900361/mleister"}, "is_accepted": false, "score": 0, "last_activity_date": 1590775109, "creation_date": 1590775109, "answer_id": 62092004, "question_id": 41993706, "link": "https://stackoverflow.com/questions/41993706/is-notnull-needed-on-kotlin/62092004#62092004", "title": "Is NotNull needed on Kotlin?", "body": "<p>My workarround for now (place the file anywhere):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@ControllerAdvice\nclass ExceptionHandler {\n\n    @ResponseStatus(BAD_REQUEST)\n    @ResponseBody\n    @ExceptionHandler(MissingKotlinParameterException::class)\n    fun missingKotlinParameterException(ex: MissingKotlinParameterException): Error? {\n        return createMissingKotlinParameterViolation(ex)\n    }\n\n    private fun createMissingKotlinParameterViolation(ex: MissingKotlinParameterException): Error{\n        val error = Error(BAD_REQUEST.value(), \"validation error\")\n        val errorFieldRegex = Regex(\"\\\\.([^.]*)\\\\[\\\\\\\"(.*)\\\"\\\\]\\$\")\n        val errorMatch = errorFieldRegex.find(ex.path[0].description)!!\n        val (objectName, field) = errorMatch.destructured\n        error.addFieldError(objectName.decapitalize(), field, \"must not be null\")\n        return error\n    }\n\n    data class Error(val status: Int, val message: String, val fieldErrors: MutableList&lt;CustomFieldError&gt; = mutableListOf()) {\n        fun addFieldError(objectName: String, field: String, message: String) {\n            val error = CustomFieldError(objectName, field, message)\n            fieldErrors.add(error)\n        }\n    }\n\n    data class CustomFieldError(val objectName: String, val field: String, val message: String)\n</code></pre>\n"}], "owner": {"reputation": 3822, "user_id": 4725496, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/BYQOo.jpg?s=128&g=1", "display_name": "Feeco", "link": "https://stackoverflow.com/users/4725496/feeco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3390, "favorite_count": 1, "accepted_answer_id": 42014649, "answer_count": 4, "score": 5, "last_activity_date": 1590775109, "creation_date": 1486006157, "question_id": 41993706, "link": "https://stackoverflow.com/questions/41993706/is-notnull-needed-on-kotlin", "title": "Is NotNull needed on Kotlin?", "body": "<p>I have a class:</p>\n\n<pre><code>class User(\n\n    var name: String\n\n)\n</code></pre>\n\n<p>And a mapped post request:</p>\n\n<pre><code>@PostMapping(\"/user\")\nfun test(@Valid @RequestBody user: User) {\n    //...\n}\n</code></pre>\n\n<p>What if a client will send a JSON of a user with <code>name: null</code>? Will it be rejected by the MVC Validator or an exception will be throwed? Should I annotate <code>name</code> with <code>@NotNull</code>? Unfortunately, I cannot check that because only can write tests (it is not available to create <code>User(null)</code>).</p>\n"}]