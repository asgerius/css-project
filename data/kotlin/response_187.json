[{"tags": ["java", "android", "kotlin", "nfc", "mifare"], "answers": [{"comments": [{"owner": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "edited": false, "score": 0, "creation_date": 1533928773, "post_id": 51784133, "comment_id": 90543192, "body": "The tag only lists &#39;NfcA&#39; &#39;MifareUltralight&#39; and &#39;NdefFormattable&#39; as available techs. This is all good info, didn&#39;t know about the lock bits at page 226 though. Any insight as to why the maxTransceiveLength has a value of 253? That only provides ~59 pages to write to."}, {"owner": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "reply_to_user": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "edited": false, "score": 0, "creation_date": 1534100119, "post_id": 51784133, "comment_id": 90578755, "body": "@Clocker See my update, the transceive length applies to each individual command and response."}, {"owner": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "edited": false, "score": 0, "creation_date": 1534174760, "post_id": 51784133, "comment_id": 90606154, "body": "so that 253 bytes on that trasnceiveLength means that 253 bytes can be written per writePage call? Thus to get the 888 bytes, I&#39;d invoke the writePage method ~3 times ensuring not to rewrite over previously written pages. Is that correct?"}, {"owner": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "reply_to_user": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "edited": false, "score": 0, "creation_date": 1534183595, "post_id": 51784133, "comment_id": 90610676, "body": "@Clocker I thought that &quot;<i>the WRITE command (MifareUltralight.writePage()) writes 4 bytes at a time</i>&quot; was quite clear. The WRITE command only writes a single page (4 bytes). You have to invoke it separately for each page. NTAG216 tags don&#39;t have commands that make use of the maximum transceive length."}, {"owner": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "edited": false, "score": 1, "creation_date": 1534184007, "post_id": 51784133, "comment_id": 90610866, "body": "It is. I was confusing the maxTransceiveLength with the size of the Tag overall (which no function seems to exist for this). Nonetheless, writePage() uses transceive() which only allows for a payload of maxTransceiveLength() which is okay since writePage() only writes 4 bytes."}], "tags": [], "owner": {"reputation": 36212, "user_id": 2425802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RKefk.png?s=128&g=1", "display_name": "Michael Roland", "link": "https://stackoverflow.com/users/2425802/michael-roland"}, "is_accepted": true, "score": 3, "last_activity_date": 1534099977, "last_edit_date": 1534099977, "creation_date": 1533895784, "answer_id": 51784133, "question_id": 51756210, "link": "https://stackoverflow.com/questions/51756210/how-to-properly-write-to-a-mifareultralight-nfc-tag/51784133#51784133", "title": "How to properly write to a MifareUltralight NFC tag?", "body": "<p>The memory of MIFARE Ultralight and NTAG tags is organized in pages of 4 byte each. Consequently, the WRITE command (<code>MifareUltralight.writePage()</code>) writes 4 bytes at a time. (Note that the READ command (<code>MifareUltralight.readPages()</code>) reads 4 pages (= 16 bytes) at a time.</p>\n\n<p>Therefore, when you want to write to your NTAG216 tag, you need to split the data into chunks of 4 bytes. You seem to already do that with the for-loop in your code (though you'll run into some issues since you do not clear the unused bytes of the last page if your data is not page-aligned).</p>\n\n<p>Not all the pages of a MIFARE Ultralight/NTAG tag are freely usable for data storage. Only the user memory area in pages 4 to 225 (for NTAG216) is. The first 2 pages (pages 0 and 1) are read-only and reserved for the tag serial number. The next 2 pages (pages 2 and 3) contain write-once memory (i.e. memory areas where a bit that is once written to 1 can't be changed to 0 again). Specifically, there are the lock-bits in page 2 (also in page 226, but you shouldn't have touched them if your data is only 457 bytes). If you set the lock-bits, you prevent write access to parts of the user memory pages, which would result in a \"Transceive failed\" exception. Consequently, if the value of PAGE_OFFSET is less than 4, you probably rendered the tag unusable by writing data to reserved memory areas.</p>\n\n<p>In general, if you only intend to store (freely-readable) data and won't make use of additional features of the tag (such as password protection), I would strongly suggest that you do not use low-level IO methods for accessing NFC tags. Instead, stick to the NDEF abstraction layer and store your data in NDEF records. Android will then take care of putting the data into appropriate memory locations on any NFC tag.</p>\n\n<p>Finally, the transceive length is the amount of bytes that can be transfered in one command or response. So, for instance, for a WRITE command, this would be 6 bytes in total (4 bytes of data payload, one address byte and one command code byte). For a READ response this would be the 16 bytes of data payload. The value of <code>getMaxTransceiveLength()</code> indicates the maximum transceive length theoretically possible by the underlying libraries, HAL and hardware.</p>\n"}], "owner": {"reputation": 1006, "user_id": 1582099, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7ac486bb66d9278da1694047d1c83853?s=128&d=identicon&r=PG", "display_name": "Clocker", "link": "https://stackoverflow.com/users/1582099/clocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 971, "favorite_count": 0, "accepted_answer_id": 51784133, "answer_count": 1, "score": 1, "last_activity_date": 1534180166, "creation_date": 1533765412, "last_edit_date": 1534180166, "question_id": 51756210, "link": "https://stackoverflow.com/questions/51756210/how-to-properly-write-to-a-mifareultralight-nfc-tag", "title": "How to properly write to a MifareUltralight NFC tag?", "body": "<p>What's the proper way of using the <code>MifareUltralight.writePage()</code> method?</p>\n\n<p>Querying the <code>getMaxTransceiveLength()</code> method returns 253 bytes. Yet the <a href=\"https://rads.stackoverflow.com/amzn/click/com/B07F2LBDVZ\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">tag</a> is advertised at 888 bytes. Is the <code>transceive()</code> and thus <code>writePage()</code> supposed to be invoked multiple times? The payload being written has a size of 457 bytes.</p>\n\n<pre><code>        val jsonString = Gson().toJson(casualty)  \n        val casualtyBytes = toBlob(casualty)\n        var currentPage = PAGE_OFFSET\n        val pageBytes = ByteArray(MifareUltralight.PAGE_SIZE)\n        var byteIndex = 0\n        for(i in 0 until casualtyBytes.size){\n            pageBytes[byteIndex] = casualtyBytes[i]\n            byteIndex++\n            if(byteIndex == 4 || i == (casualtyBytes.size-1)) {\n                tag.writePage(currentPage, pageBytes)\n                currentPage++\n                byteIndex = 0\n            }\n        }\n\nfun toBlob(item : Any) : ByteArray{\n    val bos = ByteArrayOutputStream()\n    val gzip = GZIPOutputStream(bos) //compress\n    val oos = ObjectOutputStream(gzip)\n    oos.writeObject(item)\n    oos.close()\n    return bos.toByteArray()\n}\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>java.io.IOException: Transceive failed\n    at android.nfc.TransceiveResult.getResponseOrThrow(TransceiveResult.java:52)\n    at android.nfc.tech.BasicTagTechnology.transceive(BasicTagTechnology.java:151)\n    at android.nfc.tech.MifareUltralight.writePage(MifareUltralight.java:193)\n    at some.package.nfc.NfcCasualtyPublisher.writeToTag(NfcCasualtyPublisher.kt:42)\n    at some.package.nfc.NfcCasualtyPublisher.access$writeToTag(NfcCasualtyPublisher.kt:11)\n    at some.package.nfc.NfcCasualtyPublisher$publishCasualty$1.run(NfcCasualtyPublisher.kt:21)\n    at java.lang.Thread.run(Thread.java:818)\n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "composite", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 21, "user_id": 3878722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8DoTd.gif?s=128&g=1", "display_name": "fuzzyweapon", "link": "https://stackoverflow.com/users/3878722/fuzzyweapon"}, "edited": false, "score": 0, "creation_date": 1533773233, "post_id": 51756055, "comment_id": 90473807, "body": "I realized that I might be referencing lifecycle tasks that don&#39;t exist in this way?  (I&#39;m not sure how to check that).  In order to rule that out, I went ahead and created a task for every subproject in the subprojects{} block of each included build.  I subsequently made the rootproject build/cleanall tasks then depend on all of the subproject tasks respectively."}, {"owner": {"reputation": 21, "user_id": 3878722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8DoTd.gif?s=128&g=1", "display_name": "fuzzyweapon", "link": "https://stackoverflow.com/users/3878722/fuzzyweapon"}, "edited": false, "score": 0, "creation_date": 1533773393, "post_id": 51756055, "comment_id": 90473844, "body": "Then it gave me a circular dependency issue citing the :rootIncluded:build circularly depends on :rootIncluded:build.  When I tried to use absolute paths in getByPath, it told me that the projects don&#39;t exist (and shows that it is looking it up relatively).  It&#39;s almost when getting the task by path originally it will /only/ accept relative paths (I tried all the ways I could think of in case it was user error), and then when validating or using it to look up in the dependsOn it actually does it all from the rootProject of the included build."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 3878722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8DoTd.gif?s=128&g=1", "display_name": "fuzzyweapon", "link": "https://stackoverflow.com/users/3878722/fuzzyweapon"}, "is_accepted": false, "score": 0, "last_activity_date": 1533836989, "creation_date": 1533836989, "answer_id": 51773138, "question_id": 51756055, "link": "https://stackoverflow.com/questions/51756055/mimicking-multiproject-execution-in-composite-included-build-with-gradle-kotlin/51773138#51773138", "title": "Mimicking Multiproject Execution In Composite Included Build with Gradle Kotlin DSL?", "body": "<p>Okay, not sure what was going on and why those other methods didn't work, but I found a method that works and does not require me to manufacture synthetic tasks that depend on the lifecycle tasks.</p>\n\n<p>Composite rootproject build.gradle.kts tasks remain the same as stated in the original question:</p>\n\n<pre><code>tasks {\n    val clean by getting {\n        gradle.includedBuilds.forEach { this.dependsOn(it.task(\":cleanAll\")) }\n    }\n\n    val build by getting {\n        gradle.includedBuilds.forEach { this.dependsOn(it.task(\":buildAll\")) }\n    }\n}\n</code></pre>\n\n<p>Tasks declaration in included build root projects' build.gradle.kts-es need to collect and depend on tasks in the following way:</p>\n\n<pre><code>tasks {\n    val buildAll: GradleBuild by creating {\n        dependsOn(getTasksByName(\"build\", true))\n    }\n\n    val cleanAll: Delete by creating {\n        dependsOn(getTasksByName(\"clean\", true))\n    }\n}\n</code></pre>\n\n<p>This will recursively gather the tasks.  Although my previous techniques of iterating through all of the subprojects should have also done the trick since subprojects contains all subprojects, for some reason it wasn't working.  This is though!  Hopefully this helps out other people.</p>\n"}], "owner": {"reputation": 21, "user_id": 3878722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8DoTd.gif?s=128&g=1", "display_name": "fuzzyweapon", "link": "https://stackoverflow.com/users/3878722/fuzzyweapon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537445930, "creation_date": 1533764652, "last_edit_date": 1537445930, "question_id": 51756055, "link": "https://stackoverflow.com/questions/51756055/mimicking-multiproject-execution-in-composite-included-build-with-gradle-kotlin", "title": "Mimicking Multiproject Execution In Composite Included Build with Gradle Kotlin DSL?", "body": "<p>I am simplifying the setup I have to illustrate my issue, but have included structural complexities.</p>\n\n<p>Using Gradle's Kotlin DSL I have a composite build where the root project is empty and the two included builds are both side-by-side multiproject builds with varying structures that make use of \"container\" projects (aka, empty directories with no build.gradle.kts files) for organization purposes.</p>\n\n<pre><code>.\n\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 settings.gradle.kts\n\u251c\u2500\u2500 library\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 core\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 other-component\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 util\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 util1\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 util2\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 common\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 js\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2502\u00a0\u00a0 \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 jvm\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0         \u2514\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 build.gradle.kts\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 settings.gradle.kts\n\u251c\u2500\u2500 build.gradle.kts\n\u2514\u2500\u2500 settings.gradle.kts\n</code></pre>\n\n<p>My desire is to be able to run build in the root composite project within the IDE (Intellij) and it mimic the behavior of a multiproject execution, where everything underneath that project executes the task in turn.</p>\n\n<p>In Groovy, one can just use the spread operator on includedBuilds*.tasks* in the composite project to wire it up, but in the Kotlin DSL, we only have access to task, which is a single TaskReference and no way to get a collection of Tasks (TaskCollection or Collection of Tasks) or collection of TaskReferences.</p>\n\n<p>So in the rootProject of the composite build.gradle.kts, I have:</p>\n\n<pre><code>tasks {\n    val clean by getting {\n        gradle.includedBuilds.forEach { this.dependsOn(it.task(\":cleanAll\")) }\n    }\n\n    val build by getting {\n        gradle.includedBuilds.forEach { this.dependsOn(it.task(\":buildAll\")) }\n    }\n}\n</code></pre>\n\n<p>Then in one of the included builds build.gradle.kts files, I have tried wiring them two different ways (well many but these are the two approaches):</p>\n\n<pre><code>// Variation 1\ntasks {\n    val buildAll : GradleBuild by creating {\n        this.dependsOn(tasks.getByPath(\":build\"))\n    }\n\n    val cleanAll : Delete by creating {\n        this.dependsOn(tasks.getByPath(\":clean\"))\n    }\n}\n\n// Variation 2\ntasks {\n    val buildAll: GradleBuild by creating {\n        subprojects.forEach {\n            this.dependsOn(it.tasks.getByPath(\":build\"))\n        }\n    }\n\n    val cleanAll: Delete by creating {\n        subprojects.forEach {\n            this.dependsOn(it.tasks.getByPath(\":clean\"))\n        }\n    }\n}\n\n// Variation 2.b\ntasks {\n    val buildAll: GradleBuild by creating {\n        this.dependsOn(subprojects.mapNotNull(it.tasks.getByPath(\":build\")))\n    }\n\n    val cleanAll: Delete by creating {\n        this.dependsOn(subprojects.mapNotNull(it.tasks.getByPath(\":clean\")))\n    }\n}\n\n// I even used different ways to try and get the tasks such as it.tasks[\"root:library:build\"], it.tasks[\":library:build\"], and it.tasks[\"library:build\"] since I know that the included builds are executed in an isolated fashion.  None of these worked\n// The result was when I used absolute paths, gradle spat back that these tasks didn't exist (I assumed because they were lifecycle tasks).\n</code></pre>\n\n<p>Basically, trying the variations above only ever built and cleaned the rootProjects of the included builds and never the subprojects.  Is this a bug?</p>\n\n<p>I do not want to have to resort to needing knowledge of the underlying structure of the included builds to wire this up.  That would be unsustainable.  What am I doing wrong?</p>\n"}, {"tags": ["kotlin", "polymer"], "owner": {"reputation": 1305, "user_id": 9775278, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hUz4-9mLcbk/AAAAAAAAAAI/AAAAAAAAAe0/DtiqUiPv0Ek/photo.jpg?sz=128", "display_name": "andylamax", "link": "https://stackoverflow.com/users/9775278/andylamax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1533761758, "creation_date": 1533761758, "question_id": 51755526, "link": "https://stackoverflow.com/questions/51755526/polymer-3-0-elements-using-kotlin", "title": "Polymer 3.0 Elements using Kotlin", "body": "<p>Can someone please direct me on how to create Polymer 3.0 Elements using kotlin js?</p>\n\n<p>Problem is The Polymer Element in Javascript is</p>\n\n<pre><code>class AndyApp extends PolymerElement {\n    static get template() {\n        return html`\n          &lt;style include=\"shared-styles\"&gt;\n            :host {\n              display: block;\n              padding: 10px;\n              background-color: #0D334988;\n            }\n          &lt;/style&gt;\n\n          &lt;div class=\"card\"&gt;\n            &lt;div class=\"circle\"&gt;1&lt;/div&gt;\n            &lt;h1&gt;New View&lt;/h1&gt;\n            &lt;p&gt;New view!&lt;/p&gt;\n          &lt;/div&gt;\n    `;\n    }\n}\n\ncustomElements.define(\"andy-app\", AndyApp)\n</code></pre>\n\n<p>The kotlin equivalent I tried to write was</p>\n\n<pre><code>class AndyApp : PolymerElement {\n    companion object {\n        fun getTemplate() {\n           . . .\n        }\n\n        //also tried\n        val template\n        get() {\n           . . .\n        }\n    }\n}\n</code></pre>\n\n<p>somehow, after compilatation, my <code>fun template()</code> or <code>val template</code> is available in <code>AndyApp.Companion.template()</code> or <code>AndyApp.Companion.template</code>, how do I make it compiled to <code>AndyApp.template()</code> or <code>AndyApp.template</code>?</p>\n\n<p>Another Question that goes with it?: what is the equivalent html`` template literal in kotlin js? </p>\n"}, {"tags": ["android", "kotlin", "flashlight"], "comments": [{"owner": {"reputation": 7148, "user_id": 626563, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9133e5b265a3b88559b15a26fd3a5274?s=128&d=identicon&r=PG", "display_name": "CEGRD", "link": "https://stackoverflow.com/users/626563/cegrd"}, "edited": false, "score": 1, "creation_date": 1533760922, "post_id": 51754874, "comment_id": 90470320, "body": "Welcome to SO! I am not unfortunately able to help you to get an answer, but I was wondering whether it would be easier to find your question for others in the future and help more people if the title of the question was something like <code>Is there any listener for checking whether torch is on or off in Android?</code>. Just a suggestion."}], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": false, "score": -1, "last_activity_date": 1533800339, "last_edit_date": 1592644375, "creation_date": 1533800339, "answer_id": 51761331, "question_id": 51754874, "link": "https://stackoverflow.com/questions/51754874/how-could-i-check-listener-whether-torch-is-on-or-off-by-default-in-android/51761331#51761331", "title": "how could I check ( listener) whether torch is on or off by default in android? i know hot to open or off torch but is there any listener?", "body": "<p><a href=\"https://developer.android.com/reference/android/hardware/camera2/CameraManager#registerTorchCallback(android.hardware.camera2.CameraManager.TorchCallback,%20android.os.Handler)\" rel=\"nofollow noreferrer\">Read the docs</a></p>\n<blockquote>\n<p><code>public void registerTorchCallback (CameraManager.TorchCallback callback, Handler handler) </code></p>\n<p>Register a callback to be notified about torch mode status.</p>\n<p>Registering the same callback again will replace the handler with the\nnew one provided.</p>\n<p>The first time a callback is registered, it is immediately called with\nthe torch mode status of all currently known camera devices with a\nflash unit.</p>\n<p>Since this callback will be registered with the camera service,\nremember to unregister it once it is no longer needed; otherwise the\ncallback will continue to receive events indefinitely and it may\nprevent other resources from being released. Specifically, the\ncallbacks will be invoked independently of the general activity\nlifecycle and independently of the state of individual CameraManager\ninstances.</p>\n</blockquote>\n"}], "owner": {"reputation": 7, "user_id": 10199825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3S4z9YNkOFw/AAAAAAAAAAI/AAAAAAAAADQ/g2GENRlYclo/photo.jpg?sz=128", "display_name": "cool gamer", "link": "https://stackoverflow.com/users/10199825/cool-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1533800339, "creation_date": 1533759071, "last_edit_date": 1533760557, "question_id": 51754874, "link": "https://stackoverflow.com/questions/51754874/how-could-i-check-listener-whether-torch-is-on-or-off-by-default-in-android", "title": "how could I check ( listener) whether torch is on or off by default in android? i know hot to open or off torch but is there any listener?", "body": "<pre><code>val cm=getSystemService(Context.CAMERA_SERVICE) as CameraManager\nval cameraID=cm.cameraIdList[0]\ncm.setTorchMode(cameraID,true)\n</code></pre>\n\n<p>I want to open torch if it was not opened by user with their default torch app or widget.</p>\n"}, {"tags": ["hibernate", "kotlin", "annotations", "hibernate-annotations"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1533755181, "post_id": 51753961, "comment_id": 90467662, "body": "What code did you write that didn&#39;t work? Also, perhaps this answer can help you: <a href=\"https://stackoverflow.com/a/49414616/4465208\">stackoverflow.com/a/49414616/4465208</a>"}, {"owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1533755551, "post_id": 51753961, "comment_id": 90467820, "body": "@zsmb13 updated my question with the code I tried. Okay that question helped me, it&#39;s about taking off the @ and using named arguments. Thanks!!"}], "answers": [{"tags": [], "owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "is_accepted": true, "score": 5, "last_activity_date": 1533806974, "last_edit_date": 1533806974, "creation_date": 1533755722, "answer_id": 51754105, "question_id": 51753961, "link": "https://stackoverflow.com/questions/51753961/array-of-anotations-in-kotlin/51754105#51754105", "title": "Array of anotations in kotlin", "body": "<p>I had to do the following to make it work:</p>\n\n<ul>\n<li>Take off the <code>@</code> from inner annotations </li>\n<li>Wrap the list with <code>arrayOf</code> </li>\n<li>Pass the array as named argument.</li>\n</ul>\n\n<p>Here is the working code:</p>\n\n<pre><code>@TypeDefs(value = arrayOf(\n        TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n        TypeDef(name = \"int-array\", typeClass = IntArrayType::class),\n        TypeDef(name = \"json\", typeClass = JsonStringType::class),\n        TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class)\n))\ndata class Line(...)\n</code></pre>\n\n<p>alternatively one can also use square brackets instead of arrayOf:</p>\n\n<pre><code>@TypeDefs(value = [\n    TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n    TypeDef(name = \"int-array\", typeClass = IntArrayType::class),\n    TypeDef(name = \"json\", typeClass = JsonStringType::class),\n    TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class)\n])\ndata class Line(...)\n</code></pre>\n\n<p><em>UPDATE: Based on @Zoe's answer</em></p>\n\n<p>If the only argument is the annotation list, you don't need to specify the named argument and it gets simplified as:</p>\n\n<pre><code>@TypeDefs(\n    TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n    TypeDef(name = \"int-array\", typeClass = IntArrayType::class),\n    TypeDef(name = \"json\", typeClass = JsonStringType::class),\n    TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class)\n)\ndata class Line(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 3, "last_activity_date": 1568974415, "last_edit_date": 1568974415, "creation_date": 1533755921, "answer_id": 51754143, "question_id": 51753961, "link": "https://stackoverflow.com/questions/51753961/array-of-anotations-in-kotlin/51754143#51754143", "title": "Array of anotations in kotlin", "body": "<p>If you use the <code>Convert file to Kotlin</code> tool in IntelliJ, the annotation gets converted to:</p>\n\n<pre><code>@TypeDefs(\n    TypeDef(name = \"string-array\", typeClass = StringArrayType::class), \n    TypeDef(name = \"int-array\", typeClass = IntArrayType::class), \n    TypeDef(name = \"json\", typeClass = JsonStringType::class), \n    TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class)\n)\ndata class Foo(...)\n</code></pre>\n\n<p>Seems to do the same as using <code>value = arrayOf(...)</code>, as JaviOverflow mentioned.</p>\n\n<hr>\n\n<p>If you would like to use <code>arrayOf</code> or <code>[]</code> instead you will need to use something like this but it is redundant asterisk <code>*</code> is just spread operator:</p>\n\n<pre><code>@TypeDefs(\n    *arrayOf(\n        TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n        ...\n    )\n)\n\n@TypeDefs(\n    *[\n        TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n        ...\n    ]\n)\n</code></pre>\n\n<p>Otherwise you will get type mismatch.</p>\n"}], "owner": {"reputation": 1142, "user_id": 3723306, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/1515773058/picture?type=large", "display_name": "JaviOverflow", "link": "https://stackoverflow.com/users/3723306/javioverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 51754105, "answer_count": 2, "score": 3, "last_activity_date": 1568974415, "creation_date": 1533755111, "last_edit_date": 1533755383, "question_id": 51753961, "link": "https://stackoverflow.com/questions/51753961/array-of-anotations-in-kotlin", "title": "Array of anotations in kotlin", "body": "<p>What would be the equivalent of the following annotation usage in kotlin:</p>\n\n<pre><code>@TypeDefs({\n        @TypeDef(name = \"string-array\", typeClass = StringArrayType.class),\n        @TypeDef(name = \"int-array\", typeClass = IntArrayType.class),\n        @TypeDef(name = \"json\", typeClass = JsonStringType.class),\n        @TypeDef(name = \"jsonb\", typeClass = JsonBinaryType.class)\n})\n</code></pre>\n\n<p>This is the definition of @TypeDefs</p>\n\n<pre><code>@Target({TYPE, PACKAGE})\n@Retention(RUNTIME)\npublic @interface TypeDefs {\n    /**\n     * The grouping of type definitions.\n     */\n    TypeDef[] value();\n}\npublic class Foo {...}\n</code></pre>\n\n<p>and this is the one of @TypeDef</p>\n\n<pre><code>@Target({TYPE, PACKAGE})\n@Retention(RUNTIME)\n@Repeatable(TypeDefs.class)\npublic @interface TypeDef {\n    /**\n     * The type name.  This is the name that would be used in other locations.\n     */\n    String name() default \"\";\n\n    /**\n     * The type implementation class.\n     */\n    Class&lt;?&gt; typeClass();\n\n    /**\n     * Name a java type for which this defined type should be the default mapping.\n     */\n    Class&lt;?&gt; defaultForType() default void.class;\n\n    /**\n     * Any configuration parameters for this type definition.\n     */\n    Parameter[] parameters() default {};\n}\n</code></pre>\n\n<p>I tried using <code>arrayOf()</code> but it's not working. </p>\n\n<pre><code>@TypeDefs(arrayOf(\n        @TypeDef(name = \"string-array\", typeClass = StringArrayType::class),\n        @TypeDef(name = \"int-array\", typeClass = IntArrayType::class),\n        @TypeDef(name = \"json\", typeClass = JsonStringType::class),\n        @TypeDef(name = \"jsonb\", typeClass = JsonBinaryType::class)\n))\ndata class Foo (...)\n</code></pre>\n\n<p>I'm getting the following error on IntelliJ Idea: <code>An annotation cannot be used as the annotations argument</code> </p>\n"}, {"tags": ["sql", "postgresql", "kotlin", "jooq"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533758674, "post_id": 51753861, "comment_id": 90469168, "body": "I frankly don&#39;t see how the original query works. <code>array_agg()</code> should receive a column, and you&#39;re passing it a table alias. What do I miss?"}, {"owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533758900, "post_id": 51753861, "comment_id": 90469281, "body": "Hm, the query actually works for me. Maybe take a look at this <a href=\"https://blog.jooq.org/2017/01/12/a-probably-incomplete-comprehensive-guide-to-the-many-different-ways-to-join-tables-in-sql/\" rel=\"nofollow noreferrer\">blog.jooq.org/2017/01/12/&hellip;</a> (bottom of the page &quot;Alternative syntaxes: PostgreSQL&quot;)"}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533804825, "post_id": 51753861, "comment_id": 90484192, "body": "@AlexeySoshin: You an reference a table in the projection to create nested records in PostgreSQL."}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1533805045, "post_id": 51753861, "comment_id": 90484328, "body": "@LukasEder, yep, already confirmed it, although it&#39;s not documented well in PostgreSQL. Is my assumption correct that it&#39;s still not supported by jOOQ, though?"}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533809779, "post_id": 51753861, "comment_id": 90487442, "body": "@AlexeySoshin: That&#39;s right, it&#39;s currently not supported. It&#39;s possible to compare two tables <code>t1 = t2</code>, but it&#39;s not possible yet to project them. Nested records are still experimental in jOOQ."}, {"owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "reply_to_user": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1533819301, "post_id": 51753861, "comment_id": 90493847, "body": "@LukasEder is there any alternative syntax? And are you planning to suupport this in some future release?"}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 4, "last_activity_date": 1533811133, "last_edit_date": 1533811133, "creation_date": 1533760859, "answer_id": 51755322, "question_id": 51753861, "link": "https://stackoverflow.com/questions/51753861/using-posgresql-array-agg-with-join-alias-in-jooq-dsl/51755322#51755322", "title": "Using PosgreSQL array_agg with join alias in JOOQ DSL", "body": "<p>First of all, the syntax indeed works, checked this in SQL Fiddle: <a href=\"http://sqlfiddle.com/#!17/e45b7/3\" rel=\"nofollow noreferrer\">http://sqlfiddle.com/#!17/e45b7/3</a></p>\n\n<p>But it's not documented in detail: <a href=\"https://www.postgresql.org/docs/9.5/static/functions-aggregate.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/9.5/static/functions-aggregate.html</a>\n<a href=\"https://www.postgresql.org/docs/current/static/rowtypes.html#ROWTYPES-USAGE\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/static/rowtypes.html#ROWTYPES-USAGE</a></p>\n\n<p>That's probably the reason jOOQ doesn't support this currently: <a href=\"https://github.com/jOOQ/jOOQ/blob/master/jOOQ/src/main/java/org/jooq/impl/DSL.java#L16856\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/blob/master/jOOQ/src/main/java/org/jooq/impl/DSL.java#L16856</a></p>\n\n<p>The only syntax that will work currently is with a single field: <code>DSL.arrayAgg(pmu.field(1))</code></p>\n"}, {"comments": [{"owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "edited": false, "score": 0, "creation_date": 1535108125, "post_id": 51767868, "comment_id": 90954923, "body": "How can i get a <code>Row[N]&lt;...&gt;</code> representation of a table type? I tried doing <code>DSL.arrayAgg(DSL.rowField(pmu.fieldsRow()))</code>. But <code>rowField(..)</code> can&#180;t be called with that parameter."}, {"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "reply_to_user": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "edited": false, "score": 0, "creation_date": 1535109202, "post_id": 51767868, "comment_id": 90955575, "body": "@TobiasMarschall: Generated tables have generated <code>row()</code> methods. Does that help? If not, feel free to ask a new question"}, {"owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "edited": false, "score": 0, "creation_date": 1535111884, "post_id": 51767868, "comment_id": 90957185, "body": "I created a follow up question. <a href=\"https://stackoverflow.com/questions/52003995/how-to-get-a-row-representation-of-a-generated-table\" title=\"how to get a row representation of a generated table\">stackoverflow.com/questions/52003995/&hellip;</a>"}], "tags": [], "owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "is_accepted": false, "score": 2, "last_activity_date": 1533819924, "creation_date": 1533819924, "answer_id": 51767868, "question_id": 51753861, "link": "https://stackoverflow.com/questions/51753861/using-posgresql-array-agg-with-join-alias-in-jooq-dsl/51767868#51767868", "title": "Using PosgreSQL array_agg with join alias in JOOQ DSL", "body": "<p>What you're looking for is a way to express PostgreSQL's \"anonymous\" nested records through the jOOQ API, similar to what is requested in this feature request: <a href=\"https://github.com/jOOQ/jOOQ/issues/2360\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2360</a></p>\n\n<p>This is currently not possible in the jOOQ API as of version 3.11, but it definitely will be in the future.</p>\n\n<h3>Workaround 1</h3>\n\n<p>You could try using the experimental <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/impl/DSL.html#rowField-org.jooq.Row2-\" rel=\"nofollow noreferrer\"><code>DSL.rowField()</code></a> methods on a <code>Row[N]&lt;...&gt;</code> representation of your table type. This may or may not work yet, as the feature is currently not supported.</p>\n\n<h3>Workaround 2</h3>\n\n<p>A workaround is to create a type:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create type my_type as (...) -- Same row type as your table\n</code></pre>\n\n<p>And a view:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create view x as\nselect \"p\".*, array_agg(\"pmu\"::my_type) as projectmemberusers\nfrom \"Projects\" as \"p\"\njoin \"ProjectMemberUsers\" as \"pmu\" on \"pmu\".\"projectId\" = \"p\".\"id\"\ngroup by \"p\".\"id\";\n</code></pre>\n\n<p>And then use the code generator to pick up the resulting type.</p>\n"}], "owner": {"reputation": 1644, "user_id": 6172447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/tn7Gu.jpg?s=128&g=1", "display_name": "Tobias Marschall", "link": "https://stackoverflow.com/users/6172447/tobias-marschall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 0, "accepted_answer_id": 51755322, "answer_count": 2, "score": 3, "last_activity_date": 1533819924, "creation_date": 1533754617, "last_edit_date": 1533819440, "question_id": 51753861, "link": "https://stackoverflow.com/questions/51753861/using-posgresql-array-agg-with-join-alias-in-jooq-dsl", "title": "Using PosgreSQL array_agg with join alias in JOOQ DSL", "body": "<p>I want to convert this SQL query to JOOQ DSL.</p>\n\n<pre><code>select \"p\".*, array_agg(\"pmu\") as projectmemberusers\nfrom \"Projects\" as \"p\"\njoin \"ProjectMemberUsers\" as \"pmu\" on \"pmu\".\"projectId\" = \"p\".\"id\"\ngroup by \"p\".\"id\";\n</code></pre>\n\n<p>Currently i have tried doing something like this using JOOQ:</p>\n\n<pre><code>val p = PROJECTS.`as`(\"p\")\nval pmu = PROJECTMEMBERUSERS.`as`(\"pmu\")\nval query = db.select(p.asterisk(), DSL.arrayAgg(pmu))\n        .from(p.join(pmu).on(p.ID.eq(pmu.PROJECTID)))\n        .groupBy(p.ID)\n</code></pre>\n\n<p>This does not work because <code>DSL.arrayAgg</code> expects something of type <code>Field&lt;T&gt;</code> as input.</p>\n\n<p>I am new to JOOQ and not an SQL professional. Detailed explanations and impovement suggestions are highly appreciated.</p>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1533803666, "post_id": 51753055, "comment_id": 90483503, "body": "Why are you adding data also in the Sqlite since Firestore has offline persistens enabled by default?"}, {"owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1533805239, "post_id": 51753055, "comment_id": 90484441, "body": "@AlexMamo I want to use a flexible query like Join. In case of the Firestore, I think it is not easy... it will be callback hell..."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1533805552, "post_id": 51753055, "comment_id": 90484647, "body": "There is a workaround in NoSql databases to achieve the same thing. Why to use and mantain two databases since Firestore already provides a locat database that can even work when offline. If you&#39;ll add another question regarding this topic, me or other users might help you with that."}, {"owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1533809274, "post_id": 51753055, "comment_id": 90487149, "body": "hmm... Sorry, I thought wrong. I will find the way to query it in the Firestore. Actually, it may the best solution."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1533809544, "post_id": 51753055, "comment_id": 90487318, "body": "Yes, that&#39;s correct what Frank said but only if you intend to use it as a primary local offline database. But in your actual question you are using Cloud Firestore, why not using Sqlite it at all?"}], "answers": [{"tags": [], "owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "is_accepted": false, "score": 0, "last_activity_date": 1533757484, "creation_date": 1533757484, "answer_id": 51754515, "question_id": 51753055, "link": "https://stackoverflow.com/questions/51753055/how-to-combine-multi-single-in-one/51754515#51754515", "title": "How to combine multi Single in one", "body": "<p>You can flatMap each of them.</p>\n\n<p>for example</p>\n\n<pre><code>new MonsterDataSource().sync()\n    .flatMap(monsterSingleResult -&gt; ItemDataSource().sync())\n    .flatMap(itemSingleResult -&gt; SkillDataSource().sync())\n    // more flatMaps\n    .subscribe(finalResult -&gt; {\n        // done with all the jobs\n     });\n</code></pre>\n\n<p>Another option is to <code>zip</code> them together</p>\n\n<pre><code>Single.zip(monsterSingle,itemSingle,...,(monsterResult,itemResult,...) -&gt; {\n    // final result\n})\n</code></pre>\n\n<p>They will be executed sequentially unless you use <code>Scheduler</code>.</p>\n"}], "owner": {"reputation": 1790, "user_id": 1936853, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/645c409be5ec708590c5d5ace154053d?s=128&d=identicon&r=PG", "display_name": "yoonhok", "link": "https://stackoverflow.com/users/1936853/yoonhok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533757484, "creation_date": 1533751570, "last_edit_date": 1533752147, "question_id": 51753055, "link": "https://stackoverflow.com/questions/51753055/how-to-combine-multi-single-in-one", "title": "How to combine multi Single in one", "body": "<p>I am developing an Android app using Firebase Firestore (Remote database) and Room(Sqlite, local database).</p>\n\n<p>In this app, at the first time, get data from the Firebase server and insert them into the local database.</p>\n\n<p>There are multiple tables, so I should call it multiple times for every table.</p>\n\n<p>for example,</p>\n\n<ul>\n<li>monster table</li>\n<li>item table</li>\n<li>skill table</li>\n<li>weapon table</li>\n<li>...</li>\n</ul>\n\n<p>and here are firebase functions:</p>\n\n<pre><code>class MonsterDataSource(val mMonsterDao: MonsterDao) {\n\n    private val TAG = MonsterDataSource::class.java.simpleName\n\n    fun sync(): Single&lt;Boolean&gt; {\n        return Single.create&lt;Boolean&gt; { emitter -&gt;\n            FirebaseFirestore.getInstance().collection(MONSTERS)\n                .get()\n                .addOnCompleteListener {\n                    if (it.isSuccessful) {\n                        // Get data from the firebase\n                        val monsters = mutableListOf&lt;Monster&gt;()\n                        it.result.documents.forEach {\n                            monsters.add(it.toObject(Monster::class.java)!!)\n                        }\n\n                        // insert data into the local database\n                        Observable.fromCallable {\n                            mMonsterDao.save(*monsters.toTypedArray()) }\n                            .subscribeOn(Schedulers.io())\n                            .observeOn(AndroidSchedulers.mainThread())\n                            .subscribe {\n                                Log.d(TAG, \"[MHW][Monster] save done\")\n                                emitter.onSuccess(true)\n                            }\n                    } else {\n                        emitter.onError(FirestoreGetFailureException())\n                    }\n                }\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li>ItemDataSource</li>\n<li>SkillDataSource</li>\n<li>WeaponDataSource</li>\n<li>...</li>\n</ul>\n\n<p>I don't know how to combines these singles into one.</p>\n\n<pre><code>fun syncData() {\n    val monsterSingle = MonsterDataSource().sync()\n    val itemSingle = ItemDataSource().sync()\n    val skillSingle = SkillDataSource().sync()\n    val weaponSingle = WeaponDataSource().sync()\n    ...\n\n    // I want to know when all data are stored in the local database.\n}\n</code></pre>\n\n<p>At the first time, the app is locked to get the data from the server.\nAfter all data sync done(get from firebase, insert in local database), I want to unlock the app.\nBut I don't know how can I combine the multiple Singles and get the \"onComplete\" method.</p>\n\n<p>Or</p>\n\n<p>If you have other solution, it will be helpful for me.</p>\n"}, {"tags": ["android", "regex", "kotlin", "email-validation"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1533751697, "post_id": 51753037, "comment_id": 90465958, "body": "This might be a formatting issue, but I&#39;ll still ask. Did you try registering <code>@i.ua</code>, and it didn&#39;t get registered? Isn&#39;t that your goal?"}, {"owner": {"reputation": 11, "user_id": 8643736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I4l2Y.jpg?s=128&g=1", "display_name": "DiAlex", "link": "https://stackoverflow.com/users/8643736/dialex"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1533751959, "post_id": 51753037, "comment_id": 90466102, "body": "@Zoe All emails register except where there is this &quot;@i.ua&quot;"}, {"owner": {"reputation": 11, "user_id": 8643736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I4l2Y.jpg?s=128&g=1", "display_name": "DiAlex", "link": "https://stackoverflow.com/users/8643736/dialex"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1533752101, "post_id": 51753037, "comment_id": 90466173, "body": "@Zoe This is the existing email. But in my application does not register"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1533752171, "post_id": 51753037, "comment_id": 90466213, "body": "Ok, so all  other (of those you&#39;ve tried) emails with a different domain register?"}, {"owner": {"reputation": 11, "user_id": 8643736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I4l2Y.jpg?s=128&g=1", "display_name": "DiAlex", "link": "https://stackoverflow.com/users/8643736/dialex"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1533752275, "post_id": 51753037, "comment_id": 90466271, "body": "@Zoe Yes, But I need to have this one registered too"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1533752422, "post_id": 51753037, "comment_id": 90466360, "body": "I&#39;ve edited your question to try to make it clearer. If I misunderstood something, feel free to roll back."}, {"owner": {"reputation": 11, "user_id": 8643736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I4l2Y.jpg?s=128&g=1", "display_name": "DiAlex", "link": "https://stackoverflow.com/users/8643736/dialex"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 1, "creation_date": 1533752495, "post_id": 51753037, "comment_id": 90466398, "body": "@Zoe Thank you)"}], "owner": {"reputation": 11, "user_id": 8643736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I4l2Y.jpg?s=128&g=1", "display_name": "DiAlex", "link": "https://stackoverflow.com/users/8643736/dialex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "closed_date": 1533757277, "answer_count": 0, "score": 0, "last_activity_date": 1533752327, "creation_date": 1533751489, "last_edit_date": 1533752327, "question_id": 51753037, "link": "https://stackoverflow.com/questions/51753037/email-is-not-registered-email-checking-email-validation-kotlin", "closed_reason": "Duplicate", "title": "email is not registered. email checking, email validation kotlin", "body": "<p>I need to register this email <code>apptest@i.ua</code>. However, it doesn't register. Other emails I've tried worked fine, but emails with this domain (<code>i.ua</code>) doesn't. Is there something I need to add for it to work?</p>\n\n<pre><code>val emailValid: Boolean = Pattern.matches(\"^((?!.*?\\\\.\\\\.)[A-Za-z0-9\\\\.\\\\!\\\\#\\\\\\$\\\\%\\\\&amp;\\\\'*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^_`\\\\{\\\\|\\\\}\\\\~]+@[A-Za-z0-9]+[A-Za-z0-9\\\\-\\\\.]+\\\\.[A-Za-z0-9\\\\-\\\\.]+[A-Za-z0-9]+)\\$\", email)\n    if (!emailValid){\n        signup_username.error = getString(R.string.email_error_not_valid)\n        username.requestFocus()\n        return\n    }\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin", "cordova-android"], "answers": [{"tags": [], "owner": {"reputation": 1211, "user_id": 2199492, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6dd13243846a5c4b90cc5c7a60098020?s=128&d=identicon&r=PG", "display_name": "Crag", "link": "https://stackoverflow.com/users/2199492/crag"}, "is_accepted": true, "score": 2, "last_activity_date": 1533914392, "last_edit_date": 1533914392, "creation_date": 1533760562, "answer_id": 51755254, "question_id": 51751553, "link": "https://stackoverflow.com/questions/51751553/gradle-failure-null-variantmanager/51755254#51755254", "title": "Gradle failure - null VariantManager", "body": "<p>Found the problem - the kotlin-android plugin had a patch version update which broke my build. To find it, I removed the gradle plugins in my project one at a time until it started building again; I hope this helps someone else!</p>\n"}], "owner": {"reputation": 1211, "user_id": 2199492, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6dd13243846a5c4b90cc5c7a60098020?s=128&d=identicon&r=PG", "display_name": "Crag", "link": "https://stackoverflow.com/users/2199492/crag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 1, "accepted_answer_id": 51755254, "answer_count": 1, "score": 2, "last_activity_date": 1533914392, "creation_date": 1533745851, "last_edit_date": 1533761528, "question_id": 51751553, "link": "https://stackoverflow.com/questions/51751553/gradle-failure-null-variantmanager", "title": "Gradle failure - null VariantManager", "body": "<p>My project is no longer building - here's the error I get when trying to build in Android Studio:</p>\n\n<blockquote>\n  <p>null cannot be cast to non-null type\n  com.android.build.gradle.internal.VariantManager Possible causes for\n  this unexpected error include:<ul><li>Gradle's dependency cache may be\n  corrupt (this sometimes occurs after a network connection timeout.)\n  Re-download dependencies and sync project (requires\n  network)</li><li>The state of a Gradle build process (daemon) may be\n  corrupt. Stopping all Gradle daemons may solve this problem. Stop\n  Gradle build processes (requires restart)</li><li>Your project may be\n  using a third-party plugin which is not compatible with the other\n  plugins in the project or the version of Gradle requested by the\n  project.</li></ul>In the case of corrupt Gradle processes, you can\n  also try closing the IDE and then killing all Java processes.</p>\n</blockquote>\n\n<p>I cleared Gradle's dependency cache, and I've restarted multiple times, so I believe I've ruled out the first 2 possible causes above. My project has also stopped building for others on my team, so it's not likely a local cache issue.</p>\n\n<p>The third possible cause is interesting. This stopped working without any changes to my code/configuration (and it now fails with previous versions of our code which have built successfully), but we do have 3rd party cordova plugins which could get updated, and those can use gradle plugins. </p>\n\n<p>What could be causing this build failure, or how can I debug it?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 761, "user_id": 5942721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991704c79afa6b24286e5cc87ff539ae?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.O", "link": "https://stackoverflow.com/users/5942721/mr-o"}, "edited": false, "score": 0, "creation_date": 1533743137, "post_id": 51750573, "comment_id": 90461346, "body": "Hey I\u2019m not that familiar with Kotlin and I am also sort of a newbie in RxJava but I did use it before to link multiple observables, not sure if that\u2019s what you were looking for but you can link the outputs of observables is that what you want?"}, {"owner": {"reputation": 761, "user_id": 5942721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991704c79afa6b24286e5cc87ff539ae?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.O", "link": "https://stackoverflow.com/users/5942721/mr-o"}, "edited": false, "score": 0, "creation_date": 1533743513, "post_id": 51750573, "comment_id": 90461576, "body": "If you wanted to pair them you can use the zip operator like <a href=\"https://github.com/ReactiveX/RxJava/wiki/Combining-Observables#zip\" rel=\"nofollow noreferrer\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 1515907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcd7891d17676becc340cff8822f4a81?s=128&d=identicon&r=PG", "display_name": "Andre", "link": "https://stackoverflow.com/users/1515907/andre"}, "edited": false, "score": 0, "creation_date": 1533744103, "post_id": 51750869, "comment_id": 90461910, "body": "Very important is to notice, that ZIP will emit events alternately A,B,A,B,A,B if at some point there are multiple events from one source and no events from the other, ZIP will wait for the other source to emit an event."}, {"owner": {"reputation": 1273, "user_id": 2030917, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yGTSF.jpg?s=128&g=1", "display_name": "KairisCharm", "link": "https://stackoverflow.com/users/2030917/kairischarm"}, "edited": false, "score": 0, "creation_date": 1533745655, "post_id": 51750869, "comment_id": 90462753, "body": "Thanks so much! This was very helpful."}, {"owner": {"reputation": 1273, "user_id": 2030917, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yGTSF.jpg?s=128&g=1", "display_name": "KairisCharm", "link": "https://stackoverflow.com/users/2030917/kairischarm"}, "edited": false, "score": 0, "creation_date": 1533746525, "post_id": 51750869, "comment_id": 90463199, "body": "One more quick question though. What do I do if I only want to emit if one of the values is different from what it was last time?"}, {"owner": {"reputation": 1273, "user_id": 2030917, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yGTSF.jpg?s=128&g=1", "display_name": "KairisCharm", "link": "https://stackoverflow.com/users/2030917/kairischarm"}, "edited": false, "score": 1, "creation_date": 1533747370, "post_id": 51750869, "comment_id": 90463689, "body": "NVM, just found it. distinctUntilChanged(). Got it."}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 3, "last_activity_date": 1533744935, "last_edit_date": 1533744935, "creation_date": 1533743510, "answer_id": 51750869, "question_id": 51750573, "link": "https://stackoverflow.com/questions/51750573/rxjava2-combine-observables-of-different-types/51750869#51750869", "title": "RxJava2 combine Observables of different types", "body": "<p>I think you are looking for <a href=\"http://reactivex.io/documentation/operators/combinelatest.html\" rel=\"nofollow noreferrer\"><code>combineLastest</code></a> operator:</p>\n\n<blockquote>\n  <p>when an item is emitted by either of two Observables, combine the latest item emitted by each Observable via a specified function and emit items based on the results of this function</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/pvSHU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pvSHU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here an example of implementation:</p>\n\n<pre><code>val myListObservable = ...\nval myIndexObservable = ...\n\ndisposable = Observable.combineLatest(myListObservable, myIndexObservable, BiFunction { list: List&lt;YourType&gt;, index: Int -&gt;\n    list to index\n})\n</code></pre>\n\n<p>Then you can work directly with the last list and the las index emitted by each observable as a <code>Pair&lt;List&lt;YourType&gt;,Int&gt;</code></p>\n\n<hr>\n\n<p>In the case you need to wait to each observable to emit an element to pair with each other, you should use <a href=\"http://reactivex.io/documentation/operators/zip.html\" rel=\"nofollow noreferrer\"><code>zip</code></a></p>\n\n<blockquote>\n  <p>Combine the emissions of multiple Observables together via a specified function and emit single items for each combination based on the results of this function</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/gJzXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJzXm.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can observe in the diagram, the second observable emits <code>C</code> and <code>D</code> at last. But the first observable take a time to emit <code>3</code> and then <code>4</code>. The resulting pair will wait until the other observable emits an element to pair with.</p>\n\n<p>The implementation is the same as above, replacing <code>combineLastest</code> with <code>zip</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 2030917, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yGTSF.jpg?s=128&g=1", "display_name": "KairisCharm", "link": "https://stackoverflow.com/users/2030917/kairischarm"}, "edited": false, "score": 0, "creation_date": 1533745593, "post_id": 51750995, "comment_id": 90462711, "body": "Thanks for the answer. It was helpful, but I&#39;m choosing the previous one because it&#39;s a more detailed and complete answer."}], "tags": [], "owner": {"reputation": 335, "user_id": 1515907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcd7891d17676becc340cff8822f4a81?s=128&d=identicon&r=PG", "display_name": "Andre", "link": "https://stackoverflow.com/users/1515907/andre"}, "is_accepted": false, "score": 1, "last_activity_date": 1533743830, "creation_date": 1533743830, "answer_id": 51750995, "question_id": 51750573, "link": "https://stackoverflow.com/questions/51750573/rxjava2-combine-observables-of-different-types/51750995#51750995", "title": "RxJava2 combine Observables of different types", "body": "<p>if you want to listen to the most recent events from both observables then take a look at <code>combineLatest</code> operator: <a href=\"http://rxmarbles.com/#combineLatest\" rel=\"nofollow noreferrer\">http://rxmarbles.com/#combineLatest</a></p>\n\n<p>It emits every time one of the observables emit a new value BUT it will start as soon as each of the sources has emitted at least one event.</p>\n\n<p><code>val result = Observable.combineLatest&lt;String, Int, String&gt;(sourceObservable1, sourceObservable2) { s, integer -&gt; s + \": \" + integer }</code></p>\n"}], "owner": {"reputation": 1273, "user_id": 2030917, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yGTSF.jpg?s=128&g=1", "display_name": "KairisCharm", "link": "https://stackoverflow.com/users/2030917/kairischarm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 0, "accepted_answer_id": 51750869, "answer_count": 2, "score": 1, "last_activity_date": 1533744935, "creation_date": 1533742530, "last_edit_date": 1533742897, "question_id": 51750573, "link": "https://stackoverflow.com/questions/51750573/rxjava2-combine-observables-of-different-types", "title": "RxJava2 combine Observables of different types", "body": "<p>I'm a bit of an RxJava newbie. I'm getting the hang of it, but there's one scenario that I'm not quite satisfied with. Say I have a pair of Observables of different types that are designed to work together. For example:</p>\n\n<pre><code>val list: Observable&lt;List&lt;MyClass&gt;&gt;\nval indexIntoList: Observable&lt;Int&gt;\n</code></pre>\n\n<p>So, I need to observe these as a pair, so that the observer gets emitted to when <strong>either</strong> list <strong>or</strong> indexIntoList gets an update. Right now my solution is something like this:</p>\n\n<pre><code>var lastListUsed: List&lt;MyClass&gt; = ArrayList()\nvar lastIndexUsed = -1\nval syncObject = Object()\n\ninit {\n    list.subscribe(object: Observer&lt;List&lt;MyClass&gt;&gt;{\n        .\n        .\n        .\n        override fun onNext(t: List&lt;MyClass&gt;)\n        {\n             FunctionOnMyClass(t, lastIndexUsed)\n        }\n    })\n\n    indexIntoList.subscribe(object: Observer&lt;Int&gt;{\n        .\n        .\n        .\n        override fun onNext(t: Int)\n        {\n            FunctionOnMyClass(lastListUsed, t)\n        }\n    })\n}\n\nfun FunctionOnMyClass(list: List&lt;MyClass&gt;, index: Int)\n{\n    synchronized(syncObject)\n    {\n        lastListUsed = list\n        lastIndexUsed = index\n        .\n        .\n        .\n    }\n}\n</code></pre>\n\n<p>I had the thought to do something like this:</p>\n\n<pre><code>var lastMyClass = DefaultMyClass()\n\nlist.doOnNext{listVersion -&gt;\n    indexIntoMap.map{ index -&gt;\n          if(index in listVersion.indices)\n              listVersion[index]\n          else\n              lastMyClass\n     }.subscribe(object: Observer&lt;MyClass&gt;{\n        .\n        .\n        .\n        override fun onNext(t: MyClass)\n        {\n            lastMyClass = t\n            .\n            .\n            .\n        }\n     })\n}\n</code></pre>\n\n<p>But if I'm understanding correctly, to use this method, I would have to dispose the Disposable on the inner Observable every time the outer Observable updates. I'd rather not do that. Is there a preferred way to handle this scenario? Should I be open to disposing the Disposable on every update of the outer Observable?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 242, "user_id": 4978849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cf0788f7c6cce9ff33488ae5a495b48?s=128&d=identicon&r=PG&f=1", "display_name": "George Arokiam", "link": "https://stackoverflow.com/users/4978849/george-arokiam"}, "edited": false, "score": 2, "creation_date": 1533741562, "post_id": 51750123, "comment_id": 90460286, "body": "Never used Kotlin before. But is this code supposed to be java or Kotlin? If it is Java then there are lots of things that are wrong here. I&#39;ll explain after getting your answer"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1533742043, "post_id": 51750123, "comment_id": 90460638, "body": "you cannot nest one activity into the other... and you should initialize your variables, before using them."}, {"owner": {"reputation": 296, "user_id": 1380933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tFXt.png?s=128&g=1", "display_name": "Vadik", "link": "https://stackoverflow.com/users/1380933/vadik"}, "edited": false, "score": 0, "creation_date": 1533742065, "post_id": 51750123, "comment_id": 90460660, "body": "don&#39;t need semicolon after fun <code>override fun; onCreate</code>"}, {"owner": {"reputation": 296, "user_id": 1380933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tFXt.png?s=128&g=1", "display_name": "Vadik", "link": "https://stackoverflow.com/users/1380933/vadik"}, "edited": false, "score": 1, "creation_date": 1533742197, "post_id": 51750123, "comment_id": 90460743, "body": "It seems like you mix java and kotlin in single file. You should keep java code and kotlin code separately."}, {"owner": {"reputation": 296, "user_id": 1380933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tFXt.png?s=128&g=1", "display_name": "Vadik", "link": "https://stackoverflow.com/users/1380933/vadik"}, "edited": false, "score": 0, "creation_date": 1533742339, "post_id": 51750123, "comment_id": 90460847, "body": "There is no <code>static</code> and <code>void</code> keywords in kotlin. Read about <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\"><code>companion object</code></a> and <a href=\"https://kotlinlang.org/docs/reference/functions.html#unit-returning-functions\" rel=\"nofollow noreferrer\"><code>Unit</code></a> instead."}, {"owner": {"reputation": 25, "user_id": 9035572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5xukF.jpg?s=128&g=1", "display_name": "Youri Kuilman", "link": "https://stackoverflow.com/users/9035572/youri-kuilman"}, "reply_to_user": {"reputation": 242, "user_id": 4978849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cf0788f7c6cce9ff33488ae5a495b48?s=128&d=identicon&r=PG&f=1", "display_name": "George Arokiam", "link": "https://stackoverflow.com/users/4978849/george-arokiam"}, "edited": false, "score": 0, "creation_date": 1533751726, "post_id": 51750123, "comment_id": 90465975, "body": "@GeorgeArokiam it is supposed to be java. I use kotlin to handle firebase in different files."}], "answers": [{"tags": [], "owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "is_accepted": true, "score": 1, "last_activity_date": 1533742398, "last_edit_date": 1533742398, "creation_date": 1533742064, "answer_id": 51750427, "question_id": 51750123, "link": "https://stackoverflow.com/questions/51750123/weird-issues-with-semicolons-and-with-cannot-resolve/51750427#51750427", "title": "Weird issues with semicolons, and with &#39;cannot resolve ...&#39;", "body": "<p>You should not be using semicolons in Kotlin code like you would in Java -- they are unnecessary clutter. Your code should be more along the lines of:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState) {\n        super.onCreate(savedInstanceState) \n        setContentView(R.layout.activity_main)\n\n        showNewsFragment()\n    }\n\n    fun showNewsFragment() {\n        val tag = \"NewsListFragment\"\n        val existingFragmentWithTag = supportFragmentManager.findFragmentByTag(tag)\n\n        if (existingFragmentWithTag == null) {\n            supportFragmentManager.beginTransaction()\n                    .add(R.id.newsListFragmentContainer, NewsListFragment(), tag)\n                    .commit()\n        }\n    }\n\n}\n</code></pre>\n\n<p>Just as an aside: if you are not already familiar with Java, I would stick with it until you understand the basics before picking up Kotlin. It will help you in the long run especially when working with Android (since most libraries and the SDK are Java). Also: while Java/Kotlin have 100% interop, they still need to be in separate files (your example was mixing both languages).</p>\n"}], "owner": {"reputation": 25, "user_id": 9035572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5xukF.jpg?s=128&g=1", "display_name": "Youri Kuilman", "link": "https://stackoverflow.com/users/9035572/youri-kuilman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 51750427, "answer_count": 1, "score": 0, "last_activity_date": 1533742983, "creation_date": 1533741106, "last_edit_date": 1533742983, "question_id": 51750123, "link": "https://stackoverflow.com/questions/51750123/weird-issues-with-semicolons-and-with-cannot-resolve", "title": "Weird issues with semicolons, and with &#39;cannot resolve ...&#39;", "body": "<p>I have been following up on a tutorial on Android App Development recently, but my code doesn't build due to some errors. I've done what the errors told me (place semicolons), but that caused a unexpected token error to occur.</p>\n\n<p>This is my code:</p>\n\n<pre><code>package nl.yourikuilman.android.ultimatemcnews;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\n\nimport static nl.yourikuilman.android.ultimatemcnews.fun.showNewsFragment;\n\npublic class MainActivity {\n    public void AppCompatActivity() {\n        override fun;\n            onCreate(savedInstanceState) {\n                super.onCreate(savedInstanceState) {\n                setContentView(R.layout.activity_main);\n\n                showNewsFragment();\n            }\n        }\n    }\n}\npublic class fun {\n    public static void showNewsFragment(){\n        val tag=\"NewsListFragment\";\n        val existingFragmentWithTag=supportFragmentManager.findFragmentByTag(tag);\n\n        if(existingFragmentWithTag==null){\n            supportFragmentManager.beginTransaction()\n                    .add(R.id.newsListFragmentContainer,NewsListFragment(),tag)\n                    .commit();\n        }\n    }\n}\n</code></pre>\n\n<p>I have written it in Android Studio, and also work with Kotlin in the same project. This is the error list for my java code (in order that Android Studio threw at me):</p>\n\n<blockquote>\n  <ul>\n  <li>Cannot resolve symbol 'override'</li>\n  <li>Cannot resolve method 'onCreate(?)'</li>\n  <li>Cannot resolve symbol 'savedInstanceState'</li>\n  <li>Cannot resolve method 'onCreate(?)'</li>\n  <li>Cannot resolve symbol 'savedInstanceState'</li>\n  <li>Cannot resolve method 'setContentView(int)'</li>\n  <li>Cannot resolve symbol 'val' (got this 2 times in a row)</li>\n  <li>Cannot resolve symbol 'supportFragmentManager' (got this 2 times in a row)</li>\n  <li>Method call expected (this is a note from Android Studio, not an error) [this points\n  '.add(R.id.newsListFragmentContainer,NewsListFragment(),tag)' out,\n  more specific: 'NewsListFragment()' is pointed out].</li>\n  </ul>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2", "rx-android"], "answers": [{"tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": true, "score": 1, "last_activity_date": 1537327802, "last_edit_date": 1537327802, "creation_date": 1533938563, "answer_id": 51794531, "question_id": 51749559, "link": "https://stackoverflow.com/questions/51749559/how-to-make-request-calls-to-remote-service-one-by-one-usnig-rx-and-kotlin/51794531#51794531", "title": "How to make request calls to remote service one by one usnig rx and kotlin?", "body": "<p>If you are OK with modifying the return type of <code>postFoos</code> a bit, something like this could work:</p>\n\n<pre><code>override fun postFoos(foos: List&lt;Foo&gt;): Observable&lt;List&lt;UnuploadedFoo&gt;&gt; {\n    val chunks = foos.chunked(CHUNK_SIZE)\n    val posters = chunks.map { chunk -&gt;\n        fooRemoteService.postFoos(chunk)\n                .map { response -&gt;\n                    response.unUploaded.takeIf { !response.isSuccessful } ?: emptyList()\n                }\n                .filter { it.isNotEmpty() }\n                .toObservable()\n    }\n\n    return Observable.concatDelayError(posters)\n}\n</code></pre>\n\n<p>I'm imagining your service to have something like:</p>\n\n<pre><code>data class Response(val isSuccessful: Boolean, val unUploaded: List&lt;UnoploadedFoo&gt;)\n\nfun postFoos(foos: List&lt;Foo&gt;): Single&lt;Response&gt;\n</code></pre>\n\n<p>The trick here is that <a href=\"http://reactivex.io/documentation/operators/concat.html\" rel=\"nofollow noreferrer\"><code>Concat</code></a>:</p>\n\n<blockquote>\n  <p>(...) waits to subscribe to each additional Observable that you pass to it until the previous Observable completes.</p>\n</blockquote>\n"}], "owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 51794531, "answer_count": 1, "score": 1, "last_activity_date": 1537337498, "creation_date": 1533739500, "last_edit_date": 1537337498, "question_id": 51749559, "link": "https://stackoverflow.com/questions/51749559/how-to-make-request-calls-to-remote-service-one-by-one-usnig-rx-and-kotlin", "title": "How to make request calls to remote service one by one usnig rx and kotlin?", "body": "<p>I have remote service to which the app have to send data:\nDefinition in retrofit2:</p>\n\n<pre><code>interface FooRemoteService {\n    @POST(\"/foos\")\n    fun postFoos(@Body foos: List&lt;FooPojo&gt;): Observable&lt;Response&lt;List&lt;String&gt;&gt;\n }\n</code></pre>\n\n<p>but the call has a limits no more than X Foos at once.\nEach call can returns 206 code \"partially successful\" with list of unsuccessful uploaded foos. Also 413 \"Request Entity Too Large\". And of course 400 and 500 as well. </p>\n\n<p>And the app needs to send unknown count of foo items (defined by user in runtime).</p>\n\n<p>To avoid DDoS of service app is required to send this calls one by one.</p>\n\n<p>So I made such implementation in my FooRepositoryImpl:</p>\n\n<p>This is an idea. I'm not happy with below solution and I'm sure that it can be done much better but I'm run out of ideas. So any proposes?</p>\n\n<pre><code>override fun postFoos(foos: List&lt;Foo&gt;) Completable {\n  val fooChunks = divideListInToChuncksUnderRequestLimit(foos)\n\n  val unuploadedFoos = mutableListOf&lt;UnuploadedFoo&gt;()\n  fooChunks.fold(unuploadedFoos) \n  { accu: MutableList&lt;UnuploadedFoo&gt;, chunk -&gt;\n     fooRemoteService\n        .postFoos(chunk)\n        .subscribeOn(Schedulers.io())\n        .flatMapCompletable {\n             if (it.isSuccessful) {\n                         Completable.complete()\n                    } else {\n                        Timber.e(\"$it\")\n                       accu.add(it.body())\n\n                    }\n                }.blockingAwait()\n        responses\n\n  }\nreturn Completable.complete()\n}\n</code></pre>\n\n<p>At the end the app should display list of all unsuccessful foos or if any available. So I need pass from that fuction list of unuploaded Foos. </p>\n"}, {"tags": ["kotlin", "project-reactor"], "comments": [{"owner": {"reputation": 91346, "user_id": 2756547, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2158ce6e7c048277890eb64458864c1c?s=128&d=identicon&r=PG", "display_name": "Artem Bilan", "link": "https://stackoverflow.com/users/2756547/artem-bilan"}, "edited": false, "score": 3, "creation_date": 1533742087, "post_id": 51748971, "comment_id": 90460673, "body": "Try <code>transform()</code> instead of <code>switchIfEmpty()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "is_accepted": false, "score": 1, "last_activity_date": 1533794873, "creation_date": 1533794873, "answer_id": 51759888, "question_id": 51748971, "link": "https://stackoverflow.com/questions/51748971/how-switch-monoa-empty-to-another-type-item-monob/51759888#51759888", "title": "How switch Mono&lt;A&gt;.empty() to another type item Mono&lt;B&gt;", "body": "<p>Follow @ArtemBilan advice, after some test, I found the solution:</p>\n\n<pre><code>fun get(id: Int): Mono&lt;A&gt; {\n  return getA(id) \n    .transform {\n      if (it == Mono.empty&lt;A&gt;()) getB(id).map { convertB2A(it) }\n      else it \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1110, "user_id": 5462308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eedfd34b3c625afebe2a18fbf3f028ca?s=128&d=identicon&r=PG", "display_name": "RJ.Hwang", "link": "https://stackoverflow.com/users/5462308/rj-hwang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534957073, "creation_date": 1533737829, "last_edit_date": 1534957073, "question_id": 51748971, "link": "https://stackoverflow.com/questions/51748971/how-switch-monoa-empty-to-another-type-item-monob", "title": "How switch Mono&lt;A&gt;.empty() to another type item Mono&lt;B&gt;", "body": "<p>Follow the kotlin code bellow, I need to use a <code>EMPTY_A</code> to swith <code>Mono&lt;A&gt;.empty</code> to another <code>Mono&lt;B&gt;</code> instance, I think this way is ugly:</p>\n\n<pre><code>// if getA(id) is empty then getB(id) and convert it to A\nfun get(id: Int): Mono&lt;A&gt; {\n  return getA(id)\n    .switchIfEmpty(Mono.just(EMPTY_A))\n    .flatMap { if (it == EMPTY_A) getB(id).map { convertB2A(it) } else Mono.just(it) }\n}\n\n// business methods\nfun getA(id: Int): Mono&lt;A&gt; {...}\nfun getB(id: Int): Mono&lt;B&gt; {...}\nfun convertB2A(b: B): A {...}\n\nval EMPTY_A: A = A(0)\ndata class A(val id: Int)\ndata class B(val id: Int)\n</code></pre>\n\n<p>Simplify, I want to use code template like these:</p>\n\n<pre><code>fun get(id: Int): Mono&lt;A&gt; {\n  return getA(id)\n    .switchIfEmpty(getB(id))\n    .map { convertB2A(it) }\n}\n</code></pre>\n\n<p>But failed to compile actually, because method <a href=\"https://github.com/reactor/reactor-core/blob/v3.1.6.RELEASE/reactor-core/src/main/java/reactor/core/publisher/Mono.java#L3203\" rel=\"nofollow noreferrer\">switchIfEmpty</a> can only switch to another item with the original type.\nAny idea? </p>\n"}, {"tags": ["java", "android", "regex", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1533737494, "post_id": 51748732, "comment_id": 90457420, "body": "<i>I just need to add a comma every 3 digits</i> -- you probably don&#39;t want to do this actually. Formatting (decimal) numbers is locale dependent. You should just have a number and let the OS figure out how to display it. There are format specifiers for this. Also I downvoted your question because you have shown no effort or anything"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1533739326, "post_id": 51749001, "comment_id": 90458769, "body": "Is there a specific reason why you go for the operator when splitting instead of just filtering out the numbers? Note, that you can also &quot;simplify&quot; your <code>if</code> using <code>when</code> as follows: <code>when (part) { &quot;+&quot;,&quot;-&quot;,&quot;*&quot;,&quot;&#47;&quot; -&gt; sb.append(part); else -&gt; { ... }</code>"}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1533739407, "post_id": 51749001, "comment_id": 90458819, "body": "@Roland Who says I&#39;m going for the operator?  I am splitting at boundaries on either side of the operator.  But, you made me just realized I missed an edge case: negative numbers.  I&#39;ll wait for the OP to complain before I fix this."}], "tags": [], "owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "is_accepted": false, "score": 1, "last_activity_date": 1533737915, "creation_date": 1533737915, "answer_id": 51749001, "question_id": 51748732, "link": "https://stackoverflow.com/questions/51748732/formatting-a-string-containing-operations-and-digits/51749001#51749001", "title": "Formatting a string containing operations and digits", "body": "<p>Here is a script which gets very close to your exact expected output:</p>\n\n<pre><code>String input = \"1035+56-7894*9985.3\";\nString[] parts = input.split(\"(?&lt;=[+*/-])|(?=[+*/-])\");\nStringBuilder sb = new StringBuilder(\"\");\nfor (String part : parts) {\n    if (!part.equals(\"+\") &amp;&amp; !part.equals(\"-\") &amp;&amp; !part.equals(\"*\") &amp;&amp; !part.equals(\"/\")) {\n        double num = Double.parseDouble(part);\n        StringBuilder temp = new StringBuilder();\n        Formatter formatter = new Formatter(temp, Locale.US);\n        formatter.format(\"%,.2f\", num);\n        sb.append(temp);\n    }\n    else {\n        sb.append(part);\n    }\n}\n\nSystem.out.println(sb);\n\n1,035.00+56.00-7,894.00*9,985.30\n</code></pre>\n\n<p><a href=\"http://rextester.com/GYGGZ82334\" rel=\"nofollow noreferrer\"><h2>Demo</h2></a></p>\n\n<p>The secret sauce of this answer is to split your arithmetic string on the following pattern:</p>\n\n<pre><code>(?&lt;=[+*/-])|(?=[+*/-])\n</code></pre>\n\n<p>This will split either before or after an operation symbol, while at the same time retaining those symbols as items in the resulting array.  This makes it easy for us to iterate the array of strings and then format the numbers, which keeping the symbols on tap for later when we need to rebuild the original arithmetic expression.</p>\n\n<p>Then, for each number, we format it as a two decimal place number with a comma thousands separator.</p>\n"}, {"comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1533740228, "post_id": 51749272, "comment_id": 90459384, "body": "Please stop attacking my answer, thank you.  Both of our answers are sub optimal, because in production we wouldn&#39;t remotely be using a single regex to parse an arithmetic expression, we would be using some type of parser.  You&#39;re a Lexus, and I&#39;m just a Toyota, but using a parser would be the Maserati."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1533740796, "post_id": 51749272, "comment_id": 90459771, "body": "I didn&#39;t want to attack your answer... I just wondered and I am always curious. Maybe there is something I didn&#39;t take into consideration... That&#39;s why I asked. Regarding the &quot;operator targeting&quot; that was just as I interpreted your code (it splits on the boundaries of the operators and checks the operators in the condition)."}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1533740883, "post_id": 51749272, "comment_id": 90459835, "body": "I upvoted you, your answer is better than mine.  It is preferable to just isolate the numbers, but I didn&#39;t think to use the regex API the way you have."}, {"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 1, "creation_date": 1533741352, "post_id": 51749272, "comment_id": 90460134, "body": "I spend <i>way</i> too much time on this site, and it&#39;s easy to misread someone&#39;s intentions in comments, because we can&#39;t see the other person&#39;s actual emotions."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1533758868, "post_id": 51749272, "comment_id": 90469267, "body": "Did you try it? It should also format your example correctly. Note, that you may want a parser instead if there are more things to consider. The regex I used has the following flaws: doesn&#39;t catch negative sign, catches also one to many <code>,</code> and <code>.</code> or a combination thereof, which are surely no numbers, if the digits are missing. The regex could be improved to consider that too, however it isn&#39;t that readable then anymore."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1533759610, "post_id": 51749272, "comment_id": 90469636, "body": "On the other hand you didn&#39;t want to format the negative sign  specially, so that&#39;s ok. You could also just use a try/catch when parsing the value and skip the replacement (i.e. return the <code>it.value</code> directly) when it isn&#39;t parseable. Still that&#39;s not a real parser yet ;-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1553166710, "last_edit_date": 1553166710, "creation_date": 1533738698, "answer_id": 51749272, "question_id": 51748732, "link": "https://stackoverflow.com/questions/51748732/formatting-a-string-containing-operations-and-digits/51749272#51749272", "title": "Formatting a string containing operations and digits", "body": "<p>You can replace the numbers and keep everything else as is using Kotlins <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/index.html\" rel=\"nofollow noreferrer\"><code>Regex</code></a> <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/replace.html\" rel=\"nofollow noreferrer\"><code>#replace</code></a>:</p>\n\n<pre><code>val input = \"1035+56-7894*9985.3\"\n\nval numberRegex = Regex(\"[\\\\d,.]+\") // this actually filters out consecutives digits, commas and dots \n\nval result = numberRegex.replace(input) { \n    val num = BigDecimal(it.value)\n    \"%,.2f\".format(Locale.US, num)\n}\n\nprintln(result)\n</code></pre>\n\n<p>Which will print the following for your example:</p>\n\n<pre><code>1,035.00+56.00-7,894.00*9,985.30\n</code></pre>\n\n<p>Or if you really must retain the decimal places, use the following formatting instead:</p>\n\n<pre><code>\"%,.${max(0, num.stripTrailingZeros().scale())}f\".format(Locale.US, num)\n</code></pre>\n\n<p>which will print:</p>\n\n<pre><code>1,035+56-7,894*9,985.3\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1533747142, "last_edit_date": 1533747142, "creation_date": 1533740763, "answer_id": 51749997, "question_id": 51748732, "link": "https://stackoverflow.com/questions/51748732/formatting-a-string-containing-operations-and-digits/51749997#51749997", "title": "Formatting a string containing operations and digits", "body": "<p>This is my solution, which is locale specific:  <br/></p>\n\n<pre><code>    String startString = \"1035+56-7894*9985.3\";\n    String signs = startString.replaceAll(\"[^-+*/]\", \"\") + \" \";\n    String[] numbers = startString\n        .replaceAll(\",\", \".\")\n        .replaceAll(\"[-+*/]\", \" \")\n        .split(\" \");\n\n    DecimalFormat nf = new DecimalFormat(\"#,###.#\");\n\n    StringBuilder targetString = new StringBuilder();\n    for (int i = 0; i &lt; numbers.length; i++) {\n        targetString.append(nf.format(Double.parseDouble(numbers[i]))).append(signs, i, i + 1);\n    }\n    targetString = new StringBuilder(targetString.toString().trim());\n\n    System.out.println(targetString);\n</code></pre>\n\n<p>prints:  <br/></p>\n\n<pre><code>1,035+56-7,894*9,985.3\n</code></pre>\n\n<p>or </p>\n\n<pre><code>1.035+56-7.894*9.985,3\n</code></pre>\n\n<p>depending on the locale settings.</p>\n"}, {"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1533749781, "post_id": 51750836, "comment_id": 90464972, "body": "Nice catch with the locale. Otherwise, it uses the phone&#39;s locale, which means it doesn&#39;t result in that exact format if the locale isn&#39;t US."}], "tags": [], "owner": {"reputation": 1554, "user_id": 9359281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pa28z.png?s=128&g=1", "display_name": "Brainnovo", "link": "https://stackoverflow.com/users/9359281/brainnovo"}, "is_accepted": false, "score": 1, "last_activity_date": 1533743395, "creation_date": 1533743395, "answer_id": 51750836, "question_id": 51748732, "link": "https://stackoverflow.com/questions/51748732/formatting-a-string-containing-operations-and-digits/51750836#51750836", "title": "Formatting a string containing operations and digits", "body": "<p>The code below adds to \"Tim Biegeleisen\" solution by dynamically changing the number of digits after the decimal point when formatting the expression.</p>\n\n<p>1) Demo.class:----------</p>\n\n<pre><code>public class Demo extends AppCompatActivity {\n\nprivate EditText edt;\nprivate TextView tv;\nprivate Button b;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.demo);\n\n    edt = (EditText) findViewById(R.id.edt);\n    tv = (TextView) findViewById(R.id.tv);\n    b = (Button) findViewById(R.id.b);\n    b.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            StringBuilder sb = new StringBuilder();\n            String input = edt.getText().toString();\n            if (!input.isEmpty()) {\n                String[] parts = input.split(\"(?&lt;=[+*/-])|(?=[+*/-])\");\n                for (String part : parts) {\n                    if (!part.equals(\"+\") &amp;&amp; !part.equals(\"-\") &amp;&amp; !part.equals(\"*\") &amp;&amp; !part.equals(\"/\")) {\n                        double num = Double.parseDouble(part);\n                        StringBuilder temp = new StringBuilder();\n                        if (!isValidInteger(part)) { // if number is a decimal\n                            int number_of_digits_after_decimal_point = 2;\n                            try {\n                                String[] part_split = part.split(\"\\\\.\"); // split number based on \".\"\n                                if (part_split.length == 2) {\n                                        number_of_digits_after_decimal_point = part_split[1].length(); // set number_of_digits_after_decimal_point to be equal to the\n                                    // length of the string after the decimal point.\n                                }\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                            Formatter formatter = new Formatter(temp, Locale.US);\n                            formatter.format(\"%,.\" + number_of_digits_after_decimal_point + \"f\", num);\n                            sb.append(temp);\n                        } else { // if number is an integer\n                            Formatter formatter = new Formatter(temp, Locale.US);\n                            formatter.format(\"%,.0f\", num);\n                            sb.append(temp);\n                        }\n                    } else {\n                        sb.append(part);\n                    }\n                }\n            } else {\n                Toast.makeText(getApplicationContext(), \"Empty\", Toast.LENGTH_LONG).show();\n            }\n\n            tv.setText(sb.toString());\n        }\n    });\n}\n\npublic static boolean isValidInteger(String value) {\n    if (value == null) {\n        return false;\n    } else {\n        try {\n            Integer val = Integer.valueOf(value);\n            if (val != null)\n                return true;\n            else\n                return false;\n        } catch (NumberFormatException e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n}\n\n}\n</code></pre>\n\n<p>2) demo.xml:---------</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;EditText\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"20dp\"\n    android:layout_gravity=\"center\"\n    android:id=\"@+id/edt\"\n    android:hint=\"Input\"/&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"20dp\"\n    android:layout_gravity=\"center\"\n    android:text=\"Output\"\n    android:id=\"@+id/tv\"/&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"20dp\"\n    android:layout_gravity=\"center\"\n    android:text=\"Convert\"\n    android:id=\"@+id/b\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>3) Output:---------</p>\n\n<p><a href=\"https://i.stack.imgur.com/0CdIT.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CdIT.gif\" alt=\"Output\"></a></p>\n"}], "owner": {"reputation": 53, "user_id": 6424090, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0jHFmS6pp04/AAAAAAAAAAI/AAAAAAAACRo/LcLWAEcMEcg/photo.jpg?sz=128", "display_name": "Bashar ALkaddah", "link": "https://stackoverflow.com/users/6424090/bashar-alkaddah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 51749272, "answer_count": 4, "score": 1, "last_activity_date": 1553166710, "creation_date": 1533737176, "last_edit_date": 1533739307, "question_id": 51748732, "link": "https://stackoverflow.com/questions/51748732/formatting-a-string-containing-operations-and-digits", "title": "Formatting a string containing operations and digits", "body": "<p>I just want to format a string containing operations and digits.</p>\n\n<p>For example:\n<code>1035+56-7894*9985.3</code> to <code>1,035+56-7,894*9,985.3</code></p>\n\n<p>I just need to add a comma every 3 digits.\nI want just to take care of numbers and ignore the operations and anything else that is not a number.</p>\n"}, {"tags": ["spring", "validation", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1533737312, "post_id": 51748213, "comment_id": 90457302, "body": "Are you using <code>Hibernate validator</code> for validation and <code>Jackson for Kotlin</code> for JSON parsing?"}, {"owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "reply_to_user": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1533737677, "post_id": 51748213, "comment_id": 90457544, "body": "Yes Hibernate validator and Jackson for Kotlin"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1533738025, "post_id": 51748213, "comment_id": 90457790, "body": "In general Jackson parses and instantiates <code>message</code>, then Spring (before calling controller&#39;s method) passes it to Hibernate validator for validation. Could you provide more details about that exception?"}, {"owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "reply_to_user": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1533738751, "post_id": 51748213, "comment_id": 90458362, "body": "[...] BindException [...] Field error in object &#39;message&#39; on field &#39;from&#39;: rejected value [null]; [...] Field error in object &#39;message&#39; on field &#39;to&#39;: rejected value [null]; [...] Field error in object &#39;message&#39; on field &#39;subject&#39;: rejected value [null];"}, {"owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "reply_to_user": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1533738873, "post_id": 51748213, "comment_id": 90458447, "body": "If what you say is true, then why I have this object after kotlin jackson mapping ? Message(from=null, to=null, subject=null, cc=null)"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "edited": false, "score": 0, "creation_date": 1533739005, "post_id": 51748213, "comment_id": 90458540, "body": "Looks like it is not a validation  problem, but binding one. Plese check whether your controller annotated with <code>@RestController</code> instead of <code>@Controller</code>"}, {"owner": {"reputation": 1803, "user_id": 5289288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c64cc31ab2af73da608da7fa7b1e710?s=128&d=identicon&r=PG&f=1", "display_name": "Max Farsikov", "link": "https://stackoverflow.com/users/5289288/max-farsikov"}, "reply_to_user": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "edited": false, "score": 0, "creation_date": 1533739085, "post_id": 51748213, "comment_id": 90458592, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/177653/discussion-between-max-farsikov-and-louis-amoros\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 6570, "user_id": 6831257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LNMbv.jpg?s=128&g=1", "display_name": "GolamMazid Sajib", "link": "https://stackoverflow.com/users/6831257/golammazid-sajib"}, "is_accepted": true, "score": 2, "last_activity_date": 1533739472, "last_edit_date": 1533739472, "creation_date": 1533739076, "answer_id": 51749400, "question_id": 51748213, "link": "https://stackoverflow.com/questions/51748213/kotlin-constructor-spring-mvc-validation/51749400#51749400", "title": "kotlin constructor / spring mvc validation", "body": "<p>When u use <code>@Valid</code> then spring boot validate javax &amp;&amp; hibernate validation. If you dont want to validate then remove <code>@Valid</code>. Also there missing <code>@RequestBody</code> .</p>\n\n<p>With validation:</p>\n\n<pre><code>@PostMapping(\"/messages\")\n@ResponseStatus(HttpStatus.CREATED)\nfun create(@Valid @RequestBody message: Message) = service.create(message)\n</code></pre>\n\n<p>without validation:</p>\n\n<pre><code>@PostMapping(\"/messages\")\n@ResponseStatus(HttpStatus.CREATED)\nfun create(@RequestBody message: Message) = service.create(message)\n</code></pre>\n"}], "owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 51749400, "answer_count": 1, "score": 3, "last_activity_date": 1533739472, "creation_date": 1533735614, "question_id": 51748213, "link": "https://stackoverflow.com/questions/51748213/kotlin-constructor-spring-mvc-validation", "title": "kotlin constructor / spring mvc validation", "body": "<p>I have this kotlin data class:</p>\n\n<pre><code>data class Message(\n    @field:NotEmpty\n    val from: String?,\n    @field:NotEmpty\n    val to: List&lt;String&gt;?,\n    @field:NotEmpty\n    val subject: String?,\n    val cc: List&lt;String&gt;?\n)\n</code></pre>\n\n<p>and when I create a message using my spring mvc api:</p>\n\n<pre><code>@PostMapping(\"/messages\")\n@ResponseStatus(HttpStatus.CREATED)\nfun create(@Valid message: Message) = service.create(message)\n</code></pre>\n\n<p>with the following data:</p>\n\n<pre><code>{\n   \"subject\": \"this is a test\",\n   \"from\": \"test@test.com\",\n   \"to\": [\"test@test.com\"],\n   \"cc\": []\n}\n</code></pre>\n\n<p>I got 3 <code>org.springframework.validation.BindException</code>.\nIt seems that the validation occurs between the instantiation of the Message object and the setting of its properties. </p>\n\n<p>Could anyone explain me what is happening and how validation/instantiation occurs in this case ?</p>\n"}, {"tags": ["android", "memory", "kotlin", "camera", "internal"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533761141, "post_id": 51747688, "comment_id": 90470404, "body": "There&#39;s no guarantee that <code>file.delete()</code> succeeds, and you ignore it&#39;s return value. Probably it&#39;s false, because you code doesn&#39;t have permissions to touch this file."}, {"owner": {"reputation": 283, "user_id": 10197813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda6bac7254a3d80b6ad672e0be76c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Damandroid", "link": "https://stackoverflow.com/users/10197813/damandroid"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533821071, "post_id": 51747688, "comment_id": 90495127, "body": "It does delete the file, I can\u2019t see it in \u2018My Folder\u2019 where it is created"}], "owner": {"reputation": 283, "user_id": 10197813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dda6bac7254a3d80b6ad672e0be76c2e?s=128&d=identicon&r=PG&f=1", "display_name": "Damandroid", "link": "https://stackoverflow.com/users/10197813/damandroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533734013, "creation_date": 1533734013, "question_id": 51747688, "link": "https://stackoverflow.com/questions/51747688/saving-image-in-internal-memory-with-no-copy-in-public-folders", "title": "Saving image in internal memory with no copy in public folders", "body": "<p>I take my picture with the following code and create a tempFile in my app (external) folder 'MyFolder':</p>\n\n<pre><code>fun createFile(): File {\n            val imageName:String = \"aaaa\"\n            val temp: File = Environment.getExternalStorageDirectory()\n            val storageDir: File = File(temp,\"MyFolder\")\n            if (!storageDir.exists()) storageDir.mkdir()\n            val image:File = File.createTempFile(\n                    imageName,\".jpg\", storageDir)\n            return image\n        }\n</code></pre>\n\n<p>Once it is taken, I optimise it and save it internally. Then I delete the image in 'MyFolder' using following code:</p>\n\n<pre><code>fun delete(imagePath: String) {\n    val file = File(imagePath)\n    if(file.exists()) file.delete()\n}\n</code></pre>\n\n<p>When I finish, I see no image in 'MyFolder' which is what I expect as well BUT my image still shows publically in the DCIM folder. Can someone help me figuring out why this is happening? (I know I can create temp image in internal folder as well, but it is another issue for another question as I get errors with FileProvider getUri method)</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "edited": false, "score": 0, "creation_date": 1533732240, "post_id": 51746954, "comment_id": 90453827, "body": "Please post the error"}], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 3514851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb6e5078da0265282155aba292e496a?s=128&d=identicon&r=PG&f=1", "display_name": "inlacou", "link": "https://stackoverflow.com/users/3514851/inlacou"}, "is_accepted": false, "score": 2, "last_activity_date": 1533733347, "creation_date": 1533733347, "answer_id": 51747480, "question_id": 51746954, "link": "https://stackoverflow.com/questions/51746954/combinelatest-method-in-kotlin-with-more-than-3-observables-getting-error-in-im/51747480#51747480", "title": "combineLatest method in Kotlin with more than 3 Observables: getting error in implementing the method", "body": "<p>There are three options:</p>\n\n<p>Use Function3:</p>\n\n<pre><code>Observable.combineLatest(userNameObservable, passwordObservable, submitButtonObservable, Function3 { username: String, password: String, submitBtn: Any -&gt;\n        if (username.text.isEmpty() || password.text.isEmpty())\n            button.isEnabled = false\n        else\n            button.isEnabled = true\n    })\n</code></pre>\n\n<p>Use Observables.combineLatest:</p>\n\n<pre><code>    observable = Observables.combineLatest(userNameObservable, passwordObservable, submitButtonObservable)\n    observable?.debounce(800, TimeUnit.MILLISECONDS)?.observeOn(AndroidSchedulers.mainThread())?.subscribe {\n        //Access data from observables with it.first, it.second and it.third\n    }\n</code></pre>\n\n<p>Use the Observable.combineLatest in its list form. Example: </p>\n\n<pre><code>Observable.combineLatest(listOf(TextViewObs.create(tietPassword), TextViewObs.create(tietPasswordRepeat))) {\n            return@combineLatest it[0]==it[1]\n        }.subscribe {\n            if(it){\n                //Passwords match\n                tietPasswordRepeat?.error = null\n            }else{\n                //Passwords do not match\n                tietPasswordRepeat?.error = getString(R.string.Passwords_must_match)\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10126004, "user_type": "registered", "profile_image": "https://graph.facebook.com/249008992579646/picture?type=large", "display_name": "Shivam Verma", "link": "https://stackoverflow.com/users/10126004/shivam-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1533733347, "creation_date": 1533731842, "last_edit_date": 1533732464, "question_id": 51746954, "link": "https://stackoverflow.com/questions/51746954/combinelatest-method-in-kotlin-with-more-than-3-observables-getting-error-in-im", "title": "combineLatest method in Kotlin with more than 3 Observables: getting error in implementing the method", "body": "<p>I am using RxJava combineLatest method in Kotlin with more than 3 Observables .I am getting error in implementing the method</p>\n\n<pre><code>val userNameObservable = RxHelper.getTextWatcherObservable(username)\n    val passwordObservable = RxHelper.getTextWatcherObservable(password)\n\n    var submitButtonObservable: Observable&lt;String&gt; ?=null\n    button.setOnClickListener { submitButtonObservable = RxHelper.getButtonClickable() }\n\n    observable = Observable.combineLatest(userNameObservable, passwordObservable, submitButtonObservable,Triple(userNameObservable,passwordObservable,submitButtonObservable))\n    observable?.debounce(800, TimeUnit.MILLISECONDS)?.observeOn(AndroidSchedulers.mainThread())?.subscribe {\n\n        if (username.text.isEmpty() || password.text.isEmpty())\n            button.isEnabled = false\n        else\n            button.isEnabled = true\n    }\n}\n</code></pre>\n\n<p>the error i am getting is:</p>\n\n<p>None of the following functions can be called with the arguments supplied:\n@CheckReturnValue @SchedulerSupport public final fun  combineLatest(p0: ((Observer) -> Unit)!, p1: ((Observer) -> Unit)!, p2: ((Observer) -> Unit)!, p3: ((???, ???, ???) -> Unit)!): Observable! defined in io.reactivex.Observable\n@CheckReturnValue @SchedulerSupport public open fun  combineLatest(p0: ObservableSource!, p1: ObservableSource!, p2: ObservableSource!, p3: io.reactivex.functions.Function3!): Observable! defined in io.reactivex.Observable\n@CheckReturnValue @SchedulerSupport public open fun  combineLatest(p0: Function!, out Unit!>!, p1: Int, vararg p2: ObservableSource!): Observable! defined in io.reactivex.Observable  </p>\n"}, {"tags": ["android", "kotlin", "coroutine", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 2679, "user_id": 4465354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/peiDQ.png?s=128&g=1", "display_name": "qwwdfsad", "link": "https://stackoverflow.com/users/4465354/qwwdfsad"}, "edited": false, "score": 1, "creation_date": 1533731768, "post_id": 51746673, "comment_id": 90453482, "body": "why do you think they are executed at the same time? Could you provide a self-contained example? I&#39;m no able to reproduce your issue, delay call delays actual execution as expected"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1533733354, "post_id": 51746673, "comment_id": 90454602, "body": "You may want to check the imports. Are you sure you are calling <code>kotlinx.coroutines.experimental.delay</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 14, "last_activity_date": 1533742197, "last_edit_date": 1533742197, "creation_date": 1533741373, "answer_id": 51750210, "question_id": 51746673, "link": "https://stackoverflow.com/questions/51746673/kotlin-coroutine-async-with-delay/51750210#51750210", "title": "Kotlin coroutine async with delay", "body": "<p>Your code is too convoluted. You need just this:</p>\n\n<pre><code>launch(UI) {\n    delay(30000)\n    executeMethodAfterDelay()\n}\n</code></pre>\n\n<p>If you specifically want your method to run outside the GUI thread, then write</p>\n\n<pre><code>launch(CommonPool) {\n    delay(30000)\n    executeMethodAfterDelay()\n}\n</code></pre>\n\n<p>More typically you'll want to execute a long-running method off the GUI thread and then apply its result to the GUI. This is how it's done:</p>\n\n<pre><code>launch(UI) {\n    delay(30000)\n    val result = withContext(CommonPool) {\n        executeMethodAfterDelay()\n    }\n    updateGuiWith(result)\n}\n</code></pre>\n\n<p>Note you don't need <code>async-await</code> in any scenario.</p>\n\n<hr>\n\n<p>As for your specific report about <code>delay</code> running concurrently with <code>executeMethodAfterDelay</code>, this is not actually happening. Here's some self-contained code you can try out:</p>\n\n<pre><code>import kotlinx.coroutines.experimental.*\n\nfun main(args: Array&lt;String&gt;) {\n    runBlocking {\n        val deferred = async(CommonPool) {\n            println(\"Start the delay\")\n            delay(3000)\n            println(\"Execute the method\")\n            executeMethodAfterDelay()\n        }\n        val result = deferred.await()\n        println(\"Method's result: $result\")\n    }\n}\n\nfun executeMethodAfterDelay() = \"method complete\"\n</code></pre>\n\n<p>This will be the program's behavior:</p>\n\n<pre><code>Start the delay\n</code></pre>\n\n<p>... three seconds pass ...</p>\n\n<pre><code>Execute the method\nMethod's result: method complete\n</code></pre>\n"}], "owner": {"reputation": 1248, "user_id": 1767746, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/70a4b25e10b2c75555e22cf83d458677?s=128&d=identicon&r=PG&f=1", "display_name": "K Roobroeck", "link": "https://stackoverflow.com/users/1767746/k-roobroeck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9488, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1552980930, "creation_date": 1533731043, "last_edit_date": 1552980930, "question_id": 51746673, "link": "https://stackoverflow.com/questions/51746673/kotlin-coroutine-async-with-delay", "title": "Kotlin coroutine async with delay", "body": "<p>I'm wrapping my head around the coroutine concept in Kotlin/Android. So, as I do not want to use Timertask, Handler with a post delayed I want to use coroutines to execute an async coroutine after a certain delay. I have the following semi-code:</p>\n\n<pre><code> launch(UI) {\n    val result = async(CommonPool) { \n        delay(30000)\n        executeMethodAfterDelay() \n    }\n\n    result.await()\n }\n</code></pre>\n\n<p>The problem with this is that actually in the async is both method's (delay and executeMethodAfterDelay) are executed at the same time. While I was expecting that first 30 seconds of delay would be introduced before executeMethodAfterDelay() would be fired. So my question is, how can I achieve this?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10197450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436e3de97f0a91c0d8b8e581b91b684f?s=128&d=identicon&r=PG&f=1", "display_name": "Divyansh Jayesh", "link": "https://stackoverflow.com/users/10197450/divyansh-jayesh"}, "edited": false, "score": 0, "creation_date": 1533732394, "post_id": 51746993, "comment_id": 90453914, "body": "Thanks but that here is information in java, i search in KOTLIN. Can you help me with KOTLIN?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 10197450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436e3de97f0a91c0d8b8e581b91b684f?s=128&d=identicon&r=PG&f=1", "display_name": "Divyansh Jayesh", "link": "https://stackoverflow.com/users/10197450/divyansh-jayesh"}, "edited": false, "score": 0, "creation_date": 1533732697, "post_id": 51746993, "comment_id": 90454114, "body": "You can simply copy Java code and paste it in your IDE and will be coverted in Kotlin code, right?"}, {"owner": {"reputation": 45, "user_id": 10197450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436e3de97f0a91c0d8b8e581b91b684f?s=128&d=identicon&r=PG&f=1", "display_name": "Divyansh Jayesh", "link": "https://stackoverflow.com/users/10197450/divyansh-jayesh"}, "edited": false, "score": 0, "creation_date": 1533737538, "post_id": 51746993, "comment_id": 90457457, "body": "I tried to do this but is not working. Please help me with KOTLIN."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 10197450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436e3de97f0a91c0d8b8e581b91b684f?s=128&d=identicon&r=PG&f=1", "display_name": "Divyansh Jayesh", "link": "https://stackoverflow.com/users/10197450/divyansh-jayesh"}, "edited": false, "score": 0, "creation_date": 1533738131, "post_id": 51746993, "comment_id": 90457864, "body": "Without seeing some code of yours and if you don&#39;t provide the behaviour or the errors that you get, I cannot be much of a help. But I will try to provide you a quick adaptation of that example."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 45, "user_id": 10197450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436e3de97f0a91c0d8b8e581b91b684f?s=128&d=identicon&r=PG&f=1", "display_name": "Divyansh Jayesh", "link": "https://stackoverflow.com/users/10197450/divyansh-jayesh"}, "edited": false, "score": 0, "creation_date": 1533741048, "post_id": 51746993, "comment_id": 90459942, "body": "Please see my updated answer but if something else comes up when implementing it, please post another fresh question, so me and other users can help you."}, {"owner": {"reputation": 1717, "user_id": 1537413, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rNAtl.png?s=128&g=1", "display_name": "Dika", "link": "https://stackoverflow.com/users/1537413/dika"}, "edited": false, "score": 0, "creation_date": 1585362755, "post_id": 51746993, "comment_id": 107740268, "body": "@AlexMamo , how I can get the id of each products? currently I get the id by updating it to each record after I successfully create one record. but maybe you can inform me simpler way?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 1717, "user_id": 1537413, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rNAtl.png?s=128&g=1", "display_name": "Dika", "link": "https://stackoverflow.com/users/1537413/dika"}, "edited": false, "score": 1, "creation_date": 1585395218, "post_id": 51746993, "comment_id": 107746512, "body": "@Dika You can simply store the id of the products as a property in your document and then use it like this: <code>productViewHolder.setProductId(productModel.productId)  </code>"}, {"owner": {"reputation": 1717, "user_id": 1537413, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rNAtl.png?s=128&g=1", "display_name": "Dika", "link": "https://stackoverflow.com/users/1537413/dika"}, "edited": false, "score": 0, "creation_date": 1585451754, "post_id": 51746993, "comment_id": 107762245, "body": "thank you, @AlexMamo . I assume there is no other way"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 11, "last_activity_date": 1577535130, "last_edit_date": 1577535130, "creation_date": 1533731948, "answer_id": 51746993, "question_id": 51746587, "link": "https://stackoverflow.com/questions/51746587/display-data-from-firebase-firestore-to-recyclerview-with-kotlin/51746993#51746993", "title": "Display data from Firebase Firestore to RecyclerView with KOTLIN", "body": "<p>As I understand from your question, you have successfully displayed the items in your logcat, right? So in this case there are two more steps that you need to do in order to display the data in a <code>RecyclerView</code>.</p>\n\n<p>The first step would be to create a custom adapter or if you want you can use <code>FirestoreRecyclerAdapter</code> and the second one is to create a holder class for your item. In the end just set the adapter to your <code>RecyclerView</code> and that's it.</p>\n\n<p><strong>Solution added:</strong></p>\n\n<p>For Java delopers, <strong><a href=\"https://stackoverflow.com/questions/49277797/how-to-display-data-from-firestore-in-a-recyclerview-with-android/49277842\">this</a></strong> is a recommended way in which you can retrieve data from a Cloud Firestore database and display it in a <code>RecyclerView</code> using <code>FirestoreRecyclerAdapter</code>.</p>\n\n<p>For Kotlin developers, I'll adapt the code from the example above. Assuming you have a Firestore database structure that looks like this:</p>\n\n<pre><code>Firestore-root\n    |\n    --- products (collection)\n           |\n           --- documentIdOne (document)\n           |        |\n           |        --- productName: \"Milk\"\n           |\n           --- documentIdTwo (document)\n           |        |\n           |        --- productName: \"Soy Milk\"\n           |\n           --- documentIdThree (document)\n                    |\n                    --- productName: \"Bacon\"\n</code></pre>\n\n<p>A model class that looks also like this:</p>\n\n<pre><code>class ProductModel (val productName: String = \"\")\n</code></pre>\n\n<p>And a <code>.XML</code> file that contains a <code>RecyclerView</code> which also looks like this:</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:id=\"@+id/recycler_view\"/&gt;\n</code></pre>\n\n<p>To display all the product names, please follow the next steps.</p>\n\n<p>Now you need to find the <code>RecyclerView</code> in your activity and set the <code>LinearLayoutManager</code> but first you need the following import:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.*\n</code></pre>\n\n<p>And then just use the following line of code:</p>\n\n<pre><code>recycler_view.layoutManager = LinearLayoutManager(this)\n</code></pre>\n\n<p>In which <code>recycler_view</code> is actually the id of the <code>RecyclerView</code> as seen in the .XML file above.</p>\n\n<p>Then you need to create the root reference of your Firestore database and a <code>Query</code> object like this:</p>\n\n<pre><code>val rootRef = FirebaseFirestore.getInstance()\nval query = rootRef!!.collection(\"products\").orderBy(\"productName\", Query.Direction.ASCENDING)\n</code></pre>\n\n<p>Then you'll have to create a <code>FirestoreRecyclerOptions</code> object like this:</p>\n\n<pre><code>val options = FirestoreRecyclerOptions.Builder&lt;ProductModel&gt;().setQuery(query, ProductModel::class.java).build()\n</code></pre>\n\n<p>In your activity class, create a <code>holder</code> class that looks like this:</p>\n\n<pre><code>private inner class ProductViewHolder internal constructor(private val view: View) : RecyclerView.ViewHolder(view) {\n    internal fun setProductName(productName: String) {\n        val textView = view.findViewById&lt;TextView&gt;(R.id.text_view)\n        textView.text = productName\n    }\n}\n</code></pre>\n\n<p>Now we need to create an adapter class which in this case should look like this:</p>\n\n<pre><code>private inner class ProductFirestoreRecyclerAdapter internal constructor(options: FirestoreRecyclerOptions&lt;ProductModel&gt;) : FirestoreRecyclerAdapter&lt;ProductModel, ProductViewHolder&gt;(options) {\n    override fun onBindViewHolder(productViewHolder: ProductViewHolder, position: Int, productModel: ProductModel) {\n        productViewHolder.setProductName(productModel.productName)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ProductViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(R.layout.item_product, parent, false)\n        return ProductViewHolder(view)\n    }\n}\n</code></pre>\n\n<p>Your <code>item_product</code> .XML file should like this:</p>\n\n<pre><code>&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/text_view\"\"/&gt;\n</code></pre>\n\n<p>Then create an <code>adapter</code> field which is declared as global:</p>\n\n<pre><code>private var adapter: ProductFirestoreRecyclerAdapter? = null\n</code></pre>\n\n<p>And instantiate it in your activity like this:</p>\n\n<pre><code>adapter = ProductFirestoreRecyclerAdapter(options)\nrecycler_view.adapter = adapter\n</code></pre>\n\n<p>In the end, don't forget to override the following two functions and start listening for changes:</p>\n\n<pre><code>override fun onStart() {\n    super.onStart()\n    adapter!!.startListening()\n}\n\noverride fun onStop() {\n    super.onStop()\n\n    if (adapter != null) {\n        adapter!!.stopListening()\n    }\n}\n</code></pre>\n\n<p>The result is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UumaV.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UumaV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see using Kotlin, the code is even simpler and are less lines of code but remember official documentations will never provide you particular code, you'll have to create your self.</p>\n"}], "owner": {"reputation": 45, "user_id": 10197450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/436e3de97f0a91c0d8b8e581b91b684f?s=128&d=identicon&r=PG&f=1", "display_name": "Divyansh Jayesh", "link": "https://stackoverflow.com/users/10197450/divyansh-jayesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6089, "favorite_count": 4, "closed_date": 1533845760, "accepted_answer_id": 51746993, "answer_count": 1, "score": 3, "last_activity_date": 1577535130, "creation_date": 1533730789, "last_edit_date": 1533732627, "question_id": 51746587, "link": "https://stackoverflow.com/questions/51746587/display-data-from-firebase-firestore-to-recyclerview-with-kotlin", "closed_reason": "Not suitable for this site", "title": "Display data from Firebase Firestore to RecyclerView with KOTLIN", "body": "<p>I have a project that I work and I use Firebase Firestore. I have added from mysql database 125 items to Cloud firestore. I searched Firebase online <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"nofollow noreferrer\">presentation</a> to get informations but for some reason it is not helping me. I see web, swift, c and also php but i can not see code for KOTLIN. But after 3 day of work I displayed items in logcat. Another problem is, I searched presentation, stackoverflow there is no indication how to diplay data in <code>RecyclerView</code>. How can I display items to <code>RecyclerView</code> with KOTLIN?</p>\n\n<p>I want to know how to do this with Kotlin.</p>\n"}, {"tags": ["android", "generics", "kotlin", "retrofit"], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 0, "last_activity_date": 1533730488, "creation_date": 1533730488, "answer_id": 51746500, "question_id": 51746381, "link": "https://stackoverflow.com/questions/51746381/cannot-get-the-value-in-response-body-after-making-the-class-type-generic/51746500#51746500", "title": "Cannot get the value in response.body() after making the class type generic", "body": "<p>You should probably use it like this:</p>\n\n<pre><code> private fun &lt;T&gt; requestFun(call: Call&lt;T&gt;, onSuccess: (T) -&gt; Unit) {\n     call.enqueue(object : Callback&lt;T&gt; {\n         override fun onResponse(call: Call&lt;T&gt;, response: Response&lt;T&gt;) {\n             onSuccess(response.body())\n         }\n\n         override fun onFailure(call: Call&lt;T&gt;?, t: Throwable) {\n\n         }\n     })\n</code></pre>\n\n<p>Then you could do</p>\n\n<pre><code> requestFun&lt;MyClass&gt;(myCall) { myClass: MyClass -&gt;\n      ...\n }\n</code></pre>\n\n<p>Of course, this doesn't have any error handling, but it is a possibility.</p>\n\n<hr>\n\n<p>In your case you're not actually receiving <code>T</code>, you are receiving <code>JsonResponse&lt;T&gt;</code> for whatever unknown reason, so you could do this:</p>\n\n<pre><code> private fun &lt;T&gt; requestFun(call: Call&lt;JsonResponse&lt;T&gt;&gt;, onSuccess: (List&lt;T&gt;) -&gt; Unit) {\n    call.enqueue(object : Callback&lt;JsonResponse&lt;T&gt;&gt; {\n         override fun onResponse(call: Call&lt;JsonResponse&lt;T&gt;&gt;, response: Response&lt;JsonResponse&lt;T&gt;&gt;) {\n             val body = response.body()\n             onSuccess(body.data ?: Collections.emptyList())\n         }\n\n         override fun onFailure(call: Call&lt;JsonResponse&lt;T&gt;&gt;?, t: Throwable) {\n\n         }\n    });\n }\n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 10079691, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xi3J6rsSlts/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rKdOpdR8y0yvcskudsr4ONoC4Trw/mo/photo.jpg?sz=128", "display_name": "medusa", "link": "https://stackoverflow.com/users/10079691/medusa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 51746500, "answer_count": 1, "score": 0, "last_activity_date": 1534148719, "creation_date": 1533730183, "last_edit_date": 1534148719, "question_id": 51746381, "link": "https://stackoverflow.com/questions/51746381/cannot-get-the-value-in-response-body-after-making-the-class-type-generic", "title": "Cannot get the value in response.body() after making the class type generic", "body": "<p>I'm trying to fetch data from a server using retrofit. I have used generics since I don't want to have repetitive code in my project. However, I am unable to get the values inside of my response body when the type is T. I am only able to access it when I write the class name of my server response specifically. </p>\n\n<p>This is my code:</p>\n\n<pre><code> private fun &lt;T&gt; requestFun(call: Call&lt;T&gt;, default: T) {\n\n                call.enqueue(object : Callback&lt;T&gt; {\n                    override fun onResponse(call: Call&lt;T&gt;, response: Response&lt;T&gt;) {\n                        response.body()\n                    }\n\n                    override fun onFailure(call: Call&lt;T&gt;?, t: Throwable) {\n\n                    }\n                })\n\n            }\n</code></pre>\n\n<p>This is my model:</p>\n\n<pre><code>data class JsonResponse&lt;T&gt;(\n    var data: List&lt;T&gt;? = null,\n    var success: Boolean = true)\n</code></pre>\n\n<p>I want to be able to get the list of data back using response.body.result. However this doesn't work since in the function I am getting the type as generic and not JsonResponse!</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1533729257, "post_id": 51745920, "comment_id": 90451763, "body": "do you call refresh after onViewCreated? <a href=\"https://stackoverflow.com/questions/34541650/kotlin-android-extensions-and-fragments\" title=\"kotlin android extensions and fragments\">stackoverflow.com/questions/34541650/&hellip;</a>"}, {"owner": {"reputation": 2160, "user_id": 1062074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B7AJr.jpg?s=128&g=1", "display_name": "chrjs", "link": "https://stackoverflow.com/users/1062074/chrjs"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1533729468, "post_id": 51745920, "comment_id": 90451908, "body": "Yes. Otherwise it would fail always I guess. refresh() just removes all views from the container and re inflates them."}, {"owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "edited": false, "score": 0, "creation_date": 1533730600, "post_id": 51745920, "comment_id": 90452646, "body": "<code>most of the views are null</code>- what are those views?"}, {"owner": {"reputation": 2160, "user_id": 1062074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B7AJr.jpg?s=128&g=1", "display_name": "chrjs", "link": "https://stackoverflow.com/users/1062074/chrjs"}, "edited": false, "score": 0, "creation_date": 1533732464, "post_id": 51745920, "comment_id": 90453961, "body": "Sorry my mistake. All of the views were null. Just the &quot;default&quot; views were visible."}], "answers": [{"tags": [], "owner": {"reputation": 2160, "user_id": 1062074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B7AJr.jpg?s=128&g=1", "display_name": "chrjs", "link": "https://stackoverflow.com/users/1062074/chrjs"}, "is_accepted": true, "score": 0, "last_activity_date": 1533732751, "creation_date": 1533732751, "answer_id": 51747276, "question_id": 51745920, "link": "https://stackoverflow.com/questions/51745920/views-are-null-when-layouts-are-inflated-again/51747276#51747276", "title": "Views are null when layouts are inflated again", "body": "<p>When I bind my views again manually after inflating each container, it works.</p>\n\n<p>So, what I do:</p>\n\n<pre><code>private var buttonVoucherVoiceInput: AppCompatImageButton? = null\nprivate var editTextVoucher: EditText? = null\nprivate var textInputLayoutVoucher: TextInputLayout? = null\nprivate var buttonVoucherSubmit: Button? = null\n//And many many more\n\nprivate fun refresh() {\n\n    ///...\n    topup_container_one.addView(contentOne)\n    topup_container_two.addView(contentTwo)\n    topup_container_three.addView(contentThree)\n    topup_container_four.addView(contentFour)\n\n    //Find views again\n    editTextVoucher = view!!.findViewById(R.id.topup_edittext_voucher)\n    buttonVoucherSubmit = view!!.findViewById(R.id.topup_button_voucher_submit)\n    textInputLayoutVoucher = view!!.findViewById(R.id.topup_til_voucher)\n    buttonVoucherVoiceInput = view!!.findViewById(R.id.topup_button_voucher_voice)\n\n}\n</code></pre>\n\n<p>Annoying, but it works again.. And I can remove Butterknife from my project. (No disrespect, I loved it) :)</p>\n"}], "owner": {"reputation": 2160, "user_id": 1062074, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/B7AJr.jpg?s=128&g=1", "display_name": "chrjs", "link": "https://stackoverflow.com/users/1062074/chrjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 51747276, "answer_count": 1, "score": 1, "last_activity_date": 1533732751, "creation_date": 1533728755, "question_id": 51745920, "link": "https://stackoverflow.com/questions/51745920/views-are-null-when-layouts-are-inflated-again", "title": "Views are null when layouts are inflated again", "body": "<p>I have a view with 4 containers (LinearLayouts). Each container will be filled with content depending on data. (Each content view is inflated with a layout and added to the container)</p>\n\n<p>Previously I called <code>ButterKnife.bind(this, view)</code> after I inflated each of the layouts, when the data was loaded. Now I want to get rid of ButterKnife in favor of the kotlinx synthetic view binding. </p>\n\n<p>My problem is, the first time the view is created and setup everything works fine. When I refresh the view, most of the views are null (which weren't null before and shouldn't be). </p>\n\n<p>Some code:</p>\n\n<pre><code>private fun refresh() {\n    //Get data...then...\n    //Reset containers\n    topup_container_one.removeAllViews()\n    topup_container_two.removeAllViews()\n    topup_container_three.removeAllViews()\n    topup_container_four.removeAllViews()\n\n    lateinit var contentOne: View\n    lateinit var contentTwo: View\n    lateinit var contentThree: View\n    lateinit var contentFour: View\n    val layoutInflater = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n    if (someCondition) {\n        contentOne = layoutInflater.inflate(R.layout.layout1, topup_container_one, false)\n        contentTwo = layoutInflater.inflate(R.layout.layout2, topup_container_two, false)\n        contentThree = layoutInflater.inflate(R.layout.layout3, topup_container_three, false)\n        contentFour = layoutInflater.inflate(R.layout.layout4, topup_container_four, false)       \n    } else { \n         // some other sort order, same principle\n    }\n\n    topup_container_one.addView(contentOne)\n    topup_container_two.addView(contentTwo)\n    topup_container_three.addView(contentThree)\n    topup_container_four.addView(contentFour)\n} \n</code></pre>\n\n<p>Layout:</p>\n\n<pre><code>&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" \n    android:orientation=\"vertical\"&gt;\n&lt;LinearLayout\n    android:id=\"@+id/topup_container_one\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n    &lt;/LinearLayout&gt;\n\n   //same for two, three, four\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Is there anything I can do about that view mess? Maybe 'recall' the view binding?</p>\n"}, {"tags": ["android", "kotlin", "android-xml", "android-databinding", "androidx"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1533731953, "post_id": 51744549, "comment_id": 90453606, "body": "If you just migrated, please double-check that dataBinding version is up-to-date."}, {"owner": {"reputation": 91, "user_id": 6580007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b357b179fe7ef5bcbb42bb1fc3d62b?s=128&d=identicon&r=PG&f=1", "display_name": "P. Bryant", "link": "https://stackoverflow.com/users/6580007/p-bryant"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1533734704, "post_id": 51744549, "comment_id": 90455498, "body": "@shkschneider Doesn&#39;t it use the same version as the Android Gradle Plugin?"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1533735180, "post_id": 51744549, "comment_id": 90455840, "body": "It usually suffice to put &quot;dataBinding { enabled = true }` it&#39;s just that I had problems in the past with this, and had to clean, sync gradle, restart ide, rebuild to fix -- you know, the weird case."}, {"owner": {"reputation": 3302, "user_id": 2481310, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61400c78577f452ef07d92088ffc61c4?s=128&d=identicon&r=PG", "display_name": "sonique", "link": "https://stackoverflow.com/users/2481310/sonique"}, "edited": false, "score": 1, "creation_date": 1536625865, "post_id": 51744549, "comment_id": 91482044, "body": "I&#39;m facing similar issue with a custom BindingAdapter. I&#39;m using AndroidX 1.0.0-rc02. I solved this by using Java for the BindingAdapter. It&#39;s not the best solution. I filled up a bug report: <a href=\"https://issuetracker.google.com/u/1/issues/114838820\" rel=\"nofollow noreferrer\">issuetracker.google.com/u/1/issues/114838820</a>"}, {"owner": {"reputation": 809, "user_id": 2383168, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/XCVFX.jpg?s=128&g=1", "display_name": "tasegula", "link": "https://stackoverflow.com/users/2383168/tasegula"}, "edited": false, "score": 0, "creation_date": 1539106028, "post_id": 51744549, "comment_id": 92377939, "body": "I&#39;m having the same issue. Did you solved this / how?"}, {"owner": {"reputation": 1414, "user_id": 1204440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rlt7l.png?s=128&g=1", "display_name": "Carmen", "link": "https://stackoverflow.com/users/1204440/carmen"}, "edited": false, "score": 0, "creation_date": 1539186192, "post_id": 51744549, "comment_id": 92412631, "body": "I have this issue too in a rather large, corporate project: using 2-way databinding. In my case I have an ObservableField instead of a MutableLiveData, but the error is the same.I&#39;ve tried to make a simple standalone app to reproduce this to file a bug report, but so far the standalone app is fine. I&#39;m trying to hunt down the difference between the two apps..."}, {"owner": {"reputation": 1414, "user_id": 1204440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rlt7l.png?s=128&g=1", "display_name": "Carmen", "link": "https://stackoverflow.com/users/1204440/carmen"}, "edited": false, "score": 0, "creation_date": 1539187043, "post_id": 51744549, "comment_id": 92413117, "body": "The inclusion of the following library introduces the bug into my example project (even if I don&#39;t use the library at all from code): <code>implementation &#39;com.braintreepayments.api:braintree:2.17.0&#39;</code>"}, {"owner": {"reputation": 1414, "user_id": 1204440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rlt7l.png?s=128&g=1", "display_name": "Carmen", "link": "https://stackoverflow.com/users/1204440/carmen"}, "edited": false, "score": 0, "creation_date": 1539189006, "post_id": 51744549, "comment_id": 92414248, "body": "I&#39;ve filed a bug report: <a href=\"https://issuetracker.google.com/issues/117544947\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/117544947</a>"}, {"owner": {"reputation": 733, "user_id": 7719064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330b14ebe09d3c66209141f6268fe033?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Raiyani", "link": "https://stackoverflow.com/users/7719064/akshay-raiyani"}, "edited": false, "score": 0, "creation_date": 1540820179, "post_id": 51744549, "comment_id": 92992802, "body": "I face same issue, is there any possible way without using BindingAdapter?"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 4285637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c443534659a4d0fce7e9fe4349d8aa6a?s=128&d=identicon&r=PG", "display_name": "Vrakfall", "link": "https://stackoverflow.com/users/4285637/vrakfall"}, "is_accepted": false, "score": 1, "last_activity_date": 1557214511, "creation_date": 1557214511, "answer_id": 56017665, "question_id": 51744549, "link": "https://stackoverflow.com/questions/51744549/unknown-class-java-lang-string-in-androidx-two-way-data-binding/56017665#56017665", "title": "Unknown class: java.lang.String in AndroidX two-way data binding", "body": "<p>For those having this issue with databinding v3.4.0, a temporary rollback to 3.3.2 fixed it for me. I posted <a href=\"https://issuetracker.google.com/issues/132135607\" rel=\"nofollow noreferrer\">an issue about this on their tracker</a> in the meantime.</p>\n\n<p>To rollback, all you have to do is change your <code>build.gradle</code> accordingly:</p>\n\n<pre><code>android {\n    ...\n        dataBinding {\n            enabled = true\n            version = '3.3.2'\n        }\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 6580007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b357b179fe7ef5bcbb42bb1fc3d62b?s=128&d=identicon&r=PG&f=1", "display_name": "P. Bryant", "link": "https://stackoverflow.com/users/6580007/p-bryant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1557214511, "creation_date": 1533724549, "question_id": 51744549, "link": "https://stackoverflow.com/questions/51744549/unknown-class-java-lang-string-in-androidx-two-way-data-binding", "title": "Unknown class: java.lang.String in AndroidX two-way data binding", "body": "<p>Just migrated to AndroidX and this error has appeared when trying to build:\n<code>\nUnknown class: java.lang.String\nfile://----/app/src/main/res/layout/my_fragment.xml Line:XXX\n</code></p>\n\n<p>The line in question is the start of an EditText which uses two-way databinding:\n<code>\nandroid:text=\"@={viewModel.myString}\"\n</code></p>\n\n<p><code>myString</code> looks like this:</p>\n\n<p><code>\nval myString = MutableLiveData&lt;String&gt;()\n</code></p>\n\n<p>I have multiple instances of this; each one involves two-way data binding in an EditText with a <code>LiveData&lt;String&gt;</code>.</p>\n"}, {"tags": ["android", "multithreading", "kotlin", "android-mediaplayer", "audio-streaming"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "edited": false, "score": 0, "creation_date": 1533729016, "post_id": 51745482, "comment_id": 90451600, "body": "how do you implement the OnPreparedListener?"}, {"owner": {"reputation": 61, "user_id": 8110017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b1b99adc658a18efde3dc7fadce3f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ehtisham Shami", "link": "https://stackoverflow.com/users/8110017/ehtisham-shami"}, "reply_to_user": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "edited": false, "score": 0, "creation_date": 1534146007, "post_id": 51745482, "comment_id": 90588780, "body": "class myclass:MediaPlayer:OnPreparedListener{      override fun onPrepared(mp: MediaPlayer?) {         mp?.start()     } }"}], "tags": [], "owner": {"reputation": 61, "user_id": 8110017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b1b99adc658a18efde3dc7fadce3f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ehtisham Shami", "link": "https://stackoverflow.com/users/8110017/ehtisham-shami"}, "is_accepted": false, "score": 1, "last_activity_date": 1533727430, "creation_date": 1533727430, "answer_id": 51745482, "question_id": 51744546, "link": "https://stackoverflow.com/questions/51744546/audio-streaming-from-url-failed-to-init-from-data-source/51745482#51745482", "title": "Audio streaming from URL failed to init from data source?", "body": "<p>Your are calling start right after prepareAsync() which might be casuing problem. Please use the code below</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n     val url = \"http://www.radioideal.net:8026/;stream/1\"\n\n        try {\n            val mediaPlayer: MediaPlayer? = MediaPlayer().apply {\n                setAudioStreamType(AudioManager.STREAM_MUSIC)\n                setDataSource(url)\n                setOnPreparedListener(this@MainActivity)\n                prepareAsync()\n\n            }\n        } catch (e: Exception) {\n            e.printStackTrace()\n        }\n\n\n    }\n\n\n    override fun onPrepared(mp: MediaPlayer?) {\n        mp?.start()\n    }\n</code></pre>\n\n<p>And donot forgot to implement MediaPlayer.OnPreparedListener.... Cheers</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "is_accepted": false, "score": 0, "last_activity_date": 1533731607, "creation_date": 1533731607, "answer_id": 51746887, "question_id": 51744546, "link": "https://stackoverflow.com/questions/51744546/audio-streaming-from-url-failed-to-init-from-data-source/51746887#51746887", "title": "Audio streaming from URL failed to init from data source?", "body": "<pre><code>class MainActivity : AppCompatActivity(), MediaPlayer.OnPreparedListener {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    play_btn.setOnClickListener {\n        val mp = MediaPlayer ()\n        mp.setOnPreparedListener(this@MainActivity)\n        try {\n            mp.setDataSource (\"https://www.ssaurel.com/tmp/mymusic.mp3\")\n            mp.prepareAsync ()\n        } catch (e: IOException) {\n        }\n            Toast.makeText (this, \"Wait a moment while loading the mp3\", Toast.LENGTH_SHORT) .show ()\n        }\n    }\n\n    override fun onPrepared (p0: MediaPlayer?) {\n       p0?.start()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 9719937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffF1X.jpg?s=128&g=1", "display_name": "Jax", "link": "https://stackoverflow.com/users/9719937/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1533731607, "creation_date": 1533724539, "last_edit_date": 1533726225, "question_id": 51744546, "link": "https://stackoverflow.com/questions/51744546/audio-streaming-from-url-failed-to-init-from-data-source", "title": "Audio streaming from URL failed to init from data source?", "body": "<p>I'm trying to get the stream from the URL but I keep getting <strong>Failed to init from data source</strong> error</p>\n\n<p>Here's my code:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val url = \"http://www.radioideal.net:8026/;stream/1\"\n\n    try {\n        val mediaPlayer: MediaPlayer? = MediaPlayer().apply {\n            setAudioStreamType(AudioManager.STREAM_MUSIC)\n            setDataSource(url)\n            prepareAsync()\n            start()\n        }\n    } catch (e: Exception) {\n        e.message\n    }\n\n}\n</code></pre>\n\n<p>It's the simplest example.</p>\n"}, {"tags": ["android", "firebase", "gradle", "kotlin", "dependencies"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 10196657, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284734491668881/picture?type=large", "display_name": "aru96", "link": "https://stackoverflow.com/users/10196657/aru96"}, "edited": false, "score": 1, "creation_date": 1533723152, "post_id": 51743862, "comment_id": 90447971, "body": "Thank you, version incrementation of firebase dependencies solved the problem.:)   About this &quot;partial code&quot; - I just missed it when copying my cod."}, {"owner": {"reputation": 151, "user_id": 4533459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mBRPT.jpg?s=128&g=1", "display_name": "Igor Konyukhov", "link": "https://stackoverflow.com/users/4533459/igor-konyukhov"}, "edited": false, "score": 1, "creation_date": 1580793477, "post_id": 51743862, "comment_id": 106204590, "body": "Thanks a lot. In my case, I just missed this line <code>implementation &#39;com.google.firebase:firebase-auth:16.0.2&#39;</code>"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 5, "last_activity_date": 1533722461, "creation_date": 1533722461, "answer_id": 51743862, "question_id": 51743786, "link": "https://stackoverflow.com/questions/51743786/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/51743862#51743862", "title": "&quot;Error: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath&quot;", "body": "<p>To solve this, please change the following lines of code:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-firestore:11.8.0'\nimplementation 'com.firebaseui:firebase-ui-auth:3.1.0'\nimplementation 'com.google.firebase:firebase-auth:11.2.2'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-firestore:17.0.4'\nimplementation 'com.firebaseui:firebase-ui-auth:4.1.0'\nimplementation 'com.google.firebase:firebase-auth:16.0.2'\n</code></pre>\n\n<p>Also, I see this line of code to be partial:</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-\n</code></pre>\n\n<p>The entire correct line should be:</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 10196657, "user_type": "registered", "profile_image": "https://graph.facebook.com/1284734491668881/picture?type=large", "display_name": "aru96", "link": "https://stackoverflow.com/users/10196657/aru96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7382, "favorite_count": 0, "accepted_answer_id": 51743862, "answer_count": 1, "score": 6, "last_activity_date": 1533722461, "creation_date": 1533722219, "question_id": 51743786, "link": "https://stackoverflow.com/questions/51743786/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure", "title": "&quot;Error: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath&quot;", "body": "<p>My Android project (Kotlin) doesn't compile.</p>\n\n<p><strong>Gradle log:</strong></p>\n\n<p><em>Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath: class.com.google.firebase.auth.FirebaseAuth, unresolved supertypes com.google.android.gms.internal.zzeku.</em> </p>\n\n<p><strong>Here's my app Gradle:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"com.example.arturpoplawski.bandmanager\"\n        minSdkVersion 24\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    //kotlin\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n    //android\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support:support-v4:27.1.1'\n\n    //firebase\n    implementation 'com.google.firebase:firebase-firestore:11.8.0'\n    implementation 'com.google.firebase:firebase-core:16.0.1'\n    implementation 'com.firebaseui:firebase-ui-auth:3.1.0'\n    implementation 'com.google.firebase:firebase-auth:11.2.2'\n\n    //picasso\n    implementation 'com.squareup.picasso:picasso:2.71828'\n\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n\napply plugin: 'com.google.gms.google-\n</code></pre>\n\n<p><strong>And here is project Build Gradle:</strong> </p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.2.30'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:4.0.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7391000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1018499681d4d8df4d23d007d9cd59c?s=128&d=identicon&r=PG&f=1", "display_name": "Awesometic", "link": "https://stackoverflow.com/users/7391000/awesometic"}, "edited": false, "score": 0, "creation_date": 1533735334, "post_id": 51743719, "comment_id": 90455953, "body": "I tried that put the injection code for Context separately but it doesn&#39;t work.. Thank you for your reply!"}, {"owner": {"reputation": 1016, "user_id": 8587899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753587434927148/picture?type=large", "display_name": "Declan Nnadozie", "link": "https://stackoverflow.com/users/8587899/declan-nnadozie"}, "reply_to_user": {"reputation": 33, "user_id": 7391000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1018499681d4d8df4d23d007d9cd59c?s=128&d=identicon&r=PG&f=1", "display_name": "Awesometic", "link": "https://stackoverflow.com/users/7391000/awesometic"}, "edited": false, "score": 0, "creation_date": 1533736558, "post_id": 51743719, "comment_id": 90456778, "body": "trying adding the context via Bluetooth constructor..... the above code @Awesometic"}, {"owner": {"reputation": 33, "user_id": 7391000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1018499681d4d8df4d23d007d9cd59c?s=128&d=identicon&r=PG&f=1", "display_name": "Awesometic", "link": "https://stackoverflow.com/users/7391000/awesometic"}, "edited": false, "score": 0, "creation_date": 1533789402, "post_id": 51743719, "comment_id": 90476993, "body": "It seems the suggested answer doesn&#39;t use of the dagger.android features.. AppComponent is already defined with the class extends DaggerApplication class. And I found that it isn&#39;t needed to inject between module classes. Is it right? I&#39;m a newb so I searched as much as I can. :) But anyway your answer inspires me in some way and I could get the answer. Thanks."}], "tags": [], "owner": {"reputation": 1016, "user_id": 8587899, "user_type": "registered", "profile_image": "https://graph.facebook.com/1753587434927148/picture?type=large", "display_name": "Declan Nnadozie", "link": "https://stackoverflow.com/users/8587899/declan-nnadozie"}, "is_accepted": false, "score": 0, "last_activity_date": 1533736513, "last_edit_date": 1533736513, "creation_date": 1533722019, "answer_id": 51743719, "question_id": 51743437, "link": "https://stackoverflow.com/questions/51743437/android-kotlin-with-dagger2-lateinit-var-has-not-been-initialized/51743719#51743719", "title": "Android Kotlin with Dagger2, lateinit var has not been initialized", "body": "<p>the context object is not initialized before its called</p>\n\n<p>Though i dont know, how chained your initialization are.</p>\n\n<p>Use @Inject to add deppendencies, do something like this</p>\n\n<pre><code>    @Module\nclass BluetoothModule(val context : Context) {\n\n    //@Inject private lateinit var context : Context\n    @Provides\n    @Named(\"rxBleClient\")\n    @Singleton\n    fun provideRxBleClient():RxBleClient =\n            RxBleClient.create(context)\n}\n</code></pre>\n\n<p>let your call be like this</p>\n\n<pre><code>val component = AppComponent()\n component.bluetoothModule(appContext)\n          .//other calls here\n          .build()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 7391000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1018499681d4d8df4d23d007d9cd59c?s=128&d=identicon&r=PG&f=1", "display_name": "Awesometic", "link": "https://stackoverflow.com/users/7391000/awesometic"}, "edited": false, "score": 0, "creation_date": 1533866444, "post_id": 51759990, "comment_id": 90513979, "body": "I&#39;ve already solved my issue as the way like you suggested :) Thanks! This is the cause I had missed."}, {"owner": {"reputation": 4572, "user_id": 2783229, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/KtVo0.jpg?s=128&g=1", "display_name": "nitesh", "link": "https://stackoverflow.com/users/2783229/nitesh"}, "reply_to_user": {"reputation": 33, "user_id": 7391000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1018499681d4d8df4d23d007d9cd59c?s=128&d=identicon&r=PG&f=1", "display_name": "Awesometic", "link": "https://stackoverflow.com/users/7391000/awesometic"}, "edited": false, "score": 0, "creation_date": 1533883897, "post_id": 51759990, "comment_id": 90518728, "body": "Glad it helped!"}], "tags": [], "owner": {"reputation": 4572, "user_id": 2783229, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/KtVo0.jpg?s=128&g=1", "display_name": "nitesh", "link": "https://stackoverflow.com/users/2783229/nitesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1533795281, "creation_date": 1533795281, "answer_id": 51759990, "question_id": 51743437, "link": "https://stackoverflow.com/questions/51743437/android-kotlin-with-dagger2-lateinit-var-has-not-been-initialized/51759990#51759990", "title": "Android Kotlin with Dagger2, lateinit var has not been initialized", "body": "<p>Add the below code to make this happen.</p>\n\n<ol>\n<li><p>Create <code>ActivityBuilderModule</code> for injecting within the activity. Consider our activity as <code>MainActivity</code></p>\n\n<pre><code>@Module\nabstract class ActivityBuilderModule {\n     @ContributesAndroidInjector(modules=[MainActivityModule::class])\n     abstract fun contributeSplashActivity(): MainActivity\n}\n</code></pre></li>\n<li><p>Create your <code>MainActivityModule</code></p>\n\n<pre><code>@Module\nclass MainActivityModule{\n     @Provides()\n     fun contributeSplashActivity(mainActivity: MainActivity): \n        MainActivity=mainActivity\n }\n</code></pre></li>\n<li><p>Modify your component.</p>\n\n<pre><code>@Singleton\n@Component(modules = [\nAppModule::class,\nBluetoothModule::class,\nActivityBuilderModule::class,\nAndroidInjectionModule::class])\ninterface AppComponent : AndroidInjector&lt;BluetoothController&gt; {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(app: Application): Builder\n\n        fun build(): AppComponent\n    }\n}\n</code></pre></li>\n<li><p>Within MainActivity just inject.</p>\n\n<pre><code>class MainActivity{\n      ...\n      @Inject\n      lateinit var rxBleClient: RxBleClient\n      override fun onCreate(savedInstanceState: Bundle?) {\n\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n      }\n}\n</code></pre></li>\n</ol>\n\n<p>Let us know in case of any issue.</p>\n"}], "owner": {"reputation": 33, "user_id": 7391000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1018499681d4d8df4d23d007d9cd59c?s=128&d=identicon&r=PG&f=1", "display_name": "Awesometic", "link": "https://stackoverflow.com/users/7391000/awesometic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2256, "favorite_count": 0, "accepted_answer_id": 51759990, "answer_count": 2, "score": 3, "last_activity_date": 1533795281, "creation_date": 1533721272, "question_id": 51743437, "link": "https://stackoverflow.com/questions/51743437/android-kotlin-with-dagger2-lateinit-var-has-not-been-initialized", "title": "Android Kotlin with Dagger2, lateinit var has not been initialized", "body": "<p>I'm a Dagger newb and have a trouble with using it.</p>\n\n<p>What I want to develop is that using RxAndroidBle and to initialize it by Dagger for providing Context.</p>\n\n<p>So I researched how it can be implemented, and I wrote some codes and It seems to be working for me but not working at all.</p>\n\n<p>The followings are my codes.</p>\n\n<p>AppComponent.kt</p>\n\n<pre><code>@Singleton\n@Component(modules = [\n    AppModule::class,\n    BluetoothModule::class,\n    AndroidInjectionModule::class])\ninterface AppComponent : AndroidInjector&lt;BluetoothController&gt; {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        fun application(app: Application): Builder\n\n        fun build(): AppComponent\n    }\n}\n</code></pre>\n\n<p>AppModule.kt</p>\n\n<pre><code>@Module\nclass AppModule {\n\n    @Provides\n    @Named(\"appContext\")\n    @Singleton\n    fun provideContext(application: Application): Context =\n            application.applicationContext\n}\n</code></pre>\n\n<p>BluetoothModule.kt</p>\n\n<pre><code>@Module\nclass BluetoothModule {\n\n    @Provides\n    @Named(\"rxBleClient\")\n    @Singleton\n    fun provideRxBleClient(@Named(\"appContext\") context: Context):RxBleClient =\n            RxBleClient.create(context)\n}\n</code></pre>\n\n<p>BluetoothController.kt for injecting by DaggerApplication.</p>\n\n<pre><code>class BluetoothController : DaggerApplication() {\n\n    override fun applicationInjector(): AndroidInjector&lt;out DaggerApplication&gt; {\n        return DaggerAppComponent.builder().application(this).build()\n    }\n}\n</code></pre>\n\n<p>I've inserted\nandroid:name\".BluetoothController\"\nto AndroidManifest.xml</p>\n\n<p>And this is how I would use it.</p>\n\n<pre><code>@field:[Inject Named(\"rxBleClient\")]\nlateinit var rxBleClient: RxBleClient\n</code></pre>\n\n<p>But it always occurs an error says: lateinit property context has not been initialized</p>\n\n<p>What things I've missed? Can anyone help me?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "listview", "android-recyclerview", "kotlin", "android-scrollview"], "comments": [{"owner": {"reputation": 2427, "user_id": 3503023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHmCQ.jpg?s=128&g=1", "display_name": "Krishna Sharma", "link": "https://stackoverflow.com/users/3503023/krishna-sharma"}, "edited": false, "score": 1, "creation_date": 1533712856, "post_id": 51740615, "comment_id": 90441502, "body": "Recommend you to use <code>RecyclerView</code> for both. Just you need to set the direction <code>HORIZONTAL</code> for top layout and for the bottom <code>VERTICAL</code>."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "edited": false, "score": 0, "creation_date": 1533712787, "post_id": 51740667, "comment_id": 90441459, "body": "So my ListView has to change into a RecyclerView ?"}, {"owner": {"reputation": 361, "user_id": 5354223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fcd01bd1af1847c76e706eb0e020a7?s=128&d=identicon&r=PG", "display_name": "SergioCT", "link": "https://stackoverflow.com/users/5354223/sergioct"}, "reply_to_user": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "edited": false, "score": 0, "creation_date": 1533799849, "post_id": 51740667, "comment_id": 90481243, "body": "In my opinion always."}], "tags": [], "owner": {"reputation": 361, "user_id": 5354223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fcd01bd1af1847c76e706eb0e020a7?s=128&d=identicon&r=PG", "display_name": "SergioCT", "link": "https://stackoverflow.com/users/5354223/sergioct"}, "is_accepted": false, "score": 1, "last_activity_date": 1533712668, "last_edit_date": 1533712668, "creation_date": 1533712596, "answer_id": 51740667, "question_id": 51740615, "link": "https://stackoverflow.com/questions/51740615/which-recyclerview-or-scrollview-should-i-choose/51740667#51740667", "title": "Which Recyclerview or ScrollView should I choose?", "body": "<p>I recommend to user always RecyclerView and never a ListView. Use RecyclerView for element list and scrollview for static views.</p>\n\n<p>Seeing your image Scrollview inside RecyclerView or ListView have problems with drag.</p>\n\n<p>Use a vertical RecyclerView in all page and horizontal RecyclerView each row.</p>\n"}, {"tags": [], "owner": {"reputation": 852, "user_id": 4779042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PL77x.jpg?s=128&g=1", "display_name": "Alperen Kantarc\u0131", "link": "https://stackoverflow.com/users/4779042/alperen-kantarc%c4%b1"}, "is_accepted": false, "score": 0, "last_activity_date": 1533712886, "creation_date": 1533712886, "answer_id": 51740764, "question_id": 51740615, "link": "https://stackoverflow.com/questions/51740615/which-recyclerview-or-scrollview-should-i-choose/51740764#51740764", "title": "Which Recyclerview or ScrollView should I choose?", "body": "<p>I suggest you to use RecyclerView because you will load lots of images and if you use ScrollView eventually you will use so much memory. Also it is recommended to use RecyclerView when you have dynamic data. You can look the definition of the RecyclerView in the Android Documentation as follow</p>\n\n<blockquote>\n  <p>RecyclerView  is a view for efficiently displaying large data sets by\n  providing a limited window of data items.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6484, "user_id": 2361336, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Sw5fx.jpg?s=128&g=1", "display_name": "Salman Khakwani", "link": "https://stackoverflow.com/users/2361336/salman-khakwani"}, "is_accepted": false, "score": 0, "last_activity_date": 1533713215, "creation_date": 1533713215, "answer_id": 51740856, "question_id": 51740615, "link": "https://stackoverflow.com/questions/51740615/which-recyclerview-or-scrollview-should-i-choose/51740856#51740856", "title": "Which Recyclerview or ScrollView should I choose?", "body": "<p>You can use nested RecyclerView for creating such hierarchal view.\nYou can also checkout this <a href=\"https://stackoverflow.com/questions/30079438/how-do-i-layout-nested-recyclerviews-while-remaining-performant\">example</a> for nested RecyclerView usage.</p>\n\n<p>Also you can further read:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28525112/android-recyclerview-vs-listview-with-viewholder/31199564\">Android Recyclerview vs ListView with Viewholder</a></li>\n<li><a href=\"https://stackoverflow.com/questions/26728651/recyclerview-vs-listview\">RecyclerView vs. ListView</a></li>\n<li><a href=\"https://stackoverflow.com/questions/28392554/should-we-use-recyclerview-to-replace-listview?rq=1\">Should we use RecyclerView to replace ListView?</a></li>\n</ul>\n\n<p>I hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 5401, "user_id": 991094, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/3XaRx.jpg?s=128&g=1", "display_name": "Sreehari", "link": "https://stackoverflow.com/users/991094/sreehari"}, "is_accepted": false, "score": 3, "last_activity_date": 1533717286, "last_edit_date": 1533717286, "creation_date": 1533716939, "answer_id": 51742048, "question_id": 51740615, "link": "https://stackoverflow.com/questions/51740615/which-recyclerview-or-scrollview-should-i-choose/51742048#51742048", "title": "Which Recyclerview or ScrollView should I choose?", "body": "<p>Basic difference between <code>RecyclerView</code> and <code>ListView</code> are the below.</p>\n\n<p><code>ListView</code> is simple to implement. Default Adapters available.\nBut <code>ViewHolder</code> pattern and finding views using ID's used to give slow performance.</p>\n\n<p>Now in <code>RecyclerView</code> , the above problems are attended using <a href=\"https://developer.android.com/reference/android/support/v7/widget/RecyclerView.ViewHolder\" rel=\"nofollow noreferrer\">RecyclerView.ViewHolder</a>.\nFor <code>RecyclerView</code> adapter, this <code>ViewHolder</code> is mandatory. While comparing to list view this is kinda complex, but solves performance issues in <code>ListView</code>.</p>\n\n<p>Difference <code>LayoutManagers</code> are available while using <code>RecyclerView</code>.</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/support/v7/widget/LinearLayoutManager\" rel=\"nofollow noreferrer\">LinearLayoutManager</a></li>\n<li><a href=\"https://developer.android.com/reference/android/support/v7/widget/StaggeredGridLayoutManager\" rel=\"nofollow noreferrer\">StaggeredGridLayoutManager</a></li>\n<li><a href=\"https://developer.android.com/reference/android/support/v7/widget/GridLayoutManager\" rel=\"nofollow noreferrer\">GridLayoutManager</a></li>\n</ul>\n\n<p>Major improvement of RecyclerView performance while comparing to ListView would be this  according to <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">developer.android.com</a></p>\n\n<blockquote>\n  <p>The RecyclerView creates only as many view holders as are needed to\n  display the on-screen portion of the dynamic content, plus a few\n  extra. As the user scrolls through the list, the RecyclerView takes\n  the off-screen views and rebinds them to the data which is scrolling\n  onto the screen</p>\n</blockquote>\n\n<p><strong>To sumup, RecyclerView is preferable than ListView (when UI is having same widgets repeating according to your data)</strong></p>\n\n<hr>\n\n<hr>\n\n<p>Now when to use <code>ScrollView</code>:</p>\n\n<p>Your UI elements may not show completely in small device screens. But in bigger screen sizes it may!\nElements may not be necessarily only list / grid. It can have combinations of any UI widgets. </p>\n\n<p>Eg:- <code>TextViews</code> vertically , with <code>RadioButton</code> and <code>Button</code> at last for user action. </p>\n\n<p>This cannot be included in <code>ListView</code>/ <code>RecyclerView</code> , now you can add <code>ScrollView</code> which will have a <code>LinearLayout</code>/<code>RelativeLayout</code> . Inside which all other elements can be added.</p>\n\n<p>Now you can </p>\n"}], "owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3525, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1576132948, "creation_date": 1533712416, "last_edit_date": 1533712493, "question_id": 51740615, "link": "https://stackoverflow.com/questions/51740615/which-recyclerview-or-scrollview-should-i-choose", "title": "Which Recyclerview or ScrollView should I choose?", "body": "<p>I created an activity with a <code>ListView</code>. That is a Friend <code>ListView</code>.</p>\n\n<p>I wanna let it choose to add it to another <code>View</code>.</p>\n\n<p>I don't know which <code>View</code> to choose is the best.  <code>Recyclerview</code> or <code>ScrollView</code>?</p>\n\n<p>Like this</p>\n\n<p><img src=\"https://i.stack.imgur.com/Rcsrv.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["android", "kotlin", "mockito"], "answers": [{"tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": true, "score": 2, "last_activity_date": 1533718576, "creation_date": 1533718576, "answer_id": 51742538, "question_id": 51740142, "link": "https://stackoverflow.com/questions/51740142/mocking-stubs-that-return-a-void-return-type/51742538#51742538", "title": "mocking stubs that return a void return type", "body": "<p>The line you are getting an error should be:</p>\n\n<pre><code>doNothing().`when`(constraintSet).clone(RuntimeEnvironment.application.baseContext, R.layout.fragment)\n</code></pre>\n\n<p>just like the example from the javadoc <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.21.0/org/mockito/Mockito.html#doNothing--\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>List list = new LinkedList();\nList spy = spy(list);\n\n//let's make clear() do nothing\ndoNothing().when(spy).clear();\n\nspy.add(\"one\");\n\n//clear() does nothing, so the list still contains \"one\"\nspy.clear();\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 0, "accepted_answer_id": 51742538, "answer_count": 1, "score": 1, "last_activity_date": 1533719929, "creation_date": 1533710700, "last_edit_date": 1533719929, "question_id": 51740142, "link": "https://stackoverflow.com/questions/51740142/mocking-stubs-that-return-a-void-return-type", "title": "mocking stubs that return a void return type", "body": "<p>I have the following class that I am trying to test. The method I am having problems with is the <code>showScollerView</code> as I am trying to stub/mock the behaviour and then verify the behaviour in the test.</p>\n\n<pre><code>class CustomScrollerView @JvmOverloads constructor(\n        context: Context,\n        attributeSet: AttributeSet? = null,\n        styleAttributes: Int = 0)\n    : ConstraintLayout(context, attributeSet, styleAttributes) {\n\n    private var fragment: ConstraintLayout by Delegates.notNull()\n    private var layoutResEnding: Int = 0\n    private val transition = ChangeBounds()\n    private val constraintSet = ConstraintSet()\n    private var isShowing = false\n\n    init {\n        View.inflate(context, R.layout.overview_scroller_view, this)\n        transition.interpolator = AccelerateInterpolator()\n        transition.duration = 300\n    }\n\n    fun &lt;L: ConstraintLayout&gt; setView(view: L) {\n        fragment = view\n    }\n\n    fun setLayoutResourceFinish(@LayoutRes id: Int) {\n        layoutResEnding = id\n    }\n\n    fun showScrollerView() {\n        constraintSet.clone(context, layoutResEnding)\n        TransitionManager.beginDelayedTransition(fragment, transition)\n        constraintSet.applyTo(fragment)\n        isShowing = true\n    }\n\n    fun isScrollViewShowing() = isShowing\n}\n</code></pre>\n\n<p>This is the test class</p>\n\n<pre><code>class CustomScrollerViewTest: RobolectricTest() {\n    @Mock\n    lateinit var constraintSet: ConstraintSet\n    @Mock\n    lateinit var constraintLayout: ConstraintLayout\n\n    private var customScrollerView: CustomScrollerView by Delegates.notNull()\n\n    @Before\n    fun setup() {\n        customScrollerView = CustomScrollerView(RuntimeEnvironment.application.baseContext)\n    }\n\n    @Test\n    fun `test that CustomScrollerView is not null`() {\n        assertThat(customScrollerView).isNotNull()\n    }\n\n    @Test\n    fun `test that the scrollerView is shown`() {\n        doNothing().`when`(constraintSet.clone(RuntimeEnvironment.application.baseContext, R.layout.fragment)) /* Error here */\n        doNothing().`when`(constraintSet).applyTo(constraintLayout)\n\n        customScrollerView.setLayoutResourceFinish(R.layout.fragment)\n        customScrollerView.setView(constraintLayout)\n        customScrollerView.showScrollerView()\n\n        assertThat(customScrollerView.isScrollViewShowing()).isEqualTo(true)\n        verify(constraintSet).applyTo(constraintLayout)\n        verify(constraintSet).clone(RuntimeEnvironment.application.baseContext, R.layout.fragment)\n    }\n}\n</code></pre>\n\n<p>I get the error on this line:</p>\n\n<pre><code>doNothing().when(constraintSet.clone(RuntimeEnvironment.application.baseContext, R.layout.fragment))\n</code></pre>\n\n<p>This is the actual error message:</p>\n\n<blockquote>\n  <p>Unfinished stubbing detected here:\n      -> at com.nhaarman.mockito_kotlin.MockitoKt.doNothing(Mockito.kt:108)</p>\n  \n  <p>E.g. thenReturn() may be missing.\n      Examples of correct stubbing:\n          when(mock.isOk()).thenReturn(true);\n          when(mock.isOk()).thenThrow(exception);\n          doThrow(exception).when(mock).someVoidMethod();\n      Hints:\n       1. missing thenReturn()\n       2. you are trying to stub a final method, which is not supported\n       3: you are stubbing the behaviour of another mock inside before 'thenReturn' instruction if completed</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3516, "user_id": 5110595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19aXD.jpg?s=128&g=1", "display_name": "Hemant Parmar", "link": "https://stackoverflow.com/users/5110595/hemant-parmar"}, "edited": false, "score": 0, "creation_date": 1533709500, "post_id": 51739816, "comment_id": 90439729, "body": "what&#39;s issue in your code?"}], "answers": [{"tags": [], "owner": {"reputation": 1167, "user_id": 3421034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76df5ceb658b9997fcddb108eb964086?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/3421034/saurabh"}, "is_accepted": false, "score": 6, "last_activity_date": 1533709927, "creation_date": 1533709927, "answer_id": 51739958, "question_id": 51739816, "link": "https://stackoverflow.com/questions/51739816/kotlin-check-if-null-and-cast-it-directly/51739958#51739958", "title": "Kotlin: Check if null and cast it directly", "body": "<p>you can use </p>\n\n<pre><code> (map[key] as? Int)?.let {\n\n }\n</code></pre>\n"}], "owner": {"reputation": 2516, "user_id": 8258130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b3104803b9c1f33541962147c6c660cb?s=128&d=identicon&r=PG&f=1", "display_name": "iori24", "link": "https://stackoverflow.com/users/8258130/iori24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1533709927, "creation_date": 1533709320, "question_id": 51739816, "link": "https://stackoverflow.com/questions/51739816/kotlin-check-if-null-and-cast-it-directly", "title": "Kotlin: Check if null and cast it directly", "body": "<p>In my android app, I have a map of <code>&lt;String, Any?&gt;</code> and the value of the key could be an Int or String or null.</p>\n\n<p>Currently, I do it like this:</p>\n\n<pre><code>map[key]?.let {\n    val value = it as Int\n    // use value here\n}\n</code></pre>\n\n<p>If there a way to have a shortcut like Swift</p>\n\n<pre><code>if let value = map[key] as? Int {\n\n}\n</code></pre>\n\n<p>So it's like a single line to check for nullity and cast it on the spot</p>\n"}, {"tags": ["android", "list", "loops", "for-loop", "kotlin"], "comments": [{"owner": {"reputation": 1167, "user_id": 3421034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76df5ceb658b9997fcddb108eb964086?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/3421034/saurabh"}, "edited": false, "score": 0, "creation_date": 1533708959, "post_id": 51739671, "comment_id": 90439476, "body": "you should use <code>val versions = mutableListOf(version_a, version_b, version_c)</code>"}, {"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "reply_to_user": {"reputation": 1167, "user_id": 3421034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76df5ceb658b9997fcddb108eb964086?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/3421034/saurabh"}, "edited": false, "score": 0, "creation_date": 1533709591, "post_id": 51739671, "comment_id": 90439779, "body": "This actually seams to be working :) Im such a schmuck."}], "answers": [{"comments": [{"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1533709476, "post_id": 51739762, "comment_id": 90439719, "body": "This probably works, but I don&#39;t want to make the lists mutable since they are part of a data model and thus will be passed around. My hope was that making them variables (var) i could override them with a new value.  Is my logic flawed?"}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "reply_to_user": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1533709684, "post_id": 51739762, "comment_id": 90439830, "body": "As you used <code>... version = mutableListOf() ...</code> I thought mutable lists are ok. Nevertheless as you want to change the lists I would consider mutable lists the better choice."}, {"owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "reply_to_user": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1533710466, "post_id": 51739762, "comment_id": 90440196, "body": "Added an example which works with immutable lists to my answer"}, {"owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1533716539, "post_id": 51739762, "comment_id": 90443672, "body": "Thanks for taking your time. I went with the last example and it works as intended. Thank you very much."}], "tags": [], "owner": {"reputation": 4522, "user_id": 101337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fae6fc1741623270471a080b705b1fa0?s=128&d=identicon&r=PG", "display_name": "Alexander Egger", "link": "https://stackoverflow.com/users/101337/alexander-egger"}, "is_accepted": true, "score": 2, "last_activity_date": 1533710439, "last_edit_date": 1533710439, "creation_date": 1533709086, "answer_id": 51739762, "question_id": 51739671, "link": "https://stackoverflow.com/questions/51739671/how-can-i-modify-elements-of-a-list-in-a-for-loop/51739762#51739762", "title": "How can i modify elements of a List in a for loop", "body": "<p>Instead of </p>\n\n<pre><code>var version_a = listOf(1)\n</code></pre>\n\n<p>use</p>\n\n<pre><code>val version_a = mutableListOf(1)\n</code></pre>\n\n<p>then in the <code>while</code>loop just change the list`s content</p>\n\n<pre><code>while(version.size &lt; 3) {  \n    version.add(0) \n    // or\n    versions[index].add(0) \n}\n</code></pre>\n\n<p>Here is the full example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    fun adjustLengthExample(versions: List&lt;MutableList&lt;Int&gt;&gt;){\n        for((index, version) in versions.withIndex()){\n            while(version.size &lt; 3){\n                version.add(0)\n                // or\n                //versions[index].add(0)\n            }\n        }\n    }\n\n    val version_a = mutableListOf(1)\n    val version_b = mutableListOf(1, 2)\n    val version_c = mutableListOf(1, 2, 3)\n    val versions = listOf(version_a, version_b, version_c)\n\n    adjustLengthExample(versions)\n\n    versions.forEach { println(it) } \n}\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>[1, 0, 0]\n[1, 2, 0]\n[1, 2, 3]\n</code></pre>\n\n<p>To do the same with immutable lists new lists have to be created and <code>adjustLengthExample</code> has to return the new list. Like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    fun adjustLengthExample(versions: List&lt;List&lt;Int&gt;&gt;): List&lt;List&lt;Int&gt;&gt; {\n        var result: List&lt;List&lt;Int&gt;&gt; = listOf()\n\n        for ((index, version) in versions.withIndex()) {\n            var newVersion: List&lt;Int&gt; = version\n            while (newVersion.size &lt; 3) {\n                newVersion += 0\n            }\n            result += listOf(newVersion)\n        }\n        return result\n    }\n\n    val version_a = listOf(1)\n    val version_b = listOf(1, 2)\n    val version_c = listOf(1, 2, 3)\n    var versions = listOf(version_a, version_b, version_c)\n\n    versions = adjustLengthExample(versions)\n\n    versions.forEach { println(it) } \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 2, "last_activity_date": 1533731230, "creation_date": 1533731230, "answer_id": 51746744, "question_id": 51739671, "link": "https://stackoverflow.com/questions/51739671/how-can-i-modify-elements-of-a-list-in-a-for-loop/51746744#51746744", "title": "How can i modify elements of a List in a for loop", "body": "<p>There's a much easier way to achieve that:</p>\n\n<pre><code>val versions = listOf(listOf(1), listOf(1, 2), listOf(1, 2, 3))\n\nval result = versions.map {\n    (it + listOf(0, 0, 0)).subList(0, 3)\n}\n\nprintln(result)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[1, 0, 0], [1, 2, 0], [1, 2, 3]]\n</code></pre>\n"}], "owner": {"reputation": 2124, "user_id": 6325119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10209015392040147/picture?type=large", "display_name": "Joel Brostr&#246;m", "link": "https://stackoverflow.com/users/6325119/joel-brostr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 1, "accepted_answer_id": 51739762, "answer_count": 2, "score": 0, "last_activity_date": 1533731230, "creation_date": 1533708674, "question_id": 51739671, "link": "https://stackoverflow.com/questions/51739671/how-can-i-modify-elements-of-a-list-in-a-for-loop", "title": "How can i modify elements of a List in a for loop", "body": "<p>I want to compare version names but to do so I have to conform them to the same standard, i.e. Major.Minor.Patch (1.3.21 for example).\nProblem is I can't change the element i'm iterating over.</p>\n\n<p>I store the versions as List and then all versions in another list that I pass as a variable to the following function.</p>\n\n<pre><code>var version_a = listOf(1)\nvar version_b = listOf(1, 2)\nvar version_c = listOf(1, 2, 3)\nval versions = listOf(version_a, version_b, version_c)\nadjustLengthExample(versions)\n\nfun adjustLengthExample(versions: List&lt;List&lt;Int&gt;&gt;){\n   for((index, version) in versions.withIndex()){\n      while(version.size &lt; 3){  \n         version = mutableListOf().addAll(version).add(0) //using element: Error Val cannot be reassigned\n\n         versions[index] = mutableListOf().addAll(version).add(0) //using indexed position: Error: No set method providing array access\n      }\n   }\n}\nversions.foreach(Log.d(TAG, it.toString())) //Expected output: [1,0,0][1,2,0][1,2,3]\n</code></pre>\n\n<p>How can I access version_a/b/c and set/change it's value?</p>\n"}, {"tags": ["android", "callback", "kotlin", "mqtt"], "comments": [{"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1533696589, "post_id": 51737834, "comment_id": 90436297, "body": "Does the <code>MqttAndroidClient</code> class have a method with that name and signature?"}, {"owner": {"reputation": 73, "user_id": 2780363, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5dc3953287cbb4d148edfb8699c27cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/2780363/noob"}, "reply_to_user": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1533696679, "post_id": 51737834, "comment_id": 90436308, "body": "yes, its the one in the mqttHelper that has the error"}, {"owner": {"reputation": 3908, "user_id": 2442831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02549a823af84370033c7389ec6f553f?s=128&d=identicon&r=PG", "display_name": "Lino", "link": "https://stackoverflow.com/users/2442831/lino"}, "edited": false, "score": 0, "creation_date": 1533727917, "post_id": 51737834, "comment_id": 90450868, "body": "@Noob any feedback after the answer below?"}], "answers": [{"comments": [{"owner": {"reputation": 3908, "user_id": 2442831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02549a823af84370033c7389ec6f553f?s=128&d=identicon&r=PG", "display_name": "Lino", "link": "https://stackoverflow.com/users/2442831/lino"}, "reply_to_user": {"reputation": 73, "user_id": 2780363, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5dc3953287cbb4d148edfb8699c27cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/2780363/noob"}, "edited": false, "score": 0, "creation_date": 1533847026, "post_id": 51740020, "comment_id": 90509370, "body": "@Noob you&#39;re welcome. Feel free to accept the answer if you think it is appropriate"}], "tags": [], "owner": {"reputation": 3908, "user_id": 2442831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02549a823af84370033c7389ec6f553f?s=128&d=identicon&r=PG", "display_name": "Lino", "link": "https://stackoverflow.com/users/2442831/lino"}, "is_accepted": true, "score": 2, "last_activity_date": 1533710150, "creation_date": 1533710150, "answer_id": 51740020, "question_id": 51737834, "link": "https://stackoverflow.com/questions/51737834/mqtt-unresolved-reference-android-studio/51740020#51740020", "title": "MQTT Unresolved Reference Android Studio", "body": "<p>You have to create a class, say <code>MqttHelper.kt</code>, like this:</p>\n\n<pre><code>class MqttHelper(context: Context) {\n\n    var mqttAndroidClient: MqttAndroidClient\n\n    init {\n        val serverUri = \"serverUri\"\n        val clientId = \"client-id\"\n        mqttAndroidClient = MqttAndroidClient(context, serverUri, clientId)\n        mqttAndroidClient.setCallback(object : MqttCallbackExtended {\n            override fun connectComplete(b: Boolean, s: String) {\n                Log.w(\"mqtt\", s)\n            }\n\n            override fun connectionLost(throwable: Throwable) {\n\n            }\n\n            @Throws(Exception::class)\n            override fun messageArrived(topic: String, mqttMessage: MqttMessage) {\n                Log.w(\"Mqtt\", mqttMessage.toString())\n            }\n\n            override fun deliveryComplete(iMqttDeliveryToken: IMqttDeliveryToken) {\n\n            }\n        })\n        mqttAndroidClient.connect()\n    }\n\n    fun setCallback(callback: MqttCallbackExtended) {\n        mqttAndroidClient.setCallback(callback)\n    }\n}\n</code></pre>\n\n<p>and from within your activity use</p>\n\n<pre><code>var mqttHelper = MqttHelper(this)\nmqttHelper.setCallback(...) \n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 2780363, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5dc3953287cbb4d148edfb8699c27cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/2780363/noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 51740020, "answer_count": 1, "score": 0, "last_activity_date": 1533710150, "creation_date": 1533695567, "last_edit_date": 1533696725, "question_id": 51737834, "link": "https://stackoverflow.com/questions/51737834/mqtt-unresolved-reference-android-studio", "title": "MQTT Unresolved Reference Android Studio", "body": "<p>I have some code I forked off of a website but I could not figure out how to fix this error: \"Unresolved Reference: setCallback\"</p>\n\n<p>Below is my code: </p>\n\n<pre><code>  fun MqttHelper(context: Context) {\n    mqttAndroidClient = MqttAndroidClient(context, serverUri, clientId)\n    mqttAndroidClient?.setCallback(object : MqttCallbackExtended {\n        override fun connectComplete(b: Boolean, s: String) {\n            Log.w(\"mqtt\", s)\n        }\n\n        override fun connectionLost(throwable: Throwable) {\n\n        }\n\n        @Throws(Exception::class)\n        override fun messageArrived(topic: String, mqttMessage: MqttMessage) {\n            Log.w(\"Mqtt\", mqttMessage.toString())\n        }\n\n        override fun deliveryComplete(iMqttDeliveryToken: IMqttDeliveryToken) {\n\n        }\n    })\n    connect()\n}\n\nfun setCallback(callback: MqttCallbackExtended) {\n    mqttAndroidClient.setCallback(callback)\n}\n\n\n //in onCreate()\n //This one has the error\n\n mqttHelper.setCallback(object : MqttCallbackExtended {\n        override fun connectComplete(b: Boolean, s: String) {\n\n        }\n\n        override fun connectionLost(throwable: Throwable) {\n\n        }\n\n        @Throws(Exception::class)\n        override fun messageArrived(topic: String, mqttMessage: MqttMessage) {\n            Log.w(\"Debug\", mqttMessage.toString())\n            dataReceived.setText(mqttMessage.toString())\n        }\n\n        override fun deliveryComplete(iMqttDeliveryToken: IMqttDeliveryToken) {\n\n        }\n    })\n</code></pre>\n\n<p>If anyone knows how to fix this that would be great, thank you. </p>\n"}, {"tags": ["kotlin", "quine"], "comments": [{"owner": {"reputation": 38158, "user_id": 2707792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hjDjB.png?s=128&g=1", "display_name": "Andrey Tyukin", "link": "https://stackoverflow.com/users/2707792/andrey-tyukin"}, "edited": false, "score": 2, "creation_date": 1533808713, "post_id": 51737573, "comment_id": 90486752, "body": "I&#39;m voting to close this question as off-topic because it belongs to <a href=\"https://codegolf.stackexchange.com/\">Programming Puzzles and Code Golf Stack Exchange</a>."}], "answers": [{"tags": [], "owner": {"reputation": 296, "user_id": 1380933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tFXt.png?s=128&g=1", "display_name": "Vadik", "link": "https://stackoverflow.com/users/1380933/vadik"}, "is_accepted": false, "score": -4, "last_activity_date": 1533693081, "creation_date": 1533693081, "answer_id": 51737574, "question_id": 51737573, "link": "https://stackoverflow.com/questions/51737573/shortest-quine-in-kotlin/51737574#51737574", "title": "Shortest quine in Kotlin?", "body": "<p>Here is a straightforward implementation in kotlin script:</p>\n\n<pre><code>val a=\"val a=%c%s%c%nprint(a.format(34,a,34))\"\nprint(a.format(34,a,34))\n</code></pre>\n\n<p>Tested with:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ kotlinc -script quine.kts &gt; out.kts\n$ diff -s quine.kts out.kts\nFiles quine.kts and out.kts are identical\n</code></pre>\n\n<p>Number of chars:</p>\n\n<pre><code>$ stat quine.kts\nSize: 71\n</code></pre>\n"}], "owner": {"reputation": 296, "user_id": 1380933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tFXt.png?s=128&g=1", "display_name": "Vadik", "link": "https://stackoverflow.com/users/1380933/vadik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1533765704, "creation_date": 1533693081, "last_edit_date": 1533765704, "question_id": 51737573, "link": "https://stackoverflow.com/questions/51737573/shortest-quine-in-kotlin", "title": "Shortest quine in Kotlin?", "body": "<p>What's the shortest <a href=\"https://en.wikipedia.org/wiki/Quine_(computing)\" rel=\"nofollow noreferrer\">quine</a> written in Kotlin language?</p>\n\n<p>See my implementation in answers, but I believe a shorter one exists.</p>\n"}, {"tags": ["android", "kotlin", "facebook-sdk-4.0"], "answers": [{"comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 1, "creation_date": 1533704470, "post_id": 51738848, "comment_id": 90437967, "body": "He has asked how to do it in kotlin. Please post it in kotlin."}, {"owner": {"reputation": 1300, "user_id": 3793986, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/duiOr.jpg?s=128&g=1", "display_name": "Bhavesh Rangani", "link": "https://stackoverflow.com/users/3793986/bhavesh-rangani"}, "reply_to_user": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1533705054, "post_id": 51738848, "comment_id": 90438126, "body": "@ManojPerumarath: I have updated the answer with kotlin code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2966167"}, "edited": false, "score": 0, "creation_date": 1533725017, "post_id": 51738848, "comment_id": 90449043, "body": "The app stopps running with this code and I don&#39;t get any errors. Maybe because I use the latest Facebook SDK 4.35.0 ? I tried to use 4.0 but can&#39;t, it breaks other libraries"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2966167"}, "edited": false, "score": 0, "creation_date": 1533725316, "post_id": 51738848, "comment_id": 90449222, "body": "Also there was unsolved reference: handleSignInResultFacebook so I commented it out, I don&#39;t know what else to do here"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2966167"}, "edited": false, "score": 0, "creation_date": 1533726552, "post_id": 51738848, "comment_id": 90450002, "body": "Ok now I just added what&#39;s inside onSuccess to my previous code and it worked, thanks! :D"}], "tags": [], "owner": {"reputation": 1300, "user_id": 3793986, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/duiOr.jpg?s=128&g=1", "display_name": "Bhavesh Rangani", "link": "https://stackoverflow.com/users/3793986/bhavesh-rangani"}, "is_accepted": true, "score": 9, "last_activity_date": 1533787014, "last_edit_date": 1533787014, "creation_date": 1533703954, "answer_id": 51738848, "question_id": 51736106, "link": "https://stackoverflow.com/questions/51736106/android-kotlin-facebook-login-get-user-data/51738848#51738848", "title": "Android Kotlin - Facebook Login - get user data", "body": "<p>Send GraphRequest usign <code>accessToken</code> and you will get json of your requested fields.</p>\n\n<p><strong>Updated into kotlin</strong></p>\n\n<pre><code>LoginManager.getInstance().registerCallback(callbackManager, object : FacebookCallback&lt;LoginResult&gt; {\n        override fun onSuccess(loginResult: LoginResult) {\n            Logger.d(\"FBLOGIN\", loginResult.accessToken.token.toString())\n            Logger.d(\"FBLOGIN\", loginResult.recentlyDeniedPermissions.toString())\n            Logger.d(\"FBLOGIN\", loginResult.recentlyGrantedPermissions.toString())\n\n\n            val request = GraphRequest.newMeRequest(loginResult.accessToken) { `object`, response -&gt;\n                try {\n                    //here is the data that you want\n                    Logger.d(\"FBLOGIN_JSON_RES\", `object`.toString())\n\n                    if (`object`.has(\"id\")) {\n                        handleSignInResultFacebook(`object`)\n                    } else {\n                        Logger.e(\"FBLOGIN_FAILD\", `object`.toString())\n                    }\n\n                } catch (e: Exception) {\n                    e.printStackTrace()\n                    dismissDialogLogin()\n                }\n            }\n\n            val parameters = Bundle()\n            parameters.putString(\"fields\", \"name,email,id,picture.type(large)\")\n            request.parameters = parameters\n            request.executeAsync()\n\n        }\n\n        override fun onCancel() {\n            Logger.e(\"FBLOGIN_FAILD\", \"Cancel\")\n        }\n\n        override fun onError(error: FacebookException) {\n            Logger.e(\"FBLOGIN_FAILD\", \"ERROR\", error)\n        }\n    })\n</code></pre>\n\n<p><strong>Old answer</strong> </p>\n\n<p>Here is the java code working for me</p>\n\n<pre><code>    LoginManager.getInstance().registerCallback(callbackManager, new FacebookCallback&lt;LoginResult&gt;() {\n        @Override\n        public void onSuccess(LoginResult loginResult) {\n            Logger.d(\"FBLOGIN\", String.valueOf(loginResult.getAccessToken().getToken()));\n            Logger.d(\"FBLOGIN\", String.valueOf(loginResult.getRecentlyDeniedPermissions().toString()));\n            Logger.d(\"FBLOGIN\", String.valueOf(loginResult.getRecentlyGrantedPermissions().toString()));\n\n\n            final GraphRequest request = GraphRequest.newMeRequest(loginResult.getAccessToken(), new GraphRequest.GraphJSONObjectCallback() {\n                @Override\n                public void onCompleted(JSONObject object, GraphResponse response) {\n                    try {\n                        //here is the data that you want\n                        Logger.d(\"FBLOGIN_JSON_RES\", String.valueOf(object));\n\n                        if (object.has(\"id\")) {\n                            handleSignInResultFacebook(object);\n                        } else {\n                            Logger.e(\"FBLOGIN_FAILD\", String.valueOf(object));\n                        }\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                        dismissDialogLogin();\n                    }\n                }\n            });\n\n            final Bundle parameters = new Bundle();\n            parameters.putString(\"fields\", \"name,email,id,picture.type(large)\");\n            request.setParameters(parameters);\n            request.executeAsync();\n\n        }\n\n        @Override\n        public void onCancel() {\n            Logger.e(\"FBLOGIN_FAILD\", \"Cancel\");\n        }\n\n        @Override\n        public void onError(FacebookException error) {\n            Logger.e(\"FBLOGIN_FAILD\", \"ERROR\", error);\n        }\n    });\n</code></pre>\n\n<p>convert into kotlin</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2966167"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6793, "favorite_count": 1, "accepted_answer_id": 51738848, "answer_count": 1, "score": 1, "last_activity_date": 1533787014, "creation_date": 1533679769, "last_edit_date": 1533712352, "question_id": 51736106, "link": "https://stackoverflow.com/questions/51736106/android-kotlin-facebook-login-get-user-data", "title": "Android Kotlin - Facebook Login - get user data", "body": "<p>I'm new in android developement and already searched for hours without finding the way how to get the damn user data after facebook login!</p>\n\n<p>This is the code:</p>\n\n<pre><code>private var callbackManager: CallbackManager? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_fb_connect)\n\n\n\n\n        // Login\n        callbackManager = CallbackManager.Factory.create()\n        LoginManager.getInstance().logInWithReadPermissions(this, Arrays.asList(\"public_profile\", \"email\"))\n        LoginManager.getInstance().registerCallback(callbackManager,\n                object : FacebookCallback&lt;LoginResult&gt; {\n                    override fun onSuccess(loginResult: LoginResult) {\n                        Log.d(\"letsSee\", \"Facebook token: \" + loginResult.accessToken.token)\n\n                    }\n\n                    override fun onCancel() {\n                        Log.d(\"letsSee\", \"Facebook onCancel.\")\n\n                    }\n\n                    override fun onError(error: FacebookException) {\n                        Log.d(\"letsSee\", \"Facebook onError.\")\n\n                    }\n                })\n\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    callbackManager?.onActivityResult(requestCode, resultCode, data)\n\n    Log.d(\"letsSee\", \"malsehnnnnnn: \" + data)\n}\n</code></pre>\n\n<p>The <code>Log.d(\"letsSee\", \"malsehnnnnnn: \" + data)</code> at the bottom gives: <code>malsehnnnnnn: Intent { (has extras) }</code></p>\n\n<p>Where is the damn data???? The facebook docs are weird and very poor!</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1533677627, "post_id": 51735652, "comment_id": 90432225, "body": "Do you ever call <code>notifyItemInserted()</code>, <code>notifyItemRemoved()</code>, or any other <code>notifyXYZ</code> methods that <b>aren&#39;t</b> just <code>notifyDataSetChanged()</code>?"}, {"owner": {"reputation": 171, "user_id": 9409320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6V296.jpg?s=128&g=1", "display_name": "nikolouzos", "link": "https://stackoverflow.com/users/9409320/nikolouzos"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1533678074, "post_id": 51735652, "comment_id": 90432362, "body": "The only notifyXYZ method that I call is the one you can see, i.e .<code>notifyDataSetChanged()</code>. @BenP."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 1, "creation_date": 1533678141, "post_id": 51735652, "comment_id": 90432390, "body": "Ah. Then my answer will probably not solve your problem. But it&#39;s still good to know about."}, {"owner": {"reputation": 171, "user_id": 9409320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6V296.jpg?s=128&g=1", "display_name": "nikolouzos", "link": "https://stackoverflow.com/users/9409320/nikolouzos"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1533679040, "post_id": 51735652, "comment_id": 90432673, "body": "I thought that since I know my rows wouldn&#39;t change position I could just use the <code>position</code> provided by <code>onBindViewHolder()</code> but I guess that was a wrong assumption. I also changed <code>notifyDataSetChanged()</code> to <code>notifyItemChanged(holder.adapterPosition)</code> and that seems to solve the problem partially. Now the rows get deselected then reselected and if I tap them a second time they work as expected... The rows seem to only work on the second tap for now... Any idea what that might be? Thank you for the great input @BenP.!"}], "answers": [{"comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 1, "creation_date": 1533679157, "post_id": 51735811, "comment_id": 90432704, "body": "It seems like this is the correct answer. All information about an item, including whether or not it is selected, should be stored with the <i>item</i>, not with the ViewHolder. ViewHolders will be re-used for different items, so you&#39;ll run into trouble if a &quot;selected&quot; view holder is reused for an &quot;unselected&quot; item."}, {"owner": {"reputation": 171, "user_id": 9409320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6V296.jpg?s=128&g=1", "display_name": "nikolouzos", "link": "https://stackoverflow.com/users/9409320/nikolouzos"}, "edited": false, "score": 0, "creation_date": 1533679253, "post_id": 51735811, "comment_id": 90432739, "body": "So you suggest I create an array that holds a boolean value for each <code>ViewHolder</code> in my <code>RecyclerView.Adapter</code> and change that instead?"}, {"owner": {"reputation": 1545, "user_id": 1578222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c24d237a81ffa1fec81b8dad44d86fef?s=128&d=identicon&r=PG", "display_name": "CodeSmith", "link": "https://stackoverflow.com/users/1578222/codesmith"}, "edited": false, "score": 1, "creation_date": 1533679709, "post_id": 51735811, "comment_id": 90432872, "body": "Basically yes.  I normally have an array of objects, each object holds all values a viewholder needs to setup the UI and the adapter does the work of updating the viewholders with the corresponding objects.  I normally store the object array where ever the adapter is stored but you should be able to store it in the adapter itself and get it to work too.  If the object array values change, you call the adapters update method with the array and then notifyDataSetChanged() or preferably notifyItemChanged() if only a single data object changed and you know the position (you do)."}], "tags": [], "owner": {"reputation": 1545, "user_id": 1578222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c24d237a81ffa1fec81b8dad44d86fef?s=128&d=identicon&r=PG", "display_name": "CodeSmith", "link": "https://stackoverflow.com/users/1578222/codesmith"}, "is_accepted": true, "score": 2, "last_activity_date": 1533678033, "creation_date": 1533678033, "answer_id": 51735811, "question_id": 51735652, "link": "https://stackoverflow.com/questions/51735652/recyclerview-multiple-selection-deselects-the-wrong-viewholders/51735811#51735811", "title": "RecyclerView multiple selection deselects the wrong ViewHolders", "body": "<p>Your ViewHolders get reused and will have their isOptionsSelected value reset to the default value (True) when this happens.  You need to store whether items are selected or not outside the ViewHolder class and get/load the value in your onBindViewHolder, probably store the value as part of the itemOptions objects.  Also, need to toggle the value of those objects (rather than the viewholder) from your onClickListeners.</p>\n"}, {"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1533678069, "creation_date": 1533678069, "answer_id": 51735820, "question_id": 51735652, "link": "https://stackoverflow.com/questions/51735652/recyclerview-multiple-selection-deselects-the-wrong-viewholders/51735820#51735820", "title": "RecyclerView multiple selection deselects the wrong ViewHolders", "body": "<p>This answer is based on the fact that you're doing something I know you're not supposed to do. It's possible that fixing this won't solve your issue, but it's still worth pointing out:</p>\n\n<p>The <code>position</code> argument to <code>onBindViewHolder()</code> should not be considered to be <code>final</code>. In other words, a view holder's position can change over time.</p>\n\n<p>Your posted code includes this:</p>\n\n<blockquote>\n<pre><code>holder.itemView.setOnClickListener {\n    clickListener.onItemClick(position, it)\n    notifyDataSetChanged()\n}\n</code></pre>\n</blockquote>\n\n<p>Imagine your view holder is initially bound for position <code>14</code>, and you then insert two rows at the beginning of the list. Your click listener will still call <code>onItemClick(14, it)</code>, but your <em>real</em> position is now <code>16</code>.</p>\n\n<p>You can solve this by using the the <code>getAdapterPosition()</code> method on <code>ViewHolder</code>. This will give you the live position instead of just the initial position:</p>\n\n<pre><code>holder.itemView.setOnClickListener {\n    clickListener.onItemClick(holder.getAdapterPosition(), it)\n    notifyDataSetChanged()\n}\n</code></pre>\n\n<p>For more info, see this Google IO presentation: <a href=\"https://www.youtube.com/watch?v=LqBlYJTfLP4&amp;feature=youtu.be&amp;t=43m10s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=LqBlYJTfLP4&amp;feature=youtu.be&amp;t=43m10s</a> (timestamped to 43:10, where they talk about this <code>position</code> problem).</p>\n"}], "owner": {"reputation": 171, "user_id": 9409320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6V296.jpg?s=128&g=1", "display_name": "nikolouzos", "link": "https://stackoverflow.com/users/9409320/nikolouzos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "accepted_answer_id": 51735811, "answer_count": 2, "score": 0, "last_activity_date": 1533678069, "creation_date": 1533677156, "question_id": 51735652, "link": "https://stackoverflow.com/questions/51735652/recyclerview-multiple-selection-deselects-the-wrong-viewholders", "title": "RecyclerView multiple selection deselects the wrong ViewHolders", "body": "<p>In my <code>ViewHolder</code> class I have added a boolean property called <code>isOptionSelected</code>. Basically, what this property does, is control whether a <code>ViewHolder</code> is selected or not. I have made it so, that all the options are selected by default.</p>\n\n<p>In my <code>OnBindViewHolder()</code> method I have an <code>onClickListener()</code> for the ViewHolder.itemView (which detects any clicks and calls an interface method called <code>OnItemClick()</code>): </p>\n\n<pre><code>   override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        // Set the text for the itemOption\n        val optionString = itemOptions[position]\n        holder.itemOption.text = optionString\n\n        // Set the click listener on the view of the holder and send its position\n        holder.itemView.setOnClickListener {\n            clickListener.onItemClick(position, it)\n            notifyDataSetChanged()\n        }\n\n        if (holder.isOptionSelected) {\n            properties[position] = itemOptions[position]\n            holder.itemView.setBackgroundColor(activity.resources.getColor(R.color.popup_window_background))\n        } else {\n            properties[position] = \"\"\n            holder.itemView.setBackgroundColor(activity.resources.getColor(R.color.icons))\n        }\n    }\n</code></pre>\n\n<p>This is my <code>OnItemClicked</code> interface:</p>\n\n<pre><code>// Interface to use on the main activity to detect clicks\ninterface OnItemClicked {\n    fun onItemClick(position: Int, view: View)\n}\n</code></pre>\n\n<p>This is the <code>OnItemClick()</code> method on the <code>MainActivity</code>:</p>\n\n<pre><code>override fun onItemClick(position: Int, view: View) {\n    val vh = menuItemRecyclerView.getChildViewHolder(view) as MeridesAndSaladsAdapter.ViewHolder\n    // Invert the boolean value that the vh item holds\n    vh.isOptionSelected = !vh.isOptionSelected\n}\n</code></pre>\n\n<p>And this is my <code>ViewHolder</code> class:</p>\n\n<pre><code>class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n    var itemOption: TextView = itemView!!.findViewById(R.id.meridesAndSaladsOption)\n    // All options are selected by default\n    var isOptionSelected: Boolean = true\n}\n</code></pre>\n\n<p>The problem is that when I am clicking on a <code>ViewHolder.itemView</code> the view that gets deselected is 1-2 rows above what I am tapping. After I deselect some rows and then try to select some of the deselected rows, the selections are, seemingly, random. What's more, sometimes when I deselect or select something, some extra rows get changed as well.</p>\n\n<p>Is there something I am missing? Or am I doing something horribly wrong?</p>\n"}, {"tags": ["android", "kotlin", "delegates"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533671049, "post_id": 51733825, "comment_id": 90429369, "body": "<code>due to configuration changes</code> and due to process death.  See <a href=\"https://stackoverflow.com/a/39785939/2413303\">stackoverflow.com/a/39785939/2413303</a>"}, {"owner": {"reputation": 45, "user_id": 7799729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d40c58ed141dab401becde6a3c7bea6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa\u0142 Ku\u017ami\u0144ski", "link": "https://stackoverflow.com/users/7799729/rafa%c5%82-ku%c5%bami%c5%84ski"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533712851, "post_id": 51733825, "comment_id": 90441500, "body": "Yes I tested that as well, still working on pixel, but I am not sure if there are some edge cases that can create other results"}], "answers": [{"comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1533695707, "post_id": 51734287, "comment_id": 90436131, "body": "So what happens when the android framework recreates your fragment and uses the default (no-arg) constructor?"}, {"owner": {"reputation": 45, "user_id": 7799729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d40c58ed141dab401becde6a3c7bea6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa\u0142 Ku\u017ami\u0144ski", "link": "https://stackoverflow.com/users/7799729/rafa%c5%82-ku%c5%bami%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1533712803, "post_id": 51734287, "comment_id": 90441469, "body": "Yea what will happen then? I tried to test it and my values weren&#39;t null but I just wanted to make sure. Framework uses reflection to create fragment? If it will call empty constructor then my someObject value would be null"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533713397, "post_id": 51734287, "comment_id": 90441841, "body": "I expanded my answer a bit. If you supplied default arguments, your object value would not be null."}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 2, "last_activity_date": 1533713370, "last_edit_date": 1533713370, "creation_date": 1533670801, "answer_id": 51734287, "question_id": 51733825, "link": "https://stackoverflow.com/questions/51733825/do-we-really-need-to-avoid-constructors-with-default-values-for-fragments-and-ac/51734287#51734287", "title": "Do we really need to avoid constructors with default values for Fragments and Activites in Kotlin?", "body": "<p>This is valid. The reason you're discouraged from overloading fragment constructors is that Android can recreate them, and it will use the default one: <code>MyFragment()</code></p>\n\n<p>But the way Kotlin implements default parameter values behind the scenes is by creating additional constructors. You can decompile your class and see it contains two constructors now, one receiving <code>someObject</code>, and another empty.</p>\n\n<p>From the JVM perspective the empty constructor would look like this:</p>\n\n<pre><code>public A() {\n  this(new SomeObjectImpl());\n}\n</code></pre>\n\n<p>Calling it will populate your fragment with new instances of implemented classes.</p>\n"}], "owner": {"reputation": 45, "user_id": 7799729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d40c58ed141dab401becde6a3c7bea6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa\u0142 Ku\u017ami\u0144ski", "link": "https://stackoverflow.com/users/7799729/rafa%c5%82-ku%c5%bami%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 51734287, "answer_count": 1, "score": 2, "last_activity_date": 1533713370, "creation_date": 1533668918, "last_edit_date": 1533669846, "question_id": 51733825, "link": "https://stackoverflow.com/questions/51733825/do-we-really-need-to-avoid-constructors-with-default-values-for-fragments-and-ac", "title": "Do we really need to avoid constructors with default values for Fragments and Activites in Kotlin?", "body": "<p>I am great fan of Kotlin and how it allows us to write better code. One of the best features is interface implementation delegation which looks like this:</p>\n\n<pre><code>class A(val someObject:SomeInterface) : SomeInterface by someObject\n</code></pre>\n\n<p><code>someObject</code> has to be singleton (object), has to be created using constructor after keyword <code>by</code> (but then you cannot reference to it, or maybe someone has idea how to do it?) or has to be provided in constructor.</p>\n\n<p>In Android messy and bad world we are discouraged to use constructors in fragments and activites due to configuration changes. But how about this:</p>\n\n<pre><code>class MyFragment(val someObject:SomeInterface = SomeObjectImpl()):Fragment,SomeInterface by someObject\n</code></pre>\n\n<p>I tried to change configuration and event I allowed system to kill my appliction and still, everything is looking ok, my object is creating again and again with my fragment. Is this valid, or am I missing something?\nHappy Kotlin everyone!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1533668902, "post_id": 51733552, "comment_id": 90428335, "body": "This is gonna be up for personal opinions, but to give mine, the <code>let</code> usage here looks completely unnecessary, I always use just <code>?.invoke()</code>."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 2, "creation_date": 1533675055, "post_id": 51733552, "comment_id": 90431226, "body": "If we&#39;re onto personal opinions, why not just make the lambda non-null and say <code>() -&gt; Unit = {}</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 21, "last_activity_date": 1533669752, "creation_date": 1533669752, "answer_id": 51734014, "question_id": 51733552, "link": "https://stackoverflow.com/questions/51733552/how-do-i-idiomatically-call-a-nullable-lambda-in-kotlin/51734014#51734014", "title": "How do I idiomatically call a nullable lambda in Kotlin?", "body": "<p>Let's ask Kotlin compiler:</p>\n\n<pre><code> val lambda: (() -&gt; Unit)? = null    \n lambda()\n</code></pre>\n\n<p>Compilers says:</p>\n\n<pre><code>Reference has a nullable type '(() -&gt; Unit)?', use explicit '?.invoke()' to make a function-like call instead\n</code></pre>\n\n<p>So yeah, seems that <code>?.invoke()</code> is the way to go.</p>\n\n<p>Although even this seems fine by me (and by compiler too):</p>\n\n<pre><code> if (lambda != null) {\n      lambda()     \n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 10939108, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MVVWu.jpg?s=128&g=1", "display_name": "Yunus Emre", "link": "https://stackoverflow.com/users/10939108/yunus-emre"}, "is_accepted": false, "score": 0, "last_activity_date": 1595948239, "creation_date": 1595948239, "answer_id": 63137074, "question_id": 51733552, "link": "https://stackoverflow.com/questions/51733552/how-do-i-idiomatically-call-a-nullable-lambda-in-kotlin/63137074#63137074", "title": "How do I idiomatically call a nullable lambda in Kotlin?", "body": "<p>Here is a simple example:</p>\n<pre><code>fun takeThatFunction(nullableFun: (() -&gt; Unit)?) {\n    nullableFun?.let { it() }\n}\n\ntakeThatFunction { print(&quot;yo!&quot;) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7065, "user_id": 4017501, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-Mk9ZAlByQdc/AAAAAAAAAAI/AAAAAAAAAD8/TKM32IE8Mxs/photo.jpg?sz=128", "display_name": "cutiko", "link": "https://stackoverflow.com/users/4017501/cutiko"}, "is_accepted": false, "score": 0, "last_activity_date": 1600107017, "creation_date": 1600107017, "answer_id": 63889677, "question_id": 51733552, "link": "https://stackoverflow.com/questions/51733552/how-do-i-idiomatically-call-a-nullable-lambda-in-kotlin/63889677#63889677", "title": "How do I idiomatically call a nullable lambda in Kotlin?", "body": "<p>An alias on this case could be a more expressive approach</p>\n<pre><code>typealias TheNameOFYourCallback = ()-&gt; Unit\n\nclass Something {\n\n    private var callback: TheNameOFYourCallback? = null\n\n    fun setTheCallback(callback: TheNameOFYourCallback) {\n        this.callback = callback\n    }\n\n    private fun usageOfCallback() {\n        callack?.invoke()\n    }\n\n}\n</code></pre>\n<p>And then for using</p>\n<pre><code>val something = Something()\nsomething.setTheCallback {\n    //Do your thing\n}\n</code></pre>\n<p>Off course, the <code>var</code> could have been not <code>private</code> but in this way setting the callback can take advantage of the syntactic sugar of lambdas for methods, otherwise, the assignation form seems odd to me, judge by your self:</p>\n<pre><code>something.callback = {\n    //Do your thing\n}\n</code></pre>\n"}], "owner": {"reputation": 11149, "user_id": 706628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/NICFY.jpg?s=128&g=1", "display_name": "Barry Fruitman", "link": "https://stackoverflow.com/users/706628/barry-fruitman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2741, "favorite_count": 1, "accepted_answer_id": 51734014, "answer_count": 3, "score": 15, "last_activity_date": 1600107017, "creation_date": 1533667792, "last_edit_date": 1533667974, "question_id": 51733552, "link": "https://stackoverflow.com/questions/51733552/how-do-i-idiomatically-call-a-nullable-lambda-in-kotlin", "title": "How do I idiomatically call a nullable lambda in Kotlin?", "body": "<p>Given the following lambda:</p>\n\n<pre><code>val lambda: () -&gt; Unit = null\n</code></pre>\n\n<p>Which of the following calls is idomatic to Kotlin for calling a nullable lambda?</p>\n\n<pre><code>lambda?.let { it() }\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>lambda?.invoke()\n</code></pre>\n"}, {"tags": ["arrays", "kotlin"], "comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 0, "creation_date": 1533664555, "post_id": 51732707, "comment_id": 90426214, "body": "try <code>arrayOf()</code> instad."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1533664603, "creation_date": 1533664603, "answer_id": 51732783, "question_id": 51732707, "link": "https://stackoverflow.com/questions/51732707/kotlin-initial-an-array-for-custom-class-object/51732783#51732783", "title": "Kotlin - initial an array for custom class object", "body": "<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/-init-.html\" rel=\"noreferrer\"><code>Array</code> constructor</a> you're using takes a size and a lambda that creates an element for each index, for example you could use it like this (pretending that <code>AudioItem</code> takes an <code>Int</code> parameter):</p>\n\n<pre><code>var items: Array&lt;AudioItem&gt; = Array&lt;AudioItem&gt;(0) { index -&gt; AudioItem(index) }\n</code></pre>\n\n<p>But to create an empty <code>Array</code>, you can just use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/array-of.html\" rel=\"noreferrer\"><code>arrayOf</code></a>:</p>\n\n<pre><code>var items: Array&lt;AudioItem&gt; = arrayOf()\n</code></pre>\n\n<p>Or simply <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/empty-array.html\" rel=\"noreferrer\"><code>emptyArray</code></a>:</p>\n\n<pre><code>var items: Array&lt;AudioItem&gt; = emptyArray()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 6806787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DA7Gscb8GcA/AAAAAAAAAAI/AAAAAAAAAEc/BGsdeHaAvLo/photo.jpg?sz=128", "display_name": "natonomo", "link": "https://stackoverflow.com/users/6806787/natonomo"}, "is_accepted": false, "score": 0, "last_activity_date": 1533670769, "creation_date": 1533670769, "answer_id": 51734277, "question_id": 51732707, "link": "https://stackoverflow.com/questions/51732707/kotlin-initial-an-array-for-custom-class-object/51734277#51734277", "title": "Kotlin - initial an array for custom class object", "body": "<p>The simplest way with an initial size of 0 is with <code><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/empty-array.html\" rel=\"nofollow noreferrer\">emptyArray</a></code>:</p>\n\n<pre><code>var items = emptyArray&lt;AudioItem&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 6160632, "user_type": "registered", "profile_image": "https://graph.facebook.com/1104682972927372/picture?type=large", "display_name": "Dmitry Ivanov", "link": "https://stackoverflow.com/users/6160632/dmitry-ivanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1617210477, "creation_date": 1617210477, "answer_id": 66892232, "question_id": 51732707, "link": "https://stackoverflow.com/questions/51732707/kotlin-initial-an-array-for-custom-class-object/66892232#66892232", "title": "Kotlin - initial an array for custom class object", "body": "<p>If you want to initialize by different known objects</p>\n<pre><code>        var myData = arrayOf(\n           AudioItem(&quot;Tartak&quot;, &quot;Song 1&quot;, 3.52),\n           AudioItem(&quot;Topolsky&quot;, &quot;Song 2&quot;, 5.7)\n        )\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 6413985, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8b22c5acfdde4162d18b2484c9495d56?s=128&d=identicon&r=PG&f=1", "display_name": "Wilfred", "link": "https://stackoverflow.com/users/6413985/wilfred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3903, "favorite_count": 1, "accepted_answer_id": 51732783, "answer_count": 3, "score": 3, "last_activity_date": 1617210477, "creation_date": 1533664326, "question_id": 51732707, "link": "https://stackoverflow.com/questions/51732707/kotlin-initial-an-array-for-custom-class-object", "title": "Kotlin - initial an array for custom class object", "body": "<p>I am a beginner of Kotlin. I would like to initial an empty custom class array. Most Kotlin tutorials focus on primitive types Array, but not custom class Array.</p>\n\n<p>I have tried the following, but it failed to work.</p>\n\n<pre><code>class MyAudioPlayer {\n\n    // Error\n    // Type mismatch: inferred type is Unit but AudioItem was expected.    \n    var items: Array&lt;AudioItem&gt; = Array&lt;AudioItem&gt;(0) {}\n\n    ......\n}\n</code></pre>\n\n<p>Any suggestions? Thanks</p>\n"}, {"tags": ["syntax", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "edited": false, "score": 0, "creation_date": 1533665822, "post_id": 51732658, "comment_id": 90426813, "body": "Thanks! Another thing i wanted to know was if I&#39;m doing a x[1] would it compile at all differently from x.get(1) ?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "edited": false, "score": 2, "creation_date": 1533665910, "post_id": 51732658, "comment_id": 90426861, "body": "You can use Ctrl+click or Ctrl+B on <code>[]</code> and you&#39;ll see that it jumps straight to the <code>get</code> function, so no, there is no difference between the two. (You can also check the bytecode, using the <code>Show Kotlin Bytecode</code> action)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1533664458, "last_edit_date": 1533664458, "creation_date": 1533664152, "answer_id": 51732658, "question_id": 51732528, "link": "https://stackoverflow.com/questions/51732528/why-cant-nullable-arrays-hashmaps-be-accessed-using/51732658#51732658", "title": "Why cant nullable arrays/hashmaps be accessed using []", "body": "<p>In the first example, you're using the safe call operator <code>?.</code> to call the <code>get</code> function with it.</p>\n\n<p>In the second example, you're using the <code>[]</code> operator on the non-nullable return value of the <code>x!!</code> expression, which of course is allowed.</p>\n\n<p>However, the language simply doesn't have a <code>?[]</code> operator, which would be the combination of the two. The other operators offered are also don't have null-safe variants: there's no <code>?+</code> or <code>?&amp;&amp;</code> or anything like that. This is just a design decision by the language creators. (The full list of available operators is <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html#operators-and-special-symbols\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>If you want to use operators, you need to call them on non-nullable expressions - only functions get the convenience of the safe call operator.</p>\n\n<hr>\n\n<p>You could also define your own operator as an extension of the nullable type:</p>\n\n<pre><code>operator fun &lt;T&gt; List&lt;T&gt;?.get(index: Int) = this?.get(index)\n\nval x: ArrayList&lt;String&gt;? = null\n\nval second = x[2] // null\n</code></pre>\n\n<p>This would get you a neater syntax, but it hides the underlying null handling, and might confuse people who don't expect this custom extension on collections.</p>\n"}], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 51732658, "answer_count": 1, "score": 2, "last_activity_date": 1533664458, "creation_date": 1533663623, "question_id": 51732528, "link": "https://stackoverflow.com/questions/51732528/why-cant-nullable-arrays-hashmaps-be-accessed-using", "title": "Why cant nullable arrays/hashmaps be accessed using []", "body": "<p>When I have a nullable array/list/hashmap such as</p>\n\n<pre><code>var x: ArrayList&lt;String&gt;? = null\n</code></pre>\n\n<p>I know can access the element at index 1 like so</p>\n\n<pre><code>var element = x?.get(1)\n</code></pre>\n\n<p>or I could do it in a unsafe way like this</p>\n\n<pre><code>var element = x!![1]\n</code></pre>\n\n<p>but why can't I do something like this</p>\n\n<pre><code>var element = x?[1]\n</code></pre>\n\n<p>what's the difference between getting elements from an array using the first example and the last example, and why is the last example not allowed?</p>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1533661847, "post_id": 51731979, "comment_id": 90425009, "body": "Did you build your project after configuring <code>kapt</code>? Your first build will of course fail, but it should generate the Dagger class for you to import and use from there on."}, {"owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1533661980, "post_id": 51731979, "comment_id": 90425077, "body": "yes, I`ve rebuild the project several times after"}, {"owner": {"reputation": 12184, "user_id": 3544839, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PH19M.jpg?s=128&g=1", "display_name": "Moinkhan", "link": "https://stackoverflow.com/users/3544839/moinkhan"}, "edited": false, "score": 0, "creation_date": 1533701841, "post_id": 51731979, "comment_id": 90437311, "body": "have you add <code>apply plugin: &#39;kotlin-kapt&#39;</code>, because kapt is deprecated in default gradle. So you need to add mentioned plugin in order to kapt needs to work."}, {"owner": {"reputation": 416, "user_id": 4377624, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222685316/picture?type=large", "display_name": "O&#39;Kamiye", "link": "https://stackoverflow.com/users/4377624/okamiye"}, "edited": false, "score": 0, "creation_date": 1542029630, "post_id": 51731979, "comment_id": 93410662, "body": "Just to add a small note on this issue, remember to check everywhere you have <code>@Inject</code> in your app. Note that you cannot inject into private fields. If you have <code>@Inject private lateinit var ...</code> you&#39;ll have this error even if your components and modules have been properly setup."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 0, "last_activity_date": 1533666019, "creation_date": 1533666019, "answer_id": 51733151, "question_id": 51731979, "link": "https://stackoverflow.com/questions/51731979/kotlin-unresolved-reference-daggernamecomponent/51733151#51733151", "title": "Kotlin - Unresolved reference: Dagger{Name}Component", "body": "<p>Putting this code in the <code>MyApplication</code> class works for me to create the module starting off from your GitHub project - after the first failed build, <code>kapt</code> generates the <code>DaggerHelloComponent</code> class, and I can import it.</p>\n\n<pre><code>import android.app.Application\nimport br.com.squarebits.mvpexample.DaggerMvp.componentes.DaggerHelloComponent\nimport br.com.squarebits.mvpexample.DaggerMvp.componentes.HelloComponent\nimport br.com.squarebits.mvpexample.DaggerMvp.modules.HelloModule\n\nclass MyApplication : Application() {\n\n    val component: HelloComponent by lazy {\n        DaggerHelloComponent.builder()\n                .helloModule(HelloModule(HelloActivityDagger()))\n                .build()\n    }\n\n}\n</code></pre>\n\n<p>If this is not happening at all, you should try the usual debugging steps of restarting Studio with <code>File -&gt; Invalidate Caches / Restart</code>, cleaning and rebuilding your project, etc. Perhaps try pulling the GitHub repo to a new location and see if that builds for you - the code isn't the problem.</p>\n"}], "owner": {"reputation": 764, "user_id": 5613246, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/68e57d509198303dce2361d3a8325a54?s=128&d=identicon&r=PG&f=1", "display_name": "LMaker", "link": "https://stackoverflow.com/users/5613246/lmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533666019, "creation_date": 1533661330, "last_edit_date": 1533662478, "question_id": 51731979, "link": "https://stackoverflow.com/questions/51731979/kotlin-unresolved-reference-daggernamecomponent", "title": "Kotlin - Unresolved reference: Dagger{Name}Component", "body": "<p>I'm learning how to use <code>Dagger 2</code> and <code>MVP</code> architeture.</p>\n\n<p>But I'm stuck in this error now:</p>\n\n<blockquote>\n  <p>Unresolved reference: DaggerHelloComponent</p>\n</blockquote>\n\n<p>Look, this is my module: </p>\n\n<pre><code>@Module\nclass HelloModule {\n    lateinit var activityDagger: HelloActivityDagger\n\n    constructor(activityDagger: HelloActivityDagger) {\n        this.activityDagger = activityDagger\n    }\n\n    @Provides\n    fun providesHelloPresenter(): HelloActivityPresenterDagger = HelloActivityPresenterDagger(activityDagger)\n}\n</code></pre>\n\n<p>and my component:</p>\n\n<pre><code>@Component(modules = [HelloModule::class])\ninterface HelloComponent {\n    fun inject(activityDagger: HelloActivityDagger)\n}\n</code></pre>\n\n<p>So when I try to builder this component like this <code>DaggerHelloComponent.create().inject(this)</code> in my <code>HelloActivityDagger</code> shows me the error above.</p>\n\n<p>Anyone know what I am doing wrong?</p>\n\n<p>Cause I can see whats wrong in this code.</p>\n\n<p>Oh, I already have followed this <code>kapt</code> things from this question <a href=\"https://stackoverflow.com/questions/38833242/unresolved-reference-daggerapplicationcomponent\">Unresolved reference DaggerApplicationComponent</a> and nothing happens</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To be more readable I`ve uploaded my project to Git. <a href=\"https://github.com/luangs7/DaggerMvpExample\" rel=\"nofollow noreferrer\">https://github.com/luangs7/DaggerMvpExample</a></p>\n"}, {"tags": ["android", "google-maps", "kotlin", "marker"], "comments": [{"owner": {"reputation": 2622, "user_id": 1834967, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fdxei.jpg?s=128&g=1", "display_name": "Felix Guo", "link": "https://stackoverflow.com/users/1834967/felix-guo"}, "edited": false, "score": 2, "creation_date": 1533665267, "post_id": 51731790, "comment_id": 90426555, "body": "You can generate a bitmap on the fly with the different numbers using bitmap  and canvas operations. Android canvases include a Canvas.drawText function that may help. Check out something like this: <a href=\"https://android.okhelp.cz/create-bitmap-and-draw-text-into-bitmap-android-example/\" rel=\"nofollow noreferrer\">android.okhelp.cz/&hellip;</a>"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "reply_to_user": {"reputation": 2622, "user_id": 1834967, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fdxei.jpg?s=128&g=1", "display_name": "Felix Guo", "link": "https://stackoverflow.com/users/1834967/felix-guo"}, "edited": false, "score": 0, "creation_date": 1533666641, "post_id": 51731790, "comment_id": 90427199, "body": "thank you Felix Guo, would you happen to know how I can implement that in google maps? because I have to addmarker(..).addicon where I need to add the bitmap with the path"}, {"owner": {"reputation": 2622, "user_id": 1834967, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fdxei.jpg?s=128&g=1", "display_name": "Felix Guo", "link": "https://stackoverflow.com/users/1834967/felix-guo"}, "edited": false, "score": 1, "creation_date": 1533666975, "post_id": 51731790, "comment_id": 90427377, "body": "You can create a Bitmap object based on a resource using <code>BitmapFactory.decodeResource</code> which will give you the base. Then you can bind it to a <code>Canvas</code> and use <code>Canvas.drawText</code> to draw the number you want on top of the base image. Then you can just use something like: <code>marker...icon(BitmapDescriptorFactory.fromBitmap(bitmapHere)&zwnj;&#8203;)</code> <a href=\"https://developers.google.com/maps/documentation/android-sdk/marker#customize_the_marker_image\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/android-sdk/&hellip;</a>"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533660562, "creation_date": 1533660562, "question_id": 51731790, "link": "https://stackoverflow.com/questions/51731790/how-to-write-on-an-icon-in-kotlin", "title": "How to write on an icon in kotlin", "body": "<p>I want to add Icons to googlemaps as markers and then want to write a number over them. Because I want to implement a lot of the icon marker and most need a different number to be displayed and it would be too inefficient to make so many different icons beforehand. Has anyone an idea how I can accomplish that?</p>\n"}, {"tags": ["string", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 1, "creation_date": 1533668639, "post_id": 51731574, "comment_id": 90428212, "body": "&quot;but it doesn&#39;t seem to work the desired way.&quot; How? What came out of it?"}, {"owner": {"reputation": 135, "user_id": 7629846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3befef30efe60241282e37bae81bf73?s=128&d=identicon&r=PG&f=1", "display_name": "Rebronja", "link": "https://stackoverflow.com/users/7629846/rebronja"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1533674805, "post_id": 51731574, "comment_id": 90431121, "body": "Sorry. I forgot to cast regular expression to regex. Basically what I meant by it is that I lack any experience working with normalizer and thus have little to no idea what I am talking about."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 7629846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3befef30efe60241282e37bae81bf73?s=128&d=identicon&r=PG&f=1", "display_name": "Rebronja", "link": "https://stackoverflow.com/users/7629846/rebronja"}, "edited": false, "score": 0, "creation_date": 1533674851, "post_id": 51732526, "comment_id": 90431145, "body": "Thank you for the answer. This is a great workaround the whole normalizer thing."}, {"owner": {"reputation": 159, "user_id": 4917907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3_ORmetGvxk/AAAAAAAAAAI/AAAAAAAAC5U/vYMWFVYpqPo/photo.jpg?sz=128", "display_name": "Ronan", "link": "https://stackoverflow.com/users/4917907/ronan"}, "edited": false, "score": 0, "creation_date": 1552688767, "post_id": 51732526, "comment_id": 97121233, "body": "I ended up using this solution because the Normalizer one has no effect on the &#216; character, which I wanted to convert to an O."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 4, "last_activity_date": 1533663619, "creation_date": 1533663619, "answer_id": 51732526, "question_id": 51731574, "link": "https://stackoverflow.com/questions/51731574/removing-accents-and-diacritics-in-kotlin/51732526#51732526", "title": "Removing accents and diacritics in kotlin", "body": "<p>This is an extension function you can use and extend further:  <br/></p>\n\n<pre><code>fun String.normalize(): String {\n    val original = arrayOf(\"\u0119\", \"\u0161\")\n    val normalized =  arrayOf(\"e\", \"s\")\n\n    return this.map { it -&gt;\n        val index = original.indexOf(it.toString())\n        if (index &gt;= 0) normalized[index] else it\n    }.joinToString(\"\")\n}\n</code></pre>\n\n<p>Use it like this:  <br/></p>\n\n<pre><code>val originalText = \"a\u0119b\u0161c\"\nval normalizedText = originalText.normalize()\nprintln(normalizedText)\n</code></pre>\n\n<p>will print  <br/></p>\n\n<p><code>aebsc</code></p>\n\n<p>Extend the arrays <code>original</code> and <code>normalized</code> with as many elements as you need.  <br/></p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 7629846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3befef30efe60241282e37bae81bf73?s=128&d=identicon&r=PG&f=1", "display_name": "Rebronja", "link": "https://stackoverflow.com/users/7629846/rebronja"}, "edited": false, "score": 0, "creation_date": 1533674707, "post_id": 51734018, "comment_id": 90431072, "body": "Thank you. This is exactly what I was looking for."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": true, "score": 33, "last_activity_date": 1533669760, "creation_date": 1533669760, "answer_id": 51734018, "question_id": 51731574, "link": "https://stackoverflow.com/questions/51731574/removing-accents-and-diacritics-in-kotlin/51734018#51734018", "title": "Removing accents and diacritics in kotlin", "body": "<p>Normalizer only does half the work. Here's how you could use it:</p>\n\n<pre><code>private val REGEX_UNACCENT = \"\\\\p{InCombiningDiacriticalMarks}+\".toRegex()\n\nfun CharSequence.unaccent(): String {\n    val temp = Normalizer.normalize(this, Normalizer.Form.NFD)\n    return REGEX_UNACCENT.replace(temp, \"\")\n}\n\nassert(\"\u00e1\u00e9\u00ed\u00f3\u016f\".unaccent() == \"aeiou\")\n</code></pre>\n\n<p>And here's how it works:</p>\n\n<blockquote>\n  <p>We are calling the normalize(). If we pass <strong>\u00e0</strong>, the method returns <strong>a + `</strong> . Then using a regular expression, we clean up the string to keep only valid US-ASCII characters.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://www.rgagnon.com/javadetails/java-0456.html\" rel=\"noreferrer\">http://www.rgagnon.com/javadetails/java-0456.html</a></p>\n\n<p>Note that <code>Normalizer</code> is a Java class; this is not pure Kotlin and it will only work on JVM.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 8945078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215398012164405/picture?type=large", "display_name": "Thiago Silva", "link": "https://stackoverflow.com/users/8945078/thiago-silva"}, "is_accepted": false, "score": -1, "last_activity_date": 1564925548, "creation_date": 1564925548, "answer_id": 57346973, "question_id": 51731574, "link": "https://stackoverflow.com/questions/51731574/removing-accents-and-diacritics-in-kotlin/57346973#57346973", "title": "Removing accents and diacritics in kotlin", "body": "<p>In case anyone is strugling to do this in kotlin, this code works like a charm.\nTo avoid inconsistencies I also use .toUpperCase and Trim(). then i cast this function:</p>\n\n<pre><code>fun stripAccents(s: String):String{\n\nif (s == null) {\n        return \"\";\n    }\n\n    val chars: CharArray = s.toCharArray()\n\n    var sb = StringBuilder(s)\n    var cont: Int = 0\n\n    while (chars.size &gt; cont) {\n        var c: kotlin.Char\n        c = chars[cont]\n        var c2:String = c.toString()\n       //these are my needs, in case you need to convert other accents just Add new entries aqui\n        c2 = c2.replace(\"\u00c3\", \"A\")\n        c2 = c2.replace(\"\u00d5\", \"O\")\n        c2 = c2.replace(\"\u00c7\", \"C\")\n        c2 = c2.replace(\"\u00c1\", \"A\")\n        c2 = c2.replace(\"\u00d3\", \"O\")\n        c2 = c2.replace(\"\u00ca\", \"E\")\n        c2 = c2.replace(\"\u00c9\", \"E\")\n        c2 = c2.replace(\"\u00da\", \"U\")\n\n        c = c2.single()\n        sb.setCharAt(cont, c)\n        cont++\n\n    }\n\n    return sb.toString()\n\n}\n</code></pre>\n\n<p>to use these fun cast the code like this:</p>\n\n<pre><code>var str: String\nstr = editText.text.toString() //get the text from EditText\nstr = str.toUpperCase().trim()\n\nstr = stripAccents(str) //call the function\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6835, "user_id": 6305235, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kEy0G.jpg?s=128&g=1", "display_name": "David Miguel", "link": "https://stackoverflow.com/users/6305235/david-miguel"}, "is_accepted": false, "score": 4, "last_activity_date": 1598014774, "creation_date": 1598014774, "answer_id": 63523402, "question_id": 51731574, "link": "https://stackoverflow.com/questions/51731574/removing-accents-and-diacritics-in-kotlin/63523402#63523402", "title": "Removing accents and diacritics in kotlin", "body": "<p><strong>TL;DR:</strong></p>\n<ol>\n<li>Use <code>Normalizer</code> to canonically decomposed the Unicode thext.</li>\n<li>Remove non-spacing combining characters (<code>\\p{Mn}</code>).</li>\n</ol>\n<hr />\n<pre><code>fun String.removeNonSpacingMarks() =\n    Normalizer.normalize(this, Normalizer.Form.NFD)\n    .replace(&quot;\\\\p{Mn}+&quot;.toRegex(), &quot;&quot;)\n</code></pre>\n<hr />\n<p><strong>Long answer:</strong></p>\n<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/Normalizer.html\" rel=\"noreferrer\">Normalizer</a> you can transform the original text into an equivalent composed or decomposed form.</p>\n<ul>\n<li>NFD: Canonical decomposition.</li>\n<li>NFC: Canonical decomposition, followed by canonical composition.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/jgDmE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jgDmE.png\" alt=\"Canonical Composites\" /></a>.<br />\n(more info about normalization can be found in the <a href=\"https://unicode.org/reports/tr15/\" rel=\"noreferrer\">Unicode\u00ae Standard Annex #15</a>)</p>\n<p>In our case, we are interested in NFD normalization form because it allows us to separate all the combined characters from the base character.</p>\n<p>After decomposing the text, we have to run a regex to remove all the new characters resulting from the decomposition that correspond to combined characters.</p>\n<p>Combined characters are special characters intended to be positioned relative to an associated base character. The Unicode Standard distinguishes two types of combining characters: spacing and nonspacing.</p>\n<p>We are only interested in non-spacing combining characters. Diacritics are the principal class (but not the only one) of this group used with Latin, Greek, and Cyrillic scripts and their relatives.</p>\n<p>To remove non-spacing characters with a regex we have to use <code>\\p{Mn}</code>. This group includes <a href=\"https://www.compart.com/en/unicode/category/Mn\" rel=\"noreferrer\">all the 1,826 non-spacing characters</a>.</p>\n<p>Other answers uses <code>\\p{InCombiningDiacriticalMarks}</code>, this block only includes combining diacritical marks. It is a <strong>subset</strong> of <code>\\p{Mn}</code> that includes only <a href=\"https://www.compart.com/en/unicode/block/U+0300\" rel=\"noreferrer\">112 characters</a>.</p>\n"}], "owner": {"reputation": 135, "user_id": 7629846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3befef30efe60241282e37bae81bf73?s=128&d=identicon&r=PG&f=1", "display_name": "Rebronja", "link": "https://stackoverflow.com/users/7629846/rebronja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5259, "favorite_count": 2, "accepted_answer_id": 51734018, "answer_count": 4, "score": 13, "last_activity_date": 1598014774, "creation_date": 1533659696, "question_id": 51731574, "link": "https://stackoverflow.com/questions/51731574/removing-accents-and-diacritics-in-kotlin", "title": "Removing accents and diacritics in kotlin", "body": "<p>Is there any way to convert string like 'Dzi\u0119kuj\u0119' to 'Dziekuje' or '\u0161e\u0107er' to 'secer' in kotlin. I have tried using java.text.Normalizer but it doesn't seem to work the desired way.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "comments": [{"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 0, "creation_date": 1533659827, "post_id": 51731479, "comment_id": 90424004, "body": "Plz share gradle files @345"}, {"owner": {"reputation": 1238, "user_id": 7961110, "user_type": "registered", "profile_image": "https://graph.facebook.com/1450092395047988/picture?type=large", "display_name": "Sushant Somani", "link": "https://stackoverflow.com/users/7961110/sushant-somani"}, "edited": false, "score": 0, "creation_date": 1533660675, "post_id": 51731479, "comment_id": 90429867, "body": "Have you put SHA key in firebase?"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "reply_to_user": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "edited": false, "score": 0, "creation_date": 1533661420, "post_id": 51731479, "comment_id": 90424788, "body": "@Raj I have shared the gradle files."}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533661548, "post_id": 51731479, "comment_id": 90429868, "body": "Yeah, the SHA-1 key is setup."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1533718198, "post_id": 51731479, "comment_id": 90444747, "body": "@345 Have you tried to log <code>task.getException()</code> in the else part of your <code>if (task.isSuccessful)</code> statement, to actually see what the problem is?"}], "answers": [{"comments": [{"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533661627, "post_id": 51731764, "comment_id": 90424908, "body": "The credentials are valid. onFailure is not firing either."}, {"owner": {"reputation": 387, "user_id": 7205954, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-gmRSEHOdZyM/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pvgPErheU2388lY1a0ZpvbVwza5g/mo/photo.jpg?sz=128", "display_name": "Khdkls", "link": "https://stackoverflow.com/users/7205954/khdkls"}, "reply_to_user": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533661783, "post_id": 51731764, "comment_id": 90424985, "body": "Or you have to update your firebase-auth dependencies to newer version. Now is 16.0.2"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533662496, "post_id": 51731764, "comment_id": 90425298, "body": "I have updated to the latest dependencies but the problem persists."}, {"owner": {"reputation": 387, "user_id": 7205954, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-gmRSEHOdZyM/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pvgPErheU2388lY1a0ZpvbVwza5g/mo/photo.jpg?sz=128", "display_name": "Khdkls", "link": "https://stackoverflow.com/users/7205954/khdkls"}, "reply_to_user": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533663936, "post_id": 51731764, "comment_id": 90425938, "body": "Did you have added internet permission? &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;"}, {"owner": {"reputation": 387, "user_id": 7205954, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-gmRSEHOdZyM/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pvgPErheU2388lY1a0ZpvbVwza5g/mo/photo.jpg?sz=128", "display_name": "Khdkls", "link": "https://stackoverflow.com/users/7205954/khdkls"}, "reply_to_user": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533666388, "post_id": 51731764, "comment_id": 90427088, "body": "Can you try to add  maven {             url &#39;<a href=\"https://maven.google.com/\" rel=\"nofollow noreferrer\">maven.google.com</a>&#39;         } inside your project build.gradle in allprojects -&gt; repositories and then clean/rebuild again"}], "tags": [], "owner": {"reputation": 387, "user_id": 7205954, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-gmRSEHOdZyM/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pvgPErheU2388lY1a0ZpvbVwza5g/mo/photo.jpg?sz=128", "display_name": "Khdkls", "link": "https://stackoverflow.com/users/7205954/khdkls"}, "is_accepted": false, "score": 1, "last_activity_date": 1533660474, "creation_date": 1533660474, "answer_id": 51731764, "question_id": 51731479, "link": "https://stackoverflow.com/questions/51731479/unable-to-authenticate-with-firebase/51731764#51731764", "title": "Unable to authenticate with Firebase", "body": "<p>Is your email or password are valid?</p>\n\n<p>You can add 'addOnFailureListener' to see what really happened.</p>\n\n<pre><code> auth.signInWithEmailAndPassword(email, password)\n            .addOnCompleteListener(this) { task -&gt;\n                if (task.isSuccessful) {\n                    // ...\n                } else {\n                    // ...\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    Toast.makeText(context, e.getMessage(),Toast.LENGTH_SHORT).show();\n                }\n            });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533662556, "post_id": 51732068, "comment_id": 90425323, "body": "I have added the core dependency and updated the others but the problem persists."}, {"owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "reply_to_user": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533664305, "post_id": 51732068, "comment_id": 90426099, "body": "Also update google services to classpath &#39;com.google.gms:google-services:4.0.2&#39;"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "edited": false, "score": 0, "creation_date": 1533666274, "post_id": 51732068, "comment_id": 90427033, "body": "I did but still no success :("}], "tags": [], "owner": {"reputation": 2787, "user_id": 7024599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a831f2d7a4e312ad135a3112e37b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7024599/raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1533662134, "last_edit_date": 1533662134, "creation_date": 1533661761, "answer_id": 51732068, "question_id": 51731479, "link": "https://stackoverflow.com/questions/51731479/unable-to-authenticate-with-firebase/51732068#51732068", "title": "Unable to authenticate with Firebase", "body": "<p>Try to add the following dependency in the build.gradle file:-</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-core:16.0.1'\n</code></pre>\n\n<p>And I also recommend you to use the latest firebase dependencies.</p>\n"}, {"tags": [], "owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "is_accepted": true, "score": 0, "last_activity_date": 1533833867, "last_edit_date": 1533833867, "creation_date": 1533724394, "answer_id": 51744492, "question_id": 51731479, "link": "https://stackoverflow.com/questions/51731479/unable-to-authenticate-with-firebase/51744492#51744492", "title": "Unable to authenticate with Firebase", "body": "<p>I solved the issue by</p>\n\n<ul>\n<li>Adding a new emulator</li>\n<li>Enabling Identity Toolkit API in developer console (error visible in logcat on new emulator only)</li>\n</ul>\n\n<p>This solution may be helpful for those of you who are using an emulator and have tried all the suggested answers...</p>\n"}], "owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 51744492, "answer_count": 3, "score": -1, "last_activity_date": 1533833867, "creation_date": 1533659311, "last_edit_date": 1533724414, "question_id": 51731479, "link": "https://stackoverflow.com/questions/51731479/unable-to-authenticate-with-firebase", "title": "Unable to authenticate with Firebase", "body": "<p>I am trying to sign in to Firebase on an emulator using credentials I added via the console.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>val auth = FirebaseAuth.getInstance()\n\nauth.signInWithEmailAndPassword(email, password)\n        .addOnCompleteListener(this) { task -&gt;\n            if (task.isSuccessful) {\n                // ...\n            } else {\n                // ...\n            }\n        }\n</code></pre>\n\n<p>The <code>OnCompleteListener</code> callback is never triggered. </p>\n\n<p>I have followed the guidelines from the Firebase documentation</p>\n\n<ul>\n<li>google-services json file</li>\n<li>Project dependencies</li>\n<li>App dependencies</li>\n<li>Enabled email/password sign in method</li>\n</ul>\n\n<p>Any idea what I am doing wrong?</p>\n\n<p>Gradle file - project:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.60'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        classpath 'com.google.gms:google-services:4.0.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>Gradle file - app</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"...\"\n        minSdkVersion 23\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner  \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.2'\n\n    implementation 'com.google.firebase:firebase-auth:16.0.2'\n    implementation 'com.google.firebase:firebase-database:16.0.1'\n    implementation 'com.google.firebase:firebase-core:16.0.1'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533669527, "post_id": 51730631, "comment_id": 90428638, "body": "Tried to reproduce your issue, but everything seems to work fine. How do you build this &quot;library&quot; of yours?"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533672949, "post_id": 51730631, "comment_id": 90430277, "body": "@Alexey, the library is from another library project,  published to maven and added dependency on it in this project"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533676952, "post_id": 51730631, "comment_id": 90431965, "body": "Can you rebuild this library? Since it should work, my assumption is that it was build by an old Kotlin compiler, around 1.0"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533677952, "post_id": 51730631, "comment_id": 90432331, "body": "I rebuild both constantly, my AndroidStudio is 3.1.3, and kotlin is 1.2.60"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533714247, "post_id": 51730631, "comment_id": 90442335, "body": "Ok, so you forgot to mention that the problem is not with the code, but only with the IDE. Stupid question, but did you try to clean the project? IntelliJ keeps internal caches of things."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533732161, "post_id": 51730631, "comment_id": 90453777, "body": "Thanks @Alexey!  clean/rebuild does not help.  But after I deleted the whole project then made a new clone, it does not get those errors.   If you could add a answer I will accept to close this weird issue."}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533735855, "post_id": 51730631, "comment_id": 90456312, "body": "I&#39;ll add it in case others get something similar."}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 1, "last_activity_date": 1533736066, "creation_date": 1533736066, "answer_id": 51748374, "question_id": 51730631, "link": "https://stackoverflow.com/questions/51730631/why-get-error-when-access-object-classs-const-field-from-java-code/51748374#51748374", "title": "Why get error when access object class&#39;s const field from Java code", "body": "<p>There are a few points here:</p>\n\n<ol>\n<li>The error appears only in IDE, not during compilation</li>\n<li>Happens only when the class is in a library (I tried to reproduce the problem with class in same project, it works as expected)</li>\n</ol>\n\n<p>If clean/rebuild doesn't help, deleting the entire project and importing it again should.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 51748374, "answer_count": 1, "score": 1, "last_activity_date": 1551624474, "creation_date": 1533656291, "last_edit_date": 1551624474, "question_id": 51730631, "link": "https://stackoverflow.com/questions/51730631/why-get-error-when-access-object-classs-const-field-from-java-code", "title": "Why get error when access object class&#39;s const field from Java code", "body": "<p>From the Kotlin <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods-and-fields\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<pre><code>object Obj {\n    const val CONST = 1\n}\n</code></pre>\n\n<p>Should be enough for accessing from Java as <code>Obj.CONST</code></p>\n\n<p>But with similar it got error.  </p>\n\n<pre><code>object StringUtils {\n    const val UNESCAPE_HTML4 = \"... ...\"\n    ......\n}\n</code></pre>\n\n<p>In Java code</p>\n\n<pre><code>return StringUtils.UNESCAPE_HTML4;\n</code></pre>\n\n<p>Got error</p>\n\n<pre><code>'UNESCAPE_HTML4' has private access in com.data.utils.StringUtils\n</code></pre>\n\n<p>Has to use <code>StringUtils.INSTANCE.getUNESCAPE_HTML4()</code> then no error.</p>\n\n<p>Clicking on that <code>UNESCAPE_HTML4</code> does opens the compiled code correctly though.</p>\n\n<p>The only difference is this object StringUtils is from a libray dependency which has been added to the project's build.gradle</p>\n\n<p>Anyone also seeing this type error?</p>\n\n<p>Here is a test function in the Java side, which tries to access those function, property from the dependent library.</p>\n\n<pre><code>public class DataWrapper {\n    ... ...\n    public void test_strUtil() {\n\n    /*\n     * For example, the string \"&amp;amp;lt;Fran&amp;amp;ccedil;ais&amp;amp;gt;\"\n     * will become \"&amp;lt;Franais&amp;gt;\"\n     */\n\n    String s = StringUtils.unescapeHtml4(\"&amp;amp;lt;Fran&amp;amp;ccedil;ais&amp;amp;gt;\");\n\n\n\n    int s2 = Constants.CONTROLLER_FANTASY_SPORTS_STREAM;\n\n    String[][] arr = EntityArrays.BASIC_UNESCAPE();\n\n    Log.i(\"+++\", \"+++ test_strUtil(), after DataPlay.init(), unescapeHtml4:\"+s+\", empty:\"\n          +StringUtils.EMPTY+\" --- s2:\"+s2);\n\n    for (int i=0; i&lt;arr.length; i++) {\n        String[] arrRow = arr[i];\n        for (int j=0; j&lt; arrRow.length; j++) {\n            Log.w(\"+++\", \"+++ arrRow[\"+i+\"][\"+j+\"]:\"+arrRow[j]);\n        }\n    }\n}\n</code></pre>\n\n<p>The IDE shows red on them and says \"non static method...\",  </p>\n\n<p><a href=\"https://i.stack.imgur.com/EsnTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EsnTN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or \"has private access...\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/TEQuP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TEQuP.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when clicking on the complained function or property, it does opens the correct compiled file</p>\n\n<p><a href=\"https://i.stack.imgur.com/cpxYn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cpxYn.png\" alt=\"enter image description here\"></a></p>\n\n<p>And</p>\n\n<p><a href=\"https://i.stack.imgur.com/8K0YX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8K0YX.png\" alt=\"enter image description here\"></a></p>\n\n<p>And when it runs, the print out shows the function called correctly.</p>\n\n<pre><code>com.test.debug I/+++: +++ test_strUtil(), after DataPlay.init(), \n               unescapeHtml4:&amp;lt;Fran&amp;ccedil;ais&amp;gt;, empty: --- s2:3\ncom.test.debug W/+++: +++ arrRow[0][0]:&amp;quot;\n    +++ arrRow[0][1]:\"\n    +++ arrRow[1][0]:&amp;amp;\n    +++ arrRow[1][1]:&amp;\n    +++ arrRow[2][0]:&amp;lt;\n    +++ arrRow[2][1]:&lt;\n    +++ arrRow[3][0]:&amp;gt;\n    +++ arrRow[3][1]:&gt;\n</code></pre>\n\n<p>And more weird is from same library the other function and property exposed through different object class's const or @JvmStatic they don't get complain by the IDE.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 19, "user_id": 8796290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APKwt.jpg?s=128&g=1", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/8796290/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1533651377, "post_id": 51728897, "comment_id": 90418596, "body": "In Toast.makeText(), i have used all context, this, getApplicationContext(), but still i am getting error in Toast.makeText() section. please help me. Thanks in advance."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1533651395, "post_id": 51728897, "comment_id": 90418608, "body": "What is the error message?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 8796290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APKwt.jpg?s=128&g=1", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/8796290/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1533652530, "post_id": 51729033, "comment_id": 90419453, "body": "please brief it out with an example..!"}, {"owner": {"reputation": 19, "user_id": 8796290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APKwt.jpg?s=128&g=1", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/8796290/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1533653755, "post_id": 51729033, "comment_id": 90420316, "body": "It is very important project, i need a help please help me. that how to add a constructor to this class that accepts a valid Context, through which i can pass to the Toast"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 19, "user_id": 8796290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APKwt.jpg?s=128&g=1", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/8796290/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1533666083, "post_id": 51729033, "comment_id": 90426939, "body": "Are you having trouble understanding how constructors are written? <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/classes.html</a>"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 0, "last_activity_date": 1533651509, "creation_date": 1533651509, "answer_id": 51729033, "question_id": 51728897, "link": "https://stackoverflow.com/questions/51728897/showing-a-toast-when-posting-a-handler/51729033#51729033", "title": "Showing a toast when posting a handler", "body": "<p><code>this</code> is a Runnable, not a Context object. And Runnables do not have a <code>getApplicationContext</code> method</p>\n\n<p>You must add a constructor to this class that accepts a valid Context, which you can pass to the Toast </p>\n"}, {"tags": [], "owner": {"reputation": 114, "user_id": 8583844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c7d0a090e4367b106de412dec9bac73?s=128&d=identicon&r=PG", "display_name": "Piyush Dagar", "link": "https://stackoverflow.com/users/8583844/piyush-dagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1533666018, "last_edit_date": 1533666018, "creation_date": 1533657274, "answer_id": 51730951, "question_id": 51728897, "link": "https://stackoverflow.com/questions/51728897/showing-a-toast-when-posting-a-handler/51730951#51730951", "title": "Showing a toast when posting a handler", "body": "<p>Simply add constructor in the Runnable</p>\n\n<pre><code>Context context;\npublic MyServerThread(Context context) {\n    this.context=context;\n }\n</code></pre>\n\n<p>Inside the activity (to pass the context)</p>\n\n<pre><code>MyServerThread name=new MyServerThread(getBaseContext());\n</code></pre>\n\n<p>Then Finally pass the context in the toast: </p>\n\n<pre><code>Toast.makeText(context,message,Toast.LENGTH_LONG).show();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 19, "user_id": 8796290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APKwt.jpg?s=128&g=1", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/8796290/ranjan-kumar"}, "edited": false, "score": 0, "creation_date": 1533710619, "post_id": 51737920, "comment_id": 90440251, "body": "Glad to hear that."}], "tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": false, "score": 1, "last_activity_date": 1533696381, "creation_date": 1533696381, "answer_id": 51737920, "question_id": 51728897, "link": "https://stackoverflow.com/questions/51728897/showing-a-toast-when-posting-a-handler/51737920#51737920", "title": "Showing a toast when posting a handler", "body": "<p><strong>Solution:</strong> Try this code</p>\n\n<pre><code>class MyServerThread(val context: Context) : Runnable {\n    internal lateinit var s: Socket\n    internal lateinit var ss: ServerSocket\n    internal lateinit var isr: InputStreamReader\n    internal lateinit var bf: BufferedReader\n    internal lateinit var message: String\n    internal var h = Handler()\n\n\n    override fun run() {\n        try {\n            ss = ServerSocket(3050)\n            while (true) {\n                s = ss.accept()\n                isr = InputStreamReader(s.getInputStream())\n                bf = BufferedReader(isr)\n                message = bf.readLine()\n                h.post {\n                    Toast.makeText(context, message, Toast.LENGTH_LONG).show()\n                }\n            }\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8796290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APKwt.jpg?s=128&g=1", "display_name": "Ranjan Kumar", "link": "https://stackoverflow.com/users/8796290/ranjan-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1533696381, "creation_date": 1533651128, "last_edit_date": 1533659575, "question_id": 51728897, "link": "https://stackoverflow.com/questions/51728897/showing-a-toast-when-posting-a-handler", "title": "Showing a toast when posting a handler", "body": "<p>I have tried every context, <code>this</code>, <code>getApplicationContext()</code>, but it's not working. </p>\n\n<pre><code> class MyServerThread : Runnable {\n    internal lateinit var s: Socket\n    internal lateinit var ss: ServerSocket\n    internal lateinit var isr: InputStreamReader\n    internal lateinit var bf: BufferedReader\n    internal lateinit var message: String\n    internal var h = Handler()\n\n\n    override fun run() {\n        try {\n            ss = ServerSocket(3050)\n            while (true) {\n                s = ss.accept()\n                isr = InputStreamReader(s.getInputStream())\n                bf = BufferedReader(isr)\n                message = bf.readLine()\n                h.post {\n                    Toast.makeText(this, message, Toast.LENGTH_LONG).show()\n\n                }\n            }\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n    }\n}\n</code></pre>\n\n<p>What can I do to fix the issue?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "zxing"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 8794664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kCBjy.jpg?s=128&g=1", "display_name": "NaaleinGrohiik", "link": "https://stackoverflow.com/users/8794664/naaleingrohiik"}, "is_accepted": true, "score": 1, "last_activity_date": 1535624812, "creation_date": 1535624812, "answer_id": 52094747, "question_id": 51728505, "link": "https://stackoverflow.com/questions/51728505/android-passing-data-to-the-viewmodel-and-then-do-work-on-the-view/52094747#52094747", "title": "Android, passing data to the viewModel and then do work on the view", "body": "<p>The solution I found was to have the view model implement \"ZXingScannerView.ResultHandler\" interface. I don't know if this is the optimal solution though.</p>\n"}], "owner": {"reputation": 35, "user_id": 8794664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kCBjy.jpg?s=128&g=1", "display_name": "NaaleinGrohiik", "link": "https://stackoverflow.com/users/8794664/naaleingrohiik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "accepted_answer_id": 52094747, "answer_count": 1, "score": 0, "last_activity_date": 1535624812, "creation_date": 1533650006, "question_id": 51728505, "link": "https://stackoverflow.com/questions/51728505/android-passing-data-to-the-viewmodel-and-then-do-work-on-the-view", "title": "Android, passing data to the viewModel and then do work on the view", "body": "<p>In hopes to better understand MVVM I decided to redo one of my Android projects implementing the architecture. </p>\n\n<p>One of the activities uses the Zxing library to scan a QR code. Using Zxing's event handler I would like to pass the scanned result to my viewModel to check for example if the result is a \"product\"(this is a QR code I generate following a product class) or not. If the the result is a product it will show a dialogue with the result asking the user if they want to continue scanning or save the product, if it is not a product then it shows a dialogue with the result and a cancel button.</p>\n\n<p>Now the issue here is that I don't know how to properly pass the data from Zxing's handler to the viewModel. Below attached my activity.</p>\n\n<pre><code>class QRreader_Activity : AppCompatActivity(), ZXingScannerView.ResultHandler, IQRreader{\noverride fun isProduct(ProductDetail: String) {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\noverride fun isNotProduct(ScannedText: String) {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\n\nlateinit var mScannerView: ZXingScannerView\nvar data: String=\"test\"\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_qrreader)\n\n\n    val bReturn: ImageButton = findViewById(R.id.ic_return)\n    bReturn.setOnClickListener {\n        onBackPressed() }\n    ActivityCompat.requestPermissions(this@QRreader_Activity,\n            arrayOf(Manifest.permission.CAMERA),\n            1)\n\n    val flashlightCheckBox = findViewById&lt;CheckBox&gt;(R.id.flashlight_checkbox)\n\n    val contentFrame = findViewById&lt;ViewGroup&gt;(R.id.content_frame)\n    mScannerView = object : ZXingScannerView(this) {\n        override fun createViewFinderView(context: Context): IViewFinder {\n            return CustomViewFinderView(context)\n        }\n    }\n\n    contentFrame.addView(mScannerView)\n    flashlightCheckBox.setOnCheckedChangeListener { compoundButton, isChecked -&gt; mScannerView.flash = isChecked }\n}\n\npublic override fun onResume() {\n    super.onResume()\n    mScannerView.setResultHandler(this) // Register ourselves as a handler for scan results.\n    mScannerView.startCamera()          // Start camera on resume\n}\n\npublic override fun onPause() {\n    super.onPause()\n    mScannerView.stopCamera()           // Stop camera on pause\n}\n\noverride fun onBackPressed() {\n    super.onBackPressed()\n    val intent = Intent(this, MainActivity::class.java)\n    startActivity(intent)\n    finish()\n}\n//This is where ZXing provides the result of the scan\noverride fun handleResult(rawResult: Result) {\n    Toast.makeText(this,\"\"+rawResult.text,Toast.LENGTH_LONG).show()\n\n}\n\nprivate class CustomViewFinderView : ViewFinderView {\n    val PAINT = Paint()\n\n    constructor(context: Context) : super(context) {\n        init()\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        init()\n    }\n\n    private fun init() {\n        PAINT.color = Color.WHITE\n        PAINT.isAntiAlias = true\n        val textPixelSize = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_SP,\n                TRADE_MARK_TEXT_SIZE_SP.toFloat(), resources.displayMetrics)\n        PAINT.textSize = textPixelSize\n        setSquareViewFinder(true)\n    }\n\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n        drawTradeMark(canvas)\n    }\n\n    private fun drawTradeMark(canvas: Canvas) {\n        val framingRect = framingRect\n        val tradeMarkTop: Float\n        val tradeMarkLeft: Float\n        if (framingRect != null) {\n            tradeMarkTop = framingRect.bottom.toFloat() + PAINT.textSize + 10f\n            tradeMarkLeft = framingRect.left.toFloat()\n        } else {\n            tradeMarkTop = 10f\n            tradeMarkLeft = canvas.height.toFloat() - PAINT.textSize - 10f\n        }\n        canvas.drawText(TRADE_MARK_TEXT, tradeMarkLeft, tradeMarkTop, PAINT)\n    }\n\n    companion object {\n        val TRADE_MARK_TEXT = \"\"\n        val TRADE_MARK_TEXT_SIZE_SP = 40\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["kotlin", "charsequence"], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1533652102, "post_id": 51728708, "comment_id": 90419126, "body": "Actually you don&#39;t need the <code>as CharSequence</code> as the compiler should automatically infer the type for you, but it might be better to keep it for clarity"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1533652821, "post_id": 51728708, "comment_id": 90419652, "body": "@user2340612, well, omitting <code>as CharSequence</code> leads to a type mismatch. Seems like the compiler cannot infer the right upcast (<code>String</code> to <code>CharSequence</code>) from the expected type."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1533653315, "post_id": 51728708, "comment_id": 90420016, "body": "My bad, I had defined <code>BASIC_ESCAPE_RULE</code> as <code>Array&lt;Array&lt;out CharSequence&gt;&gt;</code>, that&#39;s why it was working"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1533650648, "creation_date": 1533650648, "answer_id": 51728708, "question_id": 51728487, "link": "https://stackoverflow.com/questions/51728487/in-kotlin-how-to-change-to-arraycharsequence-from-arraystring/51728708#51728708", "title": "in kotlin how to change to Array&lt;CharSequence&gt; from Array&lt;String&gt;", "body": "<p>To transform an <code>Array&lt;Array&lt;String&gt;&gt;</code> into an <code>Array&lt;Array&lt;CharSequence&gt;&gt;</code>, you can use the following code:</p>\n\n<pre><code>val src: Array&lt;Array&lt;String&gt;&gt; = TODO()\n\nval result: Array&lt;Array&lt;CharSequence&gt;&gt; = \n    src.map { array -&gt; array.map { s -&gt; s as CharSequence }.toTypedArray() }.toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1861, "favorite_count": 1, "accepted_answer_id": 51728708, "answer_count": 1, "score": 4, "last_activity_date": 1533650648, "creation_date": 1533649956, "question_id": 51728487, "link": "https://stackoverflow.com/questions/51728487/in-kotlin-how-to-change-to-arraycharsequence-from-arraystring", "title": "in kotlin how to change to Array&lt;CharSequence&gt; from Array&lt;String&gt;", "body": "<p>From one library module it returns some <code>Array&lt;Array&lt;String&gt;&gt;</code>, like below:</p>\n\n<pre><code>private val BASIC_ESCAPE_RULE = arrayOf(arrayOf(\"\\\"\", \"&amp;quot;\"), // \" \n        arrayOf(\"&amp;\", \"&amp;amp;\"), \n        arrayOf(\"&lt;\", \"&amp;lt;\"), \n        arrayOf(\"&gt;\", \"&amp;gt;\"))\n\n\nfun getBasicEscapeRule(): Array&lt;Array&lt;String&gt;&gt; {\n    return BASIC_ESCAPE_RULE.clone()\n}\n</code></pre>\n\n<p>In the project it has dependency on that library and it also uses another library module to do lookup/translation, which only takes <code>Array&lt;CharSequence&gt;</code>.  </p>\n\n<pre><code>class translator (vararg lookup: Array&lt;CharSequence&gt;) {\n\n     ... ...\n     fun translate(content: String) : String {}\n}\n</code></pre>\n\n<p>When trying to call into a the second library's routing with the data getting from the first library,\nthe making of the translator <code>translator(*getBasicEscapeRule())</code>  got error:</p>\n\n<pre><code>Type mismatch: inferred type is Array&lt;Array&lt;String&gt;&gt; but Array&lt;out Array&lt;CharSequence&gt;&gt; was expected\n</code></pre>\n\n<p>In the second library it needs to use CharSequence for char manipulation. </p>\n\n<p>How to convert the Array into Array?</p>\n"}, {"tags": ["unit-testing", "kotlin", "libgdx"], "answers": [{"tags": [], "owner": {"reputation": 851, "user_id": 2920861, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5925cc1bfc2ea193851be973a8b798b7?s=128&d=identicon&r=PG&f=1", "display_name": "Crigges", "link": "https://stackoverflow.com/users/2920861/crigges"}, "is_accepted": false, "score": 2, "last_activity_date": 1563511167, "creation_date": 1563511167, "answer_id": 57105620, "question_id": 51728471, "link": "https://stackoverflow.com/questions/51728471/unit-testing-libgdx-classes-that-call-a-shaderprogram-such-as-a-stage-via-a-he/57105620#57105620", "title": "Unit Testing Libgdx classes that call a ShaderProgram (such as a Stage) via a HeadlessApplication", "body": "<p>Since there is no answer so far I want to share my current knowledge/opinion:</p>\n\n<p>First, we need to ask the question: Can we even write unit tests for the GUI in general? If you want an in-depth answer take a look at <a href=\"https://stackoverflow.com/questions/215458/how-can-i-unit-test-a-gui\">this question</a>. To sum up: You can unit test your GUI by calculating hashes from framebuffers but the general recommendation is to move as much logic out of your GUI as possible and don't unit test your GUI at all. In addition to that my and most Servers that are running the code have no hardware support for OpenGL. Assuming we don't want to bother with Softwarerendering, unit testing the GUI itself is no option.  </p>\n\n<p>Based on this information I assumed my logic wasn't separated well enough from my GUI. But when looking further into scene2d and a lot of tutorials around it, it became pretty clear that scene2d wants you by design to combine logic and GUI parts of your code, see <a href=\"https://stackoverflow.com/questions/21238638/using-mvc-with-libgdx-scene2d\">this question</a> for reference. </p>\n\n<p>Assuming you share the opinion that scene2d makes it pretty hard to separate your logic and GUI we are now facing the op's question while common solutions are not applicable. </p>\n\n<p>In my opinion, all elements of libGDX should be fully compatible with the HeadlessBackend, that they are not is a design flaw by libGDX. The only workaround I came up with so far is by mocking a SpriteBatch if needed and passing it to the Stage:  </p>\n\n<pre><code>val stage = Stage(myViewport, if (isHeadless) mock(SpriteBatch::class.java) else SpriteBatch())\n</code></pre>\n\n<p>While this allows you to use your Stage normally, I don't consider it a real solution since you need to write your code test aware.  </p>\n"}], "owner": {"reputation": 280, "user_id": 9017639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNUUC.jpg?s=128&g=1", "display_name": "Tim F.", "link": "https://stackoverflow.com/users/9017639/tim-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1563525902, "creation_date": 1533649887, "last_edit_date": 1563525902, "question_id": 51728471, "link": "https://stackoverflow.com/questions/51728471/unit-testing-libgdx-classes-that-call-a-shaderprogram-such-as-a-stage-via-a-he", "title": "Unit Testing Libgdx classes that call a ShaderProgram (such as a Stage) via a HeadlessApplication", "body": "<p>I am trying to unit test the <code>core</code> package of my libgdx application. </p>\n\n<p><strong>What is the best way to mock the <code>ShaderProgram</code> such that the root class may be tested?</strong>  </p>\n\n<p>Given the following init for a Libgdx test runner,</p>\n\n<pre><code>init {\n    val conf = HeadlessApplicationConfiguration()\n\n    HeadlessApplication(this, conf)\n    Gdx.gl = mock(GL20::class.java) \n    Gdx.gl20 = mock(GL20::class.java)\n    Gdx.gl30 = mock(GL30::class.java)\n    Gdx.graphics = mock(Graphics::class.java)\n    `when`(Gdx.graphics.height).thenReturn(dimensions)\n    `when`(Gdx.graphics.width).thenReturn(dimensions)\n}\n</code></pre>\n\n<p>and the function under test (which is in a class that is a child of <code>Application Listener</code>),</p>\n\n<pre><code>override fun create() {\n    ...\n    stage = Stage(ScreenViewport())\n    ...\n}\n</code></pre>\n\n<p>an error occurs inside of Stage when it attempts to compile a shader.</p>\n\n<p>I.e., in <code>SpriteBatch.java</code> from <code>com.badlogic.gdx.graphics.g2d</code>,</p>\n\n<pre><code>ShaderProgram shader = new ShaderProgram(vertexShader, fragmentShader);\nif (shader.isCompiled() == false) throw new IllegalArgumentException(\"Error compiling shader: \" + shader.getLog());\n</code></pre>\n\n<p><code>shader.isCompiled()</code> appears to always return false for a <code>HeadlessApplication</code>.</p>\n"}, {"tags": ["android", "kotlin", "kapt", "kotlin-native"], "comments": [{"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1533647331, "post_id": 51727550, "comment_id": 90415535, "body": "Try this: <a href=\"https://stackoverflow.com/a/49293777/5167909\">stackoverflow.com/a/49293777/5167909</a>"}, {"owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "reply_to_user": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1533708844, "post_id": 51727550, "comment_id": 90439425, "body": "This does not work when used with &#39;kotlin-platform-android&#39;"}, {"owner": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1533710723, "post_id": 51727550, "comment_id": 90440306, "body": "Are you add this line on gradle file: <i>apply plugin: &#39;com.android.application&#39;</i>"}, {"owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "reply_to_user": {"reputation": 6370, "user_id": 5167909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbtJH.jpg?s=128&g=1", "display_name": "Faysal Ahmed", "link": "https://stackoverflow.com/users/5167909/faysal-ahmed"}, "edited": false, "score": 0, "creation_date": 1533711253, "post_id": 51727550, "comment_id": 90440576, "body": "That doesn&#39;t help either."}], "answers": [{"tags": [], "owner": {"reputation": 252, "user_id": 10087711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dVZmRJJMnlw/AAAAAAAAAAI/AAAAAAAAADE/UiKb0Oef9X8/photo.jpg?sz=128", "display_name": "Umesh Maharjan", "link": "https://stackoverflow.com/users/10087711/umesh-maharjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534763641, "creation_date": 1534763641, "answer_id": 51929544, "question_id": 51727550, "link": "https://stackoverflow.com/questions/51727550/unable-to-use-kotlin-kapt-with-kotlin-native/51929544#51929544", "title": "Unable to use Kotlin-kapt with kotlin/native", "body": "<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\n\nbuildscript {\n    ext.kotlin_version = '1.2.10'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "is_accepted": true, "score": 2, "last_activity_date": 1534764750, "creation_date": 1534764750, "answer_id": 51929873, "question_id": 51727550, "link": "https://stackoverflow.com/questions/51727550/unable-to-use-kotlin-kapt-with-kotlin-native/51929873#51929873", "title": "Unable to use Kotlin-kapt with kotlin/native", "body": "<p>Kotlin/Native currently does not support kapt or any other kotlinx libraries. We can use kapt, in android platform of the app, but not in the main common module itself.</p>\n"}], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 51929873, "answer_count": 2, "score": 0, "last_activity_date": 1534764750, "creation_date": 1533647082, "question_id": 51727550, "link": "https://stackoverflow.com/questions/51727550/unable-to-use-kotlin-kapt-with-kotlin-native", "title": "Unable to use Kotlin-kapt with kotlin/native", "body": "<p>Compiler fails to recognise any kapt dependencies when used in common kotlin/native module</p>\n\n<pre><code>apply plugin: 'konan'\napply plugin: 'kotlin-platform-common'\napply plugin: 'kotlin-kapt'\nrepositories {\nmavenCentral()\n}\ndependencies {\ncompile \"org.jetbrains.kotlin:kotlin-stdlib\"\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\ncompile \"com.jakewharton:butterknife:8.8.1\"\n//kapt \"com.jakewharton:butterknife-compiler:8.8.1\"\n}\n\nkonan.targets = ['iphone', 'iphone_sim']\ndef frameworkName = 'XplatformAnalytics'\nkonanArtifacts {\nframework(frameworkName)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "adb"], "answers": [{"comments": [{"owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "edited": false, "score": 0, "creation_date": 1540464710, "post_id": 52987355, "comment_id": 92880204, "body": "problem solved, it works  fine in latest kotlin versions"}], "tags": [], "owner": {"reputation": 4717, "user_id": 4133301, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yKdIm.jpg?s=128&g=1", "display_name": "GensaGames", "link": "https://stackoverflow.com/users/4133301/gensagames"}, "is_accepted": false, "score": 0, "last_activity_date": 1540464165, "creation_date": 1540464165, "answer_id": 52987355, "question_id": 51726698, "link": "https://stackoverflow.com/questions/51726698/kotline-debug-mode-variables-always-shows-collecting-data/52987355#52987355", "title": "kotline Debug mode , variables always shows collecting data", "body": "<p>It's very possible of some IDEA cache issue. 1) Close project IDEA, open in Explorer, and delete folders <code>./idea</code> and <code>./gradle</code>. Then open IDEA and <strong>Import new Project</strong>.</p>\n"}], "owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540464165, "creation_date": 1533644477, "last_edit_date": 1540463675, "question_id": 51726698, "link": "https://stackoverflow.com/questions/51726698/kotline-debug-mode-variables-always-shows-collecting-data", "title": "kotline Debug mode , variables always shows collecting data", "body": "<p>Android Studio ,In Debug mode , variables always shows collecting data for kotline classes . Interesting is java classes, activities it works fine. Any idea about this issue.</p>\n\n<p><strong>studio version : 3.1.3\nkotlin_version = '1.1.51'</strong></p>\n\n<p>Tried <strong>android.enableD8=true</strong> solution. still bug is exist.</p>\n"}, {"tags": ["kotlin", "kotlinc"], "answers": [{"tags": [], "owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "is_accepted": true, "score": 0, "last_activity_date": 1534129299, "creation_date": 1534129299, "answer_id": 51814671, "question_id": 51725904, "link": "https://stackoverflow.com/questions/51725904/documentation-for-the-xml-format-for-files-referenced-from-the-kotlinc-xbuild-f/51814671#51814671", "title": "Documentation for the XML format for files referenced from the kotlinc -Xbuild-file argument", "body": "<p>Per JetBrains, there is not documentation for this XML format since it is not a public API.</p>\n\n<p>But the parser source for that format is in GitHub:</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/master/compiler/cli/cli-common/src/org/jetbrains/kotlin/cli/common/modules/ModuleXmlParser.java\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/master/compiler/cli/cli-common/src/org/jetbrains/kotlin/cli/common/modules/ModuleXmlParser.java</a></p>\n"}], "owner": {"reputation": 3417, "user_id": 2030088, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d2b8b708df57dea3f1e2e533f4870126?s=128&d=identicon&r=PG", "display_name": "XDR", "link": "https://stackoverflow.com/users/2030088/xdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 51814671, "answer_count": 1, "score": 0, "last_activity_date": 1534129299, "creation_date": 1533641956, "last_edit_date": 1533642631, "question_id": 51725904, "link": "https://stackoverflow.com/questions/51725904/documentation-for-the-xml-format-for-files-referenced-from-the-kotlinc-xbuild-f", "title": "Documentation for the XML format for files referenced from the kotlinc -Xbuild-file argument", "body": "<p>Where is the documentation for the XML format for the contents of files referenced from the kotlinc <code>-Xbuild-file</code> argument?</p>\n\n<p>The XML looks something like:</p>\n\n<pre><code>&lt;modules&gt;\n    &lt;module name=\"module-name\" type=\"java-production\" outputDir=\"/Users/user/code/project/build/classes/kotlin/main\"&gt;\n        &lt;sources path=\"/Users/user/code/project/src/main/kotlin/package/Class.kt\"/&gt;\n        &lt;javaSourceRoots path=\"/Users/user/code/project/src/main/java\"/&gt;\n        &lt;classpath path=\"/Users/user/code/project/libs/lib.jar\"/&gt;\n    &lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p>For overzealous users who like to delete questions, note that the answer to this question is not subjective; either the documentation exists, or it doesn\u2019t. I\u2019m not asking for a recommendation for a book, tutorial, etc., which there can be many of. I\u2019m looking for the official docs.</p>\n\n<p>Yes, I am trying to achieve a specific task using said XML files (using JPMS modules with kotlinc within a Gradle build), but, even if someone gives me an answer that seems to work, I won\u2019t be able to verify that it is optimal (let alone truly correct) without knowing the format for that XML. If I know the XML format, I can easily determine the correct usage myself, so it\u2019s a waste of everyone\u2019s time for me to detail my exact use case, and it\u2019s a waste to delete a question whose non-subjective answer will allow me to complete my task.</p>\n"}, {"tags": ["java", "encryption", "kotlin"], "comments": [{"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1533642083, "post_id": 51725879, "comment_id": 90412002, "body": "I don&#39;t understand - the code you are trying to use to decrypt is obviously not compatible with the code you are using to encrypt.  You clearly didn&#39;t write this code yourself.  Why have you not taken the time to actually understand what this code does and research what changes you need to make?  The information to do so is readily available."}, {"owner": {"reputation": 643, "user_id": 2400789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5c5257c480827201367023ebd6735e45?s=128&d=identicon&r=PG", "display_name": "vetalitet", "link": "https://stackoverflow.com/users/2400789/vetalitet"}, "reply_to_user": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1533642928, "post_id": 51725879, "comment_id": 90412564, "body": "Actually, I spent some time to investigate some ways of doing this. Tried to translate (java/kotlin) and later after fail, I wrote this message. And what is obvious for you, not obvious for others. So, I think such professional like you, might write more helpful answer than you did"}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 1, "creation_date": 1533643664, "post_id": 51725879, "comment_id": 90413028, "body": "I&#39;m not saying it is obvious, I&#39;m saying that the information you need to understand the concepts required here is readily available on the internet already.  Rather than copying and pasting random code from the internet, do the research first next time."}], "answers": [{"comments": [{"owner": {"reputation": 643, "user_id": 2400789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5c5257c480827201367023ebd6735e45?s=128&d=identicon&r=PG", "display_name": "vetalitet", "link": "https://stackoverflow.com/users/2400789/vetalitet"}, "edited": false, "score": 0, "creation_date": 1533646405, "post_id": 51726321, "comment_id": 90414853, "body": "Ok. Thank you. Now I see where to move and will continue"}], "tags": [], "owner": {"reputation": 32972, "user_id": 150978, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/feadc214792e2581c3c750140e3eb2c7?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/150978/robert"}, "is_accepted": true, "score": 4, "last_activity_date": 1533643332, "creation_date": 1533643332, "answer_id": 51726321, "question_id": 51725879, "link": "https://stackoverflow.com/questions/51725879/cannot-encrypt-decrypt-string-using-java-kotlin/51726321#51726321", "title": "Cannot encrypt/decrypt string using Java/Kotlin", "body": "<p>Executing <code>SecretKeySpec(password.toByteArray(), \"AES\")</code> is clearly a functionality and a security problem. AES requires a key of 16/24/32 bytes, but your password is of variable length. Never use a password as a key. Use a key derivation algorithm like PBKDF2 instead.</p>\n\n<p>Regarding your error:</p>\n\n<p>You are using an IvParameterSpec, however GCM does not use an IV, but a Nonce and it requires to specify the authentication tag length. Therefore you have to provide an <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/GCMParameterSpec.html\" rel=\"nofollow noreferrer\">GCMParameterSpec</a>.</p>\n"}], "owner": {"reputation": 643, "user_id": 2400789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5c5257c480827201367023ebd6735e45?s=128&d=identicon&r=PG", "display_name": "vetalitet", "link": "https://stackoverflow.com/users/2400789/vetalitet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1222, "favorite_count": 0, "accepted_answer_id": 51726321, "answer_count": 1, "score": -1, "last_activity_date": 1533643332, "creation_date": 1533641884, "question_id": 51725879, "link": "https://stackoverflow.com/questions/51725879/cannot-encrypt-decrypt-string-using-java-kotlin", "title": "Cannot encrypt/decrypt string using Java/Kotlin", "body": "<p>I need to encrypt string on Java, and then decrypt it on Kotlin.\nI do following things:</p>\n\n<p>encrypt string like that</p>\n\n<pre><code>private static String encrypt(String value, String password) throws NoSuchPaddingException, ... {\n        final SecretKeySpec secretKeySpec = new SecretKeySpec(password.getBytes(Charset.forName(\"UTF-8\")), \"AES\");\n        final Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n        cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec);\n        final byte[] encryptedValue = cipher.doFinal(value.getBytes(Charset.forName(\"UTF-8\")));\n        return DatatypeConverter.printBase64Binary(encryptedValue);\n    }\n</code></pre>\n\n<p>For decrypt in Kotlin I use this method:</p>\n\n<pre><code>fun String.decrypt(password: String): String {\n    val secretKeySpec = SecretKeySpec(password.toByteArray(), \"AES\")\n    val iv = ByteArray(16)\n    val charArray = password.toCharArray()\n    for (i in 0 until charArray.size){\n        iv[i] = charArray[i].toByte()\n    }\n    val ivParameterSpec = IvParameterSpec(iv)\n\n    val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n    cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivParameterSpec)\n\n(1) val decryptedByteValue = cipher.doFinal(Base64.decode(this, Base64.DEFAULT))\n    return String(decryptedByteValue)\n}\n</code></pre>\n\n<p>In that case on line (1) I receive <strong>AEADBadTagException: mac check in GCM failed</strong></p>\n\n<p>So, I changed it a little bit</p>\n\n<pre><code>fun String.decrypt(password: String): String {\n    val secretKeySpec = SecretKeySpec(password.toByteArray(), \"AES\")\n    val cipher = Cipher.getInstance(\"AES/GCM/NoPadding\")\n(2) cipher.init(Cipher.DECRYPT_MODE, secretKeySpec)\n\n    val decryptedByteValue = cipher.doFinal(Base64.decode(this, Base64.DEFAULT))\n    return String(decryptedByteValue)\n}\n</code></pre>\n\n<p>In that case in line (2) I receive <strong>RuntimeException: java.security.InvalidAlgorithmParameterException: IV must be specified in GCM mode</strong></p>\n\n<p>So, after that, I changed encryption method</p>\n\n<pre><code>private static String encrypt(String value, String password) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException, InvalidAlgorithmParameterException {\n        final SecretKeySpec secretKeySpec = new SecretKeySpec(password.getBytes(Charset.forName(\"UTF-8\")), \"AES\");\n        final Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n\n        final byte[] iv = new byte[16];\n        for (int i = 0; i &lt; password.length(); i++) {\n            iv[i] = (byte) password.toCharArray()[0];\n        }\n        final IvParameterSpec ivSpec = new IvParameterSpec(iv);\n\n    (3) cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\n        final byte[] encryptedValue = cipher.doFinal(value.getBytes(Charset.forName(\"UTF-8\")));\n        return DatatypeConverter.printBase64Binary(encryptedValue);\n    }\n</code></pre>\n\n<p>But here in line (3) I receive <strong>java.security.InvalidAlgorithmParameterException: Unsupported parameter: javax.crypto.spec.IvParameterSpec@6d311334</strong></p>\n\n<p>Please help me to solve this puzzle</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions", "kotlin-native"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 8307563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d344e9e4155629d6bc90d84bea74fa?s=128&d=identicon&r=PG&f=1", "display_name": "dheeraj_jha", "link": "https://stackoverflow.com/users/8307563/dheeraj-jha"}, "is_accepted": true, "score": 1, "last_activity_date": 1535538684, "creation_date": 1535538684, "answer_id": 52075282, "question_id": 51725057, "link": "https://stackoverflow.com/questions/51725057/unable-to-use-kotlin-android-extension-along-with-kotlin-native/52075282#52075282", "title": "Unable to use Kotlin-android-extension along with Kotlin/native", "body": "<p>Kotlin/Native currently does not support kapt or any other kotlinx libraries. We can use kapt, in android platform of the app, but not in the main common module itself.</p>\n"}], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 52075282, "answer_count": 1, "score": 2, "last_activity_date": 1535538684, "creation_date": 1533639257, "last_edit_date": 1534831897, "question_id": 51725057, "link": "https://stackoverflow.com/questions/51725057/unable-to-use-kotlin-android-extension-along-with-kotlin-native", "title": "Unable to use Kotlin-android-extension along with Kotlin/native", "body": "<p>I want to build a multi-platform <code>Kotlin</code> module that works with both <code>ios</code> and android. But when I use </p>\n\n<pre><code>apply plugin: 'kotlin-platform-android'\n</code></pre>\n\n<p>I am no longer able to resolve kotlinx in my imports. </p>\n\n<p>This is my android <strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-platform-android'\n\nandroid {\ncompileSdkVersion 28\ndefaultConfig {\n    applicationId \"com.phonepe.mykotlinnativesample\"\n    minSdkVersion 15\n    targetSdkVersion 28\n    versionCode 2\n    versionName \"2.0\"\n    testInstrumentationRunner     \"android.support.test.runner.AndroidJUnitRunner\"\n\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndef butterknife_version = '8.8.1'\n\ndependencies {\nimplementation fileTree(include: ['*.jar'], dir: 'libs')\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.2'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\nkapt 'com.jakewharton:butterknife:8.8.1'\nkapt 'com.jakewharton:butterknife-compiler:8.8.1'\nimplementation \"com.jakewharton:butterknife:$butterknife_version\"\nimplementation 'com.squareup.picasso:picasso:2.71828'\nimplementation 'com.google.android.material:material:1.0.0-alpha3'\nexpectedBy project(\":common\")\n}\n</code></pre>\n\n<p>this is my common <strong>build.gradle</strong></p>\n\n<pre><code>apply plugin: 'konan'\napply plugin: 'kotlin-platform-common'\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\ncompile 'org.jetbrains.kotlin:kotlin-stdlib'\ncompile \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlin_version\"\n}\nkonan.targets = ['iphone', 'iphone_sim']\ndef frameworkName = 'KotlinHello'\nkonanArtifacts {\nframework(frameworkName)\n}\ntask lipo(type: Exec, dependsOn: 'build') {\ndef frameworks = files(\n            \"$buildDir/konan/bin/iphone/${frameworkName}.framework/$frameworkName\",\n        \"$buildDir/konan/bin/iphone_sim/${frameworkName}.framework/$frameworkName\"\n)\ndef output = file(\"$buildDir/konan/bin/iphone_universal/${frameworkName}.framework/$frameworkName\")\ninputs.files frameworks\noutputs.file output\nexecutable = 'lipo'\nargs = frameworks.files\nargs += ['-create', '-output', output]\n}\ntask copyFramework(type: Copy, dependsOn: lipo) {\nfrom(\"$buildDir/konan/bin/iphone\") {\n    include '*/Headers/*'\n    include '*/Modules/*'\n    include '*/Info.plist'\n}\nfrom \"$buildDir/konan/bin/iphone_universal\"\ninto \"${rootProject.rootDir}/ios\"\n}\n</code></pre>\n"}, {"tags": ["junit", "kotlin"], "comments": [{"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533643901, "post_id": 51724536, "comment_id": 90413182, "body": "Kotlin is compiled to standard JVM class files, same as Java does. That&#39;s the reason you&#39;re able to run them, once you get them to compile. The main question is - why did you change the paths in the first place?"}, {"owner": {"reputation": 51, "user_id": 9497421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0aebf729c74c0021456492a77205a60?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9497421/pawel"}, "reply_to_user": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "edited": false, "score": 0, "creation_date": 1533717574, "post_id": 51724536, "comment_id": 90444332, "body": "It does not matter. if I create brand new project as in tutorial and modify kotlin test class in STS, it does not get auto compiled to .class file. However it works for main classes, so I think I need to report it as a bug."}, {"owner": {"reputation": 7132, "user_id": 4262407, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/07566752d315cdb136fde22e4a3c05a5?s=128&d=identicon&r=PG&f=1", "display_name": "mipa", "link": "https://stackoverflow.com/users/4262407/mipa"}, "edited": false, "score": 0, "creation_date": 1553519191, "post_id": 51724536, "comment_id": 97402104, "body": "I seem to be having the same problem. Did you find any solution?"}], "owner": {"reputation": 51, "user_id": 9497421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0aebf729c74c0021456492a77205a60?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9497421/pawel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533637989, "creation_date": 1533637657, "last_edit_date": 1533637989, "question_id": 51724536, "link": "https://stackoverflow.com/questions/51724536/classnotfoundexception-when-running-kotlin-test-class-in-junit-in-sts", "title": "ClassNotFoundException when running Kotlin test class in JUnit in STS", "body": "<p>I am just starting with Kotlin and recently followed tutorial on: <a href=\"https://docs.spring.io/sts/nan/v373/SpringToolSuiteAndKotlin.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/sts/nan/v373/SpringToolSuiteAndKotlin.html</a></p>\n\n<p>In my project however I changed src/main/kotlin and src/test/kotlin to say src/../java instead. I deleted .project, .classpath, .settings and target folders and re-imported project to make sure eclipse has fresh configuration. However I have issues when running JUnit tests on .kt test classes from STS.\nEclipse itself compiles tests class fine.</p>\n\n<p>I receive error from console (org.jetbrains.kotlin.ui.console):</p>\n\n<pre><code>E:\\Lhasa\\Workspace\\Ecosystem-Java8-Master-STS-3.8.4\\kotlin-demo\\src\\test\\java\\lhasa\\demo\\KotlinSimpleTest.kt\n    ERROR: Unresolved reference: KotlinLhasaDemo (5, 19)\n    ERROR: Unresolved reference: KotlinLhasaDemo (11, 14)\n</code></pre>\n\n<p>JUnit luncher don't see Kotlin test class at all (as it didn't get compiled).\nHowever if I run mvn install, mvn runs fine that class. Re-launching after STS JUnit will again produce error message, but this time it will discover the class and run tests on it.\nUpdating the .kt class however will again be not seen by Eclipse compilator.\nI guess JUnit launcher doesn't compile Kotlin test classes, I don't know how to fix it.</p>\n\n<p>This is my test class:</p>\n\n<pre><code>package com.example.demo\n\nimport org.junit.Test\nimport org.junit.Assert.*;\nimport lhasa.demo.KotlinLhasaDemo\n\nclass KotlinSimpleTest {\n    @Test\n    fun testCallNormalKotlin()\n    {\n        val demo = KotlinLhasaDemo();\n        demo.normalFunction();\n        demo.stringFunction();\n        val number = demo.incrementFunction(\"1\");\n        assertEquals(\"2\", number);\n    }\n}\n</code></pre>\n\n<p>This is the class I am calling (it works fine):</p>\n\n<pre><code>package lhasa.demo\n\nclass KotlinLhasaDemo {\n\n    fun normalFunction() {\n\n    }\n\n    fun stringFunction(): String {\n        return  \"\" // ; not required\n    }\n\n    fun incrementFunction(number: String): String {\n        var i = Integer.parseInt(number)\n        i++\n        return Integer.toString(i)\n    }\n}\n</code></pre>\n\n<p>I am using STS 3.9.5 with Kotlin STS 0.8.6 extension.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "edited": false, "score": 3, "creation_date": 1533633351, "post_id": 51723003, "comment_id": 90406542, "body": "Basically you are asking for contracts, which are not yet available. See <a href=\"https://discuss.kotlinlang.org/t/status-of-kotlin-internal-contracts/6392/3\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/status-of-kotlin-internal-contracts&zwnj;&#8203;/&hellip;</a> and <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/kotlin-contracts.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/blob/master/proposals/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10756, "user_id": 29549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4dd2ffef08bacec92d6fae6b2bb67cbb?s=128&d=identicon&r=PG", "display_name": "Henning", "link": "https://stackoverflow.com/users/29549/henning"}, "is_accepted": true, "score": 4, "last_activity_date": 1533633550, "creation_date": 1533633550, "answer_id": 51723183, "question_id": 51723003, "link": "https://stackoverflow.com/questions/51723003/immutable-val-null-check-inside-extension-function/51723183#51723183", "title": "Immutable val null check inside extension function", "body": "<p>This is not yet available in Kotlin.</p>\n\n<p>There is a feature called \"Contracts\" which is currently developed at JetBrains (<a href=\"https://discuss.kotlinlang.org/t/status-of-kotlin-internal-contracts/6392\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/status-of-kotlin-internal-contracts/6392</a>) \u2013 it's similar to what they've done with <a href=\"https://www.jetbrains.com/help/idea/contract-annotations.html\" rel=\"nofollow noreferrer\">their own <code>@Contract</code> annotation</a> for Java code, but will have support from the compiler.</p>\n\n<p>However, it's in early stages and there is no release date yet.</p>\n"}], "owner": {"reputation": 11403, "user_id": 790464, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Gy1Rq.jpg?s=128&g=1", "display_name": "Ahmed Hegazy", "link": "https://stackoverflow.com/users/790464/ahmed-hegazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 51723183, "answer_count": 1, "score": 2, "last_activity_date": 1533633550, "creation_date": 1533633022, "question_id": 51723003, "link": "https://stackoverflow.com/questions/51723003/immutable-val-null-check-inside-extension-function", "title": "Immutable val null check inside extension function", "body": "<p>When I have an immutable val optional, the compiler tracks the information about the check I performed for null and can treat the variable as non null and call it directly inside the if condition.</p>\n\n<pre><code>val s: String? = \"test\"\n\nif (s != null) {\n   s.startsWith(\"3\") // This works\n}\n\nif (!s.isNullOrEmpty()) {\n    s.startsWith(\"3\") // Not working\n}\n</code></pre>\n\n<p>Is it possible to make that check in an extension function and keep the compiler aware of it?</p>\n"}, {"tags": ["kotlin", "null", "overloading"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1592808517, "post_id": 51722770, "comment_id": 110545670, "body": "It seems as if the compiler has been improved regarding this constellation... with kotlin 1.3.72 having a variable initialized to <code>null</code> but with appropriate type, now calls the correct function without issues..."}], "answers": [{"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1533633586, "post_id": 51722964, "comment_id": 90406689, "body": "Good point in underlying the &quot;no difference&quot; behavior compared to plain Java"}, {"owner": {"reputation": 787, "user_id": 8421252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/qrqd6.png?s=128&g=1", "display_name": "mazzy", "link": "https://stackoverflow.com/users/8421252/mazzy"}, "edited": false, "score": 0, "creation_date": 1533633866, "post_id": 51722964, "comment_id": 90406862, "body": "I&#39;ve tried <code>null as IntArray</code> and got <code>null cannot be cast to non-null type kotlin.IntArray</code>. Yes, <code>?</code> is significant. Thanks."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1533633922, "post_id": 51722964, "comment_id": 90406905, "body": "Ah... well, yes... Only types with a <code>?</code> can hold <code>null</code> values, others not."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 10, "last_activity_date": 1533633595, "last_edit_date": 1533633595, "creation_date": 1533632909, "answer_id": 51722964, "question_id": 51722770, "link": "https://stackoverflow.com/questions/51722770/kotlin-null-and-overload-resolution-ambiguity/51722964#51722964", "title": "Kotlin: null and &quot;Overload resolution ambiguity&quot;", "body": "<p>Instead of a variable just cast it, i.e. <code>null as IntArray?</code>, e.g.:</p>\n\n<pre><code>origImg.data.getSamples(0, 0, origImg.width, origImg.height, 0, null as IntArray?)\n</code></pre>\n\n<p>Note that this is the same behaviour as in Java, where you also needed to cast <code>null</code>, e.g. <code>(int[]) null</code>, to call the appropriate overloaded method.</p>\n\n<p>You could build a function that gives you a ~typed <code>null</code> (if it doesn't exist yet) with a reified type:</p>\n\n<pre><code>inline fun &lt;reified T&gt;typedNull(): T? = null\n</code></pre>\n\n<p>and calling it with:</p>\n\n<pre><code>typedNull&lt;IntArray&gt;()\n</code></pre>\n\n<p>But then again, <code>null as IntArray?</code> is clear enough I think and people know it already.</p>\n"}], "owner": {"reputation": 787, "user_id": 8421252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/qrqd6.png?s=128&g=1", "display_name": "mazzy", "link": "https://stackoverflow.com/users/8421252/mazzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1902, "favorite_count": 0, "accepted_answer_id": 51722964, "answer_count": 1, "score": 5, "last_activity_date": 1533633595, "creation_date": 1533632282, "question_id": 51722770, "link": "https://stackoverflow.com/questions/51722770/kotlin-null-and-overload-resolution-ambiguity", "title": "Kotlin: null and &quot;Overload resolution ambiguity&quot;", "body": "<p>I want to call a overloaded java-function from Kotlin. I want to use a <code>null</code> for parameter that significant to a overload resolution.</p>\n\n<p>How to specify <code>IntArray</code> type for <code>null</code> value?</p>\n\n<p>I don't like a solution with additional varibale of common type.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pGPXo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pGPXo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "android", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1533626228, "post_id": 51720948, "comment_id": 90402416, "body": "<a href=\"https://stackoverflow.com/questions/38877952/start-kotlin-activity-kt-from-java-activity-java\" title=\"start kotlin activity kt from java activity java\">stackoverflow.com/questions/38877952/&hellip;</a>"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1533627190, "post_id": 51720948, "comment_id": 90402960, "body": "It should be accessed as a regural Java class. Post the code of the <code>b</code> class decralation, and further usage from java"}, {"owner": {"reputation": 51, "user_id": 5026146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cozAG.png?s=128&g=1", "display_name": "AndrinoG", "link": "https://stackoverflow.com/users/5026146/andrinog"}, "edited": false, "score": 0, "creation_date": 1533631258, "post_id": 51720948, "comment_id": 90405229, "body": "Please see my edit. Thanks in Advance."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5026146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cozAG.png?s=128&g=1", "display_name": "AndrinoG", "link": "https://stackoverflow.com/users/5026146/andrinog"}, "edited": false, "score": 1, "creation_date": 1533688240, "post_id": 51725821, "comment_id": 90434811, "body": "I just realized that I have accidentally deleted &quot;apply plugin: &#39;kotlin-android&#39;&quot; in the gradle. Its working now. Thanks man!"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 51, "user_id": 5026146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cozAG.png?s=128&g=1", "display_name": "AndrinoG", "link": "https://stackoverflow.com/users/5026146/andrinog"}, "edited": false, "score": 0, "creation_date": 1533711772, "post_id": 51725821, "comment_id": 90440865, "body": "Mistakes are often hidden in a simple places :) Glad helped"}, {"owner": {"reputation": 96, "user_id": 11017313, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X7UWO0Lplhg/AAAAAAAAAAI/AAAAAAAAAeI/5e1rU1tThTM/photo.jpg?sz=128", "display_name": "Kalpana Aneyrao", "link": "https://stackoverflow.com/users/11017313/kalpana-aneyrao"}, "edited": false, "score": 0, "creation_date": 1605945829, "post_id": 51725821, "comment_id": 114813204, "body": "I did it same way but my activity layout not inflating. Any help is appreciable. This first time I am calling kotlin activity from java class"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 96, "user_id": 11017313, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X7UWO0Lplhg/AAAAAAAAAAI/AAAAAAAAAeI/5e1rU1tThTM/photo.jpg?sz=128", "display_name": "Kalpana Aneyrao", "link": "https://stackoverflow.com/users/11017313/kalpana-aneyrao"}, "edited": false, "score": 0, "creation_date": 1606119291, "post_id": 51725821, "comment_id": 114853117, "body": "@KalpanaAneyrao, can say like this. post a question with your code."}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1533641742, "creation_date": 1533641742, "answer_id": 51725821, "question_id": 51720948, "link": "https://stackoverflow.com/questions/51720948/how-to-intent-from-a-java-class-to-a-kotlin-class-in-android-studios/51725821#51725821", "title": "How to intent from a java class to a kotlin class in Android Studios", "body": "<p>So, I've tried to use your classes, and it worked like it should:\n<a href=\"https://i.stack.imgur.com/ve6ri.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ve6ri.png\" alt=\"enter image description here\"></a>\nAs you can see it can use <code>b</code> and get <code>class</code> from it. (of course I don't have <code>activity_register</code> layout so it is red)</p>\n\n<p>Probably the problem lays not in the Java-Kotlin relation, but in something else. Please check your code/project. I would guess that there is also an variable <code>b</code> that shadow your activity, but I think that in real code, your activity isn't called <code>b</code>.</p>\n"}], "owner": {"reputation": 51, "user_id": 5026146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cozAG.png?s=128&g=1", "display_name": "AndrinoG", "link": "https://stackoverflow.com/users/5026146/andrinog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1423, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1533641742, "creation_date": 1533626079, "last_edit_date": 1533631200, "question_id": 51720948, "link": "https://stackoverflow.com/questions/51720948/how-to-intent-from-a-java-class-to-a-kotlin-class-in-android-studios", "title": "How to intent from a java class to a kotlin class in Android Studios", "body": "<p>I am trying to access a kotlin class (b.kt) from a java class (a.java). </p>\n\n<pre><code>Intent intent = new Intent(a.this,b.class);\nstartActivity(intent);\n</code></pre>\n\n<p>But I am getting this <code>error: cannot find symbol class RegisterActivity</code>.</p>\n\n<p>Is there a way to access a <code>kotlin</code> class from a <code>java</code> class?</p>\n\n<p>Here is where I called b.kt on a.java</p>\n\n<pre><code>bt_click.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(a.this,b.class);\n                startActivity(intent);\n            }\n        });\n    }\n</code></pre>\n\n<p>Here is b.kt</p>\n\n<pre><code>package com.example.android.app123\n\n    import android.app.Activity\n    import android.os.Bundle\n    import android.support.v7.app.AppCompatActivity\n    import android.support.v7.widget.CardView\n    import android.util.Log\n    import android.widget.EditText\n\n\n    class b: AppCompatActivity() {\n\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            requestWindowFeature(android.view.Window.FEATURE_NO_TITLE)\n            setContentView(R.layout.activity_register)\n\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "in-app-purchase", "in-app-billing", "in-app"], "answers": [{"tags": [], "owner": {"reputation": 280, "user_id": 6061311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6cea8d21976b9972ad74747c029da26?s=128&d=identicon&r=PG&f=1", "display_name": "Mahesh P", "link": "https://stackoverflow.com/users/6061311/mahesh-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1534005040, "last_edit_date": 1534005040, "creation_date": 1533745069, "answer_id": 51751335, "question_id": 51720111, "link": "https://stackoverflow.com/questions/51720111/in-app-billing-library-doesnt-provide-the-updated-purchaselist-after-consuming/51751335#51751335", "title": "In App Billing Library doesn&#39;t provide the Updated PurchaseList after Consuming the Purchase Item?", "body": "<p>You just have to use <code>queryPurchase</code> method instead of <code>queryPurchaseHistoryAsync</code> as below:</p>\n\n<pre><code>mBillingClient.queryPurchase(BillingClient.SkuType.INAPP, new PurchaseHistoryResponseListener() {\n    @Override\n    public void onPurchaseHistoryResponse(int responseCode, List&lt;Purchase&gt; purchasesList) {\n        if (responseCode == BillingClient.BillingResponse.OK) {\n            purchases = purchasesList;\n            retrieveItemList();\n        }\n    }\n});\n</code></pre>\n\n<p>Difference between both the method is that <code>queryPurchaseHistoryAync</code> will provide you the list of all the items you have purchased in your lifetime, even after the purchased item is used; while <code>queryPurchase</code> will provide you the list of currently purchased items.</p>\n"}], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 2, "accepted_answer_id": 51751335, "answer_count": 1, "score": 4, "last_activity_date": 1534005040, "creation_date": 1533623081, "last_edit_date": 1533713009, "question_id": 51720111, "link": "https://stackoverflow.com/questions/51720111/in-app-billing-library-doesnt-provide-the-updated-purchaselist-after-consuming", "title": "In App Billing Library doesn&#39;t provide the Updated PurchaseList after Consuming the Purchase Item?", "body": "<p>I am currently Implementing in App Purchase using In App Billing Library,</p>\n\n<p>After Consuming the Purchased Item using method :</p>\n\n<pre><code>mBillingClient.consumeAsync(purchaseToken, new ConsumeResponseListener() {\n                @Override\n                public void onConsumeResponse(int responseCode, String purchaseToken) {\n                    if (responseCode == BillingClient.BillingResponse.OK) {\n                        Toast.makeText(getApplicationContext(), \"Item Consumed Successfully...\" + purchaseToken, Toast.LENGTH_LONG).show();\n                    }\n                }\n            });\n            break;\n</code></pre>\n\n<p>when I open the app again and want to Retrieve the list of the Purchases List using the Method:</p>\n\n<pre><code>mBillingClient.queryPurchaseHistoryAsync(BillingClient.SkuType.INAPP, new PurchaseHistoryResponseListener() {\n        @Override\n        public void onPurchaseHistoryResponse(int responseCode, List&lt;Purchase&gt; purchasesList) {\n            if (responseCode == BillingClient.BillingResponse.OK) {\n                purchases = purchasesList;\n                retrieveItemList();\n            }\n        }\n    });\n</code></pre>\n\n<p>It also provides me the Item which I have consumed in the list. So, help me to find what i'm doing wrong to get the updated purchase List.\nThanks.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 1, "creation_date": 1533618315, "post_id": 51719076, "comment_id": 90399099, "body": "please mention your problem statement.!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8545796"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533619281, "post_id": 51719076, "comment_id": 90399410, "body": "I can&#39;t currently edit the post, but the listView doesn&#39;t show any items"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533619499, "post_id": 51719076, "comment_id": 90399480, "body": "have a look at my answer tell me one thing more       subtitleList.add(&quot;subtitle&quot;) why you are adding this static data &quot;subtitle &quot;.?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8545796"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533620170, "post_id": 51719076, "comment_id": 90399685, "body": "well, I am currently focusing on getting the child key that will be displayed as the title"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533620354, "post_id": 51719076, "comment_id": 90399745, "body": "run below code and check. are you getting data or not.? and post your read write rules for firebase database"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8545796"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533620561, "post_id": 51719076, "comment_id": 90399814, "body": "nope doesn&#39;t work, the firebase rules are set to test mode."}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533620729, "post_id": 51719076, "comment_id": 90399868, "body": "kindly post rules"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8545796"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533623988, "post_id": 51719076, "comment_id": 90401238, "body": "may I ask how??"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1533626463, "post_id": 51719076, "comment_id": 90402535, "body": "simply update adapter after adding data into list. after for each loop"}], "answers": [{"tags": [], "owner": {"reputation": 4010, "user_id": 1958659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/70540a61e67f7f3042c6930bd9074b1b?s=128&d=identicon&r=PG", "display_name": "npace", "link": "https://stackoverflow.com/users/1958659/npace"}, "is_accepted": true, "score": 0, "last_activity_date": 1533625777, "creation_date": 1533625777, "answer_id": 51720853, "question_id": 51719076, "link": "https://stackoverflow.com/questions/51719076/firebase-get-all-children-and-add-to-listview/51720853#51720853", "title": "Firebase - Get all Children and add to ListView", "body": "<p>In <code>override fun onDataChange(dataSnapshot: DataSnapshot)</code>, after you add all the stuff to your lists, you need to call <code>adapter.notifyDataSetChanged()</code>.</p>\n\n<p>You can either keep a global <code>var</code> reference to the adapter, or find the recycler view by ID and get its adapter.</p>\n\n<p>You probably also want to clear the lists before adding stuff to them.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8545796"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 51720853, "answer_count": 1, "score": -1, "last_activity_date": 1546606286, "creation_date": 1533617891, "last_edit_date": 1533635790, "question_id": 51719076, "link": "https://stackoverflow.com/questions/51719076/firebase-get-all-children-and-add-to-listview", "title": "Firebase - Get all Children and add to ListView", "body": "<p>I have 4 fragments in an activity, the Database Fragment, currently holds the ListView that will query Firebase to get the child from a parent node, \"Asset\". Also, the ListView have a custom adapter that has enables it to have a title and subtitle.</p>\n\n<p>This is the database structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/MYzNd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MYzNd.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the Main Activity:</p>\n\n<pre><code>private var toolbar: ActionBar? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    toolbar = supportActionBar\n\n    toolbar?.title = resources.getString(R.string.navigation_database)\n    loadFragment(DatabaseFragment())\n\n    setNavigation()\n}\nprivate fun setNavigation(){\n    val bottomNavigationView = findViewById&lt;BottomNavigationView&gt;(R.id.bottomNavigation)\n    bottomNavigationView.setOnNavigationItemSelectedListener { item -&gt;\n\n        var fragment: Fragment\n\n        when (item.itemId) {\n            R.id.navigation_database -&gt; {\n                toolbar?.title = resources.getString(R.string.navigation_database)\n                fragment = DatabaseFragment()\n                loadFragment(fragment)\n            }\n            R.id.navigation_track -&gt; {\n                toolbar?.title = resources.getString(R.string.navigation_tracking)\n                fragment = TrackingFragment()\n                loadFragment(fragment)\n            }\n            R.id.navigation_activities -&gt; {\n                toolbar?.title = resources.getString(R.string.navigation_activities)\n                fragment = ActivitiesFragment()\n                loadFragment(fragment)\n            }\n            R.id.navigation_references -&gt; {\n                toolbar?.title = resources.getString(R.string.navigation_references)\n                fragment = ReferencesFragment()\n                loadFragment(fragment)\n            }\n        }\n        true\n    }\n}\nprivate fun loadFragment(fragment: Fragment){\n    val fragmentTransaction = supportFragmentManager.beginTransaction()\n    fragmentTransaction.replace(R.id.childLayout, fragment)\n    fragmentTransaction.addToBackStack(null)\n    fragmentTransaction.commit()\n}\n</code></pre>\n\n<p>This is the Database Fragment:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val rootView = inflater.inflate(R.layout.fragment_database, container, false)\n\n    val titleList = ArrayList&lt;String&gt;()\n    val subtitleList = ArrayList&lt;String&gt;()\n\n    val databaseReference = FirebaseDatabase.getInstance().getReference(\"Assets\")\n    databaseReference.addValueEventListener(object : ValueEventListener{\n        override fun onCancelled(databaseError: DatabaseError) {\n        }\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n            for(childSnapshot: DataSnapshot in dataSnapshot.children){\n                titleList.add(childSnapshot.key.toString())\n                subtitleList.add(\"subtitle\")\n            }\n        }\n\n    })\n\n    val listView = rootView.findViewById(R.id.databaseListView) as ListView\n    val adapter = DatabaseListAdapter(activity as MainActivity, titleList, subtitleList)\n    listView.adapter = adapter\n\n    return rootView\n}\n</code></pre>\n\n<p>This is the Custom Adapter:</p>\n\n<pre><code>public Context context;\npublic ArrayList&lt;String&gt; titleList;\npublic ArrayList&lt;String&gt; subtitleList;\n\npublic DatabaseListAdapter(Context context, ArrayList&lt;String&gt; titleList, ArrayList&lt;String&gt; subtitleList){\n    this.context = context;\n    this.titleList = titleList;\n    this.subtitleList = subtitleList;\n}\n\n@Override\npublic int getCount() {\n    return titleList.size();\n}\n\n@Override\npublic Object getItem(int position) {\n    return titleList.get(position);\n}\n\n@Override\npublic long getItemId(int position) {\n    return position;\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View rootView = LayoutInflater.from(context).inflate(R.layout.layout_listview_database, parent, false);\n\n    TextView titleView = rootView.findViewById(R.id.titleView);\n    TextView subtitleView = rootView.findViewById(R.id.subtitleView);\n\n    titleView.setText(titleList.get(position));\n    subtitleView.setText(subtitleList.get(position));\n\n    return rootView;\n}\n</code></pre>\n\n<p>Firebase Database Rules:</p>\n\n<pre><code>{\n\"rules\": {\n\".read\": true,\n\".write\": true\n   }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "bigdecimal"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1533618015, "post_id": 51718960, "comment_id": 90399010, "body": "&quot;Works In Standard Java (TM)&quot; - <a href=\"https://repl.it/repls/OutlyingUnusualProducts\" rel=\"nofollow noreferrer\">repl.it/repls/OutlyingUnusualProducts</a> (how is Kotlin and/or the setup different?)"}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 1, "creation_date": 1533618068, "post_id": 51718960, "comment_id": 90399024, "body": "Note that it works if you use the string constructor: <a href=\"https://ideone.com/qqyV0c\" rel=\"nofollow noreferrer\">ideone.com/qqyV0c</a>"}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1533618145, "post_id": 51718960, "comment_id": 90399051, "body": "@user2864740 Well for starts, it&#39;s a different language."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "reply_to_user": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 2, "creation_date": 1533618349, "post_id": 51718960, "comment_id": 90399107, "body": "@mypetlion It&#39;s the same java.math.BigDecimal class, no? So, a mostly non-interesting reply. A more interesting reply would be some thing like <code>print</code> &quot;does such and such magic&quot; or &quot;Kotlin is calling a different constructor&quot; or &quot;/&quot; in Kotlin is not calling the <code>divide</code> method.. or whatever is <i>really</i> occurring. It&#39;s this <i>interesting / relevant / focused</i> information that should make it into answers."}, {"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1533619691, "post_id": 51718960, "comment_id": 90399534, "body": "@user2864740 I didn&#39;t post an answer. My point was that if the question is about kotlin, and your request for clarifying information is essentially &quot;What&#39;s kotlin&quot;, then maybe just don&#39;t bother."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "reply_to_user": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 0, "creation_date": 1533654695, "post_id": 51718960, "comment_id": 90420906, "body": "@mypetlion And you <i>did</i> post a snarky comment. Do note how a &quot;comment from someone who doesn&#39;t know Kotlin&quot; supplied the reasoning in one of three presented hypothesis.. the issue with a &quot;it&#39;s a different language&quot; without qualification is it is dismisses the fact that Kotlin works on rules, many of which are shared with a multitude of other languages, including Java. This is especially so when the same underlying runtime/types are used."}], "answers": [{"comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1533619495, "post_id": 51719193, "comment_id": 90399476, "body": "There&#39;s no precision loss: <code>BigDecimal(1.0) == BigDecimal(&quot;1&quot;)</code>"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1533619643, "post_id": 51719193, "comment_id": 90399523, "body": "@shmosel I mean <code>1.1</code>"}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1533619716, "post_id": 51719193, "comment_id": 90399538, "body": "The question was about <code>1.0</code>."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1592184638, "post_id": 51719193, "comment_id": 110324900, "body": "the question was about 1.1, and it still is <code>BigDecimal(1.1) &#47; BigDecimal(2.0)</code>"}], "tags": [], "owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "is_accepted": false, "score": 2, "last_activity_date": 1533619619, "last_edit_date": 1533619619, "creation_date": 1533618525, "answer_id": 51719193, "question_id": 51718960, "link": "https://stackoverflow.com/questions/51718960/java-math-bigdecimal-division-inaccuracy/51719193#51719193", "title": "java.math.BigDecimal division inaccuracy", "body": "<p><code>1.1</code> is a <code>double</code> literal</p>\n\n<blockquote>\n  <p>A floating-point literal is of type float if it ends with the letter F or f; otherwise its type is double and it can optionally end with the letter D or d.</p>\n  \n  <p><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a></p>\n</blockquote>\n\n<p>Therefore by the time the value is passed to <code>BigDecimal</code> you already lost precision due to the <code>double</code> value. <code>BigDecimal(1.1)</code> is equivalent to <code>double d = 1.1; BigDecimal(d)</code>. You need to pass the value as string</p>\n\n<pre><code>BigDecimal(\"1.1\")\n</code></pre>\n\n<p>unless the value is exactly representable as a double like <code>1.5</code></p>\n"}, {"comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 1, "creation_date": 1533618895, "post_id": 51719198, "comment_id": 90399280, "body": "It has something to do with scale specifically. It works if you do <code>BigDecimal(&quot;1.0&quot;)</code> or <code>BigDecimal(1.0).setScale(1)</code>."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1533618537, "last_edit_date": 1592644375, "creation_date": 1533618537, "answer_id": 51719198, "question_id": 51718960, "link": "https://stackoverflow.com/questions/51718960/java-math-bigdecimal-division-inaccuracy/51719198#51719198", "title": "java.math.BigDecimal division inaccuracy", "body": "<p>If you write <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#divide(java.math.BigDecimal)\" rel=\"noreferrer\"><code>divide</code></a> explicitly, it will work the same way as it does in Java:</p>\n<pre><code>val a = BigDecimal(1.0)\nval b = BigDecimal(2.0)\nval x = a.divide(b) // 0.5\n</code></pre>\n<p>When you use the <code>/</code> operator, that translates to the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/java.math.-big-decimal/div.html\" rel=\"noreferrer\"><code>BigDecimal.div</code></a> extension from the standard library, which does the following:</p>\n<blockquote>\n<p>Enables the use of the / operator for BigDecimal instances.</p>\n<p>The scale of the result is the same as the scale of this (divident), and for rounding the RoundingMode.HALF_EVEN rounding mode is used.</p>\n</blockquote>\n<p>You can take a look at how the different <code>RoundingMode</code> constants work <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 93, "user_id": 3254156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240dba722682a404f8a76e3db99f4a2c?s=128&d=identicon&r=PG&f=1", "display_name": "user3254156", "link": "https://stackoverflow.com/users/3254156/user3254156"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2008, "favorite_count": 0, "accepted_answer_id": 51719198, "answer_count": 2, "score": 5, "last_activity_date": 1533619619, "creation_date": 1533617032, "last_edit_date": 1533618554, "question_id": 51718960, "link": "https://stackoverflow.com/questions/51718960/java-math-bigdecimal-division-inaccuracy", "title": "java.math.BigDecimal division inaccuracy", "body": "<p>In Kotlin, BigDecimal division returns strange results.</p>\n\n<pre><code>BigDecimal(1.0) / BigDecimal(2.0)\n// returns 0.0\n// Just like Int(1) / Int(2) returns 0\n</code></pre>\n\n<p>But:</p>\n\n<pre><code>BigDecimal(1.1) / BigDecimal(2.0)\n// returns 0.55\n// Just like Double(1.1) / Double(2.0) returns 0.55\n</code></pre>\n\n<p>So why does that happen and how can I make <code>1.0 / 2.0</code> returns 0.5 with BigDecimal without using <code>divide()</code> giving a scale parameter?</p>\n\n<p>UPDATES:</p>\n\n<p>Here are the complete codes:</p>\n\n<pre><code>Welcome to Kotlin version 1.2.41 (JRE 1.8.0_172-b11)\nType :help for help, :quit for quit\n&gt;&gt;&gt; import java.math.BigDecimal\n&gt;&gt;&gt; BigDecimal(1.0) / BigDecimal(2.0)\n0\n&gt;&gt;&gt; BigDecimal(1.1) / BigDecimal(2.0)\n0.550000000000000044408920985006261616945266723632812\n</code></pre>\n\n<p>UPDATES 2:</p>\n\n<p>According to @user2864740</p>\n\n<pre><code>BigDecimal(1.0).divide(BigDecimal(2.0))\n// returns 0.5\n</code></pre>\n\n<p>and</p>\n\n<pre><code>BigDecimal(\"1.0\") / BigDecimal(2.0)\n// returns 0.5\n</code></pre>\n\n<p>So the results are confusing. For BigDecimals, why do <code>1.0 / 2.0</code> returns 0.0, <code>1.0.divide(2.0)</code> returns 0.5, and <code>\"1.0\" / 2.0</code> returns 0.5?</p>\n"}, {"tags": ["android", "memory-leaks", "kotlin"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 1, "creation_date": 1533617545, "post_id": 51718733, "comment_id": 90398867, "body": "Can you please share the whole message given by canary?"}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1264, "user_id": 1373333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xSBLR.jpg?s=128&g=1", "display_name": "fireb86", "link": "https://stackoverflow.com/users/1373333/fireb86"}, "edited": false, "score": 1, "creation_date": 1606133685, "post_id": 51722430, "comment_id": 114859311, "body": "Yes! To make it work, you have to be careful about which object holds the delegated property and limit that to objects whose lifecycle is in sync with the resources used in the lambda. By &#39;in sync&#39; I mean that those objects should not live longer than any of the referenced resources, such as <code>Activity</code> in the question."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 15, "last_activity_date": 1549547896, "last_edit_date": 1549547896, "creation_date": 1533631200, "answer_id": 51722430, "question_id": 51718733, "link": "https://stackoverflow.com/questions/51718733/why-kotlin-by-lazy-can-cause-memory-leak-in-android/51722430#51722430", "title": "why kotlin by lazy can cause memory leak in android?", "body": "<p>When you define a <code>val</code> delegated <code>by lazy {...}</code>, the lambda you pass to the delegate captures the scope into its closure (though it's only the outer <code>this</code> in your case, it may be an <code>Activity</code> instance).</p>\n\n<p>Then the delegate instance holds the references it captured until the moment the <code>val</code> is first accessed. Then it invokes the lambda and 'forgets' the closure.</p>\n\n<p>But if your <code>val</code> is accessed too late (or never), the lambda's closure may keep the objects in memory that would otherwise be disposed, which is a possible memory leak.</p>\n"}], "owner": {"reputation": 626, "user_id": 6596737, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qmdFm.jpg?s=128&g=1", "display_name": "Werb", "link": "https://stackoverflow.com/users/6596737/werb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 2, "answer_count": 1, "score": 11, "last_activity_date": 1605874701, "creation_date": 1533615305, "last_edit_date": 1533615415, "question_id": 51718733, "link": "https://stackoverflow.com/questions/51718733/why-kotlin-by-lazy-can-cause-memory-leak-in-android", "title": "why kotlin by lazy can cause memory leak in android?", "body": "<p>I define a loading Dialog like this</p>\n\n<pre><code>private val loadingDialog: LoadingDialog by lazy { LoadingDialog() }\n</code></pre>\n\n<p><code>loadingDialog</code> is a <code>DialogFragment</code></p>\n\n<p>when I use <code>leakcanary</code> to watch my app, I find the <code>loadingDialog</code> cause memory</p>\n\n<p>Can somebody help me?</p>\n"}, {"tags": ["kotlin", "immutability", "mutable"], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1533614022, "post_id": 51718486, "comment_id": 90397987, "body": "Do note the <code>val</code> an <code>var</code> as well. If you could consider elaborate it use with val and var, would be helpful."}, {"owner": {"reputation": 545, "user_id": 1214236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482c5dc5079b3bffe305ee9dcf40b3bf?s=128&d=identicon&r=PG", "display_name": "Alowaniak", "link": "https://stackoverflow.com/users/1214236/alowaniak"}, "edited": false, "score": 0, "creation_date": 1533635654, "post_id": 51718486, "comment_id": 90408028, "body": "You swapped the val and var, val can be assigned only once, var can be changed"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "reply_to_user": {"reputation": 545, "user_id": 1214236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482c5dc5079b3bffe305ee9dcf40b3bf?s=128&d=identicon&r=PG", "display_name": "Alowaniak", "link": "https://stackoverflow.com/users/1214236/alowaniak"}, "edited": false, "score": 1, "creation_date": 1533645212, "post_id": 51718486, "comment_id": 90414045, "body": "@Alowaniak I fixed it ;)"}], "tags": [], "owner": {"reputation": 522, "user_id": 4555203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb9310bb40c6bbc266d4b1c8923cb627?s=128&d=identicon&r=PG&f=1", "display_name": "Ramanathan Ganesan", "link": "https://stackoverflow.com/users/4555203/ramanathan-ganesan"}, "is_accepted": false, "score": 12, "last_activity_date": 1533651845, "last_edit_date": 1533651845, "creation_date": 1533613171, "answer_id": 51718486, "question_id": 51718229, "link": "https://stackoverflow.com/questions/51718229/kotlin-val-mutablelist-vs-var-immutablelist-when-to-use-which/51718486#51718486", "title": "Kotlin: val mutableList vs var immutableList. When to use which?", "body": "<p>Mutable and immutable list increase the design clarity of the model. <br>\nThis is to force developer to think and clarify the purpose of collection.</p>\n\n<ol>\n<li>If the collection will change as part of design, use mutable collection</li>\n<li>If model is meant only for viewing, use immutable list</li>\n</ol>\n\n<p>Purpose of <code>val</code> and <code>var</code> is different from immutable and mutable list. <br>\n<strong><em><code>val</code></em></strong> and <strong><em><code>var</code></em></strong> keyword talk about the how a value/reference of a variable should be treated.</p>\n\n<ul>\n<li><strong><em><code>var</code></em></strong> - value/reference assigned to a variable can be changed at any point of time.</li>\n<li><strong><em><code>val</code></em></strong> - value/reference can be assigned only once to a variable and can't be changed later point in the execution.</li>\n</ul>\n\n<p>It is completely valid in Kotlin to assign mutable list to a val and add element to it.</p>\n\n<pre><code>val a = mutableListOf(1,2,3,4)\na.add(5)\nprintln(a)\n</code></pre>\n\n<p>will output</p>\n\n<pre><code>[1, 2, 3, 4, 5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "is_accepted": false, "score": 2, "last_activity_date": 1533802753, "creation_date": 1533802753, "answer_id": 51762058, "question_id": 51718229, "link": "https://stackoverflow.com/questions/51718229/kotlin-val-mutablelist-vs-var-immutablelist-when-to-use-which/51762058#51762058", "title": "Kotlin: val mutableList vs var immutableList. When to use which?", "body": "<blockquote>\n  <p>I guess there are different scenarios one is preferred over the other. Hence would like to get to know when one should be used over the other etc.</p>\n</blockquote>\n\n<p>There are several reasons why immutable objects are often preferable:</p>\n\n<ul>\n<li>They encourage functional programming, where state is not mutated, but passed on to the next function which creates a new state based on it. This is very well visible in the Kotlin collection methods such as <code>map</code>, <code>filter</code>, <code>reduce</code>, etc.</li>\n<li>A program without side effects is often easier to understand and debug (you can be sure that the value of an object will always be the one at its definition).</li>\n<li>In multithreaded programs, immutable resources cannot cause race conditions, as no write access is involved.</li>\n</ul>\n\n<p>You have also some disadvantages:</p>\n\n<ul>\n<li>Copying entire collections just to add/remove a single element is computationally expensive.</li>\n<li>In some cases, immutability can make the code more complex, when you tediously need to change single fields. In Kotlin, data classes come with a built-in <code>copy()</code> method where you can copy an instance, while providing new values for only some of the fields.</li>\n</ul>\n\n<p>Which one you end up using depends on the use case at hand. For data classes (bundling a few attributes together), it's often a good idea to stick to immutability. For collections, if you use immutable ones just to modify their copies and re-assign the reference pointing to them all the time, you can as well use mutable ones. If you share a collection to many parts of your application that depend on the state remaining constant, use immutable. </p>\n\n<p>Keep in mind that Kotlin collections have different concepts:</p>\n\n<ol>\n<li><strong>Mutable collections:</strong> <code>MutableList&lt;T&gt;, MutableSet&lt;T&gt;, MutableMap&lt;T&gt;</code><br>\nThese can be modified at any time.</li>\n<li><strong>Read-only collections:</strong> <code>List&lt;T&gt;, Set&lt;T&gt;, Map&lt;T&gt;</code><br>\nThese provide a <em>read-only view</em> on the collection, i.e. the collection cannot be modified <em>through that reference</em>. It gives no guarantee about immutability though (another mutable reference to it can still exist and used for modification).</li>\n<li>(Proposed, not yet part of Kotlin)<br>\n<strong>Immutable collections:</strong> <code>ImmutableList&lt;T&gt;, ImmutableSet&lt;T&gt;, ImmutableMap&lt;T&gt;</code><br>\nThese would guarantee true immutability, and provide patterns to build new modified collections based on them. See the <a href=\"https://github.com/Kotlin/kotlinx.collections.immutable\" rel=\"nofollow noreferrer\">Proposal</a> for details.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 245, "user_id": 8578878, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iGDoWFg7HR8/AAAAAAAAAAI/AAAAAAAADI8/S5KvKt6zh7c/photo.jpg?sz=128", "display_name": "Leon Chang", "link": "https://stackoverflow.com/users/8578878/leon-chang"}, "is_accepted": false, "score": 4, "last_activity_date": 1566182876, "last_edit_date": 1566182876, "creation_date": 1552028305, "answer_id": 55058218, "question_id": 51718229, "link": "https://stackoverflow.com/questions/51718229/kotlin-val-mutablelist-vs-var-immutablelist-when-to-use-which/55058218#55058218", "title": "Kotlin: val mutableList vs var immutableList. When to use which?", "body": "<blockquote>\n  <p>val -> You could think that you <strong>can't reassign</strong> for the variable.</p>\n</blockquote>\n\n<pre><code>//that is ok\nvar a:Int = 1\na=2\n//Even you can reassign but you can't change its type\na= \"string\"  //that's wrong\n\n//that is wrong\nval b:Int = 1\nb = 2\n</code></pre>\n\n<blockquote>\n  <p>ListOf -> You could think that you <strong>can't insert/delete/alter any element</strong> in the list \n  (can't do anything to the content of the list)</p>\n</blockquote>\n\n<pre><code>var list:List&lt;Int&gt; = listOf(1,2,3,4) //[1,2,3,4]\n//you can read list\nlist.get(0)\nlist[0]\n//but you can't change(/write) the content of the list (insert/delete/alter)\nlist.set(0, 100)\nlist.add(5)\nlist.removeAt(0)\n\nvar mutableList:MutableList&lt;Int&gt; = mutableListOf(1,2,3,4) //[1,2,3,4]\n//you can read and write\nmutableList.get(0)\nmutableList.set(0, 100) //[100,2,3,4]\nmutableList.add(5)      //[100,2,3,4,5]\nmutableList.removeAt(0) //[2,3,4,5]\n</code></pre>\n\n<hr>\n\n<p>SO\ncombine both of them, you will get four cases</p>\n\n<blockquote>\n  <p>Case 1: var mutableList:MutableList = mutableListOf(1,2,3,4)</p>\n</blockquote>\n\n<pre><code>//you can reassign \nmutableList = mutableListOf(4,5,6,7) //[4,5,6,7]\n//you can alter the content \nmutableList.set(0, 100) //[100,5,6,7]\nmutableList.add(8)      //[100,5,6,7,8]\nmutableList.removeAt(0) //[5,6,7,8]\n</code></pre>\n\n<blockquote>\n  <p>Case 2: val mutableList:MutableList  = mutableListOf(1,2,3,4)</p>\n</blockquote>\n\n<pre><code>//you can't reassign \nmutableList = mutableListOf(4,5,6,7) //that's wrong\n\n//you can alter the content \nmutableList.set(0, 100) //[100,2,3,4]\nmutableList.add(8)      //[100,2,3,4,8]\nmutableList.removeAt(0) //[2,3,4,8]\n</code></pre>\n\n<blockquote>\n  <p>Case 3: var list:List = ListOf(1,2,3,4)</p>\n</blockquote>\n\n<pre><code>//you can reassign \nlist= ListOf(4,5,6,7) //[4,5,6,7]\n\n//you can't alter the content \nlist.set(0, 100) //that's wrong\nlist.add(8)      //that's wrong\nlist.removeAt(0) //that's wrong\n</code></pre>\n\n<blockquote>\n  <p>Case 4: val list:List = ListOf(1,2,3,4)</p>\n</blockquote>\n\n<pre><code>//you can't reassign \nlist= ListOf(4,5,6,7) //that's wrong\n\n//you can't alter the content \nlist.set(0, 100) //that's wrong\nlist.add(8)      //that's wrong\nlist.removeAt(0) //that's wrong\n\n//the only thing you can do is Read\nlist.get(0)  //return 1\nlist[0]      //return 1\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2942, "favorite_count": 3, "answer_count": 3, "score": 9, "last_activity_date": 1600320113, "creation_date": 1533611054, "last_edit_date": 1600320113, "question_id": 51718229, "link": "https://stackoverflow.com/questions/51718229/kotlin-val-mutablelist-vs-var-immutablelist-when-to-use-which", "title": "Kotlin: val mutableList vs var immutableList. When to use which?", "body": "<p>We are encouraged to have immutable variables as much as we can.</p>\n<p>But sometimes when I have to modify a list I start to wonder which approach would be better for current situation...</p>\n<pre><code>val mutableList = mutableListOf()\n// where I can just .add() / .remove() accordingly\n</code></pre>\n<p>or</p>\n<pre><code>var immutableList = listOf()\n// where I can create a new list (using filter or `+`) each time a change is made\n</code></pre>\n<p>I guess there are different scenarios one is preferred over the other.\nHence I would like to know when one should be used over the other</p>\n"}, {"tags": ["android", "json", "kotlin", "jackson", "json-deserialization"], "comments": [{"owner": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1533617560, "post_id": 51717888, "comment_id": 90398874, "body": "did you check here: <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-docs/wiki/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 10189510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4deea63a4e3c12b6cad7f607a3feed4c?s=128&d=identicon&r=PG&f=1", "display_name": "nAzGiRl1982", "link": "https://stackoverflow.com/users/10189510/nazgirl1982"}, "reply_to_user": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1533681126, "post_id": 51717888, "comment_id": 90433273, "body": "@seyedJafari Thanks for forwarding this. I had seen similar stuff. I looked into it in detail and applied as much as I could to my classes. I&#39;ve edited the post to show how my classes look like right now. I&#39;m getting the following exception:  <code>Caused by: com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.example.android.FieldPOJO]: missing type id property &#39;type.id&#39; (for POJO property &#39;field_with_two_possible_types&#39;)</code> Can you please help me out?"}, {"owner": {"reputation": 11, "user_id": 10189510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4deea63a4e3c12b6cad7f607a3feed4c?s=128&d=identicon&r=PG&f=1", "display_name": "nAzGiRl1982", "link": "https://stackoverflow.com/users/10189510/nazgirl1982"}, "reply_to_user": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1533685095, "post_id": 51717888, "comment_id": 90434199, "body": "Could I be missing a TypeResolver class, to be added to either the FieldPOJO or DataClass? <code>@JsonTypeResolver(NestedTypeResolver.class)</code>"}, {"owner": {"reputation": 11, "user_id": 10189510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4deea63a4e3c12b6cad7f607a3feed4c?s=128&d=identicon&r=PG&f=1", "display_name": "nAzGiRl1982", "link": "https://stackoverflow.com/users/10189510/nazgirl1982"}, "reply_to_user": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1533691328, "post_id": 51717888, "comment_id": 90435315, "body": "In the <code>@JsonTypeInfo</code> annotation, I have tried using <code>@class</code>, <code>type</code>, and some other ones for the <code>property</code> parameter, and they have failed, as well."}, {"owner": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1533700074, "post_id": 51717888, "comment_id": 90436946, "body": "just one thing out of curiosity why don&#39;t you use 2 totally separate base classes?"}, {"owner": {"reputation": 11, "user_id": 10189510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4deea63a4e3c12b6cad7f607a3feed4c?s=128&d=identicon&r=PG&f=1", "display_name": "nAzGiRl1982", "link": "https://stackoverflow.com/users/10189510/nazgirl1982"}, "reply_to_user": {"reputation": 1015, "user_id": 7295690, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-beFwWgRNS10/AAAAAAAAAAI/AAAAAAAACCk/f9qAvYC2W7o/photo.jpg?sz=128", "display_name": "seyed Jafari", "link": "https://stackoverflow.com/users/7295690/seyed-jafari"}, "edited": false, "score": 0, "creation_date": 1533705194, "post_id": 51717888, "comment_id": 90438168, "body": "I do have two separate base classes. DataClass and FieldPOJO are two separate classes. I have just copied and pasted them together here.  Do you have any idea why I&#39;m getting the above exception?"}], "owner": {"reputation": 11, "user_id": 10189510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4deea63a4e3c12b6cad7f607a3feed4c?s=128&d=identicon&r=PG&f=1", "display_name": "nAzGiRl1982", "link": "https://stackoverflow.com/users/10189510/nazgirl1982"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 519, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533882842, "creation_date": 1533608188, "last_edit_date": 1533882842, "question_id": 51717888, "link": "https://stackoverflow.com/questions/51717888/android-jackson-json-support-two-data-types-within-one-jsonproperty", "title": "Android jackson json: Support two data types within one @JsonProperty", "body": "<p>I have modified my solution to the following code and still having problems.  Can anyone advise me on what I'm missing? Your help is greatly appreciated.</p>\n\n<p>I have been searching here for the past few days and have tried different solutions, none of which have worked for me, so I decided to sign up and ask the question myself.</p>\n\n<p>Here's what's going on:\nA json property in my project could have two data types based on the api version.  It could either be a String or one key-value pair.\nHow will I be able to allow my @JsonProperty(\"field_with_two_possible_types\") to have two possible types and parse them correctly?</p>\n\n<p>Here's what my main data class looks like:</p>\n\n<pre><code>@PaperParcel\ndata class DataClass(\n\n        @JsonProperty(\u201cfield_with_two_possible_types\u201d)\n        val symptomTime: FieldPOJO? = null,) : PaperParcelable {\n    companion object {\n        @JvmField\n        val CREATOR = PaperParcelDataClass.CREATOR\n    }\n}\n\nPOJO Class\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"type.id\")\n@JsonSubTypes(\nJsonSubTypes.Type(name = \u201cstring_value\u201d, value = String::class),\nJsonSubTypes.Type(name = \u201cobject_value\u201d, value = FieldSubPOJO::class))\n\nclass FieldPOJO() : Parcelable {\n\n    var value1: String? = null\n\n    var value2: FieldSubPOJO? = null\n\n    constructor(parcel: Parcel) : this() {\n        value1 = parcel.readString()\n        value2 = parcel.readParcelable(FieldSubPOJO::class.java.classLoader)\n    }\n\n    override fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeString(value1)\n        parcel.writeParcelable(va;ie2, flags)\n    }\n\n    override fun describeContents(): Int {\n        return 0\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;FieldPOJO&gt; {\n        override fun createFromParcel(parcel: Parcel): FieldPOJO {\n            return FieldPOJO(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;FieldPOJO?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "is_accepted": false, "score": 1, "last_activity_date": 1533610325, "creation_date": 1533610325, "answer_id": 51718137, "question_id": 51717682, "link": "https://stackoverflow.com/questions/51717682/kotlin-dependency-not-behaving-like-kotlin/51718137#51718137", "title": "Kotlin dependency not behaving like Kotlin", "body": "<p>In the Intellij decompiler is was considering a class that I know was written in Kotlin a java class so I tried to change some things. The problem was one of two things:</p>\n\n<ol>\n<li><p>I was using the maven plugin for gradle.</p></li>\n<li><p>I had both a <code>compileKotlin</code> and a <code>compileJava</code> when I was only using Kotlin.</p></li>\n</ol>\n\n<p>I belive that the problem was caused by the former because I have used both <code>compileKotlin</code> and <code>compileJava</code> fine together before but I had never used the maven plugin but I added it because something else was complaining that it needed it.</p>\n"}], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533610325, "creation_date": 1533606159, "question_id": 51717682, "link": "https://stackoverflow.com/questions/51717682/kotlin-dependency-not-behaving-like-kotlin", "title": "Kotlin dependency not behaving like Kotlin", "body": "<p>I have a Kotlin dependency that I wrote and am now trying to use it in a separate project. When I add it to the other project variables declared like <code>val hits = 0</code> can not be referenced by using the variable <code>hits</code> but by using <code>getHits()</code> which would make sense if I was using java in the second project but I am not. In other Kotlin projects I have worked on in the past this was not an issue and the only thing that I can think of that is different in the build is that I have set <code>transitive = false</code> on the gradle dependency because that was causing another issue. Anyway I am confused on what this would be caused by and appreciate any help, thanks!</p>\n"}, {"tags": ["android", "json", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 8832, "user_id": 958670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DhK0N.png?s=128&g=1", "display_name": "V.J.", "link": "https://stackoverflow.com/users/958670/v-j"}, "edited": false, "score": 0, "creation_date": 1533603327, "post_id": 51717115, "comment_id": 90395905, "body": "Can you please post your XML file. I think i know the answer."}, {"owner": {"reputation": 11, "user_id": 5752147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P_bYnOQX8Ec/AAAAAAAAAAI/AAAAAAAAQ4o/-bDp5wPbXws/photo.jpg?sz=128", "display_name": "Daniel Quah", "link": "https://stackoverflow.com/users/5752147/daniel-quah"}, "reply_to_user": {"reputation": 8832, "user_id": 958670, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/DhK0N.png?s=128&g=1", "display_name": "V.J.", "link": "https://stackoverflow.com/users/958670/v-j"}, "edited": false, "score": 0, "creation_date": 1533642706, "post_id": 51717115, "comment_id": 90412415, "body": "I have edited my post"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5752147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P_bYnOQX8Ec/AAAAAAAAAAI/AAAAAAAAQ4o/-bDp5wPbXws/photo.jpg?sz=128", "display_name": "Daniel Quah", "link": "https://stackoverflow.com/users/5752147/daniel-quah"}, "edited": false, "score": 0, "creation_date": 1533643079, "post_id": 51717326, "comment_id": 90412672, "body": "My Bills.java is in the OP. My items.size() is 1(which is not right)"}, {"owner": {"reputation": 9000, "user_id": 2851687, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2wGfz.jpg?s=128&g=1", "display_name": "ralphgabb", "link": "https://stackoverflow.com/users/2851687/ralphgabb"}, "reply_to_user": {"reputation": 11, "user_id": 5752147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P_bYnOQX8Ec/AAAAAAAAAAI/AAAAAAAAQ4o/-bDp5wPbXws/photo.jpg?sz=128", "display_name": "Daniel Quah", "link": "https://stackoverflow.com/users/5752147/daniel-quah"}, "edited": false, "score": 0, "creation_date": 1533689010, "post_id": 51717326, "comment_id": 90434943, "body": "i think your doing just fine, what wrong there is the Bill.java class holds the data array. so instead of using Bill as list, use Bill.data.size() check your json, its parsing the data array object and saving the bill as one."}], "tags": [], "owner": {"reputation": 9000, "user_id": 2851687, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/2wGfz.jpg?s=128&g=1", "display_name": "ralphgabb", "link": "https://stackoverflow.com/users/2851687/ralphgabb"}, "is_accepted": false, "score": 0, "last_activity_date": 1533607480, "last_edit_date": 1533607480, "creation_date": 1533602434, "answer_id": 51717326, "question_id": 51717115, "link": "https://stackoverflow.com/questions/51717115/recyclerview-only-showing-first-value/51717326#51717326", "title": "Recyclerview only showing first value", "body": "<p>Check the following</p>\n\n<ol>\n<li>Check your <code>items.size</code> if it really is not zero, </li>\n<li>Also check your <code>bills_list_item.xml</code> try to set the root parent's height to <code>wrap_content</code></li>\n<li><p>Also check if you have this on you <code>recyclerview</code></p>\n\n<pre><code>recyclerView.setHasFixedSize(true);\nrecyclerView.setItemAnimator(new DefaultItemAnimator());\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n</code></pre></li>\n<li><p>What's important there is the layout manager</p></li>\n</ol>\n\n<p>If it doesn't help, can you share your <code>Bills.java</code> class, there might be something wrong with the serialization of JSON raw data.</p>\n\n<p>Hope this helps. \nCheers</p>\n"}], "owner": {"reputation": 11, "user_id": 5752147, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-P_bYnOQX8Ec/AAAAAAAAAAI/AAAAAAAAQ4o/-bDp5wPbXws/photo.jpg?sz=128", "display_name": "Daniel Quah", "link": "https://stackoverflow.com/users/5752147/daniel-quah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533643381, "creation_date": 1533600306, "last_edit_date": 1533643381, "question_id": 51717115, "link": "https://stackoverflow.com/questions/51717115/recyclerview-only-showing-first-value", "title": "Recyclerview only showing first value", "body": "<p>i am having an issue with my gson parsing. I have a nested gson and i would like get the value of \"name\" under attributes.  The problem is my recyclerview is only showing the first value(which is bill 1) and not bill 2 or bill 3. here is my code</p>\n\n<pre><code>// MainActivity.kt\n    recycler_view.layoutManager = LinearLayoutManager(requireContext())\n    recycler_view.addItemDecoration(LineItemDecorator(requireContext()))\n    val bill = GsonBuilder().create().fromJson(jsonString, Bills::class.java)\n            val nameList: List&lt;Bill&gt; = Arrays.asList(bill)\n            val adapter = BillsRecyclerAdapter(nameList)\n            recycler_view.adapter = adapter\n            adapter.notifyDataSetChanged()\n\n// Bills.kt\n    data class Bills(\n        val data: ArrayList&lt;Data&gt;,\n        val meta: Meta,\n        val links: Links\n    )\n\n// BillsRecyclerAdapter.kt\n    class BillsRecyclerAdapter(private val items: List&lt;Bill&gt;):\n            RecyclerView.Adapter&lt;BillsRecyclerAdapter.BillsHolder&gt;() {\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): BillsHolder {\n            return BillsHolder(parent.inflate(R.layout.bills_list_item))\n        }\n\n        override fun onBindViewHolder(holder: BillsHolder, position: Int) {\n            holder.billName.text = items[position].data[position].attributes.name       \n        }\n\n\n        override fun getItemCount() = items.size\n\n        class BillsHolder(view: View): RecyclerView.ViewHolder(view) {\n            val billName: TextView = view.billName\n            val billAmount: TextView = view.billAmount\n        }\n    }\n\n&lt;!-- recyclerview.xml --&gt;\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=\"@+id/recycler_view\"\n            android:layout_marginTop=\"@dimen/materialize_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;!-- bill_list_item.xml--&gt;\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/billName\"\n        android:textSize=\"20sp\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintStart_toStartOf=\"parent\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/billAmount\"\n        android:textSize=\"20sp\"\n        android:layout_marginEnd=\"8dp\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>here is my json string. <a href=\"https://pastebin.com/iEqhmB35\" rel=\"nofollow noreferrer\">https://pastebin.com/iEqhmB35</a></p>\n\n<p>thanks for any help provided</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 27, "user_id": 10169662, "user_type": "registered", "profile_image": "https://graph.facebook.com/2169799499965655/picture?type=large", "display_name": "SK Panchal", "link": "https://stackoverflow.com/users/10169662/sk-panchal"}, "edited": false, "score": 0, "creation_date": 1533613944, "post_id": 51716886, "comment_id": 90397971, "body": "<code>Int sizeInBite = Bitmap.width * Bitmap.Height * getBytePerPixel(Bitmap.getConfig());</code>  <b>this is right way?</b>"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 10169662, "user_type": "registered", "profile_image": "https://graph.facebook.com/2169799499965655/picture?type=large", "display_name": "SK Panchal", "link": "https://stackoverflow.com/users/10169662/sk-panchal"}, "is_accepted": true, "score": 0, "last_activity_date": 1536977547, "last_edit_date": 1536977547, "creation_date": 1533855122, "answer_id": 51776781, "question_id": 51716886, "link": "https://stackoverflow.com/questions/51716886/get-android-bitmap-byte-count-i-api-level-18-28/51776781#51776781", "title": "Get Android Bitmap Byte Count i (API level 18 - 28)", "body": "<p>IN KOTLIN</p>\n\n<pre><code>/**\n * it return size of Bitmap in Bytes.\n */\nfun Bitmap.size(): Int{\n    val s = rowBytes * height\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.KITKAT){\n        return try {\n            allocationByteCount\n        } catch (npe: NullPointerException) {\n            s\n        }\n    }\n    return s\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10169662, "user_type": "registered", "profile_image": "https://graph.facebook.com/2169799499965655/picture?type=large", "display_name": "SK Panchal", "link": "https://stackoverflow.com/users/10169662/sk-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 51776781, "answer_count": 1, "score": 0, "last_activity_date": 1536977547, "creation_date": 1533598177, "last_edit_date": 1534563560, "question_id": 51716886, "link": "https://stackoverflow.com/questions/51716886/get-android-bitmap-byte-count-i-api-level-18-28", "title": "Get Android Bitmap Byte Count i (API level 18 - 28)", "body": "<p>I Wouldn't find out how to calculate <code>bitmap</code> <code>byteSize</code> for managing memory.</p>\n\n<p>I searched a lot but can't find the right and robust way to do this.</p>\n\n<p>I also heared about <code>getByteCount()</code> and <code>getAllocationByteCount()</code>(it persent on 19 and above) but isn't help me. If it Help me so How?</p>\n\n<p>is Their Robust way to get byte size of <code>Bitmap</code>.</p>\n\n<p>My <code>API Level</code> is <code>18 - 28</code></p>\n\n<p>Thanks. (this similar question asked 8 years ago but it doesn't help me)</p>\n"}, {"tags": ["variables", "properties", "kotlin", "evaluation"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1533591205, "post_id": 51715815, "comment_id": 90393188, "body": "Your example does not clearly tell what exactly you want to achieve, so I&#39;m not sure I could answer correctly. Do you want to reference the property directly, or do you need to find it by its value?"}, {"owner": {"reputation": 23, "user_id": 9979311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d56f2d59570ec773033e0a0fc2b063ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9979311/michael"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1533593921, "post_id": 51715815, "comment_id": 90393964, "body": "Sorry, I noticed a typo. I have corrected it. I need to set the property named &quot;one&quot;. But, at compile time, I do not know what the name of the property is. Granted, the example is contrived. In reality, <code>propertyImInterestedIn</code> would be calculated."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1533591024, "creation_date": 1533591024, "answer_id": 51715905, "question_id": 51715815, "link": "https://stackoverflow.com/questions/51715815/in-kotlin-is-it-possible-to-use-a-variable-to-call-a-method-or-property/51715905#51715905", "title": "In Kotlin, is it possible to use a variable to call a method or property?", "body": "<p>You can use the Kotlin reflection API to do that, and <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"nofollow noreferrer\">bound callable references</a> in particular:</p>\n\n<pre><code>val propertyImInterestedIn = myData::one\npropertyImInterestedIn.set(\"second\")\n</code></pre>\n\n<p>Note that you need to add <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect\" rel=\"nofollow noreferrer\"><code>kotlin-reflect</code></a> as a dependency to your project.</p>\n"}, {"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 2, "last_activity_date": 1533592232, "creation_date": 1533592232, "answer_id": 51716107, "question_id": 51715815, "link": "https://stackoverflow.com/questions/51715815/in-kotlin-is-it-possible-to-use-a-variable-to-call-a-method-or-property/51716107#51716107", "title": "In Kotlin, is it possible to use a variable to call a method or property?", "body": "<p>You can either do it at compile time if You can directly reference the fields, or at runtime but you will lose compile-time safety:</p>\n\n<pre><code>// by referencing KProperty directly (compile-time safety, does not require kotlin-reflect.jar)\nval myData = MyDataClass(\"first\", 2)\nval prop = myData::one\nprop.set(\"second\")\n\n// by reflection (executed at runtime - not safe, requires kotlin-reflect.jar)\nval myData2 = MyDataClass(\"first\", 2)\nval reflectProp = myData::class.memberProperties.find { it.name == \"one\" }\nif(reflectProp is KMutableProperty&lt;*&gt;) {\n    reflectProp.setter.call(myData2, \"second\")\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9979311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d56f2d59570ec773033e0a0fc2b063ad?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/9979311/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 1, "accepted_answer_id": 51716107, "answer_count": 2, "score": 1, "last_activity_date": 1533593871, "creation_date": 1533590593, "last_edit_date": 1533593871, "question_id": 51715815, "link": "https://stackoverflow.com/questions/51715815/in-kotlin-is-it-possible-to-use-a-variable-to-call-a-method-or-property", "title": "In Kotlin, is it possible to use a variable to call a method or property?", "body": "<p>Simply put, I have a variable that tells me which property I need to modify on an object, but cannot call that property AS the variable.</p>\n\n<pre><code>data class MyDataClass(var one: String, var two: Int)\n\nfun doSomething() {\n    myData = MyDataClass(\"first\", 2)\n\n    val propertyImInterestedIn = \"one\"\n\n    myData.{propertyImInterestedIn} = \"second\" // How do I do this?\n\n    assertEquals(\"second\", myData.one)\n}\n</code></pre>\n"}, {"tags": ["arrays", "kotlin", "non-nullable"], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 3, "last_activity_date": 1533593936, "creation_date": 1533593936, "answer_id": 51716370, "question_id": 51715716, "link": "https://stackoverflow.com/questions/51715716/how-in-kotlin-to-initialize-a-two-dimensional-non-nullable-string-array/51716370#51716370", "title": "How in kotlin to initialize a two dimensional non-nullable string array", "body": "<p>That translation threw you off the track; there's no reason to initialize and loop again through the fields.</p>\n\n<p>This is signature of constructor you're using:</p>\n\n<pre><code>/**\n * Creates a new array with the specified [size], where each element is calculated by calling the specified\n * [init] function. The [init] function returns an array element given its index.\n */\npublic inline constructor(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>You actually get to pass you own initialization logic for each item in the <code>init</code> function. You even get index of item you're initializing (it's the only argument so it's not explicitly declared but it's accesible as <code>it</code>).</p>\n\n<p>So to get what you need, You can simply initialize inverted array right there (changed param from <code>array</code> to <code>input</code> for readability):</p>\n\n<pre><code>fun invert(input: Array&lt;Array&lt;String&gt;&gt;) = Array(input.size) {arrayOf(input[it][1], input[it][0]) }\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 51716370, "answer_count": 1, "score": 0, "last_activity_date": 1533593936, "creation_date": 1533590032, "question_id": 51715716, "link": "https://stackoverflow.com/questions/51715716/how-in-kotlin-to-initialize-a-two-dimensional-non-nullable-string-array", "title": "How in kotlin to initialize a two dimensional non-nullable string array", "body": "<p>Having a two demential string array and the row has only two items,</p>\n\n<p><code>i.e.  {{\"1\", \"a\"} {\"2\", \"b\"}, {\"3\", \"c\"} ... ...}</code></p>\n\n<p>the invert function to do the invert</p>\n\n<pre><code>public static String[][] invert(final String[][] array) {\n    final String[][] newarray = new String[array.length][2];\n    for(int i = 0; i&lt;array.length; i++) {\n        newarray[i][0] = array[i][1];\n        newarray[i][1] = array[i][0];\n    }\n    return newarray;\n}\n</code></pre>\n\n<p>translate to kotlin:</p>\n\n<ol>\n<li><pre><code>fun invert(array: Array&lt;Array&lt;String?&gt;&gt;): Array&lt;Array&lt;String?&gt;&gt; {\n    val newarray = Array&lt;Array&lt;String?&gt;&gt;(array.size) { arrayOfNulls(2) }\n    for (i in array.indices) {\n        newarray[i][0] = array[i][1]\n        newarray[i][1] = array[i][0]\n    }\n    return newarray\n}\n</code></pre></li>\n</ol>\n\n<p>Because of the <code>arrayOfNulls(2)</code>,  has to define the two demential array to be <code>Array&lt;Array&lt;String?&gt;&gt;</code></p>\n\n<p>but the return type of <code>Array&lt;Array&lt;String?&gt;&gt;</code>  breaks the a lot of the code which expecting <code>Array&lt;Array&lt;String&gt;&gt;</code></p>\n\n<ol start=\"2\">\n<li><p>Using the <code>val newarray = Array&lt;Array&lt;String&gt;&gt;(array.size) { Array&lt;String&gt;(2) {\"\"}}</code> to force the array initialized all rows with empty string (so not null).</p>\n\n<pre><code>fun invert(array: Array&lt;Array&lt;String&gt;&gt;): Array&lt;Array&lt;String&gt;&gt; {\n    val newarray = Array&lt;Array&lt;String&gt;&gt;(array.size) { Array&lt;String&gt;(2) {\"\"}}\n    for (i in array.indices) {\n        newarray[i][0] = array[i][1]\n        newarray[i][1] = array[i][0]\n    }\n    return newarray\n}\n</code></pre></li>\n</ol>\n\n<p>Is it the only way,  or is there some function like </p>\n\n<pre><code>fun strinagArrayOf(vararg elements: String): Array&lt;String&gt;\n</code></pre>\n"}, {"tags": ["java", "kotlin", "cdi", "jboss-weld", "stateless-session-bean"], "comments": [{"owner": {"reputation": 11893, "user_id": 4478047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrZkC.jpg?s=128&g=1", "display_name": "Kukeltje", "link": "https://stackoverflow.com/users/4478047/kukeltje"}, "reply_to_user": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1533589027, "post_id": 51714007, "comment_id": 90392412, "body": "@duffymo: ejb 3.2 and the lightweight pure web versions is very much 201x (even with x approaching 9) All standardized and not requirering spring so  no need for all the spring-* wrappers"}, {"owner": {"reputation": 941, "user_id": 3787442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19955b9b8d4742ee370f1ad0d477828f?s=128&d=identicon&r=PG&f=1", "display_name": "NOTiFY", "link": "https://stackoverflow.com/users/3787442/notify"}, "edited": false, "score": 1, "creation_date": 1533623602, "post_id": 51714007, "comment_id": 90401049, "body": "I like the simplicity of EJB 3.2 with CDI on EE8 and the speed of JBoss WildFly 13. I do find that rather ironic (criticising 2010/2020s EJBs) when Spring had to launch Spring Boot as too many people were finding Spring far too complicated. A Framework for a Framework. I know it now (finally) has annotations but it was XML configuration hell for many years!"}, {"owner": {"reputation": 5338, "user_id": 5342297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec65b3838b1d1ea981cdb5be0a7a4a57?s=128&d=identicon&r=PG", "display_name": "Siliarus", "link": "https://stackoverflow.com/users/5342297/siliarus"}, "edited": false, "score": 0, "creation_date": 1533629213, "post_id": 51714007, "comment_id": 90404081, "body": "What do you mean the method is ignored? Not called at all or blowing up? Have you debugged it? From EE PoV this normally works. Also, if you are running a true unit test, your EJB probably won&#39;t work because there is no EJB container active."}, {"owner": {"reputation": 941, "user_id": 3787442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19955b9b8d4742ee370f1ad0d477828f?s=128&d=identicon&r=PG&f=1", "display_name": "NOTiFY", "link": "https://stackoverflow.com/users/3787442/notify"}, "edited": false, "score": 0, "creation_date": 1533629756, "post_id": 51714007, "comment_id": 90404362, "body": "The &quot;unit&quot; test is a Web Service call. See the annotations: @GET     @Produces(MediaType.APPLICATION_JSON)     @Path(&quot;/say-hello-kotlin-world&quot;). It is ignored / not called as the &#39;logger&#39; in the Kotlin EJB is not printing the message &quot;&gt;&gt;&gt;&gt;&gt; sayHelloKotlinWorld .....&quot;. Nothing &quot;blows-up&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 3787442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19955b9b8d4742ee370f1ad0d477828f?s=128&d=identicon&r=PG&f=1", "display_name": "NOTiFY", "link": "https://stackoverflow.com/users/3787442/notify"}, "is_accepted": false, "score": 0, "last_activity_date": 1533710546, "last_edit_date": 1533710546, "creation_date": 1533677831, "answer_id": 51735778, "question_id": 51714007, "link": "https://stackoverflow.com/questions/51714007/injecting-a-kotlin-ejb-into-a-java-pojo/51735778#51735778", "title": "Injecting a Kotlin EJB into a Java POJO", "body": "<p>Unlike EJB 3.2 with Java EE 8, I needed to create and implement an Interface on my Kotlin EJB, rather than just annotating the EJB.</p>\n\n<p>I also needed to 'override' &amp; specify ': Unit' for my void method:</p>\n\n<p>Kotlin EJB:</p>\n\n<pre><code>@Stateless\n@LocalBean\nopen class NOTiFYKotlinEJB : NOTiFYKotlinEJBInterface {\n\n    /**\n     *\n     */\n    override fun sayHelloKotlinWorld(): Unit {\n        println(\"***** sayHelloKotlinWorld .....\")\n    }\n}\n</code></pre>\n\n<p>Interface:</p>\n\n<pre><code>interface NOTiFYKotlinEJBInterface {\n\n    fun sayHelloKotlinWorld() : Unit {}\n\n}\n</code></pre>\n\n<p>My @Model POJO calls the Kotlin EJB method and outputs:</p>\n\n<blockquote>\n  <p>22:31:31,175 INFO  [com.notifywell.model.NOTiFYwellModel] (default\n  task-1) >>>> sayHelloKotlinWorld nOTiFYEJB = Proxy for view class:\n  com.notifywell.kotlin.ejb.NOTiFYKotlinEJB of EJB: NOTiFYKotlinEJB\n  22:31:31,191 INFO  [stdout] (default task-1) ***** sayHelloKotlinWorld\n  .....</p>\n</blockquote>\n"}], "owner": {"reputation": 941, "user_id": 3787442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19955b9b8d4742ee370f1ad0d477828f?s=128&d=identicon&r=PG&f=1", "display_name": "NOTiFY", "link": "https://stackoverflow.com/users/3787442/notify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533710546, "creation_date": 1533581783, "last_edit_date": 1533662613, "question_id": 51714007, "link": "https://stackoverflow.com/questions/51714007/injecting-a-kotlin-ejb-into-a-java-pojo", "title": "Injecting a Kotlin EJB into a Java POJO", "body": "<p>Just started experimenting with Kotlin (1.2.60) &amp; Java (EE8). All is deployed successfully in an EAR file onto JBoss WildFly 13.0.0.Final using Java EE 8, EJB 3.2. No exceptions are shown in the log. </p>\n\n<p>I've created a Kotlin EJB:</p>\n\n<pre><code>@Stateless\n@LocalBean\nopen class NOTiFYEJB {\n\n    open val logger = LoggerFactory.getLogger(\"NOTiFYEJB\")\n\n    open fun sayHelloKotlinWorld() = {\n        logger.info(\"&gt;&gt;&gt;&gt;&gt; sayHelloKotlinWorld .....\")\n    }\n}\n</code></pre>\n\n<p>Which is 'registered' on WildFly 13:</p>\n\n<blockquote>\n  <p>08:06:26,131 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread\n  1-1) WFLYEJB0473: JNDI bindings for session bean named 'NOTiFYEJB' in\n  deployment unit 'subdeployment \"NOTiFYwellJAR.jar\" of deployment\n  \"NOTiFYwell.ear\"' are as follows:</p>\n  \n  <p>java:global/NOTiFYwell/NOTiFYwellJAR/NOTiFYEJB!com.notifywell.kotlin.ejb.NOTiFYEJB\n    java:app/NOTiFYwellJAR/NOTiFYEJB!com.notifywell.kotlin.ejb.NOTiFYEJB\n    java:module/NOTiFYEJB!com.notifywell.kotlin.ejb.NOTiFYEJB\n    ejb:NOTiFYwell/NOTiFYwellJAR/NOTiFYEJB!com.notifywell.kotlin.ejb.NOTiFYEJB\n    java:global/NOTiFYwell/NOTiFYwellJAR/NOTiFYEJB\n    java:app/NOTiFYwellJAR/NOTiFYEJB    java:module/NOTiFYEJB</p>\n</blockquote>\n\n<p>I inject this into a @model Java Pojo and call the method:</p>\n\n<pre><code>@Model\n@Path(\"/\")\npublic class NOTiFYwellModel {\n\n    @Inject\n    private NOTiFYEJB nOTiFYEJB;\n\n    public NOTiFYwellModel() {\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(\"/say-hello-kotlin-world\")\n    public Response sayHelloKotlinWorld() {\n        logger.info(\"&gt;&gt;&gt;&gt; sayHelloKotlinWorld nOTiFYEJB = {}\", nOTiFYEJB);\n\n        nOTiFYEJB.sayHelloKotlinWorld();\n\n        return null; // Just for test\n    }\n}\n</code></pre>\n\n<p>When I run the Unit test:</p>\n\n<pre><code>String url = \"http://localhost:8080/NOTiFYwell/notifywell/say-hello-kotlin-world\";\n\nHttpGet httpGet = new HttpGet(url);\nhttpGet.setHeader(CONTENT_TYPE, APPLICATION_JSON);\n\n// Execute and get the response.\nHttpClient httpClient = HttpClientBuilder.create().build();\nHttpResponse response = httpClient.execute(httpGet);\n</code></pre>\n\n<p>The method in the @Model NOTiFYwellModel class is called:</p>\n\n<blockquote>\n  <p>08:07:00,459 INFO  [com.notifywell.model.NOTiFYwellModel] (default\n  task-1) >>>> sayHelloKotlinWorld nOTiFYEJB = Proxy for view class:\n  com.notifywell.kotlin.ejb.NOTiFYEJB of EJB: NOTiFYEJB</p>\n</blockquote>\n\n<p>But the next line which calls the method in the (Injected) Kotlin EJB is not executed.</p>\n\n<pre><code>nOTiFYEJB.sayHelloKotlinWorld();\n</code></pre>\n\n<p>It is as though the 'local' interface is not found.</p>\n\n<p>This 'architecture/design' is working fine everywhere else when I inject a (local) Java EJB.</p>\n\n<p>Are you able to use Weld CDI to @Inject a Kotlin EJB into a Java Class?</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-plugin", "lint"], "comments": [{"owner": {"reputation": 540, "user_id": 3604617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqikC.jpg?s=128&g=1", "display_name": "italankin", "link": "https://stackoverflow.com/users/3604617/italankin"}, "edited": false, "score": 0, "creation_date": 1545910646, "post_id": 51713559, "comment_id": 94727464, "body": "Could you please attach a source of <code>MyIssues.ISSUE_PATTERN</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 6624148, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BzhagXYGPW8/AAAAAAAAAAI/AAAAAAAAAIc/uULBPCL7V58/photo.jpg?sz=128", "display_name": "Stephen Le", "link": "https://stackoverflow.com/users/6624148/stephen-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1534331971, "creation_date": 1534331971, "answer_id": 51857707, "question_id": 51713559, "link": "https://stackoverflow.com/questions/51713559/custom-lint-check-not-running/51857707#51857707", "title": "Custom Lint check not running", "body": "<p>first, check your lint.jar is placed on the right path. my path is ~/.android/lint/lint.jar. <br /> <br />\nthen execute command '$ANDROID_HOME/tools/bin/lint --show | grep 'your issue name'' to check your custom lint is attached or not.  <br /> <br />\nand then you can put some log to your custom lint implementation just like using \"System.out.println()\" <br />\nhope this can help u.</p>\n"}], "owner": {"reputation": 210, "user_id": 5049911, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/FrTCc.jpg?s=128&g=1", "display_name": "Airagale", "link": "https://stackoverflow.com/users/5049911/airagale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534331971, "creation_date": 1533579748, "question_id": 51713559, "link": "https://stackoverflow.com/questions/51713559/custom-lint-check-not-running", "title": "Custom Lint check not running", "body": "<p>I am currently trying to write a  custom lint check that I am working on. I have created a separate java project and included it as a jar. </p>\n\n<p>My problem is that no matter what, it seems that my custom check is not being run when analyzing my code base. </p>\n\n<p>I've included a registry</p>\n\n<pre><code>class MyIssueRegistry : IssueRegistry() {\noverride val issues: List&lt;Issue&gt;\n    get() = listOf(MyIssues.ISSUE_PATTERN)\n}\n</code></pre>\n\n<p>And a detector </p>\n\n<pre><code>class MyIssueDetector : Detector(), Detector.UastScanner {\n\n    override fun getApplicableUastTypes() = listOf(UClass::class.java)\n\n    override fun createUastHandler(context: JavaContext) =\n        MyIssueDetector(context)\n\n    class MyIssueDetector(private val context: JavaContext) : UElementHandler() {\n        override fun visitClass(node: UClass) {\n            context.report(MyIssues.ISSUE_PATTERN, context.getNameLocation(node), \"This is just a test\")\n        }\n    }\n}\n</code></pre>\n\n<p>I've also added <code>attributes(\"Lint-Registry-v2\": \"com.pathto.lint.MyIssueRegistry\")</code> to my java project's gradle and included it in my app gradle as <code>lintChecks project(\":lint\")</code></p>\n\n<p>AFAIK this topic- My code should be throwing a warning everytime it reads a class, but the lint check is not being ran. Is there a step I am missing?</p>\n"}, {"tags": ["generics", "casting", "kotlin", "polymorphism"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1533588462, "post_id": 51713278, "comment_id": 90392180, "body": "Absolutely worth filing a bug."}, {"owner": {"reputation": 381, "user_id": 2661298, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c426e73a97e5a01eb1ef6b020d34f73?s=128&d=identicon&r=PG", "display_name": "Andrey Busik", "link": "https://stackoverflow.com/users/2661298/andrey-busik"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1533646760, "post_id": 51713278, "comment_id": 90415097, "body": "@LouisWasserman <a href=\"https://youtrack.jetbrains.com/issue/KT-25942\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-25942</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 1, "last_activity_date": 1533582368, "creation_date": 1533582368, "answer_id": 51714125, "question_id": 51713278, "link": "https://stackoverflow.com/questions/51713278/pass-a-parameter-to-generic-function-with-several-upper-bounds/51714125#51714125", "title": "Pass a parameter to generic function with several upper bounds", "body": "<p>The error message is somewhat obscure. Let's help Kotlin compiler with it a bit:</p>\n\n<pre><code>fun main(vararg args: String) {\n     val list: List&lt;Foo&gt; = arrayListOf()\n     list.forEach {\n          val bar = it as Bar\n          val c = Combiner().combine(bar) // inferred type Bar is not a subtype of Foo\n     }\n}\n</code></pre>\n\n<p>What smart casts are doing is just that - they're casting. Once you cast <code>Foo</code> into <code>Bar</code>, there's no guarantee that it's a <code>Foo</code> anymore.</p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 3, "last_activity_date": 1533593618, "last_edit_date": 1533593618, "creation_date": 1533585441, "answer_id": 51714796, "question_id": 51713278, "link": "https://stackoverflow.com/questions/51713278/pass-a-parameter-to-generic-function-with-several-upper-bounds/51714796#51714796", "title": "Pass a parameter to generic function with several upper bounds", "body": "<p>If that's of any help, apparently if you write the same thing in Java:</p>\n\n<pre><code>abstract class Foo {\n    public int getF() {\n        return 1;\n    }\n}\n\ninterface Bar {\n    default String getB() {\n        return \"a\";\n    }\n}\n\nstatic class Combiner {\n    public &lt;T extends Foo &amp; Bar&gt; Pair&lt;Integer, String&gt; combine(T arg) {\n        return Pair.create(arg.getF(), arg.getB()); \n    }\n}\n\npublic static class Program {\n    public static void main() {\n        List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n        list.forEach(foo -&gt; {\n            if(foo instanceof Bar) {\n                new Combiner().combine(foo);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Then it won't work because of following message:</p>\n\n<blockquote>\n  <p>reason: no instance(s) of type variable(s) exist so that Foo conforms to Bar\n  inference variable T has incompatible bounds:\n  lower bounds: Foo\n  upper bounds: Foo, Bar</p>\n</blockquote>\n\n<p>Now if you add <code>cast</code> to <code>Bar</code>:</p>\n\n<pre><code>        list.forEach(foo -&gt; {\n            if(foo instanceof Bar) {\n                new Combiner().combine((Bar)foo);\n            }\n        });\n</code></pre>\n\n<p>The problem is evident: <code>(Bar)foo</code> is now a <code>Bar</code>, and not a <code>Foo</code>.</p>\n\n<hr>\n\n<p>So you'd need to know an exact type that is subclass of both <code>Foo</code> and <code>Bar</code> in order to cast to it.</p>\n\n<p>So if this is the case, then following <em>could</em> work - in fact, in Java, it actually compiles:</p>\n\n<pre><code>public static &lt;T extends Foo &amp; Bar&gt; T toBar(Foo foo) {\n    //noinspection unchecked\n    return (T)foo;\n}\n\npublic static class Program {\n    public static void main() {\n        List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n        list.forEach(foo -&gt; {\n            if(foo instanceof Bar) {\n                new Combiner().combine(toBar(foo));\n            }\n</code></pre>\n\n<p>In fact, the following test <strong>succeeds</strong>:</p>\n\n<pre><code>public static class Pair&lt;S, T&gt; {\n    public Pair(S first, T second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    S first;\n    T second;\n\n    public static &lt;S, T&gt; Pair&lt;S, T&gt; create(S first, T second) {\n        return new Pair&lt;&gt;(first, second);\n    }\n}\n\npublic static &lt;T extends Foo &amp; Bar&gt; T toBar(Foo foo) {\n    //noinspection unchecked\n    return (T)foo;\n}\n\npublic class Blah extends Foo implements Bar {\n}\n\n@Test\npublic void castSucceeds() {\n    Blah blah = new Blah();\n    List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n    list.add(blah);\n\n    list.forEach(foo -&gt; {\n        if(foo instanceof Bar) {\n            Pair&lt;Integer, String&gt; pair = new Combiner().combine(toBar(foo));\n            assertThat(pair.first).isEqualTo(1);\n            assertThat(pair.second).isEqualTo(\"a\");\n        }\n    });\n}\n</code></pre>\n\n<p>Which means the following should theoretically work in Kotlin:</p>\n\n<pre><code>class Program {\n    fun main() {\n        val list: List&lt;Foo&gt; = arrayListOf()\n        list.forEach {\n            if (it is Bar) {\n                @Suppress(\"UNCHECKED_CAST\")\n                fun &lt;T&gt; Foo.castToBar(): T where T: Foo, T: Bar = this as T\n\n                Combiner().combine(it.castToBar()) // &lt;-- magic?\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Except it doesn't work, because it says:</p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter T. Please specify it explicitly.</p>\n</blockquote>\n\n<p>So in Kotlin, all I could do is this:</p>\n\n<pre><code>class Blah: Foo(), Bar {\n}\n\nCombiner().combine(it.castToBar&lt;Blah&gt;())\n</code></pre>\n\n<p>Which is clearly not guaranteed, only if we know the specific subtype of that is subclass of both Foo and Bar.</p>\n\n<hr>\n\n<p>So I can't seem to find a way to make Kotlin cast a class to its own type and therefore \"believe me\" that it can be safely cast to a <code>T</code> that is itself and a subclass of both Foo and Bar.</p>\n\n<p>But making Kotlin believe it through Java could work:</p>\n\n<pre><code>import kotlin.Pair;\n\npublic class ForceCombiner {\n    private ForceCombiner() {\n    }\n\n    private static &lt;T extends Foo &amp; Bar&gt; Pair&lt;Integer, String&gt; actuallyCombine(Bar bar) {\n        T t = (T)bar;\n        return new Combiner().combine(t);\n    }\n\n    public static Pair&lt;Integer, String&gt; combine(Bar bar) {\n        return actuallyCombine(bar);\n    }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>class Program {\n    fun main() {\n        val list: List&lt;Foo&gt; = arrayListOf()\n        list.forEach {\n            if (it is Bar) {\n                val pair = ForceCombiner.combine(it) // &lt;-- should work\n</code></pre>\n\n<p>Except <code>ForceCombiner</code> now only works if we use <code>@JvmDefault</code> on the Kotlin interface</p>\n\n<pre><code>interface Bar {\n    @JvmDefault\n    val b: String get() = \"a\"\n}\n</code></pre>\n\n<p>Which now says:</p>\n\n<pre><code>// Inheritance from an interface with `@JvmDefault` members is only allowed with -Xjvm-default option\nclass Blah: Foo(), Bar { \n}\n</code></pre>\n\n<p>So I haven't actually tried <code>-Xjvm-default</code> option, but <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-default/index.html\" rel=\"nofollow noreferrer\">it <em>could</em> work</a>? See <a href=\"https://stackoverflow.com/a/44626301/2413303\">here how you can do that</a>.</p>\n\n<blockquote>\n  <ul>\n  <li>with -Xjvm-default=enable, only default method in interface is generated for each @JvmDefault method. In this mode, annotating an existing method with @JvmDefault can break binary compatibility, because it will effectively remove the method from the DefaultImpls class.</li>\n  <li>with -Xjvm-default=compatibility, in addition to the default interface method, a compatibility accessor is generated in the DefaultImpls class, that calls the default interface method via a synthetic accessor. In this mode, annotating an existing method with @JvmDefault is binary compatible, but results in more methods in bytecode.</li>\n  </ul>\n</blockquote>\n\n<p>Also, <code>@JvmDefault</code> requires <code>target 1.8</code>, but Android's desugaring <em>should</em> handle default interfaces now.</p>\n"}], "owner": {"reputation": 381, "user_id": 2661298, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4c426e73a97e5a01eb1ef6b020d34f73?s=128&d=identicon&r=PG", "display_name": "Andrey Busik", "link": "https://stackoverflow.com/users/2661298/andrey-busik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 1, "accepted_answer_id": 51714796, "answer_count": 2, "score": 7, "last_activity_date": 1534055906, "creation_date": 1533578490, "last_edit_date": 1534055906, "question_id": 51713278, "link": "https://stackoverflow.com/questions/51713278/pass-a-parameter-to-generic-function-with-several-upper-bounds", "title": "Pass a parameter to generic function with several upper bounds", "body": "<p>Can't pass a parameter to <code>Combiner().combine()</code> function.</p>\n\n<p>Android Studio can't recognize that <code>arg</code> extends <code>Foo</code> and implements <code>Bar</code>. What am I doing wrong?</p>\n\n<pre><code>abstract class Foo {\n    val f: Int = 1\n}\n\ninterface Bar {\n    val b: String get() = \"a\"\n}\n\nclass Combiner {\n    fun &lt;T&gt; combine(arg: T): Pair&lt;Int, String&gt; where T : Foo, T : Bar {\n        return arg.f to arg.b\n    }\n}\n\nclass Program {\n    fun main() {\n        val list: List&lt;Foo&gt; = arrayListOf()\n        list.forEach {\n            if (it is Bar) {\n                Combiner().combine(it) //inferred type Any is not a subtype of Foo\n            }\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is how it works with Java:</p>\n\n<pre><code>public static class Program {\n    public static void main() {\n        List&lt;Foo&gt; list = new ArrayList&lt;&gt;();\n        for (Foo item : list) {\n            if (item instanceof Bar) {\n                new Combiner().combine((Foo &amp; Bar) item);\n            }\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Created bug report for Kotlin: <a href=\"https://youtrack.jetbrains.com/issue/KT-25942\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-25942</a></p>\n"}, {"tags": ["swift", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1533578451, "post_id": 51713172, "comment_id": 90387877, "body": "Java has java.util.Optional, but Kotlin doesn&#39;t really need it since it has distinct types for nullable values. Any specific thing you wonder how to do in Kotlin?"}, {"owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1533578944, "post_id": 51713172, "comment_id": 90388092, "body": "Well, yes. I wondering if I can implement something like Optional.map() in Kotlin. But there would need to be a distinct (generic?) type for optionals like there is in Swift."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1533581236, "post_id": 51713172, "comment_id": 90389123, "body": "<a href=\"https://kotlinlang.org/docs/reference/idioms.html#map-nullable-value-if-not-null\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 22952, "user_id": 210211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8721ff8fa4b5c658058f4a2803231f44?s=128&d=identicon&r=PG", "display_name": "comingstorm", "link": "https://stackoverflow.com/users/210211/comingstorm"}, "is_accepted": false, "score": 0, "last_activity_date": 1533578843, "creation_date": 1533578843, "answer_id": 51713349, "question_id": 51713172, "link": "https://stackoverflow.com/questions/51713172/does-kotlin-have-a-type-similar-to-swift-optional/51713349#51713349", "title": "Does Kotlin have a type similar to Swift Optional?", "body": "<p>Kotlin datatypes are non-nullable by default.  You make a nullable datatype by appending a question mark:</p>\n\n<pre><code>var a: String = \"Hello!\"   // non-nullable\nvar b: String? = null  // nullable\n</code></pre>\n\n<p>Conversions from a non-nullable value to a nullable type are automatic.  There is also Swift-like null-propagating syntax.</p>\n"}, {"comments": [{"owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "edited": false, "score": 0, "creation_date": 1534719617, "post_id": 51757913, "comment_id": 90794573, "body": "The explanation I was looking for; Thanks!"}], "tags": [], "owner": {"reputation": 6288, "user_id": 2499076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd37bc8460b1645d72f7a8248156e?s=128&d=identicon&r=PG", "display_name": "Ewan Mellor", "link": "https://stackoverflow.com/users/2499076/ewan-mellor"}, "is_accepted": true, "score": 3, "last_activity_date": 1533780994, "creation_date": 1533780994, "answer_id": 51757913, "question_id": 51713172, "link": "https://stackoverflow.com/questions/51713172/does-kotlin-have-a-type-similar-to-swift-optional/51757913#51757913", "title": "Does Kotlin have a type similar to Swift Optional?", "body": "<p>The <code>?</code> suffix is the equivalent of Swift's <code>Optional</code>, except it's not an enum like in Swift, because it's not a first-class value, it backs onto the JVM's primitive <code>null</code> instead.</p>\n\n<p>You can add extensions on nullable types, something like this:</p>\n\n<pre><code>fun &lt;T&gt; Collection&lt;T&gt;?.isNullOrEmpty(): Boolean {\n    return this == null || isEmpty()\n}\n</code></pre>\n\n<p>It's not quite the same as Swift because you need to choose a base class (e.g. <code>Collection&lt;T&gt;</code> here) but it's similar in power.</p>\n\n<p>You also have access to Java 8's <code>java.util.Optional&lt;T&gt;</code> in Kotlin, but that's just a mess and best avoided.</p>\n"}, {"tags": [], "owner": {"reputation": 2812, "user_id": 4466607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-PMBjQeP33j0/AAAAAAAAAAI/AAAAAAAAAIU/_DFKDbl6Jm0/photo.jpg?sz=128", "display_name": "Dhiru", "link": "https://stackoverflow.com/users/4466607/dhiru"}, "is_accepted": false, "score": 0, "last_activity_date": 1600107661, "creation_date": 1600107661, "answer_id": 63889841, "question_id": 51713172, "link": "https://stackoverflow.com/questions/51713172/does-kotlin-have-a-type-similar-to-swift-optional/63889841#63889841", "title": "Does Kotlin have a type similar to Swift Optional?", "body": "<p>No , there is no in build features in kotlin, but we can get same optional unwraping syntax using <code>inline fun</code></p>\n<pre><code>inline fun &lt;T:Any?&gt; T?.unwrap(callback: (T)-&gt; Unit) : Boolean {\n    return if (this != null) {\n        this?.let(callback)\n        true\n    }else {\n        false\n    }\n}\n</code></pre>\n<p><strong>Uses:</strong></p>\n<pre><code>        val  name : String? = null\n        val  rollNo : String? = &quot;&quot;\n        var namesList: ArrayList&lt;String&gt;?  = null\n\n        if (name.unwrap { name -&gt;\n\n                Log.i(&quot;Dhiru&quot;, &quot;Name have value on it  $name&quot;)\n\n            })else if ( rollNo.unwrap {\n                Log.i(&quot;Dhiru&quot;,&quot;Roll have value on it&quot;)\n\n            }) else if (namesList.unwrap {  namesList  -&gt;\n                Log.i(&quot;Dhiru&quot;,&quot;This is Called when names list have value &quot;)\n            })  {\n             Log.i(&quot;Dhiru&quot;,&quot;No Field have value on it &quot;)\n        }\n</code></pre>\n"}], "owner": {"reputation": 18850, "user_id": 999530, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YGip7.png?s=128&g=1", "display_name": "Travis Griggs", "link": "https://stackoverflow.com/users/999530/travis-griggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 51757913, "answer_count": 3, "score": 3, "last_activity_date": 1600107661, "creation_date": 1533578083, "question_id": 51713172, "link": "https://stackoverflow.com/questions/51713172/does-kotlin-have-a-type-similar-to-swift-optional", "title": "Does Kotlin have a type similar to Swift Optional?", "body": "<p>Swift has an enum type <code>Optional</code> right in its core library, which means you can look at some of the code for how Swift deals with optionals (the <code>??</code> operator for example) and you can even add your own extensions to it.</p>\n\n<p>Does Kotlin have a similar type in its base library? Or is all of Kotlin's nullable types handled at the language/syntax/compiler level? I've read through <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types\" rel=\"nofollow noreferrer\">the very spartan Null Safety section of the Kotlin manual</a>, but didn't find any hints to a specific null wrapper type.</p>\n"}, {"tags": ["android", "xml", "kotlin", "illegalstateexception"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1533576499, "post_id": 51712775, "comment_id": 90386994, "body": "The error message says &quot;versionInfo must not be null.&quot; Apparently <code>versionInfo</code> is null. Where are you initializing it?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "edited": false, "score": 1, "creation_date": 1533576571, "post_id": 51712775, "comment_id": 90387026, "body": "I suspect that <code>versionInfo</code> is a <code>TextView</code> in your activity. Do you have a line like this in your imports: <code>import kotlinx.android.synthetic.main.activity_settings.*</code>?"}, {"owner": {"reputation": 562, "user_id": 7836339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h96vmfwvETk/AAAAAAAAAAI/AAAAAAAAAPA/oHxfhwNwyVQ/photo.jpg?sz=128", "display_name": "jitendra purohit", "link": "https://stackoverflow.com/users/7836339/jitendra-purohit"}, "edited": false, "score": 0, "creation_date": 1533616749, "post_id": 51712775, "comment_id": 90398623, "body": "@mTak yes i have imported xml file."}, {"owner": {"reputation": 562, "user_id": 7836339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h96vmfwvETk/AAAAAAAAAAI/AAAAAAAAAPA/oHxfhwNwyVQ/photo.jpg?sz=128", "display_name": "jitendra purohit", "link": "https://stackoverflow.com/users/7836339/jitendra-purohit"}, "edited": false, "score": 0, "creation_date": 1533618979, "post_id": 51712775, "comment_id": 90399311, "body": "@LarsHI am using kotlin extension which doesn&#39;t require findViewById statement to initialize any view."}, {"owner": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1533620256, "post_id": 51712775, "comment_id": 90399714, "body": "Post your manifest file."}, {"owner": {"reputation": 562, "user_id": 7836339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h96vmfwvETk/AAAAAAAAAAI/AAAAAAAAAPA/oHxfhwNwyVQ/photo.jpg?sz=128", "display_name": "jitendra purohit", "link": "https://stackoverflow.com/users/7836339/jitendra-purohit"}, "reply_to_user": {"reputation": 1013, "user_id": 7894239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9CmYV.jpg?s=128&g=1", "display_name": "Ankita", "link": "https://stackoverflow.com/users/7894239/ankita"}, "edited": false, "score": 0, "creation_date": 1533622223, "post_id": 51712775, "comment_id": 90400441, "body": "@Ankita posted."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 5148282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f29b21e8ad49dca569fa822dae572f9?s=128&d=identicon&r=PG&f=1", "display_name": "otis_d", "link": "https://stackoverflow.com/users/5148282/otis-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1533648133, "creation_date": 1533648133, "answer_id": 51727891, "question_id": 51712775, "link": "https://stackoverflow.com/questions/51712775/illegalstateexception-after-converting-java-code-to-kotlin/51727891#51727891", "title": "IllegalStateException after converting java code to kotlin", "body": "<p>Make sure you are using correct layout and/or TextView. Perhaps you have the same id in different layouts and that is causing problem. </p>\n\n<p>You could use <code>ctrl</code> + <code>left mouse button click</code> combination on reference to check whether this is proper control you would like to update.</p>\n"}], "owner": {"reputation": 562, "user_id": 7836339, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-h96vmfwvETk/AAAAAAAAAAI/AAAAAAAAAPA/oHxfhwNwyVQ/photo.jpg?sz=128", "display_name": "jitendra purohit", "link": "https://stackoverflow.com/users/7836339/jitendra-purohit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 676, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533648133, "creation_date": 1533576308, "last_edit_date": 1533622153, "question_id": 51712775, "link": "https://stackoverflow.com/questions/51712775/illegalstateexception-after-converting-java-code-to-kotlin", "title": "IllegalStateException after converting java code to kotlin", "body": "<p>I am getting <code>IllegalStateException</code> after converting my <code>java</code> code to <code>kotlin</code>. I have used <code>kotlin extension</code>. In java, there was no such problem with my app and now it is crashing with every activity with same IllegalStateException. I have tried clean, rebuild and invalidate cache and restart but none of them able to resolve my problem. here's my  activity class,</p>\n\n<pre><code>class SettingsActivity : BaseActivity() {\n\nprivate val SHOW = \"SHOW\"\nprivate val CLEAR = \"CLEAR\"\nprivate var context: Context? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_settings)\n\n    context = this\n\n    //at this line I am getting error\n    versionInfo.text = BuildConfig.VERSION_NAME\n\n    val cacheStr = \"Clear \" + clearCache(SHOW) + \" MB\"\n    cache.text = cacheStr\n\n}\n\nprivate fun clearCache(ACTION: String): Long {\n    return null\n}\n}\n</code></pre>\n\n<p><strong>Here's my xml file</strong></p>\n\n<pre><code>&lt;ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/background\"&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"General\"\n        android:paddingStart=\"16dp\"\n        android:paddingTop=\"8dp\"\n        android:paddingBottom=\"4dp\"\n        android:textSize=\"16sp\"\n        android:textStyle=\"bold\"\n        android:textColor=\"@android:color/white\"/&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Version\"\n            android:paddingStart=\"16dp\"\n            android:paddingTop=\"8dp\"\n            android:textSize=\"15sp\"\n            android:textColor=\"@android:color/white\"/&gt;\n\n        &lt;TextView\n            android:id=\"@+id/versionInfo\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"1.1.1\"\n            android:paddingStart=\"16dp\"\n            android:paddingBottom=\"8dp\"\n            android:textSize=\"15sp\"\n            android:textColor=\"@android:color/white\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>and here's my Stacktrace</strong></p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.littleapps.wallpaper/com.littleapps.wallpaper.activity.SettingsActivity}: java.lang.IllegalStateException: versionInfo must not be null\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2779)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2857)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1590)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6499)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:442)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n Caused by: java.lang.IllegalStateException: versionInfo must not be null\n    at com.littleapps.wallpaper.activity.SettingsActivity.onCreate(SettingsActivity.kt:30)\n    at android.app.Activity.performCreate(Activity.java:7044)\n    at android.app.Activity.performCreate(Activity.java:7035)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1214)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2732)\n</code></pre>\n\n<p>Here's my Manifest file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;application\n    android:name=\".application.MyApplication\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".activity.MainActivity\"\n        android:label=\"@string/app_name\"\n        android:windowSoftInputMode=\"stateHidden\" /&gt;\n    &lt;activity\n        android:name=\".activity.SplashActivity\"\n        android:configChanges=\"orientation|keyboardHidden|screenSize\"\n        android:label=\"@string/title_activity_splash\"\n        android:theme=\"@style/FullscreenTheme\" /&gt;\n\n    &lt;activity android:name=\".activity.SettingsActivity\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;!-- &lt;__________________FIREBASE MESSAGING SERVICES______________________&gt; --&gt;\n\n    &lt;service\n        android:name=\".services.MyFirebaseInstanceIdService\"\n        android:permission=\"android.permission.BIND_JOB_SERVICE\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;service\n        android:name=\".services.MyFirebaseMessagingService\"\n        android:permission=\"android.permission.BIND_JOB_SERVICE\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "migration"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1533573260, "post_id": 51711992, "comment_id": 90385463, "body": "Welcome to StackOverflow! Your code seems to be syntactically incorrect in some other way. In Kotlin, <code>init</code> is a soft keyword which, in particular, is allowed as a function name. Please post a full code sample (<a href=\"https://stackoverflow.com/help/mcve\">MVCE</a>) that reproduces the error."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1533573318, "post_id": 51711992, "comment_id": 90385490, "body": "Besides, you should use the <code>Boolean</code> type in Kotlin rather than <code>boolean</code>."}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 0, "creation_date": 1533574497, "post_id": 51711992, "comment_id": 90386072, "body": "In Java, if the method you are overriding is public, the override must be public too."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1533580435, "post_id": 51711992, "comment_id": 90388774, "body": "What is this <code>params</code>? Can you post full method signatures? I tried to write this but it compiles fine for me."}], "answers": [{"comments": [{"owner": {"reputation": 2821, "user_id": 1600332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c89d5583301aa6df59cfa9f0f45354?s=128&d=identicon&r=PG", "display_name": "Elletlar", "link": "https://stackoverflow.com/users/1600332/elletlar"}, "edited": false, "score": 1, "creation_date": 1533574095, "post_id": 51712194, "comment_id": 90385873, "body": "Welcome to posting on Stack Overflow. Why should we not use protected? Can you please &#39;edit&#39; this answer with an explanation. <a href=\"https://stackoverflow.com/help/how-to-answer\">How to Answer</a>. Thanks."}], "tags": [], "owner": {"reputation": 106, "user_id": 10179384, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-WoaVUBrOTRY/AAAAAAAAAAI/AAAAAAAAAaI/Gx7EZCz-1-4/photo.jpg?sz=128", "display_name": "Shrishti Gupta", "link": "https://stackoverflow.com/users/10179384/shrishti-gupta"}, "is_accepted": true, "score": -3, "last_activity_date": 1533575570, "last_edit_date": 1533575570, "creation_date": 1533573735, "answer_id": 51712194, "question_id": 51711992, "link": "https://stackoverflow.com/questions/51711992/kotlin-modifier-override-is-not-applicable-to-initializer/51712194#51712194", "title": "Kotlin: modifier &#39;override&#39; is not applicable to &#39;initializer&#39;", "body": "<p>Do not use protected keyword. You can use your method like this in public class.</p>\n\n<pre><code>override fun init(): Boolean {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7994461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/902f706e7885f0cd1f802bdbe5ca95ff?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Barrios", "link": "https://stackoverflow.com/users/7994461/rodrigo-barrios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 51712194, "answer_count": 1, "score": 2, "last_activity_date": 1533575570, "creation_date": 1533572917, "last_edit_date": 1533574917, "question_id": 51711992, "link": "https://stackoverflow.com/questions/51711992/kotlin-modifier-override-is-not-applicable-to-initializer", "title": "Kotlin: modifier &#39;override&#39; is not applicable to &#39;initializer&#39;", "body": "<p>I'm working in a Java project and I'm in charge of migrating some classes to Kotlin. There's a Java abstract class which has the next method:</p>\n\n<pre><code>protected abstract boolean init(params) {\n    ...\n}\n</code></pre>\n\n<p>And this class is being extended in a public class, so I override the method like this:</p>\n\n<pre><code>@Override\nprotected boolean init(params) {\n    ...\n}\n</code></pre>\n\n<p>So, when trying to migrate this public class to Kotlin,</p>\n\n<pre><code>override protected fun init(params): Boolean{}\n</code></pre>\n\n<p>I get the error <em>Kotlin: modifier 'override' is not applicable to 'initializer'</em>, because the method's name <em>init</em> is a keyword in Kotlin. I know one way of solving this is changing the name of the method in the abstract class (eg. from init to initialize), but it has tons of usages in the project so I would like to know if there's a better way of solving this before spending time refactoring the whole project.</p>\n"}, {"tags": ["kotlin", "kotlin-generics"], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 3, "last_activity_date": 1533570829, "last_edit_date": 1533570829, "creation_date": 1533569968, "answer_id": 51711233, "question_id": 51711002, "link": "https://stackoverflow.com/questions/51711002/why-the-translated-kotlin-code-complains-about-a-arraybasedata-to-be-a-array/51711233#51711233", "title": "why the translated kotlin code complains about a Array&lt;BaseData&gt;? to be a Array&lt;out BaseData&gt;", "body": "<p>It is written in the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">Kotlin function reference regarding varargs</a>:</p>\n\n<blockquote>\n  <p>Inside a function a vararg-parameter of type <code>T</code> is visible as an array of <code>T</code>, i.e. the <code>ts</code> variable in the example above has type <code>Array&lt;out T&gt;</code>.</p>\n</blockquote>\n\n<p>where the referenced function was:</p>\n\n<pre><code>function &lt;T&gt; asList(vararg ts: T): List&lt;T&gt;\n</code></pre>\n\n<p>So in your case you actually pass an <code>Array&lt;out BaseData&gt;</code> but you only accept an array of type <code>Array&lt;T&gt;?</code> (in your case <code>Array&lt;BaseData&gt;</code>). Either you adapt all of the types to <code>Array&lt;out T&gt;</code> (which basically is similar as saying <code>List&lt;? extends BaseData&gt;</code> in Java) or you take care that you are only dealing with <code>T</code>s instead, e.g. with:</p>\n\n<pre><code>inline fun &lt;reified T&gt; cloneArray(array: Array&lt;out T&gt;?): Array&lt;T&gt;? {\n        return array?.clone()?.map { it }?.toTypedArray()\n}\n</code></pre>\n\n<p>But look up the documentation regarding this: <a href=\"https://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"nofollow noreferrer\">Kotlin generics reference - type projections</a>. You probably can accomplish this even easier.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 51711233, "answer_count": 1, "score": 1, "last_activity_date": 1533570829, "creation_date": 1533569244, "last_edit_date": 1533569440, "question_id": 51711002, "link": "https://stackoverflow.com/questions/51711002/why-the-translated-kotlin-code-complains-about-a-arraybasedata-to-be-a-array", "title": "why the translated kotlin code complains about a Array&lt;BaseData&gt;? to be a Array&lt;out BaseData&gt;", "body": "<p>Having a java class,  using androidStudio to translate to kotlin.\nGot a error and not sure how to correctly translate it.</p>\n\n<p>The java code:</p>\n\n<pre><code>public class BaseDataImpl extends BaseData {\n\n    private final BaseData[] translators;\n\n    public BaseDataImpl(final BaseData... translators) {\n        this.translators = cloneArray(translators);\n    }\n\n    public static &lt;T&gt; T[] cloneArray(final T[] array) {\n        if (array == null) {\n            return null;\n        }\n        return array.clone();\n    }\n\n}\n</code></pre>\n\n<p>after the code translation, got error: <code>required Array&lt;BaseData&gt;?, found Array&lt;out BaseData&gt;</code>,  but the <code>translators</code>  in the <code>cloneArray&lt;BaseData&gt;(translators)</code> call is defined as  <code>val translators: Array&lt;BaseData&gt;?</code>,  </p>\n\n<p>anyone could help to explain?</p>\n\n<pre><code>class BaseDataImpl(vararg translators: BaseData) : BaseData() {\n\n    private val translators: Array&lt;BaseData&gt;?\n\n    init {\n        this.translators = cloneArray&lt;BaseData&gt;(translators)  //&lt;=== error:  required Array&lt;BaseData&gt;?, found Array&lt;out BaseData&gt;\n    }\n\n    companion object {\n        fun &lt;T&gt; cloneArray(array: Array&lt;T&gt;?): Array&lt;T&gt;? {\n            return array?.clone()\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "unit-testing", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 472, "user_id": 8801181, "user_type": "registered", "profile_image": "https://graph.facebook.com/876008682562220/picture?type=large", "display_name": "Shayne3000", "link": "https://stackoverflow.com/users/8801181/shayne3000"}, "is_accepted": false, "score": 2, "last_activity_date": 1533570422, "creation_date": 1533570422, "answer_id": 51711369, "question_id": 51710924, "link": "https://stackoverflow.com/questions/51710924/writing-unit-tests-for-fragment/51711369#51711369", "title": "Writing Unit Tests for Fragment", "body": "<p>Your best bet for a local test that involves some Android components as Activities or Fragments would be to use Robolectric as it performs tests using the JVM. </p>\n\n<p>That being said, however, I assume that you're dealing with testing a list and the content of its items. In this case, you would probably be better off using Espresso particularly with its onData() calls. Worthy of note is that for such UI-related tests, you will need a device or emulator.</p>\n"}], "owner": {"reputation": 241, "user_id": 1892364, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/509a9b5c52bf83f7696322af0be2f7e9?s=128&d=identicon&r=PG", "display_name": "user1892364", "link": "https://stackoverflow.com/users/1892364/user1892364"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533570422, "creation_date": 1533568945, "question_id": 51710924, "link": "https://stackoverflow.com/questions/51710924/writing-unit-tests-for-fragment", "title": "Writing Unit Tests for Fragment", "body": "<p>I have the following data class which holds the resource id and the onClickListener for a view:</p>\n\n<pre><code>data class Item(val name: Int, val onClick: View.OnClickListener)\n</code></pre>\n\n<p>Later I populate a Layouts children with (<code>children</code> extends ViewGroup to get a list of child views):</p>\n\n<pre><code>fun loadItems(list: List&lt;Item&gt;, viewGroup: ViewGroup){\n    viewGroup.children.zip(list) { view, item -&gt;\n        (view as TextView).text = resources.getString(item.name)\n        view.setOnClickListener(item.onClick)\n    }\n}\n</code></pre>\n\n<p>I want to test if a child of the ViewGroup</p>\n\n<ul>\n<li>Has the String of the resource I provided in the item</li>\n<li>Has the listener I provided in the item</li>\n</ul>\n\n<p>This code is part of a fragment. What is the easiest way to do this? I want this to be a local test.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 0, "last_activity_date": 1533567023, "creation_date": 1533567023, "answer_id": 51710356, "question_id": 51710147, "link": "https://stackoverflow.com/questions/51710147/kotlin-using-motion-sensor/51710356#51710356", "title": "Kotlin using Motion sensor", "body": "<p>You didn't register any listener to the sensor, so you'll never get any update from it.</p>\n\n<p>You can register a listener in the following way:</p>\n\n<pre><code>protected void onResume() {\n    super.onResume();\n    sensorManager.registerListener(this, this.accelerometer, SensorManager.SENSOR_DELAY_NORMAL);\n    // repeat that line for each sensor you want to monitor\n}\n\n...\n\nprotected void onPause() {\n    super.onPause();\n    sensorManager.unregisterListener(this);\n}\n</code></pre>\n\n<p>You can use different sampling periods depending on your use case. Check the constants defined in <a href=\"https://developer.android.com/reference/android/hardware/SensorManager\" rel=\"nofollow noreferrer\">SensorManager</a> to discover what's more suitable to you.</p>\n"}], "owner": {"reputation": 19, "user_id": 9966276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05e3c723f2afe5d7349059f806a46363?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Simm", "link": "https://stackoverflow.com/users/9966276/ivan-simm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1474, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533567023, "creation_date": 1533566380, "question_id": 51710147, "link": "https://stackoverflow.com/questions/51710147/kotlin-using-motion-sensor", "title": "Kotlin using Motion sensor", "body": "<p>I am trying to figure out how motion sensor works using Kotlin.\nI wanted to do something where if phone turn up, correct, if phone turn down, wrong.\nI have look through tutorials and still cant figure it out.\nBelow is the code of what i have tried. </p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.content.Context\nimport android.hardware.Sensor\nimport android.hardware.SensorEvent\nimport android.hardware.SensorEventListener\nimport android.hardware.SensorManager\n\nclass MainActivity : AppCompatActivity(), SensorEventListener {\n\n    private lateinit var sensorManager: SensorManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        this.sensorManager = getSystemService(Context.SENSOR_SERVICE) as SensorManager\n\n        sensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)?.let {\n            this.accelerometer = it\n        }\n\n        sensorManager.getDefaultSensor(Sensor.TYPE_GRAVITY)?.let {\n            this.gravity = it\n        }\n\n        sensorManager.getDefaultSensor(Sensor.TYPE_GYROSCOPE)?.let {\n            this.gyroscope = it\n        }\n\n        sensorManager.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION)?.let {\n            this.linearAcceleration = it\n        }\n\n        sensorManager.getDefaultSensor(Sensor.TYPE_ROTATION_VECTOR)?.let {\n            this.rotationVector = it\n        }\n\n    }\n\n    override fun onSensorChanged(event: SensorEvent?) {\n        when (event?.sensor?.type) {\n            Sensor.TYPE_LINEAR_ACCELERATION -&gt; {\n                valuesLinAcceleration[0] = event.values[0]\n                valuesLinAcceleration[1] = event.values[1]\n                valuesLinAcceleration[2] = event.values[2]\n\n                this.binding.tvLinearAccelX.text = event.values[0].formatValue()\n                this.binding.tvLinearAccelY.text = event.values[1].formatValue()\n                this.binding.tvLinearAccelZ.text = event.values[2].formatValue()\n            }\n\n            Sensor.TYPE_GRAVITY -&gt; {\n                valuesGravity[0] = event.values[0]\n                valuesGravity[1] = event.values[1]\n                valuesGravity[2] = event.values[2]\n\n                this.binding.tvGravity.text = event.values[0].formatValue()\n                this.binding.tvGravityY.text = event.values[1].formatValue()\n                this.binding.tvGravityZ.text = event.values[2].formatValue()\n            }\n\n            Sensor.TYPE_ACCELEROMETER -&gt; {\n                val alpha = 0.8f\n\n                accelGravity[0] = alpha * accelGravity[0] + (1 - alpha) * event.values[0]\n                accelGravity[1] = alpha * accelGravity[1] + (1 - alpha) * event.values[1]\n                accelGravity[2] = alpha * accelGravity[2] + (1 - alpha) * event.values[2]\n\n                accelLin[0] = event.values[0] - accelGravity[0]\n                accelLin[1] = event.values[1] - accelGravity[1]\n                accelLin[2] = event.values[2] - accelGravity[2]\n\n                this.binding.tvAccelerometerX.text = accelLin[0].formatValue()\n                this.binding.tvAccelerometerY.text = accelLin[1].formatValue()\n                this.binding.tvAccelerometerZ.text = accelLin[2].formatValue()\n\n            }\n\n            Sensor.TYPE_GYROSCOPE -&gt; {\n                valuesGyroscope[0] = event.values[0]\n                valuesGyroscope[1] = event.values[1]\n                valuesGyroscope[2] = event.values[2]\n\n                this.binding.tvGyroscope.text = event.values[0].formatValue()\n                this.binding.tvGyroscopeY.text = event.values[1].formatValue()\n                this.binding.tvGyroscopeZ.text = event.values[2].formatValue()\n            }\n\n            Sensor.TYPE_ROTATION_VECTOR -&gt; {\n                valuesRotation[0] = event.values[0]\n                valuesRotation[1] = event.values[1]\n                valuesRotation[2] = event.values[2]\n\n                this.binding.tvRotationVector.text = event.values[0].formatValue()\n                this.binding.tvRotationVectorY.text = event.values[1].formatValue()\n                this.binding.tvRotationVectorZ.text = event.values[2].formatValue()\n            }\n        }\n\n\n    }\n\n    override fun onAccuracyChanged(sensor: Sensor?, accuracy: Int) {\n\n    }\n}\n</code></pre>\n\n<p>It seems like something is missing, It would be very helpful if you guys can point me to the right direction or right way to do it. Thanks</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 14970, "user_id": 448192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/270b84125cea4d11344adc28111b311b?s=128&d=identicon&r=PG", "display_name": "DArkO", "link": "https://stackoverflow.com/users/448192/darko"}, "edited": false, "score": 0, "creation_date": 1533565706, "post_id": 51709727, "comment_id": 90380958, "body": "I&#39;ve edited my question. I am unable to get the date fields auto-populated. Basically my test fails. I end up with a null for the record instead of the timestamps"}], "answers": [{"comments": [{"owner": {"reputation": 14970, "user_id": 448192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/270b84125cea4d11344adc28111b311b?s=128&d=identicon&r=PG", "display_name": "DArkO", "link": "https://stackoverflow.com/users/448192/darko"}, "edited": false, "score": 0, "creation_date": 1533569358, "post_id": 51710770, "comment_id": 90383393, "body": "Thanks for the answer. I&#39;ve written an update. I think injecting and using the repository should work for storing the user model exactly as it would outside of the test environment. I also tried to use the TestEntityManager instance to do this. It contains the methods you are describing here."}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "reply_to_user": {"reputation": 14970, "user_id": 448192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/270b84125cea4d11344adc28111b311b?s=128&d=identicon&r=PG", "display_name": "DArkO", "link": "https://stackoverflow.com/users/448192/darko"}, "edited": false, "score": 0, "creation_date": 1533569789, "post_id": 51710770, "comment_id": 90383637, "body": "I edited my question. You have to explicitly enable auditing in the test"}, {"owner": {"reputation": 1679, "user_id": 6499075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50a67193342fee4e6c56b5f5a170d50?s=128&d=identicon&r=PG&f=1", "display_name": "Sma Ma", "link": "https://stackoverflow.com/users/6499075/sma-ma"}, "edited": false, "score": 0, "creation_date": 1571916571, "post_id": 51710770, "comment_id": 103402609, "body": "In case that you are using audit fields like <code>@CreatedBy</code> you need also to enable some configuration to configure your @EnableJpaAuditing stuff like AuditorAware. In this case just import additionaly <code>@Import(YourJPAConfiguration.class)</code> in test class. Maybe add also <code>@WithMockUser(username = &quot;testuser&quot;)</code>. See also <a href=\"https://stackoverflow.com/questions/43705720/how-do-i-import-configuration-classes-in-a-datajpatest-in-a-springboottest\" title=\"how do i import configuration classes in a datajpatest in a springboottest\">stackoverflow.com/questions/43705720/&hellip;</a> (answer from user Sydney)"}], "tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 16, "last_activity_date": 1533569759, "last_edit_date": 1533569759, "creation_date": 1533568360, "answer_id": 51710770, "question_id": 51709727, "link": "https://stackoverflow.com/questions/51709727/spring-boot-jpacreateddate-lastmodifieddate-not-being-populated-when-saving-th/51710770#51710770", "title": "Spring Boot JPA@CreatedDate @LastModifiedDate not being populated when saving the object", "body": "<p>The AuditingEntityListener methods are called in the <code>@PrePersist</code> and <code>@PreUpdate</code> phase.</p>\n\n<p>This means they are called just before the insert or update SQL statements are executed.</p>\n\n<p>Read more about JPA events in the Hibernate doc:\n<a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#events-jpa-callbacks\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#events-jpa-callbacks</a></p>\n\n<p><strong>Unit Tests</strong></p>\n\n<p>When using in Tests you have to enable auditing as well on the test</p>\n\n<pre><code>@DataJpaTest\n@RunWith(SpringRunner.class)\n@EnableJpaAuditing\npublic class EntityListenerTest {\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1679, "user_id": 6499075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50a67193342fee4e6c56b5f5a170d50?s=128&d=identicon&r=PG&f=1", "display_name": "Sma Ma", "link": "https://stackoverflow.com/users/6499075/sma-ma"}, "is_accepted": false, "score": 1, "last_activity_date": 1571917145, "creation_date": 1571917145, "answer_id": 58540569, "question_id": 51709727, "link": "https://stackoverflow.com/questions/51709727/spring-boot-jpacreateddate-lastmodifieddate-not-being-populated-when-saving-th/58540569#58540569", "title": "Spring Boot JPA@CreatedDate @LastModifiedDate not being populated when saving the object", "body": "<p>My prefered solution is a set of multiple annotations to ensure test of <code>@CreatedBy</code> or <code>@CreatedDate</code>: </p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@Import(JPAConfig.class)\n@WithMockUser(username = \"testuser\")\npublic class MYRepositoryTest {\n...\n}\n</code></pre>\n\n<p>My Entities looks like:</p>\n\n<pre><code>@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic class AbstractEntity {\n\n    @CreatedBy\n    private String createdBy;\n\n    @CreatedDate\n    private Date createdOn;\n\n    @LastModifiedDate\n    private Date updatedOn;\n\n    @LastModifiedBy\n    private String updatedBy;\n}\n</code></pre>\n\n<p>My JPA configuration is:</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing(auditorAwareRef = \"auditorAware\")\npublic class JPAConfig {\n\n    @Bean\n    public AuditorAware&lt;String&gt; auditorAware() {\n        return () -&gt; Optional.of(((User)     SecurityContextHolder.getContext().getAuthentication().getPrincipal()).getUsername());\n    }\n}\n</code></pre>\n\n<p>Now your audit fields also created during JPA test:</p>\n\n<pre><code>assertThat(result.getCreatedBy()).isNotNull().isEqualTo(\"testuser\");\nassertThat(result.getCreatedOn()).isNotNull();\nassertThat(result.getUpdatedBy()).isNotNull().isEqualTo(\"testuser\");\nassertThat(result.getUpdatedOn()).isNotNull();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 3030857, "user_type": "registered", "profile_image": "https://graph.facebook.com/642956780/picture?type=large", "display_name": "Low", "link": "https://stackoverflow.com/users/3030857/low"}, "is_accepted": false, "score": 3, "last_activity_date": 1576155607, "creation_date": 1576155607, "answer_id": 59305191, "question_id": 51709727, "link": "https://stackoverflow.com/questions/51709727/spring-boot-jpacreateddate-lastmodifieddate-not-being-populated-when-saving-th/59305191#59305191", "title": "Spring Boot JPA@CreatedDate @LastModifiedDate not being populated when saving the object", "body": "<p>I had similar issue (Spring Boot 2.2.1 and JUnit5) with <code>null</code> values. Adding <code>@EnableJpaAuditing</code> to test class did not work.</p>\n\n<p>My example (did not copy everything):</p>\n\n<pre><code>@Getter(AccessLevel.PROTECTED)\n@Setter(AccessLevel.PROTECTED)\n@MappedSuperclass\n@EntityListeners(AuditingEntityListener.class)\npublic class Auditable&lt;U&gt; {\n\n    @CreatedBy\n    @Column(name = \"created_by\", nullable = false)\n    private U createdBy;\n\n    @CreatedDate\n    @Column(name = \"created\", nullable = false)\n    private OffsetDateTime created;\n}\n</code></pre>\n\n<p>and respective class:</p>\n\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name=\"survey_records\")\npublic class SurveyRecord extends Auditable&lt;String&gt; implements Serializable {\n</code></pre>\n\n<p>I had following configuration for auditing:</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing(auditorAwareRef = \"auditorProvider\", dateTimeProviderRef = \"auditingDateTimeProvider\")\npublic class JpaAuditingConfiguration {\n\n    @Bean(name = \"auditingDateTimeProvider\")\n    public DateTimeProvider dateTimeProvider() {\n        return () -&gt; Optional.of(OffsetDateTime.now());\n    }\n\n    @Bean\n    public AuditorAware&lt;String&gt; auditorProvider() {\n</code></pre>\n\n<p>To get <code>@CreatedBy</code> and <code>@CreatedDate</code> working inside test only <code>@Import</code> was needed</p>\n\n<pre><code>@DataJpaTest\n@Import(JpaAuditingConfiguration.class)\nclass SurveyRecordRepositoryTest {\n</code></pre>\n\n<p>Used references:</p>\n\n<ul>\n<li><p><a href=\"https://springbootdev.com/2018/03/13/spring-data-jpa-auditing-with-createdby-createddate-lastmodifiedby-and-lastmodifieddate/\" rel=\"nofollow noreferrer\">https://springbootdev.com/2018/03/13/spring-data-jpa-auditing-with-createdby-createddate-lastmodifiedby-and-lastmodifieddate/</a></p></li>\n<li><p><a href=\"https://github.com/spring-projects/spring-boot/issues/10743#issuecomment-416777423\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/10743#issuecomment-416777423</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 786, "user_id": 617857, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8b04b6d0548d9cc5f58c3a143eeb8b68?s=128&d=identicon&r=PG", "display_name": "Steven Yue", "link": "https://stackoverflow.com/users/617857/steven-yue"}, "is_accepted": false, "score": 1, "last_activity_date": 1594239551, "creation_date": 1594239551, "answer_id": 62803004, "question_id": 51709727, "link": "https://stackoverflow.com/questions/51709727/spring-boot-jpacreateddate-lastmodifieddate-not-being-populated-when-saving-th/62803004#62803004", "title": "Spring Boot JPA@CreatedDate @LastModifiedDate not being populated when saving the object", "body": "<p>I had similar issue, but the reason for my case is that I had <code>@Transactional</code> annotation on the test class, after removing that, everything works as expected.</p>\n"}], "owner": {"reputation": 14970, "user_id": 448192, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/270b84125cea4d11344adc28111b311b?s=128&d=identicon&r=PG", "display_name": "DArkO", "link": "https://stackoverflow.com/users/448192/darko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22488, "favorite_count": 0, "accepted_answer_id": 51710770, "answer_count": 4, "score": 11, "last_activity_date": 1594239551, "creation_date": 1533564987, "last_edit_date": 1533569278, "question_id": 51709727, "link": "https://stackoverflow.com/questions/51709727/spring-boot-jpacreateddate-lastmodifieddate-not-being-populated-when-saving-th", "title": "Spring Boot JPA@CreatedDate @LastModifiedDate not being populated when saving the object", "body": "<p>I am writing an app with Spring Boot + JPA, using a Postgres database. I have a User Entity and I am trying to get a timestamp when the user record is saved and/or modified. This is not working. The record that is being saved has \"null\" for both createdDate and lastModifiedDate.</p>\n\n<p>Here is all the relevant code in Kotlin:</p>\n\n<pre><code>@Entity\n@Table(name = \"app_user\")\n@EntityListeners(AuditingEntityListener::class)\ndata class User(\n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        @Column(name = \"id\")\n        val id: UUID? = null,\n\n        @NotNull\n        @Column(unique = true)\n        val email: String,\n        val name: String,\n        private val password: String,\n\n        @CreatedDate\n        @Column(name = \"created_date\", nullable = false, updatable = false)\n        var createdDate: LocalDateTime? = null,\n\n        @LastModifiedDate\n        @Column(name = \"last_modified_date\", nullable = false)\n        var lastModifiedDate: LocalDateTime? = null\n)\n</code></pre>\n\n<p>My SQL queries to add the date fields look like this:</p>\n\n<pre><code>ALTER TABLE app_user\nADD COLUMN last_modified_date TIMESTAMP,\nADD COLUMN created_date TIMESTAMP;\n</code></pre>\n\n<p>I also have a configuration class</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing(auditorAwareRef = \"auditorProvider\")\nclass JpaAuditingConfiguration {\n\n    @Bean\n    fun auditorProvider(): AuditorAware&lt;String&gt; {\n        return AuditorAware { Optional.of(SecurityContextHolder.getContext().authentication.name) }\n    }\n\n}\n</code></pre>\n\n<p>And my test class:</p>\n\n<pre><code>  @Autowired\n    private lateinit var userRepository: UserRepository\n\n    val user = User(\n            email = \"email\",\n            name = \"name\",\n            password = \"password\"\n    )\n\n    @Test\n    fun `it sets the timestamps when a user is created`() {\n        userRepository.save(user)\n        user.let {\n            assertThat(it.createdDate).isNotNull()\n            assertThat(it.lastModifiedDate).isNotNull()\n        }\n    }\n</code></pre>\n\n<p><strong>UPDATE:</strong> </p>\n\n<p>It seems the problem only happens in tests. It seems to be fine when i execute the same code to create a user in the development environment and not in tests.</p>\n\n<p>Do i need some additional config in the tests?</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I also tried to use the entity manager like this:</p>\n\n<pre><code>@Autowired\nlateinit var entityManager: TestEntityManager\n</code></pre>\n\n<p>Then in the test do:</p>\n\n<pre><code>entityManager.persist(user)\nentityManager.flush()\n</code></pre>\n\n<p>And also </p>\n\n<pre><code>entityManager.persistAndFlush(user)\n</code></pre>\n\n<p>Still is not populating the timestamps.</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-native"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1535911816, "post_id": 51708937, "comment_id": 91229158, "body": "Sqlite on Android shouldn&#39;t need JNI...?"}], "answers": [{"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1535911681, "creation_date": 1535911681, "answer_id": 52139773, "question_id": 51708937, "link": "https://stackoverflow.com/questions/51708937/native-c-library-in-kotlin-jvm-android/52139773#52139773", "title": "Native C library in Kotlin-JVM/Android", "body": "<p>It is not possible right now. You either use Kotlin/JVM or Kotlin/Native. There is interop for C libraries in Kotlin/Native. </p>\n\n<p>Also, there is Kotlin multiplatform project to bind SQLite <a href=\"https://medium.com/@kpgalligan/sqlite-on-kotlin-native-9bcf47854cae\" rel=\"nofollow noreferrer\">https://medium.com/@kpgalligan/sqlite-on-kotlin-native-9bcf47854cae</a></p>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 341283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJbiQ.jpg?s=128&g=1", "display_name": "Michael Marsella", "link": "https://stackoverflow.com/users/341283/michael-marsella"}, "is_accepted": false, "score": 1, "last_activity_date": 1535918684, "creation_date": 1535918684, "answer_id": 52140620, "question_id": 51708937, "link": "https://stackoverflow.com/questions/51708937/native-c-library-in-kotlin-jvm-android/52140620#52140620", "title": "Native C library in Kotlin-JVM/Android", "body": "<p>As Eugene pointed out, its not possible, not without JNI.  I've used <a href=\"https://github.com/dropbox/djinni\" rel=\"nofollow noreferrer\">Djinni</a> from the good folks at Dropbox.  While not a silver bullet, it really does reduce the pain of JNI work.  I should also point out its designed to work with C++, not C per se.  But perhaps its still of use to you.</p>\n"}], "owner": {"reputation": 41, "user_id": 9868592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "CodeReader", "link": "https://stackoverflow.com/users/9868592/codereader"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1535918684, "creation_date": 1533562539, "question_id": 51708937, "link": "https://stackoverflow.com/questions/51708937/native-c-library-in-kotlin-jvm-android", "title": "Native C library in Kotlin-JVM/Android", "body": "<p>Is there any way to use native C libraries in kotlin-jvm without JNI?\nThe use case is simple, I want to use kotlin wrappers around native libraries like SQLite without painful JNI work. I didn't find anything in samples except the one with NativeActivity.</p>\n\n<p>Everything that I found about the topic is this thread, which is not very detailed: <a href=\"https://discuss.kotlinlang.org/t/interoperability-between-kotlin-native-and-kotlin-jvm/5943\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/interoperability-between-kotlin-native-and-kotlin-jvm/5943</a></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 3450, "user_id": 527808, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/z3Pjz.jpg?s=128&g=1", "display_name": "dilix", "link": "https://stackoverflow.com/users/527808/dilix"}, "edited": false, "score": 0, "creation_date": 1533564357, "post_id": 51708923, "comment_id": 90380061, "body": "show your main layout and mains code that is loaded"}, {"owner": {"reputation": 3205, "user_id": 9473786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1276343f8bb1e31a8d6d9bde959eccb1?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler V", "link": "https://stackoverflow.com/users/9473786/tyler-v"}, "edited": false, "score": 0, "creation_date": 1533565169, "post_id": 51708923, "comment_id": 90380590, "body": "I see this randomly on the Pixel 2 P device in the Play Store testing too. I see no such issue on an emulated Pixel 2 P, nor does there appear to be an issue (&gt; 20 s load time) when reviewing the video of the test on the Play Store. I suspect it&#39;s just a bug in the Play Store testing/reporting."}, {"owner": {"reputation": 1020, "user_id": 4508759, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b0d91b86395f8985be9c1bf578edb179?s=128&d=identicon&r=PG&f=1", "display_name": "riadrifai", "link": "https://stackoverflow.com/users/4508759/riadrifai"}, "edited": false, "score": 0, "creation_date": 1533648305, "post_id": 51708923, "comment_id": 90416282, "body": "What does <code>timer</code> do?"}], "owner": {"reputation": 164, "user_id": 8902373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d315bea89d894c8a7de3fa5e8f2e725f?s=128&d=identicon&r=PG&f=1", "display_name": "Szymon Gajdzica", "link": "https://stackoverflow.com/users/8902373/szymon-gajdzica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1533649037, "creation_date": 1533562476, "last_edit_date": 1533649037, "question_id": 51708923, "link": "https://stackoverflow.com/questions/51708923/google-console-warning-your-app-took-over-20s-app-to-start-up", "title": "Google console warning: your app took over 20s app to start up", "body": "<p>Recently I published new update and I received this warning. It happened on Pixel 2 with Android P on board. I tried another app and very similar problem. I am not sure if it is problem with Google pre-tests or my code (tested on several apps, some got this warning, some not). I think it is not connected with long proceed in onCreate method. Inside I only put layout, thats all. On button click I start all application logic.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>In my layout there is only toolbar and couple of Text Views, so posting only onCreate<br>\nMainActivity.kt</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setToolbar()\n        advertViewer = AdvertViewer(addAdvertToContainer(), this)\n        mainViewHolder = MainViewHolder(this, advertViewer)\n        mainViewHolder.setUpFloatingButton(this)\n        mainViewHolder.setDefaultValues(this)\n        presenter.onCreate(this)\n        Promote.initRateThisApp(this)\n    }\n</code></pre>\n\n<p>MainPresenter.kt</p>\n\n<pre><code>override fun onCreate(context: Activity) {\n        initGoogleApiClient(context)\n        locationCoordinator = LocationCoordinator(context, viewer, googleApiClient, mainModel, timer, onlineCoordinator)\n        timer.start()\n    }\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Timer</p>\n\n<pre><code>private val handler = Handler()\n    private var runnable: Runnable = object : Runnable {\n        override fun run() {\n            locationBuffer++\n            if(stopCounter == 0)\n                stopListenerCallback()\n            stopCounter--\n            if(isNewData){\n                updateCallback()\n                locationBuffer = 0\n            }\n            oneSecondCallback()\n            handler.postDelayed(this, 1000)\n        }\n    }\n</code></pre>\n"}, {"tags": ["lambda", "kotlin"], "comments": [{"owner": {"reputation": 1213, "user_id": 921834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ygjaF.png?s=128&g=1", "display_name": "andrei_zaitcev", "link": "https://stackoverflow.com/users/921834/andrei-zaitcev"}, "edited": false, "score": 0, "creation_date": 1533562176, "post_id": 51708709, "comment_id": 90378659, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13154463/how-can-i-check-for-generic-type-in-kotlin\">How can I check for generic type in Kotlin</a>"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9458486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5932b745a18b51a610670efd1e6c906?s=128&d=identicon&r=PG&f=1", "display_name": "Dol.Gopil", "link": "https://stackoverflow.com/users/9458486/dol-gopil"}, "edited": false, "score": 0, "creation_date": 1533563440, "post_id": 51708848, "comment_id": 90379484, "body": "Worked perfectly! Ty!"}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 1, "last_activity_date": 1533562935, "last_edit_date": 1533562935, "creation_date": 1533562269, "answer_id": 51708848, "question_id": 51708709, "link": "https://stackoverflow.com/questions/51708709/how-to-check-if-an-argument-is-a-lambda/51708848#51708848", "title": "How to check if an argument is a lambda", "body": "<p>Kotlin is going to compile your lambda into an instance of <code>Function0</code>. If you know this, you can use a <code>when</code> block to compare and smart cast quite nicely:</p>\n\n<pre><code>fun runAll(vararg commands: Any) {\n    commands.forEach {\n        when(it) {\n            is Function0&lt;*&gt; -&gt; it.invoke()\n            is MyCustomType -&gt; it.myMethod()\n        }\n    }\n}\n</code></pre>\n\n<p>And then to call it:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    runAll(\n        MyCustomType(), \n        { println(\"Lambda!\") }\n    )\n}\n</code></pre>\n\n<p><strong>Warning</strong>: The downside of this approach is that with type erasure, you don't know if you're getting a <code>Function0&lt;Unit&gt;</code> or a <code>Function0&lt;Int&gt;</code>, because the type isn't available at runtime for you to make that determination. That means somebody could give you a lambda that returns something and you would ignore the results.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 9458486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5932b745a18b51a610670efd1e6c906?s=128&d=identicon&r=PG&f=1", "display_name": "Dol.Gopil", "link": "https://stackoverflow.com/users/9458486/dol-gopil"}, "edited": false, "score": 0, "creation_date": 1533664884, "post_id": 51709944, "comment_id": 90426388, "body": "Makes sense. Will definitely do that."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1533565721, "creation_date": 1533565721, "answer_id": 51709944, "question_id": 51708709, "link": "https://stackoverflow.com/questions/51708709/how-to-check-if-an-argument-is-a-lambda/51709944#51709944", "title": "How to check if an argument is a lambda", "body": "<p>Is there a reason why your <code>MyCustomType</code> isn't a <code>Function0</code> by itself?\nIf it would be, you could just use a <code>vararg commands : () -&gt; Unit</code> and you could then just call <code>command()</code> regardless on what is passed (which is by the way the same as calling <code>command.invoke()</code>). You can do that even now with your current code:</p>\n\n<p>Change signature for <code>runAll</code> to:</p>\n\n<pre><code>fun runAll(vararg commands: () -&gt; Unit) { ...\n</code></pre>\n\n<p>Then call it using:</p>\n\n<pre><code>runAll(MyCustomType()::myMethod, { println(\"self-built-function\") } /*, ... */)\n</code></pre>\n\n<p>or the same written a bit differently with its own val:</p>\n\n<pre><code>val customObj = MyCustomType()\nrunAll({ customObj.myMethod() }, { println(\"self-built-function\") })\n</code></pre>\n\n<p>Moreover, if you require all commands to have a certain return value you can do so still, e.g. just use <code>vararg commands: () -&gt; String</code> if all your commands must return a <code>String</code>.</p>\n\n<p>Using <code>Any</code> in that regard may lead to headaches in the future. If you narrow down your type, you are at least sure that you will always have commands behaving in the same way. Moreover you get the best code completion support that way. With <code>Any</code> you can pass anything, but it doesn't <code>run</code> everything.</p>\n\n<p>If you only want to check whether a parameter is a lambda, you can also use the following:</p>\n\n<pre><code>someObj is Function&lt;*&gt;\n</code></pre>\n\n<p>However you can't call <code>invoke</code> then without casting it to a specific function type, i.e.: <code>Function0</code>, <code>Function1</code>, etc.\nRegarding <code>Function0</code>, etc. Todd already answered that. But as he also mentioned in his warning: there is a downside to that. I can only recommend omitting <code>Any</code> whenever you can.</p>\n"}], "owner": {"reputation": 65, "user_id": 9458486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5932b745a18b51a610670efd1e6c906?s=128&d=identicon&r=PG&f=1", "display_name": "Dol.Gopil", "link": "https://stackoverflow.com/users/9458486/dol-gopil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 51708848, "answer_count": 2, "score": 1, "last_activity_date": 1533565721, "creation_date": 1533561833, "last_edit_date": 1533562579, "question_id": 51708709, "link": "https://stackoverflow.com/questions/51708709/how-to-check-if-an-argument-is-a-lambda", "title": "How to check if an argument is a lambda", "body": "<p>I am processing a collection of instances of <code>MyCustomType</code> as follows: </p>\n\n<pre><code>fun runAll(vararg commands: MyCustomType){\n    commands.forEach { it.myMethod() }\n}\n</code></pre>\n\n<p>Besides instances of <code>MyCustomType</code>, I'd like to pass and process lambdas of type <code>() -&gt; Unit</code>, something like this:</p>\n\n<pre><code>fun runAll(vararg commands: Any){\n    for(command in commands){\n        if (command is MyCustomType){\n            command.myMethod()\n        } else\n        if(command is () -&gt; Unit){\n            command.invoke()\n        }\n    }\n}\n</code></pre>\n\n<p>The line <code>if(command is () -&gt; Unit){</code> does not compile with the following message: <code>Cannot check for instance of erased type: () -&gt; Unit</code>. </p>\n\n<p>Is there a way to check if an object is <code>() -&gt; Unit</code> at runtime?</p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/13154463/how-can-i-check-for-generic-type-in-kotlin\">another answer that recommends using wildcards</a>. I do not think that is relevant: my code does not use generics.</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533561760, "post_id": 51708618, "comment_id": 90378369, "body": "Use <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">github.com/bumptech/glide</a> for showing images instead of creating huge bitmaps"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8667792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f4f337ed40cf1de26f2adbda242044?s=128&d=identicon&r=PG&f=1", "display_name": "Gulraiz", "link": "https://stackoverflow.com/users/8667792/gulraiz"}, "edited": false, "score": 0, "creation_date": 1533640650, "post_id": 51709158, "comment_id": 90411136, "body": "Thank You @Bryan it really helped I just want to know what can I do so that the animation keeps on repeating."}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "reply_to_user": {"reputation": 1, "user_id": 8667792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f4f337ed40cf1de26f2adbda242044?s=128&d=identicon&r=PG&f=1", "display_name": "Gulraiz", "link": "https://stackoverflow.com/users/8667792/gulraiz"}, "edited": false, "score": 0, "creation_date": 1533646849, "post_id": 51709158, "comment_id": 90415145, "body": "@GUILRAIZ Change the <a href=\"https://developer.android.com/reference/android/graphics/drawable/AnimationDrawable.html#attr_android:oneshot\" rel=\"nofollow noreferrer\"><code>oneshot</code></a> attribute to <code>false</code> (or just remove it, the default is <code>false</code>)."}], "tags": [], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1533563215, "creation_date": 1533563215, "answer_id": 51709158, "question_id": 51708618, "link": "https://stackoverflow.com/questions/51708618/slow-loading-of-images-in-android-studio-app/51709158#51709158", "title": "Slow Loading Of Images In Android Studio App", "body": "<p>Use a <a href=\"https://developer.android.com/guide/topics/resources/animation-resource#Frame\" rel=\"nofollow noreferrer\">Frame Animation</a> instead of trying to load the images one-by-one.</p>\n\n<p>To do this you'll need to move your images to the <code>drawable</code> resource directory, instead of the <code>assets</code> directory. Then create an <code>animation-list</code> drawable resource from them.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"true\"&gt;\n\n    &lt;item android:drawable=\"@drawable/dice1\" android:duration=\"100\" /&gt;\n    &lt;item android:drawable=\"@drawable/dice2\" android:duration=\"100\" /&gt;\n    &lt;item android:drawable=\"@drawable/dice3\" android:duration=\"100\" /&gt;\n\n&lt;/animation-list&gt;\n</code></pre>\n\n<p>Then load the animation into your <code>ImageView</code>.</p>\n\n<pre><code>diceImageView.setBackgroundResource(R.drawable.dice_animation)\n</code></pre>\n\n<p>And finally start the animation.</p>\n\n<pre><code>val diceAnimation = diceImageView.getBackground() as AnimationDrawable\ndiceAnimation.start()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8667792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f4f337ed40cf1de26f2adbda242044?s=128&d=identicon&r=PG&f=1", "display_name": "Gulraiz", "link": "https://stackoverflow.com/users/8667792/gulraiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1533563215, "creation_date": 1533561515, "question_id": 51708618, "link": "https://stackoverflow.com/questions/51708618/slow-loading-of-images-in-android-studio-app", "title": "Slow Loading Of Images In Android Studio App", "body": "<p>Hi well I am a beginner and I am learning to built app recently I am working on small app name\"roll dice\" but whenever I increase the loop size such as about 100 it takes about 12 seconds to change the images and I want that the images change instantly such as like an animation as I click the button \nI have also check logcat and it says \"increase code cache capacity to 128kb\"(it is not an error message) I have also attached the logcat screenshot</p>\n\n<pre><code> fun rollDice(v: View?)\n{\n    st=0\n    rollresult?.setText(\"clicked\")\n\n\n       // var no = random!!.nextInt(6) + 1\n    while(st&lt;100) {\n        dic1 = random!!.nextInt(6) + 1\n        dic2 = random!!.nextInt(6) + 1\n        dic3 = random!!.nextInt(6) + 1\n        dice[0] = (dic1)\n        dice[1] = (dic2)\n        dice[2] = (dic3)\n\n\n        // Toast.makeText(applicationContext,\"no is \"+no,Toast.LENGTH_SHORT).show()\n        var diceset = 0\n        while (diceset &lt; 3) {\n\n            try {// var string: String = \"dice\" + dice!![diceset] + \".png\"\n                var string = \"dice\" + dice[diceset] + \".png\"\n                var stream: InputStream = getAssets().open(string)\n                var draw: Drawable = Drawable.createFromStream(stream, null)\n                var test: ImageView? = diceimageview[diceset]\n                test?.setImageDrawable(draw)\n\n            } catch (e: IOException) {\n                e.message\n\n            }\n            diceset++\n\n\n        }\n        st++\n    }\n\n\n\n}\n</code></pre>\n"}, {"tags": ["validation", "mvvm", "kotlin", "android-databinding", "android-livedata"], "answers": [{"tags": [], "owner": {"reputation": 477, "user_id": 9436750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214108414778002/picture?type=large", "display_name": "James Pooley", "link": "https://stackoverflow.com/users/9436750/james-pooley"}, "is_accepted": true, "score": 1, "last_activity_date": 1533559982, "creation_date": 1533559982, "answer_id": 51708139, "question_id": 51707927, "link": "https://stackoverflow.com/questions/51707927/android-databinding-textedit-validation-of-two-or-more-fields-enable-button/51708139#51708139", "title": "Android Databinding TextEdit Validation of two or more fields enable button", "body": "<p>I ended up figuring it out right after. Typing it up helped me find the issue and I will share what I did for others. I had a logic error in my code referencing the isNamesValid function.</p>\n\n<p>I made the following changes:</p>\n\n<p>isNamesValid now takes a string parameter and checks the specific string rather then hardcoded checking the first and last name values</p>\n\n<pre><code>private fun isNameValid(name: String?): LiveData&lt;Boolean&gt; {\n    var namesValid = false\n\n    if (!name.isNullOrEmpty()) {\n        namesValid = true\n    }\n\n    val mediatorLiveData: MediatorLiveData&lt;Boolean&gt; = MediatorLiveData()\n    mediatorLiveData.value = namesValid\n    return mediatorLiveData\n}\n</code></pre>\n\n<p>Updated Transformations to call that method passing in the name to be checked.    </p>\n\n<pre><code>    firstNamesValid = Transformations.switchMap(firstName) { firstName -&gt; isNameValid(firstName) }\n\n    lastNamesValid = Transformations.switchMap(lastName) { lastName -&gt; isNameValid(lastName) }\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 9436750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214108414778002/picture?type=large", "display_name": "James Pooley", "link": "https://stackoverflow.com/users/9436750/james-pooley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1457, "favorite_count": 0, "accepted_answer_id": 51708139, "answer_count": 1, "score": 1, "last_activity_date": 1533559982, "creation_date": 1533559338, "question_id": 51707927, "link": "https://stackoverflow.com/questions/51707927/android-databinding-textedit-validation-of-two-or-more-fields-enable-button", "title": "Android Databinding TextEdit Validation of two or more fields enable button", "body": "<p>I am working on my first Android application using MVVM and Databinding. Some areas I am grasping but this one I am struggling with. The scenario:</p>\n\n<p>I have a Create Account wizard activity, which uses Android Navigation Architecture to page through several fragments asking for input from the user. The first fragment/step asks the user for the first and last name. I do not want the button to proceed to the next step to enable until something is entered in both fields. I have enabled buttons based on ONE fields validation before, but not two. I feel like I am missing something silly.</p>\n\n<p>Here is the button I want to enable after both fields have data in them:</p>\n\n<pre><code>&lt;Button\nandroid:id=\"@+id/continueToSecondStepButton\"\nandroid:layout_width=\"300dp\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_marginStart=\"8dp\"\nandroid:layout_marginTop=\"32dp\"\nandroid:background=\"@drawable/button_transparent_background\"\nandroid:onClick=\"@{() -&gt; viewModel.proceedToNextStep()}\"\nandroid:text=\"@string/step_proceed\"\nandroid:enabled=\"@{safeUnbox(viewModel.firstNamesValid) &amp;amp;&amp;amp; safeUnbox(viewModel.lastNamesValid)}\"\nandroid:textAllCaps=\"false\"\nandroid:textColor=\"@{safeUnbox(viewModel.firstNamesValid) &amp;amp;&amp;amp; safeUnbox(viewModel.lastNamesValid) ? @colorStateList/white : @colorStateList/transparent_white}\"\nandroid:textSize=\"18sp\"\napp:layout_constraintEnd_toEndOf=\"parent\"\napp:layout_constraintStart_toStartOf=\"parent\"\napp:layout_constraintTop_toBottomOf=\"@+id/subtext\" /&gt;\n</code></pre>\n\n<p>Primarily here the focus is:</p>\n\n<pre><code> android:enabled=\"@{safeUnbox(viewModel.firstNamesValid) &amp;amp;&amp;amp; safeUnbox(viewModel.lastNamesValid)}\"\n android:textColor=\"@{safeUnbox(viewModel.firstNamesValid) &amp;amp;&amp;amp; safeUnbox(viewModel.lastNamesValid) ? @colorStateList/white : @colorStateList/transparent_white}\"\n</code></pre>\n\n<p>I have two Transformations to listen to key changes on the first and last name fields and execute the validation method:</p>\n\n<pre><code>    firstNamesValid = Transformations.switchMap(firstName) { firstName -&gt; isNamesValid() }\n\n    lastNamesValid = Transformations.switchMap(lastName) { lastName -&gt; isNamesValid() }\n</code></pre>\n\n<p>and for now, just a simple method to check if both fields have data in them:</p>\n\n<pre><code> private fun isNamesValid(): LiveData&lt;Boolean&gt; {\n    var namesValid = false\n\n    if (!firstName.value.isNullOrEmpty() &amp;&amp; !lastName.value.isNullOrEmpty()) {\n        namesValid = true\n    }\n\n    val mediatorLiveData: MediatorLiveData&lt;Boolean&gt; = MediatorLiveData()\n    mediatorLiveData.value = namesValid\n    return mediatorLiveData\n}\n</code></pre>\n\n<p>It \"kind of\" works but not well. Can you enable a button based on validating two fields with Databinding? I have a feeling there is an easier way to do this. What happens with this setup is that, you fill out first and last name, and nothing happens, but if you then navigate back to the first name and enter another character it works and enables the button. I assume this is due to some logic error in my code. Thanks for looking.</p>\n"}, {"tags": ["spring-boot", "kotlin", "embedded-jetty"], "answers": [{"tags": [], "owner": {"reputation": 40772, "user_id": 775715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qp51T.png?s=128&g=1", "display_name": "Joakim Erdfelt", "link": "https://stackoverflow.com/users/775715/joakim-erdfelt"}, "is_accepted": false, "score": 0, "last_activity_date": 1534864471, "creation_date": 1534864471, "answer_id": 51951807, "question_id": 51707716, "link": "https://stackoverflow.com/questions/51707716/spring-boot-2-jettyservletwebserverfactory-handler-leads-to-illegalstateexcepti/51951807#51951807", "title": "Spring boot 2: JettyServletWebServerFactory handler leads to IllegalStateException: No ServletContext set", "body": "<pre><code>server.handler = DefaultHandler()\n</code></pre>\n\n<p>That means you have no handlers that do anything of note.</p>\n\n<p>You essentially have a server that will always report 404 and tells you that you have no contexts.</p>\n\n<p>You'll need, at a minimum, a <code>ServletContextHandler</code> (the handler type that provides a <code>ServletContext</code> for you), which I believe spring-boot creates for you, if there is no handler declared.</p>\n\n<p>If you need something more complex, see <a href=\"https://stackoverflow.com/a/39217143/775715\">https://stackoverflow.com/a/39217143/775715</a> for more details on Handler fundamentals (including how to create a tree of handlers)</p>\n"}], "owner": {"reputation": 2164, "user_id": 4443351, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/FNKjS.jpg?s=128&g=1", "display_name": "Bizon4ik", "link": "https://stackoverflow.com/users/4443351/bizon4ik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 927, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534864471, "creation_date": 1533558701, "last_edit_date": 1533563420, "question_id": 51707716, "link": "https://stackoverflow.com/questions/51707716/spring-boot-2-jettyservletwebserverfactory-handler-leads-to-illegalstateexcepti", "title": "Spring boot 2: JettyServletWebServerFactory handler leads to IllegalStateException: No ServletContext set", "body": "<p>I am trying to customize my jetty and there is no issue with connectors however when the handler is added the except is appeared</p>\n\n<p>The config has the following view:</p>\n\n<pre><code>import org.eclipse.jetty.server.handler.DefaultHandler\n\n@Configuration\nclass JettyConfig {\n\n@Bean\nfun jettyServer(): JettyServletWebServerFactory {\n    val factory = JettyServletWebServerFactory(8080)\n    factory.addServerCustomizers(JettyServerCustomizer { server -&gt;\n        server.connectors = getJettyConnectors(server)\n        server.handler = DefaultHandler() // if this row exclude the problem disappes  \n    })\n\n    return factory\n}\n</code></pre>\n\n<p>the <code>pom.xml</code> I have these dependencies:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The stack trace of the exception</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-08-06 15:26:39.863 [main] ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'resourceHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:590)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1256)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1105)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:762)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:398)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:330)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1258)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1246)\nat com.my.AppKt.main(App.kt:123)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.HandlerMapping]: Factory method 'resourceHandlerMapping' threw exception; nested exception is java.lang.IllegalStateException: No ServletContext set\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582)\n... 18 common frames omitted\nCaused by: java.lang.IllegalStateException: No ServletContext set\nat org.springframework.util.Assert.state(Assert.java:73)\nat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.resourceHandlerMapping(WebMvcConfigurationSupport.java:483)\nat org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$39999424.CGLIB$resourceHandlerMapping$38(&lt;generated&gt;)\nat org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$39999424$$FastClassBySpringCGLIB$$f0700681.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\nat org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$39999424.resourceHandlerMapping(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 19 common frames omitted\n</code></pre>\n\n<p>I create my app in the Kotlin but I don't think it may be a cause of error because currently application work with spring core and we don't have any issue but after migration to srping-boot the promblem appears</p>\n"}, {"tags": ["java", "android", "layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1911, "user_id": 2610808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUZG.jpg?s=128&g=1", "display_name": "Viswanath Kumar Sandu", "link": "https://stackoverflow.com/users/2610808/viswanath-kumar-sandu"}, "edited": false, "score": 0, "creation_date": 1533556069, "post_id": 51706861, "comment_id": 90374453, "body": "BEtter use a LinearLayout instead of ConstraintLayout. And use orientation as vertical. It&#39;ll solve you problem easily"}, {"owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "edited": false, "score": 0, "creation_date": 1533556116, "post_id": 51706861, "comment_id": 90374491, "body": "Tried that, it fixes the toolbar but then when I scroll, then other views in my activity also overlap on the toolbar because the top-most view is bound to the scrollview and other views are bound to it."}], "tags": [], "owner": {"reputation": 1911, "user_id": 2610808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rxUZG.jpg?s=128&g=1", "display_name": "Viswanath Kumar Sandu", "link": "https://stackoverflow.com/users/2610808/viswanath-kumar-sandu"}, "is_accepted": false, "score": 0, "last_activity_date": 1533555864, "creation_date": 1533555864, "answer_id": 51706861, "question_id": 51706816, "link": "https://stackoverflow.com/questions/51706816/how-to-always-show-toolbar-in-android-even-when-there-is-scrolling/51706861#51706861", "title": "How to always show Toolbar in Android even when there is scrolling?", "body": "<p>Please place the toolbar before <code>scrollview</code>. Then it becomes not scrollable and the rest of the area is scrollable</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "edited": false, "score": 0, "creation_date": 1533556188, "post_id": 51706868, "comment_id": 90374530, "body": "As I told Viswanath earlier, I tried that and it fixes the toolbar but then when I scroll, then other views in my activity also overlap on the toolbar because the top-most view is bound to the scrollview and other views are bound to it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "edited": false, "score": 0, "creation_date": 1533556288, "post_id": 51706868, "comment_id": 90374598, "body": "You must reconstraint the scrollview as it is no longer at the top and the other views if they have a reference to the toolbar"}, {"owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "edited": false, "score": 0, "creation_date": 1533561368, "post_id": 51706868, "comment_id": 90378077, "body": "Took your hint and messed around in the code a bit, so now it&#39;s working, marking your answer as correct."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "edited": false, "score": 0, "creation_date": 1533561592, "post_id": 51706868, "comment_id": 90378230, "body": "@UsamaJawad It&#39;s difficult to rearrange views in a Constarint Layout. That&#39;s why I don&#39;t use it."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 1, "last_activity_date": 1533555890, "creation_date": 1533555890, "answer_id": 51706868, "question_id": 51706816, "link": "https://stackoverflow.com/questions/51706816/how-to-always-show-toolbar-in-android-even-when-there-is-scrolling/51706868#51706868", "title": "How to always show Toolbar in Android even when there is scrolling?", "body": "<p>Since the toolbar is inside the scrollview it will scroll. <br/>\nTake it out and constraint it to the top of the Constraint Layout.</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "edited": false, "score": 0, "creation_date": 1533556310, "post_id": 51706923, "comment_id": 90374611, "body": "Hi, please check the edit that I just made to my question, thanks!"}], "tags": [], "owner": {"reputation": 447, "user_id": 6132615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84c1b09211b41620b25500e5b184ea08?s=128&d=identicon&r=PG", "display_name": "Gautam", "link": "https://stackoverflow.com/users/6132615/gautam"}, "is_accepted": false, "score": 0, "last_activity_date": 1533557003, "last_edit_date": 1533557003, "creation_date": 1533556057, "answer_id": 51706923, "question_id": 51706816, "link": "https://stackoverflow.com/questions/51706816/how-to-always-show-toolbar-in-android-even-when-there-is-scrolling/51706923#51706923", "title": "How to always show Toolbar in Android even when there is scrolling?", "body": "<p>Your <code>Toolbar</code> is in the <code>Scrollview</code>, you can place on top of the <code>CoordinatorLayout</code> to solve the issue. so your code will look like this,</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/root\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/AppTheme.AppBarOverlay\"&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            app:popupTheme=\"@style/AppTheme.PopupOverlay\" /&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n\n    &lt;ScrollView\n        android:id=\"@+id/sc1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;EditText /&gt;\n            &lt;!-- other controls --&gt;\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n    &lt;/ScrollView&gt;\n\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1532, "user_id": 9637185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gcQbI.png?s=128&g=1", "display_name": "Amir Hossein Mirzaei", "link": "https://stackoverflow.com/users/9637185/amir-hossein-mirzaei"}, "is_accepted": false, "score": 0, "last_activity_date": 1533556183, "creation_date": 1533556183, "answer_id": 51706956, "question_id": 51706816, "link": "https://stackoverflow.com/questions/51706816/how-to-always-show-toolbar-in-android-even-when-there-is-scrolling/51706956#51706956", "title": "How to always show Toolbar in Android even when there is scrolling?", "body": "<p>move your toolbar to our side of the scroll view</p>\n\n<p>your view hierarchy should be something like this : </p>\n\n<pre><code>&lt;LinearLayout&gt;\n  &lt;Toolbar/&gt;\n  &lt;FrameLayout&gt;\n    &lt;ScrollView/&gt;\n  &lt;/FrameLayoyt&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 10092826, "user_type": "registered", "profile_image": "https://graph.facebook.com/1990558550997130/picture?type=large", "display_name": "Usama Jawad", "link": "https://stackoverflow.com/users/10092826/usama-jawad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 998, "favorite_count": 0, "accepted_answer_id": 51706868, "answer_count": 4, "score": 0, "last_activity_date": 1533557003, "creation_date": 1533555690, "last_edit_date": 1533556280, "question_id": 51706816, "link": "https://stackoverflow.com/questions/51706816/how-to-always-show-toolbar-in-android-even-when-there-is-scrolling", "title": "How to always show Toolbar in Android even when there is scrolling?", "body": "<p>After looking up various answers and suggestions on the site, I implemented a custom toolbar in my app instead of using the default ActionBar. For the most part, it works fine, however, one thing that is different from the standard action bar is that it auto-hides whenever I scroll. In the default ActionBar, it was always visible on the activity regardless of whether I was scrolling or not. Can anyone please explain how to implement this behavior in the custom toolbar as well? I have attached my xml below:</p>\n\n<p>EDIT: I have tried moving the toolbar out of the scrollview which fixes the toolbar but then when I scroll, then other views in my activity also overlap on the toolbar because the top-most view is bound to the scrollview and other views are bound to it. So, the current implementation is better than the overlapping problem, but it is still not the solution I desire.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".MainActivity\"&gt;\n\n&lt;ScrollView\n    android:id=\"@+id/sc1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_marginBottom=\"8dp\"\n    android:layout_marginEnd=\"0dp\"\n    android:layout_marginLeft=\"0dp\"\n    android:layout_marginRight=\"0dp\"\n    android:layout_marginStart=\"0dp\"\n    android:layout_marginTop=\"0dp\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"1.0\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_bias=\"1.0\"&gt;\n\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/searchBar\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:ems=\"10\"\n            android:hint=\"Search...\"\n            android:textColorHint=\"@color/myWhite\"\n            android:inputType=\"textPersonName\"\n            android:textColor=\"@color/myWhite\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.503\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/subtitleBtn\" /&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/myToolbar\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"@color/colorPrimary\"\n            app:titleTextColor=\"@color/myWhite\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n            android:contentInsetLeft=\"48dp\"\n            android:contentInsetStart=\"48dp\"\n            app:titleMarginStart=\"24dp\"\n            app:contentInsetLeft=\"12dp\"\n            app:contentInsetStart=\"12dp\"\n            android:contentInsetRight=\"0dp\"\n            android:contentInsetEnd=\"0dp\"\n            app:contentInsetRight=\"0dp\"\n            app:contentInsetEnd=\"0dp\"/&gt;\n\n        &lt;Button\n            android:id=\"@+id/splitDrawableBackgroundBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Split Drawable Background\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.517\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/stackedDrawableBackgroundBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/subtitleBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Show Subtitle\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/iconBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/iconBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Icon\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/alternateBackBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/alternateBackBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Alternate Back Button\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/hideBarBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/hideBarBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Hide Action Bar\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/elevationBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/elevationBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Elevation\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/logoBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/logoBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Logo\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/hideAllBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/hideAllBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Hide Everything\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/hideBackBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/hideBackBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Hide Back Button\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.502\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/splitDrawableBackgroundBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/stackedDrawableBackgroundBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Stacked Drawable Background\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/drawableBackgroundBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/drawableBackgroundBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Set Drawable Background\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/customViewBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/customViewBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Show Custom View\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/hideOffsetBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/hideOffsetBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Hide Offset\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/backBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/backBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"24dp\"\n            android:text=\"Show back button\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/titleBtn\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/titleBtn\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginLeft=\"8dp\"\n            android:layout_marginRight=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginTop=\"88dp\"\n            android:text=\"Set Title\"\n            android:fontFamily=\"@font/roboto_black\"\n            android:textAllCaps=\"false\"\n            android:textSize=\"20sp\"\n            android:textStyle=\"bold\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n&lt;/ScrollView&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "build.gradle", "kotlin-native", "kotlin-multiplatform"], "answers": [{"tags": [], "owner": {"reputation": 668, "user_id": 1168617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de4bc9da60c815d73eaedfb2b9a1c7ba?s=128&d=identicon&r=PG", "display_name": "Dave Leeds", "link": "https://stackoverflow.com/users/1168617/dave-leeds"}, "is_accepted": false, "score": 1, "last_activity_date": 1537890703, "creation_date": 1537890703, "answer_id": 52502230, "question_id": 51706582, "link": "https://stackoverflow.com/questions/51706582/gradle-project-sync-failed-cause-org-gradle-api-internal-featurepreviews/52502230#52502230", "title": "Gradle project sync failed, Cause: org/gradle/api/internal/FeaturePreviews", "body": "<p>Make sure you're using Gradle version 4.7 or higher. If you're using the Gradle wrapper, you can update it from the command line.</p>\n\n<p>To do that, first comment out your entire ios/build.gradle file (to prevent it from causing problems when updating the wrapper version). Then, run this at the command line:</p>\n\n<p><code>./gradlew wrapper --gradle-version 4.7</code></p>\n\n<p>Finally, uncomment your ios/build.gradle file again and build the project.</p>\n"}], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1713, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1537890703, "creation_date": 1533554883, "question_id": 51706582, "link": "https://stackoverflow.com/questions/51706582/gradle-project-sync-failed-cause-org-gradle-api-internal-featurepreviews", "title": "Gradle project sync failed, Cause: org/gradle/api/internal/FeaturePreviews", "body": "<p>I am trying to follow the following tutorial: <a href=\"https://github.com/JetBrains/kotlin-native/blob/master/MULTIPLATFORM.md\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin-native/blob/master/MULTIPLATFORM.md</a></p>\n\n<p>But when I try to build the android app from android studio, I get the following error:</p>\n\n<blockquote>\n  <p>FAILURE: Build failed with an exception.</p>\n  \n  <ul>\n  <li>Where:\n  Build file '/Users/nishita.dutta/AndroidStudioProjects/KotlinMultiplatform/application/greeting/ios/build.gradle' line: 1</li>\n  <li>What went wrong:\n  A problem occurred evaluating project ':application:greeting:ios'.\n  org/gradle/api/internal/FeaturePreviews</li>\n  </ul>\n</blockquote>\n\n<p>This is my ios/build.gradle file</p>\n\n<pre><code>apply plugin: 'konan'\n\n// Specify targets to build the framework: iOS and iOS simulator\nkonan.targets = ['ios_arm64', 'ios_x64']\n\nkonanArtifacts {\n// Declare building into a framework.\nframework('Greeting') {\n    // The multiplatform support is disabled by default.\n    enableMultiplatform true\n}\n}\n\ndependencies {\n// Specify dependency on a common project for Kotlin multiplatform build\nexpectedBy project(':greeting:common')\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2", "okhttp3"], "answers": [{"comments": [{"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1533564161, "post_id": 51706666, "comment_id": 90379944, "body": "diddnt work. it says &quot;expected Single&lt;Response&lt;Void?&gt;&gt; but was Single&lt;Response&lt;&gt;Nothing&gt;"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "edited": false, "score": 0, "creation_date": 1533580181, "post_id": 51706666, "comment_id": 90388655, "body": "You just need to specify the generic type in the property declaration then, edited the answer to include it."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 7, "last_activity_date": 1533580129, "last_edit_date": 1533580129, "creation_date": 1533555155, "answer_id": 51706666, "question_id": 51706414, "link": "https://stackoverflow.com/questions/51706414/retrofit-creating-mocked-void-success-response/51706666#51706666", "title": "Retrofit creating mocked void success response?", "body": "<p>If defined in Kotlin, <code>Single&lt;Response&lt;Void&gt;&gt;</code> is an impossible type. <code>Void</code> can only be <code>null</code> so the type has to be <code>Single&lt;Response&lt;Void?&gt;&gt;</code> to make <code>Response.success&lt;Void?&gt;(null)</code> a valid value.</p>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 1, "accepted_answer_id": 51706666, "answer_count": 1, "score": 4, "last_activity_date": 1533580129, "creation_date": 1533554319, "question_id": 51706414, "link": "https://stackoverflow.com/questions/51706414/retrofit-creating-mocked-void-success-response", "title": "Retrofit creating mocked void success response?", "body": "<p>Hi i am trying to mock one of my request response api to return a response success of type Void but i cant seem to do that as Void cannot be initialised and is private.</p>\n\n<p>Im trying to do this:V</p>\n\n<pre><code>val responseMock = Response.success(Void())\n</code></pre>\n\n<p>But no joy.</p>\n\n<p>I even tried setting the Response.success(null) and it complains that the responseMock object has to be of type Void in my case as my api method  returns this:</p>\n\n<pre><code>Single&lt;Response&lt;Void&gt;&gt;\n</code></pre>\n\n<p>but having response.success(null) yields </p>\n\n<pre><code>Single&lt;Response&lt;Nothing?&gt;&gt;?\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "edited": false, "score": 0, "creation_date": 1548366989, "post_id": 51706148, "comment_id": 95526982, "body": "Did you try <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum.html\" rel=\"nofollow noreferrer\">sum</a> instead of the more complicated <code>fold</code>? To me, a <code>fold</code> like this always looks suspicious."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1548366204, "last_edit_date": 1548366204, "creation_date": 1533553431, "answer_id": 51706148, "question_id": 51706119, "link": "https://stackoverflow.com/questions/51706119/how-to-calculate-totals-for-each-row-in-a-table-rowscolumns-structure-in-kotl/51706148#51706148", "title": "How to calculate totals for each row in a table (rows*columns) structure in Kotlin?", "body": "<p>My solution looks like this. I simply <code>flatMap</code> the data and group the column values by the column's name, which I then <code>fold</code> to the corresponding sums. </p>\n\n<pre><code> private fun calculateTotals(data: Grid) = data.rows\n        .flatMap(Row::data)\n        .groupingBy(Column&lt;*&gt;::name)\n        .fold(0.0) { accumulator, (_, value) -&gt;\n            accumulator + when (value) {\n                is Number -&gt; value.toDouble()\n                else -&gt; 0.0\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1533683323, "creation_date": 1533683323, "answer_id": 51736608, "question_id": 51706119, "link": "https://stackoverflow.com/questions/51706119/how-to-calculate-totals-for-each-row-in-a-table-rowscolumns-structure-in-kotl/51736608#51736608", "title": "How to calculate totals for each row in a table (rows*columns) structure in Kotlin?", "body": "<p>I could not come up with a better solution. I think yours is really good, but I would suggest some syntactic improvements.</p>\n\n<ol>\n<li>Use lambda references</li>\n<li>Use destructuring syntax</li>\n<li>Don't use <code>when</code>, if you only test for one specific type, use the safe cast operator (<code>as?</code>), the safe call operator (<code>?</code>) and the elvis operator (<code>:?</code>).</li>\n</ol>\n\n<hr>\n\n<pre><code>private fun calculateTotals(data: GridData) = data.rows\n            .flatMap(RowData::data) // 1\n            .groupingBy(ColumnsData&lt;*&gt;::column) // 1\n            .fold(0.0) { accumulator, (_, value) -&gt; // 2\n                accumulator + ((value as? Number)?.toDouble() ?: 0.0) // 3\n            }\n</code></pre>\n"}], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 51706148, "answer_count": 2, "score": 0, "last_activity_date": 1548366225, "creation_date": 1533553354, "last_edit_date": 1548366225, "question_id": 51706119, "link": "https://stackoverflow.com/questions/51706119/how-to-calculate-totals-for-each-row-in-a-table-rowscolumns-structure-in-kotl", "title": "How to calculate totals for each row in a table (rows*columns) structure in Kotlin?", "body": "<p>I have a (simplified) table structure that is defined like this:</p>\n\n<pre><code>data class Column&lt;T&gt;(val name: String, val value: T)\ndata class Row(val data: List&lt;Column&lt;*&gt;&gt;)\ndata class Grid(val rows: List&lt;Row&gt;)\n</code></pre>\n\n<p>I now want to calculate the totals for each column in that grid, i.e. the <code>i</code>th element of each row needs to be accumulated. </p>\n"}, {"tags": ["kotlin", "setter"], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 12, "last_activity_date": 1533632771, "last_edit_date": 1533632771, "creation_date": 1533551335, "answer_id": 51705562, "question_id": 51705425, "link": "https://stackoverflow.com/questions/51705425/kotlin-override-setter/51705562#51705562", "title": "Kotlin: Override setter", "body": "<p>You have to declare your field as <code>open</code> in your parent class</p>\n\n<pre><code>open var items: List&lt;I&gt; = listOf()\n    set(value) {\n        field = value\n        onDataChanged()\n    }\n</code></pre>\n\n<p>And in your child class you override it as: </p>\n\n<pre><code>override var items: List&lt;Int&gt;\n    get() = super.items\n    set(value) {\n        super.items = value\n        //Your code\n    }\n</code></pre>\n\n<p>In this way, you are actually creating a property without a backing field and you are just accessing to the real parent's <code>items</code> field.</p>\n\n<hr>\n\n\n"}], "owner": {"reputation": 4634, "user_id": 678448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/HVbqu.jpg?s=128&g=1", "display_name": "Thommy", "link": "https://stackoverflow.com/users/678448/thommy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2346, "favorite_count": 0, "accepted_answer_id": 51705562, "answer_count": 1, "score": 7, "last_activity_date": 1533632771, "creation_date": 1533550854, "question_id": 51705425, "link": "https://stackoverflow.com/questions/51705425/kotlin-override-setter", "title": "Kotlin: Override setter", "body": "<p>I have an abstract class containing the following property</p>\n\n<pre><code>var items: List&lt;I&gt; = listOf()\n    set(value) {\n        field = value\n        onDataChanged()\n    }\n</code></pre>\n\n<p>In my extending class i now want to override the setter of <code>items</code> to do additional stuff before the above setter code is called. Is this possible, if yes, how?</p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 5782800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kajZs.jpg?s=128&g=1", "display_name": "Pinaki Acharya", "link": "https://stackoverflow.com/users/5782800/pinaki-acharya"}, "edited": false, "score": 0, "creation_date": 1533546913, "post_id": 51703961, "comment_id": 90369216, "body": "Fixed it. Thanks so much :)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 3, "last_activity_date": 1533546368, "last_edit_date": 1533546368, "creation_date": 1533545956, "answer_id": 51703961, "question_id": 51703939, "link": "https://stackoverflow.com/questions/51703939/compile-time-error-in-passing-vararg-parameter-to-another-function-in-kotlin/51703961#51703961", "title": "Compile time error in passing vararg parameter to another function in Kotlin", "body": "<p>Just put a <code>*</code> in front of your passed argument (spread operator), i.e.</p>\n\n<pre><code>fun a(vararg a: Int){\n  // a actually now is of type IntArray\n  b(*a) // this will ensure that it can be passed to a vararg method again\n}\n</code></pre>\n\n<p>See also: <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">Kotlin functions reference #varargs</a></p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 5782800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kajZs.jpg?s=128&g=1", "display_name": "Pinaki Acharya", "link": "https://stackoverflow.com/users/5782800/pinaki-acharya"}, "edited": false, "score": 0, "creation_date": 1533546927, "post_id": 51704008, "comment_id": 90369222, "body": "This fixed it. Thanks so much :)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1533546109, "creation_date": 1533546109, "answer_id": 51704008, "question_id": 51703939, "link": "https://stackoverflow.com/questions/51703939/compile-time-error-in-passing-vararg-parameter-to-another-function-in-kotlin/51704008#51704008", "title": "Compile time error in passing vararg parameter to another function in Kotlin", "body": "<p>The parameter <code>a</code> inside function <code>a()</code> has type <code>IntArray</code> and needs to be converted to <code>varargs</code> again when passed to <code>b</code>. This can be done with the \"spread operator\": <code>*</code></p>\n\n<pre><code>fun a(vararg a: Int) {\n    b(*a) // spread operator\n}\n</code></pre>\n\n<p>It's been described in slightly more detail here before: <a href=\"https://stackoverflow.com/a/45855062/8073652\">https://stackoverflow.com/a/45855062/8073652</a></p>\n"}], "owner": {"reputation": 159, "user_id": 5782800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kajZs.jpg?s=128&g=1", "display_name": "Pinaki Acharya", "link": "https://stackoverflow.com/users/5782800/pinaki-acharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 1, "accepted_answer_id": 51703961, "answer_count": 2, "score": 4, "last_activity_date": 1533546368, "creation_date": 1533545846, "question_id": 51703939, "link": "https://stackoverflow.com/questions/51703939/compile-time-error-in-passing-vararg-parameter-to-another-function-in-kotlin", "title": "Compile time error in passing vararg parameter to another function in Kotlin", "body": "<p>I'm trying to accept a vararg parameter as a function parameter in Kotlin and trying to pass it to another function with vararg parameters. However, it gives me a compile time error in doing so, <code>type mismatch: inferred type is IntArray but Int was expected</code>. </p>\n\n<p><strong>Kotlin:</strong></p>\n\n<pre><code>fun a(vararg a: Int){\n   b(a) // type mismatch inferred type is IntArray but Int was expected\n}\n\nfun b(vararg b: Int){\n\n}\n</code></pre>\n\n<p>However, if I try the same code in Java, it works. </p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>void a(int... a) {\n    b(a); // works completely fine\n}\n\nvoid b(int... b) {\n\n}\n</code></pre>\n\n<p>How can I get around this?</p>\n"}, {"tags": ["android", "kotlin", "fragment", "kotlin-android-extensions", "kotlin-extension"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533546964, "post_id": 51703638, "comment_id": 90369240, "body": "Because <code>getItem</code> returns a NEW instance of the Fragment which is not added to your Activity and has no inflated layout."}, {"owner": {"reputation": 329, "user_id": 6027674, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-De2YfHYJCRc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p_3UX3tzV5SWqOShleUEstUvd5cA/mo/photo.jpg?sz=128", "display_name": "Nir Patel", "link": "https://stackoverflow.com/users/6027674/nir-patel"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533549046, "post_id": 51703638, "comment_id": 90370514, "body": "@EpicPandaForce what should I do to achieve my flow...?? Any workaround for it?"}, {"owner": {"reputation": 329, "user_id": 6027674, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-De2YfHYJCRc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p_3UX3tzV5SWqOShleUEstUvd5cA/mo/photo.jpg?sz=128", "display_name": "Nir Patel", "link": "https://stackoverflow.com/users/6027674/nir-patel"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533549580, "post_id": 51703638, "comment_id": 90370826, "body": "@EpicPandaForce how will that work?? instantiateItem is deprecated and it does not return fragment.? Can you tell me how to use that.? Or give some reference may be"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1533550200, "post_id": 51703638, "comment_id": 90371163, "body": "Okay. See <a href=\"https://stackoverflow.com/questions/18609261/getting-the-current-fragment-instance-in-the-viewpager\" title=\"getting the current fragment instance in the viewpager\">stackoverflow.com/questions/18609261/&hellip;</a>"}, {"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1533627999, "post_id": 51703638, "comment_id": 90403418, "body": "As EpicpandaForce already mentioned you can&#39;t simply call getItem(pos) because that would give you a <b>new</b> Fragment  each time you call it. Instead you should use something like this <a href=\"https://gist.github.com/luksprog/183c31ca77dba4be8c9e891db24c2fae\" rel=\"nofollow noreferrer\">gist.github.com/luksprog/183c31ca77dba4be8c9e891db24c2fae</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1417, "user_id": 5230682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwmEI.jpg?s=128&g=1", "display_name": "Ehsan Mashhadi", "link": "https://stackoverflow.com/users/5230682/ehsan-mashhadi"}, "is_accepted": false, "score": 2, "last_activity_date": 1533545209, "creation_date": 1533545209, "answer_id": 51703741, "question_id": 51703638, "link": "https://stackoverflow.com/questions/51703638/fragment-view-is-null-when-try-to-access-from-activity/51703741#51703741", "title": "Fragment View is null when try to access from Activity", "body": "<p>Didn't you define etDateOfBirth? Define edit text on onViewCreated()</p>\n\n<pre><code>EditText etDateOfBirth = view.findViewById(R.id.sample);\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 6027674, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh3.googleusercontent.com/-De2YfHYJCRc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p_3UX3tzV5SWqOShleUEstUvd5cA/mo/photo.jpg?sz=128", "display_name": "Nir Patel", "link": "https://stackoverflow.com/users/6027674/nir-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 737, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1533545209, "creation_date": 1533544796, "question_id": 51703638, "link": "https://stackoverflow.com/questions/51703638/fragment-view-is-null-when-try-to-access-from-activity", "title": "Fragment View is null when try to access from Activity", "body": "<p>I have created a Fragment which is in ViewPager. Fragment is loading fine. \nI am using a button to swipe fragments in viewpager and before swiping, I want to check validations. So I did this in Activity : </p>\n\n<pre><code>val pos: Int = viewPager.currentItem\n            val activeFragment: Fragment? = mAdapter.getItem(pos)\n            if (viewPager.currentItem == 0) {\n\n                if (pos == 0) (activeFragment as FragmentOne).checkValidation()\n</code></pre>\n\n<p>Below is my Fragment code. </p>\n\n<pre><code>class FragmentOne: BaseFragment() {\n\n        fun newInstance(): FragmentOne{\n            val args = Bundle()\n            val fragment = FragmentOne()\n            fragment.setArguments(args)\n            return fragment\n        }\n\n\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                                  savedInstanceState: Bundle?): View? {\n            val view : View = inflater.inflate(R.layout.fragment_one, container, false);\n            return view\n        }\n\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n            super.onViewCreated(view, savedInstanceState)\n        }\n\n        override fun onActivityCreated(savedInstanceState: Bundle?) {\n            super.onActivityCreated(savedInstanceState)\n            initiateUI()\n        }\n\n\n        fun checkValidation(): Boolean {\n            if (TextUtils.isEmpty(etDateOfBirth.text.toString())) {\n                showMessage(etDateOfBirth, getString(R.string.str_empty_dob))\n                return false\n            }\n            return true\n        }\n    }\n</code></pre>\n\n<p>When I press next I get error:\n<strong>java.lang.IllegalStateException: etDateOfBirth must not be null</strong>\nCan anyone help out?</p>\n"}, {"tags": ["android", "kotlin", "nullable", "unreachable-code"], "comments": [{"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 1, "creation_date": 1533541464, "post_id": 51702593, "comment_id": 90366416, "body": "It could be unreachable, if <code>firebaseAuth</code> isn&#39;t nullable and if <code>currentUser</code> isn&#39;t nullable and if <code>uid</code> isn&#39;t nullable? Is that right?"}], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 2278, "user_id": 940637, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6b675eb46382fec38d979d4e4303bfc9?s=128&d=identicon&r=PG", "display_name": "Luciano", "link": "https://stackoverflow.com/users/940637/luciano"}, "edited": false, "score": 1, "creation_date": 1533544387, "post_id": 51702947, "comment_id": 90367873, "body": "Sorry then... that was clearly not my intention ;-) But I think I did that too already... so... it happens ;-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 4, "last_activity_date": 1533543839, "last_edit_date": 1533543839, "creation_date": 1533541993, "answer_id": 51702947, "question_id": 51702593, "link": "https://stackoverflow.com/questions/51702593/why-is-my-null-check-unreachable/51702947#51702947", "title": "Why is my null check unreachable?", "body": "<p>Ok... I see... in fact it is the following line that contains the unreachable code:</p>\n\n<pre><code>it.onError(throw RuntimeException(\"Unauthorised\"))\n</code></pre>\n\n<p>The reason: you throw your exception immediately and not when there occurs an error in processing. In fact the <code>onError</code> itself becomes unreachable.</p>\n\n<p><a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Emitter.html#onError-java.lang.Throwable-\" rel=\"nofollow noreferrer\"><code>onError</code></a> however, needs the exception to throw as passed argument, so what you rather want is something like:</p>\n\n<pre><code>it.onError(RuntimException(\"Unauthorised\"))\n</code></pre>\n\n<p>i.e. omit the <code>throw</code>.</p>\n"}], "owner": {"reputation": 2278, "user_id": 940637, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6b675eb46382fec38d979d4e4303bfc9?s=128&d=identicon&r=PG", "display_name": "Luciano", "link": "https://stackoverflow.com/users/940637/luciano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 51702947, "answer_count": 1, "score": 0, "last_activity_date": 1533543839, "creation_date": 1533540726, "question_id": 51702593, "link": "https://stackoverflow.com/questions/51702593/why-is-my-null-check-unreachable", "title": "Why is my null check unreachable?", "body": "<p>In the following example i have an nullable property userId. I would like throw an Exception if it null. Android studio is telling me the code block inside if(userId == null) is unreachable. Can anyone explain why this is unreachable?</p>\n\n<pre><code>return Observable.create&lt;Optional&lt;UserEntity&gt;&gt; { it -&gt;\n\n        val userId: String? = firebaseAuth.currentUser?.uid\n\n        if(userId == null){\n            it.onError(throw RuntimeException(\"Unauthorised\"))\n            it.onComplete()\n        }else{\n            //Do something\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-progressbar", "android-framelayout"], "answers": [{"comments": [{"owner": {"reputation": 582, "user_id": 5855551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVx9I.jpg?s=128&g=1", "display_name": "Neha Chauhan", "link": "https://stackoverflow.com/users/5855551/neha-chauhan"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1533534978, "post_id": 51701207, "comment_id": 90363692, "body": "are you replacing your fragment or adding fragment ?? can you please share your code snippet when you are replacing fragment ?"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1533535153, "post_id": 51701207, "comment_id": 90363744, "body": "The replacing code snippet has also been posted. Its inside the setonclicklistener."}, {"owner": {"reputation": 582, "user_id": 5855551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVx9I.jpg?s=128&g=1", "display_name": "Neha Chauhan", "link": "https://stackoverflow.com/users/5855551/neha-chauhan"}, "reply_to_user": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1533535443, "post_id": 51701207, "comment_id": 90363851, "body": "as i see your progressbar is in activity and when you replace your fragment from activity at that time you can update the progressbar. NO need to write code in your fragment."}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1533535649, "post_id": 51701207, "comment_id": 90363924, "body": "I am replacing fragments in current fragment itself. I am not doing the replacing action in the activity."}], "tags": [], "owner": {"reputation": 582, "user_id": 5855551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVx9I.jpg?s=128&g=1", "display_name": "Neha Chauhan", "link": "https://stackoverflow.com/users/5855551/neha-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1533534431, "creation_date": 1533534431, "answer_id": 51701207, "question_id": 51701105, "link": "https://stackoverflow.com/questions/51701105/setprogress-for-a-progress-bar-across-fragments-android-using-kotlin/51701207#51701207", "title": "Setprogress for a progress bar across fragments android using Kotlin", "body": "<p>try to Put your code in onCreateView() method.\nHope it works!!</p>\n"}, {"comments": [{"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1533535423, "post_id": 51701282, "comment_id": 90363846, "body": "It doesn&#39;t work in both onviewcreated and oncreateview. The progress bar isn&#39;t updated."}], "tags": [], "owner": {"reputation": 288, "user_id": 4249286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46728e9bb9b62b6e5193f9a9ca7000af?s=128&d=identicon&r=PG&f=1", "display_name": "Amroun", "link": "https://stackoverflow.com/users/4249286/amroun"}, "is_accepted": false, "score": 0, "last_activity_date": 1533534840, "creation_date": 1533534840, "answer_id": 51701282, "question_id": 51701105, "link": "https://stackoverflow.com/questions/51701105/setprogress-for-a-progress-bar-across-fragments-android-using-kotlin/51701282#51701282", "title": "Setprogress for a progress bar across fragments android using Kotlin", "body": "<p>Try </p>\n\n<pre><code>parentmain_progress?.post({\n        parentmain_progress?.progress = 3\n})\n</code></pre>\n\n<p>instead of <code>parentmain_progress?.setProgress(3)</code></p>\n"}, {"tags": [], "owner": {"reputation": 100, "user_id": 5371139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hDGd1.jpg?s=128&g=1", "display_name": "GRimmjow", "link": "https://stackoverflow.com/users/5371139/grimmjow"}, "is_accepted": true, "score": 1, "last_activity_date": 1572528831, "last_edit_date": 1572528831, "creation_date": 1533545771, "answer_id": 51703916, "question_id": 51701105, "link": "https://stackoverflow.com/questions/51701105/setprogress-for-a-progress-bar-across-fragments-android-using-kotlin/51703916#51703916", "title": "Setprogress for a progress bar across fragments android using Kotlin", "body": "<p>Like that ?</p>\n\n<p>On this example I use the new package structure : <code>Androidx</code></p>\n\n<p>If you do not use it yet, simply change</p>\n\n<pre><code>import androidx.fragment.app.FragmentTransaction \n</code></pre>\n\n<p>by </p>\n\n<pre><code>import android.app.FragmentTransaction\n</code></pre>\n\n<p>You will find the code on this deposit : </p>\n\n<p><a href=\"https://github.com/Amadou19/Android-Multiple-fragment-with-progressBar---Kotlin.git\" rel=\"nofollow noreferrer\">https://github.com/Amadou19/Android-Multiple-fragment-with-progressBar---Kotlin.git</a></p>\n\n<pre><code>  /****************************/\n    fragment1.xml\n    /****************************/\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#c15d5d\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerInParent=\"true\"\n            android:textSize=\"30sp\"\n            android:text=\"Fragment 1\"/&gt;\n\n        &lt;Button\n            android:id=\"@+id/button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_centerHorizontal=\"true\"\n            android:text=\"Click Me\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    /****************************/\n    Fragment1\n    /****************************/\n    class Fragment1 : Fragment() {\n\n        interface Fragment1Listner {\n            fun onClickFragment1()\n        }\n\n        var a1: Fragment1Listner? = null\n\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n            val view = inflater.inflate(R.layout.fragment1, container, false)\n\n            view.findViewById&lt;Button&gt;(R.id.button).setOnClickListener {\n                Toast.makeText(activity, \"Clicked\", Toast.LENGTH_SHORT).show()\n                a1?.onClickFragment1()\n            }\n\n            return view\n        }\n    }\n    /****************************/\n    fragment2.xml\n    /****************************/\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#5d80c1\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerInParent=\"true\"\n            android:textSize=\"30sp\"\n            android:text=\"Fragment 2\"/&gt;\n\n\n        &lt;Button\n            android:id=\"@+id/button2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignParentBottom=\"true\"\n            android:layout_centerHorizontal=\"true\"\n            android:text=\"Click Me\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    /****************************/\n    Fragment2\n    /****************************/\n    class Fragment2 : Fragment() {\n\n        interface Fragment2Listner {\n            fun onClickFragment2()\n        }\n\n        var a2: Fragment2Listner? = null\n\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n            val view = inflater.inflate(R.layout.fragment2, container, false)\n\n            view.findViewById&lt;Button&gt;(R.id.button2).setOnClickListener {\n                Toast.makeText(activity, \"Clicked\", Toast.LENGTH_SHORT).show()\n                a2?.onClickFragment2()\n            }\n\n            return view    }\n\n    }\n\n    /****************************/\n    fragment3.xml\n    /****************************/\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#fab049\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerInParent=\"true\"\n            android:textSize=\"30sp\"\n            android:text=\"Fragment 3\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    /****************************/\n    Fragment3\n    /****************************/\n    class Fragment3 : Fragment() {\n\n\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n            val view = inflater.inflate(R.layout.fragment3, container, false)\n\n            return view    }\n\n    }\n\n\n    /****************************/\n    activity_main.xml\n    /****************************/\n    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        tools:context=\"com.example.amadoutirera.progressbar2.MainActivity\"&gt;\n        &lt;ProgressBar\n            android:id=\"@+id/progress_bar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            style=\"@style/Base.Widget.AppCompat.ProgressBar.Horizontal\" /&gt;\n        &lt;FrameLayout\n            android:id=\"@+id/container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_below=\"@+id/progress_bar\"/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n\n    /****************************/\n    MainActivity\n    /****************************/\n    class MainActivity : AppCompatActivity(), Fragment1.Fragment1Listner, Fragment2.Fragment2Listner {\n    lateinit var progressBar : ProgressBar\n\n\n        private lateinit var fragment1: Fragment1\n        private lateinit var fragment2: Fragment2\n        private lateinit var fragment3: Fragment3\n\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            setContentView(R.layout.activity_main)\n            /*------------------------------------------*/\n            progressBar = findViewById&lt;ProgressBar&gt;(R.id.progress_bar)\n            progressBar.max = 90\n            progressBar.progress = 30\n            /*------------------------------------------*/\n            fragment1 = Fragment1()\n            fragment2 = Fragment2()\n            fragment3 = Fragment3()\n            /*------------------------------------------*/\n            fragment1.a1 = this\n            fragment2.a2 = this\n            /*------------------------------------------*/\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.container, fragment1)\n                    .commit()\n        }\n        /*--------------- Onclik interface implementation -------------------*/\n        override fun onClickFragment1() {\n\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.container, fragment2)\n                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\n                    .addToBackStack(null)\n                    .commit()\n\n            progressBar.incrementProgressBy(30)\n\n        }\n\n        override fun onClickFragment2() {\n\n            supportFragmentManager.beginTransaction()\n                    .replace(R.id.container, fragment3)\n                    .setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN)\n                    .addToBackStack(null)\n                    .commit()\n            progressBar.incrementProgressBy(30)\n\n        }\n\n        /*------------------------------------------*/\n        override fun onBackPressed() {\n            super.onBackPressed()\n            if(progressBar.progress ==60 || progressBar.progress ==90) progressBar.incrementProgressBy(-30)\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2001, "favorite_count": 0, "accepted_answer_id": 51703916, "answer_count": 3, "score": 0, "last_activity_date": 1572528831, "creation_date": 1533533797, "last_edit_date": 1533540291, "question_id": 51701105, "link": "https://stackoverflow.com/questions/51701105/setprogress-for-a-progress-bar-across-fragments-android-using-kotlin", "title": "Setprogress for a progress bar across fragments android using Kotlin", "body": "<p>I am an amateur to both, android studio and kotlin. I am implementing a scenario where I have some fragments, as and when we finish with one fragment, the progress is shown on the main layout. These fragments replace the main frame layout and switching from one fragment to next is done in the previous fragment using the <code>setonclicklistener</code>. However, the problem is that I am unable to see the update happening to the progressbar. By the way, I am not using any progress dialogue. All I need is to update the progress bar as I switch from one fragment to another. When I run the App, it doesn't crash but the update doesn't happen. The main_layout file as given below and the frame layout is replaced by the fragments.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;ProgressBar\n    android:id=\"@+id/parentmain_progress\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"25dp\"\n\nstyle=\"@style/Base.Widget.AppCompat.ProgressBar.Horizontal\"\n    android:scaleY=\"2\"/&gt;\n&lt;FrameLayout\n    android:id=\"@+id/parentmain_frame\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_below=\"@id/parentmain_progress\"&gt;\n&lt;/FrameLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>One of the fragments where the progress is not updated:</p>\n\n<pre><code>class ParentChildInfoFragment : Fragment() {\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_parent_info_relation, container, false)\n\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    headerparentrelation_text?.text= arguments?.getString(\"name\")\n    parentmain_progress?.max=4\n    parentmain_progress?.setProgress(3)\n    val string = \"Your Cild is a....\\n Girl/Boy\"\n    specifying_relation_txt?.text = string\n\n    relation_mom_image?.setImageResource(R.drawable.girl)\n    relation_dad_image?.setImageResource(R.drawable.boy)\n\n    val girlstring = \"Girl\"\n    mom_txt?.text = girlstring\n\n    val boystring = \"Boy\"\n    dad_txt?.text=boystring\n\n    nextbtn_parentrelation.setOnClickListener {\n        fragmentManager?.beginTransaction()?.replace(R.id.parentmain_frame,ParentInfoFragment())?.commit()\n    }\n  }\n}\n</code></pre>\n\n<p>Any help appreciated.</p>\n"}, {"tags": ["android", "kotlin", "android-viewpager", "android-tablayout", "bottomnavigationview"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1533530313, "post_id": 51700551, "comment_id": 90362484, "body": "Do you want sync your <code>bottom navigation bar</code> and <code>tablayout</code> with <code>viewpager</code>"}], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 1, "last_activity_date": 1533530455, "creation_date": 1533530455, "answer_id": 51700655, "question_id": 51700551, "link": "https://stackoverflow.com/questions/51700551/how-to-use-tablayout-with-bottom-navigation-and-viewpager/51700655#51700655", "title": "How to use tablayout with bottom navigation and viewpager?", "body": "<p>Try this to sync your <code>BottomNavigationView</code> and <code>TabLayout</code> with <code>ViewPager</code></p>\n\n<pre><code>    myBottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n            int id = item.getItemId();\n\n            if (id == R.id.action_one) {\n                myViewPager.setCurrentItem(0);\n            }else if (id == R.id.action_two) {\n                myViewPager.setCurrentItem(1);\n            }else if (id == R.id.action_three) {\n                myViewPager.setCurrentItem(2);\n            }else if (id == R.id.action_four) {\n                myViewPager.setCurrentItem(3);\n            }\n            return false;\n        }\n    });\n\n\n    myViewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n            if (position == 0) {\n                myBottomNavigationView.setSelectedItemId(R.id.action_one);\n            }else if (position == 1) {\n                myBottomNavigationView.setSelectedItemId(R.id.action_two);\n            }else if (position == 2) {\n                myBottomNavigationView.setSelectedItemId(R.id.action_three);\n            }else if (position == 3) {\n                myBottomNavigationView.setSelectedItemId(R.id.action_four);\n            }\n        }\n\n        @Override\n        public void onPageSelected(int position) {\n\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n\n        }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 5641961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s1Dvq.jpg?s=128&g=1", "display_name": "Machhindra Neupane", "link": "https://stackoverflow.com/users/5641961/machhindra-neupane"}, "is_accepted": false, "score": 1, "last_activity_date": 1533531714, "creation_date": 1533531714, "answer_id": 51700819, "question_id": 51700551, "link": "https://stackoverflow.com/questions/51700551/how-to-use-tablayout-with-bottom-navigation-and-viewpager/51700819#51700819", "title": "How to use tablayout with bottom navigation and viewpager?", "body": "<p>You need to put view pager on Activity. Make a view pager Adapter. Connect your different fragment in your Adapter. After that you can set your Adapter on your Activity example is given below. O sorry we need to put your tab layout before vewPager. Connect your tab layout on your View Pager Adapter. </p>\n\n<h2>activity_main.xml</h2>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:orientation=\"vertical\"\nandroid:id=\"@+id/assignment_activitly\"\n&gt;\n&lt;android.support.design.widget.TabLayout\n       android:id=\"@+id/tablayout\"\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"wrap_content\"\n       app:tabMode=\"fixed\"\n       android:background=\"@color/colorPrimary\"\n       app:tabTextColor=\"@color/textPrimary\"\n       app:tabSelectedTextColor=\"@color/colorAccent\"\n       app:tabTextAppearance=\"@style/Tab\"\n       /&gt;\n   &lt;android.support.v4.view.ViewPager\n       android:id=\"@+id/viewpager\"\n       android:layout_width=\"match_parent\"\n       android:layout_height=\"match_parent\"\n       android:background=\"@android:color/white\"\n       /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<h1>MainActivity.java</h1>\n\n<pre><code>public class MainActivity extends Activity {\n   ViewPager viewpager;\n   TabLayout tabLayout;\n   public void onCreate(Bundle savedInstanceState) {\n   viewpager = findViewById(R.id.viewpager);\n   tabLayout = findViewById(R.id.tablayout);\n   super.onCreate(saveedInstanceState);\n   .........\n   ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n   viewpager.setViewPager(adapter);\n   tabLayout.setupWithViewPager(viewPager);     \n   }\n}\n</code></pre>\n\n<h1>ViewPagerAdapter</h1>\n\n<pre><code>public class ViewPagerAdapter extends FragmentPagerAdapter {\n private String tabTitles [] = new String[] {\"title first\", \"title Second\"};\n  public ViewPagerAdapter(FragmentManager fm) {\n    super(fm);\n\n}\n\n@Override\npublic Fragment getItem(int position) {\n    if (position == 0) {\n        return new YourFragmentFirst();\n    } else if (....){\n        return new YourFragmentSeconde();\n    }\n    ........  \n}\n\n@Override\npublic int getCount() {\n    return  //return your number of Fragment;\n}\n\n@Override\npublic CharSequence getPageTitle(int position) {\n    return tabTitles[position];\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9759122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ff4a0e741f7d027e3002e753e0d9d?s=128&d=identicon&r=PG&f=1", "display_name": "JerryLi", "link": "https://stackoverflow.com/users/9759122/jerryli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7531, "favorite_count": 0, "accepted_answer_id": 51700655, "answer_count": 2, "score": 4, "last_activity_date": 1533531916, "creation_date": 1533529707, "last_edit_date": 1533531916, "question_id": 51700551, "link": "https://stackoverflow.com/questions/51700551/how-to-use-tablayout-with-bottom-navigation-and-viewpager", "title": "How to use tablayout with bottom navigation and viewpager?", "body": "<p>I created an activity with a <code>bottom navigation bar</code>. \nI want <code>tablayout</code> when I want to switch to another fragment.\nAnd <code>tablayout</code> can control <code>viewpager</code>. Can I put <code>viewpager</code> to the specified fragment?</p>\n\n<p>I wanna like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/qD6ax.jpg\" alt=\"enter image description here\"></p>\n\n<p>This is the current result. I want to put <code>viewpager</code> in the red box.</p>\n\n<p><img src=\"https://i.stack.imgur.com/spmF1.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["kotlin", "maps"], "owner": {"reputation": 31, "user_id": 10184419, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Asj4DBgdpvw/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r9SbkNy5Q4hzopqMjGmwkOpVbLrA/mo/photo.jpg?sz=128", "display_name": "Luis Martinez", "link": "https://stackoverflow.com/users/10184419/luis-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 898, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1560846259, "creation_date": 1533521789, "question_id": 51699799, "link": "https://stackoverflow.com/questions/51699799/google-map-not-visible-in-fragment-kotlin", "title": "Google map not visible in Fragment Kotlin", "body": "<p>i build a Kotlin project with google maps, but the in the map fragment cant load the map, is not visible</p>\n\n<p><a href=\"https://i.stack.imgur.com/wyESI.png\" rel=\"nofollow noreferrer\">Here is a pic with the fragment</a></p>\n\n<p>And this is my code:</p>\n\n<p>My manifest:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.wiboo.luismtz.logisticaapp\"&gt;\r\n\r\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\r\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\r\n    &lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\r\n    &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\"&gt;\r\n        &lt;activity android:name=\".MainActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\"\r\n            &gt;\r\n\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=\".HomeAct\" /&gt;\r\n        &lt;!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file \"res/values/google_maps_api.xml\").\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/. \r\n        --&gt;\r\n        &lt;meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" /&gt;\r\n\r\n        &lt;activity\r\n            android:name=\".OrdenAct\"\r\n            android:label=\"@string/title_activity_orden\"\r\n            android:theme=\"@style/AppTheme.NoActionBar\" /&gt;\r\n        &lt;activity\r\n            android:name=\".SplashActivity\"\r\n            android:configChanges=\"orientation|keyboardHidden|screenSize\"\r\n            android:label=\"@string/app_name\"\r\n            android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\"\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\r\n\r\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My Activity:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.wiboo.luismtz.logisticaapp\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Context\r\nimport android.content.pm.PackageManager\r\nimport android.graphics.Bitmap\r\nimport android.location.Location\r\nimport android.location.LocationListener\r\nimport android.location.LocationManager\r\nimport android.support.v7.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.support.v4.app.ActivityCompat\r\nimport android.widget.Toast\r\nimport com.android.volley.Request\r\nimport com.android.volley.Response\r\nimport com.android.volley.toolbox.JsonArrayRequest\r\nimport com.android.volley.toolbox.Volley\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory\r\nimport com.google.android.gms.maps.GoogleMap\r\nimport com.google.android.gms.maps.OnMapReadyCallback\r\nimport com.google.android.gms.maps.SupportMapFragment\r\nimport com.google.android.gms.maps.model.LatLng\r\nimport com.google.android.gms.maps.model.MarkerOptions\r\nimport kotlinx.android.synthetic.main.activity_orden.*\r\nimport java.util.jar.Manifest\r\n\r\nclass OrdenAct : AppCompatActivity(), OnMapReadyCallback {\r\n\r\n    private lateinit var mMap: GoogleMap\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_orden)\r\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n        val mapFragment = supportFragmentManager\r\n                .findFragmentById(R.id.map) as SupportMapFragment\r\n        mapFragment.getMapAsync(this)\r\n\r\n        ActivityCompat.requestPermissions(this, arrayOf(android.Manifest.permission.ACCESS_FINE_LOCATION, android.Manifest.permission.ACCESS_COARSE_LOCATION), 123)\r\n\r\n        var list = ArrayList&lt;DetalleSurtido&gt;()\r\n        var os = intent.getStringExtra(\"orden_surtido\")\r\n        tvTitulo.text = \"# De orden: \" + os\r\n        var url:String = Configuracion.url + \"obtenerdetallesurtido.php?orden=\" + os\r\n\r\n        var rq = Volley.newRequestQueue(this)\r\n        var jar = JsonArrayRequest(Request.Method.GET, url, null,\r\n                Response.Listener { response -&gt;\r\n                    for(x in 0 until response.length()) {\r\n                        tvFolioCliente.text = response.getJSONObject(x).getString(\"orden_cliente\")\r\n                        tvProducto.text = response.getJSONObject(x).getString(\"producto\")\r\n                        tvCantidad.text = response.getJSONObject(x).getInt(\"cantidad\").toString()\r\n                        tvUnidad.text =  response.getJSONObject(x).getString(\"unidad\")\r\n                        tvDireccion.text = response.getJSONObject(x).getString(\"direccion\")\r\n                        var esurtido = response.getJSONObject(x).getString(\"status\")\r\n\r\n                        if(esurtido == \"1\"){\r\n                            tvStatus.text = \"Estado: Por Surtir\"\r\n                        }else if (esurtido == \"2\"){\r\n                            tvStatus.text = \"Estado: Surtido\"\r\n                        }\r\n                        var l = response.getJSONObject(x).getString(\"latitud\")\r\n                        var ln = response.getJSONObject(x).getString(\"longitud\")\r\n\r\n                        Configuracion.latitud = l.toDouble()\r\n                        Configuracion.longitud = ln.toDouble()\r\n                    }\r\n                },\r\n                Response.ErrorListener {  })\r\n        rq.add(jar)\r\n\r\n\r\n\r\n    }\r\n\r\n    @SuppressLint(\"MissingPermission\")\r\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\r\n        if(requestCode == 123){\r\n            if(grantResults[0] == PackageManager.PERMISSION_GRANTED)\r\n            {\r\n                var manager = getSystemService(Context.LOCATION_SERVICE) as LocationManager\r\n                var listener = object:LocationListener{\r\n                    override fun onLocationChanged(p0: Location) {\r\n                        /*\r\n                        val myloc = LatLng(Configuracion.longitud, Configuracion.latitud)\r\n                        mMap.addMarker(MarkerOptions().position(myloc).title(\"El pedido debe ser surtido aqui\"))\r\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(myloc, 16f))\r\n                        */\r\n                    }\r\n\r\n                    override fun onStatusChanged(p0: String?, p1: Int, p2: Bundle?) {\r\n                    }\r\n\r\n                    override fun onProviderEnabled(p0: String?) {\r\n                    }\r\n\r\n                    override fun onProviderDisabled(p0: String?) {\r\n                    }\r\n                }\r\n                manager.requestLocationUpdates(LocationManager.GPS_PROVIDER,\r\n                        0, 0f, listener)\r\n            }\r\n        }\r\n    }\r\n    override fun onMapReady(googleMap: GoogleMap) {\r\n        mMap = googleMap\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        val sydney = LatLng(21.097153, -101.643837)\r\n        mMap.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLng(sydney))\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And my layout file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=\"@+id/imageView4\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:scaleType=\"centerCrop\"\r\n        app:srcCompat=\"@drawable/fondolistado\"\r\n        tools:layout_editor_absoluteX=\"0dp\"\r\n        tools:layout_editor_absoluteY=\"0dp\" /&gt;\r\n\r\n    &lt;android.support.v7.widget.Toolbar\r\n        android:id=\"@+id/toolbar\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"@color/colorPrimaryDark\"\r\n        android:minHeight=\"?attr/actionBarSize\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        tools:layout_editor_absoluteX=\"0dp\"&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"horizontal\"&gt;\r\n\r\n            &lt;TextView\r\n                android:id=\"@+id/tvTitulo\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:textColor=\"#fff\" /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=\"@+id/tvStatus\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:textColor=\"#fff\" /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/android.support.v7.widget.Toolbar&gt;\r\n\r\n\r\n    &lt;fragment xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n        xmlns:map=\"http://schemas.android.com/apk/res-auto\"\r\n        xmlns:tools=\"http://schemas.android.com/tools\"\r\n        android:id=\"@+id/map\"\r\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"281dp\"\r\n        map:layout_constraintBottom_toBottomOf=\"parent\"\r\n        map:layout_constraintEnd_toEndOf=\"parent\"\r\n        map:layout_constraintStart_toStartOf=\"parent\"\r\n        tools:context=\".OrdenAct\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/textView\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Folio cliente: \"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/toolbar\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tvFolioCliente\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"TextView\"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/textView\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/toolbar\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/textView3\"\r\n        android:layout_width=\"63dp\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Producto:\"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tvProducto\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"TextView\"\r\n        android:textSize=\"14sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/textView3\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvFolioCliente\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/textView5\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Cantidad:\"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView3\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tvCantidad\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"TextView\"\r\n        android:textSize=\"14sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/textView5\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvProducto\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/textView7\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Unidad:\"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView5\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tvUnidad\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"TextView\"\r\n        android:textSize=\"14sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/textView7\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvCantidad\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/textView9\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"Direcci\u00f3n: \"\r\n        android:textColor=\"@color/colorPrimary\"\r\n        android:textSize=\"14sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/textView7\" /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=\"@+id/tvDireccion\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"8dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:text=\"TextView\"\r\n        android:textSize=\"14sp\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/textView9\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/tvUnidad\" /&gt;\r\n\r\n\r\n&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i also include in my google_maps_api.xml the key generated in the developers console and add my SHA-1.</p>\n\n<p>Hope you guys help me.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "bluetooth", "kotlin", "kotlin-lateinit"], "comments": [{"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1542719874, "post_id": 51699668, "comment_id": 93663015, "body": "Are you sure the error is coming from this line? You don&#39;t use <code>mmDevice</code> at any other position in your code?"}, {"owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "reply_to_user": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1542720003, "post_id": 51699668, "comment_id": 93663094, "body": "Agree with @Christopher. Anyway you can change your mmDevice to nullable type and get rid of lateinit: var mmDevice: BluetoothDevice? = null"}], "answers": [{"tags": [], "owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "is_accepted": false, "score": 0, "last_activity_date": 1542720345, "creation_date": 1542720345, "answer_id": 53394021, "question_id": 51699668, "link": "https://stackoverflow.com/questions/51699668/kotlin-how-to-init-bluetoothdevice/53394021#53394021", "title": "Kotlin How to init BluetoothDevice", "body": "<p>I think, that you did not post all your code and point us to a wrong line where error happen. This error can occur only when you trying to access not initialized lateinit property. I can imagine, that your findBT method is not finding any sutable device, so your mmDevice is not initialized.</p>\n\n<p>You should use lateinit only when you 100% sure, that property will be initialized before first use. Searching BT device - not that case. So I suggest you to change that line:</p>\n\n<pre><code>lateinit var mmDevice: BluetoothDevice\n</code></pre>\n\n<p>to that line:</p>\n\n<pre><code>var mmDevice: BluetoothDevice? = null\n</code></pre>\n\n<p>and use null-checks or safe calls on it in your code.</p>\n"}], "owner": {"reputation": 21, "user_id": 9075039, "user_type": "registered", "profile_image": "https://graph.facebook.com/967930130026216/picture?type=large", "display_name": "Firman", "link": "https://stackoverflow.com/users/9075039/firman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1542720345, "creation_date": 1533520283, "question_id": 51699668, "link": "https://stackoverflow.com/questions/51699668/kotlin-how-to-init-bluetoothdevice", "title": "Kotlin How to init BluetoothDevice", "body": "<p>I want to use bluetooth printer in my project, but I got this error</p>\n\n<pre><code>  lateinit property mmDevice has been not initialized\n</code></pre>\n\n<p>This is my code</p>\n\n<pre><code>lateinit var device:String\nlateinit var mBluetoothAdapter: BluetoothAdapter\nlateinit var mmSocket: BluetoothSocket\nlateinit var mmDevice: BluetoothDevice\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_penjualan_cetak)\n\n    device = Function().getShared(\"printer\",\"\",this)\n\n    try {\n        findBT()\n    } catch (e: Exception) {\n\n    }\n}\n\nfun findBT(){\n    try{\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter()\n\n        val paireddevice = mBluetoothAdapter.bondedDevices\n\n        if(paireddevice.size &gt; 0){\n            ePrinter.setText(\"Printer Belum Dipilih\")\n            for (device:BluetoothDevice in paireddevice) {\n                if (device.name == this.device) {\n                    // this is the error come from\n                    mmDevice = device\n                    break\n                }\n            }\n        }\n    }catch (e:Exception){\n        e.printStackTrace()\n    }\n}\n</code></pre>\n\n<p>How can I init the bluetoothdevice in koltin?, I have tried some solution but it not works</p>\n"}, {"tags": ["kotlin", "junit4"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 2, "last_activity_date": 1533506309, "creation_date": 1533506309, "answer_id": 51698554, "question_id": 51698523, "link": "https://stackoverflow.com/questions/51698523/datapoint-field-samples-must-be-public-error-when-using-junit-4-theories-in-ko/51698554#51698554", "title": "&quot;DataPoint field samples must be public&quot; error when using JUnit 4 Theories in Kotlin", "body": "<p>This is probably because Kotlin does not know where the annotation should go in the bytecode. This means the actual code will be something like:</p>\n\n<pre><code>private static List&lt;Integer&gt; samples = ....\n\n@DataPoints\npublic static List&lt;Integer&gt; getSamples() {\n    return this.samples;\n}\n</code></pre>\n\n<p>Replacing <code>@JvmStatic</code> with <code>@JvmField</code> should make it generate the correct code. If you're using IntelliJ you can always use the <code>Inspect Kotlin Bytecode</code> command to check the code that is being generated.</p>\n"}, {"tags": [], "owner": {"reputation": 68461, "user_id": 90527, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/62d3a421bbe13cae0425a563579618ae?s=128&d=identicon&r=PG", "display_name": "outis", "link": "https://stackoverflow.com/users/90527/outis"}, "is_accepted": true, "score": 2, "last_activity_date": 1533506795, "creation_date": 1533506795, "answer_id": 51698604, "question_id": 51698523, "link": "https://stackoverflow.com/questions/51698523/datapoint-field-samples-must-be-public-error-when-using-junit-4-theories-in-ko/51698604#51698604", "title": "&quot;DataPoint field samples must be public&quot; error when using JUnit 4 Theories in Kotlin", "body": "<p>Under the hood, public properties in Kotlin have a private backing field and public accessors. On the Java side (which is where JUnit4 operates), Kotlin properties do not exist as such. Instead, the fields and accessor methods must be used explicitly.</p>\n\n<p>The error arises because the annotation is applied to the (private) field, rather than the (public) accessor.</p>\n\n<p>There are a couple resolutions:</p>\n\n<ol>\n<li><p>Apply the <code>@DataPoints</code> annotation to the property's getter:</p>\n\n<pre><code>@JvmStatic\nval samples = listOf(\n    -8, -1, 0, 1, 2, 4, 8\n) @DataPoints get\n</code></pre>\n\n<p>This will only evaluate the expression once.</p></li>\n<li><p>Declare the data points as a method, rather than a property:</p>\n\n<pre><code>@JvmStatic\n@DataPoints\nfun samples = listOf(\n    -8, -1, 0, 1, 2, 4, 8\n)\n</code></pre>\n\n<p>Since the data point source is a function, each time they're retrieved (which may not be many times; I'm not familiar with the internals of Theories), the expression will be re-evaluated.</p></li>\n</ol>\n"}], "owner": {"reputation": 68461, "user_id": 90527, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/62d3a421bbe13cae0425a563579618ae?s=128&d=identicon&r=PG", "display_name": "outis", "link": "https://stackoverflow.com/users/90527/outis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 51698604, "answer_count": 2, "score": 1, "last_activity_date": 1533506795, "creation_date": 1533506032, "question_id": 51698523, "link": "https://stackoverflow.com/questions/51698523/datapoint-field-samples-must-be-public-error-when-using-junit-4-theories-in-ko", "title": "&quot;DataPoint field samples must be public&quot; error when using JUnit 4 Theories in Kotlin", "body": "<h1>Overview</h1>\n\n<p>Applying <code>@DataPoint</code> or <code>@DataPoints</code> to a property in a Kotlin class results in \"DataPoint field samples must be public\" error.</p>\n\n<h1>Description</h1>\n\n<p>Theories in JUnit4 use <code>@DataPoint</code> and <code>@DataPoints</code> annotations to mark sample data which is collected and passed to individual tests that can take them as arguments. When these annotations are applied to Kotlin properties (which are also necessarily annotated @JvmStatic and declared in companion objects), the test cases fail with the error \"DataPoint field samples must be public\". Kotlin properties are supposed to be public by default. Moreover, explicitly adding a \"public\" modifier has no affect.</p>\n\n<h1>Sample Code</h1>\n\n<pre><code>import org.junit.runner.RunWith\nimport org.junit.experimental.theories.Theories\nimport org.junit.experimental.theories.DataPoints\nimport org.junit.experimental.theories.Theory\nimport org.junit.Assume.*\n\nimport org.hamcrest.MatcherAssert.assertThat\nimport org.hamcrest.Matchers.*\n\n@RunWith(Theories::class)\nclass SampleTheories {\n    companion object {\n        @JvmStatic\n        @DataPoints\n        public val samples = listOf(\n            -8, -1, 0, 1, 2, 4, 8\n        )\n    }\n\n    @Theory\n    fun triangleInequality(a:Int, b:Int) {\n        assumeThat(a, `is`(greaterThan(0)))\n        assumeThat(b, `is`(greaterThan(0)))\n\n        assertThat(a+b, `is`(greaterThan(a)))\n        assertThat(a+b, `is`(greaterThan(b)))\n    }\n}\n</code></pre>\n\n<h1>Gradle dependencies</h1>\n\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.51\"\n    // ...\n    testImplementation 'junit:junit:4.12'\n    testImplementation 'org.hamcrest:hamcrest-library:1.3'\n    // ...\n}\n</code></pre>\n\n<h1>Other system info</h1>\n\n<ul>\n<li>Android Studio 3.1.3</li>\n<li>gradle 4.4</li>\n<li>Android gradle plugin 3.1.3</li>\n</ul>\n"}, {"tags": ["spring", "spring-boot", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 26272, "user_id": 1348743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ak33o.png?s=128&g=1", "display_name": "Javaru", "link": "https://stackoverflow.com/users/1348743/javaru"}, "edited": false, "score": 1, "creation_date": 1533508137, "post_id": 51697594, "comment_id": 90358911, "body": "If it works from the command line, but not from within IntelliJ IDEA, 99% of the time that means the project is incorrectly configured in IntelliJ IDEA. Since it is a gradle project, IDEA can automatically configure itself to the gradle project. Close the project, delete the <code>.idea</code> directory and any <code>.iml</code> files in all the modules. Then recreate the project using the steps shown in the &quot;Working with gradle in IntelliJ IDEA&quot; video in the &quot;Building Projects&quot; section on the IntelliJ IDEA documentation page: <a href=\"https://www.jetbrains.com/idea/documentation/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/documentation</a>"}, {"owner": {"reputation": 5443, "user_id": 1097800, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x0q4w.jpg?s=128&g=1", "display_name": "LynAs", "link": "https://stackoverflow.com/users/1097800/lynas"}, "edited": false, "score": 0, "creation_date": 1533559238, "post_id": 51697594, "comment_id": 90376583, "body": "re import the project using gradle wrapper. dont use your local gradle distro and see if it helps. before importing remove .idea folder and .iml file"}, {"owner": {"reputation": 1788, "user_id": 1424822, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a85022795c07ed94b670f21b4a17bc28?s=128&d=identicon&r=PG", "display_name": "Bri6ko", "link": "https://stackoverflow.com/users/1424822/bri6ko"}, "edited": false, "score": 0, "creation_date": 1533597255, "post_id": 51697594, "comment_id": 90394739, "body": "Same issues from above."}, {"owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1556978035, "post_id": 51697594, "comment_id": 98615614, "body": "@Bri6ko Did you end up solving it? As an FYI, this only happens for me when I am using <code>OpenJDK</code> on an <code>Ubuntu 18.04</code>, on <code>Windows 10</code> this error does not come up."}, {"owner": {"reputation": 1788, "user_id": 1424822, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a85022795c07ed94b670f21b4a17bc28?s=128&d=identicon&r=PG", "display_name": "Bri6ko", "link": "https://stackoverflow.com/users/1424822/bri6ko"}, "reply_to_user": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 2, "creation_date": 1558035065, "post_id": 51697594, "comment_id": 98977458, "body": "@andras I did, by formatting my ubuntu partition :D"}], "answers": [{"tags": [], "owner": {"reputation": 14867, "user_id": 517371, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/0owFn.jpg?s=128&g=1", "display_name": "Tobia", "link": "https://stackoverflow.com/users/517371/tobia"}, "is_accepted": false, "score": 1, "last_activity_date": 1539443475, "creation_date": 1539443475, "answer_id": 52794355, "question_id": 51697594, "link": "https://stackoverflow.com/questions/51697594/intellij-issue-resolving-dependency-for-spring-kotlin/52794355#52794355", "title": "Intellij issue resolving dependency for spring kotlin", "body": "<p>Unset <code>KOTLIN_HOME</code> and other Kotlin- or Java-related settings you may have in your environment (<code>env</code> to check, <code>unset NAME</code> to unset.)</p>\n\n<p>Then kill any Gradle daemon still running (<code>pkill -f GradleDaemon</code>) and test your Gradle build from the terminal. If all goes well, remove the <code>.idea</code> directory; restart IDEA, making sure to run it <em>without</em> the stray environment variables (for example, launch <code>idea.sh</code> from the terminal where you unset them); and re-import your project, with the choice of using the default Gradle wrapper.</p>\n\n<p>If you need to use standalone Kotlin versions, installed for example through SDKMAN, consider taking the SDKMAN activation lines out of your shell init file (<code>.bashrc</code> for Bash) and into a standalone script (say, <code>~/bin/sdkman</code>) that will also change your shell prompt (<code>PS1</code> in Bash) to remind you that you have entered a SDKMAN-managed CLI session.</p>\n"}, {"tags": [], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "is_accepted": false, "score": 7, "last_activity_date": 1577096842, "creation_date": 1577096842, "answer_id": 59453688, "question_id": 51697594, "link": "https://stackoverflow.com/questions/51697594/intellij-issue-resolving-dependency-for-spring-kotlin/59453688#59453688", "title": "Intellij issue resolving dependency for spring kotlin", "body": "<p>This issue comes up if you set up your own module inside IntelliJ and you think that since you are doing a Kotlin (Maven) project, the SDK should be set to Kotlin. Wrong!</p>\n\n<p>The problem is shown in the first image. The project SDK is set to Kotlin.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TowoN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TowoN.png\" alt=\"Kotlin as the project SDK compiler\"></a></p>\n\n<p>Change it to Java. Probably any 8+ Java will be good enough.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aWyJh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aWyJh.png\" alt=\"Java as the project SDK compiler\"></a></p>\n\n<p>This solves the IDE errors and the compiler errors as well.</p>\n"}], "owner": {"reputation": 1788, "user_id": 1424822, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a85022795c07ed94b670f21b4a17bc28?s=128&d=identicon&r=PG", "display_name": "Bri6ko", "link": "https://stackoverflow.com/users/1424822/bri6ko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6268, "favorite_count": 1, "answer_count": 2, "score": 10, "last_activity_date": 1577096842, "creation_date": 1533497422, "last_edit_date": 1549802920, "question_id": 51697594, "link": "https://stackoverflow.com/questions/51697594/intellij-issue-resolving-dependency-for-spring-kotlin", "title": "Intellij issue resolving dependency for spring kotlin", "body": "<p>Intellij is giving me errors all around for brand new kotlin/spring project and I cannot build or run the project from the IDE.</p>\n\n<p>If I do it from the command line however, there are no issues and I can build and run the app.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Udht.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0Udht.png\" alt=\"build.gradle\"></a></p>\n\n<pre><code>'classpath' in 'org.gradle.api.artifacts.dsl.DependencyHandler' cannot be applied to '(groovy.lang.GString)'\n'apply' in 'org.gradle.api.plugins.PluginAware' cannot be applied to '(['plugin':java.lang.String])'\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CjHxS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CjHxS.png\" alt=\"Controller\"></a></p>\n\n<pre><code>Cannot access class 'java.lang.String'. Check your module classpath for missing or conflicting dependencie\n\nType mismatch.\nRequired:\njava.lang.String\nFound:\nkotlin.String\n</code></pre>\n\n<p>Any ideas to what may be the issue?\nI tried <a href=\"https://stackoverflow.com/questions/48066754/kotlin-multiplatform-jvm-type-mismatch-in-intelij\">Kotlin multiplatform JVM type mismatch in InteliJ</a> but doesn't seem to fix the issue.</p>\n\n<p>UPDATE:</p>\n\n<p>Cleared gradle caches, reinstalled Intellij, Import project that was created from start.spring.io with Gradle and Kotlin selected.</p>\n\n<p>Using default gradle wrapper and project jdk (the path says jre)? gives me an error. Open gradle settings just opens the file explorer.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3Cmyb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3Cmyb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Using default gradle wrapper and machine local JDK same issues with the dependencies from above.</p>\n"}, {"tags": ["java", "kotlin", "try-catch"], "comments": [{"owner": {"reputation": 3924, "user_id": 6722100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f1c741df6363ff4fe3e32eee854821c3?s=128&d=identicon&r=PG&f=1", "display_name": "achAmh&#225;in", "link": "https://stackoverflow.com/users/6722100/achamh%c3%a1in"}, "edited": false, "score": 0, "creation_date": 1533497905, "post_id": 51697591, "comment_id": 90356716, "body": "What would happen then if the <code>try</code> failed?"}, {"owner": {"reputation": 65, "user_id": 6457582, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CGGpV7OMVRc/AAAAAAAAAAI/AAAAAAAAm0M/s02O8WTcY3M/photo.jpg?sz=128", "display_name": "Digital Alpha", "link": "https://stackoverflow.com/users/6457582/digital-alpha"}, "reply_to_user": {"reputation": 3924, "user_id": 6722100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f1c741df6363ff4fe3e32eee854821c3?s=128&d=identicon&r=PG&f=1", "display_name": "achAmh&#225;in", "link": "https://stackoverflow.com/users/6722100/achamh%c3%a1in"}, "edited": false, "score": 0, "creation_date": 1533498049, "post_id": 51697591, "comment_id": 90356752, "body": "the same what would happens if there is an empty finally block ... nothing"}, {"owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "edited": false, "score": 5, "creation_date": 1533498553, "post_id": 51697591, "comment_id": 90356883, "body": "&quot;try/catch&quot;, &quot;try/catch/finally&quot; and &quot;try/finally&quot; mean &quot;try to do something, if if that fails do...&quot;, &quot;Try to do something, if that fails do ... and afterwards do ....&quot;, and &quot;try to do something, and afterwards do ....&quot; respectively. Try by itself just means &quot;try to do something&quot; - and isn&#39;t that the point of all code without a try? So, why do you need a try for that?"}, {"owner": {"reputation": 65, "user_id": 6457582, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CGGpV7OMVRc/AAAAAAAAAAI/AAAAAAAAm0M/s02O8WTcY3M/photo.jpg?sz=128", "display_name": "Digital Alpha", "link": "https://stackoverflow.com/users/6457582/digital-alpha"}, "edited": false, "score": 1, "creation_date": 1533501221, "post_id": 51697591, "comment_id": 90357494, "body": "try block alone could have potentially one of the following use:  1. in case of exception resume next block of code silently as if you write :  <code>try{...&#47;&#47;code that throw exception}catch(e:Exception){ &#47;&#47;do nothing}</code>  2. automatically invoke close() to all the object that implement Closeable and created within that try block without need to but them inside parentheses"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1533572171, "post_id": 51697591, "comment_id": 90384887, "body": "Implicit things happening behind your back is not what Kotlin is about."}], "answers": [{"tags": [], "owner": {"reputation": 120590, "user_id": 3788176, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/9c18d321d8948803c05643d87b003dc2?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Turner", "link": "https://stackoverflow.com/users/3788176/andy-turner"}, "is_accepted": false, "score": 5, "last_activity_date": 1533499114, "creation_date": 1533499114, "answer_id": 51697791, "question_id": 51697591, "link": "https://stackoverflow.com/questions/51697591/why-try-block-only-is-not-allowed/51697791#51697791", "title": "Why try block only is not allowed?", "body": "<p>\"try/catch\", \"try/catch/finally\" and \"try/finally\" mean</p>\n\n<ul>\n<li>\"try to do something, if if that fails do...\"</li>\n<li>\"try to do something, if that fails do ... and afterwards do ....\"</li>\n<li>\"try to do something, and afterwards do ....\" respectively.</li>\n</ul>\n\n<p>Try by itself just means \"try to do something\" - and it is implicit in all code that is what you want to try to do; so you don't need any extra cruft like a <code>try</code> to express that.</p>\n\n<p>If you simply want to have the statements in their own block, for example to scope variables to that block, you can always omit the <code>try</code>.</p>\n\n<p>In terms of your question of why an empty <code>finally</code> block is allowed: it is simply that <code>finally</code> should be followed by a block, and it is valid for a block to have no statements. It is sufficiently rare that you should want to have an empty finally block that it is not worth making it a special \"non-empty block\" syntax element.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 6457582, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CGGpV7OMVRc/AAAAAAAAAAI/AAAAAAAAm0M/s02O8WTcY3M/photo.jpg?sz=128", "display_name": "Digital Alpha", "link": "https://stackoverflow.com/users/6457582/digital-alpha"}, "edited": false, "score": 0, "creation_date": 1533503231, "post_id": 51698227, "comment_id": 90357952, "body": "1. Because its an build error not just a warning.  2. It could have been mean something useful. maybe a good answer would be language designer reserve it for something in the future"}, {"owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "reply_to_user": {"reputation": 65, "user_id": 6457582, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CGGpV7OMVRc/AAAAAAAAAAI/AAAAAAAAm0M/s02O8WTcY3M/photo.jpg?sz=128", "display_name": "Digital Alpha", "link": "https://stackoverflow.com/users/6457582/digital-alpha"}, "edited": false, "score": 1, "creation_date": 1533503408, "post_id": 51698227, "comment_id": 90357989, "body": "You&#39;d have to ask the language developers."}], "tags": [], "owner": {"reputation": 80882, "user_id": 18157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d3de78b198076dd5a5006abd17cb0f8?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Garrison", "link": "https://stackoverflow.com/users/18157/jim-garrison"}, "is_accepted": false, "score": 1, "last_activity_date": 1533502833, "creation_date": 1533502833, "answer_id": 51698227, "question_id": 51697591, "link": "https://stackoverflow.com/questions/51697591/why-try-block-only-is-not-allowed/51698227#51698227", "title": "Why try block only is not allowed?", "body": "<p>The simple answer is \"Because that's the way the language was defined\".  </p>\n\n<p>Sure, they could have decided a naked <code>try { ... }</code> had an assumed empty <code>finally</code>, but then that's equivalent to not having the <code>try</code> at all, so why bother?</p>\n"}], "owner": {"reputation": 65, "user_id": 6457582, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CGGpV7OMVRc/AAAAAAAAAAI/AAAAAAAAm0M/s02O8WTcY3M/photo.jpg?sz=128", "display_name": "Digital Alpha", "link": "https://stackoverflow.com/users/6457582/digital-alpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1533502833, "creation_date": 1533497375, "question_id": 51697591, "link": "https://stackoverflow.com/questions/51697591/why-try-block-only-is-not-allowed", "title": "Why try block only is not allowed?", "body": "<p>Why in Kotlin (also in Java except the case of try-with-resources) it is not possiable to write a try{} block only ? for example: </p>\n\n<p>this function is allowed</p>\n\n<pre><code>fun tryFunction(){\n    try{print(\"hello world!\")}finally {}\n}\n</code></pre>\n\n<p>while this one is not allowed</p>\n\n<pre><code>fun tryFunction(){\n    try{print(\"hello world!\")} //build error \"Expecting 'catch' or 'finally'\"\n}\n</code></pre>\n\n<p>in spite of finally{} block at the first example does nothing </p>\n"}, {"tags": ["kotlin", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 594628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132c4e5e2dbd09ab1a9a76911bc56982?s=128&d=identicon&r=PG", "display_name": "Tyler Gannon", "link": "https://stackoverflow.com/users/594628/tyler-gannon"}, "edited": false, "score": 0, "creation_date": 1549957543, "post_id": 52139657, "comment_id": 96081277, "body": "Can you please elaborate?  Any direction on how to go about doing this would be most welcome.  What would be the performance cost of packaging resources as Kotlin code?"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 715, "user_id": 594628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/132c4e5e2dbd09ab1a9a76911bc56982?s=128&d=identicon&r=PG", "display_name": "Tyler Gannon", "link": "https://stackoverflow.com/users/594628/tyler-gannon"}, "edited": false, "score": 0, "creation_date": 1549971719, "post_id": 52139657, "comment_id": 96089658, "body": "I would do something as easy as (in Gradle) ``` task generateCode() {   doLast {     new File(path-to-source).text = generateTextHere()  } }  ``` Next. you add dependencies for the task to make it executed before the compile"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1535910870, "creation_date": 1535910870, "answer_id": 52139657, "question_id": 51697533, "link": "https://stackoverflow.com/questions/51697533/how-to-include-text-blob-file-as-resource-to-be-compiled-together-as-executable/52139657#52139657", "title": "How to include text/blob file as resource to be compiled together as executable in Kotlin/Native?", "body": "<p>You may create a task to generate Kotlin code with byteArray for every resource you have. The <code>immutableByteArrayOf</code> may be helpful. </p>\n"}], "owner": {"reputation": 522, "user_id": 1216678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fHd3U.jpg?s=128&g=1", "display_name": "Joel Handwell", "link": "https://stackoverflow.com/users/1216678/joel-handwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1535910870, "creation_date": 1533496848, "last_edit_date": 1533507970, "question_id": 51697533, "link": "https://stackoverflow.com/questions/51697533/how-to-include-text-blob-file-as-resource-to-be-compiled-together-as-executable", "title": "How to include text/blob file as resource to be compiled together as executable in Kotlin/Native?", "body": "<p>in Kotlin/JVM <code>.txt</code> or any blob files are usually in <code>source/main/resources</code> directory to be compiled into jar executable. To compile <code>.txt</code> files together with .kt files Kotlin/Native so that compiled executable includes those <code>.txt</code>, what kind of</p>\n\n<ol>\n<li>build.gradle configuration  </li>\n<li>Ide setting like Idea or Eclipse</li>\n<li>Kotlin compiler option</li>\n<li>Steps of commands or things todo</li>\n</ol>\n\n<p>Are needed?</p>\n\n<p>And after including those <code>.txt</code> files, how kotlin code can be written to access those text?</p>\n\n<p>For example, in InteliJ Idea project for Kotlin/Native, there is a file <code>src/main/resources/hello.txt</code> and code in <code>main.kt</code> try to access it with:</p>\n\n<pre><code>fun main(arg: Array&lt;String&gt;){\n   val text: String = accessResource(\"hello.txt\")\n   println(text)\n}\n</code></pre>\n\n<p>What's the code of function <code>fun accessResource(path: String): String</code> ?</p>\n"}, {"tags": ["spring-boot", "intellij-idea", "kotlin", "junit5"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 4921402, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-ENOsJJwxIKc/AAAAAAAAAAI/AAAAAAAAB0I/FXvlIn_acKY/photo.jpg?sz=128", "display_name": "ninrod", "link": "https://stackoverflow.com/users/4921402/ninrod"}, "edited": false, "score": 0, "creation_date": 1533559256, "post_id": 51698982, "comment_id": 90376598, "body": "strangelly, I performed all 4 steps and still am getting the error. It is also strange that I can run the test from the IDE, but I get the compilation error anyway. I filled a bug in the intellij issue tracker: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-196785\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-196785</a>"}], "tags": [], "owner": {"reputation": 26272, "user_id": 1348743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ak33o.png?s=128&g=1", "display_name": "Javaru", "link": "https://stackoverflow.com/users/1348743/javaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1533511481, "creation_date": 1533511481, "answer_id": 51698982, "question_id": 51697287, "link": "https://stackoverflow.com/questions/51697287/how-do-i-fix-type-mismatch-extendwithspringextensionclass-kclass-class/51698982#51698982", "title": "how do I fix type mismatch: @ExtendWith(SpringExtension::class) KClass -&gt; Class in intelij?", "body": "<p>What you have is correct. I could not reproduce the error as shown in the screenshot below. And I was able to run your test without issue. So it is a false error. You can verify this by confirming the project builds via Gradle either from within IDEA of from the command prompt.</p>\n\n<p>Try the following:</p>\n\n<ol>\n<li>From the Gradle tool window, click the \"Refresh all Gradle projects\" button\n\n<ul>\n<li>From what I am seeing, and from my experience, I don't think think this will resolve the issue. But it is a quick hit and worth a wuick try.</li>\n</ul></li>\n<li>It's possible the IntelliJ IDEA caches are corrupted. Go to *File > Invalidate Caches / Restart *. In the dialog window, click \"Invalidate and Restart\". After IDEA restarts and the project opens, wait for it to finish reindexing the project (watch the progress at the bottom). Once the reindex is done, see if the issue is resolved.\n\n<ul>\n<li>I suspect this will resolve the issue.</li>\n</ul></li>\n<li>If the above does not work, then it's possible something is not configured correctly. Try recreating the IDEA project. Close the project, delete (or archive) the <code>.idea</code> directory and any <code>*.iml</code> files. Then import the project by selecting the <code>build.gradle</code> file. If you are not familiar with this, watch the \"<a href=\"https://youtu.be/JwPYjnhah3g\" rel=\"nofollow noreferrer\">Working with Gradle in IntelliJ IDEA</a>\"  video on the IntelliJ <a href=\"https://www.jetbrains.com/idea/documentation/\" rel=\"nofollow noreferrer\">IDEA documentation page</a></li>\n<li>Lastly, make sure you are running the latest version of IntelliJ IDEA (v2018.2), that was released two weeks ago. It is what I'm running. You using a lot of the latest and greatest tech (JUnit 5, Kotlin, Spring boot 2.x with Spring 5.x), so an older version of IDEA <em>may</em> have a problems. Finally, even though what you have worked for me, I'd recommend upgrading to the latest version of Kotlin (v1.2.60) in your gradle.properties</li>\n</ol>\n\n<p>I do not get the error and can run the test:\n<a href=\"https://i.stack.imgur.com/PUlW8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PUlW8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 4921402, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-ENOsJJwxIKc/AAAAAAAAAAI/AAAAAAAAB0I/FXvlIn_acKY/photo.jpg?sz=128", "display_name": "ninrod", "link": "https://stackoverflow.com/users/4921402/ninrod"}, "is_accepted": true, "score": 1, "last_activity_date": 1533610900, "creation_date": 1533610900, "answer_id": 51718205, "question_id": 51697287, "link": "https://stackoverflow.com/questions/51697287/how-do-i-fix-type-mismatch-extendwithspringextensionclass-kclass-class/51718205#51718205", "title": "how do I fix type mismatch: @ExtendWith(SpringExtension::class) KClass -&gt; Class in intelij?", "body": "<p>well, I uninstalled absolutely everything regarding java and then I installed everything from zero, removed all configurations, everything. Then it worked.</p>\n"}], "owner": {"reputation": 453, "user_id": 4921402, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-ENOsJJwxIKc/AAAAAAAAAAI/AAAAAAAAB0I/FXvlIn_acKY/photo.jpg?sz=128", "display_name": "ninrod", "link": "https://stackoverflow.com/users/4921402/ninrod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 51718205, "answer_count": 2, "score": 0, "last_activity_date": 1533610900, "creation_date": 1533494651, "last_edit_date": 1533497774, "question_id": 51697287, "link": "https://stackoverflow.com/questions/51697287/how-do-i-fix-type-mismatch-extendwithspringextensionclass-kclass-class", "title": "how do I fix type mismatch: @ExtendWith(SpringExtension::class) KClass -&gt; Class in intelij?", "body": "<p>I'm using intellij community 2018.2 and gradle 4.9 with kotlin 1.2.60</p>\n\n<p>I've just downloaded a springboot2 pack from start.spring.io with kotlin/gradle support + web + h2 + jpa. I am following <a href=\"https://spring.io/blog/2018/05/11/new-tutorial-about-spring-boot-and-kotlin\" rel=\"nofollow noreferrer\">this</a> official tutorial from spring. </p>\n\n<p><code>gradle build</code> and <code>gradle test</code> both work fine in command line.</p>\n\n<p>In intellij though, I get the following error from the IDE:</p>\n\n<pre><code>Error:(9, 13) Kotlin: Type mismatch: inferred type is    KClass&lt;SpringExtension&gt; but Class was expected\n\npackage org.ninrod.blog.blog\n\nimport org.junit.jupiter.api.Test\nimport org.junit.jupiter.api.extension.ExtendWith\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.test.context.junit.jupiter.SpringExtension\n\n@ExtendWith(SpringExtension::class) &lt;-- RIGHT HERE\n@SpringBootTest\nclass BlogApplicationTests {\n    @Test\n    fun contextLoads() {\n    } \n}\n</code></pre>\n\n<p>here is the full source code of the sample: <a href=\"https://github.com/ninrod/kotlin-springboot2\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>How would one fix this in intellij so that the project compiles cleanly as in command line? </p>\n\n<p>ps: here is a screenshot of the problem in intellij:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DOzcs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOzcs.png\" alt=\"screenshot: build error -&gt; type mismatch kclass -&gt; class\"></a></p>\n"}, {"tags": ["spring", "kotlin", "graphql"], "comments": [{"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 1, "creation_date": 1533495476, "post_id": 51697268, "comment_id": 90356087, "body": "Might decompiling the Kotlin bytecode back to Java help to find the solution?"}, {"owner": {"reputation": 1192, "user_id": 664509, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8dba6ba9791388d4c527a6f7b78a2724?s=128&d=identicon&r=PG&f=1", "display_name": "SomethingsGottaGive", "link": "https://stackoverflow.com/users/664509/somethingsgottagive"}, "reply_to_user": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1533501976, "post_id": 51697268, "comment_id": 90357667, "body": "I ended up reverting my host entity back to java:( and that fixed the issue. Just really strange that&#39;s the only class that I am having issues with."}, {"owner": {"reputation": 4966, "user_id": 3802631, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8RMRJ.png?s=128&g=1", "display_name": "Jan B.", "link": "https://stackoverflow.com/users/3802631/jan-b"}, "edited": false, "score": 0, "creation_date": 1533503246, "post_id": 51697268, "comment_id": 90357957, "body": "Weird. So it shouldn&#39;t be a version issue either. Maybe you&#39;ve got the time to debug the sources: <a href=\"https://github.com/graphql-java/graphql-java-tools/blob/master/src/main/kotlin/com/coxautodev/graphql/tools/FieldResolverScanner.kt\" rel=\"nofollow noreferrer\">github.com/graphql-java/graphql-java-tools/blob/master/src/m&zwnj;&#8203;ain/&hellip;</a>"}], "owner": {"reputation": 1192, "user_id": 664509, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/8dba6ba9791388d4c527a6f7b78a2724?s=128&d=identicon&r=PG&f=1", "display_name": "SomethingsGottaGive", "link": "https://stackoverflow.com/users/664509/somethingsgottagive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1533494484, "creation_date": 1533494484, "question_id": 51697268, "link": "https://stackoverflow.com/questions/51697268/method-signature-not-resolving-for-kotlin-in-java", "title": "Method signature not resolving for kotlin in Java", "body": "<p>IN my project I am using <a href=\"https://github.com/graphql-java/graphql-spring-boot\" rel=\"nofollow noreferrer\">graphql-spring-java</a> to implement a graphql endpoint. I have the graphql schema defined and all the entities put together in kotlin. The problem is that one of my method signatures in my kotlin is not resolving correctly while all the other ones do. Here's the error verbatim:</p>\n\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.coxautodev.graphql.tools.SchemaParser]: Factory method 'schemaParser' threw exception; nested exception is com.coxautodev.graphql.tools.FieldResolverError: No method or field found with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\n\n  ninja.familyhomestay.domain.Host.reservations()\n  ninja.familyhomestay.domain.Host.getReservations()\n  ninja.familyhomestay.domain.Host.reservations\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:582)\n    ... 105 common frames omitted\nCaused by: com.coxautodev.graphql.tools.FieldResolverError: No method or field found with any of the following signatures (with or without one of [interface graphql.schema.DataFetchingEnvironment] as the last argument), in priority order:\n\n  ninja.familyhomestay.domain.Host.reservations()\n  ninja.familyhomestay.domain.Host.getReservations()\n  ninja.familyhomestay.domain.Host.reservations\n    at com.coxautodev.graphql.tools.FieldResolverScanner.missingFieldResolver(FieldResolverScanner.kt:51)\n    at com.coxautodev.graphql.tools.FieldResolverScanner.findFieldResolver(FieldResolverScanner.kt:42)\n</code></pre>\n\n<p>and here is the code in question:</p>\n\n<pre><code>@Entity\n@Table(name = \"host\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@Document(indexName = \"host\")\nclass Host(\n...\n@OneToMany(mappedBy = \"host\")\n    var reservations: MutableSet&lt;Reservation&gt; = HashSet()\n) : Serializable\n\n@Entity\n@Table(name = \"reservation\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@Document(indexName = \"reservation\")\ndata class Reservation(\n....\n@ManyToOne\n    @JoinColumn(name = \"host_id\")\n    var host: Host? = null,\n...) : Serializable {\n    companion object {\n        private const val serialVersionUID = 1L\n    }\n}\n</code></pre>\n\n<p>Obviously there's nothing wrong with code so I am thinking that it's an issue with kotlin. What do you think? I am using kotlin version <code>1.2.51</code> and <code>idea 2018.2.eap</code>. </p>\n"}]